{"total":14108,"page":1,"pagesize":100,"questions":[{"tags":["asp.net","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2,"score":0,"question_id":13298698,"title":"Trouble displaying xml data on mvc view","body":"<p>Designing a MVC app for first time.\nI have an XML file locally and want tht data on the view.\nI have a service which loads XML. \nHow do i get the data out and display on the view?</p>\n"},{"tags":["asp.net-mvc","mvc","razor","filter","pagination"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13298605,"title":"Filter and Pagination in MVC 4","body":"<p>Its been a long day for me trying to figure this out and I believe there is always an answer on <strong>stackoverflow</strong>. I have searched for posts that are similar but I guess none has what am desperately looking for. Here's the deal, I have got this <strong>MVC 4</strong> project am working on but I ran into some issues which triggered me to throw it open. Using <strong>IPageList</strong> for pagination on my MVC is quite cool but how can I keep paging the result filtered using the same <strong>ActionResult</strong> container for the index. Here is some code to dine with.</p>\n\n<pre><code>public ActionResult Index(int? page, int category = 0)\n     {\n         int pageSize = 10;\n         int pageNumber = (page ?? 1);\n         if (category != 0)\n         {\n             var products = (from p in db.Products where p.ProductID == category select p).OrderBy(x =&gt; x.ProductName).ToList();\n             return View(products.ToPagedList(pageNumber, pageSize));\n         }\n         else\n         {\n             var products = (from p in db.Products select p).OrderBy(x =&gt; x.ProductName).ToList();\n             return View(products.ToPagedList(pageNumber, pageSize));\n         }\n     }\n</code></pre>\n\n<p>Basically the <strong>int category</strong> is the value gotten from the dropdownlist. It filters perfectly but the issue is when I filter and the results is greater than 10 and I try to go to the next page, it returns to the index initial result. Debugging it, I realized once the next is clicked, the value of <strong>int category</strong> is cleared and it steps into the else block. Here is the paging control maybe there is something that needs to be adjusted...</p>\n\n<pre><code>&lt;div&gt;Page @(Model.PageCount &lt; Model.PageNumber ? 0 : Model.PageNumber)\nof @Model.PageCount\n\n@if (Model.HasPreviousPage)\n{\n    @Html.ActionLink(\"&lt;&lt;\", \"Index\", new { page = 1, sortOrder = ViewBag.CurrentSort, currentFilter=ViewBag.CurrentFilter  })\n    @Html.Raw(\" \");\n    @Html.ActionLink(\"&lt; Prev\", \"Index\", new { page = Model.PageNumber - 1, sortOrder = ViewBag.CurrentSort, currentFilter=ViewBag.CurrentFilter  })\n}\nelse\n{\n    @:&lt;&lt;\n    @Html.Raw(\" \");\n    @:&lt; Prev\n}\n\n@if (Model.HasNextPage)\n{\n    @Html.ActionLink(\"Next &gt;\", \"Index\", new { page = Model.PageNumber + 1, sortOrder = ViewBag.CurrentSort, currentFilter=ViewBag.CurrentFilter  })\n    @Html.Raw(\" \");\n    @Html.ActionLink(\"&gt;&gt;\", \"Index\", new { page = Model.PageCount, sortOrder = ViewBag.CurrentSort, currentFilter=ViewBag.CurrentFilter  })\n}\nelse\n{\n    @:Next &gt;\n    @Html.Raw(\" \")\n    @:&gt;&gt;\n}\n</code></pre>\n\n<p>\nWhat I need is for the filtered results returned on the page to respond to paging. I will await answers. Thanks!</p>\n"},{"tags":["mvc","design-patterns","file-io"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13298050,"title":"Model-View-Controller - Which component traditionally handles file I/O?","body":"<p>In a traditional MVC application, which component (model, view, or controller) is responsible for reading/writing the model to/from disk?</p>\n"},{"tags":["objective-c","xcode","cocoa","mvc","application"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13298342,"title":"View not updating when a message is sent to its view controller","body":"<p>I am having problems updating a view when a message from another class is sent to a ViewController.</p>\n\n<p>Basically I have an application with a single window where different custom views will be swapped out for another. I have an AppController Class that manages this and works fine:</p>\n\n<pre><code>@interface AppController : NSObject\n\n@property (weak) IBOutlet NSView *ourView;\n@property (strong) NSViewController *ourViewController;\n\n- (IBAction)changeView:(id)sender;\n- (IBAction)start:(id)sender;\n- (void)changeViewContoller:(NSInteger)tag;\n\n@end\n</code></pre>\n\n<p>When a new view is swapped out for another, the ourViewController property will be updated to point to that view's controller class. Every view controller class will have a method all named the same thing, for example \"action\". This method is supposed to change something on a view.</p>\n\n<p>So the \"start\" method in AppController class will then call the \"action\" method on the ourViewController property. To do this I used the objc_msgSend() method:</p>\n\n<pre><code>objc_msgSend(self.ourViewController, action);\n</code></pre>\n\n<p>I placed an NSLog() in the \"action\" method for each ViewController, to see if it was working, and it does, however the \"action\" method is also supposed to change a label's string value, but it does not. If anyone knows why the view is not being updated, that would be extremely helpful. Thanks!</p>\n"},{"tags":["mvc","sharepoint"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5,"score":1,"question_id":13298404,"title":"SharePoint 2010 and MVC using same STS fails when SharePoint logged in first","body":"<p>I have a custom STS built using the template from Visual Studio. It works great when I just use it in SharePoint or just in MVC. But if I log into SharePoint first, I get the following message when I log into the MVC site.</p>\n\n<p>ID4230: The SecurityToken was not well formed. Expecting element name 'SecurityContextToken', found 'SP'. </p>\n\n<p>It seems like SharePoint is modifying the Federated cookie and causing it to only work in SharePoint sites.</p>\n\n<p>Has anyone seen this issue before? I would seem that Microsoft has planned to allow SharePoint and other .NET applications to live together.</p>\n\n<p>Thanks all.</p>\n"},{"tags":["java","web-services","spring","mvc","content-type"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":14,"score":2,"question_id":13294936,"title":"Setting content-type of response in Spring 3.1 mvc webservice","body":"<p>I'm trying to set up a spring 3.1 mvc webservice that will return xml. I have a method which returns the xml as a string already called getxmlforparam().\nBelow is a snippet of the code I have so far which always returns the correct content but with the wrong content-type = text/html.</p>\n\n<p>Is there a way of setting the content type other than with the RequestMapping produces and response.addHeader techniques that I have tried below?</p>\n\n<pre><code>@Service\n@RequestMapping(value=\"endpointname\")\npublic class XmlRetriever {\n\n  //set up variables here\n  @RequestMapping(method = RequestMethod.GET, produces = \"application/xml\")\n  @ResponseBody\n  public String getXml(\n    @RequestParam(value = \"param1\") final String param1,\n    /*final HttpServletResponse response*/){\n\n    String result = null;\n    result = getxmlforparam(param1);\n\n    /*response.addHeader(\"Content-Type\", \"application/xml\");*/\n    return result;\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["jquery","asp.net-mvc","json","mvc","twitter-bootstrap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":13016929,"title":"Any Way to Implement Twitter Bootstrap using MVC 4 validation? Instead of using jquery?","body":"<p>As mentioned in the title, any advice would be appreciated. Also, anyway to know how to implement jquery to post data from dropdown list, checked box over to MVC 4 server side and responding back?\nLike, wow to implement System.Web.Mvc.Html and System.Web.Mvc.Ajax libraries with Twitter Bootstrap component?</p>\n\n<p><a href=\"http://twitter.github.com/bootstrap/\" rel=\"nofollow\">http://twitter.github.com/bootstrap/</a>\nThere is no way to show how to implement those information mentioned above.</p>\n"},{"tags":["asp.net-mvc","mvc","scheduling"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":306,"score":1,"question_id":5603335,"title":"How can i make a schedule in asp.net mvc?","body":"<p>I'm looking for a scheduler for asp.net mvc. For example I want to send notification email weekly and also check expired date of the contract. Please suggest me solution in asp.net mvc.\nThanks in advance.</p>\n"},{"tags":["perl","mvc","mojolicious","mojolicious-lite"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13293739,"title":"How to call action in some other controller in Mojolicious?","body":"<p>I have an application that uses the Mojolicious framework. I have a table in the database that has a list of error response and additional details associated with it. I have created corresponding Result and Resultset to work with the DB table. There is also a controller to get details about the Error by interacting with the Resultset. My idea is to Call an action in this controller that would get the details of the error that is passed to it(by another controller) by querying the database, add-in runtime information about the environment that requested for the resource that resulted in the error, create a respnose and return to the controller that called it. </p>\n\n<p>I am struggling with the call from one controller to another. How do I do it in mojolicious? I can pass the controller object(<code>$self</code>) to accomplish this, but is there a better way to do it, so that I separate entirely my error handling response from the calling controller?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":30,"score":1,"question_id":13290689,"title":"Using CodeIgniter Model as an object manager/factory","body":"<p>I'm currently designing a game that utilises CodeIgniter, but I don't think the singleton approach to models is the way I want to handle the game-related objects in the DB.</p>\n\n<p>I want to use a CodeIgniter Model class to handle the basic CRUD operations of the objects, but have the objects as PHP Classes.</p>\n\n<p>Example:</p>\n\n<pre><code> $this-&gt;load-&gt;model('playermodel');\n $player = $this-&gt;playermodel-&gt;get($player_id); // Returns a Player object\n\n // Call modifying operations on the player (equip item, take damage etc.)\n\n $this-&gt;playermodel-&gt;save($player); // Commits updated Player back to DB\n\n $player2 = $this-&gt;playermodel-&gt;create(); // Basically calls new Player()\n</code></pre>\n\n<p>I'm fairly new to CodeIgniter, would something like this be going against any kind of CodeIgniter or MVC design rules? And if so, could anyone recommend me another approach to my problem?</p>\n"},{"tags":["c#","asp.net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3478,"score":0,"question_id":5626797,"title":"ASP.NET MVC 3 partial view not found","body":"<p>I have following problem. In my solution I have 2 controllers: Home and Account. Everything works so far. But when I add [Authorize] above HomeController eg</p>\n\n<pre><code>[Authorize]\npublic class HomeController : Controller\n{\n...\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>System.InvalidOperationException: The partial view 'Repository' was not found or no view engine supports the searched locations. The following locations were searched:\n~/Views/Account/Repository.aspx\n~/Views/Account/Repository.ascx\n~/Views/Shared/Repository.aspx\n~/Views/Shared/Repository.ascx\n~/Views/Account/Repository.cshtml\n~/Views/Account/Repository.vbhtml\n~/Views/Shared/Repository.cshtml\n~/Views/Shared/Repository.vbhtml\n</code></pre>\n\n<p>Partial view Repository is inside HomeController so therefore its View is in ~/Views/Home/Repository.cshtml, but it's seacrhed in Shared or Account folders. As I said, if there is no [Authorize] above HomeController class, everything works as expected.</p>\n\n<p>The code where error occurs is in _Layout.cshtml</p>\n\n<pre><code>@Html.Partial(\"Repository\")\n</code></pre>\n\n<p>Thanks for help.</p>\n"},{"tags":["mvc","web","lift"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13290118,"title":"Differences between MVC and View First approach in web development","body":"<p>Today when I searched on the internet I saw the View first approach in web development of Lift framework. Can somebody tell me the differences between view first and MVC approach ?\nThank you very much</p>\n"},{"tags":["php","ajax","mvc","controller"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":58,"score":1,"question_id":13289967,"title":"Good practice? PHP MVC Controller Ajax","body":"<p>Is this a good practice to handle normal and ajax calls with one controller:</p>\n\n<pre><code>&lt;?php\n\nclass SomeController extends Controller {\n\n    function index() {\n\n         if(!$this-&gt;input-&gt;is_ajax_request()) {\n             // load model\n             // create form\n             // pass data to view\n             // ...\n         } else {\n            // validate input\n            // load model\n            // write data to database\n            // return with some json string\n         }\n\n    }\n\n}\n</code></pre>\n\n<p>What are the advantages and disadvantages?</p>\n"},{"tags":["php","mvc","frameworks"],"answer_count":23,"favorite_count":12,"up_vote_count":26,"down_vote_count":2,"view_count":5690,"score":24,"question_id":257212,"title":"Best PHP framework for an experienced PHP developer?","body":"<p>Okay, before I start this, I am well aware of how subjective this question is.</p>\n\n<p>For my case, I'd like to define the 'best' for me as:</p>\n\n<ul>\n<li>Rapid development</li>\n<li>\"Pretty\" URLs</li>\n<li>Data validation</li>\n<li>Good knowledge base available</li>\n<li>Not impossible to integrate other PHP software with</li>\n</ul>\n\n<p>This is a pretty generic definition, but all I'm looking for here is opinions.</p>\n\n<p>Edited: Here's a better way to ask this question:</p>\n\n<p><strong>You have two weeks to create a full scale booking and scheduling system that accepts Google Checkout payments (via the API) and integrates with an open source message board software.</strong></p>\n\n<p><strong>Which framework do you choose and why?</strong></p>\n\n<p>Edit two years later: Since the question seems to get a lot of views still, I figured I'd update it with my findings since then.\nI went with Zend Framework, and the project went fabulous -- although it was quite the learning process to fully understand and properly utilize ZF. I've since used ZF on literally dozens of projects since this one. I find ZF is a great tool to use when your requirements are a very custom application, but I lean towards CMS's with solid API's when the requirements are more simplistic. </p>\n\n<p>This isn't to downplay other frameworks, I've done some cool stuff with Kohana and have utilized a few components of Symfony. </p>\n\n<p>The chosen answer still stands as most correct. Frameworks are tools and each has their high points and low points. Pick the right one for the job, and the one that is going to be the <strong>most efficient for you</strong>.</p>\n"},{"tags":["javascript","mvc","cakephp","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13288850,"title":"Javascript in CakePHP view causes controller action to be called twice","body":"<p>I have a cakephp controller with action and associated view. The action in the controller saves some data to the database (it creates a new record) when called. I was noticing that for some reason 2 records are created. The only difference between the 2 records is the date_created field which is different by a few seconds so I know that the second (duplicate) record is being created a few seconds after the first. I have been able to narrow the problem down to some javascript that is included in the view inside  tags. I include a .js file at the top of the view using - </p>\n\n<pre><code>echo $this-&gt;Html-&gt;script('https://link.to.externalSite.com/script.js', array(\n  'inline' =&gt; true\n));\n</code></pre>\n\n<p>When I change 'inline' => true to false then the problem disappears, only 1 record is added to the database as I expect. However I need the script set inline => true for my purposes. </p>\n\n<p>The  tag in the view page is triggered when a submit button on a form is clicked as follows -</p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n    var myVar = new .......... ({trigger: 'submitBtn'});\n&lt;/script&gt;\n</code></pre>\n\n<p>I am wondering if this is caused because the script is loaded from an external url? If i include the script in my webroot will I avoid this problem? I have come across questions on stackoverflow about similar issues with JS scripts causing controller actions to be called twice and they talk about issues of deeplinking, however I dont understand what to do about that.</p>\n\n<p>Any advice welcome -thanks!</p>\n"},{"tags":["mvc","blogs"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13284907,"title":"what is simple MVC based PHP blogging application?","body":"<p>I am searching for a Blogging tools like wordpress. But I want MVC based tools to extend my blog with MVC structure.</p>\n\n<p>My main requirements is</p>\n\n<ol>\n<li>Must be based on MVC</li>\n<li>Simple &amp; lightweight</li>\n<li>it's blog url structure should be domain.com/cat_name/post_title , because my current wordpress blog is like that, I don't want to lose Facebook Share and Tweets.</li>\n</ol>\n\n<p>I want a simple one, because this is learning only.</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":32,"score":-1,"question_id":13283198,"title":"PHP loading a view manually","body":"<p>I am deciding to have a little go at MVC without using a defined/commercial framework. I can handle creating models and controllers. The views are basic html in my case. The only thing I can't see a way of creating is when controller loads a view. </p>\n\n<p>In codeigniter for example I would use this: <code>$this-&gt;load-&gt;view('view_name');</code></p>\n\n<p>but if I am creating this feature, how would it be? </p>\n\n<p>p.s. any illustrating code would be greatly appreciated.</p>\n"},{"tags":["mvc","kohana","partial","kohana-3.2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13272560,"title":"kohana kostache partial logic","body":"<p>Started an project using kostache.</p>\n\n<p>I have made some partials like banner,navigatons and footer in my class View_Layout with extends kostache_layout . Partials work fine on each page. </p>\n\n<p>One problem. The navigation show always the same links. My goal is to show links that are appropriate to the user who is logged. How can I put logic in the partial of navigation? I know I can write functions in the View_Layout class but View_Layout must know the user role?</p>\n\n<p>Hope somebody can help me. </p>\n"},{"tags":["java","oop","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13283579,"title":"How do I define or refer properties of model classes that is going to be used in the view","body":"<p>I want to make the situation where the developers have to define the properties of \"model\" classes to be shown in the views.</p>\n\n<p>I've thought of using enumeration as the solution, but I don't think it is possible to define enumeration in a superclass (interface).</p>\n\n<p>I'm sorry if my description is unclear. It's kinda hard to explain. I'll try explaining with a specific case.</p>\n\n<p>Animal.java</p>\n\n<pre><code>public interface Animal {\n    public void eat();\n}\n</code></pre>\n\n<p>Bird.java</p>\n\n<pre><code>public class Bird implements Animal\n{\n    private String name;\n    private int age;\n    private Beak beak;\n    private Wings wings;\n\n    public Bird(String name, int age, Beak beak, Wings wings)\n    {\n        this.name = name;\n        this.age = age;\n        this.beak = beak;\n        this.wings = organ;\n    }\n\n    //getter setter..\n\n    @Override\n    public void eat() {\n        //eating\n    }\n}\n</code></pre>\n\n<p>Snake.java</p>\n\n<pre><code>public class Snake implements Animal\n{\n    private String name;\n    private int age;\n    private Fang fangs;\n\n    public Snake(String name, int age, Fang fangs)\n    {\n        this.name = name;\n        this.age = age;\n        this.fangs = fangs;\n    }\n\n    //getter setter..\n\n    @Override\n    public void eat() {\n        //eating\n    }\n}\n</code></pre>\n\n<p>Zoo.java</p>\n\n<pre><code>public class Zoo \n{\n    private ArrayList&lt;Bird&gt; birds = new ArrayList&lt;Bird&gt;();\n    private ArrayList&lt;Snake&gt; snakes = new ArrayList&lt;Snake&gt;();\n    private ArrayList&lt;Object?&gt; birdsShownFeatures = new ArrayList&lt;Object?&gt;();\n    private ArrayList&lt;Object?&gt; snakesShownFeatures = new ArrayList&lt;Object?&gt;();\n\n    public Zoo()\n    {\n        birds.add(new Bird(\"Vulture\", 2, new CrookedBeak(), new WideWing()));\n        birds.add(new Bird(\"Whatever\", 3, new WhateverBeak(), new WhateverWing()));\n        birds.add(new Bird(\"Wut\", 4, new WutBeak(), new WutWing()));\n\n        snakes.add(new Snake(\"Cobra\", 5, new TwinFang()));\n        snakes.add(new Snake(\"Whatever\", 5, new WhateverFang()));\n        snakes.add(new Snake(\"Wut\", 5, new WutFang()));\n\n        birdsShownFeatures.add(new Object?(\"name\"));\n        birdsShownFeatures.add(new Object?(\"beak\"));\n        birdsShownFeatures.add(new Object?(\"wings\"));\n\n        snakesShownFeatures.add(new Object?(\"name\"));\n        snakesShownFeatures.add(new Object?(\"fangs\"));\n    }\n\n    public void showOff()\n    {\n        for(Bird bird:birds)\n        {\n            for(Object? object:birdsShownFeatures)\n            {\n                System.out.println(\"Bird: \"+bird.unknownFunction(object));\n            }\n        }\n\n        for(Snake snake:snakes)\n        {\n            for(Object? object:snakesShownFeatures)\n            {\n                System.out.println(\"Snake: \"+snake.unknownFunction(object));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have to generalize the attributes of the subclasses of Animal (Object?). And I have to be able to define a function to retrieve that attribute (unknownFunction).</p>\n\n<p>In other words, I want be able to make certain properties of animal's subclasses to be defined easily and are able to be processed accordingly.</p>\n\n<p>Perfect (unreal?) Example:</p>\n\n<pre><code>public class Zoo {\n    private ArrayList&lt;Bird&gt; birds = new ArrayList&lt;Bird&gt;();\n    private ArrayList&lt;Snake&gt; snakes = new ArrayList&lt;Snake&gt;();\n    private ArrayList&lt;Object&gt; birdsShownFeatures = new ArrayList&lt;Object&gt;();\n    private ArrayList&lt;Object&gt; snakesShownFeatures = new ArrayList&lt;Object&gt;();\n\n    public Zoo()\n    {\n        birds.add(new Bird(\"Vulture\", 2, new CrookedBeak(), new WideWing()));\n        birds.add(new Bird(\"Whatever\", 3, new WhateverBeak(), new WhateverWing()));\n        birds.add(new Bird(\"Wut\", 4, new WutBeak(), new WutWing()));\n\n        snakes.add(new Snake(\"Cobra\", 5, new TwinFang()));\n        snakes.add(new Snake(\"Whatever\", 5, new WhateverFang()));\n        snakes.add(new Snake(\"Wut\", 5, new WutFang()));\n\n        birdsShownFeatures.add(Bird.NAME);\n        birdsShownFeatures.add(Bird.BEAK);\n        birdsShownFeatures.add(Bird.WINGS);\n\n        snakesShownFeatures.add(Snake.NAME);\n        snakesShownFeatures.add(Snake.FANGS);\n    }\n\n    public void showOff()\n    {\n        for(Bird bird:birds)\n        {\n            for(Object object:birdsShownFeatures)\n            {\n                System.out.println(\"Bird: \"+bird.get(object));\n            }\n        }\n\n        for(Snake snake:snakes)\n        {\n            for(Object object:snakesShownFeatures)\n            {\n                System.out.println(\"Snake: \"+snake.get(object));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>enums can't work because I can't <strong>FORCE</strong> the developers to make specific enumeration that implements an interface everytime they make a class that implements Animal.</p>\n\n<p>Both snakes and birds <strong>attributes</strong> have to be able to be <strong>generalized</strong>. But still defined. Making every attribute to implement a specific interface isn't a choice because it will be a pain in the a** to make all needed classes (including natives) implement an interface.</p>\n\n<p>Sorry if it's too confusing. I don't know how to explain this case properly.</p>\n"},{"tags":["mvc","frameworks","angularjs","server-side"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13265279,"title":"AngularJS integration with serverside MVC Framework","body":"<p>I have created an app with AngularJS. Now for fallback and some extendible functionality I want to integrate it with some other MVC framewrok like JSF2, Struts2, Spring MVC, ruby on rails etc. Can any one suggest me whether is it possible to do this. Which frameowrk should I go with. Can you please share some tutorial/example. It has to be RESTful; so that I can control the flow...</p>\n"},{"tags":["java","spring","mvc","controller","session-bean"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13276391,"title":"Spring 3 MVC: Expose session scoped bean in MVC Controller method arguments","body":"<p>I want to pass a session-scoped domain bean around my controllers for consistency and simplicity - but this doesn't seem possible OOTB. Hope someone can advise.</p>\n\n<p>Question: <strong>Can a session-scoped bean be exposed as a MVC Controller argument</strong></p>\n\n<hr>\n\n<p>There appears to be an annotation for this: @SessionAttributes(\"myBean\") however this only maintains a Controller-level scope.</p>\n\n<p>I'm looking to avoid having to interact with HttpSession and instead pass around my domain object graph consistently through my controllers. This would seem a fairly standard requirement.</p>\n\n<p>This has benefits:</p>\n\n<ul>\n<li>Testability - just inject bean to test and not have to mock out HttpSession</li>\n<li>Abstraction - avoids Servlet model concerns and just the business problem</li>\n</ul>\n\n<p>Here's the current config:</p>\n\n<pre><code>@Controller\n@SessionAttributes(\"customer\")\npublic class LoginController {\n\n   @Inject Customer customer;\n\n   @RequestMapping(value = \"/login\", method = RequestMethod.GET)\n   public String welcome(Customer customer) {\n         ...\n         return \"loginDetailsView\";\n   }\n\n   public String processLogin(@Valid Customer customer, BindingResult bindingResult) {\n         ...\n         if (bindResult.hasErrors()) {\n             return \"loginDetailsView\";\n         else {\n             return \"homePageView\";\n         }\n   }\n</code></pre>\n\n<p>'Customer' session bean is a regular POJO using XML configured aop-proxy (CGLIB) to allow the session scoped bean to be injected into singletons (controller and service classes):</p>\n\n<pre><code>&lt;beans:bean id=\"customer\" class=\"com.mypackage.domain.Customer\" scope=\"session\"&gt;\n            &lt;aop:scoped-proxy proxy-target-class=\"true\"/&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>The following question is virtually the same but there are no answers that don't involve extension to the Spring 3 core framework. </p>\n\n<p><em>Has this been intentionally omitted by Spring's designers</em>?  My intent is to use the domain model to back the forms without using 'form beans' and a layer of mappers.</p>\n\n<p>Can anyone advise a way / or indicate if this is poor practice? </p>\n\n<p>Prior question with bespoke solution:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3621266/how-to-pass-a-session-attribute-as-method-argument-parameter-with-spring-mvc\">How to pass a session attribute as method argument (parameter) with Spring MVC</a></p>\n\n<p>Please note: attempting to minimise the dependencies on the Spring framework and use Annotation support esp JSR-303 etc. Will adopt any OOTB solution - please don't suggest custom extentions.</p>\n"},{"tags":["mvc","zend-framework","hosting","shared-hosting"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":11750999,"title":"Do hostgator support zend framwork?","body":"<p>Does hostgator support Zend framework in shared hosting? if not then what are other good hosting providers that support zend framework on shared hosting?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","haml"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":20,"score":2,"question_id":13262123,"title":"rails form_tag _path parameters","body":"<p>Although the question at '<a href=\"http://stackoverflow.com/questions/11762542/passing-multiple-parameters-in-a-form-tag\">Passing Multiple Parameters in a form_tag</a>' provides some information regarding how one can pass parameters within a form_tag the poster ultimately decided to pursue a different means of achieving said ends (specifically using hidden form fields).</p>\n\n<p>When attempting to use a line of code in a view like:</p>\n\n<pre><code>form_tag(movies_path({:foo = \"bar\"}), {:id =&gt; \"ratings_form\", :method =&gt; :get}) do\n</code></pre>\n\n<p>it seems as though RoR will not make the value of 'foo' available to the controller; is there another syntax which should be used to pass a parameter as part of the path in such a scenario?</p>\n\n<p>If one wishes to pass the parameter as part of the URL one would think such an approach would be correct (and, in fact, the HTML generated indicates as much since the resultant <code>&lt;form&gt;</code> tag contains an <code>action=\"/movies?foo=bar\"</code> statement)...  but the controller evaluates <code>params[:foo]</code> as <code>''</code> and not <code>bar</code>?)</p>\n"},{"tags":["mvc","cakephp","cakephp-2.2"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13259937,"title":"Best way to filter access to controller actions according to a specific client id","body":"<p>Using CakePHP 2.2, I am building an application in which each client has it's own \"realm\" of data and none of the other data is visible to them. For example, a client has his set of users, courses, contractors and jobs. Groups are shared among clients, but they cannot perform actions on groups. All clients can do with groups is assign them to users. So, an administrator (using ACL) can only manage data from the same client id. </p>\n\n<p>All my objects (except groups, of course) have the client_id key. </p>\n\n<p>Now, I know one way to get this done and actually having it working well, but it seems a bit dirty and I'm wondering if there is a better way. Being early in the project and new to CakePHP, I'm eager to get it right.</p>\n\n<p>This is how I'm doing it now :</p>\n\n<p>1- A user logs in. His client_id is written to session according to the data from the user's table.</p>\n\n<pre><code>$user = $this-&gt;User-&gt;read(null, $this-&gt;Auth-&gt;user('id'));\n$this-&gt;Session-&gt;write('User.client_id', $user['User']['client_id']);\n</code></pre>\n\n<p>2- In AppController, I have a protected function that compares that session id to a given parameter.</p>\n\n<pre><code>protected function clientCheck($client_id) {\n    if ($this-&gt;Session-&gt;read('User.client_id') == $client_id) {\n        return true;\n    } else {\n        $this-&gt;Session-&gt;setFlash(__('Invalid object or view.'));\n        $this-&gt;redirect(array('controller' =&gt; 'user', 'action' =&gt; 'home'));\n    }\n}\n</code></pre>\n\n<p>3- Im my different index actions (each index, each relevant controller), I check the client_id using a paginate condition. </p>\n\n<pre><code>public function index() {\n    $this-&gt;User-&gt;recursive = 0;\n    $this-&gt;paginate = array(\n         'conditions' =&gt; array('User.client_id' =&gt; $this-&gt;Session-&gt;read('User.client_id'))\n    );\n    $this-&gt;set('users', $this-&gt;paginate());\n}\n</code></pre>\n\n<p>4- In other actions, I check the client_id before checking the HTTP request type this way.</p>\n\n<pre><code>$user = $this-&gt;User-&gt;read(null, $id);\n$this-&gt;clientCheck($user['User']['client_id']);\n$this-&gt;set('user', $user);\n</code></pre>\n"},{"tags":["asp.net","asp.net-mvc","mvc","real-time"],"answer_count":6,"favorite_count":6,"up_vote_count":10,"down_vote_count":0,"view_count":1753,"score":10,"question_id":5167821,"title":"Real-time ASP.NET MVC Web Application","body":"<p>I need to add a \"real-time\" element to my web application. Basically, I need to detect \"changes\" which are stored in a SQL Server table, and update various parts of the UI when a change has occured.</p>\n\n<p>I'm currently doing this by polling. I send an ajax request to the server every 3 seconds asking for any new changes - these are then returned and processed. It works, but I don't like it - it means that for each browser I'll be issuing these requests frequently, and the server will always be busy processing them. In short, it doesn't scale well.</p>\n\n<p>Is there any clever alternative that avoids polling overhead?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>In the interests of completeness, I'm updating this to mention the solution we eventually went with - <a href=\"https://github.com/SignalR/SignalR\" rel=\"nofollow\">SignalR</a>. It's OS and comes from Microsoft. It's risen in popularity, and I can heartily recommend this, or indeed WebSync which we also looked at.</p>\n"},{"tags":["mvc","zend-framework","patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13269889,"title":"Calling images from the database on the view is out of MVC?","body":"<p>I've created a model for the base table, the one with the infos.\nThen another model for the images table, and extended it to my generic images model, which is the following:</p>\n\n<pre><code>class Application_Model_GenericImages extends Zend_Db_Table_Abstract {\n   public function getImage($relCol, $id) {\n     $db = $this-&gt;getDefaultAdapter();\n     return $db-&gt;fetchRow(\"SELECT * FROM {$_name} \n                           WHERE {$_name}.{$relCol} = '{$id}'\");\n   }\n\n}\n</code></pre>\n\n<p>The model for the images table is like:</p>\n\n<pre><code>class Application_Model_ImagesTable extends Application_Model_GenericImages {\n   protected $_name = 'images_table';\n}\n</code></pre>\n\n<p>Then on the controller i do the following:</p>\n\n<pre><code>$infoTable = $this-&gt;view-&gt;infoTable = new Application_Model_InfoTable();\n/* I haven't made the info table here because there's no point to... */\n$imagesModel = $this-&gt;view-&gt;imagesModel = new Application_Model_ImagesTable();\n</code></pre>\n\n<p>And finally on the view it's like:</p>\n\n<pre><code>foreach ($infoTable-&gt;fetchAll() as $info) {\n  //Print Some Info\n  $image = $this-&gt;imageModel-&gt;getImage('info_id', $info-&gt;id);\n}\n</code></pre>\n\n<p>Is this wrong? If it is, how bad is this and how's the right way to do it?</p>\n"},{"tags":["mvc","architecture","dao","layer","utility"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13274289,"title":"What is the purpose of utility layer and how is this linked with other layers in a web application architecture?","body":"<p>I am new to j2ee architecture (trying to do some reading on this - please suggest good sources). When we use MVC pattern, the DAO layer consists of classes that contain methods to access the database. Similarly service layer contains classes that make use of methods from DAO classes and have some business logic. I see in some projects that Util classes are used and they contain methods that perform some work for the service layer classes. What is the exact purpose of this Utility layer? Can it contain getters and setters from Spring dependency injection?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","asset-pipeline","view-inheritance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13260900,"title":"With Rails 3 view inheritance, is it possible to call \"super\" within a child view, but send the parent variables?","body":"<p>Every <code>show</code> action in my app has the same template for every model (it is an Admin-portal type interface). I have a view <code>show.html.erb</code> that all of these models inherit. </p>\n\n<p>The controllers all use InheritedResources, so I have access to some helper variables such as <code>resource</code>, which I use to display the attributes for the model being shown through <code>resource.attributes</code> in my parent view.</p>\n\n<p>What I would like to be able to do is whitelist which attributes are being shown in each model. I have thought of two ways to do this... the first is to define some method in a class my model's inherit from, say it is called <code>attr_visible</code> and define each attribute in the model. The reason I don't like this approach is that it puts too much of the view logic in the models. I would rather provide my views with the model, and let the view determine what is displayed.</p>\n\n<p>The second approach is what this question is about. I want to have a file <code>/app/views/users/show.html.erb</code>, and set which attributes for a User I would like to be shown, say something like:</p>\n\n<pre><code>@attributes = [:name, :email, :etc]\n</code></pre>\n\n<p>And then pass them to the parent view which I described in the beginning of this question. That view would then be able to loop through <code>@attributes</code> and display the attributes necessary.</p>\n\n<p>Is it possible to use a \"<code>super</code>\"-type method from views? Everything I have read about view inheritance suggests the view is loaded based on where it is located in the directory structure, and then after that you're out of luck.</p>\n\n<p>edit: I have sort of done what I want. I defined a partial _show.html.erb in the /app/views/users directory that looks like:</p>\n\n<pre><code>&lt;% @attributes = ['name', ...] %&gt;\n</code></pre>\n\n<p>And then in the parent view I call <code>&lt;%= render \"show\" %&gt;</code> before looping through <code>@attributes</code>. This works, but feels clunky since I am not actually rendering anything when I call <code>render</code>. Is there a better way?</p>\n"},{"tags":["mvc","mongodb","mongoose"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13274128,"title":"connecting mongoose to every MVC file in mongoose","body":"<p>Using MVC :</p>\n\n<pre><code>Node App Directory\n   App.js\n   Controllers\n      UserController.js\n      OtherController.js\n   Models\n      UserModel.js\n      OtherModel.js\n</code></pre>\n\n<p>Since i used mongoose and mongodb for my dba, and the schema is considered 'model' in this case is the mongoose schema. Must i connect mongoose to each Controller and Model file each time i want to access them?</p>\n"},{"tags":["javascript","jquery","asp.net-mvc-3","mvc","clientside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13273258,"title":"How to change datasource of dropdown in jquery","body":"<p>I am looking to change to list items available in a dropdownlist via jquery (using razor in MVC3).</p>\n\n<p>I have a DDL that is populated from view data;</p>\n\n<pre><code>@Html.DropDownList(\"allusers\", null, null, new { @class = \"chosenlist\" })\n</code></pre>\n\n<p>There is also another set of viewdata called \"allNewUsers\". I have a button that is clicked that runs a bit of clientside jquery:</p>\n\n<pre><code>   $(function() {\n    $('#remove').click(function () {\n        var id = $(\"#allusers\").val();\n        var hdr = $(\"#Holdersid\").val();\n        $.ajax({\n            url: \"RemoveApprover/\" + id + \"/\" + hdr + \"/3\",\n            data: id,\n            success: function (data) {\n                $('#remove').hide();\n               $..change view data here\n            },\n            error: function (xhr, ajaxOptions, thrownError) {  \n                alert(xhr.responseText);\n            }\n        })\n    })\n    });\n</code></pre>\n\n<p>This code runs a public string back on the server and on success hides the remove button. What I then need to do is change the datasource of the DDL from allusers to allNewusers. can I do this easily in my client side code?</p>\n\n<p>many thanks</p>\n"},{"tags":["java","android","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13271854,"title":"Java SE MVC Pattern in Android style","body":"<p>Is there any tutorial/pattern which implements MVC pattern in Java SE ?</p>\n\n<p>I've found few of them, but I don't find them useful enough, eg.</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/articles/javase/mvc-136693.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/mvc-136693.html</a></li>\n<li><a href=\"http://www.leepoint.net/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow\">http://www.leepoint.net/notes-java/GUI/structure/40mvc.html</a></li>\n<li><a href=\"http://www.roseindia.net/tutorial/java/jdbc/javamvcdesignpattern.html\" rel=\"nofollow\">http://www.roseindia.net/tutorial/java/jdbc/javamvcdesignpattern.html</a></li>\n</ul>\n\n<p>also <a href=\"http://stackoverflow.com/questions/3066590/gui-not-working-after-rewriting-to-mvc/3072979#3072979\">this question</a> is quite useful, but still not fitting my idea, which is quite similar to the way, Android does implement MVC pattern.</p>\n\n<p><strong>I miss the nice way it is done in Android, where layout (view, xml) is defined independently from controller and Model (DB) is implemented on needs of current purpose.</strong></p>\n\n<p>Maybe I'm looking for some kind of framework, which simplifies the MVC pattern implementation in Java SE. </p>\n\n<p>Anybody got an idea?</p>\n"},{"tags":["php","mvc","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":135,"score":1,"question_id":12477833,"title":"YII backend implementation","body":"<p>I have created frontend-backend structre following <a href=\"http://www.yiiframework.com/wiki/33/\" rel=\"nofollow\">http://www.yiiframework.com/wiki/33/</a>\nso my structure is</p>\n\n<pre><code>wwwroot/\n    index.php\n    backend.php\n    assets/\n    images/\n    js/\n    protected/\n        config/\n            main.php\n        components/\n        controllers/\n        models/\n        modules/\n        views/\n        runtime/\n        backend/\n            config/\n                main.php\n            components/\n            controllers/\n            models/\n            modules/\n            views/\n            runtime/\n</code></pre>\n\n<p>and my backend config is </p>\n\n<pre><code>$backend = dirname(dirname(__FILE__));\n$frontend = dirname($backend);\nyii::setPathOfAlias('backend',$backend);\nreturn array(\n    'basePath' =&gt; $frontend,\n    'controllerPath' =&gt; $backend.'/controllers',\n    'viewPath' =&gt; $backend.'/views',\n...\n    'import'=&gt;array(\n    'backend.modules.rights.*',\n    'backend.modules.rights.components.*',\n    'backend.models.*',\n    'backend.components.*',\n    'application.modules.user.models.*',\n    'application.modules.user.components.*',\n),...\n</code></pre>\n\n<p>Now I need to access controllers,models and views at backend from frontend\nlike <strong>backend.php/discussion</strong>\nand discussion is at protected/controllers/DiscussionController\nwhich right now only accesable from <strong>index.php/discussion</strong></p>\n\n<p>One Solution is \nset <strong>'controllerPath'=>$frontend.'/controllers'</strong>\nbut now i loose backend controllers.\nSo is there is way that when i call a controller, first it looks in backend controllers and then look in frontend controllers(in case not found in backend controllers)?</p>\n"},{"tags":["ruby","ruby-on-rails-3","mvc","cells"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13270785,"title":"Accessing devise helpers from cell's controller and views","body":"<p>I'm using <a href=\"https://github.com/apotonick/cells\" rel=\"nofollow\">cells gem</a> and need access devise helpers from cell controller and view, for example current_user.</p>\n\n<p>In controller i'm done with</p>\n\n<pre><code>include Devise::Controllers::Helpers\nDevise::Controllers::Helpers.define_helpers(Devise::Mapping.new(:student, {}))\n</code></pre>\n\n<p>But in view i should create @variable that assign with devise helper from controller, i can't using current_user directly in my cells view. Is there any elegant solution for my problem ?</p>\n"},{"tags":["spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":23,"score":3,"question_id":13268985,"title":"@ExceptionHandler in Spring","body":"<p>In my application I have configured an error page in web.xml. I need to override that for a specific controller based on a condition. Here when a condition becomes true I need to redirect to a specific error page otherwise normal error page should be rendered.\nHere is the code. Please help me.</p>\n\n<pre><code>@Controller\npublic class Test{\n\n @ExceptionHandler(Exception.class)\n public ModelAndView generateException(HttpServletRequest httpServletRequest){\n  if(condition) {\n   return new ModelAndView(\"myError.jsp\");\n  } else {\n   //should execute default error page.\n  }\n }\n}\n</code></pre>\n"},{"tags":["javascript","mvc","frameworks"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":6,"view_count":29,"score":-6,"question_id":13269104,"title":"Which is the best MVC Javascript Framework available on web?","body":"<p>I would like to know which is the best MVC javascript framework available on net.\nWhat is the generic logic applied to achieve MVC functionality using javascript?</p>\n\n<p>Thanks</p>\n"},{"tags":["oop","mvc","design-patterns","functional-programming","immutable"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13155626,"title":"MVC / Observer & Immutable Data Structures","body":"<p>Can You please explain what are analogues of MVC / Observer techniques in two cases:</p>\n\n<ol>\n<li>Immutable Objects (OOP style)</li>\n<li>Immutable Data (functional style)</li>\n</ol>\n\n<p>For example let's consider following simple GUI example (You can try it live here <a href=\"http://tinkerbin.com/0XDHRXIl\" rel=\"nofollow\">http://tinkerbin.com/0XDHRXIl</a> click 'Run' button to start it and wait 2 sec for text to appear)</p>\n\n<p>It's built with JavaScript because it's easy to play and MVC / Observer are very natural to it</p>\n\n<pre><code>// Model containing the data.\nvar Post = Backbone.Model.extend({}) \n\nvar PostView = Backbone.View.extend({\n  initialize: function() {\n    // Registering view rendering method as\n    // an observer on the model.\n    this.model.on('all', this.render.bind(this))\n  },  \n  // Every time state of model changes \n  // this method will be called.\n  render: function() {\n    // Printing value of model.text attriubute. \n    this.$el.html(this.model.get('text'))\n    return this\n  }\n})\n\n// Now, any time the model is updated the view will be also \n// automatically updated.\npost.set({text: \"hello, it's me\"})\n</code></pre>\n\n<p>But I don't quite understand how to do the same with Immutable OOP and Functional styles, what ways are there?</p>\n"},{"tags":["ruby-on-rails","mvc","omniauth","errors"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13266599,"title":"Omniauth uninitialized constant Rack::OpenID","body":"<p>I want to add google authentication to my rails app. I followed this <a href=\"http://blog.sethladd.com/2010/09/ruby-rails-openid-and-google.html\" rel=\"nofollow\">tutorial</a>, but it writes this: </p>\n\n<blockquote>\n  <p>uninitialized constant Rack::OpenID</p>\n  \n  <p>app/controllers/sessions_controller.rb:5:in `new'</p>\n</blockquote>\n\n<p>my session_controller:</p>\n\n<pre><code>class SessionsController &lt; ApplicationController\n      skip_before_filter :verify_authenticity_token\n\n      def new\n        response.headers['WWW-Authenticate'] = Rack::OpenID.build_header(\n            :identifier =&gt; \"https://www.google.com/accounts/o8/id\",\n            :required =&gt; [\"http://axschema.org/contact/email\",\n                          \"http://axschema.org/namePerson/first\",\n                          \"http://axschema.org/namePerson/last\"],\n            :return_to =&gt; session_url,\n            :method =&gt; 'POST')\n        head 401\n      end\n\n      def create\n        if openid = request.env[Rack::OpenID::RESPONSE]\n          case openid.status\n          when :success\n            ax = OpenID::AX::FetchResponse.from_success_response(openid)\n            user = User.where(:identifier_url =&gt; openid.display_identifier).first\n            user ||= User.create!(:identifier_url =&gt; openid.display_identifier,\n                                  :email =&gt; ax.get_single('http://axschema.org/contact/email'),\n                                  :first_name =&gt; ax.get_single('http://axschema.org/namePerson/first'),\n                                  :last_name =&gt; ax.get_single('http://axschema.org/namePerson/last'))\n            session[:user_id] = user.id\n            if user.first_name.blank?\n              redirect_to(user_additional_info_path(user))\n            else\n              redirect_to(session[:redirect_to] || root_path)\n            end\n          when :failure\n            render :action =&gt; 'problem'\n          end\n        else\n          redirect_to new_session_path\n        end\n      end\n\n      def destroy\n        session[:user_id] = nil\n        redirect_to root_path\n      end\n    end\n</code></pre>\n"},{"tags":["spring","mvc","apache-camel"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13265703,"title":"Camel producerTemplate is not injected in spring MVC","body":"<p>I'm using Spring MVC and Camel in my project, but encountering an issue that the producerTemplate is not able to be Autowired. Please check details below, </p>\n\n<p>File web.xml:</p>\n\n<pre><code>&lt;context-param&gt;\n &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n   &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>File ispatcher-servlet.xml  </p>\n\n<pre><code>&lt;import resource=\"camel-config.xml\"/&gt;\n</code></pre>\n\n<p>File camel-config.xml, define camelContext</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.myproject.camel.routes\"/&gt;\n&lt;camelContext xmlns=\"http://camel.apache.org/schema/spring\" id=\"myproject.camel\"&gt;\n     &lt;contextScan/&gt;\n &lt;template id=\"producerTemplate\"/&gt;\n&lt;/camelContext&gt;\n</code></pre>\n\n<p>And here is my JAVA class:</p>\n\n<pre><code>package com.myproject.connector.camel;\npublic class CamelConnectorImp{\n    @Autowired\n    private ProducerTemplate producerTemplate; //This is null after starting\n    producerTemplate.requestBodyAndHeaders(serviceEndpoint,request, headers);\n...\n}\n</code></pre>\n\n<p>Can someone point out what I'm doing wrong please?</p>\n"},{"tags":["php","mvc","cakephp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13258397,"title":"List posts by category in CakePHP","body":"<p>I'm new to CakePHP. Please help me to write a function to retrieve posts under a particular category for my blog app built using CakePHP.</p>\n\n<p>My table structure:</p>\n\n<p>posts: id, post, body, created, category_id\ncategory: id, group</p>\n\n<p>Also I had defined:\nInside post model - <code>var $belongsTo = 'Category';</code>\nInside category model - <code>var $hasMany = 'Post';</code></p>\n"},{"tags":["javascript","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13265800,"title":"Redirect to controller using JavaScript and MVC","body":"<p>Im trying to redirect to a Controller from JavaScript using this line of code</p>\n\n<pre><code> location.href = '/Dashboard/';\n</code></pre>\n\n<p>It redirects to the Dashboard but on my dashboard view this method is called when the document loads </p>\n\n<pre><code> $.post(\"Dashboard/UsersGet\", {}, function (dataSet) {\n    //do something with the dataset\n }); \n</code></pre>\n\n<p>I then get this error.</p>\n\n<pre><code>POST http://localhost:1414/Dashboard/Dashboard/UsersGet 404 (Not Found) \n</code></pre>\n\n<p>I can see that dashboard is added to the url twice. How can I redirect to a Controller without this happening?</p>\n"},{"tags":["php","mvc","frameworks","kohana","web-frameworks"],"answer_count":8,"favorite_count":7,"up_vote_count":7,"down_vote_count":1,"view_count":1212,"score":6,"question_id":6386800,"title":"Learning Kohana","body":"<p>I'm a reasonable intelligent guy and have been involved in a lot of stuff, like html, php, java, c#, c, c++, assembly, and so on and so forth. All in all I think that there's very little I don't have basic understanding of, though of course I'm by no mean an expert in all the subjects, it's simply to illustrate that I'm not as green as I may very well sound.</p>\n\n<p>Now, the thing is that I've been instructed to learn about the Kohana framework, in order to help with some web development at work. Well, that's all well and good, especially as I'm kinda tired of spending my time correcting other peoples HTML/CSS mess. To do some proper coding for a change would indeed be nice.</p>\n\n<p>So I set out to learn, what I thought would be easy as pie, and not only did I think so, I was told so. Imagine my disappointment when after making an effort, I still didn't have the most basic understanding of the subject.</p>\n\n<p>The documentation is unsatisfying to say the least, and I have yet to find a proper explanation of the subject as a whole.</p>\n\n<p>In short, I understand close to nothing, and the harder the effort I make, the more confused I get. I honestly don't know where to begin and end.</p>\n\n<p>I can't really tell you what I need to get going, as my understanding isn't even significant enough to know what I need to learn. I suppose a tutorial explaining, step by step, how to make something useful, would be in order, but I've been unable to find anything in the many hours I've spend searching.</p>\n\n<p>This is my last way out, and the only possibly solution I could come up with. To ask you how you initially leaned to use Kohana.</p>\n\n<p>I do apologize for the lag of an actual question, but I do hope that you'll do your best to help anyway.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":4,"favorite_count":25,"up_vote_count":39,"down_vote_count":0,"view_count":24577,"score":39,"question_id":804399,"title":"CodeIgniter: Create new helper?","body":"<p>I need to loop lot of arrays in different ways and display it in a page. The arrays are generated by a module class. I know that its better not to include functions on 'views' and I want to know where to insert the functions file.</p>\n\n<p>I know I can 'extend' the helpers, but I don't want to extend a helper. I want to kind of create a helper with my loop functions.. Lets call it loops_helper.php</p>\n\n<p>Can I do it?? How?? \nThanks!!</p>\n"},{"tags":["mvc","elmah"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1034,"score":3,"question_id":10059563,"title":"ELMAH and API controller in MVC4 not logging errors","body":"<p>Using an API controller in MVC4, when the controller action throws an exception, ELMAH does not log the error.</p>\n\n<p>I think the problem is that MVC4 sets the HTTP status code to 500, and it returns the exception details in a JSON object, but it does not throw an unhandled exception so ELMAH never sees it.</p>\n\n<p>How can I get ELMAH to capture all responses where the status code is not 200?</p>\n"},{"tags":["asp.net-mvc","mvc","razor","partial-views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13263358,"title":"MVC: Can Partial View has effect of iframe?","body":"<p>I am wondering in MVC(ie 3) + Razor, could we make partial view have the same effect as iframe? For example right side scroll bar, fixed height, etc.</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":894,"score":2,"question_id":9884179,"title":"Backbone.js: urlRoot with http query string?","body":"<p>In <code>Backbone.js</code> I can appoint where the model fetches it's data:</p>\n\n<pre><code>var Book = Backbone.Model.extend({urlRoot : '/books'});\nvar mybook = new Book({id: \"1\"});\nmybook.fetch();  //it will access '/books/1'\n</code></pre>\n\n<p>But if I want to append a query string after the URL? e.g. the book data is at <code>/books/1&amp;details=true</code>. Can I specify this in model?</p>\n"},{"tags":["mvc","extjs4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13190434,"title":"How to create MVC files in extjs","body":"<p>I want to implement gridview given in link <a href=\"http://docs.sencha.com/ext-js/4-1/#!/example/writer/writer.html....but\" rel=\"nofollow\">http://docs.sencha.com/ext-js/4-1/#!/example/writer/writer.html....but</a> i want to break this single writer.js file into separate model,view,controller and store file in order to implement exact gridview in MVC architecture format.i.e. i want to create four different files formodel,view,controller and store  for implementing same example. So can you please tell me how will be these four separate files.How to divide this single writer.js files code into model,view,controller and store files.\nI am very new to extjs. Please help me.....</p>\n"},{"tags":["mvc","layout","mobile","views","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1091,"score":3,"question_id":10736675,"title":"The following sections have been defined but have not been rendered for the layout page \"~/Views/Shared/_Layout.cshtml\"","body":"<p>I know there are a few questions that have been answered but I didn't find something specific to my case.</p>\n\n<p>I'm using the mobile capabilities of MVC4. So I created a _layout.mobile.cshtml and the corresponding views.</p>\n\n<p>The error above happens when I go in with a mobile device. As you can see, it is trying to display the regular _layout.cshtml instead of the _layout.mobile.cshtml. So I'm assuming it is also trying to display the view (say Index.mobile.cshtm) which doesn't have the section in question. Basically it is mixing the regular layout with the mobile views.</p>\n\n<p>This doesn't happen all the time. If I recycle the pool it works again for a while and then all of the sudden it goes back to having the error and it will continue until I recycle the pool again.</p>\n\n<p>Has anyone seen this problem before that can shed some light?</p>\n\n<p>Thanks \nJohn</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13256865,"title":"How to manage multiple Subscriptions using one controller action?","body":"<p>I have following subscription creating system, right now when I`m selection available subscription groups(Marketing, Sales) action <code>Save Subscription</code> create this two subscriptions:</p>\n\n<pre><code>@apps = App.all\nif request.post?\n  if params[:subscription] and params[:subscription][:app_id]                       \n    params[:subscription][:app_id].each do |app_id|                \n      Subscription.create_unique({user_id: current_user.id, app_id: app_id, approved: true})\n    end\n    redirect_to root_path\n  end\nend\n@subscriptions = current_user.subscriptions \n</code></pre>\n\n<p>So I can only add new <code>Subscriptions</code>(in this particular example i can only add <code>Engineering</code>)</p>\n\n<p><img src=\"http://i.stack.imgur.com/5VoyD.png\" alt=\"Subscriptions\"></p>\n\n<p>How to refactor that action to be able also destroy subscription groups by uncheck them(ex. I want to unsubscribe from Marketing group) ?</p>\n\n<p>So when I choose <strong>Marketing</strong> and <strong>Enginnering</strong> then <code>params[:subscription][:app_id]</code> will be equal <code>[marketing.id, engineering.id]</code></p>\n\n<pre><code>  # app_menu.html.erb\n  &lt;%= form_for :subscription do |f| %&gt; # this form goes to app_menu action above\n    &lt;ul&gt;\n        &lt;% @apps.each do |app| %&gt;\n        &lt;li&gt;\n            &lt;%= check_box_tag app.id, current_user.access?(app) %&gt;&lt;span&gt;&lt;%= app.name %&gt;&lt;/span&gt;\n        &lt;/li&gt;\n        &lt;% end %&gt;\n    &lt;/ul&gt;\n    &lt;%= f.submit %&gt;\n    &lt;% end %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>Relations:</p>\n\n<pre><code>App\n  has_many :subscriptions\n  has_many :users, through: :subscriptions\nUser\n  belongs_to :app\n  has_many :subscriptions, :dependent =&gt; :destroy\nSubscription\n  belongs_to :user\n  belongs_to :app\n\n  def self.create_unique(p)\n    s = Subscription.find :first, :conditions =&gt; ['user_id = ? AND app_id = ?', p[:user_id], p[:app_id]]\n    Subscription.create(p) if !s\n  end\n</code></pre>\n\n<p>Schema</p>\n\n<pre><code># == Schema Information\n#\n# Table name: subscriptions\n#\n#  admin      :boolean\n#  app_id     :integer\n#  created_at :datetime\n#  id         :integer          not null, primary key\n#  updated_at :datetime\n#  user_id    :integer\n#\n# Table name: apps\n#\n#  created_at :datetime\n#  id         :integer          not null, primary key\n#  name       :string(255)\n#  updated_at :datetime\n#  user_id    :integer\n#\n# Table name: users\n#\n#  app_id     :integer\n#  created_at :datetime\n#  id         :integer          not null, primary key\n#  updated_at :datetime\n</code></pre>\n\n<p>So the issue is how to find which apps has been unchecked? </p>\n\n<p>Then remove subscription for them and remove Feeds using <code>Feed.app_destroy_items(app)</code></p>\n"},{"tags":["c#","javascript","ajax","mvc","web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13259774,"title":"How can I debug a 500 Internal Server Error when calling a WebApi from ajax?","body":"<p>I am receiving a 500 Internal Server Error in a MVC 4.5 WebApi project.  I can successfully call my webservice with a GET and a GET with an Id.  But, when I POST a file I am getting the error.  I can set a breakpoint in <code>Application_BeginRequest()</code> and confirm that I am receiving first an OPTIONS request and then the POST.  The method in the controller is not getting called and I have added an <code>Application_Error()</code> method to Global.asax.cs that does not get hit either.  The html page is doing a CORS but I have already handled that using <a href=\"http://nuget.org/packages/Thinktecture.IdentityModel\" rel=\"nofollow\">ThinkTecture.IdentityModel</a>.  I am following the code <a href=\"http://stackoverflow.com/questions/5392344/sending-multipart-formdata-with-jquery-ajax\">here</a> for the file upload.</p>\n\n<p>Any ideas?</p>\n\n<p>Here is the client code:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        var UploadDocument = function () {\n            var url = sessionStorage.getItem(\"url\");\n            var auth = sessionStorage.getItem(\"auth\");\n            var data = new FormData();\n\n            jQuery.each($('#fileToUpload')[0].files, function (i, file) {\n                data.append('file-' + i, file);\n            });\n\n            jQuery.support.cors = true;\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                data: data,\n                cache: false,\n                processData: false,\n                contentType: false,\n                //dataType: \"json\",\n                headers: { Authorization: 'Basic ' + auth },\n                crossDomain: true,\n                success: function (data, textStatus, jqXHR) {\n                    alert('Success');\n                },\n                error: function (jqXHR, textStatus, errorThrown) { alert('Error: ' + textStatus + ' ' + errorThrown.message); }\n            });\n        };\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>My controller code looks like this:</p>\n\n<pre><code>    public int Post(HttpPostedFileBase FileToUpload)\n    {\n        // Do stuff with the file\n    }\n</code></pre>\n\n<p>The request and response look like this:</p>\n\n<pre><code>Request URL:http://localhost:51234/api/TaxDocument\nRequest Method:POST\nStatus Code:500 Internal Server Error\n\nRequest Headers\nAccept:*/*\nAccept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nAuthorization:Basic YmNhbGxlbjpuZWxsYWM=\nConnection:keep-alive\nContent-Length:2054044\nContent-Type:multipart/form-data; boundary=----WebKitFormBoundaryIGzPKhvRVwFXbupu\nHost:localhost:51234\nOrigin:http://localhost:52386\nReferer:http://localhost:52386/Upload.html\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4\n\nResponse Headers:\nAccess-Control-Allow-Credentials:true\nAccess-Control-Allow-Origin:http://localhost:52386\nCache-Control:no-cache\nContent-Length:1133\nContent-Type:application/json; charset=utf-8\nDate:Tue, 06 Nov 2012 21:10:23 GMT\nExpires:-1\nPragma:no-cache\nServer:Microsoft-IIS/8.0\nX-AspNet-Version:4.0.30319\nX-Powered-By:ASP.NET\nX-SourceFiles:=?UTF-8?B?QzpccHJvamVjdHNcU2F2ZU15VzJcU2F2ZU15VzIuV2Vic2VydmljZVxhcGlcVGF4RG9jdW1lbnQ=?=\n</code></pre>\n"},{"tags":["mvc","grails","web-applications"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13259483,"title":"Grails status page using mvc","body":"<p>I'm new to grails and want to create a page that displays down/up status for certain URLs using green/red boxes.</p>\n\n<p>Historical data will not be necessary, only current status is needed.</p>\n\n<p>Here's an example of what I want the page to look like:</p>\n\n<p><em>Couldn't post the image: \"Oops! Your question couldn't be submitted because: We're sorry, but as a spam prevention mechanism, new users aren't allowed to post images. Earn more than 10 reputation to post images.\"</em></p>\n\n<p>I'll try to draw an example using text:</p>\n\n<pre><code>Grp1 [Red] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn]\n\nGrp2 [Grn] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn] [Grn]\n\nGrp3 [Red] [Red] [Red] [Red] [Red] [Red] [Red] [Red]\n</code></pre>\n\n<p>I'd like to use the MVC pattern or something similar so that the URLs are always visited the same amount of times no matter how many browsers are hitting the page.</p>\n\n<p>I'm sure this is a pretty simple thing to do, but I could use some guidance for getting started as I am new to creating grails projects.</p>\n\n<p>Any advice/sample code is much appreciated.</p>\n\n<p>I've tried google searching for some code samples or similar projects and haven't dug up anything yet.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","html-helper","application-start"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13258944,"title":"Access HtmlHelper right after it is created, and before the view","body":"<p>I know that i from Application_Start can ActionFilterAttribute add a custom global filter and manipulate the ModelState and what not.</p>\n\n<p>Is there a similar way, to access the @Html (HtmlHelper) Before it get's send to the view?</p>\n\n<p>The reason for this is that i want to edit (or remove and recreate) the UnobtrosiveValidationAttributes. And if i try to do that in the View like this: <code>@Html.GetUnobtrusiveValidationAttributes(\"PhoneNumber\").Clear();</code> Nothing happens, but i'm thinking it might would work if i got to it earlier?</p>\n\n<p>(If you are wondering why: i need to translate the ErrorMessages inside)</p>\n"},{"tags":["java","mvc","design"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13258733,"title":"MVC Confused about where to put logic.","body":"<p>So I am currently modelling a MVC type system, total noob to this pattern and I'm trying to figure out a couple of things but one thing particular I can't figure out how to handle.</p>\n\n<p>In my system I create e.g a Customer Class &amp; DAO with CRUD functionality which I understand (to an extent  ) etc...</p>\n\n<p>I have a table in my database that log's data, this table is never accessed by the user only the extent that they can view calculations/results from the data in this table. </p>\n\n<p>How do I represent this in my design, I have no need for CRUD functionality only just to return results from SQL (e.g Select average/total/ etc).</p>\n\n<p>I obviously need to access the data but I'm not sure if I need a class that models the table or just somewhere to put the logic. </p>\n\n<p>Any help or pointers would be much appreciated</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13258330,"title":"Could need some help on MVC (PHP)","body":"<p>I want to improve my code by using MVC, atm I'm only working on small projects but I want to learn the basics BEFORE I really need them. Maybe I'll use a framework in the future but for now I want to UNDERSTAND the concept and be able to use/create a small framework by myself.</p>\n\n<p>So there are many tutorials on that topic but there are only pretty small examples. It's like one table, one task. Ye its obviously that you will need one controller/model/view for those examples but whats about a real site/application?</p>\n\n<p>I just made a small site which querys some data from a database. The data will be displayed via tables. There are two columns, and below the tables there are PHP generated charts. So how will I split this site? The Chart is using the same data as the table, so is it just another view? But its on the same site, would I use two views and put them in one template? Or should the graphic be generated in the view, cuz at the end its display logic?</p>\n\n<p>What about controllers? Take one for everything cuz its pretty much the same stuff on both sites or one per site? Whats about the columns? Take one controller per site or even per column? And when it comes to the model, use one for every column/table or do everything in just one?</p>\n\n<p>I'm pretty confused how to split everything up. Oh and finally another problem, there should only be five rows displayed on the left column of the first page, who would make the math? It would be like query something with rownum 1-5, 6-10 etc. but the controller would only get the pageNumber via $_GET. Would those math be made within the controller, who would only ask the model for 1-5 or would the model get the pageNumber and the math would be made within the model? (I'm not going to query all data and decide those display logic in the view, cuz im gonna work on pretty big tables with a lot of rows and the graphics/tables might get refreshed via ajax, so I would only query data being displayed).</p>\n\n<p>As you can see I'm quite confused but I really want to improve my code atm its just some HTML/PHP mixed files.</p>\n\n<p>Picture of my small project: <a href=\"http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png\" rel=\"nofollow\">http://fc09.deviantart.net/fs71/f/2012/286/b/5/warehouse_monitoring_by_alpenbog-d5hngja.png</a></p>\n"},{"tags":["php","mvc","cakephp","smarty","best-fit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":71,"score":0,"question_id":13256013,"title":"CakePHP vs. Smarty","body":"<p>This is less of a help me question, and more asking people thoughts and suggestions, and whats consider more of a forward thinking solution.</p>\n\n<p>First off I created a site that used NO template library and really had very little abstraction between presentation and code behind (there was some), So I decided there had to be a better way (and I wanted master pages similar to asp.net ), and I started slowly (still in progress) converting pages to use Smarty, but now I've done some research into CakePHP and interested in using MVC and the application tools it offers, I am familiar with MVC through some work I've done in ASP.net.</p>\n\n<p>My questions is do I completely abandon Smarty in favor of Cakes CTP files, which does not completely separate presentation from logic, or do I go through he hassle of trying to use Smarty templates with Cake, or I'm just asking for trouble. Or do I avoid the Cake route altogether? (which is tempting, converting my existing project to CakePHP seems daunting, (as it feels almost like it would be a re-write), but I feel the benefits would out weight the cons?).</p>\n\n<p>thoughts?</p>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT:</strong> the site I've built is a community theatre management system, its sorta like a cms system, but less blog-ish (at the moment no blog), and more who, what, when, where focused, here is the link to the site, its mostly db driven. <a href=\"http://marshallareastagecompany.org/\" rel=\"nofollow\">http://marshallareastagecompany.org/</a></p>\n"},{"tags":["ios","performance","mvc","key-value-observing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13256093,"title":"Design assistance for MVC and KVO","body":"<p>I have data that is persisted on the device that needs to sync with my my server, in terms of design am I on the right track?</p>\n\n<p>I have a model with a method to return my local objects, let's call it <code>[model objects]';</code> </p>\n\n<p>Within this method it returns the local objects immediately but I'd also like to check if the server needs to update any of these objects so in the background thread I run a method that uses an <code>async NSUrlConnection</code> that will return the JSON of each object that needs to be updated in which I will save that to core data. In the Table View Controller I would set a KVO to observe when the values changed for the <code>updatedObjects</code> then reload the objects displayed in the <code>objectTableView</code>.</p>\n\n<p><strong>Question: Is this the correct way to handle this? Am I missing something? Can I improve this somehow?</strong></p>\n\n<p>I am also thinking of disabling the UITableViewCells of the objects that are being updated and showing a <code>UIActivityIndicator</code> during the downloading and saving stages but I'm not sure if this will cause any race conditions in the UX.</p>\n\n<p>Hopefully this was explained well enough for you to understand, if you have any questions I will try to reply immediately.</p>\n"},{"tags":[".net","mvc","routing","webforms"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1505,"score":1,"question_id":1470997,"title":"Html.ActionLink construct wrong link when a non-mvc route is added","body":"<p>I have an application here with a mix of webform and mvc. I specify the routing as below</p>\n\n<pre><code>        routes.Add(\"AspxRoute\", new Route(\"Upload/New\", new WebFormRouteHandler&lt;Page&gt;(\"~/Uploads.aspx\")));\n\n        routes.MapRoute(\n            \"Default\",                                              // Route name\n            \"{controller}/{action}/{id}\",                           // URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = \"\" }  // Parameter defaults\n        );\n</code></pre>\n\n<p>So that virtual path to \"Upload/New\" actually maps to an aspx webform page.</p>\n\n<p>But my problem is that Html.ActionLink(\"Test\", \"Controller\", \"Action\") now renders </p>\n\n<blockquote>\n  <p>/Upload/New?Controller=Controller&amp;Action=Action</p>\n</blockquote>\n\n<p>Having looked at the MVC source code, I understand that it is because ActionLink calls to <em>RouteCollection.GetVirtualPath(requestContext, routeName, mergedRouteValues)</em>, where routeName is left to null. And somehow this defaults to use the AspxRoute route to construct the url. I tried to added another route before \"AspxRoute\", but it seems it always defaults to the non-mvc routehandler one.</p>\n\n<p>How does <em>RouteCollection.GetVirtualPath</em> behave when routeName is null? And why is it behaving this way for my case?</p>\n\n<p>How do I construct a correct url? Do I need to write a new Htmlhelper extension?</p>\n\n<p>Cheers</p>\n"},{"tags":["c#","asp.net-mvc","mvc","razor","orchardcms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13237264,"title":"Orchard CMS Blog View / Layout","body":"<p>I'm new to Orchard CMS &amp; MVC so please take this into account. Any help -the more the better- will be greatly received.</p>\n\n<p>I want to add widgets to my blog summary page. What is the best way to achieve this? Ive tried creating a layer for the blog summary page defined by the rules for the layer, so as to be unique to this page. However, this only allows me to add widgets into the layer zones.</p>\n\n<p>What i need/want to do is to effectively create a side bar with a tag cloud and a blogroll showing titles of other posts, and a couple of other bits of content. This would mean moving the blog summary content into another zone inorder that i can fit widgets down the side.</p>\n\n<p>Is this the correct approach? If so how do i shift the summary stuff into another zone??\nIf this isnt the best approach, what is???</p>\n\n<p>Is this where projections come in???</p>\n\n<p>Thanks</p>\n"},{"tags":["c#",".net","mvc","partial-views"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":501,"score":0,"question_id":4432856,"title":"Passing correct model to partial view","body":"<p>I have been looking at this error for quite some time, and can't seem to figure out what I might have done wrong.</p>\n\n<p>I have a partial view which is added like this:</p>\n\n<pre><code>        &lt;% Html.RenderPartial(\"~/Views/ForumPosts/ForumPostCreateForm.ascx\", ViewData.Model); %&gt;\n</code></pre>\n\n<p>And the top of the partial view looks like this:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" AutoEventWireup=\"true\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;xxxx.Web.Controllers.ForumThreadsController.ForumThreadFormViewModel&gt;\" %&gt;\n</code></pre>\n\n<p>The error I receive is the following:</p>\n\n<p><em>The model item passed into the dictionary is of type 'xxx.Core.ForumThread', but this dictionary requires a model item of type 'xxx.Web.Controllers.ForumThreadsController+ForumThreadFormViewModel'.</em></p>\n\n<p>If am not mistaken both takes the model called ForumThread, but apparently I must have missed something.</p>\n"},{"tags":["spring","mvc","maven","project","cloudfoundry"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12453505,"title":"Spring Template Project Now Working with Cloud Foundry Server","body":"<p>Hope someone could help me solve my problem. I'm currently trying to create a spring mvc project using STS tool.\nSo I created one using the Spring Template Project provided by STS. I tried to run it using tomcat server and it's doing fine. But when I tried using the VMare Cloud Foundry Server, it is not working anymore. I'm having this kind of error: </p>\n\n<pre><code>org.apache.jasper.JasperException: java.lang.NullPointerException\norg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:538)\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:370)\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\norg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\norg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:262)\norg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1157)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:927)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:827)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:617)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n</code></pre>\n\n<p>I would appreciate any help!</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","internationalization","interceptor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13033502,"title":"LocaleChangeInterceptor - what is the expected behaviour?","body":"<p>I just took the first step into area of internationalization, where i will be preparing a Spring MVC application for multi-language use. I googled and read a few examples (like this one: <a href=\"http://viralpatel.net/blogs/spring-3-mvc-internationalization-i18n-localization-tutorial-example/\" rel=\"nofollow\">http://viralpatel.net/blogs/spring-3-mvc-internationalization-i18n-localization-tutorial-example/</a>) and it seems pretty straightforward. I used the exact same setup from this example and the code from the  fix referenced in it. I have seen this same setup in a number of posts on different forums.</p>\n\n<p>The one thing i don't fully understand is this: I have a controller method with a mapping that looks like this:</p>\n\n<p>@RequestMapping(value = \"/placeDetails.htm\", method = RequestMethod.GET)\npublic String showPlaceDetails(Model model, @RequestParam(value = \"placeId\", required = true) int placeId, Locale locale) {</p>\n\n<p>It would catch a request like this one:\nwww.me.com/placeDetails.htm?placeId=123. </p>\n\n<p>The href that i add to the \"change language\" menu item says href=\"?lang=en\". As far as i can see, i end up with the URL www.me.com/placeDetails.htm?lang=en (i see this when i hover over the menu item). The method's request mapping above will not recognize this and i get an error message from Tomcat saying \"The request sent by the client was syntactically incorrect ().\". My controller knows of no call to www.me.com/placeDetails.htm with a parameter called lang.</p>\n\n<p>It was (and still is) my assumption that i should not have to add another method with a request mapping that includes the lang parameter. I assumed the LocaleChangeInterceptor would intercept this call and handle it.</p>\n\n<p>So my question is: am i making the right assumption and if i am not, how is the interceptor supposed to work when the controller method has other parameters. If i am making the right assumption - any ideas why this is not working.</p>\n"},{"tags":["objective-c","ios","mvc","game"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13251044,"title":"MVC design brickbreaker game","body":"<p>I need A little help with how the structure of my game should look like. I'm trying to do a brickbreaker game, with different settings and levels etc.\nAnd I'm trying to figure out, what files should I have?\nWell the easy one is Ball.h, it will have properties such as position and velocity.\nThen I need a controller, is a ViewController same as a just a controller?\nShould I have just a GameViewController or a GameController and a GameViewController?\nWich files would you have created? </p>\n"},{"tags":["javascript","mvc","angularjs","angular"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13247738,"title":"Is AngularJS really MVC?","body":"<p>I'm looking through examples on <a href=\"http://angularjs.org/\" rel=\"nofollow\">the AngularJS home page</a> — specifically “Add Some Control”. I don’t quite understand how it maps to MVC pattern.</p>\n\n<p>It’s more or less clear that the template (index.html) can be thought of as the view, objects constructed by TodoCtrl from todo.js as the controller, but where is a model? Attributes like <code>ng-model</code> map to some internal pieces of the framework and don’t directly expose an object which we could call a model.</p>\n\n<p>Is it correct to call AngularJS an MVC framework?</p>\n"},{"tags":["python","mvc","pyqt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13247089,"title":"QAbstractTableModel and QComboBox together","body":"<p>I have a subclass of a <code>QAbstractTableModel</code> and I want to use <code>QComboBox</code> to display a dropbox for this table.</p>\n\n<p>But by default it shows just the first column of my table, which is not what I want. I've tried <code>setModelColumn</code> to shows the column 1 instead of 0 but it did not work.</p>\n\n<p>After having a look around in the internet, I've found 2 solutions:</p>\n\n<ol>\n<li>Create another <code>QAbstractListModel</code> from the same data in the <code>QAbstractTableModel</code></li>\n<li>Use a <code>QSortFilterProxyModel</code> to hide other columns</li>\n</ol>\n\n<p>Which is the best?\nThanks</p>\n"},{"tags":["asp.net-mvc-3","mvc","reference","runtime-error",".net-assembly"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13243270,"title":"MVC 3 assembly conflict How to","body":"<p>Every time I download some open source or paid MVC3 app I get some assembly conflicts, ie: missing assemblies, wrong versions etc. So I figure I should ask a more general question:</p>\n\n<p>In a typical project you have a folder called References and all assemblies seem to be in that folder, with their version numbers and Copy To Local options etc.</p>\n\n<p>However out of the 10-20 references in that folder I often find just a few in the web.config.</p>\n\n<p>I the latest case of this annoying mixup I have in web.config:</p>\n\n<pre><code>&lt;compilation debug=\"false\" targetFramework=\"4.0\"&gt;\n  &lt;assemblies&gt;\n    &lt;add assembly=\"System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;add assembly=\"System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n  &lt;/assemblies&gt;\n&lt;/compilation&gt;\n</code></pre>\n\n<p>I get an error that project trying to load System.Web.Helpers, Version=1.0.0.0 - it's not found. </p>\n\n<p>In the References folder the System.Web.Helpers referenced is version 2.0.0 and it's not possible to change this version number as it's greyed out. Changing to Specific Version doesn't change anything.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>Why are there the 4 references in Web.config? Why not just the references folder? </p>\n\n<p>Why do i often find <em>a partial number of assembly tags</em> in web.config instead of none or alternatively  all the references seen under the References project folder?</p>\n\n<p>Thanks,</p>\n"},{"tags":["mvc","web-applications"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":309,"score":0,"question_id":668980,"title":"Recommended data structure/format for web MVC applications?","body":"<p>What's a good data structure for use in MVC web applications to use to pass data into view to ensure standardization and keep the view as non-coder friendly as possible?</p>\n"},{"tags":["php","html","mvc","design-patterns","joomla"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":13243220,"title":"Why does Joomla separate MVC View into two parts","body":"<p>I have been using joomla more than for a year now and familiar with the MVC pattern as well. But I'm unclear how Joomla uses MVC when showing a view. In the components deveopers use below two method.</p>\n\n<p><strong><em>1st method</em></strong></p>\n\n<pre><code>class myView extends JView\n{\n     function display($tpl = null)\n     {                  \n       //HTML &amp; PHP goes here\n     }  \n\n}\n</code></pre>\n\n<p><em><strong>2nd method</em></strong></p>\n\n<pre><code>class myView extends JView\n{\n        function display($tpl = null)\n            {                   \n            parent::display($tpl);\n            }   \n\n}\n</code></pre>\n\n<p>In the 2nd method they create a <code>tmpl</code> folder and place a <code>default.php</code> inside of it. All the HTML and PHP code then goes inside that file.</p>\n\n<p>Now problem is why they use 2nd method when we can right away use 1st method? What's the industry standard? What are the pros and cons of above methods? What should be used and why and depending on what? Thanks</p>\n"},{"tags":["php","mvc","magento","design-patterns","joomla"],"answer_count":5,"favorite_count":5,"up_vote_count":8,"down_vote_count":0,"view_count":106,"score":8,"question_id":13242279,"title":"Why split the View in MVC into a view class and a template","body":"<p>I'm relatively new to design pasterns but I feel that I've got a good understanding of the MVC pattern and the advantages that this separation of code brings.</p>\n\n<p>However, both times I've seen the MVC pattern in action (Magento and Joomla!), there is further specialization, with the view consisting of a view class (Magento block) and a PHP template file. I would appreciate it if someone could explain the benefit of this split.</p>\n\n<p>I'm also at a loss as to how to split my code between the view class and the template file. Sometimes I find myself writing what seems to be a redundant view class (in Joomla!) which simply accesses the model and then just makes the data available for the template. What code should appear in the template and what code should appear in the view class?</p>\n"},{"tags":["mvc","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13220001,"title":"Static external streaming data source MVC","body":"<p>I am new to MVC and from what I understood so far, each web request is independent, and in the controller you usually create a new Model object and load it from some data source.\nThat's great when you work against a DB and load the model object you need.</p>\n\n<p>But what if my data source is a live real-time streaming data, and when the user click on a button I need to give him the last data I got from the stream ?</p>\n\n<h3>The simplest example I can think of is stock data:</h3>\n\n<blockquote>\n  <p>Assume that I have a data source object that connects to the exchange and subscribes to a live feed of stock prices, and, when the client click on a button \"Get last quote\", I need to return the latest price I got (<em>note:</em> I do NOT need to stream data to the client, only return a snapshot when he clicks, or every 5 seconds etc).</p>\n</blockquote>\n\n<p>So what I'm looking to do is, when the application starts create my static data source object, have it connected to the exchange and start listening to the feed, on each price change it stores it on some local variable, and in my Controller all I need to do is to call to my static data source and ask for the last tick (and it will return the value of the local variable).</p>\n\n<p>Hope my question is clear. I know, it might be simple, but I just don't know, what is the correct pattern for this in MVC. Any ideas?</p>\n"},{"tags":["objective-c","ios","mvc","core-location"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13241852,"title":"Formatting data using MVC design","body":"<p>I have a TableViewController and model class <code>TripInfo</code>. When the cell accessory view is tapped, I'd like to return the address of the current location to the cell's textfield. I'm having trouble figuring out how to do this cleanly abiding by the MVC pattern. </p>\n\n<p>Here's what I have so far:</p>\n\n<p>1.TableViewController implementation: accessory view is tapped, <code>locationManager</code> starts updating\n2.TableViewController implementation:<code>locationManager</code> didUpdateLocation method is called and sets the current to the model object property <code>self.tripInfo.location</code></p>\n\n<p>Now I need to convert this location into a physical address. I was going to put this code in a model class method that returns an address as a string, for example:</p>\n\n<pre><code>- (NSString *)createAddressStringFromLocation: (CLLocation *)location\n{\n\n    __block NSString *locationAddress = @\"\";\n\n    CLGeocoder *gecoder = [[CLGeocoder alloc] init];\n    [gecoder reverseGeocodeLocation:location completionHandler:^(NSArray *placemarks, NSError *error) {\n        CLPlacemark *placemark = [placemarks lastObject];\n\n        locationAddress = [NSString stringWithFormat:@\"%@\", ABCreateStringWithAddressDictionary(placemark.addressDictionary, NO)];\n    }];\n\n    return locationAddress;\n}\n</code></pre>\n\n<p>Then in cellForRow:</p>\n\n<pre><code>cell.textField.text = [NSString stringWithFormat:@\"%@\", [self.tripInfo createAddressStringFromLocation:self.tripInfo.fromLocation]];\n</code></pre>\n\n<p>Is this bad design to have cellForRow basically wait for this method to complete in my model class?</p>\n"},{"tags":["ruby-on-rails","mvc","design-patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13238539,"title":"How can I conditionally, or contextually, load an interface of methods into a model from a Rails /lib?","body":"<p>We have a set of reports that run out of <code>/lib</code>.  These have grown so voluminous that we now have written many methods that would count as helpers or other 'decorator-style' methods relating specifically to Reporting.  </p>\n\n<p>These additional methods live in the report, and look like:</p>\n\n<pre><code>class report\n  def get_latest_credential_updated_date\n    credentials.map(&amp;:updated_at).compact.max\n  end\n\n  def initialize \n    # set up stuff\n  end\nend\n</code></pre>\n\n<ol>\n<li><p>Is there a way to load a module, or otherwise inject code to a Model when the reporting lib loads:</p>\n\n<pre><code>class Loan &lt; ActiveRecord::Base\n  def get_latest_credential_updated_date\n    credentials.map(&amp;:updated_at).compact.max\n  end\nend\n</code></pre></li>\n<li><p>Is there a better pattern to represent this architecture?</p></li>\n</ol>\n"},{"tags":["mvc","castle-windsor"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2368,"score":3,"question_id":1285605,"title":"SportsStore: MVC programming issue [Castle WindsorControllerFactory]","body":"<p>So I've been following Steven Sanderson's book called Pro ASP.NET MVC Framework, and I'm running into an exception:</p>\n\n<pre><code>No parameterless constructor defined for this object.\nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.\n\nException Details: System.MissingMethodException: No parameterless constructor defined for this object.\n\nSource Error:\n\nLine 16:             HttpContext.Current.RewritePath(Request.ApplicationPath, false);\nLine 17:             IHttpHandler httpHandler = new MvcHttpHandler();\nLine 18:             httpHandler.ProcessRequest(HttpContext.Current);\nLine 19:             HttpContext.Current.RewritePath(originalPath, false);\nLine 20:         }\n\n\nSource File: C:\\Users\\Stephen\\Documents\\Visual Studio 2008\\Projects\\SportsStore\\WebUI\\Default.aspx.cs    Line: 18\n</code></pre>\n\n<p>Here's my WindsorControllerFactory code:</p>\n\n<pre><code>public class WindsorControllerFactory : DefaultControllerFactory\n{\n    WindsorContainer container;\n\n    // The constructor\n    // 1. Sets up a new IoC container\n    // 2. Registers all components specified in web.config\n    // 3. Registers all controller types as components\n    public WindsorControllerFactory()\n    { \n        // Instantiate a container, taking configuration from web.config\n        container = new WindsorContainer(\n                        new XmlInterpreter(new ConfigResource(\"castle\"))\n                    );\n\n        // Also register all the controller types as transient\n        var controllerTypes = from t in Assembly.GetExecutingAssembly().GetTypes()\n                              where typeof(IController).IsAssignableFrom(t)\n                              select t;\n\n        foreach (Type t in controllerTypes)\n            container.AddComponentWithLifestyle(t.FullName, t, Castle.Core.LifestyleType.Transient);\n    }\n\n    // Constructs the controller instance needed to service each request\n    protected override IController GetControllerInstance(Type controllerType)\n    {\n        return (IController)container.Resolve(controllerType);\n    }\n}\n</code></pre>\n\n<p>My Global.asax.cs code:</p>\n\n<pre><code>protected void Application_Start()\n    {\n        RegisterRoutes(RouteTable.Routes);\n        ControllerBuilder.Current.SetControllerFactory(new WindsorControllerFactory());\n    }\n</code></pre>\n\n<p>And the web.config values:</p>\n\n<pre><code>&lt;configSections&gt;\n    &lt;section name=\"castle\"\n             type=\"Castle.Windsor.Configuration.AppDomain.CastleSectionHandler,\n                   Castle.Windsor\"/&gt;\n&lt;/configSections&gt;\n&lt;castle&gt;\n    &lt;properties&gt;\n      &lt;myConnStr&gt;Server=.\\SQLEXPRESS;Database=SportsStore;Trusted_Connection=yes;&lt;/myConnStr&gt;\n    &lt;/properties&gt;\n    &lt;components&gt;\n      &lt;component id=\"ProdsRepository\"\n                 service=\"DomainModel.Abstract.IProductsRepository, DomainModel\"\n                 type=\"DomainModel.Concrete.SqlProductsRepository, DomainModel\"&gt;\n        &lt;parameters&gt;\n          &lt;connectionString&gt;#{myConnStr}&lt;/connectionString&gt;\n        &lt;/parameters&gt;\n      &lt;/component&gt;\n    &lt;/components&gt;\n&lt;/castle&gt;\n</code></pre>\n\n<p>Thanks all!\n-Steve</p>\n"},{"tags":["javascript","mvc","backbone.js","backbone-views"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13239450,"title":"Backbone.js - views within views and re-renders","body":"<p>I have a collection of items and I am building a simple interface that lists the items on the left, then shows the detail of the currently selected item on the right.</p>\n\n<p>I am trying to render a ItemView for each item within a ItemsListView. I need to bind to the model's change event so that the ItemView is updated along with the ItemDetailView.</p>\n\n<p>In my implementation below, when updating the model that is showing in the ItemDetailView, setting a new property on the model updates the ItemDetailView but not it's representation in the ItemView. I know that I am doing something silly. How can I re-implement this so that both are re-rendered?</p>\n\n<p>P.S. I am trying to avoid re-rendering the List view every time. I'd like to re-render each ItemView in the list separately.</p>\n\n<pre><code>var Item = Backbone.Model.extend({\n\n});\n\nvar Items = Backbone.Collection.extend({\n\n  model: Item\n\n});\n\nvar ItemView  = Backbone.View.extend({\n\n  template: window.JST['item/list'],\n\n  initialize: function() {\n    _.bindAll(this, 'render');\n    this.model.bind('change', this.render);\n  },\n\n  render: function() {\n    $(this.el).html(this.template(this.model.toJSON()));\n    return this;\n  }\n\n});\n\nvar ItemDetailView = Backbone.View.extend({\n\n  el: $('.detail .grid'),\n\n  template: window.JST['item/detail'],\n\n  initialize: function() {\n    _.bindAll(this, 'render');\n    this.model.bind('change', this.render);\n    this.render();\n  },\n\n  render: function() {\n    $(this.el).html('').fadeOut('fast', function() {\n      $(this.el).html(this.template(this.model.toJSON())).fadeIn();\n    }.bind(this));\n    return this;\n  }\n\n});\n\n// for the Items collection\nvar ItemsView = Backbone.View.extend({\n\n  el: $('.items ol.grid'),\n\n  initialize: function() {\n    _.bindAll(this, 'render');\n  },\n\n  render: function() {\n\n    // need to put this as the first item in the list\n    $(this.el).html('&lt;li class=\"listHeader\"&gt;&lt;/li&gt;');\n\n    // iterate over the collection and render each ItemView separately\n    this.collection.each(function(l) {\n      var lv = new ListView({ model: l, collection: this.collection });\n      var html = lv.template(lv.model.toJSON());\n      $(this.el).append(html);\n    }.bind(this));\n  }\n\n});\n</code></pre>\n"},{"tags":["c++","mvc","qt","qtreeview","qtreewidget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":245,"score":0,"question_id":9668983,"title":"QTreeView vs setIndexWidget","body":"<p>I am using QStandardItemModel with QStandardItem's.</p>\n\n<p>I don't want to write my own model and any delegates.</p>\n\n<p>I just want to have tree of checkboxes with QComboBox'es in second column...</p>\n\n<pre><code>m_model-&gt;setColumnCount(2);\nfor (int i = 0; i &lt; sectionCount; i++)\n{\n    QStandardItem * section = new QStandardItem(tr(\"Section %1\").arg(i+1));\n    section-&gt;setCheckable(true);\n    section-&gt;setCheckState(Qt::Checked);\n\n    for (int j = 0; j &lt; itemsCount; j++)\n    {\n        QStandardItem * item = new QStandardItem(tr(\"Item %1\").arg(j+1));\n        item-&gt;setCheckable(true);\n        item-&gt;setCheckState(Qt::Checked);\n\n        QStandardItem * item2 = new QStandardItem(\"xxx\");\n\n        section-&gt;appendRow(QList&lt;QStandardItem*&gt;() &lt;&lt; item &lt;&lt; item2);\n\n        QComboBox * combo = new QComboBox();\n        QModelIndex index = m_model-&gt;index(j, 1, );\n\n        // HERE i have index = {-1;-1}\n\n        ui-&gt;treeView_options-&gt;setIndexWidget(index, combo);\n    }\n    m_model-&gt;appendRow(section);\n}\n</code></pre>\n\n<p>Is it possible to use setIndexWidget this way?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have no QComboBox in second column... Why?</p>\n"},{"tags":["ruby-on-rails","mvc","rspec"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3086,"score":2,"question_id":326277,"title":"Rails: calling a model class in a library","body":"<p>I'm trying to verify that a parameter is an instance of a specific class in Rails:</p>\n\n<pre><code>def schedule(action, *args)\n  if arg.is_a? Aircraft\n    ...\n  end\nend\n</code></pre>\n\n<p>I'm doing this in a library class (the file is in <em>lib/</em>) and I get an <strong>uninitialized constant Aircraft</strong> error. Aircraft is a model class, with a corresponding <em>aircraft.rb</em> file in <em>app/models</em>.</p>\n\n<p>Can I use model classes and instances in a library? How?</p>\n\n<p><hr /></p>\n\n<p><strong>Error context:</strong></p>\n\n<p>The error happens in RSpec tests; the code works in the browser. I tried requiring the model in the *<em>spec.rb</em> file, no success at the moment.</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13236182,"title":"Backbone Collection mysterious model property","body":"<p>I'm trying to write a simple application to understand Backbone.js basics.\nI'm using Jerome Gravel-Niquet's <a href=\"https://github.com/jeromegn/Backbone.localStorage\" rel=\"nofollow\">localStorage</a>.</p>\n\n<p>Here is the code:</p>\n\n<p><strong>models/fighter-model.js</strong></p>\n\n<pre><code>var fight = fight || {};\n\nfight.Fighter = Backbone.Model.extend({\n\n    defaults: {\n        name: null,\n        level: 1,\n        exp: 1\n    },\n\n    initialize: function () {\n        console.log(\"Initialize a new Fighter.\");\n    },\n\n    validate: function (attribs) {\n        if (!attribs.name) {\n            return \"No name defined for this new Fighter.\";\n        }\n    }\n\n});\n</code></pre>\n\n<p><strong>collections/fighter-collection.js</strong></p>\n\n<pre><code>var fight = fight || {};\n\nvar FighterList = Backbone.Collection.extend({\n\n    model: fight.Figther,\n\n    localStorage: new Backbone.LocalStorage('fighters-store')\n\n});\n</code></pre>\n\n<p><strong>main.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"fr\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt;\n    &lt;title&gt;TEST JS&lt;/title&gt;\n\n    &lt;script type=\"text/javascript\" src=\"lib/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"lib/underscore.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"lib/backbone.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"lib/backbone.localStorage.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div id=\"app\"&gt;\n\n    &lt;/div&gt;\n\n    &lt;script type=\"text/template\" id=\"fighter-template\"&gt;\n        Fighter named &lt;%= name %&gt; is level &lt;%= level %&gt; and has &lt;%= exp %&gt; points.\n    &lt;/script&gt;\n\n    &lt;script type=\"text/javascript\" src=\"models/fighter-model.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"collections/fighter-collection.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"views/fighter-view.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"views/fighters-view.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Then is the console here is what I'm trying to do:</p>\n\n<pre><code>var c = new FighterList();\nc.create({name:'Ryu'});\n\nTypeError: undefined is not a function\n</code></pre>\n\n<p>But if I redefine <code>model</code> manually, then the <code>create</code> function works:</p>\n\n<pre><code>c.model = fight.Fighter\nc.create({name:'Ryu'});\n\nInitialize a new Fighter.\n</code></pre>\n\n<p><strong>Why is <code>c.model</code> undefined even though I already defined it in the collection definition ?</strong></p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13235096,"title":"MVC Validation: Service Layer or Data Annotations","body":"<p>I hope this isn't terribly subjective, but when it comes to validating business logic, I see two paths that, unless I'm mistaken, deliver pretty much the same result:</p>\n\n<ul>\n<li><p>Use a service layer where all validation on your models is performed (ref: <a href=\"http://www.asp.net/mvc/tutorials/older-versions/models-%28data%29/validating-with-a-service-layer-cs\" rel=\"nofollow\">http://www.asp.net/mvc/tutorials/older-versions/models-%28data%29/validating-with-a-service-layer-cs</a>)</p></li>\n<li><p>Decorate your models with Data Annotations</p></li>\n</ul>\n\n<p>In the first instance, the model is a dumb container for data, and in the second, the model knows about its valid state. Above and beyond that, is there nuance between the two that I'm missing? Should one be used over the other in some instances?</p>\n\n<p>Thanks,</p>\n\n<p>Chris</p>\n"},{"tags":["c#","html","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13234765,"title":"Set model property in Jquery","body":"<p>I am trying to set Model property <strong>Id</strong> as follows :</p>\n\n<pre><code>'&lt;%= Model.Id %&gt;' = $(\"#Id\");  \n</code></pre>\n\n<p>But getting error in firebug :  </p>\n\n<pre><code>Invalid left-hand side in assignment.\n</code></pre>\n\n<p>How to set <code>Model.Id</code> ?<br>\nPlease let me know if more is required.<br>\nThanks,<br>\nNitish</p>\n"},{"tags":["php","mvc","soa","silex"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13232017,"title":"What is the best way to model the business logic in Silex?","body":"<p>I am not sure if I get the overall idea of Silex right where to store \"business logic\" which is not directly related to persistance, views, etc.</p>\n\n<p>Example: In my \"demo app\" I needed a way to generate n unique numbers. I needed those numbers in a template to include partial templates. I created a RandomNumberServiceProvider which can return n numbers between x and y. In my $app-closure I used this service, assigned the random numbers to my twig template. Done.</p>\n\n<p>More complex example: Let's say you have to develop a \"complex\" import function. You have to read data from the disk, validate the data, transform it somehow and finally store it into the database. Would you also create a ImportServiceProvider in this case which accesses other services (for persistance...)?</p>\n"},{"tags":["mvc","ember.js"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13230463,"title":"Binding Ember.TextField value to another Controller's property","body":"<p>My index.html says:</p>\n\n<pre><code> &lt;script type=\"text/x-handlebars\" data-template-name=\"loggedout\"&gt;\n &lt;label&gt;Username: &lt;/label&gt;{{view Ember.TextField placeholder=\"your username\"  valueBinding=\"App.LoggedoutController.username\"}}&lt;br /&gt;\n &lt;label&gt;Password: &lt;/label&gt;{{view Ember.TextField placeholder=\"your password\" valueBinding=\"App.LoggedoutController.password\" type=\"password\"}}&lt;br /&gt;\n &lt;br /&gt;&lt;button {{action login}}&gt;Login&lt;/button&gt;\n &lt;/script&gt;\n</code></pre>\n\n<p>The action goes to my router which redirects to my controller</p>\n\n<pre><code> App.LoggedoutController = Ember.Controller.extend({\n\n    username: '',\n    password: '',\n    isError: false,\n\n    tryLogin: function() {\n      console.log(\"InController: launched\");\n      var username = this.get(\"username\");\n      console.log(\"Check:\" + username);\n      ....\n</code></pre>\n\n<p>but Check is empty.</p>\n\n<p><a href=\"http://jsfiddle.net/wfabs/KsNaX/\" rel=\"nofollow\">Fiddle</a></p>\n"},{"tags":["java","mvc","jsf","jsf-2"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":43,"score":-1,"question_id":13232167,"title":"Good sample about JSF params","body":"<p>I need a good sample to implement about JSF 2 and params use.\nI would like to learn something in this format:</p>\n\n<pre><code>users.jsf?action=edit&amp;id=54\nproducts.jsf?action=all&amp;category=5&amp;page=2\nlogs.jsf?action=all&amp;datein=12/12/2011&amp;dateout=12/12/2012\n</code></pre>\n\n<p>I'm googling since last week, but I did not found nothing cool.</p>\n"},{"tags":["mvc","jsf","java-ee","struts"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13229379,"title":"JSF and Struts used together","body":"<p>In an interview I was asked,\"Can Struts be used with JSF?\"</p>\n\n<p>I replied,\"JSF and Struts are two different frameworks, they have different structures, they can't be used together\".</p>\n\n<p>was I right?</p>\n\n<p>and please tell me if Struts can be used with JSF?if yes, then how?</p>\n"},{"tags":["java","mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":39,"score":-4,"question_id":13231347,"title":"Difference between facade and controller","body":"<p>Can anybody explain me the difference between Facade pattern and Controllers in MVC?\nAre both different concepts?Request to explain through a simple example.</p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13225444,"title":"Is accessing Models from Other Controllers Considered Breaking the MVC Framework","body":"<p>Quick question: Is it wrong for a controller to access two or more Models? Let's say there are two Two controller with each have their own models. Accessing the model of the other controller breaks the rule in MVC? Should I access the model through a controller (if HMVC) the proper way of getting to that model?</p>\n"},{"tags":["ipad","cocoa","mvc","scene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13229990,"title":"Cocoa: scene vs. view","body":"<p>Noob question here. I think I get the basics of the three basic Model-View-Controller elements. Sort of. But what is a scene? I know iPad can have more than one scene per screen, and iPhone/iPod can have just one. But how does a scene relate to a view?  </p>\n\n<p>If I'm getting it horribly wrong, please be kind :)</p>\n"},{"tags":["java","mvc","java-ee","seo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13228568,"title":"does mvc architecture affect SEO?","body":"<p>I have my MVC architecture in my webapplication.Now  the flow is as follows:</p>\n\n<pre><code>starter.jsp -&gt; SERVLET -&gt;view.jsp\n</code></pre>\n\n<p>Now view.jsp expects cetrtain request parameters to be present in request object.</p>\n\n<p>When view.jsp is called using above workflow everything works fine.But if view.jsp is called directly then it does not get expected attributes in request and forwards to error.jsp</p>\n\n<p>Now Will search engine directly call view.jsp? or will it travel from starter.jsp to view.jsp?</p>\n\n<p>Detailed example:</p>\n\n<pre><code>main page has a href to a article.\nhref =\"servlet?id=xyz\"\n\nNow servlet gets the id from request.\nServlet gets details for id from DB , puts the Object obtained from DB as request attribute \nidDetails\nAnd forwards to view.jsp\nView.jsp gets request attribute idDetails\nSo view.jsp expects idDetails to be present as request attribute\n</code></pre>\n"},{"tags":["c#","mvc","dependency-injection","inversion-of-control","castle-windsor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":308,"score":0,"question_id":9471556,"title":"How to correctly instance EF Object Data Context using DI with Castle?","body":"<p>So far what I have is the following installer:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Registers all repositories.\n/// &lt;/summary&gt;\npublic class RepositoryInstaller : IWindsorInstaller\n{\n    public void Install(IWindsorContainer container, IConfigurationStore store)\n    {\n        container.Register(\n            AllTypes.FromAssemblyContaining&lt;EntityFrameworkLinkRepository&gt;()\n                .BasedOn&lt;IRepository&gt;()\n                .WithService.Select(ByConvention)\n                .Configure(WithDependencies)\n                .LifestylePerWebRequest()\n            );\n    }\n\n    private IEnumerable&lt;Type&gt; ByConvention(Type type, Type[] types)\n    {\n        if (type.BaseType == null || !type.Name.EndsWith(type.BaseType.Name))\n        {\n            return Enumerable.Empty&lt;Type&gt;();\n        }\n        return new[] { type.BaseType };\n    }\n\n    private void WithDependencies(ComponentRegistration component)\n    {\n        Type type = component.Implementation;\n        string key;\n        if (type.BaseType == null || !type.Name.EndsWith(type.BaseType.Name))\n        {\n            key = type.Name;\n        }\n        else\n        {\n            key = type.Name.Substring(0, type.Name.Length - type.BaseType.Name.Length);\n        }\n        component.DependsOn(new\n        {\n            connectionString = ConnectionString(key)\n        });\n    }\n\n    private string ConnectionString(string key)\n    {\n        string connectionString = Config.GetConnectionString(key);\n        return connectionString;\n    }\n}\n</code></pre>\n\n<p>Which resolves the repositories.</p>\n\n<p>Now, the repository is instanced like this:</p>\n\n<pre><code>public class EntityFrameworkLinkRepository : LinkRepository\n{\n    private readonly ObjectDataContext context; // TODO shouldn't this be receiving a lifetimed ODC, instead of just the connString?\n\n    public EntityFrameworkLinkRepository(string connectionString)\n    {\n        if (connectionString == null)\n        {\n            throw new ArgumentNullException(\"connectionString\");\n        }\n        this.context = new ObjectDataContext(connectionString);\n    }\n\n// etc...\n</code></pre>\n\n<p>My question here is how I should be resolving the object data context, rather than just creating a new one (and not even disposing of it), what's the correct way to resolve an EF data context through Castle using DI?</p>\n\n<p>I guess I would like the ODC to be shared across all repositories that pertain to the same web request (that would be the way that makes the most sense to me, right?)</p>\n\n<p>But since my implementation of <code>ObjectContext</code> is specific to <code>EntityFramework</code>, I'm kind of lost as to how I'm supposed to resolve it, should I explicitly register it with something like this?</p>\n\n<pre><code>container.Register(\n    Component\n    .For&lt;ObjectDataContext&gt;()\n    .DependsOn(new\n    {\n        connectionString = ConnectionString(\"EntityFramework\")\n    })\n    .ImplementedBy&lt;ObjectDataContext&gt;()\n);\n</code></pre>\n"},{"tags":["mvc","node.js","geddy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13215409,"title":"How to load model in to controller with geddy","body":"<p>I have a Locations controller and Location model\nI want to use the the Location model in another controller but calling</p>\n\n<pre><code>geddy.models.Locations.all(...);\n</code></pre>\n\n<p>does not work. It says Locations is undefined.</p>\n\n<p>How do I make it load the model manually? Or should I create a function in the Locations controller to grab the data using a request on the client or a call directly to the controller on the sever?</p>\n"},{"tags":["mvc","design-patterns","design","conventions"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":127,"score":3,"question_id":13098287,"title":"Should controller methods take arguments?","body":"<p>Given that there is file selection widget on the view and controller need to handle event of selecting file, should I rather write controller method:</p>\n\n<pre><code>public void fileSelected(String filePath){\n  //process filePath\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public void fileSelected(){\n  String filePath = view.getSelectedFilePath();\n  //process filePath\n}\n</code></pre>\n\n<p>The first approach seems to introduce less coupling between C and V: C don't know what exactly data does C need while handling given event.</p>\n\n<p>But it requires creating a lot of verbose methods similar to <code>getSelectedFile</code> on V side.</p>\n\n<p>On the other hand, second approach may lead to cluttered controller methods in more complex cases than in example (much more data to pass than just <code>filePath</code>).</p>\n\n<p>From your own experience, which approach do you prefer?</p>\n"},{"tags":["mvc","nginx","provider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13227347,"title":"Nginx configuration for MVC as client","body":"<p>Can somebody shine a light?\nThis is the issue: I need to create a site on a server that runs Nginx. I have no experience with this server, so I have been sticking my nose in it.\nI want to omit the index.php, so that </p>\n\n<pre><code>http://www.mydomain.com/index.php/welcome/index\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>http://www.mydomain.com/welcome/index\n</code></pre>\n\n<p>I then want to extract the /welcome/index so I can start and play with that in the MVC application. I have been looking around, but I get lost in the club of people that are likely doing their own configurations.</p>\n\n<p>My question is if I can influence the server response as a client, like it is done with Apache through the htaccess file, or do I need to involve the provider who is hosting the server? I have requested to alter the server for this, but the support I get is not very helpful.</p>\n\n<p>I was able to simulate the required server response within the nginx.conf file. This tells me that it can be done. \nFor those interested. Read the values on the url through $_SERVER['REQUEST_URI'].</p>\n\n<pre><code>worker_processes  1;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        location / {\n            root   html;\n            index  index.php index.html index.htm;\n\n\n           try_files $uri $uri/ /index.php;\n\n        }\n\n                include mime.types;\n\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        location ~ \\.php$ {\n            root           html;\n            fastcgi_pass   127.0.0.1:9000;\n            fastcgi_index  index.php;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            include        fastcgi_params;\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13225427,"title":"In model-view-control is it ok for the model to tell the view how an item should be displayed?","body":"<p>I have a <em>Compressor</em> component in my model: </p>\n\n<pre><code>public class Compressor extends MComponent {    \n\n    public static final double THRESHOLD_MAX = 1; \n    public static final double THRESHOLD_MIN = 0;\n    public static final double THRESHOLD_DEFAULT = 1; \n    private double threshold; \n\n    /* &lt;snip&gt; - many other parameters*/\n\n    public void setThreshold(double v)      { this.threshold = v; }\n}\n</code></pre>\n\n<p>And for this particular application, I have a GUI I'm constructing with Java Swing, which adds sliders, buttons etc to display and control the Compressors parameters.</p>\n\n<p>Now some of these sliders should operate on a linear scale, while others should operate on a logarithmic/expontial scale (where a move of the slider will make a small change of value in the lower end, and a large change of value at the upper end).  </p>\n\n<p>I have a GuiConstructor class that handily creates sliders and and their move events, so that they'll act appropriately given a Min value, max value, Exponential/Linear type, and a q value (for exponential types). </p>\n\n<pre><code>    gc.addSliderPanel(\n            panel,\n            \"Threshold\",\n            Compressor.THRESHOLD_MIN,\n            Compressor.THRESHOLD_MAX,\n            c.getThreshold(),\n            GuiConstructor.Scale.LINEAR, /*&lt;-- this line*/\n            0,\n            new SetThreshold(c),\n            DEFAULT_SLIDER_GRAINS,\n            GuiConstructor.SliderValueType.FLOAT); \n</code></pre>\n\n<p>The question is - should I be declaring the display type in the <em>view</em> or would be ok to specify the display type in the <em>model</em>? </p>\n\n<p>eg.</p>\n\n<pre><code>public class Compressor extends MComponent {    \n\n    public static final double THRESHOLD_MAX = 1; \n    public static final double THRESHOLD_MIN = 0;\n    public static final double THRESHOLD_DEFAULT = 1;\n    public static final GuiConstructor.Scale THRESHOLD_SCALETYPE = GuiConstructor.Scale.LINEAR;  \n    private double threshold;           \n</code></pre>\n\n<p>I like the idea of specifying it in the model, as I only need to think about the display parameters when I create each component, rather than when I'm putting it together. </p>\n"},{"tags":["c#","asp.net","mysql","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":256,"score":2,"question_id":5909381,"title":"Generate database from model using MySQL as database","body":"<p>I am using ASP.Net MVC2.  I have a model with database design, and need to create a database from that model using MySQL as the back end.</p>\n\n<p>I right-click on the model and select the <code>generate database from model</code> option, then I select MySQL as back end.  </p>\n\n<p>After that I can get a SQL query to execute. But when I execute the query, MS SQL Server is executing instead of MySQL. </p>\n\n<p>Do you know how to make a database from the model using MySQL.</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":57,"score":6,"question_id":13222954,"title":"Is it bad design to have models using both Observer and Observable in Java?","body":"<p>This question pertains to MVC (Model-View-Controller). My Model currently updates my View when it has changed using the Observer / Observable pattern in Java:</p>\n\n<pre><code>public class Model extends Observable {\n}\n\npublic class View implements Observer {\n\n    @Override\n    public void update(observable o, Object obj) {\n        // ... update the view using the model.\n    }\n\n}\n</code></pre>\n\n<p>This works fine. However, my model is growing more complex - it's starting to hold Lists of other classes:</p>\n\n<pre><code>public class Model extends Observable {\n    List&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\n}\n\npublic class Person {\n    private String name = \"\";\n    // ... getter / setter for name\n}\n</code></pre>\n\n<p>My problem is: when a Person's name changes I want to update the view listening to the model which contains that person. The only way I can think of is to have Model implement an Observer class and have Person extend an Observable class. Then, when Person changes, he notifies his observers (which would include the parent Model).</p>\n\n<p>However, this seems like a lot of work if my models get complex. Are there any better ways to \"bubble-up\" changes to the parent model?</p>\n"},{"tags":["php","database","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13217782,"title":"PHP and true MVC structure with an advanced database structure","body":"<p>I'm busy developing the first phase of a hotel booking system based on a pure PHP MVC structure. I tried getting acquainted with the libraries like Cake and CodeIgniter but I wasn't comfortable with how little control I had.</p>\n\n<p>So I opted to build my own mini framework which has worked out quite well for me so far. Now, the database structure I'm using is rather complex. There are quite a few many-to-many relationships and one-to-many relationships. I opted to not enforce any referential integrity in the database itself as I believe that should be done at a programming level to avoid frustration later on - things don't always work as planned and I find it easier to figure out what's going on programmatically than in an SQL database with less then explanatory error messages</p>\n\n<p>SO, to the crux - the decision I'm struggling to make is where to place those arbitrary SQL statements to do with relationships between my different objects.</p>\n\n<p>So, for example, I have two objects - users and properties. In this relationship, users are owners of properties that might house a room that will be rented out. In my Users object model (MVC) I have methods like 'insert', 'delete', 'update', 'getUser', 'userExists'. Similar methods exist in my properties model.</p>\n\n<p>Each model extends a Database class that I created to leverage a connection to the database.</p>\n\n<p>In this structure, where and how do I manage the relationships between these objects? The relationship is Properties_has_Users -> it's may-to-many. Where do I create the insert, update and delete methods for the relationship? In it's own object called \"Properties_Users_Relationships? In the controller of one of the objects?</p>\n\n<p>I'm new to these forums and in fact in my three years of development I've never posted on a forum - just read them so please let me know if there's something else you'd like me to post to reference or make it clearer.</p>\n\n<p>Thanks </p>\n"},{"tags":["java","swing","mvc","listener","mouselistener"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13217684,"title":"Java MVC - problems adding a MouseListener","body":"<p>I am a Java student and just ended the basic functionality of a little command line card game. The game is a simplified version of Magic-type trading card game. There is no AI, you play against yourself or another human player. </p>\n\n<p>At this point, i am trying to add some GUI to it using MVC, but <strong>i'm finding problems adding a MouseListener to a button</strong>.</p>\n\n<p>This is a brief explanation of what's going on:</p>\n\n<ul>\n<li>I have a <code>Model</code> class, that extends <code>Observable</code> by inheritance of a superclass</li>\n<li>A <code>View</code> class, that implements <code>Observer</code>.</li>\n<li>And a <code>Controller</code> class that extends <code>MouseAdapter</code></li>\n</ul>\n\n<p>Then i put everything together:</p>\n\n<pre><code>....\n\nView view = new View();\nModel model = new Model();\n\nmodel.addObserver( view );\n\nController controller = new Controller();\n// associate Controller's Model and View objects\ncontroller.addModel(model);\ncontroller.addView(view);\n\nview.addController(controller); // i try to add the MouseListener\n\n....\n</code></pre>\n\n<p>The addController() method of View is:</p>\n\n<pre><code>public void addController(Controller controller){\n            this.myButton.addMouseListener( controller )\n}\n</code></pre>\n\n<p>I already checked that <code>addController()</code> method is being called (println something inside it), but the Listener is not being set for some reason: <code>mouseReleased()</code> is never called when i click the button.</p>\n\n<p>Any thoughts or any step that i may have overlooked? Appreciate.</p>\n\n<p><strong>Edit (Controller code):</strong></p>\n\n<pre><code>public class Controller extends MouseAdapter {\n\n    Model model;\n    View view;\n\n    public void addModel(Model m){\n            this.model = m;\n    }\n\n    public void addView(View ui){\n            this.view = ui;\n    }\n\n    // All @Overrides\n\n    @Override\n    public void mouseReleased(MouseEvent me) {\n        System.out.println(\"oh, it arrived\");\n    }\n}\n</code></pre>\n"},{"tags":["json","mvc","monotouch"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":928,"score":1,"question_id":8450720,"title":"Monotouch: Deserialize JSON from MVC to Montouch","body":"<p>In my test vb.net MVC web app, I have this json....</p>\n\n<pre><code>Public Class Person\n    Public Property Name As String\n    Public Property Age As Byte\n    Public Sub New(name As String, age As Byte)\n        Me.Name = name\n        Me.Age = age\n    End Sub\nEnd Class\n\nFunction GetPerson() As JsonResult\n    Dim p As New Person(\"John Doe\", 50)\n    Return Json(p, JsonRequestBehavior.AllowGet)\nEnd Function\n</code></pre>\n\n<p>And in Monotouch I've got this...</p>\n\n<pre><code>JsonObject j;\nUri address = new Uri(\"http://mysite/home/GetPerson\");\nHttpWebRequest httpReq = (HttpWebRequest)HttpWebRequest.Create (address);\nusing (HttpWebResponse httpRes = (HttpWebResponse)httpReq.GetResponse ()) {\n    Stream s = httpRes.GetResponseStream ();\n    j = (JsonObject)JsonObject.Load (s);\n}\n</code></pre>\n\n<p>And this class...</p>\n\n<pre><code>Public Class Person {\n    Public string Name { get; set; }\n    Public byte Age { get; set; }\n}\n</code></pre>\n\n<p>How do I parse the JsonObject j into class of Person? .. I hoped for something like Person p = (Person)j.value;</p>\n\n<p>Thanks!\nMojo</p>\n"},{"tags":["java","mvc","spring-mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":42,"score":-2,"question_id":13203952,"title":"Spring Form Handling Form Exeption","body":"<p>When i go to form site <code>Spring</code> thorow exeptions:</p>\n\n<pre><code>01:34:09,257 ERROR [org.springframework.web.servlet.tags.form.LabelTag] (http-localhost-127.0.0.1-8080-1) Neither BindingResult nor plain target object for bean name 'name' available as request attribute: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'name' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:141) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:174) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:194) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.autogenerateFor(LabelTag.java:129) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.resolveFor(LabelTag.java:119) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.writeTagContent(LabelTag.java:89) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspx_meth_form_005flabel_005f0(person_jsp.java:112)\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspService(person_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:840) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:560) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:488) [jbossweb-7.0.13.Final.jar:]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1047) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:817) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_09]\n\n01:34:09,275 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/SpringMVCreName].[jsp]] (http-localhost-127.0.0.1-8080-1) Servlet.service() for servlet jsp threw exception: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'name' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:141) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:174) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:194) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.autogenerateFor(LabelTag.java:129) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.resolveFor(LabelTag.java:119) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.writeTagContent(LabelTag.java:89) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspx_meth_form_005flabel_005f0(person_jsp.java:112)\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspService(person_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:840) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:560) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:488) [jbossweb-7.0.13.Final.jar:]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1047) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:817) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_09]\n\n01:34:09,292 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/SpringMVCreName].[mvc-dispatcher]] (http-localhost-127.0.0.1-8080-1) Servlet.service() for servlet mvc-dispatcher threw exception: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'name' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:141) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:174) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:194) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.autogenerateFor(LabelTag.java:129) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.resolveFor(LabelTag.java:119) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.LabelTag.writeTagContent(LabelTag.java:89) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspx_meth_form_005flabel_005f0(person_jsp.java:112)\n    at org.apache.jsp.WEB_002dINF.pages.person_jsp._jspService(person_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253) [jbossweb-7.0.13.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:840) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:560) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:488) [jbossweb-7.0.13.Final.jar:]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1047) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:817) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549) [spring-webmvc-3.0.5.RELEASE.jar:3.0.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_09]\n</code></pre>\n\n<p>I have form <code>person.jsp</code>:</p>\n\n<pre><code>&lt;%@taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\"%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Person form&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form method=\"POST\" action=\"addPerson.html\"&gt;\n\n        &lt;form:label path=\"name\"&gt;&lt;/form:label&gt;\n\n        &lt;form:label path=\"lastName\"&gt;&lt;/form:label&gt;\n\n        &lt;form:label path=\"age\"&gt;&lt;/form:label&gt;\n\n        &lt;input type=\"submit\" value=\"Add Contact\" /&gt;\n\n    &lt;/form&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And controler:</p>\n\n<pre><code>@Controller\npublic class FormControler {\n\n    @RequestMapping(value=\"/addPerson\", method = RequestMethod.POST)\n    private void contrler(@ModelAttribute(\"person\")Person person, BindingResult result) {\n\n        System.out.println(\"Name \"+person.getName());\n\n    }\n    @RequestMapping(value=\"/person\", method = RequestMethod.GET)\n    public ModelAndView showContscts() {\n\n        return new ModelAndView(\"person\", \"command\", new Person());\n    }\n\n}\n</code></pre>\n\n<p>And <code>Person.java</code>:</p>\n\n<pre><code>public class Person {\n\n    private String name;\n    private String lastName;\n    private String age;\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getAge() {\n        return age;\n    }\n    public void setAge(String age) {\n        this.age = age;\n    }\n\n\n}\n</code></pre>\n\n<p>Also <code>index</code> site wih <code>&lt;a href</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n    &lt;a href=\"person\"&gt;Person&lt;/a&gt;\n\n&lt;/body&gt;\n&lt;/\n</code></pre>\n"},{"tags":["ios","mvc","design-patterns","observer-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13215032,"title":"NSTimer in a controller, how to notify the view?","body":"<p>In my iOS application, when the user pushes a button in a view, a NSTimer is trigered in the controller.\nOn the third tick, I would like to make the background of the view bliking.</p>\n\n<p>I've written the blinking function in the view (it should't be written in the controller, should it ?)</p>\n\n<p>I can trigger this blinking function in the controller by</p>\n\n<pre><code>LostView *lostView = (LostView* ) self.view;\n[lostView blinkBackground];\n</code></pre>\n\n<p>But it's bad, isn't it ? The controller shoudn't know the view neither the name of the function ?\nI would like to apply the MVC pattern</p>\n\n<p>Is the observer/obervable pattern applicable in this situation ?</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","frameworks","node.js"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":2893,"score":6,"question_id":6651146,"title":"State of the art in MVC frameworks for node.js?","body":"<p>I'd very much like to have some idea of the state of the art of MVC frameworks for <strong>node.js</strong>. Specifically, current commercial practice of the art, not research, with frameworks for front-end web apps. As a PHP programmer might choose Yii Framework—what are the options for node.js programmers and what are the pros and cons for the main contenders?</p>\n"},{"tags":["php","asp.net-mvc","mvc","activerecord"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13214625,"title":"What is the best place to put logic that merges two activerecord lists for presentational purposes in an MVC app?","body":"<p>I have a few instances where I need to merge two or more lists of different activerecord models, filter the merged list based on some criteria and potentially sort it for presentational purposes.  Where would you typically perform this type of logic in an MVC application?  One idea I had was to adopt some methodology similar to the viewmodel pattern used in MVC.net for this PHP app I am building.</p>\n\n<p>Here is what I was thinking</p>\n\n<pre><code>public class myViewModel\n{\n    private $modelList1;\n    private $modelList2;\n\n    public  $mergedList;\n\n    public function __construct($myModelList1, $myModelList2)\n    {\n            $this-&gt;modelList1 = $myModelList1;\n            $this-&gt;modelList2 = $myModelList2;\n\n            mergeLists();\n            filterList();\n            sortList();\n    }\n\n    private function mergeLists\n    {\n            // sets $mergedList based on $modelList1 and $modelList2\n    }\n\n    private function filterList\n    {\n            // filters $mergedList\n    }\n\n    private function sortList\n    {\n            // sorts $mergedList\n    }\n}\n</code></pre>\n\n<p>After the viewmodel has been constructed, it would be passed to the view by the controller and the view could access the $mergedList property.</p>\n\n<p>Is this a reasonable way to handle this or is there a better way?  I assume it belongs in some kind of model other than an activerecord model and I didn't think a service was the proper place though I could be wrong...\nAlso would you say this logic is domain logic or presentation logic?</p>\n"},{"tags":["spring","mvc","spring-security"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":76,"score":3,"question_id":13211021,"title":"Spring security, bypass login page after changing password","body":"<p>I'm relatively new to Java/Spring/MVC. I hope someone can shine some light on this, because this problem is about to ruin yet another weekend without getting solved.</p>\n\n<p>At the moment I'm working on a project, implementing a couple of RFC's. Each RFC has it's own 'challenges', ranging from changing hibernate queries and stored procedures to minor textual changes and adding extra fields to forms.</p>\n\n<p>The problem I am now facing has (I think) to do with Spring security.</p>\n\n<p>The present situation:<br>\nTo login to the application, user is presented by a login page (/user/login.jsp). After entering a username and password, user is sent to welcome page (/welcome/hello.jsp).</p>\n\n<p>If a user forgets their password, they use a link that will sent an email providing a link to a page (/welcome/newPassword?code=xxx) where a new password can be entered. Entering the Submit-button will do some validation, save the password in the database and displays a 'password changed' message on the page.\nTo enter the application, user will now have to login with the new password.</p>\n\n<p>What the customer wants:\nAfter submitting the new password, the user should be automatically logged in with the new password and redirected to /welcome/hello.jsp</p>\n\n<p>I searched the web, but couldn't find the scenario I was looking for (or maybe didn't recognize it!).</p>\n\n<p>What I thought would do the trick:</p>\n\n<p>I have this method in WelcomeController which presently handles the new password:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\npublic void newPassword(Model model, HttpSession httpSession, ModelAttribute(PASSWORD) Passwords password, BindingResult result) {\n    logger.debug(\"Posting password for new password\");\n    ScreenMessage message = null;\n\n    //\n    try {\n        // errors from initBinder - back to page\n        if (result.hasErrors()) {\n            return;\n        }\n\n        // Validate input: on error go back to form\n        passwordValidator.validate(password, result);\n        if (result.hasErrors()) {\n            return;\n        }\n\n        // Save password\n        passwordService.createNewOwnPassword(result, password);\n        if (result.hasErrors()) {\n            return;\n        }\n\n        // No errors\n        message = new ScreenMessage();\n        message.setText(CHANGED);\n        message.setArg(THIS_PASSWORD, 0);\n        model.addAttribute(MESSAGE, message);\n        httpSession.setAttribute(ACTION_READ, Boolean.TRUE);\n\n        // Errors are fatal.\n    } catch (Exception e) {\n        logger.error(\"ERROR-CHANGE-password for user: \" + password.getUser().getLoginName(), e);\n        result.reject(  ERROR_FATAL, new Object[] { password}, ERROR_FATAL);\n    } finally {\n        model.addAttribute(PASSWORD, password);\n    }\n}\n</code></pre>\n\n<p>I thought I could simply change this method to have it return a ModelAndView and use redirect:</p>\n\n<pre><code>ModelAndView mav = new ModelAndView(\"redirect:/welcome/hello\", (ModelMap) model);\n        return mav; \n</code></pre>\n\n<p>But: It keeps sending me to /user/login, exactly the page I don't want to go to...</p>\n\n<p>Extra information that could be handy:</p>\n\n<p>As far as I can tell the application is using Spring 2.5.</p>\n\n<p>(I hope relevant) Part of my security-applicationContext.xml:</p>\n\n<pre><code>    &lt;!--  always-use-default-target=\"true\" --&gt;\n    &lt;security:form-login login-page=\"/dyn/user/login\" \n        login-processing-url=\"/dyn/user/j_spring_security_check\"\n        default-target-url=\"/dyn/welcome/hello\" \n        always-use-default-target=\"true\"\n        authentication-failure-handler-ref=\"exceptionTranslationRouting\" /&gt;\n\n    &lt;security:access-denied-handler error-page=\"/dyn/welcome/hello\" /&gt;\n\n    &lt;security:logout logout-success-url=\"/dyn/user/logout\" invalidate-session=\"true\" /&gt;\n</code></pre>\n\n<p>Is my idea of redirecting to /welcome/hello too simple or am I just missing something small? </p>\n"}]}
{"total":14108,"page":2,"pagesize":100,"questions":[{"tags":["jquery","asp.net","ajax","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2864,"score":2,"question_id":8045345,"title":"MVC Jquery Ajax updating your Partial View","body":"<p>I have an MVC 3 application that is calling a Web Service it consumes to call Sharepoints API. The call takes roughly 6 seconds regardless of your results, so i have decided to add a async call using JQuery to provide the user with a waiting indicator. I have it almost competed, but i am unable to get the view to update with the returned data. I have narrowed it down to the view as when i get to the partial view that has the data, i have a break point in the ForEach loop and there is data in there and it is what i am expecting, but when i get to the View itself in the browser, the table is not populated. Here is my AJAX call that is started when a input button is clicked, which triggers great:</p>\n\n<pre><code>$(function () {\n            $(\"#ajax-indicator\").hide();\n        });\n\n        function getData() {\n            $(\"#ajax-indicator\").show();\n\n            $.ajax({\n                type: \"POST\",\n                url: \"/Home/MakeCall\",\n                // the URL of the controller action method \n                data: null,\n                // optional data          \n                success: function (result) {\n                    // do something with result  \n                    $(\"#ajax-indicator\").toggle();\n                },\n                error: function (req, status, error) {\n                    // do something with error     \n                }\n            });\n\n        }\n</code></pre>\n\n<p>Here is within the same View, a the indicator div that gets hidden, the button and lastly the Render partial.</p>\n\n<pre><code> &lt;div id=\"ajax-indicator\"&gt;\n        &lt;img alt=\"AJAX Indicator\" src=\"&lt;%= Url.Content(\"../../images/ajax-loader.gif\") %&gt;\" /&gt;\n    &lt;/div&gt;\n    &lt;div id='button'&gt;\n        &lt;% using (Html.BeginForm())\n           { %&gt;\n               &lt;input type=\"submit\" name=\"submit\" value=\"Get Data\" onclick=\"getData();\" /&gt;\n           &lt;% } \n        %&gt;\n    &lt;/div&gt;\n\n\n    &lt;% Html.RenderPartial(\"MakeCall\", ViewData[\"viewModel\"]); %&gt;\n</code></pre>\n\n<p>The partial page looks like this:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;AsyncCallTest.Models.SharepointModel&gt;\" %&gt;\n&lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;td&gt;Folder Name&lt;/td&gt;\n&lt;td&gt;Link&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n\n&lt;% if (Model != null)\n   {\n       foreach (var item in Model.FolderList)\n       {\n       %&gt;\n    &lt;td&gt; FolderName: &lt;%: item.FolderName%&gt;&lt;/td&gt;\n       &lt;%\n       }\n   }\n\n     %&gt;\n     &lt;/tr&gt;\n     &lt;/table&gt;\n</code></pre>\n\n<p>When i look at the item.FolderName I have data there, but we are getting nada. i feel like i am missing something silly. Any ideas?</p>\n"},{"tags":[".net","mvc","nhibernate","caching","evict"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13131796,"title":"NHibernate caching issue - When to call Evict?","body":"<p>I've run into an apparent caching issue where what's being returned by NHibernate is not matching up with what's in the DB.</p>\n\n<p>I believe this is level2 cache data.  It looks like I can use the Evict to do this, but <strong>when should the Evict method actually be called?</strong>  For my particular application, the data is going to be unique to the user and chances are the data provided will only be used once*.  </p>\n\n<p><strong>Can I disable Level2 caching for these sets of objects completely?</strong></p>\n\n<p><em>UPDATE 10/31</em></p>\n\n<p>My scenario is this: I have a shopping cart where the customer is going to be adding and removing items.  What I am doing is the following: before the updates to the cart are processed, I evict the <code>Cart</code> and <code>CartProduct</code> entities. Once this is done, I retrieve the list of <code>CartProducts</code> from the provider and return the view (this is happening in a .NET MVC Controller).  </p>\n\n<p><em>UPDATE 11/3</em></p>\n\n<p>The shopping cart has since been finished, and I ran into an issue that appeared to be related to the same NHibernate issue, but in fact was an MVC issue.  Deeper digging revealed that the HTML Helper extensions were overriding the value I supposed and replacing with what was in the Model state.  So a double whammy on this one.  Hope this helps someone.</p>\n"},{"tags":["iphone-sdk-3.0","mvc"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":2765,"score":2,"question_id":1185789,"title":"iPhone 3.0 SDK: stacked presentModalViewController calls or in series?","body":"<p>Here's the scenario: if this is a user's first time logging into my web service, I present a modal login view.  Upon success, the user may have multiple items in his/her account and must choose one of them before he/she can proceed with the rest of the app.</p>\n\n<p>I want to put up <em>another</em> modal view with a picker so the user can make the choice.</p>\n\n<p>All the examples I've seen of multiple modals presented are canned ones (like the email composer modal, with the people picker modal coming up over it), which is of no use because the code isn't available.</p>\n\n<p>When I try putting up the login modal, then dismissing it, then presenting the picker, I get a recursion somewhere with a selector being sent to subviews being sent to subviews being sent to ....</p>\n\n<p>Can anyone point me to some sample code?  </p>\n\n<p>I'm keeping a reference to the login view, so I figured I'd just pose the stack (well, two) modal views, then dismiss the login modal and they'd all go away (like the documentation says), but I can't seem to get this going.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ruby-on-rails","mvc","methods","routes","links"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":126,"score":3,"question_id":13182661,"title":"Rails 3 how do I use link_to to change the value of a boolean in the db?","body":"<p>Hey guys im trying to create a simple link that will allow an admin to approve a user on my website </p>\n\n<p>quite similar to what this guy was trying : <a href=\"http://stackoverflow.com/questions/7124781/in-rails-3-how-do-i-use-button-to-to-change-the-value-of-a-boolean\">In Rails 3 how do I use button_to to change the value of a boolean?</a></p>\n\n<p>im relatively new to rails so bear with me :)</p>\n\n<p>Heres how it was supposed to work :</p>\n\n<ol>\n<li>Admin clicks the link to approve a user</li>\n<li>The link calls the activate function in UsersController</li>\n<li>The active function calls that users model </li>\n<li>the user model updates the approved attribute to true and saves it</li>\n</ol>\n\n<p>and here's how i was going to do it </p>\n\n<p>in my users#index view</p>\n\n<pre><code> &lt;% @users.each do |user| %&gt; \n &lt;%= link_to 'Approve', :action =&gt; \"index\", :method =&gt; 'activate', :id =&gt; user.id, :class =&gt; 'btn btn-mini btn-danger' %&gt; \n&lt;% end %&gt; \n</code></pre>\n\n<p>in my userController</p>\n\n<pre><code>def activate\n  @user = User.find(params[:user])\n  @user.activate_user\nend\n</code></pre>\n\n<p>in my user model</p>\n\n<pre><code>def activate_user \n  self.approved = 'true'\n  self.save\nend\n</code></pre>\n\n<p>and my routes </p>\n\n<pre><code>devise_for :users, :controllers =&gt; { :registrations =&gt; \"registrations\" }\n\nresources :users do\n  member do\n    get 'activate'\n    put 'activate'\n  end\nend\n\nmatch \"users/:id/activate\" =&gt; \"users#activate\"\n</code></pre>\n\n<p>Now when i click the link (to approve users), im sent back to the user index page (like im supposed to) but the user field \"approved\" is still set to false :I</p>\n\n<p>the url i get after clicking the link : </p>\n\n<pre><code>  http://localhost:3000/users?class=btn+btn-mini+btn-danger&amp;id=2&amp;method=activate\n</code></pre>\n\n<p>Any ideas ? this is driving me nuts :)</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As suggested iv added the url to the link_to helper</p>\n\n<pre><code>&lt;% @users.each do |user| %&gt; \n  &lt;%= link_to \"Approve\", :controller =&gt; \"users\", :id =&gt; user.id, :action =&gt; \"activate\", :method =&gt; :put, :approved =&gt; true %&gt; \n&lt;% end %&gt;\n</code></pre>\n\n<p>When i click the helper link i get </p>\n\n<pre><code>wrong number of arguments (1 for 2) \n</code></pre>\n\n<p>in app/controllers/users_controller.rb:7:in `activate'</p>\n\n<pre><code>def activate\n  @user = User.find(params[:id])\n  @user.update_attribute(params[:user])\n  redirect_to \"/users?approved=false\"\nend\n</code></pre>\n\n<p>line 7 where the error is \n    @user.update_attribute(params[:user])</p>\n\n<p>what else should i put there ? </p>\n\n<p>oh and here is my route for this method</p>\n\n<pre><code>match \"/users/:id/activate\" =&gt; \"users#activate\"\n</code></pre>\n\n<p><strong>UPDATE V2</strong>\nokey so i have changed that update line to :</p>\n\n<pre><code>@user.update_attributes(@user.approved, \"true\")\n</code></pre>\n\n<p>and it seems to do everything i want it to do except changing the value to true ! </p>\n\n<p>ive also tried to use 1 for true (and the update_attribute function) and non-strings.. running out of ideas here lol</p>\n"},{"tags":["iphone","ios","xcode","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13206900,"title":"seperate view from controller","body":"<p>In order to respect the MVC pattern, I would like to dissociate the view from the controller.\nFor example </p>\n\n<ul>\n<li>QuestionView (inherits from UIVIew)</li>\n<li>QuestionViewController (inherits from UIViewController</li>\n</ul>\n\n<p>In my controller, I set the view self.view = ...</p>\n\n<p>But when I push a button in the view, it should call a method from the controller BUT the view souldn't know its controller right ?</p>\n\n<p>So how can I link the view to the controller ?</p>\n"},{"tags":["php","mvc"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13205864,"title":"Passing multiple parameters to index controller using CodeIgniter-like MVC","body":"<p>I am just beginning to learn PHP, so I apologize if this is a basic question. I am using what I understand to be a CodeIgniter-like MVC framework (NOT CI though - a homegrown framework) </p>\n\n<p>I am trying to pass two parameters to my index controller, each of which will display a different error message. The errors are generated from two individual post functions (i.e., if user's log in is incorrect and if email already exists at sign up).</p>\n\n<pre><code>public function index($error1=NULL, $error2=NULL) {\n\n$this-&gt;template-&gt;content = View::instance('v_index_index');\n$this-&gt;template-&gt;content-&gt;error1 = $error1;\n$this-&gt;template-&gt;content-&gt;error2 = $error2;\n\necho $this-&gt;template;\n\n}\n</code></pre>\n\n<p>What I am observing is that the only error displayed is the parameter that appears in the parentheses first (e.g., at index/index/error2 the error1 message is displayed). I've already tested the logic for determining the error type, so I know that is correct and believe it must have something to do with the above. </p>\n\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["javascript","mvc","drop-down-menu","viewdata","selectlist"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":6886,"score":1,"question_id":609063,"title":"Populating dropdownlist with selectlist in ViewData","body":"<p>I am trying to populate an HTML.Dropdownlist with a selectlist which is populated with a string value (a location address) and text (a location description) fields from a database call. I am passing the selectlist as viewdata to my view. The dropdown populates fine but when I go to use the value it is null or empty as seen by an alert I put in my javascript function. Here is the code Any ideas why \"this.locations.value\" is null:</p>\n\n<p>My View code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    var map;\n    var gdir;\n    var geocoder = null;\n    var addressMarker;\n\n\n    function setDirections(fromAddress, toAddress, locale) {\n\n        alert(toAddress);\n        gdir.load(\"from: \" + fromAddress + \" to: \" + toAddress,\n        { \"locale\": locale });\n    }\n\n&lt;/script&gt;\n\n      &lt;div id=\"maincontent2\"&gt;\n      &lt;form action=\"#\" onsubmit=\"setDirections(this.from.value, this.locations.value, 'en_US'); return false\"&gt;\n\n        &lt;table&gt;\n        &lt;tr&gt;&lt;th align=\"left\"&gt;From:&amp;nbsp;&lt;/th&gt;\n\n        &lt;td align=\"left\" &gt;&lt;input type=\"text\" id=\"fromAddress\" name=\"from\" size=\"35px\"\n        value=\"King of Prussia, PA\"/&gt;&lt;/td&gt;\n        &lt;th align=\"left\"&gt;&amp;nbsp;&amp;nbsp;To:&amp;nbsp;&lt;/th&gt;\n        &lt;td align=\"left\"&gt; &lt;%= Html.DropDownList(\"locations\",(SelectList)ViewData[\"OfficeLocations\"])%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n        &lt;td&gt;&lt;/td&gt;\n        &lt;td align=\"left\"&gt;\n        &lt;br /&gt;\n        &lt;input name=\"submit\" type=\"submit\" value=\"Get Directions!\" /&gt;\n        &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;table&gt;\n        &lt;tr&gt;\n        &lt;td valign=\"top\"&gt;&lt;div id=\"drv_directions\" style=\"width: 250px\"&gt;&lt;/div&gt;&lt;/td&gt;\n        &lt;td valign=\"top\" style=\"padding-top:15px\"&gt;&lt;div id =\"map_canvas\"&gt;&lt;/div&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;      \n     &lt;/form&gt;\n</code></pre>\n\n<p>My Controller Code:</p>\n\n<pre><code>    public ActionResult Directions()\n    {\n        uls_dbDataContext ulsdb_dc = new uls_dbDataContext();\n\n        ViewData[\"OfficeLocations\"] = new SelectList(ulsdb_dc.GetOfficeLocations(),\"location_address\", \"location_name\");\n\n        ViewData[\"Title\"] = \"Directions\";\n\n        return View();\n    }\n</code></pre>\n"},{"tags":["javascript","mvc","angularjs","meteor"],"answer_count":1,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":191,"score":0,"question_id":13150826,"title":"Using AngularJS with MeteorJS","body":"<p>So I am fairly new to both of these technologies. My plan was to implement the Peepcode Tunes project that they made with Backbone ( <a href=\"https://github.com/philipkobernik/backbone-tunes\" rel=\"nofollow\">https://github.com/philipkobernik/backbone-tunes</a> ) with MeteorJS and then try implementing it using MeteorJS with the AngularJS addon. Someone has already done it all in just Angular: <a href=\"https://github.com/angular/peepcode-tunes\" rel=\"nofollow\">https://github.com/angular/peepcode-tunes</a></p>\n\n<p>Most things went pretty smoothly. You can see what I have so far at:</p>\n\n<p>Just Meteor: <a href=\"https://github.com/Jonovono/Meteor-peepcode-tunes\" rel=\"nofollow\">https://github.com/Jonovono/Meteor-peepcode-tunes</a>\nMeteor and AngularJs: <a href=\"https://github.com/Jonovono/Meteor-angular-peepcode-tunes\" rel=\"nofollow\">https://github.com/Jonovono/Meteor-angular-peepcode-tunes</a></p>\n\n<p>I really enjoy working with Angular and being able to pass things from the view like: </p>\n\n<pre><code>ng-click=\"pl.add(album)\"&gt;\n</code></pre>\n\n<p>Which seems more complicated when just using Meteor.</p>\n\n<p>However one question I am having. Say I want to save the playlist every time a album is added/removed. So that if the page is refreshed it still is there. I don't know the best way to do this and when using AngularJS with Meteor I am confused how this should be done. </p>\n\n<p>Right now when using Angular and Meteor I do something like this:</p>\n\n<pre><code>$scope.Playlist = new Meteor.AngularCollection(\"playlist\", $scope);\n$scope.playlist = $scope.Playlist.findOne({});\n\n    $scope.pl.add = function(album) {\n    if ($scope.playlist.indexOf(album) != -1) return;\n    $scope.playlist.push(album);\n    $scope.playlist.$save();\n};\n</code></pre>\n\n<p>However that does not seem to save it to the database. But if I were to do something like:</p>\n\n<pre><code>    album.title = \"CHANGED\"\n    album.$save()\n</code></pre>\n\n<p>It seems like it would save this to the database.</p>\n\n<p>I am sure I am just missing something small in regards to Meteor or the AngularJS add on to it. Any enlightenment would be awesome!</p>\n"},{"tags":["ruby-on-rails-3","mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13186963,"title":"How does the MVC pattern work in Ruby On Rails","body":"<p>I'm still trying to understand MVC in Rails, but so far I've deduced the following:</p>\n\n<ul>\n<li>The <strong>Controller</strong> is very thin, and uses the <strong>Models</strong> to construct the data to send back to the <strong>View</strong>.</li>\n<li>The <strong>Models</strong> are not like <a href=\"http://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow\">DTOs</a>, but rather they contain all the necessary biz logic to return data to the Controller.</li>\n<li>The View doesn't receive Models per say, it just receives properties defined in the corresponding <strong>Actions</strong> in the Controller.</li>\n</ul>\n\n<h2>Questions</h2>\n\n<p>So, I have a few questions:</p>\n\n<ol>\n<li><p><strong>Is my assumption of how MVC works in Rails correct</strong>, if not how does it work?</p></li>\n<li><p>If it is correct, that means that <strong>Models</strong> are never sent to the Views?</p></li>\n<li><p>If all the biz logic is in the Models, and so your Models have explicit dependencies then:</p>\n\n<ul>\n<li>how do you abstract say, your data access layer from the Controllers if the Models have explicit dependencies (say on Mongodb) and your Controllers and Models are so closely bound?</li>\n</ul></li>\n</ol>\n\n<p><em><strong>NOTE:</strong> What do I mean by explicit dependencies</em>:</p>\n\n<p>In <a href=\"https://github.com/RailsApps/rails3-mongoid-devise\" rel=\"nofollow\">this best practices Ruby On Rails sample</a> you'll notice the <a href=\"https://github.com/RailsApps/rails3-mongoid-devise/blob/master/app/models/user.rb\" rel=\"nofollow\">Users Model implements Mongoid directly</a>.</p>\n"},{"tags":["php","sql","mvc","relational-database","models"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13200282,"title":"The best way to organize MVC Model without using ORM?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5863870/how-should-a-model-be-structured-in-mvc\">How should a model be structured in MVC?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm playing around with my own little MVC framework. Until now I was using Doctrine for Object Relation Mapping and this was nice. At first it looked as the best way to setup your MVC. The way I was using it was something like this, I had folder Application/Model and this is where I would put all of the Model files, like Doctrine Entities, Services that would do some global tasks, validators etc... So Model was a folder where all of the meat of the MVC application would go. And then I would register Model folder as library with SPL Class loader and I was able to get any entity like this:</p>\n\n<pre><code>$users = new \\Application\\Model\\Entity\\User();\n</code></pre>\n\n<p>Now I decided to not use ORM since I dont really like it anymore, I wont talk about why but lets just say I want to use raw SQL instead of ORM. Now the question is what would be a proper way to organize my folder structure to achieve this?</p>\n\n<p>I'm thinking about creating new folder Tables in Model folder so I can have something like this: Application\\Model\\Tables\\User.php , and from that PHP file I can access all the actions on User table, like update, get, insert etc...</p>\n\n<p>Now the question is how would I organize my Model folder to use RDMS but without using ORM?\nSince Model is a layer, and Model should have Domain Objects and Data Mappers. Domain objects are objects representing current application Domain objects and Mappers would persist those Domain objects. How could I organize this to use raw SQL, but without ORM, and without building my own ORM?</p>\n\n<p>Is there any good framework that dosent use ORM or Active Record pettern so I could explore his code to see how are they doing this?</p>\n"},{"tags":["asp.net","mvc","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":2987513,"title":"How to show route default value?","body":"<p>I have a route:</p>\n\n<p><code>\n\"{culture}/{controller}/{action}/{id}\",\nnew { culture = \"en\", controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n</code></p>\n\n<p>The Url becomes\n<code>\n<a href=\"http://mysite.com\" rel=\"nofollow\">http://mysite.com</a>\n</code></p>\n\n<p>I want to show the culture name so that the url will look like this:\n<code>\n<a href=\"http://mysite.com/en\" rel=\"nofollow\">http://mysite.com/en</a>\n</code></p>\n"},{"tags":["objective-c","ios","mvc","database-design","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13197263,"title":"Core Data: Traverse managed objects relationships with an abstract entity in-between","body":"<p>I have the following Core Data model, in which <code>ProFormaPeriod</code> is a subclass of the <strong>abstract entity</strong> <code>FiscalPeriod</code>. In my fetch request, I would like to traverse from <code>CalendarPeriod</code> to <code>IBEstType</code>. </p>\n\n<p>How can I do this as <code>fiscalPeriod</code> is the only relationship I get offered in code completion and not <code>ProformaPeriod</code>. </p>\n\n<p>Would I need to model an additional direct relationship from <code>CalendarPeriod</code> to <code>ProformaPeriod</code>?</p>\n\n<p><img src=\"http://i.stack.imgur.com/RHvt3.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13197297,"title":"Are there any restrictions on which component in MVC that can hold a reference to?","body":"<p>As the title says:</p>\n\n<p>Are there any restrictions on which component in MVC that can hold a reference to?</p>\n\n<p>Can a view hold a reference to a controller? And so on..</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13194658,"title":"Object null in PHP MVC","body":"<p>Why is object User null? $_GET[\"username\"] gives the correct string in NavigationView and I get the values that I want from the database. </p>\n\n<p>User</p>\n\n<pre><code>class User {\n\nprivate $m_id;\nprivate $m_username;\nprivate $m_description;\n\npublic function __construct($id, $username, $description) {\n    $this-&gt;m_id;\n    $this-&gt;m_username;\n    $this-&gt;m_description;\n\n}\n\npublic function getId() {\n    return $this-&gt;m_id;\n}\npublic function getUsername() {\n    return $this-&gt;m_username;\n}\npublic function getDescription() {\n    return $this-&gt;m_description;\n}\n}    \n</code></pre>\n\n<p>UserController</p>\n\n<p>user is null</p>\n\n<pre><code>class UserController {\n\n public function doControll(\\Model\\Database $db, \\Model\\UserHandler $userHandler) {\n\n    $user = \\View\\NavigationView::getCurrentUser($userHandler, $db);\n\n    $out-&gt;m_userHtml = $userView-&gt;showUser($user);\n\n    return $out;\n }\n}\n</code></pre>\n\n<p>NavigationView</p>\n\n<p>$username is not empty</p>\n\n<pre><code>class NavigationView {\n\n public static function getCurrentUser(\\Model\\UserHandler $userHandler, \n                                                        \\Model\\Database $db) {\n     if (isset($_GET[\"username\"])) {\n        $username = $_GET[\"username\"];\n        $ret = $userHandler-&gt;getUser($username, $db);\n                    return $ret;         \n     }\n }\n}\n</code></pre>\n\n<p>UserHandler</p>\n\n<p>I get the values that I want from the database</p>\n\n<pre><code>class UserHandler{\n\npublic function getUser($username, Database $db) {\n        $sql = \"SELECT * FROM user WHERE m_username = ?\";\n        $stmt = $db-&gt;Prepare($sql);\n\n        $stmt-&gt;bind_param(\"s\", $username);\n\n        $stmt-&gt;execute();\n\n        if ($stmt-&gt;bind_result($id, $username, $description) == FALSE) {\n                    throw new \\Exception($this-&gt;mysqli-&gt;error);\n            }\n\n\n         if ($stmt-&gt;fetch()) {\n\n            $ret = new User($id, $username, $description);       \n         } else {\n            throw new \\Exception(\"Could not find a user\");\n\n         }\n\n         $stmt-&gt;close();\n         return $ret;\n\n    }\n\n}\n</code></pre>\n\n<p>UserView</p>\n\n<pre><code>class UserView {\n\n public function showUser(\\Model\\User $user) {\n\n    $test = $user-&gt;getUsername();\n\n    return \"\n        &lt;div&gt;\n            &lt;h1&gt;$test&lt;/h1&gt;\n                    &lt;/div&gt;\n\n    \";\n\n }\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc","migration"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13191273,"title":"Connect two entities in Rails","body":"<p>I've got two entities: Issue and Project and I need to connect them together. \nIn model/issue.rb I've got:</p>\n\n<pre><code>class Issue &lt; ActiveRecord::Base\n   attr_accessible :description, :estimate, :label, :status, :title\n   belongs_to :project\n   validates :title, :presence =&gt; true\n   validates :estimate, :numericality =&gt; {:greater_than_or_equal_to =&gt; 0.1}\nend\n</code></pre>\n\n<p>and in model/project.rb:</p>\n\n<pre><code>class Project &lt; ActiveRecord::Base\n   attr_accessible :description, :title\n   has_many :issues, :dependent =&gt; :destroy\nend\n</code></pre>\n\n<p>And now, I need to create issue under some (selected) project. I know project id, but I don't know it in issue controller. Can you tell me, what should I do? Do I need some new migrations or controllers? Thanks</p>\n\n<p>EDIT</p>\n\n<p>Ruby 1.8.7</p>\n\n<p>Rails 1.9.3</p>\n\n<p>Rake 0.9.2.2</p>\n\n<p>I made new migration:</p>\n\n<pre><code>def self.up\nadd_column :issues, :project_id, :integer, :null =&gt; false\nend\n</code></pre>\n\n<p>but there is no project_id column in issues table.</p>\n"},{"tags":["java","mvc","architecture","svg"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13193508,"title":"How many instances of View objects in MVC","body":"<p>I am trying to create a MVC application for editing SVG objects.\nI have classes like <code>Circle</code>, <code>Rectangle</code>, <code>Text</code> as Model and <code>CircleView</code>, <code>RectangleView</code> and <code>TextView</code> as View.</p>\n\n<p><em>Is it correct from the point of view of MVC to have for each instance of a shape (for example <code>Circle</code>) to have an instance of a View (like <code>CircleView</code>)?</em></p>\n\n<p>That would mean for 100 shapes drawn on the canvas I will get 100 View instances.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":42,"score":-2,"question_id":13116755,"title":"How to pass value from Parent View to Partial View on load","body":"<p>I am opening one edit Profile page in my view. I want to display skills of the person in his profile Page; his skills are stored in another table. Now I want to open one Partial View to show his skills. Please help me how to show the partial View.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","entity-framework","stored-procedures"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":296,"score":0,"question_id":10282061,"title":"HOw can I access two database in single .edmx file?","body":"<p>I have created mvc3 application.</p>\n\n<p>I have one <code>.edmx</code> already created which is based on <code>Db1</code> but now\nI have created a view which is based on <code>Database2</code> and I need to use this view inside my project.</p>\n\n<p>For that I need to update my EF <code>.edmx</code> file.\nbut when I right click and select option <code>Update model from Database</code>\ni'm only getting <code>all tables , view ,sps from</code>Db1<code>` its obvious\nBut as i need to use view which is from</code>Database2<code>how can i add it into my model</code>.edmx` file?\nplease help. </p>\n"},{"tags":["python","django","mvc","metaclass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13189837,"title":"Django duplicate model definition/fields","body":"<p>Here's what I was using:</p>\n\n<pre><code>class a(models.Model):\n    x = models.CharField()\n\nclass b(a):\n    pass\n</code></pre>\n\n<p>The problem with this is that when an instance of b is created, an instance of a is also created, I'm guessing this is because b is inheriting some property that Django assigns such as the database table. I would like to have b have all the fields and methods so that this duplication does not happen. How can this be done <strong>without simply copy and pasting all the code from a to b or using an abstract base class c and have a and b both inherit from c (I'd like to only have two models/classes)?</strong> Would you have to use metaclasses?</p>\n"},{"tags":["javascript","mvc","routing","angularjs","angular"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":214,"score":2,"question_id":12524533,"title":"Can angularjs routes have default parameter values?","body":"<p>Can I set a default value of a parameter of a route in angularjs ? Is there a way to have '/products/123' and '/products/' handled by the same route ?</p>\n\n<p>I'm looking to refactor my existing code, which looks like:</p>\n\n<pre><code>myModule.config(['$routeProvider', function($routeProvider) {\n    $routeProvider.\n     when('/products/', {templateUrl: 'products.html', controller: ProductsCtrl}).            \n     when('/products/:productId', {templateUrl: 'products.html', controller: ProductsCtrl})\n}]);\n\n\nfunction ProductsCtrl($scope, $routeParams) {\n    $scope.productId = typeof($routeParams.productId) == \"undefined\" ? 123 : $routeParams.productId;\n}\n</code></pre>\n\n<p>It works, but it's not very elegant. Is there a better way ?</p>\n"},{"tags":["cocoa","mvc","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13190025,"title":"Coordination between classes in Cocoa","body":"<p>I have a program with a lot of controllers which need to co - ordinate with each other . I'm confused about which mechanism to use . What are the pro and con of using :</p>\n\n<ul>\n<li>Delegate</li>\n<li>Bindings</li>\n<li>Notifications</li>\n<li>Key Value observing</li>\n</ul>\n\n<p>Specifically is there any problem with using notifications all over place ? I'm planning to do that as it allows a class to just put out some information and not bother about anything else.</p>\n"},{"tags":["java","swing","mvc","design-patterns","swingworker"],"answer_count":3,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":247,"score":6,"question_id":12759619,"title":"MVC - SwingWorker with a long running process that should update the view","body":"<p><strong>How to obtain separation of the View from model when using a SwingWorker  with a long running process that should send updates back to the controller ?</strong> </p>\n\n<ul>\n<li><p>I can use the <code>SwingWorkers</code> <code>doInBackground()</code> to keep the EDT responsive by calling   e.g <code>model.doLongProcess()</code> from in there great!</p></li>\n<li><p>The issue I have is trying to get data back before the process is finished, to update the view with the progress..</p></li>\n<li><p>I know that I can get data back by using by using the <code>SwingWorkers</code> <code>publish()</code> method but this I think forces me to write the code for the <code>doLongProcess()</code> method within  <code>doInBackground()</code>.</p></li>\n</ul>\n\n<hr>\n\n<p>For reference the MVC implementation I have a looks a little like this:</p>\n\n<p><a href=\"http://www.leepoint.net/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow\">http://www.leepoint.net/notes-java/GUI/structure/40mvc.html</a></p>\n\n<pre><code>/ structure/calc-mvc/CalcMVC.java -- Calculator in MVC pattern.\n// Fred Swartz -- December 2004\n\nimport javax.swing.*;\n\npublic class CalcMVC {\n    //... Create model, view, and controller.  They are\n    //    created once here and passed to the parts that\n    //    need them so there is only one copy of each.\n    public static void main(String[] args) {\n\n        CalcModel      model      = new CalcModel();\n        CalcView       view       = new CalcView(model);\n        CalcController controller = new CalcController(model, view);\n\n        view.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>I have one Model Class which wraps a number of other classes together to a form simple interface for the controller.</p>\n\n<p>I really don't want to have to move all/some/any of the code from these Classes into the controller - It doesn't belong there.</p>\n\n<hr>\n\n<p><strong>Update:</strong> </p>\n\n<p>Here is the approach that I am taking - Its not the cleanest solution and It could be perceived as an abuse of <code>PropertyChangeSupport</code>.. on a semantic level.</p>\n\n<p>Basically all the low-level classes that have long running methods will have a <code>propertyChangeSupport</code> field. The long running methods call the <code>firePropertyChange()</code> periodically to update on the status of the method and not necessarily to report the change of a property - that is what I mean by semantic abuse!.</p>\n\n<p>Then the Model class which wraps the low level classes catches these events and issues its own highlevel <code>firePropertyChange</code> .. which the <code>controller</code> can listen for... </p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>To clarify, when I call firePropertyChange(propertyName, oldValue, newValue);</p>\n\n<ul>\n<li>propertyName ---> I abuse the propertyName to represent a topicname</li>\n<li>oldValue =null</li>\n<li>newValue = the message that I want to broadcast</li>\n</ul>\n\n<p>Then the PropertyChangeListener in the model or where ever can discern the message based on the topicname.  </p>\n\n<p>So Iv basically bent the system to use it like a publish-subscribe ....</p>\n\n<hr>\n\n<p>I guess in place of the above method I could add a progress field to the lowlevel classes that gets updated, and then firePropertyChange based on that.. this would fall into line with how its supposed to be used.</p>\n"},{"tags":["html","asp.net-mvc-3","mvc","drop-down-menu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2123,"score":0,"question_id":6333270,"title":"Populate @Html.DropDownList with a List<string> using MVC","body":"<p>I'm trying to populate a @Html.DropDownList with a List using MVC and Razor.\nBellow is my code for the controller. So I need to pick the list out of my ViewBag and fill the dropdownlist. </p>\n\n<pre><code>public ActionResult Register()\n    {\n        sparklingEntities context = new sparklingEntities();\n        var query = (from discs in context.Disciplines\n                     select discs).ToList();\n        List&lt;string&gt; listOfDiscs = new List&lt;string&gt;();\n        foreach (var item in query)\n        {\n            listOfDiscs.Add(item.Discipline);\n        }\n        ViewBag.ListOfDisciplines = listOfDiscs;\n        return View();\n    }\n</code></pre>\n\n<p>Thanks for the help.</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":3,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":374,"score":7,"question_id":9440519,"title":"Symfony2 MVC: where does my code belong?","body":"<p>I'm seeking clarification on whether to put code in a controller, an entity or to make a service.</p>\n\n<p>I have 'cardset' and 'card' objects (where many of the latter are embedded in the former, MongoDB), represented by normal PHP classes/objects. These contain attributes e.g. 'id', 'postal_address'.</p>\n\n<p>I have a method that generates a PDF of a card. Currently I have that inside the 'Card' object so from a Controller I can call:</p>\n\n<pre><code>$card-&gt;makePDF()\n</code></pre>\n\n<p>That seems clean and OO to me, but I suspect I'm wrong.</p>\n\n<p>If I put all the logic in the controller that gets long and unwieldy, and I'm not sure the controller is the place for methods that act on my objects. Is that what services are for?</p>\n\n<p>To try and summarise: should an object know all the regular things it could do 'to itself' and have them inside as member functions, or should methods elsewhere be passed the object to act upon. If so, where should those methods be kept?</p>\n\n<p>I'm pretty sure it's not a 'Repository' because that just seems to help retrieve/store entities.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","model","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13177824,"title":"Yii: Following strict MVC rules to ensure that all the business logic is in appropriate places","body":"<p>Sticking to MVC basics in Yii, I am trying to embed my business rules in the model class but facing problem in implementing it. The problem at hand is to stop the user from making duplicate entries and code the function in model class that checks if the entry already exists in table. I want to write a method in my model class which would query the sames model's underlying table and if the new business entity exists, it simply returns false. If I code this in controller, I can achieve the desired functionality but I want to keep this in model so that where ever the model is used, I can access the method and also stick to MVC basics which dictates Thin Controllers and Thick Models. Thanks in advance.</p>\n"},{"tags":["mvc","frameworks","coldfusion"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13172495,"title":"How to organize ColdFusion-based MVC application?","body":"<p>I want to move one of our existing apps (currently located in <a href=\"http://www.companywebsitegoeshere.com/myapp1\" rel=\"nofollow\">http://www.companywebsitegoeshere.com/myapp1</a>) to an MVC structure. </p>\n\n<p>As can be seen in the URL, there are <b>many</b> apps running in the website which I intend to move at some stage. I <b>don't have write access</b> to the wwwroot (/var/www/html in my case) and the webserver is used by multiple developers across the company.</p>\n\n<p>I'm hoping I can have the MVC framework core files/folders + my app all located in in 1 subfolder. In the case of myapp1, all the filers and folders will be inside /var/www/html/myapp1 subfolder.</p>\n\n<p>Can you please point me to the right direction (links/guides/docs/videos/etc)? I've looked at several like cfwheels/mach-ii/fw1 but they seemed to require wwwroot access.</p>\n"},{"tags":["mvc","javafx-2","fxml","scenebuilder"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13125653,"title":"Correct MVC approach for communication between classes of a custom component in JavaFX 2","body":"<p>I have a custom <code>JavaFX-2</code> component written in the <code>fxml</code> language (Which I'll referrer as child or children), which I used the <code>JavaFX Scene Builder</code> to create it. One of my view classes need to display several (~100) of those components and communicate with them.  With the <code>MVC</code> architecture in mind, what's the best approach for communication?</p>\n\n<ol>\n<li>(Container) Model -> (Children) Model</li>\n<li>(Container) Controller -> (Children) Controller</li>\n<li>(Container) Controller -> (Children) Model</li>\n</ol>\n\n<p>Basically I need at least to be able to monitor 2 case of events happening in the children UI and or in the container object. </p>\n\n<p><strong>Case 1</strong>: The user clicked a button (or interacted with another object) which exists inside my custom component (child), the container must be communicate about the change.</p>\n\n<p><strong>Case 2</strong>: The user triggered an event on the container, filtering the components based on a specific query for example, I need to communicate the children about this change.</p>\n\n<p>Thanks in advance for all the help. Cheers</p>\n"},{"tags":["php","mvc","joomla"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13160062,"title":"Joomla Component MVC variable passing between View and Controller","body":"<p>I am relatively new to Joomla and the way they implement an MVC arcitecture. It is slighty different to how I am used to it (Code Igniter, etc) and I am having a few issues simply passing data to the view.</p>\n\n<p>I have created a function in the controller called 'getInitClubs' which sould be run automatically when the page runs, therefore I have made a call to this function from the 'view.html' file.</p>\n\n<p>Here is my code:</p>\n\n<p>Controller function:</p>\n\n<pre><code>public function getInitClubs() {\n        $model =&amp; $this-&gt;getModel('directory');\n        $init_clubs = $model-&gt;clubResults($conds = array());\n        return $init_clubs;\n    }\n</code></pre>\n\n<p>Model Function:</p>\n\n<pre><code>public function clubResults($conds) {\n    $query = \"SELECT * FROM vyj20_contact_details\";\n    if(isset($conds['city'])) {\n        $query .= \" WHERE state = '\" . mysql_escape_string($conds['city']) . \"'\";\n    }\n    if(isset($conds['suburb'])) {\n        $query .= \" AND suburb = '\" . mysql_escape_string($conds['suburb']) . \"'\";\n    }\n    $this-&gt;_db-&gt;setQuery($query);\n    $results = $this-&gt;_db-&gt;loadObjectList();\n    return $results;\n}\n</code></pre>\n\n<p>Now i know the model and controller code works, this is not the issue, the issue is actually pulling the results from the controller function 'getInitClubs' and showing them through the view.</p>\n\n<p>How do I call the controller function from the view (like I would on Code Igniter MVC) in order to collect results for display? I have tried and tried but just can't seem to figure it out!\nThanks</p>\n"},{"tags":["mvc","charts","telerik"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":977,"score":4,"question_id":7147581,"title":"Telerik MVC Chart ClientEvents.OnDataBinding","body":"<p>I want to show a poll result for a specific poll question.\nWhen question list clicked i want to bind my chart with a query according to selected questionId.</p>\n\n<p>So my plan was;\n1. get questionId from selected question row. it's ok.</p>\n\n<ol>\n<li><p>defining ClientEvents.OndataBinding event on my chart. So i would be able to \npass questionId with; </p>\n\n<p>function onChartDataBinding(e) {\n        e.data = $.extend(e.data, { questionId: questionId });\n    }</p></li>\n<li><p>using <code>$('#ChartPollResults').data('tChart').rebind();</code> on question list grid row selected event.</p></li>\n</ol>\n\n<p>This scenario works when i have second grid binding according to first grids selected row.\nBut it seems there is no ClientEvents.OnDataBinding event on chart control.\nAnd \"<code>rebind()</code>\" method isn't supported on Chart control.</p>\n\n<p>The chart conrol i use is below.</p>\n\n<pre><code>@(Html.Telerik().Chart&lt;QuestionResult&gt;()\n                            .Theme(\"WebBlue\")\n                            .Name(\"ChartPollResults\")\n                            .Title(\"Poll Question Choice Number vs. Choice Count\")\n                            .Legend(legend =&gt; legend.Position(ChartLegendPosition.Bottom))\n                            .Series(series =&gt;\n                            {\n                                series.Bar(\"ChoseCount\").Name(\"Choice Count\").Gap(5);\n                            })\n                            .CategoryAxis(axis =&gt; axis.Categories(o =&gt; o.ChoiceNumber))\n\n                            .DataBinding(dataBinding =&gt; dataBinding.Ajax().Select(\"_PollResultChartBinding\", \"Poll\", new { questionId = 0 }))\n                            .HtmlAttributes(new { style = \"width: %100px; height: 270px\" })\n                    )\n</code></pre>\n\n<p>My Controller binding method;</p>\n\n<pre><code>public ActionResult _PollResultChartBinding(int questionId = 0)\n{\n            //questionId = 3;\n            if (!ModelState.IsValid || questionId == 0)\n                return Json(new List&lt;QuestionResult&gt;());\n\n            PollQuestionDefinition pollQuestion = service.Get(questionId);\n            List&lt;PollAnswer&gt; pollAnswers = service.GetPollAnswersByQuestion(questionId);\n            PollQuestionResultUI result = new PollQuestionResultUI(pollQuestion, pollAnswers);\n\n            return Json(result.Results);\n}\n</code></pre>\n\n<p>When i comment out <code>//questionId = 3;</code> line i can see the results for the question wiht Id= 3 in chart with no problem.</p>\n\n<p>But i can't pass questionId to chart.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13168174,"title":"MVC - Codeigniter - View talking to the model","body":"<p>In most of the posts I've seen on StackOverflow surrounding the MVC architecture, people have said that the model should only be communicated with from the controller, and not from the view.</p>\n\n<p>I'm a little confused about this, because when you Google MVC:\n-<a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a>\n-<a href=\"http://i.msdn.microsoft.com/dynimg/IC108622.gif\" rel=\"nofollow\">http://i.msdn.microsoft.com/dynimg/IC108622.gif</a>\nthe graphics seem to indicate that there is communication from the view directly to the model.</p>\n\n<p>The specific application I'm wondering about this for is an Ajax/jQuery hierarchical select box like the one here <a href=\"http://kotowicz.net/jquery-option-tree/demo/demo.html\" rel=\"nofollow\">http://kotowicz.net/jquery-option-tree/demo/demo.html</a>. After each selection I was thinking of getting the next box's data from the model. I'm using the Codeigniter framework.</p>\n\n<p>Just after some expertise around the best practice here.</p>\n"},{"tags":["c#","javascript","mvc","server-sent-events"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13168306,"title":"How to let the function wait until event is fired?","body":"<p>On the server-side I've got a hook function that looks like this:</p>\n\n<pre><code>public ActionResult Hook(string token)\n{\n    try\n    {\n        ManualResetEvent Event = new ManualResetEvent(false);\n        int EID = (new Random()).Next(100, 10000000); Collective.SessionPool[token].EventPool.Add(EID, Event);\n        Event.WaitOne(); \n        Collective.SessionPool[token].EventPool.Remove(EID);\n        return new ServerSentEventResult()\n        {\n            Content = () =&gt;\n            {\n                return Serializer.Serialize(new EventResult() { Data = Collective.SessionPool[token].Data, Event = Collective.SessionPool[token].Event });\n            },\n            Version = (new Random()).Next(100, 10000000)\n        };\n    }\n    catch (Exception e)\n    {\n        return Content(\"Error: An error has occured on the hooked thread. Re-hook to try again.\");\n    }\n}\n</code></pre>\n\n<p><code>ServerSentEvent</code> Class looks like this:</p>\n\n<pre><code>public class ServerSentEventResult : ActionResult\n{\n    public delegate string GetContent();\n    public GetContent Content { get; set; }\n    public int Version { get; set; }\n\n    public override void ExecuteResult(ControllerContext context)\n    {\n        if (context == null)\n        {\n            throw new ArgumentNullException(\"context\");\n        }\n\n        if (this.Content != null)\n        {\n            HttpResponseBase response = context.HttpContext.Response;\n            response.ContentType = \"text/event-stream\"; response.BufferOutput = false; response.Charset = null;\n            string[] newStrings = context.HttpContext.Request.Headers.GetValues(\"Last-Event-ID\");\n            if (newStrings == null || newStrings[0] != this.Version.ToString())\n            {\n                try\n                {\n                    response.Write(\"retry:\" + (new Random()).Next(200, 350) + \"\\n\");\n                    response.Write(string.Format(\"id:{0}\\n\", this.Version));\n                    response.Write(string.Format(\"data:{0}\\n\\n\", this.Content()));\n                    response.End();\n                }\n                catch (HttpException e) { }\n            }\n            else\n            {\n                response.Write(String.Empty);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that when there are two clients connected one of the two can't reconnect after receiving the first event. This is because somehow an error occurs in the Hook function but when you try to look at the output manually it works and looks all perfectly fine. </p>\n\n<p>I'm thinking it has something to do with the way I handle the waiting process, this happens by halting the execution through a <code>ManualResetEvent</code>. It was the best I could find to let this happen. </p>\n\n<p>Could someone please help me out?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","design"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13166587,"title":"How to have different controllers/actions for one view","body":"<p>What is the best method to have one single view (I have one html page with different sections () sort of like mini pages on one page) and have different sections call different controllers and actions through that one view?\nBecause in layouts only one &lt;%= yield %> is acceptable?</p>\n"},{"tags":["php","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13158380,"title":"Interaction between \"fat model\" and controller","body":"<p>I'm trying to apply \"fat model\" principle, but I have no clue how to make interaction between \"fat model\" and controller correctly.</p>\n\n<p>Let's suppose that we have <code>Model_User</code>, <code>Controller_User</code> and <code>Model_User_Resource</code> (interacting with Db).</p>\n\n<pre><code>class Model_User\n{\n\n    public function register($data, $sendRegistrationEmail = false) {\n\n        //checking ACL rules\n        if (!$this-&gt;getAcl()-&gt;checkAcl('registration')) {        \n            throw new Acl_Exception();\n        }\n\n        //validating form\n        $F = new Form_User_Registration($data);\n        if (!$F-&gt;isValid()) {\n            return $F;\n        }\n\n        //inserting data and returning new user's id\n        $Resource = new Model_User_Resource();\n        $userId = $Resource-&gt;insert($data);\n\n        return $userId;\n\n    }\n\n}\n\nclass Controller_User\n{\n\n    public function registrationAction() {\n\n        $post = $this-&gt;getRequest-&gt;getPost();\n        $Model = new Model_User();\n        $result = $Model-&gt;register($post);\n\n        if ($result instanceof Form_User_Registration) {\n            //model has returned Form instance\n            return new Response(json_encode($result-&gt;getErrors()));\n        }\n\n        //registration was successful and we're doing some kind of redirect here, I suppose\n\n    }\n\n}\n</code></pre>\n\n<p>So, what's wrong with this code?\nModel could: throw Acl exception, return Form instance if some errors occured, return integer if success or any other exceptions.\nMy question is: <strong>Is it correct that Model is returning errors in this way? What is the best practice? Could this way be pain in the ass in the future?</strong></p>\n\n<p>Thank you!</p>\n"},{"tags":["javascript","mvc","internet-explorer-6","spine.js"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":639,"score":2,"question_id":7020987,"title":"Spine.js IE6 Support","body":"<p>So I've been looking at <a href=\"http://maccman.github.com/spine/\" rel=\"nofollow\">Spine.js</a> recently as an alternative to Backbone. However, in the documentation is states:</p>\n\n<blockquote>\n  <p>Works in all major browsers (Chrome, Safari, Firefox, IE >= 7)</p>\n</blockquote>\n\n<p>then in the comments on <a href=\"http://addyosmani.com/blog/building-apps-spinejs/\" rel=\"nofollow\">this</a> page some one says:</p>\n\n<blockquote>\n  <p>Spine doesn't seem to run in IE6 or IE7... Maybe even other Internet\n  Explorers.  Shouldn't this be pointed out? Backbone runs fine with\n  these. Am I just missing something?</p>\n</blockquote>\n\n<p>reply:</p>\n\n<blockquote>\n  <p>Maybe because of json? \"If you're using an older browser which doesn't\n  have native JSON support (i.e. IE 7), you'll need to include json2.js\n  which adds legacy support.\" (from the docs)</p>\n</blockquote>\n\n<p>This is literally ALL the information i could find on the subject. Does anyone know if ie6 is at all supported? If not I'm afraid I will not be able to use it...</p>\n"},{"tags":["javascript","jquery","ajax","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13151470,"title":"Override url and parse in Backbone collection","body":"<p>I want to override the collection for development purpose (return fake json results from a JSON var or JSON file). But I got error doing below with <code>url</code></p>\n\n<p><a href=\"http://jsfiddle.net/qhoc/uZhM8/\" rel=\"nofollow\">http://jsfiddle.net/qhoc/uZhM8/</a></p>\n\n<pre><code>GET http://fiddle.jshell.net/_display/[object%20Object],[object%20Object] 404 (NOT FOUND)\n</code></pre>\n\n<p>However, if I use <code>parse</code>, it seems the <code>parse</code> got executed right after <code>initialize</code> because of both my <code>console.log</code> results show the same thing</p>\n\n<p><a href=\"http://jsfiddle.net/qhoc/uZhM8/1/\" rel=\"nofollow\">http://jsfiddle.net/qhoc/uZhM8/1/</a></p>\n\n<p><strong>So how to override the <code>url</code> so that fetch can add another JSON at some point (in separate function)?</strong></p>\n"},{"tags":["asp.net","mvc","checkbox","unchecked"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":536,"score":0,"question_id":4341572,"title":"ASP.NET: How to make a checkbox always unchecked even post-submit","body":"<p>Just started learning how to develop a ASP.NET application, i am puzzled on how to make a checkbox is always unchecked even after form submit where a user tick the checkbox. The checkbox is for acknowledgment that user agrees to the terms and conditions ... and when form submit return some errors I want to display the error message on the screen and keep the checkbox unchecked regardless it was ticked or not.</p>\n\n<p>In my view I have the following:</p>\n\n<pre><code>&lt;%: Html.CheckBoxFor(m =&gt; m.UserAgreement) %&gt;\n</code></pre>\n\n<p>And I have tried both the following in my controller and none of them works:</p>\n\n<pre><code>ViewData[\"UserAgreement\"] = false;\n\nreturn View(new MyModel { UserAgreement = false});\n</code></pre>\n\n<p>Anyone can help on how to achieve what I need? Thank you.</p>\n"},{"tags":["c#","mvc","activedirectorymembership"],"answer_count":3,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":879,"score":6,"question_id":4671460,"title":"MVC Active Directory Membership","body":"<p>I am trying to make use of the active directory membership rather than SQL but there is very limited documentation available online.  I have managed to connect my application to the domain controller without any problems but when you use \"Context.User.Identity.Name\" it comes up with DOMAIN\\User.  I want to basically drill down and get information such as full name, e-mail address, etc.</p>\n\n<p>I just need a useful link and the searching I have done doesn't appear to have got me anywhere!</p>\n\n<p>Many thanks</p>\n"},{"tags":["mvc","mvvm"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":810,"score":3,"question_id":3739385,"title":"ASP.Net MVC and MVVM","body":"<p>MVVM is a Microsoft design pattern that existed before ASP.Net MVC. Can anyone through light on differences between MVVM and the new MVC pattern?. </p>\n"},{"tags":["c#","mvc","asp.net-mvc-3","gridview","c#-4.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":738,"score":0,"question_id":6139912,"title":"Expandable GridView Tree","body":"<p>What is the best way to make a Expandable TreeGridView in ASP.NET MVC 3.0 . \nSomething like this, A grid with a parent like treeview.</p>\n\n<blockquote>\n  <ul>\n  <li>1 AAAAA Description\n  <ul>\n  <li>20201 100 10 B</li>\n  <li>20203 300 15 C</li>\n  </ul></li>\n  <li>2 BBBBB Description B\n  <ul>\n  <li>20201 100 10 B</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>I need Something like this ... <a href=\"http://blogs.msdn.com/b/markrideout/archive/2006/01/08/510700.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/markrideout/archive/2006/01/08/510700.aspx</a></p>\n"},{"tags":["ruby-on-rails","mvc","model"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13144601,"title":"Where should I place a \"notify user\" method in a Rails app (or any MVC app)?","body":"<p>I have heard several views on MVC structure in a web application. Some people believe the model should be very small, and only contain ActiveRecord (or some other ORM) and small things like <code>validates</code> and <code>belongs_to</code>, so model's are only a couple lines long.</p>\n\n<p>I personally think the model can play a larger role in apps. For example, I need to notify a user frequently throughout my app. The notifications can trigger from multiple controllers. They all send a notification to a user based on his or her notification settings, which is an object accessible through the user model.</p>\n\n<p>I would like to make something like:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  #validations, relationships, etc\n\n  def notify(event)\n    notif = Notification.new\n    notif.type = event.type\n    notif.to = self.id\n    # etc\n\n    if notif.save\n      # send the notification based on the settings\n    end\n  end\nend\n</code></pre>\n\n<p>This would make it possible from any controller to use <code>@user.notify</code> to deliver messages to a user. This makes things really clean, but I realize there is some logic in my model. Not to mention the model makes another model.</p>\n\n<p>Another approach I wouldn't mind is creating the notification and sending it through that object. So controllers could do <code>Notification.new(:to =&gt; @user.id, ...)</code> and then deliver the message via a <code>Notification.send</code>. This would also put some logic in the Notification object so it knows how to send itself. In fact, I might like this approach better than creating the notification object through the User model.</p>\n\n<p>I don't mind these small bits of logic in the Model to make things convenient when sending messages from multiple controllers. Is this the best way to go about it? I suppose a more purist method is to include a NotificationHelper module in each controller that sends notifications?</p>\n\n<p>edit: I've been reading a bit about \"domain logic\" in models. It seems like this is encouraged, and I suppose the <code>notify</code> or <code>send</code> methods are considered domain logic. Can any developer experienced in MVC comment on this?</p>\n"},{"tags":["php","oop","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13143558,"title":"How can I make User class accessible to all in a PHP MVC?","body":"<p>I'm working on a PHP MVC but struggling to handle certain aspects of the design, making the User information accessible easily to everything is really puzzling me.</p>\n\n<p>I did have User as an abstract class so you could just use <code>User::getUserId()</code> but I'm not sure that was the right way to do it?</p>\n\n<p>I've now changed it to the following but it's not working.</p>\n\n<p><strong>The Problem</strong></p>\n\n<p>Say I have a basic controller where I want to instantiate the User class every time it's run:</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>class controller{\n\n    public $user;\n\n    function __construct(){\n\n        $this-&gt;user = new User();\n        $user-&gt;sessionRefresh();\n        $user-&gt;getUserId();\n\n    }\n}\n</code></pre>\n\n<p>and then I have a User model class that was instantiated:</p>\n\n<p><strong>User Model Class</strong></p>\n\n<pre><code>class User{\n\n    var $userId;\n\n    function sessionRefresh(){\n\n        if (isset($_SESSION['userId']) &amp;&amp; $_SESSION['created'] + 15 * 60 &lt; time())                  \n            session_regenerate_id();\n    }\n\n    function getUserId(){\n\n        $this-&gt;userId = $_SESSION['userId'];\n    }\n}\n</code></pre>\n\n<p>and then I have more controllers that extend the default controller:</p>\n\n<p><strong>Forum Controller</strong> - Very basic just to demo what I'm trying</p>\n\n<pre><code>class forumcontroller extends controller{\n\n    function __construct(){\n\n        require 'templates/forum.php';\n    }\n\n}\n</code></pre>\n\n<p><strong>Forum Template</strong> - Very basic example</p>\n\n<pre><code>&lt;html&gt;\n&lt;title&gt;Forum&lt;/title&gt;\n&lt;body&gt;\n    &lt;div&gt;Welcome User: &lt;?=$user-&gt;userId;?&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Is what I'm doing completely wrong?</p>\n\n<p>I've only recently tried to take the leap from procedural to mvc/oop in PHP and clearly it's confusing me still.</p>\n"},{"tags":["java","swing","mvc","arraylist","jlist"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13141732,"title":"When ArrayList is updated in Model JList should be updated in View","body":"<p>I've been playing around with this for a while now with no success.  I've had a look at ListModel but have struggled to implement it into my current project.</p>\n\n<p>I have a Producer class thread adding elements to an ArrayList in the Model.  This works fine and the ArrayList is being updated at runtime.  My problem is, I then want the new objects added to the ArrayList to be added to the JList in the View class.  I can't see how to incorperate ListModel or DefaultListModel into my current setup.  Help much appreciated.</p>\n\n<pre><code>public class Person\n{\n    private String name;\n    private int    age;\n\n    public Person(String name, int age)\n    {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public int getAge()\n    {\n        return age;\n    }\n\n    public String toString()\n    {\n        return this.name;\n    }\n}\n\npublic class Producer extends Thread\n{\n    private Model model;\n\n    public Producer(Model model)\n    {\n        this.model = model;\n    }\n\n    public void run()\n    {\n        Person fred     = new Person(\"Fred Flintstone\", 37);\n        Person wilma    = new Person(\"Wilma Flintstone\", 18);\n        Person pebbles  = new Person(\"Pebbles Flintstone\", 15);\n        Person dino     = new Person(\"Dino Flintstone\", 45);\n        Person barney   = new Person(\"Barney Rubble\", 76);\n        Person betty    = new Person(\"Betty Rubble\", 76);\n        Person bamm     = new Person(\"Bamm-Bamm Rubble\", 76);\n\n        try\n        {\n            model.addPerson(fred);\n            Thread.sleep(1500);\n            model.addPerson(wilma);\n            Thread.sleep(1500);\n            model.addPerson(pebbles);\n            Thread.sleep(1500);\n            model.addPerson(dino);\n            Thread.sleep(1500);\n            model.addPerson(barney);\n            Thread.sleep(1500);\n            model.addPerson(betty);\n            Thread.sleep(1500);\n            model.addPerson(bamm);\n        }\n        catch(Exception e)\n        {\n            System.out.println(\"Error adding Person object to Model.people\n                                ArrayList\" + e);\n        }\n    }\n}\n\npublic class Model \n{\n    private List &lt;Person&gt; people;\n\n    public Model()\n    {\n        people = new ArrayList&lt;Person&gt;();\n    }\n\n    public List&lt;Person&gt; getPeople()\n    {\n        return people;\n    }\n\n    public void addPerson(Person aPerson)\n    {\n        people.add(aPerson);\n        System.out.println(\"Person object added to people list:\" + aPerson);\n    }\n\n    public void removePerson(Person aPerson)\n    {\n        people.remove(aPerson);\n    }\n}\n\npublic class View extends JFrame\n{\n    private JPanel              topPanel, botPanel;\n    private JList               peopleList;\n    private JScrollPane         scrollPane;\n    private Model               model;\n\n    public View(Model model)\n    {\n        this.model = model;\n        setSize(200, 220);\n        setTitle(\"View\");\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        topPanel = new JPanel();\n        botPanel = new JPanel();\n        peopleList = new JList(model.getPeople().toArray());\n        scrollPane = new JScrollPane(peopleList);\n        topPanel.setLayout(new GridLayout(1, 1));\n        topPanel.add(scrollPane);\n        topPanel.setBorder(BorderFactory.createTitledBorder\n       (BorderFactory.createEtchedBorder(), \"People list\"));\n\n        Container cp = getContentPane();\n        cp.add(topPanel, BorderLayout.NORTH);\n        cp.add(botPanel, BorderLayout.SOUTH);\n    }\n}\n\npublic class Main \n{\n    public static void main(String[] args)\n    {\n        Model model = new Model();\n        View theView = new View(model);\n        theView.setVisible(true);\n        Producer producer = new Producer(model);\n        producer.start();\n    }\n}\n</code></pre>\n"},{"tags":["iphone","ios","mvc","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13140574,"title":"ios, code-reuse issue, reuse viewController?","body":"<p>I have a view controller(A) which shows a list of items download from server.  </p>\n\n<p>I have another view controller(B) with segmented control.<br>\nWhen second index of segmentedControl is selected, the view controller(B) shows a list of items in the same format as in the controller(A).<br>\nWhen first index of segmentedControl is selected, the view controller(B) shows the items in different format.  </p>\n\n<p>I want A and B share a code for the common stuff.</p>\n\n<p>I first thought ok I could move all the view-related code to \"common_view class\" and use the view class from both controllers.<br>\nBut, it turns out that there are codes which are not related to view(such as downloading stuff from server, which is controller-part of mvc pattern).  </p>\n\n<p>Now I'm perplexed, \"is it a good idea to share a controller-part code? is it even possible?\"  </p>\n\n<p>I could factor out a common code into a commonViewController, and instantiate it from controller(A) and controller(B), and add commonViewController.view as a subview.<br>\nBut is this really desirable? or do you suggest any better way to do this?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12963363,"title":"using routes.MapPath to accomadate missing URL oparameter","body":"<p>I have an MVC website which used to use URLs in the standard format of:  Controller/Action.</p>\n\n<p>Recently, I have changed it to:   Site/Controller/Action. </p>\n\n<p>The problem is, there are several links to my site out there which follow the old format, and I want to redirect them accordingly.</p>\n\n<p>for example: mydomain.com/Home/CustomerSearch now should go to mydomain.com/Online/Home/CustomerSearch</p>\n\n<p>whereas: mydomain.com/AffiliatesHome/CustomerSearch now should go to mydomain.com/Affiliate/AffiliatesHome/CustomerSearch</p>\n\n<p>How can I get it to handle the redirecting by putting in the extra routing, depending on the link they came in by?</p>\n\n<p>The current routing I am using is:</p>\n\n<p>routes.MapRoute(\n      \"Default\", // Route name\n      \"{site}/{controller}/{action}/{id}\",<br>\n      new {site=\"IS\", controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n   );</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13009730,"title":"Why does my dynamic viewdata not get listed in my partial view?","body":"<p>I have passed the value from controller </p>\n\n<pre><code>public ActionResult Index(int? Page, string sortcol=\"ID\", string sortorder=\"ASC\", string firstname = \"\", string lastname = \"\", string emailaddress = \"\")\n{\n     int TotalPages = 0;\n\n        var userlist = ur.GetUsersList(firstname, lastname, emailaddress, Page ?? 1, PageSize,out TotalPages, sortcol, sortorder);\n\n        ViewBag.PageIndex = 1;\n\n        ViewData[\"TotalPages\"] = TotalPages.ToString();\n\n        if (Request.IsAjaxRequest())\n        {\n            return PartialView(\"ListUsers\", userlist);\n        }\n        return View(userlist);\n    }\n</code></pre>\n\n<p>And in my parent view:</p>\n\n<pre><code>@Html.Partial(\"ListUsers\", Model, ViewData)\n</code></pre>\n\n<p>And in my child view (listusers):</p>\n\n<pre><code>@ViewData[\"TotalPages\"]\n</code></pre>\n\n<p>i cannot get the value of Viewdata totalpages. Why is it so?\nIt always returns zero.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","razor","telerik-grid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":43,"score":-2,"question_id":13098543,"title":"how to bind the dynamic data table in mvc grid asop.net","body":"<p>I need to bind the dynamic data table in mvc grid. Give some code, samples and examples. for the dynamic data binding\n Thank you </p>\n"},{"tags":["asp.net-mvc","mvc","model-binding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13110728,"title":"Use single view model for details, edit and list","body":"<p>My view model looks something like this:</p>\n\n<pre><code>public class CarViewModel {\n    public CarModel Car { get; set; }\n    public List&lt;CarModel&gt; Cars { get; set; }\n}\n</code></pre>\n\n<p><code>CarModel</code> looks like:</p>\n\n<pre><code>public class Car() {\n    public string Make { get; set; }\n    public string Model { get; set; }\n    . . .\n}\n</code></pre>\n\n<p>My goal is to only have a single view model that I can use for both my list views and single views. For the list view, I would hydrate the Cars list and use that within the view, while ignoring the single Car entity.</p>\n\n<p>For a details view, it would be the opposite. My controller would hydrate the single Car entity, and the view would use that and ignore the List.</p>\n\n<p>This is partially working, but the model binding is weak.</p>\n\n<p>DRY (don't repeat yourself) and SOC/SRP (separation of concerns/single responsibility principal) seem to be conflicting here. What's the best way to handle both a list view plus a details view? I have a feeling the answer is to create duplicate view models, but I don't want to duplicate code if I can help it.</p>\n"},{"tags":["html","mvc","ember.js","javascript-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13124251,"title":"Emberjs: reload current state when global action called","body":"<p>Suppose I enter the 'user' state in the following Ember code:</p>\n\n<pre><code>Html:    \n&lt;button {{action doSomething App.currentUsername}}&gt;Go!&lt;/button&gt;\n\nJS:\nApp.Router = Ember.Router.extend({\n    enableLogging: true,\n    root: Ember.Route.extend({\n        doSomething: Ember.Route.transitionTo('user'),\n        main: Ember.Route.extend({\n            route: '/'\n        }),\n        user: Ember.Route.extend({\n            route: '/:username',\n            connectOutlets: function(router, context) {\n                //some actions\n            }\n        })\n    })\n});\n</code></pre>\n\n<p>When 'doSomething' action is called again I want Ember to rerun the connectOutlets code (because the username would have changed). </p>\n\n<p>Putting the code in a 'doSomething' action inside 'user' doesn't work beacause I need the context.</p>\n\n<p>Any idea how to do that? </p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","learn"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":66,"score":-3,"question_id":13119710,"title":"Best ways learn mvc views","body":"<p>mvc concepts controller and model but I'm a little bit confused about creating views, how can I easily learn this? Is there any standard procedure?</p>\n"},{"tags":["mvc","mvvm","windows-8","mvp","winjs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13127540,"title":"WinJS: does MVVM, MVP or MVC fit better with it?","body":"<p>I am building a simple Windows 8 LOB application using Javascript (WinJS) and HTML. In the application I would not like to have any third party dependencies. When deciding on the application structure I'm debating which pattern would fit best with the technology and the WinJS framework. </p>\n\n<p>My initial thoughts on the main advantages / disadvantages of using these patterns are as follow.</p>\n\n<p><strong>MVVM</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/RIEMJ.png\" alt=\"MVVM\"></p>\n\n<ul>\n<li>Pro: Clean separation of business logic in the ViewModel, making (unit)testing of the BL  easy</li>\n<li>Con: WinJS only has one-time and one-way databinding implemented out of the box, two-way databinding and commanding (binding to events) is not. These have to be implemented in a custom way (which can get tricky if one wants to stick with mostly declarative syntax on the view).</li>\n</ul>\n\n<p><strong>MVP</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/9j5Wl.png\" alt=\"MVP\"></p>\n\n<ul>\n<li>Pro: the presenter still contains all of the business logic together with the view logic and can be (unit)tested by itself. No data binding is needed in this approach.</li>\n<li>Con: both the View and the Presenter code will be more verbose than in the case of MVVM as they now have to notify each other on status changes. The View needs to forward events onto the Presenter and the Presenter has to update the View when its state changes.</li>\n</ul>\n\n<p><strong>MVC</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/2J3NX.png\" alt=\"MVC\"></p>\n\n<ul>\n<li>Pro: the View is very lightweight and no data binding is needed for this approach either.</li>\n<li>Con: the Controller has to register and handle input events (e.g. keyboard and mouse events) as well as contain the business logic. Compated to the ViewModel in MVVM and the Presenter in MVP this class would be the most bloated and somewhat more difficult to (unit) test.</li>\n</ul>\n\n<p>Based on these I would choose MVP to build this app. Could you agree with this or contradict?</p>\n"},{"tags":["php","ajax","mvc","design-patterns"],"answer_count":9,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":2696,"score":7,"question_id":719040,"title":"Kohana - where do you put AJAX scripts?","body":"<p>I am using <a href=\"http://kohanaphp.com/\">Kohana</a> but this question applies to Rails, CI, or any other MVC web development framework. Where is the best place to stick one's server side AJAX scripts? </p>\n\n<p>I was <em>planning</em> on creating an Ajax_Controller and using a method/action per individual script.</p>\n\n<p>For example, a login form on the home page <strong><code>index.php/home</code></strong> would send an XMLHttpRequest to <strong><code>index.php/ajax/login</code></strong>, and the edit profile form <strong><code>index.php/profile/edit</code></strong> would send an XMLHttpRequest to <strong><code>index.php/ajax/editprofile</code></strong>. What's the best practice?</p>\n"},{"tags":["jquery","mvc","backbone.js","coffeescript","requirejs"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":171,"score":0,"question_id":11776125,"title":"Coffeescript, RequireJS, Backbone - @ is out of scope","body":"<p>I have following code</p>\n\n<pre><code>define [\n  \"jquery\", \n  \"backbone\", \n  \"underscore\",\n  \"models/days\"\n], ($, Backbone, _, days) =&gt;\n\n  class Calendar extends Backbone.View\n\n    el          : \"#calendar_box\"\n    collection  : days\n\n    display: =&gt;\n      @collection.fetch_data\n        month :8\n        year  :2012\n      , @render\n\n    render: =&gt;\n      # console.log @collection - gives \"undefined\"\n      console.log @ # this returns \"Window\" instead of \"Calendar\" - current obj.\n\n  # return the calendar object\n  new Calendar()\n</code></pre>\n\n<p>It's a BackboneView in Coffeescript, which requests the server to get the days of the given month and year as a calendar.</p>\n\n<p>The data is returned fine, because I can check it in the Chrome console - the GET request and its response.</p>\n\n<p>However, within the \"render\" function, it looks like \"@\" is at the global level, instead of within the \"Calendar\" level. </p>\n\n<p>What happened here?</p>\n"},{"tags":["php","forms","mvc","handling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13125699,"title":"A few questions about form handling with MVC","body":"<p>I'm working on a personnal project of website where eventually some sort of email form is gonna be needed. For that purpose, I'm currently exercising by trying to make a model, a view and a controller to handle data submitted by a HTML form.</p>\n\n<p>I'm not going anywhere from here, and I really can't seem to get it right. I've been testing things for hours but it's not functionnal at all, and I think I've missed something important. I just want for now to succeed in fetching my POST datas, check the validation rules, and either showing a result page with some echos in it, or redirecting to the form by showing errors.</p>\n\n<p>These are the files I'm working with atm :</p>\n\n<p><strong>GreetingsFormController.php</strong> : Controller</p>\n\n<pre><code>class GreetingsFormController extends FrontController\n{\n    public function process()\n{\n    global $smarty; \n    $smarty-&gt;assign('action','classes/GreetingsForm.php');\n\n}\n\npublic function displayContent()\n{\n    global $smarty;\n    $smarty-&gt;display(_VIEWS_DIR_.'greetingsform.tpl');\n}   \n\n}\n</code></pre>\n\n<p><strong>GreetingsForm.php</strong> : Model</p>\n\n<pre><code>&lt;?php\n\nclass GreetingsFormCore {\n\n    public $fromFirstname;\n    public $fromName;\n    public $fromAdress;\n    public $fromCountry;\n    public $toFirstName;\n    public $toName;\n    public $toAdress;\n    public $message;\n    public $send;\n\n    public $errors;\n\n    function getValues()\n    {    \n        if (isset($_POST['fromFirstName']))\n            $fromFirstname = $_POST['fromFirstName'];\n        if (isset($_POST['fromName']))      \n            $fromName = $_POST['fromName'];\n        if (isset($_POST['fromAdress']))\n            $fromAdress = $_POST['fromAdress'];\n        if (isset($_POST['fromCountry']))\n            $fromCountry = $_POST['fromCountry'];\n        if (isset($_POST['toFirstName']))           \n            $toFirstName = $_POST['toFirstName'];\n        if (isset($_POST['toName']))\n            $toName = $_POST['toName'];\n        if (isset($_POST['toAdress']))\n            $toAdress = $_POST['toAdress'];\n        if (isset($_POST['message']))       \n            $message = $_POST['message'];\n        if (isset($_POST['send']))  \n            $send = $_POST['send'];\n    }\n\n\n    function checkData()\n    {\n\n        if (strlen($fromFirstName) &lt; 3)\n            $errors['fromFirstName'] = 'From : First name too short';\n        elseif (strlen($fromFirstName) &gt; 50)\n            $errors['fromFirstName'] = 'From : First name too long';\n\n        if (strlen($fromName) &lt; 3)\n            $errors['fromName'] = 'From : Name too short';  \n        elseif (strlen($fromName) &gt; 50)\n            $errors['fromName'] = 'From : Name too long';\n\n        if (!ereg('.*@.*\\..{2,4}', $fromAdress))\n            $errors['fromAdress'] = 'From : Email address invalid';\n\n        if (!ereg('.*@.*\\..{2,4}', $toAdress))\n            $errors['toAdress'] = 'From : Email address invalid';\n\n        if (strlen($toFirstName) &lt; 3)\n            $errors['toFirstName'] = 'To : First name too short';\n        elseif (strlen($toFirstName) &gt; 50)\n            $errors['toFirstName'] = 'To : First name too long';\n\n        if (strlen($toFirstName) &lt; 3)\n            $errors['toName'] = 'To : Name too short';  \n        elseif (strlen($toName) &gt; 50)\n            $errors['toName'] = 'To : Name too long'; \n\n        if (strlen($message) == 0)\n        $errors['message'] = 'Message required';\n\n        return (count($errors));\n    }\n\n\n}   \n</code></pre>\n\n<p><strong>greetingsform.tpl (the form part)</strong> : View    </p>\n\n<pre><code>    &lt;form action={$action} method=POST name=\"greetings\"&gt;\n\n    &lt;p&gt;\n    &lt;b&gt;From :&lt;/b&gt;\n    &lt;br/&gt;&lt;label&gt;First Name:     &lt;/label&gt;&lt;input type=TEXT name=\"fromFirstName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Last Name:      &lt;/label&gt;&lt;input type=TEXT name=\"fromName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Email Adress:   &lt;/label&gt;&lt;input type=TEXT name=\"fromAdress\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Country:        &lt;/label&gt;&lt;input type=TEXT name=\"fromCountry\" value=''&gt;\n    &lt;/p&gt;\n\n    &lt;p&gt;\n    &lt;b&gt;To :&lt;/b&gt;\n    &lt;br/&gt;&lt;label&gt;First name:     &lt;/label&gt;&lt;input type=TEXT name=\"toFirstName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Last name:      &lt;/label&gt;&lt;input type=TEXT name=\"toLastName\" value=''&gt;\n    &lt;br/&gt;&lt;label&gt;Email Adress:   &lt;/label&gt;&lt;input type=TEXT name=\"toAdress\" value=''&gt;\n    &lt;/p&gt;\n\n    &lt;p&gt;\n    &lt;b&gt;&lt;label&gt;Message:      &lt;/label&gt;&lt;/b&gt;\n    &lt;br/&gt;\n    &lt;textarea name=\"message\" STYLE='width:500;height:300'&gt;&lt;/textarea&gt;&lt;br/&gt;\n    &lt;input type=SUBMIT value=\"send\" NAME=\"send\" &gt;\n    &lt;/p&gt;\n\n    &lt;/form&gt;\n</code></pre>\n\n<p>Oh, and I'm using Smarty for my views, but I think it doesn't matter here. :)</p>\n\n<p>I would be really glad if someone could tell me where to go from here, because for now, I'm just getting an empty greetingsForm.php showing whenever I'm clicking submit, and I haven't yet succeeded in showing anything else after submit.</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-2","validation","asp.net-mvc-3"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1908,"score":3,"question_id":6495510,"title":"MVC 2 vs MVC 3 custom validation attributes using DataAnnotationsModelValidatorProvider.RegisterAdapter","body":"<p>I read on some post, but cant find it now that in MVC 3 it was not really needed to create a Validator, only the Attribute.  Is this true?  I do say I find it confusing that the attribute has the IClientValidatable on it.  So what does the DataAnnotationsModelValidator class do if the annotation has the client side script name (IClientValidatable), and the ability to validate (ValidationAttribute IsValid)?</p>\n\n<p>It would be really nice if I didnt have to register the Attribute with the Validator in the global.  Can this be done?  Did I read some bad advise?</p>\n\n<p>EDIT: Interestingly enough I just tested it by excluding the validator, put all the logic in IsValid and it works great.  I guess the only thing that might be missing would be the controller context, but I am not sure that is useful in validation.  The IsValid has ValidationContext which has ServiceContainer if I needed a service.  Any real disadvantage I am not picking up on here?</p>\n\n<p>EDIT 2:\nI will start with a validator from this example: <a href=\"http://blogs.msdn.com/b/simonince/archive/2010/06/04/conditional-validation-in-mvc.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/simonince/archive/2010/06/04/conditional-validation-in-mvc.aspx</a></p>\n\n<p>The Attribute:</p>\n\n<pre><code>public class RequiredIfAttribute : ValidationAttribute, IClientValidatable\n{\n    private RequiredAttribute innerAttribute = new RequiredAttribute();\n    public string DependentProperty { get; set; }\n    public object TargetValue { get; set; }\n\n    public RequiredIfAttribute(string dependentProperty, object targetValue)\n    {\n        this.DependentProperty = dependentProperty;\n        this.TargetValue = targetValue;\n    }\n\n    public override bool IsValid(object value)\n    {\n        return innerAttribute.IsValid(value);\n    }\n\n    public System.Collections.Generic.IEnumerable&lt;ModelClientValidationRule&gt; GetClientValidationRules(ModelMetadata metadata, ControllerContext context)\n    {\n        ModelClientValidationRule modelClientValidationRule = new ModelClientValidationRule()\n        {\n            ErrorMessage = FormatErrorMessage(metadata.DisplayName),\n            ValidationType = \"requiredifattribute\"\n        };\n        modelClientValidationRule.ValidationParameters.Add(\"requiredifattribute\", DependentProperty);\n        yield return modelClientValidationRule;\n    }\n}\n</code></pre>\n\n<p>The Validator:</p>\n\n<pre><code>public class RequiredIfValidator : DataAnnotationsModelValidator&lt;RequiredIfAttribute&gt;\n{\n    public RequiredIfValidator(ModelMetadata metadata, ControllerContext context, RequiredIfAttribute attribute)\n        : base(metadata, context, attribute)\n    {\n    }\n\n    public override IEnumerable&lt;ModelClientValidationRule&gt; GetClientValidationRules()\n    {\n        return base.GetClientValidationRules();\n    }\n\n    public override IEnumerable&lt;ModelValidationResult&gt; Validate(object container)\n    {\n        var field = Metadata.ContainerType.GetProperty(Attribute.DependentProperty);\n        if (field != null)\n        {\n            var value = field.GetValue(container, null);\n            if ((value == null &amp;&amp; Attribute.TargetValue == null) ||\n                (value.Equals(Attribute.TargetValue)))\n            {\n                if (!Attribute.IsValid(Metadata.Model))\n                    yield return new ModelValidationResult { Message = ErrorMessage };\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>With the current code above, I need to register in the Global.asax.cs file:</p>\n\n<pre><code>DataAnnotationsModelValidatorProvider.RegisterAdapter(typeof(RequiredIfAttribute), typeof(RequiredIfValidator));\n</code></pre>\n\n<p>But if I move everything into just the attribute, I dont have to register it:</p>\n\n<pre><code>public class RequiredIfAttribute : ValidationAttribute, IClientValidatable\n{\n    private RequiredAttribute innerAttribute = new RequiredAttribute();\n    public string DependentProperty { get; set; }\n    public object TargetValue { get; set; }\n\n    public RequiredIfAttribute(string dependentProperty, object targetValue)\n    {\n        this.DependentProperty = dependentProperty;\n        this.TargetValue = targetValue;\n    }\n\n    protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n    {\n        var field = validationContext.ObjectInstance.GetType().GetProperty(DependentProperty);\n        if (field != null)\n        {\n            var dependentValue = field.GetValue(validationContext.ObjectInstance, null);\n            if ((dependentValue == null &amp;&amp; TargetValue == null) ||\n                (dependentValue.Equals(TargetValue)))\n            {\n                if (!innerAttribute.IsValid(value))\n                    return new ValidationResult(ErrorMessage);\n            }\n        }\n        return ValidationResult.Success;\n    }\n\n    public System.Collections.Generic.IEnumerable&lt;ModelClientValidationRule&gt; GetClientValidationRules(ModelMetadata metadata, ControllerContext context)\n    {\n        ModelClientValidationRule modelClientValidationRule = new ModelClientValidationRule()\n        {\n            ErrorMessage = FormatErrorMessage(metadata.DisplayName),\n            ValidationType = \"requiredifattribute\"\n        };\n        modelClientValidationRule.ValidationParameters.Add(\"requiredifattribute\", DependentProperty);\n        yield return modelClientValidationRule;\n    }\n}\n</code></pre>\n\n<p>Is there an problem with the last bit of code replacing all of the other code?  Why would I keep the validator class?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13123451,"title":"Two-tiered models and controllers in Rails","body":"<p>New to Rails and having a hard time envisioning how to proceed with a project.  I would like to create a simple page where users:</p>\n\n<p>a) select a \"project\", sends to project page\nb) from project page, can repeatedly query an API and get results</p>\n\n<p>As I'm still wrapping my head around scaffolding and creating models and controllers, I'm wondering if the following makes sense:</p>\n\n<pre><code>rails generate Project person:string\nrails generate API_call title:string response:text\n</code></pre>\n\n<p>I suppose my question is then, how do I link entries in the API_call table to specific projects?  Is this the \"references\" option?</p>\n\n<p>many thanks in advance... </p>\n"},{"tags":["mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13121608,"title":"BackboneJS and Model/Collection","body":"<p>Have json-data like this:</p>\n\n<pre><code>{ tournaments: [ {\n   tournament_id: \"...\"\n   tournament_name: \"...\"\n   events: [ {\n       event_id: ...\n       event_name: ....\n       param : [ {\n           param_a : \n           param_b : ..\n           subparan : [ {\n               sub_1: 1\n               sub_2 : 2...\n</code></pre>\n\n<p>So. I don't understand - how to it implement into BackBone Collection/Model style?</p>\n\n<p>How to handle change sub_1? - Made Collection of Collection of Collection?</p>\n"},{"tags":["asp.net-mvc","json","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13121149,"title":"How to return exception data in json format from App_Error in global.asax?","body":"<p>I'm working on Asp.net MVC project as a single page application for error handling I want to return json data from App_Error method in global.asax to UI and show it by jQuery or call a controller and return partialView.\nI don't want to refresh the page or redirect it to Error page.</p>\n"},{"tags":["php","oop","mvc","symfony2","model"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13121104,"title":"Models in Symfony2, and other MVC frameworks?","body":"<p>I'm trying to understand how Models work in proper MVC.</p>\n\n<p>As far as I know, Models in MVC is where the application logic happens, Models are meat, or back bone of MVC. Views are just presentation, and Controllers are \"glue\" that asks Models to do some actions, return some data, and pass that information to the View that is presented to the user.</p>\n\n<p>Now, I'm exploring all kinds of different MVC frameworks and would like to understand how to use models in MVC. Symfony 2 is interesting framework as far as Models goes, since there are no Models :)</p>\n\n<p>I have problems grasping some of the features of Symfony2, and where does Models fit in Symfony2 MVC.</p>\n\n<p>By definition, Models are where domain logic, and database actions goes.</p>\n\n<p>So <strong>my questions are</strong>:</p>\n\n<ol>\n<li>In Symfony2 we have Entities, and Services, are those two Models in Symfony?</li>\n<li>What is the difference in Symfony2 Services, and Web Services?</li>\n</ol>\n\n<p>So my questions are where is the Model in Symfony2? Since Model is a layer, composed of Domain Objects, and Data Mappers, then I can assume that Entities are Domain Objects, and Doctrine is Data Mapper, is that correct?</p>\n\n<p>And where do Symfony2 services fit in?</p>\n"},{"tags":["php","mvc","content-management-system","expressionengine","content-management"],"answer_count":0,"favorite_count":2,"up_vote_count":2,"down_vote_count":2,"view_count":70,"score":0,"question_id":13121458,"title":"PHP Enterprise CMS Recommendation - Need Accreditation","body":"<p>We are looking to start using an enterprise level CMS.  However, with the Internet full of various solutions claiming to be enterprise level, and be the best in their class, I would love some real world recommendations.</p>\n\n<p>I do have some absolute musts:</p>\n\n<ul>\n<li>MVC</li>\n<li>PHP</li>\n<li>MySQL support</li>\n<li>Official accreditation available</li>\n</ul>\n\n<p>We are keen users of CodeIgniter, so the obvious one to me was Expression Engine.  I would love some feedback on it, but it may be difficult to use without accreditation (I won't go into why accreditation is needed, as that the reasoning isn't really important).</p>\n\n<p>Another solution I've seen is Pimcore, but it seems very difficult to use from a site administrator point-of-view.  Even the simplest of tasks such as adding a page seem to be quite a slog.</p>\n\n<p>We're looking for enterprise level here, so not the likes of WordPress and Joomla!</p>\n\n<p>Nice to haves include:</p>\n\n<ul>\n<li>Easy learning curve</li>\n<li>Close to the workings of a standard framework (eg CI)</li>\n<li>Large, strong community</li>\n<li>Free (only a nice to have, <strong>not</strong> a requirement!)</li>\n<li>Easy to use/intuituve for the site administrator</li>\n<li>Conferences/Training available</li>\n</ul>\n"},{"tags":["mvc","asp.net-mvc-4","structure","renderpartial","partial-view"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13120025,"title":"MVC 4 solution structure Partial View","body":"<p>Well since most of the tutorials and demos chooses to put the partial view in shared folder im asking for a better way to do this.</p>\n\n<p>My problem:\nI want to use partial views in order to create a dynamic interface with reusable views. As i can with usercontrols. Since there might be a lot of partial views i want to put them in a seperate folder than the shared folder. </p>\n\n<p>example:\nHow it looks today:</p>\n\n<p>[View]</p>\n\n<ul>\n<li>[View.Home]\n<ul>\n<li>index.cshtml</li>\n</ul></li>\n<li>[View.Shared]\n<ul>\n<li>_layout.cshtml</li>\n</ul></li>\n</ul>\n\n<p>A better way\n[View]</p>\n\n<ul>\n<li>[View.Home]\n<ul>\n<li>index.cshtml</li>\n</ul></li>\n<li>[View.Shared]\n<ul>\n<li>_layout.cshtml</li>\n</ul></li>\n<li>[View.Shared.Partial]\n<ul>\n<li>partial1.cshtml</li>\n<li>etc</li>\n</ul></li>\n</ul>\n\n<p>Or should i rethink my approach enirely? if so how? if not what should i think about?</p>\n"},{"tags":["objective-c","ios","mvc","conceptual"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13118061,"title":"MVC: Controller keeps array of model objects or view objects?","body":"<p>I have a view controller <code>placeViewController</code> which pulls in a bunch of <code>Place</code> objects, and from these loads and populates a matching bunch of <code>PlaceView</code> objects which are then displayed as subviews to its main view.</p>\n\n<p>I need to update these views periodically which requires information from the model and other places to be pushed into the views</p>\n\n<p>How should I properly structure this?</p>\n\n<ul>\n<li><p>Keep an array of <code>Place</code> objects and give the model a <code>PlaceView</code> property to store pointers to the views</p></li>\n<li><p>Keep an array of <code>PlaceView</code> objects and give the view a <code>Place</code> property to store pointers to the places</p></li>\n<li><p>Keep both arrays and use a lot of <code>indexOfObject</code> <code>objectAtIndex</code> to jump between them</p></li>\n<li><p>Some other way??</p></li>\n</ul>\n"},{"tags":["ruby-on-rails","mvc","activerecord","model"],"answer_count":5,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":10085,"score":13,"question_id":1342761,"title":"How to skip ActiveRecord callbacks?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/632742/how-can-i-avoid-running-activerecord-callbacks\">How can I avoid running ActiveRecord callbacks?</a>  </p>\n</blockquote>\n\n\n\n<p>I have model like this</p>\n\n<pre><code>class Vote &lt; ActiveRecord::Base  \n    after_save :add_points_to_user\n\n    .....\nend\n</code></pre>\n\n<p>Is it possible to somehow force model to skip calling <code>add_points_to_user</code> when saved? Possibly something like <code>ActiveRecord#delete</code> vs <code>ActiveRecord#destroy</code>?</p>\n"},{"tags":["design","mvc","design-patterns"],"answer_count":8,"favorite_count":14,"up_vote_count":21,"down_vote_count":0,"view_count":9014,"score":21,"question_id":141912,"title":"Alternatives to the MVC","body":"<p>What are the alternative \"design methods\" to the Model View Controller? MVC seems to be popular (SO was built with it, I know that much) but is it the only method used?</p>\n"},{"tags":["mysql","c","mvc","stored-procedures"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":30,"score":-4,"question_id":13116548,"title":"how to create Stored procedures in mysql","body":"<p>Please suggest a way, how to create stored procedures containing \"In\" and \"Out\" paramaters, in mysql and use them in the C# mvc .net frame work and Also access those prameters in the C# code.</p>\n\n<p>Thakyou,\nSanaa.</p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":228,"score":0,"question_id":5551259,"title":"MVC question: direct modell <-> view communication - why?","body":"<p>can anybody tell me, why communicates the model direct with the view in the MVC pattern, and why not just throught the controller?</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a></p>\n"},{"tags":["javascript","mvc","javascriptmvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13114764,"title":"MVC JS Platform","body":"<p>This isn't so much a technical question as it is a question for opinions and information collecting. My company is looking to switch from our jQuery spaghetti front-end to a well-structured MVC platform where our view doesn't have to be directly manipulated.  Ideally, we would like to be able to update a data model in javascript and have that automatically update the view dynamically.  I know Dojo is a great platform for MVC, but this is a big decision so I was hoping someone on here had some experience.  Our product requires high portability between mobile and desktop platforms, and will eventually be almost exclusively AJAX driven with all HTML loaded as a skeleton and manipulated by an engine written in JS.  Thanks!</p>\n"},{"tags":["multithreading","qt","mvc","model-view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13113743,"title":"Qt application with MVC and multithreading","body":"<p>This Qt application I am working on has model view controller in main thread, while the data structure under dataModel and the data model are modified by a network working thread (basically it is getting data from server). \nThe application crashes ramdonly. Based on my triage, it shows it crashes at some Qt deep model functions triggered by my data model modification. So I put lock on those data model functions. But now it still crashes. </p>\n\n<p>What is right design for this case? I also tried to promote data model modification to main thread, which means once data structure is changed, it emits a signal to controller, then the slot function in controller modifies the data model. This crashes too. plus this design looks weird. data structure changes model directly seems a better design, but it will keep model in working thread. I looked at a lot of model/view examples, all of them model contains data and model is not in worker thread. So none of them is my case.</p>\n\n<p>Thanks,</p>\n"},{"tags":["visual-studio","mvc","azure","azure-configuration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":167,"score":0,"question_id":8099203,"title":"Why Project Not Build in Azure One Web Role for Multiple Website setup?","body":"<p>I got 1 Azure web role for multiple websites, and it worked, the code in \"ServiceDefinition.csdef\" looks like:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;Sites&gt;\n        &lt;Site name=\"SiteA\" physicalDirectory=\"..\\SiteA\"&gt;\n            &lt;Bindings&gt;\n                &lt;Binding name=\"HttpBinding\" endpointName=\"HttpEndpoint\" hostHeader=\"a.com\" /&gt;\n            &lt;/Bindings&gt;\n        &lt;/Site&gt;\n        &lt;Site name=\"SiteB\" physicalDirectory=\"..\\SiteB\"&gt;\n            &lt;Bindings&gt;\n                &lt;Binding name=\"HttpBinding\" endpointName=\"HttpEndpoint\" hostHeader=\"b.com\" /&gt;\n            &lt;/Bindings&gt;\n        &lt;/Site&gt;\n        &lt;Site name=\"SiteC\" physicalDirectory=\"..\\SiteC\"&gt;\n            &lt;Bindings&gt;\n                &lt;Binding name=\"HttpBinding\" endpointName=\"HttpEndpoint\" hostHeader=\"c.com\" /&gt;\n            &lt;/Bindings&gt;\n        &lt;/Site&gt;\n    &lt;/Sites&gt;\n</code></pre>\n\n<p>A, B, C all works.</p>\n\n<p>but the situation is, A, B, C are projects, need to build ( as release ) to get them work well.\nWhat Azure tool (in Visual Studio) does is just simply copy them (the folder) not build them ( as release). The result is, all files on server, even MVC patten works, but the Web.Release.config does not replace(a part of) Web.config, so some codes not work.</p>\n\n<p><strong>My question is, how to setup Azure support multiple projects, and build them as release, in one web role?</strong></p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1395,"score":1,"question_id":8495706,"title":"MVC Html.ActionLink with post funtionality?","body":"<p>I'm checking to see if anyone has written an MVC extension for Html.ActionLink that you can pass in Post parameters like such:</p>\n\n<pre><code>&lt;% Html.ActionLink(\"Click me\", \"Index\", \"Home\", new { MyRouteValue = \"123\" }, null, new { postParam1 = \"a\", postParam2 = \"b\" }); %&gt;\n</code></pre>\n\n<p>That would render the link like normal but having an onClick event that submits an also rendered form with an Action url for the Action, Controller, and Route Values with additional hidden inputs from the Post Parameters like such:</p>\n\n<pre><code>&lt;a href=\"#\" onClick=\"$('#theform').submit(); return false;\"&gt;Click me&lt;/a&gt;\n&lt;form id=\"theform\" action=\"/Home/Index/123\" method=\"post\"&gt;\n   &lt;input type=\"hidden\" name=\"postParam1\" value=\"a\"&gt;\n   &lt;input type=\"hidden\" name=\"postParam2\" value=\"b\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I'm looking to redirect users to various pages with potentially a lot of data. Not only from page to page, but from email to page also. This would be highly reusable and I think would clean up a lot of code, and would save a bunch of time writing this if its already floating around out there. I hate recreating the wheel when I don't have to. Thanks!</p>\n"},{"tags":["mvc","cs193p"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":21,"score":-3,"question_id":13111163,"title":"CS193P, A1: +/- in model and controller?","body":"<p>I've just completed the Fall 2011 CS193P first assignment, but I'm wondering whether I respected the model/controller roles properly.  This assignment involves creating a simple calculator, one element of which is a \"+/-\" button.  </p>\n\n<p>All of the other operations (+, -, etc.) get dealt with in the model (\"CalculatorBrain.m\"), but because of its unique behaviour, I've had to put some code regarding +/- directly in the controller (\"CalculatorViewController.m\").  For those of you who've seen this assignment before, is this bad form?</p>\n\n<p>Thanks! </p>\n\n<hr>\n\n<p>EDIT:  Not sure if I was clear or general enough here, sorry.  Basically, I want to know whether the controller should ever carry out the nitty-gritty of program function, or if that should always be left up to the model.</p>\n"},{"tags":[".net","database","entity-framework","mvc","c#-4.0"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1565,"score":1,"question_id":6073623,"title":"Entity Framework Enums as POCO only","body":"<p>I am trying to save an Enum that exists in my model down to the database but everytime I do Entity Framwework complains that there is no look up table associated with the Enum. I do not want a look up table, I just want the enum to exist in code and be stored as integers in the database.</p>\n\n<blockquote>\n  <p>An error occurred while saving\n  entities that do not expose foreign\n  key properties for their\n  relationships. The EntityEntries\n  property will return null because a\n  single entity cannot be identified as\n  the source of the exception. Handling\n  of exceptions while saving can be made\n  easier by exposing foreign key\n  properties in your entity types. See\n  the InnerException for details.</p>\n  \n  <p>\"Cannot insert the value NULL into\n  column 'Type', table\n  'Test.dbo.Interests'; column\n  does not allow nulls. INSERT\n  fails.\\r\\nThe statement has been\n  terminated.</p>\n</blockquote>\n\n<p>The value for Type is definitely not null, EF just treats it that way cause it can't find a Foreign key table that I don't want in the first place. </p>\n\n<p><strong>How do I get entity framework to treat my enum as an int and then convert back out when I call down to the database to retrieve my model?</strong></p>\n"},{"tags":["php","mvc","class","methods"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13110784,"title":"loading method based on URL","body":"<p>I am trying to build a small mvc-based application.</p>\n\n<p>How do I call a method in a class based on a query string?</p>\n\n<p>For example, the $_GET query string is being set as load_master_form</p>\n\n<pre><code>http://www.domain.com/settings/load_master_form\n</code></pre>\n\n<p>And to call the method within the settings class, I am doing:</p>\n\n<pre><code>function __construct(){\n    $this-&gt;{$_GET['method']}();\n}\n</code></pre>\n\n<p>But obviously that doesn't work - it just isn't possible to load a method like that. So how would it be done?</p>\n"},{"tags":["javascript","jquery","mvc","backbone.js","underscore.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13105574,"title":"extend() using underscore vs. backbone","body":"<p>I know backbone is somewhat depending on underscore and jquery. Is there difference between the two lines below?</p>\n\n<pre><code>app.notifications = _.extend({}, Backbone.Events);\n</code></pre>\n\n<p><strong>AND</strong> </p>\n\n<pre><code>app.notifications  = Backbone.Events.extend({});\n</code></pre>\n\n<p>If they are <strong>NOT</strong> the same, how different?</p>\n"},{"tags":["mvc","web-deployment"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":13109263,"title":"What was MVC invented for?","body":"<p>I am new in web development, and read some wiki and discussions about MVC. However, the more I read, the more confusion I have about its design purpose.</p>\n\n<p>I just want to know why is this design pattern invented? And what problem is it used to solve? </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["django","mvc"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":402,"score":6,"question_id":8590468,"title":"django: Fat models and skinny controllers?","body":"<p>This is a general architecture question.  I read in many places that in an MVC framework, (1) models ought to be fat, and controllers ought to be skinny.  But I also read that (2) the details depend on the framework you're developing in.  So, what if you're developing in django?</p>\n\n<p>My experience with django is that a lot of the logic ends up getting put into views and forms.  Not the \"business logic,\" but the details of handling requests, sessions, etc.  In terms of lines of code, these details often outweigh the business logic of manipulating model objects.  Am I doing something wrong, or is this how django works?</p>\n"},{"tags":["javascript","mvc","client-side","angularjs","server-side"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":127,"score":0,"question_id":13067607,"title":"AngularJS client MVC pattern?","body":"<p>Until now I was mainly using <code>Struts 2</code>, <code>Spring</code>, <code>JQuery</code> technology stack for building web applications. The point is, that mentioned stack uses server side <code>MVC</code> pattern.  The main role of web browsers was limited to a request/response cycle (+ client side validation). Data retrieval, business logic, wiring and validation were mainly responsibilities of the server side. </p>\n\n<p>I have few questions regarding <em>AngularJS</em> framework that were produced by following quotes I read:</p>\n\n<hr>\n\n<p>From the <a href=\"http://docs.angularjs.org/tutorial/step_02\" rel=\"nofollow\"><em>AngularJS tutorial</em></a>:</p>\n\n<blockquote>\n  <p>For Angular apps, we encourage the use of the Model-View-Controller\n  (MVC) design pattern to decouple the code and to separate concerns.</p>\n</blockquote>\n\n<p>From the <em><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93View%E2%80%93Controller\" rel=\"nofollow\">Wikipedia Model–view–controller</a></em>:</p>\n\n<blockquote>\n  <p>Model–View–Controller (MVC) is an architecture that separates the\n  representation of information from the user's interaction with\n  it. The model consists of application data and <strong>business rules</strong>,\n  and the controller mediates input, converting it to commands for the\n  model or view</p>\n</blockquote>\n\n<hr>\n\n<p><em>AngularJS</em> uses client side <code>MVC</code> pattern. So my question is, whether is it safe that business logic resides on client side? Can we trust the client? How is validation done (just client)?</p>\n\n<p>If we have, for example, traditional server side MVC application, business rules would be on server side and the validation would be on the client and server side (1 request less for validation).</p>\n\n<p><strong>What would be the best way to write a robust AngularJS application? MVC on client side and some kind  of MC (model, controller) on server side?</strong> </p>\n\n<p>Does that means, that MODEL and CONTROLLER are in one way duplicated (client/server)?</p>\n\n<p>I know my question is somehow weird, but I think the reason is, that I am somehow acustomed to traditional server side MVC pattern. I am sure there is someone, that have already done same transition.</p>\n"},{"tags":["asp.net","mvc","cookies","session-cookies"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1064,"score":0,"question_id":5200731,"title":"IE 8 will no longer accept cookies from localhost","body":"<p>I had to disable cookies for some testing in a web application.  now for some reason in IE I cannot get cookies working on localhost any more. They work as expected in Safari, Firefox, and Chrome, but for some unknown reason I cannot for the life of me get cookies working on localhost. I have tried literally every setting imaginable with absolutely no luck.  If I change the Url to 'localhost.\" it works as expected, but when I just use \"localhost\", without the \".\" period, cookies are absolutely not written. What the heck did i do? I tried upgrading to IE 9 and that didn't work. I reverted back to IE 8 and still have the same problem.  I'm going absolutely mad trying to firgure out what is causing this.  I tried tools, internet options, privacy, advanced, and explicit tell the browser to accept all 1st and 3rd party cookies and I'll be damned if I'm on a localhost site, the cookies are not written.  This has worked perfect in the past, so it's no doubt some setting I changed but I cannot for the life of me figure out what the hell is going on. If anyone has any idea of how I can remedy this, please do let me know.  I've tried every setting imaginable with absolutely no luck.  I hate internet explorer but that a conversation for a different day.</p>\n"},{"tags":["mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":53,"score":-1,"question_id":13106973,"title":"Is this a correct MVC implementation?","body":"<p>I try implement MVC pattern for simple example of add one number to other and show the answer.</p>\n\n<p>So, i do next classes:</p>\n\n<p><strong>Model</strong>: caring array of values and know how to do sum of them </p>\n\n<pre><code>public interface IModel\n{\n    void SetValues(int[] values);\n    int GetResult();\n}\n\npublic class ModelAdder : IModel\n{\n    private int[] _values;\n\n    public void SetValues(int[] values)\n    {\n        _values = values;\n    }\n\n    public int GetResult()\n    {\n        int res = 0;\n\n        foreach (int i in _values)\n        {\n            res += i;\n        }\n\n        return res;\n    }\n}\n</code></pre>\n\n<p><strong>View</strong>: know how to get values form screen, get button event and shoe result:</p>\n\n<pre><code>public delegate void Calculate();\n\npublic interface IView\n{\n    event Calculate CalculateEvent;\n\n    int[] GetValues();\n    void SetResult(int res);\n}\n\n/// &lt;summary&gt;\n/// Interaction logic for View.xaml\n/// &lt;/summary&gt;\npublic partial class View : UserControl, IView\n{\n    public View()\n    {\n        InitializeComponent();\n    }\n\n    public event Calculate CalculateEvent;\n\n    public int[] GetValues()\n    {\n        int a, b;\n\n        if (!(int.TryParse(val1.Text, out a) &amp;&amp; int.TryParse(val2.Text, out b)))\n        {\n            throw new Exception();\n        }\n\n        return new int[] { a, b };\n    }\n\n    public void SetResult(int res)\n    {\n        result.Content = res;\n    }\n\n    private void CalculateResult(object sender, RoutedEventArgs e)\n    {\n        if (CalculateEvent != null)\n        {\n            CalculateEvent();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong> know get IView and IModel and know what to do when get button click event:</p>\n\n<pre><code>public class Controller\n{\n    private IView _view;\n    private IModel _model;\n\n    public Controller(IView view, IModel model)\n    {\n        _view = view;\n        _model = model;\n\n        _view.CalculateEvent += new Calculate(_view_CalculateEvent);\n    }\n\n    void _view_CalculateEvent()\n    {\n        _model.SetValues(_view.GetValues());\n        _view.SetResult(_model.GetResult());\n    }\n}\n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        Controller controller = new Controller(myView, new ModelAdder());\n    }\n}\n</code></pre>\n\n<p>Sequence diagram of calculation:\n<img src=\"http://i.stack.imgur.com/mAWwa.jpg\" alt=\"enter image description here\"></p>\n\n<p>Please, correct me, if it is not meet the MVC pattern requirements</p>\n"},{"tags":["javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":139,"score":4,"question_id":12443313,"title":"Using agility.js for page layout and composition","body":"<p>I am new to MVC-style javascript libraries, so pardon me if this question is too basic.  I'm trying to write a <a href=\"http://en.wikipedia.org/wiki/Single-page_application\" rel=\"nofollow\">Single-Page Application</a> entirely in <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a> and <a href=\"http://agilityjs.com/\" rel=\"nofollow\">agility.js</a>.  The examples given in the agility.js <a href=\"http://agilityjs.com/docs\" rel=\"nofollow\">documentation</a> consist entirely of adding html elements to the document root.  Question: Is there a 'Best-Practices' way to assemble a page by components.</p>\n\n<p>Here is a rough outline of my html app:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt; ... &lt;/head&gt;\n    &lt;body&gt;\n        &lt;header&gt; ... &lt;/header&gt;\n        &lt;div id=PageHolder&gt;\n            &lt;div id=AppPane_1&gt;&lt;/div&gt;\n            &lt;div id=AppPand_2&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;footer&gt; ... &lt;/footer&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Within the 'AppPane' divs will be the content of the application.</p>\n\n<p>Okay, given all of this, I'm not asking what can I do, but I'm asking what should I do.</p>\n\n<p>I see from the documentation and my research that I have 3 choices:</p>\n\n<ol>\n<li>create my page composition from atomic agility objects and assemble them in a <code>jQuery</code> document ready block.  <code>$$.document.append(Foo)</code> works for the root element, but I could not figure out how to add Foo's children to foo.</li>\n<li>Use one (very large) agility object which lays out the basic static html from above and append controls and whatnot to that using the <code>controller</code> functions (which I havn't been able to get to work either)</li>\n<li>Use one root agility object and append all the children onto it using view (somehow, I havn't been able to get that to work either.)</li>\n</ol>\n\n<p>Which of these is best, and what is the syntax involved?  Thanks in advance, any guidance in assembling html components into a cogent agility app would be much appreciated.</p>\n\n<p><a href=\"http://jsbin.com/ojenon/1/\" rel=\"nofollow\">http://jsbin.com/ojenon/1/</a></p>\n\n<hr>\n"},{"tags":["vb.net","mvc","jquery-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":148,"score":0,"question_id":9266263,"title":"jquery mobile mvc RadioButtonFor vb.net grouping name issue","body":"<p>I am using jquery mobile with asp.net mvc in vb trying to render a yes/no radio button group:</p>\n\n<pre><code>@For Each fqi In Model.Options\n\n                    @Html.LabelFor(Function(m) m.CurrentValue, fqi.Value)\n                    @Html.RadioButtonFor(Function(m) m.CurrentValue, fqi.Checked)\n\n     Next\n</code></pre>\n\n<p>But it doesn't render properly</p>\n\n<p>when comparing with regular jquerymobile radio button group, I noticed that the html behind is adding additional div tag of <code>&lt;div class=\"ui-radio\"&gt;</code></p>\n\n<p>How do I use the radiobuttonfor correctly to work properly with jquerymobile?</p>\n\n<p>I've researched and play around and I know that if I just use below, it will work. But I need to use the radiobuttonfor tag....</p>\n\n<pre><code>If Model.IsRadioList Then\n    @&lt;fieldset data-role=\"controlgroup\" data-type=\"horizontal\"&gt;\n    @For Each fqi In Model.Options\n\n\n                    @&lt;label for=\"@fqi.Value\"&gt;@fqi.Text&lt;/label&gt;\n                    @&lt;input type=\"radio\" name=\"@fqi.Name\" id=\"@fqi.value\" value=\"@fqi.Value\" /&gt;\n\n     Next\n\n        &lt;/fieldset&gt;\n</code></pre>\n"},{"tags":["mvc","design-patterns","gui","mvp","glossary"],"answer_count":16,"favorite_count":384,"up_vote_count":483,"down_vote_count":0,"view_count":79395,"score":483,"question_id":2056,"title":"What are MVP and MVC and what is the difference?","body":"<P>When looking beyond the RAD (drag-drop and configure) way of building User Interfaces that many tools encourage you are likely to come across 2 design patterns called Model-View-Controller and Model-View-Presenter. My question has two parts to it:</P>\r\n<OL>\r\n<LI>What issues do these patterns address?</LI>\r\n<LI>How are they similar?</LI>\r\n<LI>How are they different?</LI></OL>"},{"tags":[".net","winforms","mvc","mvp"],"answer_count":8,"favorite_count":80,"up_vote_count":59,"down_vote_count":0,"view_count":20978,"score":59,"question_id":654722,"title":"Implementing MVC with Windows Forms","body":"<p>Where can I find a good example on how to completely implement the MVC pattern in Windows Forms. I found many tutorials and code examples on various sites (e.g. CodeProject, .NetHeaven) but many are more representative for the observer pattern than MVC. Since the application I want to develop is for a school project, I am reluctant to using frameworks like <a href=\"http://trac.puremvc.org/PureMVC_CSharp\" rel=\"nofollow\">PureMVC</a> or <a href=\"http://www.mvcsharp.org/\" rel=\"nofollow\">MVC#</a>.</p>\n"},{"tags":["mvc","architecture","dto","data-transfer","data-transfer-objects"],"answer_count":5,"favorite_count":7,"up_vote_count":21,"down_vote_count":0,"view_count":11365,"score":21,"question_id":1051182,"title":"what is Data Transfer Object?","body":"<p>what is a Data Transfer Object?</p>\n\n<p>In MVC are the model classes DTO, and if not what are the differences and do we need both?</p>\n"},{"tags":["php","mvc","acl"],"answer_count":3,"favorite_count":13,"up_vote_count":18,"down_vote_count":0,"view_count":2679,"score":18,"question_id":3430181,"title":"ACL implementation","body":"<p><strong>First question</strong></p>\n\n<p>Please, could you explain me how simpliest ACL could be implemented in MVC.</p>\n\n<p>Here is the first approach of using Acl in Controller...</p>\n\n<pre><code>&lt;?php\nclass MyController extends Controller {\n\n  public function myMethod() {        \n    //It is just abstract code\n    $acl = new Acl();\n    $acl-&gt;setController('MyController');\n    $acl-&gt;setMethod('myMethod');\n    $acl-&gt;getRole();\n    if (!$acl-&gt;allowed()) die(\"You're not allowed to do it!\");\n    ...    \n  }\n\n}\n?&gt;\n</code></pre>\n\n<p>It is very bad approach, and it's minus is that we have to add Acl piece of code into each controller's method, but we don't need any additional dependencies!</p>\n\n<p>Next approach is to make all controller's methods <code>private</code> and add ACL code into controller's <code>__call</code> method.</p>\n\n<pre><code>&lt;?php\nclass MyController extends Controller {\n\n  private function myMethod() {\n    ...\n  }\n\n  public function __call($name, $params) {\n    //It is just abstract code\n    $acl = new Acl();\n    $acl-&gt;setController(__CLASS__);\n    $acl-&gt;setMethod($name);\n    $acl-&gt;getRole();\n    if (!$acl-&gt;allowed()) die(\"You're not allowed to do it!\");\n    ...   \n  }\n\n}\n?&gt;\n</code></pre>\n\n<p>It is better than previous code, but main minuses are...</p>\n\n<ul>\n<li>All controller's methods should be private </li>\n<li>We have to add ACL code into each controller's __call method.</li>\n</ul>\n\n<p>The next approach is to put Acl code into parent Controller, but we still need to keep all child controller's methods private.</p>\n\n<p>What is the solution? And what is the best practice?\nWhere should I call Acl functions to decide allow or disallow method to be executed.</p>\n\n<p><strong>Second question</strong></p>\n\n<p>Second question is about getting role using Acl. Let's imagine that we have guests, users and user's friends. User have restricted access to viewing his profile that only friends can view it. All guests can't view this user's profile. So, here is the logic..</p>\n\n<ul>\n<li>we have to ensure that method being called is profile</li>\n<li>we have to detect owner of this profile</li>\n<li>we have to detect is viewer is owner of this profile or no</li>\n<li>we have to read restriction rules about this profile</li>\n<li>we have to decide execute or not execute profile method</li>\n</ul>\n\n<p>The main question is about detecting owner of profile. We can detect who is owner of profile only executing model's method $model->getOwner(), but Acl do not have access to model. How can we implement this?</p>\n\n<p>I hope that my thoughts are clear. Sorry for my English.</p>\n\n<p>Thank you.</p>\n"},{"tags":["c#","asp.net-mvc","linq","mvc","many-to-many"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13100062,"title":"LINQ Intersect Query for Many to Many relationship using .NET4 MVC4 Code First","body":"<p>In .NET4 MVC 4 using Code First I have two classes that form a many to many relationship.\nHow can I write a simple LINQ query to find all Games that have at least one or more genres from a given list of genres? (i.e. Retreive all games that are of the Strategy and/or Sandbox genre)</p>\n\n<pre><code>public class Game\n{\n    public int ID { get; set; }\n    public virtual ICollection&lt;Genre&gt; Genres { get; set; }\n}\n\npublic class Genre\n{\n    public int ID { get; set; }\n    public virtual ICollection&lt;Game&gt; Games { get; set; }\n}\n</code></pre>\n\n<p>Please note that I am using Code First so I have no access to the abstracted join table GenreGames.</p>\n\n<p>I have tried the following to find a game that contains at least one genre ID from the array gid:</p>\n\n<pre><code>var gid = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\nvar result = from g in unitOfWork.GameRepository.dbSet\n             where (\n                 from gen in unitOfWork.GenreRepository.dbSet\n                 where gid.Contains(gen.ID)\n                 select gen.ID\n             ).Any()\n             select g;\n</code></pre>\n\n<p>When retrieving the results</p>\n\n<pre><code>List&lt;Game&gt; similiarGames = result.ToList&lt;Game&gt;();\n</code></pre>\n\n<p>the following error comes up. </p>\n\n<blockquote>\n  <p>Unable to create a constant value of type 'GratifyGaming.Domain.Models.Genre'. Only primitive types or enumeration types are supported in this context.</p>\n</blockquote>\n\n<p>How can I get the results I want using only primitive or enumeration types? Is there a workaround?</p>\n"},{"tags":["ruby-on-rails","mvc","view","controller","nested"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13099255,"title":"ROR: Nested views","body":"<p>I have a page object and various template objects in my application. pages have names, descriptions urls etc and each have a relationship with a template.   templates have different numbers of content boxes and relationships with other controllers (like blogs, galleries etc.).</p>\n\n<p>When I am rendering a page I can work out what template is attached to the page, and what the relevant content is based on that. but I am not sure what the best way is to render the nested Items.   </p>\n\n<p>Are you meant to somehow render the templates view from within the other view?  Or would you have to just rewrite the view altogether?   In this case would I have to create an extra template view for each different template, bundle it with the page views, and then only include it if it is the right one?     </p>\n\n<p>Would this be the same for galleries and blogs? do they all need to be bundled with the page? Or can it be called from its proper location?</p>\n\n<p>I'm not sure what the best practice is here and haven't had any luck googling it. I'm suspecting that the key words im using aren't correct. Or this is common knowledge that isn't worth documenting.</p>\n"},{"tags":["c#","linq-to-sql","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1378,"score":1,"question_id":1605382,"title":"Get Birthday reminder Linq Query ignoring year","body":"<p>Am using C# MVC and i need to get the user details who having birthday with in next 20 days. using linq to sql query which wants to compare only date and month and not the year, to fetch the users who having birthday within next 20days, anyone kindly help me with the linq to sql query to get the users who having birthday within next 20 days.</p>\n\n<p>thanks in advance,</p>\n"},{"tags":["spring","mvc","jackson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13098971,"title":"How do I add a jackson objectmapper dateformat config into spring mvc config?","body":"<p>I have a problem about jackson 2.1.</p>\n\n<p>My pojo have some date properties, I want turn it to string, I setted it in spring-servlet.xml but it's not usefull.</p>\n\n<p>I don't like use <code>@JsonSerialize(using = JsonDateSerializer.class)</code> on the setter.</p>\n\n<p>this is my configuration:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n    &lt;property name=\"objectMapper\"&gt;\n        &lt;bean class=\"com.fasterxml.jackson.databind.ObjectMapper\"&gt;\n            &lt;property name=\"dateFormat\"&gt;\n                &lt;bean class=\"java.text.SimpleDateFormat\"&gt;\n                    &lt;constructor-arg type=\"java.lang.String\" value=\"yyyy-MM-dd\"&gt;&lt;/constructor-arg&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["javascript","mvc","mobile","ember.js","handlebars.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13051352,"title":"Delegate touchstart events to click handler","body":"<p>I'd like to delegate all touchstart events to the defined click handler as a default for iPhone and other \"Touch-Browsers\". I came up with two approaches: </p>\n\n<p>1) Extend the Ember.View to delegate all touchstart events to the click handler(s):</p>\n\n<pre><code> Ember.View.reopen({\n      touchStart: function(event) {\n         return this.click(event);\n      }\n });\n\n App.SomeView = Ember.View.extend({\n      click: function(event) {\n         console.log('should be fired for click and touchstart events');\n      },          \n });\n</code></pre>\n\n<p>2) specify multiple action events in the (handlebars) template:</p>\n\n<pre><code>  &lt;i {{action someAction on=\"click,touchStart\"}} &gt;&lt;/i&gt;\n</code></pre>\n\n<p>Both approaches do not work. What am i missing? The Ember.Button is implemented <a href=\"https://github.com/emberjs/ember.js/blob/master/lib/ember.js\" rel=\"nofollow\">similar</a> (line 18625).</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","design-patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":13043183,"title":"Ruby on rails without models - if data CRUD is performed by webservices API","body":"<p>I have been pondering about developing a new application with rails (probably without models?). What I meant is; backend will be written in any other language and that will provide the RESTful APIs, which will be consumed by Rails app. </p>\n\n<p>Since backend API will take care of all data CRUD actions and rails app will not have access to database directly. So there is no use of rails model in such architecture? </p>\n\n<p>I can directly make curl call to APIs from controllers too, but I wish to keep my controller skinny while fat models.</p>\n\n<p>Or other way, API curl calls can be made in the models and it can behave like data CRUD being done to the database in that model. </p>\n\n<p>In any of above scenarios, I will not be able to get benefit of many rails features or gems (such as friendly_id) which works on active records/ORM. </p>\n\n<p>I am really confused as which way I should go? And what is the best practice? What architecture you can suggest? I definitely wants to keep my backend completely decoupled and providing only RESTful apis only.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":7942865,"title":"asp.net mvc error not showing ysod","body":"<p>Im running an asp.net mvc site on iis7, using iis express in dev and when an exception occurs in one of my views, the browser returns something that looks like binary in a text editor.</p>\n\n<p>Its not generating the normal ysod.</p>\n\n<p>Has anyone seen this before?</p>\n\n<p>Cheers,\nByron</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Its related to my compression action filter. It looks like the response isnt 'decompressing' if an exception occurs in the view.</p>\n\n<pre><code>public class EnableCompression : ActionFilterAttribute {\n\n    public override void OnActionExecuting(ActionExecutingContext filterContext) {\n\n        HttpRequestBase request = filterContext.HttpContext.Request;\n\n        string acceptEncoding = request.Headers[\"Accept-Encoding\"];\n\n        if (string.IsNullOrEmpty(acceptEncoding)) return;\n\n        acceptEncoding = acceptEncoding.ToUpperInvariant();\n\n        HttpResponseBase response = filterContext.HttpContext.Response;\n\n        if (acceptEncoding.Contains(\"GZIP\")) {\n            response.AppendHeader(\"Content-encoding\", \"gzip\");\n            response.Filter = new GZipStream(response.Filter, CompressionMode.Compress);\n        } else if (acceptEncoding.Contains(\"DEFLATE\")) {\n            response.AppendHeader(\"Content-encoding\", \"deflate\");\n            response.Filter = new DeflateStream(response.Filter, CompressionMode.Compress);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","jquery","mvc","backbone.js"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13094306,"title":"How to set the id of a View in Backbone.js?","body":"<p>In Backbone.js when I create a view I can initialise the 'class' attribute of it's element as shown below:</p>\n\n<pre><code>var newView = Backbone.View.extend({\n    className: 'foo'\n});\n</code></pre>\n\n<p>Is there a similar way to set the 'id' attribute in a similar way?</p>\n"},{"tags":["c#","asp.net","mvc","asp.net-mvc-3"],"answer_count":5,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":13964,"score":8,"question_id":5972536,"title":"Html.TextBoxFor formatting or Html.EditorFor htmlAttributes?","body":"<p>I am kind of stumped because, I want to format the value and add a html attribute for css class. </p>\n\n<p>If I use <code>@Html.TextBoxFor(m =&gt; m.DateModified)</code>\n- I can add html attribute but formatting does not work via DisplayFormat attribute on the member.</p>\n\n<p>If I use  <code>@Html.EditorFor(m =&gt; m.DateModified)</code>\n- Formatting works but I cannot add html attribute</p>\n\n<p>If I use <code>@Html.TextBox(\"DateModified\", Model.DateModified, ...)</code>\n- I get null reference exception when Model is null when the form is in add mode</p>\n\n<p>What is the best way to achieve this?</p>\n"},{"tags":["java","mvc","reflection"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13091427,"title":"Action based controller using reflections","body":"<p>I'm modeling a controller reflection based. I would like to know if you agree my implementation and what could to be enhanced.</p>\n\n<p>I'm starting with reflection and I would like to know if I'm using good practices.</p>\n\n<p>Sample: www.sample.com/Main?mvc=user/edit/5</p>\n\n<p>See it:</p>\n\n<pre><code>public class StartController extends HttpServlet {\n\n    @Override\n    public void service(HttpServletRequest req, HttpServletResponse resp)\n            throws ServletException, IOException\n    {\n        String vars = req.getParameter(\"mvc\");\n            ApplicationContext context = WebApplicationContextUtils.getWebApplicationContext(getServletContext());\n\n        MainController main = new MainController();\n        main.RESTProcess(req, resp, context, vars);\n    }\n}\n\npublic class MainController extends Controller {\n\n    public void RESTProcess(HttpServletRequest req, HttpServletResponse resp, ApplicationContext context, String vars)\n            throws IOException, ServletException\n    {\n        String[] url;\n        int nvars;\n\n        String controller = null;\n        String action = null;;\n        String[] params = null;\n        int i;\n        int n;\n\n        String controllerName;\n        String actionName;\n\n        if(vars == null || \"\".equals(vars.trim()))\n        {\n            this.redirect(resp,\"home\");\n        }\n        else\n        {       \n            url = vars.split(\"/\");\n            nvars = url.length;\n\n            if(nvars &gt; 0)\n            {\n                controller = url[0].trim(); //users\n                if(nvars &gt; 1)\n                {\n                    action = url[1].trim(); //edit\n                    if(nvars &gt; 2)\n                    {\n                        n = 0;\n                        params = new String[nvars - 2]; //array[0] = 5 (iduser)\n                        for(i = 2; i &lt; nvars; i++)\n                        {\n                            params[n] = url[i];\n                            n++;\n                        }\n                    }\n                }\n\n\n                controllerName = this.getFirstUpper(controller) + \"Controller\"; //HomeController, UserController pattern\n                if(!controllerName.equals(\"Controller\"))\n                {\n                    actionName = \"action\" + this.getFirstUpper(action); //actionIndex, actionEdit pattern\n                    if(!action.equals(\"action\"))\n                    {\n                        try\n                        {\n                            Class classe = Class.forName(\"com.sample.controller.\" + controllerName);\n                            try\n                            {\n                                Constructor c = classe.getConstructor(HttpServletRequest.class, HttpServletResponse.class, String[].class);\n                                try\n                                {\n                                    Object obj = c.newInstance(req, resp, context, params);\n\n                                    Method m = classe.getMethod(actionName, null);\n                                    m.invoke(obj, null);\n\n                                    System.out.println(obj.toString());\n                                }\n                                catch (Exception e)\n                                {\n                                    e.printStackTrace();\n                                }\n                            }\n                            catch (Exception e)\n                            {\n                                e.printStackTrace();\n                            }\n                        }\n                        catch (Exception e)\n                        {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n            else\n            {\n                this.redirect(resp,\"home\");\n            }\n        }\n    }\n\n    public String getFirstUpper(String str)\n    {\n        Integer x = str.length();\n        str = str.substring(0,1).toUpperCase().concat(str.substring(1, x));\n\n        return str;\n    }\n}\n\npublic class UserController extends Controller {\n\n    private HttpServletRequest req;\n    private HttpServletResponse resp;\n    private ApplicationContext context;\n    private String[] params;\n\n    public UserController(HttpServletRequest req, HttpServletResponse resp, ApplicationContext context, String[] params)\n    {\n        this.req = req;\n        this.resp = resp;\n        this.context = context;\n        this.params = params;\n    }\n\n    public void actionEdit()\n    {\n        Long id = Long.valueOf(this.params[0]);\n        System.out.println(\"/home/edit\");\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13015571,"title":"CodeIgniter menu/nav dilemma","body":"<p>I'm trying out CodeIgniter and the whole MVC pattern. I have installed <a href=\"http://www.williamsconcepts.com/ci/codeigniter/libraries/template/reference.html\" rel=\"nofollow\">Colin Williams' Template library</a>, but I get stuck when trying to think of the proper way to include two menus/navs: one general (maybe at the top) and one sidebar that is specific for each controller.</p>\n\n<p>Either way, their placements are not relevant, I'm thinking about the general structure of the code. For now I have a function <code>get_menu()</code> in my model and the return from this is given as an argument when loading a partial template view for the sidebar. Or should I do it in the controller?</p>\n\n<p>A buddy of mine gave me advice not to extend the default controller or model with i.e. a <code>MY_Controller</code>, but I don't know when when implementing the general menu? Or should I maybe hardcode this in the template config file?</p>\n\n<p>I can find no guidelines for this type of task. Everywhere I go I find a new solution and many of them are not pretty and the other lot have a lot of duplicated code.</p>\n\n<p><strong>Edit.</strong> I've updated my code. I'm still undecided on how to write the top nav (probably in <code>MY_Controller</code> so that I can highlight the current page).</p>\n\n<p><strong>MY_Controller.php</strong></p>\n\n<pre><code>abstract class MY_Controller extends CI_Controller {\n    protected $_nav;\n\n    const CONTENT_REGION = 'content';\n    const NAV_REGION = 'nav';\n    const TITLE_REGION = 'title';\n\n    const SIDEBAR_NAV_TEMPLATE = 'templates/sidebar_nav';\n\n    public function __construct() {\n        parent::__construct();\n        $this-&gt;_load_nav();\n    }\n\n    abstract protected function _get_nav();\n\n    protected function _load_nav() {\n        $this-&gt;_nav = array('nav' =&gt; $this-&gt;_get_nav());\n    }\n\n    protected function _render() {\n        $args = func_get_args();\n        $n = func_num_args() - 1;\n\n        if ($n &lt; 2) {\n            return;\n        }\n\n        $this-&gt;template-&gt;write(self::TITLE_REGION, $args[0]);\n\n        for ($i = 1; $i &lt; $n; $i++) {\n            $this-&gt;template-&gt;write_view(self::CONTENT_REGION, $args[$i], $args[$n]);\n        }\n\n        $this-&gt;template-&gt;write_view(self::NAV_REGION, self::SIDEBAR_NAV_TEMPLATE, $this-&gt;_nav);\n        $this-&gt;template-&gt;render();\n    }\n\n    protected function _set_active_view($active) {\n        if ($active !== null &amp;&amp; isset($this-&gt;_nav['nav'][$active])) {\n            $this-&gt;_nav['nav'][$active]['class'] .= ' active';\n        }\n    }\n}\n</code></pre>\n\n<p><strong>collection.php</strong></p>\n\n<pre><code>class Collection extends MY_Controller {\n    public function __construct() {\n        parent::__construct();\n        $this-&gt;load-&gt;model('collection_model');\n    }\n\n    protected function _get_nav() {\n        return array(\n            'collection/view' =&gt; array(\n                'href'  =&gt; 'collection/view',\n                'value' =&gt; 'View collection',\n                'class' =&gt; 'icon-film'\n            ),\n            'collection/add' =&gt; array(\n                'href'  =&gt; 'collection/add',\n                'value' =&gt; 'Add title',\n                'class' =&gt; 'icon-plus-sign'\n            )\n        );\n    }\n\n    public function index() {\n        $this-&gt;view();\n    }\n\n    public function view() {\n        $data['list'] = $this-&gt;collection_model-&gt;get_list();\n        $this-&gt;_set_active_view('collection/view');\n        $this-&gt;_render('View Collection', 'collection/view', $data);\n    }\n}\n</code></pre>\n\n<p><strong>sidebar_nav.php</strong></p>\n\n<pre><code>&lt;ul class=\"nav nav-list bs-docs-sidenav\"&gt;\n    &lt;?php\n\n    foreach ($nav as $item) {\n        echo '&lt;li';\n\n        if ($item['class'] !== null || $item['class'] !== '') {\n            echo ' class=\"' . $item['class'] . '\"';\n        }\n\n        echo '&gt;&lt;a href=\"' . $item['href'] . '\"&gt;' . $item['value'] . '&lt;/a&gt;&lt;/li&gt;';\n    }\n\n    ?&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>How does this look? I might write a function <code>_render($title, $view, $data)</code> in <code>MY_Controller</code> that does all the template stuff. What do you think?</p>\n\n<p>Another solution I've been thinking about is to remove <code>_get_nav()</code> and load the needed nav data from a config file, but I don't know how to do this.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2190,"score":1,"question_id":5544891,"title":"logout feature in code igniter","body":"<p>I started using codeigniter for my project. I have user authentication system for my website. I have seen the videos from nettuts for the login information. I am confused why the logout is not working properly. </p>\n\n<p>I have the following logout function in my login controller.</p>\n\n<pre><code>function logout() {\n        $this-&gt;session-&gt;sess_destroy();\n        redirect('main');\n    }\n</code></pre>\n\n<p>If I click on the logout button I am redirecting the user to the main page. But after redirecting the user to the main page, if click on the back button on the browser I will see the logoff and my name on the top of the page. I need some help on where I am going wrong or is there any important piece of code I am missing in my controller</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I think I found the solution. I should append the following code into the appropriate controller</p>\n\n<pre><code>$this-&gt;output-&gt;set_header(\"Cache-Control: no-store, no-cache, must-revalidate, no-transform, max-age=0, post-check=0, pre-check=0\");\n$this-&gt;output-&gt;set_header(\"Pragma: no-cache\"); \n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","model-validation","validationattribute"],"answer_count":2,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":234,"score":4,"question_id":12938576,"title":"Best approach for complex model/submodel validation (MVC)","body":"<h1>Problem</h1>\n\n<p>I know there is a lot of ways of doing Model validation within MVC, and there is quite a lot of documentation regarding this topic. However, I'm not quite sure what's the best approach for validating properties of the <strong>Model</strong> which are <em>\"Sub Model\"</em> of <strong>same type</strong>. </p>\n\n<p>Keep in mind the following</p>\n\n<ul>\n<li>I still want to to take profit of the <code>TryUpdateModel/TryValidateModel</code> methods</li>\n<li>Each of these <em>\"sub models\"</em> have strongly typed views</li>\n<li>There is one strongly typed view for the <code>MainModel</code> class that renders the overall display view</li>\n</ul>\n\n<p>It might sound a little confusing but i'll throw in some code to clarify. Take as example the following classes:</p>\n\n<p><strong>MainModel:</strong></p>\n\n<pre><code>class MainModel{\n    public SomeSubModel Prop1 { get; set; }\n    public SomeSubModel Prop2 { get; set; }\n}\n</code></pre>\n\n<p><strong>SomeSubModel:</strong></p>\n\n<pre><code>class SomeSubModel{\n      public string Name { get; set; }\n      public string Foo { get; set; }\n      public int Number { get; set; }\n}\n</code></pre>\n\n<p><strong>MainModelController:</strong></p>\n\n<pre><code>class MainModelController{\n\n    public ActionResult MainDisplay(){\n         var main = db.retrieveMainModel();\n         return View(main); \n    }\n\n    [HttpGet]\n    public ActionResult EditProp1(){\n         //hypothetical retrieve method to get MainModel from somewhere\n         var main = db.retrieveMainModel();\n\n         //return \"submodel\" to the strictly typed edit view for Prop1\n         return View(main.Prop1);\n    }\n\n    [HttpPost]\n    public ActionResult EditProp1(SomeSubModel model){\n\n         if(TryValidateModel(model)){\n              //hypothetical retrieve method to get MainModel from somewhere\n              var main = db.retrieveMainModel();\n              main.Prop1 = model;\n              db.Save();\n\n              //when succesfully saved return to main display page \n              return RedirectToAction(\"MainDisplay\");\n         }\n         return View(main.Prop1);\n    }\n\n    //[...] similar thing for Prop2 \n    //Prop1 and Prop2 could perhaps share same view as its strongly \n    //typed to the same class\n}\n</code></pre>\n\n<p>I believe this code all make sense until now (correct me if it's not the case) because <code>TryValidateModel()</code> is validating against a model with no <code>ValidationAttribute</code>. </p>\n\n<p>The problem lies here, where would be the best place, or what would be the best and most elegant way to have <strong>different validation constraints</strong> for <code>Prop1</code> and <code>Prop2</code> while still taking advantage of <code>TryValidateModel()</code> and not filling the Edit method with conditional statements and <code>ModelState.AddModelError()</code></p>\n\n<p>Usually you could have validation attributes in the <code>SomeSubModel</code> class, but it wouldn't work in this case, because there is different constraints for each property. </p>\n\n<p>Other option is that there could be Custom validation attribute in the <code>MainModel</code> class, but it also wouldn't work in this case because the <code>SomeSubModel</code>object is passed directly to the view and when validating has no reference to its <code>MainModel</code> object.</p>\n\n<p>The only left option I can think about is a ValidationModel for each property, but I am not quite what would be the best approach for this.</p>\n\n<h1>Solution</h1>\n\n<p>Here's solution I implemented, based of @MrMindor's answer.</p>\n\n<p><strong>Base ValidationModel class:</strong></p>\n\n<pre><code>public class ValidationModel&lt;T&gt; where T : new()\n{\n    protected ValidationModel() {\n        this.Model = new T();\n    }\n    protected ValidationModel(T obj) { \n        this.Model = obj; \n    }\n\n    public T Model { get; set; }\n}\n</code></pre>\n\n<p><strong>Validation Model for Prop1</strong></p>\n\n<pre><code>public class Prop1ValidationModel:ValidationModel&lt;SomeSubModel&gt;\n{\n    [StringLength(15)]\n    public string Name { get{ return base.Model.Name; } set { base.Model.Name = value; } }\n\n    public Prop1ValidationModel(SomeSubModel ssm)\n        : base(ssm) { }\n}\n</code></pre>\n\n<p><strong>Validation Model for Prop2</strong></p>\n\n<pre><code>public class Prop2ValidationModel:ValidationModel&lt;SomeSubModel&gt;\n{\n    [StringLength(70)]\n    public string Name { get{ return base.Model.Name; } set { base.Model.Name = value; } }\n\n    public Prop2ValidationModel(SomeSubModel ssm)\n        : base(ssm) { }\n}\n</code></pre>\n\n<p><strong>Action</strong></p>\n\n<pre><code>[HttpPost]\npublic ActionResult EditProp1(SomeSubModel model){\n\n     Prop1ValidationModel vModel = new Prop1ValidationModel(model);\n     if(TryValidateModel(vModel)){\n\n          //[...] persist data\n\n          //when succesfully saved return to main display page \n          return RedirectToAction(\"MainDisplay\");\n     }\n     return View(model);\n}\n</code></pre>\n"},{"tags":["java","spring","mvc","freemarker"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13085693,"title":"Spring with FreeMarker: Could not resolve view with name 'Home' in servlet with name 'MyServlet'","body":"<p>I am trying to create a very simple integration of FreeMarker and Spring. However, when I run my example, I get an exception:</p>\n\n<pre><code>GRAVE: Servlet.service() for servlet MyServlet threw exception\njavax.servlet.ServletException: Could not resolve view with name 'Home' in servlet with name 'MyServlet'\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1162)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:950)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>I don't know what's wrong with my configuration:</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextClass&lt;/param-name&gt;\n        &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;com.jverstry.Configuration&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p><strong>Web Configuration</strong></p>\n\n<pre><code>@EnableWebMvc\n@Configuration\n@ComponentScan(basePackages = \"com.jverstry\")\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public ViewResolver getViewResolver() {\n\n        FreeMarkerViewResolver resolver = new FreeMarkerViewResolver();\n        resolver.setCache(true);\n        resolver.setPrefix(\"WEB-INF/pages/\");\n        resolver.setSuffix(\".ftl\");\n\n        return resolver;\n\n    }\n\n    @Bean\n    public FreeMarkerConfigurer getFreemarkerConfig() {\n\n        FreeMarkerConfigurer result = new FreeMarkerConfigurer();\n\n        result.setTemplateLoaderPath(\"WEB-INF/pages/\");\n\n        return result;\n\n    }   \n\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@Controller\npublic class MyController {\n\n    @RequestMapping(value = \"/\")\n    public String home(@ModelAttribute(\"model\") ModelMap model) {\n\n        model.addAttribute(\"MsTime\", System.currentTimeMillis());\n\n        return \"Home\";\n\n    }\n\n}\n</code></pre>\n\n<p><strong>P.S.</strong>: Of course, there is a <code>Home.ftl</code> file in <code>WEB-INF/pages/</code>.</p>\n"},{"tags":[".net","asp.net-mvc","mvc","asp.net-webforms"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":13085689,"title":".Net Or .net MVC ? Beginer in need of an opinion","body":"<p>When I began learning ASP I was told to download Visual Web Developer 2008 Express. In essence I wanted to start building sites with valid log ins, possible grocery carts and simple profile for users. I realized that I am going to have to dig deeper than simply a tutorial series and found myself choosing between classic ASP.NET and MVC. However, search results aren't very clear to me as to which I should be learning. \nIn order to make sites as listed above would you suggest learning MVC or classic ASP.NET? In a nutshell why?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":13087055,"title":"Rails create or update Users","body":"<p>I am very very new to Rails and am struggling a little.</p>\n\n<p>I have users that follow a basic sign up, edit process.</p>\n\n<p>I have a situation where a user can be 'part registered', i.e a users email address in the db with a random password as they where put in there via an invite process by an existing user.</p>\n\n<p>When an invited user who already technically exists in the db tries to register I get 'email already exists' since I do have uniqueness checks applied to the user object and a unique index on the table. </p>\n\n<p>I did turn this off and using if statements within the create method to see if the user exists and checked other values did an update or a new and save. All of the if conditions were ignored and a new user was created.</p>\n\n<p>What I want to do is use the same registration form that 'creates' a user to update an existing 'part registered' user with their entered password and name if they exist (email address check) and other db flags are set to true. if the user does exist but the conditions not met load a 'forgot password' page or if user is a new user create and save it.</p>\n\n<p>Any assistance or advice on how to achieve the above would be brill.</p>\n\n<p>Thanks</p>\n\n<p>Vicky</p>\n\n<hr>\n\n<p>Here is my set up:</p>\n\n<p>User class</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  attr_accessor :password\n  attr_accessible :email, :name, :password, :password_confirmation, :tandc\n\n  email_regex = /\\A[\\w+\\-.]+@[a-z\\d\\-.]+\\.[a-z]+\\z/i\n\n  validates :name, :presence =&gt; true,\n                   :length =&gt; { :maximum =&gt; 50 }\n\n  validates :email, :presence =&gt; true,\n                    :format =&gt; {:with =&gt; email_regex },\n                    :uniqueness =&gt; { :case_sensitive =&gt; false }\n\n  validates :password,  :presence =&gt; true,\n                        :confirmation =&gt; true,\n                        :length =&gt; { :within =&gt; 6..40 }\n\n  validates :tandc, :presence =&gt; true\n\n  before_save :encrypt_password\n  .\n  .\n  .\nend\n</code></pre>\n\n<p>I have a UsersController with the following</p>\n\n<pre><code>  def new\n    @user = User.new\n    @title = \"Sign Up\"\n  end\n\ndef create\n if @user.save\n    sign_in @user\n    redirect_to @user\n else\n    @title = \"Sign up\"\n    render 'new'\n end\nend\n\ndef update\n  if @user.update_attributes(params[:user])\n    redirect_to @user\n  else\n   @title = \"Edit\"\n   render 'edit'\n  end\nend\n.\n.\n.\n</code></pre>\n\n<p>I have views:\n user > new.html.erb</p>\n\n<pre><code>&lt;%= form_for(@user, :html =&gt; { :class =&gt; \"validateUser\", :name =&gt;\"edit_user\"}) do |f| %&gt;\n  .\n  .\n  .\n  form stuff here\n  .\n  .\n  .\n&lt;% end %&gt;\n</code></pre>\n\n<p>and user > edit.html.erb</p>\n\n<pre><code>  &lt;%= form_for(@user, :html =&gt; { :class =&gt; \"validateUser\", :name =&gt;\"edit_user\"}) do |f| %&gt;\n  .\n  .\n  .\n  form stuff here\n  .\n  .\n  .\n  &lt;% end %&gt;\n</code></pre>\n\n<p>my routes for users are as follows</p>\n\n<pre><code>    users GET    /users(.:format)                users#index\n          POST   /users(.:format)                users#create\n new_user GET    /users/new(.:format)            users#new\nedit_user GET    /users/:id/edit(.:format)       users#edit\n     user GET    /users/:id(.:format)            users#show\n          PUT    /users/:id(.:format)            users#update\n          DELETE /users/:id(.:format)            users#destroy\n</code></pre>\n"}]}
{"total":14108,"page":3,"pagesize":100,"questions":[{"tags":["asp.net-mvc","mvc","view","model","alias"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13087424,"title":"In MVC is there a way to Alias the Model Properties to display in a html.Labelfor","body":"<p>In my users form I want to use the html.Labelfor  helper, but instead of  Model Property name of CatName, I would like  Category Name Instead. I know I could put this in a , but I have to reuse the names over and over. Below is example.</p>\n\n<p>Model Property:</p>\n\n<pre><code>public string CatName { get; set; }\n</code></pre>\n\n<p>VIEW:</p>\n\n<pre><code>@Html.LabelFor(model =&gt; model.CatName)  //Displays CatName , I want Category Name\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","c#-4.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13085485,"title":"Loading selected radio buttons using an editor c#","body":"<p>In relation to this question:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12883869/grouping-radio-buttons-in-c-sharp-mvc\">StackOverflow - Grouping radio buttons in c# mvc</a></p>\n\n<p>I have managed now to load and save the selected options from the form into a database but now the user may need to edit this.</p>\n\n<p>How do I load the view with the selected user's choices? I cannot see where you can set selected Answer. On load I am getting the default values selected</p>\n"},{"tags":["database","mvc","controller","asp.net-mvc-4","authorization"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13084523,"title":"Prevent authorized user from editing data which does not belong to him","body":"<p>I have read a dozen questions concerning custom authorization filters in ASP.NET MVC, but none of them tackles what I have in mind. </p>\n\n<p>Here is the setup:</p>\n\n<ul>\n<li>ASP.NET MVC 4 project</li>\n<li>UserProfiles are stored in DB (EF5) and linked to the SimpleMembershipProvider with WebSecurity.InitializeDatabaseConnection. So I can always get a UserProfile based on User.Identity.Name </li>\n<li>Each User entity has a collection of BlogPost's in a one-to-many relationship.</li>\n<li>Each BlogPost \"knows\" the user that owns it via a UserProfile property (thanks EF!).</li>\n</ul>\n\n<p>Imagine that John tries to access <a href=\"http://mysite.com/BlogPosts/Edit/5\" rel=\"nofollow\">http://mysite.com/BlogPosts/Edit/5</a> and that BlogPost number 5 is Mary's blog post. John is authorized since he is logged in and he passes the built-in authorization scheme, but he does not have the right to edit Mary's blos post. I hope you get the picture.</p>\n\n<p>I know about authorization in ASP.NET MVC and I know that I can build my own custom IAuthorizationFilter. However, <strong>my authorization filter has to access the database</strong> (DbContext in my case) in order to check whether the entity being edited/deleted, i.e. BlogPost number 5 is owned by the currently logged in user. In other words, the currently logged in user can only edit and delete his \"stuff\". Each \"stuff\" knows the user that owns it.</p>\n\n<p>Something like this in pseude code:</p>\n\n<pre><code>var currentlyLoggedUser = this.dbContext.UserProfiles.Single(user =&gt; user.Username == this.User.Identity.Name); \n\nif (blogPost.UserProfile != currentlyLoggedUser)\n{\n// \"John you are not allowed to edit someone else's blog post, you bad boy\".\n}\n</code></pre>\n\n<p>So, my two simple questions are:\n1. What is the \"best practices\" way to <strong>access the database from within a custom IAuthorizationFilter</strong>? Should I somehow inject my IRepository (the interface serving my DbContext) into the authorization filter attribute? Should I try to find my IRepository from the Controller from within the OnAuthorization method of my filter? Is it ok to access the DB from within a filter in the first place?\n2. If using an IAuthorizationFilter for this task is not the \"best practices\" way to do this, then what is?</p>\n\n<p>So to summarize:</p>\n\n<p><strong>How can I make sure that the currently logged user can edit/delete only his \"stuff\", if every \"stuff\" knows the user that owns it?</strong></p>\n"},{"tags":["php","mvc","iis7","url-rewriting","web-config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13081673,"title":"404 page when defining Controller and Action in custom PHP MVC in IIS","body":"<p>I am building a custom PHP MVC framework based on <a href=\"http://www.youtube.com/watch?v=Aw28-krO7ZM\" rel=\"nofollow\">http://www.youtube.com/watch?v=Aw28-krO7ZM</a> (Create Your Own MVC - Jream), however I am using IIS as my local webserver.  I have installed the Url Rewrite Module and added the following rule:</p>\n\n<pre><code>&lt;rewrite&gt;\n  &lt;rules&gt;\n    &lt;rule name=\"MyRewriteRule\" stopProcessing=\"true\"&gt;\n      &lt;match url=\"^(.*)$\" ignoreCase=\"false\"/&gt;\n      &lt;action type=\"Rewrite\" url=\"index.php?url={R:1}\" appendQueryString=\"true\" /&gt;\n      &lt;conditions&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" /&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" /&gt;\n      &lt;/conditions&gt;\n    &lt;/rule&gt;\n &lt;/rules&gt;\n&lt;/rewrite&gt;\n</code></pre>\n\n<p>The MVC is structured as follows:</p>\n\n<pre><code>application(folder)\n   config(folder), controllers(folder), view(folder), model(folder) etc...\npublic(folder)\n   css, images, js, etc...\nindex.php\nweb.config\n</code></pre>\n\n<p>The url <code>http://localhost:8080/MyApp/</code> works just fine but <code>http://localhost:8080/MyApp/index/</code> fails...or <code>/home</code>, <code>/legal</code> any controller for that matter.  In the custom Bootstrap.php file the following code executes:</p>\n\n<pre><code>&lt;?php class Bootstrap{\n   function __construct(){\n      //format the url\n      $url=isset($_GET['url'])? $_GET['url']: null; //when a controller is specified it fails before even hitting this point, im sent to the error 404 page before getting past here\n      $url=rtrim($url,'/');\n      $url=explode('/',$url);\n\n      if(empty($url[0])){\n         require 'application/controllers/index.php';\n         //.....blah blah blah\n      }\n        //more irrelevant code...\n         require 'application/controllers/'.url[0]'.php';\n      //more irrelevant code...\n     }} ?&gt;\n</code></pre>\n"},{"tags":["json","mvc","asp.net-web-api","web-api"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":358,"score":1,"question_id":11732097,"title":"JsonValue returned by MVC Web Api is empty in client side","body":"<p>I'm using MVC web Api for RESTful purpose. My controller methods return serialized Json object in string format to client and it works fine. I've got some simple method like this:</p>\n\n<pre><code>public string Put(Folder folder)\n{\n   var folder1 = new Folder{Id=\"1\", IsShared=true,Name= folder.Name};\n   var jsSerializer = new JavaScriptSerializer();\n   return jsSerializer.Serialize(folder1);\n}\n</code></pre>\n\n<p>I call Get, Put, Delete and Post methods in QUnit test like this and it works fine:</p>\n\n<pre><code>ajax: {\n        getData: function (url, data) {\n            return processRequest(url, data, \"GET\");\n        },\n\n        postData: function (url, data) {\n            return processRequest(url, JSON.stringify(data),\"POST\");\n        },\n\n        updateData: function (url, data) {\n            return processRequest(url, JSON.stringify(data),\"UPDATE\");\n        },\n\n        deleteData: function (url, data) {\n            return processRequest(url, JSON.stringify(data),\"DELETE\");\n        },\n\n        processRequest: function (url, data, type) {\n            return $.ajax({\n                type: type,\n                dataType: \"json\",\n                contentType: \"application/json;charset=utf-8\",\n                url: url,\n                data: data,\n                processData: true\n            });\n        }\n    },\n</code></pre>\n\n<p>I need to change return value from string to actual Json object because client doesn't want serialized Json anymore they need actual Json object. So I changed the method return type to JsonValue and parse the serialized Json object using JsonValue.Parse() method. When I trace my codes in server side, JsonValue object has proper values in its properties and looks fine but the returned JsonValue in client side has empty properties. here is changed method:</p>\n\n<pre><code>public JsonValue Put(Folder folder)\n{\n   var folder1 = new Folder{Id=\"1\", IsShared=true,Name= folder.Name};\n   var jsSerializer = new JavaScriptSerializer();\n   return JsonValue.Parse(jsSerializer.Serialize(folder1));\n}\n</code></pre>\n\n<p>here is test result:</p>\n\n<pre><code>Expected:   \n{\n  \"Id\": \"1\",\n  \"IsShared\": true,\n  \"Name\": \"abc\"\n}\n\nActual:\n{\n  \"Id\": [],\n  \"IsShared\": [],\n  \"Name\": []\n}\n</code></pre>\n\n<p>I appreciate any idea.</p>\n"},{"tags":["html5","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13081454,"title":"How is added listener is called in html 5 SSE","body":"<p>This is my code :\nThis code is on client side which fires the notification</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n//this calls my action in my controller\n    var source = new EventSource('/dinners/checkrsvp');\n    source.onopen = function (event) {\n    };\n\n    source.onerror = function (event) {\n    };\n\n    source.onmessage = function (event) {\n        document.getElementById('divSSE').innerHTML = event.data + '&lt;br&gt;';\n    };\n\n//my event listener\n    source.addEventListener('ping', function (event) {\n        $('&lt;li&gt;').text(event.data).appendTo('#divSSE');\n     }, false);\n&lt;/script&gt;\n</code></pre>\n\n<p>How will be my \"ping\" listener will be called?</p>\n"},{"tags":["php","javascript","ajax","mvc","front-controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13060712,"title":"Javascript Login Page with PHP authentication script- Which implementation is Best?","body":"<p>I wrote a working php authentication script for my HTTP file Server. Now, I want to write a login page with some nice graphics. I usually write my pages in HTML5, javacscript, and CSS. I am not sure how to implement the php authentication script. So far I have two ways I think I know of:</p>\n\n<ol>\n<li><p>Write the login page in html5 and javascript, use ajax call to the php script after user enters name/password in input boxes, pass the username and password to the script, and have php return ether true or false depending on if that user was authenticated. Problem is, I do not know how to get php return true or false to javascript.</p></li>\n<li><p>Write a PHP front controller model where the index.php loads html5, javascript, and css for graphics and if user is authenticated then redirect to the normal index.html document for the html file server. The problem with this is I am not familiar with using php as the front controller and I don't know if I can dynamically change elements with javascript for special effects just as if it was a normal html5 page. </p></li>\n</ol>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13066824,"title":"Unable to cast object of type in MVC 3.0 Razor","body":"<p>I am new MVC 3.0 Razor.  I am using LINQ to get the details of profiles.</p>\n\n<p>In the controller i am using</p>\n\n<pre><code>  var q = from m in networks.Entities\n                    join o in networks.EntityTypes on m.EntityTypeIdFk \n                    where m.Status == 1\n                    orderby m.EntityName\n                    select new { m.EntityName,m.EntityDescription,o.EntityTypeName };\n\n            ViewBag.EntitiesName = q.ToList();\n</code></pre>\n\n<p>on the View i m using</p>\n\n<pre><code>@foreach (var res in ViewBag.EntitiesName)\n    {\n        &lt;tr&gt;\n            &lt;td&gt;@res.EntityName&lt;/td&gt;\n            &lt;td&gt;@res.EntityDescription&lt;/td&gt;\n            &lt;td&gt;@res.EntityTypeName&lt;/td&gt;\n        &lt;/tr&gt;\n    }\n</code></pre>\n\n<p>in the @res i m getting the resultant array. But still i m getting error \"Unable to cast object of type\"</p>\n\n<p>Please Help me to resolve this.</p>\n\n<p>Thanks,\nSaloni</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2949,"score":2,"question_id":6872332,"title":"how to solve The message filter indicated that the application is busy. (Exception from HRESULT: 0x8001010A (RPC_E_SERVERCALL_RETRYLATER)) asp.net mvc","body":"<p>I ran my code in Visual Studio 2010. It works fine when I publish my application.   </p>\n\n<p>In Windows Server 2003 IIS6.0 I get an exception.</p>\n\n<blockquote>\n  <p>The message filter indicated that the application is busy. (Exception from HRESULT: 0x8001010A (RPC_E_SERVERCALL_RETRYLATER)) asp.net mvc</p>\n</blockquote>\n\n<p>My code is here:  </p>\n\n<p>public ActionResult Getfile(int id)\n        {</p>\n\n<pre><code>        Candidate candidate = IcandidateRepository.GetCandidate(id);\n\n        if (candidate.FilePath != null)\n        {\n            string Filename = Path.GetFileName(candidate.FilePath);\n            //string[] filename = candidate.FilePath.Split('\\\\');\n            //foreach (var file in filename)\n            //{\n            //    Filename = file;\n            //}\n\n            Microsoft.Office.Interop.Word.Application wordApplication = new Microsoft.Office.Interop.Word.Application();\n            object nullobj = System.Reflection.Missing.Value;\n            object filepath = candidate.FilePath;\n            object ofalse = false;\n            object isvisible = false;\n            Microsoft.Office.Interop.Word.Document doc = wordApplication.Documents.Open(ref filepath,\n            ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj,\n            ref nullobj, ref  nullobj, ref nullobj, ref nullobj, ref isvisible,\n            ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj);\n            wordApplication.Visible = false;\n            string newfilename = Filename.Replace(\".doc\", \".html\");\n            object onewfilename = @\"D:\\\\clg\\\\\" + newfilename;\n            object encoded = Microsoft.Office.Core.MsoEncoding.msoEncodingUTF8;\n            object encodending = Microsoft.Office.Interop.Word.WdLineEndingType.wdCRLF;\n            object oformat = Microsoft.Office.Interop.Word.WdSaveFormat.wdFormatHTML;\n            doc.SaveAs(ref onewfilename, ref oformat, ref nullobj,\n                        ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj, ref nullobj,\n                        ref nullobj, ref nullobj, ref encoded, ref nullobj,\n                        ref nullobj, ref encodending, ref nullobj);\n            doc.Close(ref ofalse, ref nullobj, ref nullobj);\n\n            wordApplication.Quit(ref nullobj, ref nullobj, ref nullobj);\n            string newfile = onewfilename.ToString();\n\n\n\n\n\n            if (Filename != null)\n            {\n                dynamic cmd = System.Diagnostics.Process.Start(newfile);\n\n                return RedirectToAction(\"CandidateDetails\", new { id = candidate.CandidateID });\n\n            }\n        }\n\n\n        return View(\"FileNotFound\");\n\n\n   }\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","deployment"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2841,"score":1,"question_id":5832653,"title":"How to deploy an MVC application on IIS 7?","body":"<p>I have a MVC application and I can't get it working on IIS 7. Debugging in VS2010 works fine, but when I publish the website to my local IIS7, I see nothing but blank pages.</p>\n\n<p>Here is what I have done:</p>\n\n<p>On the project, right click and click Publish. In the Publish Web window I set these settings:</p>\n\n<ul>\n<li>Publish method: Web deploy</li>\n<li>Service URL: localhost</li>\n<li>Site/application: Default Web Sit\\Africa</li>\n<li>both, <code>Mark as IIS application on destination</code> and <code>Leave extra files on destination (do not delete</code> are checked.</li>\n</ul>\n\n<p>In IIS, my application runs under a application pool with supports .net 4.0 and managed pipeline is set to integrated.</p>\n\n<p>I don't get any error while publishing, but when I navigate to my site I only see blank pages. Nothing happens.</p>\n\n<p>What goes wrong?</p>\n\n<p>EDIT:</p>\n\n<p>When I navigate to <a href=\"http://localhost/Africa/\" rel=\"nofollow\">http://localhost/Africa/</a> I see a blank page. When I navigate to <a href=\"http://localhost/Africa/Views/Home/\" rel=\"nofollow\">http://localhost/Africa/Views/Home/</a> I get a 500 error. </p>\n\n<p>How can I solve this?</p>\n"},{"tags":["java","mvc","design-patterns","simulation","oo"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":82,"score":3,"question_id":13077023,"title":"How to set up simulation architecture, OO design","body":"<p>I'm building a simulation in Java. So, I'll break my simulation into two parts:</p>\n\n<p>1) The simulation engine</p>\n\n<p>2) The simulation model</p>\n\n<p>Basically I want a little help (tips/advice) about how to split it up i.e. what goes where.</p>\n\n<p>So I'm thinking that the engine will keep track of time. It will listen for events and when events arrive it will update the state of the simulation ( I'm building a discrete event simulation). The simulation model will have the GUI and it will get the logic and data from the actual engine. I'm thinking that the model will provide the actual events as input to the engine. I've been thinking about a car analogy where the engine is the body of the car and the model the driver. So I want it to behave like the driver(model) telling the car(engine) what to do i.e. when to turn when to break and what speed to go at etc</p>\n\n<p>Do you think I'm tackling this in the right way? I can sense that I sound a little confusing and not very clear. So I'll just clarify that what I'm looking for is just some input to how I should split this up and what the responsibility of engine and model should actually be.</p>\n\n<p>Also, I was wondering, if I were to implement the MVC design pattern, how would that fit in with the way I'm trying to break it up?</p>\n\n<p>EDIT:</p>\n\n<p>By model I mean that I want the simulation to have a set of specific rules which the engine then follows. As I'm building a road traffic simulator, the rules could be like, the distribution of cars, driver profiles, what cars may and may not do ( e.g. stop for red light) etc. So the model is like the \"brain\" of the simulation if you get what I mean, and then the engine being the actual simulation of the set of \"rules\" specified by the model. I hope this makes more sense. </p>\n"},{"tags":["java","swing","mvc","jframe"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13072575,"title":"How to close a previous Frame when a new Frame is opened","body":"<p>I am coding MVC. In my controller i am listening to the action and if the user clicks a \"SHOW-LIST\" button i am making an instance of my view class which extends from JFrame and therein the view class i create a new JFrame. My problem is that if i click on SHOW-LIST button multiple times, i have the frame opened multiple time. Can somebody please tell me how can i do so so that once a new frame is about to open the old frame closes..</p>\n\n<p>Controller</p>\n\n<pre><code>public void actionPerformed(ActionEvent event) {\n  String viewAction = event.getActionCommand();\n  ...\n    if (viewAction.equals(\"SHOW-LIST\")) {\n      showListUI = new ShowListDialogUI(displayedCustomerList);\n    }\n}\n</code></pre>\n\n<p>View</p>\n\n<pre><code>class ShowListDialogUI extends JFrame{\n  public ShowListDialogUI (List&lt;Customer&gt; customerList) {\n    ..\n    // I am drawing it here\n    ..\n  }\n}\n</code></pre>\n"},{"tags":["php","mysql","database","mvc","cakephp"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2891,"score":3,"question_id":1788072,"title":"CakePHP using multiple databases for models","body":"<p>Is it possible for certain models to be in one database and other models in another (using the same connection)?</p>\n\n<p>I have a number of read-only tables that I want shared between multiple installations of my system. Other tables need to be per-installation. For the sake of example, let's say <code>users</code> is the shared table, and <code>posts</code> is per-installation.</p>\n\n<p>In one schema (let's call it \"shared\") we have the <code>users</code> table, and in another schema (\"mycake\") is <code>posts</code>.</p>\n\n<p>I've been able to get the User model reading from the other database by creating a new database connection which points to the shared database (though the two databases are on the same host and are both accessible with the same login details).</p>\n\n<pre><code>class User extends AppModel {\n    var $useDBConfig = 'sharedConnection';\n}\n</code></pre>\n\n<p>The problem is when it comes time to join to the <code>posts</code> table. It doesn't prepend the schema name to the table name, and so it can't find <code>posts</code>.</p>\n\n<pre><code>// what it does\nSELECT * FROM users User INNER JOIN posts Post ...\n\n// what I'd like it to do:\nSELECT * FROM shared.users User INNER JOIN mycake.posts Post ...\n</code></pre>\n\n<p>So basically, <strong>is there a way to assign a fully qualified table name to a model and force it to use that in all its queries?</strong> Setting <code>var $useTable = 'shared.users';</code> doesn't help... </p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":508,"score":0,"question_id":8965352,"title":"Creating DropDownListFor in a Partial View in MVC","body":"<p>I have created a partial view that displays a dropdownlist</p>\n\n<p><code>html.DropDownListFor(m =&gt; m.SelectOption, Model.SelectOption)</code></p>\n\n<p>I get an error of Object not reference to an instance....</p>\n\n<p>If I put the code above into my view (aspx) it works fine no problem. But in the partial view I get the error. </p>\n\n<p>The textbox controls in my partial view works fine using the same model. I just can't around the DropDownList.</p>\n"},{"tags":["c#","mvc","design-patterns","uml"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":10948226,"title":"Control Boundary Entity in Code","body":"<p>there are many text about Boundary , Entity , Control class and ICONIX process and Robustness Diagrams.but there is no code samples in real , how can we implement control classes in code ? here is my code sample , i want to detect that where is the control class in this code ? </p>\n\n<p>classes :</p>\n\n<p>Program_Boundary : Boundary Class</p>\n\n<p>Person           : Entity</p>\n\n<p>People           : Entity ( because it has CRUD operations )</p>\n\n<p>Where is Control class  ? Is there a control class for this example :</p>\n\n<pre><code>class Program_Boundary // BoundaryClass\n{\n    static void Main(string[] args)\n    {\n        People people = new People();\n        Person person;\n        for (int i = 0; i &lt; 5; i++)\n        {\n            Console.WriteLine(\"Enter name:\");\n            string name = Console.ReadLine();\n            Console.WriteLine(\"Enter family:\");\n            string family = Console.ReadLine();\n            person = new Person(name, family);\n            people.Add(person);\n        }\n    }\n}\nclass People //Entity Class\n{\n    List&lt;Person&gt; person_list = new List&lt;Person&gt;();\n    public People()\n    {\n\n    }\n    public void Add(Person person)\n    {\n        person_list.Add(person);\n    }\n    public void Delete(string name, string family)\n    {\n        for (int i = 0; i &lt; person_list.Count; i++)\n            if (person_list[i].name == name &amp;&amp; person_list[i].family == family)\n                person_list.Remove(person_list[i]);\n    }\n    public void Update(string name, string family, string new_name, string new_family)\n    {\n        for (int i = 0; i &lt; person_list.Count; i++)\n            if (person_list[i].name == name &amp;&amp; person_list[i].family == family)\n            {\n                person_list[i].name = new_name;\n                person_list[i].family = new_family;\n            }\n    }\n}\nclass Person //Entity Class\n{\n    private string _name;\n    private string _family;\n\n    public Person(string n,string f)\n    {\n        _name = n;\n        _family = f;\n    }\n    public string name { get { return _name; } set { _name = value; } }\n    public string family { get { return _family; } set { _family = value; } }\n}\n</code></pre>\n"},{"tags":["xml","mvc","combobox","sencha-touch-2","store"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13066637,"title":"Load data from XML to selectfield in a form in sencha touch 2","body":"<blockquote>\n  <p>I want to populate data from an XML file to a selectfield in a form in sencha 2. how to do that.</p>\n</blockquote>\n"},{"tags":["javascript","jquery","mvc","http","backbone.js"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":1711,"score":7,"question_id":8291596,"title":"Are there any Backbone.js tutorials that teach \".sync\" with the server?","body":"<p>I read many Backbone.js tutorials, but most of them deal with static objects.  </p>\n\n<p>Of course, I have data on the server.  I want a tutorial that shows how backbone.js can communicate with the server to fetch data, post data, etc.</p>\n\n<p>This is <code>.sync</code>, right?  I read the backbone.js documentation, but still fuzzy on how to use this feature.</p>\n\n<p>Or can someone show me an example?</p>\n\n<p>According to: <a href=\"http://documentcloud.github.com/backbone/#Sync\">http://documentcloud.github.com/backbone/#Sync</a></p>\n\n<blockquote>\n  <p>Backbone.sync is the function that Backbone calls every time it\n  attempts to read or save a model to the server.</p>\n</blockquote>\n\n<p>But when? Where do I put the function? I don't know how to use it, and the documentation doesn't give any examples. When does the data get loaded into my models? I get to define when...right?</p>\n"},{"tags":["mvc","attributes","dataannotations","scaffolding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12896883,"title":"Passing values from model to view via AdditionalMetadata","body":"<p>In my Model I have a propety decorated with the AdditionalMetadata attribute to pass through help text that I want to render:</p>\n\n<pre><code>[AdditionalMetadata(\"HelpText\", \"help text goes here\")]\n</code></pre>\n\n<p>In my EditorTemplate (/views/shared/editorTemplates/Object.ascx) I then check to see if this value is set:</p>\n\n<pre><code>&lt;% if (ViewData.ModelMetadata.AdditionalValues.ContainsKey(\"HelpText\"))\n{ %&gt;\n  &lt;span class='editor-help'&gt;\n    &lt;%= ViewData.ModelMetadata.AdditionalValues[\"HelpText\"].ToString()%&gt;\n  &lt;/span&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>However, when I put a breakpoint on ViewData.ModelMetadata.AdditionalValues, its always empty, even though I'm breaking on the correct field and the attribute is definitely set. I'm using MVC4 in case the behaviour has changed since MVC3?</p>\n\n<p>Is there any other step I have to do to pass a custom vale through from the model to the view?</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","jquery","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13067412,"title":"Backbone.js and jquery javascript mvc","body":"<p>For my project i am looking to build a complex javascript application i already have it built with php and jquery, but its really rough and not scalable.</p>\n\n<p>I have been looking at the many many options of mvc based javascript frameworks and backbone knockout and ember always pop up, after reading lots of post explain the pros and cons of each framework i am still finding it hard to agree on one.</p>\n\n<p>my application so far is built with the following\nUI : jquery,html,css\nServer : php (built on codeigniter)</p>\n\n<p>i am using lots of jquery plugins with my app so far (jplayer,tablesorter etc etc ) so these will all need to play nicely with which ever framework i decide on.</p>\n\n<p>But i want to start building large scale javascript applications rather than a mass of jquery which i currently have (i love jquery by the way just thinking as i start building bigger application i feel like i should change).</p>\n\n<p>Hopefully with my web app i can extend it to mobile ipad, iphone etc so i have been building and adding to my api as i go along, i am currently using parts of the api within my application to grab certain info say.</p>\n\n<pre><code>$.getJSON('http://example.com/api/m/user/id/'+data.userid+'/accounts', function(data) {\n      //console.log(data);\n      var html = \"&lt;li&gt;&lt;a href='#'&gt;Home&lt;/a&gt;&lt;/li&gt;\";\n      $.each(data.results, function(key, val) {\n        html += \"&lt;li&gt;&lt;a href='#'&gt;\"+val.accounts+\"&lt;/a&gt;&lt;/li&gt;\";\n\n      });\n      html += \"\";\n      callback(html);\n\n}); \n</code></pre>\n\n<p>but when submitting forms i am using php.</p>\n\n<p>I now this is a very vague post but i really wanted to asked for advise with my following setup, as i am finding hard to decide (What would other people use? is it best to work solely from the api for everything etc etc)???</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","html.actionlink"],"answer_count":5,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":1743,"score":6,"question_id":8331041,"title":"How to use MVC 3 @Html.ActionLink inside c# code","body":"<p>I want to call the @Html.ActionLink method inside a c# function to return a string with a link on it.</p>\n\n<p>Something like this:</p>\n\n<pre><code>string a = \"Email is locked, click \" + @Html.ActionLink(\"here to unlock.\", \"unlock\") ;\n</code></pre>\n"},{"tags":["asp.net","mvc","checkbox","asp.net-membership"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":679,"score":0,"question_id":3022836,"title":"ASP.NET MVC 2 - Checkboxes","body":"<p>I'm using <code>string[] roles = Roles.GetAllRoles()</code> to get a string[] of all the ASP.NET membership roles for my application.  I'm sending the roles to my view in ViewData and using a foreach to create a set of Checkboxes using <code>&lt;%: Html.CheckBox(\"RoleCheckBox\") %&gt;</code>.  There are 3 roles and my view does render 3 checkboxes.  When I do a View/Source, I see the checkboxes and their corresponding hidden  tags.  They all have the same, so there are 6  tags with the name \"RoleCheckBox\" - 3 that render the checkboxes and 3 that are hidden.</p>\n\n<p>The problem comes when I post the form back to my controller and bind the results - something like <code>public ActionResult Create(Person person, string[] RoleCheckBox)</code>.  I get FOUR strings and I have no idea where the fourth string (\"false\") is coming from.  I could do some testing by trying various combinations of checks to see which one (hopefully) doesn't change and ignore it but that's just ugly.</p>\n\n<p>Does anyone know why this would be happening?</p>\n\n<p>Thanks,</p>\n\n<p>Jay</p>\n"},{"tags":["asp.net-mvc-3","entity-framework","mvc","poco","data-access-layer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13059901,"title":"Passing POCOs or EF objects to the Web project?","body":"<p>Say I have a Visual studio solution with two projects: one web project, and one data project.</p>\n\n<p>Does it really matter whether I pass the EF object from the data project to the web project, or do I need to explicitly define POCOs in the data project to pass to the web project?</p>\n\n<p>It seems to me that needing to create POCOs instead of simply using EF objects adds yet another thing that needs to be done...and I don't particularly see the purpose.</p>\n"},{"tags":["java","swing","mvc","code-review"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":206,"score":2,"question_id":10967754,"title":"What is wrong in my MVC implementation?","body":"<p>I need to implement passengers that going to TaxiStation. Each Passenger must be independent object (a thread). When passenger \"going\" it should be displayed in appropriate View(let say GoingToStationPanel) when it arrived to station it should be removed from GoingToStationPanel and displayed in ArrivedToStationPanel. When station closed all passengers should be notified about this by station, should leave the station and should be displayed in appropriate view. There is should be a button that will create new passenger</p>\n\n<p>After reading some examples, I tried to implement MVC on my program, but I get that all classes are too coupled and view location depends on location of model in code. What is wrong and how to fix it?</p>\n\n<p>I have 2 panels inside <code>WrapperMyPanel</code>. Each one of those 2 panels implement \n<code>PassengerEventsViewListener</code>.</p>\n\n<ol>\n<li><p>The first problem I see is that each panel must implement ALL methods of <code>PassengerEventsViewListener</code> even if it doesn't need all of them.</p></li>\n<li><p>The second problem is if I want to move, for example, <code>MyPanel1</code> outside of <code>WrapperMyPanel</code>, so how I will be able to register it(<code>MyPanel1</code>) on Passenger model? after all passenger is created in <code>WrapperMyPanel</code>.</p></li>\n</ol>\n\n<p>The model and view are too coupled here. Where is my mistake and how to fix 2 problems above?</p>\n\n<p><strong>View</strong></p>\n\n<pre><code>class WrapperMyPanel extends JPanel\n{\n    public WrapperMyPanel ()\n    {\n         MyPanel1 panel1 = new MyPanel1();\n         MyPanel2 panel2 = new MyPanel2();\n\n        JButton btnAddPassenger = new JButton(\"Add passenger\");         \n        btnAddPassenger.addActionListener(new ActionListener() {            \n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                Passenger passenger = Dialog.showPassengerDialog(station);\n                if(passenger != null) {\n                    passenger.registerViewListener(panel1 );\n                    passenger.registerViewListener(panel2 );\n                    passenger.start();\n                }\n            }\n        });\n\n        add(btnAddPassenger);\n        add(panel1);        \n        add(panel2);\n    }\n}\n</code></pre>\n\n<p><strong>PassengerEventsViewListener</strong></p>\n\n<pre><code>public interface PassengerEventsViewListener {\n    void goingToStationEvent(EventArgs&lt;Passenger&gt; args);\n    void arrivedToStationGateEvent(EventArgs&lt;Passenger&gt; args);\n    //...\n}\n</code></pre>\n\n<p><strong>PassengerModel</strong></p>\n\n<pre><code>class Passenger extends Thread\n{\n    Vector&lt;PassengerEventsViewListener&gt; viewListener;\n    //...\n    void fireGoingToStation() { //for each listener: listener.goingToStationEvent(this); }\n    void fireArrivedToStation() { ... }\n}\n</code></pre>\n"},{"tags":["python","django","mvc"],"answer_count":3,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":1656,"score":3,"question_id":6621653,"title":"Django vs. Model View Controller","body":"<p>Can somebody explain me where the diferences are between Django and the Model View Controller pattern?</p>\n\n<p>Functionally, what can we expect from those differences — i.e. what works differently comparing Django to, for example, Ruby on Rails?</p>\n"},{"tags":["asp.net-mvc-3","mvc","models"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13060812,"title":"Models - in Data Project or Web Project?","body":"<p>When creating a new ASP.NET MVC3 application, in the default project there is a <code>Models</code> folder. This <code>Models</code> folder includes the <code>AccountModels</code> - <code>RegisterModel</code>, <code>LoginModel</code>, etc. </p>\n\n<p>I have a separate project for the DAL - it includes a <code>repository</code> and a <code>service</code>.</p>\n\n<p>Now, I have a method in my <code>service</code>:</p>\n\n<p><code>TblUser Register(RegisterModel model);</code></p>\n\n<p>For this to work, I must reference the web project in my data project.</p>\n\n<p>Is this appropriate, or should I include my <code>Models</code> folder in my data project instead?</p>\n"},{"tags":["ruby-on-rails","html5","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13060364,"title":"How do i make an offline web app with reporting?","body":"<p>I have a potential client that wants to build a platform agnostic application. Initially it'll run on a windows 7 tablet and will expand. Its a roofing business, so they're going to take pictures with the camera, fill out some forms, and then generate a report from it. The first thing I can think of is making an API call to a web service I create that does some crystal reports magic them returns to the client. </p>\n\n<p>Problem is, they aren't always guaranteed internet access. What can I do here? My thoughts right now are building the app in rails or MVC 4. </p>\n"},{"tags":["asp.net","javascript","jquery","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":401,"score":3,"question_id":2037295,"title":"$.getJSON  back button showing JSON return data not the page","body":"<p>I have a little issue with my site.   I have a page that hosts a google map.  However the map does not get shown until the user clicks a button.  It then call $.getJSON to get the addresses that i need to show on the map...</p>\n\n<pre><code>$.getJSON(theurl, function(json) {\n  ...\n}\n</code></pre>\n\n<p>It all works fine.  However if the user then moves to a different page and then clicks the Back button they get the data from the $.getJSON call displayed, not the page itself.  </p>\n\n<p>It's as if the call to get the addresses has become part of the browsing history. If the user hits refresh when the data appears the full page then gets displayed.</p>\n\n<p>Can anyone tell me how to stop this from happening.</p>\n\n<p>I'm using the googlemap in an ASP.Net MVC site.</p>\n\n<p>Thanks</p>\n"},{"tags":["iphone","objective-c","cocoa-touch","mvc","parent-child"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":267,"score":1,"question_id":7506125,"title":"iPhone: How can a child tell his parent to do something","body":"<p>OK, I have a RootViewController.m and defined a method in there:</p>\n\n<pre><code>-(void)doSomethingParent\n{\n    NSLog(@\"Parent is doing something after child has asked\");\n}\n</code></pre>\n\n<p>I then added a childViewController.view like so:</p>\n\n<pre><code>if (self.child == nil) {\n\n    ChildViewController *cvc = [[ChildViewController alloc]\n                                initWithNibName:nil bundle:nil];\n    self.child = cvc;\n    [cvc release];\n\n}    \n[self.view insertSubview: child.view atIndex:0];\n</code></pre>\n\n<p>Now, I thought it would be very useful indeed if I could call my doSomethingParent method from the child. So I thought I would do it like this:</p>\n\n<pre><code> @implementation ChildViewController\n@class RootViewController;\n\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n\n    [super doSomethingParent];\n\n}\n</code></pre>\n\n<p>But xCode tells me that \"-doSomethingParent\" not found... but I put @class in there?! Shouldn't it find it? I don't want to import the whole thing as I thought @class would be sufficient to let the child know that the parent has a method called doSomethingParent...</p>\n\n<p>I'd be very grateful for any suggestions. Thanks in advance!</p>\n"},{"tags":["mvc","database-design","web-applications","sqlalchemy","pyramid"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":112,"score":3,"question_id":12549071,"title":"Should I extract functionality from this model class into a form class? (ActiveRecord Pattern)","body":"<p>I am in the midst of designing an application following the mvc paradigm. I'm using the sqlalchemy expression language (not the orm), and pyramid if anyone was curious. </p>\n\n<p>So, for a user class, that represents a user on the system, I have several accessor methods for various pieces of data like the avatar_url, name, about, etc. I have a  method called getuser which looks up a user in the db(by name or id), retrieves the users row, and encapsulates it with the user class.</p>\n\n<p>However, should I have to make this look-up every-time I create a user class? What if a user is viewing her control panel and wants to change avatars, and sends an xhr; isn't it a waste to have to create a user object, and look up the users row when they wont even be using the data retrieved; but simply want to make a change to subset of the columns? I doubt this lookup is negligible despite indexing because of waiting for i/o correct?</p>\n\n<p>More generally, isn't it inefficient to have to query a database and load <em>all</em> a model class's data to make any change (even small ones)?</p>\n\n<p>I'm thinking I should just create a seperate form class (since every change made is via some form), and have specific form classes inherit them, where these setter methods will be implemented. What do you think?</p>\n\n<p>EX: Class: Form &lt;- Class: Change_password_form &lt;- function: change_usr_pass </p>\n\n<p>I'd really appreciate some advice on creating a proper design;thanks.</p>\n"},{"tags":["java","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":117,"score":2,"question_id":10973044,"title":"MVC Java confusion","body":"<p>Let me start by saying this is a homework assignment, I don't need any coding help though -- I just feel lost when I try to make sense of how to implement MVC with what the instructions say... I have read many many examples from forums and different websites (even my two books for this data structures class) and I have a great understanding of <em>what</em> MVC is. I just get so confused when it comes to implement it with code...</p>\n\n<p>So this is what the teacher gave us to work with:</p>\n\n<blockquote>\n  <p>The class <code>Driver</code> (VIEW), class <code>List</code> (MODEL), and class <code>Tests</code>\n  (CONTROLLER) such that an object of this class can store a student’s\n  first name, last name, five test scores, average tests score, and\n  grade.  Add constructors and methods to manipulate data stored in an\n  object. Among other things, your classes must contain methods to\n  calculate test averages, return test averages, calculate grades,\n  return grades, and modify individual test scores. The method <code>toString()</code>\n  must return test data (including student’s name, five test scores,\n  average, and grade) as a <code>String</code> plus the class average.</p>\n</blockquote>\n\n<p>I do realize she labled what classes should be what, and I have already made those classes... My confusion is what class to give what methods/functions/variables etc.</p>\n\n<p>The model should hold information its like a database .... so should I make another class <code>Student</code> that has variables first/last name and test averages? But then which class will get the getter and sett methods? </p>\n\n<p>Again, I have searched and searched and searched, I have seen many examples but its just not clicking for me :(</p>\n\n<p>Thanks to anyone that can dumb this down enough based off what the teacher has presented....</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":472,"score":3,"question_id":12011496,"title":"MVC 4 installation failure","body":"<p>I am attempting to install MVC 4 to my desktop.  I am the only person in the office whop is having this problem even though we all have the same machines with the same software.  I'm not sure what the problem is.  The installation prints a log file but I don't know what any of it means.  If anyone has an answer I would appreciate it.  Here is the log file:</p>\n\n<pre><code>DownloadManager Information: 0 : Loading product xml from: https://go.microsoft.com/?linkid=9810537\nDownloadManager Information: 0 : https://go.microsoft.com/?linkid=9810537 responded with 302\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 302 Found\nCache-Control: private\nContent-Length: 175\nContent-Type: text/html; charset=utf-8\nExpires: Fri, 17 Aug 2012 17:13:22 GMT\nLocation: https://www.microsoft.com/web/webpi/4.0/webproductlist.xml\nServer: Microsoft-IIS/7.5\nX-AspNet-Version: 2.0.50727\nSet-Cookie: MC1=GUID=c6f89ed006465f41bf8ce6e310c073fb&amp;HASH=d09e&amp;LV=20128&amp;V=3;    domain=microsoft.com; expires=Sun, 03-Oct-2010 07:00:00 GMT; path=/\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:22 GMT\n\n\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/webproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nCache-Control: max-age=900\nAccept-Ranges: bytes\nETag: \"d77eb3a9227bcd1:0\"\nServer: Microsoft-IIS/7.5\nP3P: CP=\"ALL IND DSP COR ADM CONo CUR CUSo IVAo IVDo PSA PSD TAI TELo OUR SAMo CNT COM INT NAV ONL PHY PRE PUR UNI\"\nX-Powered-By: ASP.NET\nX-Powered-By: ARR/2.5\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:21 GMT\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\-477760839.xml.temp\nDownloadManager Warning: 0 : Could not resolve keyword ID Sharepoint\nDownloadManager Warning: 0 : Could not resolve keyword ID Office\nDownloadManager Warning: 0 : Could not resolve keyword ID Sharepoint\nDownloadManager Warning: 0 : Could not resolve keyword ID Office\nDownloadManager Warning: 0 : Could not resolve keyword ID SQL\nDownloadManager Warning: 0 : Could not resolve keyword ID SQL\nDownloadManager Warning: 0 : Could not resolve keyword ID WIF\nDownloadManager Warning: 0 : Could not resolve keyword ID identity\nDownloadManager Warning: 0 : Could not resolve keyword ID federation\nDownloadManager Warning: 0 : Could not resolve keyword ID claims\nDownloadManager Warning: 0 : Could not resolve keyword ID authentication\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/webapplicationlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/webapplicationlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nCache-Control: max-age=900\nAccept-Ranges: bytes\nETag: \"43da3ca8137bcd1:0\"\nServer: Microsoft-IIS/7.5\nP3P: CP=\"ALL IND DSP COR ADM CONo CUR CUSo IVAo IVDo PSA PSD TAI TELo OUR SAMo CNT COM INT NAV ONL PHY PRE PUR UNI\"\nX-Powered-By: ASP.NET\nX-Powered-By: ARR/2.5\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:22 GMT\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\251486345.xml.temp\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Warning: 0 : Could not resolve keyword ID ApplicationSpotlight\nDownloadManager Warning: 0 : Could not resolve keyword ID Katalready\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/mediaproductlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/mediaproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nDate: Fri, 17 Aug 2012 17:14:22 GMT\nEtag: \"1b51c01e6f4ecd1:0\"\nCache-Control: max-age=900\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\598799360.xml.temp\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/toolsproductlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/toolsproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nDate: Fri, 17 Aug 2012 17:14:22 GMT\nEtag: \"4e6536ff8276cd1:0\"\nCache-Control: max-age=900\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\672503665.xml.temp\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Loading product xml from: https://www.microsoft.com/web/webpi/4.0/enterpriseproductlist.xml\nDownloadManager Information: 0 : https://www.microsoft.com/web/webpi/4.0/enterpriseproductlist.xml responded with 304\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 304 Not Modified\nDate: Fri, 17 Aug 2012 17:14:22 GMT\nEtag: \"a68a64382f88cc1:0\"\nCache-Control: max-age=900\n\n\nDownloadManager Information: 0 : Remote file has not changed, using local cached file: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\1505006577.xml.temp\nDownloadManager Information: 0 : Filtering by majorOS: 6, minorOS: 1, majorSP: 1, minorSP: 0, productType: 6, architecture: x64\nDownloadManager Information: 0 : Getting ratings file from http://go.microsoft.com/?linkid=9752395\nDownloadManager Information: 0 : http://go.microsoft.com/?linkid=9752395 responded with 302\nDownloadManager Information: 0 : Response headers:\nHTTP/1.1 302 Found\nCache-Control: private\nContent-Length: 203\nContent-Type: text/html; charset=utf-8\nExpires: Fri, 17 Aug 2012 17:13:24 GMT\nLocation: http://www.microsoft.com/web/handlers /WebPI.ashx?command=getatomfeedwithavgratingquery\nServer: Microsoft-IIS/7.5\nX-AspNet-Version: 2.0.50727\nSet-Cookie: MC1=GUID=5dcd22f7d0af19428d827c6bc0604293&amp;HASH=f722&amp;LV=20128&amp;V=3; domain=microsoft.com; expires=Sun, 03-Oct-2010 07:00:00 GMT; path=/\nX-Powered-By: ASP.NET\nDate: Fri, 17 Aug 2012 17:14:24 GMT\n\n\nDownloadManager Information: 0 : Contextual entry products: MVC4VS2010\nDownloadManager Information: 0 : Adding product ASP.NET MVC 4 (VS 2010) (MVC4VS2010) to cart\nDownloadManager Information: 0 : Contextual navigation to product 'MVC4VS2010'\nDownloadManager Information: 0 : Ratings file loaded successfully\nDownloadManager Information: 0 : Adding product 'MVC4VS2010'\nDownloadManager Information: 0 : Adding dependency product 'MVC4VS2010_Only\nDownloadManager Information: 0 : Setting current install to 1\nDownloadManager Information: 0 : Starting install sequence\nDownloadManager Information: 0 : Downloading file 'http://download.microsoft.com/download/2/F/6/2F63CCD8-9288-4CC8-B58C-81D109F8F5A3/AspNetMVC4Setup.exe' to: C:\\Users\\ppprog6202\\AppData\\Local\\Temp\\tmp6948.tmp\nDownloadManager Information: 0 : Content-disposition header: attachment\nDownloadManager Information: 0 : File 'C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\installers\\MVC4VS2010_Only\\F46B534A9D488ABEC38EFB67571F52B4A6FC43E3\\AspNetMVC4Setup.exe' already exists, deleting old copy of the file\nDownloadManager Information: 0 : Moving downloaded file 'C:\\Users\\ppprog6202\\AppData\\Local\\Temp\\tmp6948.tmp' to: C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\installers\\MVC4VS2010_Only\\F46B534A9D488ABEC38EFB67571F52B4A6FC43E3\\AspNetMVC4Setup.exe\nDownloadManager Information: 0 : Starting EXE command for product 'ASP.NET MVC 4 Installer (VS 2010)- Default Locale'. Commandline is: 'C:\\Users\\ppprog6202\\AppData\\Local\\Microsoft\\Web Platform Installer\\installers\\MVC4VS2010_Only\\F46B534A9D488ABEC38EFB67571F52B4A6FC43E3\\AspNetMVC4Setup.exe /q /log C:\\Users\\PPPROG~1\\AppData\\Local\\Temp\\MVC4VS2010_Only_install.htm'. Process Id: 3676\nDownloadManager Information: 0 : Install exit code for product 'ASP.NET MVC 4  Installer (VS 2010)- Default Locale' is -2147023254\nDownloadManager Error: 0 : Install return code for product 'ASP.NET MVC 4 Installer (VS 2010)- Default Locale' is Failure\nDownloadManager Warning: 0 : Dependency failed for product 'ASP.NET MVC 4 (VS 2010)'. Skipping install\nDownloadManager Information: 0 : Product ASP.NET MVC 4 Installer (VS 2010)- Default Locale done install completed\nDownloadManager Information: 0 : Increasing current install to 2\nDownloadManager Information: 0 : Product ASP.NET MVC 4 (VS 2010) had a dependency fail. Increasing install product to 3\n</code></pre>\n"},{"tags":["apache","mvc","tomcat6","java-6","virtual-server"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":25,"score":-3,"question_id":13053993,"title":"Website with large number of users keeps going down due to memory leaks:Tomcat6 and Java 6","body":"<p>We host many websites on one of our two virtual servers. We use tomcat 6 and Java 6.\nIt is an MVC model with a hibernate like layer.\nThe problem is, one of our biggest clients with the most number of members, keeps crashing the server every 6-8 hours(precisely in the mornings when most members login)\nWe have been having this issue for 4 days now. Trying to figure out the problem but we suspect memory leaks. Any suggestions?</p>\n"},{"tags":["asp.net-mvc","mvc","view","model","html-helper"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13052936,"title":"Mvc Html.Label or Html.TextBox doesn't create","body":"<p>I'm making a test page for a project I'm working on and I've made desired progress so far but I'm trying to create TextBoxes from a model of List being passed to the view, however, the it seems to just ignore anything I have tried.</p>\n\n<pre><code>&lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;input id=\"btnsubmit\" type=\"submit\" name=\"Submit\" onclick=\"Submit\" /&gt;\n    &lt;div id=\"divControls\"&gt;\n     &lt;% foreach (TextBox control in (this.Model as List&lt;TextBox&gt;))\n        {\n            Html.Label(\"lblLabel\", control.Text);\n            Html.TextBox(control.ID, control.Text, new { id = control.ID, style = \"width:50\", name = \"txt\" + control.ID });\n        } %&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The List isn't null in the Controller on return. I don't have a clue at what the problem could be. If I throw a <p>Something</p> in the for loop it executes the appropriate number of times so why isn't it creating the labels or textboxes?\nAt first I thought it was that I'm adding them inside a form but I removed the form tags and it still didn't work so I really have no Idea, any help would be much appreciated. I'm relatively new to MVC.</p>\n\n<pre><code>[HttpPost]\n        public ActionResult Index(FormCollection form)\n        {\n            List&lt;TextBox&gt; controls = new List&lt;TextBox&gt;();\n            foreach (String Key in form.Keys)\n            {\n                if (Key.Contains(\"txt\"))\n                {\n                    TextBox textBox = new TextBox();\n                    textBox.ID = Key;\n                    textBox.Text = form.GetValues(Key)[0];\n                    controls.Add(textBox);\n                }\n            }\n            return View(\"Index\", controls);\n        }\n</code></pre>\n\n<p>Here's my Action encase it's helps.\nAlso encase I wasn't clear enough, I am adding controls to a form at runtime using JQuery and then that Action will be part of the submit so it must send the textboxes back to the view so they are not deleted.\nLike I said I'm new to the whole MVC and Asynchronous thing so If there's a better way to do this, advice would be much appreciated.</p>\n"},{"tags":["mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13052939,"title":"Best practice, Using MVC controllers for css/js output?","body":"<p>As I understood the MVC pattern, it should be used for passing the Model to Controller and View, and then Render it as an HTML/JSON document.</p>\n\n<p>In some projects, I see that some people use MVC controller/actions for giving JavaScript or CSS output in application. As an example, consider that they want to change the website template (Exactly, the css of template) in the nights and days, and now for that, they create an MVC Controller/Action like this <code>/CssController/Style</code> and link it in <code>&lt;head&gt;</code>:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;link href='/CssController/Style' /&gt;\n        ...\n    &lt;/head&gt;\n    ...\n&lt;/html&gt;\n</code></pre>\n\n<p>So, they manage this business in the controller, for example changing the <code>body</code> background, for nights set <code>background-color: black;</code> and for days <code>background-color: white;</code>. This action will return an CSS document.<br>\nHowever, it works perfectly, no problem.</p>\n\n<p>I want to know, is this approach correct?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor","encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13050430,"title":"Adding CSS class to web grid column item conditionally","body":"<p>Is it possible to conditionally set a CSS class or encode a string to html for a certain web grid column? I was able to append span tags to the item using format: in the column, but now I need to add a class to the span tags based on a helper function in razor view or a bool expression from the controller/model. <strong>I do not want to do this with JS, C# should suffice</strong>.</p>\n\n<p>Here is what I tried in view model:</p>\n\n<pre><code> @grid.GetHtml(\n headerStyle:\"reviewGridHeader\",\n    columns: grid.Columns(\n    ...[other columns]...\n    grid.Column(columnName: \"FeedBack\", format: @&lt;span&gt;@CheckFeedBack(item.FeedBack)&lt;/span&gt;)\n))\n</code></pre>\n\n<p>Helper function in view model (splits and compares string):</p>\n\n<pre><code>    static string CheckFeedBack(string item) {\n        String[] feedbacks = System.Text.RegularExpressions.Regex.Split(item, \"of\");\n\n        //if feedback complete\n        if((Convert.ToInt32(feedbacks[0]) == (Convert.ToInt32(feedbacks[1]))))\n        {\n            string newFeedback = @\"&lt;span class=\"\"feedBackComplete\"\"&gt;\"+ item +\"&lt;/span&gt;\";\n            string encodedFeedback = System.Web.HttpUtility.HtmlEncode(newFeedback);\n\n            return encodedFeedback;\n        }\n        return item;\n    }\n</code></pre>\n\n<p>And here is the presentation, which conditionally works when feedback complete:</p>\n\n<p><img src=\"http://i.stack.imgur.com/JV8dw.png\" alt=\"feedback column\"></p>\n\n<p><strong>Update:</strong> After guidance from Zach with returning a MvcHtmlString, I had some problems being able to use this helper method above in a WebGrid Column. Below shows the correct syntax:</p>\n\n<pre><code>grid.Column(columnName: \"FeedBack\", format: (item) =&gt; CheckFeedBack(item.FeedBack), style: \"webGridAlignment\")\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":13039833,"title":"New to rails. Index action doesnt like my initialization method.. Why?","body":"<p>I am completely new to rails and playing with the code to make pages work. \nThe link <em>localhost:3000/zombies/1</em> works (show action) \nbut localhost:3000/zombies (index action) doesn't. Below are my routes and controller:</p>\n\n<p><strong>ROUTES ARE:</strong>\n resources :zombies</p>\n\n<p><strong>CONTROLLER is:</strong></p>\n\n<pre><code> class ZombiesController &lt; ApplicationController\n    before_filter :get_zombie_params\n\n   def index\n    respond_to do |format|\n      format.html # index.html.erb\n      format.json { render json: @zombies }\n    end\n   end\n\n   def show\n    @disp_zombie = increase_age @zombie, 15\n    @zombie_new_age = @disp_zombie\n    respond_to do |format|\n      format.html # show.html.erb\n      format.json { render json: @zombie }\n    end\n  end\n\n  def increase_age zombie, incr\n   zombie = zombie.age + incr\n  end\n\n  def get_zombie_params\n    @zombie=Zombie.find(params[:id])\n    @zombies = Zombie.all\n\n  end\nend\n</code></pre>\n\n<p>Why is this?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13052583,"title":"Issue updating dropdlownlist within grid","body":"<p>I have a grid that has a column (UnitText) within it that becomes a dropdownlist when inserting an item.  Right now, UnitText has an EditorTemplate called CategoryUnitcshtml.  Here is where things become slightly tricky.</p>\n\n<p>I want to prevent duplicates.  Currently, I load the data source for the dropdownlist within CategoryUnit.  To prevent duplicates, I decided to change the data source pending what is already within the grid.</p>\n\n<p>Ex.  Unit1 = \"NASA\", Unit2 = \"AF\", Unit3 = \"DoD\"\nThe grid currently has only one unit.  It is AF.  I want to prevent the dropdownlist from adding AF to it's selection.</p>\n\n<p>This much I have.  However, I need to update the list each time a Unit is added.  CategoryUnit is only loaded during the page being created and doesn't update.</p>\n\n<p>Thus far, this is what I have.</p>\n\n<p>View</p>\n\n<pre><code>@(Html.Telerik().Grid&lt;CategoryModel.CategoryUnitsModel&gt;()\n                    .Name(\"categoryunits-grid\")\n                    .DataKeys(keys =&gt;\n                    {\n                        keys.Add(x =&gt; x.Id);\n                        keys.Add(x =&gt; x.CategoryId);\n                        keys.Add(x =&gt; x.UnitId);\n                    })\n                    .DataBinding(dataBinding =&gt;\n                    {\n                        dataBinding.Ajax()\n                            .Select(\"CategoryUnitsList\", \"Category\", new { categoryId = Model.Id })\n                            .Insert(\"CategoryUnitsInsert\", \"Category\", new { categoryId = Model.Id })\n                            .Update(\"CategoryUnitsInsert\", \"Category\", new { categoryId = Model.Id })\n                            .Delete(\"CategoryUnitsDelete\", \"Category\", new { categoryId = Model.Id });\n                    })\n                    .Columns(columns =&gt;\n                    {\n                        columns.Bound(x =&gt; x.UnitId)\n                            .Visible(false);\n                        columns.Bound(x =&gt; x.UnitText);\n                        columns.Command(commands =&gt;\n                        {\n                            commands.Edit();\n                            commands.Delete();\n                        })\n                       .Width(100);\n                    })\n                    .ToolBar(commands =&gt; commands.Insert())\n                    .Pageable(settings =&gt; settings.PageSize(gridPageSize).Position(GridPagerPosition.Both))\n                    .ClientEvents(events =&gt; events.OnRowDataBound\"onRowDataBound\"))\n                    .EnableCustomBinding(true))\n\n                &lt;script type=\"text/javascript\"&gt;\n                    function onRowDataBound(e) {\n                        $(e.row).find('a.t-grid-edit').remove(); //remove Delete button\n                    }\n                &lt;/script&gt;\n</code></pre>\n\n<p>EditorTemplates/CategoryUnit</p>\n\n<pre><code>@using Telerik.Web.Mvc.UI;\n@using Nop.Core.Domain.Customers;\n@using Nop.Services.Units;\n\n@{    \nvar _unitsService = EngineContext.Current.Resolve&lt;IUnitsService&gt;();\nvar units = _unitsService.GetAvailableUnits(ViewBag.CategoryId);\n\nvar unitsList = new List&lt;SelectListItem&gt;();\nforeach (var unit in units)\n{\n    var text = unit.UnitName + \" (\" + unit.UnitAcronym + \")\";\n    if (text != null)\n    {\n        //Telerik has an issue when quotes are used. That'why we manually remove all quotes\n        //Find more info here: http://www.nopcommerce.com/boards/t/11413/tabs-can-not-be-selected-in-admin-edit-products.aspx\n        //TODO remove this code once it's fixed by Telerik team\n        text = text.Replace(\"\\\"\", \"\");\n    }\n    var item = new SelectListItem()\n    {\n        Text = text,\n        Value = unit.Id.ToString()\n    };\n\n    unitsList.Add(item);\n}    \n}\n\n@Html.Telerik().DropDownList().Name(\"UnitText\").BindTo(unitsList)\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>public partial class CategoryUnitsModel : BaseNopEntityModel\n    {\n        public int CategoryId { get; set; }\n        public int UnitId { get; set; }\n        [NopResourceDisplayName(\"Admin.Catalog.Categories.Units.Fields.UnitText\")]\n        [UIHint(\"CategoryUnit\")]\n        public string UnitText { get; set; }\n    }\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>[HttpPost, GridAction(EnableCustomBinding = true)]\n    public ActionResult CategoryUnitsList(GridCommand command, int categoryId)\n    {\n        if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))\n            return AccessDeniedView();\n\n        var categoryUnits = _unitsService.GetCategoryUnits(categoryId, command.Page - 1 , command.PageSize);\n        var categoryUnitsModel = PrepareCategoryUnitsModel(categoryUnits);\n\n        ViewBag.CategoryId = categoryId;\n\n        var model = new GridModel&lt;CategoryModel.CategoryUnitsModel&gt;\n        {\n            Data = categoryUnitsModel,\n            Total = categoryUnitsModel.Count\n        };\n\n        return new JsonResult\n        {\n            Data = model\n        };\n    }\n\n    //public ActionResult CheckCategoryUnit(int categoryId, int unitId)\n    //{\n    //    var categoryUnit = _categoryService.GetCategoryUnitByCategoryIdAndUnitId(categoryId, unitId);\n    //    return Json(categoryUnit != null, JsonRequestBehavior.AllowGet);\n    //}\n\n    [GridAction(EnableCustomBinding = true)]\n    public ActionResult CategoryUnitsInsert(GridCommand command, CategoryModel.CategoryUnitsModel model)\n    {\n        if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))\n            return AccessDeniedView();\n\n        var searchForEntry = _unitsService.GetCategoryUnitByCategoryIdAndUnitId(model.CategoryId, Int32.Parse(model.UnitText));\n        if (searchForEntry != null)\n        {\n            TempData[\"PopupMessage\"] = \"Units may not be added twice for a category\";\n            return CategoryUnitsList(command, model.CategoryId);\n        }\n\n        var categoryUnit = new CategoryUnits\n        {\n            UnitId = Int32.Parse(model.UnitText),\n            CategoryId = model.CategoryId\n        };\n\n        _unitsService.InsertCategoryUnit(categoryUnit);\n\n        return CategoryUnitsList(command, model.CategoryId);\n    }\n\n    [GridAction(EnableCustomBinding = true)]\n    public ActionResult CategoryUnitsDelete(GridCommand command, CategoryModel.CategoryUnitsModel model, int id)\n    {\n        if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))\n            return AccessDeniedView();\n\n        var categoryId = model.CategoryId;\n        _unitsService.DeleteCategoryUnit(model.CategoryId, id);\n\n        return CategoryUnitsList(command, categoryId);\n    }\n</code></pre>\n\n<p>Btw, the ViewBag.CategoryId currently is set during the Index of the page.  I didn't show it since the code is rather lengthly.</p>\n\n<p>Any help would be appreciated.  Thanks.</p>\n\n<p>Kindest Regards,\nChad Johnson</p>\n"},{"tags":["mvc","passive-view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13052453,"title":"Passive View when building complex view with multiple sub components","body":"<p>If you have a UI that is composed with multiple sub components. What's the best way to implement it using passive view? </p>\n\n<p>Is it best to implement each components with it's own controller/model/view? How to coordinate the dependencies in the components? </p>\n"},{"tags":["json","linq","mvc","autocomplete"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13051272,"title":"MVC autocomplete how do I get my list of items into an object to return to Json","body":"<p>I am returning a List from the database. I need to return an Object for the Json method.\nAny Ideas. I am new to linq and MVC. </p>\n\n<pre><code>public ActionResult Autocomplete(string term)\n        {\n            var names = itemsRepository.GetListItemNames(term);\n              ///linq code to get my name object out\n            return Json(names, JsonRequestBehavior.AllowGet);\n        }\n</code></pre>\n"},{"tags":["c#","javascript","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":13038592,"title":"Getting information from my controller into onclick confirm(alert)","body":"<p>i try to confirm a sale and i need sum information about the product..</p>\n\n<p><strong>my View</strong></p>\n\n<pre><code>@using (Html.BeginForm())\n{\n    @Html.ValidationSummary(true)\n&lt;fieldset&gt;\n    &lt;legend&gt;Card&lt;/legend&gt;\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.CardModel.SerialNumber, \"Serial No\")\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.EditorFor(model =&gt; model.CardModel.SerialNumber, new { id = \"sn\" })\n        @Html.ValidationMessageFor(model =&gt; model.CardModel.SerialNumber)\n    &lt;/div&gt;\n\n      &lt;p&gt;\n        &lt;input type=\"submit\" value=\"CardSale\" id=\"btnSubmit\"\n        onclick=\"if (confirm('The owner dealer price is : **@Model.OwnerPrice** . Are you sure?')) { return true; } else { return false; }\" /&gt;\n    &lt;/p&gt;\n\n&lt;/fieldset&gt;\n}           \n</code></pre>\n\n<p>i tryed with the ' $.getJSON ' like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() \n {\n  $(\"#btnSubmit\").click(function ()\n  {\n        var serial = $(\"#sn\");\n        var price = \"\";\n        var url = \"\";\n        url = \"@Url.Action(\"GetOwnerPrice\",\"Card\")/\"+serial;\n\n        $.getJSON(url,function(data)\n        {   \n            alert(data.Value);\n        });\n    });       \n });\n</code></pre>\n\n<p></p>\n\n<p>and on the controller</p>\n\n<pre><code> public ActionResult GetOwnerPrice(int sn)\n    {\n        var owner = db.Dealers.Single(s =&gt; s.DealerID == db.Dealers.Single(o =&gt; o.UserName == User.Identity.Name).OwnerDealerID);\n        var ownerPrice = owner.ProductToSale.Single(pr =&gt; pr.ProductID == sn).SalePrice;\n\n        return Json(ownerPrice, JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n\n<p>but i dont know how to return it to the onclick confirm msg or into my ViewModel..</p>\n\n<p>any help?</p>\n"},{"tags":["javascript","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13046514,"title":"Javascript MVC framework similar to Asp.net MVC","body":"<p>Which Javascript MVC framework is closest in terms of concepts of routing, models, views and controllers to Asp.net MVC?</p>\n\n<p>I have completed a personal project using the excelent <a href=\"http://sammyjs.org/\" rel=\"nofollow\">Sammy.js</a> with <a href=\"http://mustache.github.com/\" rel=\"nofollow\">Mustache.js</a> and have felt comfortable with Sammy due to its similarity to <a href=\"https://github.com/thecodejunkie/Nancy\" rel=\"nofollow\">Nancy</a> the Micro .net framework.</p>\n\n<p>I would like to convert this project to another Javascript MVC framework so I can have a comparision of strengths and weaknesses, I would like to choose one similar to Asp.net MVC but I am facing the <a href=\"http://en.wikipedia.org/wiki/The_Paradox_of_Choice%3a_Why_More_Is_Less\" rel=\"nofollow\">paradox</a> of <a href=\"http://www.hanselman.com/blog/TheBigGlossaryOfOpenSourceJavaScriptAndWebFrameworksWithCoolNames.aspx\" rel=\"nofollow\">choice</a>.</p>\n"},{"tags":["asp.net-mvc","visual-studio-2010","mvc","view","asp.net-mvc-views"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13050164,"title":"Column ordering in the MVC Visual Studio - default List template View","body":"<p>Started working with MVC 3 web framework in Visual Studio 2010, and with first tutorial, setting up a View which lists all my database table data, created with Entiity model, have searched for simple whay to add column (field) ordering to the resulting webpage.</p>\n\n<p>Something I would thought standard in the code that the controller or add view would make.</p>\n\n<p>Iv ended up adding in on control method, returning to my index page, with two added actionlinks after the header name to request for order based on clicked page.</p>\n\n<p>Code below reworked to use an image instead of the html.actionlink</p>\n\n<pre><code>   &lt;th&gt;\n            ORGANISATION\n            &lt;a href=\"@Url.Action(\"ORGANISATION\", \"Orgs/IndexOrder\", new { order_by = \"ORGANISATION\", order_desc = false })\" border=0&gt;\n                &lt;img src=\"@Url.Content(\"~/Images/ArrowUp.jpg\")\" alt=\"Order ORGANISATION Ascending\"   /&gt;\n            &lt;/a&gt;\n            &lt;a href=\"@Url.Action(\"ORGANISATION\", \"Orgs/IndexOrder\", new { order_by = \"ORGANISATION\", order_desc = true }) \" border=0&gt;\n                &lt;img src=\"@Url.Content(\"~/Images/ArrowDown.jpg\")\" alt=\"Order ORGANISATION Descending\"  /&gt;\n            &lt;/a&gt;\n        &lt;/th&gt;\n</code></pre>\n\n<p>If someone knows if there is a qucik way to do this in Visual Studio, then manully making it for each View that I will need it for.</p>\n\n<p>thanks</p>\n"},{"tags":["mvc","null","controller","structuremap"],"answer_count":4,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":2081,"score":9,"question_id":923926,"title":"StructureMap controller factory and null controller instance in MVC","body":"<p>I'm still trying to figure things out with StructureMap and one of the issues i'm running into is my Controller Factory class blowing up when a null controller type is passed to it. This only happens when the application builds for the first time, after which every subsequent build works fine. Even when i shutdown Visual Studio and reopen the project (I'm not running this in IIS). It's almost like there is some sort of caching going on. This is what the controller class looks like:</p>\n\n<pre><code>public class IocControllerFactory : DefaultControllerFactory\n{\n    protected override IController GetControllerInstance(Type controllerType)\n    {\n        try\n        {\n            return (Controller)ObjectFactory.GetInstance(controllerType);\n        }\n        catch (StructureMapException)\n        {\n            System.Diagnostics.Debug.WriteLine(ObjectFactory.WhatDoIHave());\n            throw;\n        }\n    }\n}\n</code></pre>\n\n<p>What could be wrong? Do i need to have every controller registered? Thank you.</p>\n"},{"tags":["mvc","view","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13044913,"title":"Joomla include view in other view","body":"<p>I have problem with including Joomla views. I have many views in my extension and I want to include another one in my Dialog. </p>\n\n<p>How can I do it? </p>\n\n<p>In my first view I have this code:</p>\n\n<pre><code>&lt;div id=\"modalDostawca\" title=\"Dostawcy\"&gt;\n    &lt;div id=\"wewM\"&gt;\n//in here i want to include view data/tmpl/default.php\n\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["javascript","mvc","extjs","sencha-touch","sencha-touch-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12658452,"title":"About the relationship between view and controller in MVC paradigm, specifically Sencha Touch, thanks~","body":"<p>I'm trying to use Sencha Touch 2 to write an app to help me memorize all those vocabulary. </p>\n\n<p>I'm working on the part that a list displays some words. I want the list view to be able to consult the notebook controller so that it can know whether each word is in the notebook already and that way it can display an 'add to notebook' or 'remove from notebook' button for each word accordingly. </p>\n\n<p>I'm just wondering whether it's a good practice to let view initiate requests to controller. When working in Objective-C, it seems that I can have this done by setting a controller to be the delegate of a view. So is there an equivalent approach in Sencha Touch? </p>\n"},{"tags":["javascript","mvc","user-interface","prototype"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13024274,"title":"backbone.js examples","body":"<p>I've just started looking at backbone.js/underscore, with jquery and require.js. I'm interested to hear other people's experience with this stack.</p>\n\n<p>I want to build a fast front end prototyping setup that will let me do a bunch of similar types of app front ends quickly.</p>\n\n<p>Any productive comments about other alternatives are welcome.  Pointers to examples would be appreciated.</p>\n\n<p>I've already gotten good word about Ember.js and will give it a try soon.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","swing","mvc","jtable","abstracttablemodel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":13043111,"title":"How to check all check boxes at a click of a button","body":"<p>I am new to Swing, UI and MVC\nI have created a code based on MVC. Now my problem is that that in the controller part i have an actioneventlistener which listens to different button clicks. Out of all those buttons i have \"select all\" and \"de-select all\". In my view i have a table, one of the column of that table contains \"check boxes\". Now, when i click the \"select-all\" button i want to check all the check boxes and with \"de-select all\" i want to uncheck all of them.</p>\n\n<p>Below is my code which is not working. Please tell me what am i doing wrong here. Also, if someone knows a more elagent way please share. Thanks</p>\n\n<p>In my view</p>\n\n<pre><code>public class CustomerSelectorDialogUI extends JFrame{\n\n  public CustomerSelectorDialogUI(TestApplicationUI ownerView, DummyCustomerStore dCStore, boolean modality) {\n\n    //super(ownerView, modality);\n    setTitle(\"[=] Customer Selection Dialog [=]\");\n    //setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n    custSelectPanel = new JPanel();\n    buttonPanel = new JPanel();\n    selectAllButton = new JButton(\" Select All \");\n    clearAllButton = new JButton(\" Clear All \");\n    applyButton = new JButton(\" Apply \");\n    cancelButton = new JButton(\" Cancel \");\n\n    PopulateAndShow(dCStore, Boolean.FALSE);\n}\n\npublic void PopulateAndShow(DummyCustomerStore dCStore, Boolean select) {\n    List data = new ArrayList();\n    for (Customer customer : dCStore.getAllCustomers()) {\n        Object record[] = new Object[COLUMN_COUNT];\n        record[0] = (select == false) ?  Boolean.FALSE : Boolean.TRUE;\n        record[1] = Integer.toString(customer.customerId);\n        record[2] = customer.fullName;\n        data.add(record);\n    }\n    tModel = new TableModel(data);\n\n            // In the above for loop accoring to user input (i.e click on check all or\n            // uncheck all) i have tried to update the data. As it can be seen that i\n            // have a condition for record[0]. \n            //After the loop, here i have tried several options like validate(). repaint but to no avail\n\n            customerTable = new JTable(tModel);\n    scrollPane = new JScrollPane(customerTable);\n\n    setContentPane(this.createContentPane());\n\n    setSize(480, 580);\n    setResizable(false);\n    setVisible(true);\n\n\n}\n\nprivate JPanel createContentPane() {\n    custSelectPanel.setLayout(null);\n\n    customerTable.setDragEnabled(false);\n    customerTable.setFillsViewportHeight(true);\n\n    scrollPane.setLocation(10, 10);\n    scrollPane.setSize(450,450);\n\n    custSelectPanel.add(scrollPane);\n\n    buttonPanel.setLayout(null);\n    buttonPanel.setLocation(10, 480);\n    buttonPanel.setSize(450, 100);\n    custSelectPanel.add(buttonPanel);\n\n    selectAllButton.setLocation(0, 0);\n    selectAllButton.setSize(100, 40);\n    buttonPanel.add(selectAllButton);\n\n\n    clearAllButton.setLocation(110, 0);\n    clearAllButton.setSize(100, 40);\n    buttonPanel.add(clearAllButton);\n\n    applyButton.setLocation(240, 0);\n    applyButton.setSize(100, 40);\n    buttonPanel.add(applyButton);\n\n    cancelButton.setLocation(350, 0);\n    cancelButton.setSize(100, 40);\n    buttonPanel.add(cancelButton);\n\n    return custSelectPanel;\n}\n}\n</code></pre>\n\n<p>Table Model</p>\n\n<pre><code>private class TableModel extends AbstractTableModel {\n\n    private List data;\n    public TableModel(List data) {\n        this.data = data;\n    }\n\n    private String[] columnNames = {\"Selected \",\n            \"Customer Id \",\n            \"Customer Name \"\n    };\n\n    public int getColumnCount() {\n        return COLUMN_COUNT;\n    }\n    public int getRowCount() {\n        return data == null ? 0 : data.size();\n    }\n\n    public String getColumnName(int col) {\n        return columnNames[col];\n    }\n\n    public void setValueAt(Object value, int rowIndex, int columnIndex) {\n        getRecord(rowIndex)[columnIndex] = value;\n        super.fireTableCellUpdated(rowIndex, columnIndex);\n    }\n\n    private Object[] getRecord(int rowIndex) {\n        return (Object[]) data.get(rowIndex);\n    }\n\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        return getRecord(rowIndex)[columnIndex];\n    }\n\n    public Class getColumnClass(int columnIndex) {\n        if (data == null || data.size() == 0) {\n            return Object.class;\n        }\n        Object o = getValueAt(0, columnIndex);\n        return o == null ? Object.class : o.getClass();\n    }\n\n    public boolean isCellEditable(int row, int col) {\n        if (col &gt; 0) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n} \n}\n</code></pre>\n\n<p>A Views Action Listener</p>\n\n<pre><code>class CustomerSelectorUIListener implements ActionListener{\n\nCustomerSelectorDialogUI custSelectView;\nController controller;\n\npublic CustomerSelectorUIListener (Controller controller, CustomerSelectorDialogUI custSelectView) {\n    this.custSelectView = custSelectView;\n    this.controller = controller;\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    String actionEvent = e.getActionCommand();\n\n    else if ( actionEvent.equals( \"clearAllButton\" ) )\n    {\n        controller.checkButtonControl(false);\n    }       \n    else if ( actionEvent.equals( \"selectAllButton\" ) )\n    {\n        controller.checkButtonControl(true);\n    }       \n}\n}\n</code></pre>\n\n<p>Main Controller</p>\n\n<pre><code>public class Controller implements ActionListener{\n\nCustomerSelectorDialogUI selectUI;\nDummyCustomerStore store;\n\npublic Controller( DummyCustomerStore store, TestApplicationUI appUI )\n{\n    this.store = store;\n    this.appUI = appUI;\n    appUI.ButtonListener( this );           \n} \n\n@Override\npublic void actionPerformed(ActionEvent event) {\n    String viewAction = event.getActionCommand();\n\n    if (viewAction.equals(\"TEST\")) {\n        selectUI = new CustomerSelectorDialogUI(appUI, store, true);\n        selectUI.showTextActionListeners(new CustomerSelectorUIListener( this, selectUI ) );\n        selectUI.setVisible( true );\n    }\n}\n\npublic void checkButtonControl (Boolean checkAll) {\n    selectUI.PopulateAndShow(store, checkAll);\n}       \n}\n</code></pre>\n"},{"tags":["mvc","microsoft-web-deploy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13042631,"title":"Receiving an error doing code first MVC web deployment","body":"<p>I have set up a remote server running SQl Server Web edition and full IIS 7.5. I am able to deploy my MVC 4 application to the remote box without issue, but when I try to run the website I receive the following error:</p>\n\n<pre><code>Login failed for user 'IIS APPPOOL\\backoffice.mysite.com'.\nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.\n\nException Details: System.Data.SqlClient.SqlException: Login failed for user 'IIS APPPOOL\\backoffice.mysite.com'.\n</code></pre>\n\n<p>The Error Console says:</p>\n\n<pre><code>    Exception information: \n    Exception type: InvalidOperationException \n    Exception message: The ASP.NET Simple Membership database could not be initialized. For more information, please see http://go.microsoft.com/fwlink/?LinkId=256588\n   at MyModels.Filters.InitializeSimpleMembershipAttribute.SimpleMembershipInitializer..ctor() in c:\\Users\\Administrator\\Documents\\MySite\\MyModels\\Filters\\InitializeSimpleMembershipAttribute.cs:line 47\n\nAn error occurred while getting provider information from the database. This can be caused by Entity Framework using an incorrect connection string. Check the inner exceptions for details and ensure that the connection string is correct.\n</code></pre>\n\n<p>It is very possible that my connection string is incorrect as the error log suggests. My connection running locally in Visual Studio is:</p>\n\n<pre><code>&lt;add name=\"MyDB\" connectionString=\"Data Source=(LocalDb)\\v11.0;Initial Catalog=MyDB;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\\MyDB.mdf\" providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p>I have set up a transformation for the connection on the remote server as:</p>\n\n<pre><code>&lt;add name=\"MyDB\" connectionString=\"Data Source=(local);Initial Catalog=MyDb;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<ol>\n<li><p>Normally I use SQL login so I am confused here. What should the connection string look for SQL Server Web Edition using Windows Authentication?</p></li>\n<li><p>It looks like the IIS APPPOOL\\backoffice.mysite.com is the trying to create the DB. Is this correct? If so do I not need to create a login and user for this user in SQL Management Studio?</p></li>\n<li><p>Do I need to create the DB in SQL Management Studio before running the deployment?</p></li>\n</ol>\n\n<p>Thank so much!</p>\n"},{"tags":["javascript","mvc","node.js","backbone.js"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":13041777,"title":"Understanding TodoMVC Example","body":"<p>Starting to learn node.js and backbone.js and am using the TodoMVC example as my guide. There are a couple parts I am having trouble wrapping my head around. See below.</p>\n\n<p>Here is app.js. </p>\n\n<pre><code>var express = require('express')\n  , http = require('http')\n  , mongoose = require('mongoose')\n  , models = require('./models')\n  , routes = require('./routes')\n  , app = express();\n\napp.configure(function () {\n  app.set('views', __dirname + '/views');\n  app.set('view engine', 'jade');\n  app.use(express.favicon());\n  app.use(express.logger('dev'));\n  app.use(require('stylus').middleware({ src: __dirname + '/public' }));\n  app.use(express.static(__dirname + '/public'));\n  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n});\n\napp.configure('development', function () {\n  app.use(express.errorHandler());\n});\n\nroutes.init(app);\n\n\nmongoose.connect(\"127.0.0.1\", \"todomvc\", 27017);\n\nhttp.createServer(app).listen(3000);\n\nconsole.log(\"Express server listening on port 3000\");\n</code></pre>\n\n<p>Heres is ./models:</p>\n\n<pre><code>var mongoose = require('mongoose'),\n\n  TodoSchema = new mongoose.Schema({\n    title: { 'type': String, 'default': 'empty todo...' },\n    order: { 'type': Number },\n    done: { 'type': Boolean, 'default': false }\n  });\n\nmodule.exports = mongoose.model('Todo', TodoSchema);\n</code></pre>\n\n<p>Andy finally, here is ./routes:</p>\n\n<pre><code>(function (exports) {\n\n  \"use strict\";\n\n  var mongoose = require('mongoose')\n    , crudUtils = require('../utils/crudUtils')\n    , Todo = mongoose.model('Todo');\n\n  function index(req, res) {\n    res.render('index', { 'title': 'Backbone.js, Node.js, MongoDB Todos' });\n  }\n\n  exports.init = function (app) {\n    app.get('/', index);\n    crudUtils.initRoutesForModel({ 'app': app, 'model': Todo });\n  };\n\n}(exports));\n</code></pre>\n\n<p>So my question is, how is the 'Todo' model in mongoose.model('Todo') in the routes module available in this scope? I see that the models module is exporting mongoose.model('Todo', TodoSchema); so I have to believe that is how the routes module has access to it, but I don't know why. What am I missing? I have a feeling its just not a complete understanding of scope in this situation. Also, I am not sure of the reasoning of having the routes function anonymous. </p>\n\n<p>Many thanks!</p>\n"},{"tags":["php","javascript","ajax","mvc","history"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":55,"score":0,"question_id":13041730,"title":"Javascript framework without need for a hash or hasbang (history API?)","body":"<p>I am currently working on a new application/website. I am using AngularJS to fetch JSON data from the back end, that uses PHP. However, if I want the website's pages to be indexed by Google, I have to support the AJAX crawling scheme. Additionally, if I want my site to be accessible to older browsers or non JS users on the same domain, URLs for JS and non-JS users won't be the same.</p>\n\n<p>This is kind of a pain.</p>\n\n<p>What if we could do this:</p>\n\n<ul>\n<li>on the first request, get the whole page, rendered as HTML</li>\n<li>for all subsequent requests, use AJAX and return JSON data server side (by checking if the request was made via XmlHttpRequest)</li>\n</ul>\n\n<p>This way, you get the benefits from AJAX (as of the 2nd request from a user's session) but there is always a fallback if a user has disabled Javascript, has a slow browser or whatever. In addition, no need to comply with the AJAX crawling scheme since everyone views the page of your site via a unique URI.</p>\n\n<p><strong>Here comes my question:</strong></p>\n\n<p>Are there any actively maintained open source Javascript framework out there that uses the History API to build fast and responsive AJAX applications without the need for a hash/hashbang and compliance with the AJAX crawling scheme?</p>\n\n<p>Or maybe this is possible with current frameworks? I just couldn't find a lot of information on this.</p>\n\n<p><strong>EDIT:</strong>\nAfter looking around a bit, I found <a href=\"http://davisjs.com/\" rel=\"nofollow\">http://davisjs.com/</a>:</p>\n\n<blockquote>\n  <p>A small JavaScript library using HTML5 history.pushState that allows simple Sinatra style routing for your JavaScript apps.</p>\n</blockquote>\n\n<p>Could be a good starting point.</p>\n\n<p><strong>EDIT:</strong>\nPlease note I am not looking for a completely cross browser compatible framework or library. I am targeting the latest versions of Firefox/Chrome.</p>\n"},{"tags":["asp.net","mvc","telerik"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2611,"score":0,"question_id":5523839,"title":"Telerik MVC Extension – Grid Loaded within Tabstrip doesn’t support clientEvents","body":"<p>I am facing serious problem while trying to work in clientevents  provided with asp.net mvc telerik grid.\nHere’s the two different scenarios:\nWhen I am putting the following script in a view or partial view it works fine;</p>\n\n<pre><code>   &lt;%= Html.Telerik().Grid&lt;Plan&gt;()\n            .Name(\"Grid\")\n            .DataKeys(keys =&gt; keys.Add(p =&gt; p.StaffId))\n            .ToolBar(commands =&gt; { commands.SubmitChanges();\n                                     commands.Position(GridToolBarPosition.Bottom);\n            }).PrefixUrlParameters(false)\n\n            .DataBinding(dataBinding =&gt;\n                dataBinding.Ajax()\n                        .Select(\"_SelectBatchEmployees\", \"Employee\")\n                    .Update(\"_SaveBatchEmployees\", \"Employee\")\n            )\n            .Columns(columns =&gt;\n            {\n                columns.Bound(p =&gt; p.FullName).Width(320).ReadOnly(true);\n                columns.Bound(p =&gt; p.Title).Width(220).ReadOnly(true);\n                columns.Bound(p =&gt; p.PerformanceRating).Title(\"Perf. Rating\").Format(\"{0:n}\").Width(80);\n                columns.Bound(p =&gt; p.RecommendedIncreaseAmountFrom).Width(80);\n\n            })\n            .ClientEvents(events =&gt;\n                    events.OnDataBinding(\"Grid_onDataBinding\").OnError(\"Grid_onError\").OnEdit(\"onEdit\").OnDataBound(\"onDataBound\"))\n            .Editable(editing =&gt; editing.Mode(GridEditMode.InCell))\n            .Pageable(page =&gt; page.PageSize(40))\n            .Scrollable()\n            .Sortable()\n            .Footer(true)\n\n            %&gt;\n\n\n     &lt;script type=\"text/javascript\"&gt;\n         function Grid_onError(args) {\n             if (args.textStatus == \"modelstateerror\" &amp;&amp; args.modelState) {\n                 var message = \"Errors:\\n\";\n                 $.each(args.modelState, function (key, value) {\n                     if ('errors' in value) {\n                         $.each(value.errors, function () {\n                             message += this + \"\\n\";\n                         });\n                     }\n                 });\n                 args.preventDefault();\n                 alert(message);\n             }\n         }\n         function onDataBound(e) {\n             //alert(e.dataItem);\n         }\n\n         function onEdit(e) {\n             var dataItem = e.dataItem;\n             var mode = e.mode;\n             var form = e.form;\n             var priceTextBox = $(form).find('#Grade');\n             dataItem.RecommendedIncreaseAmountFrom = 10 * 5;\n\n             e.preventDefault();\n\n\n         }\n\n         function Grid_onDataBinding(e) {\n             var grid = $(this).data('tGrid');\n             if (grid.hasChanges()) {\n                 if (!confirm('You are going to lose any unsaved changes. Are you sure?')) {\n                     e.preventDefault();\n                 }\n             }\n         }\n\n        &lt;/script&gt;\n</code></pre>\n\n<p>But when I partially load view thru tabstrip on demand loading it don’t works. And when I removed the clientevents part it started working?? I don’t know what is the reason but I need to work, please help me and here’s my code:</p>\n\n<pre><code>&lt;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/Views/Shared/Edit.Master\" Inherits=\"System.Web.Mvc.ViewPage&lt;dynamic&gt;\" %&gt;\n\n    &lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&gt;\n        Index\n    &lt;/asp:Content&gt;\n\n    &lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n    &lt;%=\n                Html.Telerik().TabStrip()\n                    .Name(\"planingTabs\").HtmlAttributes(new {style = \"overfloat:auto\"})\n                    .Items(parent =&gt; parent.Add() //.HtmlAttributes(new {style = \"overfloat:auto\"})\n                                         .Text(\"Test\")\n                                         .LoadContentFrom(\"PlanGrid\", \"Employee\").Selected(true))\n\n            %&gt;\n\n    &lt;/asp:Content&gt;\n</code></pre>\n\n<p>Below is controller code:</p>\n\n<pre><code>public ActionResult Index()\n            {\n                return View();\n            }\n\n            public ActionResult PlanGrid()\n            {\n                return PartialView();\n            }\n\n            [GridAction]\n            public ActionResult _SelectBatchEmployees()\n            {\n                            return View(new GridModel { Data = _employeeRepository.GetAll()});\n            }\n            [AcceptVerbs(HttpVerbs.Post)]\n            [CultureAwareAction]\n            [GridAction]\n            public ActionResult _SaveBatchEmployees([Bind(Prefix =\n                \"inserted\")]IEnumerable&lt;Plan&gt; insertedProducts,\n                [Bind(Prefix = \"updated\")]IEnumerable&lt;Plan&gt; updatedProducts,\n                [Bind(Prefix = \"deleted\")]IEnumerable&lt;Plan&gt; deletedProducts)\n            {\n\n                //if (insertedProducts != null)\n                //{\n                //    foreach (var product in insertedProducts)\n                //    {\n                //        SessionProductRepository.Insert(product);\n                //    }\n                //}\n                if (updatedProducts != null)\n                {\n                    foreach (var employee in updatedProducts)\n                    {\n                        var target = _employeeRepository.One(p =&gt; p.StaffId == employee.StaffId);\n                        if (target != null)\n                        {\n                            //target.ProductName = product.ProductName;\n                            //target.UnitPrice = product.UnitPrice;\n                            //target.UnitsInStock = product.UnitsInStock;\n                            //target.LastSupply = product.LastSupply;\n                            //target.Discontinued = product.Discontinued;\n\n\n                            _employeeRespository.Save();\n                        }\n                    }\n                }\n                //if (deletedProducts != null)\n                //{\n                //    foreach (var product in deletedProducts)\n                //    {\n                //        SessionProductRepository.Delete(product);\n                //    }\n                //}\n                return View(new GridModel { Data = _employeeRespository.GetAll() });\n            }\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","html-helper"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1707,"score":4,"question_id":8698720,"title":"When using Html.TextBoxFor, add the name of the model as prefix to id","body":"<p>I have an asp mvc 3 project When I use</p>\n\n<pre><code>@Html.TextBoxFor(model =&gt; model.Name)\n</code></pre>\n\n<p>the TexBoxFor render as</p>\n\n<pre><code>&lt;input id=\"Name\" name=\"Name\" type=\"text\" value=\"\" /&gt;\n</code></pre>\n\n<p>my model is \"UserModel\" :</p>\n\n<pre><code>[DisplayName(\"Name\")]\npublic string Name{ get; set; }\n</code></pre>\n\n<p>Is there a way to add to the name of the model as prefix in the id? maybe some attribute?</p>\n\n<p>I want that the text box will render as</p>\n\n<pre><code>&lt;input id=\"UserName\" name=\"UserName\" type=\"text\" value=\"\" /&gt;\n</code></pre>\n"},{"tags":["wcf","security","mvc"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13038646,"title":"WCF as BLL (Middle Tier) and Security techniques","body":"<p>So bear with me, i am new at MVC and WCF. I already have a set of services (WCF) that exposes my BLL and I am trying to consume those from my MVC.net web application but i am unsure on how to perform security operations here.</p>\n\n<p>These are my app requirements:</p>\n\n<ul>\n<li>Be able to consume WCF services using different credentials for every user on the web application</li>\n<li>My BLL (WCF) needs to know what consumer is calling it (right now I only have the MVC app but i am planning to add iOS and Andriod calls to it, so later on i will add REST services to the WCF endpoints) Is there any design pattern for this out there? (or should i just use the soap header to include the caller ID? should i use some sort of caller secret or something?)</li>\n<li>I need a security mechanism like Tokens or something so I dont have to pass the username and password on every call of the service method (WCF)</li>\n</ul>\n\n<p>What i have so far:</p>\n\n<ul>\n<li>WCF uses a certificate and  and   with a custom username validator.</li>\n<li>I have manually coded proxies using the contract interfaces instead of generated proxies: But I hate the fact that i have to validate username and password every time a call is made to a WCF service. How in heaven can i use Tokens here? like to know if a given token sent on the soap header is valid or not yet expired? i have searched a lot and no tutorial/code/example is clear enough for me to actually start coding that ;(</li>\n<li>I am trying to cache the ChannelFactory but should I? i mean, i will need to cache a channer factory per logged in user per contract ;( is that ok? what can i do here?</li>\n</ul>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","mvc","session","struts"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13038096,"title":"Calling Two Actions together in Struts-SpringMvc apps","body":"<p>I have website running on 2 web apps, struts based message board running as APP-1, and Spring MVC based web site as APP-2. The sign-in procedure is dual, mean either user can sign-in from APP-1 or APP-2. It creates cookie on every sign-in and each app can detect that cookie.</p>\n\n<p>Now, the problem is with the sign-out. The sign-out is a REST call, so, if I sign-out from APP-1, I have to send an action for APP-2 for sign-out then redirect to the main page.</p>\n\n<p>The problem is with forward or redirect I can do only one thing. Example:</p>\n\n<pre><code>void method() {\n  response.sendRedirect(url1); // nothing return, just a signout Rest action...\n  response.sendRedirect(url2); // it will redirect to other page.....any idea how it work...\n}\n</code></pre>\n\n<p>I wanna run these two action together in a Spring MVC controller. And Both should run in same session. I tried with other way through URL calling REST action:</p>\n\n<pre><code>  Sign-Out Action....\n  Then.....REST Signout Action for APP-2 through URL....It runs but not in same session...\n  URL urlAction = new URL(url);\n  HttpURLConnection conn = (HttpURLConnection)urlAction.openConnection();\n  conn.setRequestMethod(\"GET\");\n  BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n  then \n  redirect:\"www.home.com\";\n</code></pre>\n\n<p>It works but not running in same session...Any idea how to solve this issue.....</p>\n\n<p>I also try with HttpClient but no luck...</p>\n\n<pre><code>  DefaultHttpClient httpClient = new DefaultHttpClient();\n  HttpGet getRequest = new HttpGet(\"Rest Action URL....\");\n  HttpResponse res = httpClient.execute(getRequest);\n</code></pre>\n"},{"tags":["php","mvc","e-commerce","opencart"],"answer_count":1,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":2517,"score":6,"question_id":10700761,"title":"How to create a custom admin page in opencart?","body":"<p>I want to know how to make a custom admin panel page in opencart.</p>\n\n<p>Requires login with the controller - the admin panel does not seem to use the same controller as the normal site. I know <a href=\"http://stackoverflow.com/questions/9490723/opencart-php-custom-page-without-using-the-information-feature\">how to make custom pages with opencart</a> (but this is not for the admin)</p>\n\n<p>A simple Hello World example would be great</p>\n"},{"tags":["php","mvc","routes"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":48,"score":-1,"question_id":13037247,"title":"More advanced request routing in an MVC application","body":"<p>At the moment I have a very simple MVC framework up that I'm developing to learn. I have very basic routes at the moment, it transforms a given URL into a controller and method pair. Routes are defined as so:</p>\n\n<pre><code>class Routes {\n    public static $routes = array(\n        '/' =&gt; array('Pages', 'home'),\n        '/test' =&gt; array('Pages', 'home')\n    );\n}\n</code></pre>\n\n<p>in this example, <code>Pages</code> is the controller and <code>home</code> is the method. The controller and method are then called like so:</p>\n\n<pre><code>if(isset(Routes::$routes[$path])) {\n    $controllerName = Routes::$routes[$path][0];\n    $actionName = Routes::$routes[$path][1];\n} else {\n    // TODO: create a specific 404 handler\n}\n\n$controllerName .= 'Controller';\n$controller = new $controllerName();\n\nreturn $controller-&gt;$actionName();\n</code></pre>\n\n<p>there's some more code with this but I've dumbed it down for this example. Now, I'd like to implement a way to pass parameters to the method. For example, given a URL like <code>http://site.com/users/41</code> I want to define a route like <code>/users/:id</code> and then have the <code>$id</code> parameter passed to the method of the controller that handles this request, which is <code>41</code>.</p>\n\n<p>I've already looked at other frameworks like CakePHP and CodeIgniter but their routing methods seem very complicated compared to mine and most of it is going over my head.</p>\n\n<p>Any advice? Thank you.</p>\n"},{"tags":["mvc","dci"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13031407,"title":"DCI context in a web application","body":"<p>I'm thinking how and when a DCI context can be used in a Web application. I'm considering this high-level use case:</p>\n\n<ol>\n<li>User enters city, arrival, departure, room type and clicks \"Search\".</li>\n<li>System displays a list of hotels </li>\n<li>User clicks on a Hotel logo to read its details </li>\n<li>System displays hotel details </li>\n<li>User clicks \"Book now\"</li>\n<li>System displays payment form </li>\n<li>User enter customer details, billing information and clicks \"Submit\". </li>\n<li>System validates billing information and displays a booking confirmation.</li>\n</ol>\n\n<p>This is very high-level and surely needs to be broken down. The first steps (1-2, 3-4, 5-6) feels like simple resource requests that could be handled with some search- and REST-architecture. So my first question is, is there a need for a DCI-context in those cases, isn't plain MVC enough? Of course a \"Hotel\" data entity could play a role, but would you consider it feasible, especially if it's the only actor?</p>\n\n<p>The last step is where I see that DCI could be very useful, for now there is work to do in a procedural fashion. (Creating a Customer, adding a Booking to the Hotel, sending confirmation mail...)</p>\n\n<p>What are your thoughts on this? Am I on the right track?</p>\n"},{"tags":["javascript","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":64,"score":-2,"question_id":13034954,"title":"Difference between double and single quotes","body":"<p>I have an MVC app where I'm inserting some text into the DOM using jQuery.</p>\n\n<p>If I use:</p>\n\n<pre><code>$(\"#toggle\").text('&lt;%: translated.Show %&gt;');\n</code></pre>\n\n<p>The text is rendered. </p>\n\n<p>If I use:</p>\n\n<pre><code>$(\"#toggle\").text(\"&lt;%: translated.Show %&gt;\");\n</code></pre>\n\n<p>Where resource string is wrapping in double quotes it throws a JavaScript error, note the single quotes wrapping the working version and double quotes wrapping the erroneous version. </p>\n\n<p>Can anyone explain why, I thought there was little difference between single and double quotes in Javascript. </p>\n\n<p>The 'translated.Show' string does not contain quotes just plain text.</p>\n"},{"tags":["java","mvc","decorator"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13032341,"title":"decorator pattern to allow different behavior of a model","body":"<p>I was wondering whether the use of a decorator pattern is good in case I want my model (\"M part\" of MVC) to raise Exceptions depending on their origin. I explain myself.</p>\n\n<p>I have a class called Game which is a part of the Model. I have two Views : a GUI and a command line. I want my model to raise an Exception for command line view when the user enters a character instead of a number (for example). Of course I don't want this Exception to be handled by the model as it \"belongs\" to the command line and not to the Model itself.</p>\n\n<p>To encapsulate those two different behaviors, I plan to decorate the Game class with two classes : CommandLineGame and GUIGame which have only one attribute : Game and handle their own kind of Exception. Is it a good idea ? Is there a better one ? The problem of such a solution is that every model class raising Exception depending on its origin has to be decorated...</p>\n"},{"tags":["java","swing","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":69,"score":-3,"question_id":12973497,"title":"MVC Architecture - Where to place logic?","body":"<p>I'm creating a simulation for displaying an automated Maze Solver, in which there is little user input.</p>\n\n<p>The MVC architecture is used and is implemented in Java. The View is to receive and draw data from the Model, through the Controller.</p>\n\n<p>As it stands, I have two options available to update the Model logic and in turn update the View:</p>\n\n<ul>\n<li>Controller implements Runnable </li>\n<li><p>Controller creates a thread: </p>\n\n<pre><code>Thread runControl = new Thread(this);\nrunControl.start();\n</code></pre></li>\n<li><p>Thread can then execute run() in Controller, which updates the Model logic and pass through the new data to the View</p></li>\n</ul>\n\n<p>This isn't my preferred method, however, as I'd sooner have the Model running its own logic. I would prefer:</p>\n\n<ul>\n<li>Model implements Runnable</li>\n<li>Model contains all logic in run()</li>\n<li>Controller creates a Thread for the Model and executes the model</li>\n</ul>\n\n<p>I'm lost at this point. The Model can then update its own logic accordingly, but then whilst the Model Thread is running, how can the Controller be notified of changes in the Model data and in turn retrieve that data (that is still being manipulated/updated) to then notify the View?</p>\n"},{"tags":["c#","asp.net-mvc","mvc","controller","refactoring"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":13028317,"title":"How to factor error-handling code out of an MVC controller?","body":"<p>Most of the time, I can figure out how to factor out business logic from an MVC controller into a service or a model.  However the exception to this is error handling, which it seems to me is the controller's responsibility.  However, it can lead to rather \"un-skinny\" controllers.  For example:</p>\n\n<pre><code>if ((foundEvent = repoEvent.GetEventById(id)) == null) {\n    return HttpNotFound(\"Could not find event with id {0}.\".FormatWith(id));\n}\n\nvar assessment = isSample ? foundEvent.SampleAssessment : foundEvent.ActualAssessment;\nif (assessment == null) {\n    return HttpNotFound(\"Could not find {0}assessment for event with id {1}\".FormatWith(isSample ? \"sample \" : \"\", id));\n}\n\nif (assessment.UnmappedCaseStudiesCount == 0) {\n    TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"This assessment (\\\"{0}\\\") has no case studies!\".FormatWith(assessment.Name);\n    return RedirectToAction(\"Index\", \"Events\");\n}\n</code></pre>\n\n<p>In all the cases above, it seems to me that the logic does belong in the controller because the controller is setting up error messages rather than returning a view (this is re-enforced by the fact that things like <code>HttpNotFound</code> and <code>RedirectToAction</code> are members of the <code>Controller</code> class, and so are unavailable to classes that don't extend <code>Controller</code>).  However you can see how this would get long and messy after a short while.  Is there a way to factor out this kind of error handling in the controller to make the controller more \"skinny\", or does this stuff simply belong in the controller?</p>\n\n<p>Here's a larger snippet of code indicating how I refactored to allow 2 action methods to use the same view model setup code.  However, it still results in 90+ lines of code in the controller just for 2 action methods; again, not a very \"skinny\" controller:</p>\n\n<pre><code>#region Private methods\nprivate StartAssessmentViewModel getStartViewModel(int eventId, bool isSample, out ActionResult actionRes) {\n    actionRes = null;\n\n    EventRepository repoEvent = new EventRepository();\n    Event foundEvent;\n    if ((foundEvent = repoEvent.GetEventById(eventId)) == null) {\n        actionRes = HttpNotFound(\"Could not find event with id {0}.\".FormatWith(eventId));\n        return null;\n    }\n\n    var assessment = isSample ? foundEvent.SampleAssessment : foundEvent.ActualAssessment;\n    if (assessment == null) {\n        actionRes = HttpNotFound(\"Could not find {0}assessment for event with id {1}\".FormatWith(isSample ? \"sample \" : \"\", eventId));\n        return null;\n    }\n\n    if (assessment.UnmappedCaseStudiesCount == 0) {\n        TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"This assessment (\\\"{0}\\\") has no case studies!\".FormatWith(assessment.Name);\n        actionRes = RedirectToAction(\"Index\", \"Events\");\n        return null;\n    }\n\n    try {\n        // Has the assessment finished? (samples don't count)\n\n        UserAssessmentRepository repoUa = new UserAssessmentRepository();\n        var foundUa = repoUa.GetUserAssessment(foundEvent.EventId, assessment.AssessmentId, User.Identity.Name);\n        // TODO: check that foundUa.Assessment.IsSample is OK; may need to make .Assessment a concrete instance in the repo method\n        if (foundUa != null &amp;&amp; !foundUa.Assessment.IsSample) {\n            if (_svcAsmt.IsAssessmentFinished(foundUa)) {\n                // TODO: test that this way of displaying the error works.\n                TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"You have already completed the assessment for this event ('{0}'); you cannot start it again.\".FormatWith(foundEvent.Name);\n                actionRes = RedirectToAction(\"Index\", \"Events\");\n                return null;\n            }\n\n            // Has it been started already?\n            if (_svcAsmt.IsAssessmentStarted(foundEvent.EventId, foundUa.AssessmentId, User.Identity.Name)) {\n                actionRes = RedirectToAction(\"Question\", new { id = foundUa.UserAssessmentId });\n                return null;\n            }\n        }\n\n        return Mapper.Map&lt;StartAssessmentViewModel&gt;(assessment);\n    }\n    catch (Exception ex) {\n        TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"Could not display start screen for assessment {0} on event {1}; error: {2}\".FormatWith(assessment.AssessmentId, foundEvent.EventId, ex.Message);\n        actionRes = RedirectToAction(\"Index\", \"Events\");\n        return null;\n    }\n}\n#endregion\n\npublic ActionResult Start(int id, bool isSample = false) {\n    // Set up view model\n    ActionResult actionRes;\n    StartAssessmentViewModel viewModel = getStartViewModel(id, isSample, out actionRes);\n    if (viewModel == null) {\n        return actionRes;\n    }\n\n    return View(viewModel);\n}\n\n[HttpPost, ActionName(\"Start\")]\npublic ActionResult StartConfirmed(int id, StartAssessmentViewModel viewModel) {\n    // Set up view model\n    ActionResult actionRes;\n    StartAssessmentViewModel newViewModel = getStartViewModel(id, viewModel.AssessmentIsSample, out actionRes);\n    if (newViewModel == null) {\n        return actionRes;\n    }\n\n    if (!ModelState.IsValid) {\n        return View(newViewModel);\n    }\n\n    // Model is valid; if it's not a sample, we need to check the access code\n    if (!viewModel.AssessmentIsSample) {\n        if (viewModel.AccessCode != \"12345\") {\n            // Invalid access code\n            TempData[TempDataKeys.ErrorMessage.GetEnumName()] = \"The access code '{0}' is incorrect.\".FormatWith(viewModel.AccessCode);\n            return View(newViewModel);\n        }\n    }\n\n    // Access code is valid or assessment is sample; redirect to first question\n    return RedirectToAction(\"Question\", new { id = 1 });\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","ios","mvc","properties"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":13025712,"title":"How do you associate a Model with a UIButton (or in general, UIViews) in iOS?","body":"<p>I have a screen that shows details of a \"Newspaper\" (model) instance. The ViewController of my screen has one property for this Newspaper model. A Newspaper instance contains several Article instances, and these Article instances must be represented as UIButtons in the screen. Tapping the UIButton must display an alert message containing the title of the Article.</p>\n\n<p>What are some good ways to associate the UIButton with an Article model?\nBasically, when tapping the UIButton, how do I retrieve the UIButton's corresponding Article instance?</p>\n\n<p>I currently have two approaches in mind:</p>\n\n<ol>\n<li>Override the UIButton, and add a property for the Article instance. \n<ul>\n<li>This violates the MVC model, since the view (UIButton) has a direct means of communication with the model (Article), but this will simplify button actions since the UIButton can simply call its property to know what Article instance will be used to do the action (display an alert message containing the title of the Article).</li>\n</ul></li>\n<li>Create an NSArray of UIButtons (buttonsArray), and an NSArray of Article instances (articlesArray).\n<ul>\n<li>Index 0 of the buttonsArray correspond to index 0 of the articlesArray. The Article instance associated with the tapped UIButton will be based on the button's position in the array. In order to retrieve the corresponding Article of a UIButton, the buttonsArray must be looped until the tapped UIButton is found, and then getting the Article from the articlesArray using the same index.</li>\n</ul></li>\n</ol>\n\n<p>Are there better ways to achieve this?</p>\n\n<p>EDIT: The buttons will have animations and gesture recognizers.\nAlso, the information needed by the button action from the Article model does not only include the title (e.g. article position, or the object itself if it will be passed to another screen, etc.).</p>\n"},{"tags":["java","mvc","view","model","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13027746,"title":"Can the View call the Model in a MVC-structure in Java?","body":"<p>I'm making a basic MVC structure in Java and I'm wondering if the view is allowed to call the model for information?</p>\n\n<p>For example: A user clicks a button that is created in the View. The View calls the Controller which has a handler that tells him what to do next. Then the Controller calls a method in the Model, and sends a value also. At the same time the Controller calls the method \"UpdateLabel\" in the View. Now is allowed to call a method in the Model from the \"UpdateLabel\" method in the View, so the View can use the value that's stored in the Model?</p>\n\n<p>Thanks in advance for reading and responding to my question!</p>\n"},{"tags":["mvc","events","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12959541,"title":"What is the best way for showing a loading bar/spinner when a backbone collection is being fetched?","body":"<p>Good day!</p>\n\n<p>Recently I have been into backbone/require, and getting to learn some really cool stuff. I am trying to learn what is the best practice for showing the loading bar/spinner when a backbone collection is being fetched. Here are some strategies that I found as being used, for triggering a fetch/syncing event on the collection:</p>\n\n<p><strong>Method 1:</strong> Override the backbone's sync method before the application starts, and trigger a 'syncing' event on that collection</p>\n\n<p><strong>Method 2:</strong> Override the backbone's fetch method before the application starts, and trigger a 'fetching' event on that collection</p>\n\n<p><strong>Method 3:</strong> When a collection is being defined, override the fetch() method and trigger an event 'fetching', so that any instance can be monitored for fetching</p>\n\n<p><strong>Method 4:</strong> Some people suggest using event aggregation so that when a view calls fetch() for a collection, that view triggers an event.</p>\n\n<p>Here is my situation:</p>\n\n<ul>\n<li>Lets say I have a collection C</li>\n<li>There are 2 views V1 and V2 that have access to it</li>\n<li>V1 can call fetch on C but V2 can't</li>\n<li>When C starts the fetch, only V2 is supposed to display a loading bar, and turn it off when reset() is called on C</li>\n<li>There can also be other views V3, V4 etc which might also need to the loading bar when C is being fetched</li>\n</ul>\n\n<p>What would be the best mechanism to to show the loading bar, keeping strict MVC pattern intact?</p>\n\n<p><strong>Option 1:</strong> Should the views listen to a 'syncing' event on the collection? Problem: If other fetch(), save() is called, the loading bar might display</p>\n\n<p><strong>Option 2:</strong> Should the views listen for a 'fetch()' event on the collection and act accordingly?</p>\n\n<p><strong>Option 3:</strong> Should one view inform another when it calls fetch() on a collection?</p>\n\n<p><strong>Option 4:</strong> Should the view call a fetching method on the window or an event aggregator?</p>\n\n<p>Other Methods and Options are also welcomed. Your suggestions and advice would be the best resource. Thanks.</p>\n"},{"tags":["c#","mvc","parallel.foreach"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13024594,"title":"How to verify if Parallel.Foreach is working correctly","body":"<p>Inside a Parallel Foreach I'm calling a service that gives me all information about an article, If I try to take the information about only one it takes 6 seconds. </p>\n\n<p>My questions about that: </p>\n\n<ul>\n<li><p>If I want to take the information about 4 articles, how long will it take? +- 6 seconds??</p></li>\n<li><p>Actually doing that it takes 27 seconds, There's an easy way to check if it's working on parallel ??</p></li>\n</ul>\n\n<p><em>Working with C# MVC3</em></p>\n\n<p>Code:</p>\n\n<pre><code>   private void PopulateArticleDictionary()\n    {\n        List&lt;Article&gt; tmpArticleFirstLevel = new List&lt;Article&gt;();\n        Parallel.ForEach&lt;Article&gt;(ArticlesFirstLevel,\n            article =&gt;\n            {\n                var articleInDepth = ArticleService.SearchByCode(article.Code, article.Code18, article.Quantity, \"ES\", \"EUR\");\n                if (articleInDepth == null)\n                {\n                    tmpArticleFirstLevel.Add(article);\n                }\n                else\n                {\n                    tmpArticleFirstLevel.Add(articleInDepth);\n                }                   \n\n            }\n            );            \n        ArticlesFirstLevel = tmpArticleFirstLevel;\n    }\n</code></pre>\n\n<p>Thank's !</p>\n"},{"tags":["spring","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13007689,"title":"Spring MVC and Backbone.js Integration Issue","body":"<p>I am trying to understand the integration of Spring MVC with backbone.js as its view technology. I find a couple of examples online such as <a href=\"https://github.com/sdeleuze/spring-backbone-todo/\" rel=\"nofollow\">here</a> and <a href=\"https://github.com/consileonpl/spring-3.1-backbone.js-todo-list\" rel=\"nofollow\">here too</a> However, in both of these samples, I am facing the same issues that the Spring MVC controller (the TodoController in the first link and TaskController in the second) does not seem to get called. </p>\n\n<p>First, there are no log messages printed (even if I do a desperate <em>System.out.println()</em> in the controller class). Second, when I try to set break points in the controller classes and go into debug mode, it was not stopped at all, but the example is accessible  through localhost:8080/todo  (Assume that is the url of the deployed war file). In both examples, a code based configuration approach is used (there is no web.xml). So I am wondering, does the controller class ever got called?  </p>\n\n<p>I have been stumbling on this for the weekend. So I would really appreciate it if someone can point me the right direction. Thanks!!!</p>\n"},{"tags":["mvc","ember.js"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":70,"score":6,"question_id":13015077,"title":"Ember multiple instance of controllers","body":"<p>I've been using Ember for a while but still struggling sometimes to find out the best practices. So one of the Ember ways regarding controller and view is </p>\n\n<blockquote>\n  <p>an opinion of Ember's designers, that is enforced by the router is that for a given BaseName (e.g. \"Application,\" \"CustomerEntry,\" \"My Items\") there should be a BaseNameView and a BaseNameController.  -- <a href=\"http://emberjs.com/guides/router_primer/#toc_views-are-tightly-coupled-to-their-controllers\">Ember guide</a></p>\n</blockquote>\n\n<p>The problem is that what if I want multiple instances of the same view on a page. Since the controller is created during initiation of the application, they are singletons under the application namespace, which will not be able to hold two instances of the model data. </p>\n\n<p>One solution I see is to create controllers(and model data) manually and pass them to views. But in this case, I'd like Ember not create controllers automatically for me. Put it another way, why would Ember creates controllers as singletons during application startup. </p>\n"},{"tags":["asp.net-mvc","mvc","razor","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":13022650,"title":"MVC 4 returns 404 on returnUrl from Login Screen","body":"<p>I have a simple MVC application - a list of employees, buttons to delete the employee, and login screen</p>\n\n<p>When the user presses the button to delete the Employee they are requested to Login</p>\n\n<p>This takes them away from the EmployeeController to an AccountController that handles the login. The returnUrl is also passed to this. The user gets authenticated successfully and the Account controller goes to Redirect to the ReturnUrl and this is where it throws a 404.</p>\n\n<p>The returnUrl = /Employees/Delete/127 - the id of the employee. As far as I can see this is correctly configured in the controller and RouteConfig.</p>\n\n<p>When I remove the [Authorise] attribute it works just fine. So I suspect it must be with the redirect but I do not understand why?</p>\n\n<p><strong>EDIT</strong>:\nI also tried HttpPost in the using FormMethod.Post in the view but it made no difference but after leaving the Login I don't know it it os post or get - or could the Redirect to the return url be generating a Get and not a post?</p>\n\n<p><strong>EDIT AGAIN</strong>: Thinking about this it is probably not a good design. I am requesting the user to Authorize after they have pressed the delete button. I should probably not expose the delete button unless they are already Authorized but is it possible to do anyway?</p>\n\n<p><img src=\"http://i.stack.imgur.com/LPEgE.png\" alt=\"404 error\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/J4VFf.png\" alt=\"Account Controller with redirect\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/8a1mH.png\" alt=\"view generating the delete button\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/x4Q4d.png\" alt=\"employee controller with the Delete action\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/pMTRL.png\" alt=\"generated html\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/ncIkp.png\" alt=\"route config\"></p>\n"},{"tags":["c#","asp.net","jquery","mvc","widget"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":669,"score":0,"question_id":3618452,"title":"Save state of Widgets in ASP.NET MVC using jQuery and Json","body":"<p>I am using ASP.NET MVC in C# </p>\n\n<p>I have a page where the user can move different Widgets around the page, and I now need a method to save the state of the widgets. I am using jQuery in the HTML page, and the jQuery posts the new page layout using JSON. I am unsure how to read the JSON in the controller.</p>\n\n<p>The code I'm using is based on this example here - <a href=\"http://webdeveloperplus.com/jquery/saving-state-for-collapsible-drag-drop-panels/\" rel=\"nofollow\">http://webdeveloperplus.com/jquery/saving-state-for-collapsible-drag-drop-panels/</a>, but the code for saving the result is in PHP.</p>\n\n<p><strong>jQUERY</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\" &gt;\n$(function () {\n    $('.dragbox')\n.each(function () {\n    $(this).hover(function () {\n        $(this).find('h2').addClass('collapse');\n    }, function () {\n        $(this).find('h2').removeClass('collapse');\n    })\n    .find('h2').hover(function () {\n        $(this).find('.configure').css('visibility', 'visible');\n    }, function () {\n        $(this).find('.configure').css('visibility', 'hidden');\n    })\n    .click(function () {\n        $(this).siblings('.dragbox-content').toggle();\n        //Save state on change of collapse state of panel\n        updateWidgetData();\n    })\n    .end()\n    .find('.configure').css('visibility', 'hidden');\n});\n\n    $('.column').sortable({\n        connectWith: '.column',\n        handle: 'h2',\n        cursor: 'move',\n        placeholder: 'placeholder',\n        forcePlaceholderSize: true,\n        opacity: 0.4,\n        start: function (event, ui) {\n            //Firefox, Safari/Chrome fire click event after drag is complete, fix for that\n            if ($.browser.mozilla || $.browser.safari)\n                $(ui.item).find('.dragbox-content').toggle();\n        },\n        stop: function (event, ui) {\n            ui.item.css({ 'top': '0', 'left': '0' }); //Opera fix\n            if (!$.browser.mozilla &amp;&amp; !$.browser.safari)\n                updateWidgetData();\n        }\n    })\n.disableSelection();\n});\n\nfunction updateWidgetData() {\n    var items = [];\n    $('.column').each(function () {\n        var columnId = $(this).attr('id');\n        $('.dragbox', this).each(function (i) {\n            var collapsed = 0;\n            if ($(this).find('.dragbox-content').css('display') == \"none\")\n                collapsed = 1;\n            //Create Item object for current panel\n            var item = {\n                id: $(this).attr('id'),\n                collapsed: collapsed,\n                order: i,\n                column: columnId\n            };\n            //Push item object into items array\n            items.push(item);\n        });\n    });\n    //Assign items array to sortorder JSON variable\n    var sortorder = { items: items };\n\n    //Pass sortorder variable to server using ajax to save state\n    $.post('/Widgets/SaveLayout', 'data=' + $.toJSON(sortorder), function (response) {\n        if (response == \"success\")\n            $(\"#console\").html('&lt;div class=\"success\"&gt;Saved&lt;/div&gt;').hide().fadeIn(1000);\n        setTimeout(function () {\n            $('#console').fadeOut(1000);\n        }, 2000);\n    });\n    alert(sortorder);\n}\n</code></pre>\n\n<p></p>\n\n<p>I am willing to consider alternative ways to do this, as I may not have chosen the best way to do this.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","routing","url-routing"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3088,"score":4,"question_id":343638,"title":"MVC Routing - Parameter names question","body":"<p>I'm looking for some information on Routing in MVC with C#. I'm currently very aware of the basics of routing in MVC, but what i'm looking for is somewhat difficult to find. </p>\n\n<p>Effectively, what I want to find is a way of defining a single route that takes a single parameter.</p>\n\n<p>The common examples I have found online is all based around the example</p>\n\n<pre><code>routes.MapRoute(\n    \"Default\",\n    \"{controller}.mvc/{action}/{id}\"\n    new { controller = \"Default\", action=\"Index\", id=\"\"});\n</code></pre>\n\n<p>By mapping this route, you can map to any action in any controller, but if you want to pass anything into the action, the method parameter must be called \"id\". I want to find a way around this if it's possible, so that I don't have to constantly specify routes just to use a different parameter name in my actions.</p>\n\n<p>Has anyone any ideas, or found a way around this?</p>\n"},{"tags":["php","mvc","classloader","naming","autoload"],"answer_count":4,"favorite_count":13,"up_vote_count":17,"down_vote_count":1,"view_count":7705,"score":16,"question_id":791899,"title":"Efficient PHP auto-loading and naming strategies","body":"<p>Like most web developers these days, I'm thoroughly enjoying the benefits of solid MVC architecture for web apps and sites.  When doing MVC with PHP, autoloading obviously comes in extremely handy.</p>\n\n<p>I've become a fan of <a href=\"http://www.php.net/spl_autoload_register\" rel=\"nofollow\"><code>spl_autoload_register</code></a> over simply defining a single <code>__autoload()</code> function, as this is obviously more flexible if you are incorporating different base modules that each use their own autoloading.  However, I've never felt great about the loading functions that I write.  They involve a lot of string checking and directory scanning in order to look for possible classes to load.</p>\n\n<p>For example, let's say I have an app that has a base path defined as <code>PATH_APP</code>, and a simple structure with directories named <code>models</code>, <code>views</code> and <code>controllers</code>.  I often employ a naming structure whereby files are named <code>IndexView.php</code> and <code>IndexController.php</code> inside the appropriate directory, and models generally have no particular scheme by default. I might have a loader function for this structure like this that gets registered with <code>spl_autoload_register</code>:</p>\n\n<pre><code>public function MVCLoader($class)\n{\n    if (file_exists(PATH_APP.'/models/'.$class.'.php')) {\n        require_once(PATH_APP.'/models/'.$class.'.php');\n        return true;\n    }\n    else if (strpos($class,'View') !== false) {\n        if (file_exists(PATH_APP.'/views/'.$class.'.php')) {\n            require_once(PATH_APP.'/views/'.$class.'.php');\n            return true;\n        }\n    }\n    else if (strpos($class,'Controller') !== false) {\n        if (file_exists(PATH_APP.'/controllers/'.$class.'.php')) {\n            require_once(PATH_APP.'/controllers/'.$class.'.php');\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>If it's not found after that, I might have another function to scan sub-directories in the models directory. However, all the if/else-ing, string checking and directory scanning seems inefficient to me, and I'd like to improve it.</p>\n\n<p>I'm very curious what file naming and autoloading strategies other developers might employ. I'm looking specifically for good techniques to employ for efficient autoloading, and not alternatives to autoloading.</p>\n"},{"tags":["unit-testing","mvc","html-helper"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":609,"score":2,"question_id":3946273,"title":".net mvc2 custom HtmlHelper extension unit testing","body":"<p>My goal is to be able to unit test some custom HtmlHelper extensions - which use RenderPartial internally.</p>\n\n<p><a href=\"http://ox.no/posts/mocking-htmlhelper-in-asp-net-mvc-2-and-3-using-moq\" rel=\"nofollow\">http://ox.no/posts/mocking-htmlhelper-in-asp-net-mvc-2-and-3-using-moq</a></p>\n\n<p>I've tried using the method above to mock the HtmlHelper.  However, I'm running into Null value exceptions.\n\"Parameter name: view\"</p>\n\n<p>Anyone have any idea??  Thanks.</p>\n\n<p>Below are the ideas of the code:</p>\n\n<pre><code>    [TestMethod]\n    public void TestMethod1()\n    {\n        var helper = CreateHtmlHelper(new ViewDataDictionary());\n        helper.RenderPartial(\"Test\");  // supposingly this line is within a method to be tested\n        Assert.AreEqual(\"test\", helper.ViewContext.Writer.ToString());\n    }\n\n\n    public static HtmlHelper CreateHtmlHelper(ViewDataDictionary vd)\n    {\n        Mock&lt;ViewContext&gt; mockViewContext = new Mock&lt;ViewContext&gt;(\n            new ControllerContext(\n                new Mock&lt;HttpContextBase&gt;().Object,\n                new RouteData(),\n                new Mock&lt;ControllerBase&gt;().Object),\n            new Mock&lt;IView&gt;().Object,\n            vd,\n            new TempDataDictionary(),\n            new StringWriter());\n        var mockViewDataContainer = new Mock&lt;IViewDataContainer&gt;();\n        mockViewDataContainer.Setup(v =&gt; v.ViewData)\n            .Returns(vd);\n        return new HtmlHelper(mockViewContext.Object,\n                                mockViewDataContainer.Object);\n    }\n</code></pre>\n"},{"tags":["objective-c","osx","mvc","nsarray"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13017152,"title":"MVC pattern and model object initialization in Objective-C Cocoa app","body":"<p>This is a pretty basic question, however hopefully somebody can help me out:</p>\n\n<p>If I am using an instance of <code>NSArray</code> to populate a pop-up button, where in terms of MVC does that <code>NSArray</code> need to be initialised? I'm guessing it would fall under Model, however if that's the case, how do I initialise the array? Do I start a new implementation file to contain the array? (Obviously don't want to use my app delegate file as that would fall under Controller, not Model.)</p>\n"},{"tags":["java","mvc","jsf","service-layer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":13011392,"title":"JSF Service Layer","body":"<p>I am not sure whether my approach with the MVC environment in JSF is the best way to go. Since I am trying to get the most out of JSF I would like to know how my Service Layer (or Model, speaking in MVC terms) should be 'designed'.</p>\n\n<p>I know the View-Controller ratio should be 1 to 1 (exceptions ruled out).\nNow in what way should I design my Service Layer? Should I use one big service (don't think so)? If not, based on what should I split my services?</p>\n\n<p>Note, my Service will be called from the Beans (Controllers in MVC terms) and the Service itself will call DAO's using JPA when necessary.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["asp.net-mvc","mvc","modelbinders"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":413,"score":0,"question_id":1989071,"title":"Can't add ModelBinder attribute to a property of input model","body":"<p>I want to specify the model binder to use for a property of my input model.</p>\n\n<pre><code>public class SendEmailInput\n{\n    [Required, EmailAddress]\n    public string From { get; set; }\n    [Required]\n    public string To { get; set; }\n    [Required]\n    public string Subject { get; set; }\n    [Required, ModelBinder(typeof(RadEditorModelBinder))]\n    public string Body { get; set; }\n}\n</code></pre>\n\n<p>However the ModelBinderAttribute cannot be applied to properties. This seems stupid since I can apply it to method parameters. What should I do to work around this limitation?</p>\n"},{"tags":["ruby-on-rails","mvc","view","resources","relationship"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13013408,"title":"Adding a button to a view for updating a model in rails","body":"<p>I have two resources, A and B with a many to many relationship between them. When pressing a button on A's show view I wish to establish the relationship between the A object and a B object which I also have access to from the view.</p>\n\n<p>How can you do this in rails3?</p>\n\n<p>Edit: A relevant snippet of the relationship. Everything else is standard generated using <code>rails generate scaffold</code></p>\n\n<pre><code>class Course &lt; ActiveRecord::Base\n  ...\n  has_many :course_auth_users\n  has_many :students, :through =&gt; :course_auth_users, :source =&gt; :user\n  ...\nend\n\n\nclass User &lt; ActiveRecord::Base\n  ...\n  has_many :course_auth_users\n  has_many :enrolled_on_courses, :through =&gt; :course_auth_users, :source =&gt; :course\n  ...\nend\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","validation","binding"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1329,"score":4,"question_id":559189,"title":"MVC RC Validation: Is this right?","body":"<p>I'm just trying to do some simple validation in MVC RC and am getting an error.  For the purposes of this question, I am <strong>not using the UpdateModel</strong>.</p>\n\n<p>Here is the code in the form:</p>\n\n<pre><code>&lt;%= Html.TextBox(\"UserId\")%&gt;\n&lt;%= Html.ValidationMessage(\"UserId\") %&gt;\n</code></pre>\n\n<p>If I add the following line in the controller, I will get a NullReferenceException on the TextBox:</p>\n\n<pre><code>ModelState.AddModelError(\"UserId\", \"*\");\n</code></pre>\n\n<p>So to fix this, I've also added the following line:</p>\n\n<pre><code>ModelState.SetModelValue(\"UserId\", ValueProvider[\"UserId\"]);\n</code></pre>\n\n<p>Why am I having to rebind the value?  <strong>I only have to do this if I add the error</strong>, but it seems like I shouldn't have to do this.  I feel like Im doing something incorrectly or just not familiar enough with binding.</p>\n\n<p>It looks like Im not the only one who has seen this.  Per request, here is the controller code:</p>\n\n<pre><code>[AcceptVerbs(HttpVerbs.Post)]\n    public ActionResult Create(FormCollection collection)\n    {\n        AppUser newUser = new AppUser();\n\n        try\n        {\n            newUser.UserId = collection[\"UserId\"];\n\n            AppUserDAL.AddUser(newUser);\n\n            return RedirectToAction(\"Index\");\n        }\n        catch (Exception ex)\n        {\n            ViewData[\"ReturnMessage\"] = ex.Message;\n\n            ModelState.AddModelError(\"UserId\", \"*\");\n            ModelState.SetModelValue(\"UserId\", ValueProvider[\"UserId\"]);\n\n\n            return View(newUser);\n        }\n</code></pre>\n"},{"tags":["c#","mvc","design-patterns","data-access-layer","datamapper"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12953660,"title":"How to implement Data Mapper / Repository persistence patterns for diverse data sources?","body":"<p>I am writing a new website project pretty much from scratch. The project is in C# but my background is in PHP (the pseudo-code below is a bit if a mixture, trying to be both succinct and declarative).</p>\n\n<p><strong>The problem</strong></p>\n\n<p>I need to retrieve configuration data from one of two places - sometimes from the local Database and sometimes from a Soap service. I should be able to create the same set of Model objects from either source.</p>\n\n<p>The data is stored in completely different structures in the different data sources - several different Soap responses need to be pieced together from the Soap end, whereas the DB structure is much closer to how I'm structuring my Model objects in the code.</p>\n\n<p>The configuration is made up of a tree of objects: <em>Products</em> contain <em>Properties</em> which contain <em>Options</em> which have <em>Conditions</em> for when they apply.</p>\n\n<p><strong>The goals</strong></p>\n\n<p>I want to separate concerns as much as possible (to hopefully facilitate both test-/maintain-/extend-ability):</p>\n\n<ul>\n<li>My Model objects should know nothing about Data Persistence or retrieval</li>\n<li>The Data Persistence object should, as far as possible, be agnostic about the exact type of Data Source</li>\n<li>I want to separate object creation out as much as possible.</li>\n</ul>\n\n<p><strong>Questions</strong></p>\n\n<p>I'm aware of various design patterns around this (although I'm not entirely sure I understand them entirely). I <a href=\"http://programmers.stackexchange.com/questions/170295/how-should-i-architect-my-model-and-data-access-layer-objects-in-my-website/170297\">asked a question on Programmers</a> similar to this and got a response about <a href=\"http://stackoverflow.com/questions/1974735/what-exactly-is-persistence-ignorance\">Persistence Ignorance</a> (<a href=\"http://stackoverflow.com/questions/905498/what-are-the-benefits-of-persistence-ignorance\">more here</a>) and the <a href=\"http://msdn.microsoft.com/en-us/library/ff649690.aspx\" rel=\"nofollow\">Repository</a> pattern, which both seem to be concepts from the Microsoft world.</p>\n\n<p>As far as I can tell \"Persistence Ignorance\" is simply the concept of having Model objects that know nothing about your Data Storage mechanism, and the Repository pattern seems very similar to the Data Mapper pattern, except that it <a href=\"http://stackoverflow.com/questions/804751/what-is-the-difference-between-the-data-mapper-table-data-gateway-gateway-da#answer-814479\">may be more of a facade</a>, hiding more of what's actually going on.</p>\n\n<p>So my questions are:</p>\n\n<p><em>In the Data Mapper pattern should I have one Mapper per Model object? Rather than having one for the entire configuration tree?</em></p>\n\n<p>And therefore, should I have a configuration tree building object that uses all those Mapper objects?</p>\n\n<pre><code>class ConfigBuilder() {\n    public ConfigBuilder (productMapper, propertyMapper, optionMapper, conditionMapper) {\n        // save them into local properties\n    }\n\n    public Products() {\n       var products = productMapper.FetchAll();\n\n       foreach (var product in products) {\n           AddProperties(product);\n       }\n\n        return products;\n    }\n\n    private AddProperties(products) { /* ... */ }\n    private AddOptions(property) { /* ... */ }\n    private AddConditions(option) { /* ... */ }\n}\n</code></pre>\n\n<p>Does this seem like a good solution?</p>\n\n<p><em>Where should the logic to build the objects be located?</em></p>\n\n<p>At some point there needs to be a considerable amount of logic to build my configuration objects from the random array of XML data that I get back from the Soap service, and a smaller amount of logic to do the same from the database.</p>\n\n<p>Should I be putting the logic to build the objects in separate instances of the Mapper objects?</p>\n\n<pre><code>interface IProductMapper { FetchAll; FetchByCode; Create; Delete; Update  }\n\nclass ProductMapperXml implements IProductMapper {\n    public ProductMapperXml(xmlDataSource) {}\n    public FetchAll() { /* A whole bunch of logic to create the Product objects from XML data source */ }\n}\n\nclass ProductMapperDatabase implements IProductMapper {\n    public ProductMapperDatabase(databaseConnection) {}\n    public FetchAll() { /* Select and build products from the database */ }\n}\n</code></pre>\n\n<p>Is this okay? Should this logic be abstracted further? If so why? Also, I'm a bit uneasy about the <code>ProductMapperXml</code> object having considerable logic itself and also being responsible for creating <code>Product</code> objects internally. Should I be passing it a <code>ProductFactory</code> of some sort? Or just use a factory method?</p>\n\n<p>Please please let me know if there are more elegant ways to solve this than my suggestions? Also if there are any layers of abstraction or Design Patterns I could benefit from that I've missed?</p>\n"},{"tags":["flex","mvc","frameworks"],"answer_count":15,"favorite_count":23,"up_vote_count":29,"down_vote_count":0,"view_count":13227,"score":29,"question_id":37043,"title":"Flex MVC Frameworks","body":"<p>I'm currently using and enjoying using the Flex MVC framework <a href=\"http://www.puremvc.org\" rel=\"nofollow\">PureMVC</a>.  I have heard some good things about Cairngorm, which is supported by Adobe and has first-to-market momentum.  And there is a new player called Mate, which has a good deal of buzz.</p>\n\n<p>Has anyone tried two or three of these frameworks and formed an opinion?</p>\n\n<p>Thanks!</p>\n"},{"tags":["ruby-on-rails-3","mvc","view","model","partials"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13012635,"title":"How to stay MVC and have dynamic partials calls in rails?","body":"<p>I was wondering if it was correct to do the following in the model:</p>\n\n<pre><code>get_partial\n    #logic...\n      return \"_partial_name1\"\n    #more logic\n      return  \"_partial_name2\"\n    #more logic\n      return  \"_partial_name3\"\n    else\n      \"_partial_name4\"\n    end\nend\n</code></pre>\n\n<p>and in the view :</p>\n\n<pre><code>&lt;%= render @product.get_partial %&gt;\n</code></pre>\n\n<p>There is NO erb code in the model, only logic choosing wich partial it should display.\nI tested it and it works, but I wanted to know if it is correct from an MVC point of view. If not, where should this logic be placed?</p>\n"},{"tags":["php","mvc","namespaces","directory","structure"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":102,"score":-1,"question_id":13012369,"title":"PHP 'Hello World' and MVC","body":"<p>I am a bit familiar with OOP in PHP and I am just trying to take a stab at MVC but there is something I can't get past. I know similar questions has been asked a few times but I got no answers to my specific question. What I would like to do is to create a 'Hello World' using PHP in MVC using the following directory structure:</p>\n\n<ul>\n<li>/public\n<ul>\n<li>/public/index.php</li>\n</ul></li>\n<li>/models\n<ul>\n<li>/models/helloworldmodel.php</li>\n</ul></li>\n<li>views\n<ul>\n<li>/views/helloworldview.phtml</li>\n</ul></li>\n<li>controllers\n<ul>\n<li>/controllers/helloworldcontroller.php</li>\n</ul></li>\n</ul>\n\n<p>My (shared) server has been configured via the <code>.htaccess</code> to have the public directory as the root directory. What I would like to do is to have the <code>index.php</code> load the controller, then have the controller invoke the <code>helloworldmodel.php</code> which in turn will return a string (Hello World) to the controller, then I would like to pass this string to the <code>hellowordview.phtml</code> and print it to the screen. MY BIGGEST PROBLEM is linking the files so they can see each other when I instantiate an object. In its most simple form, what do I need to make this work the way I outlined it? A link to a tutorial will also work, but I have not found anything that answers my specific question.</p>\n"},{"tags":["mvc","applet","http-status-code-401"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13008512,"title":"java applet 401 error","body":"<p>I implement a java applet working on MVC Applicaiton. I signed the jar file and put the same folder with the view page. </p>\n\n<p>I can download applet from localhost but I cannot do it from publised website. It gives 401.2 error (authentication) while downloading the applet. </p>\n\n<p>Do you have any solution for this?</p>\n"},{"tags":["wpf","asp.net-mvc","mvc","mvvm","windows-phone"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13009415,"title":"ASP.Net MVC AND WPF wioth probably Windows 8 Phone","body":"<p>I am currently developing an application that utlises telerik ORM tools to manage access to a back end database. On top of this layer I am implementing a Business Layer(domain) containing the real world objects that represent my application model.\nSo far so good.</p>\n\n<p>The issue I have now is one of serious confusion. I will be developing a ASP.Net MVC web site that forms the main hub of my application. In addition to this I have the requirement to create a WPF application that implements some integration into the desktop and lastly I would like to implement a Windows 8 phone app containing a subset of the ASP.Net website functionality but that will also implement some of the WPF functionality.</p>\n\n<p>The problem is I would like to keep the application as simple as possible and maintain a high level of code reuse. Ideally I don't want to implement multiple business layers but I'm not sure of what architectural patterns would be best used? I think adding some kind of service - be it REST, Web services, WEB API or something on top of the business layer and then dealing with each UI technology independently will be the way to go but I thought I'd ask for opinions and advice before I head down a route and end up back tracking?</p>\n"},{"tags":["c#","mvc","postback","custom-validators"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12978102,"title":"Custom validation in MVC can't seem to find the declared method","body":"<p>I have an invoice object with the following property definition in it ...</p>\n\n<pre><code>[CustomValidation(typeof(InvoiceValidator), \"ValidateInvoiceDate\")]\n public DateTime InvoiceDate { get; set; }\n</code></pre>\n\n<p>When I do a postback in my MVC app I get an invoice object back then do this ...</p>\n\n<pre><code>if(ModelState.IsValid)\n{\n   SaveInvoice(invoice);\n}\n</code></pre>\n\n<p>My validator looks like this ...</p>\n\n<pre><code>public static class InvoiceValidator\n{\n   public static ValidationResult ValidateInvoiceDate(DateTime invoiceDate, ValidationContext context)\n   {\n       // some validation code (omitted)\n   }\n}\n</code></pre>\n\n<p>My problem seems to be getting the dam thing to work as at the moment it simply throws an exception: </p>\n\n<pre><code>The CustomValidationAttribute method 'ValidateInvoiceDate' does not exist in type 'InvoiceValidator' or is not public and static.\n</code></pre>\n\n<p>This statement is clearly not right, the validator class exists and so does the method with the right modifiers (public, static).  This is code i've used loads before and usually works fine but for some reason this time isn't working. </p>\n\n<p>Any ideas what else might cause this exception to be thrown?</p>\n\n<p>Things i've tried:</p>\n\n<p>clean solution and full rebuild (no errors at compile time).\nrename the method / validator class and refactor attribute to new values then recompile\nscratch head\nask on here</p>\n\n<p>looks to me like my code isn't being run correctly or something because I can't see why a clearly declared public static method would result in an error saying it's not declared other than that. </p>\n"},{"tags":["spring","mvc","spring-mvc","model"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2194,"score":3,"question_id":8593397,"title":"Backbone.js + Spring MVC. Save model","body":"<p>I'm am junior in Backbone.js. When I send request from JSP FORM server side auvtomaticaly parse datas to my ModelObject. But when I sending requests from Backbone save() my ModelObject is empty on Server Side. How can I do it like as JSP FORMs?</p>\n\n<pre><code>    @RequestMapping(value = \"/member/ajax*\", method = RequestMethod.POST)\n    public void onSubmitAjax(Member member, HttpServletResponse response, HttpServletRequest request) throws Exception {\n        //member is empty           \n        memberManager.saveMember(member); \n\n    }\n</code></pre>\n\n<p>when I use GET it's working on Client Side:</p>\n\n<pre><code>@RequestMapping(value = \"/member/ajax*\", method = RequestMethod.GET)\n    public\n    @ResponseBody\n    Member showForm(@RequestParam(required = false) Long id, HttpServletRequest request) throws Exception {\n        Member member = memberManager.getMember(id);\n        return member;\n    }\n</code></pre>\n"},{"tags":["mvc","zend-framework","frameworks","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13003571,"title":"Zend Framework non-existent controller redirects to home page?","body":"<p>When I type an invalid url (non-existent controller), it displays the homepage rather than return a 404 Page Not Found page. Does anyone know the possible reason?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","mvc","spring-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13005078,"title":"java.util.MissingResourceException: Can't find bundle for base name views, locale en","body":"<p>I have a file called <code>views.properties</code> inside my <code>src/main/webapp</code> folder. and I have the following line inside my <code>court-servlet.xml</code> file. The <code>court-servlet.xml</code> is located in <code>src/main/webapp/WEB-INF</code> folder.</p>\n\n<pre><code>&lt;bean id=\"resourceBundleResolver\"\n    class=\"org.springframework.web.servlet.view.ResourceBundleViewResolver\"&gt;\n    &lt;property name=\"basename\" value=\"views\" /&gt;\n    &lt;property name=\"order\" value=\"#{contentNegotiatingResolver.order+1}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>However, I keep getting exception whenever I launch the app. It keeps throwing exception</p>\n\n<pre><code>java.util.MissingResourceException: Can't find bundle for base name views, locale en\njava.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1427)\njava.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1250)\njava.util.ResourceBundle.getBundle(ResourceBundle.java:952)\norg.springframework.web.servlet.view.ResourceBundleViewResolver.getBundle(ResourceBundleViewResolver.java:271)\norg.springframework.web.servlet.view.ResourceBundleViewResolver.initFactory(ResourceBundleViewResolver.java:225)\norg.springframework.web.servlet.view.ResourceBundleViewResolver.loadView(ResourceBundleViewResolver.java:194)\norg.springframework.web.servlet.view.AbstractCachingViewResolver.createView(AbstractCachingViewResolver.java:158)\norg.springframework.web.servlet.view.AbstractCachingViewResolver.resolveViewName(AbstractCachingViewResolver.java:77)\norg.springframework.web.servlet.view.ContentNegotiatingViewResolver.resolveViewName(ContentNegotiatingViewResolver.java:357)\norg.springframework.web.servlet.DispatcherServlet.resolveViewName(DispatcherServlet.java:1091)\norg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1040)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:621)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n</code></pre>\n\n<p>Can someone please help me solving this issue? I tried some solutions posted here before, but none of them works.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","entity-framework","sdf"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":210,"score":1,"question_id":10084312,"title":"sdf file not showing in App_Data (using MVC application)","body":"<p>I followed the \"Creating an Entity Framework Data Model for an ASP.NET MVC Application\" in ASP.net and changed it to meet my needs.\nI built the project and run it - everything works fine (I can view details, edit and save).\nI press \"Show all files\" and there is nothing under App_Data.\nI tried to read the related threads here but i couldn't fix it.\nI will appriciate any Idea!</p>\n\n<p>this is my connection string:</p>\n\n<pre><code>&lt;connectionStrings&gt;\n&lt;add name=\"ApplicationServices\"\n     connectionString=\"data source=.\\SQLEXPRESS;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|aspnetdb.mdf;User Instance=true\"\n     providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Thank you!</p>\n"},{"tags":["php","mvc","caching","memcached","apc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12999351,"title":"Caching strategies in MVC Framework?","body":"<p>I wrote my own little PHP MVC Framework, and now Im exploring caching strategies in PHP MVC Frameworks. Im thinking about what can be cached, where and how.</p>\n\n<p>The framework I have is simple MVC Framework. I have front controller, that boots up application, registers class auto loading, sets up php run time directives... and at the end analyses URL and dispatches request to appropriate controller, method, action controller, how ever you want to call it. From controller, I have access to Domain Objects, and Data Mappers that can persist Domain Objects to some storage, most of the time Relation Database.\nFrom Controllers I have access to Domain Objects and Data Mappers.</p>\n\n<p>So as far as caching goes these are the things I can things I know I can do at the moment.\nWith PHP I can use APC Cache that is opcode cache, but I can also use it to save variables into RAM. Then I can use Memcache and Memcahed that works joust as APC cache but I can access stored cache from different servers If I have to scale. And those two are not opcode caches.</p>\n\n<p>As far as I know I can do these things:</p>\n\n<ol>\n<li><p>When in controllers, I can save Domain Objects into cache, so I dont have to open connection to database every time, if I already have that Domain Object in cache.</p></li>\n<li><p>I can build my cache system, that would analyze URLs at bootstrap, and then get already interpreted page for that URL if cache with that page URL exists, if not it would process request and then save that page into cache and associate it with current URL</p></li>\n</ol>\n\n<p>So, as you can see I dont really know how to implement cache in my MVC, and where should I cache things, how, and what possibilities exists.</p>\n\n<p>So can someone explain this better, or redirect me to some good articles where I could learn about cacheing?</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","fancybox","partialview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":345,"score":0,"question_id":8764811,"title":"FancyBox with PartialView in MVC3","body":"<p>I'm wondering if anyone has an idea for how to use FancyBox in an MVC3 site to load a partial view (as a popup). FancyBox works fine for me when loading a full view, but breaks if the controller method returns a partial view. </p>\n\n<ol>\n<li>I've followed all the instructions on the fancybox site.</li>\n<li><p>customizations:</p>\n\n<pre><code>$(\"a.myclass\").fancybox({\n ...\n 'type': ajax\n});\n</code></pre></li>\n<li><p>the link</p>\n\n<pre><code>@Html.ActionLink(\"My Popup\", \"MyActionName\", new {@class = \"myclass\"} )\n</code></pre></li>\n</ol>\n\n<p>Any idea why this will work with a full view, and not a partial?</p>\n\n<p>Thanks!!</p>\n"},{"tags":["php","mvc","cakephp-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":321,"score":0,"question_id":10230126,"title":"Working with saveAssociated method in CakePHP","body":"<p>I'm trying to work with <code>saveAssociated</code> method in <code>CakePHP</code> without great success, the method seems to work partially, in facts I have three model in the save process:\n<code>Character</code>, which <code>$hasMany</code> > <code>Property</code> and <code>Label</code> so this is the <code>Character</code> model:</p>\n\n<pre><code>class Character extends AppModel {\n    public $name = 'Character';\n    public $belongsTo = 'User';\n    public $hasMany = array (\n        'Property' =&gt; array (\n            'dependent' =&gt; true\n        )\n    );\n    public $hasOne = array (\n        'Label' =&gt; array (\n            'dependent' =&gt; true\n        )\n    );\n    public $validate = array (\n        'name' =&gt; array (\n            'required' =&gt; true,\n            'rule' =&gt; array('between', 0, 100),\n            'message' =&gt; 'This is the error message for \"name\" field'\n        ),\n        'description' =&gt; array (\n            'allowEmpty' =&gt; true,\n            'rule' =&gt; array('between', 0, 100),\n            'message' =&gt; 'This is the error message for \"description\" field'\n        )\n    );\n}\n</code></pre>\n\n<p>this is the data I get from the form:</p>\n\n<pre><code>array(\n    'Character' =&gt; array(\n        'name' =&gt; 'Character name',\n        'description' =&gt; 'Character description',\n        'image' =&gt; 'http://url.com/image.jpg'\n    ),\n    'Label' =&gt; array(\n        'name' =&gt; 'Basic attributes',\n        'value' =&gt; 'Value'\n    ),\n    'Property' =&gt; array(\n        (int) 0 =&gt; array(\n            'name' =&gt; 'Strenght',\n            'value' =&gt; '15'\n        )\n    )\n)\n</code></pre>\n\n<p>then in my <code>CharactersController</code> i do this to <code>saveAssociated</code> data:</p>\n\n<pre><code>class CharactersController extends AppController {\n\n    public $uses = array ('Character', 'Property', 'Label');\n\n    public function add () {\n        if (!empty($this-&gt;request-&gt;data)) {\n            $this-&gt;Character-&gt;saveAssociated($this-&gt;request-&gt;data);\n        }\n        debug ($this-&gt;request-&gt;data);\n    }\n\n}\n</code></pre>\n\n<p>The <code>Character</code> data is saved successfully but not <code>Label</code> and <code>Property</code>, where I'm wrong?</p>\n"},{"tags":["mvc","templates","view","count","ienumerable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":470,"score":0,"question_id":5656393,"title":"MVC IEnumerable of EditorFor Template; how to get the count","body":"<p>ViewModel:</p>\n\n<pre><code>public class Foo {\n    IEnumerable&lt;Bar&gt; Bars { get; set; }\n</code></pre>\n\n<p>Foo Template:</p>\n\n<pre><code>@Html.EditorFor(x =&gt; x.Bars)\n</code></pre>\n\n<p>Bar Template:</p>\n\n<pre><code>//this is the closest I could find \n@ViewData.TemplateInfo.HtmlFieldPrefix //equals \"Bars[0]\" on the first iteration\n</code></pre>\n\n<p>Is there a way to get the count of the current iteration inside the template during the render process? Aside from parsing the HtmlFieldPrefix string into a count.</p>\n"},{"tags":["php","mvc","kohana"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":102,"score":0,"question_id":12902971,"title":"PHP MVC - Convert JSON to Model data","body":"<p>So essentially I find myself writing a bunch of boiler plate code that takes info from a JSON encoded string and puts that data into the models used in my MVC web app. Is there an accepted method of doing this? Should every model have an associative array to model object converter? Should there be a utility class I write to do this? Basically, I am just trying to remove that code from my controllers to slim them down and I am new to PHP MVC. I am using Kohana 3.2 if that is of any relevance to the question.</p>\n\n<p>EDIT:</p>\n\n<p>I was asked to clarify. I receive data in string format that is JSON encoded (from a web service of my own writing - Java /w Jersey). So essentially, the models in my web app are not pulling their information from a database, but rather from a web service. Since the web service returns everything in JSON format, I find myself writing code that deals with that issue. The other way around, I can tell the GSON google code to convert JSON to a particular Java object. There does not seem to be a one liner way to do this in PHP. I am not talking about the stdClass object, but a model.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12995459,"title":"New to Rails: How are you using application_controller.rb in your rails app?","body":"<p>I am just getting into rails and begining to understand it slowly. Can someone explain or give me ideas on the benefits or when and whys for coding inside the application_controller? What are some usecases. How are you using the application controller for your rails app? I dont want to put too much code in there because from what I understand, this controller gets called for every request. Is this true? </p>\n"},{"tags":["asp.net-mvc","json","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12999467,"title":"How to pretty-print JSON script in MVC 4 API","body":"<p>How can I get the following JSON response to look cleaner using MVC 4 API.  This is a sample JSON</p>\n\n<pre><code>{\"Name\":\"Apple\",\"Expiry\":\"2008-12-28T00:00:00\",\"Price\":3.99}\n</code></pre>\n\n<p>Pretty JSON</p>\n\n<pre><code>{\n  \"Name\":\"Apple\",\n  \"Expiry\":\"2008-12-28T00:00:00\",\n  \"Price\":3.99\n}\n</code></pre>\n"},{"tags":["php","mvc","variables","views"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12998648,"title":"Restricting variable use to one file","body":"<p>Bit of a weird question but bear with me. I'm writing a small MVC framework mostly for learning purposes. When I load views, I just include the view file and then use <code>extract($data);</code> so I can use variables in my view. This is that it looks like in my controller:</p>\n\n<pre><code>// Assign view variables and load the views\n$data = array('title' =&gt; 'testing the framework',\n              'users' =&gt; $this-&gt;models['Users']-&gt;getAllUsers());\n$this-&gt;loadViews(array('header', 'home', 'footer'), $data);\n</code></pre>\n\n<p>It works perfectly, but it just occured to me that if I have any variables elsewhere in my project that are called <code>$title</code> or <code>$users</code>, they will conflict to what I'm <code>extract()</code>'ing. THis hasn't become a problem yet but I have a feeling I need to deal with it now before it does.</p>\n\n<p>The only solution I've found is using a prefix for the variables being <code>extract()</code>ed. SO I can use them in my template like <code>&lt;?php echo $tpl_whatever; ?&gt;</code> instead of <code>&lt;?php echo $whatever; ?&gt;</code></p>\n\n<p>Can anyone offer some advice? Maybe a way I can limit the variables scope?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","mvc"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1666,"score":2,"question_id":5669109,"title":"Change datetime to date in MVC 3 C#","body":"<p>I'm using the MVC 3 with C#  and I have a problem when displaying dates in a dropdown list.\nDates are displayed as follow: <strong>4/21/2011 12:00:00</strong> AM, but I just want to format them this way:  <strong>4/21/2011</strong>, which is exactly the format in my database.</p>\n\n<p>The date attribute in the database is date and not datetime.</p>\n\n<p>The code in the model:</p>\n\n<pre><code>[DisplayFormat(DataFormatString = \"{mm/dd/yyyy}\", ApplyFormatInEditMode=false)]\npublic DateTime? booksDate { get; set; }\n</code></pre>\n\n<p>the controller looks like this:</p>\n\n<pre><code> var booksDates = from dates in db.Books\n                             orderby dates.booksDate\n                             select new { dates.booksDate};\n\n          ViewBag.Dates = BooksDates.Distinct();\n</code></pre>\n\n<p>and finally the code in my view:</p>\n\n<pre><code>&lt;td&gt;Books dates&lt;/td&gt;\n            &lt;td&gt;@Html.DropDownList(\"booksDate\", new SelectList(ViewBag.Dates as System.Collections.IEnumerable, \"booksDate\", \"booksDate\"), \"Select a date\") &lt;/td&gt;\n</code></pre>\n\n<p>Where i'm wrong ?</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","cakephp","cli","bake"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":213,"score":0,"question_id":4595114,"title":"Cakephp Problems with the bake script","body":"<p>I have apache, php, and Mysql installed on my computer. I have added the PHP directory and C:\\Apache\\htdocs\\cake\\cake\\console to my environmental variables path. When i load the path to the console on my CLI it loads cake.php then i type cake bake and it asks me for the path of my app, then database config. Now instead o f it loading the DMVC... menu it just returns to set the path and database and its like a loop. not sure what i am doing wrong.</p>\n\n<p>All help appreciated</p>\n\n<p>Thanks</p>\n\n<p>Joe</p>\n"},{"tags":["java","spring","mvc","jboss"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12995697,"title":"How to deploy spring mvc application in jboss server?","body":"<p>I am implementing a Spring MVC application using JBoss application server.\nI am getting the following exceptions when i run the application during JBoss server start up.\nWhere as it's working fine in Tomcat.</p>\n\n<p>Can anyone please give me some suggestions.\nI am using Eclipse IDE.</p>\n\n<pre>\nUnexpected error during load of:com.ibm.icu.impl.data.LocaleElements_zh__PINYIN: java.lang.ClassFormatError: Unknown constant tag 60 in class file com/ibm/icu/impl/data/LocaleElements_zh__PINYIN\n\nException sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener: org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/dispatcher-servlet.xml]; nested exception is java.lang.NoClassDefFoundError: org/jboss/virtual/VirtualFileVisitor\n</pre>\n"},{"tags":["c#",".net","mvc","asp.net-mvc-2","modelbinding"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":394,"score":2,"question_id":4195766,"title":"How to ignore model binding from querystring in MVC","body":"<p>I have form submission doing a post back.  The controller action accepts the values as parameters.  For ex: EditProduct(int productid, string productname).  </p>\n\n<p>productid is supplied from the form in a hidden field.  How can I ensure that that a user \nwill not invoke this action and pass this productid and name as  queystring and the model binding will bind the vales and product is saved in database?</p>\n"}]}
{"total":14108,"page":4,"pagesize":100,"questions":[{"tags":["mvc","validation","select","knockout.js","integer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12995140,"title":"Knockoutjs mvc dropdowlistfor integer validation","body":"<p>I have a problem with using Knockout js and Bootstrap combobox.</p>\n\n<p>I am outputting a bootstrap combobox which has autocomplete feature to be output for an MVC dropdownlistfor\nUsing Knockout js, I am setting the necessary options to the select control. The bootstrap combobox plugin creates an input control over the select control and hides the select control.</p>\n\n<p>I used the following article as reference to create by autocomplete dropdown.</p>\n\n<p>Here is the html that is created when I use Bootstrap Comobox plugin on my select (dropdownlist)control.</p>\n\n<pre><code>    &lt;div class=\"combobox-container combobox-selected\"&gt;\n\n&lt;input data-val=\"true\" data-val-required=\"The OperatorKey field is required.\" name=\"OperatorKey0\" type=\"text\" autocomplete=\"off\" class=\"input-mini input-validation-error\"&gt;\n\n&lt;span class=\"add-on btn dropdown-toggle\" data-dropdown=\"dropdown\"&gt;&lt;span class=\"caret\"&gt;&lt;/span&gt;\n\n&lt;span class=\"combobox-clear\"&gt;&lt;i class=\"icon-remove\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;/span&gt;\n\n    &lt;select class=\"combobox\" data-bind=\"options: $root.Operators, optionsText:'Name', optionsValue:'OperatorKey', attr : {id: 'OperatorKey'+ $index(), name : 'OperatorKey'+ $index()}, value: OperatorKey\" data-val=\"true\" data-val-number=\"The field OperatorKey must be a number.\" data-val-required=\"The OperatorKey field is required.\" id=\"OperatorKey0\" name=\"OperatorKey0\"&gt;\n\n    &lt;option value=\"1\"&gt;Is&lt;/option&gt;\n    &lt;option value=\"2\"&gt;In&lt;/option&gt;\n    &lt;option value=\"3\"&gt;NotIn&lt;/option&gt;\n    &lt;option value=\"4\"&gt;Like&lt;/option&gt;\n    &lt;option value=\"5\"&gt;GEq&lt;/option&gt;\n    &lt;option value=\"6\"&gt;LEq&lt;/option&gt;\n\n    &lt;/select&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The value binding I am doing to the select control is a property which is an int (id) and in \nknockout bindings I set the optionsValue='OperatorKey' and optionsText='Name'.\nNow, the problem is when I hit submit, since the input control has a text value, the validation of integer is firing and it says the field must be a number.</p>\n\n<p>For example, lets say the options of select control are 'Option1' with value 1, 'Option2' with 2, etc.\nWhen I select the second option, since the input box has the text 'Option2', the validation says its not a valid integer. This is because the property I created the bootstrp combobox for is an integer property. </p>\n\n<p>Not sure how to go about to avoid firing this validation error.\nPlease advise.</p>\n\n<p>Thanks.</p>\n"},{"tags":["mvc","requirements","class-diagram"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":83,"score":-1,"question_id":12990522,"title":"Creating MVC Class Diagram from set of requirements","body":"<p>I am having a little problem, since I do not understand fully how to produce MVC class diagram, I thought id seek help here. Let me explain my problem first. I am making a web application project and I had to specify set of requirements for each type of user there is (Employee, Manager, And Boss) I have a set of requirements that I have made earlier on, and now I have to map them into MVC class diagram. And I have no idea how...</p>\n\n<p>e.g. I have login page (requirements are - username field, password field, pin field, login button, reset field button, and forgot your password button)\nUser (Username, Password, Pin)\n<img src=\"http://i.stack.imgur.com/0ZugL.png\" alt=\"enter image description here\"></p>\n\n<p>Would this class diagram be correct ??.</p>\n"},{"tags":["asp.net-mvc","mvc","tdd","unity","moq"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12989766,"title":"MVC4 TDD with multiple layers","body":"<p>I am learning about DI, IoC and MOQ so I can TDD my new MVC4 application.</p>\n\n<p>I followed a lot of examples online but there is one thing I cannot get my hands around.</p>\n\n<p>My application consists out of 3 layers (physical projects):</p>\n\n<ol>\n<li>Application layer (controllers / models / standard MVC4 stuff).</li>\n<li>Business layer (does all the calculating and processing data).</li>\n<li>DAL (EF5).</li>\n</ol>\n\n<p>Now I have a very simple <code>UserController</code></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class UserController : Controller\n{\n    readonly IUserRepository _repository;\n\n    public UserController(IUserRepository rep)\n    {\n        _repository = rep;\n    }\n\n    public ActionResult Index()\n    {\n        IList&lt;User&gt; users = _repository.Get(10);\n        return View(users);\n    }\n</code></pre>\n\n<p>Dependency is injected with Unity and this works fine.</p>\n\n<p>In the business layer I have the repositories:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IUserRepository\n{\n    IList&lt;User&gt; Get(Int32 count);\n}\n\npublic class UserRepository : IUserRepository\n{\n    public IList&lt;User&gt; Get(Int32 count)\n    {\n        // Here I fetch the data from the Database\n        // and do some stuff with it, this can be\n        // quite a big method.\n    }\n}\n</code></pre>\n\n<p>Now I need to access my DAL which I can do in my <code>UserRepository</code>'s Get method.</p>\n\n<p>Only how do I unit test this? There should not be a dependency in the class I think because of the testability.</p>\n\n<p>If I use the actual <code>UserRepository</code> class in my unit test to test it will go to the DAL and use data from there, but I need mock data.</p>\n\n<p>Do I need to make another <code>IUserDataRepository</code> where the actual data is fetched from the database and pass this into the <code>UserRepository</code> constructor or should I use Unity to handle this for me?</p>\n\n<p><strong>Possible answer?</strong></p>\n\n<p>I created a new interface called <code>Users</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Users: IUsers\n{\n    private readonly IUserRepository _userRepository;\n    public Users(IUserRepository userRepository)\n    {\n        _userRepository = userRepository;\n    }\n\n    public User Get(String id)\n    {\n       // Do all the magic here here\n    }\n}\n</code></pre>\n\n<p>From this interface <code>IUsers</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IUsers\n{\n    User Get(String id);\n}\n</code></pre>\n\n<p>But I moved my database oriented repositories to the DAL:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class UserRepository : IUserRepository\n{ \n    public User Get(String id)\n    {\n        // Retrieve the user from the database with EF5\n    }\n}\n\npublic interface IUserRepository\n{\n    User Get(String id);\n}\n</code></pre>\n\n<p>The controller stayed about the same, but now has a dependency to the IUser interface:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class UserController : Controller\n{\n    readonly IUsers _users;\n\n    public UserController(IUsers users)\n    {\n        _users = users;\n    }\n\n    public ActionResult Index()\n    {\n        User user = _users.Get(10);\n        return View(users);\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","models","controllers"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12985357,"title":"Issue with base class that gets extended by both Models and Controllers","body":"<p>I've got a question regarding a conflict / conundrum I've run into with my application. </p>\n\n<p>I want to make some common \"stuff\" available to all of my models and controllers, such as data from a cache, or session information, as well as the methods of my PDO wrapper. </p>\n\n<p>Currently each individual feature controller and feature model extends a base controller and base model, which in turn extend a single object that does all of that common stuff. </p>\n\n<p>A controller will get called by a router/dispatcher, and the controller will then call on a model to get some data. The problem with this is it means the main Object gets constructed twice: once when the feature controller is called, and again when the feature controller calls the feature model. </p>\n\n<p>See the diagram below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/AeqJT.png\" alt=\"How my MVC app is currently structured\"></p>\n\n<p>Obviously I'm doing something wrong, so I was wondering if there's some kind of best practice solution to this issue. </p>\n\n<p>What I <em>dont</em> want is to have to pass the stuff the object loads, through the controller, to the model. That means any time I have to add a new common element to Object, I have to pass it through to the Model. </p>\n\n<p>It's far simpler and easier for $this->cache or $this->db or $this->session to always be universally available in both controllers and models (as well as future helpers and misc classes). </p>\n\n<p>How would I go about solving this issue? </p>\n\n<p>Thanks :)</p>\n"},{"tags":["java","spring","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12978074,"title":"Spring @ResponseBody view resolution","body":"<h1>Question</h1>\n\n<p>Have anyone figured out an alternative means of view resolution for <code>@ResponseBody</code> (to allow implementing part of what <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-config\" rel=\"nofollow\"><code>ConcentNegotiatingViewResolver</code></a> does) ?</p>\n\n<h1>Reasoning</h1>\n\n<p>The spring view resolution mechanism is very powerful, in particular with <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/view/ContentNegotiatingViewResolver.html\" rel=\"nofollow\"><code>ContentNegotiatingViewResolver</code></a>, allowing view resolution e.g., on path extensions (<code>foo.json</code>) or request parameters (<code>?view=json</code>). </p>\n\n<p>However, when using <code>@ResponseBody</code> annotation the view resolution chain is bypassed. With <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-config\" rel=\"nofollow\"><code>mvc:annotation-driven</code></a> we get a <a href=\"http://static.springsource.org/spring/docs/3.1.0.RC1/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerAdapter.html\" rel=\"nofollow\"><code>RequestMappingHandlerAdapter</code></a> instead, with view resolution which seems to be based solely on the <code>Accept</code>header. </p>\n"},{"tags":["mvc","web-applications","mobile","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":11828333,"title":"mvc 4 desktop and mobile","body":"<p>I would like to use ASP.NET MVC 4 to build a web site that will target both desktop and mobile users (will leave tablets to one side for this discussion)</p>\n\n<p>There appears to be a number of options available to me and I would like to obtain some feedback.</p>\n\n<p>The first option involves using the same web site for both desktop and mobile users.  Each page request would go to the respective controller and would render a view dependent on the form factor (and maybe even dependent on the device type, e.g. Windows Phone, IPhone, etc).  Responsive design would be used top ensure that the UI was suitably tailored to the expected user experience (portrait, landscape).  This option has the following benefits (as I see it):</p>\n\n<ul>\n<li>No duplication of controller logic</li>\n<li>Single site to maintain</li>\n<li>no redirect for the user to a different site</li>\n<li>no duplication of pages to inform the search crawler about</li>\n</ul>\n\n<p>The second option involves having a separate site for mobile which only provides views and controller action methods for mobile.  This would also have the ability to provide device specific views (using display modes) and responsive design for orientation.  This option has the following benefits:</p>\n\n<ul>\n<li>Full controll over the mobile experience in terms of what pages are available (I know that I could conditional render action links but with this option, if functionality is not permitted on the device, a page doesnt exist in the site!</li>\n<li>Separate release cycles for mobile.</li>\n<li>But the biggest draw-back is the fact that controller logic will almost certainly be duplicated between the desktop site and the mobile site which feels like it will really hurt in the future.</li>\n</ul>\n\n<p>It feels like the purist MVC should have the controller which should obtain the data and then provide a view which allows the data to be surfaced on the most appropriate page.  This feels like option 1.</p>\n\n<p>I guess it comes down to should we have a device specific site (http://m.) or do we design a site that can be viewed from an array of devices?</p>\n\n<p>Thoughts?</p>\n"},{"tags":["asp.net-mvc-3","excel","mvc","interop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12985769,"title":"Return Excel file as result from MVC","body":"<ol>\n<li>If I opt for using Interop, does it require to have Excel installed on server-side?</li>\n<li>Are there any additional reasons why not to use Interop?</li>\n<li>Should I go for <code>System.Web.UI.WebControls.GridView</code> server-side solution, populate it and write it in result?</li>\n<li>Any other intelligent solution that preserves MVC logic and features?</li>\n</ol>\n"},{"tags":["javascript","mvc","node.js","mongodb"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":143,"score":0,"question_id":12990771,"title":"Creating a NodeJS + Mongo DB MVC, any ideas how to start?","body":"<p>I use PHP with most of my projects/startups, I'm thinking of moving into NodeJS because I heard it's cool, I just need few tips or links to start with creating an MVC in NodeJS and MongoDb.</p>\n"},{"tags":["php","jquery","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12991098,"title":"View with multiple controllers - which way to connect them is in the spirit of MVC?","body":"<p>I'm writting MVC application in PHP/JQuery (I don't want to use ready-made frameworks anyway).</p>\n\n<p>My application consists of few panels (e.g. <em>login panel</em>, <em>user info panel</em>, <em>settings panel</em> etc.).</p>\n\n<p>Typically, all panels' elements (like buttons and links) are connected in JQuery and when I e.g. click on the button from <em>login panel</em> (with <em>id</em> '<em>button-login-send</em>': <strong>type-panel's name-real id</strong>), JQuery send by POST the '<em>event</em>' to the PHP (my own <em>event</em> structure, with id and other data).</p>\n\n<p>By the <em>id</em> in the <em>event</em> (middle part of the <em>id</em>), I can decide which panel was involved in action.</p>\n\n<p>I have the different controller for each panel (<em>loginPanelController</em>, <em>userInfoPanelController</em> etc.).</p>\n\n<p>What will be in the spirit of MVC:</p>\n\n<ol>\n<li>The jQuery View object send <em>event</em> to the PHP 'super' controller object which decide to which 'sub' controller send the <em>event</em> by it's id. Than the 'super' controller receive <em>commands</em> from 'sub' controller and respond with them to the JQuery View object.</li>\n<li>The JQuery View object send <em>event</em> to the PHP '<em>divider</em>' object which decide to which controller send the <em>event</em> by it's id. Rest the same.</li>\n</ol>\n\n<p>I know it may seems to be no significant differences. But my question is which will be strict MVC solution - controller &amp; sub-controllers, '<em>divider</em>' &amp; controllers or maybe something else?</p>\n\n<p>p.s. Because of the technology and other things, I have one View in HTML/JQuery (even if maybe all panels should have their own views) and I don't want to change it or the method of communication by the POST (<em>event->, &lt;-commands</em>).</p>\n"},{"tags":["php","mvc","design-patterns"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":166,"score":3,"question_id":8285300,"title":"MVC - sub-folders controllers","body":"<p>I am thinking to create my own simple MVC framework in PHP. I thought it would be good idea to improve my skill in PHP.</p>\n\n<p>I have a questions about admin section, how do you create it?</p>\n\n<p>In kohana, controllers can be in sub-folders:</p>\n\n<p>for example: <code>/controller/admin/admin.php</code></p>\n\n<p>What is other way? As long code can be shared to parent helpers/libs or parent models.</p>\n"},{"tags":["php","mvc","front-controller","autoloader"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12961422,"title":"Where should autloader go in MVC?","body":"<p>I'm trying to build a simple MVC framework to better understand certain concepts. The first thing that I thought would be important to address is a front controller that handles all of the requests for my applications.</p>\n\n<p>Once I started to think about it, I wasn't sure of the best way to load the classes that my application would be using. My current thought process is that my autoloader should be located in the front controller since every request utilizes it. Where do most frameworks typically put this? Looking through a few already built frameworks hasn't helped me much as a lot of the functionality far exceeds what I need, complicating it so much that it's hard to understand.</p>\n\n<p>The class loader that I am trying to use can be found here <a href=\"https://gist.github.com/221634\" rel=\"nofollow\">https://gist.github.com/221634</a></p>\n\n<p>Just trying to figure out how to appropriately build and organize a simple MVC framework.</p>\n"},{"tags":["c#","mvc","iis7","httpmodule","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":670,"score":0,"question_id":4228886,"title":"IIS7 HTTPModule not able to rewrite path to a MVC sub application","body":"<p>I have an HTTPModule running in IIS 7 providing a number of different URL rewrite services.</p>\n\n<p>For example:</p>\n\n<pre><code>public void Init(HttpApplication context)\n{\n    ...\n    HttpContext.Current.RewritePath(landingPage.NewPath,\n                                string.Empty,\n                                landingPage.NewQueryString +\n                                ((landingPage.NewQueryString == string.Empty) ? \"\" : \"&amp;\") +\n                                queryString);\n    ...\n}\n</code></pre>\n\n<p>I have a sub application with its own app pool written in MVC:  <strong>http://www.SomeSiteWithURLrewrite.com/SubMVCApplication/</strong></p>\n\n<p>This module works great except for with MVC applications created as sub applications. </p>\n\n<p>When I make an http request that will be rewritten: <strong>http://www.SomeSiteWithURLrewrite.com/Arbitrary/Path/To/Be/Rewritten</strong></p>\n\n<p>I receive a  HTTP Error 404.0 - Not Found</p>\n\n<p>The 404 error page shows that there was a call to \"http://www.SomeSiteWithURLrewrite.com/Arbitrary/Path/To/Be/Rewritten\" that had been rewritten to the physical path \"C:{RootDirectory}\\SubMVCApplication\\\" with the handler of \"StaticFile\".</p>\n\n<p>I am not sure why the pipline is not recognizing the \"HttpContext.Current.RewritePath\" as an MVC request.  Is it because the MVC app is in its own application?</p>\n\n<p>How can I call RewritePath (or something similar) and have IIS render an ASP.Net MVC page.in a sub application</p>\n"},{"tags":["mvc","nhibernate","session"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12985225,"title":"Fetching Nhibernate Lazy data inside mvc view","body":"<p>I want to fetch lazy data inside mvc view.<br>\nSo I have created an <code>ActionFilterAttribute</code> as you can see bellow.<br>\nBut for some reason, the session close before <code>OnActionExecuted</code>.<br>\nAny Idea why?<br>\nTx</p>\n\n<pre><code>public class DatabaseTransactionAttribute : ActionFilterAttribute\n    {\n        public override void OnActionExecuting(ActionExecutingContext filterContext)\n        {\n            DatabaseConnector.GetTransaction();\n        }\n\n\n\n        public override void OnActionExecuted(ActionExecutedContext filterContext)\n        {\n            if(DatabaseConnector.GetCurrentSession().IsActive())\n            {\n                if(filterContext.Exception == null)\n                {\n                    DatabaseConnector.GetCurrentSession().Commit();\n                }\n                else\n                {\n                    DatabaseConnector.GetCurrentSession().MarkForRollBack();\n                }\n            }\n        }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":6059511,"title":"Should I bold the text in View, Controller or Model? (Codeigniter, not not specific to it)","body":"<p>Lets refer to '<a href=\"http://www.yelp.com/search?find_desc=food&amp;ns=1&amp;find_loc=Cambridge,%20MA%2002138#find_loc=new%20york%20city\" rel=\"nofollow\">Sort by</a>' section on Yelp: </p>\n\n<p>I have 3 anchor() functions that generate the 3 links. When one of the 'sort by' option is selected, I want to remove the hyperlink/anchor() and bold it to show that it is selected just like on the page above.</p>\n\n<p>Right now I am thinking of doing a uri_to_assoc() to $arr because the selected option will be in the url like controller/function/sort_by/best_reviews/.., then based on what is the key (best_reviews) or element (sort_by), use the following code in <strong>view</strong></p>\n\n<pre><code>&lt;?php\n$arr = uri_to_assoc(3);\n\nif($arr['sort_by'] == 'best_reviews') {\n    echo \"&lt;strong&gt;Best Reviews&lt;/strong&gt;\";\n} else {\n    anchor('controller/function/sort_by/best_reviews', 'Best Reviews');\n]\n?&gt;\n</code></pre>\n\n<p>Now I believe the MVC idea is to keep little php code (logic code?) in the view. In this case, will you put the above code in the view, or have that logic in controller/model then pass the final code to display (either the echo or the anchor()) in an array and just echo the array in view?\n.</p>\n\n<p>.</p>\n\n<p><strong>Mini Question (PHP)</strong></p>\n\n<p>If $arr['sort_by'] is not defined in the case that /sort_by/variable does not exist in the url, the statement if($arr['sort_by'] == 'best_reviews') will give an error. Will u nest all the above code in a if(isset($arr['sort_by'])){} ?</p>\n"},{"tags":["javascript","jquery","mvc","dom","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":186,"score":0,"question_id":12987001,"title":"Loading Partial Page With Angular and Compile The Controller","body":"<p>In large scale application, our web application might be organize into separate partial page in order to increase the modularity of our application. In some case compiling a partial page loaded through XHR or Ajax request either using Angular $http.get or JQuery $.load will introduce an error.</p>\n\n<p>Using my scenario as example, exactly I'm using Kohana PHP framework so i can control the modularity of my web application on the server level. As usual all template and page been separate into view, leaving all HTML, JS and CSS together on presentation layer. </p>\n\n<p>This will giving an great flexibility for me to implement the Javascript MVW/MVC stack on client side processing as my web app are heavily depend on AJAX request to fetch data from back end application. In my scenario im using AngularJS and below is a simple pseudo on how the data from Model presented to client.</p>\n\n<blockquote>\n  <p>Kohana Model > Kohana Controller > Kohana View > XHR > JQuery\\Angular > DOM</p>\n</blockquote>\n\n<p>One of my part in my application that really give me bump and get me drink few bottles of metabolism drink to solve the application. Is where i have a Modal dialog and the partial page are load through XHR from server and attached it to selected DOM. </p>\n\n<p>The problem is when Angular try to compile the partial page, when it found the ng-controller directive it will be looking for the function referring to the processed directive. Error were produce where the controller is not found as it not yet evaluated by DOM parser. But when you pre-delare the function somewhere in your application just before your load the partial page, everything is OK. Below is the example on how i setup a Dialog service that will be called from link directive when i clicked the said link.</p>\n\n<pre><code>var dialogService = angular.module('dialog.service', []);\ndialogService.factory('Dialog', function($http,$compile){\n    var dialogService = {};\n    dialogService.load = function(url, scope){\n        $(\"#dialog:ui-dialog\").dialog( \"destroy\" );\n        $(\"#dialog\").attr('title','Atlantis');\n\n        $http.get(url).success(function (data) {\n            html = $compile(data)(scope);\n            $('#dialog-content').html(html);\n\n            $(\"#dialog\").dialog({\n                width: '600px',\n                buttons: {\n                    \"Ok\": function() {\n                        $( this ).dialog( \"close\" );\n                        return true;\n                    },\n                },\n                close: function(){\n                    if (typeof (onClose) == 'function') { onClose(); }\n                },\n            });\n        });\n    }\n\n    return dialogService;\n});\n</code></pre>\n\n<p>After some research i have found some solution and sharing it with fellas on my answer for others beginner like me. (sorry for my English).</p>\n"},{"tags":["xml","mvc","data","sencha-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12986306,"title":"Unable to show data from xml in different panels","body":"<p>I am trying to show data from  a <code>xml</code> file in different panels but it is not showing up, infact using list fetches all the data but problem is with individual items.</p>\n\n<p>My  <code>xml</code> file is as follows</p>\n\n<pre><code>&lt;ajatus&gt;\n    &lt;timeline&gt;\n    &lt;username&gt;Prasanth&lt;/username&gt;\n    &lt;hourstoday&gt;0.00&lt;/hourstoday&gt;\n    &lt;hoursyesterday&gt;9.56&lt;/hoursyesterday&gt;\n    &lt;hoursthisweek&gt;48.56&lt;/hoursthisweek&gt;\n    &lt;hourslastweek&gt;63.68&lt;/hourslastweek&gt;\n    &lt;hoursthismonth&gt;891.52&lt;/hoursthismonth&gt;\n    &lt;hourslastmonth&gt;1515.12&lt;/hourslastmonth&gt;\n    &lt;/timeline&gt;\n&lt;/ajatus&gt;\n</code></pre>\n\n<p>My code in view - </p>\n\n<pre><code> var timeTpl= new Ext.XTemplate(\n        '&lt;tpl for=\".\"&gt;',\n            '&lt;div&gt;&lt;strong&gt;{username}&lt;/strong&gt;',\n        '&lt;div&gt;{hourstoday}',\n        '&lt;div&gt;{hoursyesterday}',\n        '&lt;div&gt;{hoursthisweek}',\n        '&lt;div&gt;{hourslastweek}',\n        '&lt;div&gt;{hoursthismonth}',\n        '&lt;div&gt;{hourslastmonth}',\n    '&lt;/tpl&gt;'\n);\n..{\n        xtype: 'panel',\n    cls: 'dashfont',\n    html: '&lt;div&gt; Hours Today &lt;br&gt;&lt;p style=\"font-size:22px;\"&gt;&lt;/p&gt;&lt;/div&gt;',\n    store: 'storedash',\n    grouped: true,\n    itemTpl:'&lt;div&gt;{userhome}&lt;/div&gt;',\n    flex: 3,\n}\n</code></pre>\n"},{"tags":["c#","mvc","mvvm","mvp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":64,"score":-1,"question_id":12984421,"title":"difference between UI logic and Presentation logic","body":"<p>What is the difference between UI Logic and Presentation Logic? (in a context such as MVVM, MVP and MVC)</p>\n\n<p>Thanks.</p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12984390,"title":"MVC homecontroller delete record in DB","body":"<p>ATM my code to create a record works fine(see below)</p>\n\n<pre><code>  public class HomeController : Controller\n</code></pre>\n\n<p>{\n    private MoviesDBEntities _entities = new MoviesDBEntities();</p>\n\n<pre><code>public ActionResult Index()\n{\n    return View(_entities.MovieTable1.ToList());\n}\n\n//\n// GET: /Home/Details/5\n\npublic ActionResult Details(int id)\n{\n    return View();\n}\n\n//\n// GET: /Home/Create\n\npublic ActionResult Create()\n{\n    return View();\n}\n\n//\n// POST: /Home/Create\n\n[HttpPost]\n//public ActionResult Create(FormCollection collection)\npublic ActionResult Create([Bind(Exclude = \"id\")]MovieTable1 movieToCreate)\n{\n    try\n    {\n        // TODO: Add insert logic here\n        _entities.AddToMovieTable1(movieToCreate);\n        _entities.SaveChanges();\n\n        return RedirectToAction(\"Index\");\n    }\n    catch\n    {\n        return View();\n    }\n}\n</code></pre>\n\n<p>when i try to add code to delete a record i get an error in the .aspx page(see below)\n(home controller)</p>\n\n<pre><code>public ActionResult Delete(int id)\n    {\n        return View();\n    }\n\n    //\n    // POST: /Home/Delete/5\n\n    [HttpPost]\n    //public ActionResult Delete(int id, FormCollection collection)\n    public ActionResult Delete([Bind(Exclude = \"id\")]MovieTable1 movieToDelete)\n    {\n        try\n        {\n            // TODO: Add delete logic here\n            _entities.DeleteObject(movieToDelete);\n            _entities.SaveChanges();\n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>(delete.asp) page</p>\n\n<pre><code>&lt;div class=\"display-label\"&gt;Id&lt;/div&gt;\n    &lt;div class=\"display-field\"&gt;&lt;%: Model.Id %&gt;&lt;/div&gt;\n\n    &lt;div class=\"display-label\"&gt;Title&lt;/div&gt;\n    &lt;div class=\"display-field\"&gt;&lt;%: Model.Title %&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["mvc","ckeditor"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":12984289,"title":"MVC Homecontroller edit details in DB","body":"<p>so just used a basic tutorial to make a DB and add new records to it. This all works fine...However now I would like to edit a record....</p>\n\n<pre><code>// GET: /Home/Edit/5\n\n    public ActionResult Edit(int id)\n    {\n        return View();\n    }\n\n    //\n    // POST: /Home/Edit/5\n\n    [HttpPost]\n    //public ActionResult Edit(int id, FormCollection collection)\n    public ActionResult Edit([Bind(Exclude = \"id\")]MovieTable1 movieToCreate)\n    {\n        try\n        {\n            // TODO: Add update logic here\n\n           //so i need to insert a line of code here to say something like update\n            //I was using the previous code:\n           //_entities.AddToMovieTable1(movieToCreate);\n            _entities.SaveChanges();           \n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>This isnt working I think all i have to do is edit the line '_entities.AddToMovieTable1(movieToCreate);' to something to edit the record</p>\n\n<p>to get the add new record working ive used the code...</p>\n\n<pre><code> public class HomeController : Controller\n{\n    private MoviesDBEntities _entities = new MoviesDBEntities();\n    //\n    // GET: /Home/\n\n    public ActionResult Index()\n    {\n        return View(_entities.MovieTable1.ToList());\n    }\n\n    //\n    // GET: /Home/Details/5\n\n    public ActionResult Details(int id)\n    {\n        return View();\n    }\n\n    //\n    // GET: /Home/Create\n\n    public ActionResult Create()\n    {\n        return View();\n    }\n\n    //\n    // POST: /Home/Create\n\n    [HttpPost]\n    //public ActionResult Create(FormCollection collection)\n    public ActionResult Create([Bind(Exclude = \"id\")]MovieTable1 movieToCreate)\n    {\n        try\n        {\n            // TODO: Add insert logic here\n            _entities.AddToMovieTable1(movieToCreate);\n            _entities.SaveChanges();\n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12983626,"title":"Zero padding in model, view or controller?","body":"<p>There's some disagreement in my circle about where to 0-pad a number: model, view or controller. Since the number is stored as a number in the database, it has to be padded when necessary for display.</p>\n\n<p>Opinions?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","mvc","zend-framework","dependency-injection","zend-framework2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1091,"score":1,"question_id":8288214,"title":"ZF2 Dependency Injection - Injecting tables into classes","body":"<p><strong>Please note: This was ZF beta 1. I doubt this is the same for current release</strong></p>\n\n<p>I was just attempting to inject dependencies into some of my classes. I thought I had this down as I was already managing it with quite a few things like injecting <code>database configurations</code>, <code>DB adapters</code> and <code>auth adapters</code> into my <code>UserMapper</code> class.</p>\n\n<p>I was trying to do the same with some other classes of mine and couldn't work out at all why it just wasn't working like my <code>UserMapper</code> class was. Now I see that the <code>UserMapper</code> class is being injected into a controller which has an alias set for it at the top of the config file.</p>\n\n<p>So I guess without having it first injected by using a controller... how am I supposed to be injecting stuff into my Models? I'm using the standard <code>ZF2 Skeleton by EvanDotPro</code></p>\n\n<p>My Models are in:</p>\n\n<pre><code>Application\\Model\\\nApplication\\Model\\DbTable\n</code></pre>\n\n<p>My config currently looks something like:</p>\n\n<pre><code>&lt;?php\nreturn array(\n'bootstrap_class' =&gt; 'Application\\Bootstrap',\n'layout'          =&gt; 'layouts/layout.phtml',\n'di'              =&gt; array(\n    'instance' =&gt; array(\n        'alias' =&gt; array(\n            'index'             =&gt; 'Application\\Controller\\IndexController',\n            'view'              =&gt; 'Zend\\View\\PhpRenderer'\n        ),\n\n        'Zend\\View\\HelperLoader' =&gt; array(\n            'parameters' =&gt; array(\n                'map' =&gt; array(\n                    'url' =&gt; 'Application\\View\\Helper\\Url',\n                ),\n            ),\n        ),\n\n        'Zend\\View\\HelperBroker' =&gt; array(\n            'parameters' =&gt; array(\n                'loader' =&gt; 'Zend\\View\\HelperLoader',\n            ),\n        ),\n\n        'Application\\Controller\\IndexController' =&gt; array(\n            'parameters' =&gt; array(\n                'userMapper' =&gt; 'Application\\Model\\UserMapper',\n                'flashMessenger' =&gt; 'Zend\\Mvc\\Controller\\Plugin\\FlashMessenger'\n            )\n        ),\n\n        'Application\\Model\\UserMapper' =&gt; array(\n            'parameters' =&gt; array(\n                'db' =&gt; 'Zend\\Db\\Adapter\\PdoMysql',\n                'authAdapter' =&gt; 'Zend\\Authentication\\Adapter\\DbTable',\n                'userTable' =&gt; 'Application\\Model\\DbTable\\UserTable'\n            )\n        ),\n\n        'Application\\Model\\DbTable\\UserTable' =&gt; array(\n            'parameters' =&gt; array(\n                'config' =&gt; 'Zend\\Db\\Adapter\\PdoMysql',\n            )\n        ),\n\n            // Auth adapter\n\n        'Zend\\Authentication\\Adapter\\DbTable' =&gt; array(\n            'parameters' =&gt; array(\n                'zendDb' =&gt; 'Zend\\Db\\Adapter\\PdoMysql',\n                'tableName' =&gt; 'users',\n                'identityColumn' =&gt; 'username',\n                'credentialColumn' =&gt; 'password',\n                'credentialTreatment' =&gt; 'MD5(CONCAT(?,\"OSalTyr$\"))'\n            )\n        ),\n\n        // DB Adapter\n\n        'Zend\\Db\\Adapter\\PdoMysql' =&gt; array(\n            'parameters' =&gt; array(\n                'config' =&gt; array(\n                    'host' =&gt; 'localhost',\n                    'username' =&gt; 'root',\n                    'password' =&gt; '',\n                    'dbname' =&gt; 'blahblah',\n                ),\n            ),\n        ),\n\n        // View\n\n        'Zend\\View\\PhpRenderer' =&gt; array(\n            'parameters' =&gt; array(\n                'resolver' =&gt; 'Zend\\View\\TemplatePathStack',\n                'options'  =&gt; array(\n                    'script_paths' =&gt; array(\n                        'application' =&gt; __DIR__ . '/../views',\n                    ),\n                ),\n                'broker' =&gt; 'Zend\\View\\HelperBroker',\n            ),\n        ),\n\n    ),\n),\n\n'routes' =&gt; array(\n    'default' =&gt; array(\n        'type'    =&gt; 'Zend\\Mvc\\Router\\Http\\Regex',\n        'options' =&gt; array(\n            'regex'    =&gt; '/(?P&lt;controller&gt;[^/]+)(/(?P&lt;action&gt;[^/]+)?)?',\n            'spec'     =&gt; '/%controller%/%action%',\n            'defaults' =&gt; array(\n                'controller' =&gt; 'error',\n                'action'     =&gt; 'index',\n            ),\n        ),\n    ),\n    'home' =&gt; array(\n        'type' =&gt; 'Zend\\Mvc\\Router\\Http\\Literal',\n        'options' =&gt; array(\n            'route'    =&gt; '/',\n            'defaults' =&gt; array(\n                'controller' =&gt; 'index',\n                'action'     =&gt; 'index',\n            ),\n        ),\n    ),\n),\n);\n</code></pre>\n\n<p>Thanks, Dominic</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12978853,"title":"Providing updates during a long Rails controller action","body":"<p>I have an action that takes a long time. I want to be able to provide updates during the process so the user is not confused as to whether he lost the connection or something. Can I do something like this:</p>\n\n<pre><code>class HeavyLiftingController &lt; ApplicationController\n  def data_mine\n    render_update :js=&gt;\"alert('Just starting!')\"\n    # do some complicated find etc.\n    render_update :js=&gt;\"alert('Found the records!')\"\n    # do some processing ...\n    render_update :js=&gt;\"alert('Done processig')\"\n    # send @results to view\n  end\nend\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","model-binding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12982362,"title":"MVC nested model collection is empty (not null)","body":"<p>I have a model that has a property which is a collection. I can successfully bind from the edit actions, for example:</p>\n\n<pre><code>    [HttpGet]\n    public ActionResult Edit(string id)\n    {\n        // code here\n        return this.View(complexModel);            \n    }\n\n    [HttpPost]\n    public ActionResult Edit(ComplexModel complexModel)\n    {\n        // code here\n        return RedirectToAction(\"AnotherAction\")            \n    }\n</code></pre>\n\n<p>In the post method I can successfully receive all the object properties, including the collection one. However I have another view that can invoke the Edit action. When this happens I can see that the html rendered is the same (i.e. the nested property info is there). When I save the changes in the post Edit I receive all the correct properties with one exception - the collection propery has zero items.</p>\n\n<p>Where do I have to search for the problem?</p>\n\n<p>Update:\nI am properly iterating through the collection and displaying all items with EditorFor; however when coming from a differnt view (the different view is in another controller and the Edit link is placed in a Display Template - if that makes any difference) with the same exact model I can see that the html is the same since all the properties of the collection are there.</p>\n"},{"tags":["php","oop","mvc","dispatcher","router"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":76,"score":3,"question_id":12976855,"title":"PHP - call_user_function_array or Reflection class pass by reference?","body":"<p>I'm trying to dispatch request in MVC framework.\nI have a routing object that matches current URI against defined routes. If there is a match, it returns instance of Route object. Through that Route object I can access matched controller, method and method arguments.</p>\n\n<p>I can use it like this:</p>\n\n<pre><code>$route-&gt;getClass(); name of controller class to instantiate\n$route-&gt;getMethod(); name of method to call\n$route-&gt;getArgs(); array holding arguments that should be passed to method\n</code></pre>\n\n<p>I can also add new arguments if I need to. For example, I can add Dependency Injection Container and current HTTP Request object instances to args like this:</p>\n\n<pre><code>$route-&gt;addArg('container', $container);\n$route-&gt;addArg('request', $request);\n</code></pre>\n\n<p>Now $route->getArgs holds all arguments fetched from URI, but also a $container instance and $request instance. $container is dependency injection container i wrote. And $request is object that represents current HTTP Request.</p>\n\n<p>So the idea is to instantiate Router, get current Route, then add objects I would like to use inside every method / action controller. And then pass that Route object to Dispatcher, and when request is dispatched, I would be able to use $container, $request and other arguments in every method / action controller.</p>\n\n<p>The problem I have is that when I use lets say blog controller and post method. By default, and always, it shoud have instance of $container, and $request (since I pushed them into Route::$args, plus any other argument / variable defined in routes definitions or fetched from URI.</p>\n\n<p>So when Im in my Blog Controller, post method I want it to act like this:</p>\n\n<pre><code>public function post($container, $request)\n{\nif($request-&gt;isAjax) {\n// -- Its ajax request\n}\n\n$twig = $container-&gt;getService(\"Twig\");\n}\n</code></pre>\n\n<p>I dispatch request something like this:</p>\n\n<p>Im using call_user_function_array to make it work:</p>\n\n<pre><code>$app = new $controller();\ncall_user_function_array(array($app, $method), $args);\n</code></pre>\n\n<p>Now this all works as it should but I have one problem.\nWhen Im using that post controller I must be careful in what order are post method arguments ordered.</p>\n\n<p>So i can do this:</p>\n\n<pre><code>public function post($id, $url, $container, $request) {\n// -- SNIP --\n}\n</code></pre>\n\n<p>but I cant use it this way:</p>\n\n<pre><code>public function post($container, $url, $request, $id) {\n/-- SNIP --\n}\n</code></pre>\n\n<p>So you get the problem, I cant mix arguments inside my method the way I want, and I need to keep an eye on order in which those arguments get defined in Route:$args array.</p>\n\n<p>Every method / action controller should have $request, and $container instances plus arguments fetched through URI or defined in route definition.</p>\n\n<p>Is there any way to make it work without having to think In what order is post method getting arguments? Does this have something to do with passing by reference? Since php passes variables by value?</p>\n\n<p>Im using call_user_function_array and I want to find solution for call_user_function_array.\nIs this possible?</p>\n\n<p>If not, can this be done using Reflection class?</p>\n"},{"tags":["c#","mvc","telerik","reference","circular"],"answer_count":4,"favorite_count":5,"up_vote_count":3,"down_vote_count":0,"view_count":1212,"score":3,"question_id":7888770,"title":"Telerik MVC Grid with Ajax Binding using EntityObjects gets Circular References exception","body":"<p>I have been using Telerik MVC Grid for quite a while now and It is a great control, however, one annoying thing keeps showing up related to using the grid with Ajax Binding to objects created and returned from the Entity Framework.  Entity objects have circular references, and when you return an IEnumerable from an Ajax callback it generates an exception from the JavascriptSerializer if there are circular references.  This happens because the MVC Grid uses a JsonResult which in turn uses JavaScriptSerializer which does not support serializing circular references.  </p>\n\n<p>My solution to this problem has been to use LINQ to create view objects that do not have the Related Entites.  This works for all cases, but reqires the creation of new objects and the copying of data to / from entity objects to these view objects.  Not alot of work, but it is work.</p>\n\n<p>I have finally figured out how to generically make the grid not serialize the circular referneces (ignore them) and I wanted to share my solution for the general public, as I think it is generic, and plugs into the environment nicely.  </p>\n\n<p><strong>The solution has a couple of parts</strong></p>\n\n<ol>\n<li>Swap the default grid serializer with a custom serializer</li>\n<li>Install the Json.Net plug-in available from Newtonsoft (this is a great library)</li>\n<li>Implement the grid serializer using Json.Net</li>\n<li>Modify the Model.tt files to insert [JsonIgnore] attributes in front of the navigation properties</li>\n<li>Override the DefaultContractResolver of Json.Net and look for the _entityWrapper attribute name to ensure this is also ignored (injected wrapper by the poco classes or entity framework)</li>\n</ol>\n\n<p>All of these steps are easy in and of themselves, but without all of them you cannot take advantage of this technique.  </p>\n\n<p>Once implemented correctly i can now easily send any entity framework object directly to the client without creating new View objects.  I dont recommend this for every object, but sometimes it is the best option.  It is also important to note that any related entires are not availalbe on the client side, so don't use them.</p>\n\n<p><b>Here are the Steps required</b></p>\n\n<ol>\n<li><p>Create the following class in your application somewhere.  This class is a factory object that the grid uses to obtain json results.  This will be added to the telerik library in the global.asax file shortly.</p>\n\n<pre><code>public class CustomGridActionResultFactory : IGridActionResultFactory\n{\n    public System.Web.Mvc.ActionResult Create(object model)\n    {\n        //return a custom JSON result which will use the Json.Net library\n        return new CustomJsonResult\n        {\n            Data = model\n        };\n    }\n}\n</code></pre></li>\n<li><p>Implement the Custom ActionResult.  This code is boilerplate for the most part.  The only interesting part is at the bottom where it calls JsonConvert.SerilaizeObject passing in a ContractResolver.  The ContactResolver looks for properties called _entityWrapper by name and sets them to be ignored.  I am not exactly sure who injects this property, but it is part of the entity wrapper objects and it has circular referneces.</p>\n\n<pre><code>public class CustomJsonResult : ActionResult\n{\n    const string JsonRequest_GetNotAllowed = \"This request has been blocked because sensitive information could be disclosed to third party web sites when this is used in a GET request. To allow GET requests, set JsonRequestBehavior to AllowGet.\";\n\n    public string ContentType { get; set; }\n    public System.Text.Encoding ContentEncoding { get; set; }\n    public object Data { get; set; }\n    public JsonRequestBehavior JsonRequestBehavior { get; set; }\n    public int MaxJsonLength { get; set; }\n\n    public CustomJsonResult()\n    {\n        JsonRequestBehavior = JsonRequestBehavior.DenyGet;\n        MaxJsonLength = int.MaxValue; // by default limit is set to int.maxValue\n    }\n\n    public override void ExecuteResult(ControllerContext context)\n    {\n        if (context == null)\n        {\n            throw new ArgumentNullException(\"context\");\n        }\n\n        if ((JsonRequestBehavior == JsonRequestBehavior.DenyGet) &amp;&amp; string.Equals(context.HttpContext.Request.HttpMethod, \"GET\", StringComparison.OrdinalIgnoreCase))\n        {\n            throw new InvalidOperationException(JsonRequest_GetNotAllowed);\n        }\n\n        var response = context.HttpContext.Response;\n        if (!string.IsNullOrEmpty(ContentType))\n        {\n            response.ContentType = ContentType;\n        }\n        else\n        {\n            response.ContentType = \"application/json\";\n        }\n        if (ContentEncoding != null)\n        {\n            response.ContentEncoding = ContentEncoding;\n        }\n        if (Data != null)\n        {\n            response.Write(JsonConvert.SerializeObject(Data, Formatting.None,\n                                                       new JsonSerializerSettings\n                                                           {\n                                                               NullValueHandling = NullValueHandling.Ignore,\n                                                               ContractResolver =  new PropertyNameIgnoreContractResolver()\n                                                           }));\n        }\n    }\n}\n</code></pre></li>\n<li><p>Add the factory object to the telerik grid.  I do this in the global.asax Application_Start() method, but realistically it can be done anywhere that makes sense.</p>\n\n<pre><code>DI.Current.Register&lt;IGridActionResultFactory&gt;(() =&gt; new CustomGridActionResultFactory());\n</code></pre></li>\n<li><p>Create the DefaultContractResolver class that checks for _entityWrapper and ignores that attribute.  The resolver is passed into the SerializeObject() call in step 2.</p>\n\n<pre><code>public class PropertyNameIgnoreContractResolver : DefaultContractResolver\n{\n    protected override JsonProperty CreateProperty(System.Reflection.MemberInfo member, MemberSerialization memberSerialization)\n    {\n        var property = base.CreateProperty(member, memberSerialization);\n\n        if (member.Name == \"_entityWrapper\")\n            property.Ignored = true;\n\n        return property;\n    }\n}\n</code></pre></li>\n<li><p>Modify the Model1.tt file to inject attributes that ignore the related entity properties of the POCO Objects.  The attribute that must be injected is [JsonIgnore].  This is the hardest part to add to this post but not hard to do in the Model1.tt (or whatever filename it is in your project).  Also if you are using code first then you can manually place the [JsonIgnore] attributes in front of any attribute that creates a circular reference.</p>\n\n<p>Search for the region.Begin(\"Navigation Properties\") in the .tt file.  This is where all of the navigation properties are code generated.  There are two cases that have to be taken care of the many to XXX and the Singular refernece.  There is an if statement taht checks if the property is </p>\n\n<pre><code>RelationshipMultiplicity.Many\n</code></pre>\n\n<p>Just after that code block you need to insert the [JasonIgnore] attribute prior to the line</p>\n\n<pre><code>&lt;#=PropertyVirtualModifier(Accessibility.ForReadOnlyProperty(navProperty))#&gt; ICollection&lt;&lt;#=code.Escape(navProperty.ToEndMember.GetEntityType())#&gt;&gt; &lt;#=code.Escape(navProperty)#&gt;\n</code></pre>\n\n<p>Which injects the proprty name into the generated code file.  </p>\n\n<p>Now look for this line which handles the Relationship.One and Relationship.ZeroOrOne relationships.  </p>\n\n<pre><code>&lt;#=PropertyVirtualModifier(Accessibility.ForProperty(navProperty))#&gt; &lt;#=code.Escape(navProperty.ToEndMember.GetEntityType())#&gt; &lt;#=code.Escape(navProperty)#&gt;\n</code></pre>\n\n<p>Add the [JsonIgnore] attribute just before this line.</p>\n\n<p>Now the only thing left is to make sure the NewtonSoft.Json library is \"Used\" at the top of each generated file.  Search for the call to WriteHeader() in the Model.tt file.  This method takes a string array parameter that adds extra usings (extraUsings).  Instead of passing null connstruct an array of strings and send in the \"Newtonsoft.Json\" string as the first element of the array.  The call should now look like:</p>\n\n<pre><code>WriteHeader(fileManager, new [] {\"Newtonsoft.Json\"});\n</code></pre></li>\n</ol>\n\n<p>Thats all there is to do, and everthing starts working, for every object.  </p>\n\n<h1>Now for the disclaimers</h1>\n\n<ul>\n<li>I have never used Json.Net so my implementation of it might not be\noptimal. </li>\n<li>I have been testing for about two days now and havent found any cases where this technique fails.  </li>\n<li>I also have not found any incompatibilities between the JavascriptSerializer and the JSon.Net serializer but that doesnt mean\nthere arent any</li>\n<li>The only other caveat is that the i am testing for a property called \"_entityWrapper\" by name to set its ignored property to true. This is obviously not optimal.</li>\n</ul>\n\n<p>I would welcome any feedback on how to improve this solution.  I hope it helps someone else.</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12980904,"title":"Good Java MVC security framework","body":"<p>Can anyone recommend me a good authentication security framework that allows the user to be authenticated by an email address as the user name, and allows the user to have a separate screen name?  </p>\n"},{"tags":["spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12979426,"title":"Multiple Dispatcher servlet example and configuration in Spring","body":"<p>Can some one give me a link for multiple dispatcher servlet example?. I am trying to run two applications in a single Spring MVC. I have checked different examples in google and written everything in web.xml, wrote two *-servlet.xml files. I have different jsp pages. Specified different url's for the application. But still one of the application is not running?</p>\n\n<p>Any brief example link or can anyone atleast tell me the configuration files required when writing two dispatcher servlets in a Spring MVC.</p>\n\n<p>Thank You\nSam</p>\n"},{"tags":["objective-c","ios","mvc","view"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12979910,"title":"IOS Dev Switch views within a view","body":"<p>I am creating a tutorial based iphone app. On the app, I plan to have pictures to be displayed along with text. How can I have it so that the text can change within the same view. For example, if one was to read the entire text, than press next new text would appear.</p>\n"},{"tags":["php","mvc","symfony2","tree","twig"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12976900,"title":"How to access a specific method in a loop?","body":"<p>Let's say I have a Category entity, a Person entity, and these two are related by a Contract Entity.\n<br/>\nIn my view, I need to display a category with all its subcategories with the number of persons</p>\n\n<p>For example :\nwhen the user is on the page to view \"the category A\", I would like he/she sees that :</p>\n\n<pre><code>Category A                  10 persons\n  subcategory a.1            4 persons\n  subcategory a.2            6 persons\n</code></pre>\n\n<p>So in my show.html.twig, I would write :</p>\n\n<pre><code>{{ category.title }}  {{ nb_persons }}\n{% for child in children %}\n   {{ child.title }} //{{ child.getNbPersons() }}??, how to get the number of persons for each child ?\n{% endfor %}\n</code></pre>\n\n<p>Here's my CategoryController.php</p>\n\n<pre><code>public function showAction($id_category)\n{\n    $em=$this-&gt;getDoctrine()-&gt;getEntityManager();\n    $repo = $em-&gt;getRepository('MyBundle:Category');\n    $this-&gt;param['category']= $repo-&gt;find($id);\n    $this-&gt;param['nb_persons'] = $repo-&gt;getNbPersonsByCategory($id_category);\n    $this-&gt;param['children'] = $repo-&gt;children($this-&gt;param['category'], true, 'title');\n\nreturn $this-&gt;render('MyBundle:Category:show.html.twig', $this-&gt;param);\n}\n</code></pre>\n\n<p>But to display the number of persons for each subcategory(child) I need to use a method like child.getNbPersons(), but this would force me to use a repository function in my entity Category.php and this is a bad practice I think.\nWhat can I do ? </p>\n"},{"tags":["javascript","mvc","view","treeview","extjs4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12978791,"title":"view not showing store when initcomponent loads store extjs 4.1.1","body":"<p>Using ExtJs 4.1.1</p>\n\n<p>I have some stores that will need to be created for each instance of a particular view. So, I am creating these stores within the initcomponent method of the view. This is all part of a refactoring of some code I am doing. I am attempting to make this view component able to be instantiated with multiple instances, while have a single controller take care of all instances. My goals aside, here is what I am doing:</p>\n\n<p>A particular treestore is populated with data(doesn't matter how, the data does end up in the store as verified with firebug). A treeview is defined within the view, and it takes the populated treestore as its store. However, when the view comes up. The data is not in the treeview. I beleive this may have something to do with all the static config loading before initComponent runs, although I am not sure. If I could get some insight on that process, it would be very helpful. I am thinking I say this.store1 belongs to the view in the view config, but then define this.store1 within the views initComponent. Is this the wrong way to do it???</p>\n\n<p>Any suggestions are appreciated.</p>\n\n<p>Using ExtJs 4.1.1</p>\n"},{"tags":["php","mvc","joomla","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12974421,"title":"Change default view of controller using view-list member: How to set view models?","body":"<p>I'm building a Joomla 2.5 component, and I want to change the view being rendered after a 'save' item action. This is easy enough (in the JControllerAdmin extended class constructor)</p>\n\n<pre><code>$this-&gt;view_list = \"myview\"\n</code></pre>\n\n<p>However, <code>myview</code> needs to load a couple of models to work. Elsewhere in the code this is done by a controller, for example  <code>controller.php</code> (the component's master controller in the component root):</p>\n\n<pre><code>$view = &amp;$this-&gt;getView('myview', 'html');\n$view-&gt;setModel($this-&gt;getModel('myviewSpecialModel'),false);\n$view-&gt;display();\n</code></pre>\n\n<p>My question: I'm not sure where in <code>JControllerAdmin</code> I can put this code so the necessary models are loaded before the view is displayed. Any advice?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","activerecord","migration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12971331,"title":"Create a new migration from controller","body":"<p>I would like to add to my table participant many attributes, since the yaml configuration file is given to me in input and I do not know how many attributes include before. My idea is to create a controller that goes to read the file and enter in the table participant how many attributes are specified in this. and I was looking for a way to do this, maybe wrong :)</p>\n\n<p>I put in my controller:</p>\n\n<pre><code> sql = \"ALTER TABLE participants ADD COLUMN foo TEXT\"\n ActiveRecord::Migration.connection.execute(sql)\n system \"rake db:migrate\"\n</code></pre>\n\n<p>In db/scehma.rb now there is t.text \"foo\", but in db/migrate there isn't a new migration that I can use to go back in case of errors. How do I create one of these?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","validation","nested-forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12972112,"title":"Nested model validation - errors don't show","body":"<p>There have been many questions about this, but none of them seem to help. And yes, I have watched <a href=\"http://railscasts.com/episodes/196-nested-model-form-part-1\" rel=\"nofollow\">this rails cast</a>.</p>\n\n<p>I have an Author who has many Books, like so:</p>\n\n<p>Author:</p>\n\n<pre><code>class Author &lt; ActiveRecord::Base\n  attr_accessible :name\n  has_many :books, dependent: :destroy\n\n  accepts_nested_attributes_for :books, allow_destroy: true\n\n  validates :name, presence: true\n  validates :name, length: { minimum: 3 }\nend\n</code></pre>\n\n<p>Book:</p>\n\n<pre><code>class Book &lt; ActiveRecord::Base\n  attr_accessible :name, :year\n  belongs_to :author\n\n  validates :name, :year, presence: true\n  validates :year, numericality: { only_integer: true, less_than_or_equal_to: Time.now.year }\nend\n</code></pre>\n\n<p>I created the following form to add a book to an author in authors#show:</p>\n\n<pre><code>&lt;%= form_for([@author, @book], html: { class: \"well\" }) do |f| %&gt;\n&lt;% if @book.errors.any? %&gt;\n    &lt;div class=\"alert alert-block\"&gt;\n        &lt;ul&gt;\n            &lt;% @author.errors.full_messages.each do |msg| %&gt;\n                &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;\n            &lt;% end %&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;% end %&gt;\n#labels and buttons...\n&lt;% end %&gt;\n</code></pre>\n\n<p>...with the following authors_controller method:</p>\n\n<pre><code>def show\n    @author = Author.find(params[:id])\n    @book = @author.books.build\nend\n</code></pre>\n\n<p>...and the following books_controller method:</p>\n\n<pre><code>def create\n    @author = Author.find(params[:author_id])\n    if @author.books.create(params[:book])\n      redirect_to author_path(@author)\n    else\n      render action: :show\n    end\n  end\n</code></pre>\n\n<p>I cannot seem to figure out why the form does not display any error messages. I followed the example from railscasts where they say there should be an instance variable of books in the form instead of @author.books.build, so I put the latter in the controller and @book in the form - still to no avail.</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","mvc","telerik"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":688,"score":1,"question_id":9689876,"title":"MVC3 - Server validation with Telerik Modal Window using Ajax call","body":"<p><strong>SOLVED</strong></p>\n\n<p>I´m going to paste my code before I ask the question.</p>\n\n<p><strong>My script:</strong></p>\n\n<pre><code>    function showDialog(arg) {\n    var url = '/Home/ReserveRent/';\n    $.ajax({\n            type: \"GET\",\n            url: url,\n            data: { saleslineId: arg },\n            dataType: \"html\",\n            success: function(data) { $('#ModalPay' + arg).html(data); },\n            error: function() { alert(url + '  ' + arg); }\n        });\n    $(\"#Window\" + arg).data(\"tWindow\").center().open().refresh();\n}\n</code></pre>\n\n<p><strong>My Controller ActionResult GET and POST:</strong></p>\n\n<pre><code>        public ActionResult ReserveRent(int salesLineId)\n    {\n        if(User.Identity.IsAuthenticated)\n        {\n            var salesLine = _salesLineLogic.GetSalesLine(salesLineId);\n\n            if (!salesLine.IsAvailable)\n            {\n                ViewBag.AvailableSalesLine = @\"Þessi orlosfeign er því miður ekki lengur til leigu á þessu tímabili.\";\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n\n            salesLine.IsAvailable = false;\n            _salesLineLogic.SaveToDatabase();\n\n            var payment = new Payment { FK_SalesLineID = salesLineId, EditedBy = \"PayRent.cshtml (GET)\", EditedOn = DateTime.Now };\n\n            return PartialView(new HomeFormViewModel(payment, salesLineId));\n        }\n        else\n        {\n            return RedirectToAction(\"LogOn\", \"Account\");\n        }\n    }\n\n    [HttpPost]\n    [Authorize]\n    public ActionResult ReserveRent(int salesLineId, Payment payment)\n    {\n        //removed a lot of code since it is not relevant to question\n\n        var cardValidation = new CreditCardAttribute();\n\n        if (cardValidation.IsValid(payment.VirtualCardnumber))\n        {\n            try\n            {\n                //removed a lot of code since it is not relevant to question\n                //here is success\n\n                return RedirectToAction(\"RentPaid\", \"Payment\", payment);\n            }\n            catch (_ErrorException e)\n            {\n                //Code removed, error handling\n            }\n        }\n        else\n        {\n            //Code removed\n            ModelState.AddModelError(\"\", @\"Kortanúmerið (\" + payment.VirtualCardnumber + @\") er ekki löglegt, vinsamlegast reynið aftur.\");\n            return PartialView(new HomeFormViewModel(payment, salesLineId));\n        }\n\n        return PartialView(new HomeFormViewModel(payment, salesLineId));\n    }\n</code></pre>\n\n<p><strong>My foreach loop within my Index page rendering Telerik Windows:</strong></p>\n\n<pre><code>&lt;div&gt;\n@foreach (ShowAvailability availability in Model.ShowAvailabilities)\n{\n    foreach (var salesLine in availability.SalesLinesForSale)\n    {\n        SalesLine line = salesLine;\n        string modalPay = \"ModalPay\" + line.SalesLineID;\n        Html.Telerik().Window()\n        .Name(\"Window\" + line.SalesLineID)\n        .Title(line.Unit.Name)\n        .Content(@&lt;text&gt;\n            @using (Html.BeginForm(\"ReserveRent\", \"Home\", new { salesLineId = line.SalesLineID }, FormMethod.Post, new { id = \"feedback-form\" }))\n            {\n\n                &lt;p class=\"note\"&gt;This is &lt;strong&gt;salesLine&lt;/strong&gt; @line.SalesLineID.&lt;/p&gt;\n\n                &lt;div style=\"@modalPay\"&gt;\n                    @{Html.RenderPartial(\"ReserveRent\", Model);}\n                &lt;/div&gt;\n                &lt;div class=\"form-actions\"&gt; &lt;button onclick=\"cancelModalRent('@line.SalesLineID')\" type=\"button\" class=\"t-button t-state-default\"&gt; Hætta við&lt;/button&gt; \n            &lt;button type=\"submit\" class=\"t-button t-state-default\"&gt; Bóka&lt;/button&gt;                         \n            &lt;button type=\"button\" onclick=\"showDialog('@line.SalesLineID')\" class=\"t-button t-state-default\"&gt;eeeeeee&lt;/button&gt;&lt;/div&gt;\n            }\n    &lt;/text&gt;)\n        .Buttons(b =&gt; b.Maximize())\n        .Width(500)\n        .Draggable(true)\n        .Modal(true)\n        .Visible(false)\n        .Render();\n    }\n}\n</code></pre>\n\n<p></p>\n\n<p><strong>My FormViewModel:</strong></p>\n\n<pre><code>    public class HomeFormViewModel\n    {\n    private readonly UnitLogic _unitLogic = new UnitLogic();\n\n    public ShowAvailability ShowAvailability            { get; private set; }\n    public List&lt;ShowAvailability&gt; ShowAvailabilities    { get; private set; } \n    public List&lt;Unit&gt; Units                             { get; private set; }\n    public List&lt;Unit&gt; Areas                             { get; private set; }\n    public List&lt;SelectListItem&gt; AreaSelectList          { get; private set; }\n    public Payment Payment                              { get; private set; }\n    public int SalesLineId                              { get; private set; }\n\n    public HomeFormViewModel(ShowAvailability showAvailability)\n    {\n        ShowAvailability = showAvailability;\n\n        Units = _unitLogic.GetAllUnits();\n    }\n\n    public HomeFormViewModel(List&lt;ShowAvailability&gt; showAvailabilities)\n    {\n        ShowAvailabilities = showAvailabilities;\n\n        Units = _unitLogic.GetAllUnits();\n\n        Areas = _unitLogic.GetAllAreas();\n\n        var selectListItems = new List&lt;SelectListItem&gt;\n                                  {\n                                      new SelectListItem\n                                          {\n                                              Selected = true,\n                                              Text = @\"Öll svæði\",\n                                              Value = \"0\"\n                                          }\n                                  };\n\n        selectListItems.AddRange(Areas.Select(unit =&gt; new SelectListItem\n                                                          {\n                                                              Selected = false,\n                                                              Text = unit.Name,\n                                                              Value = unit.UnitID.ToString()\n                                                          }));\n        AreaSelectList = selectListItems;\n    }\n\n    public HomeFormViewModel(Payment payment, int salesLineId)\n    {\n        SalesLineId = salesLineId;\n        Payment = payment;\n    }\n}\n</code></pre>\n\n<p><strong>My partial View (the one that should stay open when validation occur):</strong></p>\n\n<pre><code>@model AFLOrlofMVC3.Controllers.HomeFormViewModel\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n@{\n    string modalPay = \"ModalPay\" + Model.SalesLineId;\n}\n&lt;div&gt;\n@Html.ValidationSummary(true)\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.PayerName)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.PayerName, new { style = \"width: 175px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.PayerName)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.VirtualCardnumber)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.VirtualCardnumber, new { style = \"width: 125px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.VirtualCardnumber)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.CVC)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.CVC, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.CVC)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.ExpirationDate)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.ExpirationDate, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.ExpirationDate)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.EditedOn)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.EditedOn, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.EditedOn)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.EditedBy)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.EditedBy, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.EditedBy)\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Screenshots:  First picture is my dialog window, second picture what happens on submit</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/f0013.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/FjKU8.png\" alt=\"enter image description here\"></p>\n\n<p><strong>My question:</strong></p>\n\n<p>If I want to only refresh my dialog window with the result from my Ajax call, should I change the ajax call in any way for that to work or should I return something else than PartialView()?   I´m thinking mainly about the server side validation and the validationsummary should display the error.</p>\n"},{"tags":["c#","mvc","content-management-system","tinymce","orchardcms"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12969949,"title":"Orchard text editor cannot save my html","body":"<p>I'm using orchard CMS to build a website, i added a page via the orchard's text editor.\nI input the following code and save:</p>\n\n<pre><code>&lt;a class=\"tile wide imagetext bg-color-blue\" href=\"./bootstrap-scaffolding.html\"&gt;\n     &lt;div class=\"image-wrapper\"&gt;\n          &lt;img src=\"content/img/My Apps.png\" /&gt;\n      &lt;/div&gt;\n      &lt;div class=\"column-text\"&gt;\n      &lt;div class=\"text\"&gt;Grid system&lt;/div&gt;\n          &lt;div class=\"text\"&gt;Layouts&lt;/div&gt;\n          &lt;div class=\"text\"&gt;Responsive design&lt;/div&gt;\n       &lt;/div&gt;\n     &lt;span class=\"app-label\"&gt;SCAFFOLDING&lt;/span&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>But i find that the code is changed in text editor when open the editor again, they are:</p>\n\n<pre><code>&lt;h2&gt;Bootstrap Metro&lt;/h2&gt;\n&lt;div class=\"image-wrapper\"&gt;&lt;img src=\"content/img/My Apps.png\" /&gt;&lt;/div&gt;\n&lt;div class=\"column-text\"&gt;\n&lt;div class=\"text\"&gt;Grid system&lt;/div&gt;\n&lt;div class=\"text\"&gt;Layouts&lt;/div&gt;\n&lt;div class=\"text\"&gt;Responsive design&lt;/div&gt;&lt;/div&gt;\n&lt;a class=\"tile wide imagetext bg-color-blue\" href=\"./bootstrap-scaffolding.html\"&gt;&lt;span class=\"app-label\"&gt;SCAFFOLDING&lt;/span&gt; &lt;/a&gt;\n</code></pre>\n\n<p>The changed code are:</p>\n\n<pre><code>&lt;a class=\"tile wide imagetext bg-color-blue\" href=\"./bootstrap-scaffolding.html\"&gt;&lt;span class=\"app-label\"&gt;SCAFFOLDING&lt;/span&gt; &lt;/a&gt;\n</code></pre>\n\n<p>Could you please give me any suggestion?</p>\n"},{"tags":["mvc","extjs","ext.net","gridpanel"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":121,"score":1,"question_id":12964305,"title":"EXT.net - Grid Panel via Entity with DropDowns, Dates, Pin Editing and Deletion","body":"<p>Title sounds like a real mouthful, so let me try to explain this. I'm very strong with grinding out Web Forms and this is my second crack at using a framework and MVC (don't ask about the first one). Start with a table like this:</p>\n\n<p>Title: Milestones <br/>\nId      int - Auto, PK<br/>\nProject_Id      int - FK, Many Milestones to One Project, Provided static for now<br/>\nNumber          int<br/>\nName            varchar(50)<br/>\nStatus_Id       int - FK One Status to One Milestone<br/>\nPlannedDate date<br/>\nLatestEstimate  date<br/>\nMilestoneType_ID    int - FK One Type to One Milestone<br/></p>\n\n<p>These all sit on an SQL server, are pulled in by an Entity and then are pulled in by an ObjectDataSource, like this:</p>\n\n<pre><code>    &lt;asp:ObjectDataSource runat=\"server\" ID=\"MilestonesObjectSource\" SelectMethod=\"GetByProject\"\n        DeleteMethod=\"DeleteMilestone\" TypeName=\"TCProjectManagement.Models.MilestonesAddition\"&gt;\n        &lt;SelectParameters&gt;\n            &lt;asp:Parameter DefaultValue=\"6\" Name=\"ProjectID\" Type=\"Int32\" /&gt;\n        &lt;/SelectParameters&gt;\n        &lt;DeleteParameters&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Id\" /&gt;\n        &lt;/DeleteParameters&gt;\n        &lt;UpdateParameters&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Id\" /&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Number\" /&gt;\n            &lt;asp:Parameter Type=\"String\" Name=\"Name\" /&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"Status_Id\" /&gt;\n            &lt;asp:Parameter Type=\"DateTime\" Name=\"PlannedDate\" /&gt;\n            &lt;asp:Parameter Type=\"DateTime\" Name=\"LatestEstimate\" /&gt;\n            &lt;asp:Parameter Type=\"Int32\" Name=\"MilestoneType_ID\" /&gt;\n        &lt;/UpdateParameters&gt;\n    &lt;/asp:ObjectDataSource&gt;\n</code></pre>\n\n<p>Sofar so good. Data pull seems to work out okay. I've got a couple more Object Sources that deal exclusively with the Foriegn Keys, so I'll skip those since they seem to be working.</p>\n\n<p>The problems I have are attempting to stitch together many examples that don't seem to go together well. My objectives, in no paticular order:</p>\n\n<p>1) Pin Editing: Click a button to edit, click it again to confirm. Rather do this than have somebody infer to double click for a change. Sofar, this sorta works.<br/>\n2) Drop Downs for Foriegn Keys: While not in edit mode, should display the \"Name\" field of the FK. While in edit it should be a Drop Down for options (there's only three). This stays blank dispite what I do.<br/>\n3) Deletion: Press a button to blow away a row. I put the button there but it's a copy of the JS for editing. What do I need to use to have it be deletion?<br/>\n4) Dates: This doesn't work at all. One of the weird parts is that from the SQL server's type of Date, it gets changed to DateTime in the Entity and stays that way throughout. However, I cannot get the desired control of ext:DateField to cooperate with the provided data since it displays a time and completely blanks out when editing.. I know I'm doing something wrong here.<br/>\n5) Saving Changes: Not quite sure I set it up right (or at all).<br/></p>\n\n<p>Provisions of Javascript:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n            var pinEditors = function (btn, pressed) {\n                var columnConfig = btn.column,\n                column = columnConfig.column;\n\n                if (pressed) {\n                    column.pinOverComponent();\n                    column.showComponent(columnConfig.record, true);\n                } else {\n                    column.unpinOverComponent();\n                    column.hideComponent(true);\n                }\n            };\n            var pinDeleters = function (btn, pressed) { };\n        &lt;/script&gt;\n</code></pre>\n\n<p>And ASP Code:</p>\n\n<pre><code>    &lt;ext:GridPanel ID=\"MilestonesGridPanel\" runat=\"server\" Title=\"Milestones\" Width=\"1000px\"\n        Height=\"300px\"&gt;\n        &lt;Store&gt;\n            &lt;ext:Store ID=\"MilestonesGridStore\" runat=\"server\" DataSourceID=\"MilestonesObjectSource\"&gt;\n                &lt;Model&gt;\n                    &lt;ext:Model runat=\"server\" IDProperty=\"Id\"&gt;\n                        &lt;Fields&gt;\n                            &lt;ext:ModelField Name=\"Id\" Type=\"Int\" /&gt;\n                            &lt;ext:ModelField Name=\"Number\" Type=\"Int\" /&gt;\n                            &lt;ext:ModelField Name=\"Name\" Type=\"String\" /&gt;\n                            &lt;ext:ModelField Name=\"Status_Id\" Type=\"Int\" /&gt;\n                            &lt;ext:ModelField Name=\"PlannedDate\" /&gt;\n                            &lt;ext:ModelField Name=\"LatestEstimate\" /&gt;\n                            &lt;ext:ModelField Name=\"MilestoneType_ID\" Type=\"Int\" /&gt;\n                        &lt;/Fields&gt;\n                    &lt;/ext:Model&gt;\n                &lt;/Model&gt;\n            &lt;/ext:Store&gt;\n        &lt;/Store&gt;\n        &lt;ColumnModel&gt;\n            &lt;Columns&gt;\n                &lt;ext:Column ID=\"IdColumn\" runat=\"server\" DataIndex=\"Id\" Text=\"DBID\" Visible=\"false\" /&gt;\n                &lt;ext:ComponentColumn ID=\"NumberColumn\" runat=\"server\" DataIndex=\"Number\" OverOnly=\"true\"\n                    Pin=\"true\" Flex=\"1\" Text=\"Number\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:NumberField ID=\"NumberColumnNumberField\" runat=\"server\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"NameColumn\" runat=\"server\" DataIndex=\"Name\" OverOnly=\"true\"\n                    Pin=\"true\" Flex=\"1\" Text=\"Name\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:TextField ID=\"NameColumnTextField\" runat=\"server\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"StatusColumn\" runat=\"server\" DataIndex=\"Status_Id\" OverOnly=\"true\"\n                    Pin=\"true\" Flex=\"1\" Text=\"Status\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:ComboBox ID=\"StatusColumnDropDownBox\" runat=\"server\" QueryMode=\"Local\" Editable=\"false\"\n                            StoreID=\"MilestoneStatusStore\" DisplayField=\"Name\" ValueField=\"ID\" EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"PlannedDateColumn\" runat=\"server\" DataIndex=\"PlannedDate\"\n                    OverOnly=\"true\" Pin=\"true\" Flex=\"1\" Text=\"Planned Date\" Editor=\"true\"&gt;\n                    &lt;Renderer Format=\"Date\" FormatArgs=\"'m/d/y'\" /&gt;\n                    &lt;Component&gt;\n                        &lt;ext:DateField ID=\"PlannedDateColumnTextField\" runat=\"server\" Format=\"MM/dd/yyyy\"\n                            EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"LatestEstimateColumn\" runat=\"server\" DataIndex=\"LatestEstimate\"\n                    OverOnly=\"true\" Pin=\"true\" Flex=\"1\" Text=\"Latest ETA\" Editor=\"true\"&gt;\n                    &lt;Renderer Format=\"Date\" FormatArgs=\"'m/d/y'\" /&gt;\n                    &lt;Component&gt;\n                        &lt;ext:DateField ID=\"LatestEstimateColumnTextField\" runat=\"server\" Format=\"MM/dd/yyyy\"\n                            EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"MilestoneTypeColumn\" runat=\"server\" DataIndex=\"MilestoneType_ID\"\n                    OverOnly=\"true\" Pin=\"true\" Flex=\"1\" Text=\"Milestone Type\" Editor=\"true\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:ComboBox ID=\"MilestoneTypeColumnComboBox\" runat=\"server\" QueryMode=\"Local\" Editable=\"false\"\n                            StoreID=\"MilestoneTypesStore\" DisplayField=\"Name\" ValueField=\"ID\" EmptyText=\"Empty\" /&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"EditColumn\" runat=\"server\" Width=\"30\" PinAllColumns=\"false\"\n                    AutoWidthComponent=\"false\" OverOnly=\"true\" Text=\"Edit\" Sortable=\"False\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:Button ID=\"EditButton\" runat=\"server\" ToolTip=\"Pin Editors\" Icon=\"Pencil\" AllowDepress=\"true\"\n                            EnableToggle=\"true\" Width=\"25\"&gt;\n                            &lt;Listeners&gt;\n                                &lt;Toggle Fn=\"pinEditors\" /&gt;\n                            &lt;/Listeners&gt;\n                        &lt;/ext:Button&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n                &lt;ext:ComponentColumn ID=\"DeleteColumn\" runat=\"server\" Width=\"30\" PinAllColumns=\"false\"\n                    AutoWidthComponent=\"false\" OverOnly=\"true\" Text=\"Delete\" Sortable=\"False\"&gt;\n                    &lt;Component&gt;\n                        &lt;ext:Button ID=\"DeleteButton\" runat=\"server\" ToolTip=\"Delete Milestone\" Icon=\"Delete\"\n                            AllowDepress=\"true\" EnableToggle=\"false\" Width=\"25\"&gt;\n                            &lt;Listeners&gt;\n                                &lt;Click Handler=\"#{MilestonesGridStore}.remove(this.parentMenu.dataRecord)\" /&gt;\n                            &lt;/Listeners&gt;\n                        &lt;/ext:Button&gt;\n                    &lt;/Component&gt;\n                &lt;/ext:ComponentColumn&gt;\n            &lt;/Columns&gt;\n        &lt;/ColumnModel&gt;\n        &lt;SelectionModel&gt;\n            &lt;ext:RowSelectionModel runat=\"server\" Mode=\"Single\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Select Handler=\"#{DeleteMilestoneGridButton}.enable();\" /&gt;\n                    &lt;Deselect Handler=\"if (!#{MilestonesGridPanel}.selModel.hasSelection()) { \n                                #{DeleteMilestoneGridButton}.disable();\n                                       }\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:RowSelectionModel&gt;\n        &lt;/SelectionModel&gt;\n        &lt;Buttons&gt;\n            &lt;ext:Button ID=\"AddtoMilestoneGridButton\" runat=\"server\" Text=\"Insert\" Icon=\"Add\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridStore}.insert(0, {}); #{MilestonesGridPanel}.editingPlugin.startEditByPosition({row:0, column:0});\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n            &lt;ext:Button ID=\"DeleteMilestoneGridButton\" runat=\"server\" Text=\"Delete\" Icon=\"Delete\"\n                Disabled=\"true\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridPanel}.deleteSelected();\n                                    if (!#{MilestonesGridPanel}.hasSelection()) {\n                                        #{DeleteMilestoneGridButton}.disable();\n                                    }\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n            &lt;ext:Button ID=\"RefreshMilestonesGridButton\" runat=\"server\" Text=\"RefresH\" Icon=\"Reload\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridStore}.load();\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n            &lt;ext:Button ID=\"SaveMilestoneGridButton\" runat=\"server\" Text=\"Save\" Icon=\"Disk\"&gt;\n                &lt;Listeners&gt;\n                    &lt;Click Handler=\"#{MilestonesGridStore}.sync();\" /&gt;\n                &lt;/Listeners&gt;\n            &lt;/ext:Button&gt;\n        &lt;/Buttons&gt;\n    &lt;/ext:GridPanel&gt;\n</code></pre>\n"},{"tags":["c#","mvc","entity-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":1778,"score":5,"question_id":7348663,"title":"C# Entity-Framework: How can I combine a .Find and .Include on a Model Object?","body":"<p>I'm doing the mvcmusicstore practice tutorial. I noticed something when creating the scaffold for the album manager (add delete edit).</p>\n\n<p>I want to write code elegantly, so i'm looking for the clean way to write this.</p>\n\n<p>FYI i'm making the store more generic:</p>\n\n<p>Albums = Items</p>\n\n<p>Genres = Categories</p>\n\n<p>Artist = Brand</p>\n\n<p>Here is how the index is retrieved (generated by MVC):</p>\n\n<pre><code>var items = db.Items.Include(i =&gt; i.Category).Include(i =&gt; i.Brand);\n</code></pre>\n\n<p>Here is how the item for delete is retrieved:</p>\n\n<pre><code>Item item = db.Items.Find(id);\n</code></pre>\n\n<p>The first one brings back all the items and populates the category and brand models inside the item model. The second one, doesn't populate the category and brand.</p>\n\n<p>How can i write the second one to do the find AND populate whats inside (preferably in 1 line)... theoretically - something like:</p>\n\n<pre><code>Item item = db.Items.Find(id).Include(i =&gt; i.Category).Include(i =&gt; i.Brand);\n</code></pre>\n"},{"tags":["cocoa","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12970735,"title":"MVC theory/Cocoa: where to create model?","body":"<p>I have an AppDelegate, an NSWindowController and some Views. What is the best place to define <code>DataModel * data;</code>, initialize <code>[[data alloc] initWithSomething]</code> etc.?</p>\n\n<p>I suppose it must be done in WindowController (.h and .m), since model must be handled by the main controller. Am I right? I've got a small doubt about keeping a pointer to Model in AppDelegate...</p>\n\n<p>Sorry if my terminology is not MVC-correct, I'm just studying...</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12967735,"title":"Redirect action not working","body":"<p>I'm guessing this one's pretty easy to do, but I don't know how, so I figured I'd ask. </p>\n\n<p>I have a delay job in my app that calls a roll_back method in my Order model if something hasn't happened within five minutes. That method both destroys the instance it's called on and, before doing so, does a bunch of related things to associated models. The method is working just great.</p>\n\n<p>The trouble is, once the method is done running, most users will be on the show page for the Order that has just been deleted, and I was hoping to redirect users to a different page once the time ran out and that roll_back method was called. </p>\n\n<p>So I originally just tried this in the rollback method, right after the \"self.destroy\" line.</p>\n\n<pre><code>redirect_to \"/orders/new\", :notice =&gt; \"Blah\"\n</code></pre>\n\n<p>Didn't work, though. And at any rate, some poking around on the internet informed me that actions like redirect should be in the controller instead. </p>\n\n<p>So I instead went and put that line in the Orders Controller's destroy method, right after @order.destroy. I figured when the roll_back method called self.destroy, it'd then do the redirect -- but that didn't work either, I'm guessing because the model destroy doesn't go through the controller. </p>\n\n<p>So I'm not really sure how to do this. All the delay job/rollback stuff is in my model, but I'm apparently not supposed / unable to redirect users from the model. Any idea how to do this?</p>\n\n<hr>\n\n<p>Tried this again, with this in my method, in case it was a routing error (I know orders_path to exist). </p>\n\n<pre><code>def destroy\n    @order = Order.find(params[:id])\n    @order.destroy\n    redirect_to orders_path, notice: \"blah\"\nend\n</code></pre>\n"},{"tags":["mvc","model","controller","formatting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12959823,"title":"Where formatting data ? Model ? Controller?","body":"<p>I need to format data to use them after MySQL request.</p>\n\n<p>Format date (using date library), sort and arrange data (using loop) etc.</p>\n\n<p>Php example (CodeIgniter framework):</p>\n\n<pre><code>$result = $query-&gt;result_array();\n$data = array();\nforeach($result as $key =&gt; $value) {\n    $result[$key]['date'] = px_date_time_format($result[$key]['date'], 'fr');       \n    if ($value['id_parent'] == 0) {\n        $data[$value['id']] = $result[$key];\n    }\n}\n\nforeach($result as $key =&gt; $value) {\n    if ($value['id_parent'] != 0) {\n        $data[$value['id_parent']]['children'][$value['id']] = $value;  \n    }\n}\n\nreturn $data;\n</code></pre>\n\n<p>Where should I format this data? In my Model or my Controller?</p>\n"},{"tags":["php","jquery","ajax","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":10632803,"title":"Why am I getting a 500 Internal Server Error?","body":"<p>I'm learning so far, but this db ajax communication always makes me bang my head against the wall.</p>\n\n<p>This is the controller:</p>\n\n<pre><code>function become_teacher()\n{   \n    $this-&gt;load-&gt;model('class_model');\n    $data = array('user_id' =&gt; $this-&gt;input-&gt;post('user_id'),\n        'group_id' =&gt; $this-&gt;input-&gt;post('user_group') \n    );\n    $this-&gt;class_model-&gt;change_to_teacher($data);\n}\n</code></pre>\n\n<p>Here is the Model:</p>\n\n<pre><code>function change_to_teacher($data)\n{\n    $this-&gt;db-&gt;insert('user_groups', $data);\n    return;     \n}\n</code></pre>\n\n<p>And here is the script:</p>\n\n<pre><code>&lt;p&gt;Om du vill kunna skapa lektionen bli lärare. &lt;/p&gt;\n&lt;button class=\"btn teacher\"&gt;Bli lärare&lt;/button&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var user_id = $('.meta').text().trim();\n    var user_group = '4';\n    $('.teacher').on('click', function() {\n        $.ajax({\n            type: \"POST\",\n            url: \"http://localhost:8888/testing/index.php/cours/become_teacher\",\n            data: \"{ user_id: user_id, user_group: user_group }\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>The <code>var user_id</code> is getting its data from the header file, not included here.\nAny help would be much appreciated!</p>\n"},{"tags":["visual-studio-2010","visual-studio","mvc","ext.net"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12957048,"title":"How to create a MVC Ext.Net project in Visual Studio?","body":"<p>This is my first time using Ext.Net and I just can't figure out how to get set up.</p>\n\n<p>When I open Visual Studio, do I want to make a new \"Project\" or \"Web Site\"?</p>\n\n<p>Choosing \"Project\" gives me the option to use MVC, but I can't figure out how to use Ext.Net from there. </p>\n\n<p>The little bit of information I was able to find about getting started with Ext.Net tells me to make a website so I can drag \"ResourceManager\" and \"Window\" onto a .aspx page. But then, I don't know how to make it MVC from there.</p>\n\n<p>If someone could just give me the basic steps to get a blank website running, that would be great.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12964926,"title":"Load CodeIgniter models in Controller constructor","body":"<p>Coming from C#/.NET MVC 3/4, I'm not really used to CodeIgniter's implementation of models.</p>\n\n<p>The documentation shows models being loaded within controller methods, however I'm using the model in almost every method and my model is storing data used across its methods in properties via its constructor.</p>\n\n<p>Is there any reason  NOT to instantiate the model in the controller constructor that I'm overlooking?</p>\n"},{"tags":["vb.net","entity-framework","mvc","web-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12964520,"title":"MVC4 Web Api not returning Entity Framework IEnumerable()","body":"<p>I have a simple table as follows mapped with Entity Framework. I am trying to return just a very basic call of IEnumerable(Of MyTableObject) however MVC API is just bombing out with error code 500. When I try to return a IEnumerable(Of String) and select just a single column it does the same.</p>\n\n<p><img src=\"http://i.stack.imgur.com/NXthz.png\" alt=\"Entity Framework Model\"></p>\n\n<p>I try to return this model with the following code.</p>\n\n<pre><code>' GET api/chatlog\nPublic Function GetValues() As IEnumerable(Of ChatLog)\n    Using mcEntity As New McEntities\n\n        Return mcEntity.ChatLogs.ToList()\n    End Using\nEnd Function\n</code></pre>\n\n<p>Unfortunate for me with the return data. I get nothing?</p>\n\n<p>Does MVC Web API not support passing objects from EF down the pipe or do I manually have to Serialize this into XML?</p>\n\n<p>Fiddler throws \"HTTP/1.1 500 Internal Server Error\"</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","nested-forms"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":12963336,"title":"Nested model/form doesn't create an entry","body":"<p>While delving into ruby's nested models I encountered an issue.</p>\n\n<p>Consider the following scenario, </p>\n\n<p>I have the following models:</p>\n\n<ul>\n    <li>Author</li>\n    <li>Book</li>\n</ul>\n\n<p>With the following specifications:</p>\n\n<p><b>Author:</b></p>\n\n<pre><code>class Author &lt; ActiveRecord::Base\n  attr_accessible :name\n  has_many :books, dependent: :destroy\n\n  accepts_nested_attributes_for :books #I read this is necessary here: http://stackoverflow.com/questions/12300619/models-and-nested-forms\n\n  # and some validations...\nend\n</code></pre>\n\n<p><b>Book:</b></p>\n\n<pre><code>class Book &lt; ActiveRecord::Base\n  attr_accessible :author_id, :name, :year\n  belongs_to :author\n\n  #and some more validations...\nend\n</code></pre>\n\n<p><strong>I would like to add a book to an author. Here is my authors_controller:</strong></p>\n\n<pre><code>def new_book\n  @author = Author.find(params[:id])\nend\n\ndef create_book\n  @author = Author.find(params[:id])\n  if @author.books.create(params[:book]).save\n    redirect_to action: :show\n  else\n    render :new_book\n  end\nend\n</code></pre>\n\n<p><strong>And this is the form with which I try doing it:</strong></p>\n\n<pre><code>&lt;h1&gt;Add new book to &lt;%= @author.name %&gt;'s collection&lt;/h1&gt;\n&lt;%= form_for @author, html: { class: \"well\" } do |f| %&gt;\n    &lt;%= fields_for :books do |b| %&gt;\n        &lt;%= b.label :name %&gt;\n        &lt;%= b.text_field :name %&gt;\n        &lt;br/&gt;\n        &lt;%= b.label :year %&gt;\n        &lt;%= b.number_field :year %&gt;\n    &lt;% end %&gt;\n    &lt;br/&gt;\n    &lt;%= f.submit \"Submit\", class: \"btn btn-primary\" %&gt;\n    &lt;%= f.button \"Reset\", type: :reset, class: \"btn btn-danger\" %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><b>Problem:</b>\nWhen I type in the data and click \"submit\" it even redirects me to the correct author, but it doesn't save a new record for that author.\nAfter a lot of research I can't seem to find what I am doing wrong here.</p>\n"},{"tags":["mvc","controller","use-case"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12957428,"title":"MVC, controller - use cases","body":"<p>I've learned that you should set up the controller-class in a MVC-OOD as a use case, from top to bottom in only one method that run the MVC-classes.</p>\n\n<p>Is it OK to use different methods in one controller to get more control and better overview?</p>\n\n<p>Let's say you wanna run a controller that will display a login form (getting the html etc from the View). And the same controller will also display a log-out button IF the user is NOT logged in.\nThis could be done with a single method in the controller, but using two methods seems better. One method to call if you want the login form, and one to call if you want to log-out button.\n(just an example)</p>\n\n<p>So, what does the pros say. Should each controller contain one \"use case\" method only, or could it be several?</p>\n"},{"tags":["javascript","mvc","architecture"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":606,"score":3,"question_id":1587037,"title":"How to structure Javascript architecture to complement a PHP MVC web app?","body":"<p>I am working on a new JavaScript architecture for a web app iteration. The previous iteration had lots of inline code, scattered includes, no directory structure for .js files and everything was in the global namespace. I am aiming to: keep the script includes in the footer, keep everything in an application namespace/object, add organization to the .js files and minify all the application specific files in to one bundle.js</p>\n\n<p>I am trying to take a modular approach based on Nicholas Zakas: “Scalable JavaScript Application Architecture” <a href=\"http://www.yuiblog.com/blog/2009/09/17/video-bayjax-sept-09/\" rel=\"nofollow\">http://www.yuiblog.com/blog/2009/09/17/video-bayjax-sept-09/</a></p>\n\n<p>the site is currently structred like so</p>\n\n<pre><code>/app\n /models\n /views\n   /home\n   /auth\n   /meta\n     about.tpl\n     contact.tpl\n     privacy.tpl\n /controllers\n   home.php\n   auth.php\n   meta.php\n /public\n  /js\n   core.js\n   /modules\n     module files here\n   /jquery\n     jqueryplugins here\n   /controllers\n     home.js\n     auth.js\n     meta.js\n</code></pre>\n\n<p>the controllers have methods which correspond to our url routing and view rendering. For example <code>http://localhost/meta/contact</code> would call the \"contact\" action on the \"meta\" controller and render the meta/contact template.</p>\n\n<p>I am planning the js architecture around a single initialization call to the apps global object passing it the controller and method as arguments i.e. </p>\n\n<pre><code>localwebapp.init(controller, method);\n</code></pre>\n\n<p>At this point in the design I am struggling on inheritance and module implementation. Some modules will be global and be used throughout all the site, some modules will be used through out specific controllers, and some modules will be on controller actions only.\nModules are independent and will not communicate with each other they will need to be assigned to a \"sandbox\" which they will check with for event triggers</p>\n\n<p>I'm thinking I will need sandbox and module classes. The controller scripts will basically be a few lines of modules being assigned to the sandbox and initialized.</p>\n\n<p>Let me know if I am reinventing a wheel here. Any direction is much appreciated. I have looked in to javascript MVC frame works like JavaScriptMVC but it looks like it is not what I need</p>\n"},{"tags":["c#","mvc","asp.net-mvc-routing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":248,"score":0,"question_id":9082581,"title":"Dynamically adding to RouteTable isnt working","body":"<p>I am currently writing a news article aspect to an application and I adding the new route (for the new article) to my RouteTable, which appears to add fine, but the routes are unreachable?</p>\n\n<p>The code I am using is as follows:</p>\n\n<pre><code>var routes = RouteTable.Routes;\nusing (routes.GetWriteLock())\n{\n    var url = contentHelper.GetPageUrl(page);\n    routes.MapRoute(page.Id.ToString(), url, new { controller = \"Cms\", action = \"Index\", id = url }, new[] { \"Web.Controllers.CmsController\" });\n}\n</code></pre>\n\n<p>The new Url, as I previously said, is added to the RouteTable.Routes but I cant get to the page. After a restart it is picked up by RegisterRoutes in the Global.asax and works fine.</p>\n\n<p>Any light that you can shed on this would be great, as I want to achieve this without forcing an app restart</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is the RegisterRoutes from my global.asax   </p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        routes.MapRoute(\"LogOff\", \"LogOff\", new { controller = \"Account\", action = \"LogOff\" });\n\n        routes.MapRoute(\n                \"News\", // Route name\n                \"News/\",// URL with parameters\n                new { controller = \"NewsPage\", action = \"Index\" }, // Parameter defaults\n                new[] { \"Web.Controllers.NewsController\" }\n            );\n\n        //register all content pages\n        var urls = new ContentPageHelper().GetAllUrls();\n        foreach (var url in urls)\n        {\n            routes.MapRoute(url.Key.ToString(), url.Value, new { controller = \"Cms\", action = \"Index\", id = url.Key }, new[] { \"Web.Controllers.CmsController\" });\n        }\n\n        routes.MapRoute(\n            \"Default\", // Route name\n            \"{controller}/{action}/{id}\",// URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n        );\n    }\n</code></pre>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","asp.net-mvc-2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":12960490,"title":"TextBox Value gets blank on Submit","body":"<p>I created a application in MVC2 by choosing (ASP.Net MVC 2 Web Application). This provided some Home/About Controllers/Models/Views.</p>\n\n<h2>I additionally created a Model with the Name of Index like below...</h2>\n\n<pre><code>namespace MvcApplication1.Models\n{\n    public class Index\n    {\n        [DataType(DataType.Text)]\n        public String Name { get; set; }\n    }\n}\n</code></pre>\n\n<h2>Following is my Index View</h2>\n\n<pre><code>&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&gt;\n    Index\n&lt;/asp:Content&gt;\n&lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n    &lt;% using (Html.BeginForm()) \n        {%&gt;\n    &lt;%:Html.TextBoxFor(x=&gt; x.Name) %&gt;\n    &lt;input type=\"submit\" name=\"Click here\" /&gt;\n    &lt;%} %&gt;\n&lt;/asp:Content&gt;\n</code></pre>\n\n<h2>Following is my Controller</h2>\n\n<pre><code>[HttpPost]\npublic ActionResult Index(Index Model)\n{\n      ViewData[\"Message\"] = \"Welcome to ASP.NET MVC!\";\n      return View();\n}\n</code></pre>\n\n<h2>Question</h2>\n\n<p>When I keep the Index controller like below. and If I click the submit button. This is clearing the TextBox COntrols. Like below</p>\n\n<pre><code>    public ActionResult Index()\n    {\n          ViewData[\"Message\"] = \"Welcome to ASP.NET MVC!\";\n          return View();\n    }\n</code></pre>\n\n<p>TextBox will not be cleared in case in incorporating the Model as Parameter in the Action method...</p>\n\n<p>What's the reason for this behaviour ?</p>\n"},{"tags":["database","mvc","activerecord","yii","models"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":861,"score":1,"question_id":9835160,"title":"Yii ActiveRecord Not Working Properly","body":"<p>I created a a model using Gii code generator to ensure that I will not have any mistakes in creating my models.\nand this was the code that was generated.</p>\n\n<pre><code>&lt;?php\n\n/**\n * This is the model class for table \"siteconfig\".\n *\n * The followings are the available columns in table 'siteconfig':\n * @property integer $config_id\n * @property string $key\n * @property string $value\n * @property string $update_time\n */\nclass SiteConfigurationRecord extends CActiveRecord\n{\n    /**\n     * Returns the static model of the specified AR class.\n     * @param string $className active record class name.\n     * @return SiteConfigurationRecord the static model class\n     */\n    public static function model($className=__CLASS__)\n    {\n        return parent::model($className);\n    }\n\n    /**\n     * @return string the associated database table name\n     */\n    public function tableName()\n    {\n        return 'siteconfig';\n    }\n\n    /**\n     * @return array validation rules for model attributes.\n     */\n    public function rules()\n    {\n        // NOTE: you should only define rules for those attributes that\n        // will receive user inputs.\n        return array(\n            array('key, value, update_time', 'required'),\n            array('key', 'length', 'max'=&gt;255),\n            // The following rule is used by search().\n            // Please remove those attributes that should not be searched.\n            array('config_id, key, value, update_time', 'safe', 'on'=&gt;'search'),\n        );\n    }\n\n    /**\n     * @return array relational rules.\n     */\n    public function relations()\n    {\n        // NOTE: you may need to adjust the relation name and the related\n        // class name for the relations automatically generated below.\n        return array(\n        );\n    }\n\n    /**\n     * @return array customized attribute labels (name=&gt;label)\n     */\n    public function attributeLabels()\n    {\n        return array(\n            'config_id' =&gt; 'Config',\n            'key' =&gt; 'Key',\n            'value' =&gt; 'Value',\n            'update_time' =&gt; 'Update Time',\n        );\n    }\n\n    /**\n     * Retrieves a list of models based on the current search/filter conditions.\n     * @return CActiveDataProvider the data provider that can return the models based on the search/filter conditions.\n     */\n    public function search()\n    {\n        // Warning: Please modify the following code to remove attributes that\n        // should not be searched.\n\n        $criteria=new CDbCriteria;\n\n        $criteria-&gt;compare('config_id',$this-&gt;config_id);\n        $criteria-&gt;compare('key',$this-&gt;key,true);\n        $criteria-&gt;compare('value',$this-&gt;value,true);\n        $criteria-&gt;compare('update_time',$this-&gt;update_time,true);\n\n        return new CActiveDataProvider($this, array(\n            'criteria'=&gt;$criteria,\n        ));\n    }\n}\n?&gt;\n</code></pre>\n\n<p>so i use this model in a controller in this way</p>\n\n<pre><code>$etona = new SiteConfigurationRecord();\n            $crit = new CDbCriteria();\n            $crit-&gt;select = \"value\";\n            $crit-&gt;condition = \"key=:key\";\n            $crit-&gt;params = array(\":key\"=&gt;\"sitename\");\n            $etona = $etona-&gt;find($crit);\n</code></pre>\n\n<p>But a strange error occurs</p>\n\n<blockquote>\n  <p>CDbCommand failed to execute the SQL statement: SQLSTATE[42000]:\n  Syntax error or access violation: 1064 You have an error in your SQL\n  syntax; check the manual that corresponds to your MySQL server version\n  for the right syntax to use near 'key='sitename' LIMIT 1' at line 1.\n  The SQL statement executed was: SELECT value FROM <code>siteconfig</code> <code>t</code>\n  WHERE key=:key LIMIT 1</p>\n</blockquote>\n\n<p>Where I went wrong? please help me</p>\n"},{"tags":["c++","mvc","treeview","gtk","gtkmm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12926440,"title":"Gtk::TreeModel::iterator usage when implementing TreeModel","body":"<p>I am trying to implement own TreeModel for use in TreeView.</p>\n\n<p>I have subclassed Gtk::TreeModel and currently trying to override virtual methods with my own implementation.</p>\n\n<p>But i have a problem with very basics of it. Say, we have</p>\n\n<pre><code>virtual bool iter_next_vfunc(const iterator &amp;iter, iterator &amp;iter_next) const;\n</code></pre>\n\n<p>function where i am supposed to read <code>iter</code> variable, somehow understand where it points to and based on this, fill <code>iter_next</code> with point next to the current. </p>\n\n<p>But i do not understand how to do this. </p>\n\n<p>What is 'index', 'pointer' or whatever based on what i could understand where <code>iter</code> is pointing to?</p>\n"},{"tags":["php","mvc","templates","magento","content-management-system"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":12957035,"title":"Magento : Page selection is missing with custom product list","body":"<p>I have written a controller which generates a product collection based on the requested category and a attribute filter.</p>\n\n<p>I generate the render with this code :</p>\n\n<pre><code>public function AfficherCollection($collection){\n if ($collection){\n  Mage::getSingleton('catalog/product_visibility')-&gt;addVisibleInCatalogFilterToCollection($collection);       \n  $magento_block = Mage::getSingleton('core/layout');\n  $productsHtml  = $magento_block-&gt;createBlock('catalog/product_list');\n  $productsHtml -&gt;setTemplate('catalog/product/list.phtml')-&gt;setCollection($collection);\n  echo $productsHtml-&gt;toHTML();\n }  \n}\n</code></pre>\n\n<p>The render works well but the problem is the page selector is missing.\nBut if I call my page with <code>?p=2</code> in page argument ; I have the desired products, so there are not any functional problems but still a page layout problem.</p>\n\n<p>Have you got an idea ?\nThank you!</p>\n"},{"tags":["ajax","spring","mvc","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12957193,"title":"Spring MVC 3.0 - restrict what gets routed through the dispatcher servlet","body":"<p>I want to use Spring MVC 3.0 to build interfaces for AJAX transactions.  I want the results to be returned as JSON, but I don't necessarily want the web pages to be built with JSP.  I only want requests to the controllers to be intercepted/routed through the DispatcherServlet and the rest of the project to continue to function like a regular Java webapp without Spring integration.</p>\n\n<p>My thought was to define the servlet-mapping url pattern in web.xml as being something like \"/controller/*\", then have the class level @RequestMapping in my controller to be something like @RequestMapping(\"/controller/colors\"), and finally at the method level, have @RequestMapping(value = \"/controller/colors/{name}\", method = RequestMethod.GET). </p>\n\n<p>Only problem is, I'm not sure if I need to keep adding \"/controller\" in all of the RequestMappings and no matter what combo I try, I keep getting 404 requested resource not available errors.</p>\n\n<p>The ultimate goal here is for me to be able to type in a web browser \"http://localhost:8080/myproject/controller/colors/red\" and get back the RGB value as a JSON string.</p>\n"},{"tags":["mvc","node.js","express"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12943553,"title":"What is the difference between a node.js express route and a controller?","body":"<p>Is there anything that is different or more powerful with a traditional controller over an express route?  </p>\n\n<p>If you have an express app and define models, does it become an MVC application, or is there more necessary?</p>\n\n<p>I'm just wondering if I'm missing out on extra/easier functionality in my node express apps by not upgrading to a more legitimate 'controller'.  If there is such a thing.</p>\n\n<p>Thanks!</p>\n\n<p>Edit:  To clarify, if you use a route like so:</p>\n\n<pre><code>// routes/index.js\nexports.module = function(req, res) {\n  // Get info from models here, \n  res.render('view', info: models);\n}\n</code></pre>\n\n<p>What makes it any different from a controller?  Is a controller able to do more?  </p>\n"},{"tags":["javascript","mvc","data-binding","angularjs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1147,"score":2,"question_id":11616636,"title":"two-way filtering in angular.js?","body":"<p>One of the interesting things Angular.js can do is apply a filter to a particular databinding expression, which is a convenient way to apply, for example, culture-specific currency or date formatting of a model's properties. It is also nice to have computed properties on the scope. The problem is that neither of these features work with two-way databinding scenarios - only one-way databinding from the scope to the view. This seems to be a glaring omission in an otherwise excellent library - or am I missing something?</p>\n\n<p>In KnockoutJS, I could create a read/write computed property, which allowed me to specify a pair of functions, one which is called to get the value of the property, and one which is called when the property is set. This allowed me to implement, for example, culture-aware input - letting the user type \"$1.24\" and parsing that into a float in the ViewModel, and have changes in the ViewModel reflected in the input. </p>\n\n<p>The closest thing I could find similar to this is the use of $scope.$watch(propertyName, functionOrNGExpression); This allows me to have a function invoked when a property in the $scope changes. But this doesn't solve, for example, the culture-aware input problem. Notice the problems when I try to modify the $watched property within the $watch method itself:</p>\n\n<p><a href=\"http://jsfiddle.net/gyZH8/2/\" rel=\"nofollow\">http://jsfiddle.net/gyZH8/2/</a></p>\n\n<p>Edit: fixed the link</p>\n\n<p>The input element gets very confused when the user starts typing. I improved it by splitting the property into two properties, one for the unparsed value and one for the parsed value:</p>\n\n<p><a href=\"http://jsfiddle.net/XkPNv/1/\" rel=\"nofollow\">http://jsfiddle.net/XkPNv/1/</a></p>\n\n<p>Edit: fixed the link</p>\n\n<p>This was an improvement over the first version, but is a bit more verbose, and notice that there is still an issue of the parsedValue property of the scope changes (type something in the second input, which changes the parsedValue directly. notice the top input does not update). This might happen from a controller action or from loading data from a data service.</p>\n\n<p>Is there some easier way to implement this scenario using Angular.js? Am I missing some functionality in the documentation? </p>\n"},{"tags":["php","mysql","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":69,"score":2,"question_id":12956099,"title":"MVC - if query in a model of an object graps all needed data, can child object be without model?","body":"<p>Consider the following part of a web-app:\nA wall which contains an unknown number of blocks, which themselves contain an unknown number of boxes.</p>\n\n<p>My approach (yet on paper only, sorry no code) will be to create a <code>class wall</code>, a <code>class block</code> and a <code>class box</code>. (wall contains blocks contain boxes). (each block and each box may have different param values)</p>\n\n<p>In my database, I have information about the wall, about the blocks and about the boxes in separate tables. Yet, with only one large (but optimized) query I can grab all data I need. (each box has the id of its parent block). Correct me if i'm wrong, but lowering the number of queries and relying more on php stuff seems to be the right way to improve speed. </p>\n\n<p>Based on that, I was wondering :\nFollowing an MVC pattern/structure, should <code>block</code> and <code>box</code> also have a Model, even if the query in my wall Model already grabs all the needed information? Or is that just not the right way to go?</p>\n\n<p>Thank you!</p>\n"},{"tags":["asp.net-mvc","mvc","azure","acs","iprincipal"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12486649,"title":"Extending Azure ACS Claims for MVC Sessions","body":"<p>I am developing an MVC 4 Application to be hosted in Azure and want to use their ACS service for authentication. Once the user is authenticated I will use the resulting claim details to correlate to my local records. Subsequent to that, I would like to extend the claimset to include additional claims that represent local authorizations which my application would use for authorization decisions. I assume I need to replace the Principle but I'm not sure where/when to do this in MVC and want to avoid breaking any of the authentication plumbing which would normally be used throughout the life of the session. Can anyone shed some light on this? </p>\n"},{"tags":["php","mvc","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12953444,"title":"Symfony - Show price based on Authentication Role","body":"<p>I have different Authentication Roles set up in Symfony using the Security Bundle.</p>\n\n<pre><code>* Wholesale\n* Detailing\n* Public\n</code></pre>\n\n<p>Based on the authentication that the user is logged in with I want to display different prices for products.</p>\n\n<p>In my Product entity I have </p>\n\n<pre><code>$protected wholesalePrice;\n$protected detailingPrice;\n$protected publicPrice;\n</code></pre>\n\n<p>Can I use one view to get the price for that specific Authentication Role or should I create 3 different views?</p>\n"},{"tags":["javascript","asp.net-mvc","mvc","tooltip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":12217972,"title":"custom tooltip in MVC on a table - show data per line","body":"<p>I am struggling to get an intuitive tooltip to display per line in my MVC application.</p>\n\n<pre><code>   @foreach (var item in Model)\n{\n\n    int countSDOL = (item.sdolDetails.Count(i =&gt; i.userid == item.id));\n    int workFlow = (item.workflows.Count(i =&gt; i.actionOutstanding == true));     \n    @Html.HiddenFor(modelItem =&gt; item.id)\n    &lt;tr style=\"@(workFlow &gt; 0 ? \"Background-color:#87BEF5\" : \"\")\"&gt;\n    &lt;td&gt;\n         @if (workFlow &gt; 0)\n            {     \n\n                &lt;button id=\"quickButton\" class=\"classname\" value=\"@item.id\" data-task-id=\"@item.id\"&gt;Actions&lt;/button&gt;\n            }\n    &lt;/td&gt;\n    &lt;td&gt;\n             &lt;div class=\"tooltip\"&gt;\n               @foreach (var role in item.userRoles)\n               {\n                    &lt;div title=\"\"&gt;\n                    @Html.DisplayFor(roles =&gt; role.role.roleDescription) \n                    &lt;/div&gt;\n               }                        \n          &lt;/div&gt;  \n     &lt;/td&gt;\n      &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.title)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.forename)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.surname)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.employeeNumber)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.sdolInitiation)\n        &lt;/td&gt;\n        &lt;td align=\"center\"&gt;\n            @if (item.trainingTrackerPassed.Equals(true))\n            {\n                &lt;img src=\"../../Content/tick.png\" /&gt;\n            }\n            else\n            {\n                &lt;img src=\"../../Content/cross.PNG\" /&gt;\n            }\n        &lt;/td&gt;\n        &lt;td align=\"center\"&gt;\n        @if (item.userValid.Equals(true))\n        {\n                &lt;img src=\"../../Content/tick.png\" /&gt;\n        }\n        else\n        {\n                &lt;img src=\"../../Content/cross.PNG\" /&gt;\n        }\n\n        &lt;/td&gt;\n        &lt;td align=\"left\"&gt;\n            @Html.ActionLink(\"Details\", \"Details\", new { id = item.id }) |\n            @Html.ActionLink(\"Roles\", \"Index\", \"Roles\", new { id = item.id }, null) |\n           @if (countSDOL == 0)\n           {\n            @Html.ActionLink(\"SDOL\", \"Create\", new { id = item.id }, null)                                       \n           }\n           else\n           {\n            @Html.ActionLink(\"SDOL\", \"Sdol\", new { id = item.id }, null)   \n           }        \n        &lt;/td&gt;\n        &lt;td&gt;\n         &lt;a id=\"download_now\"&gt;show&lt;/a&gt;   \n        &lt;/td&gt;\n    &lt;/tr&gt;\n\n}\n</code></pre>\n\n<p>Above is my view. Notice the nested @foreach in there. This shows for each row in the table a list of roles assigned for that row. </p>\n\n<p>What I really need to do is show this div containing the roledescriptions as a tool tip per line. I tried downloading and using jquery tools and managed to get it to display a tool tip, but it would only work on the first row of the table. each subsequent row wouldn't display a tooltip. looking at the examples on their site, there is only examples of tooltip one value for an entire table.. has anyone done what I am trying to achieve??</p>\n\n<p>Many thanks</p>\n"},{"tags":["objective-c","ios","mvc","core-data","gridview"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":216,"score":3,"question_id":12841635,"title":"How to implement more than one controller in objective C","body":"<p>First of all I don't know If controller is the right word. What I want to achieve is this.</p>\n\n<pre><code>   @interface ClubViewController : CoreDataTableViewController :NRGridViewController\n   {\n</code></pre>\n\n<p>I know that this is not possible in objective-C. But is there a way to work around this? \nBecause I want to use CoreDateTableViewController and NRGridViewController.</p>\n\n<p>Kind regards</p>\n\n<p>Stef\n<strong>EDIT</strong></p>\n\n<p>This is how my storyboard Hierarchy looks like.</p>\n\n<pre><code>-ViewController\n  -TableView\n      -View\n      -TableViewCell\n</code></pre>\n\n<p>So I have a tableview Controller but above this tableview controller you find a small view with three buttons. When I push on button 1 I want to take the tableview away and draw a gridView with the NRGridview Controller. But when I push on button 2 and 3 I fill up my tableview using the CoreDataTableViewController. </p>\n\n<p>I hope this explains more my problem.</p>\n"},{"tags":["asp.net-mvc","mvc","design-patterns","architecture","orchardcms"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12926934,"title":"Modular enterprise architecture using MVC and Orchard CMS","body":"<p>I'm making a large scale MVC application using Orchard. And I'm going to be separating my logic into modules. I'm also trying to heavily decouple the application for maximum extensibility and testability.</p>\n\n<p>I have a rudimentary understanding of IoC, Repository Pattern, Unit of Work pattern and Service Layer pattern.</p>\n\n<p>I've made myself a diagram. I'm wondering if it is correct and if there is anything I have missed regarding an extensible application.</p>\n\n<p>Note that each module is a separate project.</p>\n\n<p><img src=\"http://i.stack.imgur.com/b8da2.png\" alt=\"Architecture diagram\"></p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>So I have many UI modules that use the db module, that's why they've been split up. There are other services the UI modules will use. The UI modules have been split up because they will be made over time, independent of each other. </p>\n"},{"tags":["php","json","mvc","kohana"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12942815,"title":"Marshalling information from JSON into MVC model classes","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12902971/php-mvc-convert-json-to-model-data\">PHP MVC - Convert JSON to Model data</a>  </p>\n</blockquote>\n\n\n\n<p>Is there an easy way using vanilla PHP, a PHP library, or Kohana to easily marshall information from a json encoded object into a Kohana MVC model object? The json_encoded object has the same fields as the model object, but none of the functionality. Is there a generally accepted way of avoiding this silly dance? </p>\n\n<p>It just feels like I am constantly writing code to move data around with code like:</p>\n\n<pre><code>$array = json_decode(returnsObject());\n$model = Model::factory(\"model\");\n$model-&gt;field1 = $array['field1'];\n$model-&gt;field2 = $array['field2'];\n.....\n</code></pre>\n\n<p>Now obviously I have this in a method, but it seems outlandish that there is not a better method of doing this.</p>\n"},{"tags":["java","spring","mvc","mvvm","architecture"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":174,"score":4,"question_id":12883759,"title":"Maintaining Clean Architecture in Spring MVC with a data-centric approach","body":"<h1>Maintaining Clean Architecture in Spring MVC with a data-centric approach</h1>\n\n<p>I'm trying to map out the architecture for the front-end of a new Java-based web app (portal type application) we are making at work. I want to get this right from day one, and I would like to kick off a discussion here to help me implement Uncle Bob's <a href=\"http://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html\" rel=\"nofollow\">Clean Architecture</a> in my architectural design.</p>\n\n<p>Here's a quick run-down of our tech stack, top to bottom (the technology isn't importance, the structure is):</p>\n\n<ul>\n<li>Oracle Database</li>\n<li>Oracle Service Bus exposing services using WSDLs</li>\n<li>JAX-WS generated Java-classes from the WSDLs (let's call this the \"generated service layer\")</li>\n<li>A Domain module consisting of POJOs mapped to the generated data objects</li>\n<li>A Consumer-module exposing the \"generated service layer\" to the front-end application</li>\n<li>A Spring MVC based front-end module using FreeMarker to render the views</li>\n</ul>\n\n<p>A key point:</p>\n\n<blockquote>\n  <p>In particular, the name of something declared in an outer circle must not be mentioned by the code in the an inner circle. That includes, functions, classes. variables, or any other named software entity.</p>\n</blockquote>\n\n<p>Attempting to adhere to Bob's Clean Architecture, I've gone back and forth a bit with myself regarding where to place the <em>application logic</em>, namely the \"Use Case\"-layer in his architecture.</p>\n\n<p>Here is the approach I've come up with:</p>\n\n<h2>Layer 1 - Entities</h2>\n\n<blockquote>\n  <p>Entities encapsulate Enterprise wide business rules. </p>\n</blockquote>\n\n<p>This is where our Domain module containing the <em>domain-objects</em> lives, these are self-containing objects with minimal dependencies on each other. Only logic pertaining to the objects themselves may live on these domain objects, and no use-case specific logic.</p>\n\n<p>Access to our database is exposed via WSDLs using a service bus that transforms the data, as opposed to an ORM like JPA or Hibernate. Because of this, we do not have \"entities\" in the traditional sense (with Ids), but a <em>data-centric approach</em> making this layer a data access layer, presented to the rest of the application by the Consumer-module.</p>\n\n<h2>Layer 2 - Use Cases</h2>\n\n<blockquote>\n  <p>The software in this layer contains application specific business rules.</p>\n</blockquote>\n\n<p>This is where logic specific to our application's use cases lives. Changes to this layer should not affect the data access layer (layer 1). Changes to the GUI or framework implementation (Spring MVC) should not affect this layer.</p>\n\n<p><strong>This is where it gets a little tricky:</strong>\nSince our data access layer (in layer 1) must be kept clean of application logic, we need a layer that facilitates use of that layer in a fashion that suits the use cases. One solution I've found to this problem is the use a variant of the \"<em>MVVM-pattern</em>\" that I choose to call <em>MVC-VM</em>. See below for an explanation. The \"VM\"-part of this lives in this Use Case-layer, represented by <code>*ViewModel</code>-classes that encapsulate this Use Case-specific logic.</p>\n\n<h2>Layer 3 - Interface Adapters</h2>\n\n<blockquote>\n  <p>The software in this layer is a set of adapters that convert data from the format most convenient for the use cases and entities, to the format most convenient for some external agency such as the Database or the Web.</p>\n</blockquote>\n\n<p>This is where the MVC-architecture of our GUI lives (the \"MVC\" in our \"MVC-VM\"). Essentially this is when the <code>Controller</code>-classes get data from the <code>*ViewModel</code>-classes and puts it in Spring MVC's <code>ModelMap</code> ojects that are used directly by the FreeMarker-templates in the View.</p>\n\n<p>The way I see it, the servicebus would in our case also fall in under this layer.</p>\n\n<h2>Layer 4 - Frameworks and Drivers</h2>\n\n<blockquote>\n  <p>Generally you don’t write much code in this layer other than glue code that communicates to the next circle inwards.</p>\n</blockquote>\n\n<p>This layer is really just a configuration-layer in our application, namely the Spring configuration. This would for example be where we specify that FreeMarker is used to render the view.</p>\n\n<hr>\n\n<h3>Model View ViewModel Pattern</h3>\n\n<blockquote>\n  <p>MVVM facilitates a clear separation of the development of the graphical user interface (either as markup language or GUI code) from the development of the business logic or back end logic known as the model (also known as the data model to distinguish it from the view model). The view model of MVVM is a value converter meaning that the view model is responsible for exposing the data objects from the model in such a way that those objects are easily managed and consumed.</p>\n</blockquote>\n\n<p>More on the MVVM-pattern at <a href=\"http://en.wikipedia.org/wiki/Model_View_ViewModel\" rel=\"nofollow\">Wikipedia</a>.</p>\n\n<p>The MVC-VM roles would be fulfilled in our application like so:</p>\n\n<ul>\n<li><strong>Model</strong> - represented simply by the <code>ModelMap</code> datastructure in Spring MVC that is used by the view templates.</li>\n<li><strong>View</strong>  - FreeMarker templates</li>\n<li><p><strong>Controller</strong> Spring's <code>Controller</code>-classes that directs <em>HTTP URL requests</em> to specific <em>handlers</em> (and as such functions as a FrontController). The handlers in these classes are responsible for fetching data from the use case-layer and pushing it out to the view templates when showing data(HTTP <code>GET</code>), as well as sending data down for storing (HTTP <code>POST</code>). This way it essentially functions as a <em>binder</em> between the ViewModel and View, using the Model.</p></li>\n<li><p><strong>ViewModel</strong> - These classes are responsible for 1) structuring data from the data access layer in a fashion that is usable by the View and 2) treat data-input from the View. \"Treat\" means to validate and to break down the data so that it can be sent down the stack for storing. This layer would take form as <code>&lt;UseCase&gt;VM</code>-classes in a <code>viewmodel</code> package in our Spring MVC front-end module.</p></li>\n</ul>\n\n<p>A key component here is the implicit binding that happens in Spring MVC between <code>ModelMap</code> and the FreeMarker-templates. The templates only use the model (<code>ModelMap</code>s), where the controller has put the data in a format it can use. That way we can make templates like so:</p>\n\n<pre><code>&lt;body&gt;\n  &lt;h1&gt;Welcome ${user}!&lt;/h1&gt;\n  &lt;p&gt;Our latest product:\n  &lt;a href=\"${latestProduct.url}\"&gt;${latestProduct.name}&lt;/a&gt;!\n&lt;/body&gt;\n</code></pre>\n\n<hr>\n\n<p>I apologize for the verbose explanation, but I could not explain this (relatively simple) architecture in fewer words. </p>\n\n<p>I would greatly appreciate some input on my approach here - am I on the right track? Does the MVC-VM thing make sense? Am I violating any Clean Architecture Principles?</p>\n\n<p>There are of course many solutions to this, but I am trying to find a solution that is 1) not over-engineered and 2) adheres to the principles of Bob's Clean Architecture.</p>\n\n<hr>\n\n<h2>Update:</h2>\n\n<p>I think the key issue that puts me off here is what form the \"Use case\" layer takes in this application. Remember we have an MVC front-end that gets data from a data access layer. If the MVC part fits in Bob's \"Interfaces adapters\", and the domain models of the data layer fit in Bob's \"Entities\" layer, then what do I call the use case classes that implement application logic? I am tempted to just call them <code>&lt;UseCase&gt;Model</code>s and put them in the MVC project, but according to Bob</p>\n\n<blockquote>\n  <p>The models are likely just data structures that are passed from the controllers to the use cases, and then back from the use cases to the presenters and views.</p>\n</blockquote>\n\n<p>so that means my model objects should be \"dumb\" (like a simple <code>Map</code>. <code>ModelMap</code> in Spring) and it is then the responsibility of the controller to put data from the Use Case class into this Map-structure. </p>\n\n<p>So again, what form does my Use Case-classes take? How about <code>&lt;UseCase&gt;Interactor</code>?</p>\n\n<p><strong>But in conclusion</strong> I realize that the MVC-MV-thing is over-engineering (or simply incorrect) - as \"mikalai\" indicates below this essentially just a two-layer applcation in its current form; a data access layer and a front-end MVC layer. Simple as that.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","asp.net-mvc-3"],"answer_count":4,"favorite_count":4,"up_vote_count":8,"down_vote_count":0,"view_count":1872,"score":8,"question_id":4947854,"title":"How to get the column titles from the Display(Name=) DataAnnotation for a strongly typed list scaffold view at runtime?","body":"<p>how do i get the [Display(Name=\"Some Title\")] DataAnnotations \"Some Title\" rendered in the List scaffold view's output?</p>\n\n<p>I create a strongly typed list scaffold view for this class:</p>\n\n<pre><code>public class CompanyHoliday\n{\n    [Key]\n    public int Id { get; set; }\n\n    [Required]\n    [Display(Name = \"Datum\")]\n    [DataType(System.ComponentModel.DataAnnotations.DataType.Date)]\n    public DateTime Date { get; set; }\n\n    [Required]\n    [StringLength(50)]\n    [Display(Name = \"Feiertag Name\")]\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>The view looks like this:</p>\n\n<pre><code>@model IEnumerable&lt;Zeiterfassung.Domain.CompanyHoliday&gt;\n\n@{\n    ViewBag.Title = \"Year\";\n}\n\n&lt;h2&gt;Year&lt;/h2&gt;\n\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;table&gt;\n&lt;tr&gt;\n    &lt;th&gt;&lt;/th&gt;\n    &lt;th&gt;\n        Date\n    &lt;/th&gt;\n    &lt;th&gt;\n        Name\n    &lt;/th&gt;\n&lt;/tr&gt;\n\n@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @Html.ActionLink(\"Edit\", \"Edit\", new { id=item.Id }) |\n        @Html.ActionLink(\"Details\", \"Details\", new { id=item.Id }) |\n        @Html.ActionLink(\"Delete\", \"Delete\", new { id=item.Id })\n    &lt;/td&gt;\n    &lt;td&gt;\n        @String.Format(\"{0:g}\", item.Date)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @item.Name\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n\n&lt;/table&gt;\n</code></pre>\n\n<p>However i don't want \"Date\" and \"Name\" in the table header - i want \"Datum\" and \"Feiertag Name\" rendered there dynamically. </p>\n\n<p>The actual column header titles should come from the Display Dataannotation.</p>\n\n<p>How to do this?</p>\n\n<p>Thanks, toebens</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","architecture","service-layer"],"answer_count":4,"favorite_count":15,"up_vote_count":20,"down_vote_count":1,"view_count":3010,"score":19,"question_id":8735466,"title":"Fat model / thin controller vs. Service layer","body":"<p>I have been developing enterprise applications for many years using .Net \nMy apps usually have a domain model containing entities mapping to SQL DB tables.\nI use a Repository pattern, Dependency injection and a service layer.</p>\n\n<p>Recently we started working on MVC 3 projects and we had a debate where to put which logic.\nI came accross thin Controller / FAT Model architecture and was wondering how the service layer would fit in</p>\n\n<h2>Option 1 - Model talks to services</h2>\n\n<p>Controller is thin, calls methods on the models. The models \"know\" how to load themselfs from the DB and talk to repositories or services.\nE.g. customerModel has a Load(id) method and loads the customer and some child objects like GetContracts().</p>\n\n<h2>Option 2 - Controller talks to services</h2>\n\n<p>Controller asks Services to retrieve model objects. The logic of loading / storing etc. Is in the service layer. The model is a pure entity model with data only.</p>\n\n<p>Why would option 1 be a better choice especially when we talk about enterprise applictions my experience tells me to separate concerns, keep models AND Controllers as thin as possible and have specialized services doing the Business logic (imcl. The DB interaction)</p>\n\n<p>Thanks for all advices and references to good resources.</p>\n"},{"tags":["mvc","openid","asp.net-mvc-4"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":10916299,"title":"OpenId (FB/G+/Live) authentication / membership provider with MVC4?","body":"<p>I once heard either Hanselman or ScottGu saying they are considering adding OpenId membership and authentication provider to MVC4 (likely also web forms). I have not seen this mentioned within MVC4 RC release notes. Any idea whether this will make RTM?</p>\n"},{"tags":["javascript","jquery","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":11632732,"title":"ASP.NET MVC - Automatic notifications when a record is modified?","body":"<p>I have just used the NotifyIcon class in a windows application and I think it is really handy. I'm predominantly a web developer so I just wanted to find out if there is anything similar to this for a website.</p>\n\n<p>The website I want to incorporate this into has a Ticket Management module where users can capture tickets/problems and then get responses to these tickets from my client's employees who handle the ticket.</p>\n\n<p>Obviously I realize that the notification or pop up will need to be shown in the page, but is there a way to put a timer on the specific page, or even the Master page (maybe javascript or JQuery), to poll the database every few minutes and check for recently modified tickets and let the logged in user know that a ticket has been updated?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ajax","mvc","sap","abap","sap-bsp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12838637,"title":"How to use Ajax in BSP?","body":"<p>I am learning BSP framework in SAP. So far I've succeeded to get my MVC model working.</p>\n\n<p>Here is my code.<br> <b> View </b></p>\n\n<pre><code>&lt;body&gt;\n    &lt;z:form&gt;\n   &lt;z:input binding=\"//c/counter\"\n            invisible=\"true\"/&gt;\n    Counter : &lt;z:write binding=\"//c/counter\"/&gt;\n\n    &lt;z:button fcode=\"incr\"\n                      text=\"Increase\"/&gt;\n    &lt;z:button fcode=\"decr\"\n                      text=\"decrease\"/&gt;\n    &lt;/z:form&gt;\n  &lt;/body&gt;\n</code></pre>\n\n<p><b> Controller </b>\n<br> Through fcode I invoke the \"fcode_incr\" method in Controller.\n'c' is a model instance of zcl_counter.\nit has an attribute counter which will be increased by this method.</p>\n\n<pre><code>method fcode_incr.\n   c-&gt;increment( ).\nendmethod.\n</code></pre>\n\n<p>I hope zcl_model is obvious and its code is not relevant here.</p>\n\n<p>The problem when I press the \"increase\" button, server sends a request. When it gets the response, it refresh the page. So i get the incremented value.\nhow can I get it working with Ajax so the page remains without refreshing?</p>\n\n<p>I've already tried Ajax with \"XML page with flowlogic\". \nlike \"Eventhandler-->OnRequest\"</p>\n\n<pre><code>request-&gt;get_form_field('variable').\n</code></pre>\n\n<p>Does it help any further?</p>\n\n<p><b> <i>The right</i> Ajax Call would be </b></p>\n\n<pre><code>$.ajax({\n        url:'ajaxController.do',\n        statusCode:{\n          404: function(){\n            alert(\"not found\");\n          }\n        },\n        success: function(data){\n          $('#viewData').html(data);\n        }\n       }).error(function(){\n          alert(\"failed\");\n});\n</code></pre>\n"},{"tags":["python","django","mvc","data-access-layer","business-logic-layer"],"answer_count":6,"favorite_count":10,"up_vote_count":17,"down_vote_count":0,"view_count":448,"score":17,"question_id":12578908,"title":"Separation of business logic and data access in django","body":"<p>I am writing a project in Django, and I see that 80% of the code is in the file <code>models.py</code>. This code is confusing and after a certain time, I cease to understand what is really happening.</p>\n\n<p>That's what bothers me:</p>\n\n<ol>\n<li>I find ugly, that my model-level (which was supposed to be\nresponsible only for the work with data from a database) is also\nsending some email, walks on api to other services, etc. </li>\n<li>Also, I find it unacceptable placing business logic in the view, because in\nthis way it becomes difficult to control. For example, in my\napplication there are at least three ways in which to create a new\nmodel <code>User</code>, but technically it should create a uniform way. </li>\n<li>I do not always notice when the methods and\nproperties of my models becomes not deterministic and when they becomes to have\nside effects.</li>\n</ol>\n\n<p>It's a simple example:</p>\n\n<pre><code># At first, it was like this:\n\nclass User(db.Models):\n\n    def get_present_name(self):\n        return self.name or 'Anonymous'\n\n    def activate(self):\n        self.status = 'activated'\n        self.save()\n\n# Over time, it turned into this:\n\nclass User(db.Models):\n\n    def get_present_name(self): \n        # property became not deterministic in terms of database\n        # data is taken from another service by api\n        return remote_api.request_user_name(self.uid) or 'Anonymous' \n\n    def activate(self):\n        # method was to have a side effect (send message to user)\n        self.status = 'activated'\n        self.save()\n        send_mail('Your account is activated!', '…', [self.email])\n</code></pre>\n\n<p>What I want is to separate entities in my code:</p>\n\n<ol>\n<li><strong>Entities of my database, database level, \"What contains my application?</strong></li>\n<li><strong>Entities of my application, business logic level, \"What can make my application?\"</strong></li>\n</ol>\n\n<p>My question is: What are the good practices to implement such an approach that can be applied in Django?\nThank you!</p>\n"},{"tags":["php","xml","mvc","joomla","joomla2.5"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12909324,"title":"Add File Uploader to Joomla Admin Component","body":"<p>I made Joomla admin component according to Joomla guide - <a href=\"http://docs.joomla.org/Developing_a_Model-View-Controller_Component/2.5/Developing_a_Basic_Component\" rel=\"nofollow\">http://docs.joomla.org/Developing_a_Model-View-Controller_Component/2.5/Developing_a_Basic_Component</a></p>\n\n<p>In that i need to have file uploader which let user to upload single file. </p>\n\n<p>In administrator\\components\\com_invoicemanager\\models\\forms\\invoicemanager.xml i have defined </p>\n\n<pre><code>&lt;field name=\"invoice\" type=\"file\"/&gt;\n</code></pre>\n\n<p>In the controller administrator\\components\\com_invoicemanager\\controllers\\invoicemanager.php im trying to retrieve that file like below. But its not working (can't retrieve file) </p>\n\n<p>Where am i doing it wrong ?</p>\n\n<p>How can i get file and save it on disk ?</p>\n\n<pre><code>class InvoiceManagerControllerInvoiceManager extends JControllerForm\n{\n    function save(){\n        $file = JRequest::getVar( 'invoice', '', 'files', 'array' );\n        var_dump($file);\n        exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12925666,"title":"CodeIgniter Best Practice Items List","body":"<p>I'm creating an ebay-style (but more simplistic) shop in CodeIgniter and I'd like to know the best way to handle the items code/controllers.</p>\n\n<p>At the moment, I've got a Category controller which is the main controller (in routes). /category/id is supposed to show a list of items for a specific category, and /category or / shows all items.</p>\n\n<p>The category index($id=0){} in the controller loads the category helper which generates the category listing, then I echo it out in the view.</p>\n\n<p>Now I'm up to the stage of adding the items aspect... Users need to be able to add items, view specific items, and the category code needs to be able to show all items or a specific category of items.</p>\n\n<p>I was thinking of having a items controller with add_item, view_item, however now I'm wondering how I should be fetching the category listing from within the categories controller.</p>\n\n<p>Should I have a items helper that loads the items model, fetches the list of items based off the category, assigns the list to a variable and echos the list? And when a user wants to view a specific item it loads the item controller view_item, and for adding add_item etc?</p>\n\n<p>I also want the categories to display whilst they're viewing an item, so if I do it this way I'll also need to load the category helper within the items controller... Is this bad practice due to code repetition?</p>\n"},{"tags":["mvc","jsp","servlets","resultset"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":61,"score":-1,"question_id":12917395,"title":"Use ResultSet object in JSP without JSTL","body":"<p>I want to pass my query's result i.e ResultSet to JSP just for the display as i am using MVC framework.</p>\n\n<p>My Servlet Code:</p>\n\n<pre><code>Connection c=Connectivity.dbConnect();\n       PreparedStatement ps=c.prepareStatement(\"select role from login where userid=? and password=?\");\n       ps.setString(1,userid);\n       ps.setString(2,pass);\n       ResultSet rs=ps.executeQuery();\n\n     if(rs.next())\n     {\n\n          if(rs.getString(1).equals(\"admin\"))\n                   {\n\n           ps=c.prepareStatement(\"select * from user where userid=?\");\n           ps.setString(1,userid);\n           rs=ps.executeQuery();   \n           Result r=ResultSupport.toResult(rs);          \n           request.setAttribute(\"res\",r);       \n\n           rs.close();\n           c.close();\n           return mapping.findForward(\"us\");//to User.jsp\n\n\n                   }\n      }\n</code></pre>\n\n<p>I've used ResultSupport.toResult() to forward it to JSP (forwarded by 'us' mapping) but that requires JSTL code in JSP :</p>\n\n<p>User.jsp -</p>\n\n<pre><code>&lt;c:forEach var=\"data\" items=\"${requestScope.res.rows}\"&gt;\n      &lt;h1&gt;${data.userid}&lt;/h1&gt;\n               &lt;h2&gt;${data.name}&lt;/h2&gt;\n               &lt;h2&gt;${data.password}&lt;/h2&gt;\n               &lt;h2&gt;${data.emailid}&lt;/h2&gt;\n  &lt;/c:forEach&gt;\n</code></pre>\n\n<p>Moreover if i directly pass ResultSet like <code>request.setAttribute(\"ResultSet\",rs);</code>  i wouldn't be able to close the connection in JSP.</p>\n\n<p>This Code works fine but i do NOT want to use JSTL/EL or Lists , i want to use scriplets in JSP that can handle Result or ResultSet attribute from Servlet. </p>\n"},{"tags":["php","mysql","mvc","frameworks","cakephp-1.2"],"answer_count":9,"favorite_count":8,"up_vote_count":11,"down_vote_count":1,"view_count":2795,"score":10,"question_id":3060699,"title":"PHP Framework Benefits / Downfalls","body":"<p>I have been a PHP developer for about 10 years now and until about a month ago I have never used a framework.</p>\n\n<p>The framework I am now using due to an existing codebase is cakePHP 1.2</p>\n\n<p>I can see certain benefits of the frameworks with the basic helpers like default layouts. I can definitely see the benefits of MVC keeping the logic separate etc. But the query building just seems to be bloated. Is this expected? </p>\n\n<p>Am I likely to be able to build better queries than the framework could build? I just feel I  could get my apps running better without a framework.</p>\n\n<p>What are your thoughts?</p>\n"},{"tags":["javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":52,"score":-6,"question_id":12927139,"title":"Is there any good book/tutorials on Javascript mvc frameworks like stealJS, backbone ?","body":"<p>how to i get started on Javascript mvc frameworks like stealJS, backbone ? </p>\n"},{"tags":["php","unit-testing","mvc","activerecord","fuelphp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12926411,"title":"Unit Testing a FuelPHP Model","body":"<p>So I have a very simple (at least right now it is) model that returns a contact via it's primary key ID:</p>\n\n<pre><code>class Model_Contact extends \\Fuel\\Core\\Model\n{\n    public function get_by_id($contact_id)\n    {\n        return Entity_Contact::find_by_pk($contact_id);\n    }\n}\n</code></pre>\n\n<p>The <code>Entity_Contact</code> class looks like this (irrelevant array content omitted):</p>\n\n<pre><code>class Entity_Contact extends \\Core\\Entity_Base\n{\n    protected static $_table_name = 'contacts';\n    protected static $_properties = array(...);\n    protected static $_public_settable_properties = array(...);\n    protected static $_rules = array(...);\n}\n</code></pre>\n\n<p>Note: <code>\\Core\\Entity_Base</code> extends <code>\\Fuel\\Core\\Model_Crud</code></p>\n\n<p>I might use this in a controller like so:</p>\n\n<pre><code>$model = new Model_Contact();\n$contact = $model-&gt;get_by_id(4);\n</code></pre>\n\n<p>I know that in order to unit test this, I should mock out the actual database call (<code>Entity_Contact::find_by_pk</code>), but I'm not sure how to do this. Since I'm using Fuel's <code>Model_crud</code> functionality (where the DB accessors are actually a part of the domain object model), I'm not sure that I can completely mock the database---or maybe I'm missing something.</p>\n\n<p>So the question: how would you write a test for <code>Model_Contact::get_by_id()</code>?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["ruby-on-rails","mvc","view","controller"],"answer_count":1,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":1972,"score":8,"question_id":3757491,"title":"Can I get the name of the current controller in the view?","body":"<p>I am rather certain this is a stupid question, but I can't find the answer.</p>\n\n<p>Is there a way to figure out what the current controller is from within the view?</p>\n\n<p>For an example of why I would want to know this: if several controllers share the same layout, I may have a part in the layout ERB file where I want to highlight the current page's menu item based on the controller.</p>\n\n<p>Maybe that is a bad approach. If so, what is the more preferred way to do this?</p>\n\n<p>I'm interested to know about getting the name of the current controller either way, though.</p>\n\n<p>(Obviously I could put something like <code>@controller_name = 'users'</code> in each controller; but that seems like the sort of thing Rails would've already done behind the scenes. So I'm just wondering if there's a built-in way.)</p>\n"},{"tags":["mvc","datatable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12916672,"title":"dataTable().makeEditable() - how to call a specific action method for Add","body":"<p>In the default implementation of dataTable().makeEditable(), the action method called while clicking on Ok button of the formAddNewRow is AddData(string name, string .....).</p>\n\n<p>How can I call a specific action method such as AddCompany(string name, string .....)?</p>\n\n<p>I have tried using the below code, but it threw an error:\n$(document).ready(function () {\n            $('#myDataTable').dataTable().makeEditable({\n                sAddURL: \"/Admin/AddCOIRole\"\n              });\n        });</p>\n"},{"tags":["osx","cocoa","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12903586,"title":"Questions regarding MVC design architecture of a Cocoa app","body":"<ul>\n<li>My goal </li>\n</ul>\n\n<p>Make an app with one window. The root view of the window will be a couple of images with 4 buttons. Each of these 4 buttons will display a different (main) view. Each main view will display other (sub)views and each main and sub views should be capable of \"going back\" to the root view.</p>\n\n<ul>\n<li><p>What I have done (it is based on Apple's ViewController project)</p>\n\n<ul>\n<li><p>I created 1 <code>NSWindowController</code> and 4 <code>NSViewController</code> with their respected XIB files. </p></li>\n<li><p>The AppDelegate alloc/init an <code>NSWindowController</code> object with the nib containing the window and the root view, then calls <code>showWindow</code> method on it.</p></li>\n<li>My subclass of <code>NSWindowController</code> has two ivars: one <code>NSView</code> representing the root view  bound in IB, and one <code>NSViewController</code> representing the current view controller.</li>\n<li>I bound the 4 buttons to the method which changes the view depending on the button tag.</li>\n</ul></li>\n</ul>\n\n<p>Here is how Apple's ViewController project implements it <a href=\"http://pastie.org/private/zmqpzgnudgovagwigal8dq\" rel=\"nofollow\">http://pastie.org/private/zmqpzgnudgovagwigal8dq</a></p>\n\n<p>Nonetheless, this doesn't work for me, it just add the view on top of the root view.</p>\n\n<p>As you see, I'm a bit lost, feel free to share your ideas!</p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12899543,"title":"php mvc pass userdata","body":"<p>I am using a personal MVC system to create a blog. It works. \nNow I want to submit a user comment.\nThe thing is, I don't want to submit the user id and post id in AJAX. That would enable frawd comments.\nHow do I \"remember\" the user's session and pass it to the server?</p>\n\n<p>My post look like this: <code>var text = encodeURI($('#folderComment').val());</code></p>\n\n<pre><code>var text = encodeURI($('#folderComment').val());\n$.post(\n        \"&lt;?= URL_MVC ?&gt;/FolderComment/add/\"+text, {},\n        function(data){\n            var content = data.split(\"##\");\n            var html = '&lt;tr&gt;';\n            html += '&lt;td&gt;' + content[0] + '&lt;br&gt;' + content[2] + '&lt;/td&gt;';\n            html += '&lt;td&gt;' + content[1] + '&lt;/td&gt;';\n            html += '&lt;/tr&gt;';\n            $('#commentsTable').prepend(html);\n        });\n</code></pre>\n\n<p>Do I have to send the user's id? Because in the receiving controller I am using </p>\n\n<pre><code>$userid = isset($_SESSION['user']['fkuser']) ? $_SESSION['user']['fkuser'] : $defaultid;\n</code></pre>\n\n<p>this parameter works fine on the view, and the model, but, when I send AJAX request to the controller, it's not working...</p>\n"},{"tags":["mvc","constructor","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":12917465,"title":"Reference a button created in constructor from Controller on Sencha Touch 2?","body":"<p>I've been researching on how to reference methods of a button using MVC on Sencha Touch, but none of the articles has worked fine for me since I declare all my controls on the constructor of my views.</p>\n\n<p>Here is an example of my code:</p>\n\n<pre><code>Ext.define('TPTMOBILE.view.Login',{\n    extend: 'Ext.Panel',\n    ...\n    config: {\n        ...\n    },\n\n    constructor: function(){\n        var submitButton = Ext.create('Ext.Button', {\n            text: 'Login'\n        });\n    }\n\n});\n</code></pre>\n\n<p>So I'd like to know how to reference the onTap method of my 'submiButton' button.</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["c++","qt","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12893904,"title":"Automatically refreshing a QTableView when data changed","body":"<p>I have written a custom data model to be displayed with several QTableViews.</p>\n\n<p>Technically, everything works fine: my views show the changes made from my model. My data model is editable, and the <code>setData()</code> method does emit the <code>dataChanged()</code> signal and returns <code>true</code> on successful edition.</p>\n\n<p>However, my problem is that I have to move my mouse over a <code>QTableView</code> for it to show the actual change, while I would like all views to show the changes when they were made, without needing to interact with the views in order for them to be updated.</p>\n\n<p>Any idea? Thanks,</p>\n\n<hr/>\n\n<p>It may be relevant to mention that I do not use the default <code>Qt::EditRole</code> role to edit data, but rather a custom enum value (named <code>ActiveRole</code>).</p>\n\n<p>Here is what I am seeking: my data model contains properties on how to display data, used to generate style sheets that are fed to the viewS.</p>\n\n<p>Thus, when altering the model, for each view, all its items are impacted, which is why the <code>dataChanged()</code> signal is sent with indices covering all cells.</p>\n\n<p>I also tried to emit <code>layoutChanged()</code>, but it does not seem to change the behavior in my case.</p>\n\n<p>Here is an excerpt of the <code>setData()</code> method:</p>\n\n<pre><code>bool DataModel::setData(QModelIndex const&amp; idx, QVariant const&amp; value, int role)\n{\n  if (ActiveRole == role)\n  {\n    // Update data...\n\n    QModelIndex topLeft = index(0, 0);\n    QModelIndex bottomRight = index(rowCount() - 1, columnCount() - 1);\n\n    emit dataChanged(topLeft, bottomRight);\n    emit layoutChanged();\n\n    return true;\n  }\n  return false;\n}\n</code></pre>\n\n<p>Here is a sample of the <code>data()</code> method:</p>\n\n<pre><code>QVariant DataModel::data(QModelIndex const&amp; idx, int role) const\n{\n  if (ActiveRole == role)\n  {\n    boost::uuids::uuid id;\n\n    return qVariantFromValue(id);\n  }\n\n  return QVariant();\n}\n</code></pre>\n\n<p>And <code>flags()</code> does indicate an editable model:</p>\n\n<pre><code>Qt::ItemFlags DataModel::flags(QModelIndex const&amp; idx) const\n{\n  if (false == idx.isValid())\n  {\n    return Qt::ItemIsEditable;\n  }\n\n  return QAbstractTableModel::flags(idx) | Qt::ItemIsEditable;\n}\n</code></pre>\n\n<p>I have a custom delegate, which relies heavily on this <a href=\"http://stackoverflow.com/a/1956781/948128\">SO thread</a> for overriding the <code>paint</code> and the <code>sizeHint</code> methods in order to draw a <code>QTextDocument</code>. Also, it provides the content of the <code>ActiveRole</code> to the editor in <code>setEditorData</code>, and calls <code>DataMode::setData</code> in <code>setModelData</code>:</p>\n\n<pre><code>void DataModelDelegate::setEditorData(QWidget* editor, QModelIndex const&amp; idx) const\n{\n  auto active = qVariantValue&lt;boost::uuids::uuid&gt;(idx.data(ActiveRole));\n  static_cast&lt;DataModelEditor*&gt;(editor)-&gt;setActive(active);\n}\n\nvoid DataModelDelegate::setModelData(QWidget* editor, QAbstractItemModel* model, QModelIndex const&amp; idx) const\n{\n  auto active = static_cast&lt;DataModelEditor*&gt;(editor)-&gt;getActive();\n  model-&gt;setData(idx, qVariantFromValue(active), ActiveRole);\n}\n</code></pre>\n\n<p>In the <code>createEditor()</code>, I plug a signal from the editor to a slot of my delegate for committing data:</p>\n\n<pre><code>QWidget* DataModelDelegate::createEditor(QWidget* parent, QStyleOptionViewItem const&amp; option, QModelIndex const&amp; idx) const\n{\n  auto editor = new DataModelEditor(parent);\n  connect(editor, SIGNAL(activeItem()), this, SLOT(commitEditorData()));\n  return editor;\n}\n</code></pre>\n\n<p>When clicking on an item, the editor triggers the <code>activeItem</code> signal; the connected slot <code>commitEditorData</code> in turn raises the <code>commitData</code> signal with the editor in argument.</p>\n\n<p>So all my views use these custom delegate, editor, and data model. The view that I am interacting with does show the change immediately, but the other views need to have the mouse hovering over them to show changes as well.</p>\n"},{"tags":["mvc","design-patterns","flask"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12547206,"title":"Flask-framework: MVC pattern","body":"<p>Flask-framework is MVC. What part of the application should I consider a model, what a view and what a controller? Both in regular application and in RESTful app.</p>\n\n<p>When I say RESTful I mean something like this:</p>\n\n<pre><code>main_dir--|\n          |\n         app1--|\n          |    |\n          |  __init__.py\n          |  api.py\n          |  models.py\n          |\n         static--|\n          |      |\n          |    all the static stuff\n          |\n         app.py # with blueprints registering\n</code></pre>\n"},{"tags":["php","mvc","transactions","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12916781,"title":"MVC pattern usual practice for saving more than one model in a transaction","body":"<p>I want to save two models in a transaction but it will be used on more than one view.</p>\n\n<p>Should I put that transaction in one of those models? Or should I somehow reuse the controller action?</p>\n\n<p>What is the best practice for MVC pattern in this case?</p>\n\n<p>note: My view is consisted of more than one model.</p>\n"},{"tags":["oop","mvc","software-design","design-principles"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":11718094,"title":"MVC: Reset password belongs to Service layer or Actual Entity","body":"<p>I am relatively new to MVC, and have just come across some pre-existing code. </p>\n\n<p>We have a UserService, which mainly contains CRUD operations, and perhaps, one or two business logic operations - all needed by our controllers. It encapsulates the context and the Membership. </p>\n\n<p>I was about to implement the ResetPassword operations, but I was not sure where to implement it; whether to implement it at the UserService or at the User Entity. </p>\n\n<hr>\n\n<p><em>UserService</em></p>\n\n<pre><code>bool ResetPassword(string username, string newPassword);\n</code></pre>\n\n<p>This would lead to my controller being:</p>\n\n<pre><code>ActionResult ResetPassword(string username, string newPassword)\n{\n  userService.ResetPassword(username, newPassword);\n}\n</code></pre>\n\n<p>vs</p>\n\n<p><em>User</em></p>\n\n<pre><code>bool ResetPassword(string newPassword)\n</code></pre>\n\n<p>This would lead to my controller being:</p>\n\n<pre><code>ActionResult ResetPassword(string username, string newPassword)\n{\n  var user = userService.GetUser(username);\n  user.ResetPassword(newPassword);\n}\n</code></pre>\n\n<p>Which approach is recommended?</p>\n"},{"tags":["mvc","class","models"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":11978374,"title":"Using class libary and MVC model","body":"<p>I was wondering if the solution I make could be done smarter, and well I guess so. My problem is that I got a class libary where I Keep all my methods. Then I got my MVC where I use a model. These two model are the same, but I need to convert those, and its stupid. </p>\n\n<p>In my class libary I use Entity Framework, where I get the self generated classes. </p>\n\n<p>In my MVC Model class I create a class so I can put on regular expression and so.</p>\n\n<p>The problem: when I want to send a method back I often just want to send the object I get in return from my view. Im tired of creating an instance of an object and then do this:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult CreateUser(UserModel user)\n    {\n        //my class libary / entity framework class for a user\n        User efUser = new User();\n        efUser.Email = user.Email;\n        efUser.Username = user.Username;\n        efUser.Password = user.Password;\n\n        UserBLL userBLL = new UserBLL();\n\n        //send the method to classlibary / logic layer\n        userBLL.CreateUser(efUser);\n\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n"},{"tags":["mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":121,"score":2,"question_id":4475515,"title":"MVC: Am I doing it right?","body":"<p>Hey people. I don't know if I understood 100% the MVC concept.</p>\n\n<p>I'm having troubles with the Model-View relation.</p>\n\n<p>In order to present the data to the user, the View must have access to the data, right?\nIs this access obtained by passing all the needed data to the view directly (and having the view hold the data within its class as an attribute), or just obtain the data \"parsed\" as strings, integers, etc... as it is needed (as the user navigates through the GUI) from the controller, by raising events? I feel like this is a little bit event overkill, since the data hasn't changed. </p>\n\n<p>BTW, can you tell me what those arrows on the MVC diagram on Wikipedia do on a real example? Thanks.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":71,"score":3,"question_id":12825129,"title":"Correct model to use for flexible survey in MVC ","body":"<p>I'm looking to create an MVC application to edit the results of various customer surveys. but I’m struggling to get the approach/ model right in my head.</p>\n\n<p>I have survey results that are stored across different database tables (one table for each version of the survey) with each version having a slightly different set of columns. I've created a combined (Sql)view which just shows the table columns that i want to edit, as the source tables contain a lot of irrelevant columns. </p>\n\n<blockquote>\n  <p>CREATE VIEW [vw_CombinedSurveyResults] AS</p>\n  \n  <p>SELECT     'V10_v2' as anTable, UniqueRecordID, ddDate, iIncidNo, bA, bB, bC, null as 'bD \n  FROM        V10_v2</p>\n  \n  <p>UNION \n  SELECT     '10_v1' as anTable, UniqueRecordID, ddDate, iIncidNo, bA, bB, null as bC, bD \n  FROM V10_v1</p>\n  \n  <p>UNION \n  SELECT    'V9_v6' as anTable,  UniqueRecordID, ddDate, iIncidNo, bA, null as bB, null as bC, bD \n  FROM         V9_v6</p>\n</blockquote>\n\n<p>My first idea was to search the combined (sql)view (filtering by date and the incident number) to and then display the results in a table, so far so good. </p>\n\n<p>The part where I’m having a brain freeze is deciding on how best to update a selected individual survey records is a neat and tidy way, and in a way that will require minimal effort when the future versions of the survey are created.</p>\n\n<p>So far I’ve got created a sql view for each of the  source tables (cut down to just have the columns I’m interested in) and using these views to create some Linq To Sql classes for each of the source cut-down views. (These are the ‘Models’)</p>\n\n<p>I’ve used one of these autogenerated classes as the model a to create strongly typed view for editing the survey values (of just one version, v10_v2) .</p>\n\n<p>I’ve got a controller for updating a cut-down view (V10_v2)  and that all works  fine … but that is just for one survey version which proves a concept but it’s very clunky.</p>\n\n<p>To  continue down this path will mean  I’ll need to create multiple (MVC) views and controllers, one for each survey table, but there must be a slicker/easier way of organising  the models or views or both?</p>\n\n<p>Thanks in advance for any suggestions.</p>\n"},{"tags":["spring","mvc","deployment","jboss5.x"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":50,"score":1,"question_id":12911731,"title":"How to create a war file of Spring MVC Project and deploy it in JBOSS 5?","body":"<p>How to create a war file of Spring MVC Project anddeploy it in JBOSS 5?</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12910589,"title":"Pass jquery parameters to Controller Action","body":"<p>I want to pass 2 parameters with ajax function to the Controller Action, but the code that I use it's not working. \nThe action is called but without parameters; what is wrong in the code below? Please help.\nThank you!</p>\n\n<p>view code:</p>\n\n<pre><code>        &lt;fieldset&gt;\n            @Html.Label(\"Start date: *\")\n            @Html.TextBoxFor(model =&gt; model.startDate, new { Class = \"calendar\", data_mini = true, data_role = \"datebox\", data_options = \"{\\\"mode\\\":\\\"calbox\\\",\\\"useNewStyle\\\": true,\\\"overrideStyleClass\\\": \\\"calendar\\\",\\\"fieldsOrderOverride\\\": [\\\"d\\\",\\\"m\\\",\\\"y\\\"],\\\"headerFormat\\\":\\\"%A,%d, %-m, %Y\\\",\\\"dateFormat\\\":\\\"DD-MM-YYYY\\\",\\\"useTodayButton\\\":true}\" })\n        &lt;/fieldset&gt;\n        &lt;fieldset&gt;\n            @Html.Label(\"End date: *\")\n            @Html.TextBoxFor(model =&gt; model.endDate, new { Class = \"calendar\", data_mini = true, data_role = \"datebox\", data_options = \"{\\\"mode\\\":\\\"calbox\\\",\\\"useNewStyle\\\": true,\\\"overrideStyleClass\\\": \\\"calendar\\\",\\\"fieldsOrderOverride\\\": [\\\"d\\\",\\\"m\\\",\\\"y\\\"],\\\"headerFormat\\\":\\\"%A,%d, %-m, %Y\\\",\\\"dateFormat\\\":\\\"DD-MM-YYYY\\\",\\\"useTodayButton\\\":true}\" })\n        &lt;/fieldset&gt;\n        &lt;fieldset&gt;\n            @Html.Label(\"Submited: *\")\n        &lt;/fieldset&gt;\n        &lt;a data-role=\"button\" id=\"search\" name=\"search\" data-theme=\"a\" class=\"book ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a\"&gt;\n        &lt;span class=\"ui-btn-inner ui-btn-corner-all\"&gt;&lt;span class=\"ui-btn-text\"&gt;Search&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Jquery code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n $(\"#search\").click(function () {\n    GetNewDaysList();\n   });\n//gets elements for the selected dates\nfunction GetNewDaysList() {\nvar action = '@Url.Action(\"GetNewDays\", \"ApproveWork\")';\nvar criteria = new Array($(\"#startDate\").val(),$(\"#endDate\").val());\n    var opt = {\n        type: \"GET\",\n        data: { criteria: criteria },\n        url: action,\n        success: DaysListSuccess,\n        error:DaysListFailed\n    };\n    jQuery.ajax(opt);\n}\n\n  function DaysListSuccess(data) {\n    if (data != undefined) {\n        $.mobile.hidePageLoadingMsg();\n        $('ul').hide();\n        $(\"#employeeDays\").html(data).trigger('create');\n        $(\"#searchSection\").show();\n        $(\"#employeeDays\").show();\n    }\n}\n\n  function DaysListFailed() {\n //\n}\n});\n</code></pre>\n\n<p></p>\n\n<p>Controller code:</p>\n\n<pre><code>    [HttpGet]\n      public ActionResult GetNewDays(IEnumerable&lt;string&gt; criteria)\n    {\n        List&lt;string&gt; criteriaList = criteria.ToList();\n        DateTime start = DateTime.ParseExact(criteriaList[1],\"dd-MM-yyyy\", System.Globalization.CultureInfo.InvariantCulture);\n        string startToString = start.ToString(\"yyyyMMdd\");\n        DateTime end = DateTime.ParseExact(criteriaList[2], \"dd-MM-yyyy\", System.Globalization.CultureInfo.InvariantCulture);\n        string endToString = end.ToString(\"yyyyMMdd\");            \n        List&lt;string&gt; daysList = new List&lt;string&gt;();\n       var model = new ApproveWorkModel();\n       model.daysList = daysList;\n       return PartialView ( \"EmployeeDays\",model);\n    }\n}\n</code></pre>\n"},{"tags":["mvc","language-agnostic"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12908015,"title":"Redirect or load a view in MVC?","body":"<p>There are times when the document the user is looking for is not present in our the database, we want to inform them that the document does not exist. We can either redirect them to another page or load another view, which one is appropriate? When to use redirect over view?</p>\n"},{"tags":["qt","mvc","layout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":11024531,"title":"Qt: view added to layout not updating, but will update when not in layout","body":"<p>A widget called Tachometer will update accordingly when a signal is sent from its corresponding model, but it will not respond at all when I add the widget to a layout. What might account for this? Without showing the internals of the model or the view (which would be exhaustive), I will attempt to point out where it is not working:</p>\n\n<pre><code>void MainWindow::setupWidgets()\n{\n    QHBoxLayout *horiz1 = new QHBoxLayout();\n    QHBoxLayout *horiz2 = new QHBoxLayout();\n    odometer = new Odometer(ui-&gt;dashFrame);\n    fuelGauge = new FuelGauge(ui-&gt;dashFrame);\n    tripometer = new Tripometer(ui-&gt;dashFrame);\n    tachometer = new Tachometer(ui-&gt;dashFrame);\n    temperatureGauge = new TemperatureGauge(ui-&gt;dashFrame);\n    oilPressureGauge = new OilPressureGauge();\n    QVBoxLayout *vertOPG = new QVBoxLayout();\n\n    if ( oilPressureGauge-&gt;getTitle() != \"\" )\n    {\n        QLabel *OPGLabel = new QLabel(oilPressureGauge-&gt;getTitle());\n        vertOPG-&gt;addWidget(OPGLabel);\n    }\n    vertOPG-&gt;addWidget(oilPressureGauge);\n\n    speedometer = new Speedometer(ui-&gt;dashFrame);\n    horiz1-&gt;addWidget(tachometer);\n    horiz1-&gt;addWidget(speedometer);\n    horiz2-&gt;addWidget(fuelGauge);\n    horiz2-&gt;addWidget(temperatureGauge);\n    horiz2-&gt;addLayout(vertOPG);\n    horiz2-&gt;addWidget(tripometer);\n    horiz2-&gt;addWidget(odometer); // will NOT update when added to layout\n    QVBoxLayout *vert1 = new QVBoxLayout(ui-&gt;dashFrame);\n    vert1-&gt;addLayout(horiz1);\n    vert1-&gt;addLayout(horiz2);\n    this-&gt;ui-&gt;dashFrame-&gt;setLayout(vert1);\n}\n</code></pre>\n\n<p>I am perplexed that the other Widgets will update as expected, but not the object named tachometer. As I said before, if I don't add it to the layout, e.g.</p>\n\n<pre><code>// ...\ntachometer = new Tachometer(ui-&gt;dashFrame);\n// ...\n</code></pre>\n\n<p>it appears to work just fine. Furthermore, by debugging on the console I see that the RPM value for the tachometer is being sent to the appropriate slot that updates the view for the tachometer (I just noticed the tachometer finally responded to the update, but it isn't updating after every timeout as it should). It seems like some latency issues are clearly involved here.\nIf anyone might have an idea as to why this might be, I would greatly appreciate some clarification.</p>\n"},{"tags":["mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":712,"score":0,"question_id":3209896,"title":"Which is better ? MVC or 3 Layered Architecture","body":"<p>Which Technology is better? ASP.net 3 layered architecture or MVC\nPlease Let me know.</p>\n"},{"tags":["asp.net","jquery","mvc","jquery-ajax","asyncfileupload"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3179,"score":0,"question_id":4747357,"title":"file upload using ajax in asp.net mvc","body":"<p>file upload using ajax by retaining all the other information in the page.</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12904417,"title":"Request.IsLocal alternative?","body":"<p>As far as I understand, <a href=\"http://msdn.microsoft.com/en-us/library/system.web.httprequest.islocal.aspx\" rel=\"nofollow\">Request.IsLocal</a> returns true in two scenarios. If the IP address of the request originator is 127.0.0.1, or if the IP address of the request is the same as the server's IP address.</p>\n\n<p>I'm using this on a page which is regularly called by a cron task (using an absolute URL). Unfortunately this cron job is run on the same server as the page, meaning that IsLocal always returns true.</p>\n\n<p>Ideally, I need a function which will <em>just</em> return true if I'm on localhost. How can I do this in a ASP.NET MVC environment?</p>\n"},{"tags":["java","spring","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12903343,"title":"How to pass class object from one controller to other","body":"<p>First controller gets the object from class TestClass by binding from jsp</p>\n\n<pre><code>protected ModelAndView onSubmit(HttpServletRequest request,\n        HttpServletResponse response,\n        BindException errors, TestClass test)\n        throws Exception {\n\n\n    ModelAndView mv = new ModelAndView(\"page.jsp\", \"modelObject\", test);\n\n    return mv;\n}\n</code></pre>\n\n<p>and is processing to second one where he only get the object and passed back to other jsp page</p>\n\n<pre><code>protected Test showForm(HttpServletRequest request,\n        HttpServletResponse response,\n        BindException errors, TestClass test)\n        throws Exception {\n\n    return test;\n}\n</code></pre>\n\n<p>another solution for this problem or better way can you give it ?</p>\n"},{"tags":["asp.net-mvc","mvc","jquery-ui","asp.net-mvc-2","asp.net-mvc-3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":255,"score":1,"question_id":6678122,"title":"How to get the event of the partialview button in a jQuery modal dialog","body":"<p>I have a partial view named xyz and I have a lot of buttons on it which implements different functionality.</p>\n\n<pre><code> $('#dialog').dialog({\n        autoOpen: false,\n        width: 700,\n        resizable: false,\n        modal: true,\n        open: function (event, ui) { $(this).load('&lt;%=Url.Action(\"PushButton\",\"Body\",new {Parm=\"text\",Parm1=\"Value\"}) %&gt;'); },\n        position: 'top' \n    });\n</code></pre>\n\n<p>I'm opening this partial view XYZ in a jQuery modal dialog box. I have some buttons in the partialview XYZ. I'm not getting how to fire the event explicitly. Like if I want to close the dialog box by click of the button created in Partialview.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","active-directory"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":2201,"score":6,"question_id":6605666,"title":"Querying Active Directory from MVC result in: Attempted to access an unloaded appdomain. (Exception from HRESULT: 0x80131014)","body":"<p>I have an issue using c# on .Net 4 in a MVC web application, where when I query Active Directory, I <em>frequently</em> get an error: <strong><em>Attempted to access an unloaded appdomain. (Exception from HRESULT: 0x80131014).</em></strong></p>\n\n<p>The strange thing is, that it will work flawlessly for a time, and then it will just start happening, and then just disappear again.</p>\n\n<p>I have made a few modifications to the function to get it to work , but they all seem to fail. I am wondering if I am doing something wrong, or if there is a better way to do it.</p>\n\n<p>Here is my current fucntion, that will accept a loginId, and a PrincipalContext. The loginId can either be the user DisplayName <em>i.e \"John Smith\"</em>, or <em>DOMAINNAME\\josmi</em>. The default is to use the first 2 letters of their firstname, and then the first 3 letters of their surname. There is a check in there if this is not the case. This part if fine.</p>\n\n<pre><code>public List&lt;ADGroup&gt; GetMemberGroups(string loginId, PrincipalContext principalContext, int tries = 0)\n{\n    var result = new List&lt;ADGroup&gt;();\n\n    try\n    {\n        var samAccountName = \"\";\n        if (loginId.Contains(\" \"))\n        {\n            var fName = loginId.Split(Char.Parse(\" \"))[0].ToLower();\n            var sName = loginId.Split(Char.Parse(\" \"))[1].ToLower();\n\n            if (sName.Trim().Length == 2)\n                samAccountName = string.Format(\"{0}{1}\", fName.StartsWith(\".\") ? fName.Substring(0, 4) : fName.Substring(0, 3), sName.Substring(0, 2));\n            else\n                samAccountName = string.Format(\"{0}{1}\", fName.StartsWith(\".\") ? fName.Substring(0, 3) : fName.Substring(0, 2), sName.Substring(0, 3));\n        }\n        else\n            samAccountName = loginId.Substring(loginId.IndexOf(@\"\\\") + 1);\n\n        var authPrincipal = UserPrincipal.FindByIdentity(principalContext, IdentityType.SamAccountName, samAccountName);\n\n        if (authPrincipal == null)\n            throw new Exception(string.Format(\"authPrincipal is null for loginId - {0}\", loginId));\n\n        var firstLevelGroups = authPrincipal.GetGroups();\n\n        AddGroups(firstLevelGroups, ref result);\n    }\n    catch\n    {\n        if (tries &gt; 5)\n            throw;\n\n        tries += 1;\n\n        System.Threading.Thread.Sleep(1000);\n        GetMemberGroups(loginId, principalContext, tries);\n    }\n\n    return result;\n}\n\n    private void AddGroups(PrincipalSearchResult&lt;Principal&gt; principal, ref List&lt;ADGroup&gt; returnList)\n    {\n        foreach (var item in principal)\n        {\n            if (item.GetGroups().Count() &gt; 0)\n                AddGroups(item.GetGroups(), ref returnList);\n\n            returnList.Add(new ADGroup(item.SamAccountName, item.Sid.Value));\n        }\n    }\n</code></pre>\n\n<p>This function is called like this:</p>\n\n<pre><code>MembershipGroups = ad.GetMemberGroups(user.SamAccountName, new PrincipalContext(ContextType.Domain));\n</code></pre>\n\n<p>The the error that I <em>SOMETIMES</em> get is: </p>\n\n<blockquote>\n  <p>System.AppDomainUnloadedException:\n  Attempted to access an unloaded\n  appdomain. (Exception from HRESULT:\n  0x80131014)    at\n  System.StubHelpers.StubHelpers.InternalGetCOMHRExceptionObject(Int32\n  hr, IntPtr pCPCMD, Object pThis)    at\n  System.StubHelpers.StubHelpers.GetCOMHRExceptionObject(Int32\n  hr, IntPtr pCPCMD, Object pThis)    at\n  System.DirectoryServices.AccountManagement.UnsafeNativeMethods.IADsPathname.Retrieve(Int32\n  lnFormatType)    at\n  System.DirectoryServices.AccountManagement.ADStoreCtx.LoadDomainInfo()\n  at\n  System.DirectoryServices.AccountManagement.ADStoreCtx.get_UserSuppliedServerName()\n  at\n  System.DirectoryServices.AccountManagement.ADDNLinkedAttrSet.BuildPathFromDN(String\n  dn)    at\n  System.DirectoryServices.AccountManagement.ADDNLinkedAttrSet.MoveNextPrimaryGroupDN()\n  at\n  System.DirectoryServices.AccountManagement.ADDNLinkedAttrSet.MoveNext()\n  at\n  System.DirectoryServices.AccountManagement.FindResultEnumerator<code>1.MoveNext()\n  at\n  System.DirectoryServices.AccountManagement.FindResultEnumerator</code>1.System.Collections.IEnumerator.MoveNext()</p>\n</blockquote>\n"},{"tags":["mvc","magento","themes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12898853,"title":"Magento: Change Theme via Controller","body":"<p>As the title says, is there a way to load a Magento theme from the Controller without switching store? Thanks.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","stream","ram"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":12433132,"title":"How to properly stream big data from MVC3 without using too much RAM?","body":"<p>I'd like to use <code>HttpResponse.OutputStream</code> together with <code>ContentResult</code> so that I can <code>Flush</code> from time to time to avoid using too much RAM by .Net.</p>\n\n<p>But all examples with MVC <code>FileStreamResult, EmptyResult, FileResult, ActionResult, ContentResult</code> show code that gets all the data into memory and passes to one of those. Also one post suggest that returning <code>EmptyResult</code> together with using <code>HttpResponse.OutputStream</code> is bad idea. How else can I do that in MVC ?</p>\n\n<p>What is the right way to organize flushable output of big data (html or binary) from MVC server ? </p>\n\n<p>Why is returning <code>EmptyResult</code> or <code>ContentResult</code> or <code>FileStreamResult</code> a bad idea ?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12846850,"title":"Accessing a partial view from a different control from within an area","body":"<p>Within an MVC view I'd like to access a partial view from a different controller. Before I explain my issue at hand you should know where everything is in my solution:</p>\n\n<pre><code>Areas      \n   MyArea    \n        Views\n         Cont1\n           PartialPages\n           ViewImIn\n         Cont2\n            PartialPages\n               ViewICall\n</code></pre>\n\n<p>Now, in ViewImIn.cshtml I call ViewIcall.cshtml like this: </p>\n\n<pre><code>@Html.Partial(\"~/Views/Cont2/PartialPages/ViewICall.cshtml\", Model)\n</code></pre>\n\n<p>But I keep getting the error stating that the \"partial view was not found or view engine does not support searched locatio...\"</p>\n\n<p>Please help.. I've also tried \"../Cont2/PartialPages/ViewICall\" and variations of it</p>\n"}]}
{"total":14108,"page":5,"pagesize":100,"questions":[{"tags":["mvc","google","asp.net-mvc-4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12897542,"title":"fetching first name and last name always gives me approval window google openid","body":"<p>I´m using this code to fetch my attributes:</p>\n\n<pre><code> IAuthenticationRequest openIdRequest =openId.CreateRequest(Identifier.Parse(openIdIdentifier));\n\n        var fetch = new FetchRequest();\n        fetch.Attributes.AddRequired(WellKnownAttributes.Contact.Email);\n        fetch.Attributes.AddRequired(WellKnownAttributes.Name.First);\n        fetch.Attributes.AddRequired(WellKnownAttributes.Name.Last);\n        fetch.Attributes.AddRequired(WellKnownAttributes.Name.Alias);\n        openIdRequest.AddExtension(fetch);\n</code></pre>\n\n<p>The problem is if I fetch more than just the email I always get prompted for approval, even if I check the remember box, when using google. If I only get the email I get passed on to the restricted area of my page without having to approve. Does anyone have a solution for this?</p>\n"},{"tags":["php","mvc","rest","zend-framework2","content-negotiation"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":115,"score":3,"question_id":12881717,"title":"Is it OK to have content negotiation in your controller layer?","body":"<p>In Zend Framework 2, content negotiation happens on the view layer and I am pretty happy with it. An example in my controller:</p>\n\n<pre><code>public function viewAction()\n{\n    $id   = $this-&gt;params('id');\n    $user = $this-&gt;getRepository()-&gt;findUser();\n\n    return new ViewModel(array(\n        'user' =&gt; $user,\n    ));\n}\n</code></pre>\n\n<p>This either renders the view.phtml template to return html or it converts the user object to a JSON response. A so-called view strategy determines how to render the response based on the request.</p>\n\n<p><strong>\"REST\" Application Flow in my webapp</strong></p>\n\n<p>This type of content negotiation works pretty good for many use cases:</p>\n\n<ol>\n<li><code>/user</code> or <code>indexAction()</code> returns an array of users => html of JSON possible;</li>\n<li><code>/user/1</code> or <code>viewAction()</code> returns user object => html or JSON possible (example from above);</li>\n<li><code>/user/1/update</code> or <code>updateAction()</code> returns a html form. A POST to this url returns html or JSON when errors are present. Or on success it redirects to <code>viewAction()</code> and thus returns the new version of the user => html and JSON again possible;</li>\n<li><code>/user/create</code> or <code>createAction()</code> returns a html form. A POST to this url returns html or JSON when errors are present. Or on success it redirects to <code>viewAction()</code> for the just created user => html and JSON again possible</li>\n</ol>\n\n<p><strong>My Question</strong></p>\n\n<p>There are a few use cases where the content negotiation is sort-of \"required\" in the controller layer. I am not sure if I overlook some possibilities: are there options I can use in for example the following cases?</p>\n\n<ol>\n<li>Delete a user: POST to the <code>/user/1/delete</code>. In case of a html view, you will be redirected to the list of users (where the deleted user is now missing). In case you want a JSON response, you want to return 200 OK and a JSON object with a message the delete was successful.</li>\n<li>Post a comment to a blog article. In case of a html view, you will be redirected to the post where you see your comment is appended. In case you ask for a JSON response, you want to return 200 OK and a JSON object with the comment you just placed. </li>\n</ol>\n\n<p>My goal would be to not replicate the content negotiation already present in the view layer. It would also make my controllers more fat, since I have now two possible responses (JSON vs html) but that might not be the only case. If I later want to support XML or another format, I have for every action switches for those response types.</p>\n"},{"tags":["asp.net-mvc","mvc","dependency-injection","inversion-of-control","dynamo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12834883,"title":"Dynamo IoC and Mvc","body":"<p>I'm trying out Dynamo IoC with the web extensions for Mvc, and I see they've done a great work creating a custom HttpApplication to derive your Global.asax from. However it seems I'm missing something.</p>\n\n<p>I want to accomplish DI in my controllers, but I'm stuck with the usual \"The controller must have a parameterless constructor\" problem.</p>\n\n<p>This is what I do in my global.asax (which derives from <code>DynamoMvcAndWebApiApplication</code>):</p>\n\n<pre><code>protected override void RegisterDependencies(Dynamo.Ioc.IIocContainer container)\n{\n    container.Register&lt;ILogger, FakeLogger&gt;();\n}\n</code></pre>\n\n<p>Then my controller:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    private readonly ILogger logger;\n\n    public HomeController(ILogger logger)\n    {\n        this.logger = logger;\n    }\n\n    public ActionResult Index()\n    {\n        logger.Log(\"test\");\n        return View();\n    }\n}\n</code></pre>\n\n<p>This gets me the \"no parameterless constructor error\". I thought the web extensions of Dynamo already took care of whatever was required to make DI work.</p>\n\n<p>If I add a parameterless constructor it gets called, but then my ILogger will be null, and I'll get a NullReferenceException in my action method.</p>\n\n<p>I thought about having to implement a ControllerFactory but I also thought that if it was mandatory they would have provided it along with all other stuff for MVC, so I think that I am misusing what is provided.</p>\n\n<p>I'd like to know if anyone knows how to make DI work in this scenario. Thanks.</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":320,"score":1,"question_id":4604696,"title":"Returning http status code 409 result unmolested","body":"<p>I am trying to return a HTTP response with 409 status code, content type \"application/json\" and a json data in the content.</p>\n\n<p>The problem is that at the client level, response.content returns html result. Somehow ASP.Net MVC has decided to return a html error message instead of what I intended. I've checked at web.config and 409 is not part of the custom error message. I've checked IIS 7.0 Error Pages section as well for 409 and it is not set there.</p>\n\n<p>I wonder where I can find the default configuration that manage asp.net mvc http error code mechanism. </p>\n\n<p>I am working based on ASP.Net MVC 2.0 and .Net 4.0 on Vista.</p>\n"},{"tags":["php","mysql","mvc","codeigniter","activerecord"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12889604,"title":"How to split a query result in to multi pages (pagination) and sort query data?","body":"<p>In my model I get the entire <code>order</code> table.</p>\n\n<pre><code>return $this-&gt;db-&gt;get('order')-&gt;result();\n</code></pre>\n\n<p>In my view i do a <code>foreach</code> to loop through the data. </p>\n\n<pre><code>&lt;?php foreach ($orders as $order) : ?&gt;\n&lt;tr&gt;\n   &lt;td&gt;&lt;?php echo $order-&gt;id; ?&gt;&lt;/td&gt;\n   &lt;td&gt;&lt;?php echo $order-&gt;order_status; ?&gt;&lt;/td&gt;\n   &lt;td&gt;&lt;?php echo $order-&gt;cart; ?&gt;&lt;/td&gt;\n     . . . \n&lt;?php endforeach; ?&gt;\n</code></pre>\n\n<p></p>\n\n<p>Ok so that works like a charm. However I need to be able to do some data arranging here.</p>\n\n<ol>\n<li>I want to be able to sort records by <code>id</code> so that I can get the latest on top</li>\n<li>I want to split the results (pagination) say every 25 records and add the (go to next page link)</li>\n</ol>\n\n<p>I'm using <strong>Codeigniter</strong> and building on the MVC pattern. So is their a library perhaps or built-in functions in <code>CI</code> that allow me accomplish these 2 objectives? I appreciate all helpful advice, code examples and general guidance. Thank you in advance for your time! :)</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>Sorry I didn't mention this.. Can someone give me an example of how the <code>query</code> needs to be structured <code>return $this-&gt;db-&gt;get('order', 25)-&gt;result();</code> isn't exactly giving me the desired result here.</p>\n"},{"tags":["mvc","iis7","performance"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":584,"score":0,"question_id":2320636,"title":"How can I optimize MVC and IIS pipeline to obtain higher speed?","body":"<p>I am doing performance tweaking of a simple app that uses MVC on IIS 7.5.\nI have a StopWatch starting up in Application_BeginRequest and I take a snapshot at Controller.OnActionExecuting.</p>\n\n<p>So I measure the time spend in the entire IIS pipeline: from request receipt to the moment execution finally gets to my controller.</p>\n\n<p>I obtain 700 microseconds on my 3GHz quad-core (project compiled Release x64), and I wonder where the bottleneck is, especially hearing some people say that one can get up to <a href=\"http://stackoverflow.com/questions/43743/asp-net-mvc-performance/530946\">8000 page loads per second</a> with MVC.</p>\n\n<p>How can I optimize MVC and IIS pipeline to obtain higher speed?</p>\n"},{"tags":["mvc","validation","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12864871,"title":"Prevent Code Repetition CodeIgniter Validation","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12485719/constructor-session-validation-for-different-functions\">Constructor session validation for different functions</a>  </p>\n</blockquote>\n\n\n\n<p><strong>Framework</strong> : CI (CodeIgniter)</p>\n\n<p><strong>Situation</strong> :</p>\n\n<p>I have 4 pages(controllers) namely:</p>\n\n<p><code>home</code>\n<code>login</code>\n<code>dashboard</code>\n<code>editprofile</code></p>\n\n<p><strong>ACCESS</strong></p>\n\n<ul>\n<li><p><strong>home</strong> can be accessed by all types of users, logged in or not</p></li>\n<li><p><strong>login</strong> must be only be access if not authenticated</p></li>\n<li><p><strong>dashboard</strong> and editprofile must only be accessed by students(authenticated users)</p></li>\n</ul>\n\n<p>I have this validatation for my controllers like this:</p>\n\n<pre><code>if($this-&gt;session-&gt;userdata('isLoggedIn')){\n    // stay here do the function\n} else {\n// leave this page\n    header('Location:'.base_url().'login');\n}\n</code></pre>\n\n<p>I have that in my <code>function index(){}</code>.</p>\n\n<p>But as I develop the system, as i create more methods, more controllers, it's becoming messier..\nfor you need to use  this</p>\n\n<pre><code>if($this-&gt;session-&gt;userdata('isLoggedIn')){\n// stay here do the function\n} else {\n// leave this page\nheader('Location:'.base_url().'login');\n}\n</code></pre>\n\n<p>everytime you have a method, </p>\n\n<p>i've read several questions in stackoverflow... and the only best answer is this: link here</p>\n\n<p>it says that i must use decorator pattern for that... but i don't clearly get how am i suppose to do that.</p>\n"},{"tags":["ruby-on-rails","mvc","routes","ruby-on-rails-3.2","custom-url"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12887706,"title":"Ruby on Rails: Showing Member's Name Instead of ID in Show","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3747483/making-a-pretty-url-via-ruby\">making a pretty url via ruby</a>  </p>\n</blockquote>\n\n\n\n<p>I have looked around but I can't find an answer.  I am either not asking the right question and/or I am not looking in the right place.</p>\n\n<p>I have the following defined:  </p>\n\n<pre><code>config/routes.rb\nresources :members\n\nmembers_controller.rb\ndef show\n@member = Member.find(params[:id])\nend\n</code></pre>\n\n<p>As of now when showing a member, the URL is <a href=\"http://myapp.tld/members/1\" rel=\"nofollow\">http://myapp.tld/members/1</a>.  Let's say the member's name was cooldude.  How hard would it be to show <a href=\"http://myapp.tld/members/cooldude\" rel=\"nofollow\">http://myapp.tld/members/cooldude</a> or even <a href=\"http://myapp.tld/cooldude\" rel=\"nofollow\">http://myapp.tld/cooldude</a> if possible?</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["javascript","mvc","mvvm","asp.net-mvc-4","client-side"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":113,"score":0,"question_id":12883429,"title":"Updating/Returning ViewModel Back To Server","body":"<p>Being fairly new to web dev and MVC4, I am encountering the same design issue repeatedly and was hoping someone could tell me what the right/supported/etc.. solution was in the MVC4 world:</p>\n\n<p>Basically, I've drunk the view model koolaid and have view models for every view in my project, most of which are partial subviews dynamically updating on something of a single page application.  All proceeds well generating/rendering the view, and then a user updates a number of values on the client side and it's time to update the server. </p>\n\n<p>As an example, let's say it's a simple container view model:</p>\n\n<pre><code>public class Data {\n  public List&lt;Prop&gt; Props { get; set; }\n}\n\npublic class Prop {\n  public string Id { get; set; }\n  public int Value { get; set; }\n}\n</code></pre>\n\n<p>So let's just say the user is adding new props to the container.  How do I get the modified object back to the server?  </p>\n\n<p>So far: If it's important that the server be in sync realtime, I can make a call with each addition/update on the server and then either keep things in sync on the client or simply have the server return the updated view.  For simple scenarios like that, all is well.</p>\n\n<p>But I find myself often in the case where I want the client to be able to manipulate the object (through the view/js/etc) and I don't really need to update on the server until they are done and submit.  What I really want is to be able to pass the object down with the rendered view, interact with it via Javascript, and then pass the object back to the controller when all is done.  How do I that?  (Apologies it took a while to get to the point!)</p>\n\n<p>Alternatives I've seen:</p>\n\n<p>-- Quick &amp; Dirty (http://stackoverflow.com/questions/9741445/encode-viewmodel-properties-to-javascript-in-razor):  Which sure will put the object in javascript on the client, though it seems hack-ish to just be serializing the whole object into the client side html without any validation, etc.  (Though I do realize eventually that's how the object is making it's way down, but it seems like you're bypassing the whole MVC4 object handling/parsing.)</p>\n\n<p>-- Upshot.Js seemed promising with MS support at one time, but it seems that has died: <a href=\"http://stackoverflow.com/questions/12238855/current-status-of-upshot-js\">Current status of Upshot.js</a></p>\n\n<p>-- Breeze.js (http://www.breezejs.com/) seems to be an attempt to take over there, though my concern there is that it's fairly new and not much broad adoption yet.</p>\n\n<p>Ultimately the thing that makes me feel like I'm missing what must be a somewhat obvious alternative is that all the pieces are clearly built into MVC4 already.  When you use a form view for example, your fields are databound to the controls, and when the form is submitted, a parallel JSON object is created, sent to the controller, and then parsed into your POCO ViewModel object for you.  That's basically the roundtrip I'm looking for (though retaining the full JSON object clientside).  What's the \"proper\" way to handle that?</p>\n\n<p>Much appreciated all!<br>\n-Gene</p>\n"},{"tags":["php","mysql","query","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12886621,"title":"HOW TO DB query multi-tables relational db","body":"<h1><code>Customer table</code></h1>\n\n<pre><code>///////////////////////////////////////////////////////////\n|      id[PR]  |      name        |       email           |  \n|      10      |      fabio       |     fab@fab.com       |   \n|      11      |      james       |     james@james.com   |   \n</code></pre>\n\n<h1><code>Order table</code></h1>\n\n<pre><code>//////////////////////////////////////////////////////////////////\n|  order_id[PR]  |  ship_to[FK]  |  bill_to[FK]   | customer[FK] |  product, total, etc\n|      251       |       3       |         2      |       10     |  . . . \n</code></pre>\n\n<h1><code>Ship to table</code></h1>\n\n<pre><code>//////////////////////////////////////////////////////////////////////\n|   customer[FK]  |  ship_to[PR]  |   label   |    address           |  city, state, zip, etc\n|       10        |      3        |   office  |  123 main st         |  . . .\n|       10        |      1        |   home    |  85 some place st    |  . . .\n</code></pre>\n\n<h1><code>Bill to table</code></h1>\n\n<pre><code>///////////////////////////////////////////////////////////////////////////\n|   customer[FK]  |  bill_to[PR]  |   label   |    account                |  billing details\n|       10        |      2        |   visa    |  AES_CRYPT(temp storage)  |   . . .\n|       10        |      1        |     mc    |  AES_CRYPT(temp storage)  |   . . .\n</code></pre>\n\n<p>Ok so each customer can have multi-ship to addresses and multi-payment methods on file in their account. When they place an order the order table stores the cart and session information.</p>\n\n<p>I need to generate <code>invoices</code> how do I structure my query so that when i lookup the order table i can see the row of <code>ship to table</code> and the row of <code>bill to table</code> instead of the <code>id</code> of the row in the associated table.</p>\n\n<p>Now mind you i don't expect anyone to write my code but if you can please give me some links to read up on that would be great or an example would be awesome. Please note im building on codeigniter so im using the MVC pattern.</p>\n\n<p>? - Should all of these lookups be structured in 1 model function or should they be spread over several functions in the model?</p>\n\n<pre><code>return $this-&gt;db-&gt;get('order_table')-&gt;result();\n#this would return all the orders in the order table . \n</code></pre>\n\n<p>in my <code>view</code> i would foreach these results and make the order-id a link to more details/ invoice   page. How do i pass the values from the row to the model query to generate the proper details/invoice page?</p>\n\n<p>E.g. - So if you click on order 251, you will see a details page with an invoice that will say </p>\n\n<ol>\n<li>customer id 10</li>\n<li>name: fabio</li>\n<li>email: fab@fab.com</li>\n<li>ship to: office, 123 main st...</li>\n<li>bill to: visa, acct#, etc...</li>\n</ol>\n"},{"tags":["asp.net-mvc","mvc","razor","asp.net-mvc-4","asp.net-mvc-areas"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":810,"score":3,"question_id":11590822,"title":"Getting System.Web.Optimization to work in a razor view within a class library","body":"<p>I'm building a modular MVC4 app, where each module (=area) is a class library. Models and controllers compile into the .dll, the views get copied into the appropriate folder. At runtime, everything works fine. At design time there is one annoying problem left: When editing a razor view within a class library, Visual Studio doesn't recognize the System.Web.Optimization Namespace.</p>\n\n<pre><code>The name \"Styles\" does not exist in the current context.\nThe name \"Scripts\" does not exist in the current context.\n</code></pre>\n\n<p>I tried adding the assembly to the system.web/compilation section in the root and the inner web.config:</p>\n\n<pre><code>&lt;add assembly=\"System.Web.Optimization, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" /&gt;\n</code></pre>\n\n<p>I tried it without the specific version, too. Both methods didn't solve the problem, but triggered an asp.net runtime error (visible in the first line of the razor view):</p>\n\n<pre><code>Could not load file or assembly 'System.Web.Optimization, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified.\n</code></pre>\n\n<p>The assembly is referenced in the project and 'Copy Local' is set to 'True'. It's also added as a namespace in the razor configuration section.</p>\n\n<p>I suspect it's a general problem i'll encounter with other assemblies in the future.</p>\n\n<p><strong>Edit:</strong> I did the general setup to get Intellisense going in a razor view within a class library. Everything works so far, except that VS2010 doesn't recognize the Optimization Namespace.</p>\n"},{"tags":["php","performance","mvc","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12885270,"title":"Would there be benefit in CakePHP performance if it dropped support for JS/AJAX engines?","body":"<p>My main Question:</p>\n\n<p><strong>Is there any practical effect on performance of CakePHP (i.e. faster view rendering), if support for JS helpers was dropped from the core completely?</strong></p>\n\n<p>My reasoning: </p>\n\n<p>Right now CakePHP has a few classes that allow a programmer to create basic client-side code using PHP, both for things like effects and AJAX requests.</p>\n\n<p>There is some coupling with the View object, which could be degrading to performance.</p>\n\n<p>Considering that a lot of frameworks are moving to a RESTful model and in general it is hard to keep up with the changes of the client-side frameworks, while coupling them with the server-side framework, like CakePHP.</p>\n\n<p>I am wondering if it's worthwhile to drop support for JS/AJAX and focus on PHP framework patterns. Of course we lose the ability to write some JS code through the helpers, but in my opinion it is still best left to a JS framework. </p>\n\n<p>The benefits are reduced coupling, lighter weight, and possibly improved performance. </p>\n"},{"tags":["ruby-on-rails-3","mvc","rails-routing","railstutorial.org"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12878821,"title":"Extending ROR Tutorial: Microposts with their own page","body":"<p>I'm extending the functionality in Michael Hartl's ROR Tutorial, and I am trying to create individual pages for microposts. My question is very similar to <a href=\"http://stackoverflow.com/questions/10859118/ruby-on-rails-app-tutorial-cant-display-micropost-page\">this question</a>, but the answers to that question did not work for me.</p>\n\n<p>In the feed, when a title of a post is clicked I want it to go to a page for that post. For starters, every single post title links to the same URL: <strong>http://localhost:3000/microposts</strong> where I get a <strong>No route matches [GET] \"/microposts\"</strong> message.  I know something is missing that would make the link unique and take it to the the individual post. </p>\n\n<p>This is my <strong>_feed_item.html.erb:</strong></p>\n\n<pre><code>&lt;li id=\"&lt;%= feed_item.id %&gt;\"&gt;\n  &lt;%= link_to gravatar_for(feed_item.user), feed_item.user %&gt;\n  &lt;span class=\"title\"&gt;&lt;strong&gt;&lt;%= link_to feed_item.title, @micropost %&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;\n    &lt;span class=\"user\"&gt;\n      &lt;p&gt;&lt;small&gt;Created by: &lt;%= link_to feed_item.user.name, feed_item.user %&gt;&lt;br&gt;\n        &lt;%= feed_item.loc1T %&gt;&lt;br&gt;\n         &lt;%= feed_item.startTime.strftime('%A, %B %d, %Y') %&gt;&lt;/small&gt;&lt;/p&gt;\n    &lt;/span&gt;\n    &lt;span class=\"content\"&gt;&lt;%= feed_item.content %&gt;&lt;/span&gt;\n    &lt;span class=\"timestamp\"&gt;\n      Posted &lt;%= time_ago_in_words(feed_item.created_at) %&gt; ago.\n    &lt;/span&gt;\n  &lt;% if current_user?(feed_item.user) %&gt;\n    &lt;%= link_to \"delete\", feed_item, method: :delete,\n                                     data: { confirm: \"Are you sure?\" },\n                                     title: feed_item.content %&gt;\n  &lt;% end %&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>I added \"<code>:show</code>\" to <code>resources :microposts, only: [:create, :destroy, :show]</code></p>\n\n<p>This is my <strong>config/routes.rb:</strong></p>\n\n<pre><code>SampleApp::Application.routes.draw do\n  resources :users do\n    member do\n      get :following, :followers\n    end\n  end\n  resources :sessions, only: [:new, :create, :destroy]\n  resources :microposts, only: [:create, :destroy, :show]\n  resources :relationships, only: [:create, :destroy]\n\n  root to: 'static_pages#home'\n\n  match '/signup',  to: 'users#new'\n  match '/signin',  to: 'sessions#new'\n  match '/signout', to: 'sessions#destroy', via: :delete\n\n  match '/help',    to: 'static_pages#help'\n  match '/about',   to: 'static_pages#about'\n  match '/contact', to: 'static_pages#contact'\n</code></pre>\n\n<p>I added </p>\n\n<pre><code>def index\n      end\n</code></pre>\n\n<p>to my <strong>microposts_controller.rb:</strong></p>\n\n<pre><code>class MicropostsController &lt; ApplicationController\n  before_filter :signed_in_user, only: [:create, :destroy]\n  before_filter :correct_user,   only: :destroy\n\n  def index\n  end\n\n  def create\n    @micropost = current_user.microposts.build(params[:micropost])\n    if @micropost.save\n      flash[:success] = \"Micropost created!\"\n      redirect_to root_url\n    else\n      @feed_items = []\n      render 'static_pages/home'\n    end\n  end\n\n  def destroy\n    @micropost.destroy\n    redirect_to root_url\n  end\n\n  private\n\n    def correct_user\n      @micropost = current_user.microposts.find_by_id(params[:id])\n      redirect_to root_url if @micropost.nil?\n    end\nend\n</code></pre>\n\n<p><strong>$ rake routes</strong> regarding microposts looks like this:</p>\n\n<pre><code>    microposts POST   /microposts(.:format)          microposts#create\n     micropost DELETE /microposts/:id(.:format)      microposts#destroy\n               DELETE /relationships/:id(.:format)   relationships#destroy\n               GET    /microposts(.:format)          microposts#index\n               POST   /microposts(.:format)          microposts#create\n new_micropost GET    /microposts/new(.:format)      microposts#new\nedit_micropost GET    /microposts/:id/edit(.:format) microposts#edit\n               GET    /microposts/:id(.:format)      microposts#show\n               PUT    /microposts/:id(.:format)      microposts#update\n               DELETE /microposts/:id(.:format)      microposts#destroy\n</code></pre>\n"},{"tags":["mvc","interface","module","components","diagram"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12877938,"title":"modules contract by interface, diagram, logic, general informations","body":"<p>Here is my question, I hope that I'll write it correctly because it is a precise question.</p>\n\n<p>I wonder how to use the interfaces as a contract between two modules. When I draw the module diagrams I never knows which of the modules as the circle and which has the half-open circle. A clear way on how to make the distinction would be very appreciated!</p>\n\n<p>I don't want an example on how to use an interface because I know the properties of the interfaces (behaviors, etc).</p>\n\n<p>Let's say that I got 2 modules, one contains the Bussiness logic, so I'll call it \"Model\", the other contains the GUI so I'll call it \"View\".</p>\n\n<p>The view needs a Treeview and a Matrix on each nodes. So we got a tree-like hierarchie that the Model knows about, and for each node we want to fill a matrix of values.</p>\n\n<pre><code>root\n- node1\n-- leaf1\n-- leaf2\n- node2\n- node3\n-- leaf3\n-- leaf4\n</code></pre>\n\n<p>My guts are telling me that I should do something like this:</p>\n\n<pre><code>interface IModelHierarchicMatrix {\n    void setTreeViewValues(TreeViewModel treeview);\n    void getMatrixValues();\n    void setMatrixValues(int[] values);\n}\n\nclass Model implements IModelHierarchicMatrix {\n    // the code where I override the interface's function\n}\n</code></pre>\n\n<p>So nice, we can call the needed function for the GUI at the Model. But how can we tell the GUI's class that we need that kind of behaviors (class, etc)...\nI find myself often doing this kind of thing:</p>\n\n<pre><code>interface IModelHierarchicMatrixGlue {\n    void acceptModel(IModelHierarchicMatrix model);\n}\n\nclass Gui implements IModelHierarchicMatrixGlue {\n    private IModelHierarchicMatrix model;\n\n    ...\n\n    @Override\n    public void acceptModel(IModelHierarchicMatrix model) {\n        if (this.model == null) {\n            this.model = model;\n        }\n    }\n}\n</code></pre>\n\n<p>But I always wonder if it's a good way of creating the contract between the Model and the View.\nIf I got to create a bi-directional contract between the Modules, how should I do that? Because it might create a cyclic logic between the interfaces...</p>\n\n<p>I hope my question was clear enough, thanks in advance.</p>\n"},{"tags":["mvc","node.js","partial-views","railway.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12877573,"title":"Render partial in railway.js","body":"<p>I'm very new to node.js and I'm using the railway.js framework to learn MVC at the sametime. We use C# at work. I'm a front-end Dev.. I can't seem to figure out or see any documentation on how to render a partial view in railway properly. Any help would be appreciated. </p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12872577,"title":"return result from model to view (right MVC conception)","body":"<p>I dont know a good MVC pattern, now learn... So, I want to make: obtain rows from database, if result none (0 rows) print \"we have no results\", otherwise print results.</p>\n\n<p>In model I have this php code</p>\n\n<pre><code>function getAutos () {\n    //here connect to database\n\n    $res = $this-&gt;db-&gt;query(\"SELECT names FROM auto\");\n    if ($res-&gt;num_rows == 0) {\n        return \"we have no results\";\n    }\n    else {\n        return $res;\n    }\n\n}\n</code></pre>\n\n<p>this function  returns object or string, right? now in view I make:</p>\n\n<pre><code>&lt;!--some html code --&gt;\n&lt;?php\n$resultFromGetAutos  = /*result from function getAutos ()*/\n\nif (is_object(resultFromGetAutos)) {\n     while ($row = resultFromGetAutos-&gt;fetch_assoc()) {\n         echo row['names'].\"&lt;br&gt;\";\n    }\n}\nelse {\n    echo resultFromGetAutos;\n}\n?&gt;\n&lt;!--some html code --&gt;\n</code></pre>\n\n<p>It works, but as I understood, many PHP code  in view, is not right MVC, that is when I check result type in view: <code>if (is_object(Resultat)) {do something} else { do other something }</code>  this is not right MVC conception? if not right, how is right way in such situations?</p>\n"},{"tags":["jquery","mvc","spring-mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":79,"score":-3,"question_id":12874498,"title":"jQuery model-view-controller vs Spring MVC","body":"<p>my question is what potential problems or difficulties would be with implementing usual web app with somewhat reach user interface (multiple dynamic tabs, accordians and so on) using jQuery MVC approach with Spring REST vs using Spring MVC. \nProblems what I can think of could be: I will not be able to use Spring security fully, JavaScript coding could become hard to manage,  any form verification becomes not easy to manage...  what else?  and does jQuery MVC with REST make sense at all?\nOn other side jQuery with MVC and REST move all GUI concerns to JavaScript side (whether it is bad or not) and leave all data manipulation to server side.</p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12873655,"title":"Right mvc concept, little php code in view","body":"<p>I have one not understood point In MVC pattern. Please help understood.</p>\n\n<p>for example we have table for cars in database, we want obtain and print results from table, but if results are not found (0 rows), in this case print: \"We dont have results\"</p>\n\n<p>this is <code>models.php</code></p>\n\n<pre><code>class modesl {\n\nfunction getCars () {\n\n    $res = $this-&gt;db-&gt;query(\"SELECT names FROM cars\");\n    if ($res-&gt;num_rows == 0) {\n        return \"We dont have results\";\n    }\n    else {\n        return $res;\n    }\n\n}\n\n}\n</code></pre>\n\n<p>this is <code>views.php</code></p>\n\n<pre><code>class views {\n\n    function loadHTML ($resultFromCars) {\n         require 'carspage.php';\n    }\n\n}\n</code></pre>\n\n<p>this is <code>carspage.php</code></p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;?php\n\n    if (is_object($resultFromCars)) {\n        while ($row = $resultFromCars-&gt;fetch_assoc()) {\n            echo $row['names'].\"&lt;br&gt;\";\n        }\n    }\n    else {\n        echo  $resultFromCars;\n    }\n\n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>this is <code>controllers.php</code></p>\n\n<pre><code>class controllers {\n\n    function generatePage () {  \n        $model = new models();\n        $resultFromCars = $model-&gt;getCars();\n\n\n        $view = new views();\n        $view-&gt;loadHTML($resultFromCars);\n    }\n\n}\n</code></pre>\n\n<p>This works, but as I know, many php code in view, (that is condition <code>if (is_object) { } else { }</code> ) is not right MVC. tell please for this concret case, what must be change in my architecture (lol), for obtain right MVC concept?</p>\n"},{"tags":["android","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12872195,"title":"Passing data from Activity to model","body":"<p>I have a model represented with Foo object. Assume my model stores names and dates as following:</p>\n\n<pre><code>class Foo {\n  List&lt;String&gt; mNames;\n  List&lt;Date&gt; mDate;\n} \n</code></pre>\n\n<p>One of activities prints pairs of names-dates allowing user to modify the date: so there is a textView storing name and editText with date. </p>\n\n<p>How do I update the actual date in model except searching with the string key? I mean, the main problem is that I can modify my \"name\" field anyway before output. So I need to control my modification before using it as a key for update.</p>\n"},{"tags":["c#","mvc","iprincipal","iidentity"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1527,"score":0,"question_id":6597243,"title":"mvc implementing iprincipal and iidentity with use of custom membership and role provider","body":"<p>I'm stuck with the implementation of a custom iprincpal and iidentity object. I spend a day now for searching how to implement these right and extend it with more informations.</p>\n\n<p>I want to extend the Information @Context.User.Identity.Name with custom variables like full name or something else.</p>\n\n<p>Regards,\nfloat </p>\n\n<p>EDIT: Now i got the following code but if i try to read @((CustomPrincipal)Context.User.Identity).Nachname I'm getting a error that System.Web.Security.FormsIdentity could not be casted to CustomPrincipal. </p>\n\n<p>Any ideas?</p>\n\n<p>Class Custom Principal         </p>\n\n<pre><code>public class CustomPrincipal : GenericPrincipal\n{\n    public CustomPrincipal(IIdentity identity, String[] roles) : base(identity, roles){ \n\n    }\n    public String Vorname { get; set; }\n    public String Nachname { get; set; } \n}\n</code></pre>\n\n<p>AccountModel:</p>\n\n<pre><code>public class FormsAuthenticationService : IFormsAuthenticationService\n{\n    public void SignIn(string userName, bool createPersistentCookie)\n    {\n        if (String.IsNullOrEmpty(userName)) throw new ArgumentException(\"Der Wert darf nicht NULL oder leer sein.\", \"userName\");\n        // Grab user information to insert\n        KIMembershipUser membershipUser = (KIMembershipUser)Membership.GetUser(userName);\n        var customInfo = String.Format(\"{0}|{1}\", membershipUser.Vorname, membershipUser.Nachname);\n        // Create and encrypt the ticket\n        var ticket = new FormsAuthenticationTicket(\n            2, // Version number\n            userName, // Username\n            DateTime.Now, // Issue date\n            DateTime.Now.AddMinutes(30), // Expiration date\n            createPersistentCookie, // Is it persistent?\n            customInfo // User data\n        );\n        var encTicket = FormsAuthentication.Encrypt(ticket);\n        // Store the ticket into a cookie\n        var cookie = FormsAuthentication.GetAuthCookie(FormsAuthentication.FormsCookieName,createPersistentCookie);\n        cookie.Value = encTicket;\n        // Append the cookie to the response\n        HttpContext.Current.Response.Cookies.Add(cookie); \n\n        //FormsAuthentication.SetAuthCookie(userName, createPersistentCookie);\n    }\n\n    public void SignOut()\n    {\n        FormsAuthentication.SignOut();\n    }\n}\n</code></pre>\n\n<p>global.asax:</p>\n\n<pre><code>    protected void Application_PostAuthenticateRequest(){\n        // Collect current security information\n        var principal = HttpContext.Current.User as RolePrincipal;\n        if (principal == null)\n            return;\n        var identity = principal.Identity as FormsIdentity;\n        if (identity == null)\n            return;\n        var roles = principal.GetRoles();\n        // Extract user data in the authentication ticket\n        var customInfo = identity.Ticket.UserData;\n        var tokens = customInfo.Split('|');\n        // Build a richer principal object\n        var CustomPrincipal = new CustomPrincipal(identity, roles){\n            Vorname = tokens[0],\n            Nachname = tokens[1]\n        };\n        // Store the new principal in the HttpContext\n        HttpContext.Current.User = CustomPrincipal;\n    }\n</code></pre>\n"},{"tags":["mvc","architecture","coding-style","file-structure"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":56,"score":0,"question_id":12869724,"title":"Is it better practice to consolidate classes or have them all in separate files?","body":"<p>Are there any </p>\n\n<ol>\n<li>documented best practices one way or the other, or </li>\n<li>significant performance boosts for one or the other?</li>\n</ol>\n\n<p>I was having a debate with a friend and thought I would get the input from the community.</p>\n"},{"tags":["javascript","html","html5","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12831973,"title":"Backbone boilerplate router's root for offline and pre-production","body":"<p>I am using the backbone boilerplate here\n<a href=\"https://github.com/tbranyen/backbone-boilerplate\" rel=\"nofollow\">https://github.com/tbranyen/backbone-boilerplate</a></p>\n\n<p>I do development in static html/js offline and do test offline before uploading to another <strong>pre-production</strong> site online. What annoyed me is that the router works in <strong>pre-production</strong> but not offline. This is the <code>root</code> for pre:</p>\n\n<pre><code>  var app = {\n    // The root path to run the application.\n    root: \"/myfolder/\"\n  };\n</code></pre>\n\n<p>This is the URL for online <strong>pre-production</strong>:</p>\n\n<pre><code>http://www.mywebsite.com/myfolder/index.html\n</code></pre>\n\n<p>This is URL for offline:</p>\n\n<pre><code>file:///C:/Users/MyHome/Desktop/MyProject/MyApp/index.html\n</code></pre>\n\n<p>What do I use for <code>root</code> in offline? Is there a way NOT to keep changing <code>root</code> every time I upload to pre-production? Or does router not working in static html at all?</p>\n\n<p>p.s. This is the code in <strong>main.js</strong></p>\n\n<pre><code>Backbone.history.start({ pushState: true, root: app.root });\n</code></pre>\n"},{"tags":["mvc","frameworks"],"answer_count":10,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":361,"score":2,"question_id":785705,"title":"Which MVC framework","body":"<p>The following criteria has to be met:</p>\n\n<ul>\n<li>stable release (>= 1.0)</li>\n<li>strong community (e.g. lots of forum posts)</li>\n<li>active development (new releases coming out reasonably often)</li>\n<li>good documentation</li>\n<li>important: support (plugin, library, component) for embedding videos (videos will be hosted on local server, not on public video service provider). External component can be used.</li>\n<li>preferred if it's based on PHP, Java, Ruby, Python</li>\n</ul>\n"},{"tags":["ruby-on-rails","mvc","nested-resources"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12172391,"title":"Better way to optimize/refactor handling nested resources in Rails actions/views?","body":"<p>A friend of mine sent me some code who was having trouble understanding how nested resources work in Rails. Having worked with Rails for many years, I quickly explained it to him and then shared some code. Then I enhanced the code to show him an even better way.</p>\n\n<p>You can see the code at <a href=\"https://gist.github.com/3507589\" rel=\"nofollow\">this gist</a>. His code first, followed by my quick explanation code, and then a more complete/robust version.</p>\n\n<p>There are many ways to approach this. My question is, is there a better / more robust / more solid / more flexible / etc way than this? How do <strong>you other professionals</strong> do it?</p>\n"},{"tags":["php","mvc","datamapper"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":175,"score":4,"question_id":11942842,"title":"Who should handle the conditions in complex queries, the data mapper or the service layer?","body":"<p><a href=\"http://stackoverflow.com/questions/6624704/data-mapper-pattern-complexe-query-from-service-layer\">this question</a> did a very good job of clearing my confusion a bit on the matter, but I'm having a hard time finding reliable sources on what the exact limitations of the service layer should be.</p>\n\n<p>For this example, assume we're dealing with books, and we want to get books by author. The <code>BookDataMapper</code> could have a generic <code>get()</code> method that accepts condition(s) such as the book's unique identifier, author name, etc. This implementation is fairly trivial (logically), but what if we want to have multiple conditions that require a more complex query?</p>\n\n<p>Lets say we want to get all book written by a certain author under a specific publisher. We could expand the <code>BookDataMapper-&gt;get()</code> method to parse out multiple conditions, or we could write a new method such as <code>BookDataMapper-&gt;getByAuthorAndPublisher()</code>. </p>\n\n<p>Is it preferable to have the service layer call these [more specific] methods directly, or have the conditions parsed before calling the more generic <code>BookDataMapper-&gt;get()</code> method with multiple conditions passed? In the latter scenario, the service layer would do more of the logical \"heavy lifting,\" leaving the data mapper fairly simple. The former option would reduce the service layer almost entirely to just a middle-man, leaving conditional logic to the data mapper in methods like <code>BookDataMapper-&gt;getByAuthorAndPublisher()</code>.</p>\n\n<p>The obvious concern with letting the service layer parse the conditions is that some of the domain logic leaks out of the data mapper. (this is explained in the linked question <a href=\"http://stackoverflow.com/questions/6624704/data-mapper-pattern-complexe-query-from-service-layer#comment7833999_6626011\">here</a>. However if the service layer was to handle the conditions, the logic wouldn't make it out of the model layer; The controller would call <code>$book_service-&gt;getByAuthorAndPublisher()</code> regardless.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":70,"score":4,"question_id":12866506,"title":"Multiple MVC projects structure","body":"<p>I need help designing a MVC structure for use in a team environment?  Here is a short explanation of what we are doing:</p>\n\n<ul>\n<li>We have different departments that we will be moving to the web (MVC).  For instance, we have a Census Dept, Pipeline Dept, &amp; Compset Dept, etc.</li>\n</ul>\n\n<p>Options:</p>\n\n<ol>\n<li>I can setup a normal MVC solution in Visual Studio for each module.  So I could have a VS Solution for Census, one for Pipeline, etc.  That is all fine but I want to have a shared view(s) that can be used across projects (similar to a Master Page).  How would that work in this scenario?</li>\n<li>I can setup one MVC application that has Areas for each of the departments.  Not a bad option.  It solves my shared views issue.  However, I could end up with 12-15 different areas by the time we are done.  That is a lot of sub folders and code in one huge solution.  Not to mention the fact that I might want to separate my Model &amp; Repository out into their own projects.  Could that even be handled using Areas?</li>\n<li>If there are better idea for this, I'd appreciate help.</li>\n</ol>\n\n<p>We have 8 - 10 developers who will be working on this application(s) moving forward so I just want to make sure I have the best structure possible.</p>\n"},{"tags":["ruby-on-rails-3","mvc","redirect","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12867272,"title":"Rails 310 Redirect Loop","body":"<p>I'm going back to write a basic app with projects that have tasks.  In my show view of a project I want to list the tasks and also include a form.  When I wire this all up I get 310 Redirect loop.  It's been a while since I've written anything from scratch so would appreciate some help looking at my code.</p>\n\n<p>controller code:</p>\n\n<pre><code>def show\n     @project = Project.find(params[:id])\n     @task = @project.tasks.new(params[:task])\n\n     if @task.save\n         redirect_to @project, :notice =&gt; \"Task added\"\n       else\n         render action: :show\n       end\n   end\n</code></pre>\n\n<p>view code:</p>\n\n<pre><code>&lt;%= @project.project_name %&gt;\n&lt;%= form_for(@task) do |m| %&gt;\n&lt;%= m.label :Task %&gt;\n&lt;%= m.text_field :task_name %&gt;\n&lt;%= m.button :submit %&gt;\n&lt;% end %&gt;\n&lt;% @project.tasks.each do |t| %&gt;\n  &lt;%= t.task_name %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>project.rb</p>\n\n<pre><code>has_many :tasks\n</code></pre>\n\n<p>task.rb</p>\n\n<pre><code>belongs_to :project\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","mvc","post","iframe"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12864719,"title":"submit form in ruby on rails where action is your full url","body":"<p>So a follow up to this question: <a href=\"http://stackoverflow.com/questions/12844277/getting-bad-request-from-ruby-on-rails-ssl-post\">getting bad request from ruby on rails ssl post</a>. </p>\n\n<p>I fixed that problem and I make the next step in the transaction no problem. The problem I am facing is that their response is sent to an iFrame as a hidden form on an html document. The form then posts to a url that I provide them. </p>\n\n<p>I have tried giving them <code>localhost:3000/policies/complete</code> making a controller action and a route resource for the post but it doesn't ever show anything.\n- It just says <code>javascript error unable to load resource: localhost:3000/policies/complete</code> </p>\n\n<p>So then I tried just <code>/policies/complete</code> (with the coresponding method in my policies controller <code>complete</code>) but for some reason instead of posting to that action - it posted to <code>theirwebserver.com/policies/complete</code> which obviously doesn't exist.</p>\n\n<p>So since it looks like I have to pass in a whole url for it to work correctly the form is going to look like: <code>&lt;form method='Post' action='whatever whole url I give them'&gt;</code></p>\n\n<p>The form looks like this:</p>\n\n<pre><code>&lt;form name=\"frmReturn\" method=\"Post\" action=\"localhost:3000/policies/hosted_checkout_complete\"&gt;\n    &lt;input name=\"PaymentID\" type=\"hidden\" value=\"the value you need really badly!\"&gt;\n    &lt;input name=\"ReturnCode\" type=\"hidden\" value=\"0\"&gt;\n    &lt;input name=\"ReturnMessage\" type=\"hidden\" value=\"Your transaction has been approved.\"&gt; \n&lt;/form&gt;\n</code></pre>\n\n<p>Tl:DC How do I set up my app to handle that?</p>\n\n<p>I can request that they use <code>get</code> to send the information back to me. If that would be easier to set up and accept please let me know!</p>\n"},{"tags":["cocoa-touch","memory-management","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":2483,"score":7,"question_id":1842967,"title":"Using dismissModalViewControllerAnimated won't free any memory","body":"<p>I have a very simple code to show a modal controller (nextController is a class member):</p>\n\n<pre><code>nextController = [[InstructionsScreen alloc] initWithNibName:@\"InstructionsScreen\" bundle:nil];\n[self presentModalViewController:nextController animated:YES];\n[nextController release];\n</code></pre>\n\n<p>And then when the controller should hide:</p>\n\n<pre><code>[self dismissModalViewControllerAnimated:YES];\nnextController = nil;\n</code></pre>\n\n<p>All works good as expected, but when I run instrument Object Allocations it shows that after dismissing the modal controller the memory it allocated is not freed. This becomes a problem because when I show several controllers the memory is over ... </p>\n\n<p>Can anybody give me some clues ? Clang doesn't see any problems, so I'm stuck hitting the memory limit, because the memory of the dismissed controllers won't get released.</p>\n\n<p><hr></p>\n\n<p>EDIT: What I discovered up to now is that it seems to be a leak somewhere in Apple's stuff. Way to reproduce: XCode -> create new project with the template \"Utility application\". Don't write any code yourself. Just create a new utility application and run it with \"Object allocations\", choose to see \"Created &amp; Still living\". Now flip the modal controller few times - you'll see the allocated memory only grows and grows every time the modal controller is appearing and when it's disappearing too ... </p>\n"},{"tags":["objective-c","mvc","architecture"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12822343,"title":"Subview vs childViewController","body":"<p>This is a general question but I'll ask it using a specific example to avoid confusion:</p>\n\n<p>I'm developing an app that has a UIPickerView among other things on a single screen. I was wondering if it's appropriate the make a custom PickerViewController class to control my UIPickerView and then add my PickerViewController as a childVC...</p>\n\n<p>OR should I just create an instance of UIPickerView in my existing VC and control it from there? </p>\n\n<p>When should I do either of these options and what are the advantages of them?</p>\n\n<p>Appreciate the help amigos.</p>\n"},{"tags":["mvc","jsf","model-2-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":233,"score":0,"question_id":11283282,"title":"request.getParameter() returns null","body":"<p>Got a homework assignment that is giving me problems....  Its modifying a JSF project with two pages and a bean to fit MVC2 by adding two more pages and a controller servlet and another bean for the two additional pages.  the new main page forwards to either the second new page or the old first page.  My issue is response.getParameter() always results in null.</p>\n\n<pre><code>&lt;%@page session=\"false\" import=\"java.util.Iterator\"%&gt;\n&lt;%@taglib prefix=\"f\" uri=\"http://java.sun.com/jsf/core\"%&gt;\n&lt;%@taglib prefix=\"h\" uri=\"http://java.sun.com/jsf/html\"%&gt;\n&lt;jsp:useBean id=\"status\" scope=\"request\" class=\"JSFRegistration.Status\" /&gt;\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n    \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;% if (status!=null &amp;&amp; !status.isSuccessful()){%&gt;\n            &lt;font color=\"red\"&gt;Processing errors:\n                &lt;ul&gt;&lt;%Iterator errors=status.getExceptions();\n            while (errors.hasNext()){\n                Exception e = (Exception) errors.next();%&gt;\n                &lt;li&gt;&lt;%= e.getMessage()%&gt;&lt;%}%&gt;&lt;/ul&gt;&lt;/font&gt;&lt;%}%&gt;\n        &lt;form action=\"LoginServlet\" method=\"POST\"&gt;\n            &lt;% String username = request.getParameter(\"username\");\n            if (username==null) username=\"\";%&gt;\n            &lt;input type=\"text\" name=\"usernameTF\" value=\"&lt;%=username%&gt;\" /&gt;\n            &lt;% String password = request.getParameter(\"password\");\n            if (password==null) password=\"\";%&gt;\n            &lt;input type=\"password\" name=\"passwordTF\" value=\"&lt;%=password%&gt;\" /&gt;\n            &lt;input type=\"submit\" value=\"Login\" /&gt;\n        &lt;/form&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>this is basically a direct copy from our book but the fields I need for the new main page.  Same for the controller servlet, a direct copy except only contains the fields I need.</p>\n\n<pre><code>protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    RequestDispatcher view = null;\n    Status status = new Status();\n    request.setAttribute(\"status\", status);\n    String username = request.getParameter(\"username\");\n    String password = request.getParameter(\"password\");\n    if (username==null || username.length()==0)\n        status.addException(new Exception(\"Please enter username\"));\n    if (password==null)\n        status.addException(new Exception(\"Please enter password\"));\n    if (!status.isSuccessful()){\n        view = request.getRequestDispatcher(\"Login.jsp\");\n        //view.forward(request, response);\n    }\n    else\n        try{\n            request.setAttribute(\"username\", username);\n            request.setAttribute(\"password\", password);\n        view = request.getRequestDispatcher(\"Registration.jsp\");\n        } catch (Exception e) {\n            status.addException(new Exception(\"Error\"));\n            view = request.getRequestDispatcher(\"Login.jsp\");\n        }\n    view.forward(request, response);\n}\n</code></pre>\n\n<p>and the Status class, again a direct copy from the book.</p>\n\n<pre><code>public class Status {\nprivate ArrayList exceptions;\n\npublic Status(){\n    exceptions = new ArrayList();\n}\npublic void addException(Exception exception) {\n    exceptions.add(exception);\n}\npublic boolean isSuccessful(){\n    return (exceptions.isEmpty());\n}\npublic Iterator getExceptions(){\n    return exceptions.iterator();\n}\n</code></pre>\n\n<p>regardless of what is typed into the two boxes, stepping through a debug shows the values not getting passed to the parameters.  I get the created exceptions printed above the screen for both fields if both have text, if only one has text and when both are empty.  </p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":909,"score":2,"question_id":9776312,"title":"Hidden form fields not appearing in MVC Model after post-back","body":"<p>I have a new MVC 4 Application with a fairly basic View/Controller. The associated Model contains a couple properties that I've mapped to <strong>Hidden</strong> form fields. When the Page renders the first time (<em>e.g. via the HttpGet Action</em>) it all looks fine. But when the form is Post'ed by selecting the Submit button the resulting Model presented to the Action no longer has the Hidden field values set. Here is a walkthrough of the particulars.</p>\n\n<p>Here is a sample of the <strong>Model</strong>:</p>\n\n<pre><code>public class Application\n{\n    public bool ShowSideBars { get; set; }\n}\n</code></pre>\n\n<p>Here is the initial <strong>Controller</strong> *<em>Action</em>* (<em>which seems to work fine</em>):</p>\n\n<pre><code>[HttpGet]\npublic ActionResult Application()\n{\n    var model = Request.ParseFromQueryString&lt;Application&gt;();\n    model.ShowSideBars = true;\n\n    return View(model);\n}\n</code></pre>\n\n<p>This maps to the <strong>View</strong> as follows:</p>\n\n<pre><code>&lt;fieldset&gt;\n    @Html.HiddenFor(m =&gt; m.ShowSideBars)\n...\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>This results in the following <strong>mark-up</strong> to be rendered inside the fieldset:</p>\n\n<pre><code>&lt;input data-val=\"true\" data-val-required=\"The ShowSideBars field is required.\" id=\"ShowSideBars\" name=\"ShowSideBars\" type=\"hidden\" value=\"True\" /&gt;\n</code></pre>\n\n<p><em><strong>Note</strong>: I sure wish I knew why MVC has decided to add the '... field is required' content when I didn't flag it as required, but that's for another question</em></p>\n\n<p>Here is the <strong>Action</strong> that is called when the form is submitted. At this point the aforementioned property will no longer be set to '<strong>true</strong>'. </p>\n\n<pre><code>[HttpPost]\npublic ActionResult Application(Application application)\n{\n    // Other work done here\n\n    return View(application);\n}\n</code></pre>\n\n<p>At present, there are no custom Model Binders. Also, I've tested some other data types and I'm seeing the same thing. </p>\n\n<p>Can someone explain why hidden form values are not being returned? Am I just doing this all wrong?</p>\n"},{"tags":["mvc","magento","shipping"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":174,"score":1,"question_id":6288738,"title":"Magento Shipping Options","body":"<p>I'm making a shipping module for Magneto.\nCan't figure out how to include a text-box or any other form elements in the shipping module.\nLike for example if I need to have special instructions box for shipping.</p>\n\n<p>Does anyone know how I can do this? In which file to add the code? config.xml, system.xml or the PHP file?</p>\n\n<p>I've managed to add a box in the admin side of it. But I need that to show up on the front end as well.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","sencha-touch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12865355,"title":"How to create an simple login and logout application in sencha touch","body":"<p>I am new to sencha touch but i have some experience on extjs like designing screens and using mvc so i am creating an phone based application which can do login and load's screen according to the user specified like if we are going for admin so it should open all screens or if am going with some other username it just open other screen like profile or something i wanna specify</p>\n\n<p>Basically creating a login and logout function/or screen based on Sencha touch 2 and i have desgined few screens like two textareas and a button if you wanted to take a look i can provide you the url </p>\n\n<p>Any references will sure help ....</p>\n\n<p>Thanks  </p>\n"},{"tags":["mvc","zend-framework","zend-acl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12852338,"title":"Zend_ACL - Cannot use my current model with it, I think I'm doing MVC the wrong way here","body":"<p>I've just started using Zend_ACL to restrict access to certain controllers based on user roles. Its working pretty fine except however now I need to set it up so that users can only access their own records. For example my application allows people to make bookings. I need to restrict using ACL that users can only view their own bookings on the application while administrators can see all bookings.</p>\n\n<p>I read about using assertations but some how I think I've been using my models the wrong way. Here is how I set up a typical model.</p>\n\n<pre><code>&lt;?php\n\nclass Model_Bookings extends Zend_Db_Table {\n\n  //class Variable\n  protected $_name = 'bookings';\n  protected $_primaryKey = 'id';\n\n  function _toArray($a, $index='id', $value='title') {\n  }\n\n  function add($data) {\n  }\n\n  function update($data) {\n  }\n\n  function delete($id) {\n  }\n\n\n  function get($id = false, $options = false) {\n\n  }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>The model in this case doesn't correspond to a single instance of the booking object :( how can I use such a model in this case when restricting views using ACL i.e how can I set it up so that when the user goes to list of bookings he sees only his bookings. Do I need to do some major refactoring here? Please help.</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12850028,"title":"MVC3 Html.DropDownList — Value of DropDownList never changes","body":"<p>I have a DropDownList control inside of my model, TaskDetailsModel. I've declared my DropDownList as:</p>\n\n<pre><code>&lt;%= Html.DropDownListFor(model =&gt; model.TaskType, new SelectList(Model.TaskTypeDisplayNames, Model.TaskTypes))%&gt;\n</code></pre>\n\n<p>My model's corresponding class contains the following property declarations:</p>\n\n<pre><code>public class TaskDetailsModel\n{        \n    [DisplayName(\"Task Type\")]\n    public TaskType TaskType { get; set; }\n\n    public List&lt;TaskType&gt; TaskTypes = new List&lt;TaskType&gt; { TaskType.Decommission, TaskType.Install, TaskType.Modify, TaskType.Move, TaskType.Other, TaskType.Rename };\n    public List&lt;string&gt; TaskTypeDisplayNames = new List&lt;string&gt; { \"Decommission\", \"Install\", \"Modify\", \"Move\", \"Other\", \"Rename\" };\n}\n</code></pre>\n\n<p>When everything loads and displays to the user -- the correct TaskType selection has been made. That is, I have no problem loading with the non-default select option. As such, I believe that at least part of this code is working properly.</p>\n\n<p>However, any changes made to the select are lost. When I attempt to post my form back to the server -- I see that my selected option never changes. I was wondering what I am doing incorrectly to incur such behavior.</p>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>public TaskDetailsModel(Task task)\n{\n    TaskType = task.TaskType;\n}\n\n//Client-side code to retrieve form values:\nvar getDialogData = function () {\n    var dialogData = {};\n\n    $(workflowDialogContent).find('input,p,select').each(function () {\n        if ($(this).is('input')) {\n            dialogData[this.id] = $.trim($(this).val());\n        }\n        else if ($(this).is('select')) {\n            //At this point in time the selected option does not match what I see on the screen. The user has modified the selected value. I do not see it reflected here.\n            console.log(\"Inside here for:\", this);\n            dialogData[this.id] = $.trim($(this).find('option:selected').val());\n        }\n        else {\n            dialogData[this.id] = $.trim($(this).text());\n        }\n    });\n\n    return JSON.stringify(dialogData);\n};\n</code></pre>\n"},{"tags":["php","mvc","iis7"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":76,"score":-2,"question_id":12862815,"title":"One model, one view, one controller. Is there any very simple way to show this in an example?","body":"<p>I have searched and read about mvc.  I understand MVC.  I am only stuck on the beginnings.  If I can just get that rolling, I'll be alright to continue.  But as soon as I get going the writer throws in something they don't explain.  Example, they will show a model extends some class, but they never show you that class or don't explain it.  I know this has been asked a bunch on SO, but it seems to degrade into complexity too fast.</p>\n\n<p>Is it possible to just have one model, one controller, and one view and show that as an example?  Am I making it too simple?</p>\n\n<p>I have looked at various premade frameworks, codeigniter, wigbi, skinnymvc, etc.  I do not want to use them right now.  I understand OOP and OOD.  I just can't put this together for whatever reason.  Thanks for anything that shows a model, a controller, a view, one system, three pages, that isn't secretly three gigantic pages that are masquerading as simple, maybe just a select * from users.  I am trying to use PDO if that matters.</p>\n"},{"tags":["mvc","grails","scaffolding"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12861768,"title":"Scaffolding with Grails - How to use custom actions for custom views with the templates plugin","body":"<p>I need to build my own view which can be displayed by the default scaffolding mechanism. I've already installed the templates plugin with which you can modify the default layout of domain classes, controllers, views and a lot more.</p>\n\n<p>Therefore i've designed my own layout with the thought to display just forms and lists of data. Especially when i need to add some data via AJAX i need to load the rendered form for that via a scaffolded controller in a div-container.</p>\n\n<p>My controller looks like this:</p>\n\n<pre><code>class DummyController {\n static scaffold = true\n\n def ajx_create() {\n    render(view: \"ajx_create\")\n }\n}\n</code></pre>\n\n<p>Calling the function render('hello world') within the action ajx_create works but trying to call render(view:'ajx_create.gsp') does not. </p>\n\n<p>How can i configure the scaffolding mechanism to display this new file called ajx_create.gsp?\nIs this even possible? </p>\n\n<p>I'm grateful for any help!</p>\n"},{"tags":[".net","mvc","integration-testing","mstest"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":105,"score":2,"question_id":10270030,"title":"Can't get MvcIntegrationTestFramework to work","body":"<p>I'm trying to get Steven Sanderson's <a href=\"http://blog.stevensanderson.com/2009/06/11/integration-testing-your-aspnet-mvc-application/\" rel=\"nofollow\">MvcIntegrationTestFramework</a> to work with our MVC 4 application. I really like the idea of being able to write integration tests that does not require a browser yet tests the entire flow.</p>\n\n<p>I can’t get this to run. When I execute a very simple test all I get is this:</p>\n\n<blockquote>\n  <p>Unable to create instance of class website.tests.UnitTest1. Error:\n  System.InvalidOperationException: Could not load\n  MvcIntegrationTestFramework.dll within a bin directory under\n  C:[path]\\Website. Is this the path to your ASP.NET MVC application,\n  and have you set up a post-build event to copy your test assemblies\n  and their dependencies to this folder? See the demo project for an\n  example..</p>\n</blockquote>\n\n<p>It is the correct path to the MVC application and I’ve put the test project beside it in the solution. I’ve also set up the post-build copy string and it copies the .dll files which I verify by looking in the MVC apps bin folder. Still it claims it can’t find the <code>MvcIntegrationTestFramework.dll</code></p>\n\n<p>I’m using MSTest as test framework.</p>\n\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["c#","jquery","ajax","mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3226,"score":4,"question_id":2526694,"title":"MVC partial page update","body":"<p>I have an MVC project where I have a form with fields a user can enter and save.  On that same page I have a table which shows a brief listing of information that the user just saved.  The problem I am having is trying to update only the table after a save and not an entire page refresh.  </p>\n\n<p>Is this possible in jquery or MVC?  If so does anyone have an example.    </p>\n\n<p>Here is what the action in the controller looks like:</p>\n\n<pre><code>public ActionResult RefreshList()\n    {\n        string _employeeID = Request.QueryString[\"empIDSearch\"];\n        this.ViewData[\"coursehistorylist\"] = _service.ListCoursesByEmpID(_employeeID);\n        return View(\"CourseHistoryList\");\n    }\n</code></pre>\n\n<p>The function in the view: (and this is where I'm confused on how to update only the table)</p>\n\n<pre><code>$.ajax({\n        url: \"/Home/RefreshList\",\n        type: \"POST\",\n        success: function(result) {\n            alert(\"got here\");\n        },\n        error: function(xhr, ajaxOptions, thrownError) {\n            alert(xhr.status + \" \" + thrownError + \" \" + ajaxOptions);\n        }\n    });\n</code></pre>\n\n<p>Grabbing the ViewData from the controller:</p>\n\n<pre><code>&lt;% foreach (var item in\n  (IEnumerable&lt;EdMVC.Models.tblEdCourse&gt;)ViewData[\"coursehistorylist\"])\n {\n%&gt; \n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["asp.net-mvc","mvc","separation-of-concerns"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12844525,"title":"Separation of Concerns, Business logic vs Presentation logic","body":"<p>In MVC or in general, when trying to separate business logic from the view, how far do you go in terms of removing logic from the views? Should a view have zero logic? Should there be multiple static views with simple \"holes\" that variables fill, or can we have a single view that can output different html depending on the situation?</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Your name is @uname&lt;/h1&gt;\n        @if(account&lt;3000) { \n             &lt;p&gt;You are an ok customer&lt;/p&gt;\n        } else { \n             &lt;p&gt;You are a great customer&lt;/p&gt;\n        }\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Is the above OK, or should there be two views, one for an OK customer, and one for a great customer?</p>\n"},{"tags":["php","mvc","dependency-injection"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":8249986,"title":"Dependency Injection of optional user components","body":"<p>I've been trying to build my own PHP MVC framework purely as an educational exercise and I wanted some input on how best to deal/design the framework to support dependency injection of optional user components. </p>\n\n<p>For example, there is a 'core' framework config object and then, under the application folder, the user could specify their own application config file/object should they require it. </p>\n\n<p>Rather than create the core config object within a specific controller, I inject the core config object into the controller as this will make testing easier (and follows the principle of dependency injection). </p>\n\n<p>This is all well and good and makes sense, but what happens with the application config object? A user could use the framework and NEVER need an application specific config obejct/file and so injecting an application specific config object for every controller seems inefficient and a waste (on resources).</p>\n\n<p><strong>So basically what I'm asking is how can I support dependency injection of components that the user may or may not need?</strong></p>\n\n<p>Please keep in mind that I've very new to the idea of dependency injection and TDD, so I'm guessing there's a very trivial solution to the question above, but I haven't stumbled across it yet from all the articles I've read. </p>\n\n<p>I thought I found the answer in this <a href=\"http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone/\" rel=\"nofollow\">http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone/</a> Misko Hevery article, but I think factories do not solve the problem of optional user components. </p>\n"},{"tags":["javascript","mvc","extjs","extjs4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12857923,"title":"Ext.ComponentLoader lazy loading html+js within component","body":"<p>I have four files:</p>\n\n<pre><code>layout.html //contains ext resources\nlayout.js //contains my panel\npartial.html //contains &lt;script src=\"partial.js\"&gt;\npartial.js //contains a component\n</code></pre>\n\n<p>I have this panel configured in my layout.js:</p>\n\n<pre><code>var myPanel = Ext.widget('panel',{\n    title: 'Load HTML into panel',\n    html: 'initial',\n    width: 300,\n    height: 300,\n    loader: {\n        url: 'partial.html',\n        renderer: 'html',\n        scripts: true,\n        autoLoad: true\n    },\n    renderTo: Ext.getBody()\n});\n</code></pre>\n\n<p>And this code in my partial.js</p>\n\n<pre><code>Ext.onReady(function(){\n\n    var myDynPanel = Ext.widget('panel',{\n        title: 'Is this working',\n        html: 'Dynamic test',\n        //renderTo: 'myDynPnl'\n    });\n\n});\n</code></pre>\n\n<p>I want to render <em>myDynPanel</em> inside my <em>myPanel</em>. I am aware that the <code>renderer</code> config on the loader can be set to component, but I'm working with C#.NET MVC and I'm getting partial views results as HTML.</p>\n\n<p>My solution now is create a <code>&lt;div id=\"myDynPnl\"&gt;&lt;/div&gt;</code> inside partial.html and render the dynamic panel to the div. But I don't want to use id in my page.</p>\n\n<p>What is the best way to accomplish this. Thanks in advance.</p>\n\n<p>using:\nExtJS 4.1.2</p>\n"},{"tags":["android","mvc","class"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":12817350,"title":"Gui is update before function's execution complete","body":"<p>I have two activities in which I am using the same code for add, update and delete with an <code>AlertDialog</code>. Now I want to write that code in class file and then access that function from my  activities. I also want the <code>UI</code> to be updated only after the function completes execution.</p>\n\n<p>I have tried calling the function of class file like </p>\n\n<pre><code>Contact_update c=new Contact_update(context);\nc.delete();\nmyactivityfunction_gui_update();\n</code></pre>\n\n<p>But the problem is that before the function is completed the execution of the  <code>myactivityfunction_gui_update();</code> is getting called so I can't get updated result in my activity. Can anybody tell me what is the correct way?</p>\n"},{"tags":["php","oop","mvc","yii"],"answer_count":3,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":484,"score":7,"question_id":6289067,"title":"How to come up with a plan when developing a website with Yii","body":"<p>I am new to OOP and MVC, but have been programming procedurally with PHP for several years. Now its time to dive into OOP and MVC. I have installed a new web app with Yii and need a bit of direction. My client wants me to fork a website from the procedural PHP I coded to the Yii framework using OOP. The website contains recipes, comments, user registration, submit recipes, comment on them, manage their account, etc. Also, will be adding a new feature of user badges and tags similar to how SO uses them.</p>\n\n<p>My question is how to come up with a plan of attack using OOP. Would it be best to have a controller for each feature of the website, like RecipeController, and TagsController, and ViewRecipeController, BadgesController, AccountController, etc. or is that too simplified?</p>\n\n<p>Sorry, but with this being my first venture into OOP, and a framework, I'm a bit hesitant to start blindly. I have seen plenty of Hello World tuts but they don't reveal much else than the very basics. I'm looking for more information about planning the project and how to break it down into parts so it is logical and I won't have to start over a week from now because I didn't think of something or didn't know at the time. Just trying to get all my ducks in a row first.</p>\n\n<p>Thanks for the assistance!</p>\n"},{"tags":["mvc","xna","xna-4.0"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12853896,"title":"MVC in XNA game development - Am I doing it right? Rudimentary MVC GameEngine","body":"<p>I've read a lot about using MVC in game development and it seems to be a good way (speaking of testing, code reusing, etc ...)</p>\n\n<p>I created a XNA project and tried to implement MVC. But I'm not sure if I'm doing it right.\nYou can find the project at <a href=\"https://github.com/bux578/XNA-MVC-Template\" rel=\"nofollow\">https://github.com/bux578/XNA-MVC-Template</a> </p>\n\n<p>(Could you have a look at it?)</p>\n\n<hr>\n\n<p>I seperated the game into three blocks:</p>\n\n<ul>\n    <li>Renderers (the \"View\")</li>\n    <li>GameObjects and GameLogic (the \"Model\")</li>\n    <li>Controllers</li>\n</ul>\n\n<p>On top of these components is a GameEngine object (created by the XNA game class) which instantiates all of the components and handles the draw and update methods (game class calls <code>GameEngine.Draw</code> and <code>GameEngine.Update</code>)</p>\n\n<p>Additionally GameEngine creates the Player object and a World object.\nAll <code>GameObjects</code> are POCOs. The World holds the Player, the \"obstacles\" and \"enemies\".</p>\n\n<p>The World is passed as an argument to the <code>Renderers</code> so they have access to the object they need to draw and the world (if the objects need to visually interact with the world).</p>\n\n<p>The <code>Controller</code> recieves input and changes the model by using the <code>GameLogic</code>.</p>\n\n<hr>\n\n<p>If it's somehow helpful to you, feel free to extend, fork or copy it.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":102,"score":2,"question_id":12851919,"title":"Clueless About Rails... Demystify how to use variables across controllers views and models please","body":"<p>I am new to ruby and a total noob in rails. My head is spinning with octothorps and cucumber and BDD after reading Michael Hartl's tutorial.</p>\n\n<p>I have experience in server side development using Archaic Java and ugly jsp/servlets. I wanna be cool and learn rails.</p>\n\n<p>Need help understanding basic Rails Concepts, even after reading the book, it just doesn't click:</p>\n\n<ol>\n<li>I thought I knew how to use the darn instance variables across the Models, views and controllers, but when I use them things don't work. I need the rules for where I can use them, when and how. I kinda get how to use instance variables from the controller to the view. But Model to controller? - Clueless. </li>\n<li>Methods in the model, why do they need to be methods? Can i just create variables and use them in my controllers and views? How does that part work.</li>\n<li>um, sort of like the first question.. Variable usage in models and controllers ... ??</li>\n</ol>\n"},{"tags":["jquery","ajax","json","spring","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3370,"score":1,"question_id":8653915,"title":"JQuery send JSON to Spring MVC controller","body":"<p>I' not able to send a JSON object with JQuery Ajax to a Spring MVC controller. This is the definition of the method of my controller: </p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"InboxViewTemplate\")\npublic class InboxViewController {\n\n@ResponseBody\n    @RequestMapping(value = \"updateInboxView\")\n    public String updateInboxView(HttpServletRequest request, InboxView inboxView) {\n...\n}\n</code></pre>\n\n<p>then I'm trying to invoke this request:</p>\n\n<pre><code>$.ajax({\n            dataType: 'json',\n            contentType: \"application/json\",\n            url: ctx + \"/InboxViewTemplate/updateInboxView\",\n            data: ({inboxView : {createUser:\"dave\"}}),\n            success: function(data) {\n                $(\"#updateInboxView\").html(data);\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                alert(jqXHR + \" : \" + textStatus + \" : \" + errorThrown);\n            }\n          });\n      }\n</code></pre>\n\n<p>but the JSON object is not passed. Can someone help me? Thanks in advance.</p>\n"},{"tags":["mvc","asp.net-mvc-2","controller","datatables"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":117,"score":1,"question_id":10687981,"title":"Server side for datatables in MVC not working on deployment","body":"<p>I am using server side processing for my datatables in MVC 2.0 . I have a controller which I am using to handle the incoming requests.\nWhen I view the page on my localhost , it works fine and this is a sample of the request header it sends</p>\n\n<pre><code>http://localhost:42417/EmissionByRegion/DataProviderAction?_=1337611318226&amp;sEcho=1&amp;iColumns=40&amp;sColumns=&amp;iDisplayStart=0&amp;iDisplayLength=10&amp;mDataProp_0=0&amp;mDataProp_1=1&amp;mDataProp_2=2&amp;mDataProp_3=3&amp;mDataProp_4=4&amp;.......[it goes on till 39 columns]\n</code></pre>\n\n<p>This gets a valid json response and everything works well.\nBut when I publish this code on a server which is using IIS 7.5 , when there is a postback to the server with the same request parameters:</p>\n\n<pre><code>http://domain.com/EmissionByRegion/DataProviderAction?_=1337612368137&amp;sEcho=1&amp;iColumns=40&amp;sColumns=&amp;iDisplayStart=0&amp;iDisplayLength=10&amp;mDataProp_0=0&amp;mDataProp_1=1&amp;mDataProp_2=2&amp;mDataProp_3=3&amp;mDataProp_4=4&amp;........\n</code></pre>\n\n<p>I get a 404 - File or directory not found.</p>\n\n<p>If i just type this : domain.com/EmissionByRegion/DataProviderAction</p>\n\n<p>, it shows that the controller is there and is looking for valid parameters. So it is picking up the controller but when the parameters are being passed, it doesnt work.\nWhy is the same project not working on the server even though it was working on the local machine and what do I do to get it to work?\nPlease help .\nThanks </p>\n"},{"tags":["php","mysql","mvc","doctrine","relational-database"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12850629,"title":"Doctrine, Entities design for simple CMS?","body":"<p>Im trying to build blog system using my homemade PHP MVC Framework.\nFramework layer is pretty nice, I have routing and dispatcher that invokes appropriate controller. From controller I have access to Dependency Injection Container where I can get services defined in config like this:</p>\n\n<pre><code>$orm = $this-&gt;container-&gt;getService(\"DoctrineOrm\");\n$pages = $orm-&gt;getRepository('Models\\Entities\\PagesRepository')-&gt;getAllPages();\n</code></pre>\n\n<p>Now Im stuck with building database schema for this application. Its something like Micro CMS. I would like to have pages, that would be joust static pages with page_url, and page_content. But I also want to have blog that would have posts, categories, comments etc...</p>\n\n<p>Im using Doctrine ORM for mapping.</p>\n\n<p>Routes look like this:</p>\n\n<pre><code>'/'                           =&gt; 'Page-&gt;index()',\n'/{pageurl}'                  =&gt; 'Page-&gt;page($pageurl)', // shows page with url = {$pageurl}\n\n'/{pageurl}/post/{url}'       =&gt; 'Blog-&gt;post()', // shows post with url =&gt; {$url}\n'/{pageurl}/posts/{num}'      =&gt; 'Blog-&gt;posts()', // lists 10 posts starting with {$num}\n'/{pageurl}/category/{url}'   =&gt; 'Blog-&gt;category()', // shows posts in category with url = {$url}\n'/{pageurl}/categories/{num}' =&gt; 'Blog-&gt;categories()', // lists 10 categories starting with {$num}\n</code></pre>\n\n<p>Now the problem is that I would have any number of Page Entities that would represent statical page. And I would have only one Blog page. That Blog page would have Posts and Categories. But I want both Page Entity and Blog Entity to act as a Page that has its URL.</p>\n\n<p>So how would I build entities with Doctrine to have both Page and Blog act as a page? And the problem is how can I check if requested page is Static Page, or Blog Page, since from Controller I would only have $pageurl? \nShould I use inheritance with Doctrine here? The problem is that I get $pageurl, and dont know should I return static page, or its a blog page so I need to fetch posts, categories etc...</p>\n\n<p>Hope you understand my problem, if something is not clear, please ask.</p>\n"},{"tags":["java","spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":12848989,"title":"Return Custom object from Spring Controller","body":"<p>I'm sending an ajax request from a web page which get's mapped to a method in my controller. I return type of this method I have set to a custom MessageForm object, which I create inside the method. </p>\n\n<p>The problem is I'm getting a 500 internal server error when I send the ajaz request, but don't know why.</p>\n\n<p>Do I have to return a specific object from a controller method?</p>\n\n<p>Thanks.</p>\n"},{"tags":["json","spring","mvc","list"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":127,"score":1,"question_id":11190763,"title":"Mapping one item posted in json object to the list object in Spring MVC","body":"<p>I have in trouble with posting json object and mapping it with List object in Spring MVC controller. I have the form that has several checkboxes. When a user checks and submits, data in the form is deserialized, sent to Spring MVC controller and mapped to List type object. When a user checks two or more checkboxes, it works fine. but for just one box, it doesn't. </p>\n\n<p>When a user checks two or more, the data is deserialized like below.</p>\n\n<pre><code>{\"users\":[\"137\",\"138\"]}\n</code></pre>\n\n<p>However, when a user checks just one checkbox, it is like</p>\n\n<pre><code>{\"users\":\"138\"}\n</code></pre>\n\n<p>and 400 bad request error is returned.</p>\n\n<p>Is there any workaround or solution for this?</p>\n\n<p>The jqeury codes are:</p>\n\n<pre><code>$(document).ready(function() {\n    $('#groupusers').submit(function() {\n    var users = $(this).serializeObject();\n    $.postJSON(\"${context}/admin/groups/${group.seq}/users\", users, function(result) {\n        ...\n    });\n    return false;\n});\n</code></pre>\n\n<p>And the form is:</p>\n\n<pre><code>&lt;form id=\"groupusers\" method=\"post\" accept-charset=\"UTF-8\" action=\"/\" class=\"edit_group\"&gt;\n  ...\n  &lt;div id=\"users\"&gt;\n    &lt;c:forEach var=\"user\" items=\"${users}\"&gt;\n      &lt;label&gt;&lt;input id=\"users\" name=\"users\" type=\"checkbox\" value=\"${user.seq}\" /&gt; ${user.firstName} ${user.lastName}&lt;/label&gt;&lt;br&gt;\n    &lt;/c:forEach&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>List object mapped to the form data:</p>\n\n<pre><code>public class AssignedUsers {\n  private List&lt;Long&gt; users;\n  ...\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","mvc","web-applications","frameworks","single-page-application"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12847236,"title":"Pure-Javascript MVC-framework","body":"<p>I recently made use of Backbone as the <strong>MVC-framework</strong> for the <strong>single page web application</strong> we developed in my company. I found out that Backbone lacks some features that are quite important for larger applications (<strong>e.g. ui bindings, module-concept as in CommmonJS</strong>) poor model-definitions).</p>\n\n<p>During my research on JavaScript-MVC-frameworks that would fill those gaps I only found frameworks requiring <strong>additional server software, compiling</strong> and so on.</p>\n\n<p>Aren't there any pure-JS-MVC-frameworks?</p>\n\n<p>Thanks in advance :)</p>\n\n<p>Best wishes</p>\n\n<p>Leo</p>\n"},{"tags":["javascript","mvc","frameworks","single-page-application"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12846920,"title":"Javascript MVC-framework (JS only)","body":"<p>Are there any JavaScript-MVC-frameworks for single page applications? (JS only, so without the need to compile or additional server software)</p>\n\n<p>Note that I recently abandoned Backbone after using it for a quite large application.\nResons: Missing ui bindings, no module-concept (e.g. CommmonJS-like), poor model-defnitions and so on.</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12823986,"title":"Can I have a Partial controller in Zend?","body":"<p>In the Zend Framework is it possible to have a controller which executes some logic and then sets some view variables ready for the partial to display? </p>\n\n<hr>\n\n<p>To clarify I have a view which implements a partial.</p>\n\n<p>I have logic in my partial to get some items from the database. It then displays the items.</p>\n\n<p>At the moment the logic is in the partial's view (.pthml file).</p>\n\n<p>Is there a controller or something I can use to execute this logic outside the partial view? </p>\n\n<p>As I understand the MVP pattern, I shouldn't have logic like this in the view.</p>\n"},{"tags":["asp.net-mvc","mvc","object","action","asp.net-mvc-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":127,"score":0,"question_id":9086272,"title":"How do I convert an object to a RouteValueDictionary inside an Action?","body":"<p>I need to be able to pass multiple parameters if needed into an action. They will ultimately be passed into a second action which will know the details (how many, what they are called) but my first action does not need to know this, it just needs to pass them on.  So I call the first action like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>RedirectToAction(\"Action1\", \"Controller1\", new {\n                     dcontroller = \"Controller2\",\n                     daction = \"Action2\",\n                     dparameters = new { tabSelected = \"1\" }\n                 })\n</code></pre>\n\n<p>and <code>dparameters</code> gets passed, but when I get into the action that needs to use the parameters I can't get at them. The object looks like this:</p>\n\n<pre><code>... dparameters [string[1]}\n [0]\"{ tabSelected = 1 }\"\n</code></pre>\n\n<p>but if I try <code>dparameters[0]</code> I get the error</p>\n\n<blockquote>\n  <p><code>Cannot apply indexing with [] to an expression of type 'object'.</code></p>\n</blockquote>\n\n<p>I also tried</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>RouteValueDictionary p = new RouteValueDictionary(dparameters);\n</code></pre>\n\n<p>which created a p with 7 Key / item pairs, <code>p.Key[3] = SyncRoot</code>, <code>p.Value[3] = string[1]</code> and I'm back to the same issue.</p>\n"},{"tags":["java","mvc","jdbc","dao"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12831876,"title":"Creating JDBC Connections Outside The DAO","body":"<p>So I just finished learning JDBC this weekend and have successfully transferred my code from the main method into an MVC app. The purpose of this application is to hold a roster of players and display a users credentials if requested. The program works great and when I request a url like...</p>\n\n<pre><code>http://localhost:8084/gmustudent/players?id=1\n</code></pre>\n\n<p>I get the correct output for that player! The problem is I am performing the database connection within my PlayersDAO class and I assume that this is not the \"best\" way to do this. So I have two questions.</p>\n\n<ol>\n<li>Is there a way to perform the database connection within the web.xml\nfile or some other file so that when the server is initially started it will\nimmediately perform the connection to the database and be ready to\nquery when asked?</li>\n<li>And is this actually a better alternative to having the connection in the DAO or would this have unforeseen negative drawbacks. AKA would a constant connection to my database be exactly what I do not want?</li>\n</ol>\n\n<p>Any comments or links would be greatly appreciated. And I'll share the code I currently have for my DAO class so that you can see what I have so far. Thank you all!</p>\n\n<pre><code>package com.jdbc.test;\n\nimport java.sql.SQLException;\nimport java.sql.Connection;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.sql.DriverManager;\n\npublic class PlayersDAO \n{\n    public static Players viewPlayer(int id) throws SQLException\n    {\n        Connection connection = null;\n        Statement statement = null;\n        ResultSet resultSet = null;\n        Players playerObject = null;\n\n        try\n        {\n            String url = \"jdbc:mysql://localhost:3306/gmustudent\";\n            String username = \"root\";\n            String password = \"root\";\n\n            try\n            {\n                Class.forName(\"com.mysql.jdbc.Driver\");\n            }\n            catch(ClassNotFoundException error)\n            {\n                System.out.println(\"Error: \" + error.getMessage());\n            }\n\n            connection = DriverManager.getConnection(url, username, password);\n            statement = connection.createStatement();\n            resultSet = statement.executeQuery(\"SELECT * FROM players WHERE id = \" + id);\n\n            if(resultSet.next())\n                playerObject = new Players(resultSet.getLong(\"id\"), resultSet.getString(\"name\"), resultSet.getString(\"position\"), resultSet.getString(\"height\"), resultSet.getString(\"year\"), resultSet.getString(\"hometown\"), resultSet.getString(\"highschool\"), resultSet.getString(\"headshot\"));   \n        }\n        finally\n        {\n            if (connection != null) try{connection.close();} catch(SQLException ignore) {}\n            if (statement != null) try{statement.close();} catch(SQLException ignore) {}\n            if (resultSet != null) try{resultSet.close();} catch(SQLException ignore) {}\n        }\n\n        return playerObject;\n    }\n}\n</code></pre>\n"},{"tags":["java","ajax","hibernate","mvc","jsp"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":12816687,"title":"Sample Ajax program for JSP+Servlets+Hibernate","body":"<p>In my app im using JSP as view,servlet as controller,hibernate as model..</p>\n\n<p>in that app jsp pages im have to fill form while creating new user with fields like username and all.</p>\n\n<p>now i want to use AJAX code to check if username name with entered name in form is already there in the database or not...</p>\n\n<p>can any1 guide me how to write coding for this as well as the control flow..</p>\n\n<p>i have googled but didnt got any idea how to do this requirement..</p>\n\n<p>thanks in advance</p>\n"},{"tags":["java","swing","mvc","undo-redo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12823044,"title":"using undo/redo in Swing for an MVC model?","body":"<p>I have an MVC model,and Im trying to add an undo/redo feature to it.\nUser can place a number in a JTextField, and when they click the UNDO button, it should be erased.\nI have provided the code for my classes that implement this. The error I get is at the bottom.</p>\n\n<p>The Control package:</p>\n\n<h1>ButtonnGUIControl.java</h1>\n\n<p>package control;</p>\n\n<p>/**\n * This class will control the button actions of the GUI.It implements the actionListener() method \n *  and based on the button that was clicked, it initializes the \n * corresponding component in the model class.\n * \n */</p>\n\n<pre><code>public class ButtonGUIControl implements ActionListener{\nprivate SudokuModel model;\nprivate ButtonGUI bgui;\nfinal UndoManager manager = new UndoManager();\n\n\n\npublic ButtonGUIControl(SudokuModel model) {\n    this.model = model;\n}\n\n/*This method will listen for user events, and act accordingly\n * */\n\npublic void actionPerformed(ActionEvent e) {\n    try {   \n         if(e.getActionCommand().equals(\"Check My Answer!\")){\n\n            model.checkGame();\n        }\n\n\n         else if (e.getActionCommand().equals(\"Undo\")){\n\n             try {\n\n                    manager.undo();\n                } catch (CannotUndoException ex) { ex.printStackTrace(); }\n                finally {\n                    //updateButtons();\n                }                   \n         }\n         else if (e.getActionCommand().equals(\"Redo\")){\n\n             manager.redo();\n             System.out.println(\"e.getActionCommand().equals redo\");\n         }\n\n        //otherwise, it simply places the selected number in the grid\n        else{\n\n            model.setNumber(Integer.parseInt(e.getActionCommand()));\n        }\n\n    } catch (NumberFormatException e1) {}\n\n    catch (IOException e1) {}\n    catch (CannotUndoException ex) {\n        System.out.println(\"Unable to undo: \" + ex);\n        ex.printStackTrace();\n        }\n    catch (CannotRedoException ex) {\n        System.out.println(\"Unable to redo: \" + ex);\n        ex.printStackTrace();\n    }    \n\n}\n\npublic void undoableEditHappened(UndoableEditEvent evt) {\n\n    manager.addEdit(evt.getEdit());\n\n    //bgui.updateButtons();\n\n}\n</code></pre>\n\n<p>}</p>\n\n<hr>\n\n<p>In the view package:\nButtonGUI.java</p>\n\n<p>I add an actionListner to the buttons:</p>\n\n<p>RedoBttn.addActionListener(buttonController);</p>\n\n<p>UndoBttn.addActionListener(buttonController);</p>\n\n<hr>\n\n<p>In the Grid.java, which extends the JTextField:</p>\n\n<pre><code>public class Grid extends JTextField {\nprivate int x;       \nprivate int y; \n\nfinal UndoManager manager = new UndoManager();\n\n\npublic Grid(int x, int y) {\n    super(\"\");\n    this.x = x;\n    this.y = y;\n    getDocument().addUndoableEditListener(manager);\n\n\n\n    setPreferredSize(new Dimension(40, 40));\n    setBorder(BorderFactory.createLineBorder(Color.GREEN));\n    setOpaque(true);\n}\n\n\npublic void setNumber(int number, boolean userInput)  {\n\n\n    if(number &gt; 0 &amp; !userInput){\n        setText(\"\"+number);\n        setEditable(false);\n\n\n    }\n\n    //These set of numbers are the only ones that the user can undo/redo\n    else if (number &gt; 0 &amp; userInput){\n        setText(\"\"+number);\n        setEditable(true);\n}\n    else\n    setText(\"\");\n</code></pre>\n\n<hr>\n\n<p>I also added a mouse listenr to each of the JTextFields in another class in the view package.\nSo I think I have the undo/redo structure right.\nWhen I run the program, I can select a number and place it in a JTextField(grid), but as soon as I hit \"undo\" I get the following exception:</p>\n\n<pre><code>    javax.swing.undo.CannotUndoException\nat javax.swing.undo.UndoManager.undo(UndoManager.java:411)\nat control.ButtonGUIControl.actionPerformed(ButtonGUIControl.java:76)\nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\nat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\nat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\nat java.awt.Component.processMouseEvent(Component.java:6505)\nat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\nat java.awt.Component.processEvent(Component.java:6270)\nat java.awt.Container.processEvent(Container.java:2229)\nat java.awt.Component.dispatchEventImpl(Component.java:4861)\nat java.awt.Container.dispatchEventImpl(Container.java:2287)\nat java.awt.Component.dispatchEvent(Component.java:4687)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\nat java.awt.Container.dispatchEventImpl(Container.java:2273)\nat java.awt.Window.dispatchEventImpl(Window.java:2713)\nat java.awt.Component.dispatchEvent(Component.java:4687)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\nat java.awt.EventQueue.access$000(EventQueue.java:101)\nat java.awt.EventQueue$3.run(EventQueue.java:666)\nat java.awt.EventQueue$3.run(EventQueue.java:664)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\nat java.awt.EventQueue$4.run(EventQueue.java:680)\nat java.awt.EventQueue$4.run(EventQueue.java:678)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n\n<p>and line 76 is where I call:</p>\n\n<pre><code>    manager.undo() \n</code></pre>\n\n<p>in a try/catch block.</p>\n\n<p>Any idea whats wrong? Is it my undo/redo implementation or  something else?</p>\n\n<p>Thanks!!!</p>\n"},{"tags":["javascript","jquery","mvc","knockout.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12840023,"title":"How to change the index of a knockoutjs observableArray without replacing the whole array","body":"<p>Im a knockoutjs newbie, Basically what I want to do on the page is, I load a list of activation Details in the view,\neach with a remove link associated with a list item.\neach activation detail item contains three properties, index,ActivationDate and ExpiryDate,\neg.</p>\n\n<pre><code>    var activationItem = {\n            'index': count,\n            'activationDate': item.activationDate,\n            'expiryDate': item.expiryDate\n        };\n</code></pre>\n\n<p>Now everytime a user clicks remove on any particular item. it should re-order all the lists index to still reflect properly incremented indexes. eg 1,2,3,4 instead of 1,3,4 if item 2 was removed.</p>\n\n<p>How've done it is replacing the array. as follows:</p>\n\n<pre><code>       //Removes selected item from activationlist\nself.RemoveActivationListItem_Click = function () {\n\n    self.activationListItems.remove(this);\n\n    var count = 1;\n    var replaceArray = ko.observable([]);\n\n    //Re index all of the array items\n    ko.utils.arrayForEach(self.activationListItems(), function(item) {\n\n        var activationItem = {\n            'index': count,\n            'activationDate': item.activationDate,\n            'expiryDate': item.expiryDate\n        };\n\n        replaceArray().push(activationItem);\n\n        count++;\n\n    });\n\n    self.activationListItems.removeAll();\n    self.activationListItems(replaceArray());\n\n    TINY.box.show({ html: \"Activation item removed\", animate: true, close: false, boxid: 'message',autohide:5,top:90,left:0});\n\n};\n</code></pre>\n\n<p>Is there not a better method than this?</p>\n"},{"tags":["mvc","menu","extjs4","treepanel"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1184,"score":3,"question_id":7452311,"title":"Extjs4 how to change the store in treepanel","body":"<p>I have some menu tree stores in 'app/store/', such as 'menu1.js' , 'menu2.js'.\nIn my web page, I have a navigation bar at top region with many buttons to control the menu tree at left region to change the menu. But I do not know how to change the store in this tree panel.\nHere is my code:</p>\n\n<p>app/store/Menus1.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.store.Menus1', {\n    extend: 'Ext.data.TreeStore',\n    root: {\n        expanded: true, \n        children: [{    \n            text: \"subroot1\",\n            expanded: true,\n            children:[\n                { id: 'item01', text: \"item1\", leaf: true },\n                { id: 'item02', text: \"item2\", leaf: true },\n            ]\n        }, {\n            text: \"subroot2\",, \n            expanded: true, \n            children: [\n                { id: 'item03', text: \"item3\", leaf: true },\n                { id: 'item04', text: \"item4\", leaf: true }\n            ]\n        }]\n    }\n});\n</code></pre>\n\n<p>app/store/Menus2.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.store.Menus2', {\n    extend: 'Ext.data.TreeStore',\n    root: {\n        expanded: true, \n        children: [{\n            text: \"subroot1\",\n            expanded: true,\n            children:[\n                { id: 'item05', text: \"item5\", leaf: true },\n                { id: 'item06', text: \"item6\", leaf: true },\n            ]\n        }, {\n            text: \"subroot2\",, \n            expanded: true, \n            children: [\n                { id: 'item07', text: \"item7\", leaf: true },\n                { id: 'item08', text: \"item8\", leaf: true }\n            ]\n        }]\n    }\n});\n</code></pre>\n\n<p>app/view/MenuBar.js (ie: I do not set its store)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.view.MenuBar', {\n    extend: \"Ext.panel.Panel\",\n    alias:'widget.crm_menubar',\n    initComponent: function() {\n        Ext.apply(this, {\n            id: 'crm-menuBar',\n            xtype:'panel',\n            width: 212,\n            frameHeader:false,\n            hideCollapseTool:true,\n            split: true,\n            collapsible:true,\n            collapseMode: 'mini',\n            items: [\n                Ext.create('Ext.tree.Panel', {\n                    id: 'menutree',\n                    border: false,\n                    margin:'5 4 0 4',\n                    height: '98%',                  \n                    rootVisible: false,\n                }),\n            ]\n        });\n        this.callParent();\n    }\n});\n</code></pre>\n\n<p>app/controller/Navi.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Ext.define('Crm.controller.Navi', {\n    extend: 'Ext.app.Controller',\n    requires: [ 'Crm.store.Menus1', 'Crm.store.Menus2' ],\n    stores: [ 'Menus1'，'Menus2' ],\n    refs: [\n        { ref: 'crm_naviationBar', selector: 'crm_naviationBar' },\n        { ref: 'crm_menubar', selector: 'crm_menubar' } \n    ],\n    init: function(){\n        var menutree = Ext.getCmp('menutree');\n        var menustore = menutree.getStore();\n        menustore = Menus1;   // I want initial the menu's store with Menus1\n        //menustore = Ext.create('Crm.store.Menus1');  \n\n        this.control({\n            'button': {\n                click: this.onItemClicked,\n                scope: this\n            } \n        });\n    },\n    onItemClicked: function(btn,eventObj){\n        var menustore = Ext.getCmp('menutree').getStore();\n        var btnId = btn.getId();\n\n        if (btnId == 'btn_menus1') { //When button1 is clicked, change menu to menus1\n            menustore = Menus1;\n            //menustore = Ext.create('Crm.store.Menus1');       \n        } else if (btnId == 'btn_menus2') { //When button2 is clicked, change menu to menus2\n            menustore = Menus2;\n            //menustore = Ext.create('Crm.store.Menus1');\n        }\n    }\n});\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","pdf-generation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":12839103,"title":"how do I put an image in a PDF document using iTextSharp?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12837503/how-to-add-image-in-pdf-file\">How to add image in pdf file</a>  </p>\n</blockquote>\n\n\n\n<p>How to add an image in pdf file, as i tried to generate a pdf using <a href=\"http://www.semanticarchitecture.net/www/pdf-reporting-using-asp-net-mvc/\" rel=\"nofollow\">This</a> Blog.</p>\n"},{"tags":[".net","jquery","asp.net-mvc","mvc","json"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3072,"score":1,"question_id":1357901,"title":".NET/MVC JSON response opens up dialog box to save","body":"<p>I am trying to submit a form via jquery's ajax method in my .net mvc application.  I've set the dataType to json and the contentType to \"application/json; charset=utf-8\".  In my controller action, I'm returning a JsonResult.  </p>\n\n<p>For some reason, the JSON response doesn't get handled correctly and instead I get a dialog box to save a file with the JSON object inside of it.</p>\n\n<pre><code>$(document).ready(function() {\n\n    $(\"#editPageContentForm\").submit(function() {\n\n        $.ajax(\n  {\n      type: \"POST\",\n      dataType: \"json\",\n      url: $(\"#editPageContentForm\").attr(\"action\"),\n      contentType: \"application/json; charset=utf-8\",\n      data: { ID: $(\"#id\").val(), small_title: $(\"#small_title\").val(), big_title: $(\"#big_title\").val(), body: $(\"#body\").val(), subheading: $(\"#subheading\").val() }, \n\n      success: function(result) {\n          alert('hi');\n      },\n\n      error: function(req, status, error) {\n          alert(\"Sorry! We could not receive your feedback at this time.\");\n      }\n  }\n );\n })\n</code></pre>\n\n<p>In my controller action, I have something akin to:</p>\n\n<pre><code>public JsonResult Edit(int id, string small_title, string big_title, string subheading, string body)\n{\n     return Json(new {success = true, message = \"success\"});\n}\n</code></pre>\n\n<p>Why is the response not coming back as JSON?</p>\n"},{"tags":["php","html","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":54,"score":0,"question_id":12836476,"title":"Bad Practice requiring file within a model?","body":"<p>I have built an MVC php application and was wondering, if instead of having to write out a large amount of html and set the data, could I not just have all this html (with some php) in a separate file and just require it?</p>\n\n<p>For example:</p>\n\n<pre><code>$test = '&lt;div&gt;\n         Test content\n         &lt;div&gt;More content&lt;/div&gt;\n         &lt;/div&gt;';\n$APP-&gt;Template-&gt;setData('test', $test, FALSE);\n</code></pre>\n\n<p>Instead could I not just use:</p>\n\n<pre><code>$test = require(\"includes/content.php\");\n$APP-&gt;Template-&gt;setData('test', $test, FALSE);\n</code></pre>\n\n<p>Would this be considered as bad practice? It just seems that by requiring files, it can shorten the length of controllers. </p>\n\n<p>Would be good to get anybodies advice on this matter. </p>\n"},{"tags":["flex","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12834699,"title":"How to \"feed\" data from view to model?","body":"<p>I know I might not be supposed to be doing this, but I see no way around this.</p>\n\n<p>I have a bunch of tabs (TabNavigator) each containing a datagrid based on the same view but with different content.</p>\n\n<p>In the model, I have an Id specifying which tab I am in (and based on that I will subsequently fill the grids from within my controller).</p>\n\n<p>My problem is, how to feed the Id.</p>\n\n<p>What I tried to do so far is, in my View:</p>\n\n<pre><code>&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import com.to.my.controller.MyController;\n        import com.to.my.models.MyModel;\n\n        import mx.events.ListEvent;\n\n        [Inject][Bindable] public var controller:MyController;\n        [Inject][Bindable] public var model:MyModel;\n\n        this.model.tabTypeId = this.parentDocument.myTabNavigator.selectedChild.id;\n\n\n    ]]&gt;\n&lt;/fx:Script&gt;\n</code></pre>\n\n<p>But apparently this is wrong at compile time:</p>\n\n<pre><code>The this keyword can not be used in static methods. It can only be used in instance methods, function closures, and global code.\n</code></pre>\n\n<p>Total flex newbie... sorry...</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mvc","spring"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2516,"score":2,"question_id":6451377,"title":"Loading context in Spring using web.xml","body":"<p>Is there a way that a context can be loaded using web.xml in a Spring MVC application?</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12837333,"title":"backbone design queries","body":"<p>In an MVC controller is what holds the business logic. In backbone the\ncontrollers have been renamed to route. Now there are couple of things\nwhich bring in confusion. </p>\n\n<ol>\n<li><p>Model should have business logic. </p></li>\n<li><p>Collection is the collection of models. </p></li>\n<li><p>Views are where the templates are rendered, and most of the DOM\nevent handling is done. </p></li>\n<li><p>Apart from routing, what do the routers do? And where should more\nof business logic go to the routers or to the models? </p></li>\n</ol>\n\n<p>Do the views perform anything extra other than rendering DOM\nvariables?</p>\n"},{"tags":["iphone","ios","mvc","modalviewcontroller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12827363,"title":"How to pop up a view controller on top?","body":"<p>Situation: \nIn have lot of view controllers in my app and they are presented as navigation or modal view controllers. The app communicates with the server from almost all the screens. I want to show a login screen to the user when his/her credentials are expired. I want to present the login screen as a modal on top of the current view on the screen and dismiss it as soon as login is successful. \nI have really no idea how can I achieve this. If there is a modal view displayed on the screen by some view controller and login screen is also required to be presented as a modal, from where should I do this. I tried switching rootViewController of the window in appDelegate but it didn't work well and also messed up lot of things. Please provide me suggestions. </p>\n"},{"tags":["c#","linq","image","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":257,"score":0,"question_id":10933439,"title":"Insert signature data into SQL Server in MVC 2 C#","body":"<p>I have working code that uses signature pad data to create and save a signature bmp image to a file location. My question is: how can I modify this code to insert the image into a SQL Server 2008 image field?</p>\n\n<p>The following from my Controller obtains signature data from a signature tablet and creates a bmp image and saves it to a file location.</p>\n\n<pre><code>        [PrincipalPermission(SecurityAction.Demand, Authenticated = true)]\n    public ActionResult SaveSignature2(IPrincipal principal) {\n        int userId = ((ScoutIdentity)principal.Identity).UserId.Value;\n        //Put user code to initialize the page here\n        SIGPLUSLib.SigPlus sigObj = new SIGPLUSLib.SigPlus();\n        sigObj.InitSigPlus();\n        sigObj.AutoKeyStart();\n\n        string visitorname = Request.Form[\"visitorname\"];\n        visitorname = visitorname.Replace(\" \", \"\"); //combines the first name with last name with no spaces\n        visitorname = visitorname.Trim();\n        string thevrvIDstr = Request.Form[\"vrvID\"];\n        int thevrvID = Convert.ToInt32(thevrvIDstr);\n\n        //use the same data to decrypt signature\n        sigObj.AutoKeyData = Request.Form[\"SigText\"];\n\n        sigObj.AutoKeyFinish();\n        sigObj.SigCompressionMode = 1;\n        sigObj.EncryptionMode = 2;\n\n        //Now, get sigstring from client\n        //Sigstring can be stored in a database if \n        //a biometric signature is desired rather than an image\n        sigObj.SigString = Request.Form[\"hidden\"];\n\n        if (sigObj.NumberOfTabletPoints() &gt; 0) {\n            sigObj.ImageFileFormat = 0;\n            sigObj.ImageXSize = 500;\n            sigObj.ImageYSize = 150;\n            sigObj.ImagePenWidth = 8;\n            sigObj.SetAntiAliasParameters(1, 600, 700);\n            sigObj.JustifyX = 5;\n            sigObj.JustifyY = 5;\n            sigObj.JustifyMode = 5;\n            long size;\n            byte[] byteValue;\n            sigObj.BitMapBufferWrite();\n            size = sigObj.BitMapBufferSize();\n            byteValue = new byte[size];\n            byteValue = (byte[])sigObj.GetBitmapBufferBytes();\n            sigObj.BitMapBufferClose();\n            System.IO.MemoryStream ms = new System.IO.MemoryStream(byteValue);\n            System.Drawing.Image img = System.Drawing.Image.FromStream(ms);\n            String path;\n            path = System.AppDomain.CurrentDomain.BaseDirectory;\n            path = path + \"/uploadFiles/Signatures/\"+thevrvIDstr+\".bmp\";\n            img.Save(path, System.Drawing.Imaging.ImageFormat.Bmp);\n\n\n\n           ViewData[\"Result\"] = (\"Image saved successfully to \" + path);\n        }\n        else {\n            ViewData[\"Result\"] = \"signature has not been returned successfully!\";\n        }\n\n\n        ViewData[\"Result\"] = sigObj.SigString;\n        //return RedirectToAction(\"vrSignIn\");\n        return View();\n    }\n</code></pre>\n\n<p>I also have code elsewhere in my controller that gets an uploaded file and inserts it into the database. This code works OK.</p>\n\n<pre><code> [AcceptVerbs(HttpVerbs.Post)]\n    public ActionResult UploadTempFiles(string id, string u)\n    {\n        //this method temporarily stores files \n        string userIdString = Cryptographer.DecryptSymmetric(\"RijndaelManaged\", SecurityImpl.UrlToBase64(u));\n        int userId = Convert.ToInt32(userIdString);\n\n        if (Request.Files.Count &gt; 0)\n        {\n            for (int i = 0; i &lt; Request.Files.Count; i++)\n            {\n                HttpPostedFileBase file = Request.Files[i];\n                int contentlength = file.ContentLength;\n                byte[] b = new byte[contentlength];\n                Stream s;\n                s = file.InputStream;\n                s.Read(b, 0, contentlength);\n                VisitRequest.AddVisitorSignature(userId, b);\n            }\n        }\n\n        return View(\"UploadFiles\");\n    }\n</code></pre>\n\n<p>I'm thinking that I can use some part of the second code to interrupt the image creation process in the first code and insert the image into the database INSTEAD of saving the image to a file location. I don't know how to do that.</p>\n"},{"tags":["java","spring","mvc","jsp","el"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12821002,"title":"JSP form select bind with map","body":"<p>I am trying to bind a map element to choosen value from JSP. Elements of select are comming from different map, but keySets are same in both maps.</p>\n\n<p>Part of java code :</p>\n\n<pre><code>private Map&lt;String, List&lt;String&gt;&gt; customCriteriaMap = new HashMap&lt;&gt;();\nprivate Map&lt;String, String&gt; activeCustomCriteria = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>So for example:\ncustomCriteriaMap have 1 entry:</p>\n\n<pre><code>key: International, value: list contains: true, false\n</code></pre>\n\n<p>activeCriteriaMap have alsoe 1 entry:</p>\n\n<pre><code>kry: International, value: true\n</code></pre>\n\n<p>Now after choosing false on select and submiting form i would like to have entry in activeCriteriaMap:</p>\n\n<pre><code>key: International, value: false \n</code></pre>\n\n<p>Jsp code:</p>\n\n<pre><code>&lt;div class=\"grid_6 two\"&gt;\n    &lt;c:forEach items=\"${settingsForm.customCriteria}\" var=\"actualCriteriaValues\"&gt;\n        &lt;c:set var=\"actualCriteriaKey\" value=\"${actualCriteriaValues.key}\" /&gt;\n        &lt;c:set var=\"activeCriteria\" value=\"${settingsForm.activeCustomCriteria[actualCriteriaKey]}\"/&gt;\n        &lt;label&gt;Criteria:&lt;/label&gt;\n        &lt;form:select path=\"activeCustomCriteria[${actualCriteriaKey}]\" &gt;\n            &lt;c:forEach items=\"${actualCriteriaValues.value}\" var=\"actualCriteriaValue\"&gt;\n                &lt;c:set var=\"optionLabel\" value=\"${actualCriteriaValue}\"/&gt;\n                &lt;c:choose&gt;\n                    &lt;c:when test=\"${optionLabel eq 'N'}\"&gt;\n                        &lt;c:set var=\"optionLabel\" value=\"False\"/&gt;\n                    &lt;/c:when&gt;\n                    &lt;c:when test=\"${optionLabel eq 'Y'}\"&gt;\n                        &lt;c:set var=\"optionLabel\" value=\"True\"/&gt;\n                    &lt;/c:when&gt;\n                &lt;/c:choose&gt;\n                &lt;form:option value=\"${actualCriteriaValue}\" label=\"${optionLabel}\"/&gt;\n            &lt;/c:forEach&gt;\n        &lt;/form:select&gt;\n    &lt;/c:forEach&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Values in activeCustomCriteria do not change after selecting different value from select and submit. It is always same - default value.</p>\n\n<p>Thanks in advance,\nMarek.</p>\n"},{"tags":[".net","mvc","localization","dataannotations"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":762,"score":1,"question_id":5421646,"title":".NET MVC : Localizing RequiredAttribute (without resource files)","body":"<p>This is the problem that we're facing in .NET MVC 2. </p>\n\n<p>We're trying to use DataAnnotations to take care of the Model Validation for us, like it's supposed to. The only problem that we're having is that we don't want the standard error messages (because we have multiple languages on our website).</p>\n\n<p>We want to localize this, but the way the site is setup, is that all text comes from a database. So we'd like to have our error messages in the database as well.</p>\n\n<p>So we wrote a custom RequiredAttribute, like this:</p>\n\n<pre><code>public class LocalizedRequiredAttribute : RequiredAttribute\n{   \n    public string LocalizedErrorMessage\n    {\n        get\n        {\n            return ErrorMessage;\n        }\n        set\n        {\n            ErrorMessage = value.Translate();\n        }\n    }\n\n}\n</code></pre>\n\n<p>We wrote an extension to the String class to add the \"Translate()\" method, which does the necessary database lookup for the correct localized version.</p>\n\n<p>We use our attribute like this:</p>\n\n<pre><code>[LocalizedRequired(LocalizedErrorMessage = \"Naam is required\")]\npublic string Name {get; set; }\n</code></pre>\n\n<p>This works, but only once. </p>\n\n<p>If you visit the site in French first, you'll see the French error message stating that you're supposed to enter a value. If you visit the English site later, you'll still see the French error on the English page. The Setter seems to be called only once.</p>\n\n<p>What can we do to prevent this behavior and refresh the error message every time the validation is run / the model is populated with values?</p>\n\n<p>Thanks for any help you can give me.</p>\n"},{"tags":["java","swing","mvc","gui","actionlistener"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12833030,"title":"Separate AcionListener from GUI","body":"<p>I'm new to java programming and currently enrolled in a 2week class. I'd like to ask is it possible to separate acionlistener from the gui class? I'd like to apply mvc while I'm still learning but have no idea on how to start with and how should I do it.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextArea;\n\n\npublic class WriteFile extends JFrame implements ActionListener{\n    JTextArea textBox;\n    JButton convert;\n\n    WriteFile(){\n        //windows\n        setDefaultCloseOperation(javax.swing.WindowConstants.HIDE_ON_CLOSE);\n        setVisible(true);\n        setSize(300, 300);\n        setLocationRelativeTo(null);        \n        //others\n        textBox = new JTextArea(\"Type something here\", 5, 15);\n        convert = new JButton(\"Display\");\n        //layout        \n        add(textBox, BorderLayout.CENTER);\n        add(convert, BorderLayout.LINE_END);        \n        //actionlistener\n        convert.addActionListener(this);        \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        String output = \"\";\n        output = textBox.getText();\n        JOptionPane.showMessageDialog(null, output);\n\n    }\n}\n</code></pre>\n\n<p>and here is my main:</p>\n\n<pre><code>import java.awt.BorderLayout;\n\npublic class main {\n\n    public static void main(String[] args) {\n        WriteFile wc = new WriteFile();\n        wc.pack();\n    }\n}\n</code></pre>\n"},{"tags":["mvc","spring","tiles"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":6945,"score":4,"question_id":5003995,"title":"Spring 3 MVC and Apache Tiles 2 Integration Error","body":"<p>I have been trying to integrate Spring (3.0.4 and 3.0.5) MVC with Apache Tiles (2.1.2,2.1.4 and 2.2.2) to no avail. In every case i get the following error:</p>\n\n<p>java.lang.NoClassDefFoundError: org/apache/tiles/startup/BasicTilesInitializer</p>\n\n<p>According to the Tiles documentation, BasicTilesInitializer has been deprecated. I figured the latest version of Spring's <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/view/tiles2/TilesConfigurer.html\" rel=\"nofollow\">TilesConfigurer</a> would reference the correct class, but it doesnt and I still get the same error.</p>\n\n<p>I'm using the following configuration to setup Tiles in my spring mvc app:</p>\n\n<pre><code>&lt;beans:bean \n    id=\"tilesConfigurer\" \n    class=\"org.springframework.web.servlet.view.tiles2.TilesConfigurer\"&gt;\n    &lt;beans:property name=\"definitions\"&gt;\n        &lt;beans:list&gt;\n            &lt;beans:value&gt;/WEB-INF/tiles/tiles.xml&lt;/beans:value&gt;\n        &lt;/beans:list&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean \n    class=\"org.springframework.web.servlet.view.tiles2.TilesViewResolver\"&gt;      \n    &lt;beans:property \n        name=\"viewClass\" value=\"org.springframework.web.servlet.view.tiles2.TilesView\"/&gt;                \n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>Ideally, I would like to get Spring 3.0.5 working with Tiles 2.2.2. They are the latest versions as of this post.</p>\n"},{"tags":["javascript","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":137,"score":1,"question_id":10537074,"title":"can't get simple agility.js to work","body":"<p>I'm trying to learn agility.js and what I thought should be a simple exmaple, I can't get to work and I'm not sure why.  Clicking the button should change the text of the span to \"Goodbye World\" but clicking does nothing.  Any ideas?</p>\n\n<pre><code>var message = \n        $$(\n            {txt:'Hello World'}, \n            {format:'&lt;span data-bind=\"txt\" /&gt;&lt;button id=\"btn\"&gt;Click Me&lt;/button&gt;'}, \n            {'click #btn' : function(){ this.model.set({txt:\"Goodbye World\"}) }}\n        );\n\n\n$$.document.append(message);\n</code></pre>\n"},{"tags":["mvc","node.js"],"answer_count":7,"favorite_count":8,"up_vote_count":20,"down_vote_count":0,"view_count":10585,"score":20,"question_id":5248582,"title":"Node.js MVC framework","body":"<p>I would like to use Node.js to develop a website. I've seen a lot of frameworks here: <a href=\"https://github.com/joyent/node/wiki/modules#web-frameworks-micro\" rel=\"nofollow\">https://github.com/joyent/node/wiki/modules#web-frameworks-micro</a> but do not know which one is the most accepted by the community (let's say: the most popular). Did anyone tried any of these frameworks and/or used it in production and what is your experience? Thanks.</p>\n"},{"tags":["php","mvc","magento","module","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":981,"score":0,"question_id":6684756,"title":"Magento Module IndexController - IndexAction function 404's","body":"<p>Removing the Class around the IndexAction causes a server error, so I know the code is running as expected up to that point.</p>\n\n<pre><code>class Foo_Bar_IndexController extends Mage_Core_Controller_Front_Action{\n    public function indexAction(){\n        echo \"&lt;h1&gt;Echo from indexcontroller.&lt;/h1&gt;\";\n    }\n}\n</code></pre>\n\n<p>Ideally the echo would be replaced by loading template files, but I've been stuck on it 404ing for the last 2 days and just want to get past that.</p>\n\n<p>I've read through about a dozen tutorial, followed 4 to completetion, but this issue pops up every time.\nDoes anyone have an idea what could be causing this?</p>\n\n<p>Edit--\nSorry, for the brevity. I wasn't sure how much I should distend the page.</p>\n\n<p>@ Alan Storm -- I found your tutorial here. <a href=\"http://alanstorm.com/magento_controller_hello_world\" rel=\"nofollow\">http://alanstorm.com/magento_controller_hello_world</a> (Great Detail, very helpful in understanding what all the xml tags do). This is a copy of that tutorial with Foo replacing Alanstormdotcom and Bar replacing Helloworld. Even copy/pasting I end up with the same 404.</p>\n\n<p>Here is my current config file:\nPATH: app/code/local/Foo/Bar/etc/config.xml (edit: corrected path)</p>\n\n<pre><code>&lt;config&gt;\n&lt;modules&gt;\n    &lt;Foo_Bar&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/Foo_Bar&gt;\n&lt;/modules&gt;\n&lt;frontend&gt;\n    &lt;routers&gt;\n        &lt;bar&gt;\n            &lt;use&gt;standard&lt;/use&gt;\n            &lt;args&gt;\n                &lt;module&gt;Foo_Bar&lt;/module&gt;\n                &lt;frontName&gt;bar&lt;/frontName&gt;\n            &lt;/args&gt;\n        &lt;/bar&gt;\n    &lt;/routers&gt;  \n&lt;/frontend&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p>Edit---\nthe last remaining file\nPath: app/etc/modules/Foo_Bar.xml</p>\n\n<pre><code>&lt;config&gt;\n&lt;modules&gt;\n    &lt;Foo_Bar&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;codePool&gt;local&lt;/codePool&gt;\n    &lt;/Foo_Bar&gt;\n&lt;/modules&gt;\n&lt;/config&gt;       \n</code></pre>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":12790661,"title":"Backbone | Benefits of breaking traditional MVC approach","body":"<p>Trying to learn backbone with in the context of MVC.</p>\n\n<p>Can't seem to find a good tutorial that relates to this.  They are all a bit abstract and use Backbone terminology.</p>\n\n<p>Since they don't use standard MVC, what theory/design guidelines are they using?</p>\n\n<p>Can someone relate Backbone to a standard MVC and what the design choices where when they decided not to adhere to it?</p>\n\n<p>Can anyone explain in simple terms what their design methodology is.  I understand JavaScript and MVC. I know a little jQuery.</p>\n\n<p>I'd like to use Backbone, but I want to understand how it works.</p>\n\n<p>I've looked online and looked through one tutorial, but they usually explain how to use it.</p>\n\n<p>Not why or how it works internally ( its only about 500 lines with out comments ).  I'm in the process of digesting this, but having a top level view of the code would make this process easier.</p>\n\n<p><a href=\"http://backbonejs.org/#faq\" rel=\"nofollow\">Backbone FAQ</a></p>\n\n<pre><code>    Co.Controller = function (o_p) {\n        var o_p_string_send;\n\n// Run Model.pre()\n\n        if (Mo[o_p.model].hasOwnProperty(\"pre\")) {\n            $A.time(false);\n            o_p = Mo[name].pre(o_p);\n\n// Run View.pre() - should I implement\n\n        } else {\n            return false;\n        }\n\n        if (o_p.result !== 'complete') {\n\n// Hit the server via ajax\n\n            o_p_string_send = JSON.stringify(o_p);\n            $A.time(false);\n            $A.ajax({\n                type: 'post',\n                url: $A.Un.get('path') + 'arcmarks/source/class.CMachine.php',\n                data: 'pipe=' + o_p_string_send,\n                callback: function (o_p_string_receive) {\n                    var pass_prefix = o_p_string_receive.slice(0, 3);\n                    if (pass_prefix === '|A|') {\n                        $A.time(false);\n                        o_p.server = JSON.parse(o_p_string_receive.slice(3));\n\n// Run Model.post()\n\n                        if (Mo[o_p.model].hasOwnProperty(\"post\")) {\n                            o_p = Mo[name].post(o_p);\n\n// Run View.post() - should I implement\n\n                            $A.time(true);\n                            $A.log('Server: true | \\n' + this.responseText + '\\n');\n                            return true;\n                        }\n                        return false;\n                    }\n\n// Server error\n\n                    $A.log('Server: false | \\n' + this.responseText + '\\n');\n                    return false;\n                }\n            });\n        }\n    };\n</code></pre>\n"},{"tags":["mvc","wif"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":293,"score":1,"question_id":5367308,"title":"How to create the MVC equivalent of WIF PassiveSignInStatus Control?","body":"<p>I have included the below in my MVC View page</p>\n\n<pre><code> &lt;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/Views/Shared/Base.Master\"  Inherits=\"System.Web.Mvc.ViewPage\" %&gt;\n\n &lt;%@ Register TagPrefix = \"idfx\" Assembly = \"Microsoft.IdentityModel, Version=3.5.0.0,  Culture=neutral, PublicKeyToken=31bf3856ad364e35\" Namespace =  \"Microsoft.IdentityModel.Web.Controls\" %&gt;\n\n  &lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"Content\" runat=\"server\"&gt;\n\n   &lt;idfx:FederatedPassiveSignInStatus \n            ID=\"FederatedPassiveSignInStatus1\" \n            runat=\"server\" \n            OnSignedOut=\"FederatedPassiveSignInStatus1SignedOut\" \n            SignOutText=\"Logout\" \n            FederatedPassiveSignOut=\"true\"   \n            SignOutAction=\"FederatedPassiveSignOut\" /&gt;\n  &lt;/asp:Content&gt;\n</code></pre>\n\n<p>Since this is MVC, I cannot have runat=”server” attribute. When I remove the runat attribute, the page loads ok, but the control is not get displayed. How can I achieve this in MVC?</p>\n"},{"tags":["c#","ajax","linq","mvc","dynamic"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":3382,"score":3,"question_id":1389850,"title":"System.Linq.Dynamic and DateTime","body":"<p>I am using System.Linq.Dynamic to do custom where clauses from an ajax call in .Net MVC 1.0.</p>\n\n<p>It works fine for strings, int etc but not for DateTime, I get the exception cannot compare String to DateTime.  The very simple test code is</p>\n\n<p>items = items.Where(string.Format(@\" {0} > {1}{2}{1} \", searchField, delimiter, searchString));</p>\n\n<p>Where searchField will be for example start_date and the data type is DateTime, delimiter is \" (tried with nothing as well) and searchString will be 01-Jan-2009 (tried with 01/01/2009 as well) and items is an IQueryable from LinqToSql.</p>\n\n<p>Is there a way of specifying the data type in a dynamic where, or is there a better approach.  It is currently already using some reflection to work out what type of delimiter is required.</p>\n"},{"tags":["asp.net-mvc","mvc","asynchronous"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":201,"score":1,"question_id":9804960,"title":"What is AsyncManager.OutstandingOperations?","body":"<p>Thanks to MSDN, they don't explain anything about it:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/system.web.mvc.async.asyncmanager.outstandingoperations(v=vs.108).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/system.web.mvc.async.asyncmanager.outstandingoperations(v=vs.108).aspx</a></p>\n\n<p>Can somebody please explain <code>AsyncManager.OutstandingOperations</code> with a simple example?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","drop-down-menu","telerik"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":731,"score":1,"question_id":9017683,"title":"Telerik grid with dropdownList","body":"<p>Now i have tryed to solve the problem for several hours and im about to give up...</p>\n\n<p>I am using MVC 3 grid kontrol from Telerik. In my grid i want dropdownlists selected item to be corresponding to Role of the user. Dropdownlist have all the User Roles.   </p>\n\n<pre><code>@(Html.Telerik().Grid(Model)\n    .Name(\"Grid\").TableHtmlAttributes(new { width=\"800\"})\n    .Columns(columns =&gt;\n    {\n        //if (userIsInWhateverRole){\n        //    columns.Template(o =&gt; Html.Action(GenerateYourLinkStuffHere));\n        //}\n        columns.Bound(o =&gt; o.Name).Width(150);\n        columns.Bound(o =&gt; o.Email).Width(120);\n        columns.Template(\n            @&lt;text&gt;\n                @Html.DropDownList(item.Role, (IEnumerable&lt;SelectListItem&gt;)item.Roles)\n                @Html.DropDownListFor(x =&gt; item.Role, (IEnumerable&lt;SelectListItem&gt;)item.Roles)\n            &lt;/text&gt;\n        ).Width(120);\n    })\n    .Sortable()\n    .Scrollable()\n    .Groupable()\n    .Filterable()\n    .Pageable(paging =&gt; paging.PageSize(5))\n)\n</code></pre>\n"},{"tags":["mvc","publishing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":12428910,"title":"Loading an MVC site","body":"<p>Hello I am in desperate need of help. I just created an MVC site made in Visual Web Developer 2010\nand each time and on different Web Hosts I get --Index of /-- instead of the site loading properly. It's as if the server or browser is looking for an 'index' file instead of being routed through the MVC folders to the proper start up page. I've done everything I believe I am suppose to do as far bring all my dll 'system' files to the 'bin' folder as well as everything else including getting a Web Host that has MVC supporting server but I still keep getting 'Index of /' and the folders instead of the site. Can anyone help? I'm really in a spot. I've been working on this site for months and I need to get it up and running.</p>\n\n<p>Thanks, Rob</p>\n"},{"tags":["sql","asp.net-mvc-3","mvc","dataprovider"],"answer_count":5,"favorite_count":0,"up_vote_count":11,"down_vote_count":0,"view_count":15917,"score":11,"question_id":6865249,"title":"Unable to find the requested .Net Framework Data Provider. It may not be installed. - when following mvc3 asp.net tutorial","body":"<p>I am following the ASP.NET MVC 3 Music store application tutorial but I keep getting stuck in part 4: <a href=\"http://www.asp.net/mvc/tutorials/mvc-music-store-part-4\">http://www.asp.net/mvc/tutorials/mvc-music-store-part-4</a>. It keeps telling me that I do not have the SQL data provider installed:</p>\n\n<p>Exact error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>System.ArgumentException was unhandled by user code\n  Message=Unable to find the requested .Net Framework Data Provider.  It may not be installed.\n  Source=System.Data\n  StackTrace:\n       at System.Data.Common.DbProviderFactories.GetFactory(String providerInvariantName)\n       at System.Data.Entity.Internal.LazyInternalConnection.TryInitializeFromAppConfig(String name)\n       at System.Data.Entity.Internal.LazyInternalConnection.Initialize()\n       at System.Data.Entity.Internal.LazyInternalConnection.get_ConnectionHasModel()\n       at System.Data.Entity.Internal.LazyInternalContext.InitializeContext()\n       at System.Data.Entity.Internal.InternalContext.Initialize()\n       at System.Data.Entity.Internal.InternalContext.GetEntitySetAndBaseTypeForType(Type entityType)\n       at System.Data.Entity.Internal.Linq.InternalSet`1.Initialize()\n       at System.Data.Entity.Internal.Linq.InternalSet`1.GetEnumerator()\n       at System.Data.Entity.Infrastructure.DbQuery`1.System.Collections.Generic.IEnumerable&lt;TResult&gt;.GetEnumerator()\n       at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\n       at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\n       at MusicApplication.Controllers.StoreController.Index() in C:\\Users\\Michelle\\documents\\visual studio 2010\\Projects\\MusicApplication\\MusicApplication\\Controllers\\StoreController.cs:line 18\n       at lambda_method(Closure , ControllerBase , Object[] )\n       at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)\n       at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)\n       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n       at System.Web.Mvc.ControllerActionInvoker.&lt;&gt;c__DisplayClass15.&lt;InvokeActionMethodWithFilters&gt;b__12()\n       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)\n  InnerException: \n</code></pre>\n\n<p>I have added the reference to System.Data.SqlServerCe - still have the same error. Any guidance would be really appreciated</p>\n"},{"tags":["mvc","design-patterns","class-diagram"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12823992,"title":"Can the Observer Pattern be removed from MVC?","body":"<p>I want to know if you can remove the Observer Pattern from MVC (where the Observer goes from the Model to the View, notifying any changes in the Model and updating the View), and what would be the consequences if we remove it.</p>\n"},{"tags":["ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12823810,"title":"Rails 3: Determining which Controller is Active","body":"<p>I have a view that can be accessed by multiple controllers. For the most part, they display the same information, but this information is tweaked slightly from one controller to the next. I need a way to distinguish which controller is being used at any given moment. I do this by declaring an \"@context\" variable in the controller, such as:</p>\n\n<pre><code>@context = \"index\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@context = \"show\"\n</code></pre>\n\n<p>I can then easily check within the view which controller is being used. For instance:</p>\n\n<pre><code>&lt;% if @context == \"index\" %&gt;\n  &lt;h1&gt;Index&lt;/h2&gt;\n&lt;% elsif @context == \"show %&gt;\n  &lt;h2&gt;Show&lt;/h2&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>However, this feels hacky, and I'm certain there's a cleaner solution. Does anyone know of one?</p>\n"},{"tags":["c#",".net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":225,"score":1,"question_id":10751834,"title":"Custom Profile Provider : The settings property '' was not found - MVC3","body":"<p>I've been having this issue when trying to edit/update a user profile. Essentially when a user registers, they have a bool call 'AuthorizedTeamMember' set to false. Their Team Manager can then set it to true to authorize the user.</p>\n\n<p>However, when clicking the \"Authorize\" button to authorize the user I get the following error:</p>\n\n<pre><code>The settings property 'AuthorizedTeamMember' was not found.\n</code></pre>\n\n<p>I've had a good look around to find a solution, but nothing seems to work. It seem's to error before it hits the method 'AuthorizePlayer' on the HttpPost.</p>\n\n<p><strong>Anyway here's my custom profile provider:</strong></p>\n\n<pre><code>namespace iConfirm.Models\n{\n    public class TeamPlayer : ProfileBase\n    {\n        [Display(Name = \"First Name\")]\n        public virtual string FirstName\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"FirstName\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"FirstName\", value);\n            }\n        }\n\n        [Display(Name = \"Last Name\")]\n        public virtual string LastName\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"LastName\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"LastName\", value);\n            }\n        }\n        [Display(Name = \"Date Of Birth\")]\n        public virtual string DateOfBirth \n        {\n            get\n            {\n                return (this.GetPropertyValue(\"DateOfBirth\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"DateOfBirth\", value);\n            }\n        }\n        [Display(Name = \"Phone Number\")]\n        public virtual string PhoneNumber\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"PhoneNumber\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"PhoneNumber\", value);\n            }\n        }\n        public virtual string TeamId\n        {\n            get\n            {\n                return (this.GetPropertyValue(\"TeamId\").ToString());\n            }\n            set\n            {\n                this.SetPropertyValue(\"TeamId\", value);\n            }\n        }\n        public virtual bool AuthorizedTeamMember\n        {\n            get\n            {\n                return (bool)base[\"AuthorizedTeamMember\"]; //&lt;-- Errors here on post\n            }\n            set\n            {\n                base[\"AuthorizedTeamMember\"] = value;\n            }\n        }\n        public static TeamPlayer GetProfile(string username)\n        {\n            return Create(username) as TeamPlayer;\n        }\n\n        public static List&lt;TeamPlayer&gt; GetProfilesByTeam(int teamId)\n        {\n            //var profileList = ProfileManager.GetAllProfiles(ProfileAuthenticationOption.All);\n            var profilesInTeam = Membership.GetAllUsers().Cast&lt;MembershipUser&gt;()\n            .Select(user =&gt; TeamPlayer.Create(user.UserName, true) as TeamPlayer)\n            .Where(profile =&gt; profile.GetPropertyValue(\"TeamId\").ToString().Equals(teamId.ToString()))\n            .ToList();\n\n            return profilesInTeam;\n\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Here's the code that will Authorize the user:</strong></p>\n\n<pre><code>        [HttpPost]\n        public ActionResult AuthorizePlayer(TeamPlayer teamPlayer)\n        {\n            teamPlayer.AuthorizedTeamMember = true;\n            var user = TeamPlayer.GetProfile(teamPlayer.UserName);\n                user.FirstName = teamPlayer.FirstName; \n                user.LastName = teamPlayer.LastName;\n                user.AuthorizedTeamMember = teamPlayer.AuthorizedTeamMember;\n                user.DateOfBirth = teamPlayer.DateOfBirth;\n                user.PhoneNumber = teamPlayer.PhoneNumber;\n                user.Save();\n            /*TeamPlayer _teamPlayer = TeamPlayer.Create(teamPlayer.UserName) as TeamPlayer;\n            //var tempProfile = TeamPlayer.Create(teamPlayer.UserName) as TeamPlayer;\n            _teamPlayer.AuthorizedTeamMember = true;\n            _teamPlayer.Save();\n            //Email user that they have been authorized*/\n            return View(\"Index\");\n        }\n</code></pre>\n\n<p><strong>And finally the view:</strong></p>\n\n<pre><code>@model iConfirm.Models.TeamPlayer\n@{\n    ViewBag.Title = \"AuthorizePlayer\";\n    MembershipUser user = Membership.GetUser(Model.UserName);\n}\n\n&lt;h2&gt;AuthorizePlayer&lt;/h2&gt;\n@using (Html.BeginForm()) {\n    @Html.ValidationSummary(true)\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;Authorize the following user?&lt;/legend&gt;\n        @Html.HiddenFor(model =&gt; model.AuthorizedTeamMember)\n        &lt;div class=\"display-label\"&gt;\n            Username\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.UserName)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Full Name\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.FirstName) @Html.DisplayFor(model =&gt; model.LastName)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Email\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @user.Email\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Telephone number\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.PhoneNumber)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Date of Birth\n        &lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.DateOfBirth)\n        &lt;/div&gt;\n\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Authorize\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated. </p>\n\n<p>Alex</p>\n"},{"tags":["javascript","mvc","ember.js"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":210,"score":1,"question_id":12602429,"title":"EmberJS Nested Views and Controllers","body":"<p>I'm writing an app with EmberJS v1.0.pre. I have an <code>ArrayController</code> which contains a list of all persons. There are a bunch of nested views showing the person, their pets and the notes for each pet.</p>\n\n<pre><code>|----------------------------------------|\n| John                                   | &lt;- Person\n|----------------------------------------|\n|   Quincy (Dog)                         | &lt;- Pet\n|     - Super ornery                     | &lt;- Note\n|     - Likes XYZ Dog food               |\n|     - Will eat your socks              |\n|                                        |\n|   Tom (Cat)                            |\n|    - Always (not) catching mice        |\n|                                        |\n|----------------------------------------|\n| Roger                                  |\n|----------------------------------------|\n|   V (Dog)                              |\n|    - Likes XYZ Dog food                |\n|    - Sneezes, but it's ok              |\n|                                        |\n|----------------------------------------|\n| ...                                    |\n</code></pre>\n\n<p>From the pure MVC standpoint it feels like there should be a controller for each child, but I can't figure out how to achieve that in Ember. There is the top Array controller and then all the individual views. If I want to delete a note, or edit it, it seems like I need to pass the view's context up to the controller.</p>\n\n<pre><code>// in the view\nclick: function () {\n  this.get('controller').updateNote(this.get('content'))\n}\n</code></pre>\n\n<p>This feels really bad to me, the View is not supposed to be the authoritative source for data. My assumption is that an ArrayController would instantiate an <code>itemControlerClass</code> along with the <code>itemViewClass</code>.</p>\n\n<p><strong>UPDATE:</strong> I have created a <a href=\"http://jsfiddle.net/noazark/HmHK3/\" rel=\"nofollow\">fiddle</a> to better illustrate my problem. The functionality is intentionally incomplete, the purpose is to finish the functionality by increasing the content when an item on the list is clicked.</p>\n\n<p><strong>UPDATE:</strong> Sorry, I deleted the fiddle on accident! I'm doing some work on a final solution, so I'll try to create a new fiddle w/ the solution.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","mini-profiler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12822048,"title":"C# MVC unable to get ignoreRoute to work (MiniProfiler still displays them?)","body":"<p>In my <code>Application_Start</code> I have a call to a RegisterRoutes method that I call the following:</p>\n\n<pre><code>// Do not process any static files\nroutes.IgnoreRoute(\n  \"{*staticfile}\", new { staticfile = @\".*\\.(jpg|gif|jpeg|png|js|css|htm|html|htc)$\" }\n);\n</code></pre>\n\n<p>Additionally, I have <a href=\"http://miniprofiler.com/\" rel=\"nofollow\">MiniProfiler</a> configured which I run like so:</p>\n\n<pre><code>    protected void Application_BeginRequest()\n    {\n        MiniProfiler.Start();\n\n        var profiler = MiniProfiler.Current;\n        using (profiler.Step(\"Application_BeginRequest\"))\n        {\n        }\n    }\n</code></pre>\n\n<p>Now when I launch my website, I am seeing images being profiled:</p>\n\n<p><img src=\"http://i.stack.imgur.com/y5IvT.png\" alt=\"MiniProfiler image\"></p>\n\n<p>Which to me seems to state that my IgnoreRoute is not working properly, or the Image should have never made it up to the MiniProfiler state. Am I incorrect in this, or am I doing something wrong?</p>\n"},{"tags":["spring","mvc","spring-mvc","dispatcher"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":160,"score":0,"question_id":12815032,"title":"Spring MVC configuration considering web.xml","body":"<p>I am new to Spring MVC and want to know how actual flow works.</p>\n\n<p>I found few example of Spring MVC and generally every example has extra redirection ie\nin web.xml, welcome-file tag will send the control to some jsp file which basically does redirection to login form(for example) which is mapped with some domain.</p>\n\n<p>I am following Example in this link,\n<a href=\"http://www.dzone.com/tutorials/java/spring/spring-simple-form-controller-1.html\" rel=\"nofollow\">http://www.dzone.com/tutorials/java/spring/spring-simple-form-controller-1.html</a></p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>redirect.jsp</p>\n\n<pre><code>&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n&lt;% response.sendRedirect(\"userRegistration.htm\"); %&gt;\n</code></pre>\n\n<p>So, to avoid this redirection, I changed my mappings,\n<strong>Case 1</strong></p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>mvc-dispatcher-servlet.xml</p>\n\n<pre><code>&lt;bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"prefix\"&gt;\n        &lt;value&gt;WEB-INF/jsp/&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"suffix\"&gt;\n        &lt;value&gt;.jsp&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"simpleUrlMapping\" class=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\"&gt;\n&lt;property name=\"mappings\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"/\"&gt;show&lt;/prop&gt;\n    &lt;/props&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"show\" class=\"com.jft.common.controller.HelloWorldController\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>HelloWorldController.java</p>\n\n<pre><code>public HelloWorldController(){\n    setCommandClass(Contact.class);\n    setCommandName(\"customerForm\");\n    setFormView(\"index\");\n}\n</code></pre>\n\n<p>In this case it is not working, and in logs it displays as </p>\n\n<pre><code>No mapping found for HTTP request with URI [/HelloWorldMVC/WEB-INF/jsp/index.jsp] in DispatcherServlet with name 'mvc-dispatcher'\n</code></pre>\n\n<p>Now, if I add that extra redirection and make modification to my files like</p>\n\n<p><strong>Case 2</strong></p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;redirect.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>redirect.jsp</p>\n\n<pre><code>&lt;% response.sendRedirect(\"register.html\"); %&gt; in redirect\n</code></pre>\n\n<p>and make my dispatcher servlet xml file as</p>\n\n<pre><code>&lt;bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"prefix\"&gt;\n        &lt;value&gt;WEB-INF/jsp/&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"suffix\"&gt;\n        &lt;value&gt;.jsp&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"simpleUrlMapping\" class=\"org.springframework.web.servlet.handler.SimpleUrlHandlerMapping\"&gt;\n&lt;property name=\"mappings\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"/register.html\"&gt;show&lt;/prop&gt;\n    &lt;/props&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"show\" class=\"com.jft.common.controller.HelloWorldController\"&gt;\n</code></pre>\n\n<p> </p>\n\n<p>\n        \n            \n                show\n            \n        \n    </p>\n\n<p>Everything works in this case.</p>\n\n<p>what is happening in previous case, that after finding formView name again it is going inside dispatcher servlet to finding mapping for /HelloWorldMVC/WEB-INF/jsp/index.jsp.</p>\n\n<p>In Case 1, What I am getting is,</p>\n\n<p>I kept url pattern as /* for dispatcher servlet, so first request which will come as \"localhost:8080/HelloWorldMVC/\"; will be intercepted and I have mapping for that show , which goes to controller and get the page ie \"index\" and after applying prefix and suffix it becames \"/HelloWorldMVC/WEB-INF/jsp/index.jsp\", now again it is searching mapping for this request, my question is why it is searching again? which is not happening when I go through redirection way.</p>\n"},{"tags":["database","query","mvc","kohana","prepared-statement"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12810106,"title":"Kohana parameterised execution of query within view","body":"<p>I'm just trying to get my head around Kohana, so if I'm going about this the wrong way, let me know!</p>\n\n<p>I want to group results in my output. The way I did this in vanilla-PHP / PDO was to prepare a query, and then execute it within the output results. I can't get there in Kohana (3.2.2), though.</p>\n\n<p>In this case, on my 'terms' page, I want to group 'terms' by 'type', with each group of terms separated by a 'type' header.</p>\n\n<p>My 'terms' controller is (simplified):</p>\n\n<pre><code>class Controller_Terms extends Controller {\n\n  public function action_index() \n  {\n    $view = View::factory('terms');\n\n    // types of term - for grouping terms together\n    $sql = 'SELECT DISTINCT Type \n            FROM Term';\n    $view-&gt;types = DB::query(Database::SELECT, $sql)-&gt;as_object()-&gt;execute();\n\n    // list of terms - executed separately for each type\n    $sql = 'SELECT TermId, Term\n            FROM Term\n            WHERE Type = :type';\n    $view-&gt;terms = DB::query(Database::SELECT, $sql)-&gt;as_object();\n\n    $this-&gt;response-&gt;body($view);\n  }\n\n}\n</code></pre>\n\n<p>And the 'terms' view includes (simplified):</p>\n\n<pre><code>&lt;? foreach ($types as $type): ?&gt;\n&lt;h2&gt;&lt;?= $type-&gt;Type ?&gt;&lt;/h2&gt;\n&lt;? $params = array(':type' =&gt; $type-&gt;Type);\n   $terms-&gt;parameters($params)-&gt;execute(); \n   foreach ($terms as $term): ?&gt;\n    &lt;a href=\"term/&lt;?= $term-&gt;TermId ?&gt;\"&gt;&lt;?= $term-&gt;Term ?&gt;&lt;/a&gt;\n&lt;? endforeach // term ?&gt;\n&lt;? endforeach // type ?&gt;\n</code></pre>\n\n<p>I get the 'type' headers ok, but I don't get any terms within each type.</p>\n\n<p>Any suggestions appreciated!</p>\n"},{"tags":["asp.net-mvc-3","mvc","webgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12814260,"title":"MVC3 WebGrid Pagination hide the next and previous links for a certain count of pages","body":"<p>I am developing MVC3 website and using mvc3 webgrid control in it.</p>\n\n<p>The problem which I encounter is to hide the <strong>></strong> and <strong>&lt;</strong> links for Previous and Next page of pagination when the page size is 5 or less otherwise it displays Normally.</p>\n\n<pre><code>@{\nvar grid = new WebGrid(source: Model, defaultSort: \"FirstName\", rowsPerPage: 5,\ncanPage:true, canSort: true);\n }\n\n@grid.GetHtml(tableStyle: \"grid\", headerStyle: \"table-heading\",\n              footerStyle: \"pager\",\n              alternatingRowStyle: \"gird-second-row\",\n              selectedRowStyle: \"gird-first-row\",\n              rowStyle: \"gird-first-row\", columns: new[] {\n      grid.Column(\"Title\", header: \"FirstName\")\n})\n</code></pre>\n\n<p>Any help?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12814483,"title":"Codeigniter Model Parameter Passing","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12629365/codeigniter-and-the-model-view-controller-your-experience-your-meaning\">CodeIgniter and the Model-View-Controller – your experience / your meaning?</a>  </p>\n</blockquote>\n\n\n\n<p>I am guessing quite a simple question. With PHP and an MVC framework such as Codeigniter, is it better practice to always pass variables to the model? For example, should you pass post variables through the method call or directly reference <code>$this-&gt;input-&gt;post()</code> in the method itself? I am guessing it is best to pass them because you cannot assume the parameters will always come from the same source?</p>\n\n<p>Thanks,</p>\n\n<p>Tom</p>\n"},{"tags":["mvc","design-patterns","class-diagram"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12810782,"title":"MVC pattern & other patterns included","body":"<p>I need to know what design patterns are included in MVC, because I've checked out online that this MVC pattern uses Observer, in order to notify the view from changes in the model.</p>\n\n<p>Is there any other pattern included, like Composite, Strategy or even Mediator?</p>\n\n<p>What happens if we take out the Observer pattern from MVC? Does it still work? How would it change?</p>\n"},{"tags":["php","mvc","module","patterns","vendor"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12810899,"title":"How do I effectively implement modules in an MVC framework, and handle routing to multiple Controllers in a single module?","body":"<p>I've developed a basic MVC framework as a learning project in php--this is actually the second version of it, and I'm trying to improve two aspects that the first version fell short on:</p>\n\n<ul>\n<li><strong>Request Routing:</strong> mapping requests, e.g. /controller/action/[params] </li>\n<li><strong>Modules:</strong> drop-in applications designed to extend the application, e.g. a CMS.</li>\n</ul>\n\n<h2>This is where I'm at right now:</h2>\n\n<ol>\n<li><p>I'm able to take a request and parse it into it's various pieces,\ne.g. controller, action, args, etc.. These map to corresponding\ncontroller classes/files, e.g. \"/foo/bar\" -> FooController::bar() -\nall of which is done in my RequestRouter class and encapsulated in a\nRequest object.</p>\n\n<ul>\n<li>I maintain a Manifest object that contains categorized references (controllers, lib, etc) to application files. The manifest is used by my autoloader method.</li>\n<li>Since the manifest is cached, it is rebuilt whenever I add new files/classes, this true for when new modules get added/removed.</li>\n</ul></li>\n<li><p>The Controller::methods() render the correct views fine.</p></li>\n<li><p>Then comes the modules, which are organized like the core is structured\n(/root/raspberry/vendors/core/module)</p></li>\n</ol>\n\n<h2>The Problem</h2>\n\n<p>The issue that I think I'm having at the moment is a combination of Routing/Request Handling where modules are concerned:</p>\n\n<ul>\n<li>If I request project.dev/admin it maps to the\n<strong>AdminController::index()</strong> -- this is correct</li>\n<li>However, when I reference project.dev/admin/editor I still get <strong>AdminController::editor()</strong> where what I really want is <strong>EditorController::index()</strong></li>\n</ul>\n\n<p>After some research, I figure I could create a <strong>Decorator</strong>, which implements a <strong>Front Controller</strong> pattern and wraps a given Controller. The decorator could re-parse the request to make /editor the controller and re-map the remaining segments (/editor/action/args). </p>\n\n<p>All of this seems like it could work fine, but I feel like I'm missing something fundamental earlier in the flow (RequestRouter). I've research other similar questions here in SO, and read up on HMVC, and in principle it seems like it might answer my questions, but it seems more interface-driven than framework-driven (if that makes sense?) I've also looked at other frameworks like Kohana, but I'm not quite grasping how their module system and routing to multiple controllers in the same module work.</p>\n\n<p>Any insights or suggestions on how to effectively implement a module system without introducing a Front Controller or re-parsing a request would be much appreciated. Alternately, if I should re-structure my modules in a different manner, I'd like to understand how to do that.</p>\n\n<h2>Additional Info:</h2>\n\n<p>My RequestRouter maintains a list of routes that I pre-defined (including their default methods). Using these pre-defined routes, I <strong>can</strong> access /admin/editor and get EditorController::index(), but I'd have to define a route for every controller and request that goes to controllers in the module. I don't think this is good design. Here's a sample of my routes:</p>\n\n<pre><code>Array\n(\n    [/foo] =&gt; Array\n        (\n            [controller] =&gt; FooController\n            [method] =&gt; bar\n            [path] =&gt; /core\n        )\n\n    [/admin] =&gt; Array\n        (\n            [controller] =&gt; AdminController\n            [method] =&gt; index\n            [path] =&gt; /vendors/admin\n        )\n\n    [/admin/editor] =&gt; Array\n        (\n            [controller] =&gt; EditorController\n            [method] =&gt; index\n            [path] =&gt; /vendors/admin\n        )\n\n)\n</code></pre>\n\n<p>This is what my Request object looks like:</p>\n\n<pre><code>Request Object\n(\n    [properties:Request:private] =&gt; Array\n        (\n            [url] =&gt; /admin/editor\n            [query] =&gt; \n            [uri] =&gt; /admin/editor\n            [controller] =&gt; admin\n            [action] =&gt; editor\n            [args] =&gt; \n            [referrer] =&gt; Array\n                (\n                    [HTTP_REFERER] =&gt; \n                    [REMOTE_ADDR] =&gt; 127.0.0.1\n                    [HTTP_VIA] =&gt; \n                    [HTTP_X_FORWARDED_FOR] =&gt; \n                )\n\n            [get] =&gt; \n        )\n\n    [request_status:Request:private] =&gt; 200\n)\n</code></pre>\n\n<p>This is a sample of my Manifest:</p>\n\n<pre><code>[controller] =&gt; Array\n    (\n        [icontroller] =&gt; /htdocs/raspberry/raspberry/core/controller/icontroller.class.php\n        [index] =&gt; /htdocs/raspberry/raspberry/core/controller/index.php\n        [serviceerror] =&gt; /htdocs/raspberry/raspberry/core/controller/serviceerror.controller.php\n        [admin] =&gt; /htdocs/raspberry/raspberry/vendors/core/admin/controller/admin.controller.ph\n        [composer] =&gt; /htdocs/raspberry/raspberry/vendors/core/admin/controller/composer.controller.php\n    )\n</code></pre>\n\n<p>This is the application file system:</p>\n\n<p><a href=\"http://s11.postimage.org/pujb2g9v7/Screen_shot_2012_10_09_at_8_45_27_PM.png\" rel=\"nofollow\">http://s11.postimage.org/pujb2g9v7/Screen_shot_2012_10_09_at_8_45_27_PM.png</a></p>\n"},{"tags":["java","swing","mvc","undo-redo"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":114,"score":1,"question_id":12772821,"title":"How to implement undo/redo in Java for MVC model?","body":"<p>I am having trouble understanding the undo/redo functions using UndoManager, and integrating it with the MVC model.</p>\n\n<p>I am not sure where to put the various methods(in model, view or control)\nand I am still not sure how to use the undo manager.</p>\n\n<p>My control class implements UndoableEditListener \nIt creates:</p>\n\n<pre><code>private UndoManager manager = new UndoManager();\n</code></pre>\n\n<p>and in:</p>\n\n<pre><code>public void actionPerformed(ActionEvent e) {\n   if (e.getActionCommand().equals(\"Undo\")) {    \n      try {\n          manager.undo();   \n      } catch (CannotUndoException ex) { \n          ex.printStackTrace(); \n      }\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>I understand up to here, but the rest I am not sure what to do. I know I will have to add more in the model and view class, but not sure where.\nDO I have to have the following classes?</p>\n\n<pre><code>public class UndoAction extends AbstractAction {}\n\npublic void undoableEditHappened(UndoableEditEvent e) {\n</code></pre>\n\n<p>I am simply placing an integer number in a textfield, and then I want to be able to undo this.I set the number in the textfield in the view class.I want to acheive this the simplest way possible, no fancy coding! This is a minor part of my assg but I just cant get it working!!</p>\n\n<p>==========================================================\nHere is a more detailed description of my code, maybe it will help:</p>\n\n<p>I have a model, view and control package.</p>\n\n<p>Contol has:\nButtonGUIControl.java, which  implements both </p>\n\n<pre><code>    ActionListener and \n    UndoableEditListener.\n\n\n    final UndoManager manager = new UndoManager();\n</code></pre>\n\n<p>In the actionPerformed method, it calls</p>\n\n<pre><code>    if (e.getActionCommand().equals(\"Undo\")){\n\n             try {\n\n                    manager.undo();\n                }\n</code></pre>\n\n<p>and in:</p>\n\n<pre><code>    public void undoableEditHappened(UndoableEditEvent evt) {\n          manager.addEdit(evt.getEdit());\n</code></pre>\n\n<p>}</p>\n\n<p>In the View:\nGrid.java , which extends JTextField will add the following, wherever it needs to display a number on the GUI:(model is simply an instance of my Model class)</p>\n\n<pre><code>    getDocument().addUndoableEditListener(new ButtonGUIControl(model));\n</code></pre>\n\n<p>Could it be because the UndoManager is being created in a different package? I really have no idea how to debug this anymore!!</p>\n\n<p>I could post my entire code if that helps. I guess Im not sure how to integrate this with my mvc model structure.</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":83,"score":-1,"question_id":12808856,"title":"Where does the database live in MVC?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5863870/how-should-a-model-be-structured-in-mvc\">How should a model be structured in MVC?</a>  </p>\n</blockquote>\n\n\n\n<p>I've been trying to wrap my head around the MVC-style application for awhile, but beyond the most basic parts of an app my code gets into this death-spiral of a bloated Model/Database class containing far too many different pieces of logic. What I've recently realized is that these should be subdivided into other classes along more logical lines, ie: a class for user-related functions and another for application data functions.</p>\n\n<p>However, I'm not quite sure how best to implement the database to:</p>\n\n<ol>\n<li>Open only a single connection to the database, but let multiple model objects use it.</li>\n<li>Keep any platform specific database logic contained within a single object.</li>\n</ol>\n\n<p>Where do <em>you</em> put the database in your code? How do you pass it around?</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-3","knockout.js"],"answer_count":4,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":2402,"score":3,"question_id":5741929,"title":"Knockoutjs - how can you pass the model to the view","body":"<p>I've just started looking at <a href=\"http://knockoutjs.com/\" rel=\"nofollow\">knockoutjs</a> after watching the <a href=\"http://channel9.msdn.com/Events/MIX/MIX11/FRM08\" rel=\"nofollow\">MIX 11</a> talk and it looks very promising. </p>\n\n<p>I can understand how to pass your model back to your controller as json and update/save the model but how can I pass my model to my view and make it observable?</p>\n\n<p>For example if I have the following class:</p>\n\n<pre><code>public class Person {\n  public string FirstName { get; set; }\n  public string LastName { get; set; }\n}\n</code></pre>\n\n<p>I can pass it from my controller as json using a JsonResult so I send something like to my view:</p>\n\n<pre><code>{ \n  firstName : \"Bob\",\n  lastName : \"Jones\"\n};\n</code></pre>\n\n<p>But how do I make the properties observable and make this a viewModel within my code?</p>\n\n<p>Thanks</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12805632,"title":"Ruby on Rails initial controller setup","body":"<p>I'm getting started with Ruby on Rails and have some questions. I currently have a website that is written in Perl/HTML/Javascript, etc. My goal is to convert this website to use Rails. I'm running into a stubmling block on how to get started.</p>\n\n<p>Here is the general overview of the current website:\nThe main page has 3 selection lists that get populated on page load (via SQL). The user can select an option from one of these lists (say a date as one of the lists stores dates). Currently, using AJAX, this calls a Perl CGI script which queries the database with the chosen date and returns a table containing the appropriate records (fills in division next to the selection lists).\nThere are no other pages on the website (besides a changelog) as everything happens on the main page. The selection lists do not get refreshed after each selection due to AJAX.</p>\n\n<p>My question is, would I have a controller called Selection to populate the lists and another called Output to create the table of records? Does that setup makes sense?</p>\n\n<p>Thank you!</p>\n"},{"tags":["wcf","mvc","wcf-web-api","asp.net-web-api","web-api"],"answer_count":4,"favorite_count":3,"up_vote_count":11,"down_vote_count":0,"view_count":5378,"score":11,"question_id":9778665,"title":"Mvc 4 vs. Wcf Web Api","body":"<p>What are the pros and cons of using each technology?</p>\n\n<p>WCF Web Api is now merged into Asp.net\nAsp.net web api now supports self hosting.</p>\n\n<p>I still imagine if I want to expose multiple protocol schemas for the same operation I would still lean towards WCF or can Mvc end point do this too?</p>\n\n<p>Also does the new Asp.Net web api expose Wsdl? If not how would the client figure out what operation is available to them?</p>\n\n<p>Arguably the best feature of Mvc is the modelbinder. How robust is the WCF equivalent? </p>\n\n<p>So can someone tell me what advantage does the Asp.net web api bring to the table? WCF seems overwhelmingly the more powerful/scalable choice, imo. About the only thing the Mvc Web Api has over the WCF model is probably ease of development, but that means squat if it ends up being a serious design limitation down the road.</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12799080,"title":"Symfony2 - how to organize Controllers?","body":"<p>This question can be related to any MVC Framework.</p>\n\n<p>How do you organize your controllers in MVC application?</p>\n\n<p>Lets say I have a Blog application. This blog application would have 2 layers.\nBlog layer that shows latest 10 posts, single post, posts by category etc.</p>\n\n<p>And I would have Admin layer that would enable user to create new blog post, edit post, delete post, create category...</p>\n\n<p>How would I build my controllers?\nShould I create Blog Controller and Admin Controller?\nOr should I fallow Domain Driven Design and create BlogController, PostController that would deal with actions related to that Object?</p>\n\n<p>The question is how to organize your controllers, should Controllers be something like \"namespaces\" for related functionality? So Administration functionality would have Admin controller that would deal with create, update, delete actions, and Blog Controller would deal with showing those posts to the end user?</p>\n\n<p>I hope you get what I need, explanation on how to organize your Controllers in MVC?</p>\n"}]}
{"total":14108,"page":6,"pagesize":100,"questions":[{"tags":["c#","mvc","asp.net-mvc-4","soa"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":69,"score":1,"question_id":12799757,"title":"Using web service in MVC, new Model or not?","body":"<p>I'm going to develop a web-based system with MVC4 which will use web services (WCF, exactly) for getting data from data provider (I can't use direct connection to SQL)</p>\n\n<p>So, I have a question about using the web services in this project. Is this correct to use directly web service models as MVC model or I should create separate models for my MVC project and then map web service models to the models in MVC with an object-mapper (such as <code>EmitMapper</code>)?</p>\n\n<p><strong>Note</strong>: Consider that the web services may changes a lot.</p>\n"},{"tags":["mvc","knockout.js","asp.net-web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":12796477,"title":"How do you implement a generic CRUD grid using knockout.js?","body":"<p>I have a very nice grid with Create, Retrieve, Edit and Delete functionality.  I am using knockout.js on the client and WebAPI on the back end.  </p>\n\n<p>I would like to extend this to a number of different objects.  Essentially I have a List&lt;T&gt; where T is an MVC view model and the knockout view and view model should be able to work out what they should look like based on T.</p>\n\n<p>Does anyone know of a simple way to display any viewmodel (with specific controls for editing based on the viewmodel itself - eg datepicker for dates, input for string, drop downs etc) in a grid format and have generic CRUD functions.</p>\n\n<p>Below is an example of the exiting HTML I am using (for a specific object):</p>\n\n<pre><code>&lt;table class=\"table table-striped table-bordered\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n        &lt;th&gt;Value Date&lt;/th&gt;\n        &lt;th&gt;Position Date&lt;/th&gt;\n        &lt;th&gt;Book&lt;/th&gt;\n        &lt;th&gt;Currency&lt;/th&gt;\n        &lt;th&gt;Currency Base&lt;/th&gt;\n        &lt;th&gt;Amount1&lt;/th&gt;\n        &lt;th&gt;Amount2&lt;/th&gt;\n        &lt;th&gt;Position Type&lt;/th&gt;\n        &lt;th style=\"width: 100px; text-align:right;\" /&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n   &lt;tbody data-bind=\" template:{name:templateToUse, foreach: pagedList }\"&gt;&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>and the templates look like this:</p>\n\n<pre><code>&lt;script id=\"itemsTmpl\" type=\"text/html\"&gt;\n&lt;tr&gt;\n    &lt;td data-bind=\"text: valueDate.formattedDate\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: positionDate.formattedDate\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: book\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: currency\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: currencyBase\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: amount1\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: amount2\"&gt;&lt;/td&gt;\n    &lt;td data-bind=\"text: positionType\"&gt;&lt;/td&gt;\n    &lt;td class=\"buttons\"&gt;\n        &lt;a class=\"btn\" data-bind=\"click: $root.edit\" href=\"#\" title=\"edit\"&gt;&lt;i class=\"icon-pencil\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;a class=\"btn\" data-bind=\"click: $root.remove\" href=\"#\" title=\"remove\"&gt;&lt;i class=\"icon-trash\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/script&gt;\n\n&lt;script id=\"editTmpl\" type=\"text/html\"&gt;\n&lt;tr&gt;\n    &lt;td&gt;&lt;input data-bind=\"datepicker: valueDate.formattedDate, datepickerOptions: { dateFormat: 'yy/mm/dd' }\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"datepicker: positionDate.formattedDate, datepickerOptions: { dateFormat: 'yy/mm/dd' }\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: book\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: currency\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: currencyBase\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: amount1\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: amount2\"/&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input data-bind=\"value: positionType\"/&gt;&lt;/td&gt;\n    &lt;td class=\"buttons\"&gt;\n        &lt;a class=\"btn btn-success\" data-bind=\"click: $root.save\" href=\"#\" title=\"save\"&gt;&lt;i class=\"icon-ok\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;a class=\"btn\" data-bind=\"click: $root.cancel\" href=\"#\" title=\"cancel\"&gt;&lt;i class=\"icon-remove\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>I would like the View as well as the View Model to be generic and not \"hard-coded\" as above.  I am sure someone else must have done something like this.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","asp.net-mvc-2"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":1449,"score":6,"question_id":3679263,"title":"Where to write Database and Business logic in MVC?","body":"<p>As I am learning and working on Asp.Net MVC application, I want to know that what is the better place to write <code>Business Logic</code> and <code>Data Access logic</code> in <code>MVC</code>.</p>\n\n<p>Where should I write DataAccess and Business Logic among three layers (<code>Model, View and Controller</code>) ??</p>\n\n<p>Could anybody please tell me the correct way to write the code for this.</p>\n\n<p>Scenario: I want to <code>retrieve all the employees where employee name like 'Mi%'</code> ( I have <code>SQL procedure to execute and retrieve the data.</code>)</p>\n\n<p>PS: <strong>Want to know that where I should create instance of Business Logic class and where I should create instance of Data Access layers class?</strong></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","mvc","design-patterns","dci","event-based-programming"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12784276,"title":"Data-Context-Interaction (DCI) and evented programming in javascript","body":"<p>I recently saw the following presentation on DCI by Trygve Reenskaug :\n<a href=\"https://vimeo.com/43536416\" rel=\"nofollow\">https://vimeo.com/43536416</a> \nIt kinda blew my mind. Mmmh, seeing in code the interaction between different components of a software is an attractive idea. </p>\n\n<p>I tried to find examples of DCI in javascript, unsuccessfully. Then I started wondering. Isn't the DCI pattern opposed to the evented programming pattern ?</p>\n\n<p>Evented programming is trendy in javascript, i guess because it allows decoupling, and because   classical inheritance concepts are not native to js. I think I understand the benefits of evented programming but I also noticed that debugging can be damn hard when it requires to follow event message. </p>\n\n<p>Is it correct to say that both concepts are opposed ? Or did I got it wrong ? Is there some example implementations of DCI in js that I missed ? What should I look at in order to dig the concept ?</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12796940,"title":"How to make a pdf report of a particular view in mvc3","body":"<p>I wanted to get all student information in tabular format so i created appropriate view. Now can i make a pdf report of that view(By passing that view to any action)  which will look exactly as view is looking???</p>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":38,"score":-1,"question_id":12797029,"title":"Typecast two model and Return other model","body":"<pre><code>   public static  Coupons.Domain.RejectedCoupons CoupontoRej(Coupons.Domain.Coupon coupon)             {    \n            Coupons.Domain.RejectedCoupons a = coupon;   \n           return a;\n</code></pre>\n\n<p><br>\n    Help me out , getting Error ,\n    not working for me</p>\n\n<pre><code>Error   2   Cannot implicitly convert type 'Com.Arpur.Coupons.Domain.Coupon' to 'Com.Arpur.Coupons.Domain.RejectedCoupons'  C:\\Users\\Agha\\Desktop\\Coupon\\Com.Arpur.Coupon.User\\Helpers\\ExtensionMethods.cs  71  48  Com.Arpur.Coupon.User\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12789763,"title":"How do I make several different edit/update views for a model while maintaining rest? (rails)","body":"<p>I have a model \"Voyage\" which needs several different types of forms.</p>\n\n<p>There is an arrival form, departure form, check-in form, etc.</p>\n\n<p>Currently I have this implemented by creating new actions in my controller, such as</p>\n\n<pre><code>    def arrival_form\n    ...\n    end\n\n    def departure_form\n    ...\n    end\n</code></pre>\n\n<p>All of these are basically edit/update actions though.</p>\n\n<p>I feel like there probably is a better, cleaner way to do it but I just haven't been able to figure it out.</p>\n"},{"tags":["php","mvc","dispatcher","router"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":156,"score":1,"question_id":4757213,"title":"get count controller args from router?","body":"<p>ok im learning on how to make my own custom mvc system, so far i have created things like router and the controller.</p>\n\n<p>example i have a controller profile class and an url www.helloworld.com/args1/args2/args3</p>\n\n<pre><code>class Profiles\n{\n    function index($args1,$args2)\n    {\n        echo var_dump($args1,$args2);\n    }\n}\n</code></pre>\n\n<p>heres are part of my router class that execute the method and the parms</p>\n\n<pre><code>        if (is_callable(array($controller,$method))) {\n            call_user_func_array(array($controller, $method), $this-&gt;params);\n        }\n</code></pre>\n\n<p>so far no error but somehow i need to give a 404. if the <code>$this-&gt;params</code> is different then the <code>count(params)</code> in the method that i call at <code>call_user_func_array(array($controller, $method), \n$this-&gt;params);</code></p>\n\n<p>ok what im thinking is if count get params not same as count params at the called class then 404,\nlets say i can count my $this->params it gave me a 3. but how about the params in the called class ?\nhow can we <strong>count params in a called class by call_user_func_array</strong>?</p>\n\n<p>Thanks for looking in</p>\n\n<p>Adam Ramadhan</p>\n"},{"tags":["objective-c","cocoa-touch","mvc","design","nstimer"],"answer_count":3,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":340,"score":7,"question_id":8218514,"title":"Observer pattern for stopwatch","body":"<p>I'm trying to implement a stopwatch based on the MVC model.</p>\n\n<p>The stopwatch uses the NSTimer with the selector <code>-(void) tick</code> being called every timeout.</p>\n\n<p>I've tried to make the stopwatch as a model for reusability but I've run into some design problems regarding how to update the view controller for each tick.</p>\n\n<p>First I created a protocol with the tick method and made the view controller its delegate. The view controller then updates the views based on the timer's properties at each tick. elapsedTime is a readonly NSTimeInterval. </p>\n\n<p>It works, but I'm thinking it might be bad design. I'm an Objective-C/Cocoa Touch beginner. Should I be using something like KVO? Or is there a more elegant solution for the model to notify the view controller that <code>elapsedTime</code> has changed?</p>\n"},{"tags":["mvc","events","symfony2","doctrine","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12738974,"title":"Remove Doctrine life cycle event from within a Symfony2 controller","body":"<p>I am looking to remove a <a href=\"https://github.com/l3pp4rd/DoctrineExtensions/blob/master/lib/Gedmo/Tree/TreeListener.php\" rel=\"nofollow\">Doctrine Extensions life cycle event listener</a> from within a controller.</p>\n\n<p>I need to remove the listener for update events because I need to update all nodes in the tree at once. Something that is not supported by the library, but is possible by directly setting the correct left, right, level etc...</p>\n\n<p>Is it possible to remove a life cycle even from within a controller? What is a possible solution for this situation.</p>\n\n<p>I thought something like this might work, but it did not</p>\n\n<pre><code>$evm = $em-&gt;getEventManager();\n\n$listener = new \\Gedmo\\Tree\\TreeListener();\n$evm-&gt;removeEventListener( array( 'postUpdate' ), $listener );\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":414,"score":1,"question_id":6432967,"title":"Call one function from another using codeigniter","body":"<p>I'm using CodeIgniter and I came across an interesting problem. I need to use the variables from one function on another. I was planning to do this by simply declaring global variables (which I wasn't able to) do in the framework. So I tried calling one function from within another (this is all happening in the controller). Since apparently this can't be done I made a helper file with the common function and then just tried to load it but I get this error:</p>\n\n<pre><code>Fatal error: Call to undefined method ReporteNominas::getValues()\n</code></pre>\n\n<p>the helper file is inside the helpers folder and it contains this:</p>\n\n<pre><code>function getValues($getThem, $tpar, $vpiso, $tcomi, $tgas, $ttotal){\n            $totalPares = $tpar;\n            $ventasPiso = $vpiso;\n            $totalComisiones = $tcomi;\n            $totalGastos = $tgas;\n            $totalTotal = $ttotal;\n            if($getThem){\n                return $totalPares . \",\" . $ventasPiso . \",\" . $totalComisiones . \",\" . $totalGastos . \",\" . $totalTotal;\n            }\n        }\n</code></pre>\n\n<p>and I'm trying to call it doing this:</p>\n\n<pre><code>$this-&gt;load-&gt;helper('helper_common_functions_helper');\n                $this-&gt;getValues(false, $query['cant'], $query['sum'], $query['com'], $query['gas'], $query['tot']);\n</code></pre>\n\n<p>what could I be missing here?</p>\n"},{"tags":["xml","linq","mvc","sorting"],"answer_count":1,"favorite_count":6,"up_vote_count":5,"down_vote_count":0,"view_count":3352,"score":5,"question_id":2208844,"title":"How to sort XML in LINQ C# by an attribute value? Also MVC","body":"<p>(Using the latest MVC 2 RC 2) I'm trying to sort some XML in LINQ (C#) by an element's attribute's value...</p>\n\n<pre><code>var sites = from s in xDoc.Element(\"sites\").Elements(\"site\")\norderby s.Attribute(\"name\")\nselect s;\n</code></pre>\n\n<p>But when I pass this to my View I get the exception:</p>\n\n<pre><code>Exception Details: System.ArgumentException: At least one object must implement IComparable.\nSource Error: \nLine 37:                &lt;/th&gt;\nLine 38:            &lt;/tr&gt;\nLine 39:            &lt;% foreach (var item in Model)\nLine 40:               { %&gt;\nLine 41:            &lt;tr&gt;\n</code></pre>\n\n<p>Can someone tell me how to sort XML using LINQ and have it render properly?</p>\n"},{"tags":["c#","asp.net-mvc","mvc","forms","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":143,"score":1,"question_id":2193673,"title":"Best way to implement an ASP.NET MVC list (C#)","body":"<p>I'd like to have a section of my page where, lets say, some basic contact fields can be entered. Without having to hit the \"Save\" submit button, the user can add more contacts by hitting a \"+\" button, which adds more fields to the page.</p>\n\n<p>This would be fairly easy in standard web forms, but I'm a little lost as to how it should work in MVC.</p>\n\n<p>How should I do it, do you think?</p>\n"},{"tags":["asp.net","sql","xml","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":442,"score":1,"question_id":2108112,"title":"Dealing with XML in ASP.NET MVC","body":"<p>I have a block of XML in a database which is easy enough to pull out using ASP.NET MVC, however I would like to access and modify the XML in an way more consistent with class instances. Is there a way to get the MVC (or any other model) to generate a data access (or perhaps Entity) class set from the DB-stored XML?</p>\n\n<p>If the above is rather obtuse, the question could be summarised as; What method would you use to best access and modify XML stored in a database from an ASP.NET MVC application?</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12791722,"title":"Access post vars in the model or pass them through function calls in the view?","body":"<p>So while tinkering around with my own home built MVC framework I noticed something that looked in need of some refactoring.</p>\n\n<p>If I have a function call in the view that calls a function residing in the model and that function takes session/post/get vars for parameters.  Is it best to pass those vars as arguments in the function call or just access them in the function that's in the model?</p>\n\n<p>Code in the view:</p>\n\n<pre><code>$model = $this-&gt;model; // Shortcut to the model\n$vaildator = $this-&gt;model-&gt;validator; // Shortcut to the Validator object in the model\n$btnPressed = $this-&gt;model-&gt;btnPressed; // Shortcut to the btnPressed flag var in the model\n\n&lt;label for=\"firstName\"&gt;First Name: &lt;span class=\"&lt;?php echo $model-&gt;setReq($_POST['firstName'], 'First name'); // Set the class of the span tag the holds the 'required' text ?&gt;\"&gt;(required)&lt;/span&gt;&lt;/label&gt;\n&lt;input type=\"text\" name=\"firstName\" id=\"firstName\" title=\"First name\" value=\"&lt;?php echo htmlspecialchars($btnPressed ? $_POST['firstName'] : 'First name'); // Echo the user's entry or the default text ?&gt;\" maxlength=\"50\" /&gt;\n&lt;?php if($btnPressed) $vaildator-&gt;valName($_POST['firstName'], true, true, 'First name'); // Check for errors and display msg if error is found ?&gt;\n</code></pre>\n\n<p>Code in the model:</p>\n\n<pre><code>// If the field is empty or still contains the default text, highlight the 'required' error msg on the input field by changing the msg's class\n// Note: used only for input fields that are required\npublic function setReq($postVar, $defaultText)\n{\n    $className = 'required';\n\n    if($this-&gt;btnPressed)\n    {\n        $className = $postVar == '' || $postVar == $defaultText ? 'reqError' : 'required';\n        return htmlspecialchars($className);\n    }\n    else\n    {\n        return htmlspecialchars($className); \n    }\n}\n</code></pre>\n\n<p>The reason I ask is because putting the arguments in the function calls in the view makes the view seem logic heavy but doing it the other way, accessing session/get/post vars in the model, seems a bit hacky and would make the code not very reusable.  Thanks for any advice!</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","ruby-on-rails-3"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":3665,"score":7,"question_id":4301249,"title":"How to change the default path of view files in a Rails 3 controller?","body":"<p>I have a controller called <code>ProjectsController</code>. Its actions, by default, look for views inside <code>app/views/projects</code>. I'd like to change that path for all methods (<code>index</code>, <code>show</code>, <code>new</code>, <code>edit</code> etc...) in the controller.</p>\n\n<p>For example:</p>\n\n<pre><code>class ProjectsController &lt; ApplicationController\n\n  #I'd like to be able to do something like this\n  views_path 'views/mycustomfolder'\n\n  def index\n    #some code\n  end\n\n  def show\n    #some code\n  end\n\n  def new\n    #some code\n  end\n\n  def edit\n    #some code\n  end\nend\n</code></pre>\n\n<p>Please note I am not changing each method with <code>render</code> but defining a default path for all of them. Is this possible? If so, how?</p>\n\n<p>Thank you!</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","nested-attributes"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":11875829,"title":".build can't assign foreign key that doesn't exist yet","body":"<p>I have the following code for creating pictures for users in my users controller:</p>\n\n<pre><code>  def new\n    @user = User.new\n    @pictures = @user.pictures.build({:placement =&gt; \"front\"},{:placement =&gt; \"profile\"})\n  end\n</code></pre>\n\n<p>However, when I create a new user, it isn't automatically building pictures with placement \"front\" or \"profile.\"  In fact, there's no update whatsoever to pictures.  The pictures model has </p>\n\n<pre><code>attr_accessible :placement\n</code></pre>\n\n<p>and in picture.rb</p>\n\n<pre><code>belongs_to :user\n</code></pre>\n\n<p>and in user.rb</p>\n\n<pre><code>has_many :pictures\naccepts_nested_attributes_for :pictures, allow_destroy: true\n</code></pre>\n\n<p>Why is my build command silently failing?</p>\n\n<h1>UPDATE</h1>\n\n<p>Using .save!, I have learned that <code>@pictures</code> are being assigned, but the problem is no user_id being associated with them.  When I intentionally assign the user_id, as in:</p>\n\n<pre><code>def new\n    @user = User.new\n    @pictures = @user.pictures.build({:placement =&gt; \"front\", :user_id =&gt; @user.id},{:placement =&gt; \"profile\", :user_id =&gt; @user.id})\n end\n</code></pre>\n\n<p>It still does not assign a user_id.  </p>\n\n<p>Strangely, when I run the very same commands in the rails console, it <strong>does correctly assign</strong> the user_id.  </p>\n\n<p>It appears that the new @user does not get an auto id assigned to him until after the @pictures command is run, yet the console version is succeeding because it is performing the operations in sequence.  </p>\n\n<p>So, that's why I'm seeing a blank id.  </p>\n\n<p>Why is this happening?  And isn't this simultaneous id assignment something the model is supposed to take care of with <code>belongs_to</code> and <code>has_many</code>, and <code>accepts_nested_attributes_for</code>?  </p>\n\n<p>What is the appropriate way to address assigning nested attributes if the ID that links them together isn't created until after save?</p>\n\n<p><em>Why does this not work?</em></p>\n"},{"tags":["php","arrays","mvc","object"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":59,"score":-2,"question_id":12774789,"title":"use array of objects in php is a good practice?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12774655/is-a-good-practice-to-use-array-of-objects-in-php\">is a good practice to use array of objects in php?</a>  </p>\n</blockquote>\n\n\n\n<p>For example, it is a good practice to do this in php:</p>\n\n<p>I have a class test, it is a controller class where I instantiate the view and the model class, but what if I need to instantiate if another model I would have to create another object, instead of that I create an array of objects that holds the instances of each model or view:    </p>\n\n<pre><code>class test extends Controller{\n\n    //The vars $Model and $View are arrays declared in the parent class\n\n    public function __construct(){\n        parent::__construct();\n        $this-&gt;Model[\"testModel\"] = new testModel();\n        $this-&gt;Model[\"otherModel\"] = new otherModel();\n        $this-&gt;View[\"testView\"] = new testView();\n    }\n\n    public function index_action(){\n        $this-&gt;View[\"testView\"]-&gt;assign(\"name\", $this-&gt;getParam(\"name\"));\n        $this-&gt;View[\"testView\"]-&gt;showTestTemplate();\n    }\n\n    public function other_method(){\n\n        echo \"Hello world\";\n\n    }\n\n}\n</code></pre>\n"},{"tags":[".net","json","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":10869180,"title":"Storing json in a hidden field to deserialize to a model property list","body":"<p>Good morning all.  I've been pondering over the best way to use plupload with my mvc web app to marry up uploaded files with their respective record when created on the back-end.</p>\n\n<p>I've finally boiled it down to the following process - this will work for both new and existing records (think CMS):</p>\n\n<ol>\n<li>Create new record, use plupload to upload multiple files.</li>\n<li>Multiple files (series of json strings representing each file) are stored on the client then posted back via hidden field.</li>\n<li>A property on the model for the form holds the result of these uploaded files so I can handle the back-end business.</li>\n</ol>\n\n<p>The model (without the fluff of unrelated properties) will look like this:</p>\n\n<pre><code>public class Record{\n    public IList&lt;ClientFile&gt; Files {get;set;}\n}\n</code></pre>\n\n<p>Client file looks like this:</p>\n\n<pre><code>public class ClientFile{\n    public string UniqueId{get;set;}\n}\n</code></pre>\n\n<p>My problem lies with what I have on the client after each successful upload (a json string of ClientFile) and how I can correctly get this into hidden field and bound correctly so I can have the list of client files ready in my model.</p>\n\n<p>I'm thinking along the lines of either structuring the hidden field(s) right so the binder knows how to wire them up to the list, or having do some some custom deserializing myself to turn the collection of json strings into a list of objects.</p>\n\n<p>Does anyone have any wisdom before I lose my bank holiday weekend to mvc.</p>\n"},{"tags":["java","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":89,"score":5,"question_id":12785696,"title":"Java Click Counter using MVC","body":"<p>I'm trying to write a really simple Java example to learn MVC. It's a JButton that when clicked increments a counter and displays the number of clicks so far.</p>\n\n<p>I broke out the Model, View and Controller into separate classes, and thought I was on the right path, but when I click the button the JLabel that displays the counter continues to stay at 0.</p>\n\n<p>Can someone take a quick look and see why the JLabel that should display the number of clicks always stays at 0?</p>\n\n<p>Thanks</p>\n\n<pre><code>View\n\npackage mvc;  \nimport javax.swing.JButton;  \nimport javax.swing.JLabel;  \nimport javax.swing.JTextArea;  \nimport javax.swing.SwingUtilities;  \nimport javax.swing.WindowConstants;  \n\n\npublic class View extends javax.swing.JFrame {  \n    private JButton jButton1;  \n    private JLabel jLabel1;  \n    private Controller c;   \n    private Model m;  \n\n    /**\n    * Auto-generated main method to display this JFrame\n    */\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                Controller c = new Controller();    \n\n                Model m = new Model();\n\n                View inst = new View(c,m);\n                inst.setLocationRelativeTo(null);\n                inst.setVisible(true);\n            }\n        });\n    }\n\n    public View(Controller c, Model m) {\n        super();\n        this.c = c;     \n        this.m = m;\n        initGUI();\n    }\n\n    private void initGUI() {\n        try {\n            setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n            getContentPane().setLayout(null);\n            {\n                jButton1 = new JButton();\n                getContentPane().add(jButton1, \"Center\");\n                jButton1.setText(\"Click\");\n                jButton1.setBounds(314, 180, 101, 34);\n                jButton1.addActionListener(c);\n            }\n            {\n                jLabel1 = new JLabel();\n                getContentPane().add(getJLabel1());\n                jLabel1.setText(\"Click Count = \" + c.getClickCount());\n                jLabel1.setBounds(439, 183, 91, 27);\n\n            }\n            pack();\n            this.setSize(818, 414);\n        } catch (Exception e) {\n            //add your error handling code here\n            e.printStackTrace();\n        }\n    }\n\n    public JLabel getJLabel1() {\n        return jLabel1;\n    }   \n}\n\nEnd View\n\nController class\n\npackage mvc;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Controller implements ActionListener \n{   \n    Model m;\n    View v;\n\n    public Controller()\n    {\n        m = new Model();        \n        v = new View(this, m);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent arg0) \n    {\n        if (arg0.getSource() == \"Click\")\n        {\n            m.addClick();\n            v.getJLabel1().setText(\"Click count = \" + getClickCount());\n        }\n\n    }\n\n    public int getClickCount()\n    {\n        return m.getClicks();\n    }\n}\n\nEnd Controller class\n\nModel class\n\npackage mvc;\n\npublic class Model \n{\n    private int clicks;\n\n    public Model()\n    {\n        clicks = 0;\n    }\n\n    public void addClick()\n    {\n        clicks++;\n    }\n\n    public int getClicks()\n    {\n        return clicks;\n    }\n}\n\nEnd Model class\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":37,"score":-2,"question_id":12786614,"title":"Why entity has data that just serve view?","body":"<p>In all books or articles that explain MVC I read having View relevant data or method in Model is bad practice, for example having method for decorate data as string or images.\nBut when I start learning ASP.NET MVC by examples often see a property in model contain image address just for use by view, it feels wrong. Can someone explain this to me?</p>\n"},{"tags":["c#","jquery","mvc","csv"],"answer_count":4,"favorite_count":4,"up_vote_count":8,"down_vote_count":0,"view_count":6929,"score":8,"question_id":4668906,"title":"Export to CSV using MVC, C# and jQuery","body":"<p>I am trying to export a list to a CSV file.\nI got it all working up to the point I want to write to file to the response stream. This doesn't do anything.</p>\n\n<p>Here is my code:</p>\n\n<p>Call the the method from the page.</p>\n\n<pre><code>$('#btn_export').click(function () {\n         $.post('NewsLetter/Export');\n});\n</code></pre>\n\n<p>The code in the controller is as follows:  </p>\n\n<pre><code>[HttpPost]\n        public void Export()\n        {\n            try\n            {\n                var filter = Session[FilterSessionKey] != null ? Session[FilterSessionKey] as SubscriberFilter : new SubscriberFilter();\n\n                var predicate = _subscriberService.BuildPredicate(filter);\n                var compiledPredicate = predicate.Compile();\n                var filterRecords = _subscriberService.GetSubscribersInGroup().Where(x =&gt; !x.IsDeleted).AsEnumerable().Where(compiledPredicate).GroupBy(s =&gt; s.Subscriber.EmailAddress).OrderBy(x =&gt; x.Key);\n\n                ExportAsCSV(filterRecords);\n            }\n            catch (Exception exception)\n            {\n                Logger.WriteLog(LogLevel.Error, exception);\n            }\n        }\n\n        private void ExportAsCSV(IEnumerable&lt;IGrouping&lt;String, SubscriberInGroup&gt;&gt; filterRecords)\n        {\n            var sw = new StringWriter();\n            //write the header\n            sw.WriteLine(String.Format(\"{0},{1},{2},{3}\", CMSMessages.EmailAddress, CMSMessages.Gender, CMSMessages.FirstName, CMSMessages.LastName));\n\n            //write every subscriber to the file\n            var resourceManager = new ResourceManager(typeof(CMSMessages));\n            foreach (var record in filterRecords.Select(x =&gt; x.First().Subscriber))\n            {\n                sw.WriteLine(String.Format(\"{0},{1},{2},{3}\", record.EmailAddress, record.Gender.HasValue ? resourceManager.GetString(record.Gender.ToString()) : \"\", record.FirstName, record.LastName));\n            }\n\n            Response.Clear();\n            Response.AddHeader(\"Content-Disposition\", \"attachment; filename=adressenbestand.csv\");\n            Response.ContentType = \"text/csv\";\n            Response.Write(sw);\n            Response.End();\n        }\n</code></pre>\n\n<p>But after <code>Response.Write(sw)</code> nothing is happening. Is it even possible to save a file this way?</p>\n\n<p>Regards  </p>\n\n<p><strong>Edit</strong><br>\nThe response headers I see when I click the button are:  </p>\n\n<pre><code>HTTP/1.1 200 OK\nCache-Control: private\nContent-Type: text/csv; charset=utf-8\nServer: Microsoft-IIS/7.5\nX-AspNetMvc-Version: 2.0\nContent-Disposition: attachment; filename=adressenbestand.csv\nX-Powered-By: ASP.NET\nDate: Wed, 12 Jan 2011 13:05:42 GMT\nContent-Length: 113\n</code></pre>\n\n<p>Which seem OK to me..</p>\n\n<p><strong>Edit</strong><br>\nI got rid of the jQuery part en replaced it by an hyperlink and this is working fine for me now:  </p>\n\n<pre><code>&lt;a class=\"export\" href=\"NewsLetter/Export\"&gt;exporteren&lt;/a&gt;\n</code></pre>\n"},{"tags":["c#","mvc","entity-framework-5"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":12195484,"title":"Accessing the db connection from within my code first \"table\" class","body":"<p>Is it possible to get to the current connection from inside your code first \"table\" class?</p>\n\n<p>I'm trying to write a MVC Multi Tenancy app (1 app, many db's) the easiest way i can think of is to pass the connection string (or tenant name) when creating the dbcontext (i've looked at other ways to do this, but don't really understand them). However once i go into the table class I cannot then access the current db connection to perform other actions i need.</p>\n\n<p><strong>Example code</strong></p>\n\n<pre><code>public class ConnectionContext : DbContext\n{\n    public ConnectionContext(String connectionString) \n        : base(connectionString)\n    {\n        if (!this.Database.Exists())\n            throw new Exception(\"Database does not exist\");\n    }\n\n    public DbSet&lt;Table1&gt; Table1 { get; set; }\n}\n\n[Table(\"Table1\")]\npublic class Table1\n{\n    [Key]\n    public String Column1 { get; set; }\n\n    public String Column2 { get; set; }\n\n    public Int32 GetNoOfColumns()\n    {\n        using (var conn = new ConnectionContext(\"???\")) // &lt;-- **issue here**\n        {\n            //Code to get info\n\n            return 0;\n        }\n    }\n\n    public void Authorize()\n    {\n        using (var conn = new ConnectionContext(\"???\")) // &lt;-- **issue here**\n        {\n            this.Column2 = \"Authorized\";\n\n            conn.Entry(this).State = EntityState.Modified;\n            conn.SaveChanges();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","cakephp"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":61,"score":-1,"question_id":12779843,"title":"CakePHP MVC Structure For Browser Game","body":"<p>I'm using (and learning) CakePHP to build an MMO browser-based PHP game. I'm new to the MVC concept, and am just looking for some advise on setting up some of my controllers, etc.</p>\n\n<p>People who play the game will be able to choose from a number of isntances of that game that are currently running, so I regard each Game as being an object, and then there are Players and Planets within each Game. I've created a Model, View and Controller for each of those but, I want to create an admin page that uses all three models. A page where an admin can create, delete and modify Games, Players and Planets. This seems to break the MVC \"rules\", as I need a view that uses all three models, just for something as simple as showing the admin lists of all instances of all three objects.</p>\n\n<p>Throughout the game, whenever viewing information about a Planet, within an instance of a Game, I'll be needing to look up Player information in the same view, continuously. I've realised that I can't separate any of my game elements into distinct models. There has to be inter-dependence.</p>\n\n<p>Is MVC the right thing for me to be using, here? If it is, how should I be looking at my three main game objects within the MVC framework? Is it \"okay\" to get info from multiple models within one view, and, how is that done?</p>\n"},{"tags":["c#","asp.net-mvc","linq","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12777284,"title":"Specified type member\"Status\" not supported in LINQ to Entities","body":"<p>I have a class called SmsContent</p>\n\n<pre><code>public class SmsContent\n    {        \n        public int Id { get; set; }           \n        public string Description { get; set; }\n        public string Content { get; set; }            \n\n        public SmsContentStatus Status { get; set; }\n        public ActivityId ActivityId { get; set; }       \n    }\n</code></pre>\n\n<p>And I have an enum type SmsContentStatus </p>\n\n<pre><code>public enum SmsContentStatus\n    {\n        Active = 0,\n        Partial,\n        Inactive,\n        Deleted\n    }\n</code></pre>\n\n<p>I'm trying to use this in my Controller</p>\n\n<pre><code>public ActionResult Index()\n    {\n        var db = new IvrDbContext();\n        var status = SmsContentStatus.Partial;\n\n        var content = db.SmsContents.Where(p =&gt; p.Status == status).FirstOrDefault();\n        if (content != null)\n        {\n            return View(content);\n        }\n        else\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>and then use it in my view</p>\n\n<pre><code>@model IEnumerable&lt;Sample.Models.SmsContent&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var model = @Html.Raw(Json.Encode(Model));\n    for (var m in model) {\n                console.log(m.Content);\n            }\n&lt;/script&gt;\n</code></pre>\n\n<p>but I'm getting the error\n \"The specified type member 'Status' is not supported in LINQ to Entities.\nOnly initializers, entity members, and entity navigation properties are supported.\"</p>\n\n<p>Any help gratefully received!</p>\n"},{"tags":["ruby-on-rails","oop","mvc","search","cells"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12769912,"title":"Is handling requests/accessing database in cells a good practice? and more about MVC with cells and OOP","body":"<p><em>I am just wondering whether this is a good approach to make a model request inside a cell definition....?</em></p>\n\n<p>I am also need to define in general what is more convenient way to implement different representations for search results in different context from OOP point of view.</p>\n\n<p><strong>What do I need this for?</strong></p>\n\n<p>I have categories with items. I want to implement search results as a cell. \nSearch results should be represented in a bit different way according to three cases: </p>\n\n<ul>\n<li>search for all items in specified category</li>\n</ul>\n\n<p>E.g. let category be \"animals\" (this category contains: dog, cat, and bird items in the database) then I should see in browser:</p>\n\n<blockquote>\n<pre><code> Category Items\n    dog\n    cat\n    bird\n</code></pre>\n</blockquote>\n\n<ul>\n<li>search for items similar to specified \"pattern\" in all categories</li>\n</ul>\n\n<p>E.g let pattern be \"do\":</p>\n\n<blockquote>\n<pre><code>Similar Items\n   Animals\n      dog\n   Cars\n      dodge\n</code></pre>\n</blockquote>\n\n<ul>\n<li>search for items similar to specified \"pattern\" inside specified \"category\"</li>\n</ul>\n\n<p>E.g. let pattern be \"do\" and category be \"animals\":</p>\n\n<blockquote>\n<pre><code>Category Items\n    dog\nSimilar Items\n    Cars\n       dodge\n</code></pre>\n</blockquote>\n\n<p>I decided to experiment with cells gem to implement this stuff...</p>\n\n<p>This is what i want to display via cell:\n(app/cells/search_result/display.html.haml)</p>\n\n<pre><code>%h1\n  = @category_items[:title]\n%ul\n  - for i in @category_items[:items]\n    %li\n      = link_to \"#{i.code} #{i.summary}\", category_item_path(i.category.name, i.code)\n\n%h1\n  = @similar_items_by_category[:title]\n%ul\n  - for cat in @similar_items_by_category[:items_by_category].keys\n    %li\n      = \"#{cat.name}\"\n      %ul\n        - for i in @similar_items_by_category[:items_by_category][cat]\n          %li\n            = link_to \"#{i.code} #{i.summary}\", category_item_path(i.category.name, i.code)\n</code></pre>\n\n<p>This is my cell:\n(app/cells/search_result_cell.rb)</p>\n\n<pre><code>class SearchResultCell &lt; Cell::Rails\n\n  def display options\n    setup! options\n\n    render\n  end\n\n  def setup! options\n\n    #some code here that defines\n    # category_items_title, like \"Category Items\"\n    # array_of_found_items\n    # similar_item_title, like \"Similar Items\"\n    # hash_of_found_items_by_category\n    #this code will be different for each search case in correspondent overridden function\n\n    @category_items = { title: category_items_title, items: array_of_found_items }\n    @similar_items_by_category = { title: similar_item_title, items_by_category: hash_of_found_items_by_category }\n  end\n\nend\n</code></pre>\n\n<p>I am going to have separate cell class for each \"search\" case, derive it from the SearchResultCell (maybe I'll rename it to something like GenericSearchResultCell), and override setup! function for each case... And then will use builder to define wich class to build... </p>\n\n<p>This is my view:\n(app/views/items/index.html.haml)</p>\n\n<pre><code>= render_cell :search_result, :display #, ... - and here some options...\n</code></pre>\n\n<p>Now <strong>QUESTIONS</strong>:</p>\n\n<ol>\n<li><p>Should I make real search requests inside \"setup!\" function in a cell? And then make my controller ItemsController just \"parse\" route, and provide that options to be passed to my SearchCell...</p></li>\n<li><p>Or should I make my ItemsController be responsible for both \"parsing\" route and making search requests (defining array_of_found_items, and hash_of_found_items_by_category by itself)? And then just pass all this stuff to the SearchCell as options...</p></li>\n<li><p>Is all this \"cells experiments\" worthy? Is there any more convenient way to implement my \"search\" views and controllers?</p></li>\n</ol>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","entity-framework","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12777458,"title":"How To Get Value From DB While Editting Entry with Null value","body":"<p><strong>Error Message:</strong>\nAn object with the same key already exists in the ObjectStateManager. The ObjectStateManager cannot track multiple objects with the same key.</p>\n\n<p>I want to get Image Url from database if fileupload has null value(not change).\nI mean if i change smallImage and not change LargeImage,then it should get largeImage value from DB.</p>\n\n<pre><code>[HttpPost]\n    public ActionResult Edit(Blog blog, HttpPostedFileBase smallImage, HttpPostedFileBase largeImage)\n    {\n        if (ModelState.IsValid)\n        {\n            if (smallImage != null)\n            {\n                blog.SmallImage = smallImage.ContentLength + \"_\" + smallImage.FileName;\n                string filepath = Path.Combine(Server.MapPath(\"~/Content/Blog/\"), smallImage.ContentLength + \"_\" + smallImage.FileName);\n                smallImage.SaveAs(filepath);\n            }\n            else\n            {\n                blog.SmallImage = db.Blogs.Find(blog.ID).SmallImage;\n            }\n            if (largeImage != null)\n            {\n                blog.LargeImage = largeImage.ContentLength + \"_\" + largeImage.FileName;\n                string filepath = Path.Combine(Server.MapPath(\"~/Content/Blog/\"), largeImage.ContentLength + \"_\" + largeImage.FileName);\n                largeImage.SaveAs(filepath);\n            }\n            else\n            {\n                blog.LargeImage = db.Blogs.Find(blog.ID).LargeImage;\n            }\n            blog.PostDate = Convert.ToDateTime(DateTime.Now.ToShortDateString());\n            db.Entry(blog).State = EntityState.Modified;\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n        return View(blog);\n    }\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["java","mvc","javafx-2","playing-cards"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12336593,"title":"mvc design in a card game","body":"<p>I'm trying to make a card game.</p>\n\n<p>some classes I have are: CardModel, CardView; DeckModel, DeckView. </p>\n\n<p>The deck model has a list of card model, According to MVC, if I want to send a card to a deck, I can add the card model to the deck model, and the card view will be added to the deck view by a event handler.</p>\n\n<p>So I have a addCard(CardModel m) in the DeckModel class, but if I want to send a event to add the card view of that model to the deck view, I only know let the model has a reference to view.</p>\n\n<p><strong>So the question is:</strong> If the card model and deck model have to have a reference to their view classes to do it? If not, how to do it better?</p>\n\n<p><strong>Update, the code:</strong></p>\n\n<pre><code>public class DeckModel {\nprivate ArrayList&lt;CardModel&gt; cards;\n\nprivate ArrayList&lt;EventHandler&gt; actionEventHandlerList;\n\npublic void addCard(CardModel card){\n    cards.add(card);\n\n    //processEvent(event x);\n    //must I pass a event that contain card view here?\n}\n\nCardModel getCards(int index){\n    return cards.get(index);\n\n}\n\npublic synchronized void addEventHandler(EventHandler l){\n    if(actionEventHandlerList == null)\n        actionEventHandlerList = new ArrayList&lt;EventHandler&gt;();\n\n    if(!actionEventHandlerList.contains(l))\n        actionEventHandlerList.add(l);\n}\n\npublic synchronized void removeEventHandler(EventHandler l){\n    if(actionEventHandlerList!= null &amp;&amp; actionEventHandlerList.contains(l))\n        actionEventHandlerList.remove(l);\n}\n\nprivate void processEvent(Event e){\n    ArrayList list;\n\n    synchronized(this){\n        if(actionEventHandlerList!= null)\n            list = (ArrayList)actionEventHandlerList.clone();\n        else\n            return;\n    }\n    for(int i=0; i&lt;actionEventHandlerList.size(); ++i){\n        actionEventHandlerList.get(i).handle(e);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":89,"score":-3,"question_id":12774462,"title":"Java Core MVC Framework","body":"<p>I was wondering if there exists such thing as Java SE MVC framework. I've been confused about Hibernate and Spring, these 2 framworks are for Java EE web applications and i like to program in Java SE (Core) and was wondering if there exists MVC framework for it or if anyone can give a tutorial link how to build one in Java SE.</p>\n"},{"tags":["java","mvc","templates","scala","playframework"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":240,"score":0,"question_id":10910215,"title":"play2 framework my template is not seen. : package views.html doesn not exist","body":"<p>Good day. Please advice me. The problem is that controller doesn't see template I want to use:</p>\n\n<blockquote>\n  <p>[etl_admin] $ compile [info] Compiling 3 Scala sources and 4 Java\n  sources to\n  D:\\ECLIPSE_WORKSPACES\\play2_apps\\etl_admin\\target\\scala-2.9.1\\classes...\n  [error]\n  D:\\ECLIPSE_WORKSPACES\\play2_apps\\etl_admin\\app\\controllers\\EtlWorkflowSeqNodeController.java:7:\n  error: package views.html.etlworkflowseqnode does  not exist [error]\n  import views.html.etlworkflowseqnode.list; [error]<br>\n  ^ [error]\n  D:\\ECLIPSE_WORKSPACES\\play2_apps\\etl_admin\\app\\controllers\\EtlWorkflowSeqNodeController.java:14:\n  error: cannot find symbol</p>\n  \n  <p>[error]             list.render(EtlWorkflowSeqNode.findTree(jobId))\n  [error]             ^ [error]   symbol:   variable list [error]<br>\n  location: class EtlWorkflowSeqNodeController [error] 2 errors [error]\n  {file:/D:/ECLIPSE_WORKSPACES/play2_apps/etl_admin/}etl_admin/compile:compile:\n  javac returned nonzero exit code [error] Total time: 7 s, completed\n  05.06.2012 17:14:44</p>\n</blockquote>\n\n<p>Here is controller code:</p>\n\n<pre><code>package controllers;\n\nimport play.mvc.Controller;\nimport play.mvc.Result;\nimport models.EtlWorkflowSeqNode;\nimport play.db.jpa.Transactional;\nimport views.html.etlworkflowseqnode.list; /*LINE #7, Eclipse really tells that there is no such package*/\n\npublic class EtlWorkflowSeqNodeController  extends Controller {\n\n    @Transactional\n    public static Result list(Integer jobId) {\n        return ok(\n            list.render(EtlWorkflowSeqNode.findTree(jobId))\n        );\n    }\n}\n</code></pre>\n\n<p>I've attached an image with my project tree. There is such package and there is template named \"list\".\n<img src=\"http://i.stack.imgur.com/lBWRr.png\" alt=\"My Eclipse\">\nwhat do I do Wrong</p>\n"},{"tags":["javascript","mvc","node.js","websocket","pylons"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":377,"score":0,"question_id":8346755,"title":"MVC / websockets in node.js","body":"<p>I'm thinking about building some intranet applications that make use of websockets. I'm currently using Python/Pylons for my web framework on the server, and doing polling to update items in the DOM of the page. Pylons is not well suited to communicate with websockets (IMHO) as it uses a thread per connection. I'm considering using node.js as the server to communicate with the websocket connections from my web application. Here's the \"10,000 foot view\" of my application:</p>\n\n<ul>\n<li>Pylons delivers the web content (html, css, images, javascript, etc.)</li>\n<li>JavasSript on the page application opens up websocket(s) to the node.js server</li>\n<li>The node.js server pushes data to the application through the websocket</li>\n<li>JavaScript updates the page DOM elements based on the data from the websocket</li>\n</ul>\n\n<p>The data in the case above comes from a MySQL database, which is where my question comes from. I've set up MVC type applications before, and can do the same kind of thing in node.js. However, if I have a long lived websocket open to the node.js server, how does node.js become aware of changes in the Model and push them out to the application? For instance if I want to update totals presented on the web application page, and those totals change due to actions in the system outside of node.js (other web applications), how is node.js notified of those changes? The thing that comes to mind is to have node.js poll the database for various changes and propagate the changes to the various Views. But to me that just sounds like I'm moving my polling from the web application to the node.js server?</p>\n\n<p>Anyone have any ideas, suggestions or pointers on this?</p>\n\n<p>Thanks in advance!\nDoug</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor","covariance"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12773505,"title":"ASP.NET MVC 3 views, super classes don't work for subclasses?","body":"<p>I have the following classes -</p>\n\n<pre><code>public abstract class BusinessObject { }\npublic abstract class Form: BusinessObject { }\npublic abstract class BillableForm: Form { }\npublic class MembershipForm: BillableForm { }\n\npublic abstract class Dto&lt;T&gt;: where T: BusinessObject { }\npublic abstract class InboxDto&lt;T&gt;: Dto&lt;T&gt; where T: Form { }\npublic class MembershipFormDto: InboxDto&lt;MembershipForm&gt; { }\n</code></pre>\n\n<p>And I have the following views -</p>\n\n<pre><code>membershipform.cshtml:\n@model AdminSite.Models.MembershipFormDto\n@{\n    Layout = \"~/Views/Inbox/Shared/_LayoutForm.cshtml\"\n}\n\n_LayoutForm.cshtml:\n@model InboxDto&lt;Form&gt;\n</code></pre>\n\n<p>When I land on the membershipform.cshtml page, I get the following exception stating:</p>\n\n<p>The model item passed into the dictionary is of type 'AdminSite.Models.MembershipFormDto', but this dictionary requires a model item of type 'AdminSite.Infrastructure.Models.InboxDto`1[BusinessLogic.Inbox.Form]'.</p>\n\n<p>From everything I can tell, <code>MembershipFormDto</code> IS-A <code>InboxDto</code> of type <code>MembershipForm</code>, where <code>MembershipForm</code> IS-A <code>Form</code>.  What gives?</p>\n"},{"tags":[".net","security","mvc","wif"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12655250,"title":"How can i expose pattern for a user to link two accounts together in Azure ACS and WIF (SWT tokens)","body":"<p>Right now when the user is authenticated (over Azure ACS with WIF enabled for SWT tokens) it dont look like I can let them sign in again with a new provider and get two tokens.</p>\n\n<p>im looking for a pattern that would let users link two accounts together?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12766490,"title":"The correct way to implement a nested form in Rails","body":"<p>Sorry for the vauge title, I couldn't think of a better one.  I am creating a sports tipping application.  I have a games model that consists of teamA and teamB.  I also have a 'tip' model that will consist of the game id and the team id that the user selects.  A tip only relates to one team. (one to many).  </p>\n\n<p>What I want is a form that will list all open games with the 2 teams being check boxes that the user can select.<br>\nFor example :</p>\n\n<p>GAME 1</p>\n\n<p>. teamA   . teamB</p>\n\n<p>GAME 2</p>\n\n<p>.teamC    . teamD</p>\n\n<p>......\netc.  </p>\n\n<p>I want to know what is the correct 'rails' way of doing something like this ?  I want to know the 'right' way of approaching something (for a change).  What I am doing now seems to be on the way to working but it feels like there may be a better way.</p>\n\n<p>My idea was to have the new method in my tips_controller pass the games to the form and then let the create method do the work of creating several 'tips'.  I am looking at the nested_form gem but am not exactly sure that this will fit <a href=\"https://github.com/ryanb/nested_form\" rel=\"nofollow\">https://github.com/ryanb/nested_form</a> .</p>\n\n<p>Thankyou for any ideas, I am new to ruby on rails.</p>\n"},{"tags":["javascript","mvc","view","ember.js"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":111,"score":3,"question_id":12767008,"title":"ember.js view example from docs","body":"<p>I'm new to Ember and I try to execute all examples from the documentation. But I found, that some of them won't work.<br>\nFor example, in the 'Building a View Hierarchy' section. I try to execute the first example, but I don't see InfoView data (<a href=\"http://jsfiddle.net/LMnet/EX8HY/\" rel=\"nofollow\">jsFiddle</a>). But if I add 'view' before data, like this:</p>\n\n<pre><code>&lt;b&gt;Posts:&lt;/b&gt; {{view.posts}}\n&lt;br&gt;\n&lt;b&gt;Hobbies:&lt;/b&gt; {{view.hobbies}}\n</code></pre>\n\n<p>All template looks fine (<a href=\"http://jsfiddle.net/LMnet/EX8HY/5/\" rel=\"nofollow\">jsFiddle</a>).\nSo, what is the point of this 'view' word? In the UserView template I didn't write any prefixes before the data and it works normally.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","activerecord"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12765862,"title":"How to associate existing model with new model in Rails","body":"<p>I have a 'tip' model and a 'team' model.  I am trying to create a form where a user will select the winning teams from several games.  So far the user can select the winning teams and those id's are being saved as foriegn keys in the Tip model (team_id).  But after saving, I can't go (for example )  @tip.team.name .  What do I need to do ?  How do I associate it (I though rails might magically do it if foriegn key is set), I am very new to rails.  Thanks for any help !</p>\n\n<pre><code>class Tip &lt; ActiveRecord::Base\nattr_accessible :user_id, :team_id, :team, :game_id, :game, :comp, :comp_id\nbelongs_to   :game\nbelongs_to   :comp\nbelongs_to   :team\nend\n\nclass Team &lt; ActiveRecord::Base\nattr_accessible :name\nhas_many   :tips\nend\n\ndef create\nparams['game'][0].each do |key, value|\n    @tip = Tip.new\n    @tip.team_id = value\n    @tip.game_id = key\n    @tip.save\nend\n</code></pre>\n\n<p>This last  method may be messy too, but not sure how else to do it.  There are several 'tips' that I want to create in the one form. </p>\n\n<p>EDIT : To be clear I am quite sure it's a one to many relationship, I am creating several tips in the one form but each tip only relates to one team.</p>\n\n<p>EDIT :  Actually my approach (which I'm sure is not close to the best way, did allow tip.team.name.  It was a silly error relating to my test data that made me think otherwise.</p>\n"},{"tags":["java","swing","mvc","observer-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":11402244,"title":"Observer/observable objects with MVC pattern","body":"<p>I have this situation:</p>\n\n<p>An object that it's observable and another object that it is observer.</p>\n\n<p>the observer has a method <code>update(Observable obs,Object obj)</code> that receive through <code>notifyObservers</code> the object changed.when observer receives the notify, update method prints the object changed. I want print out the result in a gui that implements MVC pattern.I'm following  this guide <a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html\" rel=\"nofollow\">MVC pattern</a>.\nMy idea is to make the <code>Controller</code> the observer. something like that:</p>\n\n<pre><code>public class Controller extends AbstractController implements Observer \n{\n    public static final String TOTAL_HIT_COUNT_PROPERTY = \"Total Hit\";\n\n    public void changeTotalHitCount(long new_total_hit_count)\n    {\n        setModelProperty(TOTAL_HIT_COUNT_PROPERTY, new_total_hit_count);\n    }\n\n    @Override\n    public void update(Observable o, Object arg) \n    {\n\n    }\n}\n</code></pre>\n\n<p>but I don't know if it's a correct implementation!</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":5,"up_vote_count":3,"down_vote_count":0,"view_count":6837,"score":3,"question_id":6022231,"title":"Simple PHP MVC example","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1497497/hello-word-example-in-mvc-approach-to-php\">Hello Word example in MVC approach to PHP</a>  </p>\n</blockquote>\n\n\n\n<p>I'm looking for a very simple PHP MVC implementation example, in order to understand the concept a little better. Most tutorials i found on the web really suck, they're bland copy/paste or the author has no idea what the heck he's doing, just following a trend.</p>\n"},{"tags":["c#","mvc","events","design-patterns","chess"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":12308823,"title":"Trying to understand MVC. Is this right?","body":"<p>The way it was explained was through the use of events and the publish/subscribe model. Basically, the model would just be the data and it would have no knowledge of the view/GUI/UI. The model is typically just an abstract object that operates on its data and can perform operations and whatnot.</p>\n\n<p>The view is a different class that responds to changes in the model and usually displays this data to the user. Previously, I did not know how this could occur without coupling between the view and model but having it explained with events clears that confusion up a lot. Does this mean that the model contains public events that itself raises when something interesting happens? For example, if we were programming a game of Chess, when a piece was moved, the model would raise the event of <code>PieceMoved</code> with the necessary information (which piece, moved from where to where, etc.) and the view could subscribe to such an event and then show an animation of the piece moving from its old square to its new square.</p>\n\n<p>The part that still confuses me is the exact nature of the controller. I'm having trouble understanding how it supplies the model and view with new information. I imagine the controller contains references to the model and view. Keeping with the Chess example, would the controller just respond to user input (for example to move a piece) and then just suggest to the model what piece wants to move to where? Then the model takes this information, sees if it's a legitimate move, and if so, update the model accordingly, raise the <code>PieceMoved</code> event, to which the view reacts and updates the graphical realm accordingly?</p>\n\n<p>Lastly, how does the controller find out which piece is trying to be moved? It seems like that type of thing is heavily tied to the view (let's say moving involved first clicking the piece you wish to move and then the destination square). I imagine the controller would respond to a mouse click and sends those coordinates to the model but how would the model know how to translate those coordinates to find which piece was selected? Isn't that heavily tied to the view? It seems like the view would have to perform some logic processing instead of simply responding to the model and controller but then it wouldn't be a proper view anymore (instead a view/model mix).</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12762049,"title":"Expression MVC2","body":"<p>I use expression in Java MVC <br />\n<code>&lt;p&gt;${i}&lt;/p&gt;</code> <br />\nI define a method <br /></p>\n\n<pre><code>public static String test(int i) {\n    //\n}\n</code></pre>\n\n<p>I can't call method <code>test</code> in Expression\n<code>${test(i)}</code> \nHow to fix it?</p>\n"},{"tags":["javascript","mvc","backbone.js","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12762574,"title":"backbone-style models in angularjs?","body":"<p>I apologize if this question has already been answered elsewhere, but I couldn't find a full, obvious (to me, at least) solution.</p>\n\n<p>I have experience with the idea of a Model in backbone. In my mind, it's similar to a class in any other OOP language - create a \"class\" using Backbone.Model.extend(), and call new on it when you want a new instance of that class. If I have a app namespace, I can store all of my objects there, and do something like App.getAllThisOrThatTypeModel().</p>\n\n<p>Is this a service in angular? Is it an ok \"best practice\" to have a LOT of services (one for each type of model), basically mimicking \"class\" with \"service\"?</p>\n\n<p>I'm just trying to wrap my head around the best way to deal with models as I try to migrate from backbone to angular to experiment - any advice for someone migrating in this direction would be greatly appreciated.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":12744982,"title":"How can I maintain the detail part data in MVC?","body":"<p>I have a Header and Detail. Customer creation is my header, It may have multiple details like contact details, finance details ,etc.</p>\n\n<p>I maintain saved detail data in session. When i am saving header, I get the saved detail data in session and assign it with the header object (Customer is my object it has details objects) and saved into the db.</p>\n\n<p>So my question is instead of storing every details (every details is list) part in session is there any way to do the same without using session?</p>\n\n<p>Sorry for explaining without source.</p>\n"},{"tags":["mvc","validation","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12751638,"title":"Validation strategies with AngularJS","body":"<p>I'm evaluating AngularJS and so far I'm very enthusiastic about it. But there's something missing on the validation front: the available options, such as the <a href=\"http://docs.angularjs.org/guide/forms\" rel=\"nofollow\">built-in mechanisms</a> and the <a href=\"http://angular-ui.github.com/\" rel=\"nofollow\">AngularUI initiative</a>, implement validators through directives and, as such, every validation should be declared in the view:</p>\n\n<pre><code>&lt;form ng-controller=\"SomeController\"&gt;\n    &lt;!-- Notice the 'required' attribute directive below: --&gt;\n    &lt;input type=\"text\" ng-model=\"user.name\" name=\"uName\" required /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In this example, the view is defining that <code>user.name</code> is required. It's like saying the view defines the proper shape of the model. Isn't it a little backwards? Shouldn't the view reflect the states, including error states when it's the case?</p>\n\n<p>Am I mistaken? I'm wondering if it's possible to apply any validators in the <strong>controller</strong>, signaling the model's data as valid/invalid, and updating the view accordingly (painting form controls with red, showing error messages, clearing previous errors and so on). I'm assuming AngularJS is powerful enough for this, but in the docs and samples so far I just haven't seen anything like I've described above. Thanks!</p>\n"},{"tags":["asp.net-mvc","mvc","iis7","httphandler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12758126,"title":"Why are there two web.config files in my MVC application","body":"<p>There is one in the Views folder.</p>\n\n<p>And there is another in the root of the app.</p>\n\n<p>I want to register a custom handler and i cant understand where the code should go.\nI'm running IIS7 in Integrated Mode so I have to add a <code>&lt;handlers&gt;</code> tag to the <code>&lt;system.webServer&gt;</code> but when I'm looking at the web.config at the Views folder I see that it uses a <code>&lt;httpHandlers&gt;</code> under <code>&lt;system.web&gt;</code> tag.</p>\n\n<p>So two questions:\n  1. why are there two web.config files in an mvc application?\n  2. where and in what way I should register my custom HTTP Handler?</p>\n"},{"tags":["ruby-on-rails","mvc","activerecord","ruby-on-rails-3.2","relational-database"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12750497,"title":"What is the most effecient way to get and view commonly used data inside a Rails application?","body":"<p>I have three models all associated with eachother via <code>has_many :through</code> method. </p>\n\n<pre><code>ProgramCategory\nProgramSubcategory\nProgram\n</code></pre>\n\n<p>Inside my application, I need to use ProgramCategory.title, ProgramSubcategory.title and Program.title very often. Lets say, there'll be a dynamic sidebar menu and it will look like this:</p>\n\n<pre><code>|- Shows (ProgramCategory)\n  |- Action (ProgramSubcategory)\n    |- Lost (Program)\n    |- Games of Thrones (Program)\n    |- Dexter (Program)\n</code></pre>\n\n<p>Since I'm aware of power of <code>application_controller</code>, <code>application_helper</code> and <code>partials</code>; I feel lost about combining all of these together to find the most appropriate way.</p>\n\n<p>Where and how should I call my models? Where should I build my methods to have access it through all of my controllers? Should I simply create a partial and render it at <code>application</code> layout?</p>\n\n<p>I need some expert enlightment, please...</p>\n\n<p>Thanks.</p>\n"},{"tags":["spring","mvc","maven","apache-poi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":287,"score":1,"question_id":10181400,"title":"Apache POI (poi-ooxml) for Excel 2007 and Spring MVC DocumentBuilderFactory cannot be found","body":"<p>I'm having some trouble trying to include Apache POI poi-ooxml library to my project. I'm using Maven and the following dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But after doing this I'm not able to start my Spring MVC app again, Here is the stacktrace:</p>\n\n<blockquote>\n  <p>Exception created : org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/context/applicationContext.xml]; nested exception is javax.xml.parsers.FactoryConfigurationError: Provider for javax.xml.parsers.DocumentBuilderFactory cannot be found</p>\n</blockquote>\n\n<p>So, what I understand is that poi-ooxml is including another xml parser that override the default Java VM defaut one that is used by Spring to read its xml configuration file.</p>\n\n<p>If I exclude the 2 following libs:</p>\n\n<ul>\n<li>xmlbeans</li>\n<li>xml-apis</li>\n</ul>\n\n<p>All is working fine (I'm able to start my Spring app) but of course Apache POI is no longer working as he's missing these 2 required libs...</p>\n\n<p>Any advice will be greatly appreciated ;)</p>\n\n<p>Thanks</p>\n"},{"tags":["web-services","api","mvc","node.js","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12755045,"title":"Backbone.js and communication with the server (retrieving refined data sets)","body":"<p>In backbone.js, my understanding of communication with the server to retrieve data is cloudy at best... My current confusion is:</p>\n\n<blockquote>\n  <p>When you use a Collection you can fetch a set of data from the\n  database through the Model and filter out unwanted results. My concern\n  with this is that in an instance where the unfiltered results ends up\n  being millions of results long, this would slow things down.</p>\n</blockquote>\n\n<p>I know this must not be the case of how it functions because others use backbone.js and I haven't seen this complaint before.</p>\n\n<p><strong>QUESTION:</strong>\nThrough backbone.js, when you fetch a set of objects where does it communicate to and how do you pass variables to specify filters for the method? For example, call to a get method that could take a user_id to return objects with the associated user_id.</p>\n\n<p>If this is not the correct approach please let me know.</p>\n\n<p>Explanation of how backbone.js communicates with the server, what type of interface it expects to communicate. Examples would also be very helpful.</p>\n\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["c#","asp.net-mvc","entity-framework","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12754576,"title":"Create controller logic for ASP.Net MVC for logged in user","body":"<p>I have the following models:</p>\n\n<pre><code>public class Expense\n{\n    [Key]\n    [DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]\n    public int ID { get; set; }\n    [Required]\n    public string Name { get; set; }\n    [Required]\n    [Column(TypeName = \"Money\")]\n    public decimal Limit { get; set; }\n    [Required]\n    [ForeignKey(\"UserProfile\")]\n    public int UserProfileId { get; set; }\n    [Required]\n    public virtual UserProfile UserProfile { get; set; }\n}\n\n[Table(\"UserProfile\")]\npublic class UserProfile\n{\n    [Key]\n    [DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]\n    public int UserId { get; set; }\n    public string UserName { get; set; }\n    public virtual ICollection&lt;Expense&gt; Expenses { get; set; }\n}\n</code></pre>\n\n<p>I have a logged in user, and I would like that user to be able to add new Expenses. The create controller actions looks as follows:</p>\n\n<pre><code>    //\n    // GET: /Expenses/Create\n\n    public ActionResult Create()\n    {\n\n        return View();\n    }\n\n    //\n    // POST: /Expenses/Create\n\n    [HttpPost]\n    public ActionResult Create(Expense expense)\n    {            \n        if (ModelState.IsValid)\n        {\n            UserProfile user = db.UserProfiles.Single(u =&gt; u.UserName == User.Identity.Name)\n            user.Expenses.Add(expense);                \n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n\n        return View(expense);\n    }\n</code></pre>\n\n<p>With the view:</p>\n\n<pre><code>@model MoneyDrainPlug.Models.Expense\n\n@{\n    ViewBag.Title = \"Create\";\n}\n\n&lt;h2&gt;Create&lt;/h2&gt;\n\n@using (Html.BeginForm()) {\n    @Html.ValidationSummary(true)\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;Expense&lt;/legend&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Name)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Name)\n            @Html.ValidationMessageFor(model =&gt; model.Name)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Limit)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Limit)\n            @Html.ValidationMessageFor(model =&gt; model.Limit)\n        &lt;/div&gt;        \n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n\n&lt;div&gt;\n    @Html.ActionLink(\"Back to List\", \"Index\")\n&lt;/div&gt;\n\n@section Scripts {\n    @Scripts.Render(\"~/bundles/jqueryval\")\n}\n</code></pre>\n\n<p>When the post happens, ModelState.IsValid is false in the controller. This is because the there is no UserProfileId set in the expense. It does not help if I set the UserProfile and\\or UserProfileId before calling ModelState.IsValid.</p>\n\n<p>What would be the correct and secure way of handling this? Surely I should not trust a UserProfileId sent from the client? </p>\n\n<p>In case it matters, I am using asp.net MVC 4.</p>\n\n<p>Thanks in advance    </p>\n"},{"tags":["php","mvc","url-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":7556471,"title":"Handling unreadable/not found files in MVC (PHP)","body":"<p>I'm still writing my simple MVC for learning and eventually make a framework for my applications and now I'm writing the routing class and have faced dilemma. Since this community is big, I wanted to hear different opinions before continue. At some point entered URL might not match any controller or there might be a controller with unreadable file. Now I'm faced with dilemma on how do I notify user of the situation.</p>\n\n<p>First option that I see is throwing an exception. This is easy option but catching exceptions might be a problem and it is not centralized.</p>\n\n<p>Another is calling error controller populating a message error or fixed error. \nThere might be other options and I would like to hear from you buddies.</p>\n"},{"tags":["cocoa-touch","mvc","design"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12751630,"title":"have too many methods in view controller but don't know what other classes to create or which methods to move there","body":"<p>I'm a newbie working on an app that both shows the user haiku chosen at random from a collection that comes with the app and allows him/her to write haiku to add that collection.  It also takes the user to a webview of a page from which s/he can buy haiku books.  The thing is, I've put almost all my methods in the view controller, and I have a feeling that good MVC work would divide this up differently.  Here are my basic methods (I've merged a few, left a few out that are submethods of other methods, and also Foundation and UIKit methods, for the sake of brevity), with brief descriptions:</p>\n\n<pre><code>GHHaiku.m //This is a model class, or at least I think it is.\n\n-(int)chooseNumber {\nreturns a random number \n}\n\n-(NSString *)haikuToShow {\nuses that number to return haiku from collection\n}\n\nGHViewController.m\n\n-(void) viewDidLoad\n-(void) viewDidUnload\n\n-(void) clearScreen {\ngets rid of all UITextFields and images so that a new set of them can be created, perhaps with different parameters.\n}\n\n-(void) saveData {\nsaves persistent information like whether user has read the instructions\n}\n\n-(void)home {\ntakes user “home” from whatever screen we're in and shows next haiku\n}\n\n//--code to set up navBar and Toolbar\n\n-(void)createNavBar:title {\ncreates and adds buttons to a UINavigationItem with “title” as title and adds UINavigationBar to view\n}\n\n-(void) loadToolbar {\nloads toolbar at bottom of screen and adds buttons\n}\n\n//--code for instructions page\n\n-(void) haikuInstructions {\nshows instructions on screen\n}\n\n//--code for Amazon page\n\n-(void) loadAmazon {\nloads webview of haiku page at amazon.com\n}\n\n-(void) webViewDidFinishLoad:(UIWebView)\n-(BOOL) webview:(UIWebView) shouldStartLoadWithRequest:(NSURLRequest) navigationType:(UIWebViewNavigationType)\n-(void) connectWithURL☹NSString) andBaseURLString: (NSString)\n-(BOOL) connection: (NSURLConnection) didFailWithError: (NSError)\n\n-(void) doneWithAmazon {\ntakes user out of webview Amazon and shows next haiku\n}\n\n//--code for compose page\n\n-(void) createSpaceToWrite {\nsets up and shows an editable UITextView\n}\n\n-(void) userWritesHaiku {\nallows user to write haiku\n}\n\n-(void) userEditsHaiku {\ntakes user to edit screen for haiku s/he’s already written.\n\n-(void) userFinishedWritingHaiku {\nshows action sheet once user’s done\n}\n\n-(void) deleteHaiku {\nallows user to delete haiku s/he’s written\n}\n\n-(void) saveUserHaiku {\nsaves user haiku to documents folder\n}\n\n-(void) takeToOptOut {\nallows user to opt out of sending haiku to central database\n}\n\n//--code for sharing\n\n-(void) createImage {\ncreates image of haiku\n}\n\n-(void) showActionSheet {\ngives user options to tweet, faceBook, or email\n}\n\n-(void) share {\nallows user to tweet, email, or facebook that image\n}\n\n//--code for display page\n\n-(IBAction)chooseDatabase: (UISegmentedControl) {\nallows user to choose whether to see his/her own haiku and/or haiku that come with the application\n}\n\n-(void) fadeView {\nfades the UISegmentedControl for chooseDatabase\n}\n\n-(void) nextHaiku {\nshows next haiku\n}\n\n-(void) previousHaiku {\nshows previous haiku\n}\n</code></pre>\n\n<p>I have to imagine that some of those belong in separate classes, but I don't know what to put where and what to keep in GHViewController.  (I think part of my confusion comes because \"view controller\" has both \"view\" and \"controller\" in it and I don't understand whether it's a view, a controller, or neither....)</p>\n\n<p>Anyway, I would love suggestions about other classes I ought to create and which methods I should put in them.</p>\n"},{"tags":["php","mvc","joomla","joomla-extensions","joomla-component"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1066,"score":0,"question_id":10514363,"title":"joomla pass variable between views","body":"<p>I'm in the middle of programming a joomla component, this component will have a multiple step form for registration, the first one containing 2 radio buttons. What is the easiest approach to pass the variable from the radiobutton on to step2? when the user submits the first form the controller is called to display the second step, is there an easier approach to this? Thanks in advance.</p>\n\n<p>Code:</p>\n\n<p>step1 of the form (view code):</p>\n\n<pre><code>&lt;form name=\"step1\" action=\"&lt;?php echo JRoute::_('index.php option=com_mycomponent&amp;task=mycomponent.register'); ?&gt;\" method=\"POST\"&gt;\n&lt;input type=\"radio\" name=\"placement\" value=\"0\" checked /&gt; Option 1&lt;br /&gt;\n&lt;input type=\"radio\" name=\"placement\" value=\"1\" /&gt; Option 2&lt;br /&gt;\n&lt;div class=\"next\" onClick=\"document.forms['step1'].submit();\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Controller code to handle mycomponent.register</p>\n\n<pre><code>class mycomponentControllermycomponent extends JController\n\n{\n\n    public function register()\n\n    {\n    $this-&gt;setRedirect(JRoute::_('index.php?option=com_mycomponent&amp;view=default&amp;layout=step2', false));\n    }\n\n}\n</code></pre>\n\n<p>I would like to pass the value from the radio to step2 ;)</p>\n\n<p>Hope i didn't miss a topic concerning this already, couldn't find one atleast! </p>\n"},{"tags":["asp.net","mvc","web-config","url-routing","asp.net-mvc-routing"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":2831,"score":5,"question_id":2006673,"title":"ASP.NET MVC Default URL View","body":"<p>I'm trying to set the Default URL of my MVC application to a view within an area of my application.  The area is called \"<strong>Common</strong>\", the controller \"<strong>Home</strong>\" and the view \"<strong>Index</strong>\".</p>\n\n<p>I've tried setting the defaultUrl in the forms section of web.config to \"<strong>~/Common/Home/Index</strong>\" with no success.</p>\n\n<p>I've also tried mapping a new route in global.asax, thus:</p>\n\n<pre><code>routes.MapRoute(\n        \"Area\",\n        \"{area}/{controller}/{action}/{id}\",\n        new { area = \"Common\", controller = \"Home\", action = \"Index\", id = \"\" }\n    );\n</code></pre>\n\n<p>Again, to no avail.</p>\n"},{"tags":["c#","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":259,"score":0,"question_id":7658406,"title":"MVC - Forms Authentication, IFrame cookies, dynamic Cookieless mode","body":"<p>I have a WebApplicatoon which some of my customers would like to use within an IFrame.\nHowever because saving cookies within IFrame's in Internet Explorer is not supported my Forms authentication doesn't.</p>\n\n<p>I can easily solve this by adding </p>\n\n<p><code>&lt;forms loginUrl=\"~/Account/LogOn\" timeout=\"2880\" cookieless=\"UseUri\" /&gt;</code></p>\n\n<p>However since my site shows its current url (as any web page does) when it runs outside an iframe this results in some VERY ugly Urls.</p>\n\n<p>So my thought is. \nIs there any way to solve the IFrame cookie issue with IE (and Safari) without adding P3P headers. </p>\n\n<p>If this is not possible, is there then any way to change the Cookieless mode from code ?\nIam thinking of having a IFrame Route which then enables cookieless mode.\nSomething like <a href=\"http://www.mypage.com/IFrame/Account/Login\" rel=\"nofollow\">http://www.mypage.com/IFrame/Account/Login</a>.\nSince this Route is only used within IFrame's the URL doesnt matter.</p>\n\n<p>Does anyone have a good solution for this ?</p>\n"},{"tags":["javascript","mvc","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12734970,"title":"AngularJS - Modifying html element after linking","body":"<p>My app generates dynamic forms based on data from a web service.</p>\n\n<p>For example, the web service might return:\n[{Name:'Age',DataType:'Number'},{Name:'PhoneNumber',DataType:'Phone'}]</p>\n\n<p>In the html, the field list is bound like this:</p>\n\n<pre><code>&lt;div ng-repeat=\"v in model.Variables\"&gt;\n    &lt;input type=\"text\" ng-model=\"v.Value\" dynamic-variable=\"{{v.DataType}}\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>DynamicVariable is my directive that watches for changes on attrs.DynamicVariable (the value will change during linking), and performs custom actions based on the type (ex, for 'Phone' datatype, it applies a mask to the input element).</p>\n\n<p>If the type is 'Number', then I have to wrap the existing element in some spans in order to create a number control that has some additional functionality.</p>\n\n<pre><code>var minusButton = '&lt;button type=\"button\" class=\"button number-down\"&gt;-&lt;/button&gt;';\nvar wrapper = '&lt;span class=\"number input margin-right\"&gt;&lt;/span&gt;';\nvar plusButton = '&lt;button type=\"button\" class=\"button number-up\"&gt;+&lt;/button&gt;';\nelement.attr('size', '3');\nelement.wrap(wrapper);\nelement.before(minusButton);\nelement.after(plusButton);\n</code></pre>\n\n<p>However, this seems to break model binding - once the element is wrapped in more html, no binding to/from the model takes place anymore.  Similarly, an element.replaceWith() approach also breaks the binding.</p>\n\n<p>Any idea why this happens, or what a workaround might be?  Thanks!</p>\n"},{"tags":["mvc","extjs","ember.js","javascript-framework","google-closure"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":86,"score":-1,"question_id":12743833,"title":"Portal using JavaScript MVC framework","body":"<p>I am more looking for feedback / advices on this one...</p>\n\n<p>I need to develop an enterprise-level portal system (User-based dashboards, with integration of standalone, reusable \"modules) using a pure JavaScript MVC/HTML5 approach. The \"modules\" would call backend REST services.</p>\n\n<p>I am familiar with several JS frameworks such as Ember, Backbone, Angular, Google Closure and even different players such as Meteor and Derby.</p>\n\n<p>However, since this is going to be a large-scale project which needs to survive for at least 5 years; I am looking for feedback on which framework to chose, and why... :-)</p>\n\n<p>I even considered ExtJS, or going more server side with GWT...</p>\n\n<p>What are your opinions ? :)</p>\n"},{"tags":["javascript","mvc","node.js","express","ember.js"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1086,"score":0,"question_id":10550436,"title":"Node - Express + Ember + Socket io project file structure for MVC development","body":"<p>So i've recently started getting into <strong>node</strong>, and have started working on a few projects using the <strong>Express framework</strong>. I love it - the syntax really appeals to me, being an interactive jQuery dev.</p>\n\n<p>However, in terms of a project file structure, i seem to be clueless and appear to be, perhaps, bloating things out of proportion.</p>\n\n<p>I've got a basic project boilerplate over on github: <a href=\"https://github.com/KingScooty/node-express-3.0-html5-boilerplate\" rel=\"nofollow\">https://github.com/KingScooty/node-express-3.0-html5-boilerplate</a> that works for me quite nicely.</p>\n\n<p>And now i'm looking to integrate <strong>Ember.js</strong>. However, i have no idea how to structure the directories. I'm thinking something along the lines of this:</p>\n\n<pre><code>project\n├── app\n│   ├── collections\n│   ├── models\n│   └── views\n├── node_modules\n├── public\n│   ├── css\n│   ├── img\n│   └── js\n├── routes\n└── server\n    ├── environment\n    └── logs\n</code></pre>\n\n<p>Socket io settings go in the server folder, along with all the node server config and environment config settings (development / staging / production). Static files and jQuery go in public, and the MVC app goodness goes in the app folder.</p>\n\n<p>But it doesn't feel right having a public folder separate from the app folder. Not to mention how i'd even go about including the various JS files in the MVC folder structure. </p>\n\n<p><em><strong>(Front end MVC development is something i know very little about, but this is what i'm trying to learn while also trying to integrate it into my Node environment)</em></strong></p>\n\n<p>If someone can point me on the right path for front end MVC development while utilising a node / socket io powered back end, that would be wicked!</p>\n\n<p>Cheers.</p>\n\n<p>-S</p>\n"},{"tags":["javascript","mvc","frameworks","client-side"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":12741974,"title":"JavaScript frameworks that allow loading of data from multiple endpoints","body":"<p>A project I'm working on has these (unusual) requirements:</p>\n\n<ul>\n<li>User provides a list of API endpoints in a settings panel (all of these would implement the same API, just different servers).</li>\n<li>Client has to load models from each of these endpoints, and also keep track of the server each model row came from. When a model row is updated or deleted, the request needs to be sent to the same server the model row came from.</li>\n<li>This model data is coming from multiple independent servers, so IDs are not consistent (i.e. server 1 and server 2 will both probably have a row with an ID of 1).</li>\n<li>On the view side, data from multiple servers has to be merged and displayed</li>\n</ul>\n\n<p>I've looked at several frameworks, and so far the best I've come up with that is capable of this is Backbone.js. However, I would really prefer something more opinionated like Ember.js or Batman.js - something that provides model bindings and conventions. Do I have any other options?</p>\n"},{"tags":["javascript","jquery","mvc","node.js","socket.io"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12594581,"title":"Seperating View & Controller logic in Javascript objects","body":"<p>Im wanting to seperate the DOM manipulation and interatcion (jQuery) lets call this the VIEW from my client side application logic (socket.io) lets call this the controller. The communication needs to be two way:</p>\n\n<ul>\n<li>VIEW to CONTROLLER when user interacts with the DOM e.g. clicks a button</li>\n<li>CONTROLLER to VIEW when server sends an update to be displayed in DOM e.g. new chat message</li>\n</ul>\n\n<p>I'm having trouble communicating between these two JavaScript objects. How do i communicate between the two in a efficient way?? simple example below. </p>\n\n<pre><code>// CONTROLLER LOGIC (socket.io stuff)\nfunction socketController() {}\n\nsocketController.prototype = {\n\n    constructor: function() {\n\n        // define socket listners\n    this.socket.on('chatMessage', this.chatUpdate.bind(this));\n    }\n\n    chatUpdate: function(data) {\n\n        // somehow call a \"render\" function on the \"view\" object\n        // this.view.renderChatDOM(data.username, data.message);\n    }\n}\n\n// VIEW LOGIC (jQuery stuff)\nfunction jqueryView() {}\n\njqueryView.prototype = {\n\n    onDOMReady: function() {\n\n        // bind event handlers\n        $('#send-message').bind('click', this.sendMessage.bind(this));          \n    }\n\n    sendMessage: function(event) {\n\n            // manipulate DOM\n        var $messageNode = $('#message-input'),\n                $buttonNode = $('#send-message'),\n                message = $messageNode.val();\n\n            $messageNode.val(''); // clear input\n\n            // somehow call the socketController and send data\n            // this.socketController.chatSend(message);\n    }\n}\n</code></pre>\n"},{"tags":["javascript","mvc","web-applications","ember.js","patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12738679,"title":"Using Ember.js, what are some common patterns of handling keyboard events?","body":"<p>What I am trying to do:</p>\n\n<p>Imagine in the browser there is an array of divs, the divs are instantiated or deleted per user request.\nWhen left arrow or right arrow keys are pressed, the divs should move left or right.</p>\n\n<p>My current ( poorly crafted ) solution:</p>\n\n<p>Event handling and delegation:</p>\n\n<pre><code>function onDocumentKeyDown( event ){\n     switch ( event.keyCode ){\n            case 37: App.objectsView.scrollLeft(); break;\n            case 39: App.objectsView.scrollRight(); break;\n     }\n}\n\n\n// add event listener to document\nfunction addEventListeners() {\n    document.addEventListener( 'keydown', onDocumentKeyDown, false );\n}\naddEventListeners();\n</code></pre>\n\n<p>Application container view:</p>\n\n<pre><code>App.objectsView = Ember.ContainerView.create({\n\n    childViews: [],\n\n    // CRUD stuff\n    createView: function(){ ... },\n\n    deleteView: function(){ ... }, \n\n    updateView: function(){ ... },\n\n    // navigation stuff\n    scrollRight: function(){\n        this.scroll('right')\n    },\n\n    scrollLeft: function(){\n        this.scroll('left')\n    },\n\n    scroll: function( direction ){\n        this.get('childViews').forEach( function( key ){\n            var object = key;\n            object.move( direction );\n        }, this)\n    },\n\n\n});\n</code></pre>\n\n<p>Application view class ( for completeness, not really that relevant ):</p>\n\n<pre><code>App.ObjectView = Ember.View.extend( Animation, {\n\n    ...\n\n    move: function( param ){ ... }\n\n});\n</code></pre>\n\n<p>*Note, most of the dom selection and change css attribute logic is brought into the view via an Animation mixin.</p>\n\n<p>As you could see, I really don't like this implementation because:</p>\n\n<ol>\n<li><p>Each key event is bound to to a specific function in container view, what if I want key 37 to do one thing in some context and something else in another context ( for example where the mouse arrow is )? </p></li>\n<li><p>The onDocumentKeyDown function is added to the document, I can't exactly say why but it looks jarring to me.</p></li>\n<li><p>ObjectsView has both logic that manages instantiation <em>and</em> event delegation. Is the containerView in Ember even meant to handle navigation logic at all? ( I could separate them into two different functions, but if the events are handled the same way, then they seem to be morally equivalent solutions ).</p></li>\n</ol>\n\n<p>Are there any commonly used patterns in Ember or just any JS MV* framework that handle key event via some sort of single instance central hub, and then propagate to other parts of the system per application state? And this Ember router concept, does that fit in here somehow?</p>\n\n<p>Thank you!</p>\n"},{"tags":["ruby-on-rails","mvc","design-patterns","controllers"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12697780,"title":"Fat controllers in rails","body":"<p>I started working through the tutorial at <a href=\"http://ruby.railstutorial.org/\" rel=\"nofollow\">railstutorial.org</a> \nto get exposure to the framework. My controllers aren't monstrous yet, but I can\nsee that <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow\">Single Responsibility Principal(SRP)</a> isn't being applied throughout the tutorial, as it extends beyond the scope of the tutorial. </p>\n\n<p>I've got this <a href=\"https://github.com/nieve/Nivter/blob/master/app/controllers/users_controller.rb\" rel=\"nofollow\">relatively simple controller here</a>. I can already see different concerns (e.g. authentication and authorization) leaking into this controller, which contains too many actions to begin with. This assigns too many actions to one controller.\nI stumbled upon <a href=\"https://github.com/jonleighton/focused_controller\" rel=\"nofollow\">rails focused controllers</a> which solves one of these issues\nand looks quite interesting. </p>\n\n<p><strong>Is this a common solution? Or are better solutions available?</strong></p>\n\n<p>In the .net world, we tend to use <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow\">aspect oriented programming(AOP)</a> to\nachieve a cleaner <a href=\"http://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow\">Separation of Concerns (SoC)</a>. However, recently a few guys have written a new front controller framework called <a href=\"http://fubumvc.readthedocs.org/en/latest/topics/behaviors/index.html\" rel=\"nofollow\">Fubu Behaviours</a>. It captures the idea of a request pipeline nicely. Something that makes more and more sense to me.</p>\n\n<p>In order to handle a request we tend to go through a few steps before (and sometimes\nafter) the action is executed. In some cases, conditionally ending the request. It seems natural to use something like behaviors, a pipeline or a russian dolls pattern. \nSo that each link in the chain is responsible for either continuation or cessation. Inheritance doesn't seem to be the best solution. </p>\n\n<p><strong>Is there anything similar to that in rails? Would it make sense in rails?</strong></p>\n\n<p>Recommended readings will be just as well welcome!</p>\n"},{"tags":["windows","mvc","authentication","anonymous","integrated"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12731359,"title":"MVC 3 anoNynmous and Windows authentication combined","body":"<p>I have a web application which is secured down by Windows authentication. However, I have one controller which needs to be available globally to anyone, so they do not need a Windows account on the server to be granted access.</p>\n\n<p>I have got this to work by enabling both Windows authentication, and Anonymous Authentication in IIS. My controllers now look like this:</p>\n\n<pre><code>[Authorize]\npublic class MyController : Controller\n{\n    public Index()\n    {\n    }\n\n    public DoStuff()\n    {\n    }\n\n    etc...\n}\n</code></pre>\n\n<p>My anonymous controller is the same, except I have removed the [Authorise] attribute from the start of it.</p>\n\n<p>Am I right in saying that this instructs the web application to only allow those users with a Windows account to use the majority of controllers, except for the controller which I want to allow anonymous access to?</p>\n\n<p>It seems to work just fine, but I wanted to ensure I have not left a gaping security hole open by doing this?</p>\n\n<p>Are there any issues with enabling both methods of authentication, and setting the application up in this way?</p>\n"},{"tags":["php","mvc","architecture","model"],"answer_count":5,"favorite_count":99,"up_vote_count":81,"down_vote_count":2,"view_count":5868,"score":79,"question_id":5863870,"title":"How should a model be structured in MVC?","body":"<p>I am just getting a grasp on the MVC framework and often I wonder how much code should go in the model. I trend of have a data access class that has methods like this:</p>\n\n<pre><code>public function CheckUsername($connection, $username)\n{\n    try\n    {\n        $data = array();\n        $data['Username'] = $username;\n\n        //// SQL\n        $sql = \"SELECT Username FROM\" . $this-&gt;usersTableName . \" WHERE Username = :Username\";\n\n        //// Execute statement\n        return $this-&gt;ExecuteObject($connection, $sql, $data);\n    }\n    catch(Exception $e)\n    {\n        throw $e;\n    }\n}\n</code></pre>\n\n<p>My models tend to be just an entity class that is mapped to the database table.</p>\n\n<p>Should the model object have all the database mapped properties as well as the code above or is it OK to separate that code out that actually does the database work?</p>\n\n<p>Will I end up having four layers?</p>\n"},{"tags":["asp.net-mvc-3","mvc","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12453114,"title":"Url routing in mvc 3.0","body":"<p>I want to have below specific Url routing for my website</p>\n\n<p><a href=\"http://www.MyWebsite?Region=US&amp;Area=South\" rel=\"nofollow\">http://www.MyWebsite?Region=US&amp;Area=South</a></p>\n\n<p>based on passed Region and Area query string parameter, i want to redirect to a specific controller action.</p>\n\n<p>Problems: </p>\n\n<ol>\n<li>What should be the Url Routing ?</li>\n<li>Whether creating a common controller action which redirects to specific action will work here?</li>\n</ol>\n\n<p>Any help would be greatly appriciated !!</p>\n\n<p>Thanks</p>\n"},{"tags":["php","oop","mvc","codeigniter"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":1063,"score":8,"question_id":3113407,"title":"Codeigniter: when to use a model vs library?","body":"<p>I've starting using Codeigniter for a project recently (few months ago) but its getting a little out of hand with a bunch of models that need to interact with each other and I was wondering if I should be creating a library instead?</p>\n\n<p>In my case, I have a user action that happens when you win a game and it would get logged in  my user_model but I also want it to get put in my events_model?</p>\n\n<p>Should something like this that affects multiple models become a library? </p>\n\n<p>I know it should NOT be in the controller because I'd have to reuse this trigger in multiple controllers (might not make sense for the provided example but does for my application).</p>\n"},{"tags":["mvc","zend-framework","exception"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12729679,"title":"Make Zend find my custom application exceptions","body":"<p>I have a question similar to this thread : [throwing-exceptions-from-model-view-controller-in-a-zend-framework-application][1]</p>\n\n<p>I have a standard MVC structure like this:</p>\n\n<pre><code>/application\n/myapp\n    /controllers\n    /forms\n    /models\n    /exceptions\n        Default.php (class Myapp_Exception_Default extends Zend_Exception)\n</code></pre>\n\n<p>And no matter what when I try to do:</p>\n\n<pre><code>throw new Myapp_Exception_Default();\n</code></pre>\n\n<p>I get :</p>\n\n<pre><code>Fatal error: Class 'Myapp_Exception_Default' not found\n</code></pre>\n\n<p>My question is how to make Zend find my custom Exceptions ? I didn't find any configuration options to declare it.</p>\n"},{"tags":["php","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":688,"score":4,"question_id":2958500,"title":"PHP form post, automatically mapping to an object (model binding)","body":"<p>I do a lot of ASP.NET MVC 2 development, but I'm tackling a small project at work and it needs to be done in PHP.  </p>\n\n<p>Is there anything built-in to PHP to do model binding, mapping form post fields to a class?  Some of my PHP code currently looks like this:</p>\n\n<pre><code>class EntryForm\n{\n    public $FirstName = \"\";\n    public $LastName = \"\";\n}\n\n    $EntryForm = new EntryForm();\n\nif ($_POST &amp;&amp; $_POST[\"Submit\"] == \"Submit\")\n{\n    $EntryForm-&gt;FirstName = trim($_POST[\"FirstName\"]);\n    $EntryForm-&gt;LastName = trim($_POST[\"LastName\"]);\n}\n</code></pre>\n\n<p>Is there anything built-in to a typical PHP install that would do such mapping like you'd find in ASP.NET MVC, or does it require an additional framework?</p>\n"},{"tags":["iphone","objective-c","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":225,"score":1,"question_id":9576231,"title":"Accessing view controllers programmatically","body":"<p>New to iOS development, I've been following the tutorials on developer.apple.com, and am now adding functionality to those examples to further my knowledge.</p>\n\n<p>The \"<a href=\"https://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/SecondiOSAppTutorial/Introduction/Introduction.html\" rel=\"nofollow\">second ios app</a>\" tutorial gives you a navigation controller based app. Extending this app, I want to have a tab bar controller as the first view controller.</p>\n\n<p>So I now have the following setup:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9eYRk.png\" alt=\"Storyboard\"></p>\n\n<p>All good. But there is code in the BirdsAppDelegate (a UIApplicationDelegate) which was relying on the navigation controller being the root view controller, so it can create and assign the \"datacontroller\" object.</p>\n\n<p>This is the original code (before I added the tab bar controller):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n\n    UINavigationController *navigationController = (UINavigationController *)self.window.rootViewController;\n    BirdsMasterViewController *firstViewController = (BirdsMasterViewController *)[[navigationController viewControllers] objectAtIndex:0];\n\n    BirdSightingDataController *aDataController = [[BirdSightingDataController alloc] init];\n    firstViewController.dataController = aDataController;\n    return YES;\n}\n</code></pre>\n\n<p>Now this code fails because it assumes the root view controller is the navigation controller.</p>\n\n<p>I have updated the code so that it works - but in my opinion it is ugly, and would have to be changed every time I make a change to the view controller hierarchy:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:    (NSDictionary *)launchOptions\n{\n    // Override point for customization after application launch.\n\n    UITabBarController *tabBarController =  (UITabBarController *)self.window.rootViewController;\n\n    UINavigationController *navigationController = (UINavigationController *)    [[tabBarController viewControllers] objectAtIndex:0];\n\n    BirdsMasterViewController *firstViewController = (BirdsMasterViewController*) [[navigationController viewControllers] objectAtIndex:0];\n\n    BirdSightingDataController *aDataController = [[BirdSightingDataController alloc] init];\n\n    firstViewController.dataController = aDataController;\n\n    return YES;\n}\n</code></pre>\n\n<p>So my question is: What is the better way to do what I am doing in the code above, so that any changes to the hierarchy will not break the code?</p>\n\n<p>How do I programmatically access the view controller I am after in the application delegate, so that I can create and assign it's BirdSightingDataController object?</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net","flash","mvc","embed","folder"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1128,"score":0,"question_id":2780060,"title":"Unable to set relative path for flash file in ASP.NET MVC using AC_FL_RunContent","body":"<p>I have a website using asp.net mvc in which I need to embed a flash file in view. I am unable to set the relative path for the flash file. Given below is the code I am using:</p>\n\n<p><pre><code>\n AC_FL_RunContent(\n'codebase', 'http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0',\n'width', '487',\n'height', '359',\n'menu', 'false',\n'movie', 'images/butterfly',\n'quality', 'high',\n'allowscriptaccess', 'sameDomain',\n'pluginspage', 'http://www.macromedia.com/go/getflashplayer'\n);\n</pre></code></p>\n\n<p>where I copied butterfly.swf in a directory called images. images directory resides in the views folder.</p>\n\n<p>If I use code behind( default.aspx default.aspx.cs) in a different solution  with the same folder strucuture, browser is able to load the flash file.</p>\n\n<p>Could you please throw some light on the MVC folder structure issue??</p>\n\n<p>Thanks a lot.</p>\n\n<p>Mahesh</p>\n"},{"tags":["c++","mvc","design","c++11"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12680694,"title":"View state and application design","body":"<p>I have a toolbar controller which is capable of updating the toolbar state ( enabled/disabled, pressed/unpressed ) by querying document properties or the application framework.  I have some buttons that represent the current state of a view.</p>\n\n<p>From an application design standpoint I like having toolbar controller able to update the button state at any time given a document.  I also prefer the toolbar controller &amp; button handlers to have no internal state.</p>\n\n<p>Options as I see it - looking for other suggestions:</p>\n\n<ul>\n<li>Create a mechanism for visiting all views of a document with a visitor that can capture the state of the view which is then used to enable/disable/press/depress the button.</li>\n<li>Create some connection between views and toolbar handlers that allows the toolbar buttons to directly ask the views.</li>\n<li>Other??</li>\n</ul>\n"},{"tags":["mvc","internet-explorer","jquery-ajax"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":305,"score":3,"question_id":8732826,"title":"Null parameters in MVC action from jQuery ajax call during navigation (IE only)","body":"<p>I am a programmer on an MVC/ajax project that receives significant traffic from its customers. We've been seeing one or two isolated instances (per day) of a controller action not receiving parameters from the client.</p>\n\n<p>Long story short: the actions are being called via jQuery ajax, and the action params are only null if the ajax call is made while the browser is navigating to another page. IE click a link and then trigger an ajax call.</p>\n\n<p>I added some crude validation around these calls to ensure that we aren't actually passing nulls in the ajax data, and this hasn't alleviated the problem. An example of one of the calls is below.</p>\n\n<pre><code>    var searchValue = _txtSearch.val().trim();\n\n    if (searchValue === null \n        || searchValue === undefined \n        || searchValue.length &lt; _minimumLengthForSearch) {\n        _txtSearch.focus();\n        return;\n    }\n    // clear out the value when launching\n    _txtSearch.val('');\n\n    $.post(_quickSearchUrl,\n        { searchString: searchValue },\n        function (data) {...},\n    \"json\");\n</code></pre>\n\n<p>I found <a href=\"http://blogs.msdn.com/b/ie/archive/2008/07/14/ie8-ajax-navigation.aspx\" rel=\"nofollow\">an old IEBlog post</a> that suggests IE might handle this situation differently from other browsers. I was curious as to whether anyone else has encountered this phenomena before. Again, I can only reproduce this issue in IE and only during page navigation.</p>\n\n<p>Edit: It is difficult to reproduce this exception with Fiddler active for some reason, but when I manage to Fiddler displays the following error message: </p>\n\n<p>Fiddler has detected a protocol violation in session #4.\nContent-Length mismatch: Request Header indicated 24 bytes, but client sent 0 bytes.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-4"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12698613,"title":"Models for View in MVC","body":"<p>I have just a quick question about how to properly pass data to a view using the MVC pattern.</p>\n\n<p>I have an EditProfile/Register model (Name, Email, Country). The View has a country dropdown list, and I need to pass it a list of countries.</p>\n\n<p>Is it to correct to create a new model (just for the view), that basically encapsulates my EditProfile/Register model, and a List? Do I create this view specific model in the controller? (as opposed to my data access project).</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","asp.net","mvc","skin"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":4051,"score":4,"question_id":5274407,"title":"Disable autocomplete on html helper textbox in MVC","body":"<p>Ok,</p>\n\n<p>I would in normal asp.net use a theme to turn off autocomplete on all text boxes on an entire site. However i cannot do this on MVC because nothing in the theme .skin files seems to work.</p>\n\n<p>I have this in my .skin file:</p>\n\n<pre><code>&lt;asp:TextBox runat=\"server\" autocomplete=\"off\" /&gt;\n</code></pre>\n\n<p>however this does not render at all, of course because this is not how MVC works. Anyway is there any way i can get this sort of thing to work.\nThe site i am trying to do it on is too big to warrant changing every textbox or creating a new HTML helper to solve the issue?</p>\n\n<p>Anyone got any ideas?</p>\n"},{"tags":["mvc","sencha-touch-2","tabbar","tabpanel","tabview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12703264,"title":"cant customize the tabbar view in TabPanel in sencha touch 2. The default view is showing always.","body":"<p>I want to change the view of tabs i want them large &amp; rectangle but they are showing like default capsules (rectangular with curved radius). How to customize them?</p>\n\n<h3>HERE IS THE CODE</h3>\n\n<pre><code>var entryForm = Ext.define(\"TimeSheet.view.Newentry\", {\nextend: \"Ext.TabPanel\",\nrequires: [\"Ext.XTemplate\", \"Ext.field.DatePicker\", \"Ext.field.Select\", \"Ext.TitleBar\", \"Ext.DateExtras\"],\nxtype:'newentryview',\n\nconfig: {\n    autodestroy: true,\n    fullscreen: true,\n    scrollable: true,\n    cardSwitchAnimation: 'cube',\n    tabBarPosition: 'top',\n    tabBar: {\n        height: '70px',\n        layout: {\n            pack: 'center'\n        }\n    },\n    defaults: {\n        styleHtmlContent: true\n    },\n    items: [{\n        title: 'Add Entry',\n        iconMask: true,\n        iconCls: 'info',\n        flex: 1,\n        style: 'border: none; font: 22px Arial black',\n        fullscreen: true,\n    },{\n        title: 'Dashboard',\n        iconMask: true,\n        iconCls: 'compose',\n        flex: 1,\n        cls: 'dashpnl',\n        style: 'border: none; font: 22px Arial black',\n        fullscreen: true,\n    },{\n        title: 'Settings',\n        iconMask: true,\n        iconCls: 'settings',\n        fullscreen: true,\n        html: 'Page 3',\n    }]\n}\n</code></pre>\n\n<p>});</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":147,"score":1,"question_id":12491044,"title":"passing model from view to controller using jquery","body":"<p>I have a view</p>\n\n<pre><code>@using staffInfoDetails.Models\n@model staffInfo\n\n&lt;link href=\"../../Content/myOwn.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n@{staffInfo stf = Model; \n  }\n\n&lt;div id=\"education1\"&gt;\n@using (Html.BeginForm(\"addNewEdu\",\"Home\",FormMethod.Post))\n{\n    @Html.HiddenFor(x=&gt;x.StaffId)\n    &lt;table&gt;    \n    &lt;tr&gt;\n        &lt;th&gt;Country&lt;/th&gt;\n        &lt;th&gt;Board&lt;/th&gt;\n        &lt;th&gt;Level&lt;/th&gt;\n        &lt;th&gt;PassedYear&lt;/th&gt;\n        &lt;th&gt;Division&lt;/th&gt;\n    &lt;/tr&gt;     \n    &lt;tr&gt; \n       @Html.EditorFor(x =&gt; x.eduList)\n    &lt;/tr&gt;\n    &lt;tr&gt;\n    @*&lt;td&gt;&lt;input type=\"submit\" value=\"create Another\" id=\"addedu\"/&gt; &lt;/td&gt;*@\n    @*&lt;td&gt;@Html.ActionLink(\"Add New\", \"addNewEdu\", new {  Model })&lt;/td&gt;*@    \n    &lt;/tr&gt;\n    &lt;/table&gt;  \n}\n&lt;button id=\"addedu\"&gt;Add Another&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to pass the model staffInfo to controller using jquery as below</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $(\"#addedu\").live('click', function (e) {\n//            e.preventDefault();           \n            $.ajax({\n                url: \"Home/addNewEdu\",\n                type: \"Post\",\n                data: { model: stf },//pass model\n                success: function (fk) {\n                    //                    alert(\"value passed\");\n                    $(\"#education\").html(fk);\n                }\n\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>the jquery seems to pass only elements not whole model so how can I pass model from the view to the controller so that I don't have to write the whole parameters list in jquery</p>\n"},{"tags":["mvc","3-tier"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12705671,"title":"how to query a database from mvc when the database is defined in a distinct project?","body":"<p>I broke my project in two parts, I defined my edmx file in a class library project, added method to display the list of user in a class. I'm trying to call the method from a mvc action method, which will generate a view with the list of user. here is the code sample:\nMethod in data layer:</p>\n\n<pre><code>public class User\n{\n    public List&lt;UserInfo&gt; Display()\n    {\n        using (var context = new Conn())\n        {\n            var list = from s in context.UserInfoes\n                       select s;\n\n            return list.ToList();\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>Action Result:</p>\n\n<pre><code> public ActionResult Index()\n    {\n        var user1 = new User();\n\n        return View(user1.Display()); //here the code is breaking!\n    }\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>@model IEnumerable&lt;Data.UserInfo&gt;\n\n@{\nLayout = null;\n}\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Index&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;\n            UserName\n        &lt;/th&gt;\n        &lt;th&gt;\n            Email\n        &lt;/th&gt;\n        &lt;th&gt;\n            Password\n        &lt;/th&gt;\n        &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n\n@foreach (var item in Model) {\n    &lt;tr&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.UserName)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.Email)\n        &lt;/td&gt;\n        &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.Password)\n        &lt;/td&gt;\n\n    &lt;/tr&gt;\n}\n\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The error its showing is, the underlying provider failed on open! I have added the connection string from app.config to web.config. What I'm doing wrong?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","testing","rspec"],"answer_count":8,"favorite_count":55,"up_vote_count":106,"down_vote_count":2,"view_count":37041,"score":104,"question_id":201385,"title":"Getting Started with RSpec - Looking for tutorials","body":"<p>I am looking to get started building a project and want to use RSpec from day one. My Ruby background is limited; however, I do have a good understanding of MVC and the structure within Ruby.</p>\n\n<p>In doing some research for books and tutorials, I've found no currently published books, and have found no tutorials that give a good \"hello world\" type write up. And the documentation on the RSpec site is sparse to say the least.\nDo any of you have links that you'd like to share of good tutorials of getting started with roR and RSpec?</p>\n"},{"tags":["c#","asp.net","asp.net-mvc","mvc","frameworks"],"answer_count":7,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":366,"score":0,"question_id":2083071,"title":"Simple MVC Framework for ASP.net?","body":"<p>I need a simple MVC framework, without jQuery extensions, hibernate, loggers, etc.. </p>\n\n<p>Only Model-View-Controller functions. Anyone have an idea where I can find one?</p>\n"},{"tags":["spring","mvc","themes","interceptor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12392635,"title":"Spring MVC ThemeChangeInterceptor do not change theme","body":"<p>I am stuck at something really painful.\nI am trying to use the theming of Spring WebMVC.</p>\n\n<p>This is the end of my web-context.xml file :</p>\n\n<pre><code>&lt;beans:bean id=\"themeChangeInterceptor\" class=\"org.springframework.web.servlet.theme.ThemeChangeInterceptor\" &gt;\n    &lt;beans:property name=\"paramName\" value=\"theme\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"themeSource\" class=\"org.springframework.ui.context.support.ResourceBundleThemeSource\"&gt;\n    &lt;beans:property name=\"basenamePrefix\" value=\"theme-\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"themeResolver\" class=\"org.springframework.web.servlet.theme.CookieThemeResolver\" &gt;\n    &lt;beans:property name=\"defaultThemeName\" value=\"default\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"handlerMapping\" class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\"&gt;\n    &lt;beans:property name=\"interceptors\"&gt;\n        &lt;beans:list&gt;\n            &lt;beans:ref bean=\"themeChangeInterceptor\" /&gt;\n        &lt;/beans:list&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>In my header file, I have something like :</p>\n\n<pre><code>&lt;span style=\"float: right\"&gt;\n        &lt;a href=\"?theme=default\"&gt;Default&lt;/a&gt;\n        |\n        &lt;a href=\"?theme=other\"&gt;Other&lt;/a&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>And to finish, my html head has (imported in all views) :</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"&lt;spring:theme code=\"css\"/&gt;\" type=\"text/css\" /&gt;\n</code></pre>\n\n<p>I got the two properties files in src/main/resources, which leads to my css. For example in theme-default.properties, there is :</p>\n\n<pre><code>css=static/css/dev.css\n</code></pre>\n\n<p>My css are in src/webapp/static/css/.\nWhen I load the website for the first time, the theme is default, so I think that the property files and the css are correctly found by the Theme resolver.\nBut when I click on Default or Other in the header, nothing happens.</p>\n\n<p>Do you know where the problem is ?</p>\n\n<p>Thank you very much beforehand !\nOlivier.</p>\n"},{"tags":["actionscript-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12676598,"title":"In MVC, can model make use of services to load some data into a list box of a view?","body":"<p>Is it legal In MVC, so that a \"model\" make use of \"services\" to load some data ( from web) so that the data after loading can be passed into a  list box of a \"view\" ? </p>\n\n<p>My focus is on \"Can Model make use of Services directly for such purposes?\"</p>\n\n<p>V.</p>\n"},{"tags":["database","mvc","ruby-on-rails-3.1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12697486,"title":"rails 3 sorting a model by foreign key","body":"<p>I have another problem trying to order data from 1 table based on a value in a second table in my rails 3 app</p>\n\n<p>The table lists amounts other things a primary and secondary location choice using the id from a separate locations table for each column</p>\n\n<p>i.e.</p>\n\n<pre><code>LocationGroup\n  id\n  primary =&gt; int (using primary key of Locations)\n  secondary =&gt; int (using primary key of Locations)\n  ...\n\nLocations\n  id\n  locationname =&gt; string\n</code></pre>\n\n<p>what I’m trying to do is list all LocationGroups ordered by LocationGroup.primary where LocationGroup.primary is ordered by Locations.locationname ASC</p>\n\n<p>any help would be gratfully recieved</p>\n\n<p>thanks</p>\n\n<p>Mike</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","ruby-on-rails-3.2"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":207,"score":2,"question_id":11984405,"title":"Ruby on Rails Best pratices - Big Controller vs Small Controller","body":"<p>I need some informations for the <strong>best pratices</strong> in Ruby on Rails, especially with <strong>Controler who have to do a lot of things</strong>, so, a simple \"show\" action is now up to  lines. I know, it's not really good, and i have specific code in it. </p>\n\n<p><strong>Here is a sample code :</strong> </p>\n\n<pre><code>def show\n    sound = Sound.find(params[:id])\n    @xml_path = File.dirname(sound.file.path)\n    s3 = AWS::S3.new(\n        :access_key_id =&gt; 'XXX',\n        :secret_access_key =&gt; 'XXX')\n    @url = s3.buckets['dev'].objects[sound.file.path[1..-1]].url_for(:read, :expires =&gt; 10*60)\n\n    if sound.id_job != 0 &amp;&amp; sound.transcript_progress != 100\n      @response = Savon.client(\"http://srap.php?wsdl\").request(:avance) do\n        soap.body = { \n         :Jeton =&gt; \"abcdef\",\n         :ID_job =&gt; sound.id_job,\n        }\n      end\n      @response = @response.to_hash\n      @progress = @response[:avance][:avancement].to_s.split(\"#\")[1]# ID_job received is formed like \"OK#123\", we keep \"123\"\n      if @progress == \"Termine\"\n         sound.transcript_progress = 100\n      elsif @progress == \"ERROR\"\n        flash.now[:alert] = \"Oups, il semblerait que le fichier soit illisible, ou qu'il n'y ait rien a ecouter !\"\n      elsif @progress != \"Queued\"\n        sound.transcript_progress  = @response[:avance_response][:avancement].to_s.split(\"#\")[2].split(\"%\")[0].to_i\n      end\n      sound.save\n    end\n\n    if sound.transcript_progress == 100 # If transcription finished\n      # Get XML File URL on the FTP\n      @xml_path = Savon.client(\"http://srap.php?wsdl\").request(:donneResultat) do\n      soap.body = { \n       :Jeton =&gt; \"XXX\",\n       :FichierSon =&gt; sound.id_job\n      }\n      end\n\n      # Parse XML Path URL on Kimsufi\n      @xml_path = @xml_path.to_hash[:donne_resultat_transposition_response][:chemin_fichier].to_s.split(\"#\")[2].to_s.split(\"/\")[5]\n\n\n      # Create local directory (/tmp/sounds) for XML Temp Save\n      if ! File.directory?(Rails.root.to_s + '/tmp/sounds')\n        Dir.mkdir(Rails.root.to_s + '/tmp/sounds')\n      end\n      # Get XML from FTP\n      ftp=Net::FTP.new                                     \n      ftp.connect(\"ftp.com\", 21)                                                         \n      ftp.login(\"XXX\", \"XXX\")                \n      if ftp.closed?\n        flash.now[:alert] = \"Oups, il semblerait qu'il y ait eu un problème ! Merci d'actualiser la page\"\n      else  \n        ftp.passive = true\n        ftp.chdir('results')\n        ftp.getbinaryfile(@xml_path, Rails.root.to_s + '/tmp/sounds/' + @xml_path)\n        ftp.close\n      end\n\n      # Send XML on S3\n      s3 = AWS::S3.new(\n        :access_key_id =&gt; 'XXX',\n        :secret_access_key =&gt; 'XXX')\n      @xml_new = (File.dirname(@sound.file.path) + '/' + File.basename(@xml_path))[1..-1]\n      s3.buckets['dev'].objects[@xml_new].write(Pathname.new(Rails.root.to_s + '/tmp/sounds/' + @xml_path))\n      @file = s3.buckets['dev'].objects[@xml_new].read()\n    end\n\n\n    # A lot of logic again, i've not did it yet\n\n  end\n</code></pre>\n\n<p>As you can see, i have a lot of logic here, \ni have to check if the transcription is over, \n     if not, update the progress_bar (@sound.transcript_progress), \n     if yes, i first have to connect to a soap action to get the XML path, then get the XML via FTP, then stock it to the Amazon S3 (Shitty SOAP, i have to reparse all response...).</p>\n\n<blockquote>\n  <p>In all my action controller, i have to connect on S3 / SOAP / FTP, not\n  in the same order.. So i i'm thinking to do a class for each, like in\n  C++, an abstraction. I want the stuff done, i don't care (a lot) how\n  it's done. But what's the best pratice with the MVC? I have to make a\n  new folder \"Class?\" A new controller?</p>\n</blockquote>\n\n<p>Thanks you, and thanks for reading all this ;)</p>\n"},{"tags":["c#","mvc","asp.net-2.0"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":242,"score":1,"question_id":1672326,"title":"A minimal MVC setup for ASP.NET 2.0","body":"<p>I have to migrate a web application I made with ASP.NET MVC to a regular Visual Studio 2005 ASP.NET Web Forms based website.</p>\n\n<p>I've looked at things like MonoRail, but it's too different for my co-workers (who are already uncomfortable with MVC) to use.</p>\n\n<p>I've read that the first version of ASP.NET MVC was made in an airplane flight, that's around the kind of complexity I'm willing to deal with.</p>\n\n<p>I don't need an ORM.  I have a homegrown ORM that I've been using for a long time that I will use to replace Entity Framework.</p>\n\n<p>Specifically I'm mostly looking for two things: how to do routes using a line or two in a web.config and a fancy Default.aspx, and how to render an aspx page with model data injected into it.</p>\n"},{"tags":["javascript","oop","mvc","backbone.js","requirejs"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":108,"score":4,"question_id":12695832,"title":"Dependency Injection vs. Managed Dependencies vs. Global Object","body":"<p>I'm working within a Javascript + BackboneJS (an MVC framework) + RequireJS framework, but this question is somewhat OO generic.</p>\n\n<p>Let me start by explaining that in Backbone, your Views are a mix of traditional Views and Controllers, and your HTML Templates are the traditional MVC Views</p>\n\n<p>Been racking my head about this for a while and I'm not sure what the right/pragmatic approach should be.</p>\n\n<p>I have a User object that contains user preferences (like unit system, language selection, anything else) that a lot of code depends on.</p>\n\n<p>Some of my Views do most of the work without the use of templates (by using 3rd party libs, like Mapping and Graphing libs), and as such they have a dependency on the User object to take care of unit conversion, for example. I'm currently using RequireJS to manage that dependency without breaking encapsulation too much.</p>\n\n<p>Some of my Views do very little work themselves, and only pass on Model data to my templating engine / templates, which do the work and DO have a dependency on the User object, again, for things like units conversion. The only way to pass this dependency into the template is by injecting it into the Model, and passing the model into the template engine.</p>\n\n<p>My question is, how to best handle such a widely needed dependency?\n- Create an App-wide reference/global object that is accessible everywhere? (YUK)\n- Use RequireJS managed dependencies, even though it's generally only recommended to use managed dependency loading for class/object definitions rather than concrete objects.\n- Or, only ever use dependency injection, and manually pass that dependency into everything that needs it?</p>\n"},{"tags":["mvc","design"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12694078,"title":"In a MVC application, should the controller or the model handle data access?","body":"<p>We are having some philosopical debates in our company about where the calls to the Business Logic should be to perform CRUD operations.</p>\n\n<p>I believe that the Model should consist of your data structure and that the controller should be responsible for populating the data.</p>\n\n<p>My co-worker believes that all population should be done in the model class itself, and simply called by the controller.  This keeps the controller neat and clean (but, in my opinion, clutters up the model).</p>\n\n<p>He also believes that any call that returns a Json object should happen in the model, not in the controller.  The model would return an array to the controller, which would then return this as a Json object.</p>\n\n<p>What are some different pros/cons to each and is there a right or wrong way to do this?</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12694163,"title":"Creating a table with an arbitrary number of rows as my model?","body":"<p>I am creating a model which is intended to hold a table. The table will hold an arbitrary number of rows defined at run-time. I am wondering if there's an easy way to define this in MVC?</p>\n\n<p>Currently all I have is:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;CableSolve.Web.Models.Orders.ActivityDetailsModel&gt;\" %&gt;\n\n&lt;div id=\"ActivityDisplay\"&gt;\n    &lt;table id=\"ActivitiesGrid\"&gt;\n    &lt;/table&gt;\n    &lt;div id=\"ActivitiesGridPager\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In a different model, I create a table which had a static number of rows. This was pretty easy:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;CableSolve.Web.Models.Orders.OrderDetailsModel&gt;\" %&gt;\n\n&lt;fieldset class=\"collapsible\"&gt;\n    &lt;legend&gt;\n        &lt;%= Html.DisplayFor(model =&gt; model.OrderDetailsLegendName)%&gt;\n    &lt;/legend&gt;\n    &lt;table id=\"OrderDetailsContentTable\" class=\"ContentTable\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.OrderID.Name)%&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.OrderID.Value)%&gt;&lt;/td&gt;\n\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.Comment.Name)%&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%= Html.DisplayFor(model =&gt; model.Comment.Value)%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        ...\n</code></pre>\n\n<p>So, any ideas on how I could go about having an arbitrary number of rows in ActivitiesGrid? </p>\n\n<p>Basically, my controller is going to get some information at run-time and I want to display the retrieved information in a table, but I do not know how many rows of information I am going to receive.</p>\n\n<p>As a light-weight solution without introducing third-party stuff (for now, if it proves necessary I will):</p>\n\n<pre><code>public class ActivityDetailsModel\n{\n    public List&lt;ActivityRow&gt; ActivityRows = new List&lt;ActivityRow&gt;();\n\n    public struct ActivityRow\n    {\n        public DateTime? Date;\n        public string Person;\n        public string OrderOrTaskID;\n        public string Activity;\n\n        public ActivityRow(DateTime? date, string person, string orderOrTaskID, string activity)\n        {\n            Date = date;\n            Person = person;\n            OrderOrTaskID = orderOrTaskID;\n            Activity = activity;\n        }\n    }\n\n    public ActivityDetailsModel(IEnumerable&lt;Activity&gt; activities)\n    {\n        foreach(Activity activity in activities)\n        {\n            string orderOrTaskID = activity.TaskID != 0\n                                     ? activity.OrderID + \"-\" + activity.TaskID\n                                     : activity.OrderID.ToString();\n\n            string activityDescription = string.Format(\"OldValue: {0}, NewValue: {1}\", activity.OldValue,\n                                                       activity.NewValue);\n\n            ActivityRows.Add(new ActivityRow(activity.UpdateDateTime, activity.UpdateUsername, orderOrTaskID, activityDescription));\n        }\n    }\n}\n\n&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;CableSolve.Web.Models.Orders.ActivityDetailsModel&gt;\" %&gt;\n\n&lt;div id=\"ActivityDisplay\"&gt;\n    &lt;table id=\"ActivitiesGrid\"&gt;\n        &lt;%foreach (var activityRow in Model.ActivityRows)\n          {%&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.Date)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.Person)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.OrderOrTaskID)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%= Html.DisplayForModel(activityRow.Activity)%&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n          &lt;%}%&gt;\n    &lt;/table&gt;\n    &lt;div id=\"ActivitiesGridPager\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Is this relatively understandable? I hate the mark-up with all the angle-brackets and percent signs, but the project hasn't been developer with the alternative syntax.</p>\n"},{"tags":["design","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":1168506,"title":"MVC Question: How do I know when I'm putting too much logic into my view?","body":"<p>Consider the following from CodeIgniter.  If I am doing this wrong, then please tell me:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;?=$title ?&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;&lt;?=$heading; ?&gt;&lt;/h1&gt;\n\n\n    \t&lt;?php foreach ($query-&gt;result() as $row):?&gt;\n    &lt;p&gt;\n    \t&lt;?=$row-&gt;LastName . ', ' . $row-&gt;FirstName . ' ' . $row-&gt;MiddleName?&gt;\n    \t&lt;/br&gt;\n    \t&lt;?=$row-&gt;myField?&gt;\n    \t&lt;?php if ($row-&gt;myField == ''):?&gt;\n    \tno data found\n    \t&lt;?php endif;?&gt;\n    \tsome text\n    \t&lt;?=$row-&gt;anotherField ?&gt;\n    \t&lt;/br&gt;\n    \t&lt;?php if ($row-&gt;purchasedate !='') {echo 'Purchase Date ' . mdate('%m' . '/' . '%d' .  '/' . '%Y', strtotime($row-&gt; purchasedate));}?&gt;\n\n    &lt;/p&gt;\t\t\n    &lt;p&gt;\n      &lt;label for=\"ProductNumber\"&gt;Product&lt;/label&gt;\n      &lt;input type=\"text\" name=\"Product_number\" id=\"ProductNumber\" value = \n    &lt;?=$row-&gt;ProductNumber?&gt;\n     /&gt;\n    &lt;/br&gt;\n    &lt;?php if ($row-&gt;Purchased == '-1'): ?&gt;\n    &lt;h3&gt;Bought&lt;/h3&gt;\n    &lt;?php endif;?&gt;&lt;/br&gt;\n    &lt;?php if ($row-&gt;Sold == '-1'): ?&gt;\n    &lt;h3&gt;Sold&lt;/h3&gt;\n    &lt;?php endif;?&gt;&lt;/br&gt;\n    &lt;/p&gt;\n\n    \t\t&lt;?php endforeach;?&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I know some of it will not make sense.  I am experimenting and also changed some of the names of fields.</p>\n\n<p>My question is:  Is this too much intermixing of code into my view?  It seems this occurs with most templating but that there is some vague line that just feels wrong when you cross it and you say, \"That's too much logic in my view.\"  I don't know that line.  Is this example crossing it?  A foreach, if thens, echo, strtotime, the ?php tags, etc.</p>\n\n<p>Is it just crossing the \"line\" when I put db access logic and start emitting all my html tags from print or response.write statements all on one big page behind the scenes on the server?</p>\n"},{"tags":["javascript","mvc","knockout.js"],"answer_count":2,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":1952,"score":7,"question_id":6509567,"title":"KnockoutJS - Multiple partial views within on main view?","body":"<p>I am trying to port an existing asp mvc app over to use knockoutjs (pure js/html) as I no longer really need any of the functionality within asp mvc. However one problem I can forsee is the way I am handling some of my pages.</p>\n\n<p>I have one page which contains about 12 partial views, each partial has its own model. Now with Knockout JS it seems like you should only really have 1 viewmodel/view per page, however the page I have contains a large amount of information, the sections would be akin to:</p>\n\n<ul>\n<li>Customer Details</li>\n<li>Customer Address</li>\n<li>Customer Recent Orders</li>\n<li>Customer Cards</li>\n<li>Customer Funds</li>\n<li>...</li>\n</ul>\n\n<p>To make things more tricky if some details change in on part, it needs to change data in another part. So lets say you remove a card it then needs to tell the funds control that it no longer has a card so wont have funds. (This is all an abstract example, but hopefully illustrates the point)</p>\n\n<p>So I am a bit unsure how to do this in knockout, as that would rather have it as one big model, which I would be happy with doing but it contains ALOT of information. As well as multiple forms, as you can update your address without having to update everything else.</p>\n\n<p>So should I just make one large model for this view and just deal with it? or is there a way to have views talk to each other?</p>\n"},{"tags":["asp.net","mvc","rest","routes","odata"],"answer_count":1,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":497,"score":9,"question_id":5042346,"title":"OData-like routes in ASP.NET MVC","body":"<p>Is there a simple way for creating asp.net mvc application with routes based on OData uri conventions <a href=\"http://www.odata.org/developers/protocols/uri-conventions\" rel=\"nofollow\">http://www.odata.org/developers/protocols/uri-conventions</a> ?</p>\n\n<p>It's like a just adding new html format for specification.</p>\n\n<p>Or may be another way for converting Urls into LINQ queryies dynamically?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12691312,"title":"rails 3 order by another models column","body":"<p>I have 2 models in my Rails 3 app which I use to describe people and where they live\nUnfortunately I set these up without using associations</p>\n\n<p>The 2 tables are setup like this</p>\n\n<pre><code>People\n id\n name\n location_id\n\nLocations\n  id\n  name\n</code></pre>\n\n<p>what I want to do is list all entries in the Peoples table ordered by Locations.name alphabetically and People.name alphabetically </p>\n\n<p>I can do a simple sort using this code which groups each person by a location but I need to drill into the Locations table as well</p>\n\n<pre><code>@people = People.all(:order =&gt; '\"location_id\" ASC, \"name\" ASC')\n</code></pre>\n\n<p>Anyone have any idea?</p>\n\n<p>Also is it a good idea to set up an association in the People class to say location_id is Locations.id</p>\n"},{"tags":["php","mvc","codeigniter","crud"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12689753,"title":"CodeIgniter & MVC, where should the image uploading logic be?","body":"<p>I'm developing a simple app with a CRUD admin panel, using CodeIgniter. One of my models has 5 optional images, so when I create a new register, the app should check the amount of images the user has input, upload and store them properly.</p>\n\n<p>Currently, the code that handles the uploading and the storage is in my controller. However, I've been reading a lot about MVC and some say that the controller should be as <em>skinny</em> as possible, so I'm wondering if it'd be a good idea to move that code to the model.</p>\n\n<p>What do you think?</p>\n"},{"tags":["php","mvc","codeigniter","model"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":822,"score":0,"question_id":8112284,"title":"Extending Models in CodeIgniter","body":"<p>I'm receiving this error for some odd reason:</p>\n\n<pre><code>Fatal error: Class 'crud_model' not found in /application/models/shared_model.php on line 3\n</code></pre>\n\n<p>From this line:</p>\n\n<pre><code>class Shared_model extends crud_model {\n</code></pre>\n\n<p>Which has worked before in the past. Does anyone know what may be occuring here? The file is the respective folder, it's spelled correctly, and I've event tried the following with no positive results.</p>\n\n<pre><code>class Shared_model extends Crud_model {\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class Shared_model extends Crud_Model {\n</code></pre>\n\n<p>Here is crud_model.php</p>\n\n<pre><code>&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Crud_model extends CI_Model {\n\npublic $table_name;\npublic $pk;\n\npublic function __construct()\n{\n    parent::__construct();\n}\n</code></pre>\n\n<p>Here is shared_model.php</p>\n\n<pre><code>&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Shared_model extends Crud_model {\n\npublic function __construct()\n{\n    parent::__construct();\n\n    $this-&gt;pk = 'id';\n    $this-&gt;table_name = 'shares';\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","database-design","mongoid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12688575,"title":"is it possible using state_machine for private message system?","body":"<p>I need make a system private message with mongoid.</p>\n\n<p>I have this model:</p>\n\n<pre><code>class Message\n  include Mongoid::Document\n  include Mongoid::Timestamps::Created\n\n  # Relationships \n  belongs_to :sender, :class_name =&gt; 'User', :inverse_of =&gt; :messages_sent\n  belongs_to :receiver, :class_name =&gt; 'User', :inverse_of =&gt; :messages_received\n  belongs_to :thread, :class_name =&gt; 'Message'  # Reference to parent message\n  has_many :replies,  :class_name =&gt; 'Message', :foreign_key =&gt; 'thread_id'\n  scope :in_reply_to, lambda { |message| where({:thread =&gt; message}).asc('created_at') }\n\n  #validations\n  validates_presence_of :username, :email, :subject, :body, :sender, :receiver\n  validates_length_of :subject, :within =&gt; 10..70\n  validates_length_of :body, :within =&gt; 10..1000\n\n  #state machine has been read message?\n  state_machine :has_been_read, :initial =&gt; :unread do\n     event :read_message do\n        transition :from =&gt; :unread, :to =&gt; :read\n     end\n     event :mark_unread do\n        transition :from =&gt; :read, :to =&gt; :unread\n     end\n  end\n\n  #state machine place_sender can be sent, draft, trash\n   state_machine :place_sender, :initial =&gt; :draft do\n     event :send_message do\n       transition :from =&gt; :draft, :to =&gt; :sent\n     end\n     event :sender_send_to_trash do\n       transition :from =&gt; :draft, :to =&gt; :drafts_trash\n     end\n    end\n\n   #state machine place_sender can be inbox, trash, spam\n    state_machine :place_receiver, :initial =&gt; :in_box do\n     event :receiver_send_to_trash do\n      transition :from =&gt; :inbox, :to =&gt; :trash\n     end\n     event :receiver_send_to_spam do\n      transition :from =&gt; :inbox, :to =&gt; :spam\n     end\n    end\nend\n</code></pre>\n\n<p><strong>My question is if is possible use <a href=\"https://github.com/pluginaweek/state_machine\" rel=\"nofollow\">state_machine</a> gem for this objective or purpose, or if we can do it another way, how should we do it?</strong></p>\n\n<p>Thank you very much!</p>\n"},{"tags":["c#","mvc","expandoobject"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":11256188,"title":"How to add object property on expando at runtime?","body":"<p>I read some article regarding expando object <a href=\"http://stackoverflow.com/questions/5204382/adding-expando-properties-to-a-typed-object-at-runtime-in-c-sharp\">here</a> but I want to achieve different thing.<br>\nI want to add property object with dynamic property at runtime, put value on it and then retrieve later:  </p>\n\n<pre><code>    private static readonly ConditionalWeakTable&lt;object, ExpandoObject&gt; props = new ConditionalWeakTable&lt;object, ExpandoObject&gt;();\n    public static void AddDataExtension(this object key, dynamic value)\n    {\n        props.Add(key, value);\n    }\n\n    public static dynamic GetDataExtension(this object key)\n    {\n        ExpandoObject ex = null;\n        return props.TryGetValue(key, out ex);\n    }  \n</code></pre>\n\n<p>Usage:  </p>\n\n<pre><code>'Insert data at runtime'\ninstance.AddDataExtension(\"Hello\", \"hi\");\n\n'Get the data at runtime'\ninstance.GetDataExtension(\"Hello\")  \n</code></pre>\n\n<p>But I receive this error:  </p>\n\n<pre><code>The best overloaded method match for 'System.Runtime.CompilerServices.ConditionalWeakTable&lt;object,System.Dynamic.ExpandoObject&gt;.Add(object, System.Dynamic.ExpandoObject)' has some invalid arguments  \n</code></pre>\n\n<p>I think I misused this property, is this possible to achieve? if yes, how? Please help. </p>\n\n<p><strong>Edit</strong>  </p>\n\n<p>here is the complete class:  </p>\n\n<pre><code>public static class instance\n{\n    private static readonly ConditionalWeakTable&lt;object, ExpandoObject&gt; props = new ConditionalWeakTable&lt;object, ExpandoObject&gt;();\n        public static void AddDataExtension(this object key, dynamic value)\n        {\n            props.Add(key, value);\n        }\n\n        public static dynamic GetDataExtension(this object key)\n        {\n            ExpandoObject ex = null;\n            return props.TryGetValue(key, out ex);\n        } \n}  \n</code></pre>\n\n<p>What I want to achieve is this:<br>\nI will have random varialbes, for example, \"<code>photo_01, photo_12, photo_15, name_01, name_02, age_01, age_02</code>\"<br>\nIf possible I want to use the method in this way:  </p>\n\n<pre><code>id = &lt;fetch from dbase&gt;\ninstance.AddDataExtension(\"photo_\" + id, byte[]);  \n</code></pre>\n\n<p>And then retrieve the value:  </p>\n\n<pre><code>instance.GetDataExtension(\"photo_\" + id)  \n</code></pre>\n"},{"tags":["php","mysql","mvc","pdo"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":134,"score":1,"question_id":12628736,"title":"PHP MVC, PDO: loop through returned mysql data","body":"<p>In my DB layer class I have a method that takes a select sql query as param:</p>\n\n<pre><code>public function select($sqlQuery) {             \n  $stmt = $this-&gt;pdo-&gt;prepare($sqlQuery);\n  $stmt-&gt;execute();\n  $ret = $stmt-&gt;fetch(PDO::FETCH_ASSOC);\n  return $ret;\n}\n</code></pre>\n\n<p>I want to be able to return the fetched data to my model, and then loop through it in my view class, without using any PDO in the view.</p>\n\n<p>How should this be done the right way?</p>\n\n<p>I want to be able to reach the table rows as $row['testCol'] etc.</p>\n"},{"tags":["jquery","mvc","asynchronous","scrollbar","postback"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12686998,"title":"Maintaining Page Scroll positon after asynchronous postback using jquery in MVC","body":"<p>I am facing problem in maintaining the page scroll postion after asynchronous postback in mvc view. When ever i click on the button with async call the page scrollbar goes up to the page. I am using jquery post method for async call. In my jquery code in post call i am hiding the div or i am manipulating the DOM. Any suggestion to solve this problem is much appreciated .</p>\n\n<p>Regards,\nTariq</p>\n"},{"tags":["asp.net-mvc","mvc","jquery-forms-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12686789,"title":"Form Validation and HTTP Exception","body":"<p>A form is submitted using jQuery form plug-in to an action in MVC framework. In the action, if form validation fails a reply should be sent back to the client. jQuery form plug-in comes with error and success callbacks (like any other jQuery Ajax functions).\nIsnt it a better practice to return an HTTP Exception with error-code 400 (Bad Request) and catch it in error callback rather than returning a successful HTTP response and catching it in success callback?</p>\n\n<p>If the answer is yes, wouldn't it be more descriptive to have data attached to HTTP Exception?\nFrom what I see right now, <code>HTTPException.Data</code> is readonly. One of the constructors seems to do the job (<code>HttpException(SerializationInfo, StreamingContext)</code>) but I cant wrap my head around it.\nWould someone please explain for me how to add data to HTTP Exception?</p>\n"},{"tags":["mvc","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12676420,"title":"passing data to another controller","body":"<p>I need to pass product Id from cart to custom controller, for example\nhttp://<em>*</em>*/catalogsearch/filter/results?product={ID}</p>\n\n<p>I dont have a clue how to pass data like that using magento helpers etc\nThanks</p>\n"},{"tags":["mvc","cakephp"],"answer_count":8,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":6919,"score":4,"question_id":420048,"title":"Any tips on how to learn CakePHP for a beginner?","body":"<p>I am trying to learn CakePHP. I'm having trouble understanding the concept of MVC. Does anyone have any advice for me?</p>\n"},{"tags":["mvc",".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12681260,"title":"RewriteRule Appending Query for Existing Directories","body":"<p>I'm implementing an MVC pattern for my new PHP site with a URL structure like the following:</p>\n\n<pre><code>example.com/module/controller/action?params=...\n</code></pre>\n\n<p>Here is my .htaccess file:  </p>\n\n<pre><code>Options -Indexes\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*) portal.php?mvc=$1 [QSA,L]\n</code></pre>\n\n<p>The rules are working mostly right, however, if I have a directory in the public space with the same name as a module, it appends <code>?mvc=[directory name]</code> to the end of the URL if there is no trailing slash.  </p>\n\n<p>For example:<br>\n<code>example.loc/index</code> turns into <code>example.loc/index/?mvc=index</code><br>\nbut <code>example.loc/index/</code> stays the same.</p>\n\n<p>How can I make it so that if the user types in <code>example.loc/index</code> it has the same behavior as if they had included the ending slash?</p>\n"},{"tags":["mvc","many-to-many"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12684959,"title":"Many to Many Relationship Link Error","body":"<p>I have a many to many relationship between House and Tenant \nI am trying to add tenants to a house with a listbox, but I think i have made a mistake setting up my M:M</p>\n\n<p>My Error</p>\n\n<pre><code>Property accessor 'TenantID' on object 'System.Data.Entity.DynamicProxies.House_12B9E3A2810993C07372CEC61FE6B770BE4602F910FA05366F7834B1C512DEFF' threw the following exception:'An error occurred while executing the command definition. See the inner exception for details.'\n</code></pre>\n\n<p>Inner Exception </p>\n\n<pre><code>{\"Invalid object name 'dbo.TenantsHouses1'.\"}\n</code></pre>\n\n<p>My House Model</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nnamespace FlatSystem.Models\n{\n[Table(\"House\")]\npublic class House\n{\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int HouseID { get; set; }\n\n    public string Address { get; set; }\n    public int BillID { get; set; }\n    public int JobID { get; set; }\n    public int NoteID { get; set; }\n\n    public virtual ICollection&lt;Tenants&gt; TenantID { get; set; }\n}\n}\n</code></pre>\n\n<p>My Tenant Model</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nnamespace FlatSystem.Models\n{\n[Table(\"Tenants\")]\npublic class Tenants\n{\n    //[Key]\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int TenantID { get; set; }\n    public virtual ICollection&lt;House&gt; Houses { get; set; }\n }\n } \n</code></pre>\n\n<p>My TenantsHouse View</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\n\nnamespace FlatSystem.Models\n{\n [Table(\"TenantsHouses\")]\npublic class TenantsHouses\n{\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n    public int HouseID{ get; set; }\n    public virtual House House { get; set; }\n\n    public int TenantID { get; set; }\n    public virtual Tenants Tenants { get; set; }\n}\n}\n</code></pre>\n\n<p>My View Where the Error appears </p>\n\n<pre><code>   @using (Html.BeginForm(\"Add Tenant\", \"Tenant\", new { houseId = @Model.HouseID }))\n {\n        &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Select to Add Item&lt;/td&gt;\n            &lt;td&gt;\n               &lt;div class=\"editor-field\"&gt;\n              @Html.ListBoxFor(model =&gt; model.TenantID,((IEnumerable&lt;FlatSystem.Models.Tenants&gt;)ViewBag.TenantLookupList).Select(option =&gt; new SelectListItem\n                {\n                 Text = Html.DisplayTextFor(_ =&gt; option).ToString(),\n                 Value = option.TenantID.ToString(),\n                 Selected = (Model != null)\n                 }), \"Choose...\")\n              &lt;/div&gt;\n            &lt;/td&gt;\n           &lt;td&gt;&lt;input type=\"submit\" value=\"Add\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;\n }\n</code></pre>\n"}]}
{"total":14108,"page":7,"pagesize":100,"questions":[{"tags":[".net","asp.net-mvc","mvc","asynchronous","task-parallel-library"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12680682,"title":".NET Async on the web-- Must It be w/ an Async Controller?","body":"<p>If i'm looking to use TPL async at my data layer, must i also use <code>Task&lt;T&gt;</code> on my MVC controller? </p>\n\n<p>In other words, for async to work with .NET MVC, must it be implemented from the time the request begins in order for it to work on deeper execution layers? Or is there still a benefit to having <code>Task&lt;T&gt;</code> at my DAL/web request level even if i'm using a sync controller?</p>\n"},{"tags":["mvc","jsp","session","java-ee","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12683571,"title":"The View is not reading the current session","body":"<p>This is my servlet that creates the session and stores an accessCount to that current session</p>\n\n<pre><code>@WebServlet(\"/ShowSession.do\")\npublic class ShowSession extends HttpServlet {\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws IOException, ServletException {\n        HttpSession session = request.getSession();\n\n        String header;\n        Integer accessCount  = (Integer)request.getAttribute(\"accessCount\");\n\n        if(accessCount == null){\n            accessCount = new Integer(0);\n            header = \"Welcome New Comer\";\n        }else{\n            header = \"Welcome Back!\";\n            accessCount = new Integer(accessCount.intValue() + 1 );\n        }\n\n        //Integer is immutable data structure. so we cannot\n        //modify the old one in-place,Instead, you have to\n        //allocate a new one and redo setAttribute\n        session.setAttribute(\"accessCount\", accessCount);\n        session.setAttribute(\"heading\", header);\n        RequestDispatcher view = getServletContext().getRequestDispatcher(\"/showsession.jsp\");\n        view.forward(request, response);\n    }\n}\n</code></pre>\n\n<p>And this is the View that prints out the contents of that session</p>\n\n<pre><code>&lt;body&gt;\n    &lt;%\n        HttpSession clientSession = request.getSession();\n        String heading = (String) clientSession.getAttribute(\"heading\");\n        Integer accessCount = (Integer) clientSession\n                .getAttribute(\"accessCount\");\n    %&gt;\n    &lt;h1&gt;\n        &lt;center&gt;\n            &lt;b&gt;&lt;%=heading%&gt;&lt;/b&gt;\n        &lt;/center&gt;\n    &lt;/h1&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Info type&lt;/th&gt;\n            &lt;th&gt;Value&lt;/th&gt;\n        &lt;tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;ID&lt;/td&gt;\n            &lt;td&gt;&lt;%=clientSession.getId()%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Creation Time&lt;/td&gt;\n            &lt;td&gt;&lt;%=new Date(clientSession.getCreationTime())%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Time of last Access&lt;/td&gt;\n            &lt;td&gt;&lt;%=new Date(clientSession.getLastAccessedTime())%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Number OF Access&lt;/td&gt;\n            &lt;td&gt;&lt;%=accessCount%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>THe problem is that even though I already access for a lot of times it still returns me an accessCount == 0,</p>\n\n<p>I am accessing at localhost:8080/someFolderName/ShowSession.do</p>\n"},{"tags":["php","mvc","codeigniter","model","codeigniter-2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12682240,"title":"CodeIgniter, multiple queries in same model method or multiple calls to model in controller?","body":"<p>I'm just starting to convert some basic applications to CodeIgniter and I'm trying to make sure that I start off on the right footing.</p>\n\n<p>Most actions in my controller require at least 1 query and as I see it there are 2 ways to go about this...  </p>\n\n<ol>\n<li><p>Combine the queries into a single method in the model, therefore making only a single call to the model from the controller.</p></li>\n<li><p>Have each query be its own method in the model, then call each method in turn from the controller.</p></li>\n</ol>\n\n<p>So far I've adopted my own policy but I'm not sure if it's advised or breaking the MVC pattern.</p>\n\n<p>If the queries are directly related to one another and only ever run together in sequence (the 2nd query is dependent on the 1st running successful), <strong>or</strong> data from the 1st query is passed to a 2nd query and it's the 2nd query that returns the actual display result set, then I go with <strong>#1</strong></p>\n\n<p>If each of the queries is returning its own individual result set for display, then I go with <strong>#2</strong></p>\n\n<p>Is there a recommended way to structure and separate the logic in this scenario?<br>\nThe last thing I want to do is cause myself a nightmare later down the line. My gut instinct is telling me that as much of the logic should be in the controller as possible.</p>\n"},{"tags":["c#","mvc","repository-pattern","castle-monorail","principles"],"answer_count":3,"favorite_count":29,"up_vote_count":38,"down_vote_count":0,"view_count":4770,"score":38,"question_id":325984,"title":"Service Layers and Repositories","body":"<p>I've been using MVC frameworks for a short while now and I really like how the concerns are separated out.  I've got into a bad habit of letting the controllers do quite a bit of work.  So I'm really looking for some advice.</p>\n\n<p>When I first started using MVC I quite often had the controller doing manipulation on the models after database work had been done.  I knew this was bad so moved that work into the models.  However I'm not happy with that as I want my models to be very learn.</p>\n\n<p>I've done a bit of reading and I see that people are keeping their controllers and models lean by having a service layer, which I like the look of.  </p>\n\n<p>I'm just trying to understand how a service layer and repository should all work together.  Here are my assumptions, can you please let me know if this is a good way of working?</p>\n\n<ol>\n<li>The controller can call the repository directly if no manipulation needs to be done on the data and as such a service layer does not need to get involved</li>\n<li>Once any work needs to be done to data (business logic) then this should be done in the service layer and the controller will make a simple call to the service layer as and when required</li>\n<li>Once a service has done it's business logic it will then use the repository as necessary (if data needs to be persisted).</li>\n<li>Models ideally should be kept lean, ideally actings as nothing more than DTOs</li>\n<li>Validation of data will be done within the models (using MonoRail validation attributes).  I appreciate not even one likes polluting their models with lots of attributes, but that is a different discussion.  I like the benefit of MonoRail's validation attributes for the automatic jQuery validation in the UI.</li>\n</ol>\n\n<p>I'm trying to turn all my code around to the single responsibility principle, hence trying to sort out my coding practices.</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","extjs","view","controller","extjs4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12672576,"title":"How can I reload view in ExtJS4 via controller?","body":"<p>I have a view. Controller is doing some logic, where I press some buttons in view (data passed to server and we have a callback).</p>\n\n<p>I need to update (reload?) view via controller.</p>\n"},{"tags":["jquery","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12679980,"title":"Model properties within JQuery modal box are passed as null on post to controller action","body":"<p>I have a slight problem, I have a view which has a submit button and it posts values to my controller. In my view I have a jquery popup box which I use to render a generic list (property of the model) in the form of editor templates. upon post the model property within the modal box is always null. when the dialog box is called, I think mvc resets the dom and the model properties within the modal are null. please advice. thanks    </p>\n\n<pre><code>&lt;div class=\"bodyContent\"&gt;\n   &lt;span class=\"leftContent\"&gt;\n   @Html.Label(\"Test Exceptions\")\n   &lt;/span&gt;&lt;span class=\"rightContent\"&gt;&lt;span id=\"TestExceptionChildDialogLink\" class=\"treeViewLink\"&gt;\n   Click here to View Test Exceptions&lt;/span&gt;\n   &lt;br /&gt;\n   &lt;span id=\"TestExceptionDisplayy\"&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;div id=\"testExceptiontreeview\" title=\"Dialog Title\" style=\"font-size: 10px; font-weight: normal;\n        overflow: scroll; width: 800px; height: 450px;\"&gt;\n   &lt;div id=\"inputTestExceptions\"&gt;\n      @if (Model.TestExceptionDisplay != null)\n      {\n      @Html.EditorFor(x =&gt; x.TestExceptionDisplay)\n      }\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS File:</p>\n\n<pre><code>var partTextArea;\n    var PartDialog;\n    $(document).ready(function () {\n\n        PartDialog = $(\"#testExceptiontreeview\").dialog({ autoOpen: false, title: 'Parsed Test Exceptions', width: 530, height: 400, buttons: { Close: function () {\n            var btnText = '';\n            $(\"#inputTestExceptions\").attr(\"style\", \"display:inline;\");\n            $('.ui-dialog-buttonpane :button').each(function () {\n                if ($(this).text() == 'Close') {\n                    btnText = 'Close';\n                    $(this).text('Close');\n                    $(\"#inputTestExceptions\").attr(\"style\", \"display:inline;\");\n                }\n\n            });\n            if (btnText == 'Close') {\n                PartDialog.dialog(\"close\");\n            }\n\n            return true;\n        }\n\n        }\n        });\n\n    $('#TestExceptionChildDialogLink').click(function () {\n        $(\"#inputTestExceptions\").attr(\"style\", \"display:inline;\");\n        PartDialog.dialog('open'); \n        });\n    });\n</code></pre>\n"},{"tags":["css","asp.net-mvc","mvc","iis6"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":212,"score":0,"question_id":10389310,"title":"Using MVC 3 to dynamically create Site.css on IIS 6. Works in dev, prod fails. Why?","body":"<p>I am using an MVC controller/action to dynamically create the site.css in my MVC 3 site.  The way it works is I map a route to Site.css like so:</p>\n\n<pre><code>routes.MapRoute(\"CSS\", \"Content/Site.css\", new { controller = \"CSS\", action = \"Index\" });\n</code></pre>\n\n<p>Then in my CSSController I have the following code:</p>\n\n<pre><code>public ActionResult Index() {\n    string path = Request.PhysicalPath.Replace(\"Site.css\",\"SiteStyles.css\");\n    byte[] data = null;\n\n    try {\n        using (FileStream fs = new FileStream(path, FileMode.Open, FileAccess.Read)) {\n            data = ProcessCSS(fs);\n        }\n    } catch (Exception e) {\n        Logger.Write(new LogEntry(e.Message, \"Error\", 99, 1001, System.Diagnostics.TraceEventType.Error, \"CSS Error\", null));\n        throw e;\n    }\n\n    return File(data, \"text/css\",\"Site.css\");\n}\n</code></pre>\n\n<p>What's going on in the ProcessCSS method is it's going through SiteStyles.css and performing a find/replace on some constants I have defined, so that I can have a set of colors defined at the top as named constants, then anywhere I need that color in the site I just use the named constant.  That way I can change the color once, and it propagates to all of the appropriate places in the stylesheet without me having to go touch 5-6 different places.</p>\n\n<p>The above code works great debugging in my local environment and on the dev server, which is Windows Server 2003 running IIS6.  However, when I deploy it to a production server that is also Windows Server 2003 running IIS6 the css is not being loaded and when I try to browse to Site.css (which should be getting mapped via my route) I get a 404 not found error.  If I go to my dev server and get the output for Site.css and create a physical Site.css file on the production server, it works.</p>\n\n<p>Any idea why this is failing on the production server?</p>\n\n<p>I added some logging to my CSSControler to log where it is looking for SiteStyles.css and the log simply isn't being generated on the production server, which tells me the server is ignoring the mapped route entirely and not executing the code in the Controller.</p>\n\n<p>Any suggestions on where to start are appreciated.</p>\n"},{"tags":["mvc","deployment"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":212,"score":0,"question_id":10177714,"title":"Not able to deploy ASP.NET MVC 3","body":"<p>I am trying to implement an iPad application with asp.net MVC 3 and jQuery Mobile.\nCan any one help me to figure it out why I can not deploy my application?</p>\n\n<p>My server : Windows 2008 R2 Standard 64 Bit \nIIS : 7.5\nApplication pool : ASP.NET v4.0</p>\n\n<p>MvcDiagnositics Info as below </p>\n\n<hr>\n\n<p>Microsoft ASP.NET MVC Diagnostics Information</p>\n\n<p>This page is designed to help diagnose common errors related to mismatched or conflicting ASP.NET MVC binaries. </p>\n\n<p>If a known issue is identified, it will be displayed below in red text.\nFor questions or problems with ASP.NET MVC or this utility, please visit the ASP.NET MVC forums at <a href=\"http://forums.asp.net/1146.aspx\" rel=\"nofollow\">http://forums.asp.net/1146.aspx</a>.</p>\n\n<p><strong>Environment Information</strong></p>\n\n<p><strong>Operating system:</strong> Microsoft Windows NT 6.1.7600.0 </p>\n\n<p><strong>.NET Framework version:</strong> 4.0.30319.225 (32-bit) <strong>&lt;----- This should be 64-bit???</strong></p>\n\n<p><strong>Web server:</strong> Microsoft-IIS/7.5 </p>\n\n<p><strong>Integrated pipeline:</strong> False </p>\n\n<p><strong>Worker process:</strong> w3wp.exe </p>\n\n<p><strong>AppDomain:</strong> Homogenous = True, FullTrust = True</p>\n\n<p><strong>ASP.NET MVC Assembly Information (System.Web.Mvc.dll)</strong></p>\n\n<p>Assembly version: Unknown version (3.0.20105.0) </p>\n\n<p>Full name: System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 </p>\n\n<p>Code base: file:///F:/Projects/Mobile/bin/System.Web.Mvc.DLL </p>\n\n<p>Deployment: bin-deployed</p>\n\n<p>ASP.NET MVC Futures Assembly Information (Microsoft.Web.Mvc.dll)</p>\n\n<p>An ASP.NET MVC Futures assembly has not been loaded into this application. A download for this </p>\n\n<p>version of ASP.NET MVC Futures is not available. Pre-release versions of the MVC Futures assembly </p>\n\n<p>are no longer available once that version of ASP.NET MVC has gone RTM.</p>\n\n<p>All Loaded Assemblies</p>\n\n<p>48 assemblies are loaded.</p>\n\n<p>•App_global.asax.ur2ey1at, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null [ ver = n/a, GAC = False ]</p>\n\n<p>•App_Web_umu0ymeo, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null [ ver = n/a, GAC = False ]</p>\n\n<p>•EntityFramework, Version=4.1.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.1.10331.0, GAC = False ]</p>\n\n<p>•FiftyOne.Foundation, Version=2.0.6.2, Culture=neutral, PublicKeyToken=e0b3a8da0bbce49c [ ver = 2.0.6.2, GAC = False ]</p>\n\n<p>•Microsoft.Build.Utilities.v4.0, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•Microsoft.CSharp, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•Microsoft.JScript, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 10.0.30319.1, GAC = True ]</p>\n\n<p>•Microsoft.Web.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>•Mobile, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null [ ver = 1.0.0.0, GAC = False ]</p>\n\n<p>•mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.225, GAC = True ]</p>\n\n<p>•SMDiagnostics, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Activities, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.ComponentModel.DataAnnotations, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Configuration, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Data.DataSetExtensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Drawing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.EnterpriseServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Runtime.Caching, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Runtime.DurableInstancing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Runtime.Serialization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.ServiceModel.Activation, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.ServiceModel.Activities, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.ServiceModel.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.206, GAC = True ]</p>\n\n<p>•System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web.ApplicationServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web.DynamicData, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.206, GAC = True ]</p>\n\n<p>•System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>•System.Web.Mobile, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 3.0.20105.0, GAC = False ]</p>\n\n<p>•System.Web.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>•System.Web.RegularExpressions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>•System.Web.WebPages.Deployment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>•System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 1.0.20105.407, GAC = False ]</p>\n\n<p>•System.WorkflowServices, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Xaml.Hosting, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Xml, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>•System.Xml.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089 [ ver = 4.0.30319.1, GAC = True ]</p>\n\n<p>Diagnostics version: Friday, December 10, 2010 (v11) </p>\n\n<h2>Report generated on: Monday, April 16, 2012 10:08:33 AM</h2>\n\n<p>And my Global.asax Info as below</p>\n\n<p>routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");</p>\n\n<p>routes.MapRoute( \"Default\", // Route name</p>\n\n<p>\"{controller}/{action}/{id}\", // URL with parameters</p>\n\n<p>new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults</p>\n\n<p>);</p>\n\n<hr>\n\n<p>My Web.config info as below</p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<hr>\n\n<p>When I test it from my local machine I am able to see this Default page as below</p>\n\n<p>Welcome to the Mobile Home Page</p>\n\n<p>Here's some information about the requesting device:</p>\n\n<p>•Screen Width: 640</p>\n\n<p>•Screen Height: 480</p>\n\n<p>•LayoutEngine: Trident</p>\n\n<p>See MSDN for details of Request.Browser properties.</p>\n\n<p>See 51Degrees.mobi for user guide.</p>\n\n<p>See 51Degrees.mobi Device Data for details of other data properties and to get weekly data updates.</p>\n\n<hr>\n\n<p>The requesting device isn't a mobile. The page must have been requested directly.</p>\n\n<h2>Try accessing the web site from a mobile device, or a mobile device emulator. A list of popular mobile emulators can be found here.</h2>\n\n<p>I have tried to install the aspnet_regiis.exe -i on the server</p>\n\n<p>and I get this error as below</p>\n\n<p>C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319>aspnet_regiis.exe -i Start installing \nASP.NET (4.0.30319). ................ Finished installing ASP.NET (4.0.30319). Setup has detected some errors during the operation. For details, please read th e setup log file C:\\Users\\ADMINI~1.HIS\\AppData\\Local\\Temp\\2\\ASPNETSetup_00009.log</p>\n\n<hr>\n\n<p>**Is that because the aspnet_regiis.net for 64-bit is not installed correctly?</p>\n\n<p>I have been trying to deploy me application on ther server for 3 days but I didn't find any luck.</p>\n\n<p>Please, Help me to find out the issue.</p>\n\n<p>Thank you very much in advance.**</p>\n"},{"tags":["mvc","grails"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12678366,"title":"Grails URL mapping working for controller but not view","body":"<p>Somehow I have gotten sideways with my Grails MVC mapping and I do not understand how.</p>\n\n<p>I have a controller, AController, which I generated using the Grails command line wizard. At a later date I generated a view for that controller to customize the view.</p>\n\n<p>AController is in [project]/grails-app/controllers/[package]/AController.groovy and the view .gsp's are in [project]/grails-app/views/A/.</p>\n\n<p>The URLMappings.groovy has:</p>\n\n<pre><code>    \"/$controller/$action?/$id?\"{\n        constraints {\n            // apply constraints here\n        }\n    }\n</code></pre>\n\n<p>When I run the application and enter a url of the form: localhost:8080/[project]/A/list I reach, as expected, the method A.list in AController.groovy.</p>\n\n<p>However, when I then return from A.list expecting the framework to route to list.gsp in [project]grails-app/views/A/ I see a 500 error with the message:</p>\n\n<p>\"URL mapping must either provide a controller or view name to map to!\"</p>\n\n<p>Obviously I am doing something stupid but I cannot see what it was that I broke. URLMappings.groovy looks correct. File locations look correct. Scaffolding seems properly customized.</p>\n\n<p>Any suggestions? </p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12660224,"title":"MVC Pattern: Usage Best Practices","body":"<p>I am striving to respect the best I can the MVC pattern. It simplifies the life of a developer (or devs) a lot. The thing that I am wondering about is how to load multiple sections at a time.  </p>\n\n<p>To make it clear, I am going to take the example of a to-do list (it's pretty used this days). Let's say there are project -> milestones -> tasks.  </p>\n\n<p>What we need:  </p>\n\n<ul>\n<li>get them all - all the projects with all the milestones with all the tasks in a nested json encoded array.</li>\n<li>get only the projects </li>\n<li>get only the milestones</li>\n<li>get only the tasks  </li>\n</ul>\n\n<p>For the last three, we can have separate controllers that provide us with the corresponding data. The problem shows up when we try to \"get them all\" in a nested json-encoded array.  </p>\n\n<p>What is probably the best way to handle that?  </p>\n\n<p>I thought of a few possibilities:<br>\n - Move the project, milestone and task generators in helper classes - this means we call them from the individual controllers and also call them when we need to get them all<br>\n - From the view of the projects, call the controller/view of the milestones (of each project) [which in turn calls the controller/view of the tasks (of each milestone)]. This might look like a simulation of 3 requests in 1.   </p>\n\n<p>The motivation comes from the fact that while I could fetch all the projects and then the milestones of each and then the tasks of each milestone, it would take a lot of requests. If we could get all the calls in one, it would take considerably less time to get the data, let alone that in one request the data is more organized.</p>\n"},{"tags":["ruby-on-rails","mvc","frontend","barebones"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":1853,"score":6,"question_id":9494468,"title":"Backbone.js frontend with RESTful Rails backend?","body":"<p>I started in the web development world with PHP, and then Rails in the recent few years. Since then I've been doing all my web projects in Rails. </p>\n\n<p>Recently there seems to be a movement towards making Rails as a pure RESTful backend service and using frontend framework such as Backbone.js for all frontend interaction. I'm wondering what's you guys' take on it? Will this be the eventual future? </p>\n\n<p>As well, besides Backbone.js, what are some other alternatives for frontend framework for this purpose? </p>\n\n<p>Also assuming that I will want to support both a desktop version and a mobile version of my app, would this be a proper route to take? So I'll have a single backend service with different frontend services? This way I don't need to manage all the views on Rails' side?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","role"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12672783,"title":"how to mange role Assignment by action wise in MVC3 i.e.each role be assign by different Action?","body":"<p>How to manage role Assignment by action wise in MVC3, i.e. each role is assigned by a different Action in MVC3 in C#.net ?</p>\n"},{"tags":["php","mvc","yii"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2014,"score":4,"question_id":9582237,"title":"Getting Current Controller ID in Yii","body":"<p>I want to get the current controller name that handles the current action.\nbut the in my case <strong>I will look for the current controller in my main.php in my layout files</strong>.</p>\n\n<p>this is my small view of my directory structure to give you an idea where is my layout files and the file where i will put my codes in searching of my controller name</p>\n\n<blockquote>\n  <ul>\n  <li>/protected</li>\n  <li>/themes\n  <ul>\n  <li>/mylayout\n  <ul>\n  <li>/layouts\n  <ul>\n  <li><strong>main.php</strong></li>\n  <li>column1.php</li>\n  <li>column2.php</li>\n  </ul></li>\n  <li>/site\n  <ul>\n  <li>index.php</li>\n  </ul></li>\n  </ul></li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Is this possible? im trying the following codes but i failed to get my current controller name...</p>\n\n<pre><code>echo Yii::app()-&gt;controller-&gt;getId;\necho Yii:app()-&gt;getController-&gt;id;\necho Yii:app()-&gt;controller-&gt;uniqueID;\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["mvc","dropdownlistfor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12673117,"title":"jquery ajax to bind dropdownlist MVC","body":"<p>I have a 2 dropdownlist , i have to bind the 2nd one based on the Id i got from first dropdown. in the first dropdown i added OnChange event.</p>\n\n<pre><code>function onChange() {\n                  var variantDropDown = $('#VariantName');\n                  $.ajax({\n                      url:     '/Admin/CustomProductPinCodesManagement/GetProductVarinats',\n                      type : 'post',\n                      data: { productId: $(\"#ProductName\").data(\"tDropDownList\").value() },\n                      success: function (data) {\n                           $.each(variants, function (i, variant) {\n                            $states.append('&lt;option value=\"' + variant.Id + '\"&gt;' +   variant.Name + '&lt;/option&gt;');\n                                                            });\n                      },\n                      error: function () {\n                          alert('Error');\n                      }\n                  });\n            }\n</code></pre>\n\n<p>and this is the c# code .</p>\n\n<pre><code>[HttpPost]\n        public ActionResult GetProductVarinats(string productId)\n        {\n            var variants = _productService.GetProductVariantsByProductId(Convert.ToInt32(productId));\n            return Json(new { Result = true, data = variants }, JsonRequestBehavior.AllowGet);\n        }\n</code></pre>\n\n<p>but it does not work.</p>\n"},{"tags":["asp.net","mvc","live-mesh"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":1862252,"title":"Does Live Mesh exclude .aspx/.ascx files?","body":"<p>I'm tired of zipping up my ASP.net MVC project all the time, so I tried to connect the entire project folder to Live Mesh, so I could work on it both at home and at the office. It seemed to work, but it turns out all the views are excluded and replaced with .wlx counterparts.</p>\n\n<p>Is this a known limitation of Mesh? Does anyone know of a workaround?</p>\n"},{"tags":["database","forms","mvc","dynamic"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12672476,"title":"How to create a form dynamically for Database in ASP.NET MVC3","body":"<p>I am new to MVC3. I need to generate a form dynamically from database with different types of controls in MVC3. what would be the best way of doing it. I have a table in database named as \"tblFormLayout\" with some columns as follows</p>\n\n<h2>id    ControlType     Title</h2>\n\n<p>1     TextBox         Name<br>\n2     DropDownList    Age<br>\n3     Checkbox        Agree<br></p>\n\n<p>I want to generate a Form in MVC so that when it runs it would show me a form with TextBox, a DropDownlist and checbox with name, age and Agree as labels respectively. How to render these controls so that I would also be able to save them into database.</p>\n\n<p>Give directions.</p>\n"},{"tags":["asp.net",".net","mvc","subsonic"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":182,"score":1,"question_id":3376414,"title":"Subsonic many-to-many relationship","body":"<p>I have 3 tables, one is called \"Users\", one is called \"Categories\" and one is a linking table called \"User_Categories_Map\" to link users to categories in a many-to-many relationship.  The linking table consists of UserId's and CategoryId's.  After generating the subsonic classes, I would assume I'd be able to then type User.singleOrDefault(x => x.ID == 1).Categories to select all the categories for a user.  However, this doesn't work.  If you can understand what I'm trying to accomplish here, can anyone tell me how I can make this work in subsonic?  Consequently, I cannot find any documentation on subsonic.  Subsonicproject.com only has a short page a few articles about how to set it up.  Is there documentation somewhere for subsonic?  </p>\n"},{"tags":["java","spring","mvc","http","web-applications"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":156,"score":1,"question_id":12642020,"title":"Send HTTP POST request in Spring MVC","body":"<p>I am working on a project that uses Spring MVC, and one of the requirement involves sending request to an external services to handle some transactions.\nThe problem now is the external services only takes POST method, and I've looked everywhere and could not find a way to forward user to external site as a POST request(similar to form submit).</p>\n\n<p>What we are trying to do:</p>\n\n<p>1) My Controller will receives request and execute some backend thing and construct some parameters to pass on.</p>\n\n<p>2) *Send request to external service via HTTP POST method with some parameters.\n(note. User's browser will show URL of the external site.)</p>\n\n<p>I've looked into different return types for Spring MVC and could not find anything that fits.</p>\n\n<p>Any advice would be greatly appreciated.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","mvc","list","gui","tkinter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12666291,"title":"PYTHON - Unhashable List","body":"<p>I am trying to display some information in a GUI list-box. I have written a test method in a model only portion of my MVC which outputs the information I want; however, when I transfer that code to my full GUI, it throws me an error. </p>\n\n<p><strong>Here are the two pieces of code:</strong></p>\n\n<p><strong>Model:</strong> (note that this method is written for a class <code>Products()</code>)</p>\n\n<pre><code>def test(self):\n    for key in self._items_list:\n        print self.get_item(key) #this refers to the get_item function of the Products class:\n\ndef get_item(self, key):\n    return self._items_list[key] # items_list is a dictionary\n</code></pre>\n\n<p>So, this returns the output I would like to put in my list-box. </p>\n\n<p><strong>Here is how I transfer the code to my GUI</strong> (this is in a class i defined which inherits from Listbox):</p>\n\n<pre><code>def refreshData(self):\n    for keys in self._productslist: #this productslist is equivalent to items_list\n        disp = self._products.get_item(keys) #so i can call the method from the Product class\n        self.insert(END, dips)\n</code></pre>\n\n<p>This throws me the following error when I try to open and display the file: </p>\n\n<pre><code>...in get_item\nreturn self._items_list[key]\nTypeError: unhashable type: 'list'\n</code></pre>\n\n<p>Sorry, this is long and probably very confusing, but essentially I want to know why I get the error for the method in the full version of the code and not in the isolated model. </p>\n\n<p>All the relevant code is identical as far as I know.</p>\n\n<p>Any ideas would be greatly appreciated!</p>\n"},{"tags":["php","mvc","design-patterns","convention"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":144,"score":2,"question_id":12661637,"title":"MVC design convention: CRUDing inherited models","body":"<p>Here's my database structure:</p>\n\n<p><img src=\"http://i.imgur.com/hrSO9.png\" alt=\"database schema\"></p>\n\n<p>In my app I have a company management of customers, employees and branches.</p>\n\n<p>Customers and Employees are associated with one Person, one Individual and one User.\nBranches are associated with one Person and one Company.</p>\n\n<p>So, to insert a new costumer or employee, I have to first insert its common data into <code>Person</code> table, its person data into <code>Person</code> table, then its user data into <code>User</code> table and finally create a new record into <code>Customer</code> or <code>Employee</code> table.</p>\n\n<p>To insert a new branch, I've to first insert its common data into <code>Person</code> table, then its company data into <code>Company</code> table and finally create a new record into <code>Branch</code> table.</p>\n\n<p>I'm new to MVC concept and I'm a bit lost in how I should design my model classes to CRUD them. I'm using CodeIgniter framework, but I think it's irrelevant here. Should I create a separate class model for each database table? If so, how I should code that? (theory only)</p>\n\n<p>For example, to insert a new costumer...</p>\n\n<ol>\n<li>Start a new transaction</li>\n<li>Instantiate a new Person</li>\n<li>Fill Person's data</li>\n<li>Save Person</li>\n<li>Instantiate a new Individual</li>\n<li>Fill Individual's data and relate to its Person</li>\n<li>Save Individual</li>\n<li>Instantiate a new User</li>\n<li>Fill Users' data and relate to its Person</li>\n<li>Save User</li>\n<li>Instantiate a new Costumer</li>\n<li>Fill Costumer's data and relate to its Person</li>\n<li>Save Costumer</li>\n<li>End transaction</li>\n</ol>\n\n<p>Is that correct? Where this code should be, in the costumer's controller? Any better convention to use that database structure (I need to use the third normal form design)? </p>\n"},{"tags":["php","mvc","autoloader"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12654458,"title":"autoloader function and MVC","body":"<p>I am trying to use the <code>autoloader</code> function with my web application.</p>\n\n<p>I have never used MVC before and I am new to the <code>autoloader</code> function. My current <code>autoloader</code> function is below, and it works.</p>\n\n<p>The folder name is <code>applicaton/models</code>.</p>\n\n<p>My file names are <code>model.php</code> and <code>user.class.php</code> (I know \"class\" does not need to be there but it helps me know what my files are).</p>\n\n<pre><code>&lt;?php \n    ini_set('display_errors', 'On'); \n        error_reporting(E_ALL | E_STRICT);\n\n    function autoloader($class){\n        include_once ('/application/models'.strtolower($class).'.class.php');\n    }\n\nspl_autoload_register(autoloader);\n?&gt;\n</code></pre>\n\n<p>If I wanted to auto-load <code>model.php</code> that is in the same directory as my various class files, how would I do that?  Would I simply create a new function, like this:  This is a modified version of using if statements.  I am not getting any errors but then I am not returning an results either if I just echo the file name.</p>\n\n<pre><code>&lt;?php\nini_set('display_errors', 'On');  \nerror_reporting(E_ALL | E_STRICT); \n\nfunction autoloader(){\n\n$controller = '/application/controller/controller.php';\n$model = '/application/models/model.php';   \n\nif (file_exists(\"$model\")) {\n   include $model;\n  //echo 'it works';\n       if (file_exists(\"$controller\")) {\n           include $controller;\n       } else {\n     echo '\"Cannot find the model.php file\"';\n             }  \n}\n}\n\n\n?&gt;\n</code></pre>\n\n<p>Or is there a way that I can create one function that will load both files?  </p>\n"},{"tags":["oop","mvc","codeigniter","user-experience"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12629365,"title":"CodeIgniter and the Model-View-Controller – your experience / your meaning?","body":"<p>I have a “simple” question about the principle from the CodeIgniter MVC. \nIf I take a look in the manual from CI (Models) I see for example this:</p>\n\n<pre><code>function insert_entry()\n{\n    $this-&gt;title   = $_POST['title']; // please read the below note\n    $this-&gt;content = $_POST['content'];\n    $this-&gt;date    = time();\n    $this-&gt;db-&gt;insert('entries', $this);\n}\n</code></pre>\n\n<p>Well, ok – to put in data this way is bad I know :) but also if we user “$this->input->post()” … for me it doesn’t look better. Isn’t it better to handle the data in the controller before I use a function from  a model? Maybe the model part looks so:</p>\n\n<pre><code>function insert_entry($data)\n{\n    $this-&gt;db-&gt;insert('entries', $data);\n}\n</code></pre>\n\n<p>And in the controller such like this:</p>\n\n<pre><code>$this-&gt;load-&gt;model('Blog');\n$data = array();\n$data['title'] = $this-&gt;input-&gt;post('title');\n$data['content'] = $this-&gt;input-&gt;post('content');\n$this-&gt;Blog-&gt;insert_entry($data);\n</code></pre>\n\n<p>But where i run the validation etc. … model or controller?\nMaybe someone understand what I would like to know. Maybe you have some more experience, links or whatever. Thanks!</p>\n"},{"tags":["query","mvc","yii"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12661510,"title":"Yii MVC : how to select 1 registration using the best method","body":"<p>I have a table in the database and from this table i want to select 1 registration, using the UPDATE field, like: </p>\n\n<pre><code>select * from website order by update asc limit 1; \n</code></pre>\n\n<p>is there a better way to load the registration than using the createCommand ? </p>\n\n<p>and once i load the registration, how to i update the update field ?</p>\n\n<p>I would prefere using Active Records.</p>\n"},{"tags":["c","mvc","gtk","signals"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":216,"score":0,"question_id":6032098,"title":"How do I use gtk_list_store_set_value?","body":"<p>I need to store Data from text widgets in a treeview in a liststore.</p>\n\n<p>To this end I should apparently use gtk_list_store_set_value which is capable of performing the correct typecast.</p>\n\n<p>First: I don't know how. It want's a GValue but every time I try to typecast one it complains vigorously.</p>\n\n<p>Second: What errors would this output if a non-numeric was input into a text field which is connected to a liststore column of type gint?</p>\n\n<p>Third: Is there any easier way I seem to be missing? A reverse connection like the one automatically produced from liststore to cellrenderer?</p>\n"},{"tags":["mvc","jsp","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":166,"score":-4,"question_id":2791405,"title":"Guide need to build a JSP based webapplication","body":"<p>I want do a web-application that consists of the following pages: Main, Inventory, Shopping, Login, and Report. All will be JSPs and all will be called using the MVC pattern where one of two servlets uses the RequestDispatcher to call the appropriate JSP. This uses server-side forwarding and not redirection.</p>\n\n<p>I have ER diagram: <a href=\"http://tinypic.com/r/155oxlt/5\" rel=\"nofollow\">http://tinypic.com/r/155oxlt/5</a></p>\n"},{"tags":["asp.net","mvc","routing","upgrade","publish"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":169,"score":1,"question_id":6203274,"title":"publish asp.net upgraded to 4 and using MVC routing. Access denied","body":"<p>I have upgraded my asp.net 3.5 app to 4.0 and added support for routing (added dlls are made \"copy locaL\"). It works perfectly locally. After deployed to IIS7 (using FileSystem publish method in VS2010) it gives me a 403 \"access is denied\" when I try to acces the base url (mysite.com). If I try to go to any route url (mysite.com/resources) it gives me a 404 error \"File or Directory not found\".</p>\n\n<p>I have removed Authorization section in web.config. \"Intergrated\" is selected for managed pipeline mode in application pool conf. Http Redirection installed</p>\n\n<p>Here is a pattern of my <code>Global.ascx</code> file</p>\n\n<pre><code>routes.MapPageRoute(\n  \"default\",             // Route name \n  \"{tab}\",               // URL \n  \"~/member/{tab}.aspx\", // Physical ASPX file \n  false,\n  new RouteValueDictionary(new {tab = \"Default\"})\n);\n\nroutes.MapRoute(\n  null,\n  \"{controller}/{action}/{id}\",\n  new {\n    action = \"Index\",\n    id = UrlParameter.Optional\n  }\n);\n</code></pre>\n\n<p>UPDATE: Accessing aspx pages directly like <code>mysite.com/member/Default.aspx</code> works without any issue.</p>\n\n<p>Here is detailed error message:</p>\n\n<pre><code>**HTTP Error 403.14 - Forbidden\nThe Web server is configured to not list the contents of this directory.**\n\n    Module DirectoryListingModule \n    Notification ExecuteRequestHandler \n    Handler StaticFile \n    Error Code 0x00000000 \n</code></pre>\n\n<p>looks like the request is handled by the wrong Handler.</p>\n\n<p>What I did miss here? Thanks in advance.</p>\n"},{"tags":["multithreading","mvc","design-patterns","notifications","observer-pattern"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12656327,"title":"Notification system using Observer Pattern in a MVC multithreading application","body":"<p>I am trying to implement a simple notification system in my Client/Server MVC application using the Observer Pattern, but my attempt doesn't work and I don't know why. My code is:</p>\n\n<pre><code>public class ApplicationView extends JFrame implements Observer\n{\n    ApplicationView(ApplicationModel model)\n    {\n        GUI Creation Code...\n    }\n\n    ...\n\n    @Override\n    public void update(Observable o, Object arg)\n    {\n        System.out.println(\"I have received an event!\");\n\n        if(arg instanceof String)\n            System.out.println((String) arg);\n    }\n}\n\npublic class OneClientConnection extends Observable implements Runnable\n{\n    public OneClientConnection(Socket socket) throws IOException\n    {\n        setChanged();\n        notifyObservers(\"You have a new notification!\");\n\n        ...\n     }\n}\n\npublic class Application\n{\n    ApplicationModel applicationModel = new ApplicationModel();\n    ApplicationView applicationView = new ApplicationView(applicationModel);\n    new ApplicationController(applicationView, applicationModel);\n\n    ServerSocket serverSocket = null;\n\n    try\n    {\n        serverSocket = new ServerSocket(PORT);\n\n        while(true)\n        {\n            Socket socket = serverSocket.accept();\n\n            OneClientConnection clientConnection = new OneClientConnection(socket);\n\n            clientConnection.addObserver(applicationView);\n\n            Thread thread = new Thread(clientConnection);\n\n            thread.start();\n        }\n    }\n\n    ... and so on\n</code></pre>\n\n<p>Could you help me understanding why I don't receive any kind of message in my console? What am I doing wrong?</p>\n\n<p>Thank you!</p>\n"},{"tags":["jquery","asp.net","mvc","jquery-validate"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1818,"score":1,"question_id":6735204,"title":"Is there an API for jQuery unobtrusive validation?","body":"<p>I have this validation summary in my code:</p>\n\n<pre><code>@Html.ValidationSummary(false, \"Fix Error\", new { id = \"valSumId\" } )\n</code></pre>\n\n<p>Is there an API so I can add validation error during runtime? Though the following code works, it feels brittle, there's nothing to stop ASP.NET MVC team from not using ul li tags for displaying errors on the next ASP.NET MVC release.</p>\n\n<pre><code>$('input[type=submit]').click(function (e) {\n    e.preventDefault();\n    if ($('form').valid()) {\n        /* ajax submit here */\n\n        if (anErrorOccured) {\n            $('#valSumId').removeClass().addClass('validation-summary-errors');\n            errorList = $('#valSumId &gt; ul');\n\n                    // the message is variable, coming from JSON, and can be a list\n            errorList.append($('&lt;li /&gt;').text('Your ordered quantity is above the stock level'));\n        }\n    }\n});\n</code></pre>\n"},{"tags":["asp.net","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":972,"score":0,"question_id":4712852,"title":"The IControllerFactory 'Spring.Web.Mvc.SpringControllerFactory' did not return a controller for the name 'Account","body":"<p>I am getting problem like </p>\n\n<p>\"The IControllerFactory 'Spring.Web.Mvc.SpringControllerFactory' did not return a controller for the name 'Account'\" . What does this mean?????</p>\n\n<p>I am calling Logon method from controller named Account.\nbut when same file is kept in home controller and called then it renderes.</p>\n"},{"tags":["javascript","mvc","templates","template-engine","multi-tenant"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12649719,"title":"Multi-tenant Javascript Templating","body":"<p>Working on a multi-tenant web application, htmls are being served from the server (struts 1 + tiles). Depending on site id our application resolves which templates to render. \nThe text is handled by a customized i18n resolver. CSS handles the look and feel variation\nSometimes we handle different logic or content depending on the site id. </p>\n\n<p>We are trying to redo some sections-widgets and start handling on the client side instead, struts serving json on widget ajax calls. \nWe have looked into some mvc js framework and some templating engines. Too many options out there... need some advice.</p>\n\n<p>What are your suggestions on a js template engine to handle templates dynamic selection, i18n capabilities and event oriented?</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc","jqgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":394,"score":1,"question_id":11125073,"title":"Display success message on Jqgrid EDIT form","body":"<p><strong>EDIT PRMS</strong><br>\n    edit: {<br>\n    addCaption: \"Add CDM\",<br>\n    bSubmit: \"Submit\",<br>\n    bCancel: \"Cancel\",<br>\n    bClose: \"Close\",<br>\n    saveData: \"Data has been changed! Save changes?\",<br>\n    bYes: \"Yes\",<br>\n    bNo: \"No\",<br>\n    bExit: \"Cancel\",<br>\n    //serializeEditData: serailize,<br>\n    //editData: {new_CDM_ID: function() { return $('#cdmID').val();} },<br>\n    closeOnEscape: true,<br>\n    recreateForm: true,<br>\n    width: '450',<br>\n    afterSubmit: function (response, postdata) {<br>\n    var result = jQuery.parseJSON(response.responseText);<br>\n    return [result.success, result.message, result.id];\n    //return [success, message, new_id]<br>\n    }<br>\n<strong>Question</strong><br>\nI'm able to capture error message in <strong>afterSubmit</strong> event and also able to display it on edit form of jqgrid. But same is not happeing for success message. I'm able to capture it but not able to display on edit form of jqgrid. Should i use a different event for displaying success message.   </p>\n\n<p>My requirement is<br>\n1)display error message in red (working)<br>\n2)display success message in green (not working)</p>\n"},{"tags":["mvc","datetime","input","model"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":148,"score":1,"question_id":11408446,"title":"MVC datatype.datetime has value but does not display it","body":"<p>input class=\"text-box single-line\" data-val=\"true\" data-val-date=\"The field Bill Date must be a date.\" data-val-required=\"Bill Date is required\" id=\"BillDate\" name=\"BillDate\" type=\"date\" value=\"22.02.2012\"</p>\n\n<p>here is html code shown in source on chrome. But there is no value in the textbox.</p>\n\n<p>And here is my model for the \"BillDate\" </p>\n\n<pre><code>    [Required]\n    [Display(Name = \"Bill Date\")]\n    [DataType(DataType.Date, ErrorMessage = \"Not a valid date\")]\n    [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:dd.MM.yyyy}\")]\n    public DateTime BillDate { set; get; }\n</code></pre>\n\n<p>and this is how i am trying to display it @Html.EditorFor(model => model.BillDate)</p>\n\n<p>Can you help me please...</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-4","mef","maf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":11910829,"title":"MVC 4 add-in architecture with MAF","body":"<p>I am trying to figure out a good architecture to allow other people to build plugins for an MVC 4 application.</p>\n\n<ul>\n<li>There are many resources to learn about MEF.  </li>\n<li>There are quite a bit articles/posts that talk about MVC with MEF.  </li>\n<li>But there are not many learning resources available for MAF and I almost find nothing that discusses both MVC and MAF together.</li>\n</ul>\n\n<p>I really like MAF over MEF as a choice for an add-in framework.</p>\n\n<p>I would really appreciate your thoughts / links on the topic.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","asp.net-mvc-2","asp.net-mvc-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":247,"score":1,"question_id":9898380,"title":"Questionnaire Wizard in MVC3","body":"<p>My requirement is to create a exam questionnaire wizard. The steps in wizard will be dynamically created.There will be some basic steps that will be common for some applicant like language settings etc. The questions will be generated depending on the type of exam selected by the applicant. There will be at least 25 to 35 questions per questionnaire that means there will be 35- 45 steps per wizard. I cannot save the answers in database. It has to be in session and I cannot use java script.</p>\n\n<p>User should have easy accessibility. he can start answering exam in any order he wishes. </p>\n\n<p>My approach was to create usercontrols for basic steps(like language,instruction and Question) and invoke it on the page as and when the link is clicked. I have just put a sample image from my test project. </p>\n\n<p><img src=\"http://i.stack.imgur.com/e5dyV.jpg\" alt=\"enter image description here\"></p>\n\n<p>Since the questions are dynamically fetched depending on applicant I will fetch all the question and create a list and display it using Question user control step by step.</p>\n\n<p>I have created wizards many time in asp.net but not in MVC so I have some doubts.</p>\n\n<p>Issues or Concern Facing:</p>\n\n<p>Navigation button: NEXT and Previous. Can I put it in ASPX page instead of each user control page.</p>\n\n<p>Assume that user has selected one link like say for eg Question 1 he has entered the answer and clicked on another link or NEXT Button how will i get the updated object with the answer user has selected. Since link doesn't have post action.</p>\n\n<p>If you guys can suggest some ways of achieving this, it will be of great help.</p>\n\n<p><strong>Below shown is my aspx page:</strong></p>\n\n<pre><code>&lt;%@ Page Language=\"VB\" MasterPageFile=\"~/Views/Shared/Site.Master\" Inherits=\"System.Web.Mvc.ViewPage(Of MVCApp.WizardVM)\" %&gt;\n&lt;%@ Import Namespace =\"MVCApp\" %&gt;\n&lt;asp:Content ID=\"indexTitle\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&gt;\n    Home Page\n&lt;/asp:Content&gt;\n\n&lt;asp:Content ID=\"indexContent\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n&lt;% Using Html.BeginForm(\"Index\", \"Home\")%&gt;\n\n   &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;div id=\"menu\" class=\"block\"&gt;                  \n                      &lt;ul id=\"menuItems\"&gt;              \n                        &lt;% For Each item As MVCApp.MenuVM In Model.menus%&gt;       \n                         &lt;li&gt;&lt;%: Html.ActionLink(item.Description, \"Index\", \"Home\", New With {item.ID}, Nothing)%&gt;&lt;/li&gt;                    \n                        &lt;%Next%&gt;\n                       &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;% Html.RenderPartial(Model.UserControlName, Model.Model)%&gt;             \n\n\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n        &lt;td colspan=2 align=\"right\"&gt;\n            &lt;input type=\"submit\" value=\"Next\" /&gt;\n            &lt;input type=\"submit\" value=\"Previous\" /&gt;\n        &lt;/td&gt;\n        &lt;/tr&gt;\n   &lt;/table&gt;\n\n &lt;% End Using %&gt;        \n\n&lt;/asp:Content&gt;\n</code></pre>\n\n<p><strong>Controller Class:</strong></p>\n\n<pre><code>Public Class HomeController\n    Inherits System.Web.Mvc.Controller\n\n\n    Function Index() As ActionResult\n        Dim oWizard As New WizardVM\n        oWizard = GetData()\n\n        If (ControllerContext.RouteData.Values.Count &gt; 2) Then\n            If (ControllerContext.RouteData.Values.Item(\"ID\") = 1) Then\n                oWizard.UserControlName = \"language\"\n                oWizard.Model = oWizard.Language\n\n            ElseIf (ControllerContext.RouteData.Values.Item(\"ID\") = 3) Then\n                oWizard.UserControlName = \"Question\"\n                oWizard.Model = oWizard.Question\n            End If\n        Else\n            oWizard.UserControlName = \"language\"\n            oWizard.Model = oWizard.Language\n        End If\n\n        Return View(\"index\", oWizard)\n    End Function\n\n    Function About() As ActionResult\n        Return View()\n    End Function\n\n\n    Public Function GetData() As WizardVM\n        Try\n            Dim oWizard As New WizardVM\n\n            Dim oLanaguage As New LanguageVM\n            oLanaguage.Description = \"This is a language test screen.\"\n            oWizard.Language = oLanaguage\n\n\n            Dim oQuestion As New QuestionVM\n            oQuestion.Description = \"This is a Question test screen.\"\n            oWizard.Question = oQuestion\n\n            Dim oMenus As New List(Of MenuVM)\n            Dim oMenuHelper As New MenuHelper\n            oMenus = oMenuHelper.BuildMenu()\n\n            oWizard.menus = oMenus\n\n            Return oWizard\n        Catch ex As Exception\n            Throw ex\n        End Try\n    End Function\n\n\n    &lt;HttpPost()&gt;\n    Function GetLanguageInfo(ByVal oLanguage As LanguageVM) As ActionResult\n        Dim a As Integer\n        a = 10\n        Return View(\"index\")\n    End Function\n</code></pre>\n\n<p><strong>My Model View Classes</strong></p>\n\n<pre><code>Public Class WizardVM\n\n    Public Property SelectedMenuId As Integer\n    Public Property Language As LanguageVM\n    Public Property Question As QuestionVM\n\n    Public menus As List(Of MenuVM)\n\n    Public Property UserControlName As String\n    Public Property Model As Object\n\nEnd Class\n</code></pre>\n\n<p><strong>Language Model View Class</strong></p>\n\n<pre><code>Public Class LanguageVM\n\n    Public Property Description As String\n\nEnd Class\n</code></pre>\n\n<p><strong>Question ModelView Class</strong></p>\n\n<pre><code>Public Class QuestionVM\n    Public Property Description As String\nEnd Class\n</code></pre>\n\n<p><strong>UserControls:</strong></p>\n\n<p><strong>LANUGAGE</strong></p>\n\n<pre><code>&lt;%@ Control Language=\"VB\" Inherits=\"System.Web.Mvc.ViewUserControl(of MVCApp.LanguageVM)\" %&gt;\n&lt;form method=\"post\" action=\"/Home/GetLanguageInfo\"&gt; \n    &lt;p&gt;Description\n    &lt;%= Html.TextBoxFor(Function(model) model.Description)%&gt;\n    &lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Same way i have created for question. I cannot use javascript so i will have to replace links with buttons. but how will i handle the object post. </p>\n"},{"tags":["java","mvc","observer-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12648010,"title":"Understanding MVC using Observer in Java","body":"<p>I study Java MVC from <a href=\"http://www.austintek.com/mvc/\" rel=\"nofollow\">this example</a>.</p>\n\n<p>If the <strong>View</strong> is <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Observer.html\" rel=\"nofollow\">Observer</a> and the <strong>Model</strong> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Observable.html\" rel=\"nofollow\">Observable</a>, why the <code>Observer.update</code> method accepts Observable in the first parameter? If the View worked with the Model (relying on some of its methods), it wouldn't be reusable. Shouldn't be the second parameter the only thing that the View should work with?</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12646825,"title":"Where do I put methods that compute statistics on model data?","body":"<p>In a MVC Rails application, where is the appropriate place to put methods to collect statistical data on models? Suppose I have a Group model and a Member Model. I am asking about two different situations:</p>\n\n<ol>\n<li><p>Where do I put a method that makes calculations about all Groups?  For example, a method that computes the average size of a Group?</p></li>\n<li><p>Where do I put a method that makes calculations about all of the Members of Group.  For example, a method that computes the average age of the Members of a Group?</p></li>\n</ol>\n\n<p>Right now, I am leaning towards making the method in situation 1 a class method for the Group model and the method in situation 2 an instance method for the Group model. I was wondering if these types of calculations should go elsewhere.</p>\n"},{"tags":["python","mvc","wxpython","wxwidgets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12645108,"title":"wxwidgets pubsub -- Detect which object sent message","body":"<p>I am building a GUI with wxPython and attempting to stay true to the MVC by keeping my view in the dark from my model. I am using the pubsub library to send messages from the model which the controller will subscribe to and then update the view as necessary.</p>\n\n<p>I do have a complication however. My model has a list of instances of the same object, and each object will need to send its own health and status status update message. Each object has its own panel in the view as shown below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/dN1Pq.png\" alt=\"dining philosopher status table\"></p>\n\n<p>My controller has a list of the objects:</p>\n\n<pre><code>kierkegaard   = PhilosophersWithMetaData(\"Soren Kierkegaard\", \"thumbnails/kierkegaard.jpg\", forks[0], forks[4])\nlewis         = PhilosophersWithMetaData(\"C.S. Lewis\", \"thumbnails/lewis.jpg\", forks[1], forks[0])\ndostoevsky    = PhilosophersWithMetaData(\"Fyodor Dostoevsky\", \"thumbnails/dostoevsky.jpg\", forks[2], forks[1])\ndescartes     = PhilosophersWithMetaData(\"Rene Descartes\", \"thumbnails/descartes.jpg\", forks[3], forks[2])\nkant          = PhilosophersWithMetaData(\"Immanuel Kant\", \"thumbnails/kant.jpg\", forks[4], forks[3])\n\nphilosopher_list = [kierkegaard, lewis, dostoevsky, descartes, kant]\n</code></pre>\n\n<p>And each Philosopher in the model has:</p>\n\n<pre><code>def changeState(self, new_state):\n    self.state = new_state\n    pub.sendMessage(\"STATE_CHANGED\", self.state)\n</code></pre>\n\n<p>My question is, how do I know which object sent the message so I can update the correct panel? I will need a index or object to reference so I can pass the update onto the view. Is there a \"MVC approved\" way to do this?</p>\n"},{"tags":["ios","mvc","design-patterns","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12643326,"title":"What is the difference between a Model (MVC) in web development compared to iOS development","body":"<p>I come from a Web Development background. I am having trouble understanding how a model is to be used in iOS development.</p>\n\n<p>A model in Web Development is a separate file that Controller files access with functions such as <code>getMysqlQueryOf(stuff);</code></p>\n\n<p>Does iOS development use the same thing? Should I be creating a MyModel.h and MyModel.m file and including/importing this in all of my View Controllers and accessing the methods inside the model class like that?</p>\n\n<p>Can you show a simple example of a Model class and how it would be accessed from a View Controller?</p>\n"},{"tags":["sql-server","asp.net-mvc-3","entity-framework","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12642251,"title":"Nicer way to add entry into main db table and link table","body":"<p>Hi all the below solution works in that it creates a record in the MeetingRoomRequest table and also adds the associated amenities to that request into the MeetingRoomRequestAmenityLink table. However it just feels a bit clunky, so I was wondering if there is a nicer solution out there (i.e. not having to create 2 context instances) using MVC 3 and Entity Framework??</p>\n\n<p>Please note i've set up the necessary relationships (one to many) in SQL Server and Entity Framework.</p>\n\n<p>Also please note AmenityList is an array of id's (e.g. [1,2,4])</p>\n\n<pre><code>private readonly IDataRepository&lt;MeetingRoomRequest&gt; _meetingRoomRequestRepository = new DataRepository&lt;MeetingRoomRequest&gt;();\nprivate readonly IDataRepository&lt;MeetingRoomRequestAmenityLink&gt; _meetingRoomRequestAmenityLinkRepository = new DataRepository&lt;MeetingRoomRequestAmenityLink&gt;();\n\nvar meetingRoomRequestToAdd = new MeetingRoomRequest\n{\n    User = meetingRoomRequestViewModel.User,\n    UserEmail = meetingRoomRequestViewModel.UserEmail,\n    Title = meetingRoomRequestViewModel.Title,\n    Comments = meetingRoomRequestViewModel.Comments,\n    StartDateTime = meetingRoomRequestViewModel.StartTime,\n    EndDateTime = meetingRoomRequestViewModel.EndTime,\n    RequestStatusID = (int)Enums.RequestStatus.New,\n    AttendeeCount = meetingRoomRequestViewModel.AttendeeCount,\n    AttendeeType = meetingRoomRequestViewModel.AttendeeType,\n    OfficeID = meetingRoomRequestViewModel.OfficeId,\n    LocationID = meetingRoomRequestViewModel.LocationId, \n};\n_meetingRoomRequestRepository.Add(meetingRoomRequestToAdd);\n_meetingRoomRequestRepository.SaveChanges();\nvar meetingRoomRequestAdded = meetingRoomRequestToAdd;\n\nforeach (var item in meetingRoomRequestViewModel.AmenityList)\n{\n    var meetingRoomRequestAmenityLinkToAdd = new MeetingRoomRequestAmenityLink\n    {\n        AmenityID = item,\n        MeetingRoomRequestID = meetingRoomRequestAdded.MeetingRoomRequestID\n    };\n    _meetingRoomRequestAmenityLinkRepository.Add(meetingRoomRequestAmenityLinkToAdd);\n    _meetingRoomRequestAmenityLinkRepository.SaveChanges();\n}\n</code></pre>\n"},{"tags":["mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12627170,"title":"Understanding how to structure simple Backbone.js app","body":"<p>I'm just getting my head around Backbone.js and MVC in general. I've built the requisite Todo app and have a decent understanding of models, views, collections, routers, but I'm a little confused where to go from here.</p>\n\n<p>What I'm trying to do now is build a simple model browser with multiple ways to view them. In practice, I would like it to operate almost exactly how Windows or Mac handles file folders, i.e. there is a dropdown menu which allows you to select different ways to view files (the models). Depending on which you select the models are represented as thumbnails, list, or detailed list.</p>\n\n<p>Here is my best idea on how to structure this:</p>\n\n<ul>\n<li>Dropdown menu: view -> model with different view types as options.</li>\n<li>The files: model containing name, date, thumbnail, etc. </li>\n<li>Different views types: each would be a collection of views\nreferencing the models.</li>\n</ul>\n\n<p>My main question is what's the best way to handle the change in the dropdown menu. Do I have each collection of views listen for a change in the dropdown and then hide() or show() based on that? Or do a create a sort of global view that listens for changes in the dropdown view and then calls render() on the chosen collection view? I'd like to do this the right way so that it will scale when I make something more complicated... Any help would be greatly appreciated!</p>\n"},{"tags":["php","oop","mvc","codeigniter","hmvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12642194,"title":"Drivers vs Controllers (MVC)","body":"<p>I am working with Codeignitor 2.x and I was originally using controllers as modules (though not completely HMVC), in that I had a Top Level controller that would call other lower level controllers.  My thinking was that because these lower level controllers were still interacting with the view, that they should remain controllers rather than models or drivers.</p>\n\n<p>What I found, however, is that each instance of a controller also spawns a new instance of CI.  So I would have 3 or 4 instances of CI running for each request.  Ton of overhead, and also caused session issues.</p>\n\n<p>I have since moved these lower level controllers into the library as drivers.  They now capture the CI instance in the construct method, and make modifications to it.  This makes it VERY nice to work with, and doesn't require the HMVC extension.  The drivers are not externally callable either, so it allows me to funnel all requests through specific entry points.</p>\n\n<p><strong>My question is whether this is structurally correct.</strong>  I have always held the notion that drivers should only modify the data they are provided through their method calls, but many of these drivers will pull information directly from GET and POST, and while they will not directly append to the View, they are often accessing view files, and passing the processed view to the CI instance for output.</p>\n\n<p>[EDIT] <em>A little more context:</em>\nOne of the drivers I have created is essentially a user login driver called 'Access'.  It makes calls to the 'User' model for create/login/logout methods.  The driver uses the POST data to check the User model, then loads the correct view with errors and whatever is needed.  The idea, being, with 2 lines, I can include this driver in any controller throughout the project, so there is a significant decrease in code redundancy.  Again, I know that the drivers should be confined to their scope, however the driver does not modify anything outside it's scope, but simply returns the view it has created.</p>\n\n<p>Is there another method to for doing this that is more inline with straight MVC?</p>\n"},{"tags":["javascript","mvc","jqgrid","row"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12299041,"title":"mvc jqgrid without asp - javascript-worked- creating row using tab key","body":"<p>now i can create new row using tab key and can do sorting in columns\nmy script for creating new row\nIn the last editable column of your colModel, write these dataEvents.</p>\n\n<pre><code>dataEvents: [\n{\n    type: 'keydown',\n    fn: function (e) {\n        var key = e.charCode || e.keyCode;\n        if (key == 9)//tab\n        {\n            // var grid = $('#rowed5');\n            grid.jqGrid('saveRow', selIRow, false, 'afterSaveCell');\n            // grid.jqGrid('editCell', selIRow, false, 'clientArray');\n            var a = grid.getDataIDs().length;\n            var b = a + 1;\n            // var ip = 1;\n            if (a == grid.getDataIDs().length) {\n                grid.addRowData(b, { \"id\": b, \"desc\": \"your description\", \"stock\": \"0.0\", \"unitp\": \"0.0\", \"linet\": \"0\" });\n                setTimeout(\"jQuery('#rowed5').editCell(\" + a + \" + 1,2, true);\", 100);\n                grid.jqGrid('editCell', selIRow, false, 'clientArray');\n                grid.jqGrid('editRow', b, false, 'clientArray');\n                grid.jqGrid('saveRow', b, false, 'afterSaveCell');\n            }\n        }\n    }\n}\n]\n</code></pre>\n\n<p>also make sure you got </p>\n\n<pre><code>editurl: 'clientArray',\ncellEdit: true,\n</code></pre>\n\n<p>in your program.</p>\n\n<p>editCell is used to set focus on the first editable cell of jqgrid.</p>\n\n<p>when i got, just thought of sharing here...</p>\n"},{"tags":["asp.net","mvc","asp.net-mvc-3","iis7"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2753,"score":5,"question_id":6123731,"title":"Random Session Timeout in ASP.NET MVC3","body":"<p>i have an application which gets random session timeouts. (IIS 7.5 on Windows 2008 R2, .NET 4.0)</p>\n\n<p>i tried the following:</p>\n\n<ul>\n<li>checked the application log if the w3wp.exe process was crashed, but there is no entry.</li>\n<li>disabled in the application pool the rapid fail protection</li>\n<li>moved to the sql server state provider to be sure the loadbalancers sticky session is not \nthe problem. (we use a kemp loadmaster).</li>\n<li>ensured that no other applications use the same application pool.</li>\n<li>checked that exceptions in a thread of a called assembly is correctly handled. (simulated using throw new exception) and the error handling was correct.</li>\n<li>ensured that the validationKey and decryptionKey is set in the webconfig on all 4 webservers to the same key.</li>\n</ul>\n\n<p>i run now out of ideas how to spot this evil bug. any suggestions? i cannot reproduce the problem on my local machine in the debugger. </p>\n\n<p>one point which is maybe important, the move from page 1 to page 2 where the session loss often happens, takes sometimes more than 120 seconds, because of a third party system which is connected via tcp socket.</p>\n"},{"tags":["mvc","spring","form-validation","portlet"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":912,"score":0,"question_id":6140659,"title":"Spring portlet mvc Validation fails during submission of the editted form","body":"<p>Hi\nI have a form with few validations on it.\nDuring new form submission, if validation fails I can see those error messages.\nbut, during editing the form when I change the field to blank intentionally and submit the form error messages are not shown on Jsp page but I can get the errorcount in controller as 1 .</p>\n\n<pre><code>&lt;portlet:actionURL var=\"actionUrl\"&gt;\n    &lt;portlet:param name=\"action\" value=\"editCommunity\"/&gt;\n    &lt;portlet:param name=\"communityID\" value=\"${community.id}\"/&gt;\n&lt;/portlet:actionURL&gt;\n\n&lt;liferay-ui:tabs names=\"Details\" /&gt;\n\n&lt;form:form commandName=\"community\" method=\"post\" action=\"${actionUrl}\"&gt;\n    &lt;form:hidden path=\"id\"/&gt;\n\n    &lt;div&gt;&lt;form:errors cssClass=\"portlet-msg-error\" path=\"*\"/&gt;&lt;/div&gt;\n\n    &lt;table class=\"manager-detail\"&gt;\n        &lt;tr&gt;\n            &lt;th class=\"portlet-form-field-label\"&gt;\n                &lt;label for=\"community_label_name\"&gt;&lt;spring:message code=\"community.label.name\"/&gt;&lt;/label&gt;         \n                &lt;span class=\"manager-field-required\"&gt;*&lt;/span&gt;\n            &lt;/th&gt;\n            &lt;td&gt;&lt;form:input id=\"community_label_name\" cssClass=\"portlet-form-input-field\" path=\"name\" size=\"30\" maxlength=\"80\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>My edit controller method.....</p>\n\n<p>rendering edit form\n    @RequestMapping(params = \"action=editCommunity\")\n    public String showEditCommunityForm(final RenderRequest request,\n            @RequestParam(value=\"communityID\") Long id, final Model model)\n            throws CommunityNotFoundException {\n        final ThemeDisplay themeDisplay = (ThemeDisplay) request\n                .getAttribute(WebKeys.THEME_DISPLAY);</p>\n\n<pre><code>    model.addAttribute(\"community\", communityService.getCommunity(id));\n\n\n    return \"communityEdit\";\n}\n</code></pre>\n\n<p>edited form is submitted</p>\n\n<pre><code>@RequestMapping(params = \"action=editCommunity\")\npublic void submitEditCommunityForm(final ActionRequest request,\n        final ActionResponse response,\n        @ModelAttribute(\"community\") Community community,\n        BindingResult result, Model model) throws SystemException, PortalException {\n\n    communityValidator.validate(community, result);\n    if (result.hasErrors()) {\n        System.out.println(\"validation errors size...\"+result.getErrorCount());\n        //model.addAttribute(\"community\", community);\n        response.setRenderParameter(\"action\", \"editCommunity\");\n        response.setRenderParameter(\"communityID\", String.valueOf(community\n                .getId()));\n\n    }\n</code></pre>\n\n<p>}\nIt is not full code but a block</p>\n\n<p>I have tried couple of things like,\nchanging the http method from post to POST, but nothing works. Validation perfectly works during form creation, but not during edit.</p>\n\n<p>Am I missing anything? please give me suggestions.</p>\n\n<p>Cheers\nVamshi</p>\n"},{"tags":["forms","mvc","mobile","login","sencha-touch-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12635199,"title":"Can't login to a web application through sencha app on clicking 'Sign in' button","body":"This is my view\n\n<pre><code>Ext.define(\"TimeSheet.view.Tracktime\", {\nextend: \"Ext.form.Panel\",\nrequires: [\"Ext.form.FieldSet\", \"Ext.field.Text\", \"Ext.Button\",\"Ext.Label\", \"Ext.field.Email\", \"Ext.field.Password\",\"Ext.MessageBox\", \"Ext.Img\"],\nalias: \"widget.tracktimeview\",\n\nconfig:{\n    id: 'entrypage',\n    fullscreen: true,\n    url: 'timesheet.ajatus.in/check.php',\n    //standardSubmit: false,\n    method: 'GET',\n    layout: {\n        centered: true,\n    },\n    defaults: {\n        styleHtmlContent: true,\n        //cls: 'backfield'\n    },\n\n    cls: 'panelBackground',\n    items: [{\n        xtype: 'fieldset',\n        id: 'loginfield',\n        autoComplete: true,\n        scrollable: false,\n        cls: 'formfield',\n        items: [{\n                xtype: 'image',\n                src: 'tracktime.png',\n                height: '60px',\n                cls: 'track'\n\n            },\n            {\n                xtype: 'textfield',\n                name : 'name',\n                label: 'tracktime/'\n\n            },\n            {\n                xtype: 'textfield',\n                name : 'uname',\n                allowBlank:false, \n                placeHolder: \"User name\"\n            },\n            {\n                xtype: 'passwordfield',\n                name : 'password',\n                allowBlank:false, \n                placeHolder: 'Password'\n            }\n        ]\n    },{\n        xtype: 'button',\n        id: 'loginbtn',\n        cls: 'enter',\n        text: 'Sign in',\n        ui: 'confirm',\n        height: \"50px\",\n\n     }],\n\n\n\n    control: ({\n\n        '#loginbtn': {\n            tap: function() {\n\n            }\n        }\n    }),\n},});\n</code></pre>\n\n<p><strong>THIS IS CONTROLLER</strong></p>\n\n<pre><code>Ext.define(\"TimeSheet.controller.Track\", {\nextend: \"Ext.app.Controller\",\n\nconfig: {\n    refs: {\n        trackTimeView: \"tracktimeview\",\n        selector: '#tracktimeview',\n\n        addentryView: \"addentryview\",\n        selector: '#addentryview',\n\n        entryPage: '#entrypage',\n\n        loginBtn: '#loginbtn'\n\n    },\n    control:{\n        loginBtn: {\n            tap: \"onLoginBtn\"\n        },\n\n        onloginbtn: {\n            tap: function(btn) {\n                var form = Ext.getCmp('entry');\n                //var values = entry.getValues();\n                entry.submit({\n                    method:'POST',\n                    url: 'xxxxxxxx/check.php',\n                    params: values,\n\n                    success: function(response){\n                      var text = response.responseText;\n                      Ext.Msg.alert('Success', text);\n                 },\n\n                    failure : function(response) {\n                       Ext.Msg.alert('Error','Error while submitting the form');\n                       console.log(response.responseText);\n                 }\n                });\n            }\n        },\n\n\n    }\n},\n\n\nonLoginBtn: function() {\n    console.log(\"onLoginBtn\");\n    var values = TimeSheet.views.tracktimeview.entrypage.getValues();\n    TryLogin(values['uname'], values['password']);\n},\n\nlaunch: function () {\n    this.callParent(arguments);\n    console.log(\"launch\");\n},\ninit: function () {\n    this.callParent(arguments);\n    console.log(\"init\");\n}});\n</code></pre>\n"},{"tags":["javascript","ajax","mvc","openlayers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":12625358,"title":"Changing an OpenLayer vector layer from automatic to manual get request","body":"<p>I have a web server that returns a <code>FeatureCollection</code> in JSON. I was getting this using the code below, which works perfectly:</p>\n\n<pre><code>var vectorLayer = new OpenLayers.Layer.Vector('geoJSON', {\n    strategies: [new OpenLayers.Strategy.Fixed()],\n    protocol: new OpenLayers.Protocol.HTTP({\n        url: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\n        format: new OpenLayers.Format.GeoJSON()\n    }),\n    styleMap: new OpenLayers.StyleMap(style)\n});\n</code></pre>\n\n<p>I want to convert this into a manual async get request as part of something else (I'm displaying routes and want to do several requests, one for each route so I can display them as they are calculated, avoiding a large delay).</p>\n\n<p>So, I've changed the above to the code below:</p>\n\n<pre><code>OpenLayers.Request.GET({\n    url: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\n    async: true,\n    success: function(e) {\n        var features = new OpenLayers.Format.GeoJSON().read(e.responseText);\n        vectorLayer.addFeatures(features);\n    }\n});\n</code></pre>\n\n<p>However, when I run this although the callback is called, the <code>e.responseText</code> looks ok and the features variable seems to contain the correct objects and they do get added to the <code>vectorLayer</code>, <strong>they appear in the wrong place; Right next to the origin</strong>. On OSM's max zoom they are barely apart from each other, when they should be scattered around the UK.</p>\n\n<p>Any idea why since the change to a manual GET they are appearing in the wrong places?</p>\n\n<hr>\n\n<p>See below for my current code listing:</p>\n\n<pre><code>var map, layer;\nmap = new OpenLayers.Map(element.id);\nbaseLayer = new OpenLayers.Layer.OSM('Simple OSM Map');\n\n\nvar context = {\n    getColor: function(feature) {\n        return feature.attributes['Colour'];\n    },\n    getImageURL: function(feature) {\n        return feature.attributes['ImageURL'];\n    },\n    getLabel: function(feature) {\n        return feature.attributes['Label'];\n    }\n};\n\nvar template = {\n    externalGraphic: '${getImageURL}',\n    pointRadius: 5,\n    strokeWidth: 3,\n    strokeColor: \"${getColor}\"\n};\n\n\n\nvar style = new OpenLayers.Style(template, { context: context });\n\n/*var vectorLayer = new OpenLayers.Layer.Vector('geoJSON', {\nstrategies: [new OpenLayers.Strategy.Fixed()],\nprotocol: new OpenLayers.Protocol.HTTP({\nurl: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\nformat: new OpenLayers.Format.GeoJSON()\n}),\nstyleMap: new OpenLayers.StyleMap(style)\n});*/\n\nvar vectorLayer = new OpenLayers.Layer.Vector('geoJSON');\nvectorLayer.styleMap = new OpenLayers.StyleMap(style);\n\nOpenLayers.Request.GET({\n    url: '&lt;%= Url.Action(\"Vectors\", \"Maps\") %&gt;',\n    async: true,\n    success: function(e) {\n        var features = new OpenLayers.Format.GeoJSON().read(e.responseText);\n        vectorLayer.addFeatures(features);\n    }\n});\n\nmap.addLayers([baseLayer, vectorLayer]);\nmap.setCenter(\n    new OpenLayers.LonLat(-4, 55).transform(\n        new OpenLayers.Projection(\"EPSG:4326\"),\n        map.getProjectionObject()\n    ), 6\n);\n</code></pre>\n\n<p>An example of the JSON that gets returned (and hasn't changed since it worked):</p>\n\n<pre><code>{ \"features\" : [ { \"geometry\" : { \"coordinates\" : [ -0.72766602400000002,\n                51.273638529999999\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ -0.82559629999999995,\n                  51.296390000000002\n                ],\n                [ -0.72766602400000002,\n                  51.273638529999999\n                ],\n                [ -0.82559629999999995,\n                  51.296390000000002\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{72:x2}{241:x2}{152:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.82559629999999995,\n                51.296390000000002\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.41132172900000002,\n                50.821081319999998\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ -0.47245280000000001,\n                  50.817610000000002\n                ],\n                [ -0.41132172900000002,\n                  50.821081319999998\n                ],\n                [ -0.47245280000000001,\n                  50.817610000000002\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{206:x2}{155:x2}{66:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.47245280000000001,\n                50.817610000000002\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ 0.074993041999999996,\n                51.270947649999997\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ 0.075924359999999996,\n                  51.268300000000004\n                ],\n                [ 0.074993041999999996,\n                  51.270947649999997\n                ],\n                [ 0.075924359999999996,\n                  51.268300000000004\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{99:x2}{146:x2}{254:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ 0.075924359999999996,\n                51.268300000000004\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.24428876999999999,\n                51.583668719999999\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ [ -0.251608,\n                  51.580390000000001\n                ],\n                [ -0.24428876999999999,\n                  51.583668719999999\n                ],\n                [ -0.251608,\n                  51.580390000000001\n                ]\n              ],\n            \"type\" : \"LineString\"\n          },\n        \"properties\" : { \"Colour\" : \"#{188:x2}{122:x2}{221:x2}\",\n            \"ImageURL\" : null\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -0.251608,\n                51.580390000000001\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/Home.png\"\n          },\n        \"type\" : \"Feature\"\n      },\n      { \"geometry\" : { \"coordinates\" : [ -1.4948717600000001,\n                53.68926664\n              ],\n            \"type\" : \"Point\"\n          },\n        \"properties\" : { \"Colour\" : \"#ffffff\",\n            \"ImageURL\" : \"/360Scheduling/Content/Images/ByBox.png\"\n          },\n        \"type\" : \"Feature\"\n      }\n    ],\n  \"type\" : \"FeatureCollection\"\n}\n</code></pre>\n"},{"tags":["java","mvc","spring","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":199,"score":0,"question_id":5955875,"title":"Can I user ModelAttribute in parent abstract class for controllers","body":"<p>Example:</p>\n\n<pre><code>class CommonController {\n\n    @ModelAttribute(\"refs\")\n    public List getRef() {\n       ...\n    }\n\n    @ModelAttribute(\"refs2\")\n    public List getRef2() {\n       ...\n    }\n}\n</code></pre>\n\n<p><br/></p>\n\n<pre><code>class MyController extends CommonController {\n\n    @RequestMapping(\"/my\")\n    public String request() {\n        return \"/my\";\n    }\n}\n</code></pre>\n\n<p>The ModelAttribute objects will be available on my page?</p>\n"},{"tags":["ios","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":32,"score":-3,"question_id":12635871,"title":"How to: Model-ViewController","body":"<p>I have got a problem with my Model-View-Controller Code. Theoretically I understand the Basics. But my Code only works with one class. With the other not. Here my code: </p>\n\n<p>My AppDelegate.h</p>\n\n<pre><code>#import \"model.h\"\n\n@interface AppDelegate : UIResponder &lt;UIApplicationDelegate, UITabBarControllerDelegate&gt; {\n   model *m;\n}\n</code></pre>\n\n<p>First question. Do I have to add a @property? </p>\n\n<p>My AppDelegate.m</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\nm = [[model alloc] init];\n</code></pre>\n\n<p>I coded a LoginViewController with is my first appearing view. \nMy LoginViewController.h</p>\n\n<pre><code>#import \"model.h\";\n@interface LoginViewController : UIViewController {\nmodel *m; }\n</code></pre>\n\n<p>Now I want to execute in the LoginViewController.m class a method in the model. \nLike</p>\n\n<pre><code>[m saveUserDataToDefaults:dict];\n</code></pre>\n\n<p>XCode autocompletes the methods name, but the method is not executed? \nWhere is my fault? \nDo I think false? </p>\n\n<p>Thanks for your help in advance!\nRaphael</p>\n"},{"tags":[".net","mvc","model","repeater"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":10327916,"title":"MVC .Net create model and related models at same time","body":"<p>I have a model called Company and company can have 1 or more directors. I want to be able to create any number of directors at the same time as creating a company.</p>\n\n<p>I made the Create view of the of the Director a partial view:</p>\n\n<pre><code>@using (Ajax.BeginForm(\"Create\", \n                       \"Director\", \n                       new AjaxOptions { \n                         HttpMethod = \"POST\", \n                         UpdateTargetId = \"partial\", \n                         InsertionMode = InsertionMode.InsertAfter }))\n{\n @Html.EditorFor(model =&gt; model.Title)\n ...\n}\n</code></pre>\n\n<p>On the Create view of the Company I have a button which loads the partial Create view of the Director into a container:</p>\n\n<pre><code>$.get('@(Url.Action(\"Create\", \"Director\"))', function (result) {  \n            $('#partial').append(result);\n        });\n</code></pre>\n\n<p>This allows the input controls of the Director to be dynamically loaded into the Create view of the Company.</p>\n\n<p>My question is how to handle the creation of Directors at the same time as the company? Or do I need to only allow creation of Directors on Edit and not Create?</p>\n"},{"tags":["ajax","mvc","ruby-on-rails-3.1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12614696,"title":"Rails 3 Ajax Home Controller the displays data from other controllers","body":"<p>I'm trying to build a site that consistes of a 'home' page that contains image galleries, as well as a few other content pages (about, contact).</p>\n\n<p>I've created the relevant controllers models and views to create and view the pages, and create galleries and upload images and they're all working as you'd expect them too. What I want to do is create a front page that has an image slider on it and a thumbnail for each gallery, and when you click the thumbnail it changes the images in the slider using ajax. Is there any way I can use links on the home page to fetch the data from the galleries controller using AJAX or do I need to make my home controller do all the work?</p>\n\n<p>Sorry if this question is hard to understand or is really simple. I have a background in PHP programming so I'm still trying to get my head around the whole MVC approach.</p>\n"},{"tags":["objective-c","ios","cocoa-touch","mvc","model"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":72,"score":0,"question_id":12633948,"title":"How should a Model be implemented in iOS using Objective-C?","body":"<blockquote>\n  <p>EDIT: Although the answers are teaching me things, I still have no\n  idea how I might \"implement\" a model. Can anyone give me an example as\n  to how I would create a simple model class that has a few basic\n  functions that make calls to NSUserDefaults or JSON web calls and how\n  I would access this from ANY of my view controllers?</p>\n</blockquote>\n\n<p>I am just beginning iOS development and have come to the point where my app will require a Model to interact with the overall data flow between controllers, but am unsure as to how they should be implemented properly.</p>\n\n<p>I understand that the View's are in the storyboard, and the Controllers are the classes associated with those views.</p>\n\n<p>What is the proper way to implement a central Model for an app? Do i create a class (ie \"MyModel.h/.m\") and then import it from all of my view controllers?</p>\n\n<p>I also see people using a UINavigationController->RootViewController as their model, is this viable?</p>\n\n<p>I have googled this question and searched stack overflow for a few hours, but am now resorting to a new question.</p>\n\n<blockquote>\n  <p>EDIT: Although the answers are teaching me things, I still have no\n  idea how I might \"implement\" a model. Can anyone give me an example as\n  to how I would create a simple model class that has a few basic\n  functions that make calls to NSUserDefaults or JSON web calls and how\n  I would access this from ANY of my view controllers?</p>\n</blockquote>\n"},{"tags":["mvc","sencha-touch-2","timepicker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":12600447,"title":"xtype: timepicker in sencha touch 2. Same as xtype: datepicker","body":"<p>In Sencha touch 2 MVC how to insert time picker in 24 hr format??\n. I want it in a form but unable to implement.\n`var entryForm = Ext.define(\"TimeSheet.view.Newentry\", {\n    extend: \"Ext.TabPanel\",\n    requires: [\"Ext.XTemplate\", \"Ext.field.DatePicker\", \"Ext.field.Select\", \"Ext.TitleBar\", \"Ext.DateExtras\"],\n    xtype:'newentryview',</p>\n\n<pre><code>config: {\n    //id: 'newEntry',\n    autodestroy: true,\n    fullscreen: true,\n    scrollable: true,\n    cardSwitchAnimation: 'cube',\n    tabBar: {\n        docked: 'top',\n        layout: {\n            pack: 'center'\n        }\n    },\n    defaults: {\n        styleHtmlContent: true\n    },\n    items: [{\n        xtype: 'formpanel',\n        name: 'entryForm',\n        //id: 'entry',          \n        style: 'border: none; font: 22px Arial black',\n        title: 'Add Entry',\n        fullscreen: true,\n        iconMask: true,\n        iconCls: 'info',\n        items: [{\n            xtype: 'fieldset',\n            name: 'fieldSet',\n            autoComplete: true,\n            scrollable: false,\n            cls: 'add',\n            items: [{\n                xtype: 'textfield',\n                name: 'client',\n                placeHolder: 'Client name'\n            },{\n                xtype: 'selectfield',\n                name: 'project',\n                    placeHolder: 'Project',\n                    options: [\n                        {text: 'First Option',  value: 'first'},\n                        {text: 'Second Option', value: 'second'},\n                        {text: 'Third Option',  value: 'third'}\n                    ]\n            },{\n                xtype: 'textfield',\n                name: 'task',\n                placeHolder: 'Task'\n            },{\n                xtype: 'datepickerfield',\n                name: 'date',\n                value: new Date()\n            },{\n                xtype: 'datepickerfield',\n                name: 'time',\n                value: new Date(),\n                //HERE I WANT THE TIME PICKER FIELD IN 24 HR FORMAT..\n            },{\n                xtype: 'textareafield',\n                name: 'notes',\n                ui: 'textarea',\n                maxRows: 5,\n                maxWidth: '100%',\n                placeHolder: 'Add notes here...'\n            },{\n                xtype: 'panel',\n                name: 'btnpanel',\n                height: '51px',\n                width: '100%',\n                layout: {\n                    type: 'hbox'\n                },\n                items: [{\n                    xtype: 'button',\n                    cls: 'btnreset',\n                    text: 'Reset',\n                    style: 'font-size: 14px',\n                    //ui: 'confirm',\n                    height: \"35px\",\n                    width: '40%',\n                    event: 'tap',\n                    handler: function() {\n                        console.log(\"reset\");\n\n                    }\n                },{\n                    xtype: 'spacer'\n                },{\n                    xtype: 'button',\n                    //id: 'submit',\n                    cls: 'btnsubmit',\n                    text: 'Submit',\n                    style: 'font-size: 14px',\n                    //ui: 'confirm',\n                    height: \"35px\",\n                    width: '40%',\n                    //go3: 'submitview' \n                    event: 'tap',\n                    handler: function() {\n                        console.log(\"Submitted\");\n                    }\n                }]\n            }]\n        }]\n\n    },{\n        xtype: 'panel',\n        style: 'border: none; font: 22px Arial black',\n        title: 'Panel 2',\n        fullscreen: true,\n        html: 'Page 2',\n    }]\n}\n</code></pre>\n\n<p>});`</p>\n"},{"tags":["php","mvc","design-patterns","architecture","structure"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":140,"score":1,"question_id":1130348,"title":"Ideas for Implementing multiple views for the same data","body":"<p>I am using CodeIgniter, but the question applies to any MVC framework. I have a custom CMS which allows for the management of 5 different websites. Users log in and switch between these sites. They can add content to each of the areas of the sites. The CMS and data that can be entered is the same for each site. </p>\n\n<p>The public facing sites all look completely different and represent different brands even though they contain the same data as all the others. </p>\n\n<p>So how would you go about implementing these views? Are there any design patterns I should be looking at? </p>\n\n<p>The only way I can think of doing this right now is to put a switch statement inside of each controller > action to grab a different view for each website but there must be a much more clever way of doing this. I want to get get around producing loads of code that looks like this:</p>\n\n<pre><code>class Home extends Controller {\n\n    public function getPage()\n    {\n        $website = $this-&gt;session-&gt;userdata( \"site_id\" );\n        switch( $website )\n        {\n            case \"1\":\n                // load view one\n            break;\n            case \"2\":\n                // load view 2\n            break;\n            // etc etc\n        }\n    }\n}\n</code></pre>\n"},{"tags":["php","database","mvc","patterns"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":122,"score":2,"question_id":12269787,"title":"Data Mapper vs Data access object. Difference. Which one is the better one?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3198419/orm-dao-datamapper-activerecord-tablegateway-differences\">ORM/DAO/DataMapper/ActiveRecord/TableGateway differences?</a>  </p>\n</blockquote>\n\n\n\n<p>Can someone help me to understand difference between data mapper and data access object patterns? I already know about data mapper pattern from zandstra's book. But when i searched for data access object, i found out that there are very similar, or even the same patterns. Also i want to know which one i should use when writing my own framework(i'm trying to implement my own mvc php framework just to learn how modern frameworks work).</p>\n"},{"tags":["flash","flex","mvc","command","robotlegs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12622323,"title":"RobotLegs Domain logic - where to place it","body":"<p>In <a href=\"http://www.robotlegs.org/\" rel=\"nofollow\">Robotlegs</a> does the domain logic needs to be in the Commands(controller) or the Models?</p>\n\n<p>Example: \nlets say i'm building a \"<a href=\"http://en.wikipedia.org/wiki/Tic-tac-toe\" rel=\"nofollow\">Tic Tac Toe</a>\" game.\ni have:\nGameMadiatore,CellSelectedCommand,BoardModel.</p>\n\n<p>After the user clicks on a cell the \"GameMadiatore\" fires an event that initiates  \"CellSelectedCommand\".\nDoes the \"find 3 in row\" win logic needs to be in the \"BoardModel\" or \"CellSelectedCommand\" or some other command?</p>\n"},{"tags":["c#","wcf","mvc","structuremap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":644,"score":0,"question_id":9623103,"title":"Generic ServiceFactory<T> for WCF Channel Factory and StructureMap with MVC 3","body":"<p>So this will be an interesting post because I must include all my code and will attempt to explain clearly how I have setup my architecture. </p>\n\n<p>I have placed all my Service and DataContracts in a central assembly (DMT.WCF.Contracts). This is done so that the distributed pieces of my application can all reference the same type of service interfaces and contracts which is very nice. </p>\n\n<p>I have setup a StructureMap container to inject my dependencies in the following manner, by specifying a ServiceContext, which will house all of the Service Interface properties so that they can be referenced int he application later.</p>\n\n<pre><code>public interface IServiceContext\n{\n\n}\n\npublic class ServiceContext: IServiceContext\n{\n    public IAuthenticationService AuthenticationService { get; set; }\n    public ServiceContext(IAuthenticationService authenticationService)\n    {\n         AuthenticationService = authenticationService;\n    }\n}\n</code></pre>\n\n<p>Then, I have my StructureMapControllerFactory which looks like the following:</p>\n\n<pre><code>public class StructureMapControllerFactory:DefaultControllerFactory\n{\n    protected override IController GetControllerInstance(RequestContext requestContext, Type controllerType)\n    {\n        if (controllerType == null) return null;\n        return ObjectFactory.GetInstance(controllerType) as IController;\n    }\n}\n</code></pre>\n\n<p>and this is configured in my global.asax like the following:</p>\n\n<pre><code>protected void Application_Start()\n    {\n        ControllerBuilder.Current.SetControllerFactory(new StructureMapControllerFactory());\n        AreaRegistration.RegisterAllAreas();\n        RegisterGlobalFilters(GlobalFilters.Filters);\n        RegisterRoutes(RouteTable.Routes);\n\n        Configure();\n\n    }\n</code></pre>\n\n<p>I wanted to decouple my services as much as possible from my appliction, so I have implemented the following ServiceFactory class that handles providing proxies to StructureMap when the IoC container is configured:</p>\n\n<pre><code>public  static class ServiceFactory\n{\n    private static readonly ClientSection _clientSection = ConfigurationManager.GetSection(\"system.serviceModel/client\") as ClientSection;\n\n    public static T Create&lt;T&gt;()\n    {\n        T context = default(T);\n        foreach(ChannelEndpointElement endpoint in _clientSection.Endpoints)\n        {\n            if(endpoint.Contract == typeof(T).FullName)\n            {\n                IEnumerable&lt;Type&gt; assignables = typeof (Binding).Assembly.GetTypes().Where(p =&gt; typeof(Binding).IsAssignableFrom(p));\n                Type bindingType = assignables.Single(p =&gt; p.Name.ToLower().Equals(endpoint.Binding.ToLower()));\n                context = ChannelFactory&lt;T&gt;.CreateChannel((Binding)Activator.CreateInstance(bindingType, false), new EndpointAddress(endpoint.Address));\n            }\n        }\n        return context;\n    }\n\n}\n</code></pre>\n\n<p>This allows me to pull directly from the config file when creating proxies so I do not need to select \"Add Service Reference\" (as that is technically adding a dependency).</p>\n\n<p>In my global.asax, I can now configure my StructureMap Container like this:</p>\n\n<pre><code>protected void Configure()\n    {\n        ObjectFactory.Configure(x =&gt;\n        {\n            x.Scan(scanner =&gt; scanner.AddAllTypesOf&lt;IController&gt;());\n            x.For&lt;IAuthenticationService&gt;().Use(ServiceFactory.Create&lt;IAuthenticationService&gt;());\n            x.For&lt;IServiceContext&gt;().Use&lt;ServiceContext&gt;();\n\n        });\n    }\n</code></pre>\n\n<p>Although I was initially able to use this in the following manner:</p>\n\n<pre><code>IAuthenticationService service = ServiceContext.AuthenticationService.Authenticat(...);\n</code></pre>\n\n<p>I am now unable to start my application without exceptions being thrown such as the following:</p>\n\n<pre><code>StructureMap configuration failures:\nError:  104\nSource:  Registry:  StructureMap.Configuration.DSL.Registry, StructureMap,  Version=2.6.1.0, Culture=neutral, PublicKeyToken=e60ad81abae3c223\nType Instance '685e2e2a-f271-4163-a6fa-ba074e4082d1' (Object:   DMT.WCF.Contracts.Authentication.IAuthenticationService) cannot be plugged into type   DMT.WCF.Contracts.Authentication.IAuthenticationService, DMT.WCF.Contracts,  Version=1.0.0.0, Culture=neutral, PublicKeyToken=null\n</code></pre>\n\n<p>I am not sure why this is occuring. Like I said, I was initially able to get this up and running, but am not sure what has changed.</p>\n\n<p>I have looked at the many of hundreds of references regarding this error message, but they are all specific to problems that dont seem to match mine, unless I am overlooking my problem.</p>\n\n<p>HELP!!!</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":12630203,"title":"Mvc ActionResult not passing back object on Post request","body":"<p>My resister works perfectly when passing back the form, but one that I built it passes back nothing. I am not sure what I am doing differently than the register page that visual studio provided. It calls the right http post method but the value passed is null. thanks for any help. I just want that model to post back to the controller action result.</p>\n\n<p>Controller</p>\n\n<pre><code>[HttpGet]\n        public ActionResult Support()\n        {\n            ViewBag.Message = \"Your app description page.\";\n\n            return View();\n        }\n          [AllowAnonymous]\n        [HttpPost, ValidateSpamPrevention]\n        public ActionResult Support(QuickEmailModel email)\n        {\n            if (ModelState.IsValid)\n            {\n                 return View(\"thankyou\", email);\n            }\n            return View(email);\n\n        }\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>public class QuickEmailModel\n{\n    [DataType(DataType.EmailAddress)]\n    [EmailAddress]\n    public string Email { get; set; }\n\n    [Required]\n    public string Subject { get; set; }\n\n    [Required]\n    [DataType(DataType.MultilineText)]\n    public string Description { get; set; }\n\n    [Display(Name = \"Company (Optional):\")]\n    public string Company { get; set; }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Top of View</p>\n\n<pre><code>@using PoliteCaptcha\n@model Models.QuickEmailModel\n@{\n    ViewBag.Title = \"Support\";\n}\n</code></pre>\n\n<p>Bottom where the form is</p>\n\n<pre><code> @using (Html.BeginForm())\n                {\n                    @Html.ValidationSummary()\n                    &lt;div class=\"control-group\"&gt;\n                        &lt;label class=\"control-label\"&gt;\n                            @Html.LabelFor(x =&gt; x.Company, \"Company (Optional):\", new { @class = \"control-label\" })&lt;/label&gt;\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextBoxFor(x =&gt; x.Company, new { @class = \"span4\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control-group\"&gt;\n                        @Html.LabelFor(x =&gt; x.Email, \"Email:\", new { @class = \"control-label\" })\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextBoxFor(x =&gt; x.Email, new { @Class = \"span4\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control-group\"&gt;\n                        &lt;label class=\"control-label\"&gt;\n                            @Html.LabelFor(x =&gt; x.Subject, \"Subject:\", new { @class = \"control-label\" })&lt;/label&gt;\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextBoxFor(x =&gt; x.Subject, new { @class = \"span4\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control-group\"&gt;\n                        &lt;label class=\"control-label\"&gt;\n                            @Html.LabelFor(x =&gt; x.Subject, \"Description:\", new { @class = \"control-label\" })&lt;/label&gt;\n                        &lt;div class=\"controls\"&gt;\n                            @Html.TextAreaFor(x =&gt; x.Description, new { @class = \"span4\", @rows = \"6\", id = \"txtDescription\" })\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    @Html.SpamPreventionFields()\n                    &lt;input type=\"submit\" class=\"btn btn-success\" id=\"btnSubmit\" value=\"Submit\" style=\"margin-right: 15em;\n                        float: right;\" /&gt;\n                }\n</code></pre>\n"},{"tags":["c++","mvc","design-patterns"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":2155,"score":5,"question_id":6929957,"title":"MVC approach with C++","body":"<p>I have been learning PHP MVC pattern and it is pretty cool. have almost finished app and I can see how mess you can make a code without good design.\nNow can MCV be applied to C++ apps? Where does Plugin manager/Plugins go if that is even possible?In model or controller?\nThanks! </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I mean C++ with GUI toolkit like QT/Wxwidgets/GTK+\nAlso Please help me on how to implement in C++. I have learned how to do it in PHP but as you know the two languages are somehow different!</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p><a href=\"http://forums.wxwidgets.org/viewtopic.php?f=1&amp;t=30983\" rel=\"nofollow\">http://forums.wxwidgets.org/viewtopic.php?f=1&amp;t=30983</a></p>\n"},{"tags":[".net","mvc","route","constraints","actionfilterattribute"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":258,"score":2,"question_id":5084603,"title":"Use a IRouteConstraint or ActionFilterAttribute when validating session data against route data","body":"<p>I've been implementing a RouteConstraint recently whos responsibility is to Match a custom route value against some model data that is in the session.</p>\n\n<p>What I've found is that the session is null for the routeDirection of IncomingRequest.</p>\n\n<ol>\n<li>Is the session not configured until\nthe controller is\ncreated/initialized?</li>\n<li>If this is the case, is this type of\nfunction better suited to a filter\napplied at the controller level?</li>\n<li>Are there any other viable options?</li>\n</ol>\n\n<p>The shame of it is that this validation does need to be applied on every route except for when the session is configured on first entry, so I thought a route constraint would be the best solution.</p>\n\n<p>Thanks.</p>\n"},{"tags":["jquery","asp.net-mvc","mvc","jqgrid","jqgrid-asp.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12601908,"title":"Several nested sub ​​grids in jqgrid","body":"<p>I'm trying to put a subgrid when each row have child rows.</p>\n\n<p>This is my view:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jK5lr.png\" alt=\"enter image description here\"></p>\n\n<p>For example, if i press the + in COMERCIOS, some grid is opened and show two child rows..</p>\n\n<p>I want to set a plus + when the row has one child or more.</p>\n\n<p>I tried to use jqgrd Grid as Subgrid but it is not what i want.</p>\n\n<p>Is it possible to do that?</p>\n"},{"tags":["ruby-on-rails","ajax","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12567923,"title":"Need advice on Rails app site planning: Get JSON from other site and pass it for JS Ajax","body":"<p>I am new in web app development. Recently I've create an app:\n<a href=\"http://konganize.herokuapp.com\" rel=\"nofollow\">http://konganize.herokuapp.com</a></p>\n\n<p>The badges (the icons in body) are collected from another site via <code>jQuery.ajax()</code>.</p>\n\n<p>For mash-up, searching/sorting &amp; user login, I'm going to collect data in server side (Rails).</p>\n\n<p>My plan is like-this: <a href=\"https://docs.google.com/presentation/d/1roDeiHrMDiw8Z9WWsg1GBdjsE60eEAbYcFOxZmp2jpw/edit\" rel=\"nofollow\">Google Document</a></p>\n\n<p>Is it a good approach to collect JSON/XML/API data? Or say, should I use a separate Controller to do it? (Or use rake-task/helper/etc?)</p>\n\n<p>Many thanks for advice and explanation.</p>\n"},{"tags":["objective-c","ios","mvc","view"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12625510,"title":"IOS View changing","body":"<p>I am creating a tutorial inside my iphone app.  I am wondering, do I need to create a new .h .m and .xib file for every view? Or can I hook up multiple .xib files to the same .h file , than use the .m file to switch between the views?</p>\n\n<p>Example</p>\n\n<p>I have a Table View being displayed with multiple options. The user selects an option and that tutorial begins in a different view. Can I use that new views .h .m files to control multiple .xib files, or does each view need their own view controller.</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","mvc","backbone.js","client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":164,"score":0,"question_id":12125923,"title":"Backbone LayoutManager Rendering Collection View's models in batches","body":"<p>For one part of my backbone application, certain json responses can return up to 4000 images.  Obviously, I don't want to render ALL those into the DOM.</p>\n\n<p>I'm using backbone.layoutmanager, but I'm struggling with a way to render a collection's views in batches of say 50 - 100, and the then render the rest as the user scrolls.  Is there way to do this without having to override layoutmanager's implementation of <code>render</code>?</p>\n"},{"tags":["javascript","jquery","html","mvc","templates"],"answer_count":5,"favorite_count":3,"up_vote_count":8,"down_vote_count":2,"view_count":116,"score":6,"question_id":12624563,"title":"How do i separate JavaScript View/Logic code properly","body":"<p>I receive JSON objects from a websocket with update/create/delete flags. Based on this information, I either update, create or delete HTML elements and bind callbacks. This can affect multiple HTML elements.</p>\n\n<p>My current approach was to put everything into specific objects which handle HTML generation via jquery e.g.: </p>\n\n<pre><code>$.(\"&lt;table&gt;\").addChild($(\"&lt;tr&gt;\")).addClass('test')\n</code></pre>\n\n<p>and bind event listeners. But with the addition of more and more code it got really messy and now im looking for a proper way to seperate the code.</p>\n\n<p>Are there any ideas on how to do this properly? Frameworks? Maybe jQuery Templates (which still leaves me in the dark on how add callbacks cleanly)?</p>\n"},{"tags":["mvc","service","model","timer","robotlegs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12622477,"title":"Robot legs- timer is service or model?","body":"<p>in <a href=\"http://www.robotlegs.org/\" rel=\"nofollow\">robotlegs</a> can a Timer be inside a model or should it be encpsulated in a service.</p>\n\n<p>Example:\nlets say i'm implementing a digital clock in robot legs.\nShould the Timer that updates the clock be a part of the ClockModel, \nor should it be in a TimerService the creates a command which updates the ClockModel?</p>\n"},{"tags":["php","mvc","orm","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12623393,"title":"Where to put sql queries in Yii (or any MVC framework with ORM support)?","body":"<p>This is a more of a coding style question for projects using MVC architecture.</p>\n\n<p>I'm working on a project using Yii framework. Each database table has it's own model class and lets me take advantage of Yii's Active Record stuff. Cool.</p>\n\n<p>But now I need to do an SQL query with a complex logic and a lot of tables being joined. \nThe best and quickest way to do this is to write a raw SQL and put it in some<code>getSomeComplexLogicData</code> method.</p>\n\n<p>The question is, where do I put this method? Is it a good practice to leave it in a controller where I'm calling it (it's highly unlikely that it will be re-used anywhere else), or should I put it in some Model class that it best corresponds with?</p>\n"},{"tags":["asp.net-mvc","mvc","view","model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12622946,"title":"Best practice rendering model attributes: where check whether they are null or string empty","body":"<p>I have a model with several attributes like name, telephone, email, adress et cetera and sometimes some attributes are empty.</p>\n\n<p>as I understand the best practice of mvc I should NOT put HTML in my model like e.g. </p>\n\n<pre><code>if (string.isNullorEmpty(_username))\n    username = \"&lt;span&gt;\" + _username + &lt;/span&gt;;\nelse\n    username = string.Empty;\n</code></pre>\n\n<p>so I am asking myself, where should i check, if the attributes are empty or not. I think it is also not recommended to do this in the view like:</p>\n\n<pre><code>&lt;% if (Model.username != string.empty) { %&gt;\n    &lt;span&gt;&lt;%: Model.username %&gt;&lt;/span&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>What is the best practice for checking model attributes whether they are empty or not???</p>\n\n<p>thanks for your opinions. I am excited to hear from you!!!</p>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":260,"score":0,"question_id":448839,"title":"Does the controller handle all interaction with the model in MVC?","body":"<p>I'm creating a pacman game using the MVC pattern.  According to <a href=\"http://upload.wikimedia.org/wikipedia/commons/2/2e/ModelViewControllerDiagram.svg\" rel=\"nofollow\">this diagram on wikipedia</a> the model and the view interact.</p>\n\n<p><em>\"Note: the solid lines indicate a direct association, and the dashed lines indicate an indirect association\"</em></p>\n\n<p>Now from my understanding, surely everything goes through the controller?  Say for example, player moves or user clicks add to cart, does that not then get handled by the controller and the appropriate data in the model manipulated by the controller?</p>\n\n<p>I can't see why the view would interact directly with the model?</p>\n\n<p>Thanks</p>\n\n<p>Adam</p>\n"},{"tags":["c#","mvc","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12622373,"title":"MVC Textbox not accepting empty for nullable int","body":"<p>Model</p>\n\n<pre><code>public int? SizeLength { get; set; }\n</code></pre>\n\n<p>View</p>\n\n<pre><code>&lt;div class=\"editor-field\"&gt;\n    @Html.TextBoxFor(p =&gt; p.SizeLength, new { @style = \"Width: 75px\" })\n    @Html.ValidationMessageFor(p =&gt; p.SizeLength)\n&lt;/div&gt;\n</code></pre>\n\n<p>Problem: </p>\n\n<p>When i leave the field empty i get \"The field SizeLength must be a number.\". Leaving the field empty should be converted to a null value in the returned model. Why do i get this message while my field type is a nullable int?</p>\n"},{"tags":["java","mvc","google-app-engine","frameworks"],"answer_count":6,"favorite_count":10,"up_vote_count":20,"down_vote_count":0,"view_count":9582,"score":20,"question_id":862003,"title":"MVC in a Google App Engine Java world","body":"<p>I'm coming to Java from C# &amp; ASP.NET MVC, I'd love to find an equivalent in the Java world that I could use on the Google App Engine. I've already started to have a play with <a href=\"http://thatismatt.blogspot.com/2009/05/mvc-in-java-world.html\" rel=\"nofollow\">FreeMarker</a> and even made the first steps towards writing a very simple framework. Ideally I wouldn't have to do all the hard work though, someone must have done this already! So my question is - what frameworks are there out there that would be familiar for me coming from ASP.NET MVC and I could use them on Google App Engine for Java.</p>\n\n<p>The key things I'd want are:</p>\n\n<ul>\n<li><strong>Simple Routing</strong> - <code>/products/view/1</code> gets mapped to the view action of the products controller with the productid of 1</li>\n<li><strong>Template Engine</strong> - some way of easily passing 'ViewData' to the view, and from the view easily accessing it, ideally I'd love to avoid anything that is too XMLy (thus why I like <a href=\"http://freemarker.org/\" rel=\"nofollow\">FreeMarker</a>).</li>\n</ul>\n"},{"tags":["java","mvc","javafx","fxml","scenebuilder"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":12619075,"title":"JavaFX showing view make in scene builder with controller","body":"<p>I have this controller:</p>\n\n<pre><code>package cz.vutbr.feec.bmds.cv2;\n\nimport java.awt.Button;\nimport java.awt.TextField;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Slider;\n\npublic class TestGuiController {\n\n    private int buttonPressed = 0;\n    @FXML\n    private Button tlacitko;\n    @FXML\n    private TextField textovePole;\n    @FXML\n    private Slider slider;\n\n    public void buttonPressed(ActionEvent e) {\n        buttonPressed++;\n        textovePole.setText(Integer.toString(buttonPressed));\n    }\n}\n</code></pre>\n\n<p>this fxml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n\n    &lt;AnchorPane prefHeight=\"200.0\" prefWidth=\"200.0\" xmlns:fx=\"http://javafx.com/fxml\" fx:controller=\"cz.vutbr.feec.bmds.cv2.TestGuiController\"&gt;\n      &lt;children&gt;\n        &lt;Button fx:id=\"tlacitko\" layoutX=\"30.0\" layoutY=\"40.0\" mnemonicParsing=\"false\" onTouchPressed=\"#buttonPressed\" text=\"Button\" /&gt;\n        &lt;Slider fx:id=\"slider\" layoutX=\"157.0\" layoutY=\"17.0\" orientation=\"VERTICAL\" /&gt;\n        &lt;TextField fx:id=\"textovePole\" layoutX=\"14.0\" layoutY=\"89.0\" prefWidth=\"134.0\" /&gt;\n      &lt;/children&gt;\n    &lt;/AnchorPane&gt;\n</code></pre>\n\n<p>and this is my main class:</p>\n\n<pre><code>package cz.vutbr.feec.bmds.cv2;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(\"TestGui.fxml\"));\n        primaryStage.setTitle(\"Titulek\");\n        primaryStage.setScene(new Scene(root,300,275));\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>When I run this through ant I get message box with error (exception during running application). I tried simple fxml without controller and it works so I am guesing I do something wrong with controller. What I must change to have it working?</p>\n"},{"tags":["mvc","ember.js"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":12595496,"title":"How can I build a recursive view in Ember?","body":"<p>In my application I have an item called <em>block</em> which can contain and be contained by other <em>block</em> items. To keep things simple, lets say these blocks can be infinitely nested.</p>\n\n<p>I want to know if I can create recursive views corresponding to the blocks that are also nested. Each view will be rendered as a <code>DIV</code> containing its children and residing inside its parent <code>DIV</code>?</p>\n\n<p>While the views are similar in terms of what they can contain, their actual content that will be obtained from the server can be different. Here is an example data:</p>\n\n<pre><code>App.blocks.set('content',[\n    Em.Object.create({title:\"One\", id:\"1\", is_inside:\"0\"}),\n    Em.Object.create({title:\"Two\", id:\"2\", is_inside:\"1\"}),\n    Em.Object.create({title:\"Three\", id:\"3\", is_inside:\"0\"}),\n    Em.Object.create({title:\"Four\", id:\"4\", is_inside:\"3\"}),\n    Em.Object.create({title:\"Five\", id:\"5\", is_inside:\"4\"})\n])\n</code></pre>\n\n<p>In this example, block one would be rendered as root (assume 0 is root which means not inside any other block). Block two would be rendered inside block one and so on.</p>\n\n<p>I noticed a <a href=\"http://stackoverflow.com/questions/9857781/building-a-auto-refreshing-nested-list-in-emberjs\">similar question</a> has been asked a while ago, but I am not satisfied with the answer there. I feel there must be an elegant way to achieve this in Ember.</p>\n\n<p>Can you point me to an example of how this can be done in Ember? If not, any advice that could help me make progress and refine my question would also be very appreciated.</p>\n\n<p>Edit: Here is <a href=\"http://jsfiddle.net/arasbm/nyfk8/4/\" rel=\"nofollow\">a jsFiddle</a> that I made with some initial data that we could use as starting point. With your help hopefully I can make those <code>DIVs</code> nested based on their *is_inside* relation. I have updated the post to use this simpler example.</p>\n"},{"tags":["c#","mvc","web-api"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":5303,"score":2,"question_id":9943502,"title":"URL parameters in MVC 4 Web API","body":"<p>Let say I have two methods in MVC 4 Web API controller:</p>\n\n<pre><code>public IQueryable&lt;A&gt; Get() {}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public A Get(int id) {}\n</code></pre>\n\n<p>And the following route: </p>\n\n<pre><code>routes.MapHttpRoute(\n    name: \"Default\", \n    routeTemplate: \"{controller}/{id}\",\n    defaults: new { id = RouteParameter.Optional }\n);\n</code></pre>\n\n<p>This works as expected. Adding a one more parameter, e.g.:</p>\n\n<pre><code>public IQueryable&lt;A&gt; Get(int p) {}\n\npublic A Get(int id, int p) {}\n</code></pre>\n\n<p>leads to the situation when MVC returns 404 for the following request:</p>\n\n<pre><code>GET /controller?p=100\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>GET /controller/1?p=100\n</code></pre>\n\n<p>with message \"No action was found on the controller 'controller' that matches the request\"</p>\n\n<p>I expect that URL parameters should be wired by MVC without issues, but it is not true. Is this a bug or my misunderstanding of how MVC maps request to action?</p>\n"},{"tags":["java","swing","mvc","modal-dialog"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12609652,"title":"MVC Architecture and Modal Dialog Windows","body":"<p>I am developing a project in a MVC architecture. It should be a simple application to manage some customers.</p>\n\n<p>There are MainModel, MainView and MainController classes which make the main window to show the content of the customers tables and to let the user insert, remove or edit customers.</p>\n\n<p>My problem is that the insert and edit buttons should show some dialog windows to let the user insert and edit some text values and I have some doubts.</p>\n\n<p>I would like to ask you some questions:</p>\n\n<ul>\n<li>Should I use the MVC architecture for each dialog window?</li>\n<li><p>If yes, I have tried doing it but my dialog windows are modal, so my code runs the model, runs the view but it gets blocked in the view and it doesn't run the controller class. How could I solve it?</p>\n\n<p>For example here it gets blocked in the \"new InsertCustomerController...\" instruction:</p>\n\n<pre><code>    CustomerModel customerModel = new CustomerModel();\n    InsertCustomerView insertCustomerView = new insertCustomerView(customerModel);\n    new InsertCustomerController(insertCustomerView, customerModel);\n</code></pre></li>\n</ul>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","mvc","gui","swing"],"answer_count":2,"favorite_count":30,"up_vote_count":27,"down_vote_count":0,"view_count":5940,"score":27,"question_id":3066590,"title":"GUI not working after rewriting to MVC","body":"<p>I'm practicing MVC style programming. I have a Mastermind game in a single file, working fine (maybe apart of the fact that \"Check\" button is invisible at start).</p>\n\n<p><a href=\"http://paste.pocoo.org/show/226726/\">http://paste.pocoo.org/show/226726/</a></p>\n\n<p>But when I've rewritten it to model, view, controller files - and when I click on empty Pin (that should be updated, and repainted with new color) - noting happens. Can anybody see any problems here ? I've tried placing repaint() in different places, but it simply does not work at all :/</p>\n\n<p>Main :  </p>\n\n<pre><code>public class Main { \n    public static void main(String[] args){\n        Model model = new Model();\n        View view = new View(\"Mastermind\", 400, 590, model);\n        Controller controller = new Controller(model, view); \n        view.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Model :  </p>\n\n<pre><code>import java.util.Random;\n\npublic class Model{\n    static final int\n    LINE = 5,\n    SCORE = 10, OPTIONS = 20;\n    Pin pins[][] = new Pin[21][LINE];\n    int combination[] = new int[LINE];\n    int curPin = 0;\n    int turn = 1;\n    Random generator = new Random();\n    int repaintPin;\n    boolean pinsRepaint=false;\n    int pinsToRepaint;\n    boolean isUpdate = true, isPlaying = true, isRowFull = false;\n    static final int HIT_X[] = {270,290,310,290,310}, HIT_Y[] = {506,496,496,516,516};\n\n    public Model(){\n\n        for ( int i=0; i &lt; SCORE; i++ ){\n            for ( int j = 0; j &lt; LINE; j++ ){\n                pins[i][j] = new Pin(20,0);\n                pins[i][j].setPosition(j*50+30,510-i*50);\n                pins[i+SCORE][j] = new Pin(8,0);\n                pins[i+SCORE][j].setPosition(HIT_X[j],HIT_Y[j]-i*50);\n            }\n        }\n        for ( int i=0; i &lt; LINE; i++ ){\n            pins[OPTIONS][i] = new Pin( 20, i+2 );\n            pins[OPTIONS][i].setPosition( 370,i * 50 + 56);\n        }\n\n    }\n\n    void fillHole(int color) {\n        pins[turn-1][curPin].setColor(color+1);\n        pinsRepaint = true;\n        pinsToRepaint = turn;\n        curPin = (curPin+1) % LINE;\n        if (curPin == 0){\n            isRowFull = true;\n        }\n        pinsRepaint = false;\n        pinsToRepaint = 0;\n    }\n\n    void check() {\n        int junkPins[] = new int[LINE], junkCode[] = new int[LINE];\n        int pinCount = 0, pico = 0;\n\n        for ( int i = 0; i &lt; LINE; i++ ) {\n            junkPins[i] = pins[turn-1][i].getColor();\n            junkCode[i] = combination[i];\n        }\n        for ( int i = 0; i &lt; LINE; i++ ){\n            if (junkPins[i]==junkCode[i]) {\n                pins[turn+SCORE][pinCount].setColor(1);\n                pinCount++;\n                pico++;\n                junkPins[i] = 98;\n                junkCode[i] = 99;\n            }\n        }\n        for ( int i = 0; i &lt; LINE; i++ ){\n            for ( int j = 0; j &lt; LINE; j++ )\n                if (junkPins[i]==junkCode[j]) {\n                    pins[turn+SCORE][pinCount].setColor(2);\n                    pinCount++;\n                    junkPins[i] = 98;\n                    junkCode[j] = 99;\n                    j = LINE;\n            }\n        }\n        pinsRepaint = true;\n        pinsToRepaint = turn + SCORE;\n        pinsRepaint = false;\n        pinsToRepaint=0;\n\n        if ( pico == LINE ){\n            isPlaying = false;\n        }\n        else if ( turn &gt;= 10 ){\n                isPlaying = false;\n        }\n        else{\n            curPin = 0;\n            isRowFull = false;\n            turn++;\n        }\n    }\n\n    void combination() {\n        for ( int i = 0; i &lt; LINE; i++ ){\n          combination[i] = generator.nextInt(6) + 1;\n        }\n    }\n}\n\nclass Pin{\n    private int color, X, Y, radius;\n\n    public Pin(){\n        X = 0; Y = 0; radius = 0; color = 0;\n    }\n\n    public Pin( int r,int c ){\n        X = 0; Y = 0; radius = r; color = c;\n    }\n\n    public int getX(){\n        return X;\n    }\n\n    public int getY(){\n        return Y;\n    }\n\n    public int getRadius(){\n        return radius;\n    }\n\n    public void setRadius(int r){\n        radius = r;\n    }\n\n    public void setPosition( int x,int y ){\n        this.X = x ;\n        this.Y = y ;\n    }\n    public void setColor( int c ){\n        color = c;\n    }\n    public int getColor() {\n        return color;\n    }\n}\n</code></pre>\n\n<p>View:  </p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class View extends Frame{  \n    Model model;\n    JButton checkAnswer;\n    private JPanel button;\n    private static final Color COLORS[] = {Color.black, Color.white, Color.red, Color.yellow, Color.green, Color.blue, new Color(7, 254, 250)};\n\n    public View(String name, int w, int h, Model m){\n        model = m;\n        setTitle( name );\n        setSize( w,h );\n        setResizable( false );\n        this.setLayout(new BorderLayout());\n\n        button = new JPanel();\n        button.setSize( new Dimension(400, 100));\n        button.setVisible(true);\n        checkAnswer = new JButton(\"Check\");\n        checkAnswer.setSize( new Dimension(200, 30));\n        button.add( checkAnswer );\n        this.add( button, BorderLayout.SOUTH);\n        button.setVisible(true);\n    }\n\n    @Override\n    public void paint( Graphics g ) {\n        g.setColor( new Color(238, 238, 238));\n        g.fillRect( 0,0,400,590);\n\n        for ( int i=0; i &lt; model.pins.length; i++ ) {\n            paintPins(model.pins[i][0],g);\n            paintPins(model.pins[i][1],g);\n            paintPins(model.pins[i][2],g);\n            paintPins(model.pins[i][3],g);\n            paintPins(model.pins[i][4],g);\n        }\n    }\n\n    @Override\n    public void update( Graphics g ) {\n        if ( model.isUpdate ) {\n            paint(g);\n        }\n        else {\n            model.isUpdate = true;\n            paintPins(model.pins[model.repaintPin-1][0],g);\n            paintPins(model.pins[model.repaintPin-1][1],g);\n            paintPins(model.pins[model.repaintPin-1][2],g);\n            paintPins(model.pins[model.repaintPin-1][3],g);\n            paintPins(model.pins[model.repaintPin-1][4],g);\n        }\n    }\n\n    void repaintPins( int pin ) {\n        model.repaintPin = pin;\n        model.isUpdate = false;\n        repaint();\n    }\n\n    public void paintPins(Pin p, Graphics g ){\n        int X = p.getX();\n        int Y = p.getY();\n        int color = p.getColor();\n        int radius = p.getRadius();\n        int x = X-radius;\n        int y = Y-radius;\n\n        if (color &gt; 0){\n            g.setColor( COLORS[color]);\n            g.fillOval( x,y,2*radius,2*radius );\n        }\n        else{\n            g.setColor( new Color(238, 238, 238) );\n            g.drawOval( x,y,2*radius-1,2*radius-1 );\n        }\n        g.setColor( Color.black );\n        g.drawOval( x,y,2*radius,2*radius );\n    }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\npublic class Controller implements MouseListener, ActionListener { \n    private Model model;\n    private View view;\n\n    public Controller(Model m, View v){ \n        model = m;\n        view = v;\n\n        view.addWindowListener( new WindowAdapter(){\n            public void windowClosing(WindowEvent e){\n            System.exit(0);\n        } });\n        view.addMouseListener(this);\n        view.checkAnswer.addActionListener(this);\n        model.combination();\n    }\n\n    public void actionPerformed( ActionEvent e ) {\n        if(e.getSource() == view.checkAnswer){\n            if(model.isRowFull){\n                model.check();\n            }\n        }\n    }\n\n    public void mousePressed(MouseEvent e) {\n        Point mouse = new Point();\n\n        mouse = e.getPoint();\n        if (model.isPlaying){\n            if (mouse.x &gt; 350) {\n                int button = 1 + (int)((mouse.y - 32) / 50);\n                if ((button &gt;= 1) &amp;&amp; (button &lt;= 5)){\n                    model.fillHole(button);\n                    if(model.pinsRepaint){\n                        view.repaintPins( model.pinsToRepaint );\n                    }\n                }\n            }\n        }\n    }\n\n    public void mouseClicked(MouseEvent e) {}\n    public void mouseReleased(MouseEvent e){}\n    public void mouseEntered(MouseEvent e) {}\n    public void mouseExited(MouseEvent e)  {}\n}\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","asp.net-membership","extension-methods"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12593665,"title":"ASP.NET MVC 3 Controller Extension Method","body":"<p>I am new to mvc 3 and I'm using it with the asp.net membership provider....so I'd like to create an extension method to let me get the logged user GUID from any controller whitin my website</p>\n\n<p>Something like that:</p>\n\n<pre><code>    public static Guid GetLoggedUser(this Controller controller)\n    {\n        return (Guid)Membership.GetUser(controller.User.Identity.Name).ProviderUserKey.ToString();\n    }\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["mvc","joomla","joomla-extensions","joomla-component"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":876,"score":1,"question_id":9711125,"title":"Joomla component : one view calling multiple models?","body":"<p>I want a view to call 2 different models for use.</p>\n\n<p>Controller.php</p>\n\n<pre><code>class StatsController extends JController {\n    function display()\n     {\n        if( !JRequest::getVar( 'view' ) ) {\n            JRequest::setVar('view', 'stats' );\n        }\n        parent::display();\n    }\n    ...\n    ...\n}\n</code></pre>\n\n<p><strong>Stats</strong> view : (index.php?option=com_stats&amp;view=stats)</p>\n\n<pre><code>class StatsViewStats extends JView\n{\n    function display($tpl = null)\n    {\n        $model_helpdesk = &amp; JModel::getInstance('Helpdesk','StatsModel');\n    //$model_chart =  &amp; JModel::getInstance('Chart','StatsModel'); \n    //$model_chart =  &amp;$this-&gt;getModel('Chart');\n    var_dump($model_chart);\n    ...\n    ...\n        parent::display($tpl);\n    }\n}\n</code></pre>\n\n<p>Problem : getting the <strong>Helpdesk model</strong> works fine, but getting the <strong>Chart model</strong> either returns a blanc page , or returns null in <strong>var_dump</strong>. How can i get this second model for use (without modifying the controller) ??</p>\n"},{"tags":["spring","mvc","model","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12602957,"title":"Spring - Specify Implementation class of Model within Controller methods","body":"<p>For the most part I'm trying to code to interfaces as much as possible.  But I'm having problems with a Spring Controller method signature.  If I actually write the signature using the Model's interface, I end up getting the following exception:</p>\n\n<pre><code>BeanInstantiationException: Could not instantiate bean class[PageModel]: Specified class is an interface\n</code></pre>\n\n<p>Granted, I know that it's an interface, and if I change it to the actual implementation class, it works just fine.  But is there no way to code to the interface?  An annotation or something to tell Spring which bean to instantiate?  btw, I'm using annotation configuration.</p>\n\n<pre><code>@RequestMapping(\"SpecificPageController\")\npublic interface PageController {\n\n    @RequestMapping({\"\", \"/load\"})\n    ModelAndView load(@ModelAttribute(\"model\") PageModel model);\n}\n\n@Controller\npublic class SpecificPageController implements PageController {\n\n    @Override\n    public ModelAndView load(final PageModel model) {\n    }\n}\n\npublic interface PageModel {\n    ... getters and setters...\n}\n\npublic class ModelImpl implements PageModel {\n    ... variables, getters, setters...\n}\n</code></pre>\n"},{"tags":["asp.net","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":114,"score":2,"question_id":4077123,"title":"ASP.NET C# Truncate","body":"<p>I have the following content stored inside a database column:</p>\n\n<pre><code>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\n</code></pre>\n\n<p>It is displayed using the following: <code>&lt;%= m.article %&gt;</code></p>\n\n<p>What I would like to do is strip out the <code>&lt;p&gt;</code> tags and then only show say 40 characters and end it with ... so that I would end up with something like:</p>\n\n<pre><code>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat...\n</code></pre>\n\n<p>I remember reading that using <code>Html.Encode</code> would strip the HTML tags, but not 100% sure about that, and not sure how to combine this with a way of truncating the content to 40 characters. If someone could help me with this that'd be awesome. Thanks.</p>\n"},{"tags":["php","oop","mvc","setter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12606973,"title":"Alter variable directly or use a setter function?","body":"<p>Which is best practice when setting a variable such as a page title tag from within the page controller?</p>\n\n<p>I have:</p>\n\n<pre><code>class About extends Controller {\n\npublic function Index()\n{\n    $this-&gt;view-&gt;pageTitle = 'test 123' ;\n    $this-&gt;view-&gt;metaDescription = 'Description here' ;\n    $this-&gt;view-&gt;metaKeywords = 'dog, cat, monkey' ;\n    $this-&gt;view-&gt;render('about/about') ;\n}\n}\n</code></pre>\n\n<p>Or should I use a setter function like:</p>\n\n<pre><code>$this-&gt;view-&gt;setPageTitle('My Title') ;\n</code></pre>\n"},{"tags":["mvc","jquery-ajax","playframework","playframework-1.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12542541,"title":" ajax call from view to controller in Play framework","body":"<p>I am newbie to MVC and Play framework (Java). Instead of using Groovy for dynamic HTML, I made our own page with static HTML, I mean we haven't any Groovy expressions. Here, I have a controller \"Customer\", generates JSON object which has to be sent to an ajax call in view. I tried with render() method, seems I haven't used correctly. can you give me some idea to forward from here. thanks. </p>\n\n<pre><code>public static void customer(){\n    WordAPI objWordAPI=new WordAPI();\n    List&lt;WordInfo&gt; listObjWord= objWordAPI.MakeAPIObject(nSurveyId);\n    JSONSerializer modelSerializer=new JSONSerializer().exclude(\"NSpontanity\",\"NWordRepresentativity\",\"NWordValue\",\"NWordFrequency\",\"class\").rootName(\"Words\");\n    render(\"Application/wordcloud.html\",modelSerializer.serialize(listObjWord));\n  }\n</code></pre>\n\n<p>and ajax call in view \"wordcloud.html\"</p>\n\n<pre><code>$.ajax({\n    url: \"/customer\",\n    dataType : 'json',\n    success: function (data) {\n        alert(data);\n             }\n        })\n</code></pre>\n"},{"tags":["mvc","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12484708,"title":"Appending to list not updating on pull to refresh","body":"<p>I am still new to ST so I am probably doing several things wrong here but I can't figure out where the problems are. </p>\n\n<p><strong>Problem 1</strong>\nwhen I use the pull to refresh plug-in, I get double the data instead of it just refreshing the data. I have seen to use a propertyId and so I did to no avail. This should be simple so probably something silly I'm doing wrong.</p>\n\n<p><strong>Problem 2</strong>\nI am trying to figure out the most efficient way to use the MVC architecture and I have read through the documentation and many examples. So, I don't know if I am just not understanding clearly or need a better example. I am trying to create a simple app for now with a list that I can tap on an item and get a detailed view of that item. I will later evolve it into a more robust monster but for now I am trying to understand the basics. I finally got my close button to close the detail view when I click a list item but then I can no longer get a detail view when tapping another item. I have read that this is due to 'autoDestroy: off' not being present but I tried that, also with no luck. I want to be able to create certain buttons like 'close' that I can put in multiple views and just have to have the logic in the controllers.</p>\n\n<p><strong>Main View</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.view.DistributorView', {\n     //      extend: 'Ext.form.Panel',\n     extend: 'Ext.Container',\n       requires: ['SenchaFirstApp.store.DistributorStore', 'Ext.dataview.List', 'Ext.Toolbar', 'Ext.form.Panel'],\n       model: 'SenchaFirstApp.model.Distributors',\n       alias: 'widget.mainlist',\n       xtype: 'mainlist',\n       config:\n       {\n           layout: 'fit',\n           border: 5,\n           title: 'Distributors',\n           html: 'My datalist',\n           autoDestroy: false,\n           items:[{\n\n               xtype: 'toolbar',\n               docked: 'top',\n               title: 'Distributor List',\n               height: 40,\n               centered: true,\n               items: [\n                {\n                    xtype: 'button',\n                    text: 'Close',\n                    width: 100,\n                    height: 20, \n                    name: 'close',\n            //      iconCls: 'delete',\n                }]\n               },\n           {\n           autoLoad: true,\n           html: ['&lt;div class=\"distr\"&gt;&lt;table&gt;&lt;tr&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Distributor&lt;/th&gt;&lt;th&gt;Site&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;th&gt;Active&lt;/th&gt;&lt;th&gt;Assigned&lt;/th&gt;&lt;th&gt;State                             &lt;/th&gt;&lt;th&gt;Schedule&lt;/th&gt;&lt;th&gt;Finished&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;'],\n           itemTpl: [ '&lt;div class=\"distr\"&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;{t}&lt;/td&gt;&lt;td&gt;{distr}&lt;/td&gt;&lt;td colspan=\"2\"&gt;{site}&lt;/td&gt;&lt;td&gt;{status}&lt;/td&gt;                                                       &lt;td&gt;{active}&lt;/td&gt;&lt;td&gt;{assigned}&lt;/td&gt; &lt;td&gt;{state}&lt;/td&gt;&lt;td&gt;{schedule}&lt;/td&gt;&lt;td&gt;{finished}&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;' ],\n           xtype: 'list',\n           store: 'DistrID', \n            plugins: [\n    {\n        xclass: 'Ext.plugin.PullRefresh',\n        pullRefreshText: 'Pull down to refresh Distributor List'\n    }],\n           ui: 'showDetails',\n           id: 'mainlist',\n           autoDestroy: false,\n           }          \n        ]\n       },          \n     });\n</code></pre>\n\n<p><strong>Detailed View</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.view.DetailView',{\n      extend: 'Ext.Panel',\n      requires: ['Ext.Toolbar'],\n      model: 'SenchaFirstApp.model.Distributors',\n      alias: 'widget.detailview',\n      xtype: 'detailview',\n      name: 'detail',\n\n\n    config:{\n         html: 'This will contain detailed information',\n          xtype: 'panel',\n    //    fullscreen: false,\n          centered: true,\n          modal: false,\n          scrollable: true,\n          width: 300,\n          height: 200,\n      },\n       });\n</code></pre>\n\n<p><strong>Store</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.store.DistributorStore', {\n                        extend: 'Ext.data.Store',\n                        requires: ['SenchaFirstApp.model.Distributors'],\n\n                        config: {\n                        //  xtype: 'distrlist',\n                            storeId: 'DistrID',\n                        model: 'SenchaFirstApp.model.Distributors',\n                        autoLoad: true,\n                        proxy: {\n                            type: 'jsonp',\n                            url:'https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&amp;q=http://gdata.youtube.com/feeds/api/users/hobbitin5/uploads&amp;num=4',\n                            reader: {\n                                type: 'json',\n                                rootProperty: 'responseData.feed.entries'\n                            }\n                        }\n                            }\n</code></pre>\n\n<p><strong>Controller to get detailed view</strong></p>\n\n<pre><code> Ext.define('SenchaFirstApp.controller.DistributorsController',{\n       extend: 'Ext.app.Controller',\n       config: \n       {\n           refs: \n           {\n               mainlist: '#mainlist',\n           },\n           control: \n           {\n               mainlist: {\n                   itemtap: 'dispDetail'\n               },\n           },\n\n       //when item is tapped\n         listeners: {\n                itemtap: function(list, index, items, record)\n               {\n                   console.log('An item was tapped and the listener heard it');\n               }\n           }\n        },\n        dispDetail: function(view, record) {\n                console.log('Item was tapped on the Data View');\n                var oldView = this.getMainlist();       \n                var curRecord = oldView.getStore(record);\n                var newView = Ext.create('SenchaFirstApp.view.DetailView');\n                console.log(curRecord);\n                curRecord += 'other stuff';\n                newView.setHtml(curRecord);\n                newView.add(\n        {\n         xtype:  'toolbar',\n         docked: 'top',\n         title: 'Details',\n         height: 40,\n         items: [\n        {\n          xtype: 'button',\n          text: 'Close',\n          width: 100,\n          height: 20,   \n          name: 'close',\n        }]\n\n        }\n      )\n                oldView.add(newView);\n            //  Ext.Viewport.add(newView)\n            //  Ext.Viewport.setActiveItem(newView)\n        }\n\n       });\n</code></pre>\n\n<p><strong>Controller for buttons (just close for now)</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.controller.NavController', {\n       extend: 'Ext.app.Controller',\n       config: \n       {\n            refs: \n            {\n                 mainlist: 'mainlist',\n                 main: '#mainlist',\n                closeBtn: 'button[name=close]',\n                detaillist: {\n                    selector: 'panel panel[name=detail] deetaillist',\n                    xtype: 'detailview',\n                }\n            }, \n            control:\n            {\n                closeBtn: {\n                    tap: 'closeView',\n                },\n\n                mainlist: {\n                    tap: 'closeView',\n                },\n                detaillist: {\n                    tap: 'closeView',\n                }\n            }\n       },\n\n       closeView: function(){\n\n            var newView = this.getMainlist();\n        //  var child = Ext.Viewport.getActiveItem();\n            var child = this.getDetaillist();\n            var instance = Ext.getCmp('mainlist');\n            var activeIndex = instance.indexOf(instance.getActiveItem());\n            var curIndex = activeIndex+1;\n            var closeView = this.getDetaillist();\n            console.log('Close btn clicked' + ' child: ' + this.child +  ' activeIndex: ' + activeIndex);\n          // Ext.Viewport.destroy(closeView); //(child);\n          newView.remove(child);\n          newView.destroy();\n          Ext.Viewport.add(Ext.create('SenchaFirstApp.view.DistributorView'));\n`          }\n\n\n})`;\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>Ext.define('SenchaFirstApp.model.Distributors', {\n       extend: 'Ext.data.Model',\n       config: {\n           idProperty: 'DistrID',\n             fields: [\n                {name: 'DistrID'},\n                {name: 't', type: 'string'},\n                {name: 'distr', type: 'string'},\n                {name: 'group', type: 'string'},\n                {name: 'site', type: 'string'},\n                {name: 'status', type: 'string'},\n                {name: 'active', type: 'string'},\n                {name: 'assigned', type: 'string'},\n                {name: 'state', type: 'string'},\n                {name: 'schedule', type: 'string'},\n                {name: 'finished', type: 'string'},\n                //{mapping: 't',\n                // name: 'DistrID'}\n                ],\n       }\n       });\n</code></pre>\n\n<p>I understand that is a lot but any help is appreciated...even a nudge in the right direction. Thanks in advance! Also, I'm sure there is stuff in there that doesn't need to be as I've had trouble locating good examples for what I am trying to accomplish so I have pieces here and there from different examples that I've tried to get to play nice together :(</p>\n"},{"tags":["mvc","networking","graphics","language-agnostic","vector-graphics"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12599643,"title":"Does there exist a communication based vector drawing platform?","body":"<p>I have an idea for a programmatic vector drawing platform, but I would rather not implement it myself if it exists. The platform should be language agnostic, and approximate the following description of some of its properties:</p>\n\n<ol>\n<li>a server that manages the states of a set of vector displays, and communicates with:</li>\n<li>a class of clients connecting to send drawing instructions to these displays</li>\n<li>a class that connects to view the state of some drawing context and send keyboard/mouse events</li>\n<li>a class that is listening for events, and possibly communicating back with the class of clients described by #2 independent from the graphics server.</li>\n<li>Ideally #1 is cross platform, and the client side of #3 would have a browser based viewer</li>\n</ol>\n\n<p>Does something like this exist already? </p>\n"},{"tags":["javascript","mvc","rest","backbone.js"],"answer_count":5,"favorite_count":13,"up_vote_count":35,"down_vote_count":0,"view_count":13170,"score":35,"question_id":5097107,"title":"How do I fetch a single model in Backbone?","body":"<p>I have a <code>Clock</code> model in Backbone:</p>\n\n<pre><code>var Clock = Backbone.Model.extend({});\n</code></pre>\n\n<p>I'm trying to get an instance of that that has the latest information from <code>/clocks/123</code>. Some things I've tried:</p>\n\n<h3>a \"class\"-level method</h3>\n\n<pre><code>Clock.fetch(123)\n// TypeError: Object function (){ ... } has no method 'fetch'\n</code></pre>\n\n<h3>creating an instance and then calling <code>fetch</code> on it:</h3>\n\n<pre><code>c = new Clock({id: 123})\nc.fetch()\n// Error: A 'url' property or function must be specified\n</code></pre>\n\n<h3>a collection</h3>\n\n<p>I tried creating an <code>AllClocks</code> collection resource (even though I have no use for such a thing on the page):</p>\n\n<pre><code>var AllClocks = Backbone.Collection.extend({\n  model: Clock,\n  url: '/clocks/'\n});\nvar allClocks = new AllClocks();\nallClocks.fetch(123);\n// returns everything from /clocks/\n</code></pre>\n\n<p>How do I just get <strong>one</strong> API-backed Clock?</p>\n"},{"tags":["iphone","mvc","mvp"],"answer_count":4,"favorite_count":7,"up_vote_count":7,"down_vote_count":0,"view_count":484,"score":7,"question_id":3845951,"title":"Discuss on MVC implementation on iPhone","body":"<p>Im a using the MVC pattern for a while on different frameworks such as (swing, android, gwt ...)\nNow, I'm learning the iPhone framework and I am quite surprised about MVC implementation. The questions I am asking are about the view and controller interaction.</p>\n\n<p>First of all, that's the way I conceive the MVC pattern : </p>\n\n<ul>\n<li><p>The view and the controller communicate each other through an interface (one for the view and an other one for the controller)</p></li>\n<li><p>In my conception of the MVC pattern, the controller do not have to know the attribute of the view. (for instance, the controller can't have a label attribute instance of the view but can ask the view to change the value of this label via a method of the view interface)</p></li>\n</ul>\n\n<p>The advantage of not letting the controller directly work on view UI elements is a low coupling and therefore it is possible to test the view easier. The view can be launched and tested on isolation ( or with a mock controller ).</p>\n\n<p>The point is, on iPhone the controllers (ViewController for instance) know directly the UI elements hence my incomprehension.\nMy goal is not to criticise a framework I'm just learning. But if this is really working as I described it, I don't find that really clean...</p>\n\n<p>Is there anybody more experimented with this framework who can give me details / explication ? Or if you feel disagree with my MVC approach, tell me ;)</p>\n\n<p>What's more, I am asking if my approach is not neareast to MVP (described here : <a href=\"http://code.google.com/intl/fr/webtoolkit/articles/testing_methodologies_using_gwt.html\" rel=\"nofollow\">http://code.google.com/intl/fr/webtoolkit/articles/testing_methodologies_using_gwt.html</a>) than MVC.</p>\n"},{"tags":["c#","mvc","mvccontrib","portable-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12477344,"title":"Can I send a message from the web app to a portable area on MvcContrib.Bus","body":"<p>Before I get too stuck in, I wondered if anyone had done this.</p>\n\n<p>All the examples I look at of MvcContrib.Bus show the message being sent by the portable area, to the host.  I would like to be able to then send a message back from the host to the portable area and wondered if this was possible.</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","model-binding","enum-flags"],"answer_count":2,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":1629,"score":5,"question_id":9264927,"title":"Model Bind List of Enum Flags","body":"<p>I have a grid of Enum Flags in which each record is a row of checkboxes to determine that record's flag values.  This is a list of notifications that the system offers and the user can pick (for each one) how they want them delivered:</p>\n\n<pre><code>[Flag]\npublic enum NotificationDeliveryType\n{\n  InSystem = 1,\n  Email = 2,\n  Text = 4\n}\n</code></pre>\n\n<p>I found this <a href=\"http://stackoverflow.com/questions/4194333/mvc-2-passing-enum-to-checkboxfor\">article</a> but he's getting back a single flag value and he's binding it in the controller like this (with a days of the week concept):</p>\n\n<pre><code>[HttpPost]\npublic ActionResult MyPostedPage(MyModel model)\n{\n  //I moved the logic for setting this into a helper \n  //because this could be re-used elsewhere.\n  model.WeekDays = Enum&lt;DayOfWeek&gt;.ParseToEnumFlag(Request.Form, \"WeekDays[]\");\n  ...\n}\n</code></pre>\n\n<p>I can't find anywhere that the MVC 3 model binder can handle flags. Thanks!</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":12599090,"title":"Ajax.BeginForm OnFailure invoked when ModelState is InValid","body":"<p>I want to call \"OnFailure\" when ModelState is not valid in controller.</p>\n\n<p>In My LoginView </p>\n\n<pre><code> @using (Ajax.BeginForm(\"Login\", new AjaxOptions { HttpMethod = \"POST\", UpdateTargetId = \"Login\",InsertionMode = InsertionMode.Replace, OnSuccess = \"Success\", OnFailure = \"onError\" }))\n {\n\n } \n</code></pre>\n\n<p>In Controller </p>\n\n<pre><code>[httpPost]\npublic ViewResult Login(LoginModel model)\n{\n   if (ModelState.IsValid)\n   {\n\n   }\n   else\n   { \n     ModelState.AddModelError(\"login is fail\")\n   }\n   return View(\"Login\",model)\n}\n</code></pre>\n\n<p>so i want call onSuccess Method if ModelState is valid and if it fail then call only OnError method with display all error which are in Model State.</p>\n"},{"tags":["objective-c","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12568992,"title":"Controller, View, Delegation - how to design properly","body":"<p>Searched other questions but still no answer ...\nNeed some advise.\nI am porting my code from another platform to iOS.\nI have an MVC backbone in C++ : \nCData for model. \nCController for controller. </p>\n\n<ul>\n<li>CController creates an instance of CData</li>\n<li>CController creates an instance of CView</li>\n<li>CController inherits from CNotifications abstract</li>\n<li>CController passes \"this\" to constructor of CView</li>\n<li>CView expects CNotifications* in the  constructor and this is how the CView can call the controller back on some important events without actually be aware of the CController itself</li>\n</ul>\n\n<p>On Windows CView would simply access GDI to draw whatever was needed.   </p>\n\n<p>Now I am porting all this to iOS. CData and CController are completely platform independent so all clear. I was going to just re-implement the CView over iOS. And this is where the problem is.</p>\n\n<p>At the start I wanted my ViewController of ios ( the owner of the xib ) just to inherit from CView and implement all CController needs. But then I noticed that there is no multiple inheritance in Obj-C and the ViewController already inherits from UIViewController.</p>\n\n<p>So it seems I need to implement CView in such a way that it has a pointer to ViewController( the owner of the xib ).</p>\n\n<p>And the question is : how to nicely pass to CView a pointer to ViewController ?</p>\n\n<p>I planned the ApplicationDelegate to create the CController which would create the CData and the the CView. I dont want CController to receive a pointer to ViewController and then pass this pointer further to CView - I want CController stay portable...</p>\n\n<p>There are all sorts of things coming into head but I was hoping to get here a widely-acceptable approach</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","arrays","mvc","paginate"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12600752,"title":"paginate array from model in view php mvc","body":"<p>I am making a search form that pulls user data in multi-dimensional arrays from the model, I cant seem to figure out how to paginate it, in an MVC style set up. The model sends the array of unknown length, since there are several search fields which are all optional, to the view. It is <code>$_POST</code> data so I would lose the data when I refresh the page. </p>\n\n<p>Here is a simplified version of array...</p>\n\n<pre><code>Array\n(\n[0] =&gt; Array\n    (\n        [id] =&gt; 1\n\n        [username] =&gt; Rebequa\n\n        [city] =&gt; arlington\n\n        [state] =&gt; va\n\n    )\n\n[1] =&gt; Array\n    (\n        [id] =&gt; 2\n\n        [username] =&gt; steve\n\n        [city] =&gt; \n\n        [state] =&gt; \n\n    )\n\n[2] =&gt; Array\n    (\n        [id] =&gt; 6\n\n        [username] =&gt; Rebequa2\n\n        [city] =&gt; arlington\n\n        [state] =&gt; va\n\n    )\n)\n</code></pre>\n"},{"tags":["mvc","magento","controller","magento-1.7","referer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12599945,"title":"magento approach saving referer url and keywords","body":"<p>My goal is to save on database the url referer and keywords when entering on any page of our store. I <a href=\"http://stackoverflow.com/questions/4006183/magento-passing-data-between-a-controller-and-a-block\">checked this question and its answer</a> to try to get some light into my problem.</p>\n\n<p>The approach I'm following is:</p>\n\n<ol>\n<li><p>To have a block that will stick on the default layout so it will be loaded on each page (tested, is working). This block will read the referer by using the following code:</p>\n\n<p>$request['url'] = $this->getRequest()->getServer('HTTP_REFERER');</p></li>\n<li><p>Then call function passing the $request to a controller:\nThis step I still do not know how to do it, using redirect? Or maybe by calling a dispatchEvent and on the controller having a <code>postAction</code> function?</p>\n\n<pre><code>//on the phtml file\n&lt;div&gt;\n     &lt;?php\n          $request['url'] = getRequest()-&gt;getServer(‘HTTP_REFERER’);\n          Mage::dispatchEvent(\"allpagescontroller\", $request);\n     ?&gt;\n&lt;/div&gt;\n</code></pre></li>\n<li><p>The controller will instantiate my model and call the setters to update/insert neeeded values</p>\n\n<pre><code>//on the controller\nfunction postAction ($params)\n{\n    $referer = $this-&gt;getRequest()-&gt;getPost();\n}\n</code></pre></li>\n<li><p>On the model I will have all the appropiate code to do the CRUD operations</p></li>\n</ol>\n\n<p>Is this correct? I'm trying to follow the Magento MVC approach by following these steps. For now I've all the code on the phtml file. I'm getting the referer, splitting it and instantiating the model to save everything. But I know this is not correct.</p>\n\n<p>On config.xml for now I have:</p>\n\n<blockquote>\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;config&gt;\n    &lt;modules&gt;\n        &lt;Dts_Allpages&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;/Dts_Allpages&gt;\n    &lt;/modules&gt;\n    &lt;global&gt;\n      &lt;models&gt;\n          &lt;allpages&gt;\n              &lt;class&gt;Dts_Allpages_Model&lt;/class&gt;\n              &lt;resourceModel&gt;allpages_mysql4&lt;/resourceModel&gt;\n          &lt;/allpages&gt;\n          &lt;allpages_mysql4&gt;\n                  &lt;class&gt;Dts_Allpages_Model_mysql4&lt;/class&gt;\n                &lt;entities&gt;\n                  &lt;keywords&gt;\n                      &lt;table&gt;keywords&lt;/table&gt;\n                  &lt;/keywords&gt;\n                  &lt;referencedpages&gt;\n                      &lt;table&gt;referencedpages&lt;/table&gt;\n                  &lt;/referencedpages&gt;\n              &lt;/entities&gt;\n          &lt;/allpages_mysql4&gt;\n        &lt;/models&gt;\n        &lt;blocks&gt;\n            &lt;allpages&gt;\n                &lt;class&gt;Dts_Allpages_Block&lt;/class&gt;\n            &lt;/allpages&gt;\n        &lt;/blocks&gt;\n        &lt;helpers&gt;\n            &lt;allpages&gt;\n                &lt;class&gt;Dts_Allpages_Helper&lt;/class&gt;\n            &lt;/allpages&gt;\n        &lt;/helpers&gt;\n        &lt;resources&gt;\n            &lt;allpages_write&gt;\n                &lt;connection&gt;\n                    &lt;use&gt;core_write&lt;/use&gt;\n                &lt;/connection&gt;\n            &lt;/allpages_write&gt;\n            &lt;allpages_read&gt;\n                &lt;connection&gt;\n                    &lt;use&gt;core_read&lt;/use&gt;\n                &lt;/connection&gt;\n            &lt;/allpages_read&gt;\n        &lt;/resources&gt;\n    &lt;/global&gt;&gt;\n    &lt;frontend&gt;\n      &lt;routers&gt;\n          &lt;allpages&gt;\n              &lt;use&gt;standard&lt;/use&gt;\n              &lt;args&gt;\n                  &lt;module&gt;Dts_Allpages&lt;/module&gt;\n                  &lt;frontName&gt;allpages&lt;/frontName&gt;\n              &lt;/args&gt;\n          &lt;/allpages&gt;\n      &lt;/routers&gt;\n        &lt;layout&gt;\n            &lt;updates&gt;\n                &lt;allpages&gt;\n                    &lt;file&gt;allpages.xml&lt;/file&gt;\n                &lt;/allpages&gt;\n            &lt;/updates&gt;\n        &lt;/layout&gt;\n    &lt;/frontend&gt;  \n&lt;/config&gt;\n</code></pre>\n</blockquote>\n"},{"tags":["forms","spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12597627,"title":"how do I prevent spring mvc overwriting sessionattributes from request","body":"<p>I have an MVC spring application where the user logs on, this stores a User @SessionAttribute , which I refer to subsequently e.g. when updating a Customer object in a POST request I want the session User info to add to this object.\nMy problem is when I access the @ModelAttribute(\"user\") User object in the customer POST, spring has bound request parameters into it i.e. the User.name has the value of the Customer.name from the submitted form.</p>\n\n<p>NB I've kind of hacked this in that all controllers are subclasses of my AppController, which is where the @SessionAttributes are declared. But the principle would be the same if it was a single controller.</p>\n\n<p>So can I prevent spring binding form:customer name value to User.name?   </p>\n\n<p>(I suspect webflow would be a more suitable framework for this, but don't have the time available right now to rewrite using this)</p>\n"},{"tags":["javascript","html","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":12598021,"title":"How do I refresh an html element?","body":"<p>I've tried searching for any possible solutions to my question but none of what I've seen so far works. Anyway, I'm using MVC 3 and I have a form called Add Event. On that page, I have a dropdownlist that contains a list of locations that the user can choose from. I have a link just below that dropdownlist that would allow a user to add a new location. Now, I have the textboxes, dropdowns, etc for creating a new location in a partial view which would appear below the dropdownlist when I click on the link.</p>\n\n<p>Anyway, I need to refresh, just the dropdownlist so that when I add a new Location, it goes right on the list. What happens right now is after I click on save, the partial view hides itself and I still need to refresh the entire page to get the new location on the dropdown list which would then, remove everything I typed in on texboxes and dropdownlists on the same page.</p>\n\n<p>How can I do this using javascript/ajax?</p>\n"},{"tags":["mvc","model-binding","selectlist"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1764,"score":3,"question_id":2917141,"title":"Binding to a SelectList in MVC","body":"<p>Once again I'm confronted with a \"This shouldn't be this ?*!# hard\" situation.</p>\n\n<p>Problem: I want to use a form in MVC for creation of an object. One of the elements of the object is a set of limited choices - a perfect candidate for a drop down list.</p>\n\n<p>But if I use a SelectList in my model, and a drop down list in my View, and then try to post the Model back to my Create method, I get the error \"Missing Method Exception:No Parameterless constructor for this object\".  Exploring the MVC source code, it appears that in order to bind to a model, the Binder has to be able to create it first, and it can't create a SelectList because there is no default constructor for it.</p>\n\n<p>Here's the simplified code:\nFor the model:</p>\n\n<pre><code> public class DemoCreateViewModel\n{\n    public SelectList Choice { get; set; }\n\n}\n</code></pre>\n\n<p>For the controller:</p>\n\n<pre><code>      //\n    // GET: /Demo/Create\n\n    public ActionResult Create()\n    {\n        DemoCreateViewModel data = new DemoCreateViewModel();\n        data.Choice = new SelectList(new string[] { \"Choice1\", \"Choice2\", \"Choice3\" });\n        ViewData.Model = data;\n        return View();\n    }\n\n    //\n    // POST: /Demo/Create\n\n    [HttpPost]\n    public ActionResult Create(DemoCreateViewModel form)\n    {\n        try\n        {\n            // TODO: Add insert logic here\n\n            return RedirectToAction(\"Index\");\n        }\n        catch\n        {\n            return View();\n        }\n    }\n</code></pre>\n\n<p>And for the View:</p>\n\n<pre><code>      &lt;fieldset&gt;\n        &lt;legend&gt;Fields&lt;/legend&gt;\n        &lt;%= Html.LabelFor(model =&gt; model.Choice) %&gt;\n        &lt;%= Html.DropDownListFor(model =&gt; model.Choice, Model.Choice) %&gt;\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n</code></pre>\n\n<p>Now, I know I can MAKE this work by dropping back 10 yards and punting: bypass model binding and drop back to the FormCollection and validate and bind all the fields myself, but there's got to be a simpler way. I mean, this is about as simple a requirement as it gets.  Is there a way to make this work within the MVC ModelBinding architecture?  If so, what is it?  And if not, how come?</p>\n\n<p>Edit: Well, I have egg on my face, but maybe this will help someone else. I did some more experimenting and found a simple solution that seems to work.</p>\n\n<p>Provide a simple value (string or integer, depending on what your select list value type is), and name that as the model element that you bind to. Then provide a second element as the select list of choices, and name it something else. So my model became:</p>\n\n<pre><code> public class DemoCreateViewModel\n{\n    public string Choice { get; set; }\n    public SelectList Choices { get; set; }\n\n}\n</code></pre>\n\n<p>And then the DropDownListFor statement in the View becomes: </p>\n\n<pre><code>            &lt;%= Html.DropDownListFor(model =&gt; model.Choice, Model.Choices) %&gt;\n</code></pre>\n\n<p>When I do this, the submit button correctly binds the choice made in the form to the string Choice, and submits the model back to the second Create method.</p>\n"},{"tags":["entity-framework","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12596115,"title":"Entity Framework code-first not generating database in SQL Server","body":"<p>I am new to EF code first approach, what I am trying to do is just inserting a record but somehow the database fails to generate in my SQL Server when my SubmitResult method is executed. I placed a breakpoint at <code>unitOfWork.Save();</code> and it went through without catching any errors, I assume that if my connection string is invalid it would have thrown an exception. What could possibly be causing this? </p>\n\n<p>Thanks.</p>\n\n<pre><code>[HttpPost]\npublic JsonResult SubmitResult(String signedRequest, String facebookName, String email, int score, String title)\n{\n    DateTime now = ConstantHelper.GetCurrentTime();\n    try\n    {\n        FacebookSignedRequestUtility fbSignedRequestUtility = new FacebookSignedRequestUtility();\n        fbData = fbSignedRequestUtility.Parse(FacebookUtility.AppSecret, signedRequest);\n\n        Entry entry = new Entry();\n        entry.Fbuid = fbData.FBUID;\n        entry.FacebookName = facebookName;\n        entry.Email = email;\n        entry.Score = score;\n        entry.Title = title;\n        entry.CreatedDateTime = now;\n        entry.ModifiedDateTime = now;\n\n        unitOfWork.EntryRepository.Insert(entry);\n        unitOfWork.Save();\n    }\n    catch (Exception ex)\n    {\n        return Json(new { status = \"false\" });\n    }\n\n    return Json(new { status = \"true\" });\n}\n</code></pre>\n"},{"tags":["database","mvc","jsp","complexity","el"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12594712,"title":"Accessing database through expression language(EL)","body":"<p>just after studying the concept of expression language,from the marvellous book on the subject,HeadFirst Servlets and Jsp,I thought one thing,just as it was possible to access bean components,easily and displaying it(saving us from much coding in servlets and from the deprecated use of scriplets in our jsp page) on the screen,can we redirect that information to our database?If so how?Is this a good practise?Why?Why not?(in terms of space and time complexities).Is this a violation of MVC model and is it still prevalent?I will be highly obliged to hear your kind suggestions.</p>\n"},{"tags":["javascript","jquery","asp.net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":375,"score":1,"question_id":6535434,"title":"jquery Modal Dialog in asp.net Mvc 2","body":"<p>I have a grid of user info in ASP.NET Mvc 2. When i click on a user, i open a jQuery Modal dialog, which enables to edit the user.I am able to edit and save the user.</p>\n\n<p>Can some one help me on how to do validation on this modal dialog using the asp.net mvc data annotaions on server side and display the validation message.</p>\n"},{"tags":["ajax","html5","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12593077,"title":"HTML5 History API and MVC - Updating grid with ajax during onpopstate","body":"<p>I have a simple page with a grid that supports paging and sorting. On page load I call an action method that displays the grid based on the query string parameters (specifically to support browsers with javascript disabled). When the user changes the page or the sort and javascript is enabled, the grid is refreshed via ajax. When the ajax request completes successfully, I push a state into history storing the page and sort parameters. As the user moves back and forth the onpopstate event uses ajax to refresh the grid based on the history state.</p>\n\n<p>This works great except for the fact that when the user navigates from, say, google back to my page with the grid, the action method is called to display the initial grid and then the onpopstate event uses ajax to refresh the grid. Depending on the speed of the ajax request, the user can clearly see the initial grid turn into the correct grid. I need to support browsers with javascript turned off so I don't see any way to not send the initial grid. Does anybody know how to handle this kind of situation?</p>\n"},{"tags":["mvc","architecture","genetic-algorithm"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":320,"score":5,"question_id":770586,"title":"MVC for desktop app with no data layer","body":"<p>Question might be tricky (because of its nature or my way of describing it), so really read this before answering.  </p>\n\n<p>I have this app to write:<br>\na) desktop app;<br>\nb) no data layer in sense of database, files or any other repository (no need to save, store or load data);<br>\nc) app will have some computation algorithms implemented (Genetic Algorithm);<br>\nb) provides GUI which will display controls for app and computations results.  </p>\n\n<p>I am thinking about using MVC pattern but I have doubts how to use it. Since I have no data layer in sense of (for example) database (data is generated during execution based on user input) I am concerned about way of using MVC in this implementation. So far I have came up with two approaches:  </p>\n\n<ol>\n<li><p>GUI is the View. GeneticAlgorithm is the Controller. GeneticAlgorithmResults is the Model (as class that only stores data). Basic flow:  </p>\n\n<ul>\n<li>The View sends user input to the Controller;  </li>\n<li>The Controller is processing user input and generates data;  </li>\n<li>The Controller sends generated data to the Model;  </li>\n<li>The Model notifies the View about new data;  </li>\n<li>The View pulls new Data and updates the display.  </li>\n</ul></li>\n<li><p>GUI is the View. AppEngine is the Controller. GeneticAlgorithm nad GeneticAlgorithmResults are the Model. Now we have:  </p>\n\n<ul>\n<li>The View sends user input to the Controller;  </li>\n<li>The Controller is processing user input and sends control signals to the Model.  </li>\n<li>The Model updates its internal state (generates new data);  </li>\n<li>The Model notifies the Controller about new data;  </li>\n<li>The Controller pulls data to model;  </li>\n<li>The Controller processes data;  </li>\n<li>The controller pushes processed data to the View;  </li>\n<li>The View updates the display.  </li>\n</ul></li>\n</ol>\n\n<p>First approach seems to be more straightforward and more like MVC. The problem is that some logic would have to be in the Model - decide when to notify the model as not all data updates will be displayed, or maybe display will be updated with the sets of data not every little change. Those decisions will be based on user input. Whats more some additional processing of the data may be needed before actual display. This would be in the View.</p>\n\n<p>On the other hand second approach seems to be more complicated and looks like to much messages are being passed to achieve the task. But it gives full control of Logic to the Controller and separates responsibilities of the View, the Controller and the Model (which is the main purpose of MVC).  </p>\n\n<p>Which approach would you recommend? Or maybe I should mix them and use first approach architecture with communication flow from second approach? Or some different design?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":12586030,"title":"setting the page title, meta info in a view in asp.net mvc 4","body":"<p>I am very new to MVC and I am updating a web form application to mvc. I have a shared layout (masterpage in webforms), I would like to set the meta and title information per view but I see no options for this. thanks for any help.</p>\n"}]}
{"total":14108,"page":8,"pagesize":100,"questions":[{"tags":["asp.net-mvc","mvc","gridview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12223583,"title":"Where to specify page/sort for my web grid (e.g. in controller or view)?","body":"<p>Where should I initialize my web grid (and why, please, I'm seeking foresight rather than just opinions)?</p>\n\n<p>On one hand, it seems logical to consider the current page number and sort order a \"view concern\", and from that perspective building a grid in the controller is uncomfortably similar to laying out HTML there.</p>\n\n<p>On the other hand, it seems that page number for example is a \"location concern\", and it makes more sense to parse that directive in the controller.</p>\n\n<p>From experience when the separation of responsibility isn't clear, there's a good chance I'll make a poor choice and end up with major refactoring later.</p>\n"},{"tags":["mvc","class-design"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1465,"score":1,"question_id":447187,"title":"Pacman game class design","body":"<p>I have to write a multiplayer pacman game in Java for a university assignment and I'm after some feedback for my design so far.</p>\n\n<p>So I'm trying to go down an MVC style and <a href=\"http://s3.amazonaws.com/twitpic/photos/large/1822927.jpg?AWSAccessKeyId=0ZRYP5X5F6FSMBCCSE82&amp;Expires=1232036013&amp;Signature=%2FA3laziDAr6j4OsEZLXC%2FiEZV%2BE%3D\" rel=\"nofollow\">this is what I've sketched out</a>.</p>\n\n<p>I've never designed anything using MVC, so my knowledge is really only from the pragmatic programmer and a short lecture so it's quite possible I'll have misunderstood or misinterpreted it slightly.</p>\n\n<p>Also, most of the tutorials I've seen for designing simple games don't mention MVC at all so is this a case where MVC is not a good pattern to use?</p>\n\n<p>My idea so far is that the <em>Game State</em> class would be the main source of data storage as it were, and would use a 2d array to store the state of the game, where the ghosts are, where pacman is etc.</p>\n\n<p>The <em>Game</em> class would be the main controller class that would contain the main game loop and control all the interactions between the data (<em>game state</em>) and the view (probably a <em>GUI</em> representation - I just added text based really as an example).</p>\n\n<p>After I've got the game working I'm going to have to split it out into client/server.  It seems to me, by using this model, that it wouldn't be too hard to keep most of the the data and processing on the server and have the clients interact with the controller and draw their own views.  I have no idea (yet) how this may effect the performance of the game over a network so I'll have to research into that further once the single player version is done.  </p>\n\n<p>Any tips or advice, based on my design so far, would be greatly appreciated - also bearing in mind that it will eventually have to be a multiplayer game.</p>\n\n<p>Cheers,</p>\n\n<p>Adam</p>\n"},{"tags":["mvc","razor","jqgrid","subgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":12478205,"title":"Error 'object doesn't support property or method' in subgrid autogenerated function (mvc, razor, jquery, jqgrid, trirand)","body":"<p>Hi I'm using the trirand examples for jqgrid subgrid (<a href=\"http://www.trirand.net/demoaspnetmvc.aspx\" rel=\"nofollow\">Trirand example Hierarchy 2 level</a>). In my case the subgrid behaviour is inside a autogenerated javascript function.\nWhen I 'translated' the example to my solution (mvc3+razor+entity framework Cf), I get the error 'object doesn't support property or method' in the autogenerated subgrid function. I'm sure this is a simple mistake but i can't save it... and I hope you can help me.</p>\n\n<p>This is my static View:</p>\n\n<pre><code>@{\n    ViewBag.Title = \"Index\";\n}\n&lt;script type=\"text/javascript\"&gt;\n    function showRolesSubGrid(subgrid_id, row_id) {\n        // the \"showSubGrid_OrdersGrid\" function is autogenerated and available globally on the page by the second child grid. \n        // Calling it will place the child grid below the parent expanded row and will call the action specified by the DaraUrl property\n        // of the child grid, with ID equal to the ID of the parent expanded row                \n        showSubGrid_RolesSubGrid(subgrid_id, row_id);\n    }\n&lt;/script&gt;\n&lt;div class=\"bloque\"&gt;\n    &lt;div class=\"ui-widget\"&gt;\n        &lt;h2&gt;Index&lt;/h2&gt;\n\n        &lt;p&gt;\n            @Html.ActionLink(\"Create New\", \"Create\")\n        &lt;/p&gt;\n        @Html.AntiForgeryToken() \n        &lt;div&gt;           \n            @Html.Trirand().JQGrid(Model.MenuGrid, \"MenuGrid\")\n            @Html.Trirand().JQGrid(Model.RolesSubGrid, \"RolesSubGrid\")\n\n        &lt;/div&gt;\n        @Html.Trirand().JQAutoComplete(\n                new JQAutoComplete \n                    {\n                        DisplayMode = AutoCompleteDisplayMode.ControlEditor,\n                        DataUrl = Url.Action(\"AutoCompleteName\", \"MenuItem\")\n                    }, \"AutoCompleteName\")\n        @Html.Trirand().JQAutoComplete(\n                new JQAutoComplete \n                    {\n                        DisplayMode = AutoCompleteDisplayMode.ControlEditor,\n                        DataUrl = Url.Action(\"AutoCompletePadre\", \"MenuItem\")\n                    }, \"AutoCompletePadre\")\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my ModelGrid:</p>\n\n<pre><code>    using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing Trirand.Web.Mvc;\nusing System.Web.UI.WebControls;\n\n\nnamespace MVC.Models.Grids\n{\n    public class MenuGridModel\n    {\n        public JQGrid MenuGrid { get; set; }\n        public JQGrid RolesSubGrid { get; set; }\n        public MenuGridModel()\n        {\n            RolesSubGrid = new JQGrid\n            {\n                Columns = new List&lt;JQGridColumn&gt;\n                                 {\n                                     new JQGridColumn { DataField = \"RoleID\",\n                                                        HeaderText = \"ID\",\n                                                        PrimaryKey = true,\n                                                        Width = 50 },\n                                     new JQGridColumn { DataField = \"RoleName\" }\n                                 },\n                Width = Unit.Pixel(650),\n                Height = Unit.Pixel(350)\n            };\n\n            MenuGrid = new JQGrid\n            {\n                Columns = new List&lt;JQGridColumn&gt;()\n                    {\n                        new JQGridColumn { DataField = \"ID\", \n                                        // always set PrimaryKey for Add,Edit,Delete operations\n                                        // if not set, the first column will be assumed as primary key\n                                        PrimaryKey = true,\n                                        Editable = false,\n                                        Width = 20 },                                    \n                        new JQGridColumn { DataField = \"Name\", \n                                        Editable = true,\n                                        Width = 100 },\n                        new JQGridColumn { DataField = \"ActionName\",                                                         \n                                        Editable = true,\n                                        Width = 100}, \n                        new JQGridColumn { DataField = \"ControllerName\", \n                                        Editable = true,\n                                        Width = 100 },\n                        new JQGridColumn { DataField = \"Url\",\n                                        Editable =  true\n                                        },\n                        new JQGridColumn { DataField = \"Padre\",\n                                        Editable =  true\n                                        }\n                    },\n                Width = Unit.Percentage(100),\n                Height = Unit.Percentage(100)\n            };\n            MenuGrid.ToolBarSettings.ShowRefreshButton = true;\n        }\n    }\n}\n</code></pre>\n\n<p>This is part of my Controller:</p>\n\n<pre><code>    ...\n...\n  public JsonResult Datos()\n    {\n        // instanciar el modelo\n        var gridModel = new MenuGridModel();\n        JsonResult verresul;\n        ConfigGrid(gridModel);\n        JQGridState gridState = gridModel.MenuGrid.GetState();\n        Session[\"gridState\"] = gridState;\n        // devolver un databind según EF\n        var prueba = GetMenuItem().AsQueryable();\n        verresul = gridModel.MenuGrid.DataBind(prueba);\n        return gridModel.MenuGrid.DataBind(GetMenuItem().AsQueryable());\n    }\n\n    // Este método se llama cuando la SUBgrilla requiere datos\n    public JsonResult DatosRoles(string parentRowID)\n    {\n        int menu_padre_id = Convert.ToInt32(parentRowID);\n        // instanciar el modelo\n        var gridModel = new MenuGridModel();\n        ConfigGrid(gridModel);\n\n        // devolver un databind según EF\n        //var Roles = from o in db.aspnetdb_Roles_vw\n        //             where o.RoleId == menu_padre\n        //             select o;\n        List&lt;List&lt;aspnetdb_Roles_vw&gt;&gt; roles;\n        //MenuItem pmenu;\n        roles = (from pmenu in db.MenuItems \n                 where pmenu.Id == menu_padre_id\n                 select pmenu)\n                 .Select(rr =&gt; rr.aspnetdb_Roles_vw.ToList()).ToList();\n        return gridModel.RolesSubGrid.DataBind(roles);\n    }\n...\n...\n    public void ConfigGrid(MenuGridModel modeloGrid)\n    {\n        var entidadGrid = modeloGrid.MenuGrid;\n        var sub1Grid = modeloGrid.RolesSubGrid;\n\n        // Personalizar o cambiar algunos comportamientos del modelo\n        // ID de la grilla, por si hay varias\n        entidadGrid.ID = \"MenuGrid\";\n        // DataUrl mapea el método que devuelve los datos\n        entidadGrid.DataUrl = Url.Action(\"Datos\");\n        // EditUrl mapea el método que hace ABM\n        entidadGrid.EditUrl = Url.Action(\"ABM\");\n        entidadGrid.ToolBarSettings.ShowEditButton = true;\n        entidadGrid.ToolBarSettings.ShowAddButton = true;\n        entidadGrid.ToolBarSettings.ShowDeleteButton = true;\n        entidadGrid.EditDialogSettings.CloseAfterEditing = true;\n        entidadGrid.AddDialogSettings.CloseAfterAdding = true;\n        entidadGrid.MultiSelect = true;\n        entidadGrid.MultiSelectMode = MultiSelectMode.SelectOnCheckBoxClickOnly;\n        // SUBgrilla\n        #region SubGrilla\n        entidadGrid.ClientSideEvents.SubGridRowExpanded = \"showRolesSubGrid\";\n        entidadGrid.HierarchySettings.HierarchyMode = HierarchyMode.Parent;\n        entidadGrid.HierarchySettings.ReloadOnExpand = Convert.ToBoolean(ViewData[\"reloadOnExpand\"]);\n        entidadGrid.HierarchySettings.SelectOnExpand = Convert.ToBoolean(ViewData[\"selectOnExpand\"]);\n        entidadGrid.HierarchySettings.ExpandOnLoad = Convert.ToBoolean(ViewData[\"expandOnLoad\"]);\n        entidadGrid.HierarchySettings.PlusIcon = Convert.ToString(ViewData[\"plusIcon\"]);\n        entidadGrid.HierarchySettings.MinusIcon = Convert.ToString(ViewData[\"minusIcon\"]);\n        entidadGrid.HierarchySettings.OpenIcon = Convert.ToString(ViewData[\"openIcon\"]);\n        sub1Grid.ID = \"RolesGrid\";\n        sub1Grid.DataUrl = Url.Action(\"DatosRoles\");\n        sub1Grid.HierarchySettings.HierarchyMode = HierarchyMode.Child;\n        #endregion\n        ...\n        ...\n</code></pre>\n\n<p>And this is my dynamic generated View with the autogenerated subgrid function:</p>\n\n<pre><code>    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml2/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;Index&lt;/title&gt;\n\n    &lt;link href=\"../../Content/notificaciones.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;script src=\"../../Content/jquery-ui/js/jquery-1.7.2.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-ui/js/jquery-ui-1.8.22.custom.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;link href=\"../../Content/jquery-ui/css/redmond/jquery-ui-1.8.22.custom.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;link href=\"/Content/openid-shadow.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;link href=\"/Content/openid.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;script src=\"/Scripts/openid-jquery.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"/Scripts/openid-en.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt; $(document).ready(function () {openid.init('openid_identifier'); }); &lt;/script&gt;\n\n    &lt;link href=\"../../Content/Site.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.cookie.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.hoverIntent.minified.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.dcjqaccordion.2.7.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jquery-vertical-accordion-menu/js/jquery.dcjqaccordion.2.7.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/black.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/dcaccordion.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/blue.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/clean.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/demo.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/graphite.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../../Content/jquery-vertical-accordion-menu/css/skins/grey.css\" /&gt;\n\n    &lt;link href=\"../../Content/jqGrid/css/ui.jqgrid.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;script src=\"../../Content/jqGrid/js/i18n/grid.locale-es.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Content/jqGrid/js/jquery.jqGrid.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"../../Scripts/jquery.jqAutoComplete.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\" src=\"../../Content/Flexigrid/js/flexigrid.js\"&gt;&lt;/script&gt;\n    &lt;link href=\"../../Content/Flexigrid/css/flexigrid.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;script src=\"../../Scripts/wiltel.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n        var menuLoaded = false;\n        $(document).ready(function () {\n                $.ajax({\n                        url: \"/Home/MenuLayout\",\n                        type: \"GET\",\n                        success: function (response, status, xhr)\n                                    {\n                                        var nvContainer = $('#navcontainer');\n                                        nvContainer.html(response);\n                                        menuLoaded = true;\n                                    },\n                        error: function (XMLHttpRequest, textStatus, errorThrown)\n                                {\n                                        var nvContainer = $('#navcontainer');\n                                        nvContainer.html(errorThrown);\n                                }\n                        });\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container-fluid\"&gt;\n        &lt;div id=\"header\" class=\"row-fluid\"&gt;\n           &lt;div class=\"content-wrapper\"&gt;\n                &lt;p class=\"site-title\"&gt;&lt;img src=\"../../Content/images/LOGO1.png\" align =\"middle\" /&gt;\n                WILTEL COMUNICACIONES S.A &lt;/p&gt;\n           &lt;/div&gt;\n            &lt;div class=\"login\" &gt;\n                    &lt;p&gt;\n        Hola, &lt;a class=\"username\" href=\"/Account/ChangePassword\" title=\"Change password\"&gt;WILTEL01\\eallasino&lt;/a&gt;!\n        &lt;a href=\"/Account/LogOff\"&gt;Log off&lt;/a&gt;\n    &lt;/p&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"body\"&gt;\n       &lt;div class= \"menu1\"&gt;\n       &lt;div &gt;\n           &lt;div id=\"navcontainer\"&gt;\n\n           &lt;/div&gt;\n        &lt;/div&gt;\n       &lt;/div&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n    function showRolesSubGrid(subgrid_id, row_id) {\n        // the \"showSubGrid_OrdersGrid\" function is autogenerated and available globally on the page by the second child grid. \n        // Calling it will place the child grid below the parent expanded row and will call the action specified by the DaraUrl property\n        // of the child grid, with ID equal to the ID of the parent expanded row                \n        showSubGrid_RolesSubGrid(subgrid_id, row_id);\n    }\n&lt;/script&gt;\n&lt;div class=\"bloque\"&gt;\n    &lt;div class=\"ui-widget\"&gt;\n        &lt;h2&gt;Index&lt;/h2&gt;\n\n        &lt;p&gt;\n            &lt;a href=\"/MenuItem/Create\"&gt;Create New&lt;/a&gt;\n        &lt;/p&gt;\n        &lt;input name=\"__RequestVerificationToken\" type=\"hidden\" value=\"1kCOOa9WHClxCC_hs3GU_kmTYaRTvE2iB1Wk5SLCNp18j3CJv15Kvu9sUrA92qUP-nC9DnXoqx7LoIvMPJMfUoXMFjWjcz0tdZV2VN78MhY4Hcwhv1mv5LXZ58zroMVIX7oXaBsvJFI77wRBC_zs8zP1XpY1\" /&gt; \n        &lt;div&gt;           \n            &lt;table id='MenuGrid'&gt;&lt;/table&gt;&lt;div id='MenuGrid_pager'&gt;&lt;/div&gt;&lt;script type='text/javascript'&gt;\njQuery(document).ready(function() {jQuery('#MenuGrid').jqGrid({url: '/MenuItem/Datos?jqGridID=MenuGrid',editurl: '/MenuItem/ABM?jqGridID=MenuGrid&amp;editMode=1',mtype: 'GET',datatype: 'json',page: 1,colNames: [\"ID\",\"Name\",\"ActionName\",\"ControllerName\",\"Url\",\"Padre\"],colModel: [{\"key\":true,\"searchoptions\":{},\"index\":\"ID\",\"width\":20,\"name\":\"ID\"},{\"editable\":true,\"searchoptions\":{dataInit:function(el) {setTimeout(function() {var ec = 'AutoCompleteName';if (typeof(jQuery(el).autocomplete) !== 'function')alert('JQAutoComplete javascript not present on the page. Please, include jquery.jqAutoComplete.min.js');jQuery(el).autocomplete( eval(ec + '_acid') );},200);}},\"index\":\"Name\",\"width\":100,\"name\":\"Name\"},{\"editable\":true,\"searchoptions\":{},\"index\":\"ActionName\",\"width\":100,\"name\":\"ActionName\"},{\"editable\":true,\"searchoptions\":{},\"index\":\"ControllerName\",\"width\":100,\"name\":\"ControllerName\"},{\"editable\":true,\"index\":\"Url\",\"searchoptions\":{},\"name\":\"Url\"},{\"editoptions\":{\"value\":\"Inicio:Inicio;Acerca de...:Acerca de...;Tipos de Problemas:Tipos de Problemas;Menus:Menus;Usuarios:Usuarios;Áreas:Áreas;Workflow:Workflow;Interfaces:Interfaces;ERP:ERP;Administración:Administración;Prueba2:Prueba2;SubP1:SubP1;Roles:Roles\"},\"searchoptions\":{dataInit:function(el) {setTimeout(function() {var ec = 'AutoCompletePadre';if (typeof(jQuery(el).autocomplete) !== 'function')alert('JQAutoComplete javascript not present on the page. Please, include jquery.jqAutoComplete.min.js');jQuery(el).autocomplete( eval(ec + '_acid') );},200);}},\"editable\":true,\"index\":\"Padre\",\"name\":\"Padre\",\"edittype\":\"select\"}],viewrecords: true,scrollrows: false,prmNames: { id: \"ID\" },headertitles: true,pager: jQuery('#MenuGrid_pager'),subGrid: true,subGridOptions: {},subGridRowExpanded: showRolesSubGrid,loadError: jqGrid_aspnet_loadErrorHandler,hoverrows: false,rowNum: 10,rowList: [10,20,30],editDialogOptions: {\"closeAfterEdit\":true,\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},addDialogOptions: {\"closeAfterAdd\":true,\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},delDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },delData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},searchDialogOptions: {\"resize\":false,\"recreateForm\":true},jsonReader: { id: \"ID\" },sortorder: 'asc',multiselect: true,multiboxonly: true,width: '100%',height: '100%',viewsortcols: [false,'vertical',true]})\n.navGrid('#MenuGrid_pager',{\"edit\":true,\"add\":true,\"del\":true,\"search\":true,\"refresh\":true,\"view\":false,\"position\":\"left\",\"cloneToTop\":true},jQuery('#MenuGrid').getGridParam('editDialogOptions'),jQuery('#MenuGrid').getGridParam('addDialogOptions'),jQuery('#MenuGrid').getGridParam('delDialogOptions'),jQuery('#MenuGrid').getGridParam('searchDialogOptions') ).bindKeys();\nfunction jqGrid_aspnet_loadErrorHandler(xht, st, handler) {jQuery(document.body).css('font-size','100%'); jQuery(document.body).html(xht.responseText);};jQuery('#MenuGrid').filterToolbar({});});&lt;/script&gt;\n            &lt;table id='RolesSubGrid'&gt;&lt;/table&gt;&lt;div id='RolesSubGrid_pager'&gt;&lt;/div&gt;&lt;script type='text/javascript'&gt;\nfunction showSubGrid_RolesSubGrid(subgrid_id, row_id, message, suffix) {var subgrid_table_id, pager_id;\n                        subgrid_table_id = subgrid_id+'_t';\n                        pager_id = 'p_'+ subgrid_table_id;\n                        if (suffix) { subgrid_table_id += suffix; pager_id += suffix;  }\n                        if (message) jQuery('#'+subgrid_id).append(message);                        \n                        jQuery('#'+subgrid_id).append('&lt;table id=' + subgrid_table_id + ' class=scroll&gt;&lt;/table&gt;&lt;div id=' + pager_id + ' class=scroll&gt;&lt;/div&gt;');\n                jQuery('#' + subgrid_table_id).jqGrid({url: '/MenuItem/DatosRoles?jqGridID=RolesSubGrid&amp;parentRowID=' + row_id + '',editurl: '?jqGridID=RolesSubGrid&amp;editMode=1&amp;parentRowID=' + row_id + '',mtype: 'GET',datatype: 'json',page: 1,colNames: [\"ID\",\"RoleName\"],colModel: [{\"key\":true,\"searchoptions\":{},\"index\":\"RoleID\",\"width\":50,\"name\":\"RoleID\"},{\"index\":\"RoleName\",\"searchoptions\":{},\"name\":\"RoleName\"}],viewrecords: true,scrollrows: false,prmNames: { id: \"RoleID\" },headertitles: true,pager: jQuery('#' + pager_id),loadError: jqGrid_aspnet_loadErrorHandler,hoverrows: false,rowNum: 10,rowList: [10,20,30],editDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},addDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },editData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},delDialogOptions: {\"recreateForm\":true,errorTextFormat:function(data) { return 'Error: ' + data.responseText },delData:{ __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val() }},searchDialogOptions: {\"resize\":false,\"recreateForm\":true},jsonReader: { id: \"RoleID\" },sortorder: 'asc',width: '650',height: '350',viewsortcols: [false,'vertical',true]})\n.bindKeys();\nfunction jqGrid_aspnet_loadErrorHandler(xht, st, handler) {jQuery(document.body).css('font-size','100%'); jQuery(document.body).html(xht.responseText);};}&lt;/script&gt;\n\n        &lt;/div&gt;\n        &lt;script type='text/javascript'&gt;var AutoCompleteName_acid = { id: 'AutoCompleteName',source: '/MenuItem/AutoCompleteName' };&lt;/script&gt;\n        &lt;script type='text/javascript'&gt;var AutoCompletePadre_acid = { id: 'AutoCompletePadre',source: '/MenuItem/AutoCompletePadre' };&lt;/script&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n\n\n    &lt;/div&gt;\n\n    &lt;footer&gt;\n       &lt;div class =\"Info\"&gt;\n            &lt;h3&gt;INFO/NOVEDADES:&lt;/h3&gt;\n\n        &lt;/div&gt;        \n    &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is where I get the error:</p>\n\n<pre><code>    jQuery('#' + subgrid_table_id).jqGrid({\n    url: '/MenuItem/DatosRoles?jqGridID=RolesSubGrid&amp;parentRowID=' + row_id + '',\n    editurl: '?jqGridID=RolesSubGrid&amp;editMode=1&amp;parentRowID=' + row_id + '',\n    mtype: 'GET',\n    datatype: 'json',\n    page: 1,\n    colNames: [\"ID\", \"RoleName\"],\n    colModel: [{\n        \"key\": true,\n        \"searchoptions\": {},\n        \"index\": \"RoleID\",\n        \"width\": 50,\n        \"name\": \"RoleID\"\n    }, {\n        \"index\": \"RoleName\",\n        \"searchoptions\": {},\n        \"name\": \"RoleName\"\n    }],\n    viewrecords: true,\n    scrollrows: false,\n    prmNames: {\n        id: \"RoleID\"\n    },\n    headertitles: true,\n    pager: jQuery('#' + pager_id),\n    loadError: jqGrid_aspnet_loadErrorHandler,\n    hoverrows: false,\n    rowNum: 10,\n    rowList: [10, 20, 30],\n    editDialogOptions: {\n        \"recreateForm\": true,\n        errorTextFormat: function (data) {\n            return 'Error: ' + data.responseText\n        },\n        editData: {\n            __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val()\n        }\n    },\n    addDialogOptions: {\n        \"recreateForm\": true,\n        errorTextFormat: function (data) {\n            return 'Error: ' + data.responseText\n        },\n        editData: {\n            __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val()\n        }\n    },\n    delDialogOptions: {\n        \"recreateForm\": true,\n        errorTextFormat: function (data) {\n            return 'Error: ' + data.responseText\n        },\n        delData: {\n            __RequestVerificationToken: jQuery('input[name=__RequestVerificationToken]').val()\n        }\n    },\n    searchDialogOptions: {\n        \"resize\": false,\n        \"recreateForm\": true\n    },\n    jsonReader: {\n        id: \"RoleID\"\n    },\n    sortorder: 'asc',\n    width: '650',\n    height: '350',\n    viewsortcols: [false, 'vertical', true]\n}).bindKeys();\n</code></pre>\n\n<p>I'll apreciate any solve direction...</p>\n"},{"tags":["mvc","templates","dataannotations","t4","scaffolding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12412697,"title":"MVC3 custom template t4 and DataAnnotations","body":"<p>here is my model with DataAnnotations</p>\n\n<pre><code>[DisplayName(\"Title1\"),Display(Name=\"Title2\")]\npublic class MyClass\n{\n  [Display(Name = \"My Class Name\")]\n  public string class_name { get; set; }\n}\n</code></pre>\n\n<p>I would like to know how to access these DataAnnotations of class MyClass (i.e. DisplayName attibute)\nin my T4 template Index.cs.t4</p>\n\n<pre><code>&lt;# } #&gt;\n@{\n  ViewBag.Title = \"&lt;#= viewDataType.Name   #&gt;\";\n  &lt;# if (!String.IsNullOrEmpty(Model.Layout)) { #&gt;\n  Layout = \"&lt;#= Model.Layout #&gt;\";\n&lt;# } #&gt;\n}\n</code></pre>\n\n<p>instead putting viewDataType.Name I would like to have the value of DisplayName attibute of class MyClass</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","html-helper","outputcache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12568589,"title":"Whats the recommended way to cache 'expensive' queries in an MVC HTML Helper?","body":"<p>I am trying to use output caching on an HTML Helper.  However, even with the attribute set, this code block is always entered when the Helper method is called.  Since the outputcache attribute won't work in this scenario, what would be the recommended way of caching \"expensive\" queries in Html Helpers?</p>\n\n<pre><code>     [OutputCache(Duration = 60)]\n     public static MvcHtmlString CountryDropDownListFor&lt;TModel, TValue&gt;(this HtmlHelper&lt;TModel&gt; html, Expression&lt;Func&lt;TModel, TValue&gt;&gt; expression, object selectedValue)\n    {\n        var doc = new XmlDocument();\n        doc.Load(HttpContext.Current.Server.MapPath(\"~/App_Data/countries.xml\"));\n\n        var items = new Dictionary&lt;string, string&gt;();\n\n        foreach (XmlNode node in doc.SelectNodes(\"//country\"))\n        {\n            items.Add(node.InnerText, node.InnerText);\n        }\n\n        return html.DropDownListFor(expression, new SelectList(items, \"key\", \"value\", selectedValue));\n    }\n</code></pre>\n"},{"tags":["c#","jquery","ajax","mvc","asp.net-mvc-3"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":15663,"score":2,"question_id":6566298,"title":"MVC3 Razor and Modal popup","body":"<p>i need to get a Modal popup that displays a form which will save data back to the db.\nis there is good example of doing it? is Ajax more flexible or using jquery dialog?</p>\n"},{"tags":["c#","php","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12579891,"title":"c# developer choose what php framework","body":"<p>I'm sure this question is asked a lot but I want to describe my situation as developer and based on that it will be great to recommend me what to choose.</p>\n\n<p>I'm .net c# developer and I have basic understanding of php, that means that I'm familiar with  php syntax. Since I'm using mvc pattern on all .net web applications I want to use in php as well. </p>\n\n<p>What orm should you recommend me to work with php, I'm using nhibernate in .net. Is there some webprovider as part of the framework which handled user membership and management. </p>\n\n<p>Thanks</p>\n"},{"tags":["ios","mvc","ios-universal-app"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12578140,"title":"How do i design an iOS universal application for differing 'view' schemes?","body":"<p>I'm working on building a universal iOS configuration application for the iPhone/iPad. But the  layouts ('views') for the iPad are considerably different from that of the iPhone. Considering that only the appearance of the application ('views') change w.r.t the device, what is the most efficient design approach i could follow?</p>\n\n<p>Things I've already looked at</p>\n\n<ol>\n<li><p>I've looked at one strategy where different View controllers are loaded depending on the device in use. But this might be an overkill considering that the 'controls' are the same across devices and only the appearance of the application changes.</p></li>\n<li><p>The use of functions to resize the view frames to layout views as needed automatically. This does not help me much because there is a need to not only change the size of the views but load different views altogether depending on the device.</p></li>\n<li><p>To keep the viewController unchanged but configure the views inside the viewController differently. Right now this seems like the best way to do it, but the application is kinda heavy and it might become very messy in the long run. Or is there a very efficient way to do this?</p></li>\n</ol>\n\n<p>Is there a design strategy for this? \nOr is there any way i can accomplish this efficiently while optimizing effort?</p>\n"},{"tags":["mvc","dependency-injection","unit-of-work"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12573538,"title":"Expensive Object Creation with Dependency Injection","body":"<p>I'm new to DI and I am working on an MVC project where a controller is injected a <a href=\"http://www.martinfowler.com/eaaCatalog/unitOfWork.html\" rel=\"nofollow\">UnitOfWork</a> and this UnitOfWork contains Repositories for each entity type in my domain.  Using <a href=\"http://msdn.microsoft.com/en-us/library/ff714955.aspx\" rel=\"nofollow\">MSDN</a> as a guide, I originally had something like</p>\n\n<pre><code>public IRepository&lt;Employee&gt; Employees {\n    get {\n        if (_employees == null) {\n            _employees = new SqlRepository&lt;Employee&gt;(_context);\n        }\n        return _employees;\n    }\n}\n</code></pre>\n\n<p>However, I thought it'd be nice to inject the Repository, for example:</p>\n\n<pre><code>public SqlUnitOfWork(IRepository&lt;Employee&gt; employees)\n{\n    this.Employees = employees;\n}\n</code></pre>\n\n<p>But what if creating the SqlRepository is very expensive.  Not every controller action uses every repository.  Before I changed to DI, each repository would only be created if they were accessed.  However, now all repositories are created with the UnitOfWork.  I'm trying to determine whether or not it is worth it to inject SqlRepositories when I'm already in a SqlUnitOfWork? Or, should I follow the MSDN example?</p>\n"},{"tags":["php","forms","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12575617,"title":"Form Validate not running","body":"<p>I have read all other questions, including everything on google. There's no visible difference between this one and the same method I'm using for register.\nIt's a very basic concept that doesn't want to work.</p>\n\n<p>Doing a dump of $_POST shows the correct empty string, so something else is going wrong somewhere.</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public function details(){\n    $this-&gt;load-&gt;library('form_validation');\n    //$this-&gt;form_validation-&gt;set_message('current-password', 'Incorrect password');\n    $this-&gt;form_validation-&gt;set_rules('current-password', 'Password', 'required');\n    $this-&gt;load-&gt;view('details', $data);\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>&lt;?php echo validation_errors(); ?&gt;\n&lt;?php echo form_open('user/details'); ?&gt;\n    &lt;input type=\"password\" name=\"current-password\" id=\"current-password\" value=\"\"/&gt;\n    &lt;input type=\"submit\" class=\"submit-save\" value=\"save\"/&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12574975,"title":"Callinf action in controller via jquery","body":"<p>I am new to MVC and I am continuing to learn more each day. I am converting and webform application to MVC for practice and wanted to know is there a way to call GET on a action and return json, array or whatever I want on document.ready function? I can do this using webapi, but I would rather do it using an action in the controller. I like the helpers that they Microsoft provides but they are for forms and action links, etc. Thanks for any help.</p>\n\n<pre><code>$(document).ready(function(){\n$.ajax(Somehow call controller action here with data), success(function that returns json data)\n});\n</code></pre>\n"},{"tags":["asp.net","jquery","mvc","forms"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":885,"score":0,"question_id":1714883,"title":"Show message box with form entries on submitting the from in asp.net mvc","body":"<p>I have a form which takes multiple inputs from user. Now I wanna show the inputs in a confirmation dialog and submit the form if user clicks OK. CanI use jQuery here??</p>\n"},{"tags":["asp.net","jquery","mvc","form-validation","drop-down-menu"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2289,"score":2,"question_id":4543553,"title":"asp.net mvc jquery dropdown validation","body":"<p>how i can validate dropdownlist with unobtrusive javascript ? As its validating textbox for required validator , but its not working for dropdownlist ?</p>\n\n<p>Need to change unobtrusive js file for it ? or is there any other option to validate dropdownlist ?</p>\n\n<p>i want to show errors when i checked form.validate() in my javascript .</p>\n"},{"tags":["javascript","mvc","javascript-framework","backbone.js"],"answer_count":3,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1038,"score":4,"question_id":6095194,"title":"Backbone.js with non RESTful app? (is Backbone.js right for my current project?)","body":"<p>I'm trying to figure out if Backbone.js is the right framework for my current project: a visualization app.</p>\n\n<p>I have a number of questions:</p>\n\n<p><strong>1) State / Routing?</strong></p>\n\n<p>As this is not your typical RESTful app, but rather a visualization application with various chart types and settings for these charts, how do i maintain state in the URL?\nLet's say my areaChart model has a number of defaults like this:</p>\n\n<pre><code>AreaChartModel = Backbone.Model.extend({\n    defaults: {\n        selectedCountries: [],\n        year: 1970,\n        stacked: false\n    },\n    initialize: function(){\n        [...]\n    }\n});\n</code></pre>\n\n<p>On an update to the model I'd like to serialize some of these attributes so that I can bookmark the specific state: chartApp.html#!year=1970&amp;stacked=false etc.</p>\n\n<p>And vice-versa, when initing the app with this state, how do I \"deparam\" the url state and set the model? Can I use Backbone's intrinsic routing?</p>\n\n<p><strong>2) Controller and coupling?</strong></p>\n\n<p>It seems as Backbone has a pretty tight view-model coupling?\nIs this really how I should bind for example my areaChartView to the model?</p>\n\n<pre><code>AreaChartView = Backbone.View.extend({\n    initialize: function(){\n        areaChartModel.bind(\"change:year\", this.render);\n    }\n});\n</code></pre>\n\n<p>Isn't this normally the role of the controller?</p>\n\n<p><strong>3) Continuation: Model vs. Controller?</strong></p>\n\n<p>Given this scenario:<img src=\"http://i.stack.imgur.com/MW1zi.png\" alt=\"enter image description here\"></p>\n\n<p>A change in the \"Sidebar\" should trigger a sequence of functions:<br>\n1) \"New data for the current selection should be loaded\"<br>\n2) \"Based on this data, the scales in the Visualization view should be updated\"<br>\n3) \"The visualization view should be rendered\"</p>\n\n<p>Where should I place these functions and how can I create an event in the model that I trigger when the state is stable? (i.e. when all the functions have been invoked and it's time to set the view states?)</p>\n"},{"tags":["ruby-on-rails-3","mvc","routes","link-to"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12572303,"title":"link_to :controller, :action in view not working ruby on rails","body":"<p>Trying to use link_to to send info to action in my controller.</p>\n\n<p>Link looks like this:</p>\n\n<pre><code>&lt;%= link_to \"Buy\", {:controller =&gt; :policies, :action =&gt; :policy_option_price_calc, :option =&gt; \"policy_option_a_cost\" }, {:method =&gt; :post}  %&gt;\n</code></pre>\n\n<p>I have a policies controller and inside my action looks like this:</p>\n\n<pre><code>def policy_option_price_calc(params)\n   #logic stuff\n\n   render :partial =&gt; \"/policies/swipe_protect/price_total\"\nend\n</code></pre>\n\n<p>and in my routes I have:</p>\n\n<pre><code>resources :policies\n    member do\n        post 'policy_option_price_calc'\n    end\nend\n</code></pre>\n\n<p>I don't know why but I am getting this url when clicking the link_to link:</p>\n\n<pre><code>http://localhost:3000/?action=policy_option_price_calc&amp;controller=policies&amp;option=policy_option_a_cost\n</code></pre>\n\n<p>Which of course doesn't exist, but its not even giving me an error its just being processed by my <code>HomeControll#index</code></p>\n\n<p>I have looked at: </p>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-button_tag\" rel=\"nofollow\">Form tag helpers</a></p>\n\n<p><a href=\"http://guides.rubyonrails.org/routing.html\" rel=\"nofollow\">rubyguild routing</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/7558601/rails-3-link-or-button-that-executes-action-in-controller\">Stack overflow question</a></p>\n\n<p>Plus many more. Any help would be appreciated, thanks.</p>\n"},{"tags":["c++","mvc","fsm"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12536977,"title":"How do I integrate a finite state machine into my application?","body":"<p>Hi and sorry advance if this has already been covered.</p>\n\n<p>I'm mainly preoccupied with writing numerical software but I'm a bit of a noob when it comes to application design. </p>\n\n<p>I've written a library that essentially takes input from different data streams or static files, performs some data analysis and outputs the data to screen or file etc and I've decided to write a gui application to make it a bit more user friendly. </p>\n\n<p>The sequence in which library calls must be made is fairly simple but there are some constraints on which events should be handled depending on the state the application is in. I.e. I don't want the user to start grabbing from a data source whilst they are already processing from another. </p>\n\n<p>So I've decided to use a finite state machine. However, I was wondering on what the best practice for integrating a finite state machine into your application is. Should I make it the public interface to my library or should I essentially use it as the controller in an MVC framework, with the library being the model and GUI being the view? Or is there a better way of controlling the flow of your application?</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["spring","mvc","junit4","noclassdeffounderror"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12465932,"title":"NoClassDefFoundError with Spring 3.1 Controller Unit Test","body":"<p>I have a simple <code>autowired</code> Controller and a test. When the project is built with mvn and code coverage goals emma:emma and emma:check, the test case fails with following error.</p>\n\n<p>Simple \"mvn test\" command succeeds.\n\"mvn test emma:emma emma:check\" fails.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/web/bind/support/WebDataBinderFactory\n</code></pre>\n"},{"tags":["jquery","asp.net-mvc","mvc","datatable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12566176,"title":"Retrieve the filtertype of the ColumnFilter Plugin of jQuery DataTable","body":"<p>I am using jQuery DataTable and found some nice Plugin for making filtering easier. It is called ColumnFilter and it is available here:</p>\n\n<p><a href=\"http://code.google.com/p/jquery-datatables-column-filter/\" rel=\"nofollow\">http://code.google.com/p/jquery-datatables-column-filter/</a></p>\n\n<p>Using this plugin is really easy. Right after declaring the DataTable, it is configured like this: </p>\n\n<pre><code>oTable.columnFilter({\n  aoColumns: [\n    { type: \"number-range\" },\n    { type: \"text\" },\n    { type: \"text\" }\n  ]\n});\n</code></pre>\n\n<p>When actually filtering the datasource serverside, I need to know what types has been set in the columnfilter plugin. The reason behind this is, that I encapsulated a generic approach for filtering that basically allows me to do this on an entity in the serverside controller action:</p>\n\n<pre><code>Public Function DataProviderAction(ByVal dataTableParams As JQueryDataTableParamModel) As JsonResult\n  Return GetJson(dataTableParams, Request.Params,\n    Function(r) New String() {\n      Convert.ToString(r.Id),\n      r.Description,\n      r.Comment})\nEnd Function\n</code></pre>\n\n<p>This works due to the fact that the controller is derived from a generic basecontroller Of T. The GetJson method expects a Lambda expression for the creation of a string array. The rest (filtering, sorting and paging) is done in a couple of extension methods on IQueryable(Of T).</p>\n\n<p>Somewhere down the road there exists a strategy that holds a couple of specific filter implementations that are independent of the actual type. This is realized with Dynamic Linq and looks like this:</p>\n\n<pre><code>Public Function ApplyFilter(Of T As {IDataObject})(entities As IQueryable(Of T), filterInfo As System.Tuple(Of String, String)) As IQueryable(Of T) Implements ISmartFilter.ApplyFilter\n  Dim result As IQueryable(Of T) = Nothing\n\n  Try\n    result = entities.Where(If(filterInfo.Item1 = \"\", True, String.Format(\"{0}.ToLower().Contains(@0)\", filterInfo.Item2)), filterInfo.Item1.ToLower)\n  Catch\n  End Try\n\n  Return result\nEnd Function\n</code></pre>\n\n<p>What happens here, is that this Where extension creates an expression that basically says something like \"Where( Description.ToLower().Contains(filtertext))\".</p>\n\n<p>However, I need to call the correct strategy corresponding to the filtertype set in the UI. At the moment, I simply have a context class that holds instances of all Filters and implements a method that iterates through all of them, checking conditions on which it decides whether or not to apply this filter.</p>\n\n<p><strong>It would be easier if I just KNEW the filtertype.</strong> :)</p>\n\n<p>So the question is:</p>\n\n<p>How am I able to put the aoColumns array from dataTable.columnFilter into the parameter list of DataTable so that I can access it from the DataProviderAction method mentioned above?</p>\n\n<p>I also must not alter any code of dataTable and/or columnFilter itself...</p>\n"},{"tags":["javascript","mvc","backbone.js","file-structure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12566588,"title":"A decent file-structure for my js mvc app","body":"<p>As our in-house app is growing so is the frontend that I'm building with various open source technologies including backbone as an mvc base and require.js as a dependancy manager.</p>\n\n<p>That aside I'm in the process of separating boilerplate code from views, models, collections and routes into a sort of core-library. As I'm doing that I'm reviewing the file-structure and would like weigh in the opinion of others who might have experience/ideas in regards to this.</p>\n\n<p>Right now this is how my structure looks:</p>\n\n<pre><code>public\n    assets\n        css\n            lib                 &lt; CSS libraries used within app\n            app                 &lt; app specific CSS assets\n        images                  &lt; image assets\n        js\n            lib                 &lt; JS libraries used within app\n            lib_ext             &lt; Library overrides\n            app                 &lt; app specific JS\n                collection\n                model\n                template\n                view\n</code></pre>\n\n<p>My current plan of action is to have a 'core' folder in 'js' which has a similar structure to 'app'. All code in the core would be completely decoupled. The classes in app would then inherit from core and only set attributes specific to its' use...</p>\n\n<p>Any opinions on this that I should take into account?</p>\n\n<p>Here is a point on which I'm for example not really sure about:\nWould you put html templates into the core?</p>\n"},{"tags":["objective-c","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":687,"score":1,"question_id":6304326,"title":"confused with MVC in Objective C","body":"<p>I have a small slots game almost developed for iPad as this is my very first interaction with any of Apple technology, so I never really designed this application properly while developing, I want to mould this code into, what apple advocates, <code>Model-View-Controller</code> style. I read a lot about it but still confused.\nThis is what I have:</p>\n\n<ol>\n<li>ViewController class created by\ndefault</li>\n<li>Some methods to control the\nanimation</li>\n<li>Textiles for some data and some\nmethods to access them</li>\n<li>Methods to calculate payouts and\nwinning amounts</li>\n</ol>\n\n<p>So what should I exactly do now to convert it into MVC, how should my approach be?\nAlso tell me any good books or online documentation for the same</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["mvc","layout","zend-framework2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":125,"score":1,"question_id":12550144,"title":"Zend Framework 2: Modify details of layout.pthml in controllers","body":"<p>When I study skeleton application of <code>Zend Framework 2</code>, I want to add a label at upper-right of page to show the <code>UserName</code> who have logged in. But, I am confused at the code of the navigation bar that  was defined in <code>layout.pthml</code>,how can controller communicate with the <code>layout.phtml</code> to modify it?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Furthermore, I want a login form upper-right of page when user not logged in using a helper.But i don't know how to add a form using helper,what should i do?</p>\n"},{"tags":["mvc","controller","cakephp-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12544990,"title":"cakephp2 controllers getting too big","body":"<p>I have a cakephp2 app and the controllers are getting really big.  Is there a best practice for breaking out bits of code into other functions that are not supposed to be actions?  </p>\n\n<p>*Sorry it has been a looong time since I did this with cakephp1.0 and back then I think I called them _functionname, which seems wrong these days.*</p>\n"},{"tags":[".net","asp.net","mvc","captcha"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":842,"score":1,"question_id":1338896,"title":"Trouble with ASP.NET CAPTCHA Control Sample with ASP.NET MVC","body":"<p>I am trying to use the following <a href=\"http://www.codeproject.com/KB/custom-controls/CaptchaControl.aspx\" rel=\"nofollow\">A CAPTCHA Server Control for ASP.NET - by Jeff Atwood</a> within an ASP.NET MVC site.  The custom control doesn't seem to be validating when the form is submitted.</p>\n\n<p>Is there anyone who has done any work with this sample using ASP.NET MVC?</p>\n\n<p>The basic code I am using is as follows:</p>\n\n<pre><code>&lt;% using (Html.BeginForm()) { %&gt;\n&lt;CaptchaControl:CaptchaControl ID=\"CaptchaControl\" Name=\"Security\" runat=\"server\"&gt;&lt;/CaptchaControl:CaptchaControl&gt;\n&lt;input type=\"submit\" value=\"Send Message\" /&gt;\n&lt;% } %&gt;\n</code></pre>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":191,"score":2,"question_id":2608530,"title":"MVC best practice when adding functions to controller?","body":"<p>I'm writing a function in my controller; this is supposed to take in a form, process it, register the user in DB, send a confirmation email etc etc.</p>\n\n<p>to avoid this function to be too cluttered, I was thinking of calling some sub-functions (eg:</p>\n\n<pre><code>function registration()\n{\n  //process form..\n\n  _insertInDb($formdata)\n\n  _send_mail($address);\n\n  //load confirmation view..\n}\n\nfunction _send_mail($to)\n{\n  //code here\n}\n\nfunction _insertInDb($formdata)\n{\n  //other code here...\n}\n</code></pre>\n\n<p>I'm not sure whether writing all the functions in the controller would be best practice -maybe I should insert all 'supporting' function (eg send_mail and insertInDb in this example) in another file and then import them?</p>\n\n<p>This would probably make the controller much more readable..\nwhat's your view?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","methodology"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":584,"score":2,"question_id":508587,"title":"ActionMailer best practices: Call method in the model or the controller?","body":"<p>Sending an email is usually called after an action on a model, but the email itself is a view operation. I'm looking for how you think about what question(s) to ask yourself to determine where to put the action mailer method call.  </p>\n\n<p>I've seen/used them:</p>\n\n<ul>\n<li>In a model method - bad coupling of related but seperate concerns?</li>\n<li>In a callback in the model (such as after_save) - best separation as far as I can tell with my current level of knowledge.</li>\n<li>In the controller action - just feels wrong, but are there situations were this would be the smartest way to structure the code?</li>\n</ul>\n\n<p>If I want to know how to program I need to think like a programmer, so learning how you go about thinking through particular programming solutions is worth months of coding on my own in isolation. Thank you!</p>\n"},{"tags":["c#","html","mvc","listbox","html-helper"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":10798654,"title":"Listbox html helper returning zero objects to Post function","body":"<p>I trying to get a listbox for a module I've created to work. The selector works (the titles of the selectable entities appear but there is no data returned to the Post function in the controller.</p>\n\n<p>I don't know what you would need to be able to help me, but here is at least the html code.</p>\n\n<p>HTML code:</p>\n\n<pre><code>    &lt;div class=\"field required\"&gt;\n        @Html.LabelFor(model =&gt; model.Sessions)\n        @Html.ListBox(\"Sessions\", new SelectList(Model.Sessions, \"Id\", \"Title\", 1));\n        @Html.ValidationMessageFor(model =&gt; model.Sessions)\n    &lt;/div&gt;\n</code></pre>\n"},{"tags":["visual-studio-2010","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":7355064,"title":"Mixing MVC 1 and MVC 3","body":"<p>Is there a way to have a project use MVC1 in certain areas and use MVC3 in other areas?\nI have some previous code written but I was thinking of using MVC 3 to add other features.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","swing","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12559194,"title":"MVC pattern with java Swing","body":"<p>I have an Idea to develop a java Swing application using the MVC pattern. I have described my idea below and please let me know that, is this a correct way of using the MVC pattern for java Swing?</p>\n\n<ul>\n<li>this is the view</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/mlwy3.png\" alt=\"enter image description here\"></p>\n\n<p>following methods are used to get and set the name of the above view,</p>\n\n<pre><code>//at top of the view its model and controller is defined as\n    Model model = null;\n    Controller controller = null;\n\n//constructor\npublic view(){\n   this.model = new Model();\n   this.controller = new Controller(this, model);//controller takes view and model as its parameters.\n}\n\n\npublic void v_addShowNameButtonsActionListener(ActionListener al){\n    btnActionListener.addActionListener(al);\n}\n\npublic String v_getName(){\n    return txtName.getText();// txtName is the name of the text field.\n}\n\npublic void v_setName(String name){\n    txtName.setText(name);\n}\n</code></pre>\n\n<ul>\n<li>this is the controller</li>\n</ul>\n\n<blockquote>\n<pre><code>  /*at the top of the controller define the view and model*/\n\n    View view = null;\n    Model model = null;\n\n    /* constructor of the controller*/\n    public Constructor(View view, Model model){\n      this.view = view;\n      this.model = model;\n    }   \n\n    class CreateShowNameButtonsActionListener implements ActionListener{\n      @Override\n      public void actionPerformed(ActionEvent e) {\n          Connection con = null;\n          try{\n              con = ******************** /*get the data base connection*/    \n              view.setName(model.m_getName(con));\n          }catch(Exception ex){\n              ex.printStackTrace();\n          }finally{\n              con.close();\n          }\n      }\n    }\n</code></pre>\n</blockquote>\n\n<ul>\n<li>this is the model</li>\n</ul>\n\n<blockquote>\n<pre><code>Public class Model{\n   public String m_getName(Connection con){\n      String name;\n\n      name = ******* //do database queries and set get the name form the database\n\n      return name;\n   }\n}\n</code></pre>\n</blockquote>\n\n<p>I have briefly described the way I am going to implement the MVC pattern in java Swing.</p>\n"},{"tags":["javascript","mvc","mobile","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":215,"score":0,"question_id":12557610,"title":"Sencha Touch 2 dynamic button on Navigation View","body":"<p>I'm trying to <code>initialize()</code> and <code>destroy()</code> dynamically a button on Navigation View's bar from another view. Button is created fine, but I can't remove it... Tried also <code>hide()</code>, but it's being called twice and isn't helpful. So I'm officially stuck, please help! :-)</p>\n\n<p><strong>My Controller:</strong></p>\n\n<pre><code>Ext.define('MyApp.controller.Application', {\n    extend: 'Ext.app.Controller',\n\n    config: {\n        refs: {\n            buttonNew1: '#btn-new1',\n            buttonNew2: '#btn-new2',\n            buttonNew3: '#btn-new3',\n            buttonNew4: '#btn-new4',\n            buttonDataNew: '#btn-data-new'\n        },\n\n        control: {\n            buttonNew1: { tap: 'onNewButtonTap' },\n            buttonNew2: { tap: 'onNewButtonTap' },\n            buttonNew3: { tap: 'onNewButtonTap' },\n            buttonNew4: { tap: 'onNewButtonTap' },\n            buttonDataNew: { tap: 'onDataNewButtonTap' },\n        }\n    },\n\n    onNewButtonTap: function(button) {\n        console.log(button);\n    },\n\n    onDataNewButtonTap: function(button) {\n        console.log(button);\n    }\n});\n</code></pre>\n\n<p><strong>My Navigation View:</strong></p>\n\n<pre><code>Ext.define('MyApp.view.Main', {\n    extend: 'Ext.navigation.View',\n    xtype: 'view-main',\n\n    config: {\n        autoDestroy: false,\n\n        items: [\n            {\n                xtype: 'container',\n                layout : { type: 'vbox', pack: 'top', align: 'middle' },\n\n                items: [\n                    {\n                        xtype: 'container',\n                        layout: 'hbox',\n\n                        items: [\n                            {\n                                xtype: 'button',\n                                id: 'btn-new1',\n                                text: 'New1'\n                            },\n                            {\n                                xtype: 'button',\n                                id: 'btn-new2',\n                                text: 'New2'\n                            }\n                        ]\n                    },\n                    {\n                        xtype: 'container',\n                        layout: 'hbox',\n\n                        items: [\n                            {\n                                xtype: 'button',\n                                id: 'btn-new3',\n                                text: 'New3'\n                            },\n                            {\n                                xtype: 'button',\n                                id: 'btn-new4',\n                                text: 'New4'\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n});\n</code></pre>\n\n<p><strong>My Data View:</strong></p>\n\n<pre><code>Ext.define(\"MyApp.view.Data\", {\n    extend: 'Ext.dataview.DataView',\n    xtype: 'view-data',\n\n    config: {\n        useComponents: true,\n        layout: { type: 'fit', align: 'center' },\n        defaultType: 'view-data-item',\n        store: 'MyStore'\n    },\n\n    initialize: function() {\n        this.callParent();\n        Ext.Viewport.getActiveItem().getNavigationBar().add(Ext.create('Ext.Button', {\n            id: 'btn-data-new',\n            ui: 'normal',\n            iconCls: 'add1',\n            align: 'right',\n            iconMask: true,\n            hideAnimation: Ext.os.is.Android\n                ? false : { type: 'fadeOut', duration: 200 },\n            showAnimation: Ext.os.is.Android\n                ? false : { type: 'fadeIn', duration: 200 }\n        }));\n    },\n\n    destroy: function() {\n        this.callParent();\n        var button = Ext.getCmp('btn-data-new');\n        if (button) {\n            Ext.Viewport.getActiveItem().getNavigationBar().remove(button);\n        }\n    }\n});\n</code></pre>\n"},{"tags":["php","mvc","no-framework"],"answer_count":14,"favorite_count":28,"up_vote_count":48,"down_vote_count":0,"view_count":14514,"score":48,"question_id":152101,"title":"MVC tutorial that doesn't rely on a framework?","body":"<p>I want to learn MVC \"architecture pattern\" but I don't want to jump into a framework like Rails or Django just yet.  I want to understand the concept first and write some simple code in my currently familiar environment, which happens to be php/html/css/mysql.  I don't necessarily need a tutorial that is based on php, as I do understand a lot of different languages. And I don't want to have to install any frameworks or APIs or libraries.  I just want to learn how to think in MVC and apply it to my projects. Any suggestions?</p>\n"},{"tags":["mvc","zend-framework","layout","action"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12530122,"title":"the action view does not take the layout zend framework","body":"<p>i have contact us controller , that has a form submitted to send action , so after submitting the link is , contactus/send/ </p>\n\n<p>you can see the full layout design in contactus index view , but when i call the action , it seems he can't see the layout , and represent only as text with no css or javascript.</p>\n"},{"tags":["objective-c","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":55,"score":-5,"question_id":12554518,"title":"Is there a way to tell what are the MVCs in Objective C","body":"<p>MVC Paradigm - can one tell <strong>from just looking at the Code</strong>?</p>\n\n<ol>\n<li>If I showed you Objective C code, could you tell which modules are\nModels, which are Views, and which are Controllers? </li>\n<li>In other words, is the \"keyword\" ViewController mean that it controls the View,\nor that it is a Controller? </li>\n<li>Or if someone uses that word, can it possibly be a model? </li>\n<li>Can mis-labeling a .h or a .m section have any\neffect on whether it is a Model or a View or a Controller?</li>\n</ol>\n"},{"tags":["jquery","mvc","playframework","playframework-1.x"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":12545595,"title":"render JSON data in view - play framework","body":"<p>I am new to play. I am using renderJSON to generate JSON data. How can I access this data in my view. I tried render(\"view\",jsonobject). while I am trying to access this object in jquery script, not receiving any data here. </p>\n\n<p>I tried with an ajax call. following methods are in my controller</p>\n\n<pre><code>public static void getJSONWords(){\n .......\n render(jsonObject);\n}\n\npublic static void wordcloud(){\n    render();\n}\n</code></pre>\n\n<p>and my view \"wordcloud.html\" makes an ajax</p>\n\n<pre><code>       $.ajax({\n\n    url: \"/getJSONWords\",\n    dataType : 'json',\n    success: function (data) {\n             .......\n            });\n</code></pre>\n\n<p>but I'm not getting any data for our ajax call. I tried with Firfox debugger, check log file ajax call is calling respective controller action. thanks for your help</p>\n"},{"tags":["asp.net-mvc-3","mvc","razor","controller","devexpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":248,"score":0,"question_id":12458597,"title":"How to pass a parameter to your Controller, through a button click in MVC?","body":"<p>May someone assist me with how to tie up my parameters from a combobox to a parameter on one of my action's in my controller. I am using DevExpress control suite and this is my code:</p>\n\n<pre><code> [HttpPost]\n public ActionResult Filter(string filterCriteria)\n {\n     ViewData.Model = Repository.GetReports(filterCriteria);\n     return RedirectToAction(\"Index\");\n }\n</code></pre>\n\n<p>And this is my view :</p>\n\n<pre><code>&lt;div style=\"float:right;padding-bottom:20px;\" &gt;\n@using (Html.BeginForm())\n{\n&lt;table&gt;&lt;tr&gt;&lt;td&gt;\nFilter by Keyword:&lt;/td&gt;\n&lt;td&gt;\n@Html.DevExpress().DropDownEdit(\n    settings =&gt;\n    {\n        settings.Name = \"checkComboBox\";\n        settings.Width = 210;\n        settings.Theme = Utils.CurrentTheme;\n        settings.Properties.DropDownWindowStyle.BackColor = System.Drawing.Color.FromArgb(0xEDEDED);\n        settings.Properties.ClientSideEvents.ValueChanged = \"function(s, e) {e.customArgs[\\\"filterCriteria\\\"] = checkComboBox.Name.toString();}\";\n\n        settings.SetDropDownWindowTemplateContent(c =&gt;\n        {\n            @Html.DevExpress().ListBox(\n                listBoxSettings =&gt;\n                {\n                    listBoxSettings.Name = \"checkListBox\";\n                    listBoxSettings.SkinID = \"CheckComboBoxListBox\";\n                    listBoxSettings.CallbackRouteValues = new { Controller = \"Report\", Action = \"Filter\" };\n                    listBoxSettings.Theme = Utils.CurrentTheme;\n                    listBoxSettings.ControlStyle.Border.BorderWidth = 2;\n                    listBoxSettings.ControlStyle.BorderBottom.BorderWidth = 1;\n                    listBoxSettings.ControlStyle.BorderBottom.BorderColor = System.Drawing.Color.FromArgb(0xDCDCDC);\n                    listBoxSettings.Width = System.Web.UI.WebControls.Unit.Percentage(100);\n                    listBoxSettings.Height = 100;\n\n                    listBoxSettings.Properties.SelectionMode = ListEditSelectionMode.CheckColumn;\n\n                    listBoxSettings.Properties.ClientSideEvents.SelectedIndexChanged = \"OnListBoxSelectionChanged\";\n                }\n            ).BindList(Repository.GetKeywords())\n            .Render();\n            ViewContext.Writer.Write(\"&lt;table style=\\\"width:100%\\\"&gt;&lt;tr&gt;&lt;td align=\\\"right\\\"&gt;\");\n            @Html.DevExpress().Button(\n                buttonSettings =&gt;\n                {\n                    buttonSettings.Name = \"buttonClose\";\n                    buttonSettings.Text = \"Close\";\n                    buttonSettings.Style.Add(\"float\", \"right\");\n                    buttonSettings.Theme = Utils.CurrentTheme;\n                    buttonSettings.ClientSideEvents.Click = \"function(s, e){ checkComboBox.HideDropDown(); }\";\n                }\n            )\n            .Render();\n            ViewContext.Writer.Write(\"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\");\n        });\n        settings.Properties.EnableAnimation = true;\n        settings.Properties.ClientSideEvents.TextChanged = \"SynchronizeListBoxValues\";\n        settings.Properties.ClientSideEvents.DropDown = \"SynchronizeListBoxValues\";\n    }\n).GetHtml()\n&lt;/td&gt;&lt;td&gt;\n@Html.DevExpress().Button(\n    settings =&gt;\n    {\n        settings.Name = \"btnApply\";\n        settings.ControlStyle.CssClass = \"button\";\n        settings.Text = \"Apply\";\n        settings.UseSubmitBehavior = true;\n        settings.Theme = Utils.CurrentTheme;\n        settings.Width = 80;\n        settings.RouteValues = new { Controller = \"Report\", Action = \"Filter\" };\n    }\n).GetHtml()\n&lt;/td&gt;&lt;td&gt;\n@Html.DevExpress().Button(\n    settings =&gt;\n    {\n        settings.Name = \"btnClear\";\n        settings.ControlStyle.CssClass = \"button\";\n        settings.Text = \"Clear\";\n        settings.ClientSideEvents.Click = \"function(s, e){ ASPxClientEdit.ClearEditorsInContainer(); }\";\n        settings.Theme = Utils.CurrentTheme;\n        settings.Width = 80;\n    }\n).GetHtml()\n&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n}\n&lt;/div&gt;\n</code></pre>\n\n<p>I have basically a gridview on the bottom  i would like to filter with a drop down list above it. I invoke the action by  using a button to go filter my collection. In this example, i was just trying to pass back the name of the control, i.e.</p>\n\n<pre><code>settings.Properties.ClientSideEvents.ValueChanged = \"function(s, e) {e.customArgs[\\\"filterCriteria\\\"] = checkComboBox.Name.toString();}\";\n</code></pre>\n\n<p>just to see if I am able to pass back any value but this failed. Can someone please elaborate on a way to do this?Thank you,</p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":138,"score":2,"question_id":4690113,"title":"why model view controller is not view logic database?","body":"<p>I'm using MVC model for 5 months. I agree with MVC,  good technique for organizing mind. But every time I try to write model I write module, that confusion rised a question, why it is model, not data or database or storage or etc. Most irrelevant and generic name is model. </p>\n\n<p>I'm okey with view, but controller should be logic or router I think.</p>\n\n<p>From wikipedia:</p>\n\n<blockquote>\n  <p>The pattern isolates \"domain <strong>logic</strong>\"\n  (the application logic for the user)\n  from the user interface (input and\n  <strong>presentation</strong>)</p>\n  \n  <p>The model manages the behavior and <strong>data</strong> of the application domain</p>\n  \n  <p>The controller receives input and initiates a response by making calls on model objects</p>\n</blockquote>\n\n<p>Why we use model, view and controller as name of this pattern?</p>\n"},{"tags":["php","ajax","oop","mvc","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":80,"score":-2,"question_id":12541740,"title":"AJAX controller in MVC","body":"<p>I am building a system while at the same time learning and implementing OOP and MVC.</p>\n\n<p>The only thing I am still not sure about is how to incorporate AJAX into my MVC structure, so what I have gone with is a type of controller that responds to different \"modes\" from AJAX requests that accesses and returns results from the various objects in my system.</p>\n\n<p>Is this a good way to do this or am I breaking the rules of MVC by having this controller that is very different to the other controllers in my system?</p>\n\n<p>This is my AJAX \"delegator\":</p>\n\n<pre><code>session_start() ;\nfunction __autoload($classname)\n{\ninclude('/controllers/'.$classname.'.php') ;\n}\n\n// Deligator for contact operations.\n\nif($_POST['mode'] == 'OPPORTUNITY_COUNT')\n{\n$contactManager = new ContactManager($_SESSION['userid']) ;\n\necho $contactManager-&gt;fetchOpportunityCount() ;\n\n}\nelseif($_POST['mode'] == 'PROSPECT_COUNT')\n{\n$contactManager = new ContactManager($_SESSION['userid']) ;\n\necho $contactManager-&gt;fetchProspectCount() ;\n\n}\nelseif($_POST['mode'] == 'CUSTOMER_COUNT')\n{\n$contactManager = new ContactManager($_SESSION['userid']) ;\n\necho $contactManager-&gt;fetchCustomerCount() ;\n\n}\nelse\n{\necho 'Error: Unknown mode.' ;\nexit() ;\n}\n</code></pre>\n\n<hr>\n\n<p>FYI This is how I send data to the router:</p>\n\n<pre><code>socket.on('UPDATE_OPPORTUNITY_DATA', function(date){\n    $.ajax({data: 'mode=OPPORTUNITY_COUNT', success: function(data){\n        $('#opportunityCount').html(data) ;\n        shaker('#opportunityCount') ;\n        }\n    })\n})\n</code></pre>\n"},{"tags":["c#","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1074,"score":1,"question_id":4966015,"title":"how to get all ListBox items(not only selected items) on submit action in mvc","body":"<p>how I get ALL ListBox values (not only selected items) on submit action in asp.net mvc2 project.</p>\n\n<p>I'm using Ajax forms like Ajax.BeginForm(\"actionname\", new....)</p>\n\n<p>I will get all items in the listbox only if i selecte all items in the list box.</p>\n\n<p>Is there anyway to get all items(not only selected items) in the lisbox in action page?</p>\n"},{"tags":["java","mvc","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12540039,"title":"Push values from web server to client every 20ms (Java MVC)","body":"<p>I am new to Java. I am trying to write something on lines of MVC where my web server has a java method that reads a text file one row at a time every 20 milliseconds and I want to send (/push) this value to client every 20 milliseconds (that is at the same instant as the new row is read from CSV). \nI have read this <a href=\"http://en.wikipedia.org/wiki/Comet_%28programming%29\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Comet_%28programming%29</a>\nBut being very new to all this could not understand much. How push/pull/streaming works and what to use here. Moreover if I should be pulling or pushing values here. I think I should push else server will be clogged by so many pull requests every 20ms. \nPlease suggest. Any piece of code will be a great great help. </p>\n"},{"tags":["php","oop","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12460967,"title":"Processing form data in MVC/OOP structure","body":"<p>I have created a login system and I am trying to stick to the rules of MVC as much as possible.</p>\n\n<p>I have a simple login form that uses AJAX to submit the form data to small script, which then calls the controller for the processing of the username and password:</p>\n\n<pre><code>function __autoload($classname) {\n    include(\"../classes/$classname.php\");\n}\n\n$username = $_POST['username'] ;\n$password = $_POST['password'] ;\n\n$AC = new AccessControl ;\n\n$result = $AC-&gt;login($username, $password) ;\n\nif($result !== 0)\n{\necho $result ;\nexit() ;\n}\n</code></pre>\n\n<p>AccessControl is my class for user authentication and account management operations, the code is here in my other post: <a href=\"http://stackoverflow.com/questions/12459104/mvc-relationships-and-dry\">MVC Relationships and DRY</a></p>\n\n<p>Have I done this wrong because this small script isn't a controller or a model? All it does is relay information returned from the controller back to the interface/view, such as error messages.</p>\n"},{"tags":["javascript","mvc","partial-views","angularjs","angular"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":426,"score":2,"question_id":12506329,"title":"How to dynamically change header based on angularjs partial view?","body":"<p>I am using ng-view to include Angularjs partial views, and I want to update the page title and h1 header tags based on the included view. These are out of scope of the partial view controllers though, and so I can't figure out how to bind them to data set in the controllers.</p>\n\n<p>If it was ASP.net MVC you could use @ViewBag to do this, but I don't know the equivalent in angularjs. I've searched about shared services, events etc but still can't get it working. Any way to modify my example so it works would be much appreciated. </p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;html data-ng-app=\"myModule\"&gt;\n&lt;head&gt;\n&lt;!-- include js files --&gt;\n&lt;title&gt;&lt;!-- should changed when ng-view changes --&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;&lt;!-- should changed when ng-view changes --&gt;&lt;/h1&gt;\n\n&lt;div data-ng-view&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My Javascript:</p>\n\n<pre><code>var myModule = angular.module('myModule', []);\nmyModule.config(['$routeProvider', function($routeProvider) {\n    $routeProvider.\n        when('/test1', {templateUrl: 'test1.html', controller: Test1Ctrl}).\n        when('/test2', {templateUrl: 'test2.html', controller: Test2Ctrl}).\n        otherwise({redirectTo: '/test1'});\n}]);\n\nfunction Test1Ctrl($scope, $http) { $scope.header = \"Test 1\"; \n                                  /* ^ how can I put this in title and h1 */ }\nfunction Test2Ctrl($scope, $http) { $scope.header = \"Test 2\"; }\n</code></pre>\n"},{"tags":["php","mvc","yii"],"answer_count":9,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1803,"score":3,"question_id":6551924,"title":"Adding Data with Yii Framework","body":"<p>This is my user table structure :</p>\n\n<pre><code>+----------------+------------------+------+-----+---------+----------------+\n| Field          | Type             | Null | Key | Default | Extra          |\n+----------------+------------------+------+-----+---------+----------------+\n| ID             | int(10) unsigned | NO   | PRI | NULL    | auto_increment |\n| screen_name    | varchar(20)      | NO   | UNI | NULL    |                |\n| slug           | varchar(20)      | NO   |     | NULL    |                |\n| email          | varchar(50)      | NO   | UNI | NULL    |                |\n| pass           | varchar(32)      | YES  |     | NULL    |                |\n| signin_twitter | enum('T','F')    | NO   |     | F       |                |\n| twitter_id     | int(11)          | YES  | UNI | NULL    |                |\n| bg_image       | varchar(50)      | YES  |     | NULL    |                |\n+----------------+------------------+------+-----+---------+----------------+\n</code></pre>\n\n<p>I'm trying to add data to my database. (in my controller)</p>\n\n<pre><code>$model=new Users;\n        //$this-&gt;performAjaxValidation($model);\n        if(isset($_POST['Users']))\n        {\n                    //screen_name, email,pass comes from form. Also, we need to set **slug** and **singin_twitter**\n                $_POST['Users']['slug'] = $this-&gt;sanitize($_POST['Users']['screen_name']);\n                $_POST['Users']['signin_twitter'] = 'F';\n            $model-&gt;attributes=$_POST['Users'];\n            if($model-&gt;save())\n                $this-&gt;redirect('dash/index');                  \n        }\n</code></pre>\n\n<p>But it's not saving data . <code>$model-&gt;save() returning FALSE</code> . How can i debug it ?</p>\n"},{"tags":["spring","hibernate","mvc","validator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":161,"score":0,"question_id":12532418,"title":"Spring mvc 3.1 with hibernate 4.3 validation and errors","body":"<p>I had the following setup:</p>\n\n<p>IndexCntl.java (Controller):</p>\n\n<pre><code>@RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String home(Locale locale, ModelMap map) {\n        Date date = new Date();\n        DateFormat dateFormat = DateFormat.getDateTimeInstance(DateFormat.LONG, DateFormat.LONG, locale);\n        String formattedDate = dateFormat.format(date);\n        map.addAttribute(\"serverTime\", formattedDate );\n        map.addAttribute(\"email\", new Email());\n        Map sexoOpts = new HashMap();\n        sexoOpts.put(\"M\", \"Homem\");\n        sexoOpts.put(\"F\", \"Mulher\");\n\n        map.addAttribute(\"sexoList\", sexoOpts);\n        return \"index\";\n    }\n\n@RequestMapping(value = \"/save-email\", method = RequestMethod.POST)\n    public String doSaveEmail(@Valid @ModelAttribute(\"email\") Email email, Model model, BindingResult result){\n        log.info(\"Email debug: \"+email.getEmail()+\" \"+email.getMysexy()+\" \"+email.getWantedsexy());\n\n        if (result.hasErrors()){\n            log.info(\"Entrou result.hasError()\");\n            return \"index\";\n        }\n        Date date = new Date();\n        email.setCreationDate(date);\n        try{\n            emailBo.saveEmail(email);\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n        model.addAttribute(\"email\", new Email());\n        return \"index\";\n    }\n</code></pre>\n\n<p>index.jsp (view):</p>\n\n<pre><code>&lt;form:form action=\"save-email\" method=\"POST\" modelAttribute=\"email\" cssStyle=\"display:-webkit-box\"&gt;\n                &lt;form:select path=\"mysexy\" cssStyle=\"width:120px;\"&gt;\n                    &lt;form:option value=\"\" label=\"- Sou -\"/&gt;\n                    &lt;form:options items=\"${sexoList}\" /&gt;\n                &lt;/form:select&gt;\n                &lt;form:errors path=\"mysexy\" cssClass=\"errors\"/&gt;\n                &lt;form:select path=\"wantedsexy\" cssStyle=\"width:120px;\"&gt;\n                    &lt;form:option value=\"\" label=\"- Busco -\"/&gt;\n                    &lt;form:options items=\"${sexoList}\" /&gt;\n                &lt;/form:select&gt;\n                &lt;form:errors path=\"wantedsexy\" cssClass=\"errors\"/&gt;\n                &lt;br/&gt;\n                &lt;form:errors path=\"wantedsexy\" cssClass=\"errors\"/&gt;\n                &lt;div class=\"input-append\"&gt;\n                    &lt;input type=\"text\" id=\"email\" name=\"email\" size=\"30\" maxlength=\"30\" placeholder=\"E-mail\" class=\"\"/&gt;\n                    &lt;form:errors path=\"email\" cssClass=\"errors\"/&gt;\n                    &lt;input id=\"btncadastrar\" class=\"btn btn-block btn-primary\" type=\"submit\" value=\"Cadastrar E-mail\"/&gt;\n                &lt;/div&gt;\n            &lt;/form:form&gt;\n</code></pre>\n\n<p>and part of the model Email.java:</p>\n\n<pre><code>@Document\n@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)\npublic class Email extends BaseBean {\n\n    // @Pattern(regexp =\n    // \"^[\\\\w\\\\-]+(\\\\.[\\\\w\\\\-]+)*@([A-Za-z0-9-]+\\\\.)+[A-Za-z]{2,4}$\",\n    // message=\"E-mail com formato incorreto.\")\n    @NotNull(message = \"Não pode ser vazio\")\n    @NotEmpty(message = \"Não pode ser vazio-nulo\")\n    @org.hibernate.validator.constraints.Email(message = \"E-mail inválido\")\n    private String email;\n\n    @NotEmpty(message = \"Informe ao menos um valor\")\n    private String mysexy;\n\n    @NotEmpty(message = \"Informe ao menos um valor\")\n    private String wantedsexy;\n</code></pre>\n\n<p>and i'm receiving this error when i try to pass with a empty email in input:</p>\n\n<pre><code>exception\n\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'email' on field 'email': rejected value []; codes [NotEmpty.email.email,NotEmpty.email,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [email.email,email]; arguments []; default message [email]]; default message [Não pode ser vazio-nulo]\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:894)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:641)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\nroot cause\n\norg.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'email' on field 'email': rejected value []; codes [NotEmpty.email.email,NotEmpty.email,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [email.email,email]; arguments []; default message [email]]; default message [Não pode ser vazio-nulo]\n    org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:110)\n</code></pre>\n\n<p>what can be wrong in my setup???</p>\n"},{"tags":["mvc","cakephp","model","cakephp-2.0"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12533640,"title":"Should controllers avoid private functions at CakePHP?","body":"<p>I was wondering if controllers at CakePHP should not contain any private function which is not accessible by URL.</p>\n\n<p>Sometimes some functions such as <strong>add</strong> or <strong>delete</strong> can be so large that I prefer to divide them. \nShould I put that functions inside the model instead of making then private on the Controller?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","oop","mvc","eclipse-rcp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":77,"score":-2,"question_id":12532920,"title":"Optimal Solution","body":"<p>I have a problem and I would like to discuss it with you to find the optimal solution.\nI have a bunch of TreeViews that contain nodes. When a user double clicks on a node, it will open by default an editor for that node.I have a special case for an node(lets call it of type NodeX) that has a specific behavior on Dclick. When the user doubleclicks this NodeX a new TreeView(Lets call it TreeViewX), with NodeX as root node will be opened instead of an editor.When the User clicks on NodeX in the new TreeView (TreeViewX) the editor will be opened.</p>\n\n<p>Infos about the structure:\nAll nodes are subclasses of a class called BaseNode which is in fact a Bussines Object. All baseNodes have associated Control Objects, inheriting from the superclass BaseNodeControl. All TreeViews are represented using the same TreeView class with specific TreeViewControls asocieted to every concrete TreeView (so practically there is no TreeViewX, just TreeViewControlX). Every BaseNodeContol has a method called open() which will open an editor for the specific BaseNode. The TreeView class has a method called onDoubleClick which will call the open method of the doubleClicked nodes Control.</p>\n\n<p>How would you implement it.I currently have a solution but I don't know if it's good:\nTreeView.onDoubleClick will check the id of the asocieted TreeViewControl and the doubleClicked node and according to it's id and node, it will call BaseNodeControl.open() or BaseNodeControlX.openEditor(). BaseNodeControl.open() will be overwritten in BaseNodeControlX and will open the TreeViewX.</p>\n\n<p>Thanks for your help.</p>\n\n<p>P.S. The application is an Eclipse RCP application using SWT and JFace but I don't think this matters.</p>\n"},{"tags":["javascript","html","mvc","knockout.js"],"answer_count":2,"favorite_count":3,"up_vote_count":12,"down_vote_count":0,"view_count":2184,"score":12,"question_id":7838853,"title":"Unexplainable variable $data in Knockout JS","body":"<p>In the <a href=\"http://learn.knockoutjs.com/#/?tutorial=webmail\">KnockoutJS tutorials</a> I stumbled upon the following code example that contains an unexplainable variable <code>$data</code>. The tutorial does not contain any explanation what that dollar sign is used for and where this <code>$data</code> comes from. The variable <code>$data</code> is nowhere defined and when I rename all three instances of <code>$data</code> to <code>$foobar</code>, the example does not work anymore. What kind of magic is going on here?</p>\n\n<p>View (HTML):</p>\n\n<pre><code>&lt;!-- Folders --&gt;\n&lt;ul class=\"folders\" data-bind=\"template: { name: 'folderTemplate', foreach: folders }\"&gt;&lt;/ul&gt;\n&lt;script type=\"text/html\" id=\"folderTemplate\"&gt;\n    &lt;li data-bind=\"css: { selected: $data == mailViewModel.selectedFolder() },\n                   click: function() { mailViewModel.selectFolder($data) }\"&gt;\n        ${$data}\n    &lt;/li&gt;    \n&lt;/script&gt;\n</code></pre>\n\n<p>View Model (JavaScript):</p>\n\n<pre><code>var viewModel = {\n    // Data\n    folders: ['Inbox', 'Archive', 'Sent', 'Spam'],\n    selectedFolder: ko.observable('Inbox'),\n\n    // Behaviours\n    selectFolder: function (folder) {\n        this.selectedFolder(folder);\n    }    \n};\n\nwindow.mailViewModel = viewModel;\nko.applyBindings(viewModel);\n</code></pre>\n\n<p>Thanks for any advice,</p>\n\n<p>Dominik</p>\n"},{"tags":["c#","mvc","entity-framework"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":636,"score":0,"question_id":6883998,"title":"C# MVC saving a list of sub items","body":"<p>I'm new to MVC and Entity frame work but i've come across an issue and i'm not sure how to resolve it some guidance is more then welcome.  I'm editing an object which has a sub list of different objects. I've got a working edit screen but i cant get the details stored back the database. I think the issue is around the context of the db but as i said i'm new to this.  Here are the 2 classes i'm using:</p>\n\n<pre><code>public class Role\n{    \n    [Key]    \n    public string Role { get; set; }    \n    public virtual ICollection&lt;Template&gt; Templates { get; set; }\n}\npublic class Template\n{    \n    [Key][Required]    \n    public string TemplateID { get; set; }    \n    [Required]    \n    public string Header { get; set; }    \n    [Required][DataType(DataType.MultilineText)]    \n    public string Description { get; set; }    \n    public virtual ICollection&lt;CorrespondenceRole&gt; Roles { get; set; }\n}\n</code></pre>\n\n<p>I also have this in my context </p>\n\n<pre><code>protected override void OnModelCreating(DbModelBuilder modelBuilder)\n{    \n    modelBuilder.Entity&lt;Template&gt;()        \n        .HasMany(c =&gt; c.Roles)        \n        .WithMany(c =&gt; c.Templates)        \n        .Map(m =&gt; m.ToTable(\"Template_Roles\")            \n            .MapLeftKey(\"TemplateID\")            \n            .MapRightKey(\"Role\"));\n}\n</code></pre>\n\n<p>If i use</p>\n\n<pre><code>public ActionResult Edit(Template ctemplate)\n{\n    db.Entry(ctemplate).State = EntityState.Modified;\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>The changes to the template object are recorded to the database but any changes to the roles list  are totally ignored even if i hardcode ctemplate.roles.add(somerole) before the db save.</p>\n\n<p>However if i use</p>\n\n<pre><code>public ActionResult Edit(Template ctemplate)\n{\n    Template ct = db.Templates.Find(ctemplate.TemplateID);\n    ct.Roles.Add(db.Roles.Find(\"Other Party\"));\n    db.Entry(ct).State = EntityState.Modified;\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>The \"role\" is saved against in the template in the database. So i could use this code to find the object then copy all the form fields into it and save it but it seems long winded when the first option does actually work but it just does not save my list.  Any comments or suggestions how best to save the changes to the object and its associated list of different objects? Thanks.</p>\n\n<p><strong>UPDATE</strong>\nI found this worked for me, but i have no idea if its the best way to go about it.</p>\n\n<pre><code>db.Entry(ct).State = EntityState.Modified;\n\nforeach (var entity in db.Roles.Where(cr =&gt; cr.TemplateID == ct.ID))\n    db.Roles.Remove(entity);\n\nforeach (Role cr in ct.Roles)\n    db.Roles.Add(cr);\n\ndb.SaveChanges();\n</code></pre>\n"},{"tags":["java","mvc","struts","atg"],"answer_count":4,"favorite_count":5,"up_vote_count":4,"down_vote_count":0,"view_count":12413,"score":4,"question_id":393723,"title":"Difference between Oracle ATG and Struts","body":"<p>What is the difference between Oracle ATG and Struts?</p>\n"},{"tags":["sql","mvc","pivot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12527738,"title":"SQL Pivot return all rows on table join even if no record exists (cross join?)","body":"<p>I have managed to successfully pivot my data against months. However the pivot only returns rows that have a value in my KPIData table.</p>\n\n<p>I am pivoting Months against KPIData and bringing in some fields from KPIGraph for filtering. I would like to be able to show nulls in the row for each month column whenever I add a KPIGraphs row and there is no related record in KPIData. At present this only works if I add atleast 1 value in my KPIData table which ofcourse then links everything up together due to the joins.</p>\n\n<p>The relationship is set as follows:\n<a href=\"http://goo.gl/9lvhF\" rel=\"nofollow\">http://goo.gl/9lvhF</a></p>\n\n<p>I have done some reading up and found that I will need to likey use a cross join here? I have never used one of these and after some further digging it has completely confused me in its implementation into my pivot sql.</p>\n\n<pre><code>SELECT *\nFROM (\n    SELECT [t0].[GraphID], CASE MonthID\n            WHEN 1 THEN 'October'\n            WHEN 2 THEN 'November'\n            WHEN 3 THEN 'December'\n            WHEN 4 THEN 'January'\n            WHEN 5 THEN 'February'\n            WHEN 6 THEN 'March'\n            WHEN 7 THEN 'April'\n            WHEN 8 THEN 'May'\n            WHEN 9 THEN 'June'\n            WHEN 10 THEN 'July'\n            WHEN 11 THEN 'August'\n            WHEN 12 THEN 'September'\n            END AS [Month], [t0].[Value], [t3].[Graph_Type], [t5].[Department], [t6].\n        [Type], [t8].[Financial_Year], [t7].[FYID], [t4].[KPITypeID]\n    FROM [KPIDatas] AS [t0]\n    INNER JOIN [Months] AS [t1] ON [t1].[ID] = [t0].[MonthID]\n    INNER JOIN [KPIGraphs] AS [t2] ON [t2].[ID] = [t0].[GraphID]\n    INNER JOIN [GraphTypes] AS [t3] ON [t3].[ID] = [t2].[GraphTypeID]\n    INNER JOIN [KPIs] AS [t4] ON [t4].[ID] = [t2].[KPIID]\n    INNER JOIN [Departments] AS [t5] ON [t5].[ID] = [t4].[DeptID]\n    INNER JOIN [KPITypes] AS [t6] ON [t6].[ID] = [t4].[KPITypeID]\n    INNER JOIN [CSFs] AS [t7] ON [t7].[ID] = [t4].[CSFID]\n    INNER JOIN [FYs] AS [t8] ON [t8].[ID] = [t7].[FYID]\n    ) TableDate\nPIVOT(SUM(Value) FOR [Month] IN (\n            [October], [November], [December], [January], [February], [March], [April]\n            , [May], [June], [July], [August], [September]\n            )) PivotTable\n</code></pre>\n\n<p>Any help on this is appreciated.</p>\n"},{"tags":["ruby-on-rails","database","mvc","activerecord"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":169,"score":3,"question_id":3168995,"title":"Are there advantages to using foreign key constraints when working in an active record framework like ruby-on-rails?","body":"<p>I'm moving back into full time web development after a 5 year hiatus.  My previous experience (no active record or MVC) tells me to be very thorough with my database schema.  Foreign key constraints, unique indexes, etc... can really help out when your writing spaghetti code.</p>\n\n<p>Does the community still find these useful when working in an Active Record / MVC framework?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My main concern is managing the constraints in two places; the model code and the db.  This means duplicate work and it could lead to bugs. I.e. you have a unique constraint on some field in the database but the model does not know about it?  I guess the reverse is true as well, you could just forget to put the constraint in the model then you would have duplicate data when you don't want it.</p>\n"},{"tags":["php","mvc","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":134,"score":0,"question_id":12517713,"title":"Understanding Opencart's MVC workflow","body":"<p>I am trying to understand how OpenCart's code works. The following code is defined in index.php(file attached) in OpenCart's mysite.com/admin/ folder. Could you please explain what the following code actually does ? I would like to know how it actually works.</p>\n\n<p>I also have attached loader.php and regsitry.php under their respective folder.</p>\n\n<pre><code>// Registry\n$registry = new Registry();\n\n// Loader\n$loader = new Loader($registry);\n$registry-&gt;set('load', $loader);\n</code></pre>\n\n<p><a href=\"http://dl.dropbox.com/u/27899629/mysite.com.zip\" rel=\"nofollow\">link to mysite.com admin </a> folder zip</p>\n\n<p>Though the following question is not similar to my question but still it touches similar point: \n<a href=\"http://stackoverflow.com/questions/10086942/opencart-meta-title-include-store-name\">Opencart meta title include store name</a></p>\n\n<p>regards</p>\n\n<p>dkjain.</p>\n"},{"tags":["c#",".net","asp.net-mvc","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":336,"score":4,"question_id":12318905,"title":"MVC Razor button click even pass parameter with it","body":"<p>I'm new to MVC Razor.</p>\n\n<p>I have this view:</p>\n\n<pre><code>@model SuburbanCustPortal.Models.CustomerModel\n\n@{\n    ViewBag.Title = \"Customer Summary\";\n}\n\n&lt;h2&gt;Customer Summary Screen&lt;/h2&gt;\n&lt;p&gt;\n    Please select an account below or add an existing account.\n&lt;/p&gt;\n\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n@using (Html.BeginForm())\n{\n  @Html.ValidationSummary(true, \"Account creation was unsuccessful. Please correct the errors and try again.\")\n\n  &lt;div&gt;\n    &lt;fieldset&gt;\n      &lt;legend&gt;Existing Accounts&lt;/legend&gt;\n\n      @Html.Action(\"ExistingAccounts2\")\n\n      &lt;p&gt;\n        &lt;input type=\"submit\" value=\"Add an Account\" /&gt;\n      &lt;/p&gt;\n\n\n    &lt;/fieldset&gt;\n  &lt;/div&gt;\n}\n</code></pre>\n\n<p>Which calls this method:</p>\n\n<pre><code>[Authorize]\npublic ActionResult ExistingAccounts2()\n{\n  return PartialView(\"ExistingAccounts\", _client.RequestCustomersForAccount(User.Identity.Name));\n}\n</code></pre>\n\n<p>Which in turn calls this partial view:</p>\n\n<pre><code>@model IEnumerable&lt;SuburbanCustPortal.SuburbanService.CustomerData &gt;\n\n&lt;br /&gt;\n&lt;br /&gt;\n&lt;table&gt;\n\n  @if (Model != null)\n  {\n    foreach (var usr in Model)\n    {\n      &lt;tr&gt;      \n        &lt;td&gt;\n          &lt;input id=\"btnShowCustomer\" name=\"btnShowCustomer2\" type=\"submit\" value=\"View\"/&gt;           \n        &lt;/td&gt;\n        &lt;td&gt;\n          @usr.AccountId\n        &lt;/td&gt;\n        &lt;td&gt;\n          @usr.Name\n        &lt;/td&gt;\n@*        &lt;td&gt;\n          @usr.DeliveryStreet\n        &lt;/td&gt;*@\n      &lt;/tr&gt;\n    }\n  }\n\n&lt;/table&gt;\n&lt;br /&gt;\n</code></pre>\n\n<p>Which ends up displaying this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/bm0gw.png\" alt=\"enter image description here\"></p>\n\n<p>This works up to this point.</p>\n\n<p>What I want to so is be able to click on the button next to the customer's name and it pull up the customer's account.</p>\n\n<p>How do I tie that customer to the button to know who to pull up and how do have the button click pull it up?</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12452779,"title":"Page not found error if controller is lowercase but works if first letter is uppercase in Zend Framework app","body":"<p>this is weird I've been hacking away for a while at this error. It seems to show up only on the deployment server. I have a perfectly working controller named holidays - here is the structure of the controller and the view:</p>\n\n<pre><code>controllers\n-&gt; HolidaysController.php\n\n&lt;?php\n\nclass HolidaysController extends App_Controller_Action {\n\n  public function indexAction() {\n.....\n  }\n}\n\n?&gt;\n</code></pre>\n\n<p>My views file is in </p>\n\n<pre><code>views/scripts/holidays/index.phtml\n</code></pre>\n\n<p>when I navigate to <code>website.com/holidays</code> it give me this error:</p>\n\n<pre><code>An error occurred\nPage not found\nException information:\n\nMessage: Action \"index\" does not exist and was not trapped in __call()\nStack trace:\n\n#0 /home/bookitfa/bookings/library/Zend/Controller/Action.php(515): Zend_Controller_Action-&gt;__call('indexAction', Array)\n#1 /home/bookitfa/bookings/library/Zend/Controller/Dispatcher/Standard.php(295): Zend_Controller_Action-&gt;dispatch('indexAction')\n#2 /home/bookitfa/bookings/library/Zend/Controller/Front.php(954): Zend_Controller_Dispatcher_Standard-&gt;dispatch(Object(Zend_Controller_Request_Http), Object(Zend_Controller_Response_Http))\n#3 /home/bookitfa/bookings/library/Zend/Application/Bootstrap/Bootstrap.php(97): Zend_Controller_Front-&gt;dispatch()\n#4 /home/bookitfa/bookings/library/Zend/Application.php(366): Zend_Application_Bootstrap_Bootstrap-&gt;run()\n#5 /home/bookitfa/bookings/public/index.php(29): Zend_Application-&gt;run()\n#6 {main}  \n\nRequest Parameters:\n\narray (\n  'controller' =&gt; 'holidays',\n  'action' =&gt; 'index',\n  'module' =&gt; 'default',\n)  \n</code></pre>\n\n<p>But when I navigate to <code>website.com/Holidays</code> it works for some odd reason. All other controllers work fine except this certain controller seems to only work if the controller name has the first letter uppercase. Why is that? This is a zend framework based application. All my urls would be out of place like this.\nEDIT =======</p>\n\n<p>The strange paart is that irrespective of what I keep the filename i.e HolidaysController.php or holidaysController.php - online I can only access it by /Holidays and not by /holidays, this is a very serious issue here and I've run out of ideas on how to resolve it :(</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12336163,"title":"Rails 3: Best practices for saving models","body":"<p>When should I save my models in rails? and who should be responsible for calling save, the model itself, or the caller? </p>\n\n<p>Lets say I have (public)methods like <code>udpate_points</code>, <code>update_level</code>, etc. in my user model. There are 2 options:</p>\n\n<ol>\n<li>The model/method is responsible for calling save . So each method will just call  <code>self.save</code>.</li>\n<li>The caller is responsible for calling save. So each method only updates the attributes but the caller calls <code>user.save</code> when it's done with the user. </li>\n</ol>\n\n<p>The tradeoffs are fairly obvious: \nIn option <em>#1</em> the model is guaranteed to save, but we call save multiple times per transaction. \nIn option <em>#2</em> we call save only once per transaction, but the caller has to make sure to call save. For example <code>team.leader.update_points</code> would require me to call <code>team.leader.save</code> which is somewhat non-intuitive. This can get even more complicated if I have multiple methods operating on the same model object. </p>\n\n<p>Adding a more specific info as per request: \nupdate level looks at how many points the users has and updates the level of the user. The function also make a call to the facebook api to notify it that the user has achieved an new level, so I might potently execute it as a background job. </p>\n"},{"tags":["jquery","mvc","validation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12516189,"title":"Fire jQuery after MVC Remote Returns","body":"<p>Is there any way to fire some jQuery AFTER the result from an MVC Remote is returned?</p>\n\n<p>I have a design like this:</p>\n\n<pre><code>&lt;div class=\"wrapper\"&gt;&lt;div class=\"inner1\"&gt;\n&lt;div class=\"inner2\"&gt;Message&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>and if there's an error, I need to change it to this:</p>\n\n<pre><code>&lt;div class=\"wrapper error\"&gt;&lt;div class=\"inner1 error\"&gt;\n&lt;div class=\"inner2 error\"&gt;Message&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>When the remote validation returns, it displays the message, but I'd like to fire some jQuery to add the classes to the divs where required.  Hope this makes sense...</p>\n"},{"tags":["mvc","design-patterns","symfony2","doctrine2"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":259,"score":2,"question_id":10543366,"title":"Slimming down Symfony2 controller and persist logic","body":"<p>From the point of view of MVC pattern and Symfony2, can i slim down my <strong>controller code</strong> just a bit, moving away some <strong>persist logic</strong>? For example, given a standard new action like this:</p>\n\n<pre><code>public function newAction(\\Symfony\\Component\\HttpFoundation\\Request $request)\n{\n\n    // Create a new entity and a new form type for managing\n    $entity = $this-&gt;createNewEntity();\n    $form   = $this-&gt;createForm($this-&gt;createNewFormType(), $entity);\n\n    // If it's GET just return the view\n    if('GET' == $request-&gt;getMethod())\n        return array('form' =&gt; $form-&gt;createView());\n\n    // It's POST request so bind the form\n    $form-&gt;bindRequest($request);\n\n    // ... and if it's valid just persist the entity\n    if($form-&gt;isValid()) :\n\n        $em = $this-&gt;getEntityManager(); // Should be carried by controller?\n        $em-&gt;persist($entity);           // Should be carried by controller?\n        $em-&gt;flush();                    // Should be carried by controller?\n\n        // Redirect the user to the default page\n        return $this-&gt;redirect($this-&gt;getOnNewSuccessRedirectUrl($entity));\n\n    endif;\n\n    // Return the view plus errors\n    return array(\n        'errors' =&gt; $this-&gt;getValidator()-&gt;validate($entity),\n        'form'   =&gt; $form-&gt;createView()\n    );\n\n}\n</code></pre>\n\n<p>Would be correct moving that <strong>logic to the repository</strong>? An example (warning: may not work):</p>\n\n<pre><code>class BaseRepository extends \\Doctrine\\ORM\\EntityRepository\n{\n\n    /**\n     * Persist the entity (either new or existent)\n     *\n     * @param object $entity\n     */\n    public function save($entity)\n    {\n        $em = $this-&gt;_em;\n        $em-&gt;persist($entity);\n        $em-&gt;flush();\n    }\n\n    /**\n     * Delete the entity.\n     *\n     * @param object $entity\n     */\n    public function delete($entity)\n    {\n        $em = $this-&gt;_em;\n        $em-&gt;remove($entity);\n        $em-&gt;flush();\n    }\n\n}\n</code></pre>\n\n<p>The controller code would be:</p>\n\n<pre><code>if($form-&gt;isValid()) :\n\n    $this-&gt;getRepository()-&gt;save($entity);\n\n    // Redirect the user to the default page\n    return $this-&gt;redirect($this-&gt;getOnNewSuccessRedirectUrl($entity));\n\nendif;\n</code></pre>\n"},{"tags":["mvc","design-patterns","symfony2","naming-conventions"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":213,"score":0,"question_id":10624033,"title":"Symfony2 and the MVC concept of view model","body":"<p>I think that Symfony2 is missing the concept of <strong>ViewModel</strong> (like ASP.NET MVC Framework), that is the model associated to a view. Symfony2 (as documentation) usually assign an <strong>array</strong> to a view.</p>\n\n<p>A view model could be a PHP class but it's something different from the form model and sometimes it's the same as a domain entity. It' sometimes useful when dealing with a great amount of information to be displayed.</p>\n\n<p>Anyway, is there any convention about where view models should go in Symfony2? Any specific folder? By now i have:</p>\n\n<pre><code>Symfony2/src/MyCompany/MyBundle/Form/Model\n</code></pre>\n\n<p>which holds models associated to forms. And:</p>\n\n<pre><code>Symfony2/src/MyCompany/MyBundle/Entity\n</code></pre>\n\n<p>for domain entities (bounded to database tables).</p>\n\n<p>Suggestions are much appreciated. What about <code>Symfony2/src/MyCompany/MyBundle/Model</code>?</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":10678585,"title":"In Symfony, is it a good programming practice to make a bundle just for services?","body":"<p>I have a symfony app that provides REST based services. I have one module that is responsible for user login/logout/register actions called the UserBundle.</p>\n\n<p>I have other bundles that provide resources once a user logs (and is provided a token hash). </p>\n\n<p>Now for every resource requested, the client sends the token back which needs to be authenticated. Where exactly do I place this authentication function? I mean I know it needs to be a service that can be injected into multiple bundles but does that mean it is best I create it's own bundle? What about additional services that I may need in future? If I create a bundle for each, then my code organization would get ugly real quick. </p>\n\n<p>Any tips? </p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1373,"score":2,"question_id":10738647,"title":"How to get all post parameters in Symfony2?","body":"<p>I want to get all post parameters of a symfony Form.</p>\n\n<p>I used :</p>\n\n<pre><code>$all_parameter = $this-&gt;get('request')-&gt;getParameterHolder()-&gt;getAll();\n</code></pre>\n\n<p>and I get this error </p>\n\n<pre><code>Fatal error: Call to undefined method Symfony\\Component\\HttpFoundation\\Request::getParameterHolder() in /Library/WebServer/Documents/Symfony/src/Uae/PortailBundle/Controller/NoteController.php on line 95\n</code></pre>\n"},{"tags":["mvc","extjs"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1167,"score":3,"question_id":9261458,"title":"Where should I define global functions in ExtJS 4 MVC?","body":"<p>I need to define some functions which i can call everywhere in my app.\nWhat is the best approach to achieve this?</p>\n"},{"tags":["spring","mvc","path-variables","command-objects"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12495869,"title":"Spring is not mapping @pathVariables correctly to the correct variables","body":"<p>We're having an issue where the values that we take in via @PathVariable or via binding under moderate load are getting assigned to the wrong variables.</p>\n\n<p>For doing these tests we're always hitting the same URL's.  Hitting the URL's slowly produce the correct results every time. </p>\n\n<p>We're using Spring 3.0.5.RELEASE but have tired up to 3.1.2.RELEASE and still have the issue.  We can't see anything else that's changed lately and we've had these services in production for over a year now and they seem to have just recently started throwing these. </p>\n\n<p>Code Example for Binding:</p>\n\n<pre><code> @RequestMapping(value = \"config/selectItem\")\npublic ModelAndView selectItem(@Valid selectItemCommand command, BindingResult bindResults) {\n   if (!\"test\".equals(command.getName())\n   {\n     //Fails into here\n     int i =0;\n\n   }    \n}\n</code></pre>\n\n<p>Code Example for Path Variables:</p>\n\n<pre><code>@RequestMapping(value = \"config/selectItem/{name}\",method = RequestMethod.GET)\npublic ModelAndView selectItem(@PathVariable(\"name\") String name)\n{\n  if (!\"test\".equals(name))\n  {\n    //Fails into here\n    int i = 0;\n  }\n}\n</code></pre>\n\n<p>I added a HttpServletRequest request to the parameter list and the URL that it shows has the correct values. </p>\n\n<p>I totally forgot but we had this come up about a year ago and I had put in a ticket at the time that I thought had resolved it but has not. \n<a href=\"http://stackoverflow.com/questions/5649669/spring-mvc-is-dropping-a-pathvariable\">Spring MVC is dropping a @PathVariable</a> </p>\n"},{"tags":["php","mysql","mvc","mysql-error-1064","opencart"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12503186,"title":"what is wrong with my sql query","body":"<p>I can't seem to find what is wrong with this sql query:</p>\n\n<pre><code>SELECT * FROM order WHERE order_id='20'\n</code></pre>\n\n<p>the error message is:</p>\n\n<pre><code>Notice: Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order WHERE order_id='20'' at line 1\nError No: 1064\nSELECT * FROM order WHERE order_id='20' \n</code></pre>\n"},{"tags":["mvc","checkbox"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":864,"score":0,"question_id":8086029,"title":"MVC - @Html.CheckBoxFor","body":"<p>I need a checkbox but the underlying data is of type smallint in the database. Not sure how to make the @Html.Checkbox with that datatype. It complains saying the following:</p>\n\n<p>Cannot implicitly convert type 'short?' to 'bool' </p>\n\n<p>Here is the code that I have:</p>\n\n<pre><code>    @Html.CheckBoxFor(model =&gt; model.HasCycle)\n</code></pre>\n"},{"tags":["mvc","symfony2","dependency-injection","fosuserbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":313,"score":1,"question_id":10106195,"title":"Symfony 2: Dependency injection (DI) of Controllers","body":"<p>Is there any chance to make Controllers dependent on their services not via using of service container inside them but through pure constructor dependency injection?</p>\n\n<p>I would like to write controllers in this way:</p>\n\n<pre><code>&lt;?php\n\nclass ArticleController extends \\Symfony\\Bundle\\FrameworkBundle\\Controller\\Controller\n{\n    private $articleFacade;\n    private $articleRepository;\n\n    public function __construct(ArticleFacade $articleFacade, ArticleRepository $articleRepository)\n    {\n        $this-&gt;articleFacade = $articleFacade;\n        $this-&gt;articleRepository = $articleRepository;\n    }\n\n    public function indexAction()\n    {\n        ...\n    }\n\n}\n</code></pre>\n\n<p>Unfortunatelly as I can see Symfony ControllerResolver does new instances of Controllers not via ServiceContainer but via simple <code>return new $controller</code> call.   </p>\n"},{"tags":["php","mvc","symfony2","3-tier"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":285,"score":1,"question_id":9484458,"title":"Achieving 3-tier architecture with Symfony PHP","body":"<p>In school web projects that I have done until now I have build my applications with a 3-tier approach.\nA data layer, an application and a presentation layer. \nI have used this architecture with python and java and I want to use it also with php.\nI was quite strict in the communication between layers as these were the requirements of the assignments and I can say that I find it quite good, as when I tried once to switch from mySQL to Mongo db, it was quite easy. I just had to change the code inside the function of my Data Access Object.</p>\n\n<p>As I said before I want to write a bigger application now in php and I downloaded and installed the Symfony2 Framework, which is an MVC framework. My intentions is to test the application with MySQL initial and then switch and test it with Redis.</p>\n\n<p>So myy question is: \nCan I use the functionality and all the \"goodies\" of the framework to write a 3 tier architecture application and how could I separate the layers? </p>\n"},{"tags":["php","mvc","symfony2","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":420,"score":0,"question_id":9083708,"title":"How to forward a request using a URL string in Symfony2","body":"<p>I want to perform a sub-request, but don't have the route in the format $this->forward() expects - I only have the url as a string.</p>\n\n<pre><code>// Symfony2 wants...\n$this-&gt;forward('ProjectCustomerBundle:Customer:view', array('id' =&gt; 1234));\n\n// I want... \n$this-&gt;forward('customer/view/1234');\n</code></pre>\n\n<p>Surely I can manually build a Route or Request object from the url to achieve this? I've got a sneaky suspicion that I'm missing something obvious here...</p>\n"},{"tags":["mvc","ember.js","sproutcore-2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12508628,"title":"Adding JQuery UI options to Ember views","body":"<p>Suppose I would like to modify view within the Ember.js sample <a href=\"http://github.com/emberjs/todos\" rel=\"nofollow\"><code>todo app</code></a> to be resizable.</p>\n\n<p>The JQuery code to do this would be:</p>\n\n<pre><code>$(\"#container\").resizable()\n</code></pre>\n\n<p>where #container represents a div. I am not sure where in the app structure this snippet would belong. Does it go inside of app.js? The contents is listed below and I am not sure which method would be most appropriate to put the above snippet in.</p>\n\n<pre><code>Todos = Ember.Application.create();\n\nTodos.Todo = Ember.Object.extend({\n  title: null,\n  isDone: false\n});\n\nTodos.todosController = Ember.ArrayController.create({\n  content: [],\n\n  createTodo: function(title) {\n    var todo = Todos.Todo.create({ title: title });\n    this.pushObject(todo);\n  },\n\n  clearCompletedTodos: function() {\n    this.filterProperty('isDone', true).forEach(this.removeObject, this);\n  },\n\n  remaining: function() {\n    return this.filterProperty('isDone', false).get('length');\n  }.property('@each.isDone'),\n\n  isEmpty: function() {\n    return this.get('length') === 0;\n  }.property('length'),\n\n  allAreDone: function(key, value) {\n    if (arguments.length === 2) {\n      this.setEach('isDone', value);\n\n      return value;\n    } else {\n      return !this.get('isEmpty') &amp;&amp; this.everyProperty('isDone', true);\n    }\n  }.property('@each.isDone')\n});\n\nTodos.CreateTodoView = Ember.TextField.extend({\n  insertNewline: function() {\n    var value = this.get('value');\n\n    if (value) {\n      Todos.todosController.createTodo(value);\n      this.set('value', '');\n    }\n  }\n});\n\nTodos.MainView = Ember.View.extend({\n  templateName: 'main_view'\n});\n</code></pre>\n"},{"tags":["mvc","caching","symfony2","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":613,"score":0,"question_id":8355981,"title":"Symfony2 cache and routing generation","body":"<p>this is my first attempt to create something with Symfony2.<br>\nI have my database, and I wanted to generate models from it automatically. So I run </p>\n\n<pre><code>php app/console doctrine:mapping:import MYBundle php\n</code></pre>\n\n<p>and </p>\n\n<pre><code>php app/console doctrine:generate:entities MYBundle\n</code></pre>\n\n<p>Ok, my entities are now created.<br>\nThen I wanted to create basic crud operations, so i run</p>\n\n<pre><code>php app/console generate:doctrine:crud\n</code></pre>\n\n<p>Which is supposed to create Controllers,Views and Routing table for the selected models.<br>\nThe problem is that the routing table isn't generated, so if i navigate to, let's say, /posts, and my index.html.twig contains </p>\n\n<pre><code>path('users_show', { 'id': entity.id }) }}\n</code></pre>\n\n<p>My server send a 500 Error.<br>\nSymfony doesn't even catch that error and show me the nice formatted exception.</p>\n\n<p>Furthermore if i modify my index.html.twig, it will remain cached until i don't rm -R the /app/cache/dev folder.<br>\nIs there a way to disable caching?</p>\n\n<p>[EDIT]</p>\n\n<p>my routing_dev.yml</p>\n\n<pre><code>_welcome:\n    pattern:  /\n    defaults: { _controller: OREBundle:Default:index }\n\n_assetic:\n    resource: .\n    type:     assetic\n\n_wdt:\n    resource: \"@WebProfilerBundle/Resources/config/routing/wdt.xml\"\n    prefix:   /_wdt\n\n_profiler:\n    resource: \"@WebProfilerBundle/Resources/config/routing/profiler.xml\"\n    prefix:   /_profiler\n\n_configurator:\n    resource: \"@SensioDistributionBundle/Resources/config/routing/webconfigurator.xml\"\n    prefix:   /_configurator\n\n_main:\n    resource: routing.yml\n</code></pre>\n\n<p>and my routing.yml </p>\n\n<pre><code>_welcome:\n    pattern:  /\n    defaults: { _controller: OREBundle:Default:index }\n_users:\n    pattern: /users\n    defaults: { _controller: OREBundle:Users:index}\n</code></pre>\n"},{"tags":["mvc","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":87,"score":5,"question_id":12489501,"title":"cakephp query with many tables","body":"<p>I have a site developed in cakephp 2.0, I have some tables relationed here is an example:\nThis is my relations:</p>\n\n<blockquote>\n  <p>ingredients (id,name) has many versions</p>\n  \n  <p>ingredient_properties(id,property_id,version_id) belongs\n  to properties, versions</p>\n  \n  <p>properties (id,name,value,group_id,unit_id) has many\n  ingredient_properties and belongs to groups,units</p>\n  \n  <p>groups (id,name) has many properties</p>\n  \n  <p>units (id,name) has many properties</p>\n  \n  <p>versions (id,name,ingredient_id,active) has many ingredient_properties and belongs to ingredients.</p>\n</blockquote>\n\n<p>I am in the ingredientController.php and I wanto to retrieve all this data where <code>Version.active=1</code> and <code>Version.ingredient_id=2</code>. </p>\n\n<p>This is my query:</p>\n\n<pre><code>$this-&gt;set(\n        'ingredient',\n        $this-&gt;Ingredient-&gt;Version-&gt;find('all', array(\n            'recursive' =&gt; 2,\n            'conditions' =&gt; array(\n                'Version.active' =&gt; 1,\n                'Version.ingredient_id' =&gt; 2\n             )\n        ))\n);\n</code></pre>\n\n<p>I have many and many queries like this and I want to know if recursive 2 is the best way to retrieve all data of the table that I have explained or there is a better way most quickly (in terms of speed of query not to implement).\nI hope that someone can help me to optimize my code because this query works but I don't know if it is the better way to retrieve data of many tables relationed.</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","jquery","ajax","asp.net-mvc","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":12231583,"title":"Using javascript to call controller methond in mvc","body":"<p>Im trying to make a table row work as a link to another view in my mvc website. Instead of using the standard \"Details\" link provided by the auto generated table list, I would like to use the table row as a link to the \"Details\" view instead. So somehow I need to make the row work as a link. Each rom has a unique id that I need to pass on to the controller method. I have tried different solutions but noting happens when I press on the table row...</p>\n\n<p>So far this is what I have:\n    \n    \n    </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $('#customers tr').click(function () {\n        var id = $(this).attr('id');\n        $.ajax({\n            url: \"Customer/Details\" + id,\n            succes: function () { }\n        });\n    })\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>My controller method:</p>\n\n<pre><code>        public ActionResult Details(int id)\n    {\n        Customer model = new Customer();\n        model = this.dbEntities.Customers.Where(c =&gt; c.Customer_ID == id).Single();\n        return View(model);\n    }\n</code></pre>\n\n<p>Gloab.asax:\n    public static void RegisterGlobalFilters(GlobalFilterCollection filters)\n        {\n            filters.Add(new HandleErrorAttribute());\n        }</p>\n\n<pre><code>    public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        routes.MapRoute(\n            \"Default\", // Route name\n            \"{controller}/{action}/{id}\", // URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }     \n        );\n\nroutes.MapRoute(\n            \"CustomerDetails\",\n            \"Customer/Details/{id}\",\n            new { controller = \"Customer\", action = \"Details\", id = \"\" }\n        );\n    }\n\n    protected void Application_Start()\n    {\n        AreaRegistration.RegisterAllAreas();\n\n        // Use LocalDB for Entity Framework by default\n        Database.DefaultConnectionFactory = new SqlConnectionFactory(@\"Data Source=(localdb)\\v11.0; Integrated Security=True; MultipleActiveResultSets=True\");\n\n        RegisterGlobalFilters(GlobalFilters.Filters);\n        RegisterRoutes(RouteTable.Routes);\n    }\n</code></pre>\n"},{"tags":["javascript","mvc"],"answer_count":6,"favorite_count":2,"up_vote_count":5,"down_vote_count":1,"view_count":8960,"score":4,"question_id":2709978,"title":"Call javascript from MVC controller action","body":"<p>Can I call javascript function from <strong>MVC controller action</strong> (not from view page) and get return value? How?</p>\n"},{"tags":["php","mvc","symfony2"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":440,"score":6,"question_id":7326819,"title":"Where do I put classes in Symfony that are neither Controllers nor models?","body":"<p>For my application bundle, I will need some classes that are neither controllers nor models. For instance, I would like to have a <code>scorecard</code> class that has members such as \"skill\", \"efficiency\", \"beauty\", etc. Also, it may have member method/getters like \"meanScore\".</p>\n\n<p>Where would such a class go in the Symfony framework?</p>\n"},{"tags":["php","mvc","symfony2","twig"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":7415930,"title":"symfony .. hyperlinks on a view","body":"<p>My question is how to make a hyperlink in a view? Like <code>&lt;a href=\"link\"&gt;&lt;/a&gt;</code> in HTML. Have I to create it in an action method in the controller and then send it to a view? or what exactly?</p>\n"},{"tags":["mvc","session","symfony2","controllers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":7572039,"title":"Session control Various controllers at the same page in Symfony 2?","body":"<p>i'm trying to control the session to forbid the access to some pages of my web app. The way is simple, a boolean session variable. The thing is there's one page for every action, but, i think is not elegant at all to ask in every action if the user is logged or not. How can i do this elegantly in a MVC architecture? It looks crappy this way. I was thinking that there is a parent action that redirects to the final one, the one that renders the page, is it right? maybe i could make the check there.</p>\n\n<pre><code>public function createAction(Request $request){\n        $sess = $this-&gt;getRequest()-&gt;getSession();\n        if ($sess-&gt;get('logged') == true) {\n        // ---- ACTION CODE GOES HERE ---- //\n        }\n}\n</code></pre>\n"},{"tags":["php","mvc","symfony2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1665,"score":0,"question_id":7609376,"title":"Symfony2 vendors install","body":"<p>I'm trying to setup and create new bundle with symfony2, but getting so much error almost every step.</p>\n\n<p>I'm download symfony and run this command;  </p>\n\n<p><code>php bin/vendors install</code></p>\n\n<p><code>&gt; Installing/Updating swiftmailer\nCloning into /var/www/Symfony/vendor/swiftmailer...<br>\n...<br>\n...<br>\n...<br>\n [ErrorException]<br>\n  Warning: constant(): Couldn't find constant Monolog\\Logger::iNFO in /var/www/Symfony/vendor/symfony/src/Symfony/Bundle/MonologBundle/DependencyInjection/MonologExtension.php line 103<br>\n</code></p>\n\n<p>what is the problem? what should I do?</p>\n"},{"tags":["c#",".net","mvc","entities"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1251,"score":0,"question_id":7511338,"title":"AcceptChanges cannot continue because the object's key values conflict with another object in the ObjectStateManager","body":"<p>The changes to the database were committed successfully, but an error occurred while updating the object context. The ObjectContext might be in an inconsistent state. Inner exception message: AcceptChanges cannot continue because the object's key values conflict with another object in the ObjectStateManager. Make sure that the key values are unique before calling AcceptChanges.</p>\n\n<p>Is the error message i get. here are the two functions i use...</p>\n\n<pre><code>    public IList&lt;string&gt; GenerateVersions(decimal id, decimal fId, string folderName, string filename, string objFile)\n    {\n        List&lt;string&gt; generatedFiles = new List&lt;string&gt;();\n\n        foreach (var tCmdSets in db.IMG_SETTINGS_CMDSETS.Where(\"it.SETTINGS_FOLDER_ID = @folderid\", new ObjectParameter(\"folderid\", id)))\n        {\n            var strDestinationPath = ImageResizer.Util.PathUtils.RemoveExtension(Path.Combine(tmpDefaultFolder, tCmdSets.SETTINGS_CMDSET_DESTINATION, filename));\n            ResizeSettings objResizeCommand = new ResizeSettings(tCmdSets.SETTINGS_CMDSET_COMMAND);\n\n            var strCreatedFile = ImageBuilder.Current.Build(objFile, strDestinationPath, objResizeCommand, false, true);\n            generatedFiles.Add(\"### File created: (\" + folderName + \" » \" + tCmdSets.SETTINGS_CMDSET_NAME + \" ») \" + Path.GetFileName(strCreatedFile));\n\n            IMG_UPLOAD_GENERATED_FILES tObjGenerated = new IMG_UPLOAD_GENERATED_FILES();\n\n            tObjGenerated.UPLOAD_GENERATED_FILE_NAME = Path.GetFileName(strCreatedFile);\n            tObjGenerated.UPLOAD_GENERATED_PATH = Path.GetDirectoryName(strCreatedFile);\n            tObjGenerated.SETTINGS_CMDSET_ID = tCmdSets.SETTINGS_CMDSET_ID;\n            tObjGenerated.UPLOAD_FILE_ID = fId;\n\n            dbHandler.IMG_UPLOAD_GENERATED_FILES.AddObject(tObjGenerated);\n            dbHandler.SaveChanges();\n        }\n        return generatedFiles;\n    }\n\n    public ActionResult UploadBulkFiles(decimal id)\n    {\n        IMG_SETTINGS_FOLDERS img_settings_folders = db.IMG_SETTINGS_FOLDERS.Single(i =&gt; i.SETTINGS_FOLDER_ID == id);\n        string strBulkDirectory = Path.Combine(tmpDefaultFolder, img_settings_folders.SETTINGS_FOLDER_BULK);\n        string[] objFiles = Directory.GetFiles(strBulkDirectory);\n        List&lt;string&gt; lstOuput = new List&lt;string&gt;();\n\n        foreach (var tFile in objFiles)\n        {\n            System.IO.File.Move(tFile, Path.Combine(tmpDefaultFolder, \"masters\", img_settings_folders.SETTINGS_FOLDER_NAME, Path.GetFileName(tFile)));\n\n            lstOuput.Add(\"### File moved to masters (\" + img_settings_folders.SETTINGS_FOLDER_NAME + \" ») \" + Path.GetFileName(tFile));\n\n            IMG_UPLOAD_FILES tObjUploadedFile = new IMG_UPLOAD_FILES();\n\n            tObjUploadedFile.UPLOAD_FILE_NAME = Path.GetFileName(tFile);\n            tObjUploadedFile.SETTINGS_FOLDER_ID = img_settings_folders.SETTINGS_FOLDER_ID;\n\n            dbHandler.IMG_UPLOAD_FILES.AddObject(tObjUploadedFile);\n            dbHandler.SaveChanges();\n\n            var objGeneratedFiles = GenerateVersions(img_settings_folders.SETTINGS_FOLDER_ID,tObjUploadedFile.UPLOAD_FILE_ID, img_settings_folders.SETTINGS_FOLDER_NAME, Path.GetFileName(tFile), Path.Combine(tmpDefaultFolder, \"masters\", img_settings_folders.SETTINGS_FOLDER_NAME, Path.GetFileName(tFile)));\n            lstOuput.AddRange(objGeneratedFiles);\n        }\n        if (lstOuput.Count &gt; 0)\n        {\n            return PartialView(\"UploadSingleFile\", lstOuput);\n        }\n        else\n        {\n            return PartialView(\"NoUploads\");\n        }\n    }\n</code></pre>\n\n<p>DATA MODEL</p>\n\n<p>IMG_UPLOAD_FILE</p>\n\n<ul>\n<li>UPLOAD_FILE_ID (PK)</li>\n<li>UPLOAD_FILE_NAME</li>\n<li>SETTINGS_FOLDER_ID</li>\n</ul>\n\n<p>IMG_UPLOAD_GENERATED_FILES</p>\n\n<ul>\n<li>UPLOAD_GENERATED_FILE_ID (PK)</li>\n<li>UPLOAD_GENERATED_FILE_NAME</li>\n<li>UPLOAD_GENERATED_FILE_PATH</li>\n<li>SETTINGS_CMDSET_ID</li>\n<li>UPLOAD_FILE_ID</li>\n</ul>\n"},{"tags":["objective-c","ios","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12495941,"title":"Correct MVC pattern for gesture recognizer","body":"<p>I am creating a custom gesture recognizer, and my goal is to log movement above a certain threshold for the duration of the gesture, then report that data set at the end of the gesture. I'm a little fuzzy about the role that the gesture recognizer object plays.</p>\n\n<p>As I am still a bit new to OOP, I am wondering about the best practice for MVC with this gesture recognizer. Specifically, should the gesture recognizer be \"dumb\" and only report movement to a view controller, and let the logic and logging happen in the VC, or is it just as fine to do light logic and logging in the gesture recognizer, then let it report back when the gesture is finished, and have the VC ask the gesture recognizer for the data.</p>\n\n<p>Here is some sample code for what I'm currently prototyping (with the approach of having the logic and logging in the gesture recognizer):</p>\n\n<pre><code>- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event\n{\n    [super touchesMoved:touches withEvent:event];\n    if (self.state == UIGestureRecognizerStateFailed) return;\n\n    CGPoint nowPoint = [[touches anyObject] locationInView:self.view];\n    int xMovement = nowPoint.x - self.previousPoint.x;\n    int yMovement = nowPoint.y - self.previousPoint.y;\n\n    if (xMovement &gt;= 0) {\n        // positive/no x movement, log points if x or y has movement above threshold\n        if (xMovement &gt; MovementThreshold || yMovement &gt; MovementThreshold) {\n            NSLog(@\"Movement above the threshold!\\nx: %f\\ty: %f\", nowPoint.x, nowPoint.y);\n            self.previousPoint = nowPoint;\n        }\n    } else {\n        // negative x movement\n        self.state = UIGestureRecognizerStateFailed;\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12500771,"title":"Is loading a model within another CodeIgniter model appropriate?","body":"<p>I have an architectural question that has been bothering me. </p>\n\n<p>Codeigniter defines there <a href=\"http://codeigniter.com/user_guide/general/models.html\" rel=\"nofollow\">model</a> as such.  Now there are times when a model is closely tied to another.  I.e. User and Security.  </p>\n\n<p><strong>Is it bad practice to access another model within a model?</strong>  </p>\n\n<p>i.e. </p>\n\n<pre><code>class User extends CI_model \n{\n    function getUser() \n    {\n        $this-&gt;load-&gt;model('User');\n        $user = // load user \n\n        $this-&gt;load-&gt;model('Security');\n        $security = // load security\n\n        $user-&gt;security = $security;\n    }\n}\n</code></pre>\n\n<p>Some how it doesn't feel 'kosher' to me.   It feels like I need to have a DAO or some sort of DAL on top which can then load both models and do the necessary fetching while leaving the basic CRUD and model specific operations in the model.  And if we do create a separate layer, there doesn't seem like a logical place to put them in the Codeigniter framework.  </p>\n"},{"tags":["java","spring","mvc","spring-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12498840,"title":"Difference between BeanNameUrlHandlerMapping SimpleUrlHandlerMapping","body":"<p>What is the difference between Spring BeanNameUrlHandlerMapping and SimpleUrlHandlerMapping?</p>\n\n<p>After going through some site I understand that \nBeanNameUrlHandlerMapping is the default HandlerMapping for DispatcherServlet.</p>\n\n<p>Also in BeanNameUrlHandlerMapping you can directly map url with Controller.</p>\n\n<p>but same thing can be done with SimpleUrlHandlerMapping as well.</p>\n\n<p>I know something but not that much clear, that it has to do something with \n</p>\n\n<p>name accepts / but id can't.....but i am confused.</p>\n\n<p>what is the exact diffrence? what is the need of SimpleUrlHandlerMapping?</p>\n\n<p>please explain...Thanks.</p>\n"},{"tags":["javascript","mvc","event-handling","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12496661,"title":"Doesn't attaching ng-click within a template defeat the purpose of MV*?","body":"<p>In angularjs there are examples where the ng-click handler is attached directly to an html element such as <code>&lt;a&gt;</code> or <code>&lt;button&gt;</code>. See my example below (taken from an angular home page example). It defines the anchor tag's click handler, which will call <code>archive()</code>.</p>\n\n<p>Doesn't this go against the whole MV* framework? Wouldn't it be better to define the click somewhere other than the view? It just seems like a bit too much functionality is now attached to the anchor tag. Can anyone enlighten me here?</p>\n\n<p>Example Code:</p>\n\n<pre><code>&lt;a href=\"\" ng-click=\"archive()\"&gt;archive&lt;/a&gt;\n</code></pre>\n"},{"tags":["jquery","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12498345,"title":"MVC Pass generic list to controller action from JS file","body":"<p>I have a text file and when users upload the file, the controller action method parses that file using state machine and uses a generic list to store some values. I pass this back to the page in the form of a hidden field. Users can then click on a link which invoked a JS modal dialoag box and they could see the list and add comments for each item in the list. When they click on the link I am trying to post to an action method which would take that hidden field and do something with it and render a partial view. The problem is when i post to this action method, this field is being passed as null.</p>\n\n<p>here is my code</p>\n\n<pre><code>@Html.HiddenFor(model =&gt; model.ExceptionString)\n\n\n\nif (Model.ExceptionString != null)\n           {\n               if (Model.ExceptionString.Count &gt; 0)\n               {\n        &lt;div class=\"bodyContent\"&gt;\n            &lt;span class=\"leftContent\"&gt;\n                @Html.Label(\"Test Exceptions\")\n            &lt;/span&gt;&lt;span class=\"rightContent\"&gt;&lt;span id=\"TestExceptionChildDialogLink\" class=\"treeViewLink\"&gt;Click\n                here to View Test Exceptions&lt;/span&gt;\n                &lt;br /&gt;\n                &lt;span id=\"TestExceptionDisplay\"&gt;&lt;/span&gt;\n                @Html.HiddenFor(model =&gt; model.ExceptionString)\n                &lt;input id=\"ExceptionString\" type=\"hidden\" value=\"@Model.ExceptionString\" /&gt;\n            &lt;/span&gt;\n        &lt;/div&gt;\n               }\n           }\n\n&lt;div id=\"testExceptiontreeview\" title=\"Dialog Title\" style=\"font-size: 10px; font-weight: normal;\n    overflow: scroll; width: 800px; height: 450px;\"&gt;\n    &lt;div id=\"testExceptions\"&gt;\n\n    &lt;/div&gt;\n    &lt;div id=\"inputTestExceptions\" style=\"display: none;\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n  var runlogTestExceptionUrl = '@Url.Action(\"ListTestExceptions\", \"RunLogEntry\")';\n\nJS FILE\n\n $(\"#inputTestExceptions\").load(runlogTestExceptionUrl, { ExceptionStrings: $(\"#ExceptionString\").val() });\n</code></pre>\n\n<p>Controller action</p>\n\n<pre><code>[HttpPost]\n        public ViewResult ListTestExceptions(List&lt;string&gt; ExceptionStrings)\n        {\n</code></pre>\n\n<p>Any ideas as to why exception string list is null while being passed by the JS to the abive action method?</p>\n"},{"tags":["asp.net","javascript","asp.net-mvc","ajax","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":326,"score":1,"question_id":3040249,"title":"How can I hit my database with an AJAX call using javascript?","body":"<p>I am pretty new at this stuff, so bear with me.</p>\n\n<p>I am using ASP.NET MVC.</p>\n\n<p>I have created an overlay to cover the page when someone clicks a button corresponding to a certain database entry. Because of this, ALL of my code for this functionality is in a .js file contained within my project.</p>\n\n<p>What I need to do is pull the info corresponding to my entry from the database itself using an AJAX call, and place that into my textboxes. Then, after the end-user has made the desired changes, I need to update that entry's values to match the input. I've been surfing the web for a while, and have failed to find an example that fits my needs effectively.</p>\n\n<p>Here is my code in my javascript file thus far:</p>\n\n<pre><code>function editOverlay(picId) {\n      //pull up an overlay\n      $('body').append('&lt;div class=\"overlay\" /&gt;');\n      var $overlayClass = $('.overlay');\n\n      $overlayClass.append('&lt;div class=\"dataModal\" /&gt;');\n      var $data = $('.dataModal');\n\n      overlaySetup($overlayClass, $data);\n\n\n      //set up form\n      $data.append('&lt;h1&gt;Edit Picture&lt;/h1&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      $data.append('Picture name: &amp;nbsp;');\n      $data.append('&lt;input class=\"picName\" /&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      $data.append('Relative url: &amp;nbsp;');\n      $data.append('&lt;input class=\"picRelURL\" /&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      $data.append('Description: &amp;nbsp;');\n      $data.append('&lt;textarea class=\"picDescription\" /&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;');\n\n      var $nameBox = $('.picName');\n      var $urlBox = $('.picRelURL');\n      var $descBox = $('.picDescription');\n\n      var pic = null; \n\n//this is where I need to pull the actual object from the db\n      //var imgList = \n      for (var temp in imgList)  {\n          if (temp.Id == picId) {\n              pic= temp;\n              }\n          }\n\n  /*\n      $nameBox.attr('value', pic.Name);\n      $urlBox.attr('value', pic.RelativeURL);\n      $descBox.attr('value', pic.Description);\n  */\n\n      //close buttons\n      $data.append('&lt;input type=\"button\" value=\"Save Changes\" class=\"saveButton\" /&gt;');\n      $data.append('&lt;input type=\"button\" value=\"Cancel\" class=\"cancelButton\" /&gt;');\n\n\n      $('.saveButton').click(function() {\n          /*\n          pic.Name = $nameBox.attr('value');  \n          pic.RelativeURL = $urlBox.attr('value');\n          pic.Description = $descBox.attr('value');\n          */\n\n          //make a call to my Save() method in my repository\n\n          CloseOverlay();\n      });\n\n      $('.cancelButton').click(function() {\n          CloseOverlay();\n      });\n  }\n</code></pre>\n\n<p>The stuff I have commented out is what I need to accomplish and/or is not available until prior issues are resolved.</p>\n\n<p>Any and all advice is appreciated! Remember, I am VERY new to this stuff (two weeks, to be exact) and will probably need highly explicit instructions.</p>\n\n<p>BTW: overlaySetup() and CloseOverlay() are functions I have living someplace else.</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net-mvc","mvc","razor","asp.net-mvc-4"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":95,"score":-1,"question_id":12493116,"title":"How to add individual css file in particular view in mvc4?","body":"<p>Actually I've a master page and I'm adding this master page into another view (Index.cshtml), now I want to add another individual css file into Index.cshtml view.</p>\n"},{"tags":["mvc","view","model","standards","rounding"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":12496855,"title":"\"numerical rounding\" in view or in model?","body":"<p>Maybe that's a stupid question, but i'm totally unsure about how \"intelligent\" a view should be: </p>\n\n<p><strong>Is it good practice to round a number in the view (or is it a no-go and you have to do it in the model) ?</strong></p>\n\n<p>Rounding is usually a layout/output thing, but also a mathematical issue which belongs into a model. Hm....</p>\n"},{"tags":["c#","database","mvc","desktop"],"answer_count":4,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":2981,"score":6,"question_id":4608251,"title":"Writing dot net desktop application with MVC design pattern","body":"<p>I got an assignment to make a Desktop application using C#. It has to be done using MVC design pattern, but I can't find any tutorial which can show how to do it with Desktop based application. All the tutorials which I can find show how to do it for web (asp.net).</p>\n\n<p>So I was wondering if someone can suggest me a book or online tutorial which is doing this? </p>\n"},{"tags":["spring","mvc","servlets","dependency-injection","inversion-of-control"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12490170,"title":"Spring DI Unsatisfied dependency expressed","body":"<p>applicationContext.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"user\" class=\"com.pomkine.pottyauth.domain.User\"/&gt;\n    &lt;bean id=\"userdao\" class=\"com.pomkine.pottyauth.persistance.GaeUserDao\"/&gt;\n    &lt;bean id=\"userservice\" class=\"com.pomkine.pottyauth.service.UserServiceImpl\"&gt;\n        &lt;constructor-arg ref=\"userdao\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>@Controller\npublic class RosterController {\n\n    private UserService userService;\n\n    @Inject\n    public RosterController(UserService userService){\n        this.userService=userService;\n    }\n\n    @RequestMapping(value = {\"/userRoster\"}, method = RequestMethod.GET)\n    public String showRosterPage(Map&lt;String,Object&gt; model){\n        model.put(\"users\",userService.getAllUsers());\n        return \"userRoster\";\n    }\n}\n</code></pre>\n\n<p>So I want UserService to be injected into my controller. But I'm getting the following exception: </p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'rosterController' defined in file [S:\\Coding\\Idea_workspace\\pottyAuth\\target\\pottyAuth-1.0\\WEB-INF\\classes\\com\\pomkine\\pottyauth\\mvc\\RosterController.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.pomkine.pottyauth.service.UserService]: : No matching bean of type [com.pomkine.pottyauth.service.UserService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency.\n</code></pre>\n\n<p>Here is my UserServiceImpl class:</p>\n\n<pre><code>public class UserServiceImpl implements UserService {\n\n    private UserDao dao;\n\n\n\n    public UserServiceImpl(UserDao dao){\n        this.dao=dao;\n    }\n    @Override\n    public User getUser(User user) {\n        return dao.getUser(user);\n    }\n\n    @Override\n    public void addUser(User user) {\n         dao.addUser(user);\n    }\n\n    @Override\n    public List getAllUsers() {\n        return dao.getAllUsers();\n    }\n}\n</code></pre>\n\n<p>So I'm expecting Spring container to create UserServiceImlp bean and inject it into RosterController. But it seems that it cannot find UserServiceImpl bean.</p>\n\n<p>What could be wrong?</p>\n"},{"tags":["java","spring","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12492714,"title":"Spring - How can I control the URL that's displayed for a view?","body":"<p>I have 4 types of requests handled by 4 different methods in <code>AccountsController</code>:</p>\n\n<ol>\n<li><code>/accounts</code> Displays all the accounts</li>\n<li><code>/accounts/new</code> New accounts page</li>\n<li><code>/accounts/{accountId}/edit</code> Edit account page</li>\n<li><code>/accounts/{accountId}/delete</code> Deletes an account</li>\n</ol>\n\n<p><code>(1)</code> is fine. I just return the <code>DisplayAccounts.jsp</code> view.</p>\n\n<p>Regarding <code>(2)</code> and <code>(3)</code>, When I take the user from initial view to <code>DisplayAccounts.jsp</code> (once the action is successful), the URL is still the old one (either <code>/accounts/new</code> or <code>/accounts/{accountId}/edit</code> respectively)</p>\n\n<p>And with <code>(4)</code>, I dont have a view to start with. It's just an action, which should return the view <code>EditAccount.jsp</code> on failure and <code>DisplayAccounts.jsp</code> on success. And again, the final URL should be <code>/accounts/{accountId}/edit</code> or <code>/accounts</code> respectively.</p>\n\n<p>How do I accomplish this?</p>\n"},{"tags":["c#","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":431,"score":1,"question_id":10950638,"title":"The referenced component 'EntityFramework' could not be found.","body":"<p>So im downloading a project at home from work over team foundation server. I download the project and it won't compile because of the error. Warning    2   The referenced component 'EntityFramework' could not be found. Could anyone offer guidance in how I can get entity framework to work. I installed nuget package.</p>\n\n<p>Thankyou </p>\n"},{"tags":["mvc","orchardcms"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":332,"score":2,"question_id":8916146,"title":"Scheduled tasks using Orchard CMS","body":"<p>I need to create scheduled task using Orchard CMS. </p>\n\n<p>I have a service method (let's say it loads some data from external source), and I need to execute it everyday at 8:00 AM.</p>\n\n<p>I figured out I have to use IScheduledTaskHandler and IScheduledTaskManager... Does anyone know how to solve this problem? Some sample code will be appriciated.</p>\n"},{"tags":["php","mvc","zend-framework","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12490252,"title":"Class Not Found when extends a Class of Subdirectory Controller in ZendFramework","body":"<p>I've the next structure</p>\n\n<pre>-application\n--controllers\n---Sub\n----DemoController.php\n---IndexController.php\n-models\n-views\n-Boostrap.php</pre>\n\n<p>Well, in my Sub/DemoController.php I've the next:</p>\n\n<pre><code>&lt;?php\nclass Sub_DemoController extends Zend_Controller_Action\n{\n    public function indexAction()\n    {\n        echo 'hello demo';\n    }\n}\n</code></pre>\n\n<p>And my IndexController.php like this:</p>\n\n<pre><code>&lt;?php\nclass IndexController extends Sub_DemoController\n{\n}\n</code></pre>\n\n<p>When I run my web throw the next error: Class 'Sub_DemoController' not found ...\nI try with initialize class with Application_Sub_DemoController, but return the same result.</p>\n\n<p><strong>I don't want use modules</strong>, I know how uses modules in Zend Framewoork but I don't looking for it.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","mvc","graphics2d"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":103,"score":2,"question_id":12453475,"title":"Is this MVC? Simple Java Graphics2D drawing program","body":"<p>I'm after opinions please on this attempt at MVC using Java Graphics2D.\nI wanted to get my head round MVC using a simple example.</p>\n\n<p>Have I got it right please?</p>\n\n<p>Docs here.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/index-142890.html</a></p>\n\n<p>Feedback appreciated cheers.</p>\n\n<pre><code>public class App {\n\n    /*\n     * The view registers as a listener on the model. Any changes to the\n     * underlying data of the model immediately result in a broadcast change\n     * notification, which the view receives.\n     * \n     * Note that the model is not aware of the view or the controller -- it\n     * simply broadcasts change notifications to all interested listeners.\n     * \n     * The controller is bound to the view. This typically means that any user\n     * actions that are performed on the view will invoke a registered listener\n     * method in the controller class.\n     * \n     * The controller is given a reference to the underlying model.\n     */\n    public static void main(String[] args) {\n        Model model = new Model();\n        Controller controller = new Controller(model);\n        View view = new View(controller);\n        model.addModelChangedListener(view);\n\n    }\n}\n\nimport java.awt.Rectangle;\nimport java.util.ArrayList;\nimport java.util.Iterator;\n\npublic class Model {\n\n    private ArrayList&lt;Rectangle&gt; rectangles = new ArrayList&lt;Rectangle&gt;();\n    private ArrayList&lt;ModelChangedEventListener&gt; listeners = new ArrayList&lt;ModelChangedEventListener&gt;();\n\n    public void addRectangle(int x, int y, int width, int height) {\n        rectangles.add(new Rectangle(x, y, width, height));\n        modelChangedEvent();\n    }\n\n    public ArrayList&lt;Rectangle&gt; getRectangles() {\n        return rectangles;\n    }\n\n    public synchronized void addModelChangedListener(\n            ModelChangedEventListener listener) {\n        listeners.add(listener);\n    }\n\n    public synchronized void removeModelChangedListener(\n            ModelChangedEventListener listener) {\n        listeners.remove(listener);\n    }\n\n    private synchronized void modelChangedEvent() {\n        ModelChangeEvent event = new ModelChangeEvent(this);\n        Iterator&lt;ModelChangedEventListener&gt; i = listeners.iterator();\n        while (i.hasNext()) {\n            ((ModelChangedEventListener) i.next()).handleModelChange(event);\n        }\n    }\n\n}\n\nimport java.awt.Container;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.util.EventObject;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class View extends JFrame implements ModelChangedEventListener {\n\n    private static final int DISPLAY_WIDTH = 300;\n    private static final int DISPLAY_HEIGHT = 300;\n    private ViewPanel viewPanel;\n    private Controller controller;\n\n    public View(Controller controller) {\n        this.controller = controller;\n        setSize(DISPLAY_WIDTH, DISPLAY_HEIGHT);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        Container contentPane = getContentPane();\n        viewPanel = new ViewPanel();\n        contentPane.add(viewPanel);\n        setVisible(true);\n    }\n\n    @Override\n    public void handleModelChange(EventObject e) {\n        viewPanel.repaint();\n    }\n\n    public class ViewPanel extends JPanel implements MouseListener {\n\n        public ViewPanel() {\n            addMouseListener(this);\n        }\n\n        public void paintComponent(Graphics g) {\n            Graphics2D g2 = (Graphics2D) g;\n            controller.draw(g2);\n        }\n\n        @Override\n        public void mouseClicked(MouseEvent arg0) {\n            controller.click(arg0.getX(), arg0.getY());\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mouseExited(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mousePressed(MouseEvent arg0) {\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent arg0) {\n        }\n\n    }\n\n}\n\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\n\npublic class Controller {\n\n    private Model model;\n\n    public Controller(Model model) {\n        this.model = model;\n    }\n\n    public void click(int x, int y) {\n        model.addRectangle(x, y, 25, 25);\n    }\n\n    public void draw(Graphics2D g2) {\n        for (Rectangle rectangle : model.getRectangles()) {\n            g2.draw(rectangle);\n        }\n    }\n}\n\nimport java.util.EventObject;\n\npublic interface ModelChangedEventListener {\n    public void handleModelChange(EventObject e);\n}\n\npublic class ModelChangeEvent extends java.util.EventObject {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public ModelChangeEvent(Object source) {\n        super(source);\n    }\n}\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","azure","scalability"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":67,"score":4,"question_id":12486730,"title":"Defining Scaling Threshold for Azure Web Roles","body":"<p>Azure embraces the notion of elastic scaling and I've been able to acheive this with my <strong>Worker Roles</strong>. However, when it comes to my <strong>Web Roles</strong> (<em>e.g. MVC Apps</em>) I am not sure what to monitor (<em>or how</em>) to determine when its a good time to increase (<em>or descrease</em>) the number of running instances. I'm assuming I need to monitor one or many Performance Counters but not sure where to start. </p>\n\n<p>Can anyone recommend a best practice for assessing an MVC Web Role instances load relative to scaling decisions? </p>\n"},{"tags":["asp.net","linq","mvc","entity-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":964,"score":1,"question_id":5224734,"title":"ASP.NET MVC and Entity Framework. How to avoid duplicate rows?","body":"<p>So I'm new to ASP.NET MVC and I'm trying to implement an address manager.I'm using Linq2Entity Framework. I've got a table with contacts and one with phone numbers. These two tables are linked by a contact_has_phone_number table. The Entity Framework enables me to get all phone numbers that are assigned to one contact. This is done by calling contact.PhoneNumbers which returns a collection of phone numbers. A new number is added with contact.PhoneNumber.Add(number). The Problem is that I am getting duplicate phone number entries in the phone number table. What I would like to get is that an existing phone number only gets linked in the contact_has_phone_number table. \nFor Example:</p>\n\n<p>Table \"contact\"  </p>\n\n<pre><code>ID_Contact  | First_Name |  Last_Name  \n1           |   Jeff     |    Bridges  \n2           |   Peter    |    Miller  \n</code></pre>\n\n<p>Table \"contact_has_phone_number\"  </p>\n\n<pre><code>ID_Contact  | ID_Number  \n1           |    1  \n1           |    2  \n2           |    1  \n</code></pre>\n\n<p>Table \"phone_number\"  </p>\n\n<pre><code>ID_Number  | Number  \n1          | 1234567  \n2          | 7654321  \n</code></pre>\n\n<p>At the momonet I would get 3 rows in the \"phone_number\" table with 2 rows with identical numbers.</p>\n\n<pre><code>ID_Number  | Number  \n1          | 1234567  \n2          | 7654321  \n3          | 1234567  \n</code></pre>\n\n<p>Would be a blast if you could help me with this.</p>\n"},{"tags":["mvc","ember.js"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12485819,"title":"Change content [] object property without removing or adding","body":"<p>I setup a list of objects, add them to content[] array list. So far so fine. Ember DOM in App.list show correct data. Now, when I start altering the content properties without remove/add/replaceAt() any object in App.list it seems Ember doesn't pick this up.</p>\n\n<p>View:\n    {{#each item in App.list.content}}\n      {{item.title}}\n    {{/each}}</p>\n\n<p>Code:\n    function myApp() {\n      App = Ember.Application.create({});</p>\n\n<pre><code>  App.Item = Ember.Object.extend({\n    title: null,\n    parent: null\n  });\n\n  App.MyList = Ember.Object.extend({\n    title: null,\n    content: [],\n    changed: function() {\n      console.log('here');\n    }.observes('content')\n  });\n\n  App.list = App.MyList.create({\n    title: \"foobar\",\n    content: [\n      App.Item.create({\n        title: \"item1\"\n      }),\n      App.Item.create({\n        title: \"item2\"\n      })\n    ]\n  });\n  console.log(App.list.content);\n\n  // Add 3rd object to list\n  App.list.get('content').pushObject(\n    App.Item.create({\n      title: \"item3\"\n    })\n  );\n}\n</code></pre>\n\n<p>..and later in some random Ember ArrayController I do this:\n    for (var i = 0; i &lt; 2; i++) {\n      App.list.content[i].title = \"I CHANGED YOU\";\n    }</p>\n\n<p>Looking at my App.list the content is correct, but view is not. Am I missing something? If I have to guess ArrayHasChanged() seems to be rigged for array size changed or object being changed which I'm not doing, I'm altering property data within specific objects of the content[] array. Is it possible or do I have to removeAt()/Add/Delete objects?</p>\n"},{"tags":["javascript","mvc","scope","angularjs"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":175,"score":1,"question_id":12480400,"title":"Where to put user defined functions in Angular JS?","body":"<p>In my view, I want to render:</p>\n\n<pre><code>&lt;p&gt;\n  {{ say() }}\n&lt;/p&gt;\n</code></pre>\n\n<p>Where <code>say</code> is defined as such: </p>\n\n<pre><code>say = function() {\n  return \"Hello World\";\n}\n</code></pre>\n\n<p>I can define it in my controller:</p>\n\n<pre><code>function TestCtrl($scope) {\n  $scope.say = function() { ... };\n}\n</code></pre>\n\n<p>But then it's only accessible within that controller.</p>\n\n<p>If I define the function outside the Angular file structure, it renders nothing. Same if I define it in my <code>controllers.js</code> file, but outside a controller function scope.</p>\n\n<p>Where is the proper place to put my function, so I can render it in any controller? </p>\n"},{"tags":["c#","asp.net-mvc","mvc","paypal","e-commerce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12481070,"title":"How to send Shipping Cost to paypal from cart","body":"<p>I'm trying to send the Shipping amount of the cart to paypal. Paypal is not receiving the amount of  an entire cart, but it will work if I do the shipping on each item in the cart. Has anyone successfully sent the shipping amount of an entire cart to paypal and not foreach line item?</p>\n\n<p>Here is what I've tried:</p>\n\n<pre><code>    @Html.Hidden(\"cmd\", \"_cart\")\n    @Html.Hidden(\"upload\", \"1\")\n    @Html.Hidden(\"business\", ConfigurationManager.AppSettings[\"BusinessAccountKey\"])\n\n    @Html.Hidden(\"first_name\", Model.UserShippingInfo.FirstName)\n    @Html.Hidden(\"last_name\", Model.UserShippingInfo.LastName)\n    @Html.Hidden(\"address1\", Model.UserShippingInfo.Address)\n    @Html.Hidden(\"city\", Model.UserShippingInfo.City)\n    @Html.Hidden(\"state\", Model.UserShippingInfo.State)\n    @Html.Hidden(\"zip\", Model.UserShippingInfo.Zip)\n    @Html.Hidden(\"shipping\", @shippingCost.ToString(\"N2\"))\n    @Html.Hidden(\"amount\", @totalCost.ToString(\"N2\"))\n\n    @foreach (CartLine item in Model.Cart.Lines)\n    {\n\n        @Html.Hidden(\"item_name_\" + itemCount, item.Product.Name)\n        @Html.Hidden(\"item_number_\" + itemCount, item.Product.ProductID)\n        @Html.Hidden(\"amount_\" + itemCount, item.Product.Price.ToString(\"N2\"))\n        @Html.Hidden(\"quantity_\" + itemCount, item.Quantity)\n@*      @Html.Hidden(\"shipping_\" + count, item.Product.Price.ToString())\n        @Html.Hidden(\"handling_\" + count, 0)*@\n\n        itemCount++;\n    }\n</code></pre>\n"},{"tags":["regex","asp.net-mvc","mvc","resources"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":164,"score":1,"question_id":12468737,"title":"Asp.Net MVC 4.0 Model Localization With RegularExpression and ErrorMessage","body":"<p>How to create my custom RegularExpressionValidator that gets the RegularExpression and ErrorMessage from Resource file?</p>\n\n<pre><code> [RegularExpression(@\"\\d{5}(-\\d{4})?\",\n          ErrorMessageResourceType = typeof(Global), ErrorMessageResourceName = \"regExpValforPostal_ErrorMessage\")]\n        public string PostalCode { get; set; }\n</code></pre>\n"},{"tags":["html","ruby-on-rails","ruby","ruby-on-rails-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12468536,"title":"ruby on rails code syntax including some haml and model view control","body":"<p>I have following  piece of code. Here is the original post\n<a href=\"http://stackoverflow.com/questions/9646815/conditionally-setting-css-style-from-ruby-controller\">Conditionally setting CSS style from ruby controller</a></p>\n\n<pre><code>%th{:class =&gt; @title_header}= link_to 'Title', my_path(:sort =&gt; 'title'), :id =&gt; 'title_header'\n</code></pre>\n\n<p>I know that  the link_to work<br></p>\n\n<p>1.I dont understand what is :class and is :class a keyword?<br></p>\n\n<p>2.I understand that when we create a model and we will get a model_path,\nbut in this case why we can pass an argument into my_path? <br></p>\n\n<p>3.Is that :sort also a keyword in rails?</p>\n\n<p>4.is :id a keyword in rails?</p>\n\n<p>5.so in this case , what we doing with my_path? is it going to return something?</p>\n\n<p>6.how about the :id, what it does in this case??</p>\n\n<p>Thankyou!</p>\n"},{"tags":["mvc","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12479187,"title":"Something that escapes me about Symfony's controllers","body":"<p>Take a look to that code</p>\n\n<pre><code>&lt;?php\n\nnamespace Sestante\\SestanteBundle\\Controller;\n\nuse Symfony\\Bundle\\FrameworkBundle\\Controller\\Controller;\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Sestante\\SestanteBundle\\Model\\StrutturaManager;\n\nclass MainController extends Controller\n{\n    public function indexAction(Request $request)\n    {\n        return $this-&gt;render('SestanteSestanteBundle:Main:index.html.twig');\n    }\n\n    public function showLodgingsAction(Request $request)\n    {\n        $repo = $this-&gt;getDoctrine()-&gt;getRepository('SestanteSestanteBundle:Struttura');\n        $usr = $this-&gt;get('security.context')-&gt;getToken()-&gt;getUser();\n        $usrId = $usr-&gt;getId();\n        $sm = new StrutturaManager($repo);\n        $lodgingList = $sm-&gt;retrieveLodgingsFromUser($usrId);\n        return $this-&gt;render('SestanteSestanteBundle:Main:showLodgings.html.twig',array('lodgingList' =&gt; $lodgingList));\n    }\n}\n</code></pre>\n\n<p>This is a controller for an application that I've been writing.</p>\n\n<p>Take a look to <code>showLodgingsAction</code>. I've tryied to place all business logic into a model (<code>StrutturaManager</code>) that with a repository (that I've passed directly from controller because, as far I know, they're available only here or via D.I.) query my db, do some elaboration and return a list that I'll render onto a template.</p>\n\n<p>First question: Is this \"code separation\" good, or exists a better way for do what I'm trying to do?</p>\n\n<p>Second question: suppose that, now, I want to use an object of <code>StrutturaManager</code> type into <code>indexAction</code>. Remember that mine object want a repository. So, have I to declare again, and again, and again, all my object for every controller's action where I want to use them? I suppose that must exist a smarter method but, at the moment, I don't understand which.</p>\n"},{"tags":["java","mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":460,"score":8,"question_id":394871,"title":"MVC in Java","body":"<p>This is about a school assignment so I'm trying to do things by the book. I feel like I'm getting the grips of Java, but good programming practice, design patterns, etc. are all rather new to me.</p>\n\n<p>I've made my model and it works fine. It contains a student class which contains a number of fields with student information (obviously). Now I want this information to be displayed in a couple of JLabels. It is easiest to pass a whole student object to the GUI and use JLabel.settext.getname() etc. a number of times and no doubt this will work perfectly. But I feel that the student object is part of the model and by passing it to the GUI I'm not using a MVC pattern anymore. Am I right here?</p>\n\n<p>I did make a controller object for passing data to and from the model and the GUI but for passing only strings to the labels or setting the JLabel text through the controller, I need either a lot of setters in the GUI, or I would have to make all JLabels global fields which doesn't feel good either.</p>\n\n<p>Any advice on this?  </p>\n"},{"tags":["jquery","web-services","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12468496,"title":"MVC or Webservices + jQuery","body":"<p>I'm some kind of newbie with MVC but have been working with WS over 4 years.</p>\n\n<p>I have to build a reporting web application (some grids and some graphics) and I want to know what is the best way to build it. This application needs to be accessible from many different browsers/devices (smartphone, iPad, desktop-win, desktop-mac, etc.) and mantain persistence, so I was thinking about a UI for non javascript devices and another working with jQuery, both consuming a webservice.</p>\n\n<p>On the other hand, I've read about MVC and in multiple sites says I can do this creating a few methods returning the entire view  (<a href=\"http://bit.ly/QkgQ8P\" rel=\"nofollow\">Khaja's Response</a>) and anothers working with jQuery.</p>\n\n<p>I want to know your opinion about this so I can take the better decision with this.</p>\n\n<p>Thank you.</p>\n"}]}
{"total":14108,"page":9,"pagesize":100,"questions":[{"tags":["php","mvc","opencart"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1252,"score":1,"question_id":10971817,"title":"How to add new module to opencart administration?","body":"<p>I want to add a sub menu item \"Locations\" to \"Catalog\" menu item in opencart administration. On selecting locations, I want to see my own location management view page which inetracts with my own locations table in the opencart database. </p>\n\n<p>Please let me know where and what mvc's to create to achieve this functionality in open cart.\nThank you.</p>\n"},{"tags":["php","oop","mvc","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":353,"score":3,"question_id":6272404,"title":"Reusing forms and controllers in Codeigniter","body":"<p>I'm learning the OO and MVC paradigm (using Codeigniter and PHP). I continue to find warnings such as this: <em>If you find yourself pasting the same code into multiple files, then you aren't using OO/MVC properly</em>. So, here's a question for more experienced programmers.</p>\n\n<ol>\n<li><p>I have a create-user form that I am using two very similar versions of:</p>\n\n<ul>\n<li><p>Version 1 (at <code>/volunteer/register</code>) is created by an anonymous user. The form lives in the <code>volunteers</code> controller, and needs to be verified by an admin.</p></li>\n<li><p>Version 2 (at <code>/admin/create_volunteer</code>) is created by a logged-in admin. The form and validation is nearly the same, but it is submitted with different parameters.</p></li>\n</ul></li>\n<li><p>Another, similar example:</p>\n\n<p>I want to build different user dashboards that share a template, but will be used by different user roles and have different functions and information based on role. As I see it my choices are: </p>\n\n<ol>\n<li>Create a Dashboard controller with three functions defining the data loaded into the dashboard template.</li>\n<li>Add the a dashboard function to each role's controller (Volunteer, Admin etc).</li>\n<li>Create a controller for each case (Volunteer, Admin, etc.)</li>\n</ol></li>\n</ol>\n\n<p>I apologize if this appears sophomoric but essentially I'm looking for rules-of-thumb to determine how to design architecture in MVC.</p>\n\n<p>My questions:</p>\n\n<ul>\n<li>In the first example, is my logical choice of controllers (<code>Volunteer</code> &amp; <code>Admin</code>) less than ideal? Is code replication in this case an acceptable practice?</li>\n<li>Can anyone recommend architecting tools to establish logical consistency and good workflow for MVC?</li>\n</ul>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12453455,"title":"When to create a new Controller","body":"<p>I am battling to understand when I should create a new controller.</p>\n\n<p>Let's say I have an application that maintains people records (Name, age etc)</p>\n\n<p>I have a few views.\nA view to show a list of people, which I can select to display.\nA view to display detailed person information (view only)\nA view to edit a person record\nA view to add a person record\n(Is Add and Edit usually one view, in MVC?)</p>\n\n<p>At the moment, I have one controller. But is that right, or should I have a controller per view?\nI'm worried my single controller is getting too big...</p>\n"},{"tags":["php","python","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12464783,"title":"Firing Events in MVC (specifically in PHP, if it's needed)","body":"<p>&nbsp; &nbsp;I have searched on SO about this question, but I basically haven't found one concerning this particular scenario; hence, my reason for asking. <br />\n &nbsp; &nbsp; I have a basic, abstract understanding of the MVC pattern: Controller calls the right Model based on the action needed; the Model contains the actual business/data logic, and the View displays the result. What I am having trouble understanding is the actual implementation. <br />\n &nbsp; &nbsp;Originally, my assumption was this: Controller calls Model; Model processes information, and <strong>return</strong>s the data back to Controller; Controller call the View, passing this \ndata to the View, which simply displays it. After reading more articles on MVC, I discovered that the Model doesn't really pass the data back to the Controller; rather, it <strong>fires</strong> an event, which allows the Controller to call the proper View. <br />\nMy question centers on this <strong>event firing</strong> part: <br /> <br />\n &nbsp; &nbsp;Q.1: Must an event really be fired? Once the Model completes its processing, and returns control to the Controller, can't the Controller simply call the View? <br />\n &nbsp; &nbsp;Q.2: In an actual implementation, a Model object is injected into a Controller class. So, Model object basically has no idea what Controller called it. How does it know what Controller to fire an event to? And how do we know what Controller is expecting that notification? <br />\n &nbsp; &nbsp;Q.3: The Controller calls the View, injecting it with the current Model object, so the View can use it to obtain the needed data. Is this correct or wrong? If wrong, why is it wrong, and what is the proper way to do it? <br />\n &nbsp; &nbsp;I have read my questions on MVC on here and other sites, viewed MVC diagrams, but I haven't been able to really connect the dots the way it's supposed to be connected. <br />\n &nbsp; &nbsp;Thanks.</p>\n"},{"tags":["c#","mvc","properties","frameworks","entity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12464423,"title":"Issue in mapping fragments MVC 3 EF Code first","body":"<p>i've recently added a new property to one of my models:</p>\n\n<pre><code>public HttpPostedFile AvailabilityImage { get; set; }\n</code></pre>\n\n<p>However, upon doing so I'm now getting this very strange error:</p>\n\n<p><code>error 3004: Problem in mapping fragments starting at line 32:No mapping specified for properties FloorModel.AvailabilityImage in Set Floor</code></p>\n\n<p>I am at a loss on how to solve this, I've never had this issue adding properties before?</p>\n\n<p>Is it to do with the Data type being used with this property do you think? Any suggestions are welcome</p>\n\n<p>Thankyou</p>\n"},{"tags":["ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12463767,"title":"Cannot redirect to nil! - basic MVC operation","body":"<p>(I'm having some hard time for days to manage to chose a random item\nfrom teh database and to be able to pass it further.)</p>\n\n<p>It is basic operation and i tried several ways all,  brought me to the\nsame problem,  params {\"id\" = \"random\"} &lt;- the name of the controller\nmethod</p>\n\n<p>controller:</p>\n\n<pre><code>def random      # method works  checked it in the console. Returns a valid obj.\n  @task = Task.find(rand(Task.first.id..Task.last.id))\n  render \"random\"\nend\n</code></pre>\n\n<p>random.html.erb\n       <code>&lt;%= @task %&gt;</code>   # i want it to make it work, if i pass manually\nlets #say <code>../random/1</code> lets say as an example it works it shows me the\nmemory #location of the object.</p>\n\n<p>error log:</p>\n\n<pre><code> ActionController::ActionControllerError in TasksController#show\nCannot redirect to nil!\n\nRails.root: /home/bogdan/ex/bored\nApplication Trace | Framework Trace | Full Trace\n\nactionpack (3.2.3) lib/action_controller/metal/redirecting.rb:60:in\n`redirect_to'\nactionpack (3.2.3) lib/action_controller/metal/flash.rb:25:in\n`redirect_to'\nactionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:60:in\n`block in redirect_to'\nactivesupport (3.2.3) lib/active_support/notifications.rb:123:in `block\nin instrument'\nactivesupport (3.2.3)\nlib/active_support/notifications/instrumenter.rb:20:in `instrument'\nactivesupport (3.2.3) lib/active_support/notifications.rb:123:in\n`instrument'\nactionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:59:in\n`redirect_to'\nactionpack (3.2.3) lib/action_controller/metal/implicit_render.rb:4:in\n`send_action'\nactionpack (3.2.3) lib/abstract_controller/base.rb:167:in\n`process_action'\n.\n.\n.\n(only the top of the stack)\n\nRequest\n\nParameters:\n\n{\"id\"=&gt;\"random\"}\n</code></pre>\n\n<p><strong>EDIT</strong>:\nBored::Application.routes.draw do</p>\n\n<p>roots.rb :</p>\n\n<pre><code>  to =&gt; 'tasks#main'   \n  resources :tasks\n  match ':controller(/:action(/:id))(.:format)'\n</code></pre>\n"},{"tags":["mvc","delete","asp.net-mvc-4","edit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12462958,"title":"Delete and Update List of Objects in Asp.Net MVC 4","body":"<p>I have a form that has an input section at the top of the page and in the bottom half it displays a list of the objects that were added.  I need to be able to Edit and Delete these objects and I'm not sure where to start or how to do it.</p>\n\n<p>This code display the list of objects.</p>\n\n<pre><code>                @if (Model.ListOfRecipients != null)\n            {\n                for (int i = 0; i &lt; Model.ListOfRecipients.Count; i++)\n                {\n\n                &lt;div class='recipient-wrapper'&gt;\n                    &lt;div class='decision_block'&gt;\n                        &lt;table class='recipient'&gt;\n                            &lt;tr&gt;\n                                &lt;td class='recipient-title'&gt;\n@Html.HiddenFor(model=&gt;model.ListOfRecipients[i].RecipientId)\n                                    &lt;h3&gt;\n                                        @Html.DisplayTextFor(model =&gt; model.ListOfRecipients[i].RecipientName)\n                                        @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].RecipientName)\n                                    &lt;/h3&gt;\n\n                                    &lt;div class='delivery-type'&gt;\n                                        Delivery Type: @Html.DisplayTextFor(model =&gt; model.ListOfRecipients[i].DeliveryType)\n                                                       @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].DeliveryType)\n                                    &lt;/div&gt;\n                                &lt;/td&gt;\n                                &lt;td class='na express'&gt;\n                                    @Html.CheckBoxFor(model =&gt; model.ListOfRecipients[i].ExpressIndicator)\n                                    @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].ExpressIndicator)\n                                &lt;/td&gt;\n                                &lt;td class='quantity'&gt;\n                                    &lt;h3&gt;\n                                      Qty @Html.DisplayTextFor(model =&gt; model.ListOfRecipients[i].Quantity)\n                                          @Html.HiddenFor(model =&gt; model.ListOfRecipients[i].Quantity)\n                                    &lt;/h3&gt;\n                                &lt;/td&gt;\n                                &lt;td class='action'&gt;\n                                    &lt;input class='button edit_recipient' type='button' value='Edit' /&gt;\n                                    &lt;input class='button delete_recipient' type='button' value='Delete' /&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/table&gt;\n\n                            &lt;input class='button update_recipient' type='button' value='Update' /&gt;\n                            &lt;a class='cancel_update' href='#'&gt;Cancel&lt;/a&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n                }\n            }\n</code></pre>\n"},{"tags":["javascript","jquery","mvc","asp.net-mvc-4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12463772,"title":"how pass url in java script function","body":"<p>java script functionality working fine on my local system but not on server. my actual jquery code is </p>\n\n<pre><code>$('.jeditableSalePrice').editable('/Product/DTUpdateProduct', {\n            id: 'SalePrice_ID',\n            name: 'value',\n            indicator: 'Updating...',\n            tooltip: 'Click to Change'\n        });\n</code></pre>\n\n<p>now I try by two techniques. both are working on my local but not on server \n1: using @Url.Action(\"DTUpdateProduct\", \"Product\")'\n2: using @Url.Content(\"/Product/DTUpdateProduct\") </p>\n\n<pre><code>  //$('.jeditableSalePrice').editable('@Url.Content(\"/Product/DTUpdateProduct\")', {\n  $('.jeditablePartNumber').editable('@Url.Action(\"DTUpdateProduct\", \"Product\")', {\n            id: 'SalePrice_ID',\n            name: 'value',\n            indicator: 'Updating...',\n            tooltip: 'Click to Change'\n        });\n</code></pre>\n\n<p>any solution to resolve this issue on server ? </p>\n"},{"tags":["java","mvc","view","model","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12462964,"title":"MVC - do I need to use Controller in the View?","body":"<p>As I know in the standard implementation of the MVC we pass Controller and Model to the View</p>\n\n<p>But Im a little bit disagree with this idea. I dont want my view to know about both controller and model (oh no. maybe sometimes view needs model, but I'm sure that he can live without knowledge of controller)</p>\n\n<p>In my opinion Controller should manage View and Model, and Model doesn't need to know about controller and view; view doesnt need to know controller (I dont exclude model because some implementations of views need to know about model to listen to changes in the model). So my idea is that <strong>view doesnt need to know about controller</strong>.</p>\n\n<p><strong>1.</strong> Here is one example:</p>\n\n<pre><code>public class MyView implements ButtonClickListener {\n\n    private Controller myController;\n    private Button myButton;\n\n    // I commented out the model because we dont need it now \n    // we are talking about using controller in the view\n\n    public MyView(Controller c/*, Model m*/) {\n        myController  = c;\n        myButton      = new Button(); // lets say that it is \"register\" button\n        myButton.setOnButtonClickListener(this);\n    }\n\n    public void setRegisterButtonText(String text) {\n        myButton.setText(text);\n    }\n\n    @Override\n    public void onClick() {\n        myController.tellToModelToDoSomething();\n    }\n\n}\n</code></pre>\n\n<p>And Controller:</p>\n\n<pre><code>public MyController implements Controller {\n\n     private Model model;\n     private View view;\n\n     public MyController(Model model) {\n\n          this.model = model;\n          this.view  = new MyView(this);\n\n     }\n\n     public void tellToModelToDoSomething() {\n          model.doSomeActions();\n     }\n\n\n}\n</code></pre>\n\n<p><strong>2.</strong> And now how do I see this implementation without passing the controller:</p>\n\n<p>My View:</p>\n\n<pre><code>public class MyView {\n\n    private Button myButton;\n\n    public MyView() {\n        myButton = new Button();\n    }\n\n    public void setRegisterButtonText(String text) {\n        myButton.setText(text);\n    }\n\n    public void setOnRegisterButtonClick(final Command command) {\n        myButton.setOnButtonClickListener(new ButtonClickListener() {\n                            @Override\n                            public void onClick() {\n                                command.execute();\n                            }\n                         });\n    }\n\n}\n</code></pre>\n\n<p>\"Command\" interface:</p>\n\n<pre><code>public interface Command {\n\n     void execute(/*also can handle extra params*/);\n\n}\n</code></pre>\n\n<p>And Controller:</p>\n\n<pre><code>public MyController implements Controller {\n\n private Model model;\n private View view;\n\n public MyController(Model model) {\n\n      this.model = model;\n      this.view  = new MyView();\n\n      view.setOnRegisterButtonClick(command);\n\n }\n\n public void tellToModelToDoSomething() {\n      model.doSomeActions();\n }\n\n private Command command = new Command() {\n\n     public void execute() {\n          tellToModelToDoSomething();\n     }\n\n };\n</code></pre>\n\n<p>}</p>\n\n<p>So why do I think that using controller in the view <strong>IS NOT GOOD</strong>:</p>\n\n<p>We are mixing controller and view implementations, making new dependencies.</p>\n\n<p>Also I think that View should contain only VIEWS and operations with them (and using controller and some of his methods already looks like logic).</p>\n\n<p>In the first example view tells controller what to do. Are you agree? It looks like view  controls the controller!</p>\n\n<p>In the second example controller controls what to do and just says to the view what to do if some button (only view knows what button it will be) clicked </p>\n\n<p>I always used the second scheme, but after reading a new one book about mvc, that says that we need to pass the controller to the view, I'm a little bit confusing.</p>\n\n<p>Can you please help me to understand why am I wrong and show me some examples?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":415,"score":1,"question_id":8062153,"title":"Can I deploy a javascript file within MVC areas?","body":"<p>I have my js files inside areas and I cannot access them. When I move them outside the MVC areas then I can access. </p>\n\n<p>I have tried the following:</p>\n\n<ul>\n<li>Different naming of js files - doesn't solve problem</li>\n<li>Check to see if they exist on the server - they do</li>\n<li>Access file directly from within IIS manager on server - they won't open and return not found</li>\n<li>Access same files directly from within IIS manager on server but when files are in script directory - They open in browser</li>\n<li>Used the route checker - When I try to access the file it does not open route debug and instead just says \"404\"</li>\n</ul>\n\n<p>This works:</p>\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Scripts/jquery/_Roles.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This does not work:</p>\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Areas/Administration/Scripts/Roles/_Roles.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Could there be something different about files under the Areas folder that blocks scripts?</p>\n"},{"tags":["asp.net","ajax","json","mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":1,"view_count":6005,"score":3,"question_id":2203912,"title":"Asp.net Mvc Ajax Json (post Array)","body":"<p>javascript\\jQuery:</p>\n\n<pre><code> var items = new Array();\n\n var obj { Begin: \"444\", End: \"end\" };\n\n items.push(obj);\n items.push(obj);\n\n  var request = {\n             DateStart: $(\"#DateStart\").val(),\n             mass: items\n         };\n\n\n $.post(\"/Home/Index\", request, null,\n \"json\");\n</code></pre>\n\n<p>C# Mvc Index Controller</p>\n\n<pre><code> public class MyClass\n     {\n        public string Begin;\n        public string End;\n     }\n\n     [AcceptVerbs(HttpVerbs.Post)]        \n     public ActionResult Index(            \n         string DateStart,            \n         MyClass []mass)\n     {\n         System.Diagnostics.Debug.WriteLine(mass[0].Begin);\n     }\n</code></pre>\n\n<p>how to execute this code? thanks.</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1293,"score":6,"question_id":1598150,"title":"link_to() in Rails flash","body":"<p>When a user fails login on my Rails app, I'd like to point them to a password reset page:</p>\n\n<pre><code>flash[:notice] = \"Login failed.  If you have forgotten your password, you can #{link_to('reset it', reset_path)}\"\n</code></pre>\n\n<p>However, I can't use link_to in a controller.  What's the best way to do this without mixing controller and view logic?</p>\n\n<p>My best guess is that the flash is the wrong place to do this, but I'd appreciate any input.</p>\n"},{"tags":["c#","mvc","dependency-injection","ninject"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":147,"score":2,"question_id":12451368,"title":"Ninject.MVC constructor injection where the injected object's constructor takes an argument","body":"<p>Hi I am using the Ninject.MVC Nuget package with my MVC3 app and I have the current bindings setup for some constructor injection.</p>\n\n<pre><code>    private static void RegisterServices(IKernel kernel)\n    {\n        kernel.Bind&lt;IUnitOfWork&gt;().To&lt;ERSUnitOfWork&gt;();\n        kernel.Bind&lt;IRepository&lt;Recipe&gt;&gt;().To&lt;GenericRepository&lt;Recipe&gt;&gt;();\n    }\n</code></pre>\n\n<p>My controller example is below:</p>\n\n<pre><code>public class RecipesController : Controller\n{\n    private readonly IUnitOfWork unitOfWork;\n    private readonly ERSDbContext context;\n    private readonly IRepository&lt;Recipe&gt; recipeRepository;\n\n    public RecipesController(IUnitOfWork unitOfWork, IRepository&lt;Recipe&gt; recipeRepository)\n    {\n        this.context = new ERSDbContext();\n        this.unitOfWork = unitOfWork;\n        this.recipeRepository = recipeRepository;\n    }\n}\n</code></pre>\n\n<p>I want to remove the private DBContext property from the controller and pass the new ERSDbContext() to the constructors of ERSUnitOfWork and the GenericRepository as part of the constructor injection that Ninject is performing, but preferably keep the initialising of the ERSDbContext class inside the controller?</p>\n\n<p>Any help on how you do this would be appreciated. Thanks</p>\n\n<p>I am kind of hoping that it doesn't require my NinjectWebCommon class having to create the DbContext, I wanted that to be initialised in the controller.</p>\n"},{"tags":["entity-framework","mvc","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12460152,"title":"DropDownListFor enums in EF5","body":"<p>using MVC4 Razor and Entityframework 5.  I have a table called organisation with a integer TypeID field which i have created an enum type. In the code i can set and compare the typeid using the enum. </p>\n\n<pre><code> public enum OrganisationType : int\n    {\n        Company = 1,\n        Department = 2,\n        Location = 4\n    }\n</code></pre>\n\n<p>However when i generate the create.cshtml either using the default vs2012 mvc 4 razor templates, or the via the mvcscaffolding nuget package both ignore the TypeID field. I was thinking of amending the tt templates so that they are autogenerated. But initially is it possible to display the descriptive name of the enum in a dropdownlistfor.</p>\n"},{"tags":["php","mvc","authentication","cakephp-2.0"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":148,"score":0,"question_id":12444274,"title":"CakePHP Auth loginRedirect error/always redirect to 'users/login' whereas i put different controller","body":"<p>CakePHP Auth loginRedirect error/always redirect to 'users/login' whereas i put different controller.\nI mean, when i open the forbidden page(not allowed/require login)</p>\n\n<pre><code>$this-&gt;Auth-&gt;allow('index', 'profile', 'view', 'register');\n</code></pre>\n\n<p>it must redirect to \"players/index\". I put the loginRedirect to \"players\",</p>\n\n<pre><code>'loginRedirect' =&gt; array('controller' =&gt; 'Players', 'action' =&gt; 'index'),\n</code></pre>\n\n<p>but it doesn't work. It always redirect to \"users/login\" not \"players/index\" whereas i write \"'loginRedirect' => array('controller' => 'Players', 'action' => 'index')\".</p>\n\n<p>this is my code:</p>\n\n<pre><code>class AppController extends Controller {\npublic $components = array(\n    'Session',\n    'Auth'=&gt;array(\n        'loginRedirect' =&gt; array('controller' =&gt; 'Players', 'action' =&gt; 'index'),\n        'logoutRedirect' =&gt; array('controller' =&gt; 'Players', 'action' =&gt; 'index'),\n        'authError'=&gt;\"Anda tidak dapat mengakses halaman.\",\n        'authorize'=&gt;array('Controller')\n    )\n);\n\npublic function isAuthorized($user) {\n    return true;\n}\n\npublic function beforeFilter() {\n    $this-&gt;Auth-&gt;allow('index', 'profile', 'view', 'register');\n    $this-&gt;set('logged_in', $this-&gt;Auth-&gt;loggedIn());\n    $this-&gt;set('current_user', $this-&gt;Auth-&gt;user());\n}}\n</code></pre>\n\n<p>My table's name : players</p>\n\n<p>why the result's always redirect to \"users/login\" not \"players/\" or \"players/index\"?\nplease tell me why this happens and how i can solve it. Thank you!</p>\n"},{"tags":["php","oop","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12459104,"title":"MVC Relationships and DRY","body":"<p>I am trying to create a user login system.</p>\n\n<p>I have a class/controller called AccessControl which includes all the functions for creating, deleting and logging a user in and out.</p>\n\n<p>I also have a model called Users which has all the database functions in it which are called from the AccessControl class.</p>\n\n<p>My AccessControl class:</p>\n\n<pre><code>include_once('../models/User.php') ;\n\nclass AccessControl {\nprivate $_systemKey ;\n\npublic function __construct()\n{\n    $this-&gt;_systemKey = 'QA&gt;8fg)@z#t#:E60mj&amp;MzHsm-lUj&amp;b-}R%~&lt;y$|nAuF)C3!r%+rT\"Q&lt;r$o?{_XR' ;\n}\n\npublic function createUser($email, $password, $level)\n{           \n    $user_salt = $this-&gt;randomString() ;\n\n    $password = $user_salt . $password ;\n    $password = $this-&gt;hashData($password) ;\n\n    if(!is_int($level))\n    {\n        return false ;\n    }\n\n    //Create verification code\n    $code = $this-&gt;randomString() ;\n\n    //SQL...\n    $created = User-&gt;insertNewUser($email, $password, $level) ;\n\n    if($created != false){\n        return true; \n    }\n\n    return false ;\n}\n}\n</code></pre>\n\n<p>And in my model:</p>\n\n<pre><code>class User extends Core {\n\npublic function fetchSalt($username)\n{\n    $result = $this-&gt;db-&gt;prepare(\"SELECT saltword FROM users WHERE username = ?\") ;\n    $result-&gt;execute(array($username)) ;\n    return $result-&gt;fetchColumn() ;\n}\n\npublic function insertNewUser($email, $password, $level)\n{\n    //SQL Insert...\n}\n\n}\n</code></pre>\n\n<p>I am not sure if I am doing this the right way, because aren't createUser and insertNewUser identical? How can I change things to make it DRY?</p>\n\n<hr>\n\n<p>Core is just my PDO connection class, all my models will extend from it. That's the plan anyway.</p>\n\n<pre><code>abstract class Core {\nprotected $db ;\n\nfunction __construct()\n{\n    try{\n        $this-&gt;db = new PDO(\"mysql:host=localhost;dbname=database\", \"user\", \"pass\") ;\n        $this-&gt;db-&gt;exec('set names utf8') ;\n                    $this-&gt;db-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n        $this-&gt;db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);\n        $this-&gt;db-&gt;setAttribute(PDO::ATTR_PERSISTENT, TRUE) ;\n    }\n    catch(PDOEXCEPTION $e)\n    {\n        echo 'Database error: &lt;i style=\"color:#993300;\"&gt;'.$e.'&lt;/i&gt;' ;\n        die() ;\n    }\n}\n\nfunction __destruct()\n{\n    $this-&gt;db = NULL ;\n}\n}\n</code></pre>\n"},{"tags":["javascript","jquery","asp.net-mvc","mvc","validation"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":804,"score":1,"question_id":3597695,"title":"Using a custom validator in a variable length list in Microsoft MVC 2 (client-side validation issues)","body":"<p>I have created a variable length list according to the many great posts by Steve Sanderson on how to do this in MVC 2. His blog has a lot of great tutorials.</p>\n\n<p>I then created a custom \"requiredif\" conditional validator following this overview <a href=\"http://blogs.msdn.com/b/simonince/archive/2010/06/11/adding-client-side-script-to-an-mvc-conditional-validator.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/simonince/archive/2010/06/11/adding-client-side-script-to-an-mvc-conditional-validator.aspx</a></p>\n\n<p>I used the JQuery validation handler from the MSDN blog entry which adds the following to a conditional-validators.js I include on my page's scripts:</p>\n\n<pre><code>(function ($) {\n    $.validator.addMethod('requiredif', function (value, element, parameters) {\n        var id = '#' + parameters['dependentProperty'];\n\n        // Get the target value (as a string, as that's what actual value will be)\n        var targetvalue = parameters['targetValue'];\n        targetvalue = (targetvalue == null ? '' : targetvalue).toString().toLowerCase();\n\n        // Get the actual value of the target control\n        var actualvalue = ($(id).val() == null ? '' : $(id).val()).toLowerCase();\n\n        // If the condition is true, reuse the existing required field validator functionality\n        if (targetvalue === actualvalue)\n            return $.validator.methods.required.call(this, value, element, parameters);\n\n        return true;\n    });\n})(jQuery);\n</code></pre>\n\n<p>Alas, this does not cause a client-side validation to fire ... only the server-side validation fires. The inherent \"required\" validators DO fire client-side, meaning I have my script includes set-up correctly for basic validation. Has anyone accomplished custom validators in a variable length list in MVC 2 using JQuery as the client-side validation method?</p>\n\n<p>NOTE that this same custom validator works client-side using the exact same set-up on a non-variable length list.</p>\n"},{"tags":["c#","entity-framework","mvc","asp.net-mvc-4"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":93,"score":3,"question_id":12458372,"title":"MVC Controller not Binding for ViewModels","body":"<p>I hope you can help me, I am quite new to MVC and Entity Framework and trying to get my head around it. I am using MVC4 and EF5. </p>\n\n<p>Here is an overview of what I am trying to do...</p>\n\n<p>I have two entities, Site and SiteType. Each Site can have multiple SiteTypes so they have a Many-to-Many relationship. I setup the database with a typical Many-to-Many relationship by creating 3 tables, Site, SiteType and SiteSiteType. SiteSiteType just contained 2 columns, the  SiteId and the SiteType Id.</p>\n\n<p>I updated the Entity Model and it worked perfectly creating my entities like this for Site...</p>\n\n<pre><code>public partial class Site\n{\n    public Site()\n    {\n        this.SiteTypes = new HashSet&lt;SiteType&gt;();\n    }\n\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public string Address { get; set; }\n\n    public virtual ICollection&lt;SiteType&gt; SiteTypes { get; set; }\n}\n</code></pre>\n\n<p>And this for SiteType</p>\n\n<blockquote>\n<pre><code>public partial class SiteType\n{\n    public SiteType()\n    {\n        this.Sites = new HashSet&lt;Site&gt;();\n    }    \n    public int Id { get; set; }\n    public string Name { get; set; }    \n    public virtual ICollection&lt;Site&gt; Sites { get; set; }\n}\n</code></pre>\n</blockquote>\n\n<p>Now I am using a strongly typed view, however instead of using Site as the type, i am using a custom ViewModel I created called SiteViewModel which looks like this...</p>\n\n<blockquote>\n<pre><code>public class SiteViewModel\n{\n    public Site Site { get; set; }\n    public bool WasPosted { get; set; }\n    public IEnumerable&lt;SiteType&gt; AvailableSiteTypes { get; set; }\n    public IEnumerable&lt;SiteType&gt; SelectedSiteTypes { get; set; }\n}\n</code></pre>\n</blockquote>\n\n<p>The reason for this is I want to use the CheckBoxList extension for MVC as described <a href=\"http://www.codeproject.com/Articles/292050/CheckBoxList-For-a-missing-MVC-extension\" rel=\"nofollow\" title=\"here\">here</a></p>\n\n<p>Now everything works when I am creating a new Site and adding SiteTypes to it, however when I tried to edit and existing record i started having problems. </p>\n\n<p>Here is my edit GET method in the controller....</p>\n\n<pre><code>    public ActionResult Edit(int id = 0)\n    {\n        Site site = _repository.GetSiteByID(id);\n        if (site == null)\n        {\n            return HttpNotFound();\n        }\n\n        var model = new SiteViewModel();\n        model.AvailableSiteTypes = _repository.GetSiteTypes();\n        model.SelectedSiteTypes = site.SiteTypes;\n        model.Site = site;\n\n        return View(model);\n    }\n</code></pre>\n\n<p>And the post method originally looked like this....</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Edit(SiteViewModel siteViewModel, int[] siteTypes)\n    {\n\n        if (ModelState.IsValid)\n        {\n            _repository.UpdateSite(siteViewModel.Site, siteTypes);\n            _repository.Save();\n            return RedirectToAction(\"Index\");\n        }\n\n        siteViewModel.AvailableSiteTypes = _repository.GetSiteTypes();\n        List&lt;SiteType&gt; selectedSiteTypes = _repository.GetSiteTypes(siteTypes).ToList();\n        if (selectedSiteTypes.Count &gt; 0)\n        {\n            siteViewModel.SelectedSiteTypes = selectedSiteTypes;\n        }\n        return View(siteViewModel);\n\n    }\n</code></pre>\n\n<p>Now the problem I was having was that siteViewModel.Site was being populated properly from the form with the updated data, however the Id column was being set to \"0\" even though it was an existing record and not a new one. I have tried everything and I can't work out why. The only way I could get it working was to take in an \"id\" parameter and manually set it to the Site object like this...</p>\n\n<pre><code>HttpPost]\n    public ActionResult Edit(int id, SiteViewModel siteViewModel, int[] siteTypes)\n    {\n        siteViewModel.Site.Id = id;\n        ......\n</code></pre>\n\n<p>But it just feels really messy compared to how well everything else binds together. </p>\n\n<p>Is this the only way to do this? Am I missing something? </p>\n\n<p>Thanks a lot for taking the time to read my post. Sorry it it is too long, i didn't know how else to explain it...</p>\n"},{"tags":["ajax","mvc","jquery-mobile","asynchronous","partialview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12455620,"title":"problems with asynchronous partial view validation in mvc","body":"<p>i am using jquery mobile and mvc 2 technology and want to load a partial view via ajax in a collabsible div-container. this partial view should provide contact data and the option to send name and email. when submitting the partial view it should be checked asynchron whether the form is valid or not.</p>\n\n<p>here is the important part of my main view:</p>\n\n<pre><code>&lt;div id=\"divContact\" data-role=\"collapsible\"&gt;\n   &lt;h3&gt;Contact&lt;/h3&gt;\n   &lt;div id=\"divContactContent\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>when user expands this div jquery loads partial view:</p>\n\n<pre><code>$('div#divContact').live('expand', function () {\n    $('#divContactContent', this).load('contactPartialView');\n}\n</code></pre>\n\n<p>that works fine! </p>\n\n<p>the partial view has an ajax form and looks like this:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;test.Models.ContactData&gt;\" %&gt;\n\n&lt;% Html.EnableClientValidation(); %&gt;\n&lt;% using (Ajax.BeginForm(\"sendContact\", new AjaxOptions { UpdateTargetId = \"divContactContent\" })) { %&gt;\n\n    &lt;%= Html.TextBoxFor(m =&gt; m.userName) %&gt;\n    &lt;%= Html.ValidationMessageFor(m =&gt; m.userName) %&gt;\n    &lt;%= Html.TextBoxFor(m =&gt; m.userEmail) %&gt;\n    &lt;%= Html.ValidationMessageFor(m =&gt; m.userEmail) %&gt;\n\n    &lt;input type=\"submit\" value=\"Kontaktanfrage\" /&gt;\n\n&lt;% } %&gt;\n</code></pre>\n\n<p>the controler looks like this:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult sendContact(ContactData contactData)\n{\n    if (!ModelState.IsValid)\n        return View(\"Contact\", contactData);\n    // do somelogic \n\n    return Content(\"success\");\n}\n</code></pre>\n\n<p>to get the problem, here is my contactData model:</p>\n\n<pre><code>[Required]\npublic string userName { get; set; }\n\n[Required]\npublic string userEmail { get; set; }\n\npublic ContactData()\n{   }\n</code></pre>\n\n<p>problem is when submitting the form with invalid parameters, e.g. when i leave the fields empty. now there are two POSTs to sendContact action - when debugging both are</p>\n\n<pre><code>ModelState.IsValid = false;\n</code></pre>\n\n<p>in firebug they look like this:</p>\n\n<p>1)</p>\n\n<pre><code>Parameterapplication/x-www-form-urlencoded\nX-Requested-With    XMLHttpRequest\nuserEmail   \nuserName    \n\nuserName=&amp;userEmail=&amp;X-Requested-With=XMLHttpRequest\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>Parameterapplication/x-www-form-urlencoded\nuserEmail   \nuserName    \n\nuserName=&amp;userEmail=\n</code></pre>\n\n<p>it seems that only the first one is the asynchronous one. nevertheless after the submit i just see a </p>\n\n<pre><code>undefined \n</code></pre>\n\n<p>as ouput, not more, not less...</p>\n\n<p>can anyone help me out?!?!?</p>\n\n<p>thanks for your help!!!!</p>\n\n<p>best regards </p>\n"},{"tags":["ruby-on-rails","ruby","json","mvc","post"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1114,"score":3,"question_id":6696457,"title":"Fetching Post data from REST in Rails","body":"<p>This is a long question so i apologize if it takes a while to grasp. I'll keep it simple as possible.</p>\n\n<p>I'm starting to get a little desperate here but I'm so close. I've been struggling with Ruby for a while and communicating with post and net::http. So what I've got at the moment is a hash being turned into json. sent across the wire using a post request from net::http and then I'm trying to turn it back into an object.</p>\n\n<p>One route I explored was active record and active resource but after some issues with them on both sides decided to define my own model and then work out how to convert is and send it.</p>\n\n<h3>My Model</h3>\n\n<p>This model is called customRequest. Within it I have the post_me that takes 2 of the classes variables into a hash, turns it to json, then sends it.</p>\n\n<pre><code>class CustomRequest\n  require 'json'\n  require 'net/http'\n  attr_accessor :myString, :myInteger\n\n  def initialize(myString,myInteger)\n    @myString = myString\n    @myInteger = myInteger\n  end\n\n  def post_me\n\n    @myReq = {:myString =&gt; @myString, :myInteger =&gt;@myInteger}\n    myJsonReq = @myReq.to_json\n    #myJsonReq = JSON.generate(@myReq)\n    puts myJsonReq\n    #    res = Net::HTTP.post_form(URI.parse('http://127.0.0.1:3008/user_requests/add'),\n    #    myJsonReq)\n\n    res = Net::HTTP.post_form(URI.parse('http://127.0.0.1:3008/user_requests/add.json'),\n    myJsonReq).as_json\n  end\nend\n</code></pre>\n\n<p>So thats the custom request in a nutshell.</p>\n\n<h3>Questions</h3>\n\n<p>The bits I'm concerned about are:</p>\n\n<ol>\n<li>The receiving URL, I wrote add.json as the format is determined in the controller route. I don't know if that's necessary?</li>\n<li>Is it better to generate a hash from the variables and send that across for reconstruction or is it better to convert the whole class to_json and send it?</li>\n</ol>\n\n<p>If I create the class as is in the rails console and send it, I get a nice 200 and a response in the terminal.</p>\n\n<h3>More Details</h3>\n\n<p>(NOTE: only read this bit if you really want to know whats going on in the scenes)</p>\n\n<pre><code>@test.post_me\n{\"myInteger\":300,\"myString\":\"testestest\"}\n=&gt; {\"x-ua-compatible\"=&gt;[\"IE=Edge\"], \"etag\"=&gt;[\"\\\"d41d8cd98f00b204e9800998ecf8427e\\\"\"], \"connection\"=&gt;[\"Keep-Alive\"], \"content-type\"=&gt;[\"application/json; charset=utf-8\"], \"date\"=&gt;[\"Thu, 14 Jul 2011 15:54:24 GMT\"], \"server\"=&gt;[\"WEBrick/1.3.1 (Ruby/1.8.7/2009-06-12)\"], \"x-runtime\"=&gt;[\"0.022517\"], \"content-length\"=&gt;[\"0\"], \"set-cookie\"=&gt;[\"_webApp_session=BAh7BiIPc2Vzc2lvbl9pZCIlZTJmM2IwYmVhZWMwM2E2ZGQzNWEwMDUwNmE2NDhlM2U%3D--5312eec4795d9f0633520c01992422e9c15746e4; path=/; HttpOnly\"], \"cache-control\"=&gt;[\"max-age=0, private, must-revalidate\"]}\n&gt;&gt; \n</code></pre>\n\n<p>Heres the same response If i dont convert it to Json:</p>\n\n<pre><code>{\"myInteger\":300,\"myString\":\"testestest\"}\n=&gt; #&lt;Net::HTTPOK 200 OK  readbody=true&gt;\n</code></pre>\n\n<p>Please if someone could answer questions 1 and 2 I'd be greatful</p>\n\n<hr>\n\n<h3>Server Side</h3>\n\n<p>Heres the server side that needs to take the request and turn it back into Json and an object. Ive tried a bunch of different things which most have been commented out.</p>\n\n<p>Basically I'll either get a 200 response with the details in the tag but when I try to puts the hash object, I get nothing/</p>\n\n<pre><code>Started POST \"/user_requests/add\" for 127.0.0.1 at Thu Jul 14 16:56:07 +0100 2011\n  Processing by UserRequestsController#add_request as \n  Parameters: {\"{\\\"myInteger\\\":300,\\\"myString\\\":\\\"testestest\\\"}\"=&gt;\"\"}\nRendered user_requests/add_request.json.erb (0.3ms)\nCompleted 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.0ms)\n</code></pre>\n\n<p>Heres the multiple attempt of breaking it apart and turning it back into an object.</p>\n\n<pre><code>  def add_request\n    require 'rubygems'\n    require 'json'\n\n    #@custom = CustomRequest.new(params[:custom]) \n    #@custom = CustomRequest.new(JSON.parse(params[:custom]))\n    #@custom = CustomRequest.new(params[:custom]).from_json\n    #@custom = CustomRequest.new(params[:custom].from_json) \n\n\n     @myHash = Hash.new(params[:myHash])\n     #@myHash = Hash.new(JSON.parse(params[:myHash]))\n    #@myHash = Hash.new(params[:myHash]).from_json\n    #@myHash = Hash.new(params[:myHash].from_json) \n\n\n     puts \"IT WORKS!\"\n     puts @myHash.to_s\n</code></pre>\n\n<p>They're all pretty much the same except one was me trying to recreate the object from the sent hash and another was me trying to recreate hash_to_json to hash_from_json</p>\n\n<h3>More Questions</h3>\n\n<p>So:</p>\n\n<ol>\n<li>Am I creating the object correctly with the params(:myHash) or should i be referencing each variable individually?</li>\n<li>are the params automatically turned back into readable format or do i need to put to from or parse JSON. In regards to that, does it matter which one I use?</li>\n<li>Am i reconstructing the object correctly, why is putting my has displaying nothing?</li>\n<li>(optional) are there any easy ways to store it in a table thereafter?</li>\n</ol>\n"},{"tags":["html","html5","spring","mvc","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12455858,"title":"html meta tag, avoid browser url change","body":"<p>i have the following url in my jsp page of my spring mvc app, my controller froward to the a jsp which has the following:</p>\n\n<pre><code> &lt;meta http-equiv=\"refresh\" content=\"0;URL='/app/static/test'\"\n</code></pre>\n\n<p>this causes the the page to load correctly, however the browser url changes.</p>\n\n<p>Is it possible to avoid url change?</p>\n"},{"tags":["mvc","3d","drawing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12455521,"title":"How to create a 3-d graph in mvc","body":"<p>I want to create a 3d graph</p>\n\n<p>By graph I mean in the sense of nodes and edges. I have an adjacency matrix as well as a coordinate matrix for every node. Eventually I would hope to colour these nodes and edges</p>\n\n<p>The gplot function is 3d. The scatter3 function does not allow for edges.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["ruby-on-rails","mvc","activerecord","sql-order-by","order"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12453365,"title":"Specifying the default ordering for a has_many association using a join (Rails)?","body":"<p>I have a simple Customer model with a has many relationship with a Purchase model.</p>\n\n<pre><code>class Customer &lt; ActiveRecord::Base\n  has_many :purchases\nend\n</code></pre>\n\n<p>I am repeatedly finding that I need to order Customer.purchases in my views in the following way:</p>\n\n<pre><code>@customer.purchases.joins(:shop).order(\"shops.position\").order(:position) #yes, two orders chained\n</code></pre>\n\n<p>In the interest of keeping things DRY, I'd like to put this somewhere centralized so I don't have to repeatedly do it. Ideally, I'd like to make it the default ordering for Customer.purchases. For example:</p>\n\n<pre><code>class Customer &lt; ActiveRecord::Base\n  has_many :purchases, :order =&gt; joins(:shop).order(\"shops.position\").order(:position)\nend\n</code></pre>\n\n<p>Obviously the above doesn't work. How should I do this?</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12453842,"title":"How to recognize a quote symbol (\")","body":"<p>Enviroment: Visual Studio 2012, MVC4, Razor, Internet Application.</p>\n\n<p>I have a code with search form in the \"View\" page...</p>\n\n<pre><code>@using (Html.BeginForm(\"SearchResult\", \"Home\", FormMethod.Get))\n{\n    @Html.ValidationSummary(false)\n    &lt;fieldset&gt;\n        &lt;legend&gt;Contact Search&lt;/legend&gt;\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Name)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Name)\n            @Html.ValidationMessageFor(model =&gt; model.Name)\n        &lt;/div&gt;\n        &lt;p&gt;\n            &lt;input name=\"SearchButton\" type=\"submit\" value=\"Search\" /&gt;&lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n</code></pre>\n\n<p>And then I'm sending a \"model.Name\" string directly to the JavaScript code using \"@Model.Name\".</p>\n\n<p>The problem is... when I typing in the search form a quote (\") symbol... for example... (10\" android) I have a problem. JavaScript stops work somewhere. How can I check this \"model.Name\" string inside the controller is it contains (\") or not and change it for JavaScript?</p>\n\n<p>My JavaScript code... <code>url += \"&amp;keywords=@Model.Name\";</code>\nIf \"model.Name\" is... 10\" android ...will it work correct?</p>\n"},{"tags":["mvc","jsp","servlets","logging","log4j"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12449159,"title":"How to add logging efficiently into a Java web-project?","body":"<p>I'am creating a quite simple JSP/Servlets web project with MVC architecture.</p>\n\n<p>I have a prerequisite to add logging with log4j to the project. As I haven't been implementing logging using Log4j before, I'd like to hear some tips about <strong>how to implement it in an efficient way</strong>.</p>\n\n<p>The <strong>main concern</strong> is how to share objects responsible for logging throughout the project without creating a new one each time I want to write another message.<br>\nAnd <strong>what about file structure and message organization</strong>, is it better to write info about date based operation and user-action in separate files or in one file?</p>\n\n<p>Maybe it sounds odd, but I'd like to hear comments from people who have experience on this, since I am a newbee :)</p>\n\n<p>Thanks to everybody in advance!</p>\n"},{"tags":["json","visual-studio-2010","mvc","asp.net-mvc-4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":12452944,"title":"Json.Encode MVC4","body":"<p>Simple question - am current having a test of MVC4 and noticed I can use the Json.Encode method in any of the views (<strong>not</strong> the Json method in the controller).</p>\n\n<p>The namespace (System.Web.Helpers) is in the web.config as it should be and simply referencing the object directly doesn't work.</p>\n\n<p>The reference is in the references list in the project, however looking into the library the Json object is not there either.</p>\n\n<p>I have tried adding the System.web.helpers library again, which adds the Json object however am unable to access it.</p>\n\n<p>Any help would be much appreciated</p>\n"},{"tags":["oop","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12452572,"title":"simple oophp function not working","body":"<p>I'm new to oop and MVC and I'm trying to test the flow between my index, controller, and model files. All of the test functions work except for 'check status'. What's the problem? The function is highlighted in BOLD.                                                                                   (INDEX)                                                                                        \n\n<pre><code>$Controller = new Controller;\n$Controller-&gt;ShowRegisterLogin();\n</code></pre>\n\n<p>?>                                                                                             (CONTROLLER)                                                                                 \n\n<p>Class Controller {</p>\n\n<pre><code>function ShowRegisterLogin() {\n    echo 'ShowRegisterLogin Function works';\n    $Model = new Model;\n    $Model-&gt;TestModel();\n    **$Model-&gt;checkStatus();**      \n    }\n</code></pre>\n\n<p>}</p>\n\n<p>?>\n(MODEL)                                                                                      \n\n<pre><code>class Model {\n\n    Var $Status = 'return works';\n\n    function TestModel() {\n        echo 'Test Model Works';\n    }\n    **function checkStatus() {\n        return $this-&gt;Status;\n    }**\n\n}\n</code></pre>\n\n<p>?></p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12436267,"title":"The C# MVC 3 Routing want to add hard code word also in url","body":"<p>The C# MVC 3 Routing i have a controller name Category.\nThere are 2 Sub Method of the Controller \n1)Index\n2)Detail</p>\n\n<p>now my detail routing URl coming like this \"Category/name\" ok but i also want to Add \"category/Name-for-all\" hard code \"-for-all\"\n want to add this hard code how ?</p>\n\n<pre><code>    routes.MapRoute(\n     \"categorie\", // Route name\n     \"Category/{id}/{no}\", // URL with parameters\n     new { controller = \"Category\", action = \"details\", id = \"id\",no=UrlParameter.Optional } // Parameter defaults\n );\n    routes.MapRoute(\n       \"categories\", // Route name\n       \"Category/{id}/{action}\", // URL with parameters\n       new { controller = \"Category\", action = \"action\", id = \"id\" } // Parameter defaults\n   );\n\n\n\nhtml page\n\n&lt;div class=\"grid_3\" &gt;\n    &lt;a class=\"companyanchor\" href=\"/category/@Model.name/\"&gt;@Model.Name&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["jquery","mvc","datatables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":12452313,"title":"Doing CRUD with Jquery Datatable in MVC","body":"<p>Today I am trying to do simple CRUD with the jQuery DataTable plugin. The wall I am facing is with the edit function. Here is how it looks in the view:</p>\n\n<pre><code>var oTable = $('#StudentTable').dataTable({\n                \"bServerSide\": true,\n                \"sAjaxSource\": \"Admin/AJAXFindStudent\",\n                \"bProcessing\": true,\n                \"aoColumns\": [\n                    { \"sName\": \"StudentID\",\n                        \"bSearchable\": false,\n                        \"bSortable\": false,\n                        \"fnRender\": function (oObj) {\n                            return '&lt;a href=\\\"Admin/EditStudent?id=' + oObj.aData[0] + '\\\"&gt;View&lt;/a&gt;';\n                        }\n                    },\n                    { \"sName\": \"FirstName\" },\n                    { \"sName\": \"LastName\" },\n                    { \"sName\": \"EmailAddress\" },\n                    { \"sName\": \"CurrentCollege\" },\n                    { \"sName\": \"Term\" },\n                    { \"sName\": \"Program\" },\n                    { \"sName\": \"Status\" },\n                    { \"sName\": \"DateReceived\" },\n                    { \"sName\": \"InquirySource\" }\n                ]\n            });\n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>And for my action:</p>\n\n<pre><code>public ActionResult EditStudent(int id)\n    {\n        StudentInfo student = studentRepository.GetStudent(id);\n\n        return View(student);\n\n    }\n</code></pre>\n\n<p>When clicking the edit link, I am getting reference not set to an object. I don't see how though.</p>\n"},{"tags":["php","mvc","localhost","syntax-error"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12451932,"title":"PHP MVC works locally but when uploaded to host fails","body":"<p>Everything is working fine on localhost/myweb but when i upload the folder myweb to my public_html directory i get error:</p>\n\n<pre><code>[16-Sep-2012 18:32:55] PHP Warning:  Unexpected character in input:  '\\' (ASCII=92)  \nstate=1 in /home1/programw/public_html/myweb/index.php on line 7\n\n[16-Sep-2012 18:32:55] PHP Parse error:  syntax error, unexpected T_STRING in /home1\n/programw/public_html/myweb/index.php on line 7\n</code></pre>\n\n<p>on my index.php line 7 has this code:</p>\n\n<pre><code>   $app = new Core\\Bootstrap();\n</code></pre>\n\n<p>i know something has to do with \\ slash but i cant figure out what or how to fix it.</p>\n\n<p>can anyone help me please? I also use .htaccess and inside .htaccess i have the following:</p>\n\n<pre><code>   RewriteEngine On\n   RewriteCond %{REQUEST_FILENAME} !-d\n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteCond %{REQUEST_FILENAME} !-l\n   RewriteRule ^(.+)$ index.php?url=$1 [QSA,L]\n</code></pre>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>i just found out that \\ slash and namespacing is only supported in PHP 5.3 and my hosting for some reason didnt update their PHP to 5.3. If anyone knows a way around it  to work on 5.2 i will really appreciate it.</p>\n"},{"tags":["c#","asp.net-mvc-3","visual-studio-2010","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12451220,"title":"How can I display the current user logged in against the database?","body":"<p>I have created a website with a custom login to my database using SQL Server and would like to know how to display the text of the user logged in. Currently it is showing the users \"Login\" beside the word welcome but I would rather show the users actual name.\nI am new to MVC3 and would like to know how to change the following line in the _LogOnPartial.cshtml to display a field from my database \"AgentFirstName\" </p>\n\n<pre><code>&lt;text&gt;Welcome &lt;strong&gt;@User.Identity.Name&lt;/strong&gt;\n</code></pre>\n\n<p>Here is my AccountControler</p>\n\n<pre><code>[HttpPost]\n    public ActionResult LogOn(LogOnModel model)\n    {\n        if (ModelState.IsValid)\n        {\n            if (DAL.MyWebsiteContextClass.userIsValid(model.AgentLogin, model.AgentPassword))\n            {\n                FormsAuthentication.SetAuthCookie(model.AgentLogin, false);\n\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n            else\n            {\n                ModelState.AddModelError(\"\", \"The user name or password provided is incorrect.\");\n            }\n        }\n        return View(model);\n    }\n</code></pre>\n\n<p>Here is my agents model</p>\n\n<pre><code>public class Agents\n{\n    public virtual int ID { get; set; }\n    public virtual string AgentFirstName { get; set; }\n    public virtual string AgentLastName { get; set; }\n    public virtual string AgentLogin { get; set; }\n    public virtual string AgentPassword{ get; set; }\n</code></pre>\n\n<p>With a web config set like this</p>\n\n<pre><code>&lt;add name=\"MyWebsiteContextClass\"\n     connectionString=\"Data Source=My-SQL\\SQLEXPRESS; Initial Catalog=MyWebsite; Persist Security Info=True;User ID=sa;Password=password\"\n     providerName=\"System.Data.SqlClient\"/&gt;\n</code></pre>\n\n<p>And this is in my context Class</p>\n\n<pre><code>public DbSet&lt;Agents&gt; AgentsPkg { get; set; }\n</code></pre>\n\n<p>Unfortunatley I do not know what else you might need to help me but if you need anything please ask and I will do what I can. \nThanks for your help</p>\n"},{"tags":["mvc","area"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12443756,"title":"working mvc area","body":"<p>I have a some problems working with Areas. I am using Ado.Net Entity frame work and I generated POCO for my Model in the default Model, Now that I have to work in my Area (Admin Area) I cannot access the POCO. I thought of regenerating another POCO in my admin Model Area but not sure if is a right thing to do since it will be duplication and my database object are quite much. Please respond?</p>\n"},{"tags":["php","oop","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12445509,"title":"Definition of business logic and application logic in MVC/OOP","body":"<p>I'm learning MVC and OOP, but something has me confused:</p>\n\n<p><strong>What is the difference between business and application logic?</strong></p>\n\n<p>Take a look at the following scenario of a payment and invoicing system:</p>\n\n<p>Customers are invoiced, and when they pay the invoice it is acknowledged via a payments on the screen. The user enters the amount they have received from the customer into the system.</p>\n\n<p>Now, is application logic the following (in the controller):</p>\n\n<ul>\n<li>User can not enter negative numbers </li>\n<li>User must enter input in the style of integers only or #.# or #.## or\n##.## etc.</li>\n</ul>\n\n<p>Business logic (in the model):</p>\n\n<ul>\n<li>The amount entered can not exceed the amount on the invoice (ie\nwhat's due)</li>\n<li>And/or the amount entered can not exceed the amount owed if part\npayments have been made previously</li>\n</ul>\n\n<p>Do I have the right idea?</p>\n"},{"tags":["ios","ipad","mvc","uiviewcontroller","uigesturerecognizer"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12433956,"title":"How do I set up a UIGestureRecognizer to call on data corresponding to a specific subview within an iPad application?","body":"<p>I'm really new to iOS programming, well actually programming in general, but anyway here's my set up. I am creating a stopwatch application that creates up to ten stopwatches that each start and stop differently.I have it set up so all 10 are added as subviews and then when my addStopwatch method is called one more becomes visible. This is all awesome! Except that I can't figure out how to set it up so that my subViews can each update themselves to have different times. \nThe way it is set up now I have a stopwatchData class which stores a NSTimer(to update the stopwatch display), NSDate (the start date to calculate the time passed) and a NSDateFormatter (for... well formatting dates). Also, I have my custom stopwatchView class which displays the time. Right now my headViewController (you are supposed to have one viewController for every entire screen, right?) adds a gesture recognizer for starting and stopping each watch. What I can't figure out is how to have the starting and stopping access the data that corresponds to it's subviews (stopwatchView's) data (stopwatchData). It might sound stupid, but I've spent the last week surfing the internet to find an answer with no luck.</p>\n"},{"tags":["php","mvc","zend-framework","iis"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":571,"score":1,"question_id":7200523,"title":"Zend Framework and IIS","body":"<p>Is it possible to use Zend Framework MVC in IIS? (mode_rewrite missing)\nI follow some article about this issue but not successful.\nDid anybody get result? How?</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":245,"score":0,"question_id":7343748,"title":"how to call a view method to a model in zendframework","body":"<p>hello I just want to ask whether we can call a view method to a model? I know that we can call it on our controller in zend framework. Like if I want to call the url method of view on my controller I can call it like this</p>\n\n<pre><code>$this-&gt;view-&gt;url(array(),'');\n</code></pre>\n\n<p>and on the view we just can call it by</p>\n\n<pre><code>$this-&gt;url(array(),'');\n</code></pre>\n\n<p>But When I tried to call the same method on my model by</p>\n\n<pre><code>$this-&gt;view-&gt;url(array(),'');\n</code></pre>\n\n<p>it generates an error of call to undefined method <code>url</code>. \nNow I want to ask whether it is possible to call view method to a model? If yes then how? What Am I doing wrong. \nThanks</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":7366732,"title":"Front-end phtml template form doesn't connect to controller.php file","body":"<p>The web system which I'm working on right now, has a add.phtml (in views folder) form, which contain normal form elements and pageController.php (in Controller folder) file which has function to be connected when user hit \"add page\" button on the form. The codes goes like this.</p>\n\n<p>on <strong>add.phtml</strong> file,</p>\n\n<p>input type = \"submit\" value =\"Add Page\"</p>\n\n<p>on <strong>pageController.php</strong> file,</p>\n\n<p>function insertAction(){</p>\n\n<p>}</p>\n\n<p>For some reason these two doesn't connect now. Is anybody have any idea why this doesn't work or what should I check on this kind of a problem. The web system on zend framewok. I really appreciate if someone can help me.</p>\n"},{"tags":["java","spring","mvc","validation","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":210,"score":0,"question_id":12448526,"title":"Spring MVC 3 form validation annotations ignored?","body":"<p>I was learning how to make simple form validation using this tutorial:\n<a href=\"http://www.raistudies.com/spring/spring-mvc/form-validation-spring-mvc-3-hibernate-validator-jsr-303/\" rel=\"nofollow\">http://www.raistudies.com/spring/spring-mvc/form-validation-spring-mvc-3-hibernate-validator-jsr-303/</a></p>\n\n<p>The problem is, when I'm entering invalid data (blank fields), there is no errors for user anywhere. result.hasErrors() always produce false.</p>\n\n<p>I've produced following code:</p>\n\n<p>IndexController.java:</p>\n\n<pre><code>package pl.aadamczyk.springtest.controllers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport pl.aadamczyk.springtest.beans.LoginBean;\n\n@Controller\n@RequestMapping(\"/index\")\npublic class IndexController\n{   \n    @RequestMapping(method = RequestMethod.GET)\n    public String getIndex(ModelMap model)\n    {\n        LoginBean loginBean = new LoginBean();\n        model.addAttribute(\"loginBean\", loginBean);\n\n        return \"index\";\n    }\n}\n</code></pre>\n\n<p>+\nLoginController.java:</p>\n\n<pre><code>package pl.aadamczyk.springtest.controllers;\n\nimport javax.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport pl.aadamczyk.springtest.beans.LoginBean;\nimport pl.aadamczyk.springtest.validators.LoginValidator;\n\n@Controller\n@RequestMapping(\"/login\")\npublic class LoginController\n{\n    private LoginValidator loginValidator;\n\n    private LoginValidator getValidator()\n    {\n        return loginValidator;\n    }\n\n    @Autowired\n    public void setValidator(LoginValidator loginValidator)\n    {\n        this.loginValidator = loginValidator;\n    }\n\n    @RequestMapping(method= RequestMethod.POST)\n    public String login(@Valid @ModelAttribute(value=\"loginBean\") LoginBean loginBean,\n                        ModelMap model,\n                        BindingResult result)\n    {\n        System.out.println(result.hasErrors()); // always false\n\n        loginValidator.validate(loginBean, result);\n\n        return \"redirect:index.html\";\n\n    }\n}\n</code></pre>\n\n<p>+\nLoginValidator.java</p>\n\n<pre><code>package pl.aadamczyk.springtest.validators;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.Validator;\nimport pl.aadamczyk.springtest.beans.LoginBean;\n\n@Component\npublic class LoginValidator implements Validator\n{\n    @Override\n    public boolean supports(Class&lt;?&gt; type)\n    {\n        return LoginBean.class.isAssignableFrom(type);\n    }\n\n    @Override\n    public void validate(Object o, Errors errors)\n    {\n\n    }\n}\n</code></pre>\n\n<p>LoginBean.java:</p>\n\n<pre><code>package pl.aadamczyk.springtest.beans;\n\nimport org.hibernate.validator.Length;\nimport org.hibernate.validator.NotEmpty;\n\npublic class LoginBean\n{\n    @NotEmpty(message=\"Username is mandatory.\")\n    @Length(min=3,max=25,message=\"Username must be between 3 and 25 characters length\")\n    private String username;\n\n    @NotEmpty(message=\"Password field is mandatory.\")\n    @Length(min=3,max=25,message=\"Password must be between 5 and 25 characters length\")\n    private String password;\n\n    // getters+setters skipped\n}\n</code></pre>\n\n<p>Part of index.jsp:</p>\n\n<pre><code>&lt;form:form method=\"post\" action=\"login.html\" modelAttribute=\"loginBean\"&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Login:&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"username\"/&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:errors path=\"username\"/&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Password&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"password\"/&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:errors path=\"password\"/&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"3\"&gt;&lt;button type=\"submit\"&gt;Login&lt;/button&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>Important content of dispatcher-servlet:</p>\n\n<pre><code>&lt;context:annotation-config /&gt; \n&lt;context:component-scan base-package=\"pl.aadamczyk.springtest\"/&gt;\n&lt;mvc:annotation-driven/&gt;\n\n&lt;bean id=\"viewResolver\"\n      class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n      p:prefix=\"/WEB-INF/jsp/\"\n      p:suffix=\".jsp\" /&gt;\n</code></pre>\n\n<p>pom.xml dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-instrument-tomcat&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc-portlet&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-struts&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;taglibs&lt;/groupId&gt;\n    &lt;artifactId&gt;standard&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0.ga&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n    &lt;version&gt;6.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","authentication","forms-authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":433,"score":0,"question_id":9884387,"title":"how to create users and associate roles and provide authentication to the roles","body":"<p>i am developing an application in mvc3 and i need to provide authentication to my views.\nI want to create 2 roles like \"Admin\",\"Users\"\nand then add users to the respective roles.\nAuthentication to be provided is like when the user logged in his role is checked and accordingly a view is shown to him.\nI need to create two different views for each role..\nI am completely new to this part of MVC.</p>\n\n<p>I searched for this a lot but what i found was only part of code.Not even one could explain me step by step hw to go about it..\nplease if any1 can show me simple demo of how to do or u can suggest me any tutorial that i should follow..\nPlease Help...</p>\n"},{"tags":["java","mvc","jlist","updatemodel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12448213,"title":"How to update only certain items in a list when using MVC?","body":"<p>I'm building a GUI that includes a list with quite a lot of items. I allow the user to add/delete/edit those items.</p>\n\n<p>Up until now my update method called in the controller implied an entire JList reset (with its obvious performance issues). Now that there are hundreds of items available, updating the entire list is not fezable any longer.</p>\n\n<p>Does anyone know of a tutorial or can share an example (I haven't found any to suit my needs so far) in which the JList is updated something like JList.update(startIndex, endIndex);?</p>\n\n<p>Thanks for taking the time to answer.</p>\n"},{"tags":["mvc","model","yii","referential-integrity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12447362,"title":"MVC application - where to store reference data","body":"<p>I am working on an application using the Yii framework, so its MVC-style.  I have a record type \"person\", which contains information about membership.  Members come in two types: adults &amp; kids.  With the kids, SOME of them we know their ages and they are divided into age groups.  The age groups have names (e.g. \"8 &amp; Under\".)  So as an example, John Smith &amp; Jane Smith have two kids Jimmy Smith and Janey Smith.  Janey wants to do a soccer program, so we need to know her age and put her in an age group.  Jimmy is doing arts &amp; crafts so we don't need to know his age because his program isn't divided by age.  And we don't ask for the ages of the adults.</p>\n\n<p>So the question: I have a few choices about how I store this.  I could:</p>\n\n<ul>\n<li>put an int agegroup field in the person table, and define the values as CONST values when I define the model for people (and probably have a special value for \"undefined\" - for the adults.  Then I need to write a little code to translate the const value to descriptive labels.</li>\n<li>put an agegroup field in the person table as above, but also add another table in the database with the reference data.  Enforce referential integrity to this new table.  This raises another question - should I create a dummy record in the reference table for cases where I don't know/care about the agegroup, or should I allow null values in the people table agegroup field?</li>\n<li>others?</li>\n</ul>\n\n<p>I know I can make either of these work.  But I would welcome advice on which approach is preferred and why!</p>\n"},{"tags":["spring","mvc","list"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12438951,"title":"Spring MVC List Values Returned Unchanged","body":"<p>I am struggling with getting the changed list values in my JSP to get returned to the MVC controller. The values are displayed fine, but changes do not show up in the ModelAttribute when the form is submitted (any non-list values that are changed DO show up when submitted). Here is an abbreviated version of the relevant code:</p>\n\n<p>JSP:</p>\n\n<pre><code>&lt;c:forEach items=\"${poForm.poDetail}\" varStatus=\"i\"&gt;\n...\n&lt;!-- Product Description --&gt;\n&lt;td class=\"leftAlign\"  &gt;\n  &lt;form:input path=\"poDetail[${i.index}].description\"  /&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>BACKING FORM:</p>\n\n<pre><code>public class POForm {\n  private List&lt;PurchaseOrderDetail&gt; poDetail;\n...\n}\n</code></pre>\n\n<p>PURCHASEORDERDETAIL:</p>\n\n<pre><code>public class PurchaseOrderDetail implements Comparable&lt;PurchaseOrderDetail&gt;{\n    private String partNumber; // alpha-numeric part number (vendor's)\nprivate String description; // Product name/description\n... remaining properties are non-complex\n}\n</code></pre>\n\n<p>CONTROLLER:</p>\n\n<pre><code>@RequestMapping(value=\"/savePO\",method=RequestMethod.POST)\npublic ModelAndView savePO(@ModelAttribute(\"poForm\") POForm poForm, final       \n     HttpServletRequest request) {\n.... \"examine the poForm here and items of poDetail are unchanged\"\n}\n</code></pre>\n\n<p>any suggestions to try??</p>\n"},{"tags":["mvc","design-patterns","spring-mvc"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":160,"score":2,"question_id":12429729,"title":"Controller belongs to the Presentation layer?","body":"<p>I heard that controller belongs to the presentation layer. How is it possible?</p>\n\n<p>I thought that :</p>\n\n<ul>\n<li>view is for presentation</li>\n<li>model is for business logic</li>\n<li>controller is for controlling logic</li>\n</ul>\n\n<p>Is there good link to prove that controller belongs to the presentation layer?</p>\n\n<p>\"Spring MVC is used for presentation layer\": how can we use MVC only in the presentation layer?</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12444590,"title":"Assigning labels to database results","body":"<p>I've been meaning to ask this question for quite some time, but I couldn't (and haven't still) come up with a proper title to describe the problem. English isn't my native language, and I don't even know what this concept is called. Bear with me...</p>\n\n<p>Until recently, when fetching results from a database I just had to output them the way they were stored. So when I did </p>\n\n<p><code>SELECT name, gender, country FROM contacts</code> </p>\n\n<p>I just had to output it with </p>\n\n<p><code>echo $result['name'] . \" - \" . $result['gender'] . \" - \" . $result['country'];</code>.</p>\n\n<p>Country names are stored in the database by their <strong>ISO</strong> country code. This means United States is stored as USA, and Brazil is stored as BRA. The goal of this is to ensure compatibility with other systems. Users on the other hand don't want to deal with these country codes, they want to see the full country name.</p>\n\n<p>Likewise, when performing a search for all the contacts of a given country, they want to be able to enter the full country name in the search box, not the <strong>ISO-code</strong>.</p>\n\n<p>How can i assign labels (human readable values if you will) to these results? </p>\n\n<p>I'm using PHP without a framework but i do follow the <strong>MVC</strong> analogy (separation of business logic and presentation). How would this fit in an <strong>MVC</strong> architecture?</p>\n"},{"tags":["php","mvc","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12443321,"title":"Laravel DB Insert Error: Allowed Memory Size Exhausted","body":"<p>I'm running into an issue when trying to insert ~20K records into my DB. I notice that even though I'm echoing inside my foreach loop, I'm not getting anything outputted in the command line. Instead, I get an error relating to <code>Fatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 91 bytes) in /Users/me/Sites/Laravel/database/connection.php on line 293</code> after inserting ~9440 records.</p>\n\n<p>Here is my code (tried using both Eloquent and Fluent):</p>\n\n<pre><code>&lt;?php\n\nclass Process_Controller extends Base_Controller {\n\n    public function action_migrate()\n    {\n        $properties = DB::table('raw_properties')-&gt;get('id');\n        $total = count($properties);\n\n        foreach($properties as $x =&gt; $p){\n            $r = RawProperty::find($p-&gt;id);\n            $count = $x +1;\n\n            $prop_details = array(\n                'column' =&gt; $r-&gt;field,\n                // Total of 21 fields\n            );\n\n            DB::table('properties')-&gt;insert($prop_details);\n\n            echo \"Created #$count of $total\\n\";\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter","guidelines"],"answer_count":4,"favorite_count":16,"up_vote_count":16,"down_vote_count":0,"view_count":2552,"score":16,"question_id":800555,"title":"MVC done right - Examples","body":"<p>I am new to both the MVC pattern and PHP frameworks. I picked up a copy of <a href=\"http://rads.stackoverflow.com/amzn/click/1847191746\" rel=\"nofollow\">CodeIgniter for Rapid PHP Application Development</a>, but the author does not use the M part of MVC and I can't seem to get his code examples to work. CodeIgniter's <a href=\"http://codeigniter.com/user%5Fguide/overview/mvc.html\" rel=\"nofollow\">User Guide</a> is not very detailed about what goes into which component either.</p>\n\n<p>What I'm looking for are examples of correct usage of MVC (preferably PHP, CodeIgniter) whose source code can be examined, maybe some guidelines, too, such as \"What kind of logic can go into views\" or \"Should models be able to modify the data obtained from the database.\" I'd appreciate some tips on nesting views, too.</p>\n"},{"tags":["asp.net-mvc","mvc","membership","membership-provider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12443121,"title":"How use custom object through website exactly like membership","body":"<p>could you explain to me how can I store and use a custom object exactly like we use the asp.net MVC membership through a website ? I use very often the same one table from my database and I want to stop asking my server to retreive this same information on every page. I can't use cookie because I have some important information into this and I don't use session because I want this object accessible like the membership. After user login, I would like to set this information once and for all into this object until it disconnects. </p>\n\n<p>Examples...</p>\n\n<ol>\n<li><p>The very normal membership :</p>\n\n<p>MembershipUser UserAccount = Membership.GetUser(HttpContext.Current.User.Identity.Name);</p></li>\n<li><p>My custom data object I want to use</p>\n\n<p>MyCustomData customData = Membership.GetCustomData(HttpContext.Current.User.Identity.Name);</p></li>\n</ol>\n\n<p>Thank you very much!!</p>\n"},{"tags":["php","javascript","oop","mvc","codeigniter"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":521,"score":2,"question_id":5398852,"title":"PHP MVC with pure Javascript View : good practice?","body":"<p>My question might not be understandable enough, so let me explain the situation :</p>\n\n<p>I'm working on a big ajax webApp built, server side, with PHP using CodeIgniter. This framework saperates clearly models, controllers and views. The view files are rendered in HTML and then sent to the client that does some js treatments on it (like attaching events).</p>\n\n<p>This way of working seems strange to me, as it separates the view between the server side and the client side.</p>\n\n<p>I was thinking about moving all the View treatments to the client part that will build dynamically its html in js. The server side will then send only raw data.</p>\n\n<p>I worked this way on smaller projects, and I was really happy with the result (easily understandable, portable and reusable).</p>\n\n<p>Is it a right way to implement an MVC app ? Any advices around that reflexion ?</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12440144,"title":"PHP MVC - How to create dynamic routing","body":"<p>Currently I am studying the art of \"PHP MVC\", and I can not put in to words of how much I like creating things using this method. There are plenty of \"PHP MVC\" already packed and ready to go for me to use, but I am a big big fan of \"Search, Read, Understand, re-invent, and learn\" in order to gain knowledge of the subject (and help others in the matter on stack* website). Anyways to make this short, my question is more of a suggestion (I think) than an actually trial/error. As you know, php routing can be like so.</p>\n\n<blockquote>\n  <p>www.site.com/controller/method/args (if any)</p>\n</blockquote>\n\n<p>Say I had an admin section where as a user can create a dynamic page.. for example\nabout.php. This page has no class/method's create (newly created), therefor if I try to access</p>\n\n<blockquote>\n  <p>www.site.com/about/</p>\n</blockquote>\n\n<p>than I will probably just get the main controller (index). Now for my Question....... What would be a logical way of creating this dynamic controller/method? </p>\n\n<ol>\n<li>Should I just pass it to __call () method, and search in db for this file?</li>\n<li>Should I just have a class file handle these? maybe something like site.com/maincont/about than use htaccess to rename uri to site.com/about?</li>\n<li>Should I just create a script with class name for each page?</li>\n<li>How wold you handle in your own way?</li>\n</ol>\n\n<p>I am currently viewing symfony to see how they are doing it. Right now I am looking at inserting page name in to db and than taking it from there, since there is no wrong way of doing an mvc (as read), but as always!! there is a logical and secure way.</p>\n\n<p>FYI: Please forgive me for any lack of explanation/grammar, I am really sick today, and reading does not help a bit.</p>\n"},{"tags":["php","mvc","routes"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":149,"score":1,"question_id":12430181,"title":"How does MVC routing work?","body":"<p>So I've started studying MVC (real MVC, not framework MVC) a bit more in-depth, and I'm attempting to develop a small framework. I'm working by reading other frameworks such as Symphony and Zend, seeing how they do their job, and attempt to implement it myself.</p>\n\n<p>The place where I got stuck was the URL routing system:</p>\n\n<pre><code>&lt;?php\nnamespace Application\\Common;\n\nclass RouteBuilder {\n\n    public function create($name, $parameters) {\n        $route           = new Route($name);\n        $route-&gt;resource = array_keys($parameters)[0];\n        $route-&gt;defaults = $parameters[\"defaults\"];\n        $notation        = $parameters[\"notation\"];\n        $notation = preg_replace(\"/\\[(.*)\\]/\", \"(:?$1)?\", $notation);\n        foreach ($parameters[\"conditions\"] as $param =&gt; $condition) {\n            $notation = \\str_replace($param, $condition, $notation);\n        }\n\n        $notation = preg_replace(\"/:([a-z]+)/i\", \"(?P&lt;$1&gt;[^/.,;?\\n]+)\", $notation);\n\n        //@TODO: Continue pattern replacement!!\n    }\n}\n/* How a single entry looks like\n * \"main\": {\n    \"notation\": \"/:action\",\n    \"defaults\": {\n        \"resource\"  :   \"Authentication\",\n    },\n    \"conditions\":   {\n        \":action\"   :   \"(login)|(register)\"\n    }\n},\n\n */\n</code></pre>\n\n<p>I just can't get my head wrapped around it properly. What is the application workflow from here?</p>\n\n<p>The pattern is generated, probably a <code>Route</code> object to be kept under the <code>Request</code> object or something, then what? How does it work?</p>\n\n<blockquote>\n  <p><strong>P.S.</strong> Looking for a real, well explained answer here. I really want to understand the subject. I would appreciate if someone took the time to write a real elaborate answer.</p>\n</blockquote>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-2","asp.net-mvc-3-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":71,"score":-3,"question_id":12434916,"title":"Line break in string when the length is more than 10 char","body":"<p>I am working on MVC 3. The problem is that I want to break the string if its length more then 10. The string value coming from data base as User name. I want to apply that string on a image.. \nExample </p>\n\n<pre><code>public Image (string Name)\n{    \n}\n</code></pre>\n\n<p>so how to break the name string if it is more then 10 char?</p>\n\n<pre><code>public FileResult image(string image)\n    {\n\n\n\n        Bitmap bitMapImage = new Bitmap(Server.MapPath(\"/Content/themes/base/images/photo.png\"));\n      //  Bitmap bitMapImage = new Bitmap(\"/Content/themes/base/images/del02s(1).jpg\");\n\n        //TODO :  comment for revert the cation of no photo\n        Graphics graphicImage = Graphics.FromImage(bitMapImage);\n        graphicImage.SmoothingMode = SmoothingMode.AntiAlias;\n        int count = image.Length;\n        string[] arr4 = new string[count];\n        if (image.Length &gt; 9)\n        {\n\n            string imges = image\n\n        }\n\n       graphicImage.DrawString(image, new Font(\"Trebuchet MS,Trebuchet,Arial,sans-serif\", 10, FontStyle.Bold), SystemBrushes.WindowFrame, new Point(15, 5));\n\n\n         graphicImage.DrawArc(new Pen(Color.Red, 3), 90, 235, 150, 50, 0, 360); \n        MemoryStream str = new MemoryStream();\n        bitMapImage.Save(str, ImageFormat.Png);\n\n\n        return File(str.ToArray(), \"image/png\");\n    }\n</code></pre>\n\n<p>Check this out </p>\n\n<p>static void Main(string[] args)\n        {</p>\n\n<pre><code>        string image = \"1234567890abcdefghijklmnopqrsy\";\n        int count = image.Length;\n\n        if (image.Length &gt; 9)\n        {\n          //getting Error\n            string img1 = image.Substring(0, 10); \n            string img2 = image.Substring(10, count);//getting Error Index and length           //must refer to a location within the string.\n             //Parameter name: length\"\n\n\n\n            string imge3 = img1 + \"\\n\";\n            string img4 = imge3 + img2;\n\n            Console.WriteLine(img4);\n        }\n    }\n</code></pre>\n"},{"tags":["mvc","iis7","url-rewriting","global-asax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":294,"score":0,"question_id":9083693,"title":"Deploy ASP MVC 3 application under IIS 7 Default Web Site: File not found error","body":"<p>My Default Web Site on IIS is pointing at </p>\n\n<blockquote>\n  <p>\"C:/intepub/wwwroot\"</p>\n</blockquote>\n\n<p>. In this directory, I have place a subdirectory called \"mvc\" that contains the files needed to run the MVC 3 web app. Therefore the physical path of my web app and its files is </p>\n\n<blockquote>\n  <p>\"C:/inetpub/wwwroot/mvc\"</p>\n</blockquote>\n\n<p>It allows me to access the Login page with no problem, however any other route defined in the Global.asax file throws a <strong>404 error</strong>. I have tried this test:</p>\n\n<p>The route <strong>http://myDomain/Module/CO1040 throws and error</strong>, <strong>but</strong> when a hardcoded the url and insert \"mvc\" on it, i.e. <strong>http://myDomain/mvc/Module/CO1040</strong>, it <strong>works perfectly.</strong></p>\n\n<p><strong>Does this means that I have to rewrite the routes in Global.asax to insert that \"mvc\"?</strong>\nI've gone through the documentation for deploying MVC web apps on IIS 7 and everything points at I shouldn't have any url rewriting to do (I've also looked into the different methods to do this, driving me a bit more crazy), since IIS 7 makes this deployment easier than previous versions of IIS.</p>\n\n<p>How can I solve this problem?</p>\n\n<p>Many thanks in advance.</p>\n"},{"tags":["php","mvc","codeigniter","frameworks"],"answer_count":6,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":492,"score":5,"question_id":9868580,"title":"Big Headache: CodeIgniter or custom made framework, what's your thoughts?","body":"<p>If you'd like to develop a WebApp which you know that is going to scale and become bigger and bigger over time, would you use CodeIgniter or your custom made framework?</p>\n\n<p>What's your arguments for using an open source framework and what's your arguments against it.</p>\n\n<p>Here are my thoughts:\n<strong>CodeIgniter Pros</strong></p>\n\n<ul>\n<li>Great documentation -> Easier to work in a team.</li>\n<li>All the development time is invested in the business logic.</li>\n<li>Not reinventing the wheel</li>\n</ul>\n\n<p><strong>CodeIgniter Cons</strong></p>\n\n<ul>\n<li>Not sure how scalable it is if I'll want to grow</li>\n<li>MIT License - not sure what it means, but if I'll want to sell my app on per license basis, I'm not sure I'll be able to do that.</li>\n</ul>\n\n<p><strong>Custom coded Framkework Pros</strong></p>\n\n<ul>\n<li>Scalable. I can decide how it will grow.</li>\n<li>I own the code</li>\n<li>Flexcible design.</li>\n</ul>\n\n<p><strong>Custom coded Framework Cons</strong></p>\n\n<ul>\n<li>Need to document it, so others will be able to collaborate.</li>\n<li>Need to invest time to maintain the framework</li>\n<li>Unexpected errors/bugs</li>\n</ul>\n\n<p>What's your take on that? My brain tells me to go with CodeIgniter, my heart tells me to build my own framework.</p>\n"},{"tags":["php","mysql","mvc","codeigniter","recursion"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12433861,"title":"CodeIgniter and binary tree iteration/organization","body":"<p>I'm developing a CI project that needs to outputs a perfect binary tree in HTML.  Each node in the tree relates to a record in a table.  The table currently has upwards of 10 million rows and I'm going to need to output a tree with depth of at least 9, so things could get slow quickly if it's not built optimally.</p>\n\n<p>Using the CI's MVC paradigm, what's the best way to organize this data?  With such a large table, I don't want to have to hit the database too many times, and building a tree like this can get costly very quickly (# cells = 2^(depth+1)-1).</p>\n\n<p>So far I've built the controller to handle the request (easy part) and a library to handle/build the tree structure by recursively hitting the DB and creating an object for each node.  I'm sorta stuck on how to organize the rest.  Should I handle the tree traversal and HTML output from within a view/helper?  If we do that, there's going to be a whole bunch of logic in the view(s) which I know people try to avoid.  Similarly, I know it's looked down upon to output any HTML from within a library but given this structure it almost seems like it's logical to handle all the recursion/output from there.</p>\n\n<p>Any advice would be very helpful, and thanks in advance!</p>\n"},{"tags":["mvc","url","dash","hyphenation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12433736,"title":"ASP.NET MVC 4 - Allow dashes / hypens in URL's","body":"<p>I am struggling how to properly allow dashes / hypens in a URL in my MVC 4 / ASP.NET 4.5 app...for some reason MVC converts the dashes to underscores which is not what i want.</p>\n\n<p>I've done a good bit of searching around before i posted the question, still can't find any easy solution. Everything i found seems way out of whack for such a simple configuration.</p>\n\n<p>Basically, i would like to be able to access the following URL:</p>\n\n<p>www.mysite.com/dashes-in-url</p>\n\n<p>So for example, i created a controller named:</p>\n\n<p>dashes-in-urlController.cs</p>\n\n<p>The controller was named fine and allowed the dashes in the controller name.</p>\n\n<p>However, when i created a view for the Index for the above controller, it created the view as:</p>\n\n<p>Folder: /Views/dashes_in_url</p>\n\n<p>With an Index.cshtml file in that folder - but it replaced my dashes with underscores.</p>\n\n<p>So i have to access the url as:</p>\n\n<p>www.mysite.com/dashes_in_url</p>\n\n<p>with underscores instead of with the dashes in the URL.</p>\n\n<p>Does anyone know of any elegant, simple solution to achieve what i'm trying to do? </p>\n\n<p>Any help in this matter would be greatly appreciated, thanks!</p>\n"},{"tags":["vb.net","mvc","backgroundworker"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12398131,"title":"vb.net - BackgroundWorker, models and reusable controls","body":"<p>I have read .NET API doc and successfully implemented <code>BackgroundWorker</code> in order to fill data for my control (composed by a <code>TreeView</code> with a <em>recommended</em> list based on hints parsed with regex). So far so good while sandboxing...</p>\n\n<p>Now, for the real thing. I want to keep the UI isolated from the model. While reading and learning the use of <code>BackgroundWorker</code>, the code was simple in the following terms:</p>\n\n<ol>\n<li>My control is provided from an external library</li>\n<li>The control is putted in a dummy <code>Form</code> and docked (fill)</li>\n<li>A <code>BackgroundWorker</code> dragged in the <code>Form</code>, explored a custom directory, and <code>ProgressChanged</code> event was handled by the control with parent and child <code>TreeNode</code>s passed as arguments.</li>\n</ol>\n\n<p>For the <em>real</em> thing I wanted to emphasize the use of MVC pattern. I've tried differents approachs and in all of them I failed to get the UI not freezed. What caught my attention and deliberated the need of this question was that the code didn't change drastically and the update or progress change was made <strong>always</strong> in the UI thread (most specifically, in the handler written in the control).</p>\n\n<p>The last approach I have made was the creation of the following <code>SetWorkerDelegate</code> method in the custom control below:</p>\n\n<pre><code>...\nPrivate worker As BackgroundWorker\nPrivate currentDelegate As DoWorkEventHandler\n\nPublic Sub New()\n    InitializeComponent()\n    worker = New BackgroundWorker()\n    worker.WorkerReportsProgress = True\n    worker.WorkerSupportsCancellation = True\n    AddHandler worker.ProgressChanged, AddressOf worker_progressChanged\n    AddHandler worker.RunWorkerCompleted, AddressOf worker_finished\nEnd Sub\n\nPublic Sub SetWorkerDelegate(ByRef workerDelegate As DoWorkEventHandler)\n    If Not currentDelegate Is Nothing Then\n        RemoveHandler worker.DoWork, currentDelegate\n    End If\n    currentDelegate = workerDelegate\n    AddHandler worker.DoWork, currentDelegate\n    ' new delegate, new run..\n    worker.RunWorkerAsync()\nEnd Sub\n\nPrivate Sub worker_progressChanged(ByVal sender As Object, _\n                             ByVal e As System.ComponentModel.ProgressChangedEventArgs)\n    Debug.WriteLine(\"change has been made.\")\n    Dim state As Object() = e.UserState\n    ' Just for the sake of simplicity...\n    Dim parent As TreeNode = state(0)\n    Dim child As TreeNode = state(1)\n    If parent Is Nothing Then\n        TreeView1.Nodes.Add(child)\n    Else\n        parent.Nodes.Add(child)\n    End If\nEnd Sub\n</code></pre>\n\n<p>With a custom class working as the work-provider like this:</p>\n\n<pre><code>Public doWorkTest As DoWorkEventHandler\nPrivate worker As BackgroundWorker\n\nPublic Sub New()\n    doWorkTest = New DoWorkEventHandler(AddressOf run)\nEnd Sub\n\nPrivate Sub BuildTree(ByVal aPath As String, _ \n                      Optional ByVal parent As TreeNode = Nothing)\n    If IO.Directory.Exists(aPath) Then\n        Dim rootDirectory As DirectoryInfo = New DirectoryInfo(aPath)\n        If parent Is Nothing Then\n            Dim root As TreeNode = New TreeNode(rootDirectory.Name)\n            root.Tag = rootDirectory.FullName\n            worker.ReportProgress(1, New Object() {Nothing, root})\n            parent = Root\n        End If\n        For Each info As FileSystemInfo In rootDirectory.EnumerateFileSystemInfos\n            Dim child As TreeNode = New TreeNode(info.Name)\n            worker.ReportProgress(1, New Object() {parent, child})\n            child.Tag = info.FullName\n            If (info.Attributes And FileAttributes.Directory) = FileAttributes.Directory Then\n                BuildTree(child.Tag, child)\n            End If\n        Next\n    End If\nEnd Sub\n\nPublic Sub run(ByVal sender As Object, ByVal e As DoWorkEventArgs)\n    worker = sender\n    Thread.Sleep(2000)\n    BuildTree(\"C:\\\", Nothing)\nEnd Sub\n</code></pre>\n\n<p>Questions:</p>\n\n<ul>\n<li>Does the <code>BackgroundWorker</code> object need to be instantiated in a GUI thread?</li>\n<li>What is your advice for following an MVC pattern in order to provide a model interface for reusing controls?</li>\n<li>When using the same exact code but layed out differently (e.g., all the <code>BackgroundWorker</code> code done in the form), the nodes are loaded ok and the GUI refreshes ok without freeze, anyone knows why?</li>\n</ul>\n"},{"tags":[".net","mvc","twilio"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":12429494,"title":"Filter call logs using Twilio .NET helper library","body":"<p>Im trying to use the <a href=\"http://twilio.com/docs/api/rest\" rel=\"nofollow\">Twilio Rest API</a> to get a list of call logs using <a href=\"http://github.com/twilio/csharp\" rel=\"nofollow\">MVC .net</a>. Using the following code, I can only get the most recent 50 calls. I would like to return all calls and filter as I choose. </p>\n\n<pre><code>@using Twilio;\n@{\n    // Set our AccountSid and AuthToken\n    string sid = \"AC123\";\n    string token = \"abcd\";\n\n    // Instantiate a new Twilio Rest Client\n    var client = new TwilioRestClient(sid, token);    \n\n    // Get Recent Calls\n    var calls = client.ListCalls();\n\n    if (calls.RestException != null) \n    {\n        Response.Write(string.Format(\"Error: {0}\", calls.RestException.Message));\n        Response.End();\n    }    \n}\n&lt;h1&gt;Call Log&lt;/h1&gt;\n@foreach (var call in calls.Calls) {\n    &lt;p&gt;Call from @call.From to @call.To at @call.StartTime of length @call.Duration&lt;/p&gt;\n}\n</code></pre>\n\n<p>How can I return all calls from the call logs?</p>\n"},{"tags":["javascript","jquery","json","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12429370,"title":"JQuery DataTable and JsonDate, very basic","body":"<p>I've found <a href=\"http://stackoverflow.com/questions/12419405/converting-datetime-from-json-to-readable-format\">this question</a> very similar to my situation, but I don't know basic steps in integration in JQuery DataTable <code>DateTime</code> field. How to insert converted json datetime object into datatable in row like </p>\n\n<pre><code> $('#myDataTable').dataTable({\n            \"bServerSide\": true,\n            \"sAjaxSource\": \"/Home/AjaxHandler\",\n\n            \"aoColumns\": [\n                        { \"sName\": \"JoinDate\" }\n                    ]\n        });\n    });\n</code></pre>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":45,"score":-3,"question_id":12427668,"title":"Model, View and Controller differentiated by colours","body":"<p>I need to know what usable colours can be used to represent Model, View and Controller. </p>\n\n<p>So the goal is to assign different colours to Model, View and Controller so one can easily recognize it at a glimpse.</p>\n\n<p>Do you have any suggestions of colour for me?</p>\n\n<p>UPDATED</p>\n\n<p>Based on my experience, I have tagged them as follows.</p>\n\n<ol>\n<li>Blue for Model</li>\n<li>Green for View </li>\n<li>Red for Controller</li>\n</ol>\n"},{"tags":["java","mvc","observable"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12428371,"title":"MVC - Can a view Observe an object?","body":"<p>I am trying to get a better understanding of the MVC structure while using Observable and Observer and I am trying to do so by implementing a program that compares files.  I want my view to show a list of files and some statistical data.  How do I update the view with different data?</p>\n\n<p>For instance, if the statistics change, I want to send the Statistics object to the view so it can update it's display.  But at the same time, if the list of files changes, I want to send the ArrayList to the view so it can update it's display.  Do I use the same update method for both?  If so, do I then have my view look to see what the instanceof is and display accordingly?</p>\n"},{"tags":["mvc","mvp","pac"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12428128,"title":"Is PAC, just MVP with passive view?","body":"<p>In few words: is the PAC (Presentation‑Abstraction‑Control) design pattern, just the MVP (Model‑View‑Presenter) pattern where the view is a passive view?</p>\n\n<p>As far as I can understand</p>\n\n<ul>\n<li><p>MVP is a Presenter, talking with a Model. Then a View talking to the Presenter, and the other way too, the Presenter can talk to the View, that is:</p>\n\n<pre><code>View &lt;--&gt; Presenter --&gt; Model\n</code></pre>\n\n<p>with incoming user events coming from the View [*].</p></li>\n<li><p>PAC is a Controller, which talks to both the Presentation and the Abstraction, but the Presentation does not talk to the Controller (but still sends events the Controller may intercept, though), that is:</p>\n\n<pre><code>Presentation &lt;-- Controller --&gt; Abstraction\n</code></pre>\n\n<p>with incoming user events coming from the Presentation (?).</p></li>\n</ul>\n\n<p>This make me feel to understand PAC is the same as MVP, where the view is passive. Is this a correct interpretation of these two patterns?</p>\n\n<p>[*]: unlike with MVC, where user events comes from the Controller</p>\n\n<p>P.S. Is this OK to ask a general question about design patterns on <em>Stackoverflow</em>? Or is there a better place? I have a doubt, as that's more a design than a programming matter.</p>\n"},{"tags":["c#",".net","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12427650,"title":".net mvc show \"saved\" message in strongly typed parent view when child form save complete","body":"<p>I have a blog object which can contain comment objects.</p>\n\n<p>Currently, the blog contains the blog info and also a partial that renders a list of comments and the form to add a new comment. This comment form posts to a <code>Save</code> action in my <code>Comment</code> controller and then redirects back to the <code>Show</code> action of the <code>Blog</code> controller. The below code is the action action.</p>\n\n<pre><code>        //the id of the blog this comment is for\n        int blogId;\n        bool parsed = Int32.TryParse(Request.Form[\"blogId\"].ToString(), out blogId);\n\n        //get the blog\n        BlogService blogService = new BlogService(unitOfWork);\n        Blog blog = new Blog();\n\n        if (parsed)\n        {\n            blog = blogService.GetBlogArticle(blogId);\n        }\n\n        //setup up our comment\n        CommentService service = new CommentService(unitOfWork);\n        Comment comment = model;\n        comment.Blog = blog;\n\n        //set the comment date\n        comment.PostedDate = DateTime.Now;\n\n        bool actionSucceeded = true;\n        string errorMessage = \"Something went wrong. Please try your request again.\";\n\n        try\n        {\n            service.Add(comment);\n            unitOfWork.Save();  \n        }\n        catch\n        {\n            actionSucceeded = false;\n        }\n\n        if (actionSucceeded)\n        {\n            TempData[\"ActionMessage\"] = \"Comment successfully added. Comments need approval before being posted.\";\n            return RedirectToAction(\"show\", \"blog\", new { id = comment.Blog.Id });\n        }\n        else\n        {\n            ModelState.AddModelError(string.Empty, errorMessage);\n        }\n\n        return RedirectToAction(\"show\", \"blog\", new { id = comment.Blog.Id });\n</code></pre>\n\n<p>My Comment View Model is setup like this.</p>\n\n<pre><code>public class CommentListModel\n{\n    public IEnumerable&lt;Comment&gt; Comments { get; set; }\n    public string ActionMessage { get; set; }\n}\n</code></pre>\n\n<p>And my Blog View Model is setup like this.</p>\n\n<pre><code>public class BlogModel : ResultsModel&lt;Blog&gt;\n{\n    public Blog Blog { get; set; }\n    public string ActionMessage { get; set; }\n\n    public BlogModel() : base()\n    {\n        this.ItemsPerPageOptions = new KeyValuePair&lt;int, string&gt;[]\n        {\n            new KeyValuePair&lt;int, string&gt;(15, \"Items Per Page: 15\"),\n            new KeyValuePair&lt;int, string&gt;(20, \"Items Per Page: 20\"),\n            new KeyValuePair&lt;int, string&gt;(25, \"Items Per Page: 25\"),\n            new KeyValuePair&lt;int, string&gt;(30, \"Items Per Page: 30\"),\n            new KeyValuePair&lt;int, string&gt;(40, \"Items Per Page: 40\"),\n            new KeyValuePair&lt;int, string&gt;(50, \"Items Per Page: 50\")\n        };\n    }\n}\n</code></pre>\n\n<p>And the portion of the View that handles this.</p>\n\n<pre><code>   @if (TempData[\"ActionMessage\"] != null)\n        {   \n            &lt;div class=\"validation-summary-success\" style=\"font-size: 2.1em; color: gray; background-color: #90EE90; padding: 10px; margin:2px;\"&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;@TempData[\"ActionMessage\"]&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n\n            &lt;script type=\"text/javascript\"&gt;\n                $(\".validation-summary-success\").delay(3000).fadeOut(\"slow\").slideUp(\"slow\");\n            &lt;/script&gt;   \n        }\n\n        &lt;div class=\"Head\"&gt;\n          &lt;h5&gt;@Model.Blog.Title&lt;/h5&gt;\n          &lt;label&gt;By: @Model.Blog.Admin.Name &lt;span&gt;|  @Model.Blog.PostingDate.ToShortDateString()&lt;/span&gt;&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;article class=\"mContent\"&gt;\n            &lt;p&gt;@Model.Blog.Body&lt;/p&gt;   \n        &lt;/article&gt;\n        &lt;div id=\"commentContainer\"&gt;\n                @Html.Partial(\"_BlogComments\", @Model.Blog.Comments, new ViewDataDictionary { {\"blogId\", @Model.Blog.Id}  })\n        &lt;/div&gt;\n</code></pre>\n\n<p>As you can see, I'm using the <code>TempDataDictionary</code> to show a \"Saved\" message. However, it is my understanding that this defeats the purpose of having a strongly typed view.</p>\n\n<p>When I save this comment in the <code>Save</code> action, how do I set the <code>ActionMessage</code> property if I am redirecting back to the <code>Show</code> action of the <code>Blog</code> controller if this action currently accepts a record ID? Would I set the <code>ActionMessage</code> property of the Blog or Comment object?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","architecture"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12428240,"title":"Where to put preperation code for partials that can be rendered both from a view and from a controller?","body":"<p>In my Rails app, I have a <code>Foo</code> model that <code>has_many</code> <code>Bar</code>s. I want to edit the <code>Bar</code>s inside the <code>show</code> view of <code>Foo</code>'s controller. Also, I don't want to reload the entire page each time I edit a <code>Bar</code>.</p>\n\n<p>To do this, I'm using AJAX. The <code>Bar</code> controller has two views - <code>show</code> and <code>edit</code>. <code>bar#show</code> has an edit button, and both the <code>Bar</code> views, instead of reloading the entire page, use AJAX to perform the HTTP request and then replace the content of the HTML tag that contains that represents that specific <code>Bar</code> object in the <code>Foo</code>'s <code>show</code> view.</p>\n\n<p>When rendering <code>foo#show</code>, I don't want to perform an HTTP request for each <code>Bar</code> object. Also, <code>Bar</code>'s controller method need to fetch the <code>Bar</code> record from the database - something I don't want to do in <code>foo#show</code>, because I can load all of them with a single query, which is much faster than loading each one separately.</p>\n\n<p>So, what I did is to make <code>Bar</code>'s views partials instead of normal views. That way, I can render them both from the controller and from another view.</p>\n\n<p>Now, the problem is that those views need more preparation beside loading the <code>Bar</code> record from the database, and unlike loading the record - those preparations need to be done whether the partial is rendered from the controller or from another view.</p>\n\n<p>What I'm doing now is having a ruby block of about 10 lines in the beginning of the partial's <code>erb</code>, and do the preparation there. While that works, I realize it's a bad design - that kind of preparation should be done in controllers, not in views. And to make things worse - sometimes, that preparation code of the <code>show</code> partial can decide that the <code>edit</code> partial needs to be rendered instead, so I need to call another partial render from the <code>show</code> partial - again, something that should have been done in another place.</p>\n\n<p>However, I just don't know where to put that code. I thought about putting it a view helper, but view helpers are supposed to be called from views, and I also need to call this one from a controller.</p>\n\n<p>So, what's the RoR way to solve this problem?</p>\n"},{"tags":["mvc","jsp","java-ee"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12423990,"title":"Can't add data to the database","body":"<p>I'm working on a simple java web application using mvc 1.\nThe application add data inserted in the table form.\nwe have \n1.Bean\n2.Operator which is a class that insert data from jsp to database\n3.servlet\n4.jsp</p>\n\n<p>This is the bean</p>\n\n<pre><code>package pk1;\n\n\nimport java.util.*;\n\npublic class MissionForm {\n\n    String objet, dateDepart,dateRetour;\n    long matricule, numVehicule,numMission ;\n    public MissionForm(String objet, String dateDepart, String dateRetour,\n            int matricule, int numVehicule,int numMission) {\n        super();\n        this.objet = objet;\n        this.dateDepart = dateDepart;\n        this.dateRetour = dateRetour;\n        this.matricule = matricule;\n        this.numVehicule = numVehicule;\n        this.numMission=numMission;\n    }\n    public String getObjet() {\n        return objet;\n    }\n    public void setObjet(String objet) {\n        this.objet = objet;\n    }\n    public String getDateDepart() {\n        return dateDepart;\n    }\n    public void setDateDepart(String dateDepart) {\n        this.dateDepart = dateDepart;\n    }\n    public String getDateRetour() {\n        return dateRetour;\n    }\n    public void setDateRetour(String dateRetour) {\n        this.dateRetour = dateRetour;\n    }\n    public long getMatricule() {\n        return matricule;\n    }\n    public void setMatricule(long matricule) {\n        this.matricule = matricule;\n    }\n    public long getNumVehicule() {\n        return numVehicule;\n    }\n    public void setNumVehicule(long numVehicule) {\n        this.numVehicule = numVehicule;\n    }\n    public long getNumMission() {\n        return numMission;\n    }\n    public void setNumMission(long numMission) {\n        this.numMission = numMission;\n    }\n\n}\n</code></pre>\n\n<p>Operator that adds typed data from jsp to database </p>\n\n<pre><code>package pk1;\n\n\nimport java.sql.*;\nimport java.util.Iterator;\nimport java.util.Vector;\n\n\npublic class Operateur {\n\n    public Operateur(){}\n\n    //------------------ajouter les Missions------------------------\n\n    public void addMission(String objet,String dateDepart,String dateRetour,long matricule,long numVehicule){\n        Connection conn=Utilitaire.getConnection();\n        String req=\"insert into mission (Objet,DateDepart,DateRetour,Matricule,NumVehicule) values(?,?,?,?,?)\";\n        try {\n            PreparedStatement ps=conn.prepareStatement(req); // prepare une instruction ki é parametré ces parametres st representé par les ?\n            ps.setString(1,objet);\n            ps.setString(2,dateDepart);\n            ps.setString(3,dateRetour);\n            ps.setLong(4,matricule);\n            ps.setLong(5,numVehicule);\n\n            ps.executeUpdate();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }   \n    }\n\n}\n</code></pre>\n\n<p>OperatorServlet.java</p>\n\n<pre><code>import pk1.*;\n\n\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport javax.servlet.http.*;\nimport javax.servlet.*;\n\n\nimport java.io.*;\n\n\npublic class OperateurServlet extends HttpServlet {\n\n\n        public void doPost(HttpServletRequest request,\n                HttpServletResponse response)throws ServletException,IOException{\n    //Créer le bean qui va stocker les données de la requête\n            MissionForm mf=new MissionForm(null, null, null, 0, 0, 0);\n\n            //Faire appel au modèle pour ajouter une nouvelle mission\n            Operateur op=new Operateur();\n            if(request.getParameter(\"addMiss\")!=null){\n    // Socker les données de la requête dans le bean créé\n                mf.setObjet(request.getParameter(\"objet\"));\n                mf.setDateDepart(request.getParameter(\"dateDepart\"));\n                mf.setDateRetour(request.getParameter(\"dateRetour\"));\n                mf.setMatricule(Long.parseLong(request.getParameter(\"matricule\")));\n                mf.setNumVehicule(Long.parseLong(request.getParameter(\"numVehicule\")));\n                //Sauvegarder l'objet dans la base de données\n                op.addMission(mf.getObjet(),mf.getDateDepart(),mf.getDateRetour(),mf.getMatricule(),mf.getNumVehicule());\n\n}\n\n        /* avant de donner la main la page JSP pour afficher\n         * enregitrer le bean dans la requête ou la session courante\n         */\n                    HttpSession session=request.getSession();\n                    session.setAttribute(\"missForm\",mf);\n        //Faire une redirection vers la vue JSP pour afficher.\n                    response.sendRedirect(\"interface.jsp\");     \n                }\n            public void doGet(HttpServletRequest request,\n                    HttpServletResponse response)throws ServletException,IOException{\n                    doPost(request,response);\n            }\n        }\n</code></pre>\n\n<p>Jsp vue</p>\n\n<pre><code>&lt;%@ page language=\"java\" %&gt;\n&lt;%@ page import=\"java.util.*\" %&gt;\n&lt;%@ page import=\"pk1.*\" %&gt;\n\n\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Ordres de missions&lt;/title&gt;\n&lt;/head&gt;\n&lt;body bgcolor=\"#FFFFFF\"&gt;\n\n&lt;form method='post' action='operateurservlet'&gt;\n &lt;table border='1' align='center'&gt;\n   &lt;tr&gt;\n    &lt;td&gt;Année:&lt;input type='text' name='motCle' value=''&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type='submit' name='chercheCat' value='Chercher'&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n &lt;/table&gt;\n&lt;/form&gt;\n&lt;form method='get' action='operateurServlet/operateur'&gt;\n  &lt;table border='1' align='center'&gt;\n    &lt;tr&gt;\n      &lt;td&gt;Numero de mission&lt;td&gt;Objet&lt;/td&gt;&lt;td&gt;Date de depart&lt;/td&gt;&lt;td&gt;Date de retour&lt;/td&gt;&lt;td&gt;Agent&lt;/td&gt;\n\n\n    &lt;/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n     &lt;td&gt;   &lt;input type='text' name='objet' size='40'&gt;&lt;/td&gt; \n     &lt;td&gt;&lt;input type='text' name='dateDepart'&gt;&lt;/td&gt;     \n     &lt;td&gt;&lt;input type='text' name='dateRetour'&gt;&lt;/td&gt;\n     &lt;td&gt;&lt;FORM&gt;\n                                                                    &lt;SELECT name=\"nom\" size=\"1\"&gt;\n                                                                                &lt;OPTION&gt;1\n                                                                                &lt;OPTION&gt;2\n                                                                                &lt;OPTION&gt;3\n                                                                                &lt;OPTION&gt;4\n                                                                                 &lt;OPTION&gt;5\n                                                                    &lt;/SELECT&gt;\n                                                               &lt;/FORM&gt;&lt;/td&gt;\n\n\n     &lt;td&gt;&lt;input type='submit' value='Ajouter'&gt;&lt;/td&gt; \n\n\n\n\n    &lt;/tr&gt;\n\n  &lt;/table&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I click on add button, nothin happens. I know there is something not working in the jsp, I don't what it is ? \nthanks </p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","view","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12418718,"title":"Newbie - Rails View within View","body":"<p>I'm attempting to make a two column layout. The column on the left is navigation, and the column on the right is content.</p>\n\n<p>Is there a way to display <code>show.html.erb</code>, <code>edit.html.erb</code>, and <code>new.html.erb</code> at different times in the right div, when the corresponding navigation is selected, without re-loading the whole page?</p>\n\n<p>I know I can use a partial for the left div, and render new pages, but I want to avoid having a separate page load for each view.</p>\n\n<p>Item Controller:</p>\n\n<pre><code>def index\n    @item = item.find(:all, :order =&gt; \"id DESC\")\nend\n\ndef new\n    @item = item.new\nend\n\ndef create\n    @item = item.new(params[:item])\n\n    if @item.save\n        redirect_to root_path\n    else\n        render \"new\"\n    end\nend\n\ndef edit\n    @item = item.find(params[:id])\nend\n\ndef update\n    @item = item.find(params[:id])\n\n    if @item.update_attributes(params[:item])\n        redirect_to root_path\n    else\n        render \"index\"\n    end\nend\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"left\" \"&gt;\n    &lt;p id=link_to \"Current_Item\", item_path %&gt;&lt;/p&gt;\n    &lt;p id=Link_to \"Add_Item\", new_item_path %&gt;&lt;/p&gt;\n    &lt;p id=Link_to \"Edit_Item\", edit_item_path %&gt;&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div id=\"right\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Routes File:</p>\n\n<pre><code>resources :items\n</code></pre>\n"},{"tags":["ios","mvc","uibutton","first-responder"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":177,"score":5,"question_id":9417844,"title":"UIButton event not handled 1% of the time: who should I blame in my responder chain?","body":"<p>My application tends to sometimes lose track of what responder should handle a touch event.</p>\n\n<p>My situation:</p>\n\n<ul>\n<li>a XIB file defining 3 views: \n<ul>\n<li>one view as the File's Owner's view</li>\n<li>2 extra views that are added to the view hierarchy programmatically</li>\n</ul></li>\n<li>One of the subview (SubviewA) has a <code>UIButton</code>, configured to send the <code>myAction:</code> selector to the <code>FirstResponder</code> when a \"Touch Up Inside\" event is detected</li>\n<li>SubviewA knows how to handle <code>myAction:</code></li>\n</ul>\n\n<p>99% of the time, everything goes fine. When the user taps the button, SubviewA takes care of the <code>myAction:</code> message and everything's fine. But from times to times, users complain that the button \"freezes\" and I actually reproduced it myself a couple of times without being able to find a clear scenario to make it happen on demand.</p>\n\n<p>My investigation so far is:</p>\n\n<ul>\n<li>when nothing happens when tapping the button:\n<ul>\n<li>my button detects the tap cause it gets highlighted when pressed</li>\n<li><code>myAction:</code> is not called on SubviewA</li>\n<li>the rest of the UI remains responsive</li>\n</ul></li>\n</ul>\n\n<p>The code I'm talking about is some legacy code I'm trying to fix. Having a view responding to an event for one of its subviews sounds like a weird architecture to me. So far, I've always used the File's Owner to take care of touch events so I pointed out the Responder Chain to be the ideal responsible for the bug. But I can't find why! From my understanding, as the button doesn't know how to handle the message and has no view controller attached to it, it should forward it to its superview (ButtonA, that knows how to handle it)!</p>\n\n<p>My questions are :</p>\n\n<ul>\n<li>any idea on where the bug might come from? (responder chain?)</li>\n<li>any comment on whether a view should handle its button behaviors itself or if a view controller should do it?</li>\n</ul>\n\n<p>Edit:\nI have an idea on how to fix the bug: wire the button action straight to SubviewA rather than using FirstResponder within Interface Builder. The reason why I posted this question is to try to understand why is the responder chain not working from times to times.</p>\n"},{"tags":[".net","asp.net-mvc","visual-studio-2008","mvc","iis6"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":886,"score":2,"question_id":511881,"title":"Problem publishing an MVC app on IIS6","body":"<p>I have a small MVC app that works locally, but when I publish it to the server (running IIS6), all the links get messed up.</p>\n\n<p>For example, a typical link when running locally would be:</p>\n\n<pre><code>http://localhost:3467/Exceptions?exdate=20090108\n</code></pre>\n\n<p>However, when I publish it to our dev server at <code>\\\\deverserver\\apps\\MyProject</code>, note the duplication in the URL for the same link:</p>\n\n<pre><code>http://devserver/apps/MyProject/MyProject/Exceptions?exdate=20090108\n</code></pre>\n\n<p>Any idea what's going on?</p>\n\n<p>Note: These links are all built via <code>Html.ActionLink()</code>.</p>\n\n<p>Update: I can duplicate this locally if I specify a Specific Port and Virtual Path in My Project | Web | Use Visual Studio Development Server:</p>\n\n<ul>\n<li>Specific Port: 1234</li>\n<li>Virtual Path: /apps/MyProject</li>\n<li>Resulting URL: <code>http://localhost:1234/apps/MyProject/MyProject/Exceptions?exdate=20090108</code></li>\n</ul>\n"},{"tags":["spring","mvc","asynchronous","portlet","atmosphere"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12419364,"title":"Atmosphere and spring portlet mvc","body":"<p>It's possíble to use the recently released 1.0 version of the atmosphere framework with spring portlet mvc ? I have a portlet that makes multiple ajax calls and i would like to process them all in parallel in the server. </p>\n\n<p>I'm using weblogic and the problem is that the server is queuing my requests. They are trully parallel when they leave the browser, but when they reach the server they are being enqueued.  </p>\n\n<p>What I would like is something similar to the assyncronous controller concept of spring 3.2 but in servlet 2.5 through the atmosphere framework</p>\n"},{"tags":["php","ajax","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":95,"score":1,"question_id":12416089,"title":"Location of AJAX in PHP MVC?","body":"<p>Where should my called AJAX file be residing in a typical PHP MVC framework?</p>\n\n<p>It's logic, so I'm assuming the models folder, but at the same time it's acting as part of the controller functions?</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Thanks for all the responses, particularly zerkms.</p>\n\n<p>JS will form part of the view, which will AJAX request a URL. The URL will be an independent controller (possibly an AJAX controller in itself) which will provide the JS with it's datasource. </p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12413921,"title":"MVC, CodeIgniter , Using conitional statements in a view?","body":"<p>Does using conditional blocks in my view defeat the purpose of the MVC architecture?</p>\n\n<p>I have a controller method that loads a view and I want to have a different button group based on the page id that was passed as a paramater to that method.</p>\n\n<p>Everything works fine but in my view I have several:</p>\n\n<pre><code>&lt;?php if($pageID == n) : ?&gt;\n    html content...\n&lt;?php endif; ?&gt;\n</code></pre>\n\n<p>Is this a bad habit and if so what's a better solution? Calling a library method from my view seems wrong as well.</p>\n"},{"tags":["mvc","view","sencha-touch-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12414871,"title":"How to load a new view into a Ext.tab.Panel using controller in Sencha Touch 2?","body":"<p>I'm migrating my app from Sencha Touch 1 to v2. I have a controller and 3 views that are kind of nested so I'd like to load them into the same tab panel. </p>\n\n<p>Right now I'm loading my views using something like this:\nExt.Viewport.setActiveItem(Ext.create('SOCIALIZER.view.PeopleAtPlace'));</p>\n\n<p>And this is the result I get: </p>\n\n<p><strong>This is how it is supposed to look across all the views</strong>\n<img src=\"http://i.stack.imgur.com/Qnmkg.png\" alt=\"This is how it is supposed to look across all the views\"></p>\n\n<p><strong>I included hard coded buttons at the bottom of this view</strong>\n<img src=\"http://i.stack.imgur.com/A4Itb.png\" alt=\"I included hard coded buttons at the bottom of this view\"></p>\n\n<p><strong>Same here</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/P3nuI.png\" alt=\"Same here\"></p>\n\n<p>So what should I do in order to get a nice navigation between views using the same tab panel?</p>\n\n<p>Thank you!</p>\n"},{"tags":[".net","mvc",".net-3.5","google-maps"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":10185,"score":4,"question_id":598289,"title":"Using Google Maps API in .NET 3.5 ASP.NET MVC application","body":"<p>I have an ASP.NET MVC application which is pretty simple so far, but I want to add a driving directions page to the clients location. I see plenty of examples using the traditional code behind model but none with ASP.NET MVC. The application uses master pages and content pages. </p>\n\n<p>I'm pretty new to ASP.NET MVC, so bear with me. Any examples of doing this would be much appreciated.</p>\n\n<p>PS: I'm not totally against integrating a standard code behind type page in the application if needs be.</p>\n"},{"tags":["c#","jquery","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":83,"score":0,"question_id":12413883,"title":"jquery data table how to populate on ajax request","body":"<p>Since my previous question was too confused I'm asking a new one.</p>\n\n<p>I'm having this linq which I use to retrive data as json </p>\n\n<pre><code>var res = from c in model.Data \n          select new object[] { c.Id, c.Time, c.Number};\n</code></pre>\n\n<p>c.Time is DateTime object and Id and Number are integers.\nNow, when this query is executed I'm getting same data repeated in number of model.Data counts. How can this query be rewriten to use foreach loop. </p>\n\n<p>Thanks</p>\n"},{"tags":["php","oop","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12413756,"title":"is it a good idea to have container class that keeps global data?","body":"<p>I'm trying to find a way to hold all the php application data at one place.\nFor example,get and post parameters, page titles, pagination results, etc. to avoid using global variables.</p>\n\n<p>Is this a good idea to keep all data and exchange between contollers in a following object?</p>\n\n<pre><code>class container {\n\nprotected static $_instance;\nprotected $_instance_class;\n\npublic static function instance($instance_name = 'default')\n{\n    $c = __CLASS__;\n\n    if ( ! isset($c::$_instance[$instance_name]))\n    {\n        $c::$_instance[$instance_name] = new $c();\n        $c::$_instance[$instance_name]-&gt;_instance_class = $instance_name;\n    }\n    return $c::$_instance[$instance_name];\n}\n\npublic function set($key, $val)\n{\n    // someting like $this-&gt;$key = $val;\n}\n\npublic function get($key)\n{\n    // someting like retrun $this-&gt;$key;\n}\n\n}\n</code></pre>\n\n<p>and then, for example in model</p>\n\n<pre><code>container::instance('messages')-&gt;set('error', 'some error');\n</code></pre>\n\n<p>and in the controller or view</p>\n\n<pre><code>container::instance('messages')-&gt;get('error');\n</code></pre>\n\n<p>Or is there any other way to keep data accessible from everywhere in the app?</p>\n\n<p>thanks!</p>\n"},{"tags":["mvc","playframework","url-routing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":335,"score":0,"question_id":11007957,"title":"Play 2.0 framework - POST parameters","body":"<p>I'm trying to POST parameters to Action, and wrote in the routes:</p>\n\n<pre><code># Home page\nGET    /                         controllers.Application.index()\n\nPOST   /login/name:/password:    controllers.Application.login(name, password)\n</code></pre>\n\n<p>and I have an Action</p>\n\n<pre><code>public static Result login(String name, String password) {\n    return ok(name + \" \"  + password);\n}\n</code></pre>\n\n<p>my form is</p>\n\n<pre><code>&lt;form action=\"/login\" method=\"post\"&gt;\n\n    &lt;input name=\"name\" type=\"text\" id=\"name\"&gt;\n    &lt;input name=\"password\" type=\"password\" id=\"password\"&gt;\n    &lt;input type=\"submit\" value=\"Login\"&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>And it doesn't work </p>\n\n<p>For request <code>'POST /login' [Missing parameter: name]</code></p>\n\n<p>What am i doing wrong?</p>\n"},{"tags":["ruby-on-rails","mvc","grammar"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12413599,"title":"Intelligent plural always intelligent?","body":"<p>Ruby on rails uses singular and plural conventions for model, view and controller names. This is very good, since one might have a model called <code>user</code> and a controller called <code>users</code>. This work with almost every word, such as user(s), tree(s), book(s), so every word that just has an s to form the plural.</p>\n\n<p>However, what about words that do not just need an s to form the plural, such as words ending with the letter \"y\"? E.g., city and cities? Does rails know the difference or would I need to write <code>city</code> and <code>citys</code>, even though it is grammatically wrong?</p>\n"},{"tags":["mvc","jsf","struts"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":849,"score":3,"question_id":4801891,"title":"Difference between Request MVC and Component MVC","body":"<p>I have heard that JSF is implementing the component based MVC and Struts is implementing the request based MVC. I would like to know what is the exact difference between these two types and which one will have more advantages. </p>\n"},{"tags":["mvc","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12412591,"title":"ajax - render two partial views","body":"<p>On a button click I fetch some data using jquery $.ajax, calling controller action method and return a strongly typed partial view. Data is displayed in a table.</p>\n\n<p>when data is available I also need to render another strongly typed partial view (same model as for resultSetView) to display page navigation buttons for the resultSetView.</p>\n\n<p>How can I do the second part?</p>\n\n<pre><code>$.ajax({\n            type: \"POST\",\n            url: $form.attr('action'),\n            data: $form.serialize(),\n            error: function (xhr, status, error) {\n                //do something about the error   \n            },\n            success: function (response) {\n                $(\"#resultSetDiv\").html(response);\n                //need to reload pageNavigationDiv\n            }\n        });\n</code></pre>\n\n<p>Markup is like</p>\n\n<pre><code>&lt;div id=\"pageNavigation &gt;\n    @Html.Partial(\"_pageNavigationView\")\n&lt;/div&gt;\n&lt;div id=\"resultSetDiv\"&gt;\n     @RenderSection(\"_resultSetView\")\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1141,"score":0,"question_id":9663035,"title":"How do you redirect to another page from within the HTML view itself?","body":"<p>The MVC View is a CART and sometimes it might have no items, for example when you clear the Cart itself.</p>\n\n<p>My current code will display an empty Cart when NO items are present.</p>\n\n<p>Instead I would like to redirect to the Home Page.</p>\n\n<p>How can I redirect to the Home Page from within the MVC View itself?</p>\n"},{"tags":["java","mvc","model","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12411014,"title":"Java Model View Controller for file reading","body":"<p>I am having a lot of trouble designing a small program that reads a text document and writes statistics to a text file. We have to use a model-view-controller format that we haven't learned yet!</p>\n\n<p>Basically, the model class represents text from a text file and I need it to be stored in a String or String array. It also has to have methods to report number of words and stuff like that. The view class needs to have bufferedreader and writer. The control class creates the objects and calls the printResults() method.</p>\n\n<p>So I started with my control class having something like:</p>\n\n<pre><code>Model model = new Model();\nView view = new View( model );\n\nview.writeFile();\n</code></pre>\n\n<p>I have a feeling this is incorrect. How do I make my model class represent a text document, and send it to the View class to read it, and then have the view class invoke methods from the model class to write statistics? Is there a better approach or is there something I am missing here?</p>\n"},{"tags":["mvc","controller","actionresult"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":638,"score":0,"question_id":7163448,"title":"MVC Controller Using Response Stream","body":"<p>I'm using MVC 3 I would like to dynamically create a CSV file for download, but I am unsure as to the correct MVC orientated approach.</p>\n\n<p>In conventional ASP.net, I would have written something like:</p>\n\n<pre><code>Response.ClearHeaders();\nResponse.ContentType = \"text/csv\";\nResponse.AddHeader(\"content-disposition\", attachment;filename='Test.csv'\");\nResponse.Write(\"1,2,3\");\nResponse.End();\n</code></pre>\n\n<p>I have looked at the ContentResult action but it appears that I would need to create the result as a string, i.e.</p>\n\n<p>return Content(myData, \"text/csv\");</p>\n\n<p>I could, I suppose, build a string, but since these files could be several thousand lines long, this seems inefficient to me.</p>\n\n<p>Could someone point me in the right direction?  Thanks.</p>\n"},{"tags":["java","spring","mvc","history","undo"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":11760562,"title":"How to create an undo function in spring MVC based web app.?","body":"<p>I have an employee and a corresponding employee history table. </p>\n\n<p>Both the tables have same structure. History table is used to track the historical changes made to the employee over a period of time.</p>\n\n<p>Now, I need to add an undo function to the changes made to the employee. </p>\n\n<p>e.g. Employees title is changed on 1st August. Now, This will update the employees title in Employee table and insert an corresponding history record in employee_history table. </p>\n\n<p>Now, I need to undo this change. Employee edit page will have a list of changes made to employee datewise with an undo button beside it. </p>\n\n<p>Clicking on undo should revert changes in Employee table to previous value. Also I think the record in history table which says title is changed, should also be removed. </p>\n\n<p>Also when I revert tghe changes to employee table i.e. revert title to previous title, this will fire an insert to history table, which I dont want. </p>\n\n<p>I am not sure what is the best possible way to do this.</p>\n\n<p>Any suggestions will be helpful. </p>\n"},{"tags":["ruby-on-rails","mvc","controller","action"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":66,"score":3,"question_id":12395728,"title":"Rails - how do I avoid having to trigger the create action in one controller from the create action in another controller","body":"<p>Forgive a basic question here.</p>\n\n<p>From reading around, I understand it's not best practice to trigger the create action of a controller from another - I'm looking for advice on how I should be organizing my code in the following situation:</p>\n\n<blockquote>\n  <p>I have two controllers: cases and notifications.</p>\n  \n  <p>When a new case is created I want it to also create a new\n  notification. </p>\n  \n  <p>The notification create action creates a new instance in it's model,\n  and sends an email.</p>\n</blockquote>\n\n<p>Am I right to think that I shouldn't just be calling Notification#create from my cases controller? Should I be extracting this to a helper or module? If so, what would it look like? The other roughly similar posts on this topic don't elaborate.</p>\n\n<p>Thank you.</p>\n"},{"tags":["mvc","asp.net-mvc-4","imodelbinder"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1720,"score":2,"question_id":9910346,"title":"MVC 4 ModelBinder","body":"<p>I need to know How to Create a Custom ImodelBinder is MVC 4 as it has been change.</p>\n\n<p>The new method that has to be implimented is : </p>\n\n<pre><code>bool BindModel(HttpActionContext actionContext, ModelBindingContext bindingContext);\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","command"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12403283,"title":"Command, CommandHandler, and CommandInvoker in ASP.NET MVC3","body":"<p>I recently saw a new pattern (new to me) in an open source <code>ASP.NET MVC 3</code> project that hase many <code>Command</code>, <code>CommandHandler</code>, and <code>CommandInvoker</code> -with their interfaces- and I can't understand the pattern! Can you tell me what is this pattern's name and where can I learn about it? And what is its benefits please? Thanks in advance.</p>\n\n<p><strong>EDIT:</strong> I'm talking about this project:</p>\n\n<p><a href=\"https://github.com/robashton/RavenGallery/\" rel=\"nofollow\">An image gallery with RavenDB</a></p>\n"},{"tags":["mvc","extjs","extjs4"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":12403177,"title":"What ComponentQuery should I use for this example in this.control()?","body":"<p>I have:<img src=\"http://i.stack.imgur.com/TfvDv.jpg\" alt=\"enter image description here\"></p>\n\n<p>1.) What should I type in this.control() for getting the reference to the grid panel?</p>\n\n<p>My plan is, when user double clicks one row, new tab is created. I already have code for creating new tabs but I just need to get reference to the grid panel.</p>\n\n<p>Something like this: </p>\n\n<pre><code>'viewport &gt; westpanel &gt; accordion &gt; gridpanel': {\n   doubleclick: function...\n}\n</code></pre>\n\n<p>2.) Let's say that I gave an ID to the grid panel. How can I get reference in this.control using .get method?</p>\n\n<p>3.) How can I be sure that I've got the right reference? Can I console.log() - it or something like that?</p>\n\n<p>I would know how to do this without MVC but here I need help. :)</p>\n\n<p>Thank you! :)</p>\n"},{"tags":["java","spring","swing","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":129,"score":1,"question_id":12397940,"title":"Spring and MVC proper project structure","body":"<p>I'm developing Swing standalone application using Maven. I try to follow MVC pattern. I'm confused with my project structure. I have something like this:</p>\n\n<pre><code>/src/main/java/myName/appName             \n/src/main/java/myName/appName/model       \n/src/main/java/myName/appName/view\n/src/main/java/myName/appName/controller\n</code></pre>\n\n<p>Now I want to incorporate Spring framework, what makes me place somewhere DAO and BO interfaces and implementations. I have read this article <a href=\"http://www.mkyong.com/spring/maven-spring-hibernate-annotation-mysql-example/\" rel=\"nofollow\">link</a> and the suggested project structure does not suit mine. What crosses my mind is to add this:</p>\n\n<pre><code>/src/main/java/myName/appName/dao\n/src/main/java/myName/appName/bo\n</code></pre>\n\n<p>The content of dao directory would look like this (with Client and Customer classes in model directory):</p>\n\n<pre><code>/src/main/java/myName/appName/dao/ClientDAO.java\n/src/main/java/myName/appName/dao/ClientDAOImpl.java\n/src/main/java/myName/appName/dao/CustomerDAO.java\n/src/main/java/myName/appName/dao/CustomerDAOImpl.java\n</code></pre>\n\n<p>Is this bad? I want to learn good practices.</p>\n"},{"tags":["php","mvc","session","login"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":69,"score":-1,"question_id":12397857,"title":"keep user info throughout the web once logged in. PHP MVC","body":"<p>I do know how to use sessions/cookies. I do keep session and a cookie + token for a user logged in.</p>\n\n<p>I'm using MVC structure (my own) and i have a Login.php controller. I also have User.php class that is a singleton class having only 1 instance. </p>\n\n<p>My base controller gets the instance of User and stores in a variable like this:</p>\n\n<pre><code>   abstract class Controller {\n    private $model;\n    private $user;\n\n    function __construct($model = '') {\n        ..... //some code\n\n        $this-&gt;user = User::getInstance();\n    }\n\n    public function user() {\n        return $this-&gt;user;\n    }\n   }\n</code></pre>\n\n<p>In my login.php i have the following once the user submits form with user name and pass:</p>\n\n<pre><code>function logUserIn() {\n    if (! isset($_POST['UName']) || ! isset($_POST['UPass'])) {\n        $this-&gt;_404();\n    }\n\n    $uname = strtolower($_POST['UName']);\n    $pass = Hash::strongHashMD5($_POST['UPass']);\n    $token = $_POST['token'];\n    $isValid = $this-&gt;model-&gt;userCheck($uname, $pass);\n\n    $res = $this-&gt;validateUser($isValid, $token, $uname);\n\n    if ($res === false) {\n        echo 'User Does Not Exist!';\n    } else if ($res === 'Token_Error') {\n        echo 'Invalid Form Submission';\n    } else if ($res === true) {\n        //update token\n        $this-&gt;model-&gt;updateToken($isValid['ID'], $token, $_SERVER['REMOTE_ADDR']);\n        header(\"Location: ../login\");   \n    }\n    exit;\n}\n</code></pre>\n\n<p>this is my method that validates user</p>\n\n<pre><code>private function validateUser($UInfo, $token, $UName) {\n    if ($UInfo !== false &amp;&amp; isset($UInfo['ID']) &amp;&amp; $UInfo['ID'] &gt; 0) {\n        if ($UInfo['token'] == $token) {\n            return 'Token_Error';\n        } else {\n            $this-&gt;user()-&gt;setValues($UInfo['ID'], $UName, $token);\n            $this-&gt;user()-&gt;setSessions();\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>setsessions() method just sets the session/cookies of that user</p>\n\n<p>Now everytime i want to access to see whether user is logged in or not i have to do it through controller and pass it to anywhere else.</p>\n\n<p>Is there any better way of doing this? Is there any problem with my code in terms of security issues etc...</p>\n\n<p>Any suggestions/advices will be appreciated, thanks guys</p>\n"},{"tags":["c#","mvc","globalization","embedded-resource","resx"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1552,"score":3,"question_id":7997901,"title":"Generating Resx files for MVC","body":"<p>We use resx files for globalization, along with database lookups for things that can be configured (such as tab names, which can be different by product) by our CS staff, and thus aren't known at design-time.</p>\n\n<p>I created a custom tool that reads resx files and intelligently dumps the key/value pairs into a relational database (matching values so we don't have duplicates).</p>\n\n<p>This has been a big help to our business - we don't have to send each resx for translation (and pay for duplicate translations of shared words) and we have a 'gold standard' with all our translations (in the database).</p>\n\n<p>The tool I created also reads the database, picking up the key/value pairs and the translations of each value, and creates text files for each resx file (and each language's translation of the text file) and automates running resgen.exe, a command-line tool that ships with Visual Studio, to compile the resx files from the generated text files.</p>\n\n<p>I don't have any source-control integration, so we have to manually check out the resx files and manually check-in the generated files when using the tool, but this hasn't been a big problem.</p>\n\n<p>My problem is that this method is failing for our new MVC projects: the MVC projects require the resx files to be embedded resources with the Access Modifier of 'public'.</p>\n\n<p>Thusfar, we have been fixing this by hand, which introduces the possibility of human error and adds a non-trivial amount of work.</p>\n\n<p>Is there a way to get resgen.exe to create resource files that are embedded and public?  If not, is there another way I can create resx files that will do so?</p>\n\n<p>Update, additional question:\nThe resx files we generate with this method also raise a warning:</p>\n\n<pre><code>A custom tool 'PublicResXFileCodeGenerator' is associated with file '(resxname)',\nbut the output of the custom tool was not found in the project.\nYou may try re-running the custom tool by right-clicking on the file in the\nSolution Explorer and choosing Run Custom Tool. \n</code></pre>\n\n<p>The tool mentioned is the tool we initially use to create the resx files.  Is there a way I can prevent this warning?</p>\n"},{"tags":["java","mvc","servlets","homepage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12397885,"title":"Redirect home page to front controller","body":"<p>I've a front controller mapped on an URL pattern of <code>/Controller</code> which is thus available on <code>http://localhost:8080/myproject/Controller</code>. How can I configure my web application so that the homepage on <code>http://localhost:8080/myproject</code> get automatically redirected to it?</p>\n"},{"tags":["java","mvc","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":187,"score":0,"question_id":12397723,"title":"Loading images/css/javascript in a jsp/java ee web application","body":"<p>Today I just had my first class on Java ee and dynamic web project... and I have a question for you.</p>\n\n<p>My teacher asked us to create a controller in an very basic mvc concept. </p>\n\n<p>She gave us some code example and asked us to call a view from the controller. Ok, it works!\nBut then, if I try to add an image <code>&lt;img src=\"images/img.jpg\" /&gt;</code>, I think my controller re-route the folder images/img.jpg and well, my images/img.jpg is a type text in the file headers...</p>\n\n<p>Any help would be appreciated...</p>\n\n<p>Here is my servlet\n<strong>Controller.java</strong></p>\n\n<pre><code>package ca.qc.lacmegantic.ville;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class Controller\n */\n@WebServlet(\"/Controller\")\npublic class Controller extends HttpServlet\n{\nprivate static final long serialVersionUID = 1L;\n\n/**\n * Processes requests for both HTTP &lt;code&gt;GET&lt;/code&gt; and &lt;code&gt;POST&lt;/code&gt;\n * methods.\n * \n * @param request servlet request\n * @param response servlet response\n * @throws ServletException if a servlet-specific error occurs\n * @throws IOException if an I/O error occurs\n */\nprotected void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n{\n    String urlCP = request.getRequestURI();\n\n    String url = urlCP.substring(request.getContextPath().length());\n\n    if (url.equals(\"/\") || url.equals(\"\"))\n    {\n        request.getRequestDispatcher(\"WEB-INF/views/view.jsp\").forward(request, response);\n    }\n\n}\n\n/**\n * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse\n *      response)\n */\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n{\n    processRequest(request, response);\n}\n\n/**\n * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\n *      response)\n */\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException\n{\n    processRequest(request, response);\n}\n\n}\n</code></pre>\n\n<p>Here is my <strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    version=\"2.5\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Controller&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;ca.qc.lacmegantic.ville.Controller&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Controller&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here is my <strong>view.jsp</strong></p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Hello World!&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Hello World!&lt;/h1&gt;\n&lt;img src=\"images/img.jpg\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Files Structure:</strong>\n<img src=\"http://i.stack.imgur.com/B9nwS.png\" alt=\"Files Structure\"></p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":102,"score":4,"question_id":12394134,"title":"Web MVC: how to structure the Model layer?","body":"<p>I'm going to take the example of a <code>user</code> object.  A user needs to be registered, logged in, logged out, edited (e.g., email change), etc.</p>\n\n<p>So on one hand I have a <code>user</code> object, which includes a variety of class variables (pseudo, email, etc) along with getters and setters and maybe some functions that do not deal with the db.</p>\n\n<p>On the other I have a <code>DAO</code> class which is the object that directly deals with the database through a variety of MySQL / PDO queries (create record, update, retrieve info, etc).</p>\n\n<p>Is there any reason to not have the <code>user</code> object interact directly with the <code>DAO</code> object?  In other words, when the <code>Controller</code> request a database query relating to an existing <code>user</code> instance (e.g., during the registration process), should it simply call a function in <code>user</code> which itself calls a function in <code>DAO</code>, or should there be a layer in between?</p>\n\n<p>I have seen examples where the controller calls a 3rd class to interact with the DAO, and passes a <code>user</code> instance as an arg.  Sometimes instead, this third layer is in charge with creating the <code>user</code> instance and dealing with the <code>DAO</code>.  It seems to me that all the functions used to deal with the <code>DAO</code> could reside inside the <code>user</code> object.  What am I missing?</p>\n"},{"tags":["php","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12395891,"title":"Integrating Static Content with MVC architecture","body":"<p>I am about to engage in creating a new web site for my company. I am looking to use PHP, as it is a small business and the total site will only have about 40-50 pages at the end. In the interest of learning and best practice, I would looking to use a PHP MVC framework. I have been trying a few out, and see how it would work out when you are serving dynamic content very nicely. What I am not understanding is how you rectify the MVC logic with static content. </p>\n\n<p>By this I mean, how would the MVC pattern deal with a page that is not dynamic, like for instance, a company information page. Is there a controller for each page, that simply returns a view that contains all the HTML and CSS? Does the controller pull header and footer information from other controllers, and then pull the main content from a different view? I guess I am not understanding how that all works out. Could someone ELI noob?</p>\n"},{"tags":["asp.net-mvc","mvc","azure","azure-web-roles"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":146,"score":1,"question_id":12396493,"title":"MVC4 and multiple windows azure web roles","body":"<p>I have 2 web roles in my  MVC4 project and would like to set up the routing such a way that All requests for  www.mysite.com/api /  should be routed roleA and any other requests should be routed to roleB. ( reason for such a setup being we can independently scale the api or the UI role instances , please feel to discredit the idea if needed )\nAlso if I had a third webrole hosted as a subdomain  of mysite.com i.e admin.mysite.com  can I route the requests from  www.mysite.com/admin to admin.mysite.com . If so, is there guidance on how to setup the dev environments.</p>\n"},{"tags":["c#","sql","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12393570,"title":"Get property of dynamic object returned by datacontext.ExecuteQuery","body":"<p>I'm trying to get data from db.</p>\n\n<p>my controller code:</p>\n\n<pre><code>var data = datacontext.executequery&lt;dynamic&gt;(\"select id, name from sometable\");\nreturn View(data);\n</code></pre>\n\n<p>my view code:</p>\n\n<pre><code>@model IEnumerable&lt;dynamic&gt;\n\n@foreach(var item in Model)\n{\n@item.name\n}\n</code></pre>\n\n<p>so when I run it I get error \n'object' does not contain a definition for 'name'</p>\n"},{"tags":["mvc","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12395445,"title":"Send parameters from a view to other in Sencha Touch 2 using a controller","body":"<p>I'm just migrating from Sencha Touch 1.x to Sencha Touch 2 and I can't find a way to pass parameters between views.</p>\n\n<p>Lets say I have to views:\nPlace (a list with all the places)\nPeopleAtPlace (A list of the people for each place)</p>\n\n<p>Now what I need to do is to pass the id of the place that is pressed to the peopleatplace view so it can get the people for that specific view.</p>\n\n<p>I've been reading Sencha's documentation but it's pretty confusing to me. </p>\n\n<p>Could somebody please help me? A code snippet would be great help to me.</p>\n"},{"tags":["asp.net","mvc","namespaces"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":883,"score":5,"question_id":6221990,"title":"Adding namespaces to ASP.NET MVC 3 views","body":"<p>I tried adding namespaces to <code>configuration/system.web/pages/namespaces</code> in the web.config of my ASP.NET MVC 3 application so I could use classes in those namespaces in my views without needing a @using, however this has no effect. How can I add namespaces to my views?</p>\n"},{"tags":["mvc","active-directory","ldap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":519,"score":1,"question_id":5687206,"title":"LDAP DirectorySearcher.sort missing records with not set values","body":"<p>When querying against our AD, we get a full result set on the initial query <code>(samaccounttype=805306368)</code>.  If we then try to sort the query on a field where the value can be <code>&lt;not set&gt;</code> such as <code>givenname</code>, it will only return the records with a value set and skips records without the value.  We have tried using the below presence flag to include both sets but still loose the not set values when sorting:</p>\n\n<pre><code>(|(&amp;(samaccounttype=805306368)(givenName=*))(&amp;(samaccounttype=805306368)(!givenname=*)))\n</code></pre>\n\n<p>Not sure if it is related to how the <code>VirtualListView</code> is handling the results set or if there is another problem.   Has anyone run in to this before and any suggestions on what I'm missing?  Here's the code snip for the <code>ds.virtuallistview</code> sorting. </p>\n\n<pre><code>using (var ds = new DirectorySearcher(de))\n            {\n                ds.Filter = Filter;\n\n                foreach (var p in Properties)\n                {\n                    ds.PropertiesToLoad.Add(p.LDAPName);\n                }\n\n                //get record count\n                ds.PropertyNamesOnly = false;\n                ds.Sort = new SortOption(this.Properties.PrimaryOrderBy.LDAPName, SortDirection.Ascending); //ldap must always return ascending so we can custom sort\n                ds.VirtualListView = new DirectoryVirtualListView(0, 0, 0);\n                foreach(SearchResult s in ds.FindAll()){ /*must enumerate the collection before calling approximate total*/ }\n                Records = ds.VirtualListView.ApproximateTotal;\n                results = ds.FindAll();\n                //Records = results.Count;\n            }\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1474,"score":1,"question_id":5467393,"title":"Add dynamic content to a template in code igniter","body":"<p>I am trying a HTML/CSS file to convert to a template. I asked for help but I didn't receive any suggestions in that post yet I tried to figure out a way to create a template. I am having few glitches in doing that. My controller has main.php file which is the main page of the website, and I have register where the header, footer, and rest remain same except that main content changes when the page loads.</p>\n\n<p>I have the following template in the views folder:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n   \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n   &lt;title&gt;&lt;?= $title ?&gt;&lt;/title&gt;\n\n   &lt;style type=\"text/css\"  &gt;\n       @import url('&lt;?=base_url()?&gt;/includes/front.css');\n       @import url('&lt;?=base_url()?&gt;/images/');\n   &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n   &lt;div id=\"container\"&gt;\n       &lt;div id=\"header\"&gt;\n            &lt;?= $logo ?&gt; &lt;!--This is an image tag to display the image on the template --&gt;\n            &lt;?= $topnav ?&gt;\n       &lt;/div&gt;\n\n       &lt;div id=\"menubar\"&gt;\n            &lt;?= $menulist ?&gt;\n       &lt;/div&gt;\n\n       &lt;div id=\"maincontent\"&gt;\n           &lt;?= $flashcontent ?&gt;\n           &lt;?= $resources ?&gt;\n           &lt;?= $registerForm ?&gt;\n       &lt;/div&gt;\n\n       &lt;div id=\"footer\"&gt;\n           &lt;div&gt;\n               &lt;?= $footertable1 ?&gt;\n           &lt;/div&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>In the       </p>\n\n<blockquote>\n  <p>div id = maincontent</p>\n</blockquote>\n\n<p>This is the div tag which would be changing when a site loads. In my template I have included &lt;</p>\n\n<pre><code>&lt;?= $flashcontent ?&gt; &lt;?= $resource ?&gt; and  &lt;?= registerForm ?&gt;\n</code></pre>\n\n<p>The flashcontent and resources are supposed to be in the main page and registerForm is supposed to be shown when I click on register in the main page. I have been reading the template user guide in the code igniter but I am unable to understand how to make this dynamic. Please help me in getting over this issue.</p>\n\n<p>This is the template.php in config folder. </p>\n\n<pre><code>$template['active_group'] = 'default';\n$template['default']['template'] = 'template.php';\n$template['default']['regions'] = array(\n   'title',\n   'logo' =&gt; array(\n        'content' =&gt; array(''),\n        'name' =&gt; 'Logo',\n        'wrapper' =&gt; '&lt;img&gt;',\n        'attributes' =&gt; array('id' =&gt; 'logo')\n    ),\n    'topnav' =&gt; array(\n        'content' =&gt; array(),\n        'name' =&gt; 'Topnav',\n        'wrapper' =&gt; '&lt;div&gt;',\n        'attributes' =&gt; array('id' =&gt; 'topnav', 'class' =&gt; 'topnav')\n    ),\n    'menulist' =&gt; array(\n        'content' =&gt; array('&lt;li&gt;\n                            &lt;a href=\"#\"&gt; Home &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; Generator &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; News &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; Forum &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; About &lt;/a&gt;\n                            &lt;a href=\"#\"&gt; Feedback &lt;/a&gt;\n                            &lt;/li&gt;'),\n        'name' =&gt; 'Menulist',\n        'wrapper' =&gt; '&lt;ul&gt;',\n        'attributes' =&gt; array('class' =&gt; 'menulist')\n    ),\n   'flashcontent' =&gt; array(\n       'content' =&gt; array(''),\n       'name' =&gt; 'Flashcontent',\n       'wrapper' =&gt; '&lt;div&gt;',\n       'attributes' =&gt; array('id' =&gt; 'flashcontent')\n   ),\n    'resources' =&gt; array(\n       'content' =&gt; array(''),\n       'name' =&gt; 'Resources',\n       'wrapper' =&gt; '&lt;div&gt;',\n       'attributes' =&gt; array('id' =&gt; 'resources')\n   ),\n    'registerForm' =&gt; array(\n      'content' =&gt; array(),\n        'name' =&gt; 'Registerform',\n        'wrapper' =&gt; '&lt;div&gt;',\n        'attributes' =&gt; array('id' =&gt; 'registerForm')\n    ),\n   'footertable1' =&gt; array(\n       'content' =&gt; array('&lt;ul&gt; \n                            &lt;li&gt; &lt;a href=\"../main\"&gt;Home&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;News &amp; Events&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Forum&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;About us&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Contact us&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Terms of use&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Privacy policy&lt;/a&gt;\n                            &lt;a href=\"#\"&gt;Site map&lt;/a&gt;\n                            &lt;/li&gt;\n                           &lt;/ul&gt;'),\n       'name' =&gt; '',\n       'wrapper' =&gt; '&lt;div&gt;',\n       'attributes' =&gt; array('id' =&gt; 'footertable1')\n   )\n);\n$template['default']['parser'] = 'parser';\n$template['default']['parser_method'] = 'parse';\n$template['default']['parse_template'] = FALSE;\n</code></pre>\n\n<p>Thanks in advance. </p>\n"},{"tags":["ruby-on-rails","mvc","cakephp","design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12380844,"title":"designers and the MVC structure","body":"<p>We got a large CakePHP app on MVC structure. We have a designer going through and redoing a bunch of the pages, but the issue we are having is with them getting through the views.</p>\n\n<p>The two main issues they're having are;</p>\n\n<ul>\n<li><p>Don't know all the views files which go into rendering out a page. So when they view /blog they don't know the layout, elements and main view file. They're used to page.html</p></li>\n<li><p>Trouble with some basic PHP, in that when they look at the blog, in the view they see a foreach loop spitting out title, anchor and except. They find it hard to put in the HTML/css for their 2 column blog layout.</p></li>\n</ul>\n\n<p>So the second point is probably more of a PHP experience issue, but still. How can I get these guys up and running quickly!! Surely RoR and other folk would have this same issue with designers cutting up and implementing designs into the site.</p>\n"}]}
{"total":14108,"page":10,"pagesize":100,"questions":[{"tags":["ruby-on-rails","database","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12366601,"title":"Rails: Handling data not found from database","body":"<p>This is probably one of the most basic questions out there but I still thought stackoverflow would be the best way for me to get the logic right.</p>\n\n<p>My simple question is, how do you handle the database query if it does not return anything. Here is my code below;</p>\n\n<pre><code>@tokenSelected=Token.where(:tokenCode =&gt; \"ABCDRRREF\").first\n</code></pre>\n\n<p>And later on when I want to check if the @userSelected.userID is empty, it gives me the error;</p>\n\n<pre><code>&lt;h1&gt;\n  NoMethodError\n    in InitsController#create\n&lt;/h1&gt;\n&lt;pre&gt;undefined method `empty?&amp;#x27; for nil:NilClass&lt;/pre&gt;\n</code></pre>\n\n<p>What can I do to prevent that</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":318,"score":3,"question_id":7965155,"title":"get a list of defined zend routes","body":"<p>so you can add routes in zend framework with Zend Router's addRoute() method...</p>\n\n<p>but what if I want to get a list of all the defined routes? is there a method that I can use to do so? </p>\n"},{"tags":["php","mvc","zend-framework","routing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":187,"score":0,"question_id":8005368,"title":"zend router for index page and paginator","body":"<p>so I'm using zend_router to route my index page to an action other than the index action:</p>\n\n<pre><code>$route = new Zend_Controller_Router_Route(\n                         '/:page',\n                          array(\n                              'action' =&gt; 'not-index',\n                              'controller' =&gt; 'something',\n                              ),\n         );\n</code></pre>\n\n<p>but then I also use the Zend Paginator on that index page which is why I had to set the path to '/:page' since setting it to just '/' will make the links on the paginator stop working (see: <a href=\"http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router\" rel=\"nofollow\">http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router</a>)</p>\n\n<p>but then if I do this the routing won't even work at all....going to my root domain will instead complain about the lack of index action (though I can go to '/1' and it will redirect properly, but I also want just '/' to redirect to that action)</p>\n\n<p>setting the path to just '/' instead of '/:page' in the router works but once again, the paginator links on that page will break</p>\n\n<p>is there a way to set up the routing using zend router so that I can route the index page to some other action while at the same time have the paginator links work on that index page? </p>\n\n<p>also please stick to the zend router solution...no htaccess or app.ini stuff </p>\n"},{"tags":["php","mvc","zend-framework","url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":8023457,"title":"detecting variable type in zend router variables","body":"<p>so I'm using zend_router to route my index page in my controller to an action other than the index action:</p>\n\n<pre><code>$route = new Zend_Controller_Router_Route(\n                         '/controller/:page',\n                          array(\n                              'action' =&gt; 'not-index',\n                              'controller' =&gt; 'controller',\n                              'page' =&gt; 1,\n                              ),\n         );\n</code></pre>\n\n<p>And the reason why I'm adding :page into the path is because there's pagination in that index and I'd like to have paginator to work even if the user only enters '/controller' into the browser, so it's got to be there (see: <a href=\"http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router\" rel=\"nofollow\">http://www.joewebster.co.uk/articles/zend-framework/7-zend-pagination-and-zend-router</a>)...</p>\n\n<p>the problem is....now other actions within the controller will redirect to that page as well and not to the proper action </p>\n\n<p>so suppose I enter '/controller/other-action' to the browser, it goes to 'controller/not-index' with page = other-action instead of 'controller/other-action' due to that routing definition....is there a way to limit the :page in that router definition to integers only, ie. if I enter '/controller/2' then go to 'controller/not-index' with page = 2, and if I enter '/controller/other-action' it'll actually go to 'controller/other-action'</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":8277552,"title":"Set a View variable in PostDispatch method of the Controller","body":"<p>How can I assign a view variable during the postDispatch method of the controller in Zend Framework?</p>\n"},{"tags":[".net","asp.net-mvc","mvc","inotifypropertychanged","partialview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12385470,"title":"asp.net mvc property changed event","body":"<p>I'm a <code>.Net</code> desktop applications developer trying to switch to <code>ASP.Net</code> <code>MVC</code> (3 or 4 doesn't matter). We have a <code>.Net</code> library which notifies any <code>GUI</code> you want to put on this <code>assembly</code> by <code>Property Changed Events</code> (or any other custom event we deemed necessary for that matter).</p>\n\n<p>This might not even be a relevant question, because perhaps it's done totally different in <code>ASP.Net</code> <code>MVC</code>, but how do you update your <code>View</code> in the browser on your client after receiving a <code>Property Changed Event</code> from an assembly on your server? We generate these events ourselves by the way. The assemblies are our own.</p>\n\n<p>I've read about <code>Partial Views</code>, but I need to look into that. Whatever I came across seemed so cumbersome. Because it's really straight forward and simple in desktop development. So I'm starting to wonder if <code>Property Changed Events</code> are the way to go when developing for the web.</p>\n\n<p>Thoughts? Links? Sources? I'm interested.</p>\n\n<p>p.s.: See tags for a further understanding of what I'm going for.</p>\n"},{"tags":["javascript","mvc","events","backbone.js","coffeescript"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12379038,"title":"Backbone model change event only fires once","body":"<p>I have a Backbone model that fires a function upon change.. I want to link that function to a view..</p>\n\n<p>Model: </p>\n\n<pre><code>class App.Models.Tracker extends Backbone.Model\n  urlRoot : '/api/trackers'\n\n  initialize: -&gt;\n    @on('change', @update, this)\n\n\n  update: -&gt;\n    console.log('changed in model')\n    @trigger('update', this);\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>class App.Views.Tracker extends Backbone.View\n  template: JST['trackers/tracker']\n\n  initialize: () -&gt;\n    @model.on(\"update\", @animate, this);\n\n  render: -&gt;\n    $(@el).html(@template(tracker: @model))\n    this\n\n  animate: -&gt;\n    console.log('changed in view')\n    progress = @model.get('progress')\n    console.log(progress)\n</code></pre>\n\n<p>What is happening is that the \"update\" method in model gets called every time when the model changes. But the \"animate\" method in view is only called once, when the model is created.. </p>\n\n<p>What am I getting wrong? </p>\n\n<p><em><strong>EDIT</em></strong></p>\n\n<p>Maybe I am just testing it wrong?? </p>\n\n<pre><code> trackers = new App.Collections.Trackers\n trackers.fetch()\n tracker = trackers.get(333)\n tracker.set({progress : 70})\n</code></pre>\n\n<p>333 is the id of the tracker created... But the above does not work.. JSFiddle indeed works fine, which is confusing </p>\n"},{"tags":["performance","mvc","session"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":9957477,"title":"ASP.Net MVC: Store data in OnActionExecuting and retrieve it in OnActionExecuted in a controller","body":"<p>I want to add some code to log the time spent in each action call in a controller. I saw a suggestion of creating a Stopwatch inside the OnActionExecuting method of the controller and stoping it OnActionExecuted, which seems fine to me.</p>\n\n<p>What I want to know is where do I have to add the started Stopwatch object so it can be read back once OnActionExecuted is called. \nI was thinking on adding it to the Session, but I'm guessing this might have issues if there are simultaneous requests from the same session.</p>\n\n<p>What is the best place to store this data?</p>\n\n<p>Thanks</p>\n"},{"tags":["ruby-on-rails","mvc","authentication","models","mass-assignment"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":2,"view_count":41,"score":-2,"question_id":12381621,"title":"In rails how to \"automatically\" save a user_id for say a article (which has a user_id column) being posted by an authenticated user?","body":"<p>I have an article table with <code>title, text, and user_id</code></p>\n\n<p>In the create action for the article controller, just before saving the article using [:params] from the browser, I added this line:</p>\n\n<pre><code>article.user_id = session[:user_id]\narticle.save\n</code></pre>\n\n<p>Now since I guess this is business logic, I think it should happen into the article model, which would make sure that data is saved by the author who posted it, but I don't know how to work with session in the model.</p>\n\n<p>Can anyone help ? Or maybe advice best practice to deal with this situation ? </p>\n\n<p>Thanks</p>\n"},{"tags":["php","mvc","oop"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":11087195,"title":"Call to a member function on a non-object from another class","body":"<p>I am learning oop and trying to implement php standards PSR-0 &amp; PSR-1 along the way. I have started by creating a small MVC framework based on Swiftlet.</p>\n\n<p>I am trying to call functions from my base View controller within the Controller that I am calling from the url and I get 'Call to a member function set() on a non-object in'.</p>\n\n<p>All the classes load ok. So in my controller I call $this->view->set('helloWorld', 'Hello world!'); but I get an error. I had some trouble trying to get the namespace structure right so maybe this is the cause?</p>\n\n<p>Here is the file structure:</p>\n\n<p>index.php</p>\n\n<p>lib/bootstrap.php</p>\n\n<p>lib/view.php</p>\n\n<p>lib/controller.php</p>\n\n<p>app/controllers/index.php</p>\n\n<p>and here is the code for each:</p>\n\n<p>index.php</p>\n\n<pre><code>&lt;?php\n\nnamespace MVC;\n\n    // Bootstrap the application\n    require 'lib/Bootstrap.php';\n\n    $app = new lib\\Bootstrap;\n\n    spl_autoload_register(array($app, 'autoload'));\n\n    $app-&gt;run();\n    $app-&gt;serve();\n</code></pre>\n\n<p>bootstrap.php</p>\n\n<pre><code>namespace MVC\\lib;\n\nclass Bootstrap \n{\n    protected\n        $action     = 'index',\n        $controller,\n        $hooks      = array(),\n        $view\n        ;\n\n    /**\n     * Run the application\n     */\n\n    function run() \n    {\n               ... Code that gets controller and the action form the url\n\n        $this-&gt;view = new \\lib\\View($this, strtolower($controllerName));\n\n        // Instantiate the controller\n        $controllerName = 'app\\Controllers\\\\' . basename($controllerName);\n\n        $this-&gt;controller = new $controllerName();                      \n\n        // Call the controller action\n        $this-&gt;registerHook('actionBefore');\n\n        if ( method_exists($this-&gt;controller, $this-&gt;action) ) {\n            $method = new \\ReflectionMethod($this-&gt;controller, $this-&gt;action);\n\n            if ( $method-&gt;isPublic() &amp;&amp; !$method-&gt;isFinal() &amp;&amp; !$method-&gt;isConstructor() ) {\n                $this-&gt;controller-&gt;{$this-&gt;action}();\n            } else {\n                $this-&gt;controller-&gt;notImplemented();\n            }\n        } else {\n            $this-&gt;controller-&gt;notImplemented();\n        }\n\n        return array($this-&gt;view, $this-&gt;controller);\n\n    }\n\n\n&lt;?php\n\nnamespace MVC\\lib;\n\nclass Bootstrap \n{\n    protected\n        $action     = 'index',\n        $args       = array(),\n        $config     = array(),\n        $controller,\n        $hooks      = array(),\n        $plugins    = array(),\n        $rootPath   = '/',\n        $singletons = array(),\n        $view\n        ;\n\n    /**\n     * Run the application\n     */\n\n    function run() \n    {\n        // Determine the client-side path to root\n        if ( !empty($_SERVER['REQUEST_URI']) ) {\n            $this-&gt;rootPath = preg_replace('/(index\\.php)?(\\?.*)?$/', '', $_SERVER['REQUEST_URI']);\n\n            if ( !empty($_GET['route']) ) {\n                $this-&gt;rootPath = preg_replace('/' . preg_quote($_GET['route'], '/') . '$/', '', $this-&gt;rootPath);\n            }\n        }\n\n        // Extract controller name, view name, action name and arguments from URL\n        $controllerName = 'Index';\n\n        if ( !empty($_GET['route']) ) {\n            $this-&gt;args = explode('/', $_GET['route']);\n\n            if ( $this-&gt;args ) {\n                $controllerName = str_replace(' ', '/', ucwords(str_replace('_', ' ', str_replace('-', '', array_shift($this-&gt;args)))));\n            }\n\n            if ( $action = $this-&gt;args ? array_shift($this-&gt;args) : '' ) {\n                $this-&gt;action = str_replace('-', '', $action);\n            }\n        }\n\n        if ( !is_file('app/Controllers/'. $controllerName . '.php') ) {\n            $controllerName = 'Error404';\n        }\n\n        $this-&gt;view = new \\lib\\View($this, strtolower($controllerName));\n\n        // Instantiate the controller\n        $controllerName = 'app\\Controllers\\\\' . basename($controllerName);\n\n        $this-&gt;controller = new $controllerName();                      \n\n        // Call the controller action\n        $this-&gt;registerHook('actionBefore');\n\n        if ( method_exists($this-&gt;controller, $this-&gt;action) ) {\n            $method = new \\ReflectionMethod($this-&gt;controller, $this-&gt;action);\n\n            if ( $method-&gt;isPublic() &amp;&amp; !$method-&gt;isFinal() &amp;&amp; !$method-&gt;isConstructor() ) {\n                $this-&gt;controller-&gt;{$this-&gt;action}();\n            } else {\n                $this-&gt;controller-&gt;notImplemented();\n            }\n        } else {\n            $this-&gt;controller-&gt;notImplemented();\n        }\n\n        $this-&gt;registerHook('actionAfter');\n\n        return array($this-&gt;view, $this-&gt;controller);\n\n    }\n\n&lt;?php\n\nnamespace MVC\\lib;\n\nclass Bootstrap \n{\n    protected\n        $action     = 'index',\n        $args       = array(),\n        $config     = array(),\n        $controller,\n        $hooks      = array(),\n        $plugins    = array(),\n        $rootPath   = '/',\n        $singletons = array(),\n        $view\n        ;\n\n    /**\n     * Run the application\n     */\n\n    function run() \n    {\n        // Determine the client-side path to root\n        if ( !empty($_SERVER['REQUEST_URI']) ) {\n            $this-&gt;rootPath = preg_replace('/(index\\.php)?(\\?.*)?$/', '', $_SERVER['REQUEST_URI']);\n\n            if ( !empty($_GET['route']) ) {\n                $this-&gt;rootPath = preg_replace('/' . preg_quote($_GET['route'], '/') . '$/', '', $this-&gt;rootPath);\n            }\n        }\n\n        // Extract controller name, view name, action name and arguments from URL\n        $controllerName = 'Index';\n\n        if ( !empty($_GET['route']) ) {\n            $this-&gt;args = explode('/', $_GET['route']);\n\n            if ( $this-&gt;args ) {\n                $controllerName = str_replace(' ', '/', ucwords(str_replace('_', ' ', str_replace('-', '', array_shift($this-&gt;args)))));\n            }\n\n            if ( $action = $this-&gt;args ? array_shift($this-&gt;args) : '' ) {\n                $this-&gt;action = str_replace('-', '', $action);\n            }\n        }\n\n        if ( !is_file('app/Controllers/'. $controllerName . '.php') ) {\n            $controllerName = 'Error404';\n        }\n\n        $this-&gt;view = new \\lib\\View($this, strtolower($controllerName));\n\n        // Instantiate the controller\n        $controllerName = 'app\\Controllers\\\\' . basename($controllerName);\n\n        $this-&gt;controller = new $controllerName();                      \n\n        // Call the controller action\n        $this-&gt;registerHook('actionBefore');\n\n        if ( method_exists($this-&gt;controller, $this-&gt;action) ) {\n            $method = new \\ReflectionMethod($this-&gt;controller, $this-&gt;action);\n\n            if ( $method-&gt;isPublic() &amp;&amp; !$method-&gt;isFinal() &amp;&amp; !$method-&gt;isConstructor() ) {\n                $this-&gt;controller-&gt;{$this-&gt;action}();\n            } else {\n                $this-&gt;controller-&gt;notImplemented();\n            }\n        } else {\n            $this-&gt;controller-&gt;notImplemented();\n        }\n\n        $this-&gt;registerHook('actionAfter');\n\n        return array($this-&gt;view, $this-&gt;controller);\n\n    }\n</code></pre>\n\n<p>lib/view.php</p>\n\n<pre><code>namespace lib;\n\nclass View \n{\n    protected\n        $app,\n        $variables = array()\n        ;\n\n    public\n        $name\n        ;\n\n    /**\n     * Constructor\n     * @param object $app\n     * @param string $name\n     */\n    public function __construct($app, $name)\n    {\n        $this-&gt;app  = $app;\n        $this-&gt;name = $name;\n    }\n\n\n    /**\n     * Set a view variable\n     * @param string $variable\n     * @param mixed $value\n     */\n    public function set($variable, $value = null)\n    {\n        $this-&gt;variables[$variable] = $value;\n    }\n</code></pre>\n\n<p>and finally app/controllers/index.php</p>\n\n<pre><code>namespace app\\Controllers;\n\nclass index extends \\lib\\Controller\n\n{\n\n    public function test()\n\n    {\n           // This gets the error\n                   $this-&gt;view-&gt;set('helloWorld', 'Hello world!');  \n    }\n\n}\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","nhibernate","design-patterns","architecture"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":12378458,"title":"Having Repositories references in MVC controllers","body":"<p>I am working on enterprise application using MVC, Nhibernate and IOC container.</p>\n\n<p>I three tiers:</p>\n\n<p>DAL - Nhibernate Data Repositories</p>\n\n<pre><code>public class CustomerRepository : Repository&lt;int&gt;,ICustomerRepository\n{\n    public CustomerRepository(IUnitOfWork unitOfWork)\n        : base(unitOfWork)\n    {\n\n    }\n}\n</code></pre>\n\n<p>BLL - Business Layer</p>\n\n<pre><code>public class CustomerManager\n{\n    private readonly ICustomerRepository _repository;\n    public CustomerManager(ICustomerRepository repository)\n    {\n        _repository = repository;\n    }\n    public IList&lt;Customer&gt; GetAll()\n    {\n        return _repository.GetAll&lt;Customer&gt;();\n    }\n}\n</code></pre>\n\n<p>Presentation - MVC controller</p>\n\n<pre><code>private readonly IUnitOfWork _unitOfWork;\nprivate readonly ICustomerRepository _repository;\nprivate readonly CustomerManager _manager;\n\npublic HomeController(IUnitOfWork unitOfWork, ICustomerRepository repository)\n    {\n        _unitOfWork = unitOfWork;\n        _repository = repository;\n        _manager = new CustomerManager(_repository);\n    }\n</code></pre>\n\n<p>I am using IOC container to register unit of work and CustomerRepository objects. The IOC container is working fine.</p>\n\n<p>What is bugging me about this solution is that I have CustomerRepository reference in the controller. Is this architecture fine or there is a better way to implement this?</p>\n"},{"tags":["iphone","ios","mvc","uiviewcontroller","modalviewcontroller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12377305,"title":"MVC consistency, present a viewController from the model","body":"<p>I have a viewController I've built in storyboard. I also have a NSObject Subclass which acts as my model, which sends and listens for API requests and responses. When a method fires in my model, I want to present a modal View of my viewController from whatever view happens to be visible at the time.</p>\n\n<p>An example would be if my API hears \"show this view\" I want to show viewController regardless of what view is being shown.</p>\n\n<p>Conceptually, how does one do this?</p>\n\n<p>EDIT: I don't know which view controller will be showing when I want to present my modal viewController. Also, I need to pass params from my model to the modalVC when it's presented.</p>\n"},{"tags":["php","mvc","view","business-logic"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12377625,"title":"Unavoidable php logic in view (MVC) Inserting a product and showing a message","body":"<p>Basically I have an html form for inserting a product. The field names, as well as the $_POST vars, are initialized in my Product class. The contructor is \"listening\" for the submit button. When the user submits the form, the object's state changes to let's say \"Ready\", which means its attributes are initialized and ready to be inserted into the database.</p>\n\n<p>Then I need to return a message depending on the status of insert (Sucess or Failure), If sucess i'll print something like \"Product Inserted Successfully\", if it fails: \"Null fields detected\".</p>\n\n<p>My question is if I'm allowed to put this kind of logic in the view? Like this:</p>\n\n<pre><code>&lt;?php $myproduct = new Product(); ?&gt;\n\n&lt;form&gt;\n&lt;!-- Fields --&gt;\n&lt;/form&gt;\n\n&lt;?php\nif ($myproduct-&gt;ready()) :\n    if ($myproduct-&gt;insert()) : ?&gt;\n        &lt;p&gt;Product inserted successfully&lt;/p&gt;\n&lt;?php\n    else : ?&gt;\n        &lt;p&gt;Null fields detected&lt;/p&gt;\n&lt;?php\n    endif;\nendif; ?&gt;\n</code></pre>\n\n<p>I really can't think of a simpler way, since I really need to show the message depending on the insert() return status. </p>\n\n<p>So is it allowed in the MVC pattern to mix that kind of logic in the view? I'm not exposing any kind of business logic, just checking the object's status.</p>\n"},{"tags":["oop","mvc","design-patterns","visitor","visitor-pattern"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12373392,"title":"Visitor Pattern - one more implementation","body":"<p>I have some simple app, that I have implemented with design patterns. On the way I have implemented it using MVC separation.</p>\n\n<p>I have View - MainForm class, Controller - MainController class.</p>\n\n<p>Controller is a singleton, so MainForm accesses it when it needs to.\nMainController has as a IMainFormView interface as a composition.</p>\n\n<p>MainForm class implements IMainFormView.</p>\n\n<p>So, when user clicks some button, then MainForm passes some request to MainController, that computes something and performs callback on IMainFormView member to update the MainForm.</p>\n\n<p>Is there Visitor pattern: IMainFormView- IVisitor and MainForm - Visitor?</p>\n"},{"tags":["java","swing","mvc","observer-pattern"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":171,"score":1,"question_id":12332315,"title":"MVC - Observer/Observable pattern in Java Swing","body":"<p>I am trying to build a Swing user interface based on MVC and have a couple of questions on the topic. The best way of asking my questions would be with the help of a simple example.</p>\n\n<p>Let's say that we have a JDialog with one JButton and 3 JTextFields. When that button is pressed I want this JDialog to close and another one to open that requires the data from the 3 JTextFields.</p>\n\n<p>The easy way of doing this (going for just snippets of code, no need to annoy you too much) is:</p>\n\n<pre><code>myButton.addMouseListener(new MouseAdapter(){\n\n    @Override\n    public void mouseClicked(MouseEvent evt){\n        firstFrame.setVisible(false);\n        secondFrame.setData(jTextField1.getText(),jTextField2.getText(),jTextField3.getText());//just sending the data to the new window, would be this or something similar\n        secondFrame.setVisible(true);\n        }});\n</code></pre>\n\n<p>Or something like that.</p>\n\n<p>First Question: If I don't use an anonymous inner class but decide to use a seperate class for my Listener how would I pass the data from the 3 JTextFields to my mouseListener class? Are there any alternatives other than keeping a reference of the view in the Listener class?</p>\n\n<p>Carrying on, given the MVC pattern:</p>\n\n<p>Second Question: I guess that it makes sense the listener (controller according to MVC) to call another window without the model getting involved, that it's job I guess. But the data that need to pass from one window to the next one (the data from the 3JTextFields) shouldn't those go through the model ? Like having the first window save that data in the model, and then when the second one needs them request them from the model.</p>\n\n<p>Third Question: I was considering of using the Observer/Observable pattern. How would that be used in this example to open the last window? I mean since (I think) the Controller is the class that opens the second window, would that mean that the Listener would have to be Observed and the second window would have to be an Observer so that the Listener would say </p>\n\n<pre><code> notifyObservers(\"openSecondWindow\");\n</code></pre>\n\n<p>and then the second window would see that and open itself?</p>\n\n<p>Finally: I heard that a PropertyChangeListener could work as well, and that it is sometimes preffered over the Observer/Observable Pattern. What are your thoughts on this, especially regarding my example.</p>\n\n<p>I am confused..</p>\n\n<p>Thank you for your time.</p>\n"},{"tags":["php","mvc","frameworks","dry"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":11032540,"title":"DRY MVC view/controller separation","body":"<p>I have a custom MVC PHP framework that has a router class, which calls a controller, which uses a model, then the controller presents the view, etc etc.</p>\n\n<p>My problem is that I can't figure out technically how to allow variables to pass between the controller and the view, semantically. I could do a quick-and-dirty fix, but what I want to have is this for a controller:</p>\n\n<pre><code>class IndexController extends Controller{\n    var $name = \"John\"; // instance variable\n}\n</code></pre>\n\n<p>And have this for a view:</p>\n\n<pre><code>&lt;p&gt; &lt;?=$name?&gt; &lt;/p&gt;\n</code></pre>\n\n<p>My question is this:</p>\n\n<ol>\n<li>How can I create a Controller->render() function, or something similar, that allows the view to access instance variables from the controller? and,</li>\n<li>How can I do this without doing klutzy things like <code>$data['view']['name'] = \"John\";</code> or having to write ten lines of code by default for any new controller I make. I want to do this so it's as DRY as possible.</li>\n</ol>\n\n<p>Thanks.</p>\n\n<h3>Edit: FabioCosta's solution</h3>\n\n<p>I'm not sure I understand, so far I have my base controller like this:</p>\n\n<pre><code>&lt;?php\n    class Controller{\n        public function __get($key){\n            if(isset($this-&gt;$$key)) return $this-&gt;$$key;\n        }\n    }\n?&gt;\n</code></pre>\n\n<p>My base view class looks like this:</p>\n\n<pre><code>&lt;?php\n    class View{\n         public $controller;\n         public function render(){\n         $this-&gt;controller = $this;\n    }\n?&gt;\n</code></pre>\n\n<p>And I initialize from the router like this:</p>\n\n<pre><code>&lt;?php\n    $controller = new IndexController();\n    $view = new IndexView();\n    $view-&gt;render();\n?&gt;\n</code></pre>\n\n<p>However, this doesn't work, and I know I'm doing something wrong.</p>\n"},{"tags":["python","mvc","frameworks","lightweight"],"answer_count":19,"favorite_count":28,"up_vote_count":41,"down_vote_count":0,"view_count":25571,"score":41,"question_id":68986,"title":"What's a good lightweight Python MVC framework?","body":"<p>I know there are a ton of Python frameworks out there. Can you guys point me in the right direction? My primary concern is simplicity, I don't need a lot of extraneous features.\nHere are a couple of other things that I'd want (or don't want):</p>\n\n<ul>\n<li>don't care for ORM, just want it to work with MySQL</li>\n<li>has configurable routes</li>\n<li>has support for layouts</li>\n</ul>\n"},{"tags":["python","mvc","tkinter","infinite-loop","publish-subscribe"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12368868,"title":"Infinite loop in MVC pattern","body":"<p>A simplified example in Python:</p>\n\n<pre><code>import Tkinter as Tk\nfrom pubsub import pub\n\nclass M(object):\n    def __init__(self, initial_value):\n        self._x = initial_value\n\n    def get_x(self):\n        return self._x\n    def set_x(self, value):\n        self._x = value\n        pub.sendMessage('x', self._x)  # publish the new value of x\n\nclass VC(object):\n    def __init__(self):\n        self.model = M('hello')\n\n        self.root = Tk.Tk()\n        self.var = Tk.StringVar(master=self.root, value=self.model.get_x())\n        Tk.Entry(master=self.root, textvariable=self.var).pack()\n        self.var.trace('w', lambda *args: self.model.set_x(self.var.get()))  # when user types into entry, update model\n        pub.subscribe(self.var.set, 'x')  # when model changes, update the contents of entry\n        self.root.mainloop()\n</code></pre>\n\n<p>The three lines on which I have written comments are the communication between the model and the view/controller (Tkinter is carrying out both roles). But this is an infinite loop: when the model is updated, the pub.sendMessage line updates the contents of the on-screen box, then the trace on var updates the model, which updates the box...</p>\n\n<p>This must be a common problem. How is it usually avoided? The only solution I can think of is to add <code>if value != self._x:</code> in the setter, but that seems like a bit of a hack and not a general solution.</p>\n"},{"tags":["c#","asp.net","mvc","asp.net-mvc-3","poco"],"answer_count":7,"favorite_count":8,"up_vote_count":16,"down_vote_count":2,"view_count":1302,"score":14,"question_id":5807669,"title":"MVC 3 - How is this ever going to work?","body":"<p>I have made this post over a year ago, and I think it makes sense to update it as it's getting quite a few views. </p>\n\n<p>I'm either missing something out or Microsoft has really messed up MVC. I worked on Java MVC projects and they were clean and simple. This is however a complete mess IMO. Examples online such as NerdDinner and projects discussed on ASP.Net are too basic, hence why they \"simply\" work. Excuse if this sounds negative, but this is my experience so far.</p>\n\n<p>I have a repository and a service that speaks to the repository. Controllers call service. </p>\n\n<p>My data layer is NOT persistence independent, as the classes were generated by SQL metal. Because of this I have a lot of unnecessary functionality. Ideally I'd like to have POCO, but I didn't find a good way to achieve this yet. </p>\n\n<p>*<em>Update: Of course Microsoft hasn't messed anything up - I did. I didn't fully understand the tools that were at my disposal. The major flaw in what I have done, was that I have chosen a wrong technology for persisting my entities. LINQ to SQL works well in stateful applications as the data context can be easily tracked. However, this is not a case in stateless context. What would be the right choice? Entity Framework code first or code only work pretty well, but what's more importantly, is that it shouldn't matter. MVC, or front end applications must should not aware of how data is persisted.  *</em></p>\n\n<p>When creating entites I can use object binding:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(Customer c)\n{\n    // Persistance logic and return view\n}    \n</code></pre>\n\n<p>This works great, MVC does some binding behind the scene and everything is \"jolly good\". </p>\n\n<p><strong>It wasn't \"Jolly Good\". Customer was a domain model, and what was worse, it was dependent on persistence medium, because it was generated by SQL metal. What I would do now, is design my domain model, which would be independent of data storage or presentation layers. I would then create view model from my domain model and use that instead.</strong></p>\n\n<p>As soon as I'd like to do some more complex, e.g. - save Order which is linked to the customer everything seems to break:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Create(Order o)\n    {\n        // Persistance logic and return view\n    }\n</code></pre>\n\n<p>To persist an order I need Customer or at least CustomerId. CustomerId was present in the view, but by the time it has got to Create method, it has lost CustomerId. I don't fancy sitting around debugging MVC code as I won't be able to change it in a hosting envrionment either way.</p>\n\n<p><strong>Ok, a bit of moaning here, sorry. What I would do now, is create a view model called NewOrder, or SaveOrder, or EditOrder depending on what I'm trying to achieve. This view model would contain all the properties that I'm interested in. Out-of-the-box auto binding, as the name implies, will bind submitted values and nothing will be lost. If I want custom behaviour, then I can implement my own \"binding\" and it will do the job.</strong></p>\n\n<p>Alternative is to use FormCollection:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(FormCollection collection)\n{\n   // Here I use the \"magic\" UpdateModel method which sometimes works and sometimes doesn't, at least for LINQ Entities.               \n}\n</code></pre>\n\n<p>This is used in books and tutorials, but I don't see a point in a method which has an alternative: TryUpdateModel - if this crashes or model is invalid, it attempts to update it either way. How can you be certain that this is going to work?</p>\n\n<p><strong>Autobinding with view models will work the most of the time. If it doesn't, then you can override it. How do you know it will always work? You unit test it and you sleep well.</strong></p>\n\n<p>Another approach that I have tried is using ViewModel - wrapper objects with validation rules. This sounds like a good idea, except that I don't want to add annotations to Entity classes. This approach is great for displaying the data, but what do you do when it comes to writing data? </p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(CustomViewWrapper submittedObject)\n{\n    // Here I'd have to manually iterate through fields in submittedObject, map it to my Entities, and then, eventually, submit it to the service/repository.\n}    \n</code></pre>\n\n<p>** View model is a good way forward. There would have to be some mapping code from view model to the domain model, which can then be passed to the relevant service. This is not a correct way, but it's one way of doing it. Auto mapping tools are you best friends and you should find the one that suits your requirements, otherwise you'll be writing tons of boilerplate code.**</p>\n\n<p>Am I missing something out or is this the way Microsoft MVC3 should work? I don't see how this is simplifying things, especiialy in comparisson to Java MVC.</p>\n\n<p>I'm sorry if this sounds negative, but this has been my experience so far. I appreciate the fact that the framework is constantly being improved, methods like UpdateModel get introduced, but where is the documentation? Maybe it's time to stop and think for a little bit? I prefer my code to be consistent throughout, but with what I have seen so far, I have no confidence whatsoever that this is a right way forward.</p>\n\n<p><strong>I love the framework. There is so much to learn and it's not a lot more exciting then it has ever been. Should probably make another post regarding web forms. I hope this is helpful.</strong></p>\n"},{"tags":["java","android","mvc"],"answer_count":14,"favorite_count":53,"up_vote_count":86,"down_vote_count":0,"view_count":33740,"score":86,"question_id":2925054,"title":"MVC pattern in Android?","body":"<p>Is it possible to implement the Model-View-Controller pattern in Java for Android? Or is it already implemented through Activities? Or is there a better way to implement the MVC pattern for Android?</p>\n"},{"tags":["asp.net-mvc","mvc","design-patterns","web-applications","post-redirect-get"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":143,"score":3,"question_id":12338704,"title":"ASP.NET MVC: post-redirect-get pattern, with two overloaded action methods","body":"<p>Is it possible to implement post-redirect-get pattern, with two overloaded action methods (One for GET action and the other for POST action) in <a href=\"/questions/tagged/asp.net-mvc\" class=\"post-tag\" title=\"show questions tagged 'asp.net-mvc'\" rel=\"tag\">asp.net-mvc</a>.</p>\n\n<p>In all of the MVC post-redirect-get pattern samples, I have seen three different action methods for the post-redirect-get process (corresponding to Initial Get, Post, and the Redirection Get), each having different names. Is this really required to have minimum three action methods with different names, in <a href=\"/questions/tagged/asp.net-mvc\" class=\"post-tag\" title=\"show questions tagged 'asp.net-mvc'\" rel=\"tag\">asp.net-mvc</a>?</p>\n\n<p>For Eg: (Does the code shown below, follows Post-Redirect-Get pattern?)</p>\n\n<pre><code>public class SomeController : Controller\n{\n    // GET: /SomeIndex/\n    [HttpGet]\n    public ActionResult Index(int id)\n    {\n        SomeIndexViewModel vm = new SomeIndexViewModel(id) { myid = id };\n        //Do some processing here\n        return View(vm);\n    }\n\n    // POST: /SomeIndex/\n    [HttpPost]\n    public ActionResult Index(SomeIndexViewModel vm)\n    {\n        bool validationsuccess = false;\n        //validate\n        if (validationsuccess)\n            return RedirectToAction(\"Index\", new {id=1234 });\n        else\n            return View(vm);\n        }\n    }\n}\n</code></pre>\n\n<p>Thank you for your responses.</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","automapper","automapping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12365924,"title":"Change mapping rules for view model AutoMapper","body":"<p>I have a model</p>\n\n<pre><code>public class Product : BaseEntity\n    {\n        private string _name;\n\n        public string Name\n        {\n            get { return _name; }\n            private set{_name = value;}\n        }\n\n        public decimal Price { get; set; }\n        public double Weight { get; set; }\n        public double Width { get; set; }\n        public double Height { get; set; }\n        public double Depth { get; set; }\n        public DateTime DateAdded { get; set; }\n        ...\n        public string GeneralInfo {get{//some get logic}...}\n}\n</code></pre>\n\n<p>and a View model:</p>\n\n<pre><code>public sealed class ProductDetailsModel\n    {\n        public int Id { get; set; }\n        public string Name { get; set; }\n        public decimal Price { get; set; }\n        public double Weight { get; set; }\n        public double Width { get; set; }\n        public double Height { get; set; }\n        public double Depth { get; set; }\n        ...\n        public string GeneralInfo {get;set;}\n}\n</code></pre>\n\n<p>and controller:</p>\n\n<pre><code>public class ProductController : Controller\n{\n  ...\n\npublic ActionResult Details(int id)\n        {\n            var product = _productRepository.GetProduct(id);\n            var productViewModel = Mapper.Map&lt;ProductDetailsModel&gt;(product);\n            return View(productViewModel);\n        }\n  ...\n}\n</code></pre>\n\n<p>everything works great, BUT... I have some get logic for product model general info property, which gets this general info from database, and sometimes, when product doesn't have general info, this property returns null. What I need is to generate alternative general info from available properties such as With, Height, etc. Something like:</p>\n\n<pre><code>private string GenerateGeneralInfoFromProductProperties()\n        {\n            var generalInfoStringBuilder = new StringBuilder();\n            generalInfoStringBuilder.Append(@\"&lt;b&gt;Width: &lt;/b&gt;\").Append(Width).Append(\"&lt;/br&gt;\");\n            generalInfoStringBuilder.Append(@\"&lt;b&gt;Weight: &lt;/b&gt;\").Append(Weight).Append(\"&lt;/br&gt;\");\n            ...\n            return generalInfoStringBuilder.ToString();\n        }\n</code></pre>\n\n<p>If I add this logic to product model ...</p>\n\n<pre><code>public class Product : BaseEntity\n{\n    ...\n    public string GeneralInfo\n        {\n            get\n            {\n                var gInfo = getGeneralInfoFromBD();\n                if (gInfo==null) \n                     gInfo = GenerateGeneralInfoFromProductProperties();\n                return gInfo;\n            }\n            set { SetPropertyValue(ProductPropertyType.GeneralInfo, value); }\n        }\n}\n</code></pre>\n\n<p>Everything works fine, BUT it would be wrong and illogical, because I have a view model for representation of product details, so I want to add this logic to view model, but my view model instance is created by mapper, Product view model has no constructors to pass product instance to get it's general info, because, as I said, it has no need in constructor. How can I add this \"general info if null\" replace logic to mapper, or view model?</p>\n"},{"tags":["ruby-on-rails","mvc","select","crud"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12365716,"title":"Rails: Where clause doesn't work in any condition","body":"<p>I'm about to lose my mind due to a simple Rails <b>where</b> query. I simply cannot understand why it does work like 10 lines ago and does not after it. I could not figure out what might be causing the problem</p>\n\n<pre><code>@userID = Token.where(:tokenCode =&gt; @tokenReceived)\n  #@init.tokenCode=@tokenReceived+\"1\" #randomize algorithm required!\n  @init.tokenCode=@codeGenerated=generate_activation_code()\n  if @userID.nil?\n    @newToken=Token.new\n    @newToken.tokenCode=@codeGenerated\n  else\n    @tokenToAdd = \"12\"\n    @newToken=Token.where(:userID =&gt; \"1\")\n    #if @newToken.nil?\n      @newToken.tokenCode=\"12\"\n    #end\n  end\n  #@newToken.save  \n  @init.save\n</code></pre>\n\n<p>When I make a successful JSON request to 'http://localhost:3000/inits.json' it gives me a page with tons of erros but I think the main error among those are:</p>\n\n<pre><code>&lt;h1&gt;\n  NoMethodError\n    in InitsController#create\n&lt;/h1&gt;\n&lt;pre&gt;undefined method `tokenCode=&amp;#x27; for #&amp;lt;ActiveRecord::Relation:0x007fc43cb40b88&amp;gt;&lt;/pre&gt;\n</code></pre>\n\n<p>What could be the reason? Am I writing the where clause all wrong?</p>\n\n<p><b>Edit: </b>When I activate the if clause it works. I simply believe the @newToken object is null, however it is almost impossible for me to detect why. There is a data in my Token table with <b>userID</b> 1.</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":73,"score":-1,"question_id":12365112,"title":"passing variable from Controller to View","body":"<p>I have a problem, Ive been making my own MVC app but there seems to be a problen in passing variables between model and controller. Output from controller is a single variable containing some json format data and it looks simple.</p>\n\n<p>Controller</p>\n\n<pre><code>&lt;?php \n\nclass controllerLib \n{\n     function __construct() \n     {\n            $this-&gt;view = new view();\n     }\n\n     public function getModel($model) \n     {\n            $modelName = $model.\"Model\"; \n            $this-&gt;model=new $modelName();\n     }\n}\n\n class controller extends controllerLib\n {\n     function __construct()\n     {\n            parent::__construct();\n     } \n\n     public function addresses($arg = false) \n     {\n            echo'Addresses '.$arg.'&lt;br /&gt;';\n\n            $this-&gt;view-&gt;render('addressesView');\n\n            $this-&gt;view-&gt;showAddresses = $this-&gt;model-&gt;getAddresses(); \n     }\n }\n\n ?&gt;\n</code></pre>\n\n<p>View</p>\n\n<pre><code> &lt;?php \n\n class view\n {\n    function __construct()\n    {\n    }\n\n    public function render($plik)\n    {\n        $render = new $plik();\n    }\n }\n\n class addressesView extends view\n {\n    public $showAddresses;\n\n    function __construct()\n    {\n        parent::__construct();\n\n        require 'view/head.php';\n\n        $result = $this-&gt;showAddresses;\n\n\n        require 'view/foot.php';\n    }\n }\n\n\n ?&gt;\n</code></pre>\n\n<p>Now problem is that $this->showAddresses does not pass to view and im stuck.</p>\n"},{"tags":["jquery","image","mvc","slider"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12363984,"title":"Troubleshooting with JQuery image slider","body":"<p>I'm trying to make a basic image slider in jquery, tried following code:</p>\n\n<pre><code>&lt;div id=\"Photos\"&gt;\n    &lt;img alt=\"First\" src=\"../../Images/9-10-2012 2-59-52 PM.png\" class=\"Show\"/&gt;\n    &lt;img alt=\"Scond\" src=\"../../Images/9-10-2012 3-00-20 PM.png\" /&gt;\n    &lt;img alt=\"Third\" src=\"../../Images/9-11-2012 11-56-09 AM.png\" /&gt;\n\n\n\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        slideshow(); \n    });\n\n    function slideshow() {\n        var current = $('#Photos.Show');\n        var next = current.next().length ? current.next() :   current.parent().children(':first');\n        current.hide().removeClass('Show');\n        next.fadeIn().addClass('Show');\n\n        setTimeout(slideshow, 3000);\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Its not sliding, even all three images showing at a time constantly. Please help. Thanks.</p>\n"},{"tags":["asp.net","mvc","controller"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1444,"score":2,"question_id":1498293,"title":".NET MVC instantiate controller inside another controller","body":"<p>Is it possible for an ASP.NET MVC controller to create a new instance of a different controller and effectively delegate resonsibility to that?</p>\n\n<p>Let's say for example that I have two controllers in the /Controllers/ directory:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    public ActionResult Index()\n    {\n            var otherController = new OtherController();\n            return otherController.ShowNumberOfThings(100);\n    }\n}\n\npublic class OtherController : Controller\n{\n        public ActionResult ShowNumberOfThings(int index)\n        {\n            return View(index);\n        }\n}\n</code></pre>\n\n<p>...and a View called Views/Other/ShowNumberOfThings.aspx:</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" MasterPageFile=\"~/Views/Shared/Site.Master\" Inherits=\"ViewPage&lt;int&gt;\" %&gt;\nNumber of things: &lt;%= Model.ToString() %&gt;\n</code></pre>\n\n<p>When I hit the url:</p>\n\n<p><a href=\"http://localhost/Home/Index\" rel=\"nofollow\">http://localhost/Home/Index</a></p>\n\n<p>I want to be presented with a page that reads:</p>\n\n<p>\"Number of things: 100\"</p>\n\n<p>I would like to be able to persist temporary data between controller redirections without being forced to use the session object (TempData[\"\"] uses the session object for cross-controller redirections). My real world case has a complex object which needs passing (not just an int) so using a URL/Cookie is out of the question, and session state is a no-no.</p>\n\n<p>In WebForms at least we could use Server.Transfer and maintain any state in the HttpContext.Items collection. In MVC the only option I can see is to call the controller method directly passing in required arguments.</p>\n\n<p>At the moment it's having trouble trying to resolve the view folder as the \"context\" is still running under the HomeController.</p>\n\n<p>I guess where I am going with this is trying to cludge ASP.NET MVC into acting like a <a href=\"http://en.wikipedia.org/wiki/Front%5FController%5Fpattern\" rel=\"nofollow\">FrontContoller</a>.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>In the end we had to serialise everything into a session and use that. A shame, but I have heard that MVC2 will support serialising objects into a ViewState.</p>\n"},{"tags":["mvc","mvvm","website","mvp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":80,"score":-1,"question_id":12358094,"title":"Is a website MVC MVP or MVVM?","body":"<p>I've not really been able to differentiate between the patterns mentioned in the title.</p>\n\n<p>A dynamic website has a user interface developed with basically HTML, CSS and maybe javascript (at least, that's what the user sees). The backend could be PHP or ASP (or whatever) which would be connected to a database.</p>\n\n<p>I believe the database is the Model and the UI is the View. Is the backend a controller, presenter or viewmodel?</p>\n\n<p>I'll appreciate an explanatory answer and, if necessary, links.</p>\n"},{"tags":["objective-c","osx","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":319,"score":0,"question_id":10286747,"title":"window, view and subviews creation - mac os x","body":"<p>I am an Objective-C/Cocoa newbie and I was wondering if you could provide me with some guidelines regarding the first Mac OS X desktop application I am writing. </p>\n\n<p>The model part is the self-organizing map algorithm, SOM (Kohonen, 1982).</p>\n\n<p>From the interface point of view, the idea is to have a main window that contains the 1024x768 parent view and 192 64x64 squares (child views). The colours of the child views will change as the SOM algorithm runs. After the SOM is built, users will be able to listen to sounds mapped to a certain square by clicking on it.</p>\n\n<p>The SOM algorithm is already implemented but I am having a hard time to create the interface and connect it to the model part. </p>\n\n<p>I thought of creating the window by using the code below:</p>\n\n<pre><code>NSRect windowRect = NSMakeRect(0.0f, 0.0f, 1024.0f, 790.0f);\n\nNSWindow *window = [[NSWindow alloc] initWithContentRect:windowRect \n                                               styleMask:( NSResizableWindowMask |         NSClosableWindowMask | NSTitledWindowMask) \n                                                 backing:NSBackingStoreBuffered defer:NO];\n\n[window setBackgroundColor:[NSColor blueColor]];    \n\n[window makeKeyAndOrderFront:nil];\n</code></pre>\n\n<p>Then I would create the main add the main view as a subview of the content view of my window:</p>\n\n<pre><code> NSView *view = [[NSView alloc] init]; \n\n [window setContentView: view]\n</code></pre>\n\n<p>Finally, I would create the child views and add them as subviews of the parent view:</p>\n\n<pre><code> for(int i=0;i&lt;12;i++)\n {\n    for(int j=0;j&lt;16;j++)\n    {\n       NSView *child = [[NSView alloc]initWithFrame:CGRectMake(64*i,64*j,64, 64)];\n       [view addSubview:child];\n    }\n }\n</code></pre>\n\n<p>My questions would be:</p>\n\n<p>1) Do my ideas make sense?</p>\n\n<p>2) Where should those pieces of code go? I am still in doubt where they should be part of an AppDelegate or ViewController?</p>\n\n<p>3) What needs to be add to the main method to load the interface? At the moment the main method only call methods that refer to audio-processing and the SOM algorithm. I guess the general question here is how would model and view parts be connected.</p>\n\n<p>I apologize for the naive questions and thank you in advance for any ideas that would help me make headway.</p>\n\n<p>Thank you.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":5907123,"title":"How to avoid needing a VIewModel for every Model","body":"<p>I'm using ASP.NET 4 and MVC3.</p>\n\n<p>Often, I find that I need a ViewModel to display information for my Model. For example, take the following model</p>\n\n<pre><code>class Profile\n{\n   public int UserID { get; set; }\n   public string Name { get; set; }\n   public DateTime DOB { get; set; }\n}\n</code></pre>\n\n<p>There is a requirement to hide the UserID, but to show the UserName, so often time for models that are similar to the one above, I have to come up with a ViewModel with just the UserID changed to UserName:</p>\n\n<pre><code>class ProfileViewModel\n{\n   public string UserName { get; set; }\n   public string Name { get; set; }\n   public DateTime DOB { get; set; }\n}\n</code></pre>\n\n<p>Are there any ways?</p>\n"},{"tags":["asp.net-mvc-3","wcf","mvc","asp.net-web-api"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":743,"score":4,"question_id":10684739,"title":"ASP.NET Web API Questions - Authorization / Authentication","body":"<p>I've been asked to create an API for clients. Before I begin I have some questions. I've decided to use the ASP.NET Web API technology. I've created my first method and it works fine, I'm able to return a set of results of products in XML/Json format. The problem is, anyone who accesses my API held at my website will be able to see all my products. I already have a database of customers, how can I use this so that prior to accessing my API, they have to set some credentials. </p>\n\n<p>The API should be accessible to both Web and Desktop clients</p>\n\n<p>One way I thought of doing it, is they pass their username/password along as parameters but this didnt seem very secure/right?. For example: <code>api/products/GetById/750?username=bob&amp;pass=123</code></p>\n"},{"tags":["jquery","asp.net-mvc","mvc","jquery-ui"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":4000,"score":3,"question_id":730336,"title":"jQuery library location wants to be referenced differently on server","body":"<p>I've got an ASP.NET MVC application that uses jQuery. To load the js libraries, I reference them like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../../Scripts/jquery-1.3.2.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This works fine locally, but when I publish it to the server, it can't find the library. To get it to work, I have to change it to this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../Scripts/jquery-1.3.2.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Making this change allows it to work locally and on the server, but it gives me a warning that the file was not found. So I've got a couple of questions:</p>\n\n<ol>\n<li>How does the code work locally if I'm not referencing the correct library location?</li>\n<li>What can I put for a script path that will work everywhere and not throw a warning?</li>\n</ol>\n\n<p>I know an answer to #2 is to store the libraries in some known absolute path, but I'm not ready to commit to that yet.</p>\n"},{"tags":["php","mvc","codeigniter","codeigniter-2"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":105,"score":2,"question_id":12350195,"title":"MVC - Does this code belong to model, controller or view?","body":"<p>I have in my site notifications, similar as facebook. But I only have 3 type of notifications:</p>\n\n<ul>\n<li>[nickname] sent you a new quize [quizename]</li>\n<li>[nickname] added you to his group [groupname]. accept | deny</li>\n<li>You received 100$ credit for login today.</li>\n</ul>\n\n<p>Table notification</p>\n\n<p>notification_id | type | item_id | from_id | to_id | created | notified</p>\n\n<p>item_id represents quize_id or group_id. I make extra joins to get all data.</p>\n\n<p>A problem I have is how to display each notification depends on type. One of options is to organize string for display in controller:</p>\n\n<pre><code>foreach($results as $key =&gt; $result){\n  switch($result['type']){\n    case 1:\n    $string = \"&lt;a href=\".baseUrl().\"/users/$result['userId']&gt;$result['nickname']&lt;/a&gt; \"._(\"wants you to take a quize\").\" &lt;a href='\".baseUrl().\"/quize/$result['rel']'&gt;$result['quizeName']&lt;/a&gt;\";\n    break;\n    case 2:\n    $string = \"&lt;a href=\".baseUrl().\"/users/$result['userId']&gt;$result['nickname']&lt;/a&gt; \"._(\"added you to his group\").\" &lt;a href='\".baseUrl().\"/group/$result['rel']'&gt;$result['groupName']&lt;/a&gt;\";\n    break;\n    case 3:\n    $string = _(\"You received 100 credit for log in today\");\n  }\n  $notifications[$key]['string'] = $string;\n}\n\n$data['notifications'] = $notifications;\n\n$this-&gt;load-&gt;view('views/notifications/last_notification_view', $data);\n</code></pre>\n\n<p>The problem with that method is that part of view is inside controller. I could sent rough data to view, but then the problem is that I need to make similar php code in view. So which method is better? Or is there any other way?</p>\n"},{"tags":["mvc","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12349579,"title":"Tools for documenting MVC web application","body":"<p>I'm making a web application that is quite a bit more complicated than others I've produced in the past.  I think before I go much further I should try and get down a plan for the application as I currently have it.  </p>\n\n<p>I recently took a course in UML, but that doesn't seem particularly appropriate here - as while I'm using an object-oriented framework it is really the relationships between the Models, Controllers, Actions, Views and URL mappings I'm looking to document.</p>\n\n<p>So my question is - <strong>Are there any software design applications out there that are particularly useful for documenting the structure/functionality of an MVC application?</strong></p>\n\n<p>On the basis of this I'd be hoping to write a testing plan.  </p>\n"},{"tags":["silverlight","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1657,"score":4,"question_id":2675799,"title":"Using Silverlight in Views in ASP.Net MVC - a bad idea?","body":"<p>I'm currently writing a small application for use internally at my office.\nI started out teaching myself some MVC (I've been a C# dev for 3 years). \nOne of the main requirements is editable grids - I quickly realised that silverlight (i have zero silverlight experience) could be a big help in this.\nI've managed to create a proof of concept of getting MVC and silverlight to talk back an forth by combining these two techniques:\n<a href=\"http://omaralzabir.com/create_rest_api_using_asp_net_mvc_that_speaks_both_json_and_plain_xml/\" rel=\"nofollow\">Creating a Rest API using MVC</a><br>\n<a href=\"http://blogs.msdn.com/jowardel/archive/2009/03/09/asp-net-mvc-silverlight.aspx\" rel=\"nofollow\">MVC SilverLight</a><br>\nI also got some help on stackoverflow:<br>\n<a href=\"http://stackoverflow.com/questions/2667068/silverlight-grids-mvc-http-post\">silverlight-grids-mvc-http-post</a></p>\n\n<p>Essentially all I'm doing is embedding a silver light object in a view.\nSerializing the Model data as JSON and passing it to silverlight(using intit params written into the response).\nThe silverlight object can post data back to the controller as JSON.</p>\n\n<p>So far this seems like it could work quite well. However I am a bit concerned that I could be painting myself into a corner with this approach, as in I don't have much experience with either technology so I'm worried I'm going get hit with something further down the line that I won't be able to work around.\nHas anybody else tried doing this? Any advice would be much appreciated!</p>\n"},{"tags":["php","mvc","symfony2","frameworks"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":60,"score":0,"question_id":12330904,"title":"Is it okay to have class level variables in Symfony controller class?","body":"<p>I have a project that uses Symfony framework. For optimisation purposes I have narrowed down 6 common variables which are being used constanly during a request. Some of this variables are inside database. </p>\n\n<p>Now, it is bad practise to go back to database again and again 5 times, getting same values. So, I thought of storing those variable value into class level variable.</p>\n\n<p>Is it a good practise?</p>\n\n<pre><code>class MyController extends Controller\n{\n\n    /*Class level variables to eliminate repetitive object creation.*/\n    protected $doctrine;\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc","url-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12346465,"title":"Bound Parameters in Ruby on Rails","body":"<p><p> I've previously asked a question related to this topic as well and with the aid of that question I've found the <b>name</b> of exactly what I wanted. <b>Bound parameters.</b></p>\n\n<p>I have managed to create a routing like \"user/:id/dosomething\" by adding a member to the <b>routes.rb</b>. However this type of url is not the solution I was looking for.</p>\n\n<p>My question is, how do you provide the 'user/dosomething/:id' to match with action user's <b>dosomething</b> action with <b>id</b> sent as parameter. Here is the block I've read in order to get the idea;</p>\n\n<blockquote>\n  <p>When you set up a regular route, you supply a series of symbols that\n  Rails maps to parts of an incoming HTTP request. Two of these symbols\n  are special: :controller maps to the name of a controller in your\n  application, and :action maps to the name of an action within that\n  controller. For example, consider one of the default Rails routes:</p>\n  \n  <p>match ':controller(/:action(/:id))</p>\n  \n  <p>If an incoming request of /photos/show/1 is processed by this route\n  (because it hasn’t matched any previous route in the file), then the\n  result will be to invoke the show action of the PhotosController, and\n  to make the final parameter \"1\" available as params[:id]. This route\n  will also route the incoming request of /photos to\n  PhotosController#index, since :action and :id are optional parameters,\n  denoted by parentheses.</p>\n</blockquote>\n"},{"tags":["objective-c","ios","xcode","mvc","shared-libraries"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":12345279,"title":"Creating your own custom libraries in iOS?","body":"<p>I'm fairly new to programming and wanted to start programming more efficiently. Try as I may I often find myself straying from the MVC model.</p>\n\n<p>I was wondering are there any tips or methods in keeping your code organized when coding in xcode objc? To be more specific (I know you guys like that :) I want to </p>\n\n<ol>\n<li>Be able to write libraries or self-containing code that can bring from one project to another</li>\n<li>Share my code with others as open sourced projects</li>\n<li>Prevent myself from writing messy code that does not follow proper structure</li>\n</ol>\n"},{"tags":["mvc","architecture","backbone.js","pjax"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":152,"score":1,"question_id":12343962,"title":"pjax or client side MVC?","body":"<p>i have to start a new project, a webapp with lots of forms and screens and i really don't know which technology fit best. The application is an ERP like app, with very few animations and lot of forms. The goal is to reduce at minimum reloads and waiting time, it has to be as close as possible to a normal desktop app (a lot of work to look like a marvelous VB6 app :-)</p>\n\n<p>On the one hand we have client side MVC (backbone). It's cool to have all the code running on client but in my mind this implies repetition of lot of code (for example all models definitions) from server (PHP + Fuel). Sure once loaded all the informations task like paginations or grid work without any delay but it also present some problems of synchronization (other users can change data and i have to manually invalidate data on client).</p>\n\n<p>On the other hand we have pjax. The idea is to make all the templating and so on on server, just implement a logic to return the page without the frame for pjax request or full page on new requests. No code duplication, very simple client side.</p>\n\n<p>I've read the the story <a href=\"http://37signals.com/svn/posts/3112-how-basecamp-next-got-to-be-so-damn-fast-without-using-much-client-side-ui\" rel=\"nofollow\">from basecamp</a> and <a href=\"http://engineering.twitter.com/2012/05/improving-performance-on-twittercom.html\" rel=\"nofollow\">from twitter</a> and both the point make sense to me. You can't relay on visitor computer (features, performance ...)</p>\n\n<p>The more i think about it the mode i like pjax over MVC, but maybe i'm missing something. Which  are the MVC advantages over pjax or pjax disadvantages over Client side MVC ?</p>\n\n<p>Thanks a lot</p>\n"},{"tags":["php","mvc","design-patterns","repository-pattern"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":183,"score":6,"question_id":12343969,"title":"MVC and the Repository Pattern: Roles of Controllers, Models, and Repositories?","body":"<p>So I've been studying the role of the repository pattern as a means of decoupling the persistence layer from my models in an MVC framework. Prior to this, I might have my <code>UserModel</code> calling active record methods directly in order to store/retrieve domain objects.</p>\n\n<p>Here's a sketch of what I'm thinking in regards to the call stack in a request that should create a new <code>User</code>: </p>\n\n<p><img src=\"http://i.stack.imgur.com/hOef0.jpg\" alt=\"enter image description here\"></p>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li>Is this a correct implementation of the repository pattern?</li>\n<li>I understand that the controller should take the user's information from the request and pass it into the model. How does that usually happen? Should the controller create a User object and then pass that into the model? I sure as heck don't wanna just pass in an array of values into the model--nor do I want to pass in 15 arguments to the model method that creates a user.</li>\n<li>In order for this pattern to really work, it looks like to me I would need to have a domain object that is just a simple data structure with no behavior and then if I'm using an ORM, I would have an ORM object which will describe how the object is persisted. Initially I resisted this because it feels like duplicate code, but if I'm really separating persistence from the business logic, this would be needed right? For example, what if I went with an in-memory store? I would no longer use the ORM object.</li>\n</ol>\n\n<p>Am I thinking correctly here? Is this acceptable. Please help me connect the dots in my head.</p>\n"},{"tags":["java","mvc","gui","singleton","repository"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12343371,"title":"Repositories as models for MVC?","body":"<p>I'm building a GUI for an application and I need to work with objects that are not stored in a database, but in repository classes defined as singletons.</p>\n\n<p>I need, for instance, to retrieve the client-list (an ArrayList of Client objects), get their name and display it in a JList. Whatever change I make to these objects would mean updating an object in the repository and then calling update on it so the JList changes.</p>\n\n<p>The question I've got is if working with the repositories like this is permitted or am I breaking some rule that more advanced programmers find common sense. And if so, how should I go about this? I'm doing my best to avoid smelly code and am also curious how I could keep those repositories as singletons if they are used in several frames of my application, each frame with its own model and controller.</p>\n\n<p>Thanks and I appologise to those more advanced if I am doing something visibly, blatantly stupid.</p>\n"},{"tags":["mvc","zend-framework2"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":880,"score":0,"question_id":9586659,"title":"How to add a custom view helper in zend framework2?","body":"<p>I use sceleton zf2 application from github</p>\n"},{"tags":["asp.net-mvc","forms","mvc","form-validation","multi-step"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":139,"score":0,"question_id":12341439,"title":"Best practice/design for a multi-page form in .NET MVC3","body":"<p>I am working on a web application that involves the user filling out a multi-step form that spans several pages. The form has tabbed navigation across the top (these links do not submit the current page) and a next button at the bottom (which does submit). I am considering several strategies for handling form submission/validation:</p>\n\n<ol>\n<li><p>one action method and view per form page. When you hit next, it submits the form to the action method for the next page. If there are validation errors, you are redirected back to the previous page:</p>\n\n<ul>\n<li>URL's are descriptive and can be copy-pasted</li>\n<li>Only redirects in the error case</li>\n<li>Since the redirect does not have the form data, we lose context about the submission which makes it hard to display certain error messages</li>\n<li>The same validation logic works for redirecting the user if they try to visit a step in the flow that they aren't ready for yet</li>\n</ul></li>\n<li><p>one action method and view per form page. When you hit next, it submits the form to the current page action. If there are validation errors, the same view is returned. Otherwise, we redirect to the next page action:</p>\n\n<ul>\n<li>URL's are descriptive and can be copy-pasted</li>\n<li>Redirects are very common (not sure if this is bad)</li>\n<li>When displaying validation errors, we are in the same request as the form submission so we have full access to the invalid input</li>\n<li>Have to pass additional context if we want the ability to, for example, add a \"Previous\" button which also submits</li>\n</ul></li>\n<li><p>one action method for ALL pages. URL's contain additional context about the step being submitted (e.g. <code>MyController/MyAction/{step}</code>). The controller message selects which view page to return depending on validation and the current step.</p>\n\n<ul>\n<li>URL's are not descriptive (e. g. if I submit step 1 to go to step 2, then the URL the user sees will be the same regardless of whether page 1 (invalid) or page 2 is returned</li>\n<li>No redirects</li>\n<li>When displaying validation errors, we are in the same request as the form submission so we have full access to the invalid input</li>\n</ul></li>\n<li><p>A different method I haven't listed here</p></li>\n</ol>\n\n<p>I have tried to enumerate what I see as some of the pros and cons of each method, but I would be interested to know:</p>\n\n<ul>\n<li>What are other pros and cons of these methods? Are mine correct? Could some of the cons I've listed be designed around?</li>\n<li>Is there a standard approach to this problem which I should be using? If so, why is it the standard approach?</li>\n</ul>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":31,"score":-2,"question_id":11769182,"title":"About MVC pattern?","body":"<p>I must say the more I read about MVC pattern the more foggy I get. May be I am just dumb :(\nI have a basic how the three related, but what I am not clear is what the relation between the M and the V? Do they have any communications withOut the C?\nThis has been bugging me for a long time and I really want to get it straight, please forgive me for asking a stupid question.\nThanks in advance.</p>\n"},{"tags":["spring","mvc","spring-mvc","aop"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":12337210,"title":"Intercepting the @responsebody in spring mvc","body":"<p>I have a Spring MVC web application with conroller like below :</p>\n\n<pre><code>@Controller\npublic class ActionRestController {\n@RequestMapping(value = \"/list\", method = GET)\n@ResponseBody\npublic List&lt;Action&gt; list(Action action, SearhCriteria searchCriteria) {\n     List&lt;Action&gt; ret = new ArrayList&lt;Action&gt;();\n     // Call a service method to get the records\n     // Copy the records into the list\n     // return the list of objects\n     return ret;\n}\n</code></pre>\n\n<p>The Controller is invoked when the user does a search. There are several such controllers in the app, one for each searchable entity.\nFor reasons that I cannot explain very well, here, I cannot modify these controllers in anyway.</p>\n\n<p>But now, I have requirement in the UI to display the search criteria and the no. of records and paging details, as well. This information is not returned by the controller. The JSON returned by the Controller contains just the list of records.</p>\n\n<p>I have put up a different controller which will handle the request, gets and puts the extra info in the model and forwards the request to the existing controller like below :</p>\n\n<pre><code>@Controller\npublic class ActionExtendedController {\n@RequestMapping(value = \"/searchlist\", method = GET)\n@ResponseBody\npublic List&lt;Action&gt; list(Action action, SearhCriteria searchCriteria, Model model) {\n     model.addAttribute(\"searchParameters\", searchCriteria);\n     return \"forward:/list\";\n}\n</code></pre>\n\n<p>Upto this point, all is well.\nWhat I want to do is intercept the request at a point where the List is returned from the controller, before it is converted to JSON, and return a map containing the list and the search parameters.</p>\n\n<p>Now since the 'immutable' controller users ResponseBody the control goes to the JacksonMessageConverter amd the response goes out from there. I have already tried the following paths and they do not work.</p>\n\n<ul>\n<li><p>Interceptor - By the time I get here, the response is already written out, so there is no way to change it.</p></li>\n<li><p>Custom ObjectMapper for the JasksonMessageConverter - Will not work, since I do not have access to the model object inside the mapper, I only have access to the list returned by the controller.</p></li>\n<li><p>Aspect @After pointcut for the controller - I think this technique will work, but I cannot get it to work. The advise does not fire and I am sure I am missing something in the configuration.</p></li>\n</ul>\n\n<p>Is there a way to get Spring AOP to fire on a annotated controller, handler method or\ncan anyone suggest another method of intercepting the handler return value (along with the model) ?</p>\n"},{"tags":["php","mvc","frameworks"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12255307,"title":"Is this the right way to set up an MVC framework?","body":"<p>So I've been researching and working on building my own MVC framework but keep running into 6 different ways of implementing it and I'd like to know if I'm on the right track with what I have so far.  And yes, I know I could use Zend or others like it but I really want to learn how frameworks work and not just use someone else's.</p>\n\n<p><strong>Here is a simple version of my index file:</strong></p>\n\n<pre><code>if(isset($_GET['url']))\n{\n    $url = strtolower($_GET['url']);\n}\nelse\n{\n    $url = 'home';\n}\n\nswitch($url)  // Select the controller based on the GET var in the url\n{\n    case 'home': include(ROOT_DIR . 'app/controllers/homeCon.php'); // This page has the link to the DB test page on it\n        break;\n    case 'dbtest': include(ROOT_DIR . 'app/controllers/dbTestCon.php');\n        break;\n    default: include(ROOT_DIR . 'app/views/error404View.php');\n}\n</code></pre>\n\n<p><strong>Here is a simple version of my dbTestCon.php controller:</strong></p>\n\n<pre><code>if(isset($_POST['dbSubBtn']))\n{\n    $model = new DbTestModel();\n\n    if($_POST['firstName'] != '' &amp;&amp; $_POST['lastName'] != '')\n    {\n        $model-&gt;submitToDb($_POST['firstName'], $_POST['lastName'])\n        $model-&gt;displayPage('goodToGo');\n    }  \n    else\n    {\n        $model-&gt;displayPage('noInput');\n    }\n}\nelse\n{\n    $model-&gt;displayPage('normal');\n}\n</code></pre>\n\n<p><strong>Here is my DbTestModel.php:</strong></p>\n\n<pre><code>class DbTestModel\n{\n    public function displayPage($version)\n    {\n        $title = \"DB Test Page\";\n        $themeStylesheetPath = 'public/css/cssStyles.css';\n\n        include(ROOT_DIR . 'app/views/headerView.php');\n        include(ROOT_DIR . 'app/views/dbTestView.php');\n\n        switch($version)\n        {\n            case 'goodToGo':\n                include(ROOT_DIR . 'app/views/dbTestSuccessView.php');\n                break;\n            case 'noInput':\n                include(ROOT_DIR . 'app/views/noInputView.php');\n                break;\n        }\n        include(ROOT_DIR . 'app/views/footerView.php');\n    }\n\n    public function submitToDb($firstName, $lastName)\n    {\n        try \n        {\n            $db = new PDO(\"mysql:host=\" . DB_HOST . \";dbname=\" . DB_NAME, DB_USER, DB_PASS); \n            $db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); \n\n            $sql = $db-&gt;prepare('insert into dbtest(firstName, lastName) values(:firstName, :lastName)');\n            $sql-&gt;bindParam(':firstName', $firstName);\n            $sql-&gt;bindParam(':lastName', $lastName);\n            $sql-&gt;execute();\n            $db = null;\n        }\n        catch(PDOException $e)\n        {\n            echo \"It seems there was an error.  Please refresh your browser and try again. \" . $e-&gt;getMessage();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>And here is my dbTestView.php:</strong></p>\n\n<pre><code>&lt;form name=\"dbTestForm\" id=\"dbTestForm\" method=\"POST\" action=\"dbtest\"&gt;\n    &lt;label for=\"firstName\"&gt;First Name&lt;/label&gt;\n    &lt;input type=\"text\" name=\"firstName\" id=\"firstName\" /&gt;\n    &lt;label for=\"lastName\"&gt;Last Name&lt;/label&gt;\n    &lt;input type=\"text\" name=\"lastName\" id=\"lastName\" /&gt;\n    &lt;input type=\"submit\" name=\"dbSubBtn\" id=\"dbSubBtn\" value=\"Submit to DB\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This simple example works in my testing environment but I'm worried I'll start using it on my next project and realize half way into it that there is something fundamentally wrong with my framework and have to start over again.  Thank you for any help or advice.</p>\n"},{"tags":["php","mvc","zend-framework","controller","message-queue"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1323,"score":1,"question_id":3850167,"title":"How do I call other Controllers within a Zend Framework Process and retrieve their rendered view?","body":"<p>I have the following setup:</p>\n\n<p>An endless running PHP process that looks at a job queue which contains module names, controller names, action names and a parameter array.</p>\n\n<p>For every job I want to call the given controllers action and retrieve the rendered view for further processing.</p>\n\n<p>I was thinking about bootstrapping an instance of Zend_Application for every job but not exactly sure on how to handle the rest. Maybe there is also a better way.</p>\n\n<p>So my question is:</p>\n\n<p>How do I call other Controllers within a Zend Framework Process and retrieve their rendered view?</p>\n\n<p>Thanks to everyone in advance!</p>\n"},{"tags":["php","mvc"],"answer_count":5,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1041,"score":2,"question_id":3833324,"title":"How do you pass values between PHP pages for MVC?","body":"<p>How do PHP programs pass values between model, view, and controller pages?  For example, if a controller had an array, how does it pass that to the view?</p>\n\n<p>EDIT:</p>\n\n<p>Thank your answers.  I see a couple of them stating the components are in the same page, but when I look at something like CodeIgniter, I see three separate PHP pages for model, view, and controller.</p>\n"},{"tags":["objective-c","mvc","ios5"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12336561,"title":"iOS model view controller design with XML","body":"<p>I am making a tabbed bar application that has a section for Quizzes (which are written in XML). I am trying to conform to the MVC paradigm so I created a parser-delegate class, and a class for a quiz object which contains an array of questions and an array of their associated answers. My problem is that my parsing method has no way of sending it's quiz objects back to the view controller. Do I need to set up a delegate for the view controller to communicate with the Parser? Or should I just set the view controller to be the delegate for the parser and not have a separate class for the parser delegate.</p>\n\n<p>Note: I am using <code>NSXMLParser</code>..</p>\n\n<p>Any input as to the best way to do this is much appreciated. </p>\n"},{"tags":["objective-c","ios","mvc","ibaction"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12335521,"title":"iOS Development - How to receive button event from a custom view controller class?","body":"<p>So I've got this \"save\" button in my main view controller that I would like to move into a different view controller (WriterViewController). After doing this, my custom view controller class isn't able to respond to any of the button events. Not sure what im doing wrong here but here some screenshots:</p>\n\n<p>Save button is first in my main view controller. I'll be moving it to the view controller to the right (WriterViewController).</p>\n\n<p><img src=\"http://i.stack.imgur.com/MWJeI.png\" alt=\"Save button is currently in the main view controller.\"></p>\n\n<p>As you can see, after moving the button into the intended view controller, the view controller has a custom class set to \"WriterViewController\".</p>\n\n<p><img src=\"http://i.stack.imgur.com/RLe5x.png\" alt=\"enter image description here\"></p>\n\n<p>I then ctrl + click and drag the save button so that i can link up it's \"Touch Up Inside\" event to the \"saveEntry\" method.</p>\n\n<p><img src=\"http://i.stack.imgur.com/NwIpy.png\" alt=\"enter image description here\"></p>\n\n<p>A screenshot of my WriterViewController.h file.</p>\n\n<p><img src=\"http://i.stack.imgur.com/GXjaL.png\" alt=\"enter image description here\"></p>\n\n<p>And the implementation.</p>\n\n<p><img src=\"http://i.stack.imgur.com/pCKDk.png\" alt=\"enter image description here\"></p>\n\n<p>Doing the same exact step for the main view controller did work and i was able to log my message. However, it wouldn't work for the custom view controller.</p>\n\n<p>Any thoughts? </p>\n\n<p>Thanks for reading!</p>\n"},{"tags":["java",".net","mvc","mvvm","mvp"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":318,"score":6,"question_id":9725042,"title":"What is the legend of the arrows in these diagrams (MVC - MVP - MVVM)?","body":"<p>I try to understand the main differences between MVC / MVP and MVVM patterns. I found these 3 diagrams but I'm not sure to understand them. Coul you help me and explain me what is the legend of the dashed line and continuous line.</p>\n\n<h2>MVC from Wikipedia definition</h2>\n\n<p><img src=\"http://i.stack.imgur.com/9CUdJ.png\" alt=\"MVC from Wikipedia definition\"></p>\n\n<h2>MVP from Microsoft MSDN website</h2>\n\n<p><img src=\"http://i.stack.imgur.com/pPExD.png\" alt=\"MVP from Microsoft MSDN website\"></p>\n\n<h2>MVVM from Microsoft MSDN website</h2>\n\n<p><img src=\"http://i.stack.imgur.com/MICDp.png\" alt=\"MVVM from Microsoft MSDN website\"></p>\n"},{"tags":["java","mvc","mvvm","mvp"],"answer_count":5,"favorite_count":14,"up_vote_count":16,"down_vote_count":0,"view_count":5621,"score":16,"question_id":2105121,"title":"What to use? MVC, MVP or MVVM or…?","body":"<p>I will start a Java project to develop a desktop application. \nWhat to use as presentation layer pattern (MVC, MVP,MVVM or....)?</p>\n\n<p>...if it is possible, with some working small example... :-)</p>\n\n<p>Thanks.</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":916,"score":1,"question_id":1252084,"title":"ASP.NET MVC - POST parameters","body":"<p>I have a view which contains multiple partial views, each of which is collecting information to populate different entity objects.  My question is, upon the POST, how do I get a collection of objects that are populated with the right properties as a parameter to the Controller POST handler method?  </p>\n\n<p>so I would like something like this:</p>\n\n<pre><code>[AcceptVerbs(HttpVerbs.Post)]\npublic ActionResult Edit(List&lt;object&gt; objectCollection)\n{\n\n\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","mvc","nsarray"],"answer_count":2,"favorite_count":5,"up_vote_count":5,"down_vote_count":0,"view_count":14749,"score":5,"question_id":3646787,"title":"Makin an array of Objects in Objective-C","body":"<p>Been playing around with XCode for about 2 weeks now, and reading about MVC a bit. I have a problem trying to connect the Model to the Controller because I find it hard to get my head around arrays. I can handle simple arrays when i programmed some in Java but I'm quiet intimidated by the Obj-C <code>NSArrays</code> I see. </p>\n\n<p>If somebody would be so kind to show me some simple calls on an array of objects i would be eternally grateful.</p>\n\n<p>My model:</p>\n\n<p>Person.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface Person : NSObject \n{\nNSString *name;\nNSNumber *age;\n}\n\n@property(nonatomic, retain) NSString *name;\n@property(nonatomic, retain) NSNumber *age;\n\n@end\n</code></pre>\n\n<p>Person.m </p>\n\n<pre><code>#import \"Person.h\"\n@implementation Person\n@synthesize name;\n@synthesize age;\n@end\n</code></pre>\n\n<p>I've kept if very simple while I try and learn.</p>\n\n<p>Now my Controller class. What i want to do is create an array of 40 'Person' objects. But i don't know the correct way to put that in code in Obj C.</p>\n\n<p>Controller.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n@class Person;\n@interface Controller : NSObject \n{\nPerson *person;\n}\n@property(nonatomic, retain) Person *person;\n\n-(void) doSomeWork;\n\n@end\n</code></pre>\n\n<p>Controller.m</p>\n\n<pre><code>#import \"Controller.h\"\n#import \"Person.h\"\n\n@implementation Controller\n\n@synthesize person;\n\n\n-(IBAction)doSomeWork\n{\n// I guess here is where i should create my array of 40 person objects\n}\n\n@end\n</code></pre>\n\n<p>My problem is in how to declare the array of person objects of size 40.\nAnd then how to access the array to read and write to it.</p>\n\n<p>Thanks in advance for reading my post.</p>\n"},{"tags":["forms","spring","mvc","rest","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":134,"score":1,"question_id":12330679,"title":"Spring MVC Restful App: Redirect a form result to another page","body":"<p>I'm new to Spring MVC Restful.\nSuppose I have index.jsp which forwards user to a form page where user could submit a term to search. I catch the term with a POST handler method, and then do some calculation and hope to redirect the result to be used at another page (/WEB-INF/jsp), for example, we say build a graph based on the result. The problem is how to gather the results and redirect the URL at the same time.\nThe Controllers like below:</p>\n\n<pre><code>@RequestMapping(value=\"/termForm\", method = RequestMethod.GET)\npublic ModelAndView  setupForm() {\nTerm termClass = new Term();\nreturn new ModelAndView(\"term\", \"command\", termClass);\n}\n@RequestMapping(value=\"/getTerm\", method=RequestMethod.POST)\npublic String getTerms(@ModelAttribute(\"term\") Term term, BindingResult result)\n{\n    String label = term.getTerm();\n\n    //doing some calculation to term here\n    result = ....\n    return \"redirect:\"+ \"graphPage.jsp\";\n}\n</code></pre>\n\n<p>By searching, I found that Spring View Resolver only could process the redirected jsp under root directory (as same with index.jsp). In this case, the \"result\" seems not accepted by \"graphPage\". I also included UrlBasedViewResolver in XXX-servlet.xml as following:</p>\n\n<pre><code>   &lt;bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.UrlBasedViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n        value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Sorry for the long question, please give any hint to do this. Thanks a lot.</p>\n\n<hr>\n\n<p>There are two parts of my question. One is redirecting POST method to another page, graphPage.jsp. Since we go to graph, we need the data from POST method as well to create graph. This is the other concern. Hope it's clear. I already solved the first one by adding a handler method, see below. But how to package the result and pass it to Graph.jsp? Thanks</p>\n\n<pre><code>@RequestMapping(value=\"/graphPage\", method=RequestMethod.GET)\npublic String showGraph()\n{\n\n    return \"graphPage\";\n}\n</code></pre>\n"},{"tags":["javascript","mvc","client-side"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":12331797,"title":"Looking for a lightweight JS MVC framework with bindings","body":"<p>I'm looking for a lightweight (don't have a hard size limit, but the lower the better IMO) JS MVC framework with these requirements:</p>\n\n<ul>\n<li>Two-way data bindings (alternatively, Rivets.js could probably be used)</li>\n<li>DOM templating</li>\n<li>No dependencies (no jQuery or other libraries)</li>\n<li>Extensible - need to be able to override the sync function to use, for example, Socket.IO instead of REST (as is the default on most of these)</li>\n<li>Something I don't need: compatibility with older browsers (or even IE9 for that matter). Recent FF/Chrome is all I need. This isn't to say I want a framework without this, but rather it isn't a dealbreaker if a framework fits my other requirements and doesn't have this.</li>\n</ul>\n\n<p>Serenade.js looks like it gets the closest, but I'm not a huge fan of their templating language. I would prefer more of an AngularJS/Batman style templating.</p>\n\n<p>I've considered:</p>\n\n<ul>\n<li><strong>Serenade.js</strong> - this gets the closest, but I don't really like their templating language</li>\n<li><strong>AngularJS</strong> - close, but feels too bloated (76K minified...)</li>\n<li><strong>Batman.js</strong> - this also gets pretty close, though I'd like something smaller (Batman seems to have grown quite a bit)</li>\n<li><strong>Backbone.js</strong> - decent, but I'd prefer something with no dependencies (or at least not jQuery/Zepto; I don't mind _). Would also like more built-in functionality with the views - Batman's views and templating + Backbone would be cool</li>\n<li><strong>Ember.js</strong> - feels too large, and also requires Handlebars (added bloat IMO)</li>\n</ul>\n\n<p>Any other recommendations?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":13,"favorite_count":34,"up_vote_count":127,"down_vote_count":2,"view_count":4593,"score":125,"question_id":11969964,"title":"Should sorting logic be placed in the model, the view, or the controller?","body":"<p>I have a drop down list that displays values from a table to the end user. I would like to have these values be sorted alphabetically.</p>\n\n<p>According to proper MVC design, at what layer should I place my sorting logic: the model, the view, or the controller?</p>\n\n<p><strong>EDIT</strong>: In response to LarsH's question, \"Do you mean code that determines what sort order is desired? or code that performs the sort?\", I was originally referring to the code that determines what sort order is desired.</p>\n"},{"tags":["java","mvc","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12329756,"title":"JSP Servlet: URI remains that of controller servlet","body":"<p>Using MVC, when I get the response back to my jsp page from the controller servlet, the URI remains that of servlet.\nI want the JSP's URI to be displayed which displays the result sent back from controller servlet.\nAny help will be appreciated.</p>\n"},{"tags":["mvc","view","model"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12329725,"title":"how to display multiple model data with a single view--mvc","body":"<p>I created a VectorModel(store vector data like start and end point) and VectorView(to display vector) classes.</p>\n\n<p>I wanted to create two circle(c1 and c2) and display a vector between each circle and mouse position(v1 and v2), then display the smallest vector only.(if mouse get closer to c1 display v1 only, if its closer to c2, display v2 only).\nv1 and v2 are two VectorModel instance.</p>\n\n<p>I want to know if its possible to create a single VectorView Instance and pass it a VectorModel parameter each time.\nthat's how i tried to do that:</p>\n\n<pre><code>private function enterFrame(e:Event):void\n{\n    //update v1 and v2\n    _v1.update(_c1.x, _c1.y, mouseX, mouseY);\n    _v2.update(_c2.x, _c2.y, mouseX, mouseY);\n\n    if (_v1.m &lt; _v2.m)\n    {//display v1\n          displayVector(_v1);\n    }else if(_v1.m &gt; _v2.m)\n    {//display v2\n         displayVector(_v2);\n    }\n}\n\nprivate function displayVector(v:VectorModel):void\n{\n     var vView:VectorView = new VectorView(v);\n     addChild(vView);\n}\n</code></pre>\n\n<p>the result display two line(vector) between each circle and mouse position</p>\n\n<p>I tried to solve this issue by creating a VectorView for each VectorModel and it worked despite thise error:\nError #1009: Cannot access a property or method of a null object reference.(how to get around this?)</p>\n\n<pre><code>private function enterFrame(e:Event):void\n{\n //update v1 and v2\n    _v1.update(_c1.x, _c1.y, mouseX, mouseY);\n    _v2.update(_c2.x, _c2.y, mouseX, mouseY);\n\n    if (_v1.m &lt; _v2.m)\n    {//display v1\n        displayVector(\"v1\");\n    }else if(_v1.m &gt; _v2.m)\n    {//display v2\n        displayVector(\"v2\");\n    }\n}\n\nprivate function displayVector(v:String):void\n{\n   if (v==\"v1\")\n   {\n        addChild(_v1View);\n        if (_v2View.parent!=null)\n        {\n               removeChild(_v2View);\n        }\n\n   }else if(v==\"v2\")\n   {\n        addChild(_v2View);\n        if (_v1View.parent!=null)\n        {\n             removeChild(_v1View);\n        }\n   }\n}\n</code></pre>\n\n<p>is there better way to do it?\nthank you for your time and for your help ;)</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":12327291,"title":"Getting the Child Collection for Parent Model HttpPost Update","body":"<p>This question might be a reiteration of a previous question, if it is please post the link. Either way I'll still go through with this post.</p>\n\n<p>I have this model:</p>\n\n<pre><code>public class Employee {\n    //omitted for brevity\n\n    public virtual ICollection&lt;ProfessionalExperience&gt; ProfessionalExperiences { get; set; }\n    public virtual ICollection&lt;EducationalHistory&gt; EducationalHistories { get; set; }\n}\n\npublic class ProfessionalExperience {\n    // omitted for brevity\n}\n\npublic class EducationalHistory {\n    // omitted for brevity\n}\n</code></pre>\n\n<p>I'm displaying on my View with this Action:</p>\n\n<pre><code>[HttpGet]\npublic ActionResult Edit(int id) {\n    using(var context = new EPMSContext()) {\n        var employees = context.Employees.Include(\"ProfessionalExperiences\").Include(\"EducationalHistories\");\n\n        var employee = (from item in employees\n                        where item.EmployeeId == id &amp;&amp; item.IsDeleted == false\n                        select item).FirstOrDefault();\n\n        return View(employee);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Here is my View:</p>\n\n<pre><code>@using(Html.BeginForm()) {\n  &lt;div class=\"editor-label\"&gt;First Name:&lt;/div&gt;\n  &lt;div class=\"editor-field\"&gt;@Html.TextBoxFor(x =&gt; x.FirstName)&lt;/div&gt;\n  &lt;div class=\"editor-label\"&gt;Middle Name:&lt;/div&gt;\n  &lt;div class=\"editor-field\"&gt;@Html.TextBoxFor(x =&gt; x.MiddleName)&lt;/div&gt;\n\n  @foreach(var item in Model.ProfessionalExperiences) {\n      Html.RenderPartial(\"ProfExpPartial\", item);\n  }\n\n  @foreach(var item in Model.EducationalHistories) {\n      Html.RenderPartial(\"EducHistPartial\", item);\n  }\n  &lt;input type=\"submit\" value=\"Save\" /&gt;\n}\n</code></pre>\n</blockquote>\n\n<p>I display the child collection on the view using a <code>foreach</code> and using a partial view for each collection.</p>\n\n<p>When calling my Post Edit Action the <code>employee</code> model has the child collections set to null.</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Edit(Employee employee) {\n    using(var context = new EPMSContext()) {\n\n    }\n\n    return View();\n}\n</code></pre>\n\n<p>What am I missing to get the child collections to correctly?</p>\n\n<p>Thank you!</p>\n"},{"tags":["android","mvc","libgdx","game-programming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12327895,"title":"Game Programming concepts/terms?","body":"<p>I was trying to learn libgdx for a week now (reading tutorials) and I had a hard time understanding some concepts, such as, textures/vectors/matrices since all the tutorials I've read assumes that you have a background in game programming (or assumes that you don't care as long as you do it). Also, I have read the documentation and tried really hard to make something out of it.</p>\n\n<p>Can anyone recommend to me a good book or online reference on where to start? (I tried google no luck)</p>\n"},{"tags":["c#","javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12326725,"title":"Which folder(s) should I put my  MVC view-specific javascript files in?","body":"<p>I was wondering what's best practice for a javascript file's location that is view-specific.<br>\nSome of my views have 1700+ lines of code, 70% of it being javascript, so I'm putting them into a  .js file to take advantage of bundling/minifying.</p>\n\n<p>I know core script files (eg. jquery) typically go into the root /Scripts folder, but there are a LOT of views that i need to do this to (50+), so I'm wondering if I should put them in their respective view folders (eg: /Views/Account/ViewName.js) or should i dump them all into the /Scripts folder at the root.</p>\n"},{"tags":["objective-c","ios","mvc","core-data","model"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":12323866,"title":"iOS MVC: where does the model fit-in to a CoreData application?","body":"<p>I've just gotten into making applications with CoreData, but I'm familiar with MVC concepts because I used to do a lot of work in web development using (and developing) MVC frameworks.</p>\n\n<p>From what I gather, CoreData automatically generates classes that inherit from NSManagedObject. The objects are created by a fetch request to the context or by inserting a new one into the context. In the apps I've seen, the objects are empty aside from properties that correspond to their attributes in the database, essentially making them objects that mimic a row in the entity's table.</p>\n\n<p>It makes sense that those automatically generated classes and CoreData itself make up the applications model. In the apps I've made traditionally, there is instead a <code>Model</code> class that is in charge of handling all of the data. This is often a Singleton class, and each controller that needs the model can simply use <code>self.model = [Model sharedInstance];</code>. For bigger apps, there may be multiple models instead of one gigantic one. You get the picture. I guess my first question is: am I right? CoreData and it's associated NSManagedObject's make up the entire model for an application?</p>\n\n<p>I would guess that is wrong, because an application may need other functionality that deals with data that does not have an assigned CoreData object. For example: what if a CoreData application needs to populate a table view with data that is retrieved through an HTTP request from foo.com/test (let's say it is JSON data). This data does not need to be stored in CoreData, but at the same time, I don't think retrieving and parsing the data is a job for a controller. Should there be an object, <code>FooDataManager</code> (or something like that) that handles the HTTP requests to manage data from foo.com (it could extend AFHTTPClient). And then controllers that deal with foo.com have a property for <code>fooDataManager</code>, which acts as a model for that controller? And then controllers will call <code>[self.fooDataManager retrieveAndParseData];</code>?</p>\n\n<p>I want to verify this information before I start developing CoreData apps so that I do it correctly from the start. In web development, I'm used to having one model for each controller, but it seems like on iOS, there can be many models that all do their own thing, many controllers who use those models, and all of those models are in addition to CoreData and the NSManagedObjects.</p>\n"},{"tags":["asp.net-mvc-3","linq","mvc","razor","linq-to-entities"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12324771,"title":"LINQ To Entities cannot generate string MVC Razor","body":"<p>When Using LINQ to get information I use the following method</p>\n\n<pre><code>var salt_water_disposals = _SaltWaterDisposals.SaltWaterDisposals.Select(sw =&gt; new SaltWaterModel\n            {\n\n                saltwater_ID = sw.SaltWaterDisposalID,\n                lease = sw.Lease.LeaseName,\n                field = sw.Lease.Field.Name.ToLower(),\n                permitter_fluid = sw.PermittedFluids.Count == 0 ? \"None\" : sw.PermittedFluids.Aggregate(\"\", (current, c) =&gt; current+c.Fluid.Name),\n                max_gas_pressure = sw.MaxGasInjectionPressure,\n\n            });\n</code></pre>\n\n<p>However when I run the code I get the following error because of the PermittedFluids:</p>\n\n<blockquote>\n  <p>LINQ to Entities does not recognize the method 'System.String\n  Aggregate[PermittedFluid,String](System.Collections.Generic.IEnumerable<code>1[FieldPro.Domain.Entities.PermittedFluid],\n  System.String,\n  System.Func</code>3[System.String,FieldPro.Domain.Entities.PermittedFluid,System.String])'\n  method, and this method cannot be translated into a store expression.</p>\n</blockquote>\n\n<p>I have tried using it also as a ToString() but I get the same error.</p>\n\n<p>Any Ideas?</p>\n\n<p>Any Help would be appreciated.</p>\n"},{"tags":["c#","linq","asp.net-mvc-3","mvc","entity-framework"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2209,"score":4,"question_id":8496429,"title":"LINQ to Entities only supports casting Entity Data Model primitive types?","body":"<p>I'm trying to populate a dropdown in my view. Any help is greatly appreciated. Thanks.</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Unable to cast the type 'System.Int32' to type 'System.Object'.</p>\n  \n  <p>LINQ to Entities only supports casting Entity Data Model primitive types.</p>\n</blockquote>\n\n<p>Controller:</p>\n\n<pre><code>ViewBag.category = (from c in new IntraEntities().CategoryItems\n                   select new SelectListItem() {Text=c.Name, Value=\"\"+c.ID }).ToList&lt;SelectListItem&gt;();\n</code></pre>\n\n<p>View:</p>\n\n<pre><code>Category:&lt;br /&gt;@Html.DropDownList(\"category\", (List&lt;SelectListItem&gt;)ViewBag.category)\n</code></pre>\n"},{"tags":["objective-c","mvc","xcode4","uiviewcontroller","delegates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12302508,"title":"Using a protocol and a delegate","body":"<p>I am trying to get some code in a view working. I have declared a delegate and it does not get instantiated, any Idea what I am missing? \nI have tried to summarise how I have done this below. I think that the issue is that somewhere, my dataSource delegate needs to be instantiated.</p>\n\n<p>I have a View called graph view and a delegate that is in the viewcontroller GraphViewController.</p>\n\n<p>I know that the method in GraphView is doing something as it calls the AxisDrawing helper class and draws in Axes.</p>\n\n<p>Here is the relevant code</p>\n\n<p>In GraphView.h I set up the protocol and the dataSourceDelegate</p>\n\n<pre><code>@class GraphView;\n\n@protocol GraphViewDataSourceDelegate\n- (float)functionOfX:(float)xValue inGraphView:(GraphView *)sender;\n@end\n\n@interface GraphView : UIView\n\n@property(nonatomic, weak) IBOutlet id &lt;GraphViewDataSourceDelegate&gt; dataSourceDelegate;\n\n@end\n</code></pre>\n\n<p>Which I synthesize in GraphView.m</p>\n\n<pre><code>#import \"GraphView.h\"\n#import \"AxesDrawer.h\"\n\n@implementation GraphView\n\n@synthesize dataSourceDelegate = _dataSourceDelegate;\n</code></pre>\n\n<p>Also in Graph View I try to use the delegate as follows (pixel is a CGPoint). This routine does run and I can draw to GraphView from here provided I do not try to use my protocol method. i.e. Some of my DrawRect stuff does get drawn which checks out the linking of the UIView to my custom View</p>\n\n<pre><code>pixel.y = [self.dataSourceDelegate functionOfX:pixel.x inGraphView:self];\n</code></pre>\n\n<p>++++Breakpoint put in here+++++</p>\n\n<p>In GraphViewController I state that I implement the protocol and implement it as follows. The compiler warns me and spots when the implementation is done, turning of the warning. (I am only returning 3.0 at the moment as a test).</p>\n\n<pre><code>@interface  \n\nGraphViewController () &lt;GraphViewDataSourceDelegate&gt;\n@property (nonatomic, weak) IBOutlet GraphView *graphView;\n\n@end\n</code></pre>\n\n<p>...</p>\n\n<pre><code>-(float) functionOfX:(float)xValue inGraphView:(GraphView *)sender{\n    NSLog(@\"fofx accessed\");\n    return 3.0;\n}\n</code></pre>\n\n<p>If I look at the GraphView* object just after a breakpoint, it seems to have no instance. What am I missing out.</p>\n\n<p>This is from the trace at the breakpoint</p>\n\n<p>_dataSourceDelegate struct objc_object *    0x0</p>\n\n<p><strong>EDIT:</strong> (In addition to <a href=\"http://stackoverflow.com/a/12302714/465304\">@Clays</a> answer below)</p>\n\n<p>It turned out that my connection to the custom view was broke. This meant that the fault lay with the View not talking to the Custom ViewController. The link is made by ctrl dragging from the View Controller button in the Interface builder to the View within the ViewController.</p>\n\n<p>This caused the ViewController to be instantiated and everything then worked fine.</p>\n\n<p>To put it another way.</p>\n\n<p>The link in question was the Outlet. This has to be declared in the ViewController as a property and then linked in IB using ctrl Drag from the ViewController Name-Bar to the View in the Controller.</p>\n\n<p>Provided that you have added the Outlet property correctly, when you do the ctrl drag, your view will appear an option.</p>\n\n<p>The context button popup information on the ViewController button in IB does give a clue.</p>\n\n<p>If you have neglected to put the outlet property into the view controller, the link does appear in the context button popup but it is greyed out, and when you do the link your View is not named.</p>\n\n<p>Once you put the outlet in, the name appears in the menu but not greyed out.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12320953,"title":"MVC: Editing model, extra-fields","body":"<p>Dont beat me if it's been asked for many times.<br>\nI've seen a lot of nice presentations of how to edit entities using MVC. All they hope my edit form would contain only 3 fields which are of course editable and thus able to rotate data between client and server until user will finally enter correct values. But my app is a bit more complex and i need your advice.<br>\n1) I have an entity Product having fields Name and CreatedBy<br>\n2) The only editable field is Name<br>\n3) In case of incorrect input i need to re-populate non-editable fields with the best way  </p>\n\n<p>In purpose of this i need to retrieve business object from repo and assign missing values to the resulting viewmodel. There can be many values. Should i assign them step-by-step? Should i use (Try)UpdateModel? Should i use something like AutoMapper (never tried) to specify how to update entities by each other? What common ways are used for this? Please any liknks on edit forms that contain more than 3 editable fields... Thanks!</p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc","rendering"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12314788,"title":"How to handle conditional rendering of views depending on a value passed to the related controller action through a parameter?","body":"<p>I am using Ruby on Rails 3.2.2. I would like to render a <code>show</code> view that should / could be displayed in two different ways depending on a value passed to the related controller action through a parameter. That is, if the parameter is not passed then the <code>show</code> view should be normally rendered else if that value is set to something then the <code>show</code> view should be rendered with some changes (for example, some \"embedded\" partial templates should change, some information should not be displayed and some other information should be added).</p>\n\n<p><strong>How handle this situation in an efficient / proper way?</strong> That is, should I state a conditional rendering in the <code>show</code> controller action and in related views? or should I use a separate controller action so to don't use / pass the mentioned parameter? or should I implement a \"separate\" / \"dedicated\" controller in order to handle my \"particular\" case?</p>\n\n<hr>\n\n<p>Note: In my case I would like to display different contents \"in a <em>public</em> or <em>private</em> way\".</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12319493,"title":"Custom Functions in Rails","body":"<p>I'm a rails beginner and I'm trying to get the concept down in my head. Even though we have  functions like \"index, show\" I was wondering the custom functions, like whether we can create them</p>\n\n<p>I'm developing the back end of a mobile application and I have to present the response of the login request. I would like to enable the URL 'http://www.mysite.com/<b>client</b>/login' where <b>client</b> being my model. Would it be possible for me to define a function like <b>login</b> in my <b>client controller.</b> </p>\n"},{"tags":["ruby-on-rails","ruby","security","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12315610,"title":"Rails: optimizing a controller action (security checking)","body":"<p>I have an action in a controller that looks like this:</p>\n\n<pre><code>  def show\n    @project = current_customer.projects.where(id: params[:project_id]).first\n    if @project\n      @feature = @project.features.where(id: params[:feature_id]).first\n      if @feature\n        @conversation = @feature.conversations.where(id: params[:id]).first\n        unless @conversation\n          head 401\n        end\n      else\n        head 401\n      end\n    else\n      head 401\n    end\n  end\n</code></pre>\n\n<p>The problem is the repetition of <code>head 401</code>. Is there a better way to write this action ?</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","generics"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12314219,"title":"Passing generic parameters into MVC Action","body":"<p>I'm building an MVC controller, which will accept a JSON object, but I want to make the type it accepts generic. Can I do this?</p>\n\n<pre><code>public class RecognitionData&lt;T&gt; \n{\n    DateTime StartTime { get; set; }\n    DateTime EndTime { get; set; }\n    T Value { get; set; }\n}\n\npublic class Address\n{\n    string Line1 { get; set; }\n    string Line2 { get; set; }\n    string Locality { get; set; }\n    string Country { get; set; }\n    string Postcode { get; set; }\n}\n\npublic class AddressController : Controller\n{\n    public string Save(RecognitionData&lt;Address&gt; result)\n    {\n        ...\n    }\n}\n</code></pre>\n\n<p>When I try to do post the data as JSON, while I can see the \"result\" field in Request[\"result\"] as a string, the \"result\" parameter is blank.</p>\n\n<p>Any ideas what I'm doing wrong?</p>\n"},{"tags":["javascript","mvc","architecture","frameworks","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12311818,"title":"Should I use different Backbone classes or different instances for each list?","body":"<p>I'm using Backbone.js</p>\n\n<p>I have multiple lists of models on my page. Should I just make one \"class\" with Backbone.Collection.extend and my lists should be instances of this \"class\", or should I make as many classes as I have model lists on my page?</p>\n\n<p>So, should I do this:</p>\n\n<pre><code>var MyCol1 = new Backbone.Collection.extend({})\nvar MyCol2 = new Backbone.Collection.extend({})\n\nvar listView1 = new ItemsView({ collection: new MyCol1 })\nvar listView2 = new ItemsView({ collection: new MyCol2 })\n</code></pre>\n\n<p>or rather this?</p>\n\n<pre><code>var MyCol = Backbone.Collection.extend({})\nvar listView1 = new ItemsView({ collection: new MyCol })\nvar listView2 = new ItemsView({ collection: new MyCol })\n</code></pre>\n\n<p>Behavior of all lists will be pretty much the same at this point but they will have different backend urls they'll be attached to.</p>\n"},{"tags":["c#","asp.net","mvc","reporting"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":2,"view_count":667,"score":3,"question_id":5855742,"title":"Which reporting software should I use?","body":"<p>Im currently working on a project that has a requirement to be able to generate reports.. I first thought of using telerik for this but their control is too limited and I'm now looking for a new report generator capable of delivering high end reports. </p>\n\n<p>I would love some input on upsides and downsides along with your recommendation.</p>\n\n<p>Requirements:</p>\n\n<ul>\n<li>Web component(should be able to render the report onto a asp.net or mvc page). MVC is +++.</li>\n<li>Have report controls capable of rendering html code(not just only text formatting but tables,lists and so on). This is were Telerik failed me.</li>\n<li>Take in parameters.</li>\n<li>Be able to export to atleast PDF or Word.</li>\n<li>A designer that supports grouping.</li>\n</ul>\n\n<p>If you know a software that can deliver on theese points please let me know!</p>\n\n<p>Followup: Would just like to point out I have now finished the development of the reporting component to the page. I used <a href=\"http://devexpress.com/Products/NET/Reporting/\" rel=\"nofollow\">http://devexpress.com/Products/NET/Reporting/</a> to do this. It has met all my requirements and more! It even allowed me to put my Blob data into its Picturebox control (thanks! forgot to add as requirement!:)) </p>\n\n<p>I highly recommend this software to anyone in need and has simular requirements as me (or fewer)</p>\n"},{"tags":["javascript","jquery","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12313101,"title":"Multidatespicker: Disable dates from a list","body":"<p>I would like to use the following method, but use a list instead of a couple of dates.</p>\n\n<pre><code>addDisabledDates: [today.setDate(1), today.setDate(3)]\n</code></pre>\n\n<p>This is the code for my calender:</p>\n\n<blockquote>\n  <p>$(\"#ExceptionDates\").multiDatesPicker({</p>\n\n<pre><code>    defaultDate: \"+1w\",\n    firstDay: 1,\n    dateFormat: \"dd.mm.yy\",\n    numberOfMonths: 1,\n    **addDisabledDates: ['06/19/2012','06/20/2012'],** (NOT working)\n    onSelect: function ()\n    {\n        var dates = $(\"#ExceptionDates\").multiDatesPicker('getDates');\n        var html = '';\n        $.each(dates, function (i, val)\n        {\n            html += '&lt;input type=\"text\" name=\"Dates\" value=\"' + val + '\"&gt;';\n        });\n\n        $(\"#SelectedDates\").html(html);\n    }\n});\n</code></pre>\n</blockquote>\n\n<p>This is the method to get the dates:</p>\n\n<pre><code>var getSelectedExceptionDates = function(callback)\n{\n    $.ajax({\n        type: \"POST\",\n        url: \"/Route/GetSelectedExceptionDates/\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function (response)\n        {\n            callback(response);\n        },\n        error: function (err)\n        {\n            console.log(err);\n        }\n    });\n\n};\n\nvar callback = function (dates)\n{\n    $.each(dates, function (i, date)\n    {\n        var splitDate = date.split('.');\n\n    var day = splitDate[0];\n    var month = splitDate[1];\n    var year = splitDate[2];\n\n    console.log(splitDate);\n    console.log(new Date(year, (parseInt(month)-1).toString(), day));\n});\n\n};\n\ngetSelectedExceptionDates(callback);\n</code></pre>\n\n<p>And this is what i get out by inspecting the site now:</p>\n\n<p>[\"12\", \"11\", \"2009\"] General.js:101\nThu Nov 12 2009 00:00:00 GMT+0100 (W. Europe Standard Time)</p>\n\n<p>Theres two different types cause im logging both atm.</p>\n\n<p>Any ideas how i can insert my list of dates into the addDisabledDates method?</p>\n\n<p><strong>EDIT: I got it working!</strong></p>\n\n<pre><code>var callback = function (dates)\n    {\n        var date_ary = new Array();\n        $.each(dates, function (i, date)\n        {\n            var splitDate = date.split('.');\n\n            var day = splitDate[0];\n            var month = splitDate[1];\n            var year = splitDate[2];\n            date_ary.push(new Date(month + \"/\" + day + \"/\" + year));\n        });\n\n        console.log(date_ary);\n\n        $(\"#ExceptionDates\").multiDatesPicker({\n            minDate: 0,\n            defaultDate: \"+1w\",\n            firstDay: 1,\n            dateFormat: \"dd.mm.yy\",\n            addDisabledDates: date_ary,\n            numberOfMonths: 1,\n            onSelect: function ()\n            {\n                var dates = $(\"#ExceptionDates\").multiDatesPicker('getDates');\n                var html = '';\n                $.each(dates, function (i, val)\n                {\n                    html += '&lt;input type=\"text\" name=\"Dates\" value=\"' + val + '\"&gt;';\n                });\n\n                $(\"#SelectedDates\").html(html);\n            }\n        });\n    };\n    getSelectedExceptionDates(callback);\n\nvar getSelectedExceptionDates = function (callback)\n{\n    $.ajax({\n        type: \"POST\",\n        url: \"/Route/GetSelectedExceptionDates/\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function (response)\n        {\n            callback(response);\n        },\n        error: function (err)\n        {\n            console.log(err);\n        }\n    });\n};\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12312650,"title":"When is it appropriate to create HTML code in the controller (or back end)","body":"<p>I am doing some complex logic involving loads of recursion to create a (complex) piece of HTML.</p>\n\n<p>I started off doing this in the View using functions in Razor because I felt as HTML it belonged there.</p>\n\n<p>But as it started getting more complex I thought I would rather do it in back-end code. Which it currently is.</p>\n\n<p>It still feels a bit smellish though, and I am wondering if I should move it to the View again (which obviously clutters the view)</p>\n\n<p>Which technically is more correct? When is it appropriate to use back-end code to generate HTML?</p>\n\n<p>Thanks for your input.</p>\n"},{"tags":["mvc","helper","html-encode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":450,"score":0,"question_id":4044212,"title":"HTML encoding custom HTML helper","body":"<p>I wish to encode my HTML sent to the browser.  In my .ASPX pages I can use the &lt;%: %> syntax.  In a HTML helper of mine I try...</p>\n\n<pre><code>    public static string Image(this HtmlHelper helper, string imageName, string altText)\n    {\n        return helper.Encode(String.Format(\"&lt;image src='/images/{0}' alt='{1}' /&gt;\", imageName, altText));\n    }\n</code></pre>\n\n<p>However, when the HTML reaches the browser the HTML just displays as text and no image is shown.  How does one encode their HTML from a helper method?</p>\n"},{"tags":["mvc","view","xcode4","viewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12308217,"title":"My CustomViewController is not being called","body":"<p>This is related to <a href=\"http://stackoverflow.com/questions/12302508/using-a-protocol-and-a-delegate\">Using a protocol and a delegate</a> and I have narrowed down the issue a bit</p>\n\n<p>I have a NavigationController with two views that display correctly.</p>\n\n<p>\"GraphView\" is a view in a ViewController called GraphViewController. In the object inspector\n\"GraphViewController\" and \"GraphView\" each appear correctly in the Custom Class box for the ViewController and the View respectively.</p>\n\n<p>However in GraphViewController I have put this code (below) in a setGraphView method and it is is never called. It is as if GraphViewController is not being set as GraphView's GraphViewController. </p>\n\n<p>The code I used is (I @synthesize GraphView further up)</p>\n\n<pre><code>- (void) setGraphView:(GraphView *)graphView {\n    _graphView = graphView;\n    self.graphView.dataSourceDelegate = self;\n    [self.graphView setNeedsDisplay];\n    NSLog(@\"just set Graph View\");\n    }\n</code></pre>\n\n<p>I never get the NSLog message, which I do in a similar (but working) application.</p>\n"},{"tags":["python","mvc","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12308829,"title":"GAE Python - separating 'textual content' from controller and view?","body":"<p>Right now I have a loop in the view that displays a brief description of topics:</p>\n\n<p>example code:</p>\n\n<pre><code>        &lt;div id=\"menu\"&gt;\n            &lt;ul&gt;\n                {% for item in topics %}\n                &lt;li&gt;\n                    &lt;img src=\"img/{{item.name}}_ico.png\" alt=\"{{item.name}}\" /&gt;\n                    &lt;h2&gt;{{item.heading}}&lt;/h2&gt;\n                    &lt;p&gt;{{ item.detail|safe }}&lt;/p&gt;\n                &lt;/li&gt;\n                {% endfor %}\n            &lt;/ul&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>The above code displays an icon - a heading and some text for several items.</p>\n\n<p>Since these topics never change and are only updated by the devs, I created a dictionary in the controller that contains all this content..</p>\n\n<pre><code>   topics= [\n                    {'name': 'alert',\n                     'heading': \"Maintain attention\",\n                     'detail': 'Keep your students involved, alert and attentive during class with closed questions about the current subject.'},\n                    {'name': 'time',\n                     'heading': 'Instant feedback',\n                     'detail': 'Save precious time and avoid checking quizzes!&lt;br /&gt;studyWise&amp;copy; check them instantly, providing you with results.'},\n                    {'name': 'reward',\n                     'heading': \"Reward students\",\n                     'detail': 'Motivate students to participate and learn by rewarding good work with positive feedback.'},\n                    {'name': 'money',\n                     'heading': 'Save on expenses!',\n                     'detail': 'Why spend money buying similar gadgets or subscriptions?&lt;br /&gt;Use studyWise&amp;copy; free of charge now.'},\n                    {'name': 'cell',\n                     'heading': 'Accessible',\n                     'detail': 'Works with any smartphone, laptop or tablet.&lt;br /&gt;No installation required.'},\n                    {'name': 'share',\n                     'heading': 'Share with colleagues',\n                     'detail': 'Share topics, quizes or course statistics with colleagues.&lt;br /&gt;See how your assistants are doing.'},\n                    {'name': 'statistics',\n                     'heading': 'Statistics',\n                     'detail': 'Get helpful info about your students understanding of the learning material today.'}\n                ]\n</code></pre>\n\n<p>What I am wanting to do is adhere to MVC principles and keep the code clean.\nShould I move this dictionary to a 'model' file?\nWill that affect performance?</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc-3","mvc","html-encode"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":893,"score":4,"question_id":8402230,"title":"MVC3 TextBoxFor with encoded text","body":"<p>Is there a way to use TextBoxFor helper with encoded text?</p>\n\n<p>for example:\nWhen using the following helper of MVC3 With Razor view engine :</p>\n\n<pre><code>@Html.TextBoxFor(model =&gt; model.Description)\n</code></pre>\n\n<p>and the value of model.Description is encoded, for example:</p>\n\n<pre><code> &amp;lt;script&amp;gt;alert();&amp;#39;&amp;lt;/script&amp;gt;\n</code></pre>\n\n<p>the result is text box with the the encoded string, \nwhen the wanted result is text box with the decoded string:</p>\n\n<pre><code> &lt;script&gt;alert();'&lt;/script&gt;\n</code></pre>\n\n<p>Is there a way to use the MVC TextBoxFor with encoded string instead of using</p>\n\n<pre><code>@Html.TextBox(\"Description\", Server.HtmlDecode(Model.Description))\n</code></pre>\n\n<p>?</p>\n"},{"tags":["html","css","mvc","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":11958434,"title":"Html.CheckBox Specify Class","body":"<p>How do we specify the class of Html.CheckBox ?</p>\n\n<p>I am trying something like this, but this doesn't work.</p>\n\n<pre><code>   @Html.CheckBox(\"chk_\", abc.IsChecked, new { @class=\"checkbox\" })\n</code></pre>\n\n<p>THanks !!</p>\n"},{"tags":["c#",".net","database","mvc","ef-code-first"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12300429,"title":"History tables in .NET MVC code first approach?","body":"<p>I need to track a change history of some database objects in a MVC .NET application using the code first approach.</p>\n\n<p>Here is what is meant by history table:\n<a href=\"http://database-programmer.blogspot.de/2008/07/history-tables.html\" rel=\"nofollow\">http://database-programmer.blogspot.de/2008/07/history-tables.html</a></p>\n\n<p>I would use a history table for it, if I would write the SQL queries myself. But in the code first approach the SQL is generated... and I would like to stick to this paradigm.</p>\n\n<p>The goal is a structure that holds all \"old\" revisions of changed/deleted entries together with some additional information (e.g. timestamp, user who changed it, ...)</p>\n\n<p>Any ideas?</p>\n\n<p>Regards,\nStefan</p>\n\n<p>To be more specific - here is some code example:</p>\n\n<pre><code>public class Node {\n public int NodeID { get; set; }\n\n public string? data { get; set; }  // sample data\n}\n\n\npublic class NodeHistory {\n  public int NodeID { get; set; }\n  public string? data { get; set; }\n\n  public int UserID { get; set; }\n  public DataTime timestamp { get; set; }\n}\n</code></pre>\n\n<p>What I need is some \"framework\" assistance to be able to add an entry to NodeHistory whenever a change is -persisted- to table the Node structure.</p>\n\n<p>That means: Just overriding the set-method isn't a solution, as it would also create an entry, if the change to a \"Node\" is not persisted at the end (e.g. roleback).</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12306460,"title":"Using View in MVC","body":"<p>(Using PHP style code)</p>\n\n<p>Lest imagine we have Controller within which we have array of string data:</p>\n\n<pre><code>class Controller {\n    private $data = array('a', 'b', 'c', 'd', 'e');\n}\n</code></pre>\n\n<p>Now Controller have to pass that data to View to produce lets say such HTML:</p>\n\n<pre><code>&lt;p&gt;a&lt;/p&gt;\n&lt;p&gt;b&lt;/p&gt;\n&lt;p&gt;c&lt;/p&gt;\n&lt;p&gt;d&lt;/p&gt;\n&lt;p&gt;e&lt;/p&gt;\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<p>Should we pass all the array to View for it to process array data within itself like:</p>\n\n<pre><code>class Controller {\n  private $data = array('a', 'b', 'c', 'd', 'e');\n  function __construct($data) { // Assigns data array to view\n    $view = new View;\n    $view-&gt;produceHTML($data)\n  }\n}\n\nclass View {\n  public function produceHTML($data) {\n    foreach($data as $value) {\n      echo \"&lt;p&gt;$value&lt;/p&gt;\" . PHP_EOL; // PHP_EOL - PHP Predifined constant (End Of Line)\n    }\n  }\n}\n</code></pre>\n\n<p>Or we should define different Views for every element like:</p>\n\n<pre><code>class Controller {\n  private $data = array('a', 'b', 'c', 'd', 'e');\n  function __construct($data) { // Assigns data array to view\n    $view = new View;\n    $view-&gt;produceHTML($data)\n  }\n}\n\nclass View {\n  public function produceHTML($data) {\n    foreach($data as $value) {\n      $this-&gt;produceP($value);\n    }\n  }\n\n  private function produceP($value) {\n    echo \"&lt;p&gt;$value&lt;/p&gt;\" . PHP_EOL;\n  }\n}\n</code></pre>\n\n<p>Using short data values is just for the example. In most cases I've encountered much more complex Views which produce big <code>div</code>s with lots of nested elements.</p>\n\n<p>But what is the best practice to send collection of elements to View?</p>\n"},{"tags":["mvc","redirecttoaction"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":282,"score":0,"question_id":8390781,"title":"How can I pass a parameter or value from one view to another through a redirect to action?","body":"<p>I have a 'login' view and a 'reset password' view in my MVC project.</p>\n\n<p>After a successful reset password action, I redirect back to the 'login' view.</p>\n\n<p>I'd like the 'login' view to have a means of checking whether a successful password reset has just happened so it can display a confirmation/success message to the user. What's the best mechanism for this?</p>\n\n<p>I tried adding to the view bag and the view data from the reset view and have the login view see if there's a value related to resetting in the bag or data, but the bag is reset after the redirect.</p>\n"},{"tags":["css","mvc","jqgrid","jqgrid-asp.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":44,"score":-1,"question_id":12290144,"title":"Set Row Names in JQGrid","body":"<p>Currently working in MVC 3 in Visual Studio 2012, and looking to dynamically fill a jqGrid with data from a Database.</p>\n\n<p>Hypothetically speaking, I would like to dynamically name the \"row headers\" on the far left where they are ordered numerically (ie- 1, 2, 3,..., 10). Ordering shouldn't matter in regards to the rows, while the column headers would be some fixed \"mm-yyyy\" format.</p>\n\n<p>I'm not sure if this is entirely possible, but if anyone could give me some pointers I'd much appreciate it.</p>\n\n<p><a href=\"http://i.stack.imgur.com/PBX2A.png\" rel=\"nofollow\">Hypothetical Image</a></p>\n"},{"tags":["mvc","razor","model","controller","tempdata"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12303888,"title":"MVC Razor multiple page wizard with","body":"<p>I am trying to build a three page wizard where I have one Model class, one Controller and three views.  Each page is gathering data for the model, however I do not have enough data to create a database record until the final page.  I have put together a dirty example of the problem.</p>\n\n<p>Model Class:</p>\n\n<pre><code>public class Member\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string Email { get; set; }\n    public DateTime DateOfBirth { get; set; }\n    public int DaysMemberFor { get; set; }\n\n    public int CurrentStep { get; set; }\n\n    public Member() { }\n}\n</code></pre>\n\n<p>Controller Class:</p>\n\n<pre><code>public class MemberController : Controller\n{\n    public ActionResult Index()\n    {\n        return PartialView(\"WP1\");\n    }\n\n    [HttpPost]\n    public ActionResult Index(Wizard.Models.Member m)\n    {\n        var x = this.TempData[\"Model\"];\n        // x will contain the data from the previous page\n        // m contains posted page         \n\n        return PartialView(\"WP\" + (m.CurrentStep + 1), this.TempData[\"Model\"]);\n    }\n}\n</code></pre>\n\n<p>In my views the first page collects FirstName and LastName.  Second page collects Email and DateOfBirth.  Final page asks for NumberofDaysMemberFor.</p>\n\n<p>In this code I am receiving back the current page data m and can retrieve the previous pages data from the TempData.  </p>\n\n<p>On running this code, the first page works correctly however when I post back the second page I only have the email and DOB in m.  Ideally I would like to use the same model object between each request so that I can build it up from each post. </p>\n\n<p>Instead of having to write some copy type methods to keep the object fully populated I would ideally like to bind the model across the page requests so all of the elements are added to as the user works through the wizard.</p>\n\n<p>Is this possible?</p>\n\n<p>Thanks</p>\n\n<p>Mark</p>\n"},{"tags":["c#","mvc","events","asp.net-webforms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":91,"score":-1,"question_id":12302074,"title":"asp.net mvc and webforms use two button","body":"<p>My problem is I'm trying do something to on mvc webforms </p>\n\n<pre><code>page name = addition.aspx \nevent = button1_click\nint numberOne = convert.toint32(textbox1.text);\nint numberTwo = convert.toint32(textbox2.text);\nint myResult = numberOne + numberTwo;\nlabel1.text = myResult.Tostring();\n</code></pre>\n\n<p>.</p>\n\n<pre><code>page name = addition.aspx (same page) \nevent = button2_click\nint numberthree = convert.toint32(textbox3.text);\nint numberfour = convert.toint32(textbox4.text);\nint myResult2 = numberOne + numberTwo;\nlabel2.text = myResult2.Tostring();\n</code></pre>\n\n<p>my question is I want to do sameting  for MVC ( where is event ... i guess i have to conversion on the page post and page get ... am i wrong) </p>\n"},{"tags":["jquery","mvc","partial-views"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12302212,"title":"Losing functionality of some Jquery methods after using $(selector).load(\"myMethod\")","body":"<p>Here is my scenario...</p>\n\n<p>i'm using partial views to load a page. To load to partial view on the page I use the JQuery method </p>\n\n<pre><code>$(\"#elementA\").load(\"myMethod\")\n</code></pre>\n\n<p>myMethod does an ajax call which returns my partial view with a list of objects. All this works fine. The problem is that inside one of my partial views i have a click event that should fire </p>\n\n<pre><code>$(\"#elementB\").modal() \n</code></pre>\n\n<p>After i call </p>\n\n<pre><code>$(\"#elementA\").load(\"myMethod\")\n</code></pre>\n\n<p>the </p>\n\n<pre><code>$(\"#elementB\").modal() \n</code></pre>\n\n<p>method does not respond... </p>\n\n<p>The same </p>\n\n<pre><code>$(\"#elementB\").modal() \n</code></pre>\n\n<p>works if i don't use the load() function but then i dont know how to refresh the list after a new element is added to my database without using the <code>$(\"#elementA\").load(\"myMethod\")</code>....</p>\n\n<p>I would apreciate any help with this. Thank you.  </p>\n"},{"tags":["php","mvc","front-controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12302023,"title":"Nesting controllers with the Front Controller Pattern and MVC","body":"<p>I'm developing a web application in PHP using an MVC-approach (not using any framework, pure PHP). As is often the case with MVC, every request arrives at a front controller which routes it to the corresponding controller, and executes the requested action. The URL structure looks like this:</p>\n\n<pre><code>www.site.com/controller/action\n</code></pre>\n\n<p>Let's say I'm building an e-commerce site which has products in different categories. Possible URLs could be:</p>\n\n<pre><code>www.site.com/sofas/overview\nwww.site.com/video-games/overview\n</code></pre>\n\n<p>For the first URL, the \"sofas\" controller is loaded, and the overview() method of it is executed. This all works well until we have to nest these products within parent catagories. I'll take the two previous URLs to demonstrate what I mean:</p>\n\n<pre><code>www.site.com/furniture/sofas/overview\nwww.site.com/electronics/video-games/overview\n</code></pre>\n\n<p>Now, the \"video-games\" controller is nested within the \"electronics\" controller. However, with the current 'load controller -> execute action' structure this won't work. </p>\n\n<p>A possible solution would be to create a method within the parent controller (\"electronics\") which gets executed in case an unexisting action is requested (\"video-games\"). This method checks whether the requested action exists as a controller. If so, the controller gets loaded and the action (\"overview\") of it gets executed.</p>\n\n<p>I fruitlessly searched for solutions to this limitation of the standard front controller pattern, including <a href=\"http://stackoverflow.com/questions/11962437/multi-level-controllers-for-mvc-architecture\">here</a> on SO. I think my implementation of MVC is now correct, but the front controller still brings limitations.</p>\n"},{"tags":["c#","linq","mvc","razor"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12301046,"title":"MVC Razor brackets inside code block","body":"<p>I'm having issues do linq queries inside of a code block.</p>\n\n<pre><code>@{\n  var foo = @Model.Things.Select((value, index) =&gt; new { value, index });\n}\n</code></pre>\n\n<p>The problem is the new{}, it sees the second bracket as closing the entire code block. Any way to escape it?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","methods","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12296325,"title":"Ruby on Rails Controller methods separately?","body":"<p>Just to be educated I wanted to know if it is a good practice to have one controller method for both GET and POST actions, e.g <code>def signup ... end</code>, which would display a form and if <code>request.post?</code> is true - then perform all the business-logic and so on. Is it any good approach, or should I have these methods being separated from each other ?</p>\n\n<p>Thanks in advice!  </p>\n"},{"tags":["javascript","mvc","backbone.js","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12295309,"title":"Return to index in backbone.js router","body":"<p>Just wanted to know, what is the proper way of returning to the index in backbone.js? So this is an outline of my code. I have a router, where it creates an instance of a view and passes the current instance of the router.</p>\n\n<pre><code>var AppRouter = Backbone.Router.extend({\n    callMasterViefw: function(){\n        MasterView.initialize(this);\n    },\n})\n</code></pre>\n\n<p>Inside the <code>MasterView</code>, I create an instance of the <code>MasterView</code> and assign the router to it as well. I have a function, called <code>reRouteToIndex</code>, where basically i want to reroute to the index page.</p>\n\n<pre><code>MasterView= Backbone.View.extend({\n    render: function(){},\n    reRouteToIndex(){\n        this.router.navigate(\"\", {trigger: true,replace: true});\n    },\n});\n</code></pre>\n\n<p>All this works, but the problem is when I redirect to the index I return to something like <code>www.test.com/index.html/#</code>. Where it is important to note the # at the end. I was wondering if there was a way to route to the original path without the <code>#</code> like this <code>www.test.com/index.html</code>?</p>\n"},{"tags":["php","forms","mvc","validation","codeigniter"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":661,"score":0,"question_id":7229878,"title":"CodeIgniter: Form Validation Problem","body":"<p>I am using CodeIgniter to validate the form. Once the form is submitted and there's some validation error, I want to form to remember the input fields values. At the moment, I validate all fields at once and it works fine (ie. I can get the input fields values in the form if the validation fails.</p>\n\n<p><strong>The following code works fine:</strong></p>\n\n<p><strong>View:</strong></p>\n\n<pre><code>&lt;?php if ( form_error('name') ) { ?&gt;\n    &lt;input type=\"text\" class=\"error\" name=\"name\" value=\"&lt;?php echo set_value('name'); ?&gt;\"/&gt;\n    &lt;?php echo form_error('name', '&lt;p class=\"error\"&gt;', '&lt;/p&gt;'); \n} else { ?&gt;\n    &lt;input type=\"text\" name=\"name\" value=\"&lt;?php echo set_value('name'); ?&gt;\"/&gt;\n&lt;?php } ?&gt;\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>function validate_form{\n\n    $this -&gt; form_validation -&gt; set_rules( 'name', 'name', 'trim|required|' );\n    $this -&gt; form_validation -&gt; set_rules( 'email', 'Email', 'trim|required|callback_email_available' );\n    $this -&gt; form_validation -&gt; set_rules( 'captcha', 'captcha', 'callback_check_captcha' );\n\n    if ( $this -&gt; form_validation -&gt; run() === FALSE ) \n    {\n        $this -&gt; load -&gt; view( 'signup_view' );\n    }\n    else\n    {\n        //process form and insert to db.\n    }   \n}\n</code></pre>\n\n<p><strong>My Problem:</strong></p>\n\n<p>Now, Instead of above approach (to validate all fields at once), I want to validate only one field 'captcha' at first. So If the captcha field is validated, then i want to valiate the other fields. Otherwise i want to return to form and display the captcha error, but I want to keep the other fields values the input fields, so that the user don't have to type again.</p>\n\n<p>I am trying following code, but it does not work fine. For example, when I submit the form, the fields dont seem to remember the values.\nThe view code is same as above.</p>\n\n<p><strong>Code which I am trying and is not working:</strong></p>\n\n<pre><code>$this -&gt; form_validation -&gt; set_rules( 'captcha', 'captcha', 'callback_check_captcha' );\n\nif ( $this -&gt; form_validation -&gt; run() === FALSE ) \n    {\n        $this -&gt; load -&gt; view( 'signup_view' );\n    }   \nelse\n    {\n    $this -&gt; form_validation -&gt; set_rules( 'name', 'Name', 'trim|required|' );\n    $this -&gt; form_validation -&gt; set_rules( 'email', 'Email', 'trim|required|callback_email_available' );\n\n        if ( $this -&gt; form_validation -&gt; run() === FALSE ) \n            {\n                $this -&gt; load -&gt; view( 'signup_view' );\n            }\n        else\n            {\n            //process form and insert to db.\n        }\n\n    }\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12293473,"title":"How could I manage to display content from table inside a view that belongs to a seperate controller/model","body":"<p>Basically, if I have a table in controller A which I wanted to display in a view belonging to controller B how would I go about it. </p>\n"},{"tags":["java","oracle","mvc","jsp","tomcat"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":206,"score":0,"question_id":12291866,"title":"Display data from database in jsp - MVC","body":"<p>I am trying to come up with a code that complies with the mvc architecture and display the content of a database in the jsp page.. The connection and processing of data to be in java files and only the display of the data will be included in the jsp page.<br>\nI am using tomcat server. I have ojdbc6.jar and jstl-1.2.jar on my WEB-INF/lib folder.</p>\n\n<p>(Update) After changing my web.xml to point to index I got java.lang.StackOverflowError error.</p>\n\n<p>Is there something missing/wrong with the code? Also if I am not complying with the MVC design, let me know.\nAny idea would be appreciated. \nThank you.</p>\n\n<p>Here is the code I am trying to run.</p>\n\n<p><strong>DBConn.java</strong></p>\n\n<pre><code>    public class DBConn extends HttpServlet{\n      @Override\n      public void doGet(HttpServletRequest request, \n                        HttpServletResponse response) \n                           throws IOException, ServletException {\n        Connection connection = null;\n        Statement stmt=null;\n        ResultSet rs=null;\n        List&lt;Employee&gt; dataList = new ArrayList&lt;Employee&gt;();\n        try {\n            // Load the JDBC driver\n            String driverName = \"oracle.jdbc.driver.OracleDriver\";\n            Class.forName(driverName);\n\n            // Create a connection to the database\n            String serverName = \"localhost\";\n            String portNumber = \"1521\";\n            String sid = \"xe\";\n            String url = \"jdbc:oracle:thin:@\" + serverName + \":\" + portNumber + \":\" + sid;\n            String username = \"hr\";\n            String password = \"hr\";\n            connection = DriverManager.getConnection(url, username, password);\n\n            stmt = connection.createStatement();\n            rs = stmt.executeQuery(\"select employee_id, first_name from employees\");\n            while (rs.next()) {\n                dataList.add(new Employee(rs.getInt(\"employee_id\"),\n                                          rs.getString(\"first_name\")));\n            }\n        } catch (ClassNotFoundException e) {\n            // Could not find the database driver\n            e.printStackTrace();\n        } catch (SQLException e) {\n            // Could not connect to the database\n            e.printStackTrace();\n        } finally{\n            if(rs!=null){\n                try{ \n                  rs.close();\n                }catch(Exception ex) { /* */ ex.printStackTrace();}\n            }\n            if(stmt!=null){\n                try{ \n                  stmt.close();\n                }catch(Exception ex) { /* */ ex.printStackTrace();}\n            }\n            if(connection !=null){\n                try{ \n                  connection.close();\n                }catch(Exception ex) { /* */ ex.printStackTrace();}\n            }\n         }\n\n         request.setAttribute(\"data\", dataList);\n         String strViewPage = \"index.jsp\";\n         RequestDispatcher dispatcher = request.getRequestDispatcher(strViewPage);\n          if (dispatcher != null) {\n             dispatcher.forward(request, response);\n          }\n       }\n    }\n</code></pre>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>public class Employee {\n\n    private Integer id;\n    private String name;\n    //public constructors and\n    //setter/getter\n\n    public Employee(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p><strong>index.jsp</strong></p>\n\n<pre><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n        &lt;table border=\"1\" width=\"303\"&gt;\n            &lt;tr&gt;\n                &lt;td width=\"119\"&gt;&lt;b&gt;Emp ID&lt;/b&gt;&lt;/td&gt;\n                &lt;td width=\"168\"&gt;&lt;b&gt;First Name&lt;/b&gt;&lt;/td&gt;\n            &lt;tr\n        &lt;form action=\"post\"&gt;\n            &lt;c:forEach var=\"employee\" items=\"${data}\"&gt;\n                &lt;br/&gt; ${employee.id}  ${employee.name}\n            &lt;/c:forEach&gt;\n        &lt;/form&gt;\n        &lt;/tr&gt;    \n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;DBConn&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;DB.DBConn&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;DBConn&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/index&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>    09 6, 12 10:09:00 AM org.apache.catalina.core.ApplicationDispatcher invoke\n    SEVERE: Servlet.service() for servlet DBConn threw exception\n    java.lang.StackOverflowError\n        at java.util.HashMap$KeySet.&lt;init&gt;(HashMap.java:872)\n        at java.util.HashMap$KeySet.&lt;init&gt;(HashMap.java:872)\n        at java.util.HashMap.keySet(HashMap.java:869)\n        at java.util.HashSet.iterator(HashSet.java:153)\n        at java.util.Collections$1.&lt;init&gt;(Collections.java:3382)\n        at java.util.Collections.enumeration(Collections.java:3381)\n        at org.apache.catalina.connector.Request.getAttributeNames(Request.java:1027)\n        at org.apache.catalina.connector.RequestFacade.getAttributeNames(RequestFacade.java:300)\n        at org.apache.catalina.core.ApplicationHttpRequest$AttributeNamesEnumerator.&lt;init&gt;(ApplicationHttpRequest.java:927)\n        at org.apache.catalina.core.ApplicationHttpRequest.getAttributeNames(ApplicationHttpRequest.java:243)\n        at org.apache.catalina.core.ApplicationHttpRequest$AttributeNamesEnumerator.&lt;init&gt;(ApplicationHttpRequest.java:927)\n        at org.apache.catalina.core.ApplicationHttpRequest.getAttributeNames(ApplicationHttpRequest.java:243)\n</code></pre>\n"},{"tags":["php","mvc","codeigniter","templates"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12290094,"title":"(Icon) helpers in views/templates (CodeIgniter)","body":"<p>I'm trying to get a grip on CodeIgniter. In my view I use the template parser, like this:</p>\n\n<pre><code>{blog_entries}\n&lt;h5&gt;{title}&lt;/h5&gt;\n&lt;p&gt;{body}&lt;/p&gt;\n{/blog_entries}\n</code></pre>\n\n<p>Now I want to use an icon font to display icons within a blog entry. This icon font may change in the future so I want to create an icon font helper (and I think I know how do that). Writing for example <code>edit_icon('span')</code> would produce the HTML <code>&lt;span class=\"icon\"&gt;*&lt;/span&gt;</code> where <code>*</code> is whatever character that gives me an edit icon.</p>\n\n<p>My question is: should this helper be used in the view or in the controller? This <code>&lt;span&gt;</code> would obviously need a link around it. So should I go about it like this:</p>\n\n<pre><code>{blog_entries}\n&lt;h5&gt;{title} &lt;a href=\"{edit_link}\"&gt;&lt;?php echo edit_icon('span') ?&gt;&lt;/a&gt;&lt;/h5&gt;\n&lt;p&gt;{body}&lt;/p&gt;\n{/blog_entries}\n</code></pre>\n\n<p>or should the whole <code>&lt;a href=\"{edit_link}\"&gt;&lt;?php echo edit_icon('span') ?&gt;&lt;/a&gt;</code> be saved in the <code>$data</code> variable and passed on to the parser? How would you go about it?</p>\n"},{"tags":["mvc","application","mvvm","frameworks"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":132,"score":2,"question_id":8934377,"title":"Application Framework to integrate ASP.NET MVC and MVVM","body":"<p>We have a WPF application. There are plans to extend this application in the future as well as port some of the functionality to the web.</p>\n\n<p>I know that I should be using the MVVM design pattern for WPF. I would like to use ASP.NET MVC for the web application. My question is, is there an application framework that sort of integrates these 2 and makes it easier to develop WPF and ASP.NET apps side by side. </p>\n\n<p>The goal is minimal code duplication.</p>\n\n<p>I am looking at CSLA.NET right now. It claims support for ASP.NET MVC and MVVM apps. I am not sure how much support there is until I fully evaluate it.</p>\n\n<p>Thanks,</p>\n\n<p>Nachiket</p>\n"},{"tags":["mvc","cakephp","thrift"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12286338,"title":"Any examples of using Apache Thrift with Cakephp?","body":"<p>I'm reading this tutorial <a href=\"http://willwarren.com/2012/01/24/creating-a-public-api-with-apache-thrift/\" rel=\"nofollow\">Creating a public API with Apache Thrift</a> and I see how the \nThrift compiler creates a PHP Object Interface for use on the server. But it's not clear how I can implement that interface from an MVC framework like CakePHP since there is no HTTP request.</p>\n\n<p>Is there an easy way to map thrift inteface methods to the controller actions in CakePHP?</p>\n"},{"tags":["ajax","mvc","spring","login","spring-security"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":190,"score":0,"question_id":7105568,"title":"Considering authentication when using Ajax with Spring MVC","body":"<p>I am trying to use ajax in my spring mvc application. When I try a url (post/get) which is secured and needs authentication, the response is the html of login page as it is redirected behind the scenes.\nWhat is the best approach to overcome this issue?</p>\n"},{"tags":["java","mvc","jsf","ejb"],"answer_count":2,"favorite_count":4,"up_vote_count":2,"down_vote_count":0,"view_count":3677,"score":2,"question_id":2530791,"title":"MVC architecture example using JSF 2.0 and EJB 3?","body":"<p>Somebody knows an example of this? an application made with JSF 2.0 and EJB 3? directory structure, etc, those kind of things, I’m trying to approach the best way to create a Java EE app using those technologies.</p>\n"},{"tags":["java","mvc","java-ee","spring-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":173,"score":1,"question_id":12089799,"title":"How Spring's contextConfigLocation xml and Controller class are connected?","body":"<p>i'm a beginner in Spring MVC.So i didn't understand the flow of control is going from controller class to training-servlet.xml and vice-versa.\ncontextConfigLocation file(training-servlet.xml) is explained as :</p>\n\n<pre><code>&lt;beans:bean id=\"userService\" class=\"com.my.control.UserServiceImpl\" /&gt;\n&lt;beans:bean name=\"/userRegistration.htm\" class=\"com.my.control.HomeController\"&gt;\n    &lt;beans:property name=\"validator\"&gt;\n        &lt;beans:bean class=\"com.my.validations.HomeValidations\" /&gt; \n    &lt;/beans:property&gt;\n    &lt;beans:property name=\"userService\" ref=\"userService\"&gt;&lt;/beans:property&gt;\n    &lt;beans:property name=\"formView\" value=\"userForm\"&gt;&lt;/beans:property&gt;\n    &lt;beans:property name=\"successView\" value=\"userSuccess\"&gt;&lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;beans:property name=\"prefix\" value=\"/WEB-INF/jsp/\" /&gt;\n    &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>My Controller class extends SimpleFormController and is  :</p>\n\n<pre><code>public class HomeController extends SimpleFormController {    \n    private UserService userService;\n    public HomeController() {\n        setCommandClass(User.class);\n        setCommandName(\"user\");\n    }\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n    protected ModelAndView onSubmit(Object command) throws Exception {\n        System.out.println(\"Hai Inside\");\n        User user = (User) command;\n        userService.add(user);\n        return new ModelAndView(\"userSuccess\",\"user\",user);\n    }    \n}\n</code></pre>\n\n<p>Please help me to understand the flow lies between model and controller.</p>\n"},{"tags":["spring","mvc","spring-mvc","dojo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":11935454,"title":"Issue integrating dojo and Spring JS","body":"<p>I am getting JS error and dojo not getting reflected </p>\n\n<p>while developing spring MVC application along with dojo i am getting the mentioned issue. The configuration steps that i followed are below.\nIn web.xml below code is implemented for accessing the JS files/Resources present in springframework.js Jar along with other application configurations</p>\n\n<pre><code>    &lt;servlet&gt;\n       &lt;servlet-name&gt;Resource Servlet&lt;/servlet-name&gt;\n       &lt;servlet-class&gt;org.springframework.js.resource.ResourceServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n       &lt;servlet-name&gt;Resource Servlet&lt;/servlet-name&gt;\n       &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>In JSP the below code snippet is added for importing dojo library and supporting spring JS\nfiles from JAR(springframework.js)</p>\n\n<pre><code>    &lt;style type=\"text/css\"&gt;\n    @import url \n    (\"${pageContext.request.contextPath}/resources/dijit/themes/tundra/tundra.css\");\n    &lt;/style&gt;\n    &lt;script type=\"text/javascript\" src=\"&lt;c:url    \n            value=\"/resources/dojo/dojo.js\" /&gt;\"       \n            djconfig=\"parseOnLoad: true\"&gt; &lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"&lt;c:url    \n             value=\"/resources/spring/Spring.js\" /&gt;\"&gt;      \n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/resources/spring/Spring-  \n                Dojo.js\" /&gt;\"&gt; &lt;/script&gt;\n     &lt;script type=\"text/javascript\"&gt;dojo.require(\"dojo.parser\");&lt;/script&gt; \n</code></pre>\n\n<p>My doubt is like whether the imported JS files in JSP has to be present/explicitly downloaded into and kept in resource directory under webcontent or are those files present in the springframework.js JAR file? and will it be referred by ResourceServlet configured in web.xml dynamically?.</p>\n\n<p>i tried with both options and still i am getting the JS Error as Object Spring is undefined.\ni am using <strong>spring decoration</strong> as below and that is the place(<strong>Spring.addDecoration</strong>) where JS Error occurs(<strong>Spring undefined</strong>).</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        Spring.addDecoration(new Spring.ElementDecoration({\n    elementId: \"userFname\",\n    widgetType: \"dijit.form.ValidationTextBox\"\n    }));\n    &lt;/script&gt;\n</code></pre>\n\n<p>Please help me to sort out this</p>\n"}]}
{"total":14105,"page":11,"pagesize":100,"questions":[{"tags":["asp.net-mvc-3","mvc","asp.net-mvc-4","asp.net-spa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":155,"score":1,"question_id":11006573,"title":"Effects of MVC SPA being removed","body":"<p>I am currently working on a tool and writing it in MVC SPA (single page application) and just now found out it was removed from the final release. What does that means to my project. do i have to stop working and move to MVC Internet application. I have not found much info in <a href=\"http://www.asp.net/single-page-application\" rel=\"nofollow\">http://www.asp.net/single-page-application</a></p>\n\n<p>Please let me know the effects and possible work around on this issue</p>\n\n<p>Thanks</p>\n"},{"tags":["python","mvc","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12270327,"title":"How to connect a signal from the controller in PyQt4? (iOS like MVC structure in PyQt4)","body":"<p>Why doesn't the following example work?</p>\n\n<pre><code>from PyQt4 import QtGui\nimport sys\n\nclass TestView(QtGui.QWidget):\n\n    def __init__(self):\n        super(TestView, self).__init__()\n        self.initUI()\n\n    def initUI(self):\n        self.btn = QtGui.QPushButton('Button', self)\n        self.btn.resize(self.btn.sizeHint())\n        self.btn.move(50, 50)\n\nclass TestViewController():\n\n    def __init__(self, view):\n        view.btn.clicked.connect(self.buttonClicked)\n        view.show()\n\n    def buttonClicked(self):\n        print 'clicked'\n\ndef main():\n    app = QtGui.QApplication(sys.argv)\n    view = TestView()\n    TestViewController(view)\n    app.exec_()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>The example is supposed to represent an MVC structure (like the one in <a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html\" rel=\"nofollow\">Figure 4</a> -- without the Model) where the controller (<code>TestViewController</code>) receives a reference to the view (<code>TestView</code>) and connects the clicked signal from the view's button <code>view.btn</code> to its function <code>self.buttonClicked</code>.</p>\n\n<p>I'm sure the line <code>view.btn.clicked.connect(self.buttonClicked)</code> is executed but, apparently, it has no effect. Does anyone knows how to solve that?</p>\n\n<hr>\n\n<p><strong>Update (awful solution):</strong></p>\n\n<p>In the example, if I replace the line</p>\n\n<pre><code>view.btn.clicked.connect(self.buttonClicked)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>view.clicked = self.clicked\nview.btn.clicked.connect(view.clicked)\n</code></pre>\n\n<p>it works. I'm still not happy with that.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","validation"],"answer_count":7,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":6486,"score":6,"question_id":4521254,"title":"asp.net mvc validation must be a number custom error","body":"<p>I am new to asp.net and I have a problem. When the users insert in a editor for a decimal field something other than numbers, they get an error \"Field name\" is not a number. But I don't want them to receive this message I want them to receive another message. I have no problem with this with required and range validators.\nIs there any way for me to do this?</p>\n\n<p>I am not refering necessarily to changing the culture just displaying another message.</p>\n\n<p>Thanks.</p>\n"},{"tags":["mvc","routes","url-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":9819450,"title":"Url Pattern from RouteTable in MVC?","body":"<p>I have my route collection and want to retrieve the url pattern (defined in global.asax) of a given route.</p>\n\n<p>In application:</p>\n\n<pre><code>var route = RouteTable.Routes[\"UserIndex\"];\n</code></pre>\n\n<p>Global.asax:</p>\n\n<pre><code>routes.MapRoute(\nname: \"UserIndex\",\nurl: \"u/{userId}\"\n</code></pre>\n\n<p>In the web application I am not able to access the Url Pattern (in the route object) which were defined in global.asax. Is there another way?</p>\n\n<p>Im asking this because I need to define some route patterns to be used with Knockout.js in template list.</p>\n"},{"tags":["mvc","design-patterns","mvvm","mvp","presentation-model"],"answer_count":6,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1903,"score":4,"question_id":4581000,"title":"What are the differences between MVP, Presentation Model, MVVM and MVC?","body":"<p>I have a pretty good idea how each of these patterns work some of the minor differences between them, but are they really all that different from each other?</p>\n\n<p>It seems to me that the Presenter, Presentation Model, ViewModel and Controller are essentially the same concept.</p>\n\n<p>Why couldn't I classify all of these concepts as controllers? I feel like it might simplify the entire idea a great deal.</p>\n\n<p>Can anyone give a clear description of their differences?</p>\n\n<p>I want to clarify that I do understand how the patterns work, and have implemented most of them in one technology or another. What I am really looking for is someone's experience with one of these patterns, and why they would not consider their ViewModel a controller for instance.</p>\n\n<p>I'll give some reputation points for this, but I'm looking for a really good answer.</p>\n"},{"tags":[".net","mvc","domain-driven-design"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2825,"score":4,"question_id":3731041,"title":"From MVC to MVVC","body":"<p>I don't want to store my domain model classes in the same assembly as my web platform.  The Models folder in the project structure is therefore useless to me.  I've however just finished the Music Store Tutorial and noticed how they create a \"ViewModels\" folder which makes lots of sense to me.</p>\n\n<p>Does it make sense to just treat the Models folder as a ViewModels folder?  Do many people do this?  Is there such a pattern as MVVC?</p>\n"},{"tags":["java","swing","mvc","gui","windowbuilder"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12270186,"title":"Applying MVC with Window Builder...?","body":"<p>I find myself in the sad situation of having to very quickly get used to both Window Builder (from what I can tell the easiest way to develop Swing interfaces in Java) and applying MVC to this.</p>\n\n<p>I've tracked down the following question and answer, here on stackoverflow, but I've still got questions...</p>\n\n<p><a href=\"http://stackoverflow.com/questions/7682165/is-it-possible-to-define-your-own-controller-in-window-builder-for-eclipse\">LINK</a></p>\n\n<p>The code is as follows:</p>\n\n<pre><code> myButton.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            myButtonActionPerformed(evt);\n        }\n    });\n\n    private void myButtonActionPerformed(java.awt.event.ActionEvent evt) {\n   if (myControl != null) {\n      myControl.myButtonAction();\n   }\n}\n</code></pre>\n\n<p>The control class could look something like:</p>\n\n<pre><code>class MyControl {\n\n    void myButtonAction() {\n        //TODO: implement control code\n    }\n\n}\n</code></pre>\n\n<p>For instance, if I want to call upon a View from my controller, a Label (for example) and have it display a message when I press the button...how do I go about manipulating the Label in the myButtonAction() function from the MyControl class?</p>\n\n<p>Or for populating/updating a JList...?</p>\n\n<p>I've found a dozen variants so far and I'd really appreciate it if someone could point me towards a complete Window Builder + MVC example or tutorial or spare a few code fragments in the window below.</p>\n\n<p>Many thanks...</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":7,"up_vote_count":18,"down_vote_count":0,"view_count":4083,"score":18,"question_id":7385629,"title":"Backbone.js: complex views combining multiple models","body":"<p>So far all tests and tutorials i've been trying, to get the structure in my head, show me that a view is bound to 1 model.</p>\n\n<p>lets say i have a small app to store and manage contact details (an address book)\ni have multiple users that can login\nand they each have their own collection of contacts.</p>\n\n<p>the user detail view would be bound to the user model\nsame goes for contacts</p>\n\n<p>but say i would like to show a grid combining those two\nX axis showing all contacts in the app\nY axis showing all users, </p>\n\n<p><strong>how does this work? do i need to create a new model for this, to bind to a new view?</strong></p>\n\n<p>you get the idea, its just a theoretical example i am not building that app but its to get the idea of having a view combining multiple models</p>\n"},{"tags":["mvc","spring","tiles"],"answer_count":4,"favorite_count":22,"up_vote_count":12,"down_vote_count":0,"view_count":19375,"score":12,"question_id":2129876,"title":"Using Spring, mapping to root in web.xml, static resources aren't found","body":"<p>What I'm trying to do is map requests to the servlet root (correct terminology?).  I'm at the point where URLs are mapped to correct view but all the static content - css, javascript, images - that is part of the page cannot be found.</p>\n\n<p>So in my web.xml my servlet tag looks like this</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>My controller looks something like this:</p>\n\n<pre><code>@RequestMapping(\"/shop\")\npublic class TheShopController extends MyBaseController {\n\n    public static String VIEW = \"Tile.Shop\";\n\n    @Override\n    @RequestMapping(method = RequestMethod.GET)\n    protected ModelAndView processRequest(HttpServletRequest req, HttpServletResponse resp) {\n        ModelAndView mav = new ModelAndView(VIEW);\n        return mav;\n    }\n\n}\n</code></pre>\n\n<p>MyBaseController is very simple.  It looks like this:</p>\n\n<pre><code>public abstract class MyBaseController extends AbstractController {\n\n    protected Logger log = Logger.getLogger(getClass());\n\n    @Override\n    protected ModelAndView handleRequestInternal(HttpServletRequest req, HttpServletResponse resp) \n        throws Exception {\n\n        ModelAndView mav = processRequest(req, resp);\n        return mav;\n    }\n\n    protected abstract ModelAndView processRequest(HttpServletRequest req, HttpServletResponse resp);\n}\n</code></pre>\n\n<p>I'm using Tiles in my view layer. My configuration is as follows:</p>\n\n<p>\n  \n </p>\n\n<p>\n  \n   \n    /WEB-INF/tiles-defs.xml\n   \n  \n </p>\n\n<p>As I mentioned, the views are found but the static resources that are a port of the page can't be found.  Here is some typical logging out put:</p>\n\n<blockquote>\n  <p>2010-01-24 17:25:01,777 DEBUG [http-8080-7] servlet.DispatcherServlet\n  (DispatcherServlet.java:690) - DispatcherServlet with name 'springapp'\n  processing GET request for [/springapp/static/css/account.css]\n  2010-01-24 17:25:01,778 WARN  [http-8080-4] servlet.DispatcherServlet\n  (DispatcherServlet.java:962) - No mapping found for HTTP request with\n  URI [/springapp/static/css/shop.css] in DispatcherServlet with name\n  'springapp' 2010-01-24 17:25:01,778 DEBUG [http-8080-6]\n  servlet.FrameworkServlet (FrameworkServlet.java:677) - Successfully\n  completed request 2010-01-24 17:25:01,778 WARN  [http-8080-5]\n  servlet.DispatcherServlet (DispatcherServlet.java:962) - No mapping\n  found for HTTP request with URI [/springapp/static/css/offers.css] in\n  DispatcherServlet with name 'springapp' 2010-01-24 17:25:01,778 WARN \n  [http-8080-3] servlet.DispatcherServlet (DispatcherServlet.java:962) -\n  No mapping found for HTTP request with URI\n  [/springapp/static/css/scrollable-buttons.css] in DispatcherServlet\n  with name 'springapp'</p>\n</blockquote>\n\n<p>Going to \n<a href=\"http://localhost:8080/springapp/shop\" rel=\"nofollow\">http://localhost:8080/springapp/shop</a> works fine but the css and images are missing.</p>\n\n<p>I think that using Tiles is somehow complicating things but I\"m reluctant to get rid of it.  I'm wondering if I need to adjust my view resolution configuration needs to be tweeked somehow?  Chaining view resolvers maybe?  I'm just not that experienced in doing that.  </p>\n"},{"tags":["mvc","design","symfony1","symfony-1.4","propel"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":102,"score":4,"question_id":12209702,"title":"Correct MVC design for Symfony/Propel?","body":"<p>If making things work is only requirement, we can put all controlling login and DB handling logic even in the views &amp; it will work. However this is not a right approach for reusable design.</p>\n\n<p>Before I ask my real design question, below is my current understanding about separation of responsibilities in terms of model.</p>\n\n<ul>\n<li>All Database related code, even db related logic, should go in models.</li>\n<li>For a table, say 'my_tab', propel generate 4 classes, out of which only 2 classes 'MyTab.php' and 'MyTabPeer.php' should be edited.</li>\n<li>MyTabPeer.php must only have data fetching.</li>\n<li>Any logic, if required to fetch data, should go in 'MyTab.php'</li>\n</ul>\n\n<p>This is simple and I hope it is correct, if not, please correct me. </p>\n\n<p>Now, I have a special condition. I've 4 tables, say a, b, c, d. For that, propel generated 8 editable classes (excluding base*.php)</p>\n\n<pre><code>A.php    APeer.php    B.php    BPeer.php\nC.php    CPeer.php    D.php    DPeer.php\n</code></pre>\n\n<p>One page of my application, shows Mailbox (say). Mailbox is not a table in database but it gets its data from complex join query between above 4 tables along with lot of calculation/conditions.</p>\n\n<p>I generated that query, fetch data from it and displayed it. Mailbox is running as expected. However I did it in my controller (action class), which I know is not a right place for that.</p>\n\n<p><strong>My question is</strong>, where should I put that code? Possible options:</p>\n\n<ul>\n<li>Controller, I think, is not a right place for DB logic/fetch.</li>\n<li>I've 8 model classed however data do not belong to any one of them but as combination of them all.</li>\n<li>A separate helper/lib, but I know I'll never reuse that code as its unique page of the site.</li>\n<li>Anywhere else?</li>\n</ul>\n\n<p>Please suggest if I'm wrong but I guess I should put it in models as it is fetching data. Since A is primary table, I probably should put code in A.php and APeer.php. If that is correct place, next question is, What should go in A.php &amp; what should go in APeer.php? I've following operations to do:</p>\n\n<ul>\n<li>Some logic to decide what columns, should I select.</li>\n<li>As like mailbox, I can show received/sent message. Controller will tell what to show but there are some db logic to set conditions.</li>\n<li>Then really fetch data from complex Join query.</li>\n<li>Returned data will have all rows but I might need to merge few rows conditionally.</li>\n</ul>\n\n<p>As per my understanding, Point 3 should go in APeer.php and rest in A.php. Is my understanding correct?</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-2","asp.net-mvc-3"],"answer_count":1,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":2941,"score":5,"question_id":6342951,"title":"How to refresh multiple partialview on click of Ajax.Actionlink","body":"<p>I am using multiple partialview on my View.\non left hand side I have some link button.</p>\n\n<p>In middle I have 2 partialview let us suppose Up and Down\nI m able to update the Up partialview \nnow I want to update Down partial view on the click of same link button</p>\n\n<p>I m able to send only one UpdateTargetID in Ajax.ActionLink button\nbut I want to update 2 Partialview one the clcik of the same button.</p>\n\n<p>1) Is there any way I can pass more than one UpdateTargetID in Ajax.ActionLink \nor \n2) I can return Multiple partial view in Home Controller\nor any other way as u suggest \nPlease reply me</p>\n\n<p>Thanks Everyone for replying \nLet me tell you what I have done in order to refresh multiple partial view on a single click\nThis is the Action Link which I m using to click on \nHere I m using a OnSucess Function of this Action link in order to update, This Action link is on a partial view </p>\n\n<pre><code>                 &lt;%= Ajax.ActionLink(\"Select\", \"Employee\", new { Id = Employee.EmployeeID }, new AjaxOptions { UpdateTargetId = \"EmployeeDiv\", HttpMethod = \"Post\", OnSuccess = \"function(){EmployeeHistory(-2,\" + Employee.EmployeeID.ToString() + \");}\" })%&gt;\n</code></pre>\n\n<p>This is a javascript that I m calling from a partial view</p>\n\n<pre><code> function  EmployeeHistory(EmployeeID) {\n    var url = '&lt;%= Url.Action(\"PartialviewAction\", \"ControllerName\") %&gt;'\n    $('#PartialviewDiv1').load(url, { Id: EmployeeID });\n    var url1 = '&lt;%= Url.Action(\"PartialviewAction\", \"ControllerName\") %&gt;'\n    $('#PartialviewDiv2').load(url1, { Id: EmployeeID });\n\n}\n</code></pre>\n\n<p>and these two div are in Index view which I want to update</p>\n\n<pre><code>        &lt;div id=\"Paritalview div1\"&gt;&lt;% Html.RenderPartial(\"PartialViewname1\"); %&gt;&lt;/div&gt;\n        &lt;div id=\"Paritalview div2\"&gt;&lt;% Html.RenderPartial(\"PartialViewname2\"); %&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11983353,"title":"Passing 2 models to a view possible?","body":"<p>I have a view that must render two reports.</p>\n\n<p>My action:</p>\n\n<pre><code>public ActionResult TradeUKKPIShowData(SundaysInMonthViewModel model) //show actual data in the view\n{\n  var tradesmenReportData = _reportingService.GetTradeUKKPITradesmen(model.SelectedSunday);\n  var jobSortedReportData = _reportingService.GetTradeUKKPIJobSorted(model.SelectedSunday);\n  ViewBag.jobSortedReportDate = model.SelectedSunday;\n  ViewBag.addJobSortedModel = jobSortedReportData;\n  return View(tradesmenReportData);\n}\n</code></pre>\n\n<p>My first problem is with the first two lines of the action above. What must I pass here?\nThe compile errors I get for those lines:</p>\n\n<p>'TradeUK.Services.IReportingService.GetTradeUKKPITradesmen(TradeUK.Entities.Reporting.KPIResults)' has some invalid arguments   </p>\n\n<p>All the stored procedure for the report needs is the date/sunday that was selected</p>\n\n<p>My SundaysInMonthViewModel:</p>\n\n<pre><code> namespace TradeUK.Admin.Web.ViewModels\n {\n    public class SundaysInMonthViewModel\n    {\n       public IEnumerable&lt;SelectListItem&gt; AllSundays { set; get; }\n       public string SelectedSunday { set; get; }\n    }\n }\n</code></pre>\n\n<p>Here IReportingServices.cs:</p>\n\n<pre><code>IEnumerable&lt;KPIResults&gt; GetTradeUKKPITradesmen(DateTime date);\nIEnumerable&lt;KPIResults&gt; GetTradeUKKPIJobSorted(DateTime date);\n</code></pre>\n\n<p>and the actual methods for above:</p>\n\n<pre><code> public IEnumerable&lt;KPIResults&gt; GetTradeUKKPITradesmen(DateTime date)\n {\n }\n\n\n public IEnumerable&lt;KPIResults&gt; GetTradeUKKPIJobSorted(DateTime date)\n {\n }\n</code></pre>\n\n<p>KPIResults:</p>\n\n<pre><code>namespace TradeUK.Entities.Reporting\n{\n public class KPIResults\n  {\n   public virtual string Title { get; set; }\n   public virtual int Total { get; set; }\n   public virtual int Week6 { get; set; }\n   public virtual int Week5 { get; set; }\n   public virtual int Week4 { get; set; }\n   public virtual int Week3 { get; set; }\n   public virtual int Week2 { get; set; }\n   public virtual int Week1 { get; set; }\n  }\n }\n</code></pre>\n\n<p>The other issue is on the return(View(tradesmenReportData,jobSortedReportData)\nCan I do this? In the actual view I have to foreach loops to show the to sets of report data.</p>\n\n<p>Please help?\nThanks</p>\n"},{"tags":["spring","mvc","integration","cas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12256354,"title":"SPRING MVC with CAS Integration","body":"<p>Can any one plz share me the working sample projects of both CAS cleint as well as CAS server. As I have been searching for working example but yet to fint any such a bundled examples clearly. please help me to understand the flow.</p>\n"},{"tags":["php","mvc","frameworks","php-5.3"],"answer_count":15,"favorite_count":7,"up_vote_count":20,"down_vote_count":1,"view_count":5504,"score":19,"question_id":1843276,"title":"Any PHP MVC framework planning to use 5.3 features?","body":"<p>I would like to get started with PHP, and 5.3 release seems to bring many nice features (namespaces, lambda functions, and many others).</p>\n\n<p>I have found some MVC frameworks, and some of them support only PHP 5:</p>\n\n<ul>\n<li><a href=\"http://www.phpframeworks.com/\" rel=\"nofollow\">PHP Frameworks</a></li>\n<li><a href=\"http://www.phpwact.org/php/mvc_frameworks\" rel=\"nofollow\">PHP MVC Frameworks</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">Model–view–controller</a> on Wikipedia</li>\n</ul>\n\n<p>but can anyone recommend one of those MVC frameworks that plans to actively use PHP 5.3 features, not just being compatible with PHP 5.3?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Results so far:</p>\n\n<ul>\n<li><a href=\"http://framework.zend.com/wiki/display/ZFDEV2/Zend+Framework+2.0+Roadmap\" rel=\"nofollow\">Zend Framework 2.0</a> (in development)</li>\n<li><a href=\"http://rad-dev.org/lithium/wiki\" rel=\"nofollow\">Lithium</a> (in development, based on CakePHP)</li>\n<li><a href=\"http://www.symfony-project.org/\" rel=\"nofollow\">Symfony</a> (in development)</li>\n<li><a href=\"http://flow3.typo3.org/download/\" rel=\"nofollow\">FLOW3</a> (in development, alpha)</li>\n<li><a href=\"http://www.nette.org/\" rel=\"nofollow\">Nette Framework</a> (supports both PHP 5.2.0 and PHP 5.3.0)</li>\n</ul>\n"},{"tags":["php","mvc","frameworks","templating"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":107,"score":0,"question_id":12261288,"title":"PHP - How to split MVC - View (using e.g. non logic templating engine) into logic class and raw html template?","body":"<p>I am convinced that templates should not contain any logic just {  }  and include and block parts thats all. In MVC frameworks V is usually raw php mixed with HTML which is IMO very bad for someone used to clean HTML and for designers a nightmare. But putting view logic inside controller is also a wrong approach.</p>\n\n<p>I would like to know how to make it like this. \nRequest -> Controller -> load model... logic send everything to -> View -> view logic blocks... -> template</p>\n\n<p>Is this possible in frameworks like Laravel or Fuelphhp? Or more generally is this even a good practise?</p>\n"},{"tags":["php","mvc","api","symfony2"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":507,"score":3,"question_id":10949326,"title":"How To Create API Based Web Service In Symfony2","body":"<p>I am trying to create a API based service using Symfony2 which is the main framework our company tends to work on. I am told to research the best way to create a web service, i.e: REST, SOAP, etc. I am not a very experienced programmer. I am just trying to research the subject matter.</p>\n\n<p>What we basically need is a system that would provide and API to make other apps on any platform or device. For example: I can use the Twitter API to post/fetch tweets. In the same way we are trying to create a E-comm product that would help other users to build sites and apps above the platform regardless of the programming language, device or OS.</p>\n\n<p>We are trying to convert our product into an API based service from a pure \"MVC application\".</p>\n"},{"tags":["javascript","oop","mvc","observer-pattern","iife"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12255636,"title":"Javascript MVC with IIFE and potential dependency problems","body":"<p>I'm trying to create my own simple and small (observer) MVC example and trying to use IIFE to create privacy for my model and controller. As the controller requires the model object when it is invoked I'm not convinced about this approach.</p>\n\n<p>I've created a working Fiddle showing what I'm trying to do, but there is a dependency on the Model being invoked first in this case. I would like to have the Controller and Model in different files for easier management but don't know if I can do this due to this dependency.</p>\n\n<p>Is there a way around this or a better solution for this type of thing?</p>\n\n<p><a href=\"http://jsfiddle.net/CSuBA/\" rel=\"nofollow\">Working example</a></p>\n\n<p>(code extract)</p>\n\n<pre><code>var CalcController = (function (model) {\n    console.log('CalcController created');\n    var controller = {};\n    _model = model;\n\n    controller.changeModel = function(){\n        console.log('CalcController changeModel()'); \n        _model.updateModel();        \n    };\n\n    controller.init = function(){\n        console.log('CalcController.init');\n   }\n    return controller;\n\n})(CalcModel);\n</code></pre>\n"},{"tags":["mvc","web-applications","clojure","compojure","noir"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":12238437,"title":"Trouble getting defroutes to work in webnoir","body":"<p>So, I'm a clojure n00b, and I'm missing something when trying to get the routes for a project I'm building working.</p>\n\n<p>I had some issues with circular dependencies, and after working with Django, I think it's much better to have routes all defined in one place, rather than peppered all over the codebase as seems to be done with <code>defpage</code>.</p>\n\n<p>Onto the code:</p>\n\n<p>This is my <code>core.clj</code> file:</p>\n\n<pre><code>(ns blktechies-home.core\n  (:use compojure.core\n        hiccup.middleware)\n  (:require [compojure.route :as route]\n            [blktechies-home.routes :as site-routes]\n            [compojure.handler :as handler]\n            [compojure.response :as response]))\n\n(def app\n  (-&gt; (handler/site site-routes/app)\n      (wrap-base-url)))\n</code></pre>\n\n<p>Then in my routes file I have the following:</p>\n\n<pre><code>(ns blktechies-home.routes\n  (:use compojure.core\n        noir.core\n        hiccup.middleware)\n  (:require [compojure.route :as route]\n            [compojure.handler :as handler]\n            [compojure.response :as response]\n            [blktechies-home.views.common :as common]))\n\n(defroutes app\n  (GET \"/\" [] (common/main-layout\n               (welcome/index-page)))\n  (route/resources \"/\")\n  (route/not-found \"&lt;h1&gt;NOPE&lt;/h1&gt;\"))\n</code></pre>\n\n<p>Everything is 404'ing, and I'm not even sure where to go from here. I was able to use the site with <code>defpage</code>, but it just seemed ugly and not extensible as the number of routes grows.</p>\n\n<p>So</p>\n\n<ul>\n<li>What am I doing wrong here? Any insight into the underlying compojure/clojure/ring layers would be awesome</li>\n<li>If this isn't the best way to define routes, what is?</li>\n<li>Are there any good examples of big clj-noir sites on github? (My google-fu has failed me.)</li>\n</ul>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":333,"score":0,"question_id":8455723,"title":"How can I check if nothing has been changed when posting back a form to MVC?","body":"<p>I have an edit form in MVC and in my edit POST action I do a check before saving to ensure that I am not creating a duplicate. So for example if I change the title on my form then I check to see that title does not already exist. </p>\n\n<p>However if I open the edit form and then submit without changing anything then the action checks to see if the title exists and flags it as a duplicate!</p>\n\n<p>Is there some way that I can check if the Model is unchanged and if so then skip all the duplicate checks and attempts to save?</p>\n\n<p>Right now the only check I have is:</p>\n\n<pre><code>            if (ModelState.IsValid)\n            {\n</code></pre>\n\n<p>Is there some equivalent for ModelState not changed?</p>\n"},{"tags":["mvc","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12252579,"title":"Servlet to jsp communication best practice","body":"<p>I'm learning how to write java servlets and jsp pages on google app engine. I'm attempting to use an MVC model but I'm not sure if I'm doing it right. Currently, I have a servlet that is called when a page is accessed. The servlet does all the processing and creates a HomePageViewModel object that is forwarded to the jsp like this:</p>\n\n<pre><code>// Do processing here\n// ...\nHomePageViewModel viewModel = new HomePageViewModel();\nreq.setAttribute(\"viewModel\", viewModel);\n\n//Servlet JSP communication\nRequestDispatcher reqDispatcher = getServletConfig().getServletContext().getRequestDispatcher(\"/jsp/home.jsp\");\nreqDispatcher.forward(req, resp);\n</code></pre>\n\n<p>Over on the jsp side, I have something like this:</p>\n\n<pre><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;%@ page import=\"viewmodels.HomePageViewModel\" %&gt;\n&lt;%\n  HomePageViewModel viewModel = (HomePageViewModel) request.getAttribute(\"viewModel\");\n  pageContext.setAttribute(\"viewModel\", viewModel);\n%&gt;\n\n&lt;html&gt;\n  &lt;body&gt;\n  &lt;% out.println(((HomePageViewModel)pageContext.getAttribute(\"viewModel\")).Test); %&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So my question is two fold. First, is this a reasonable way to do things for a small webapp? This is just a small project for a class I'm taking. And second, in the jsp file, is there a better way to access the viewmodel data?</p>\n"},{"tags":["javascript","jquery","mvc","html5-audio"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12224753,"title":"Need a JS framework that works with HTML5 <audio>. Which ones don't create or destroy views?","body":"<p>One of the quirks with the &lt; audio > tag is that it must be embedded in the page when it loads and it must not be destroyed and recreated. </p>\n\n<p>Can anyone tell me if Backbone.js or one of the many other MV* frameworks load pages so that the &lt; audio > tag stays on the page?</p>\n\n<p>Thanks and long live stackOverflow!</p>\n"},{"tags":["spring","mvc","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12251743,"title":"spring controller does not work when I extend it","body":"<p>i try make a generic controller with some methods, so i don´t need re-writer common codes, but don´t work, why???</p>\n\n<pre><code>@Controller(\"/home/teste\")\npublic class CtrlTeste extends ControladorGenericoSpring&lt;Assistenciado&gt;\n{\npublic String path;\n\n    public CtrlTeste()\n    {\n       super(Assistenciado.class);\n       path = \"/home/teste\";\n       setPacoteServico(\"servico.assistenciado\");\n       setPrefixo(\"Serv\");\n       setNomeEntidade(\"Assistênciado\");        \n\n    }\n\n   @RequestMapping\n   public String teste(@RequestParam(value = \"id\", required= true)Long id, Model model)\n   {\n      Assistenciado ass = getServico().buscarPorId(id);\n      model.addAttribute(\"assistenciado\", ass);\n      return \"/home\";\n   }\n\n}\n</code></pre>\n"},{"tags":["php","mvc","frameworks","persistent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12251050,"title":"Persistent objects inside MVC framework","body":"<p>I'm writing my own PHP MVC framework and I was wondering which is the most appropriate place to code persistent data objects like <strong>User</strong> for instance. Without persistent storage like $_SESSION, APC, memcached,... someone could retrieve user data from the database every http request, which is a bad idea in terms of performance. (M)odel seems like a good choice. Is something like this a good start:  </p>\n\n<pre><code>class UserModel extends Model\n{\n  public function getEmail()\n  {\n    $user = Session::get('User');\n    if(isset($user))\n    {\n      return $user-&gt;Email;\n    }\n    return null;\n  }\n}\n</code></pre>\n\n<p>Probably not, as it is not returning db data which is most Models do. Should I create an independent class? Is there any pattern for this? I wouldn't like to make it global, who is the owner/manager for such objects?</p>\n"},{"tags":["mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12250711,"title":"MVC, request data from view","body":"<p>I use this version of MVC <a href=\"http://www.rsdn.ru/article/patterns/generic-mvc/mvc.gif\" rel=\"nofollow\">http://www.rsdn.ru/article/patterns/generic-mvc/mvc.gif</a></p>\n\n<p>How be, when model is needed a data from view (user input)?</p>\n"},{"tags":["java","jquery","mvc","jersey","jstree"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12245204,"title":"Error with jquery file tree in mvc","body":"<p>I am using jquery file tree to display my local file system, but I have encountered some problems. Well,I use maven+jersey+guice in my project, and I have modified the version jsp, and I created a class in my controler, and here is the code:</p>\n\n<pre><code>@Path(\"/monurl\")\n@POST\n@Produces({MediaType.TEXT_HTML})\npublic Response getGsp(@Context HttpServletRequest request) throws UnsupportedEncodingException\n{\n\n\n    StringBuffer buffer = new StringBuffer();\n\n    String dir = request.getParameter(\"dir\");\n\n    if (dir == null) {\n        return Response.ok(\"\").build();\n    }\n\n    if (dir.charAt(dir.length()-1) == '\\\\') {\n        dir = dir.substring(0, dir.length()-1) + \"/\";\n    } else if (dir.charAt(dir.length()-1) != '/') {\n        dir += \"/\";\n    }\n\n    dir = java.net.URLDecoder.decode(dir, \"UTF-8\"); \n\n    if (new File(dir).exists()) {\n        String[] files = new File(dir).list(new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                return name.charAt(0) != '.';\n            }\n        });\n        Arrays.sort(files, String.CASE_INSENSITIVE_ORDER);\n        buffer.append(\"&lt;ul class=\\\"jqueryFileTree\\\" style=\\\"display: none;\\\"&gt;\");\n        // All dirs\n        for (String file : files) {\n            if (new File(dir, file).isDirectory()) {\n                buffer.append(\"&lt;li class=\\\"directory collapsed\\\"&gt;&lt;a href=\\\"#\\\" rel=\\\"\" + dir + file + \"/\\\"&gt;\"\n                    + file + \"&lt;/a&gt;&lt;/li&gt;\");\n            }\n        }\n        // All files\n        for (String file : files) {\n            if (!new File(dir, file).isDirectory()) {\n                int dotIndex = file.lastIndexOf('.');\n                String ext = dotIndex &gt; 0 ? file.substring(dotIndex + 1) : \"\";\n                buffer.append(\"&lt;li class=\\\"file ext_\" + ext + \"\\\"&gt;&lt;a href=\\\"#\\\" rel=\\\"\" + dir + file + \"\\\"&gt;\"\n                    + file + \"&lt;/a&gt;&lt;/li&gt;\");\n                }\n        }\n        buffer.append(\"&lt;/ul&gt;\");\n    }\n\n    log.debug(\"Response content {}\", buffer.toString());\n    return Response.ok(buffer.toString()).build();  \n}\n</code></pre>\n\n<p>For the code javascript:</p>\n\n<pre><code>    $(document).ready( function() {\n\n            $('#JQueryFTD_Demo').fileTree({\n              root: '/home/y.zhang/kernely/kernely/work/',\n              script: '/ged/monurl',\n              expandSpeed: 1000,\n              collapseSpeed: 1000,\n              multiFolder: true\n            }, function(file) {\n                alert(file);\n            });         \n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>But I have always the problem of traversing my folders, and from firebug, I observe that my server returns 200 OK 128ms. Well, is there any problem of my code? Thanks in advance.</p>\n"},{"tags":["android","mvc","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12242692,"title":"android - application architecture what is the best?","body":"<p>I am new on android programming, just did one app so far. After it's completed, I start to think about the architecture of android application.</p>\n\n<p>In my app, I use <code>Activity</code> as Controller similar and <code>setContentView</code> to add layout View, this one is working and when it switch to another View, commonly I will use another Activity, or <code>ViewFlipper</code> or multi View in the same <code>Activity</code>, switch them by using <code>setContentView</code> method.</p>\n\n<p>Now I am thinking is it good to change this architecture to this one - </p>\n\n<p>Activity</p>\n\n<p>Controller</p>\n\n<p>View - Layout XML</p>\n\n<p>Controller class is independent from Activity, so it will be like this -</p>\n\n<pre><code>class Controller {\n\n    public View view;\n\n    .....\n\n    // logic to deal with view operation\n    public void init ()\n    {\n    }\n}\n</code></pre>\n\n<p>Activity will be like this - </p>\n\n<pre><code>class MyActivity extends Activity {\n\n    ControllerOne c0 = null;\n    ControllerTwo c1 = null;\n\n    .....\n\n    protected void switchView (Controller c)\n    {\n        setContentView (c.view);\n        c.init (); // or something else to restore states of this controller\n    }\n}\n</code></pre>\n\n<p>I don't know if this one is fine for android app architecture, or is there any good ideas about android app architecture? Thanks.</p>\n"},{"tags":["php","mvc","zend-framework","layout"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12239569,"title":"how to add stylesheet to my layout and pass values from view to layout","body":"<p>I am using zend framework.</p>\n\n<p>My structure is (only included files and folders needed for this question):</p>\n\n<pre><code>application\n  &gt;configs\n  &gt;controllers\n  &gt;forms\n  &gt;images\n  &gt;layouts\n    &gt;scripts\n      &gt;layout.phtml\n  &gt;models\n  &gt;styles\n    &gt;style.css\n  &gt;views\n    &gt;scripts\n      &gt;index\n        &gt;index.phtml\n  Bootstrap.php\ndocs\nlibrary\nlogs\npublic\ntest\n</code></pre>\n\n<p>I have got the layout working properly. However, I want to ask a couple of questions in order to get my set up perfect for the way I want it.</p>\n\n<ol>\n<li>Is <code>application&gt;style</code>s a good place for the stylesheet to be? If not what's the recommended?</li>\n<li>How do i add the stylesheet to the layout?</li>\n<li>In my layout I have a title tag : <code>&lt;title&gt;Text&lt;/title&gt;</code>. How do I pass values from my controllers to it?</li>\n</ol>\n"},{"tags":["mvc","codeigniter","view"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1554,"score":1,"question_id":1217275,"title":"What is the best practice for displaying multiple views in Codeigniter?","body":"<p>I'm trying to determine the best practice for calling multiple views from the same method in a controller. </p>\n\n<p>Is it preferable in the controller to make one view call, then have that view call all the views it needs, or call all the views you need in sequence in the controller?</p>\n\n<p>Example: </p>\n\n<pre><code>function index(){\n   //set all data variables\n   //then send them to the view\n   $this-&gt;load-&gt;view($index_view, $data);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>function index(){\n  //set variables\n  //then call each view\n  $this-&gt;load-&gt;view($header_view, $header_data);\n  $this-&gt;load-&gt;view($body_view, $body_data);\n  $this-&gt;load-&gt;view($footer_view, $footer_data);\n</code></pre>\n\n<p>The Codeigniter guide shows both ways, but does not seem to advise to the best practice...is there one?</p>\n"},{"tags":["mvc","dataannotations","range"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":5456,"score":5,"question_id":1406046,"title":"Data Annotation Ranges of Dates","body":"<p>Is it possible to use <code>[Range]</code> annotation for dates?</p>\n\n<p>something like   </p>\n\n<pre><code>[Range(typeof(DateTime), DateTime.MinValue.ToString(), DateTime.Today.ToString())]\n</code></pre>\n\n<p>Thanks</p>\n\n<p>Davy</p>\n"},{"tags":["php","mvc","cakephp","lazy-loading","cakephp-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12234821,"title":"Binding models inside controller actions in CakePHP","body":"<p>Normally I load model inside classes like this:</p>\n\n<pre><code>public $uses = array('Table1', 'Table2', 'Table3');\n</code></pre>\n\n<p>But some of my models are only used by 2-3 actions. So I don't want to load that model for other actions. So I need to declare \"table1\" controller wide. And load \"table2\" and \"table3\" when I need them inside controller. Is it possible? I couldn't find inside cookbook.</p>\n\n<p>Something like this:</p>\n\n<pre><code>class myController extends Controller {\n public $uses = array('Table1');\n\n public function myaction() {\n  $uses = array('Table2','Table3');\n ....\n }\n}\n</code></pre>\n"},{"tags":["ruby-on-rails-3","forms","mvc","controller","multi-step"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":92,"score":3,"question_id":12130419,"title":"Rails 3, large multi-step form: 1 large controller or separated by resource?","body":"<p>I have a multi-step form where the user fills out info on several different pages.  In conventional rails, you keep each resource separate in its own controller and you use the REST actions to manipulate the data.</p>\n\n<p>In the conventional system I would have 3-5 different controllers (some steps are optional) for a single multi-step form.  There's no real sense of \"order\" in the controllers if I do it the conventional way.  A new developer coming on to the project has to learn what steps map to what steps and so forth.</p>\n\n<p>On the other hand, I have thought about breaking convention and having a single controller that organizes the entire multi-step form.  This controller would be full of methods like:</p>\n\n<pre><code>def personal_info\n  # code...\nend\n\ndef person_info_update\n  # code...\nend\n\ndef residence_info\n  # code...\nend\n\ndef residence_info_update\n  # code...\nend\n\n# many more coupled methods like the above...\n</code></pre>\n\n<p>This single controller will get fairly long, but it's essentially a bunch of coupled methods: one for showing the step (form) and the other for updating and redirecting to the next step.</p>\n\n<p>This would be breaking rails convention and I would have to setup my own routing.</p>\n\n<p>But I'm curious how others have solved this problem?  I know both CAN work, but I would like to know which is easier to maintain and code with in the long run.</p>\n"},{"tags":["javascript","mvc","asp.net-mvc-4","anchor","visual-studio-2012"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12235866,"title":"Page Inspector bug in Visual Studio 2012 RTM in MVC4 app?","body":"<p>I have a regular anchor in one of my views:</p>\n\n<pre><code>&lt;a id=\"save\" href=\"javascript:void(0);\"&gt;Save&lt;/a&gt;\n</code></pre>\n\n<p>Now when I run the page and hit the save button the form won't post.</p>\n\n<p>Anyone got any ideas why?</p>\n\n<p>Remarks:</p>\n\n<ul>\n<li>javascript is enabled in IE9</li>\n<li>posting works when hitting the save button in chrome/ie9 outside of the VS environment.</li>\n</ul>\n\n<p>Might help to know that when the save button is clicked this piece of javascript is executed:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function () {\n        $(\"#save\").click(function () {\n            $(this).closest(\"form\").submit();\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","mvc","design-patterns","user-interface","flexibility"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12235377,"title":"How do I create a flexible MVC structure?","body":"<p>As part of the training scheme I am on at the moment, I have been tasked with developing a simple command-line based helpdesk application. The point of the project is to develop our abilities to use design patterns, SOLID principles, MVC architecture etc.</p>\n\n<p>I am having problems with understanding how to keep my MVC structure flexible. Here is a sample of one part of my code...</p>\n\n<pre><code>public class RegisterController \n{   \n    View view;\n    RegisterModel registerModel;\n\n    public RegisterController()\n    {\n        registerModel = new RegisterModel();\n    }\n\n    public void processRegistration(String username, String password, Role role)\n    {\n        if(registerModel.isRegisterable(username, password))\n        {\n            User newUser = new User(username, password, role);\n            registerModel.registerUser(newUser);\n            view = new LoginView(new LoginController());\n        }\n        else\n        {\n            System.out.println(\"ERROR during registration.\");\n            view = new MainView(new MainController());\n        }\n\n        view.startView();\n    }\n}\n</code></pre>\n\n<p>I ideally want to be able to go in at a later date and substitute it with a different user interface (view classes) e.g. a web page, without altering my model or controller. However, at the moment you can see that I am coding to a concrete implementation of my command line \"MainView\" and \"LoginView\" classes.</p>\n\n<p>How can I make this controller code more flexible and allow substitution with a different user interface with minimal code modification? Is it unrealistic to expect the controller code to remain the same when changing to a different UI?</p>\n"},{"tags":["asp.net-mvc","mvc","localization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12235119,"title":"placeholder style text in resx file","body":"<p>Is there any way to add text in a resx file  like </p>\n\n<pre><code>'{0}'\n</code></pre>\n\n<p>within a localized string where the intention is NOT that {0} should act as a placeholder, but rather as regular text within a localized string</p>\n\n<p>(I'm using asp.net-mvc)</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Sorry, my question is incorrect - I'm actually getting {0} Even without using String.Format</p>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","c#-4.0","entity-framework-4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12234052,"title":"auto generating Inheritance Mapping mvc DB first","body":"<p>Is it possible to define Inheritance Mapping and a Discriminator Property using a BD first approach.</p>\n\n<p>I use the EDMX diagram to define the mapping of tables to object.\nI have a DomainEntity Table that contains all my domain entities and they are descriminated by TypeID that is mapped to a DomainEntityTypes table.</p>\n\n<p>If i had full control i would design the mapping this way:</p>\n\n<ol>\n<li>Define an abstarct class DomainEntity</li>\n<li>Inherit from the DomainEntity calss to creat concrete entities</li>\n<li>Use the Inheritance Mapping Annotation and the IsDiscriminator Annotation over the TypeID</li>\n<li>Use an enum to define all possible types (and i wonder what the types table is for from that point)</li>\n</ol>\n\n<p>Could all this be defined in the EDMX file somehow ? or do i need to stop using auto generation and continue with manual mappings?</p>\n"},{"tags":["mvc","zend-framework","popup"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":142,"score":1,"question_id":12231866,"title":"Is there a built in Zend framework popup window?","body":"<p><strong>Is there a built in Zend framework popup window?</strong></p>\n\n<p>I want to know if there is a feature built in the zend framework that when you click a link it opens up an action in a nice pop up window such as smoothbox, lightbox etc?</p>\n"},{"tags":["php","mvc","zend-framework","hyperlink","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":65,"score":2,"question_id":12231956,"title":"link to another action","body":"<p>i am unsing zend framework. i have a view linked to a controller, home, </p>\n\n<p>so:</p>\n\n<pre><code>application&gt;controllers&gt;HomeController.php\n\napplication&gt;views&gt;scripts&gt;home&gt;index.phtml\n</code></pre>\n\n<p>in the index.phtml page i have a link to an action in the same controller:</p>\n\n<pre><code>application&gt;views&gt;scripts&gt;home&gt;add.phtml\n</code></pre>\n\n<p>the code for the link is:</p>\n\n<pre><code>&lt;a href=\"../application/controllers/home/add\"&gt;add&lt;/a&gt;\n</code></pre>\n\n<p>Not only does this not work but i am sure its not the best way to do this in zend framework.</p>\n\n<p>please note i am using wamp</p>\n\n<pre><code>http://localhost/sites/url/public/home/add\n</code></pre>\n\n<p>when using:</p>\n\n<pre><code>&lt;?php\n    echo '&lt;a href=\"' . $this-&gt;url(array('controller' =&gt; 'home', 'action' =&gt; 'add')) . '\"&gt;Add Job&lt;/a&gt;';  \n?&gt;\n</code></pre>\n\n<p>I get this error message:</p>\n\n<pre><code>Message: Invalid controller specified (sites)\n</code></pre>\n\n<p>this is whats in my htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n"},{"tags":["c#","entity-framework","mvc","linq-to-sql","entity-framework-4"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12227277,"title":"Hierarchical data representation using entity framework in MVC","body":"<p>Hey i am trying to work with entity framework using in DB first mode.\nI have a hierarchy of Enitties that are stored in one table called \"DomainEntities\".</p>\n\n<p>When i generated a schema using the entity framework i got the correct mappongs that look like this.</p>\n\n<h2><img src=\"http://i.stack.imgur.com/Xdqz7.png\" alt=\"DomainEntity Schema EDMX file.\"></h2>\n\n<p>Now i wonder what is the way i should perform insert using this model.\nif i want to insert a new entry with a certain parent do i need to do all this:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(DomainEntity i_EntityToCreate, int ParentEntityID)\n{\n    using (var db = new CamelotShiftManagementEntities())\n    {\n        var parentEntity = db.DomainEntities.Find(ParentEntityID);\n        i_EntityToCreate.ParentEntity = parentEntity;\n        i_EntityToCreate.EntityTypeID = 1;\n\n        db.DomainEntities.Add(i_EntityToCreate);\n\n        db.SaveChanges();\n    }\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>is this correct or is there another design i should follow to represent a hierarchy of entities using entity framework ?</p>\n"},{"tags":["mvc","node.js","plugins","expressjs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12233241,"title":"Building a plugin system for a nodejs based MVC platform","body":"<p>I would like to be able to build functionality for my application in a plugin style system for a couple reasons:</p>\n\n<ol>\n<li>New projects can choose which plugins are necessary and not have code for functionality that's not needed</li>\n<li>Other developers can build plugins for the system without needing too much knowledge of the core workings.</li>\n</ol>\n\n<p>I'm not really sure how to go about implementing this. I would like to have a <code>plugins</code> folder to host these separately but I guess my questions are:</p>\n\n<ol>\n<li>How do plugins interact with the core system?</li>\n<li>How does the folder structure work? Would each hold the standard MVC structure: controllers, services, models, views, etc?</li>\n</ol>\n\n<p>I guess if anyone has a tutorial or some documentation relating to this technique that would be helpful. I've done a bit of searching but it's all a little too closely related to the actual code they're working with instead of the concept and I hadn't found anything specifically related to nodejs.</p>\n"},{"tags":["mvc","design-patterns"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12230359,"title":"Working with View-related For Loops in MVC","body":"<p>These two pieces of oft-said MVC advice seem to be at odds with each other:</p>\n\n<ol>\n<li>No for loops or conditional logic in the view</li>\n<li>No HTML anywhere but the view</li>\n</ol>\n\n<p>Let's say I have $items that have to be output as an unordered list. Isn't the iteration logic bound to have html in it? In which case, where should I put it?</p>\n\n<p>It seems to me that reusability argues for putting it somewhere other than the view while providing the template author with parameters for the tag, class(es) etc. </p>\n\n<p>What do you think? Practical reasons for why you think so are very welcome. </p>\n"},{"tags":["mvc","controller","express","route"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12170725,"title":"Express.js' router and controllers' usage","body":"<p>I mainly worked with Rails-like frameworks in the past. Recently, I've been looking into Express.js. I've noticed that most of the examples do the routing inside the main app.js, or do the rendering inside route.js and I'm a bit uncomfortable with that. </p>\n\n<p>A slightly more familiar example is the <a href=\"https://github.com/visionmedia/express/tree/master/examples/mvc\" rel=\"nofollow\">mvc folder in Express.js' github page</a>, but even then, I find the way the routing is done a bit weird (also, view folder inside controllers? What's happening?).</p>\n\n<p>My question is, what change of mentality should I perform, or is there a standard way of using Express.js that clearly separates the concern of routing and controllers and make them work neatly?</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","mvc","xforms","questionnaire"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":112,"score":1,"question_id":7765332,"title":"Advice on javascript frameworks for creating detailed offline forms/questionnaires","body":"<p><strong>Question:</strong> \nWhat javascript libraries/frameworks are there, that are suited to creating detailed questionnaires (and not requiring communication with server).</p>\n\n<p><strong>Background</strong>\nI'm looking at updating an old ASP.NET forms application that displays lots of questionnaires via ASP.NET Wizards.\nThe questionnaires can get a little complicated, and need to support 1 to many type of questions (and several deep), for instance: </p>\n\n<p>These question could appear in one of the questionnaires\nQ) Enter details of people injured.\nQ) Enter details of injuries sustained.</p>\n\n<p>, and might result in something like the following (currently stored as XML).</p>\n\n<pre><code>&lt;Questionnaire&gt; \n    &lt;InjuredPerson Name='John' Age='30'&gt;        \n        &lt;Injury BodyPart='Elbow' /&gt;\n        &lt;Injury BodyPart='Head' /&gt;\n    &lt;/InjuredPerson&gt;\n    &lt;InjuredPerson Name='James' Age='29'&gt;\n        &lt;Injury BodyPart='Head' /&gt;\n    &lt;/InjuredPerson&gt;\n&lt;/Questionnaire&gt;\n</code></pre>\n\n<p>The questionnaire would also allow users to load up previous submissions to edit the results.</p>\n\n<p>I would like to update this application to have the whole interface implemented in the browser, this way I can then support HTML 5 offline application caching.\nTherefore the above XML (or JSON) would be stored in the client, until it was ready to be submitted.</p>\n\n<p>I initially started looking at XForms javascript frameworks, which appears to do the job but it also looks like XForms is a dead technology. I've since seen various javascript MVC and MVVC frameworks, but don't know enough about them.</p>\n"},{"tags":["mvc","node.js","mongodb","mongoose","expressjs"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12230175,"title":"Layer separation in an MVC application with Expressjs, Mongoose, and Backbonejs","body":"<p>I want to create an application that can separate functionality out into modules, somewhat like WordPress does.</p>\n\n<p>Technologies decided upon (so far) are Expressjs, Mongoose, and Backbonejs. First question is, am I missing any technologies that would be recommended for this type of application? (I know this is subjective but I'm looking for opinion)</p>\n\n<p>As for my non-subjective question. I'm still new to these technologies and it seems like Mongoose's models actually act as an object I can instantiate and use within my application. I feel like this doesn't provide any level of separation between the model layer and others. ie. if I were to ever remove Mongoose it would be tightly woven within the application.</p>\n\n<p>Would it be a better idea to have a separate definition that defined what each entity was and then hooked up to Mongoose in the Model layer to save to the DB or would that just defeat the purpose of Mongoose?</p>\n\n<p>Part of what I'm struggling with is what role each framework plays within the system... so forgive me if I'm misunderstanding here.</p>\n"},{"tags":["mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12227733,"title":"How to call custom controller from index controller in Zend Framework","body":"<p>I am newbie in Zend framework.And i have made sample project in netbeans.And it is working properly displaying index.phtml .But , I need to call my controller.What I have tried is below.</p>\n\n<pre><code>IndexController.php\n\n\n&lt;?php\n\nclass IndexController extends Zend_Controller_Action\n{\n\n    public function init()\n    {\n\n    }\n\n    public function indexAction()\n    {\n        firstExample::indexAction();\n    }    \n\n}\n</code></pre>\n\n<p>And I have deleted all the content of index.phtml(just a blank file) , coz i don't want to render this view.\nMy custom controller is:</p>\n\n<pre><code>firstExampleController.php\n\n&lt;?php\nclass firstExample extends Zend_Controller_Action{\n    public function indexAction(){\n        self::sum();\n    }\n\n    public function sum(){\n        $this-&gt;view-&gt;x=2;\n        $this-&gt;view-&gt;y=4;\n        $this-&gt;view-&gt;sum=x + y;\n    }\n}\n?&gt;\n\nfirstExample.phtml\n\n&lt;?php\necho 'hi';\necho $this-&gt;view-&gt;sum();\n?&gt;\n</code></pre>\n\n<p>How to display sum method in firstExample.php.</p>\n\n<p>It just shows blank page after hitting below URL. </p>\n\n<pre><code>http://localhost/zendWithNetbeans/public/\n</code></pre>\n\n<p>I think after hitting on above URL , execution first goes to index.php in public folder.And I didn't change the content of index.php</p>\n"},{"tags":["asp.net-mvc","mvc","design"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1816,"score":1,"question_id":8479052,"title":"Layout/design templates for MVC application?","body":"<p>Is there any open source design templates available for asp.net MVC projects? Tired of seeing the standard blue and white look that every mvc projects have.</p>\n"},{"tags":["mvc","kohana","kohana-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":11864666,"title":"How can I render view of another action in the controller? I use Kohana 3.0.11","body":"<p>I need use the same view for three different actions in controller. How can I render one view for all of actions? I googled but found nothing useful... And important is I use Kohana 3.0.11 </p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12224493,"title":"How can I call an action in application_controller.rb, without having a corresponding view file?","body":"<p>I am trying click on a link to call this action.</p>\n\n<pre><code>&lt;% link_to \"popup\", :action =&gt; 'user_logs_out', :controller =&gt; 'application'%&gt;\n</code></pre>\n\n<p>In my application controller I have this action:</p>\n\n<pre><code>def user_logs_out\n    gon.display_sign_out_popup = true\nend\n</code></pre>\n\n<p>How can I call this action? It always shows template error. Since the action simply needs to set a boolean value, I don't feel a need to have view file for it.                                                                               </p>\n"},{"tags":["javascript","mvc","backbone.js","backbone-relational"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":204,"score":2,"question_id":12224122,"title":"Backbone-relational cannot instantiate two RelationalModel objects","body":"<p>I am trying to implement BackboneRelational and keep getting </p>\n\n<blockquote>\n  <p>\"Cannot instantiate more than one Backbone.RelationalModel with the\n  same id per type!\"</p>\n</blockquote>\n\n<pre><code>class App.Models.User extends Backbone.RelationalModel\n  urlRoot : '/api/users'\n  idAttribute: 'id'\n\n  relations: [\n    type: Backbone.HasMany\n    key: 'plots'\n    relatedModel: 'App.Models.Plot'\n    collectionType: 'App.Collections.Plots'\n    includeInJSON: false\n    reverseRelation:\n      key: 'user_id',\n      includeInJSON: 'id'\n  ]\n\n\nclass App.Models.Plot extends Backbone.RelationalModel\n  urlRoot : '/api/plots'\n  idAttribute: 'id'\n</code></pre>\n\n<p>If I switch one of the models to extends Backbone.Model I can instantiate both, but I get all the warnings that the relational functionality is broken..</p>\n\n<p>I am trying to achieve the following:</p>\n\n<pre><code> plot = new App.Models.Plot({id : 700})\n plot.fetch()\n plot.get('user')\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","model-binding"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":12219533,"title":"EF, MVC, Model binding, and Navigation properties","body":"<p>I'm using EF5 Code First with :</p>\n\n<pre><code>public class Scenario\n{\n    public int Id { get; set; }\n    public  IList&lt;Client&gt; Clients { get; set; }\n}\npublic class Client\n{\n    public int Id { get; set; }\n    public string Name {get;set;}\n    public int VisibilityNumber{ get; set; }\n}\n</code></pre>\n\n<p>I'm directly sending the scenario object to the view (MVC4, without using a viewmodel class - maybe a mistake ?, but a lot less plumbing code). In my view, I use HiddenFor for Scenario.Id, and a for loop to display an EditFor for each client VisibilityNumber.</p>\n\n<p>This is the Controller :</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Edit(int id, FormCollection formValues)\n{     \nif (ModelState.IsValid)\n    {\n        Scenario scen=GetScenarioFromDB(id);\n        TryUpdateModel(scen,formValues);\n        if (ModelState.IsValid)\n           SaveToDb(scen);\n    }\n}\n</code></pre>\n\n<p>After the TryUpdateModel, for each Clients object (which were correctly loaded from DB) :</p>\n\n<ul>\n<li>VisibilityNumber is correctly set</li>\n<li>Id is set to 0, which of course is a bad</li>\n<li>Name is set to null</li>\n</ul>\n\n<p>I don't understand why Id and Name properties are modified. According to MSDN : </p>\n\n<blockquote>\n  <p>If no explicit whitelist or blacklist is passed, the TryUpdateMode method tries to update every public property in the model for which there is a corresponding value in the request</p>\n</blockquote>\n\n<p>After looking at the MVC Source code (DefaultModelBinder/UpdateCollection), I can see that when binding to collections, new items are always created.\nIf I can't fix that, I think I'm going to use a viewModel, and AutoMapper. I assume that the MVC team wanted to force us to use viewModel, rather than directely send EF object.</p>\n"},{"tags":["spring","apache","hibernate","mvc","cxf"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":132,"score":1,"question_id":12170631,"title":"Use Apache cxf with spring mvc in a single application with shared services","body":"<p>I'm currently working a project which based on spring MVC, it's just a standard project using spring MVC template. so I have web.xml and servlet-context.xml. </p>\n\n<p>I'm working on adding Apache cxf web services into this project, and meet some problems on sharing services with existing Spring MVC. </p>\n\n<p>My initial approach was trying to get web services working, so here is my web.xml looks like: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n    &lt;!-- The definition of the Root Spring Container shared by all Servlets \n        and Filters --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/root-context.xml\n        /WEB-INF/spring/jaxwsServlet/jaxwsServlet-context.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n\n\n\n    &lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- Process web service requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;jaxws&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.xml.ws.transport.http.servlet.WSSpringServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;jaxws&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/industryAspectWS&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n    &lt;!-- Processes application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and my jaxwsServlet-context.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:beans=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:ws=\"http://jax-ws.dev.java.net/spring/core\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:wss=\"http://jax-ws.dev.java.net/spring/servlet\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n       http://jax-ws.dev.java.net/spring/core\n        classpath:spring-jax-ws-core.xsd\n        http://jax-ws.dev.java.net/spring/servlet\n        classpath:spring-jax-ws-servlet.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\"\n&gt;   \n    &lt;wss:binding url=\"/industryAspectWS\"&gt;\n        &lt;wss:service&gt;\n            &lt;ws:service bean=\"#industryAspectWS\"/&gt;\n        &lt;/wss:service&gt;\n    &lt;/wss:binding&gt;\n\n    &lt;!-- Web service methods --&gt;\n    &lt;bean id=\"industryAspectWS\" class=\"com.example.ws.IndustryAspectWS\"&gt;&lt;/bean&gt;\n\n    &lt;context:component-scan base-package=\"com.example\" /&gt;\n\n    &lt;beans:import resource=\"../HibernateTransaction.xml\" /&gt;\n\n    &lt;beans:import resource=\"../JaxbMarshaller.xml\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>I copied the <strong><em>context:component-scan beans:import</em></strong> sections from servlet-context.xml</p>\n\n<p>This configuration works okay since I was able to boot up the server, and call Web services and also access servlet and jsp. <strong>However, I notice that since I quoted the hibernateTransaction.xml in both context xml files, there are two session factories.</strong></p>\n\n<p>I want to share all services (such as hibernate) between Apache cxf and Spring MVC controllers, so I tried to put settings in root-context.xml, it didn't work. I also tried to search this online, but didn't find any complete examples on shared services. Is it possible that we can put a setting to share services among the two?</p>\n\n<p>=================================================</p>\n\n<p>I had experimented some settings after I post this, and figured that if I put the lines of   </p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.example\" /&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=\"txManagerExample\" /&gt;\n</code></pre>\n\n<p>in both servlet-context.xml and jaxwsServlet-context.xml, it will work just fine. all other settings can stay in the shared root-context.xml </p>\n"},{"tags":["mvc","routing","asp.net-mvc-routing","sitemap","breadcrumbs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12221289,"title":"MVC.SiteMap Custom Route with multiple parameters","body":"<p>I am using Mvc.Sitemap to configure my breadcrumbs with custom routes.  I have a scenario where I have 2 ids back to back and need to skip one.  The urls are defined below:</p>\n\n<p>Breadcrumbs look like Home > Part\n/Part/49323</p>\n\n<p>Breadcrumbs look like Home > Part > Components\n/Part/49323/200266/Components</p>\n\n<p>Everything is working correctly except when I am on the Components page and press Part.  It creates this url which is incorrect.  /Part/200266/Components.</p>\n\n<p>Does anyone know how to solve this situation?  Thanks for the help.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","sinatra"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12219951,"title":"Remote controller for a model","body":"<p>I have an application which runs in my private network. I want to make an app_controller public but not the whole application. I still want to access my models from app_controller without using any other controller.</p>\n\n<p>As a workaround I have setup a proxy sinatra service which simply redirect requests to app_controller and returns the response that it receives from app_controller.</p>\n\n<p>Is there a way to define a remote controller such that I can access my models as if it's in the same rails application. i.e., controllers and models in different rails apps. or am I approaching it in a wrong way?</p>\n"},{"tags":["c++","mvc","design-patterns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12219562,"title":"MVC pattern, update multiple views","body":"<p>I have multiple views in my model-view-controller pattern (label and listbox with selected item) \nlistbox onSelect event calls controller <strong>setModel(new_model_val)</strong>, which updates views and also highlights listbox so there is cyclic call. </p>\n\n<p>As I understand, I have to pass sender to define which views to update( so I get something like <strong>setModel(new_model_val, sender)</strong>? \nIs it good idea?\nWhat type of sender to use(enum, raw pointer etc)? </p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","pagination"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12218377,"title":"How to display lesser number of page links?","body":"<p>-I am using MVC 3, AdventureworksLT database</p>\n\n<p>-There are lot of records, so the number of pagelinks have gone up to 30.\n<img src=\"http://i.stack.imgur.com/OCKGq.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>I want to display lesser number of page links.</li>\n<li><p>Here is the code for the view</p>\n\n<p><a href=\"http://ideone.com/DCN8s\" rel=\"nofollow\">View Code</a></p></li>\n</ul>\n"},{"tags":["asp.net","mvc","asp.net-mvc-3"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":4728,"score":2,"question_id":6250821,"title":"Date Validation using ASP.NET MVC 3.0","body":"<p>I've Date field on my MVC UI named \"startDate\", the user selects date using jquery date picker. As i wanted to validate that selected date should not be 2 months past and 2 months future.</p>\n\n<p>I've wrote the below code for validating the date.</p>\n\n<pre><code> public sealed class DateAttribute : DataTypeAttribute\n    {\n        /// &lt;summary&gt;\n        /// Initializes a new instance of the &lt;see cref=\"EmailAddressAttribute\"/&gt; class.\n        /// &lt;/summary&gt;\n        public DateAttribute() : base(DataType.Date)\n        {\n        }\n\n        /// &lt;summary&gt;\n        /// Checks that the value of the data field is valid.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"value\"&gt;The data field value to validate.&lt;/param&gt;\n        /// &lt;returns&gt;\n        /// true always.\n        /// &lt;/returns&gt;\n        public override bool IsValid(object value)\n        {\n            DateTime inputDate = Convert.ToDateTime(value, CultureInfo.CurrentCulture);\n\n            if (inputDate.Date &gt;= DateTime.Now.Date.AddMonths(-2) &amp;&amp; inputDate.Date &lt;= DateTime.Now.Date.AddMonths(2))\n                return true;\n\n            return false;\n        }\n    }\n</code></pre>\n\n<p>But the issue is, it goes to server for validating the date field. how can i achive same with client validation.</p>\n\n<p>Thanks,\n-Naren</p>\n"},{"tags":["asp.net-mvc-3","mvc","model"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":12216597,"title":"MVC 3 Two models in one view and action method overloading","body":"<p>I have \"reset password\" and \"user profile info update\" sections on one view. </p>\n\n<p>I have a parent model with two child models: ResetPwdModel and UserInfoModel. </p>\n\n<p>For both reset password submit and save profile info submit, I want the result URL to look the same (same as the current URL), so the users won't be confused. </p>\n\n<p>In an effort to achieve this, I overloaded the action methods with one accepting ResetPwdModel and the other accepting UserInfoModel. However, I get the error message <code>The current request for action 'profile' on controller type 'XXController' is ambiguous...</code></p>\n\n<p>Is there an elegant way to resolve this? My goal is to be able to use two models in 1 view and have the  post URL looking the same as current URL.</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>public class ProfileParentModel\n{\n    public ProfileResetPwdModel ResetPwd { get; set; }\n    public ProfileUserInfoModel UserInfo { get; set; }\n}\n\npublic class ProfileResetPwdModel\n{\n    [Required]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Profile_lbl_OldPassword\", ResourceType = typeof(Resource))]\n    public string OldPassword { get; set; }\n\n    [Required]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Profile_lbl_NewPassword\", ResourceType = typeof(Resource))]\n    public string NewPassword { get; set; }\n\n    [Compare(\"NewPassword\", ErrorMessageResourceName = \"Profile_Error_NotMatch\", ErrorMessageResourceType = typeof(Resource))]\n    [Required]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Profile_lbl_ConfirmNewPassword\", ResourceType = typeof(Resource))]\n    public string ConfirmNewPassword { get; set; }\n}\n\npublic class ProfileUserInfoModel\n{\n    [Display(Name = \"Profile_lbl_FirstName\", ResourceType = typeof(Resource))]\n    public string FirstName { get; set; }\n\n    [Display(Name = \"Profile_lbl_LastName\", ResourceType = typeof(Resource))]\n    public string LastName { get; set; }\n\n    [Display(Name = \"Profile_lbl_WorkTitle\", ResourceType = typeof(Resource))]\n    public string WorkTitle { get; set; }\n\n    [Display(Name = \"Profile_lbl_CompanyName\", ResourceType = typeof(Resource))]\n    public string CompanyName { get; set; }\n\n    [Display(Name = \"Profile_lbl_CompanyAddress\", ResourceType = typeof(Resource))]\n    public string CompanyAddress { get; set; }\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>@{\n    var passwordHtml = Html.HtmlHelperFor(Model.ResetPwd);\n    var profileHtml = Html.HtmlHelperFor(Model.UserInfo);\n}\n@using (passwordHtml.BeginForm())\n{\n    //HTML goes here...\n}\n@using (profileHtml.BeginForm())\n{\n   //HTML goes here...\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>        [ActionName(\"Profile\")]\n    [HttpPost]\n    [Authorize]\n    public ActionResult ResetPassword(ProfileResetPwdModel model)\n    {\n\n        return View(\"Profile\", parentModel);\n    }\n\n    [ActionName(\"Profile\")]\n    [HttpPost]\n    [Authorize]\n    public ActionResult SaveUserInfo(ProfileUserInfoModel model)\n    {\n        return View(\"Profile\", parentModel);\n    }\n</code></pre>\n"},{"tags":["php","javascript","mvc","design-patterns"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12216377,"title":"Unsure of what development pattern I am using with PHP AJAX","body":"<p>I've always had a hard time understanding the full concepts of MVC, MVP, MVVM, etc.  I'm not even sure if I am following any of these models so I'm hoping some of you could shed some light.  My application uses PHP, JS, HTML, CSS, AJAX, MySQL as its core.</p>\n\n<p><strong>VIEW</strong></p>\n\n<p>I know that HTML / CSS are obviously the View, but sometimes, I have PHP generate HTML elements.  Also, sometimes I have JS manipulate HTML elements to modify its CSS.  I mean, PHP is technically a server-side language right?  So does the fact that PHP can generate \"View\" elements change its role in the programming pattern?</p>\n\n<p><strong>DEDICATED FILE THAT HANDLES AJAX REQUESTS</strong></p>\n\n<p>I have a single PHP file that handles all AJAX requests sent from JS.  I pass a unique POST or GET parameter to distinguish what the AJAX request is for and the PHP file has a bunch of If statements to handle these.</p>\n\n<pre><code>$req = $_REQUEST['type'];\nif($req == 'get_users'){\n// do stuff\n}\n</code></pre>\n\n<p>Most of the functions are database writes and reads.  Do I have it right that this is the controller?</p>\n\n<p><strong>MODEL</strong></p>\n\n<p>I am assuming that the model is the set of functions and classes I call periodically?</p>\n\n<p><strong>SUMMARY</strong></p>\n\n<p>My main question is whether or not a programming pattern can apply to more than one programming language even though one is client-side and another is server-side.  Am I even following a programming pattern?  If I am not or am somewhat close to one, does it matter if I am not following a pattern exactly?  I think that is what is holding me up and hoping you all could help me understand.</p>\n"},{"tags":["mvc","node.js","methods","express","mongoose"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":185,"score":0,"question_id":12175080,"title":"Node.JS / Mongoose / Express -> Object has no method \"findAll\"","body":"<p>I'm trying to pass a method from my model.js to my route.js.. And my route doesn't find any method ! I searched a solution and tested a lot of codes, without success.</p>\n\n<p>I'm a beginner in Node so sorry if it's a stupid error.</p>\n\n<p>This is a part of my code :</p>\n\n<hr>\n\n<p>Route.js</p>\n\n<pre><code>var mongoose    = require('mongoose');\nvar membersModel = new require('../models/MemberModel');\n\n// Member list page\nexports.list = function(req, res){\n    membersModel.findAll(function(err, docs){\n        res.render('list.jade', { title: 'My Registration App - Member list', member:  docs });\n    });\n};\n</code></pre>\n\n<hr>\n\n<p>MemberModel.js</p>\n\n<pre><code>var mongoose = require('mongoose'),\n    Schema = mongoose.Schema,\n    ObjectId = Schema.ObjectId;\n\n    // Open DB connection\n\n\nvar MemberSchema = new Schema({\n    id        : ObjectId,\n    title     : { type: String, required: true, enum: ['Mr', 'Mrs', 'Mme', 'Miss'] },\n    lastname  : { type: String, required: true, uppercase: true, trim: true},\n    firstname : { type: String, required: true},\n    mail      : { type: String, trim: true, index: { unique: true, sparse: true } },\n    date      : Date\n});\n\n// ...\n\nMemberSchema.method.findAll = function (callback) {\n  Members.find(function (err, member) {\n        callback(null, member)\n  });\n};\n\nvar conn = mongoose.createConnection('mongodb://localhost/members');\nvar MyModel = conn.model('Members', MemberSchema);\nvar instanceMember = new MyModel;\n\nmodule.exports = instanceMember;\n</code></pre>\n\n<p>Thanks for the time passed helping me.\nIf you want other informations, tell me !</p>\n"},{"tags":["asp.net","mvc","asp.net-mvc-2","viewmodel","modelbinders"],"answer_count":4,"favorite_count":4,"up_vote_count":12,"down_vote_count":0,"view_count":4021,"score":12,"question_id":2473399,"title":"ASP.NET MVC 2 - ViewModel Prefix","body":"<p>I want to use RenderPartial twice in my view with different models associated. The problem is that some properties are present in both models (nickname, password). They have no prefix, so even the id's or names are equal in the output. Now, if I have model errors for nickname or password, both fields get highlighted.</p>\n\n<p>Main View:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;% Html.RenderPartial(\"Register\", Model.RegisterModel); %&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;% Html.RenderPartial(\"Login\", Model.LoginModel); %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Login PartialView:</p>\n\n<pre><code>&lt;% using (Html.BeginForm(\"Login\", \"Member\")) { %&gt;\n&lt;fieldset&gt;\n    &lt;legend&gt;Login&lt;/legend&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Nickname) %&gt;\n        &lt;%= Html.TextBoxFor(x =&gt; x.Nickname) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Password) %&gt;\n        &lt;%= Html.PasswordFor(x =&gt; x.Password) %&gt;\n    &lt;/p&gt;    \n    &lt;input type=\"submit\" value=\"Login\" /&gt;\n&lt;/fieldset&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>Register PartialView:</p>\n\n<pre><code>&lt;% using (Html.BeginForm(\"Register\", \"Member\")) { %&gt;\n&lt;fieldset&gt;\n    &lt;legend&gt;Register&lt;/legend&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Nickname) %&gt;\n        &lt;%= Html.TextBoxFor(x =&gt; x.Nickname) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Email) %&gt;\n        &lt;%= Html.TextBoxFor(x =&gt; x.Email) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.Password) %&gt;\n        &lt;%= Html.PasswordFor(x =&gt; x.Password) %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;%= Html.LabelFor(x =&gt; x.PasswordRepeat) %&gt;\n        &lt;%= Html.PasswordFor(x =&gt; x.PasswordRepeat) %&gt;\n    &lt;/p&gt;\n    &lt;input type=\"submit\" value=\"Register\" /&gt;\n&lt;/fieldset&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>How can I change this?</p>\n"},{"tags":["asp.net-mvc","mvc","autofac","dbcontext","singleinstance"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":204,"score":2,"question_id":12207424,"title":"How should I scope dependency injection of Entity Framework DbContext in a web app? (InstancePerHttpRequest vs SingleInstance)","body":"<p>I have read that DbContext object should be created as InstancePerHttpRequest, not SingleInstance, because of its thread-unsafe nature and it might consume too much resource between requets which makes sence.\nBut I am using Repository objects which uses DbContext instance. Should I make them InstancePerHttpRequest or make them SingleInstance and use DependencyResolver to get the current DbContext.</p>\n\n<p>What would the best object creation design be, for Autofac (or any other DI), DbContext, Repository and Service based Web application?</p>\n\n<p>Another question, how expensive it is to create a different DbContext object for each repository or service for each web request (like 10-15 of them in a request)?</p>\n"},{"tags":["mysql","sql","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12209712,"title":"error checking in model","body":"<p>How do I do error checking, in my model? For instance if my procedure adds a record I want to return true if not I want to return false. Do I need to do a count on the records in the table before and after the procedure then compare them which is the best way to do this?</p>\n\n<pre><code>function add_student($SECTION_ID, $STUDENT_ID)\n\n{\n\n$this-&gt;db-&gt;query(\"call add_student('$SECTION_ID','$STUDENT_ID')\");\n\n}\n\n\nfunction drop_student($SECTION_ID, $STUDENT_ID)\n{\n\n$this-&gt;db-&gt;query(\"call drop_student('$SECTION_ID','$STUDENT_ID')\");\n\n}\n</code></pre>\n"},{"tags":["java","mvc","swing","design-patterns"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2613,"score":1,"question_id":8693815,"title":"Java - Learning MVC","body":"<p>I wish to learn how to apply MVC architecture to my Java project; mainly my work in Swing. Now there is no easy explanation or example how to write proper code using MVC in mind apart from these two I found here:</p>\n\n<ol>\n<li><a href=\"http://leepoint.net/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow\">http://leepoint.net/notes-java/GUI/structure/40mvc.html</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/articles/javase/mvc-136693.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/mvc-136693.html</a></li>\n</ol>\n\n<p>It seems to me there is not a defined MVC architecture in Java. From what I looked at it's what Java offers you at the base level of Wwing and what you can apply on your own is in the first tutorial.</p>\n\n<p>Apart from the two resources above, can someone provide me with a source that can ease you in to Java MVC?  A video tutorial maybe?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":9638843,"title":"Rails Best practices : associated object creation in model","body":"<p>I have bassicly 3 tables : Users (email, password), Contacts (name, phone), Relations (user_id, contact_id, level) .</p>\n\n<p>When a user creates a new contact, i want him to be associated to it. The association has 1 to 3 as level of \"friendship\".</p>\n\n<p>I use a form to input the level in my contacts#create controller.</p>\n\n<p>For now, i have this which works great </p>\n\n<pre><code>  def create\n    @contact = Contact.new(params[:contact])\n    if @contact.save\n      #@relation = Relation.new(:user_id =&gt; current_user.id, :contact_id =&gt; @contact.id, :level =&gt; params[:relation])\n      #@relation.save\n      redirect_to root_url, :notice =&gt; \"ok!\"\n    else\n      render \"new\"\n    end\n  end\n</code></pre>\n\n<p>I was thinking of moving the relation creation to my contact model to do something like this : </p>\n\n<pre><code>  after_create { Relation.create(user_id: current_user.id, contact_id: self.id, level: params[:relation]) }\n</code></pre>\n\n<p>Of course, this does not work, but you get the idea.\nWould it be good to that in the model or can i keep it as i do for now</p>\n\n<p>cheers</p>\n"},{"tags":["php","mvc","controller","symphony-cms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12208490,"title":"What happens once function inside a Controller gets called?","body":"<p>I have a function, lets say that it does some trivial calculation. The <code>Controller</code> which has this function is around <code>5000</code> lines long (Not written by me).</p>\n\n<p>Now, when I call a function which has trivial calculation. Does the server has to create an <code>Object</code> of this really large file and then run my function?</p>\n\n<p>Does every request create new <code>Object</code> of my <code>Controller</code> or once it's created it stays there for given <code>session</code>.</p>\n\n<p><strong>PS</strong> : I am thinking of breaking down this code, but just wanted to know whether it will give me an advantage in performance.</p>\n"},{"tags":["android","mvc","business-logic"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":12206087,"title":"Developing Model and using it for both Mobile and Tablets","body":"<p>I have a team that developed an iOS App for both iPhone and iPad.</p>\n\n<p>They used MVC (in built with iOS may be?). They built the business logic and used it both on iPhone and iPad with just different UIs / Views and same controller (possibly?).</p>\n\n<p>How do we achieve this in Android? MVC / MVP?\nHow do we structure the files in this case?</p>\n"},{"tags":["java","mvc","jsp","java-ee"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":12205095,"title":"How to communicate a \"warning\" message from the Service/DAO to the UI?","body":"<p>I have a Java web application.  It's basically something like this:</p>\n\n<pre><code>editUser.jsp -&gt; ControllerServlet.java -&gt; UpdateUserCommand.java -&gt; UserService.java -&gt; UserDAO.java -&gt; USER_TABLE.db\n</code></pre>\n\n<p>The user clicks a 'Save Changes' button on the editUser.jsp page, on success, the view is redirected to the viewUser.jsp page where they are presented with a read only view of the user and a \"User changes successfully saved\" message is displayed.</p>\n\n<p>For example, UpdateUserCommand.java does:</p>\n\n<pre><code>user.setWhatevers( /* whatevers */ );\ntry {\n  user = this.userService.updateUser(user);\n  messages.recordSuccessMessageForView(\"User changes successfully saved.\");\n} catch (Exception x) {\n  messages.recordErrorMessageForView(\"There was an error; \"+x.getMessage());\n}\n/* redirect to viewUser.jsp page */\n</code></pre>\n\n<p>My issue is, inside UserService.java I call something else -- let's say a NotificationService.java that sends an email.  If the send email fails, I log the email sending error, but I proceed normally.</p>\n\n<p>The result is, the user sees the \"Successully saved!\" message, but there's no visible indication that the email wasn't sent.  (Even though the send email error is logged on the server.)</p>\n\n<p>For example, UserService.java does:</p>\n\n<pre><code>public User updateUser(User user) throws Exception {\n  try {\n\n    this.userDAO.updateUser(user);\n\n    try {\n      this.notificationService.sendEmail(\"bob@bob.com\", \"user saved\");\n    } catch (Exception x) {\n      logger.log(\"Error sending email; \"+x.getMessage();\n    }\n\n  } catch (Exception x) {\n    throw new Exception(\"Error saving!\", x);\n  }\n}\n</code></pre>\n\n<p>So my question is, how would you suggest I communicate from the UserService back to the UpdateUserCommand that there is an email-related warning message to display in the UI?</p>\n\n<p>UpdateUserCommand.java can easily do a:</p>\n\n<pre><code>messages.recordWarning(\"Could not send the email.\");\n</code></pre>\n\n<p>But the UserService.java doesn't have access to the 'messages' object.  And I don't want the UserService to throw an exception because I want everything to proceed as if everything is normal.</p>\n\n<p>Any suggestions are greatly appreciated!</p>\n\n<p>Rob</p>\n"},{"tags":["c#","asp.net","asp.net-mvc-3","mvc","validation"],"answer_count":6,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":1179,"score":9,"question_id":8074548,"title":"MVC Validation - Keep it DRY with a service layer - What is best practice?","body":"<p>I am trying to adhere to best multi-layer design practices, and don't want my MVC controller to interact with my DAL (or any IRepository for that matter). It must go through my business service layer to enforce proper business rules and validation. Validation - I don't want to perform validation in the controller using the various validation attributes ( such as [Required]) on my domain model entities because this sheds light on my front end. Not to mention this service can also be implemented through a WPF front end.</p>\n\n<p>Since my validation is being done in my service layer, what are best practices for returning values back to the UI? I don't want a 'void addWhatever(int somethingsID)', because I need to know if it failed. Should it be a boolean? Should it be a Enum? Should I take advantage of exception handling? Or should I return some IValidationDictionary object similar to that used by MVC when adorning validation attributes to Model objects? (which I could use an adapter pattern in the UI later if needs be)</p>\n\n<p>I would like to pass my entity from the controller to the service layer, and understand whether or not validation/data-persistence failed. I also don't want to lose sight on the fact that I need to return a view indicating the proper error messages for each field that may have failed validation (I'd like to keep this as painless as possible).</p>\n\n<p>I have had several ideas, all of which don't feel right. I feel the answer includes View-specific-model entities, but this leads to a whole mapping issue that must be dealt with, not to mention this violates the DRY (Don't repeat yourself) principle. What is best practice?</p>\n"},{"tags":["mvc","extjs","model","associations","hasone"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12178921,"title":"Extjs sync hasOne model on store sync","body":"<p>I have two models: first one is <strong>PersonAddress</strong>, witch contains info about person and address and second one is <strong>Address</strong>, witch contains info about some address.\nI connect this to models with <em>PersonAddress hasOne Address</em>. Now I have store <strong>PersonAddresses</strong>, witch contains few <strong>PersonAddress</strong> models. I want to create new one PersonAddress.</p>\n\n<ol>\n<li>I create Address</li>\n<li>I create PersonAddress</li>\n<li>I set Address for PersonAddress (personAddress.setAddress(address))</li>\n<li>Sync PersonAddresses store.</li>\n</ol>\n\n<p>It tryes to create PersonAddress model on the server but my Address model is not created yet.</p>\n\n<p>I want that store PersonAddress while syncing models automatical sync new Address model. Is it possible? It is impotent, because I use save button on form witch contains parent model Person and I want only create Address and PersonAddress when I press save button on Person.</p>\n\n<p>P.S.: Sorry for my English. And you can ask if you don't understand something.</p>\n"},{"tags":["ios","mvc","design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12200169,"title":"Best practices when using MVC in iOS applications","body":"<p>I am developing an iOS application and in one of my model classes, i have the following :</p>\n\n<pre><code>@interface Book:NSObject {\n\n    @property (nonatomic, retain) NSString *name;\n    @property (nonatomic, retain) UIImage  *myImage;\n\n    ....\n\n}\n\n@end\n</code></pre>\n\n<p>My questions are :</p>\n\n<ul>\n<li><p>Do I respect the MVC Model like this when putting an object like <code>UIImage</code> which represents a graphical composant?</p></li>\n<li><p>What are your suggestions (best practices) in MVC when developing iOS applications?</p></li>\n</ul>\n"},{"tags":["c#","asp.net-mvc","mvc","renderaction"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":768,"score":1,"question_id":1662659,"title":"Create controller base class (partial)","body":"<p>Since my <code>@html.render</code> action crashes my dev and prod servers i have to use <strong>partials(crap)</strong>.</p>\n\n<p>I tried creating <code>public partial controller{}</code> class so i can set needed data for all my views but i am having no luck (everything breaks).</p>\n\n<p>I am coming from LAMP cakePHP background and really need simplicity.</p>\n\n<p>I need to know how to create a partial base controller(<strong>that doesnt override the regular  base controller</strong>) and how to access multiple models from the class.</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":145,"score":-1,"question_id":12190142,"title":"MVC which is the better practice?","body":"<p>I have a <strong>stored procedure</strong>, a <strong>controller</strong> and a <strong>model</strong>.</p>\n\n<p>Where should I do the database error checking[No rows returns, table has conflicting primary key, invalid values specified, etc?] in my procedure or model? and from where should I be displaying messages out to the user[ Update successful, Could not execute statement, etc ]?</p>\n\n<p>What is the better practice?</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","viewmodel","controllers"],"answer_count":3,"favorite_count":5,"up_vote_count":10,"down_vote_count":0,"view_count":1744,"score":10,"question_id":7391237,"title":"MVC 3 - Controllers and ViewModels - Which should contain most of the business logic?","body":"<p>Currently in my application and using the unit of work pattern and generic repository, all my controllers contain all of the business logic. I'm in the process of putting everything over to use ViewModels instead of the straight Model.</p>\n\n<p>While this is a good idea, now comes a question that can significantly separate my business logic in the controllers. For controllers and ViewModels, which should contain most of the business logic?</p>\n\n<p>I've tried a few ways to get my ViewModels to practically contain all the business logic. However, I do have to have an argument in my ViewModel's constructor that takes a Unit of Work. Is this a good idea?</p>\n\n<p>My code smell tells me it is. However, I am just a little worried how this will be in consistency with controllers that perform actions that do not need ViewModels. Simply put, actions that do not require to pass a Model/ViewModel to a View; this case happens on actions that do redirects to other actions. Which means, my business logic can either stay in that action or I could separate that business logic into a function.</p>\n\n<p>What is the best practice here?</p>\n"},{"tags":["mvc","extjs","extjs4","extjs4.1","extjs-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":183,"score":0,"question_id":12193896,"title":"EXTJS MVC sending data from one view to another","body":"<p>Am developing application using EXTJS MVC Architecture.\nI have created a dataview which consists of the list of users in the system, and each item in the dataview consists of three buttons. One of them is the edit button, which on clicking opens another view. This view consists of a form where the users details can be edited. Now, what am struck in is, when i open the form, i want the users details to be loaded into the fields of the form.</p>\n\n<p>So, how do i send the data from the dataview to the form so that the appropriate data, respective to the user gets loaded?</p>\n\n<p>Here is the code:</p>\n\n<p>Controller</p>\n\n<pre><code>init : function() {\n    this.control({\n        'button[action=addUsers ]' : {\n            click : this.addUsers\n        },\n        '#userlist' : {\n            itemclick : this.userListSelectionChange\n        }\n    })\n},\nuserListSelectionChange : function(view, record, h, ind, evt) {\n\n    console.log('user List clicked')\n\n    var edit = evt.getTarget('a.icon-edit-32');\n    var deletebt = evt.getTarget('a.icon-delete-32');\n\n    if (edit != null) {\n\n        var name = record.get('Name');\n        console.log(name);\n\n        this.showHWindow(record);\n    }\n\n    if (deletebt != null) {\n\n        var name = record.get('Name');\n        console.log(name);\n\n        this.showOffWindow();\n    }\n},\n</code></pre>\n\n<p>When the showHWindow() method is called, the form opens, and i want the form to be loaded with the data for that particular user. And, even though its printing the correct name for</p>\n\n<pre><code>var name = record.get('Name');\n</code></pre>\n\n<p>Am not sure how to send this data to the form.</p>\n\n<p>Also, i have tried using loadRecord method, but the fields are empty.</p>\n\n<pre><code>this.euWin = Ext.create('Campus.view.EditUsers');   \n\nvar f = this.getEdituserform().getForm();\n\n    f.loadRecord(record);\n\n    this.euWin.showWin();\n</code></pre>\n"},{"tags":["jquery","spring","mvc","autocomplete","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":128,"score":0,"question_id":12190150,"title":"Spring MVC,Jquery Autocomplete not working","body":"<p>I am trying to implement Autocomplete feature using Spring MVC and Jquery.Employee list is coming from DB but from jquery; controller's function is not getting called.\nPlease see below code.</p>\n\n<p>empDeatils.jsp</p>\n\n<pre><code> `link rel=\"stylesheet\" type=\"text/css\" ` `href=\"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css\" /&gt;\n `\n\n `&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n `\n\n `&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js\"&gt;&lt;/script&gt;\n  `\n\n `&lt;script type=\"text/javascript\"&gt;\n `\n\n$(document).ready(function() {\n\n\n$(document).ready(function() {\n\n$(\"#empName\").autocomplete({\n\nsource: '${pageContext.request.contextPath}/getEmpList'\n\n});\n\n});\n\n&lt;/script&gt;\n\n\n\n&lt;form:input path=\"empName\" cssClass=\"input-xlarge\" id=\"empName\" /&gt;\n</code></pre>\n\n<p>Controller class</p>\n\n<pre><code>@RequestMapping(value = \"/getEmpList\", method = RequestMethod.GET, headers = \"Accept=*/*\")\n\npublic @ResponseBody List&lt;String&gt; getEmpNameList(@RequestParam(\"term\") String query) {\n\nList&lt;String&gt; empList = empDetailsService.getEmpNames(query);\n\nreturn empList;\n\n}\n</code></pre>\n\n<p>Please help.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","mvc","validation","constructor"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12189424,"title":"Validating on class instantiation","body":"<p>When I instantiate a new object, what should I do with the parameters that get passed in in terms of validation? </p>\n\n<p>I'm guessing it's not safe to just assume the parameters coming in are fine, however I thought validation should be separated into another layer?</p>\n\n<p>For example, if a class takes a start time and and end time the things the class should require:</p>\n\n<ul>\n<li><code>start_time</code> and <code>end_time</code> are both valid datetime objects</li>\n<li><code>start_time</code> should be before <code>end_time</code></li>\n</ul>\n\n<p>Any direction with what is okay to validate in class constructors, if anything at all as well as any general information about where validation should take place would be helpful.</p>\n\n<p>It might be worth noting I'm trying to work with an MVC structure.</p>\n"},{"tags":["javascript","jquery","ajax","mvc","ember.js"],"answer_count":2,"favorite_count":7,"up_vote_count":18,"down_vote_count":0,"view_count":6134,"score":18,"question_id":8948213,"title":"ember.js and the server","body":"<p>I'm looking at Ember.js and have been reading the docs to try and understand how to use it. I get it (pretty well), except for one thing. To my way of thinking in the MVC pattern, the Model is the repository for data in the application. I can see how that works for client side data in Ember.js. What I don't get is how to tie that data back to the server so that if data changes at the client, the changes are updated in server. And vice versa. I've been doing this by in in my web applications making Ajax/JSON calls to back and forth to the server, I'm just not getting how to do that using Ember.js.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","dataannotations"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":190,"score":1,"question_id":12193449,"title":"Can I show/hide a view model element with data annotations based on a condition?","body":"<p>I am generating a lot of views using data annotations and a few custom templates. </p>\n\n<pre><code>public class Container\n{\n    [HiddenInput(DisplayValue = false)]\n    public string Key { get; set; }\n\n    [Display(Name = \"Full Name\")]\n    [RequiredForRole(\"Editor\"), StringLength(30)]\n    public string Name { get; set; }\n\n    [Display(Name = \"Short Name\")]\n    [RequiredForRole(\"Editor\"), StringLength(10)]      \n    public string ShortName { get; set; }\n\n    [Display(Name=\"Maximum Elements Allowed\")]\n    [RequiredForRole(\"Admin\")]\n    public int MaxSize { get; set; }\n\n    [Display(Name = \"Components\")]\n    public IList&lt;Component&gt; Components{ get; set; }\n}\n</code></pre>\n\n<p>In the views, I just use <code>@Html.DisplayForModel()</code>, <code>@Html.EditorForModel</code>, etc.</p>\n\n<p>Certain properties need to be editable by users in some roles but hidden for others. As you can see, I've implemented a custom validation attribute <code>RequiredForRole</code> which checks a value exists but only if the current user has a certain role.</p>\n\n<p>I really need a custom Display attribute, but as <code>DisplayAttribute</code> is sealed, this doesn't seem possible.</p>\n\n<p>I want to avoid having lots of different templates for different kinds of users, or start pushing this logic of who sees what down onto the views. What's the neatest way to solve this problem?</p>\n"},{"tags":["asp.net-mvc","mvc","beta","html.radiobuttonlist"],"answer_count":5,"favorite_count":1,"up_vote_count":17,"down_vote_count":0,"view_count":20938,"score":17,"question_id":345396,"title":"MVC & RadioButtonList","body":"<p>I tried doing this but this only display the radiobutton without text beside it..</p>\n\n<pre><code>             &lt;% foreach (string s in Html.RadioButtonList(\"rbl\")) {%&gt;\n                 &lt;% =s %&gt;\n                 &lt;% } %&gt; \n</code></pre>\n"},{"tags":["php","oop","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":656,"score":1,"question_id":2613135,"title":"PHP - Concatenating objects and casting to string - bad idea?","body":"<p>Is it bad practice to concatenate objects when used in this context:</p>\n\n<pre><code>$this-&gt;template-&gt;head .= new View('custom_javascript')\n</code></pre>\n\n<p>This is the way i normally add extra css/js stuff to specific pages. I use an MVC structure where my basic html template has a $head variable which I set in my main Website_controller. I have used this approach for a while as it means I can just add bits and pieces of css/js stuff from whichever page/controller needs it. But having come across a problem in PHP 5.1.6 where the above code results in \"Object ID #24\", the result of toString() not being called i think, I am rethinking whether i should just fix this to work in PHP 5.1.6 or if i should rethink this approach in general.</p>\n\n<p>Any pointers appreciated!</p>\n"},{"tags":["mvc","grails","groovy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12191546,"title":"Sending a value through render() in grails controller","body":"<p>This is probably one very simple question to answer, but I can't output the variable I am trying to send to a view through a controller in the Grails Framework.</p>\n\n<pre><code>render(view: 'parseerror', error: it)\n</code></pre>\n\n<p>That's my code in my controller, it renders the view correctly but as soon as I am trying to call the variable through <code>${error}</code> it outputs nothing. It should output a string since when I print the iterator, the console output: <code>The example string</code></p>\n\n<p>Thanks for helping me out :)</p>\n"},{"tags":["asp.net-mvc","linq","mvc","hyperlink"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12190742,"title":"creating hyperlink using Linq query","body":"<pre><code>return (from doc in db.setupDocuments\n                where doc.ParentDocumentID == parentId\n                select new TreeViewItem\n                {\n                    Text = doc.DocumentTitle,\n                    Value = SqlFunctions.StringConvert((decimal)doc.DocumentID),\n                    LoadOnDemand = doc.setupDocuments1.Count &gt; 0,\n                    Enabled = true,\n                    RouteName = \n                    //Url = \"/Settings/SelectedItem?text=\" + doc.DocumentTitle\n                });\n</code></pre>\n\n<p>Hi friends i want to create a link on each object that is retrieved from the database. I want to forward it to the Action of the name of the object title (e.g. doc.DocumentTitle) and to a static controller \"Settings\". But not using the link like given in the commented line. When i use \n    ActionName = doc.DocumentTitle,<br>\n    ControllerName = \"Settings\"\nit didn't work... Any suggestions. thanks in advance.</p>\n"},{"tags":["php","ruby-on-rails","asp.net-mvc","mvc","spring"],"answer_count":8,"favorite_count":4,"up_vote_count":30,"down_vote_count":2,"view_count":13764,"score":28,"question_id":253785,"title":"PHP MVC (symfony/Zend) vs ASP MVC vs Spring MVC vs Ruby on Rails?","body":"<p>I'm paralyzed by choice.  </p>\n\n<p>I know PHP, C# and Java fairly well as languages.  Most of my web development in the past has been in PHP (with my own or other OSS frameworks).  I've spent the last 2-3 years developing desktop GUI apps in C#.  Before that I was doing desktop GUI apps in Java (with a little Servlets/JSP).</p>\n\n<p>I want to develop a social web 2.0 site (in my own time) and in the process also add to my \"salable\" skill set (ie, what people would hire me for).</p>\n\n<p>Do I:</p>\n\n<ol>\n<li>Go with what I know best and do it in PHP but use the latest OSS frameworks (eg, Zend).</li>\n<li>Learn ASP MVC and extend my most recently acquired skill set to include web technologies.</li>\n<li>Return to Java and learn something like Spring MVC.</li>\n<li>Go with something entirely new like Ruby on Rails.</li>\n</ol>\n"},{"tags":["mvc","design-patterns","frameworks","datamapper","domain-model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":162,"score":0,"question_id":12015202,"title":"Implementing Domain Model and Data Mapper pattern with external data sources","body":"<p><strong>Update:</strong></p>\n\n<p>Ok some update, finally we have decided on the framework (Yii) and have some initial structures. I will paste some of the relavent code to illustrate our current status:\n(only has read action here)</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>class SponsorController extends RestController\n{\n    public function actionRestView($id)\n    {\n        $sponsorMapper = new SponsorMapper(\n            new Db1Adapter(), // Gateway to the external SOAP Webservice\n            new Db2Adapter()  // Gateway to the external REST Webservice\n        );\n\n        $data = $sponsorMapper-&gt;read($id);\n\n        $this-&gt;renderJson(\n            array(\n                'success' =&gt; true,\n                'message' =&gt; 'Record Retrieved Successfully',\n                'data' =&gt; $data\n            )\n        );\n    }\n}\n</code></pre>\n\n<p><strong>Domain Model</strong></p>\n\n<pre><code>class Sponsor extends CModel\n{\n    public $id;\n    public $db1Result;\n    public $db2Result;\n\n    public function attributeNames()\n    {\n        return array(\n            'id',\n            'db1Result',\n            'db2Result',\n        );\n    }\n}\n</code></pre>\n\n<p><strong>Data Mapper</strong></p>\n\n<p>\n\n<pre><code>class SponsorMapper extends Mapper\n{\n    public function __construct(SoapAdapter $db1Adapter,\n                                RestAdapter $db2Adapter)\n    {\n        $this-&gt;adapters['soap'] = $db1Adapter;\n        $this-&gt;adapters['rest'] = $db2Adapter;\n    }\n\n    public function read($id)\n    {\n        $db1Result = $this-&gt;adapters['soap']-&gt;demoRequest();\n        $db2Result = $this-&gt;adapters['rest']-&gt;demoRequest();\n\n        return $this-&gt;createEntity($db1Result, $db2Result);\n    }\n\n    protected function createEntity($db1Result, $db2Result)\n    {\n        $sponsor = new Sponsor();\n        $sponsor-&gt;db1Result = $db1Result;\n        $sponsor-&gt;db2Result = $db2Result;\n\n        return $sponsor;\n    }\n}\n</code></pre>\n\n<p>Now I have 2 questions:</p>\n\n<ol>\n<li><p>Right now the property of Sponsor object is just db1Result and db2Result and I will change it to the actual properties (eg. firstName, lastName, email) so the SponsorMapper::createEntity will be something like this:</p>\n\n<pre><code>protected function createEntity($db1Result, $db2Result)\n{\n    $sponsor = new Sponsor();\n    $sponsor-&gt;firstName = $db1Result-&gt;result-&gt;first_name;\n    $sponsor-&gt;lastName = $db1Result-&gt;result-&gt;last_name;\n    $sponsor-&gt;email = $db2Result-&gt;QueryResult-&gt;ItemObject-&gt;email;\n\n    return $sponsor;\n}\n</code></pre></li>\n</ol>\n\n<p>It seems to me that these kinds of stuff should happen inside the domain object instead mapper; I know I can treat db1Result and db2Result as domain object of their own and create their relations to Sponsor domain object, but I'm not sure if that's the right direction. Should I do it in the mapper?</p>\n\n<ol>\n<li>I will need introduce a caching layer because to retrieve data from external databases is not fast. Where is the best place/practice to introduce caching layer? One way to do it is in the controller, so code caching layer as another mapper, and if this cache mapper doesn't return data, we can then go the long way to retrive stuff from external. But this solution means I will need to put all those logics all over the controller actions, maybe there is a better way to place caching layer?</li>\n</ol>\n\n<p><strong>Initial Question:</strong></p>\n\n<p>We are in the process of designing/creating a RESTFul API project on top of PHP MVC framework. The project's goal is to serve as an adapter between two other \"foreign\" APIs (one SOAP, the other REST).</p>\n\n<p>I'm thinking the models in this project should roughly work like this:</p>\n\n<ul>\n<li>Say we have a collection of user data on both \"foreign\" database\nbehind their respective APIs, and locally we create a model \"User\"</li>\n<li>Say we have a \"GetById\" method inside the \"User\" model, which needs\nto: grab the user data by id from both foreign APIs, combine and\nreturn the result.</li>\n<li>I probably will use a builder pattern inside \"User\" model to\ninstantiate 2 other models (for each foreign API), and ask those 2\nmodels to fetch data. With this structure I can let the 2 additional\nmodels to inherit things need for them to communicate with their\nAPIs.</li>\n<li><p>So we have those models:</p>\n\n<ol>\n<li>User</li>\n<li>SOAPBuilder</li>\n<li>RESTBuilder</li>\n<li>UserSOAP</li>\n<li>UserREST</li>\n</ol></li>\n</ul>\n\n<p>Now what I don't like about this design is, the structure is a bit complex and I don't know a good way to place those model files into different places based on their \"types\" (the User model itself, the builder models, etc).</p>\n\n<p>Am I over-designing this? Is there better patterns I should consider?</p>\n"},{"tags":["php","mvc","zend-framework","model"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12185120,"title":"No find model when i use Zend_View_Helper_Action","body":"<p>Sorry for my English, it's very poor but i thing you understand my problem. I have  module \"addons\" and \"default\" in my project. And I use plugin in default module.  I show code:</p>\n\n<pre><code>public function preDispatch(Zend_Controller_Request_Abstract $request)\n{\n    $actionViewHelper = new  Zend_View_Helper_Action();\n\n    $layout = Zend_Layout::getMvcInstance();\n    //---------------------------------------------------\n    $menu = $actionViewHelper-&gt;action('index', 'menu','addons');\n\n    //---------------------------------------------------\n    $layout-&gt;navigation=$menu;      \n}\n</code></pre>\n\n<p>When I use <code>$actionViewHelper-&gt;action('index', 'menu', 'addons')</code>, <code>MenuController</code> doesn't detect the model, the rest of<code>MenuController</code> is working well. When my application is executed from <code>http://address/addons/menu/index</code> the model is found. But I want to execute my application from <code>http://address/articles/list</code> and the menu was inject in plugin to layout.</p>\n\n<p>Thaks for help, best regards.\nDamian</p>\n"},{"tags":["ajax","json","mvc","joomla","joomla2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":227,"score":0,"question_id":12182923,"title":"How can I implement JSON in custom Joomla 2.5 MVC component as a way of filtering large data sets using AJAX","body":"<p>I'm new to joomla development however, I'm moderately proficient at MySQL, PHP and JQuery - all of which I'm currently putting into practice to develop a <strong>custom component (J!2.5)</strong> to manage my projects. </p>\n\n<p><strong>Scenario</strong></p>\n\n<p>For simplicity, let's say I've got the following tables and fields:</p>\n\n<ol>\n<li><strong>tbl_projects - id, title, organisation (tbl_organisation.id)</strong></li>\n<li><strong>tbl_organisations - id, title, tbl_counties.id</strong></li>\n<li><strong>tbl_counties - id, title</strong></li>\n</ol>\n\n<p>For the sake of data integrity and ease of use, I've populated *tbl_organisations* with over 5,000 potential clients that are naturally, editable from the admin side of my component, having it's own controller, model and view. </p>\n\n<p>The 'problem' that this creates is that, when adding a new project, the dropdown list of organisations (tbl_organisations.id => tbl_organisations.title) is more than a little unwieldy. Hence, the necessity for me to create a means of filtering organisations by county.</p>\n\n<p>I would like to do this with an ajax call to retrieve the counties from the existing counties model then filter the organisations dropdown accordingly. Furthermore, since this 'filtering' type functionality is something that I will require for other tables/datasets, I wonder how best to achieve this?</p>\n\n<p>I hope this makes sense!</p>\n\n<p>Any help would be massively appreciated!!!</p>\n\n<p>Many thanks in advance,</p>\n\n<p>Gez</p>\n"},{"tags":["jquery","asp.net-mvc-3","mvc","mobile"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":476,"score":0,"question_id":10265026,"title":"ASP MVC3 Problems with URL after adding JQueryMobile","body":"<p>Anyone else having trouble with MVC3, JQuery 1.7.1 and JQuery Mobile 1.1.0? Whenever I submit a standard MVC form my URL goes from:</p>\n\n<p><strong>localhost/site/controller/action</strong></p>\n\n<p>To</p>\n\n<p><strong>localhost/site/controller/action#/controller/action</strong></p>\n\n<p>I'm in the middle of simplifying an existing site that is quite messy so am working through controller by controller cleaning up and removing jquery form handling where it isn't required and just using Razor. I wondered if something in my project was conflicting but i've managed to replicate it from a new project:</p>\n\n<p>Open VS2010, New Empty MVC3 Project - i.e. everything not mentioned below is the default MVC project</p>\n\n<p>Add TestController:</p>\n\n<pre><code>using System.Web.Mvc;\nusing MvcApplication1.Models;\n\nnamespace MvcApplication1.Controllers\n{\n    public class TestController : Controller\n     {\n        public ActionResult Testing()\n        {\n            return View(new TestModel());\n        }\n\n        [HttpPost]\n        public ActionResult Testing(TestModel testModel)\n        {\n            if (ModelState.IsValid)\n            {\n                //Temp for examples sake\n                ModelState.AddModelError(\"EmailAddress\", \"Account not found.\");\n            }\n\n            return View();\n        } \n    }\n}\n</code></pre>\n\n<p>Add TestModel:</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\n\nnamespace MvcApplication1.Models\n{\n    public class TestModel\n    {\n        [Required(ErrorMessage = \"Email is required.\")]\n        [DataType(DataType.EmailAddress)]\n        [StringLength(50, ErrorMessage = \"Email too long.\")]\n        public string EmailAddress { get; set; }\n    }\n}\n</code></pre>\n\n<p>Add view Folder Test with view Testing:</p>\n\n<pre><code>@model MvcApplication1.Models.TestModel\n\n@using (Html.BeginForm(\"Testing\", \"Test\", FormMethod.Post))\n{ \n    &lt;div id=\"divForgotPassword\"&gt;\n        &lt;fieldset data-role=\"fieldcontain\"&gt;\n            &lt;legend&gt;Forgot Password&lt;/legend&gt;\n            &lt;div id=\"editor-label\"&gt;\n                &lt;label for=\"txtLogonID\"&gt;\n                    Email Address:&lt;/label&gt;&lt;/div&gt;\n            &lt;div id=\"editor-field\"&gt;\n                @Html.TextBoxFor(m =&gt; m.EmailAddress, new { type = \"email\" })\n                &lt;br /&gt;\n                @Html.ValidationMessageFor(m =&gt; m.EmailAddress)&lt;/div&gt;\n            &lt;input type=\"submit\" value=\"Reset Password\" data-role=\"button\" data-inline=\"true\" /&gt;\n        &lt;/fieldset&gt;\n    &lt;/div&gt;\n}\n</code></pre>\n\n<p>Run and visit <a href=\"http://localhost:65298/Test/Testing\" rel=\"nofollow\">http://localhost:65298/Test/Testing</a>\nHit Reset Password, validator works, URL doesn't change</p>\n\n<p>Add jquery.mobile-1.1.0.js and jquery-1.7.1.min.js to scripts folder</p>\n\n<p>To _Layout.cshtml add: \nAnd Change jquery 1.5.1 to 1.7.1</p>\n\n<p>Run and visit our page again\nHit Reset Password, validator works but now you have:\n<strong>http://localhost:65298/Test/Testing#/Test/Testing</strong></p>\n\n<p>I must be doing something wrong?? The main problem with this is that with that URL other javascript I have doesn't like to run. I also worry it will interefere with something else, plus it looks ugly and has to be wrong...</p>\n\n<p>Many Thanks In Advance!!</p>\n"},{"tags":["javascript","json","mvc","routing","http-status-code-404"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":480,"score":0,"question_id":9560598,"title":"URL Routing issue with Javascript (Jquery) call to MVC3 Controller/Action/ID, returning 404, should get JSon","body":"<p><strong>Question:</strong> How do I code the URL passed to javascript so that in the built/deployed version the code will go to the controller/action with the id and return the JSon data, like it works in the Visual Studio environment?</p>\n\n<p><strong>Goal:</strong> to return dates to the datepicker, because they will be disabled dates. I expect a return of JSon array of strings that are dates that are then fed into the datepicker.</p>\n\n<p><strong>Relevance to others:</strong>\nReturning JSon data from a call to Controller/Action/ID seems like it would be a common thing to do. I see other questions regarding routing issues, as well as JSon, and jQuery seems to be a popular way to enhance web development.</p>\n\n<p><strong>Background:</strong>\nI have a jQuery-UI datepicker that calls a Controller/Action/ID and returns json data to the datepicker. It works perfectly when running within Visual Studio, but fails when built and deployed to the Dev environment.  The code passes the URL that is generated and passed to the jQuery is:\n/Secure/Validation/getDisabledDates/999</p>\n\n<p>We are using Umbraco, with a directory called /Secure within the Umbraco area to hold our MVC code. The URL that the code tries then generates on the Dev environment is:\n/Secure/Validation/getDisabledDates/999\nIf I watch the call and the errors in Firebug, I see that an error for the following:\nPOST <a href=\"http://dev.ourcompanyname.com/Secure/Validation/getDisabledDates/999\" rel=\"nofollow\">http://dev.ourcompanyname.com/Secure/Validation/getDisabledDates/999</a>       302 Found (if I investigate further, I find it was really a 404, that got sent to the error page, and that's what was found.)</p>\n\n<p>I'm using @Url.Action in the view to get the correct (hopefully) URL to the action, but when the javascript request is made in the Dev environment, the return is a 404. The code gets into the javascript code and displays the URL in an alert, which looks right to my eyes. The code does not seem to get as far as the MVC controller (I tried putting a messagebox there).</p>\n\n<p>This seems to be because the controller isn't actually a distinct, real page within a directory, because the MVC code is compiled into a DLL. I've heard this and it makes sense, but other people in the world seem to be calling controllers, so I'm not sure what my problem is here.</p>\n\n<p>Originally there was only one set of dates, so some code calls only say GetDates, but then it was broken up by Widget, so calls then reflect ByWidget, so an ID is passed. All of the calls trace correctly, and the code works in Dev.</p>\n\n<p>SetDates that gets called on success in the javascript function is another javascript function, but I have put alerts in SetDates, in the Dev environment the code does not get that far, presumably because it will not find the code in the ValidationController.</p>\n\n<p>Any helpful suggestions would be very greatly appreciated!</p>\n\n<p><strong>Specs:</strong>\nMVC3,\nJavascript 1.6.4,\nJquery jquery-ui-1.8.17,\nIIS 7.5,\nUmbraco 4.7.1,\nVisual Studio 2010</p>\n\n<p><strong>Javascript code in separate .js file:</strong></p>\n\n<pre><code>function getDisabledDatesByWidget(urlGetDisabledDatesByWidget) {\n    alert('urlGetDisabledDatesByWidget = ' + urlGetDisabledDatesByWidget);\n    $.ajax({\n        //data: {id: id},\n        type: \"POST\",\n        async: false,\n        url: urlGetDisabledDatesByWidget,\n        dataType: 'json',\n        success: setDates,\n        constrainInput: true,\n        defaultDate: new Date(defaultCutoff + \" 00:00\")\n    });\n}\n</code></pre>\n\n<p><strong>MVC code in the view, in  the document ready function:</strong></p>\n\n<pre><code>    widgetId = '@ViewBag.WidgetId';\n    var urlGetDisabledDatesByWidget = '@Url.Action(\"getDisabledDates\", \"Validation\", new{id = @ViewBag.WidgetId})';\n    getDisabledDatesByWidget(urlGetDisabledDatesByWidget);\n</code></pre>\n\n<p><strong>MVC code in ValidationController:</strong></p>\n\n<pre><code>[HttpPost]\npublic JsonResult getDisabledDates(int id)\n{\n    List&lt;String&gt; disabledDateStrings = new List&lt;String&gt;();\n    List&lt;DateTime&gt; _DisabledDateDates = DisabledDateSetup.GetDisabledDateDatesByWidget(id).Value.ToList();\n\n    ////Convert disabled dates to string array\n    foreach (DateTime disabledDate in _DisabledDateDates)\n    {\n        disabledDateStrings.Add(disabledDate.ToString(\"M-d-yyyy\"));\n    }\n\n    ChangeType _changeType = ChangeType.NoChangeType;\n    ChangeDateRangeSetupResponse _dates = DisabledDateSetup.GetValidChangeDateRange(_changeType);\n\n    return Json(new\n    {\n        disabledDates = disabledDateStrings,\n        startDate = UnixTicks(_dates.Value.BeginDate),\n        endDate = UnixTicks(_dates.Value.EndDate)\n    });\n}\n</code></pre>\n\n<p><strong>MVC code in the view, in the div:</strong></p>\n\n<pre><code> @Html.TextBoxFor(model =&gt; model.SetupDate, new { id = \"DisabledDateCalendar\"})\n</code></pre>\n\n<p><strong>Global asax routing:</strong></p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n    routes.MapRoute(\n        \"Default\", // Route name\n        \"{controller}/{action}/{id}\", // URL with parameters\n        new { controller = \"Account\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n    );\n\n}\n</code></pre>\n\n<p><strong>What I've done to try to resolve this before posting:</strong></p>\n\n<ul>\n<li>Consulted with other developers at my office</li>\n<li>Traced the calls in Dev using Firefox/Firebug and Chrome/Chrome's F12 feature</li>\n<li>Placed alerts/messageboxes in code, deployed it, and watched what was displayed and what was not</li>\n<li>Googled for answers</li>\n<li>Reviewed many Stack Overflow questions, including:</li>\n<li><a href=\"http://stackoverflow.com/questions/6700959/asp-net-mvc-routing-javascript-url-404-errors\">asp.net MVC routing - javascript url 404 errors</a></li>\n<li><a href=\"http://stackoverflow.com/questions/7864207/handling-asp-net-mvc-routing-in-external-javascript\">Handling ASP.NET MVC Routing in External JavaScript</a></li>\n<li><a href=\"http://stackoverflow.com/questions/1470613/asp-net-mvc-routing-fails-when-using-default-aspx-controller-action-style-url\">ASP.NET MVC routing fails when using default.aspx/controller/action style url</a></li>\n</ul>\n"},{"tags":["php","mvc","orm","doctrine2"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12179812,"title":"Extending Doctrine Entity in order to add business logic","body":"<p>I'm trying to practice a good design and extending Doctrine entity.\nMy extended class, the model basically, will have extra business logic + access to the entity basic data.</p>\n\n<p>I am using Doctrine 2.2.1 &amp; Zend Framework 1.11.4 &amp; php 5.3.8</p>\n\n<p>When I use DQL, doctrine return successfully the Model entity.\nWhen I use Doctrine native find() function, it returns nothing :(.</p>\n\n<p>HELP...</p>\n\n<h2>This is how it rolls:</h2>\n\n<p><strong>Bootstrap.php</strong>:</p>\n\n<pre><code>    $classLoader = new \\Doctrine\\Common\\ClassLoader('Entities', APPLICATION_PATH.'/doctrine');\n    $classLoader-&gt;register();\n    $classLoader = new \\Doctrine\\Common\\ClassLoader('Models', APPLICATION_PATH);\n    $classLoader-&gt;register();\n</code></pre>\n\n<p><strong>Model in APPLICATION_PATH\\models\\User.php</strong>:</p>\n\n<pre><code>namespace Models;\nuse Doctrine\\ORM\\Query;\n\n/**\n * Models\\User\n *\n * @Table(name=\"user\")\n * @Entity\n */\nclass User extends \\Entities\\User {\n\npublic function __wakeup() {\n    $this-&gt;tools = new Application_App_Tools();\n}\n</code></pre>\n\n<p><strong>Entity retrieval functions</strong>:</p>\n\n<p><em><strong>DOESN'T WORK</em></strong>:</p>\n\n<pre><code>$userEntity = $registry-&gt;entityManager-&gt;find('Models\\User', $userEntity);\n</code></pre>\n\n<p><em><strong>WORKS</em></strong>:</p>\n\n<pre><code>$qry = $qb\n        -&gt;select('u')\n        -&gt;from('Models\\User','u'); \n</code></pre>\n"},{"tags":["arrays","cocoa","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12179629,"title":"MVC confusion, where do I put my model?","body":"<p>I'm working on my first cocoa app from scratch and I'm a little confused about how to get my model, view, and controller working together. I'm sure I'm just missing something inane. </p>\n\n<p>Basically, my view is currently set up to return 3 values to the controller. The controller takes those values and creates a new instance of a class. I want to be able to put those objects in an array and then work with the array. </p>\n\n<p>First: The array I want to create... it is my model, right? How and where do I create it so that an action in the view (inputing the values) is interpreted by the controller correctly (creating the object) and then stored in the method?</p>\n\n<p>Second: The attempts I have made leave me isolated from my array. I tried to create a class for the array, but I can't access it from the controller. How do I get around this?</p>\n\n<p>Lastly: I've been banging my head against the code for a few days. I'm teaching myself and I'm learning a lot but I have lots of simple questions like this. Thank you for taking the time to help. )</p>\n\n<p>EDIT:</p>\n\n<p>I've created the Student class. The Action sends the values to the controller and the controller creates a new instance:<br>\n<code>- (IBAction)addNewStudentButtonPressed:(id)sender<br>\n{<br>\n    Student *newStudent = [[Student alloc] initNewStudentwithName:[nameField stringValue]<br>\n                                                            andID:[idField intValue]<br>\n                                                         andLevel:[levelField stringValue]];<br>\n}</code></p>\n\n<p>The Array is being created in the <code>appDidFinishLaunching</code> method:<br>\n<code>-(void)applicationDidFinishLaunching:(NSNotification *)aNotification<br>\n{<br>\n    NSMutableArray *roster = [[NSMutableArray alloc] initWithCapacity:100];<br>\n}</code>  </p>\n\n<p>And now I want to add the student to the array. I'm just missing something obvious. :(</p>\n"},{"tags":["php","mvc",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":64,"score":0,"question_id":12178941,"title":"Need single entry point like solution ","body":"<p>I work on ready made framework (legacy framework).Its almost like any other MVC framwork you get in market, except that its not having single entry point.\n<br/>\nSo in every Controller file I have to include configs &amp; Model classes.<br/>\nCurrently I manage with __autoload() , but still one include is left on every page.<br/>\nIf I add .htaccess for single entry point then I have to do lots of changes in my code.Because every controller file is different physical file.Its not even near to object oriented structure and for views smarty is used.<br/>\nIs there any solution including .htaccess rules , instead of php.ini? It will be easier to maintain.\nPlease suggest best solutions for my dificulty.</p>\n"},{"tags":["android","mvc","factory-pattern"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12179726,"title":"How to implement a ViewFactory in Android","body":"<p>I have an application that runs on 3 platforms: J2ME, BlackBerry and Android. It has a module with the common code and others with the platform-specific code (for each platform).</p>\n\n<p>We are using a MVC architecture. At first, we left the View and the Controller to be implemented in each platform. But we were getting different behaviors or triplicated code. So we decided to unify the Controller.</p>\n\n<p>Now we have a ViewFactory to be implemented in each platform. In the common code, we just get the views, set it's controller and everything runs nice.</p>\n\n<p>The problem is that I'm not able to do that in Android. I can't instantiate an Activity myself, I have to send an Intent and let the system create it. An Activity looks like a \"View plus Controller\". I want just the View part. What is the best way to do this?</p>\n"},{"tags":["mvc","windows-server-2008","asp.net-mvc-4","adlds"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12179309,"title":"Authenticate user across multiple domains using AD LDS using C#.Net and MVC 4","body":"<p>I have to develop an independed login application and deploy in domain A. Now I have to authenticate the user in multiple applications deployed in various domains like B and C. I'm a new to this AD LDS configuration. I was provided with configured AD LDS in Server 2008 and connection string. I was able to connect and validate the user</p>\n\n<pre><code>try\n{\n  DirectorySearcher searcher = new DirectorySearcher(entry);\n  searcher.Filter = \"(&amp;(objectClass=user)(CN=\" + userName + \"))\";\n  SearchResultCollection result = searcher.FindAll();\n\n isValid = (result.Count &gt; 0);\n\n  if (isValid)\n   {\n     message += \"Successfully authenticated\";\n   }\n  else\n   {\n    message += \"Unable to Authenticate\";\n   }\n\n}\ncatch (Exception ex)\n{\n   message += \"Error searching: \" + ex.ToString();\n}\n</code></pre>\n\n<p>Please help me to authenticate the user and grant access to the other applications deployed in B and C domains. Sorry for bad English. Thanks in advance.</p>\n"},{"tags":["oop","mvc","design-patterns","design","animation"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":12179267,"title":"Animation and MVC principle","body":"<p>I always design my programs according to MVC principle, but fitting animation in is pain-in-the-ass.</p>\n\n<p>I have implemented following scheme so far:</p>\n\n<p>1) Model does number of actions [] and sends notifications to all listeners;</p>\n\n<p>2) Upon reciving a notification View adds an animation to the queue.</p>\n\n<p>It's workable approach, but it has one huge drawback — model and UI become unsyncronized. For example there are 10 actions already applied to the model, but UI is still in state, where 5 of them are applied.</p>\n\n<p>This drawback forces animations to be coded uninterruptable, which is not good practice for UI design. Please, suggest how to resolve the issue.</p>\n"},{"tags":["mvc","knockout.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12178738,"title":"Knockout.js select options dynamic by id","body":"<p>i am wondering if there is any possiblity to get the select options values from a function, which is invoked with a parameter.</p>\n\n<p>for example:</p>\n\n<p>my markup</p>\n\n<pre><code>&lt;select data-bind=\"options: $root.getOptions('one', $data.ID), optionsCaption: '...', optionsText:'Txt', optionsValue:'ID'\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>my js</p>\n\n<pre><code>    self.getSelectionData = function (type, param) {\n    if (type == \"one\") {\n        var idParam = new Object();\n        idParam.id = param();\n        $.getJSON('/MyController/MyGetAction', idParam, function (result) {\n            var r = ko.mapping.fromJS(r);\n            return r;\n        });\n    }\n};\n</code></pre>\n\n<p>the \"r\" does contain the correct data, but no data is displayed in the select.</p>\n\n<p>i tried several things but couldn't make it. any idea (or hint that i'm doing it wrong) ?</p>\n"},{"tags":["jquery","mvc","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12178906,"title":"Jquery: Validate dynamic added field in MVC","body":"<p>I'm adding controls dynamically and want to perform validation on form submission. As simple as want unobtrusive validation to occur on dynamic added controls. logic is below:</p>\n\n<p><strong>Model:</strong></p>\n\n<pre><code>public List&lt;MyCollection&gt; MyColl {get;set;}\n</code></pre>\n\n<p>am opening partial view in jquery dialog. </p>\n\n<p><strong>Jquery:</strong></p>\n\n<blockquote>\n  <p>//Add control dynamically <BR>\n  var length=0; <BR>\n  //logic to increase length every time on new row added </p>\n</blockquote>\n\n<pre><code>$(\".myDiv\").append(\"&lt;tr&gt;&lt;input type=text id=MyColl[' + length + '].Field1 name=MyColl[' + length + '].Field1&gt;&lt;/tr&gt;\")\n</code></pre>\n\n<p>I don't know how to specify unobtrusive in this situation? any help would be appreciated.</p>\n"},{"tags":["php","mvc","joomla"],"answer_count":2,"favorite_count":4,"up_vote_count":1,"down_vote_count":0,"view_count":4063,"score":1,"question_id":5325230,"title":"How does Joomla Model View Controller (MVC) work?","body":"<p>I am new to Joomla, I want to know how the Joomla controller passes data to the model, model to controller and controller to view. Although this might be a silly question, I really tried to find the answer. I hope I can get some help from the stackoverflow family.</p>\n"},{"tags":["java","mvc","rest"],"answer_count":5,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1982,"score":4,"question_id":1069772,"title":"Can anyone recommend a Java web framework that is based on MVC and supports REST?","body":"<p>We are looking to host a Java Domain Model (written using DDD) inside a web application. Ideally I would like to support RESTful resources and requests, having a single site to support both users and a REST api.</p>\n\n<p>Ideally the same url could be used for both end users and the RESTful API of a given feature (with HTTP content types / negotiation specifying the difference).</p>\n\n<p>I have done similar apps in Ruby on Rails and Asp.mvc, but have no experience doing anything like this in Java. Anybody have an experience or advice on where to start ? (Googling suggests that Spring v3 might be an answer, anybody have any thoughts on Spring 3 ?)</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":7800358,"title":"Create another Logon page for external link","body":"<p>I want to create another logon page for external direct link(multiple projects need identity Logon page appearance.)</p>\n\n<p>Is that possible to create another view for logon controller or I need to create another controller? I tried to create another controller, but I can not access at all. </p>\n\n<p>Is there someone get some good ideas about that??</p>\n\n<p>Cheers</p>\n"},{"tags":["c#","asp.net","mvc","html-helper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1893,"score":0,"question_id":4917031,"title":"Writing a HtmlHelper 'Table' method, which uses the model DisplayName's","body":"<p>I have recently decided to write a generic Table html helper to generate tables for my models and other objects, I have used reflection to make it more generic by taking an IEnumerable argument as the table data and a Dictionary for the .</p>\n\n<p>I want to use reflection or some other method to get the properties [DisplayName()] attribute from the models MetaData so that it does not need to be specified in a dictionary. However all methods I have tried seem to return null, so I have removed them from my code.</p>\n\n<pre><code>public static MvcHtmlString Table(this HtmlHelper htmlHelper, Dictionary&lt;string, string&gt; boundColumns, IEnumerable&lt;object&gt; objectData, string tagId, string className, string controllerName, string idProperty)\n        {\n            bool hasAction = !String.IsNullOrEmpty(idProperty);\n            bool hasData = objectData.Count() &gt; 0;\n            UrlHelper urlHelper = new UrlHelper(htmlHelper.ViewContext.RequestContext);\n\n            Type objectDataType = hasData ? objectData.First().GetType() : null;\n            IEnumerable&lt;PropertyInfo&gt; objectDataProperties = hasData ? from propInfo in objectDataType.GetProperties()\n                                                                       where boundColumns.ContainsKey(propInfo.Name)\n                                                                       select propInfo : null;\n\n            // Thead\n            TagBuilder theadtr = new TagBuilder(\"tr\");\n            foreach (string col in boundColumns.Values)\n                theadtr.InnerHtml = String.Format(\"{0}\\n{1}\", theadtr.InnerHtml, (new TagBuilder(\"th\") { InnerHtml = col }).ToString());\n            if (hasAction)\n                theadtr.InnerHtml = String.Format(\"{0}\\n{1}\", theadtr.InnerHtml, new TagBuilder(\"th\") { InnerHtml = \"Action\" });\n            TagBuilder thead = new TagBuilder(\"thead\") { InnerHtml = theadtr.ToString() };\n\n            // Tfoot\n            TagBuilder tfoot = new TagBuilder(\"tfoot\");\n            if (!hasData) // Warn that there was no data to be displayed.\n            {\n                TagBuilder tfoottd = new TagBuilder(\"td\") { InnerHtml = \"There is currently nothing to display.\" };\n                tfoottd.MergeAttribute(\"colspan\", (hasAction ? (boundColumns.Count + 1) : boundColumns.Count).ToString());\n                tfoottd.MergeAttribute(\"style\", \"text-align:center\");\n                tfoot.InnerHtml = (new TagBuilder(\"tr\") { InnerHtml = tfoottd.ToString() }).ToString();\n            }\n            else // Display a pager &amp; filter for navigating through large amounts of data.\n            {\n                // The button for navigating to the first page.\n                TagBuilder pagefirst = new TagBuilder(\"img\");\n                pagefirst.MergeAttribute(\"id\", String.Format(\"{0}-page-first\", tagId));\n                pagefirst.MergeAttribute(\"class\", \"first\");\n                pagefirst.MergeAttribute(\"alt\", \"First Page\");\n                pagefirst.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_first.png\"));\n                pagefirst.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The button for navigating to the previous page.\n                TagBuilder pageprev = new TagBuilder(\"img\");\n                pageprev.MergeAttribute(\"id\", String.Format(\"{0}-page-prev\", tagId));\n                pageprev.MergeAttribute(\"class\", \"prev\");\n                pageprev.MergeAttribute(\"alt\", \"Previous Page\");\n                pageprev.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_previous.png\"));\n                pageprev.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The button for navigating to the next page.\n                TagBuilder pagenext = new TagBuilder(\"img\");\n                pagenext.MergeAttribute(\"id\", String.Format(\"{0}-page-next\", tagId));\n                pagenext.MergeAttribute(\"class\", \"next\");\n                pagenext.MergeAttribute(\"alt\", \"Next Page\");\n                pagenext.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_next.png\"));\n                pagenext.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The button for navigating to the last page.\n                TagBuilder pagelast = new TagBuilder(\"img\");\n                pagelast.MergeAttribute(\"id\", String.Format(\"{0}-page-last\", tagId));\n                pagelast.MergeAttribute(\"class\", \"last\");\n                pagelast.MergeAttribute(\"alt\", \"Last Page\");\n                pagelast.MergeAttribute(\"src\", urlHelper.Content(\"~/Content/Style/Tables/Themes/Blue/resultset_last.png\"));\n                pagelast.MergeAttribute(\"style\", \"cursor:pointer; vertical-align:middle;\");\n\n                // The display field for the pager status.\n                TagBuilder pagedisplay = new TagBuilder(\"input\");\n                pagedisplay.MergeAttribute(\"id\", String.Format(\"{0}-page-display\", tagId));\n                pagedisplay.MergeAttribute(\"type\", \"text\");\n                pagedisplay.MergeAttribute(\"class\", \"pagedisplay\");\n                pagedisplay.MergeAttribute(\"disabled\", \"disabled\");\n                pagedisplay.MergeAttribute(\"style\", \"width:12%;\");\n\n                // The select for changing page size.\n                TagBuilder pagesize = new TagBuilder(\"select\");\n                pagesize.MergeAttribute(\"id\", String.Format(\"{0}-page-size\", tagId));\n                pagesize.MergeAttribute(\"class\", \"pagesize\");\n                pagesize.MergeAttribute(\"style\", \"width:12%;\");\n                for (int i = 10; i &lt;= 100; i += 10)\n                {\n                    TagBuilder option = new TagBuilder(\"option\") { InnerHtml = i.ToString() };\n                    if (i == 10)\n                        option.MergeAttribute(\"selected\", \"selected\");\n                    option.MergeAttribute(\"value\", i.ToString());\n\n                    pagesize.InnerHtml = String.Format(\"{0}\\n{1}\", pagesize.InnerHtml, option.ToString());\n                }\n\n                // The pager container.\n                TagBuilder pagediv = new TagBuilder(\"div\") { InnerHtml = (new TagBuilder(\"form\") { InnerHtml = String.Format(\"{0}\\n{1}\\n{2}\\n{3}\\n{4}\\n{5}\", pagefirst.ToString(), pageprev.ToString(), pagenext.ToString(), pagelast.ToString(), pagedisplay.ToString(), pagesize.ToString()) }).ToString() };\n                pagediv.MergeAttribute(\"id\", String.Format(\"{0}-pager\", tagId));\n                pagediv.MergeAttribute(\"style\", \"float:left; width:50%;\");\n\n                // Filter Text Field\n                TagBuilder filterfield = new TagBuilder(\"input\");\n                filterfield.MergeAttribute(\"id\", String.Format(\"{0}-filter-field\", tagId));\n                filterfield.MergeAttribute(\"type\", \"text\");\n                filterfield.MergeAttribute(\"style\", \"width:30%;\");\n\n                // The filter container.\n                TagBuilder filterdiv = new TagBuilder(\"div\") { InnerHtml = (new TagBuilder(\"form\") {InnerHtml = String.Format(\"Search: {0}\", filterfield.ToString())}).ToString() };\n                filterdiv.MergeAttribute(\"id\", String.Format(\"{0}-filter\", tagId));\n                filterdiv.MergeAttribute(\"style\", \"float:right; width:50%;\");\n\n                TagBuilder tfoottd = new TagBuilder(\"td\") { InnerHtml = String.Format(\"{0}\\n{1}\", pagediv.ToString(), filterdiv.ToString()) };\n                tfoottd.MergeAttribute(\"colspan\", (hasAction ? (boundColumns.Count + 1) : boundColumns.Count).ToString());\n                tfoottd.MergeAttribute(\"style\", \"text-align:center\");\n                tfoot.InnerHtml = (new TagBuilder(\"tr\") { InnerHtml = tfoottd.ToString() }).ToString();\n            }\n\n            // Tbody\n            TagBuilder tbody = new TagBuilder(\"tbody\");\n            foreach (object o in objectData)\n            {\n                TagBuilder tbodytr = new TagBuilder(\"tr\");\n                foreach (PropertyInfo p in objectDataProperties)\n                {\n                    string val = \"N/A\";\n                    object pval = p.GetValue(o, null);\n                    if (pval != null)\n                        val = pval.ToString();\n                    tbodytr.InnerHtml = String.Format(\"{0}\\n{1}\", tbodytr.InnerHtml, (new TagBuilder(\"td\") { InnerHtml = val }).ToString());\n                }\n\n                if (hasAction)\n                {\n                    string id = objectDataType.GetProperty(idProperty).GetValue(o, null).ToString();\n                    tbodytr.InnerHtml = String.Format(\n                        \"{0}\\n{1}\",\n                        tbodytr.InnerHtml,\n                        (new TagBuilder(\"td\") { InnerHtml = Table_ActionLinks(htmlHelper, controllerName, id) }).\n                            ToString());\n                }\n\n                tbody.InnerHtml = String.Format(\"{0}\\n{1}\", tbody.InnerHtml, tbodytr.ToString());\n            }\n\n            // Table\n            TagBuilder table = new TagBuilder(\"table\") { InnerHtml = String.Format(\"{0}\\n{1}\\n{2}\", thead.ToString(), tfoot.ToString(), tbody.ToString()) };\n            table.MergeAttribute(\"id\", string.IsNullOrEmpty(tagId) ? String.Format(\"table-{0}\", boundColumns.Count.ToString()) : tagId);\n            table.MergeAttribute(\"summary\", \"Generic data list\");\n            if (!String.IsNullOrEmpty(className))\n                table.MergeAttribute(\"class\", String.Format(\"{0} {1}\", className, \"tablesorter\"));\n            else\n                table.MergeAttribute(\"class\", \"tablesorter\");\n\n            // Enable Sorting/Searching\n            if (hasData)\n            {\n                TagBuilder sortscript = new TagBuilder(\"script\") { InnerHtml = String.Format(\"$(document).ready(function(){{$(\\\"#{0}\\\").tablesorter().tablesorterPager({{container:$(\\\"#{1}\\\")}});}});\", tagId, String.Format(\"{0}-pager\", tagId)) };\n                TagBuilder searchscript = new TagBuilder(\"script\") { InnerHtml = String.Format(\"$(document).ready(function(){{$(\\\"#{0}\\\").keyup(function(){{$.uiTableFilter($(\\\"#{1}\\\"), this.value);}})}});\", String.Format(\"{0}-filter-field\", tagId), tagId) };\n                sortscript.MergeAttribute(\"type\", \"text/javascript\");\n                return new MvcHtmlString(String.Format(\"{0}\\n{1}\\n{2}\", table.ToString(), sortscript.ToString(), searchscript.ToString()));\n            }\n\n            return new MvcHtmlString(table.ToString());\n        }\n</code></pre>\n\n<p>So basically I am looking to use as much reflection as possible to eliminate as many arguments to this method as possible.</p>\n\n<p>Thanks,\nAlex.</p>\n"},{"tags":["iphone","ios","mvc","uiviewcontroller","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12168037,"title":"Accessing the model from the viewcontrollers?","body":"<p>I am creating an iPhone application, a game, and I am trying to understand and embrace the MVC architecture. I am planning to create a model, in this case called <code>HighScoresModel</code> that is responsible for holding all the information about high scores in my game.</p>\n\n<ol>\n<li>Where should this model be created? In the AppDelegate? In the first view controller?</li>\n<li>How should other view controllers access the model in order to pass messages like <code>addScore:withDifficulty:</code>?</li>\n</ol>\n"}]}
{"total":14105,"page":12,"pagesize":100,"questions":[{"tags":["javascript","mvc","ember.js"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":216,"score":2,"question_id":12165330,"title":"Ember.js - make action target controller automatically","body":"<p>In Ember, if I use the Router, any <code>{{action}}</code> helpers automatically target the view's controller, when the view was created by the router.</p>\n\n<p>How can I make views' <code>{{actions}}</code> target the controller when the Router doesn't create the view. I thought setting the <code>controller</code> property would do it, but it doesn't appear to.</p>\n"},{"tags":["java","mvc","model","entity"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12166771,"title":"Entity versus Model","body":"<p>I was tidying up some classes in my com.business.model package and realised every one of them was either directly annotated @Entity or was attached to one (I'm using Morphia). It occurred to me that the classes should actually be put in a com.business.entity package...</p>\n\n<p>If this is more accurate (is it?) should I be putting my business logic classes into com.business.model and calling those from my jax-rs and jax-ws classes?</p>\n\n<p>All my business logic classes are in the com.business package at present, which feels a rather anonymous place to be. Perhaps they are actually the models..?</p>\n\n<p>(Note this project does not (yet) have a browser interface that a human would interact with, so referring to MVC would be somewhat premature.)</p>\n"},{"tags":["javascript","ruby-on-rails","mvc","coffeescript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12164671,"title":"How to create a condition in javascript file with the controller in Rails","body":"<p>I am trying to expand the <a href=\"http://ruby.railstutorial.org/chapters/user-microposts#top\" rel=\"nofollow\">like-twitter application tutorial</a> and include my first script (regardless of the tutorial).</p>\n\n<p>I am trying to make a script that will only work when the user is signed in (I discovered that I need to make this rule because when the user is not signed in I get a script error).</p>\n\n<p>the js file is called <code>static_pages.js.coffee</code> and contains code like this:</p>\n\n<pre><code>micropost =\n  p: {\n    ...\n  }\n  init: -&gt;\n    ...\n\n$(document).ready -&gt;\n  micropost.init()\n</code></pre>\n\n<p>Since the code is relevant for micropost that appears <strong>only</strong> when user is signed in then I need some rule to notify me about that.</p>\n\n<p>I can put in the main file <code>views/layout/application.html.erb</code> a script with the variable like this:</p>\n\n<pre><code>&lt;head&gt;\n  &lt;title&gt;&lt;%=full_title(yield(:title)) %&gt;&lt;/title&gt;\n  &lt;%= stylesheet_link_tag    \"application\", :media =&gt; \"all\" %&gt;\n  &lt;%= javascript_include_tag \"application\" %&gt;\n\n  &lt;script type=\"text/javascript\"&gt;\n      var signed_in = &lt;%= signed_in? =&gt;;\n  &lt;/script&gt;\n\n  &lt;%= csrf_meta_tags %&gt;\n  &lt;%= render 'layouts/shim' %&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>but it doesn't look like the clean way, <strong>my questions are:</strong></p>\n\n<ol>\n<li>how do I do it?</li>\n<li>Do I need to do it via controller? (I have no idea how...)</li>\n<li>And also, I put the $(document).ready inside the static_pages.js.coffee - Should I put it in the main application.js since this is the call that invokes all function after dom is built?</li>\n</ol>\n"},{"tags":["java","mvc","jsp","struts2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12167139,"title":"Struts 2 Accessing action tag properties with # syntax","body":"<p>Is it possible to access fields defined in Beans/Forms used within an action from a JSP page?</p>\n\n<p>At the moment I can use this: </p>\n\n<pre><code>&lt;s:action name=\"actionName\" var=\"foo\" executeResult=\"false\" /&gt;\n</code></pre>\n\n<p>and access any fields defined in that action class using</p>\n\n<pre><code>&lt;s:property value=\"#foo.bar\" /&gt;\n</code></pre>\n\n<p>but this doesn't seem to work for values defined in a bean or form, which I would normally be able to access using the property tag in the result JSP page for an action.</p>\n"},{"tags":["ruby-on-rails","mvc","routing","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12167201,"title":"rails custom controller with nested resources: routes.rb","body":"<p>I have a User controller and related views for index,update, etc. The project specifications changed, and now we have a custom Dashboard controller and related index page, accessed by localhost:3000/dashboard  </p>\n\n<pre><code>match 'dashboard' =&gt; 'dashboard#index', as: 'dashboard'\n</code></pre>\n\n<p>The Dashboard index page will act similar to the (old) User index page, and so I am thinking I can simply re-use the User controller actions.\nHow can I simply \"nest\" the User into Dashboard, to achieve routes like <code>localhost:3000/dashboard/users/new</code> or <code>localhost:3000/dashboard/users/1/edit</code>? \nNote that the Dashboard controller does not have an associated model, it is a custom one just to create a customized homepage depending on the person viewing the Rails app. It will have other functionality unrelated to Users.</p>\n\n<p>I tried</p>\n\n<pre><code>match 'dashboard' =&gt; 'dashboard#index', as: 'dashboard' do\n  resources :users do\n\n    member do\n     #more custom actions\n    end\n\n    collection do\n     #more custom actions\n    end\n\n end\n\n\nend \n</code></pre>\n"},{"tags":["javascript","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12165168,"title":"Please explain the VC in MVC for javascript","body":"<p>This is really getting me frustrated. I'm trying to build a custom JavaScript app with no libraries. This is mainly for me to learn better core JavaScript and JavaScript patterns. I'm trying to implement the MVC structure and I understand the parts separately, but for the life of me I can't figure out how to connect the views and controllers together. For example if I have this code:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;button id=\"button1\"&gt;Click Me&lt;/button&gt;\n    &lt;button id=\"button2\"&gt;Click Me&lt;/button&gt;\n    &lt;button id=\"button3\"&gt;Click Me&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How in the world do I write a controller.js file to listen to the clicks of each button and respond. Especially if each button does something totally different from the others. Let's say button1 simply links to google.com, button2 opens a modal box and button3 updates a database table. So each one is doing something totally separate. What I am trying to avoid is using jQuery to do something like this.</p>\n\n<pre><code>$('#button1').click(function(){\n       //go to google.com\n});\n\n$('#button2').click(function(){\n       //open modal box\n});\n\n$('#button3').click(function(){\n       //update database\n});\n</code></pre>\n\n<p>This doesn't seem very efficient, especially when trying to use the MVC structure. Is there a smoother way, even a few different design patterns I can follow to write this is core JavaScript with no libraries? I scoured the net to find articles but everything I find relies heavily on a library.</p>\n\n<p>Any books, tutorials, blog posts or anything of the like that will clearly explain something like this is much much appreciated. Who knows once I get the hang of it maybe I'll write a book on it for the masses. </p>\n\n<p>Once again the help of the community is always appreciated. </p>\n"},{"tags":["unit-testing","mvc","expressions"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12164584,"title":"Expression Equality or Equivalence from Multiple Projects","body":"<p>It is understood that:</p>\n\n<pre><code>Expression&lt;Func&lt;string, bool&gt;&gt; first = x =&gt; x.Length == 4;\nExpression&lt;Func&lt;string, bool&gt;&gt; second = x =&gt; x.Length == 4;\n\nConsole.WriteLine(first.Equals(second)); // Output is \"False\"\n</code></pre>\n\n<p>However, examining the strings of each expression does show equality:</p>\n\n<pre><code>Expression&lt;Func&lt;string, bool&gt;&gt; first = x =&gt; x.Length == 4;\nExpression&lt;Func&lt;string, bool&gt;&gt; second = x =&gt; x.Length == 4;\n\nConsole.WriteLine(first.ToString().Equals(second.ToString())); // Output is \"True\"\n</code></pre>\n\n<p>This idea was a culmination of different posts...</p>\n\n<p><a href=\"http://www.codethinked.com/Comparing-Simple-Lambda-Expressions-With-Moq\" rel=\"nofollow\">http://www.codethinked.com/Comparing-Simple-Lambda-Expressions-With-Moq</a>\nhttp://stackoverflow.com/questions/5196669/moqing-methods-where-expressionfunct-bool-are-passed-in-as-parameters\n<a href=\"http://stackoverflow.com/questions/3458406/verify-method-was-called-with-certain-linq-expression-moq\">Verify method was called with certain linq expression (moq)</a></p>\n\n<p>The intent:</p>\n\n<p>I am writing an MVC application using the repository pattern such that</p>\n\n<pre><code>public class MyController : Controller\n{\n    public Repository.IRepository Repository { get; set; }\n\n    public MyController()\n    {\n        this.Repository = new Repository.CommonRepository();\n    }\n\n    public MyController(Repository.IRepository repository)\n    {\n        this.Repository = repository;\n    }\n\n    [HttpPost]\n    public ActionResult Create(Domain.Common.Object1 o1)\n    {\n        if (ModelState.IsValid)\n        {\n            // Additional validation\n            o1.Name = o1.Name.Trim();\n\n            if (this.Repository.Any&lt;Domain.Common.Object1&gt;(a =&gt; a.Name.ToLower() == plant.Name.ToLower()))\n                this.ModelState.AddModelError(\"Name\", \"Duplicate found.\");\n        }\n\n        if (ModelState.IsValid)\n        {\n            var entity = this.Repository.Add(o1);\n\n            if (Request.IsAjaxRequest())\n                return this.Json(new { Completed = true, Id = entity.Id });\n\n            return RedirectToAction(\"Details\", new { id = entity.Id });\n        }\n\n        if (Request.IsAjaxRequest())\n            return PartialView(\"_Create\", o1);\n\n        return View(\"Create\", o1);\n    }\n}\n</code></pre>\n\n<p>Repository is a completely separate project as is the domain.  My repository code is setup so that I can use the one repository to query any object based upon the generic:</p>\n\n<pre><code>public IQueryable&lt;T&gt; GetAll&lt;T&gt;() where T : AbstractEntity\n{\n    return this.DbContext.Set&lt;T&gt;();\n}\n</code></pre>\n\n<p>Note: AbstractEntity is a domain abstract class all of my POCO objects inherit from.</p>\n\n<p>Everything is fine when using Moq to unit test the controller :</p>\n\n<pre><code>[TestMethod]\npublic void Create_Post_DuplicateNameAddsError()\n{\n    // Arrange\n    var repository = new Mock&lt;Repository.IRepository&gt;();\n\n    repository.Setup(a =&gt; a.Any&lt;Domain.Common.Object1&gt;(It.IsAny&lt;System.Linq.Expressions.Expression&lt;Func&lt;Domain.Common.Object1, bool&gt;&gt;&gt;()))\n              .Returns(true);\n\n    var controller = ControllerFactory&lt;MyController&gt;.GetController();\n    controller.Repository = repository.Object;\n\n    var model = new Domain.Common.Object1()\n    {\n        Id = Guid.NewGuid()\n        ,\n        Name = \"Name\"\n    };\n\n\n\n    // Act\n    var result = controller.Create(model) as ViewResult;\n\n\n\n    // Assert\n    Assert.IsFalse(controller.ModelState.IsValid);\n\n    Assert.IsNotNull(result);\n    Assert.AreEqual(\"Create\", result.ViewName, false);\n\n    Assert.AreEqual(model, result.Model);\n}\n</code></pre>\n\n<p>Note: ControllerFactory is a way to generate a controller with certain properties filled, such as Request, Response, User, Request.Headers ect...</p>\n\n<p>Where this fails is if I have to use IRepository.Any(predicate) more than once, or any method that uses expressions that is called more than once.  I need it to say true for one and false for another.  If the expression strings were a match, this would be a non-issue, but as everything is in different projects the expression strings come out as:</p>\n\n<pre><code>a =&gt; (a.Name.ToLower() == value(foo.Web.Tests.Controllers.Object1ControllerTests+&lt;&gt;c__DisplayClass3).ob1.Name.ToLower())\na =&gt; (a.Name.ToLower() == value(foo.Controllers.MyController+&lt;&gt;c__DisplayClass1).ob1.Name.ToLower())\n</code></pre>\n\n<p>The difference lies in the value function.  I have tried matching from Regular Expressions, which works, but is ugly as you have to escape every .&lt;>(), which in turn makes it very difficult to maintain.</p>\n\n<p>I tried using <a href=\"http://www.codethinked.com/Comparing-Simple-Lambda-Expressions-With-Moq\" rel=\"nofollow\">Matt Meber's Expression Equality Comparer</a>, but they are not equal due to that value function (my belief).</p>\n\n<p>Suggestions?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12163768,"title":"Rails: two controllers for the same model","body":"<p>I have a model User and a corresponding UsersController. Due to project changes, the same, exact functionality for the User model needs to be in the CentersController, with additional functionality for Centers only of course. The UsersController stays as is.</p>\n\n<p>The design question is how to use the UsersController methods (update, edit, create, etc) without replicating them in the CentersController? For example, when a user is updated in the view for Centers, the User controller's Update action will be called, but the viewer should be redirected back to Centers view.</p>\n"},{"tags":["mvc","wif","saml-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":11826134,"title":"How to disable Subject Key Identifier in SecurityTokenResolver","body":"<p>I am processing a SAML2 token in WIF which contains an EncryptedAssertion. The mark-up does NOT contain a \"Subject Identifier Key\" Extension property and as such WIF SecurityTokenHandler fails as it tries to get the correct X509 certificate from the LocalMachineStore/Personal. </p>\n\n<p>The issue is clearly that the certificate used to encrypt the token does not contain the SKI Extension and of course the token generation code (Java) does not do seem to require it. To avoid having to modify the generation code is there a way I can get WIF SecuityTokenResolver to NOT check the received Token for the SKI but simply use the local store certificate directly to decrypt the token?</p>\n"},{"tags":["iphone","ios","mvc","dto"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12158823,"title":"iOS classes in application as data transfer objects","body":"<p>I am currently working on a project which enables many features. </p>\n\n<p>One of them is the registration of a user. I do have a view controller as well as a view for handling the user input. I further did implement a UserService starting an uploader to upload the user data and notifying the view controller if if the upload succeeds/fails and so on. </p>\n\n<p>Now, I will not save the data to coredata (just parts of them) and was woundering about the best approach to send the data throughout my application from the view controller to my uploaders. </p>\n\n<p>I know that the easy approach will be something like:</p>\n\n<pre><code>- (void) startUserRegistrationEmail:(NSString *) aEmail\n                          firstname:(NSString *) aFirstname\n                               name:(NSString *) aName\n                          birthdate:(NSDate *) aBirthdate\n                        citizenship:(NSString *) aCitizenship\n                             street:(NSString *) aStreet\n                       streetnumber:(NSString *) aStreetNumber\n                           postcode:(NSString *) aPostcode\n                            address:(NSString *) aAddres;\n</code></pre>\n\n<p>The advantage is that my service and uploader is not depending on any model which might increase reusability. </p>\n\n<p>But there are serveral disadvantages in my opinion. \nI have to validate the input fields within the view controller. If I had a model object, I could easily stuff all inputs into this object, call is valid and in case it fails, form a proper error which will be displayed to the user. </p>\n\n<p>Further my methods in the service and the uploader will shrink to</p>\n\n<pre><code>- (void) startCustomerRequestQueryEmail:(AMRegistration *) aRegistration\n</code></pre>\n\n<p>Due to the fact, that the data of the AMRegistration class will not be saved within coredate, I would not implement it as a managedObject, but a custom class. </p>\n\n<p>After the upload completes, I might look at the reference and save the data I need to my managed objects. (Which is another advantage due to the fact that I do not need to hold references on 9 string but just on one AMRegistration object). </p>\n\n<p>I would like to know how you are handling those issues? Are u using those \"helper objects\" more often or do you avoid to use them?</p>\n"},{"tags":["mvc","validation","html-helper"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12008998,"title":"MVC 3 \"does not contain a definition for validationmessagefor\"","body":"<p>I have the following code attempting to extend @Html.ValidationMessageFor with my own @Html.MyValidationMessageFor(model => model.myfield) and provide a custom error html</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Mvc;\nusing System.Text;\nusing System.Linq.Expressions;\n\nnamespace Hml.BackEnd.Helpers\n{\npublic static class HtmlHelpers\n{\n    public static MvcHtmlString MyValidationMessageFor&lt;TModel, TProperty&gt;(this HtmlHelper&lt;TModel&gt; htmlHelper, Expression&lt;Func&lt;TModel, TProperty&gt;&gt; expression)\n    {\n        string myContent = \"&lt;div&gt;\" + htmlHelper.ValidationMessageFor(expression).ToString() + \"&lt;/div&gt;\";\n        return MvcHtmlString.Create(myContent);\n    }\n}\n}\n</code></pre>\n\n<p>I get the following compilation message:</p>\n\n<p>'System.Web.Mvc.HtmlHelper &lt; Model > does not contain a definition for ValidationMessageFor and no extension method ValidationMessageFor accepting a first argument of type 'System.Web.Mvc.HtmlHelper &lt; TModel > could be found are you missing a using or assembly reference.</p>\n\n<p>I can't understand since System.Web.Mvc is in the project references and in the using.</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12156542,"title":"Creating more objects rather than perform calculations, how effective?","body":"<p>I have a collection of data (Model) where each element has its visual representation (View) in a form of a JPanel with labels. Here is the method which updates a GUI Page:</p>\n\n<pre><code>public void updateGUIPage(){\n    guiPage.removeAll();\n    for(MyElement element: myCollection) {\n        guiPage.add(new VisualElementWhichExtendsJPanel(element);\n        guiPage.add(Box.createVerticalStrut(10);\n    }\n}\n</code></pre>\n\n<p>updateGUIPage() is called each time when collection changes. As you see, already created visual elements are removed (as I know from books, they will be later destroyed by Garbage Collector) and new visual elements are created for each element in the collection.\nI don’t find this way to be very effective, but it simplifies very much application in general (as there are many GUIPages, and many of them show the same element, so if added to second GUIPage it will be removed from the first, that’s the way Swing works)\nSo, the question is: would you allow such approach in your application, or it’s better to make additional calculations and avoid excessive creation of new objects (considering that average size of collection will rarely exceed 100 members)?</p>\n"},{"tags":["spring","mvc","jsp"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":216,"score":3,"question_id":12123432,"title":"How to bind a dynamic list of fields in a JSP","body":"<p>I am building a JSP page for entering football game results. I get a list of unsettled games and I want to list them like this:</p>\n\n<pre><code>team1 vs team4 \n    [hidden field: game id]  \n    [input field for home goals]  \n    [input field for away goals]\n\nteam2 vs team5 \n    [hidden field: game id]  \n    [input field for home goals]\n    [input field for away goals]\n</code></pre>\n\n<p>I never know how many games will be listed. I am trying to figure out how to set up the binding so that the controller can access these fields after the form is submitted. </p>\n\n<p>Can someone please guide me in the right direction. I am using Spring MVC 3.1</p>\n"},{"tags":["c#","mvc","indirection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12148540,"title":"What is the typical level of indirection between a controller and a view in mvc and similar architectures?","body":"<p>So say I make a controller for a main menu 'page', would MainMenu be composed of the individual view elements like labels and buttons directly or would it reference a class such as MainMenuView which had those elements instead? Or would it just send events to an event system to communicate with the view? Or something else?</p>\n"},{"tags":["ios","cocoa-touch","mvc","uitableview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12151797,"title":"Implementation of UITableView, following MVC pattern","body":"<p>According to the Model-View-Controller pattern, applied heavily in Cocoa Touch, UIViewControllers should always handle the logic behind how a concrete UIView in the scene behaves.</p>\n\n<p>I am curious as to how Apple implements it's UITableView class while keeping in line with this philosophy. Especially since UITableView inherits from UIScrollView and UIView in turn. </p>\n\n<p>When you add a UITableView to one of your classes, does it have a UIViewController handling the way it behaves in the background? I know that a UITableViewDelegate is in charge of telling the table how many rows it should have, etc. But what about it's inner workings?</p>\n"},{"tags":["javascript","mvc","ember.js"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":93,"score":3,"question_id":12147704,"title":"Ember.js Handlebars.helpers.collection not working","body":"<p>I'm new to ember and I'm trying to play with the code a bit so I downloaded the starters kit from the website as a starting template.</p>\n\n<p>I'm trying to use the ember handlebars helper for CollectionView, I copy paste the sample code but all I see is \"Hi\" 3 times without the name:</p>\n\n<p><a href=\"http://docs.emberjs.com/symbols/Handlebars.helpers.html#method=.collection\" rel=\"nofollow\">http://docs.emberjs.com/symbols/Handlebars.helpers.html#method=.collection</a></p>\n\n<p>what am I doing something wrong?</p>\n\n<pre><code>&lt;script type=\"text/x-handlebars\"&gt;\n    {{#collection contentBinding=\"App.items\"}}\n        Hi {{content.name}}\n    {{/collection}}\n&lt;/script&gt;\n\n\n&lt;script&gt;\nApp = Ember.Application.create();\n\nApp.items = [\n    Ember.Object.create({name: 'Dave'}),\n    Ember.Object.create({name: 'Mary'}),\n   Ember.Object.create({name: 'Sara'})\n]\n&lt;/script&gt;\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12136234,"title":"Loading a view with multiple controllers","body":"<p>I am using Codeigniter: I have two controllers. They use different models. They have nothing in common. Controller 1 is a login controller it directs me to a secure page, if my login credentials are correct. I simply want Controller 2: to load only the middle part of this page, that's it. Why is it so damn difficult to do this with CI?</p>\n\n<pre><code>+-------------------------------------------------------+\n|View \"Home_Page\"                                       |\n+--------------------------------------------------------\n| TOP:                                                  |\n|Controller 1: function checklogin(){} loads this part  |\n|                                                       |\n--------------------------------------------------------+\n|Middle:                                                |                                  \n|Controller 2: function content(){ } loads this part    |\n|                                                       |\n--------------------------------------------------------+\n|Bottom:                                                |                                  \n|Controller 1: function checklogin(){} loads this part  |\n|                                                       |\n--------------------------------------------------------+\n</code></pre>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":648,"score":0,"question_id":857293,"title":"Usage of a helper within zend partialloop","body":"<p>I am using the Zend Framework library / Framework</p>\n\n<p>At some point I need to give an array of texts ( with a given objectKey ) to the partialloop helper.</p>\n\n<p>Now in the partialLoop view I would like to use Zend Translate.</p>\n\n<p>Now I understand that Zend Translate isn't accessibly true the objectKey, but is there a way to use Zend Translate here and even use a helper ... ?</p>\n\n<p>Thanks in advance,\nmath</p>\n"},{"tags":["mvc","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12126030,"title":"Using a view to get referenced value -- proper MVC for Yii?","body":"<p>As you would guess from the two snips below, I will reference the Category table when displaying Part details.</p>\n\n<h2>Part model:</h2>\n\n<pre><code>public function relations()    {\n    return array(\n        'category' =&gt; array(self::BELONGS_TO, 'Category', 'fid_caty2') );\n}\n</code></pre>\n\n<h2>Category model:</h2>\n\n<pre><code>public function relations()    {\n    return array('part' =&gt; array(self::HAS_MANY, 'Part', 'fid_caty2') );\n}\n</code></pre>\n\n<p>I've learned this method of rendering the referenced value in a view:</p>\n\n<pre><code>echo CHtml::encode($data-&gt;category-&gt;name_caty2);\n</code></pre>\n\n<p>I've found some other methods too, but they all take place in the view.  Since the model sets the relationship, why shouldn't the referenced value be included in the <code>CActiveRecord</code> of the model?  I thought this was exactly the kind of crunching we reserved for the model.  Working it out in a view seems strange, plus a lot of extra work.  </p>\n\n<p>If I'm right, how do I make it work in the model view?  Or does my understanding of MVC need correction?</p>\n\n<h2>How about this</h2>\n\n<pre><code>public function loadModel($id)\n{   $model=Part::model()-&gt;findByPk($id);\n    if($model===null)\n        throw new CHttpException(404,'The requested page does not exist.'); \n    return $model;\n}\n</code></pre>\n\n<p>Here are in the controller page.  Can I sneak my referenced value into the model when it is loaded?</p>\n"},{"tags":["spring","mvc","spring-mvc","velocity"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12126763,"title":"Invalid working of #springFormSingleSelect in velocity template","body":"<p>I am making spring mvc application and using velocity templates for views.There is form for filling it by the data and in this form i am using #springFormSingleSelect.Form  works fine when data is valid, but when form is filled by invalid data as mentioned there are messages with errors, but #springFormSingleSelect is empty.That's my view:</p>\n\n<pre><code>&lt;form action=\"saveEmployee\" method=\"POST\"&gt;\n                #springBind(\"newEmployee\")\n            &lt;a href=\"listEmployees\"&gt;#springMessage(\"label.back\")&lt;/a&gt;\n            &lt;p&gt;\n            &lt;table&gt;                \n                &lt;tr&gt;\n                    &lt;td&gt;#springMessage(\"label.firstName\")&lt;/td&gt;\n                    &lt;td&gt;#springFormInput(\"newEmployee.firstName\" \"\")&lt;/td&gt;\n                    &lt;td&gt;&lt;font color=\"red\"&gt;#springShowErrors(\"&amp;nbsp\" \"\")&lt;/font&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;#springMessage(\"label.lastName\")&lt;/td&gt;\n                    &lt;td&gt;#springFormInput(\"newEmployee.lastName\" \"\")&lt;/td&gt;\n                    &lt;td&gt;&lt;font color=\"red\"&gt;#springShowErrors(\"&amp;nbsp\" \"\")&lt;/font&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;#springMessage(\"label.salary\")&lt;/td&gt;\n                    &lt;td&gt;#springFormInput(\"newEmployee.salary\" \"\")&lt;/td&gt;\n                    &lt;td&gt;&lt;font color=\"red\"&gt;#springShowErrors(\"&amp;nbsp\" \"\")&lt;/font&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;#springMessage(\"label.birthdate\")&lt;/td&gt;\n                    &lt;td&gt;#springFormInput(\"newEmployee.birthday\" \"\")&lt;/td&gt;\n                    &lt;td&gt;&lt;font color=\"red\"&gt;#springShowErrors(\"&amp;nbsp\" \"\")&lt;/font&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;#springMessage(\"label.departament\")&lt;/td&gt;\n                    &lt;td&gt;#springFormSingleSelect(\"newEmployee.departamentId\" $departamentsMap \"\")&lt;/td&gt;\n               &lt;/tr&gt;\n\n            &lt;/table&gt;\n                    &lt;input type=\"submit\" value=\"#springMessage(\"label.submit\")\"&gt;\n        &lt;/form&gt;\n</code></pre>\n\n<p>That's part of controller to the view:</p>\n\n<pre><code>@RequestMapping(value=\"/saveEmployee\", method= RequestMethod.GET)\n    public ModelAndView newuserForm(){\n        ModelAndView model = new ModelAndView(\"newEmployee\");\n        Employee empl = new Employee();\n\n        Map departamentsMap = new TreeMap();\n        List&lt;Departament&gt; departamentsList = service.listDepartaments();\n\n        //for singleselect of departaments\n        for(int i=0; i&lt;departamentsList.size(); i++){\n            Departament dep = departamentsList.get(i);\n            departamentsMap.put(dep.getDepartamentId(),dep.getTitle() );\n        }                    \n        model.addObject(\"departamentsMap\",departamentsMap);\n\n        model.getModelMap().put(\"newEmployee\", empl);\n        return model;\n    }\n\n    @RequestMapping(value=\"/saveEmployee\", method=RequestMethod.POST)\n    public String create(@ModelAttribute(\"newEmployee\")Employee empl, BindingResult result){\n\n        employeeValidator.validate(empl, result);\n        if(result.hasErrors()){\n            return \"newEmployee\";\n        }\n        service.saveEmployee(empl);\n        return \"redirect:/listEmployees\";\n    }\n</code></pre>\n\n<p>Maybe someone knows the reason of that behavior?</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11931822,"title":"Using TryUpdateModel with a Html.DropDownListFor","body":"<p>So I'm trying to update an object using <code>TryUpDateModel</code>, the problem is with dropdowns.</p>\n\n<p>I have an object with an image object as a property.</p>\n\n<p>Currently I am using the objects class as the model, and generating a dropdown from a list of <code>SelectListItems</code> that has values set to the guid of the image I'd like to set to the objects property.</p>\n\n<p>My view code:</p>\n\n<pre><code>@Html.LabelFor(m =&gt; m.RibbonImage, \"Ribbon Image:\")\n@Html.DropDownListFor(m =&gt; m.RibbonImage, (List&lt;SelectListItem&gt;)ViewBag.RibbonImages)\n</code></pre>\n\n<p>Where I generate the list:</p>\n\n<pre><code>ViewBag.RibbonImages = this.Datastore.GetAll&lt;Image&gt;()\n                                    .Where(x =&gt; x.Type == ImageType.Ribbon)\n                                    .Select(x =&gt; new SelectListItem()\n                                    {\n                                        Text = x.Description + \" \\u2013 \" + Path.GetFileName(x.Filename),\n                                        Value = x.Id.ToString()\n                                    })\n                                    .ToList();\n</code></pre>\n\n<p>My property in the main object class:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Gets or sets the ribbon image to use\n/// &lt;/summary&gt;\npublic virtual Image RibbonImage { get; set; }\n</code></pre>\n\n<p>My action method:</p>\n\n<pre><code>[HttpPost]\n[..]\npublic ActionResult Update(Guid? id)\n{\n    RibbonLookup ribbon = this.Datastore.Query&lt;RibbonLookup&gt;().SingleOrDefault(x =&gt; x.Id == id);\n\n    [..]\n\n    string[] properties = new string[]\n    {\n        \"RibbonImage\"\n    };\n\n    if (this.TryUpdateModel&lt;RibbonLookup&gt;(ribbon, properties))\n    {\n        this.Datastore.Update&lt;RibbonLookup&gt;(ribbon);\n\n        ModelState.AddModelError(string.Empty, \"The ribbon has been updated.\");\n    }\n    else\n    {\n        ModelState.AddModelError(string.Empty, \"The ribbon could not be updated.\");\n    }\n\n    [..]\n}\n</code></pre>\n\n<p>Is there a simple way to use a <code>DropDownListFor</code> with <code>TryUpdateModel</code> instead of having to update each property manually?</p>\n"},{"tags":["mvc","cakephp","user","cakephp-2.0","cakedc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":9882080,"title":"CakePHP-2.0, How can i display user information using CakeDC-Users plugin?","body":"<p>CakePHP-2.0, i'm using CakeDC-Users plugin. I need to display profile of a user. How can i get information of that user?</p>\n\n<p>Should i edit Users.User controller? Or should i make my own controller extending that Users.User controller?</p>\n\n<p>Can anyone explain with example?</p>\n"},{"tags":["spring","mvc","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12148185,"title":"Spring MVC to Spring REST tutorials misunderstanding","body":"<p>I have developed a Spring MVC - Hibernate application as told <a href=\"http://krams915.blogspot.in/2011/01/spring-mvc-3-hibernate-annotations.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>Now I am trying to modify this code to create a REST application as told <a href=\"http://www.javacodegeeks.com/2010/06/spring-3-restful-web-services.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>I have added <code>Jackson</code> library to the classpath and added <code>@XmlRootElement</code>.</p>\n\n<pre><code>@XmlRootElement(name = \"persons\")\npublic class Person implements Serializable {\n</code></pre>\n\n<p>But if I do a <code>application/json</code> request then I still get the <code>html</code> code back. </p>\n\n<p><strong>What I am doing wrong / forgot to do?</strong></p>\n\n<p>My controller:</p>\n\n<pre><code>    @RequestMapping(value = \"/persons\", method = RequestMethod.GET)\n    @ResponseBody\n    public String getPersons(Model model) {\n\n        logger.info(\"Received request to show all persons\");\n\n        // Retrieve all persons by delegating the call to PersonService\n        List&lt;Person&gt; persons = personService.getAll();\n        model.addAttribute(\"persons\", persons);\n\n        return \"personspage\";\n    }\n</code></pre>\n\n<p>Changed the Controller, but get an error:\nt</p>\n\n<pre><code>ype Status report\n\nmessage /Buddies/WEB-INF/jsp/main/persons/1.jsp\n\ndescription The requested resource (/Buddies/WEB-INF/jsp/main/persons/1.jsp) is not available.\n</code></pre>\n"},{"tags":["asp.net","mvc","forms","route"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":521,"score":2,"question_id":6099459,"title":"Routing ASP.NET MVC URL to url with querystring","body":"<p>I have to map a nice looking ASP.NET MVC URL '/sel/F/61' to an ASPX url with query string parameters like 'familydrilldown.aspx?familyid=61'. I tried to add this to global.asax:</p>\n\n<pre><code>routeTable.MapPageRoute(\n                \"selectorroute\", \n                \"sel/F/{familyid}\", \n                \"~/selector/familydrilldown.aspx\");\n</code></pre>\n\n<p>which works, except that the familyid is not passed as a querystring to familydrilldown.aspx. </p>\n\n<p>How can I take the {familyid} and pass it as a querystring parameter to the page familydrilldown.aspx?</p>\n\n<p>I tried this:</p>\n\n<pre><code>routeTable.MapPageRoute(\n                \"selectorroute\", \n                \"sel/F/{familyid}\", \n                \"~/selector/familydrilldown.aspx?familyid={familyid}\");\n</code></pre>\n\n<p>but of course this doesn't really work...</p>\n\n<p>Any ideas on how to do this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","mvc","design"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12147314,"title":"spring mvc declaring all beans singleton","body":"<p>I have this  new mvc project where all  beans are  default scoped(no prototype or session).\nwith single application context.</p>\n\n<p>i want to know \nby making all beans to be default scoped are we trying to achieve the whole application to be run in single thread?</p>\n\n<p>if so will that make each httprequest(from multiple or same sessions) to be queued until the previous one completes?How to avoid such scenario any advice or link would be helpful.</p>\n\n<p>I am relatively new to spring and java development.</p>\n"},{"tags":["mvc","design-patterns","confirmation-email"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":122,"score":4,"question_id":12142453,"title":"MVC design pattern model logic","body":"<p>According to the MVC design pattern, if we create a user (database work) and we have to send a mail with an activation code to the user, would this fit in the model or in the controller, after the model created the database record?</p>\n"},{"tags":["mvc","spring","internationalization"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3419,"score":4,"question_id":6129179,"title":"Spring MVC 3 Locale changing using a link not working","body":"<p>Edit: My Spring framework version 3.0.5</p>\n\n<p>A small issue here, The language is not changing when I click the language changer link.</p>\n\n<p>The language files (messages_xx.properties) are in the classpath i18n directory. The files are:</p>\n\n<pre><code>i18n/messages_en.properties\ni18n/messages_ar.properties\n</code></pre>\n\n<p>Spring Configuration</p>\n\n<pre><code>&lt;!-- Component scanner. This is used to automatically find Spring annotations like @Service and @Repository --&gt;\n    &lt;context:component-scan base-package=\"com.keype\" /&gt;\n\n    &lt;!-- Annotation driven programming model --&gt;\n    &lt;mvc:annotation-driven /&gt;   \n    &lt;context:annotation-config /&gt;\n    &lt;mvc:resources mapping=\"/static/**\" location=\"/static/\" /&gt;\n\n\n    &lt;!-- Session Object Configuration --&gt;\n    &lt;bean id=\"session\" class=\"com.keype.system.Session\" scope=\"session\"&gt;\n        &lt;aop:scoped-proxy /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- The View Resolver --&gt;\n    &lt;bean id=\"viewResolver\"\n          class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n          p:prefix=\"/WEB-INF/jsp/\"\n          p:suffix=\".jsp\"\n          /&gt;\n\n    &lt;!-- i18n Configuration. Default language is english. Change language using ?language=en --&gt;\n    &lt;bean id=\"localeChangeInterceptor\" class=\"org.springframework.web.servlet.i18n.LocaleChangeInterceptor\"&gt;\n        &lt;property name=\"paramName\" value=\"lang\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"localeResolver\" class=\"org.springframework.web.servlet.i18n.SessionLocaleResolver\"&gt;\n        &lt;property name=\"defaultLocale\" value=\"en\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Message text files. This is set UTF-8 to display Arabic UTF correctly. --&gt;    \n    &lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\"&gt;\n        &lt;property name=\"basename\" value=\"classpath:i18n/messages\" /&gt;\n        &lt;property name=\"defaultEncoding\" value=\"UTF-8\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>A section from the JSP Code</p>\n\n<pre><code>&lt;a href=\"?lang=ar\"&gt;&lt;spring:message code=\"header.arabic\" /&gt;&lt;/a&gt; | \n    &lt;a href=\"?lang=en\"&gt;&lt;spring:message code=\"header.english\" /&gt;&lt;/a&gt; \n</code></pre>\n\n<p>The issue is, when I click the above link to change the language, the locale changing functionality is not working. I tested by changing the \"defaultLocate\" to \"ar\" and I'm getting Arabic text.</p>\n\n<p>What could possibly be wrong here? There is nothing in the tomcat log also.</p>\n"},{"tags":["java","mysql","swing","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12145649,"title":"modelling a customer class in java for a database application","body":"<p>I'm working on a java swing application which handles Customer management for a shop.\nI'm trying to build it based on the mvc pattern, but actually i'm somewhat unexperienced in it. </p>\n\n<p>Basically, theres a View with some Textfields for Customer Creation and of course the class called Customer. If the form is submitted an object of Customer is created and saved to the database.\nNow, my problem was setting up a view to show all Customers in a JTable. Actually, not the view itself was the problem, but refreshing the view, when a new customer was added or a customer was changed. \nTherefore i created a new class called \"Customers\" which had an arraylist with all customers in it and everytime a customer was created, it was added to this arraylist. </p>\n\n<p>When the mainframe of my application started, an object of \"Customers\" was created, fetching all customers from my database, putting it in the arraylist just for the jtable. \nthe jtable was added to the object of customers as a listener and had an interface called CustomerListener implemented, which set a new model everytime the arraylist of customers changed.</p>\n\n<p>mh okay, now i really have problems explaining what my problem is but, basically i thought this class \"customers\" was redundant, so i just added the arraylist and stuff to my \"normal\" \"Customer\" class:</p>\n\n<pre><code>package v1a;\n\nimport java.sql.ResultSet;\nimport java.util.ArrayList;\n\npublic class Customer {\n\n    public static final String KUNDENNUMMER = \"Kundennummer\";\n    public static final String ANREDE = \"Anrede\";\n    public static final String NACHNAME = \"Nachname\";\n    public static final String VORNAME = \"Vorname\";\n    public static final String PLZ = \"PLZ\";\n    public static final String ORT = \"Ort\";\n    public static final String STRASSE = \"Strasse\";\n    public static final String LAND = \"Land\";\n    public static final String TELEFON = \"Telefon\";\n    public static final String MOBIL = \"Mobil\";\n    public static final String EMAIL = \"Email\";\n\n    public static final String[] CUSTOMER_FIELDS = { KUNDENNUMMER, ANREDE, NACHNAME, VORNAME, PLZ, ORT, STRASSE, LAND, TELEFON, MOBIL, EMAIL };\n\n    private String kn, anrede, nachname, vorname, plz, ort, strasse, land, telefon, mobil = \"\", email = \"\";\n\n    private ArrayList&lt;Customer&gt; customers = new ArrayList&lt;Customer&gt;();\n    private ArrayList&lt;ICustomerModelListener&gt; listeners = new ArrayList&lt;ICustomerModelListener&gt;();\n\n    public Customer() {\n        getAllFromDatabase();\n    }   \n\n    public Customer(String[] str) {\n        this.kn = str[0];\n        this.anrede = str[1];\n        this.nachname = str[2];\n        this.vorname = str[3];\n        this.plz = str[4];\n        this.ort = str[5];\n        this.strasse = str[6];\n        this.land = str[7];\n        this.telefon = str[8];\n        this.mobil = str[9];\n        this.email = str[10];\n    }\n\n    public void getAllFromDatabase(){\n        SQL.getInstance();\n        ArrayList&lt;Customer&gt; arrlist = new ArrayList&lt;Customer&gt;();    \n        ResultSet rs = SQL.select(\"SELECT kundennummer, anrede, name, vorname, strasse, plz, ort, land, telefon, mobil, email FROM kunden\");\n        try {\n            while(rs.next()){\n                String[] values = new String[Customer.CUSTOMER_FIELDS.length];\n                values[0] = String.valueOf(rs.getInt(\"kundennummer\"));\n                values[1] = rs.getString(\"anrede\");\n                values[2] = rs.getString(\"name\");\n                values[3] = rs.getString(\"vorname\");\n                values[4] = rs.getString(\"strasse\");\n                values[5] = String.valueOf(rs.getInt(\"plz\"));\n                values[6] = rs.getString(\"ort\");\n                values[7] = rs.getString(\"land\");\n                values[8] = rs.getString(\"telefon\");\n                values[9] = rs.getString(\"mobil\");\n                values[10] = rs.getString(\"email\");\n                Customer c = new Customer(values);\n                arrlist.add(c);\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }  \n        SQL.cleanup();\n        this.customers = arrlist;\n        for(ICustomerModelListener l : listeners){\n            l.CustomerChanged();\n        }\n    }\n\n    public ArrayList&lt;Customer&gt; getAll(){\n        return customers;\n    }\n\n    public void addCustomer(Customer customer){\n        customers.add(customer);\n        for(ICustomerModelListener l : listeners){\n            l.CustomerChanged();\n        }\n    }\n\n    public void addListener(ICustomerModelListener listener){\n        listeners.add(listener);\n    }\n\n    public static boolean knExists(int kn){\n        boolean bool = false;\n        SQL.getInstance();\n        ResultSet rs = SQL.select(\"SELECT kundennummer FROM kunden WHERE kundennummer = \"+kn);\n        try {\n            while(rs.next()){\n                bool = true;\n            }\n        } catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n        SQL.cleanup();\n        return bool;\n    }\n\n    public static int getFreeKn(){\n        SQL.getInstance();\n        ResultSet rs = SQL.select(\"SELECT kundennummer FROM kunden ORDER BY kundennummer DESC LIMIT 1\");\n        int kn = 0;\n        try {\n            while(rs.next()){\n                kn = rs.getInt(\"kundennummer\");\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }  \n        kn++;\n        SQL.cleanup();\n        return kn;\n    }\n\n     public static Customer getByKn(int kn){\n        if(knExists(kn)){\n            SQL.getInstance();\n            ResultSet rs = SQL.select(\"SELECT * FROM kunden WHERE kundennummer = \"+kn);\n\n            String[] values = new String[CUSTOMER_FIELDS.length];\n            try {\n                while(rs.next()){\n                    values[0] = String.valueOf(rs.getInt(\"kundennummer\"));\n                    values[1] = rs.getString(\"anrede\");\n                    values[2] = rs.getString(\"name\");\n                    values[3] = rs.getString(\"vorname\");\n                    values[4] = String.valueOf(rs.getInt(\"plz\"));\n                    values[5] = rs.getString(\"ort\");\n                    values[6] = rs.getString(\"strasse\");\n                    values[7] = rs.getString(\"land\");\n                    values[8] = rs.getString(\"telefon\");\n                    values[9] = rs.getString(\"mobil\");\n                    values[10] = rs.getString(\"email\");\n                }\n            } catch (Exception e) {\n                System.out.println(e.getMessage());\n            }  \n            Customer customer = new Customer(values);\n            SQL.cleanup();\n            return customer;\n        } else {\n            return null;\n        }\n    }\n\n     public boolean save() {\n        SQL.getInstance();\n        boolean bool = SQL.saveUser(this.kn, this.anrede, this.nachname, this.vorname, this.plz, this.ort, this.strasse, this.land, this.telefon, this.mobil, this.email);\n        SQL.cleanup();\n        return bool;\n    }\n\n     public String getValue(String s){\n        switch (s){\n        case KUNDENNUMMER:\n            return this.kn;\n        case ANREDE:\n            return this.anrede;\n        case NACHNAME:\n            return this.nachname;\n        case VORNAME:\n            return this.vorname;\n        case PLZ:\n            return this.plz;\n        case ORT:\n            return this.ort;\n        case STRASSE:\n            return this.strasse;\n        case LAND:\n            return this.land;\n        case TELEFON:\n            return this.telefon;\n        case MOBIL:\n            return this.mobil;\n        case EMAIL:\n            return this.email;\n        default :\n            return \"\";\n        }\n    }\n}\n</code></pre>\n\n<p>NOW to my question:\nis this the right way of modelling such a class regarding mvc pattern?\nmaybe my first approach was \"cleaner\" because i had something like a \"container\" which had all customers in it and the \"real\" customer class. </p>\n"},{"tags":["android","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":121,"score":1,"question_id":12139469,"title":"Does Android supports MVC (Model View Controller) Structure?","body":"<p>I want to know, If Android Supports MVC (Model View Controller) structure ? If support then\n1. What is Controller ?\n2.What is Model ? and\n3. What is View ?</p>\n\n<p>Please clear me. I have some confusion about this.</p>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":113,"score":0,"question_id":12138820,"title":"Explaining MVC to grandma","body":"<p>I am just wondering if anyone has any suggestions how you would go about\nexplaining MVC to grandma. Please let m know if you have any ideas.\nThanks,\nN</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":2056271,"title":"Help, first codeigniter application","body":"<p>Help, this is my first Codeigniter app and I am having the strangest problem, the View is not getting the values of the variables from the database. I followed this tutorial, and instead, when I load the page, the values from the <code>foreach</code> loop show like this <code>$value</code> instead of displaying the actual contents in the database. I'm confused!</p>\n"},{"tags":["php","mvc","templates","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":421,"score":1,"question_id":5579088,"title":"Codigniter template library problems","body":"<p>I am trying to use a template library with my current codeigniter project. However I am getting the following error message, </p>\n\n<blockquote>\n  <p>Unable to load the requested file: main.php</p>\n</blockquote>\n\n<p>My file system looks like this, </p>\n\n<pre><code> /application  \n      /themes  \n        /views  \n          /layouts  \n             admin.php\n</code></pre>\n\n<p>In MY_Controller.php I have the following, </p>\n\n<pre><code>&lt;?php\nclass Dashboard extends MY_Controller {\n\n    public function __construct()\n    {\n        parent::__construct();\n    }\n}\n?&gt;\n</code></pre>\n\n<p>In my controller I have the following</p>\n\n<pre><code>&lt;?php\nclass Dashboard extends MY_Controller {\n\n    public function __construct()\n    {\n        parent::__construct();\n        //$this-&gt;template-&gt;set_layout('admin');\n    }\n\n    public function index()\n    {\n        $this-&gt;template\n            -&gt;set_layout('admin') // application/views/layouts/two_col.php\n            -&gt;build('welcome_message'); // views/welcome_message\n    }\n}\n</code></pre>\n"},{"tags":["mvc","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12134886,"title":"Should directory access be taken care of by models or controllers?","body":"<p>I have an app that requires adding and deleting image files in a simple interface. Should the controller be the one that directly deletes these files, or should deleting files be in the domain of my models?</p>\n\n<p>I ask because files could be viewed as a type of \"data\". Just want to know what the convention is. </p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12135201,"title":"combining multiple controllers into one view","body":"<p>I'm using codeigniter I have this <em>BuildTemplate function</em> in my <strong>[HOME]</strong> controller that authenticates a user. I have another controller called <strong>[AJAXCONT]</strong> that has a function called <em>search()</em> that returns data to populate my search table in the view. I would like to retrieve that controller's data from it's search function right after I generate the $top_bar_data view. How can I code this. Is my approach correct here? </p>\n\n<pre><code>private function BuildTemplate($view, $data) {\n\n    if($this-&gt;session-&gt;userdata('logged_in_faculty'))\n   {\n     $session_data = $this-&gt;session-&gt;userdata('logged_in_faculty');\n     $top_bar_data['Firstname'] = $session_data['Firstname'];\n     $top_bar_data['Lastname'] = $session_data['Lastname'];\n\n     $master_data['f_top_bar'] = $this-&gt;load-&gt;view('f_top_bar', $top_bar_data, true);\n\n          //I WANT TO RETURN ALL DATA IN THE AjaxCont controller returned by the search function HERE //\n\n        //$search_data = (all data from my search function in AJAXCONT controller )\n    // $master_data['search_results'] = $this-&gt;load-&gt;view('search_results',    $search_data, true);\n\n\n   }\n\nelse\n   {\n     //If no session, redirect to login page\n     redirect('login', 'refresh');\n   }\n\n   return $this-&gt;load-&gt;view('master', $master_data, true);\n\n}\n</code></pre>\n"},{"tags":["php","mvc","web-applications","frameworks"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12132944,"title":"Modular Architecture like joomla component system","body":"<p>i did search about my question but the answers did not actually clear a solution for me.\nwell, i need to implement a system, which it should have a main core, and every other functionality in the system should be a module(or extension). something like windows (just an example of its architecture) , or joomla extensions system.</p>\n\n<p>my first trouble is about classes, how can i extend a class and override previous functions in PHP.\nfor example, in my website, i install an article system to its core, then i would like to install a comment system too, after that maybe i should add an extension for rating articles.\nthe point is, every single extension should play its own functionality , but the upper extensions will add some futures to the bottom extensions. of course there should be a clean way for uninstalling those extensions...</p>\n\n<p>second problem is that i don't know is it better to do this with any existing frameworks or do it by my own framework...</p>\n\n<p>i know about MVC architecture and worked with ZEND framework, researched about YII and Symfony 2 frameworks, but what i get from them is they do not satisfy my needs.</p>\n\n<p>thanx for ur help and sorry for my bad english.</p>\n"},{"tags":["php","mvc","codeigniter","model","user-authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12132041,"title":"Where to put $user->logged_in() function? user_model or user_controller?","body":"<p>I've always put the function in <code>application/models/user_model.php</code>, but is that really the best place to put the function?</p>\n\n<p>What doubts me about this way of coding, is that I've heard that model should only work with database.\nSo it means that session related things cannot be in model. Is that really so?</p>\n\n<p>I make the function accessible via autoloading <code>user_model</code> model in <code>config/autoload.php</code>.</p>\n"},{"tags":["javascript","mvc","extjs","extjs4"],"answer_count":4,"favorite_count":4,"up_vote_count":11,"down_vote_count":0,"view_count":4351,"score":11,"question_id":7193392,"title":"Set listener for store events in a controller","body":"<p>I have a controller with a store, a model, and some views.</p>\n\n<p>I need to listen for the <code>beforesync</code> and <code>write</code> event of the store in the controller, but I don't know how to set these listeners in the controllers <code>control</code>-function.</p>\n\n<p>My store looks like this : </p>\n\n<pre><code>Ext.define('DT.store.UsersStore', {\n    extend : 'Ext.data.Store',\n    model : 'DT.model.User',\n    id : 'myStore'\n    autoSync : true,\n    proxy : {\n        type : 'ajax',\n        api : {\n            read : '/load_entries',\n            update : '/update_entry'\n        },\n        reader : {\n            type : 'json',\n            root : 'user',\n            successProperty : 'success'\n        }\n    }\n});\n</code></pre>\n\n<p>Now I try to listen to the events in my controller : </p>\n\n<pre><code>...\ninit : function () {\n    this.control({\n        'myStore' : {\n            beforesync : this.doSomething,\n            write : this.doSomethingElse\n        }\n    });\n},\n...\n</code></pre>\n\n<p>My expected result is that the functions will be executed, when the events are fired.\nBut at this time nothing happens when they are fired.</p>\n\n<p>How can I get this to work?</p>\n"},{"tags":["php","performance","mvc","front-controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12124773,"title":"Routing CSS and JS requests to front controller (Performance Measurement)","body":"<p>I have build a simple MVC library. There is a front controller. htaccess file sends all requests to front controller except images, js, and css. But I have a problem which is I want to build JS and CSS files with PHP. (Not every time though some times.)</p>\n\n<p>For this purpose, I am planning to send CSS and JS file requests to front controller, and from there, another PHP will \"include\" corresponding CSS or JS file, and return it back to client. When CSS or JS is included, it will be processed by PHP interpreter as well.</p>\n\n<p>Though what makes me think is performance. I am only doing development at the moment, and I am not able to see how the system will respond this kind of technique when thousands of request comes. Since when you build a big system, it is hard to change immediately. So I want to build this features into MVC in early stages.</p>\n\n<p>If anyone tried a technique like this, I would like to hear performance measurements.</p>\n"},{"tags":["php","mvc","kohana"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":126,"score":0,"question_id":12122222,"title":"PHP MVC: How to avoid calling model layer functions in views","body":"<p>I'm using MVC pattern in my project,I want to implement MVC in my project perfectly without any loop holes.I've following situation my application,</p>\n\n<pre><code>  foreach($std_results as $std_result)\n   {\n      $std_name = ORM::factory('students')-&gt;where('id',$std_result-&gt;hall_ticket_number);//I want to avoid this     \n       //other stuff follows from here\n   }\n</code></pre>\n\n<p>The above code which I've shown is from view,I've fetched total records based on some conditions in controller and I've passed result to view,there again I got a situation where I want to communicate with model based on obtained records.I don't want to even call model layer function there,how can I avoid this,I'm using Kohana framework in my application.Thanks in advance for any help.</p>\n"},{"tags":["java","mvc","controller","javafx-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1428,"score":1,"question_id":10240471,"title":"How can I access a Controller class in JavaFx 2.0?","body":"<p>Recently I was programming a software with JavaFx2.0,but I met with a big problem,that is - How can I access a Controller class?\nFor every controller class with the same class type,they may act different because of the model it depends on,so I want to get\nthe view's Controller class and provide it with the specified model,can I do this?\nI have tried to get the controller by the FXMLLoader,but the method getController() returns null!why?</p>\n\n<p>1.LightView.java</p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader();\nanchorPane = loader.load(LightView.class.getResource(fxmlFile));//fxmlFile = \"LightView.fxml\"\n//controller = (LightViewController) loader.getController();//fail to get controller!it is null\n//I want to -&gt; controller.setLight(light);\n</code></pre>\n\n<p>2.LightView.fxml</p>\n\n<pre><code>&lt;AnchorPane ... fx:controller=\"light.LightViewController\" &gt;\n</code></pre>\n\n<p>3.LightViewController.java</p>\n\n<pre><code>....\nprivate Light light;\npublic void initialize(URL arg0, ResourceBundle arg1)\n</code></pre>\n\n<p>4.Light.java</p>\n\n<pre><code>.... a simple pojo\n</code></pre>\n\n<p>so,what I want to do is provide every LightViewController with a specified Light Object(they are from a List).\nCan anyone helps me?Thanks a lot!</p>\n"},{"tags":["iphone","ios","cocoa","mvc"],"answer_count":0,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12118927,"title":"Difference between MVC Cocoa architecture with iOS and normal MVC pattern?","body":"<p>I'm looking for the difference between the standard MVC pattern and the MVC pattern used in iOS (Cocoa MVC pattern). But I cannot found any tutorials that explain it clearly.\nAny idea for this??\nThanks in advance!</p>\n"},{"tags":["wpf","mvc","data-binding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12124552,"title":"How to adhere to MVC using WPF/Databinding","body":"<p>Bear with me because I'm new to WPF/XAML. I'm trying to write a MainWindow.xaml / App.xaml pair that properly isolates stylization and data binding, as close to a model-view-controller as possible. So far:</p>\n\n<ul>\n<li>I have a styles.xaml that contains all of the formatting (fonts, margins, etc.). It's referred to from app.xaml's Application.Resources so that it can apply to all WPF forms in the project.</li>\n<li>Model data collections exist as member variables of App, and App exposes them via GetX() acccessor functions.</li>\n<li><p>mainwindow.xaml contains the view structure, as well as binding information. This is done like so:</p>\n\n<p>ObjectDataProvider x:Key=\"AppX\" MethodName=\"GetX\"\n    ObjectInstance=\"{x:Static local:App.Current}\"</p></li>\n</ul>\n\n<p>The fact that mainwindow.xaml contains binding information is bad, since that should be the role of the controller (app). Unfortunately, I've found out that one of the restrictions of the WPF designer is that you can't (for instance) have two unkeyed Resources references (one for view styles, one for data binding styles). Similarly, app.xaml can't contain both the styles.xaml reference and a set of data binding styles in its Resources section.</p>\n\n<p>I could theoretically manually instantiate the main window from the app's startup handler, and then do the binding in code, but that would violate the spirit of WPF in two ways - the app shouldn't need to make the window, as that's done in the background; and binding is better done in XAML than in code when possible. If there were a way for the app to be notified that the main window has been created so that it can then do binding, that wouldn't be bad, but I haven't seen any (short of the main window calling the app after load, but that shouldn't be the responsibility of the view).</p>\n\n<p>So I'm kind of out on a limb. I don't know of a way to properly adhere to MVC while still doing things \"the WPF way\" - it seems that the default is for the VS designer to create a monolithic window XAML that has a mishmash of view, view stylization, and controller. Any descriptions on how to do this better or links to good websites on the topic will be appreciated.</p>\n"},{"tags":["c#","asp.net-mvc","entity-framework","mvc","validation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":160,"score":0,"question_id":12124996,"title":"Validation for Navigation Properties in MVC (4) and EF (4)","body":"<p>I created a model with EF and then created a controller and view in MVC.\nThe model type <code>A</code> has a Navigation Property to type <code>B</code>. So when I create <code>A</code> I want to select a <code>B</code>.</p>\n\n<p>The MVC wizard to create the controller and view only created fields for Scalar Properties. So I went and changed my create action on <code>A</code> to:</p>\n\n<pre><code>public ActionResult Create() //Create action for A\n{\n    List&lt;B&gt; b = db.B.ToList(); //db is my DataContext\n\n    ViewData[\"B\"] = companies.Select(option =&gt; new SelectListItem\n                    {\n                        Text = (option.Name.ToString()),\n                        Value = (option.Id.ToString())\n                    });\n    return View();\n}\n</code></pre>\n\n<p>And added to my view:</p>\n\n<pre><code>&lt;div class=\"editor-label\"&gt;\n    @Html.LabelFor(model =&gt; model.B)\n&lt;/div&gt;\n&lt;div class=\"editor-field\"&gt;\n    @Html.DropDownListFor(model =&gt; model.B,  (IEnumerable&lt;SelectListItem&gt;)ViewData[\"B\"], \"---- Select B ----\")\n    @Html.ValidationMessageFor(model =&gt; model.B)\n&lt;/div&gt;\n</code></pre>\n\n<p>All is good so far and I get the HTML</p>\n\n<pre><code>&lt;select class=\"valid\" id=\"B\" name=\"B\"&gt;\n    &lt;option value=\"\"&gt;---- Select B ----&lt;/option&gt;\n    &lt;option selected=\"selected\" value=\"1\"&gt;TestB&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>However when I submit I get the error:</p>\n\n<pre><code>The value '1' is invalid.\n</code></pre>\n\n<p>Having not written any validation it must have been auto-generated somewhere. How do I correct it to check the values against the ViewData[\"B\"] collection ID's?</p>\n"},{"tags":["mvc","kohana"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12019420,"title":"Kohana request security","body":"<p>I've searched previous answers but can't seem to find the exact answer.</p>\n\n<p>I am using ajax to call a controller action. This controller action does some other stuff then calls a public function of my user controller:</p>\n\n<pre><code>Request::factory(\"/user/savepoints/\".$new_total);\n</code></pre>\n\n<p>How can i secure my action_savepoints in the User controller from people just entering it as a URL?</p>\n\n<p>I currently have this at the top of my function but it doesn't do what im looking for.</p>\n\n<pre><code>if( ! $this-&gt;request-&gt;is_initial() ):\n   HTTP::redirect('/error');\nendif;\n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["objective-c","ios","mvc","mvvm"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":184,"score":1,"question_id":12075504,"title":"Are there any MVVM-like frameworks for objective-c on iOS?","body":"<p>Are there any MVVM frameworks for Objective-C that are widely used on iOS (iPhone/iPad)?</p>\n\n<p>I'm a .net developer who has just started with iOS (read tutorials, done a couple of simple test apps), and from first perspective iOS's MVC looks to me pretty much like WinForms (correct me please if I'm wrong). WinForms \"evolved\" to WPF with MVVM, making Separation of Concerns way easier.</p>\n\n<p>Are there something similar to MVVM for iOS? In the MonoTouch world I saw at least <a href=\"https://github.com/slodge/MvvmCross\" rel=\"nofollow\">mvvmcross</a> applying MVVM. What about Objective-C? Or generally there's no need for this in iOS world?</p>\n"},{"tags":["mvc","node.js","backbone.js","redis","mustache.js"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":12120505,"title":"What JavaScript Frameworks and Libraries are best suited to cross-platform MMO game development?","body":"<p>I've played a great many MMORTS games such as Evony, Dragons of Atlantis and Kingdoms of Camelot. They all have some great features and a great many not so great problems. Simply for my own interest I wanted to try my hand at writing something similar. I don't intend to even try to compete with the big boys but I wanted to write it in a professional and scalable manner as if it was intended for eventual commercial release.</p>\n\n<p>So that's the background that leads into the question. I have been looking at various frameworks and libraries that would be suited to this style of game. However there is such a plethora of options that my head is now spinning. I would like to get some input as to what other people think are the best options. I want to try and write this as a cross-platform / cross-browser webapp that can later be converted to a \"Native\" app using something like MoSync. I want to stick with HTML5, CSS3 and JavaScript technology.</p>\n\n<p>Some of the things I am sure I want are:</p>\n\n<ul>\n<li>It must be scalable (ie able to handle a significant number of simultaneous users)</li>\n<li>I prefer to work with some sort of MVC framework (I am used to working with Joomla MVC and have been considering backbone.js for this aspect)</li>\n<li>I am no JavaScript guru but will most likely want to work with jQuery (mostly in relation to client side views)</li>\n<li>I like templates but am completely lost which template system to go with (ie mustache, handlebars, dust etc). I think my choice in this area will ultimately come down to which framework I end up with.</li>\n<li>Chat is an important aspect of MMORTS games and I am thinking of using Node.JS and Socket.io (or NowJS) for this.</li>\n<li>I have also been looking at Redis for key-value store.</li>\n<li>At this stage I have abandoned the idea of using jQuery Mobile as initial tests have caused more headaches than they have solved.</li>\n</ul>\n\n<p>So my front runners are Node.JS for server side JavaScript (possibly with NowJS to implement chat), Redis for key-value store, backbone.js for the MVC framework, mustache (or maybe LinkedIns fork of dust) for templating and Jquery of course.</p>\n\n<p>I would greatly appreciate any input to help me make my final decision on what frameworks and libraries to use.</p>\n"},{"tags":["c#","mvc",".net-4.0"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12123630,"title":"Passing key/value anonymous object as parameter","body":"<p>In mvc i can use construction like this </p>\n\n<pre><code>@Html.TextAreaFor(model =&gt; model.iEventSummary, new { @class = \"test\" })\n</code></pre>\n\n<p>I'm trying to reproduce this <code>new { @class = \"test\" }</code> as parameter but unsuccessfully</p>\n\n<pre><code>testFunction( new {key1=\"value1\", key2=\"value2\", key3=\"\" })\n\npublic static string testFunction(dynamic dict)\n{\n    string ret = string.Empty;\n    IDictionary&lt;string, string&gt; dictionary = dict;\n    foreach (var item in dictionary)\n    {\n        ret += item.Key + item.Value;\n    }\n    return ret;\n}\n</code></pre>\n\n<p>How does a method variable must be declared? \nIf I want pass <code>new {key1=\"value1\", key2=\"value2\", key3=\"\" }</code> as  parameter.</p>\n"},{"tags":["php","performance","mvc","cakephp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12123172,"title":"Distributing MVC structure on different servers","body":"<p>I'm running an application written in PHP and cakePHP 1.2 framework.\nThe application itself consists of million lines of code and it is REALLY hard to maintain and improve.\nSince it's written using cakePHP 1.2, it normally runs under PHP 5.2.\nI have installed APC and Memcache and I've already optimized the code to run under PHP 5.3.</p>\n\n<p>But it still lacks performance. for example the server was completely out-of-reach yesterday with an average traffic of 4000 users per day (It's a quite busy site though).</p>\n\n<p><strong>Now I'm here asking is it possible to distribute Models, Views and Controllers across multiple servers? (A real cloud solution I mean)</strong></p>\n\n<p>One possible solutions that I've found myself is to <code>SYM-LINK</code>ing <code>Models</code>, <code>Controllers</code> and <code>Views</code> with their location on the server's network. (I know this is not really optimization since eventually the processing will occur on the server which is executing the current script)</p>\n"},{"tags":["php","mvc","codeigniter","frameworks","model"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12120898,"title":"Model of MVC pattern, in context of PHP applications","body":"<p>I have read and studied a about MVC design pattern. Recently I have started working with <code>Codeigniter</code> framework in order to develop <code>RESTFul</code> web service for mobile application.</p>\n\n<p>As I was looking at various tutorials on web sites and on youtube, I found that the concept of a <code>Model</code> is being used differently in PHP application context.</p>\n\n<p><strong>How differently?</strong></p>\n\n<p>Well, as <strong>I always thought</strong> Model classes should look like,</p>\n\n<p><em><strong>Cat.php</em></strong></p>\n\n<pre><code>&lt;?php\n\nclass Cat {\n\n   // Class variables\n   private $colour;\n\n   public __construct() {\n      $colour = 'Brown';\n   }\n\n   // Getters and Setters\n\n   public function getColour() {\n      return $this-&gt;colour;\n   }\n\n   public function setColour($newColour) {\n      $this-&gt;colour = $newColour;\n   }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>but, while searching for good tutorials over the internet I found that people are just using functions that has access to the database for data and returning it to <code>Controller</code>.</p>\n\n<p>I haven't seen any one writing normal classes in Model (<strong>If you are Java person then, we call it POJO</strong>)</p>\n\n<hr />\n\n<p>Now, What I entailed after reading and watching these tutorials that,</p>\n\n<p>In context of PHP application frameworks, The Model classes are connectors to the database which returns the application related data upon query. In language of SQL people we call it,</p>\n\n<ul>\n<li><p>CRUD functions</p>\n\n<ul>\n<li>Create</li>\n<li>Read</li>\n<li>Update</li>\n<li>Delete</li>\n</ul></li>\n</ul>\n\n<h2>So, correct me if I am wrong.</h2>\n\n<p>In web application created by taking base of Codeigniter like framework, where the MVC pattern is used to design an application. The Model classes are the one which will have functions that connects application to the database and returns the data, as well as helps to perform all CRUD operations on application's database.</p>\n"},{"tags":["mvc","networking"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12120428,"title":"MVC - where to put communication code","body":"<p>I want to try to write (amateur here!) a multiplayer game, and now at designing I decided to use the MVC-pattern.<br>\nNow my question is: where should I put my networking code? In the Model or the Controller? (Obviously not the View)</p>\n\n<p><strong>EDIT:</strong>\nSorry, for the hundredst time my question was unclear.<br>\nThe game itself will be MVC, and it will firstly communicate with a server (find player), and later with that player (send your turn and get other's turn). So where should I do that?</p>\n"},{"tags":["c#","mvc"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":93,"score":3,"question_id":12118004,"title":"How much logic in M, in MVC?","body":"<p>I have a service layer, exposing methods to my MVC 'layer'. Lets say I have a method that:</p>\n\n<pre><code>Public List&lt;StateObjects&gt; GetStates()\n</code></pre>\n\n<p>Is it good or poor design to then call that method, from the constructor of my Model object, to maybe build a SelectList of States, for my View? Should the Model have reference to my Service layer, and ALSO, allow my Controllers to have reference to my Service layer? Or should the population of the model's variables be done in the controllers, so have all logic in the controller?</p>\n"},{"tags":["asp.net","mvc","error-handling","http-status-code-404"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2829,"score":2,"question_id":6512904,"title":"How to create custom 404 Error pages in ASP.NET MVC 3?","body":"<p>what is the best way to create custom error pages in ASP.NET MVC 3? The one I am particularly interested in is a 404 error, but also 403, and others. I am new to the MVC framework, traditionally I come from a PHP background, but am learning quickly.</p>\n\n<p>I did my research before posting this question and came across this link:\n<a href=\"http://stackoverflow.com/questions/5226791/custom-error-pages-on-asp-net-mvc3\">Custom error pages on asp.net MVC3</a></p>\n\n<p>That solution seems simple although when I try to implement that on my machine, I get a problem with the following line: IController errorsController = new ErrorsController(); inside the Application_Error() function. It says \"The type or namespace name 'ErrorsController' could not be found (are you missing a using directive or an assembly reference?\".</p>\n\n<p>Thank you in advance for help you may provide.</p>\n"},{"tags":["mvc","cakephp-2.0","cakephp-appmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":9117643,"title":"Cakephp how to handle when some X don't belongsTo Y","body":"<p>I have a table of 'units', which belongsTo 'Complex'.  But some units are actually houses, which don't have a complex associated with them.  I haven't had any problems until now when trying to display images, because units all display their UnitsImage and their ComplexImage.  Any houses display an error that ComplexImage not defined (obviously).  Is there a way to fix the association or do I need to have another model?  </p>\n"},{"tags":["c#","visual-studio-2010","asp.net-mvc-3","mvc","crystal-reports"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1045,"score":4,"question_id":8729421,"title":"Crystal Reports in MVC","body":"<p>Ok, so I'm building a kind of reporting central for the company I work at and the easy part was building a web based file browser, now I'm moving on to the report aspect of it and to start it off, I'm integrating Crystal Reports. \nI've already gotten the files from the SAP website for them, but I'm encountering a couple problems, </p>\n\n<p>First off, all the examples I've found make it so that you have to define the data source/database, and include log in information for it in the code. This is a problem because we have a LOT of crystal reports, with a lot of different database references, so I can't just use one for all of them. In fact, there are reports that we use that reference multiple database at the same time. </p>\n\n<p>Secondly, all the examples I've found make it seem like you have to have a specific page created for each report. My goal is to be able to have the report link as a variable and have one page for all of the reports we have. </p>\n\n<p>I looked at everything I could find yesterday and I couldn't find what I needed. I'm also wondering what on earth the ReportClass.Load function even does. It was in every example I could find and I didn't notice any explicit difference in the ReportClass I had when I used it.</p>\n\n<p>While searching, I found an answer that suggested building a web forms application that would build the Reports, and then use an I-Frame to grab it, but that's something I want to avoid. </p>\n\n<p>So in review:</p>\n\n<p>1) I need to build Crystal Reports without having to reference the Database</p>\n\n<p>2) I need it to be flexible to a variable Report by supplying just the path to the .rpt file</p>\n\n<p>3) I would like it to be in a single application, in MVC, and avoiding IFrames</p>\n\n<p>Thank you so much for your help!!</p>\n\n<p>EDIT: I found a solution that works for me. Instead of using a RAZOR view, I used an ASPX view, which has the Crystal Reports Viewer Tool in the toolbox. In order to make it variable I used the ViewBag.</p>\n\n<p>Controller Code:</p>\n\n<pre><code>[HttpGet]\n    public ActionResult Viewer(string Path)\n    {\n        var sessionID = Session.SessionID;\n        ViewBag.Path = newPath;\n        return View();\n    }\n</code></pre>\n\n<p>ASPX View Code:</p>\n\n<pre><code>    &lt;% Report.Report.FileName = ViewBag.Path; %&gt;\n    &lt;CR:CrystalReportViewer ID=\"Viewer\" runat=\"server\" AutoDataBind=\"True\" GroupTreeImagesFolderUrl=\"\" Height=\"100%\" ReportSourceID=\"Report\" ToolPanelWidth=\"200px\" Width=\"100%\" /&gt;\n    &lt;CR:CrystalReportSource ID=\"Report\" runat=\"server\"&gt;\n        &lt;Report&gt;&lt;/Report&gt;\n    &lt;/CR:CrystalReportSource&gt;\n</code></pre>\n"},{"tags":[".net","mvc","iis","http-put"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":752,"score":6,"question_id":9161354,"title":"Enable Http PUT requests on .NET MVC","body":"<p>I'm working on an MVC application. On my original draft of the service I had this method in one of my controllers:</p>\n\n<pre><code>    [AcceptVerbs(HttpVerbs.Post)]\n    [ActionName(\"UpdateRelationship\")]\n    public ActionResult UpdateRelationship(string aParameter)\n</code></pre>\n\n<p>And that worked fine. In the latest revision I've been asked to change this into a PUT request to differentiate it from a similar add mechanism which uses post. So I changed it to this:</p>\n\n<pre><code>    [AcceptVerbs(HttpVerbs.Put)]\n    [ActionName(\"UpdateRelationship\")]\n    public ActionResult UpdateRelationship(string aParameter)\n</code></pre>\n\n<p>And suddenly I'm getting a 404 on my requests, all from just changing the AcceptVerbs. From the look of the error, it appears as though IIS is trying to route the request as a standard webforms page rather than using MVC extensionless url re-writing.</p>\n\n<p>Googling this it seems that a common cause is browsers not allowing PUT requests but I'm not using a browser to test this - I'm using Fiddler. So there should be no problem there. I also think the correct settings are already in the web.config:</p>\n\n<pre><code>&lt;system.webServer&gt;\n    &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;\n    &lt;modules runAllManagedModulesForAllRequests=\"true\"&gt;\n  &lt;remove name=\"WebDAVModule\" /&gt;\n    &lt;/modules&gt;\n    &lt;handlers&gt;\n        &lt;remove name=\"UrlRoutingHandler\" /&gt;\n        &lt;remove name=\"MvcHttpHandler\" /&gt;\n  &lt;remove name=\"WebDAV\" /&gt;\n        &lt;add name=\"MvcHttpHandler\" preCondition=\"integratedMode\" verb=\"*\" path=\"*.mvc\" type=\"System.Web.Mvc.MvcHttpHandler, System.Web.Mvc, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n    &lt;/handlers&gt;\n    &lt;security&gt;\n        &lt;requestFiltering&gt;\n            &lt;verbs&gt;\n                &lt;add verb=\"PUT\" allowed=\"true\" /&gt;\n            &lt;/verbs&gt;\n        &lt;/requestFiltering&gt;\n    &lt;/security&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p>So what have I missed?</p>\n\n<p>EDIT: This code works on a colleagues' machine. So it looks like my local setup of IIS as at fault. Still at a loss to explain what I need to change though - any ideas?</p>\n\n<p>Cheers,\nMatt</p>\n"},{"tags":["c#","entity-framework","mvc","azure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":206,"score":0,"question_id":11321781,"title":"Entity Framework 4.3 Windows Azure Keyword not supported: 'metadata'","body":"<p>My Code works locally, with connection string pointing to AZURE SQL SERVER. But as soon as i publish to Azure Web Site every View with EF Model throws this error.\nI have change the &quot; to ' as one of the proposed solutions, nothing works.\nIm stuck!!</p>\n\n<pre><code>  System.Data.EntityException: The underlying provider failed on ConnectionString. ---&gt; System.ArgumentException: Keyword not supported: 'metadata'.\n   at System.Data.Common.DbConnectionOptions.ParseInternal(Hashtable parsetable, String connectionString, Boolean buildChain, Hashtable synonyms, Boolean firstKey)\n   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Hashtable synonyms, Boolean useOdbcRules)\n   at System.Data.SqlClient.SqlConnectionString..ctor(String connectionString)\n   at System.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)\n</code></pre>\n"},{"tags":["javascript","mvc","extjs4","extjs-mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":218,"score":2,"question_id":12106055,"title":"In an Ext JS 4 MVC app, what should be responsible for loading stores?","body":"<p>Consider a complex application where you have custom filtering logic and different modes of loading; delayed loading when hidden, no loading when hidden, but load when it's shown and reloading when your custom filters are modified etc.</p>\n\n<p>What part of the mvc app should be responsible for loading, and how to connect it all?</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":160,"score":2,"question_id":12111462,"title":"Model best practices in ASP.NET MVC","body":"<p>I've got two questions related to the best way to manage a model in an mvc project.</p>\n\n<ul>\n<li>Can i use a constructor for initialize my model  (obviously with its related logic)?</li>\n<li>For this purpose, is better to use \"the constructor way\", or I should use extension method called by controller after the creation of the new model instance? </li>\n</ul>\n\n<p>For example I've a model for a contact form. User can be in three roles: anonymous, client or supplier and he can submit the form in each state. The only thing that I want is that if the user is logged in (like client's role or supplier's role) I want to preload in textboxes his datas. \nFor do this I've wrote this code:</p>\n\n<pre><code>using System;\nusing System.Web;\nusing System.Web.Security;\nusing DrOkR2.Bll.Managers;\n\nnamespace DrOkR2.WebFront.Models\n{\n\n    public class RequestModel\n    {\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public string Phone { get; set; }\n        public string Email { get; set; }\n        public string Prov { get; set; }\n        public string Request { get; set; }\n        public bool UsageConditions { get; set; }\n\n        public RequestModel()\n        {\n            if (!HttpContext.Current.User.Identity.IsAuthenticated) return;\n            if (HttpContext.Current.User.IsInRole(\"Client\"))\n            {\n                var guid = (Guid)Membership.GetUser().ProviderUserKey;\n                var manager = new ClientManager();\n                var client = manager.GetClient(guid);\n                client.Email = Membership.GetUser().Email;\n\n                FirstName = client.FirstName;\n                LastName = client.LastName;\n                Email = client.Email;\n                Phone = client.Phone;\n                Prov = client.Prov;\n            }\n            else if (HttpContext.Current.User.IsInRole(\"Supplier\"))\n            {\n                var guid = (Guid)Membership.GetUser().ProviderUserKey;\n                var manager = new SupplierManager();\n                var supplier = manager.GetSupplier(guid);\n                supplier.Email = Membership.GetUser().Email;\n\n                FirstName = supplier.FirstName;\n                LastName = supplier.LastName;\n                Email = supplier.Email;\n                Phone = supplier.PrimaryPhone;\n                Prov = supplier.BusinessProv;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>It works perfectly, but my question is: am I using the best possible way?  </p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":352,"score":0,"question_id":5217391,"title":"Asp.net MVC Output cache","body":"<p>Im thinking in use the Output cache attribute for caching views in MVC.</p>\n\n<p>My question is simple:</p>\n\n<p>When i use output cache attribute on top of an action method, if in the next request the view was cached the action is not executed right?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":180,"score":0,"question_id":8225389,"title":"RenderAction and RedirectToAction on MVC","body":"<p>i have a master page called layout.cshtml and a page called testpage.cshtml.</p>\n\n<p>On this page i have a RenderAction that returns a PartialView. </p>\n\n<p>Is it possible to return a RedirectToAction inside the Action that returns a PartialView?</p>\n\n<p>Im getting a \"child actions are not allowed to perform redirect actions\" exception and i would like to know if its caused by this reason.</p>\n\n<p>Looks logical that you should not redirect from a \"UserControl\" in MVC right?</p>\n"},{"tags":["php","mvc","codeigniter","module","hmvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":299,"score":2,"question_id":11258539,"title":"hmvc codeigniter","body":"<p>I have learned the basics of codeigniter and now learning the modules. \nMy problem :-\nI have made two folders inside the modules folder, first_module and second module.\nIn the first_module inside the controller my code :-</p>\n\n<pre><code>&lt;?php\n    class First_module extends MX_Controller {\n    public function index()\n    {\n        $this-&gt;load-&gt;view('first_module_view');            \n    }\n}\n</code></pre>\n\n<p>?></p>\n\n<p>first_module_view page code :-</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n    &lt;h1&gt; hey this is first module &lt;/h1&gt;\n    &lt;?php \n        echo Modules::run('second_module/second_module');\n    ?&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>second_module controller page :-</p>\n\n<pre><code>&lt;?php\nclass Second_module extends MX_Controller {\n    public function index()\n    {\n        $this-&gt;load-&gt;view('second_module_view');\n    }\n}\n</code></pre>\n\n<p>?></p>\n\n<p>second_module_view view page:-</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n    &lt;h1&gt; hey this is second module &lt;/h1&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am trying to partially view the second module view in the first_module view using the second_module's controller, but that is not working.. \nIndividually both codes are working fine but Modules::run() doesnt seems to work.\nAm I missing something.?</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12109452,"title":"How to structure such Backbone app?","body":"<p>I'm starting my adventure in Backbone.js and MV* world, so excuse me if that's a trivial question.</p>\n\n<p>I work on a quite straight-forward application, sort of a product configurator. To make things simple let's assume it's a car configurator. So, we have these options available: engine, color, GPS (yes/no), tires type, and a few more. A few options have specific formulas for a price calculation, most share the same template (radio buttons) but not all.</p>\n\n<p>I have an experience with JS, prototypal inheritance, etc., read a few tutorials about Backbone.js, even a book (<a href=\"http://addyosmani.github.com/backbone-fundamentals/\" rel=\"nofollow\">http://addyosmani.github.com/backbone-fundamentals/</a>), successfully configured the basic stack (with jQuery, RequireJS and so on) and I think\nI get a grasp of how the whole MV* thing works. But still I'm not sure how to structure my app.\nWhat should be a model and what should be an instance of a model? Should I create a view for each option? Where should I initialize all of the instances? In one of the views? In a router?</p>\n\n<p>Here's my current concept:</p>\n\n<ul>\n<li>Engine, color, GPS and all the other options are instances of an Option model. All of them are collected in a OptionCollection.</li>\n<li>Two Views: one for all the options and one for wrapping things together. A OptionView for options have all the logic for templating, events, etc., the WrapperView interacts with the OptionCollection, checks if the options don't exclude each other and sums the\nprice.</li>\n<li>There are three templates: radio.html (basic selection), input.html (for options where user has to type in something) and wrapper.html.</li>\n<li>Each option has it's instance of the Model, with all the variants.</li>\n<li>Not sure if I need a Router at all. I want to keep simple for now.</li>\n</ul>\n\n<p>I believe it should work, but I'm not sure if this is the most optimal solution. Most of all: I'm totally in the dark regarding price calculations formulas. Where to define them? In a Model? As an initialization argument? In the WrapperView?</p>\n"},{"tags":["javascript","jquery","ajax","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12108672,"title":"Using javascript(ajax, jquery?) to delete an object(user etc) from a table","body":"<p>I'm pretty new to C# MVC3, javascript, jquery, ajax and such. Right now i've got the usual index with edit and delete scaffolding, but i would like to use a popover from bootstrap to delete rows from the database.</p>\n\n<p>The popover is working, and looks fine.</p>\n\n<p>Could anyone point me in the right direction. I don't know what to google atm.</p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12060965,"title":"MVC: Where should I put this data access logic?","body":"<p>I've been trying to adhere to a strict interpretation of MVC in rebuilding a personal web application at home, but I'm having some issues.</p>\n\n<p>The application is a financial tracking application. I'm stuck at the first page, which is just a list of the bank account transactions for the month. The transaction list is my Model. The Controller and View are easy enough to envision at this point.</p>\n\n<p>However, I also have two buttons at the top of the page. They are arrows, one corresponding to the previous month, and the other corresponding to the next month's transaction list. I don't want these buttons enabled if there are no transactions for the previous/next month, so I need to talk to the database to figure out whether each button should actually link somewhere.</p>\n\n<p>From most of what I've read, to the largest extent possible database access should be encapsulated in models, with little to no database access in Controllers and Views.</p>\n\n<p>However, these buttons essentially need to ask the database, \"Are there any transactions for the next/previous months?\" The answer will determine whether or not their links are disabled, as well as where to send the user.</p>\n\n<p>Strictly speaking, putting their logic into the Transaction List model does not seem appropriate, as whether or not transactions exist <em>outside the requested range</em> is beyond the concern of the Transaction List Model.</p>\n\n<p>I guess I could also make another Model that would correspond to all Year-Month combinations where transactions exist. I could then pass this Model and the Transaction List on to the proper View.</p>\n\n<p>Or should I deviate from the no-database-access-outside-the-model paradigm, and just throw some quick DB querying into the View (since the result is essentially a UI concern, making navigation easier)?</p>\n\n<p>What do you guys think about this conceptual issue?</p>\n\n<p>BTW, I am not using any framework. This is pet project designed to get me more familiar with the nuts and bolts of the MVC pattern.</p>\n"},{"tags":["mvc","routes","zend-framework2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":321,"score":1,"question_id":12068648,"title":"Zend Framework 2: get matched route in view","body":"<p>I'm currently learning ZF2 by developing a small MVC application roughly based on the skeleton app. Right now I'm trying to hide some fixed HTML elements based on the route matched: just as an example, I don't want the main menu to show during the login phase. </p>\n\n<p>I can do that easily by passing toggle parameters as return values from the controller actions, but it doesn't feel right, so I'd like to just check the matched route from the layout and compose the layout accordingly. </p>\n\n<p>Problem is, I don't know how to get the matched route in the template. Is this possible? Are there other solutions to avoid adding layout logic into controllers?</p>\n\n<p><strong>Edit</strong> after some good Frankenstein work, I was able to find a solution for this. I like the idea of using a helper, so I just tried to pass it the Application object, from the boostrap function in the main module:</p>\n\n<pre><code>$app = $e-&gt;getApplication();\n$serviceManager = $app-&gt;getServiceManager();\n....\n$serviceManager-&gt;get('viewhelpermanager')-&gt;setFactory('getRoute', function($sm) use ($app) {\n    return new Helper\\GetRoute($app);\n});\n</code></pre>\n\n<p>and the helper function:</p>\n\n<pre><code>use Zend\\View\\Helper\\AbstractHelper;\n\nclass GetRoute extends AbstractHelper {\n    private $sm;\n\n    public function __construct($app) {\n        $this-&gt;sm = $app-&gt;getServiceManager();\n    }\n\n    public function echoRoute() {\n        $router = $this-&gt;sm-&gt;get('router');\n        $request = $this-&gt;sm-&gt;get('request');\n\n        $routeMatch = $router-&gt;match($request);\n        if (!is_null($routeMatch))\n            echo $routeMatch-&gt;getMatchedRouteName();\n    }\n}\n</code></pre>\n\n<p>perhaps there's a cleaner, more ZF2ish way to do this...</p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":8202769,"title":"What's the role of Mediator and Proxy in Model View Controller pattern","body":"<p>I understand the importance of Model, View and Controller. But further specialization of View into Mediator and Model into Proxy, confuses me. Is their any simple layman explanation exactly what Mediator and Proxy does, and why exactly they are separated from View and Model respectively ( Because in my opinion, View and Model are sufficent in themselves.. then why to make more classes)</p>\n\n<p>Thanks\nV.</p>\n"},{"tags":["sql","mvc","time","icalendar","overlapping"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":11683042,"title":"how to model (mvc) an abstract time period for employe shift management","body":"<p><em>I've started thinking about an employee shift management application to handle the shifts (who works when, trading, etc) at my current workplace (that uses pen and paper and hasn't got anyway for us employees to communicate about changes without going through the boss and be on site).</em></p>\n\n<p>Currently the shifts are modeled loosely as:</p>\n\n<ul>\n<li>There is a recurring 4 week period (from Monday week 1 to Sunday week 4)</li>\n<li>There is a template for placing employees in this 4 week period</li>\n<li>Every 4 months (ie 3 times a year) the 4 week template is projected over the next 4 month period</li>\n</ul>\n\n<p><em>The shifts have been the same for a long time and it seems many employees would prefer to have them changed (I can say this by the requests for change that come in every time a new 4 month is set).</em></p>\n\n<p>What I'm aiming at are the models:</p>\n\n<ul>\n<li>Shift_group_tpl (the 4 week period above)</li>\n<li>Shift_tpl (a single shift in the 4 week period, including info on who defaults to work this shift)</li>\n<li>Shift_group (a set period of time whit actual shifts)</li>\n<li>Shift (a set shift whit a real time period and an employee - and the possibility to be changed both in start_time, end_time and employee)</li>\n</ul>\n\n<p>I've thought of a way to do this with recurring iCalendar events: Creating RRULE's (without an endtime) and then calculate (using temporary start and end times) if that specific Shift_group_tpl could be used within a real Shift_group. (The problem with this approach is that I can't figure out how to trim the Shift_group_tpl's to fit into the start or end of a Shift_group.)</p>\n\n<p>What I'm looking for are some other perspectives or ways of doing it or even just a pat on the shoulder letting me know that I'm on the right track (and then giving advice on the trimming problem).</p>\n\n<p>/iole1</p>\n"},{"tags":["javascript","mvc","design-patterns"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":11749050,"title":"What is the Interface-Compute pattern?","body":"<p>I've been seeing recently lots of \"speculation\" and small talk on this particular pattern (since I started to learn <em>Dojo toolkit</em>) but can't find any clear info on that matter. Some say, it's a solution to the frequently and \"harmful\" (<em>they, not me</em>) MVC pattern. I list some MVC \"common\" big picture problems solved by Interface-Compute. I found <a href=\"http://bdframework.org/docs.html\" rel=\"nofollow\">this site</a> and read about it, but just can't get the big picture about the pros/cons.</p>\n\n<p><em><strong>Input/Output</em></strong></p>\n\n<p><em>The view component is defined as a static component, never directly accepting input from the user. This is to say that reacting to user input is handled by a different component than presents user stimuli. But GUI programming environments do not draw a bright line between input and output components in this way: well-designed GUI programming environments are componentized into nested containers of user interface functionality.</em></p>\n\n<p><em><strong>Ignore Browser</em></strong></p>\n\n<p><em>If we consider web application frameworks that purport to support constructing so-called \"rich internet applications\", the entire framework resides at the server, so, apparently both the view and controller are implemented at the server. This leaves the browser completely absent from the design model. If this is our mental picture of the design, then the browser is left to function as little more than a terminal with nice output capabilities.</em></p>\n\n<p><em><strong>etc...</em></strong></p>\n\n<p>I'm just wondering with all the JavaScript development like Dojo Toolkit, Node.js and some others for slick server side code (I think we might be going into this kind of era and rethink our ways of doing with server-side code with PHP, Java, Ruby on rails, etc.). Plus, it's cool being able to debug both your server and client side code in your browser!</p>\n"},{"tags":["ruby-on-rails","mvc","content-management-system","content-type","rails-models"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12107148,"title":"Ruby on Rails, creating CMS with content types","body":"<p>I'm learning RoR nowadays and came up with an idea of creating a very simple content management system. I would like to allow users to create structure of content by adding fields, then the app would create pages to add new items and list all items of given type. I've seen something similar in Drupal where users can define their own content type. </p>\n\n<p>I wonder how to do it:</p>\n\n<p>1.Using relational DB: Should I store content type as (for example) serialized hash of \"id => type_of_field\" and execute SQL to create db schema in controller after getting it from user? Is there any better way to achieve this? Can it cause problems with future db migrations?</p>\n\n<p>2.How to create views, controllers and routes? Should there be only one controller handling routes to content types by itself without using routes.rb and creating views dynamically from partials? Is there more elegant way to do this?\nThanks for all clues.</p>\n"},{"tags":["mvc","associations","indirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":10160549,"title":"MVC indirect associations","body":"<p>I am talking about general MVC pattern which is explained on wiki. That nasty pink picture breaks me. I have seen different ones but the ones with indirect associations always puzzled me. <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a></p>\n\n<p>1 Why view has indirect association with controller?</p>\n\n<p>view is based on model - that is why the association is direct</p>\n\n<p>2 But why model has indirect association with a view? it doesn't even know about the existence of a view neither it needs to know?</p>\n\n<p>I develop with Java Servlets and Spring MVC and I am relatively new developer I have feeling that it goes back to past to other languages discussed by Martin Fowler. Because with Spring MVC I always use controller as a joining link with no weird indirect associations.</p>\n\n<p>I have started programming only 3 years ago, so I was always raised with ideas of doing things properly. For instance why would you store business logic in past in the model when it is completely wrong and inefficient if nowadays we combine MVC with n-tier where model is exactly what is - just a dumb class with parameters and getters+setters and the whole MVC just serve the UI as it was originally intended or was it not? We have DAOs and Service Layer encapsulating DAOS + some logic, how does it relate to model?</p>\n\n<p>My typical model is no more complex than a traditional 'Student' or 'Car' class typically resembling tables in database(I don't use ORM at the moment) Do I use it correctly? How does DTO relate to model?</p>\n"},{"tags":["mvc","class-diagram"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":241,"score":1,"question_id":10284752,"title":"MVC and class diagrams","body":"<p>I have done some programming with MVC but never really thought about class diagrams within them, but thinking about it I dont understand how a class diagram would work with one.</p>\n\n<p>Would you just create a class diagram of each model,</p>\n\n<p>Also, when I have used codenigter, i return query results from the model rather than a whole object, so would there even be any attributes?</p>\n\n<p>Thanks</p>\n"},{"tags":["ios","mvc","core-data"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":11193236,"title":"MVC -- bridging the gap between my model and its on-screen representation","body":"<p>I am building a Settlers of Catan game in hopes of gaining understanding of proper MVC design patterns.</p>\n\n<p>I have created Core Data entities called <code>Tiles</code> and <code>Corners</code> that represent the game board and each tile has a one-to-many relationship with its (6) corners.  These represent my \"Model\".  </p>\n\n<p>I've also created corresponding \"View Controller\" classes that represent these physical representation of the tiles and corners drawn on screen.  I called these Cocos2D classes <code>BoardTiles</code> and <code>BoardCorners</code>.</p>\n\n<p><strong>How do I efficiently explore the relationships I created in the model via the View Controllers?</strong></p>\n\n<p>I've tried:</p>\n\n<p>1)  Giving the VC a reference to its corresponding Core Data entity</p>\n\n<p>2)  Query the entity's corners (boardTile.tile.corners)</p>\n\n<p>3)  Take the resulting CoreData corners and query its VC 'owner' via a unique ID lookup.</p>\n\n<p>Is there a better way to structure this so that the View Controllers have an easier way of accessing the model's relationship data?</p>\n"},{"tags":["mvc","conventions","controllers"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":109,"score":2,"question_id":3294536,"title":"Cross controller function conventions for MVC web?","body":"<p>I have a question about the best practices of placing certain functions in controllers in an MVC web framework.</p>\n\n<p>Lets say I have a User &amp; Tags controller. I have a function/method called addTag_to_user().</p>\n\n<p>What is the conventions or best practices for placing this in either the Users or Tags controller?</p>\n\n<p>Though personally I am more inclined to place it in the tags controller as my Users controller may be full of other functions as it is a key element (for example). Thus placing it in the Tags controller improves the readability of the User controller.</p>\n\n<p>Edit: Maybe it doesn't really matter where you place functions that deals with two models. I want to see what other people's conventions are.</p>\n"},{"tags":["javascript","mvc","patterns"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":11319736,"title":"MVC Alternative for Ajax Oriented JavaScript","body":"<p>Because Ajax is asynchronous it causes a logical division.  Here is my controller module.\nAll data requests to the server go through here and come back here.</p>\n\n<pre><code>function cType( type ) {\n    var object_pipe = MType[ type ].pre();\n    if ( object_pipe !== 'complete' ) {\n        var string_pipe = JSON.stringify( object_pipe );\n        cMachine( 'pipe=' + string_pipe , function( text ) { // cMachine is an ajax Call - here is the asynch call back\n            MType[ type ].post( text ); \n        } );\n    }\n}\n</code></pre>\n\n<p>I create the module structure below so that the \"space\" split up by the async nature of ajax is now combined back into an object literal. <code>pre()</code> refers to before the ajax call and <code>post()</code> refers to after the ajax call.</p>\n\n<pre><code>/**\n **  MABAdder\n */\nMType.MABAdder =\n{\n    pre : function() { // some logic and view elements called here\n    },\n    post : function( string_pipe ) { // some logic and view elements called here\n    }\n};\n</code></pre>\n\n<p>This structure works well except that now I call the view from the model which technically breaks the MVC pattern.</p>\n\n<p>However the code is neat and organized and scales well.</p>\n\n<p>Does this break any core tenets of robust code?</p>\n\n<p>To me, It makes more sense to create a pattern that works with the async nature of ajax then to adhere to a strict MVC pattern.</p>\n\n<p>Is this an acceptable framework seed?</p>\n"},{"tags":["ruby-on-rails","mvc","url","controller","uri"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":12105472,"title":"Get current action's path/url including query string? (Rails)","body":"<p>Simple question - how do I get the path or full URL of the current action INCLUDING the query string?</p>\n\n<p>I wish to save it to the session variable like so:</p>\n\n<pre><code>def show\n  @thingy = Thingy.find(params[:id])\n\n  session[:some_var] = current_url\n\n  ...\nend\n</code></pre>\n\n<p>At the moment I'm doing the following, but it seems a bit heavy-handed (especially the specifying of query string params individually):</p>\n\n<pre><code>def show\n  @thingy = Thingy.find(params[:id])\n\n  session[:some_var] = thingy_path(@thingy, :q1 =&gt; params[:q1], :q2 =&gt; params[:q2])\n\n  ...\nend\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","routing","asp.net-mvc-4","areas"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":550,"score":2,"question_id":9982122,"title":"ASP.NET MVC 4 - 2 Areas With Segments, 1 Area Without","body":"<p>I've just created a fresh <strong>ASP.NET MVC 4</strong> solution and have added 3 <strong>Areas</strong> and would like them routed as indicated:</p>\n\n<pre><code>1. General         -&gt; http://www.mysite.com/\n2. Members         -&gt; http://www.mysite.com/members/\n3. Administration  -&gt; http://www.mysite.com/administration/\n</code></pre>\n\n<p>I can configure the routing so that \"General\" Area works when it's the first segment but can't seem to get my routing working across all 3 Areas when I don't want \"General\" to appear as a segment in the URL. As you can see I'm aiming for a clean URL structure.</p>\n\n<p>I plan on adding a number of controllers/views under each area and would like to maintain this organisation of Areas.</p>\n\n<p>I've seen a <a href=\"http://stackoverflow.com/a/2107602/335545\">similar MVC 2 problem posted</a> but am not sure the ordering of area registrations will correct my particular issue.</p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":149,"score":2,"question_id":9624659,"title":"Shouldn't [RequireHttps] in MVC do a 301 permanent redirect? Why does it do a 302 (bad for SEO?)","body":"<p>I noticed on fiddler that [RequireHttps] does status code 302 redirects instead of 301.  I'm not sure how this makes sense...</p>\n\n<p>If you are saying that a controller [RequireHttps], then you never-ever want people to go visit the Http version of that page.  So why isn't a permanent redirect... telling the search engines \"please update your links permanantly to the https version of this page\".</p>\n\n<p>If this makes sense, and i'm right, is there a way to change it to 301 redirect?</p>\n"},{"tags":["javascript","asp.net","json","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1734,"score":0,"question_id":4496687,"title":"How to pass Json collection object to mvc controller action method","body":"<p>I am creating one Json array object and trying to pass it in MVC controller action method but i am getting null paramerter; as per my knowledge json only maps .net primitive datatypes.... so it assign null value. </p>\n\n<p>Note: when i have look at request object i found that there are three parameter of created array. But how to get that value as parameter of function?</p>\n"},{"tags":["php","mvc","testing","cakephp","simpletest"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":1787,"score":5,"question_id":1246666,"title":"Real-world testing of CakePHP controllers?","body":"<p>I'm writing a new application with CakePHP (just-released 1.2.4), using SimpleTest 1.0.1. I have read the relevant sections of the <a href=\"http://book.cakephp.org/view/366/Testing-controllers\" rel=\"nofollow\">Cookbook</a>, searched on the <a href=\"http://bakery.cakephp.org/\" rel=\"nofollow\">Bakery</a>, and read Mark Story's postings on controller testing (the <a href=\"http://mark-story.com/posts/view/testing-cakephp-controllers-the-hard-way\" rel=\"nofollow\">hard way</a> and <a href=\"http://mark-story.com/posts/view/testing-cakephp-controllers-mock-objects-edition\" rel=\"nofollow\">with mocks</a>).</p>\n\n<p>Unfortunately, none of this talks about real-world testing of non-trivial controllers. Lots of apps put areas of the site behind a login, yet I cannot figure out how to test the simple scenario of:</p>\n\n<ul>\n<li>guest access to protected page redirects?</li>\n<li>valid credentials sets expected session variables?</li>\n<li>invalid credentials re-displays login page with error message?</li>\n</ul>\n\n<p>The controller and test below do not work as I thought they would. Both assertions fail and I also get a PHP error:</p>\n\n<p>FAILED\n[NULL] should not be null at [.../app/tests/cases/controllers/users_controller.test.php line 79]\n.../app/tests/cases/controllers/users_controller.test.php -> UsersControllerTest -> testLogin</p>\n\n<p>FAILED\nEqual expectation fails as [NULL] does not match [Integer: 1] at [.../app/tests/cases/controllers/users_controller.test.php line 80]\n.../app/tests/cases/controllers/users_controller.test.php -> UsersControllerTest -> testLogin</p>\n\n<p>ERROR\nUnexpected PHP error [Undefined index: action] severity [E_NOTICE] in [.../cake/libs/controller/components/auth.php line 266]\n.../app/tests/cases/controllers/users_controller.test.php -> UsersControllerTest -> testLogin</p>\n\n<p>Here is the controller (baked plus Mark Story's \"hard way\" testing method):</p>\n\n<pre><code>class UsersController extends AppController\n{\n  var $name = 'Users';\n  var $helpers = array('Html', 'Form');\n  var $components = array('Auth');\n\n  function login()\n  {\n  }\n\n  function logout()\n  {\n    $this-&gt;redirect($this-&gt;Auth-&gt;logout());\n  }\n\n  function index()\n  {\n    $this-&gt;set('users', $this-&gt;paginate());\n  }\n\n  function view($id = null)\n  {\n    if (!$id)\n    {\n      $this-&gt;Session-&gt;setFlash(__('Invalid User.', true));\n      $this-&gt;redirect(array('action'=&gt;'index'));\n    }\n    $this-&gt;set('user', $this-&gt;User-&gt;read(null, $id));\n  }\n\n  function add()\n  {\n    if (!empty($this-&gt;data))\n    {\n      $this-&gt;User-&gt;create();\n      if ($this-&gt;User-&gt;save($this-&gt;data))\n      {\n        $this-&gt;Session-&gt;setFlash(__('The User has been saved', true));\n        $this-&gt;redirect(array('action'=&gt;'index'));\n      }\n      else\n      {\n        $this-&gt;Session-&gt;setFlash(__('The User could not be saved. Please, try again.', true));\n      }\n    }\n  }\n\n  function edit($id = null)\n  {\n    if (!$id &amp;&amp; empty($this-&gt;data))\n    {\n      $this-&gt;Session-&gt;setFlash(__('Invalid User', true));\n      $this-&gt;redirect(array('action'=&gt;'index'));\n    }\n    if (!empty($this-&gt;data))\n    {\n      if ($this-&gt;User-&gt;save($this-&gt;data))\n      {\n        $this-&gt;Session-&gt;setFlash(__('The User has been saved', true));\n        $this-&gt;redirect(array('action'=&gt;'index'));\n      }\n      else\n      {\n            $this-&gt;Session-&gt;setFlash(__('The User could not be saved. Please, try again.', true));\n      }\n    }\n    if (empty($this-&gt;data))\n    {\n      $this-&gt;data = $this-&gt;User-&gt;read(null, $id);\n    }\n  }\n\n  function delete($id = null)\n  {\n    if (!$id)\n    {\n      $this-&gt;Session-&gt;setFlash(__('Invalid id for User', true));\n      $this-&gt;redirect(array('action'=&gt;'index'));\n    }\n    if ($this-&gt;User-&gt;del($id))\n    {\n      $this-&gt;Session-&gt;setFlash(__('User deleted', true));\n      $this-&gt;redirect(array('action'=&gt;'index'));\n    }\n  }\n}\n</code></pre>\n\n<p>Here is the test:</p>\n\n<pre><code>/* SVN FILE: $Id$ */\n/* UsersController Test cases generated on: 2009-08-05 17:08:03 : 1249507923*/\nApp::import('Controller', 'Users');\n\nclass TestUsers extends UsersController\n{\n  var $autoRender = false;\n  var $redirectUrl;\n  var $redirectStatus;\n  var $renderedAction;\n  var $renderedLayout;\n  var $renderedFile;\n  var $stopped;\n\n  function redirect($url, $status = null, $exit = true)\n  {\n    $this-&gt;redirectUrl = $url;\n    $this-&gt;redirectStatus = $status;\n  }\n\n  function render($action = null, $layout = null, $file = null)\n  {\n    $this-&gt;renderedAction = $action;\n    $this-&gt;renderedLayout = (is_null($layout) ? $this-&gt;layout : $layout);\n    $this-&gt;renderedFile = $file;\n  }\n\n  function _stop($status = 0)\n  {\n    $this-&gt;stopped = $status;\n  }\n}\n\nclass UsersControllerTest extends CakeTestCase\n{\n  var $fixtures = array('user');\n  var $Users = null;\n\n  function startTest()\n  {\n    $this-&gt;Users = new TestUsers();\n    $this-&gt;Users-&gt;constructClasses();\n    $this-&gt;Users-&gt;Component-&gt;initialize($this-&gt;Users);\n  }\n\n  function prepareForAction()\n  {\n    $this-&gt;Users-&gt;beforeFilter();\n    $this-&gt;Users-&gt;Component-&gt;startup($this-&gt;Users);\n  }\n\n  function endTest()\n  {\n    $this-&gt;Users-&gt;Session-&gt;destroy();\n    unset($this-&gt;Users);\n    ClassRegistry::flush();\n  }\n\n  //-----------------------------------------------------------------------\n\n  function testUsersControllerInstance()\n  {\n    $this-&gt;assertTrue(is_a($this-&gt;Users, 'UsersController'));\n  }\n\n  function testLogin()\n  {\n    $this-&gt;Users-&gt;data = array(\n      'User' =&gt; array(\n        'username' =&gt; 'admin',\n        'password' =&gt; 'admin'\n      )\n    );\n\n    $this-&gt;prepareForAction();\n    $this-&gt;Users-&gt;login();\n\n    $this-&gt;assertNotNull($this-&gt;Users-&gt;redirectUrl);\n    $this-&gt;assertEqual($this-&gt;Users-&gt;Session-&gt;read('Auth.User.id'), 1);\n  }\n}\n</code></pre>\n"},{"tags":["asp.net","mvc","iis7"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":598,"score":1,"question_id":2677099,"title":"How do you isolate a subapplication from the main site on IIS7","body":"<p><strong>Senario:</strong></p>\n\n<p>I'm running IIS7 on Win Server 2008 Web Edition</p>\n\n<p>I have a MVC application at the route of the website (main app)</p>\n\n<p>The website HOST is domain.com</p>\n\n<p>I've created a virtual application /testapp with has an ASP.Net application (sub app)</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>when I navigate to <a href=\"http://domain.com\" rel=\"nofollow\">http://domain.com</a> the main app works as expected but when I navigate to <a href=\"http://domain.com/testapp\" rel=\"nofollow\">http://domain.com/testapp</a> the sub app seems to be running but processing the main app web.config. </p>\n\n<p>Some of the errors I was getting involved missing dlls that only the main app required - this could be solved by copying the dlls into the sub app bin folder but isn't an ideal solution. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>I don't think this is an MVC/ASP.Net issue but instead an ISS7 one. How do I configure IIS7 so that these two application don't interfere with each other?</p>\n"},{"tags":["json","mvc","deserialization","model-binding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":11757322,"title":"Custom Model Binding MVC","body":"<p>I'm trying to pass a list of JSON objects to a controller method, and automatically have the correct types defined and populated in the controller.</p>\n\n<p>JSON Posted to controller:</p>\n\n<pre><code>{ Type : 'Image', ImageName : 'blah.jpg' },\n{ Type : 'Text', Text: 'Hello', Font: 'Some Font' }.. \n</code></pre>\n\n<p>The Controller:</p>\n\n<pre><code>public ActionResult SaveCOntent(IList&lt;Item&gt; content)\n</code></pre>\n\n<p>So the impression i've got is that I need to use ModelBinding to convert the elements into the correct type. I've tried following another suggested post (http://stackoverflow.com/questions/6484972/viewmodel-with-listbaseclass-and-editor-templates), which works in a way.. I get a list of the correct 'types' but all the properties are set to defaults and not populated.</p>\n\n<p>I've tried extending the DefaultModelBinder with the following:</p>\n\n<pre><code>public override object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)\n    {\n        var typeName = (string)bindingContext.ValueProvider.GetValue(bindingContext.ModelName + \".ItemTypeName\").ConvertTo(typeof(string));\n\n        if (typeName == \"LINK\")\n        {\n\n            bindingContext.ModelMetadata = ModelMetadataProviders.Current.GetMetadataForType(() =&gt; new Link(), typeof(Link));\n\n            base.BindModel(controllerContext, bindingContext);\n        }\n        else if (typeName == \"IMAGE\")\n        {\n            //bindingContext.ModelMetadata = ModelMetadataProviders.Current.GetMetadataForType(() =&gt; new Image(), typeof(Image));\n            //base.BindModel(controllerContext, bindingContext);\n            return null;\n\n        }\n\n        return base.BindModel(controllerContext, bindingContext);\n    }\n</code></pre>\n\n<p>Now this works fine for the first type (Link), but as soon as I try to do the same for Image I get an error stating </p>\n\n<p>An item with the same key has already been added.</p>\n"},{"tags":["c#","xml","mvc","castle-windsor","xdt-transform"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":11830273,"title":"MVC HTML ActionLink inserting a lot of %20 in the URL","body":"<p>I am using C# ASP MVC3 and I am making a generated menu with parameters passed through castle windsor. </p>\n\n<p>When I was developing and tested locally, the urls generated from this code were fine: </p>\n\n<pre><code>  @foreach(var menuItem in Model.MenuItems)\n        {\n            var dic = new RouteValueDictionary();\n\n\n\n            foreach (var item in menuItem.QueryValues)\n            {\n                dic.Add(item.Key, item.Value);\n            }\n\n\n            &lt;li&gt;@Html.ActionLink(menuItem.Name, menuItem.ControllerAction, dic)&lt;/li&gt;\n\n            }\n</code></pre>\n\n<p>But when it was pushed to the test server, the URL decided to add: </p>\n\n<pre><code>%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20\n</code></pre>\n\n<p>in between each parameter that was being passed through with the URL. </p>\n\n<p>Not totally sure which areas to show to help with a solving the problem. Could it be the xdt:Transform:Replace used within the web.config or something totally different. Any help you can provide would be appreciated. </p>\n\n<p>Thanks. </p>\n\n<p><strong>UPDATE:</strong> I found what was causing all of these spaces in the link that was being generated. The XML replace was adding in returns and spaces in the XML file when it was doing the replace. I'm going to leave this question open for now, as it's not ideal that this is happening, so the question has sort of changed to how do we stop the xdt:Replace from adding in these unwanted spaces and returns?</p>\n"},{"tags":["javascript","mvc","qooxdoo"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":11501279,"title":"MVC separating concerns when nesting views (2 examples)","body":"<p>Introduction: I'm only speaking about the client side of the application, which is using qooxdoo (it's a javascript framework).</p>\n\n<p>Target: separate concerns in controllers, views and models without adding too much complexity.</p>\n\n<p>Problem 1: I have a view named loginView which has a controller to loginController. loginView dispatches the 'login button clicked' event and loginController listen on it and then make a query to the database to login.</p>\n\n<p>Then I have another view named managerView which adds the loginView</p>\n\n<pre><code>|---------------|\n|   loginView   |   &lt;-- this whole thing\n| other ui stuff|   &lt;-- is the manager View\n|---------------|\n</code></pre>\n\n<p>As you can see the loginView coexist with other ui elements.\nWhen the user is not logged in the 'other ui stuff' is disabled.\nTherefore there is a need to listen on the loginView to dispatch the 'login', but that's not so logical, because the view doesn't have to dispatch that event. Therefore the managerView would listen on the loginController?!?! that's bad. No. Maybe the managerController listens on the loginController? Nope. This would tightening the controllers. Well, maybe the managerController must listen on a model? - Well, this seems a great idea, but how I set up all this thing?</p>\n\n<p>Problem 2: I have 2 tables with (<a href=\"https://github.com/totty90/production01_server/blob/master/node_modules/production/client/production/source/class/production/views/jobsList/DeferredJobsList.js\" rel=\"nofollow\">table1</a>, <a href=\"https://github.com/totty90/production01_server/blob/master/node_modules/production/client/production/source/class/production/views/jobsList/TodoJobsList.js\" rel=\"nofollow\">table2</a>), each with a different table model. Both table represent some Jobs, but the filters are different from one to the other. When a table is selected or activated (<a href=\"https://github.com/totty90/production01_server/blob/master/node_modules/production/client/production/source/class/production/controllers/Production.js\" rel=\"nofollow\">Main controller</a>), the selected job in that table will be shown in the MainScreen (<a href=\"https://github.com/totty90/production01_server/blob/master/node_modules/production/client/production/source/class/production/views/MainScreen.js\" rel=\"nofollow\">Main screen</a>), which is view that just shows some info and allow some actions to perform on the Job.</p>\n\n<p>How I've done: when the table changes selection the main controller (which has access to various views, including the 2 tables and the MainScreen) set the selected job on the MainScreen. The MainScreen then updates itself in order to show the current job. Based on the job attributes some actions are enabled or not. When a user click on an action then the main controller knows about it and refresh the 2 tables (sometimes a job jumps from a table to the other).</p>\n\n<p>How I think should be done: have a model that contains the current job, wherever this is changed update the MainScreen. The main controller just listen on the 2 tables and then change the current job model. As it also have a listener on it, this will make the MainScreen to update itself.</p>\n"},{"tags":["php","mvc","frameworks","prado"],"answer_count":7,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":589,"score":3,"question_id":93791,"title":"Are there many users of PRADO out there?","body":"<p>After making <a href=\"http://stackoverflow.com/questions/75882/what-in-your-mind-is-the-best-php-mvc-framework#89095\">some comments</a>, I've been inspired to get some feedback on the PHP MVC framework <a href=\"http://pradosoft.com/\" rel=\"nofollow\">PRADO</a>. I've been using it for over a year now and I've very much enjoyed working with it, however I notice that throughout Stack Overflow, it doesn't seem to rate a mention when <a href=\"http://www.symfony-project.org/\" rel=\"nofollow\">symfony</a> or <a href=\"http://cakephp.org/\" rel=\"nofollow\">CakePHP</a> are being talked about as potential candidates for a framework. </p>\n\n<p>Is anybody using Stack Overflow using PRADO now? If so, how do you find it? Has anyone used it in the past but left it behind, and if so, why? Can anybody appraise its strengths and weaknesses against Cake or symfony?</p>\n"},{"tags":["php","mvc","codeigniter","relative-path","absolute-path"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":688,"score":3,"question_id":6627863,"title":"How to dynamically controll paths in static CSS files with MVC code igniter project","body":"<p>I'm creating a website/codeigniter-project that uses views which link to external CSS files.</p>\n\n<p>Everywhere throughout my project/web-page's views I can control the URL paths of images, links, etc by constructing them from the 'base_url' setting variable. I don't have any control over static, linked external CSS files. This means that whenever my base URL path changes for my site I have to go through my CSS files and do global search/replaces to update all my paths.</p>\n\n<p>To solve this I thought about creating a controller just to load CSS/JavaScript files and treating the actual files like views with hooks but I was talked out of this by @WesleyMurch in this question:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6613376/using-a-controller-to-handle-returning-customized-css-javascript-files-with-cod\">Using a controller to handle returning customized css &amp; javascript files with codeigniter</a></p>\n\n<p>How can I dynamically assign base-paths to my css assets so I don't have to do global search and replaces every time I update the base path of my site?</p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":185,"score":7,"question_id":11484651,"title":"How handle graphical representation of objects in MVC 2D game?","body":"<p>I'm making a 2D game in java using the MVC pattern and after reading and searching my ass off I still haven't found a satisfying answear to how I'm supposed to handle the graphical representation of objects. </p>\n\n<p>Should I divide every object, for example Player into PlayerModel (stored in Model) and PlayerView (stored in View)? </p>\n\n<p>That seems kinda messy becuase then I would have to keep track of which grapical-representation-object, i.e. \"ScaryMonsterEnemyView\" is connected to which logical-representation-object, \"ScaryMonsterEnemyModel\". Is this really how I'm supposed to do it according to MVC? If so, where should this connection be stored? In the view?</p>\n\n<p>I know this might be a silly problem to get stuck on, but I want to get as much as possible right from the start. Thanks for helping out :)</p>\n"},{"tags":["iphone","objective-c","ios","mvc","delegates"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":180,"score":2,"question_id":12046060,"title":"Using the AppDelegate to share data","body":"<p>I've found a couple of sources that explain how to use the AppDelegate to share data between objects in an iOS application. I've implemented it quite painlessly and it looks like a good approach in my situation. Thinking about what <em>could</em> be done using the AppDelegate, I am wondering where the line should be drawn.</p>\n\n<p>Obviously there are other ways to <a href=\"http://stackoverflow.com/questions/5210535/passing-data-between-view-controllers\">share data across view controllers</a>, use <a href=\"http://cocoawithlove.com/2008/11/singletons-appdelegates-and-top-level.html\" rel=\"nofollow\">Singleton objects</a>, and <a href=\"https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsuserdefaults_Class/Reference/Reference.html\" rel=\"nofollow\">NSUserDefaults</a>. <strong>When is it appropriate to use the AppDelegate to share data?</strong> In my current situation, I use this approach to store the appleDeviceToken used for push notifications. I use that token when users login or logout of the app. </p>\n\n<hr>\n\n<p>In MyAppDelegate.h I declare the property:</p>\n\n<pre><code>@property (nonatomic, retain) NSString *appleDeviceToken;\n</code></pre>\n\n<p>In MyAppDelegate.m I synthesize appleDeviceToken and then set it:</p>\n\n<pre><code>@synthesize appleDeviceToken;    \n\n------------------------------------------------------\n\n- (void)application:(UIApplication*)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)deviceToken\n{\n  NSString *devToken = [[[[deviceToken description]\n                          stringByReplacingOccurrencesOfString:@\"&lt;\"withString:@\"\"]\n                         stringByReplacingOccurrencesOfString:@\"&gt;\" withString:@\"\"]\n                        stringByReplacingOccurrencesOfString: @\" \" withString: @\"\"];\n  appleDeviceToken = devToken;\n}\n</code></pre>\n\n<p>Then, in my LoginViewController.m I retrieve it and post it to my server:</p>\n\n<pre><code>  NSString *urlForDeviceTokenPost = [NSString stringWithFormat: @\"/api/users/%i/appleDeviceToken\", userId];\n\n  MyAppDelegate *appDelegate = (MyAppDelegate*) [UIApplication sharedApplication].delegate;\n  NSString *appleDeviceTokenStr = appDelegate.appleDeviceToken;\n\n  AppleDeviceToken *appleDeviceToken = [[AppleDeviceToken alloc] init];\n  appleDeviceToken.deviceToken = appleDeviceTokenStr;\n\n  [[RKObjectManager sharedManager] postObject:appleDeviceToken delegate:self];\n</code></pre>\n\n<hr>\n\n<p>This works great so far, but is this the ideal approach? What else should I know?</p>\n"},{"tags":["ruby-on-rails","mvc","design-patterns","view","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12071155,"title":"I want to perfect my controller-view interaction when i have multiple sets of data","body":"<p>I feel the controller->view interaction miss something, so here is my question.</p>\n\n<p>I have a controller action that is generating a bunch of data :</p>\n\n<p>@first\n@second\n@third</p>\n\n<p>Each variable is displayed in the view to one html block (partials).</p>\n\n<p>Sometime one or more of these will be empty and i still want to display the other ones.</p>\n\n<p>My solution to address this problem, is to set the variable to a string (\"no data\") in the controller, as usually the data is some kind of array, i test for string in the view to check if there is real data and respond accordingly.</p>\n\n<p>On top of that, i also have use cases where my data will not always be displayed with the same partial. I know I can do it with a few conditions before calling the correct partial.</p>\n\n<p>A good example of the kind of problem i have in mind would be a Dashboard where some items are sometimes missing or changing depending of the data displayed.</p>\n\n<p>I am already making these use case working, but it feels that I am not doing MVC correctly by putting to much logic inside the view. Is there a better design pattern, rails specific or not, to address this situation?</p>\n"},{"tags":["mvc","asp.net-mvc-3","drop-down-menu","html.dropdownlistfor"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1488,"score":2,"question_id":5098848,"title":"Understanding how DropDownListFor is working in MVC3","body":"<p>I'm new to MVC3 and have been working on a small site using EF and 'Code First'. I'm trying to do a few things in a view dealing with a drop down list and am wondering what the best way to go about them is.  I want a user to be able to select a rule from the dropdownlist, and depending upon which rule was selected, I would like a label on the page to show the rule name (without posting).  I also need to be able to send the selected rule onto the next page.  I haven't added all of the necessary fields to the view yet because I'm really at a loss on how it should work.  How should I go about trying to do this?</p>\n\n<p>I've got my model:</p>\n\n<pre><code>public class D1K2N3CARule\n{\n    public int ID { get; set; }\n    [Required]\n    public int Name { get; set; }\n    [Required]\n    public string Rule { get; set; }\n\n    public D1K2N3CARule(int name, string rule)\n    {\n        Name = name;\n        Rule = rule;\n    }\n    public D1K2N3CARule()\n    {\n        Name = 0;\n        Rule = \"\";\n    }\n}\n</code></pre>\n\n<p>My ViewModel:</p>\n\n<pre><code>public class D1K2N3CARuleViewModel\n{\n    public string SelectedD1K2N3CARuleId { get; set; }\n    public IEnumerable&lt;D1K2N3CARule&gt; D1K2N3CARules { get; set; }\n}\n</code></pre>\n\n<p>My Controller:</p>\n\n<pre><code>    public ActionResult Index()\n    {\n        var model = new D1K2N3CARuleViewModel\n        {\n            D1K2N3CARules = db.D1K2N3DARules\n        };\n\n        return View(model);\n    }\n</code></pre>\n\n<p>and my View: </p>\n\n<pre><code>'@model CellularAutomata.Models.D1K2N3CARuleViewModel\n\n@{\n    ViewBag.Title = \"Index\";\n}\n&lt;asp:Content id=\"head\" contentplaceholderid=\"head\" runat=\"server\"&gt;\n&lt;script type=\"text/javascript\"&gt;\n&lt;/script&gt;\n&lt;/asp:Content&gt;\n&lt;h2&gt;Index&lt;/h2&gt;\n\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;\n            @Html.DropDownListFor(\n                x =&gt; x.D1K2N3CARules,\n                new SelectList(Model.D1K2N3CARules, \"ID\",\"Rule\")\n            )\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;'\n</code></pre>\n"},{"tags":["objective-c","cocoa","mvc","cocoa-bindings"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":667,"score":1,"question_id":5695394,"title":"Binding with the selection of an NSArrayController in another nib","body":"<p>I have two nibs:</p>\n\n<ol>\n<li>Store.nib</li>\n<li>Product.nib</li>\n</ol>\n\n<p>Product.nib's File owner is a subclass of <code>NSViewController</code> which has a property <code>product</code> to which various controls are bound:</p>\n\n<pre><code>@property(nonatomic, retain) SRProduct *product;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/3qLEC.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Store.nib has an <code>NSArrayController</code> object which has been bound to a property of <code>SRApplicationController</code>, which is this property:</p>\n\n<pre><code>@property(nonatomic, retain) NSArray *products;\n</code></pre>\n\n<p><code>SRApplicationController</code> has an outlet to that <code>NSArrayController</code> object.</p>\n\n<p><img src=\"http://i.stack.imgur.com/T7vnT.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>In the <code>-[SRApplicationController init]</code> method I init an <code>SRProductController</code> object with the Product.nib nib. In <code>-[SRApplicationController awakeFromNib]</code> I add the view of the product controller to a view in Store.nib, and I bind the <code>productsArrayController</code> property (the outlet) of the <code>SRApplicationController</code> object to the <code>product</code> of the product controller:</p>\n\n<pre><code>- (id)init {\n  if (self = [super init]) {\n    self.productController = [[SRProductController alloc] initWithNibName:@\"Product\" bundle:nil];\n  }\n\n  return self;\n}\n\n- (void)awakeFromNib {\n  [self.productView removeAllSubviews]; // this method is from a category\n  [self.productView addSubview:self.productController.view];\n  [self.productController.view setFrame:self.productView.bounds];\n\n  [self.productsArrayController bind:@\"selectedObjects\" toObject:self.productController withKeyPath:@\"product\" options:nil];\n}\n</code></pre>\n\n<hr>\n\n<p>When I run the app, I get no errors, no warnings, the console remains empty, the table view with all products in Store.nib shows all products and I can select them. The problem is that all fields in Product.nib are empty, but they <strong>are</strong> bound to the <code>product</code> property of the file owner. Can anyone help me with this problem? Thanks in advance. :)</p>\n"},{"tags":["asp.net","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":3270754,"title":"Referring an image that is located on my C drive in asp.net MVC","body":"<p>I want to refer an image located in <code>c:/image/ff.gif/</code>. How can I do that? I tried to do it with <code>img src</code>, but couldn't make it to work. Any ideas?</p>\n"},{"tags":["asp.net","mvc","ckeditor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":3227671,"title":"asp.net mvc ckeditor in jquery dialog","body":"<p>Can ckeditor be loaded in a jquery dialog and if yes, then how?</p>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","repository"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12061898,"title":"MVC - Repository","body":"<p>In our MVC implementaton,\nwe have a View, Controller and a Model</p>\n\n<p>The Model is an .edmx file (Entity Framework).</p>\n\n<p>Our controller calls a Repository where we do get the data from the Entity Framework.</p>\n\n<p>Is the Repository considered part of the Model then? \nIs it usually part of the Model as the M is MVC can be many layers.</p>\n"},{"tags":["asp.net-mvc","mvc","formcollection"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12064966,"title":"Passing a custom ViewModel object to an ActionMethod vs passing as FormCollection","body":"<p>Obviously real life applications are a lot more complex but for this example sake lets say I have the following simple view and I need to save the User:</p>\n\n<pre><code>@model UserViewModel\n\n\n@Html.TextBoxFor(model=&gt;model.FirstName)\n&lt;/br&gt;\n@Html.TextBoxFor(model=&gt;model.MiddleName)\n&lt;/br&gt;\n@Html.TextBoxFor(model=&gt;model.LastName)\n</code></pre>\n\n<p>When submitted there are two ways how I can receive it at the Controller level:</p>\n\n<pre><code>1)\n\npublic ActionResult(UserViewModel user)\n{\n var myUser = new User();\n myUser = user.FirstName;\n myUser = user.MiddleName;\n myUser = user.LastName;\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>2)\n\npublic ActionResult(FormCollection collection)\n{\n var myUser = new User();\n myUser = collection.Get(\"FirstName\");\n myUser = collection.Get(\"MiddleName\");\n myUser = collection.Get(\"LastName\");\n}\n</code></pre>\n\n<p>Question: Is there a reason to use one method over another ? Also a few developers told me that second method is preferred. That passing object the whole object like shown in the first example is not a good idea. Why ?</p>\n"},{"tags":["php","mvc","input-validation","input-filtering"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12047360,"title":"Does input filter / validation code belong in the controller or the domain model?","body":"<p>I have been using php for awhile but am new to OO php.  As an exercise for myself I am building a small MVC framework.  </p>\n\n<p>I realize there is probably not a definitive answer for this, but I am wondering:  Where does the input filter / validation code belong?</p>\n\n<p>Should it be a part of the controller, where the request is parsed?</p>\n\n<p>Or is it more appropriate to have filter / validation code in the domain model, so that each domain object is responsible for validating its own info.  </p>\n\n<p>Any advice would be much appreciated.</p>\n"},{"tags":["windows","mvc","authentication","iis7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":11761219,"title":"Roles.IsUserInRole(User.Identity.Name, \"domain\\group\") prompts user with a log in screen","body":"<p>I'm not sure if this is by design or not but it seems a little odd to me.  Or at best, the behavior is inconsistent across machines.  I have a web application that will only display a button if the person who is on the site is a part of a certain AD group. \nHere's the code:</p>\n\n<pre><code>    &lt;td id=\"search-box\"&gt;\n        @Using Html.BeginForm()\n            @Html.TextBox(\"SearchString\", ViewBag.CurrentFilter)\n           @&lt;input class=\"fancyButton\" type=\"submit\" value=\"Search\" title=\"Job Name\"/&gt;\n            If Roles.IsUserInRole(User.Identity.Name, \"mydomain\\mygroup\") Or Roles.IsUserInRole(User.Identity.Name, \"mydomain\\mygroup2\") Then\n                @&lt;input type=\"button\" class=\"fancyButton\" onclick=\"parent.location = '@Url.Action(\"Create\")'\" value=\"New\"/&gt;\n            End If\n        End Using\n    &lt;/td&gt;\n</code></pre>\n\n<p>My id is a part of the group \"mygroup\".  So on my machine, when i open the website, it works fine.  The button appears, and the Create record page appears correctly. \nHowever, when another user that is a part of mygroup2 tries to view the app, although the button appears, when they click on it, they are prompted for a user ID and password. \nI'm not sure why this is the case. </p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":57,"score":4,"question_id":12062549,"title":"Backbone.js model before view? chicken before egg?","body":"<p>I'm rewriting my App framework for future reuse and I've hit an interesting question:</p>\n\n<p>Is it better to thread the app together with models or with views?</p>\n\n<p><strong>For Instance</strong></p>\n\n<p>Threading the app together with views may look something like (ignore any syntax errors pls)</p>\n\n<pre><code>....\n//inside of AppView() or something\n\n var somepage = new PageView({model:new PageModel({url:\"whatever\"}),some more stuff..}), some more..});\n // then in PageView's initialize, listen for the model's load to call render()..\n</code></pre>\n\n<p>or would it be better to do:</p>\n\n<pre><code>....\n\n var somepage = new PageModel({url:\"whatever\",view:new PageView({}),some more stuff..}), some more..});\n // then in PageModel's parse() function call this.view.render()..\n</code></pre>\n\n<p>Personally I'm inclined to do code it with the View being prevalent but I've seen it done both ways and wondered if there were any major advantages in favour of either.</p>\n\n<p>Incidentally the use case is basically a framework with uses a sort of 'sitemap' in JSON to setup a whole site (similar to AS3 Gaia framework does with XML) then it boots up something like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Vifro.png\" alt=\"enter image description here\"></p>\n"},{"tags":["entity-framework","mvc","form-validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":11394960,"title":"mvc remote validation","body":"<p>Im not sure why my validation is not working if I try to use an integer AdditionalField.</p>\n\n<p>Here's my code(some parts of the code are omitted):</p>\n\n<p>Model</p>\n\n<pre><code>    public class PersonViewModelBase\n    {\n    public int PersonID { get; set; }\n\n    [Required]\n    [StringLength(15, MinimumLength = 3)]\n    [Remote(\"Checkusername\", \"Utilities\", AdditionalFields = \"PersonID\")]\n    [RegularExpression(@\"(\\S)+\", ErrorMessage = \"White space is not allowed.\")]\n    public string UserName { get; set; }\n\n    public string Password { get; set; }\n    public string LastName { get; set; }\n</code></pre>\n\n<p>Controller(Remote)</p>\n\n<pre><code>public JsonResult Checkusername(string username, int PersonID)\n    {\n        //var user = studentRepository.GetStudents()\n        //    .Where(a =&gt; a.UserName == username.Trim())\n        //    .Where(b =&gt; b.PersonID != personID);            \n        var user = studentRepository.GetStudents().Where(a =&gt; a.UserName == username.Trim());\n        if (user.Count() &gt; 0)\n        {\n            return Json(string.Format(\"{0} is not available.\", username),\n                JsonRequestBehavior.AllowGet);\n        }\n        else\n        {\n            return Json(true, JsonRequestBehavior.AllowGet);\n        }\n    }\n</code></pre>\n\n<p>this remote validation is not being called. But if I try to change the additional field to string the application will call the remotevalidation, though it would become \"undefined\" because the PersonID is an integer</p>\n"},{"tags":["java","mvc","java-ee","web-applications","barcode-scanner"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":198,"score":1,"question_id":11843672,"title":"How-to interface a barcode scanner with a Web Application?","body":"<p>I have in hands the creation of a Warehouse management system. It's going to be a web application, it's supposed to run on desktops and 10' tablets.</p>\n\n<p>I have never worked with barcode scanners, so my question is how do I interface a barcode scanner with my application? </p>\n\n<p>It's going to be a Java EE 6 application, the web framework to use is still open. </p>\n\n<p>Any experience with similar setups would be greatly appreciated.</p>\n"},{"tags":["spring","mvc","proxy","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12031999,"title":"What is a valid use case for proxying a Spring-based controller?","body":"<p>I was looking at Spring MVC's documentation and I saw a mention about if your controller implemented an interface and was proxied you'd have to put the annotations on your interface or proxy by target class since otherwise the annotations wouldn't be picked up (the proxy wouldn't contain the annotations since it would be another class wrapping your bean via the exposed interface if it wasn't a subclass of the controller class).</p>\n\n<p>However, in my experience controllers are supposed to be the simplest things out there - get the web-based inputs (formatting/creating the \"model\"), decide on the flow control to execute by delegating to business service layer interfaces/classes (controlling based on the state of the model), and then sending the model to the view layer to compose the resulting view.</p>\n\n<p>Can anyone provide a really good use case of why you'd want to proxy a controller?  Service layer methods, sure, but a controller?</p>\n"}]}
{"total":14105,"page":13,"pagesize":100,"questions":[{"tags":["unit-testing","mvc","dependency-injection","unity","service-layer"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12050017,"title":"Using HttpContextBase in Service Layer","body":"<p>I recently started with TDD and dependency injection. This is one BIG Mindset change, and i am still trying to puzzle together all the pieces.</p>\n\n<p>I have a service layer for all the business logic to keep the controllers as thin as possible.Some of the services in my service requires HttpContext. What would be the best way to create the service so that unit testing can be done as well.</p>\n\n<p>Currently i have a ServiceBase that looks like this</p>\n\n<pre><code>public class HttpContextService \n{\n    private HttpContextBase _ServiceContext;\n    public HttpContextBase ServiceContext \n    { \n        get\n        {\n            if (_ServiceContext == null)\n                _ServiceContext = new HttpContextWrapper(HttpContext.Current);\n            return _ServiceContext;\n        }  \n        set { _ServiceContext = value; }  \n    }\n}\n</code></pre>\n\n<p>So this means that all my services can just inherit from this service. The reason i created a property for the HttpContextBase is so that I can set it, when unit testing the service. 1. Is there any way to rather inject the HttpContext into the service in Unity Bootstrap file. ?\n2. Is this the right approach or am i missing something ?</p>\n\n<p>thanks in advance. Like i said, i am struggeling to get my head around this whole TDD Dependency injection way of coding. </p>\n"},{"tags":["c#","mvc","activedirectorymembership"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":3852,"score":5,"question_id":2363620,"title":"PrincipalContext.ValidateCredentials always returns FALSE","body":"<p>I have an MVC application that needs to login and verify a user against active directory.  I am using the PrincipalContext.ValidateCredentials method but always get a authentication of false.</p>\n\n<p>Connecting to the Server is fine.\nThe problem seems to occur in the ValidateCredentials.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    public static bool IsAuthenticated(string domain, string username, string pwd) {\n\n        bool IsAuthenticated = false;\n\n        try {\n            PrincipalContext insPrincipalContext = new PrincipalContext(ContextType.Domain, domain,\n                                       \"DC=c1w,DC=com\");\n\n            username = \"c1w\\\\\" + username;\n\n            IsAuthenticated = insPrincipalContext.ValidateCredentials(username, pwd);\n        }\n        catch (Exception ex)\n        {\n            //Rethrow this exception\n            ExceptionPolicy.HandleException(ex, \"Exception Policy\");\n        }\n\n        return IsAuthenticated;\n    }\n</code></pre>\n\n<p>Anyone know why this would be happening?</p>\n\n<p>Thanks,\nBilly   </p>\n"},{"tags":["javascript","mvc","reference","typeerror","superfish"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":12026710,"title":"TypeError on referencing superfish custom js function","body":"<p>I am getting the following error:</p>\n\n<pre><code>TypeError: $(\"ul.sf-menu\").superfish is not a function\n[Break On This Error]   \n$('ul.sf-menu').superfish();\n</code></pre>\n\n<p>By registering the custom Javascript library as follow:</p>\n\n<pre><code>bundles.Add(new ScriptBundle(\"~/bundles/superfish\").Include(\"~/Scripts/superfish*\")); //In budleConfig.cs\n@Scripts.Render(\"~/bundles/modernizr\", \"~/bundles/jquery\", \"~/bundles/superfish\") //In _Layout.cshtml\n</code></pre>\n\n<p>and then referencing from my <code>_Layout.cshtml</code> in the <code>&lt;header&gt;</code> section:</p>\n\n<pre><code>&lt;script&gt;\n$(document).ready(function ()\n{\n    $('ul.sf-menu').superfish();\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>The jquerya and modernizr libs gets loaded fine it seems.  I also tried to reference it without bundling (in other words</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"../../Scripts/superfish.js\"&gt;&lt;/script&gt; \n</code></pre>\n\n<p>...but no luck.</p>\n\n<p>In Firebug (Scripts tab) I can see the library loaded:</p>\n\n<pre><code>;(function($){\n$.fn.superfish = function(op){\nvar sf = $.fn.superfish,\nc = sf.c, \n</code></pre>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["actionscript-3","mvc","view","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":12042688,"title":"MVC controller and view relationship","body":"<p>First off, I've done a lot of research on the web (including this site) and have found lots of conflicting information on how the model and controller communicate in an MVC pattern. Here is my specific question (I'm using AS3), but it's a general MVC question...</p>\n\n<p>I have two main components... a list of recipes and a form that displays a selected recipe. The form has an edit state that allows you to edit the recipe and then save or cancel the changes. What is the best way (using MVC principles) to handle changes made to a recipe? So far, I have the save button trigger an event which is captured by the controller. </p>\n\n<p>Should I have the save button (the view) pass an object with the current state of the fields along with the event (some logic in view)? Should I allow the controller to hold access to the view and have the controller figure out what's in the fields on its own (added coupling)? Should events be made every time a field in the form is changed and the controller keeps track of the state of each field (lots of events)? Or is their another way? Note: I don't want to bind the fields to the model because I only want the data to save if the save button is clicked.</p>\n\n<p>Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["php","mvc","xhtml","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":460,"score":2,"question_id":3498091,"title":"How do you customize/style codeigniter errors?","body":"<p>I'm trying to customize the CSS/HTML for error message displays in codeigniter so I can apply a  tag too each and style them up.</p>\n\n<p>I tried to Google this and search the manual but must have been searching for the wrong terms - can anyone help me out?</p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12050723,"title":"Dynamic table creation regarding permission: design issue","body":"<p>Assume I've 2 user levels: user(u) and admin(a). I want to show both users a set of data, but the users is not permitted to see al data.</p>\n\n<pre><code>c1 | c2 | c3 | c4 |\n-------------------\nu/a| a  | u/a| a  |\n</code></pre>\n\n<p>In a MVC structure where do I have to determine which data needs to be shown?\nDo I have to check in the controller which data I need from my model? Or do I have to get all 4 columns and determine in my view whether the current viewer is a user or an admin? In case it is a user only column 1 and 3 has to be shown.</p>\n"},{"tags":["ruby-on-rails","oop","mvc","refactoring","solid-principles"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1738,"score":3,"question_id":12032806,"title":"A messy view layer, should I depart from MVC?","body":"<p>I'm moving the question here from IRC.</p>\n\n<p>The problem: I have jumped in into a  code base that I want to take on good shape. Don't we always?</p>\n\n<p>In that spirit, after adding some coverage (as in test coverage) I've applied\nseveral known refactorings/improvements to help with this task. Here's what I've\ndone (actually I've done a lot more, but these are the relevant bits to my question):</p>\n\n<ol>\n<li>Added some PORO objects to offload some tasks being performed in models, controllers, even in views.</li>\n<li>Used *decent_exposure* to get rid of the instance variable hell the view layer was in.</li>\n<li>Implemented some for-views decorators using <em>draper</em> to avoid having so much logic in views.</li>\n<li>Added presenters for actions spawing multiple models.</li>\n</ol>\n\n<p>Now, I (optimistically) expected all this will pay off. It is better in deed, but after throwing everything but the kitchen sink, I would have expected it to be <em>lots</em> better. It's not.</p>\n\n<p>Since I have a view layer that literally is rendering like 10-15 partials on a single action, I'm concerned about my ability to change things in the controller or the view layer. I don't want to go through all this partials whenever I decide the members for an account are called \"members\" or just \"users\". I'm caring about this because the model layer is scheduled to suffer more significant change. </p>\n\n<p>What I initially thought (and still stand on) is to have dumb views. I want most part of my view layer to avoid knowing about the models they're rendering at all. I want an intermediary object that will know how to do two things: extracting the data it needs from the model, and rendering the HTML. And before you tell me I'm violating SRP here, the real responsability for this object can be read as \"displaying a model to the end user\".</p>\n\n<p>In an over-simplification, I would like my views (at least these aforementioned ones) to look like this:</p>\n\n<pre><code>= some_object.render\n= another_object.render\n</code></pre>\n\n<p>It does sound like the decorator pattern, and it does also sound like the presenter pattern, at least this is what I've though. </p>\n\n<p>Then I started thinking I would be debiating significantly from MVC (at the least the MVC that rails exposes), so I wanted to know whether this would be the best solution (other than the obvious, nearly impossible with this time-constrains, REWRITE), so I'm more confident about making the shot.</p>\n\n<p>So, with that context, my real questions boils down to:</p>\n\n<p>a) Is switching to MVP, MVVM, MV-whatever the right solution for this problem?</p>\n\n<p>b) If it is, can you tell me about the best solution I could use for this some_object.render view style?</p>\n\n<p>c) If not, can tell you tell how to avoid the hard dependency between those partials and views in general, with a model layer that's could be hours away from being significantly rewritten?</p>\n\n<p>d) Hope you don't get here: YAGNI, so fix afterwards? I'm pretty sure I'm gonna need it.</p>\n\n<p>There's another option that crossed my mind and brought to IRC, not really with the spirit of the title but a valid one (although I'd think overkill for the task at hand):</p>\n\n<p>e) Add a service layer, and make my views map to the \"logical\" models on that service layer, so I'm able to change the physical models independently of the views. </p>\n"},{"tags":["mvc","wordpress"],"answer_count":6,"favorite_count":4,"up_vote_count":12,"down_vote_count":0,"view_count":5207,"score":12,"question_id":2857143,"title":"Is WordPress MVC compliant?","body":"<p>Some people consider WordPress a blogging platform, some think of it as a CMS, some refer to WordPress as a development framework. Whichever it is, the question still remains. Is WordPress MVC compliant?</p>\n\n<p>I've read the forums and somebody asked about MVC about three years ago. There were some positive answers, and some negative ones. While nobody knows exactly what MVC is and everybody thinks of it in their own way, there's still a general concept that's present in all the discussions.</p>\n\n<p>I have little experience with MVC frameworks and there doesn't seem to be anything about the framework itself. Most of the MVC is done by the programmer, am I right? Now, going back to WordPress, could we consider the core rewrite engine (WP_Rewrite) the controller? Queries &amp; plugin logic as the model? And themes as the view? Or am I getting it all wrong?</p>\n\n<p>Thanks ;)</p>\n"},{"tags":["java","spring","mvc"],"answer_count":1,"favorite_count":6,"up_vote_count":4,"down_vote_count":0,"view_count":2594,"score":4,"question_id":7520490,"title":"Spring MVC & UI Components","body":"<p>I'm in the \"technologies selection\" phase of a small, single-page web application that will be heavily-based in AJAX, and which will report to a Java backend.</p>\n\n<p>In a previous question I posted several weeks ago, the SO community at large felt strongly that I would be better off going with a Spring MVC-based web app than with something in JSF. Since Spring is request-oriented, and JSF is component-oriented, it would only make sense to use Spring for something that is going to be getting <strong>a lot</strong> of asynchronous requests.</p>\n\n<p>If I <em>were</em> going the JSF route, then my next set of decisions would be whether or not to use so-called UI component libraries for the view technology, such as <a href=\"http://primefaces.org/\" rel=\"nofollow\">PrimeFaces</a>, <a href=\"http://www.icesoft.org/\" rel=\"nofollow\">IceFaces</a> or <a href=\"http://myfaces.apache.org/\" rel=\"nofollow\">MyFaces</a>.</p>\n\n<p><strong>So, I'm wondering:</strong> Does Spring MVC have anything similar to, say, PrimeFaces (or its likes) for creating the view component for my page(s)?  I know its not component-based, but I'm not all that familiar with Spring MVC's web platform and was wondering what are some <em>de facto</em> standards (if any) or typical technology stacks that Spring web developers use for constructing nice web pages.</p>\n\n<p>And, if Spring just uses run-o-the-mill template engines, would something like <a href=\"http://freemarker.sourceforge.net/index.html\" rel=\"nofollow\">Freemarker</a> suffice?</p>\n\n<p>I guess this is a \"best practices\"-type question for a budding Spring web developer.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["vb.net","winforms","mvc"],"answer_count":3,"favorite_count":5,"up_vote_count":13,"down_vote_count":0,"view_count":3074,"score":13,"question_id":264744,"title":"How to structure VB.NET Windows Forms applications","body":"<p>What is the best way to structure a VB.NET <a href=\"http://en.wikipedia.org/wiki/Windows_Forms\" rel=\"nofollow\">Windows Forms</a> application so that code can be reused and the application can be extended easily.</p>\n\n<p>I used to create lots of new forms. This lead to lots of repeated code and forms which did similar things.</p>\n\n<p>Now, for forms which do similar jobs, such as view/edit/delete items from a specific database table, I create a form with the required controls, have the form create an instance of a class with parameters such as a collection of the controls and a string containing the database table name. Then the individual controls call functions of the class.</p>\n\n<p>Advanced forms will inherit and extend this basic form class.</p>\n\n<ol>\n<li>Has there already been work done in this area?</li>\n<li>Are there books / articles available which discuss the options available on this topic?</li>\n</ol>\n"},{"tags":["mvc","repository","business-logic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12040078,"title":"MVC - Repository vs Business Layer","body":"<p>I am using MVC. I will be using the respository to retrieve necessary records I need through LINQ.</p>\n\n<p>From my understanding, the Data Access is what I would do in the Repository.</p>\n\n<p>For example, I can use LINQ to retreive some records in the repository.</p>\n\n<p>Kind of confused on what the difference is between the Repository and Business layer.\nAren't they one in the same. Meaning, I am using business logic to retreive the records in LINQ. </p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12039051,"title":"how to create skinny controller","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12012817/mvc-having-the-controller-be-light-model-be-heavy\">MVC - Having the controller be light - Model be heavy</a>  </p>\n</blockquote>\n\n\n\n<p>Most of our actions looks like the following: Fetching info and then showing it in a view.</p>\n\n<p>Just wondering how I can apply the Skinny controller, Fat Model in my scenerio. Feel free to modify or give additional actual samples.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>public ActionResult Index() \n{ \n\n    var userinfo= db2.usp_userinfo().Where(s=&gt;s.Fired!=\"Y\"); \n\n    return View(userinfo); \n} \n</code></pre>\n\n<p>in the above, I am calling a stored proc that is in the Model and then sending that info to the view. Wondering how I can make this be a skinny controller. As you can see, I am putting my business logic in the usp_userinfo. How do I seperate it?</p>\n"},{"tags":["php","mvc","models","controllers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12037059,"title":"Access model from another controller","body":"<p>We have a small mvc we have built, we want to access models from different controllers.</p>\n\n<p>i.e</p>\n\n<pre><code>class Controller {\n    function A() {\n    }\n}\n\nclass Search extends Controller {\n    function B() {\n        $this-&gt;model-&gt;doSomething();    \n    }\n}\n\nclass Profile extends Controller {\n    function B() {\n        ***** HERE ***** ?????????????????????????????????????????????\n        Search::doSomething();\n    }\n}\n\nclass Model {\n\n}\n\nclass search_model extends Model {     \n    public function doSomething() {\n        // Do Something\n        echo \"doing something\";\n    }\n}\n\nclass profile_model extends Model { \n    public function getProfile() {\n        // Get Profile\n        echo \"getting profile\";\n    }\n}\n</code></pre>\n\n<p>I want to access when in the Profile Controller the Search Controller function doSomething() if you can see like the <strong><em></strong> HERE <strong></em></strong> section or something along them lines?</p>\n"},{"tags":["php","mvc","cakephp","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12035593,"title":"How to effectively use CakePHP Models that don't use tables?","body":"<p>I have a model class called \"Route\" and I've been struggling to find documentation / tutorials on how to use a model that isn't based on an underlying db table. At the moment, my model has the following attributes (note that useTable is set to false):</p>\n\n<pre><code>//this model does NOT use a database table - very important\npublic $useTable = false;\n\n//route id\npublic $id;\n\n//textual description of the route\npublic $desc = '';\n</code></pre>\n\n<p>My main question is: If my app uses multiple routes (which it will), how can I create multiple instances of this model? For instance, I know that I can do this in my controller:</p>\n\n<pre><code>$this-&gt;loadModel('Route');\n$this-&gt;Route-&gt;id = 1;\n</code></pre>\n\n<p>But obviously, that's not going to work with multiple routes. Do I need to create another model that will store these routes? I'm kind of hesitant to proceed until I figure out the right way to do this.</p>\n\n<p><strong>EDIT: This isn't about CakePHP routing.</strong></p>\n"},{"tags":["wpf","windows","mvc","application","mvp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12034889,"title":"Can we create WPF application using MVC or MVP?","body":"<p>In a interview,i had been asked to a question that,\nCan we create WPF application using MVC or MVP design pattern or practice. I said MVC or MVP is a design pattern to develop loosely coupled application. we'll use MVC,MVP or MVVM based on given scenario,context,technology and platform of application.</p>\n\n<p>If We can Create WPF application using MVC or MVP,if you have any good example in form of code or PoC, then please share or explain.</p>\n"},{"tags":["java","mvc","gui","frameworks","mvp"],"answer_count":5,"favorite_count":7,"up_vote_count":5,"down_vote_count":0,"view_count":3701,"score":5,"question_id":2977317,"title":"MVC/MVP/MVVM frameworks for Java GUI applications","body":"<p>Can anybody recommend a (preferably open-source) framework for decoupling GUI from model in Java desktop applications?</p>\n"},{"tags":["mvc","zend-framework","partitioning","saas"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":86,"score":-5,"question_id":12033967,"title":"How to physically partitions model view controller ( MVC ) in Zend Framework?","body":"<p>I am developing a SaaS based product in Zend Framework. The system should be scalable to distrubute the load on the application server. So I want to separate physically Model-View-Controller (MVC) on the different server rather than keeping on the same application server. So that they should communicate with each other through web service.</p>\n\n<p>I am new to Zend Framework and what to know that Does it possible in Zend Framework to physically partitions of MVC on different server? How to achieve it? An example will help me to boost my confidence level.</p>\n\n<p>Your response would be help me lots. </p>\n\n<p>I am thanking all of you in advance!</p>\n"},{"tags":["javascript","mvc","backbone.js","angularjs","angular"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":245,"score":1,"question_id":11826061,"title":"Using AngularJS with BackboneJS","body":"<p>I've been looking at frameworks to help me write better structured JS code and came across Backbone. It seems to have lots of functionality for creating classes with public and private properties and members, inheritance, etc.</p>\n\n<p>Angular JS seems to do a load of completely different stuff like automatic binding of markup to model and lots of clever trickery for templating, filtering, sorting etc.</p>\n\n<p>My question is not which should I choose, but is it sensible to use both? AngularJS looks really cool, but unless I'm missing something then it doesn't seem to provide any OO stuff for you to work with. Does this make sense?</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12031214,"title":"MVC3 application, on existing architecture","body":"<p>I have a entity framework driven solution, on top of which, I have a business layer and a service layer, exposing methods to my test console application. The console app has no idea about my entity framework. I have a transformation class which takes entity framework data objects, and transfers them into custom DTOs, which are in a shared library project. So, my database access layer uses the shared library, as does my other layers.</p>\n\n<p>Now, I want to try build an MVC3 application. So, is it correct to build that as a separate project in my solution, and then have the controller part of the MVC application reference the service layer of my current solution? For example, my service layer exposes a method called \"GetAllUsers\", which returns a List. And then I take that List, and form a Model (M part of MVC), and pass that to the view. Does that seem OK?</p>\n"},{"tags":["javascript","json","mvc","web-applications","extjs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":218,"score":0,"question_id":12024261,"title":"Map ExtJS Proxy AJAX response to model","body":"<h2>UPDATE:</h2>\n\n<p><em>here is my reader/store - <strong>not sure what to add to the reader to make this work</em></strong></p>\n\n<pre><code>Ext.define('YT.store.Videos', {\n  extend: 'Ext.data.Store',\n  model: 'YT.model.Video',\n  autoLoad: true,\n  proxy: {\n    type: 'ajax',\n    url: 'https://gdata.youtube.com/feeds/api/videos',\n    reader: {\n            type: 'json',\n            root: 'feed',\n            record: 'entry',\n            successProperty: 'success'\n     },\n    listeners: {\n      exception: function(store, response, app){\n        console.log('exception...');\n        console.log(response);\n      }\n    }\n  }\n});\n</code></pre>\n\n<hr>\n\n<p><strong>Here is my model:</strong></p>\n\n<pre><code>Ext.define('YT.model.Video', {\n  extend: 'Ext.data.Model',\n  autoLoad: true,\n  fields: [\n    'title',\n    'published',\n    'content'\n  ]\n});\n</code></pre>\n\n<p><strong>Here is a sample response:</strong></p>\n\n<pre><code>{\n  version: '1.0',\n  encoding: 'UTF-8',\n  feed: {\n    junk: 'blahblahblahblah',\n    entry: [\n      title: {\n        $t: 'title'\n      },\n      content: {\n        encoding: 'flash/application',\n        src: 'http://youtube.com/watch?q=someCatVideo'\n      },\n      published: {\n        $t: '12-28-2012'\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>I'm not sure how to reconcile the two.</p>\n\n<p><strong>I've tried...</strong></p>\n\n<pre><code>Ext.define('YT.model.Video', {\n  extend: 'Ext.data.Model',\n  autoLoad: true,\n  fields: [\n    {name: 'title', mapping: 'title.$t'},\n    {name: 'published', mapping: 'published.$t'},\n    {name: 'content', mapping: 'content.src'}\n  ]\n});\n</code></pre>\n\n<h2>Bonus:</h2>\n\n<p>Definitely looking for tips on how to debug the implementation of these techniques, I'm rather new to JavaScript MVC.</p>\n"},{"tags":["javascript","html","ajax","json","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12029833,"title":"How to write client side scripts for ajax call that outputs Json object","body":"<p>when I create ajax calls - I usually ask for pure HTML.\nbut now, for several reason, <strong>I need advice on how to build the table</strong> (let's say of persons and their data) <strong>when receiving Json object</strong> - I know how to create a table in Javascript - <strong>but since I am new to this concept of Json-from-server I want to do it the right way</strong></p>\n\n<p>let's say my json is this:</p>\n\n<pre><code>[[name: foo, email:foo@bar.com ...][name:baz,...] ... []]\n</code></pre>\n\n<p>What is the right way to build a js to build a table for it. my guess it would go for something like:</p>\n\n<pre><code>var table = {\n    init : function() {..}\n    new : function(Json) {..} \n    delete : function(Json) {..}\n}\n\nvar row = {\n    init : function() {..}\n    new : function(rowParam) {..}\n}\n\nvar cell = { ... }\n</code></pre>\n\n<p><strong>My questions are:</strong></p>\n\n<ol>\n<li><p>I walk in the dark trying to figure out if this is the right way - Is it?</p></li>\n<li><p>Something smells here from MVC - Is it? How do I build it correctly with MVC pattern? assuming this table needs to be quite interactive (plenty of events and manipulations)</p></li>\n<li><p>Something also smells from \"there are js libraries that do these sort of things\" - I have no idea where to start because it is hard to define for myself what is it that I am trying to do exactly.</p></li>\n</ol>\n"},{"tags":["asp.net-mvc","mvc","data","passing","viewbag"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":12028555,"title":"Safely passing hidden data from view to controller","body":"<p>In my application users are able to transfer points between them. In my view, i check if user can transfer points from his account, if he can, i render something that allows him to do that. I would not like to check that again in my controller, so i need some mechanism, that will allow me to check if user that i rendered a viewpage for, is the same as the one that is sending a request to my controller.</p>\n\n<p>So basically, i would like to check in my controller, if currently logged user is the same as the one that sent the request - and to do this, i think that i need something that works similar to ViewBag, but not from the controller to a view, but from view to a controller. Is that possible?</p>\n"},{"tags":["mvc","cakephp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12028031,"title":"Cakephp splitting long view.ctp into smaller ones","body":"<p>One of my view file in cake is getting very long, like 300+ lines already. And i find it very difficult to keep track of the understanding.</p>\n\n<p>Is it a good idea to split them up into smaller files and then including them in the parent view file?</p>\n\n<p>If its ok to be done, </p>\n\n<ol>\n<li>In what extension should i create the smaller files? .ctp or .php?</li>\n<li>Including them with require_once(view-child1.ext) should be fine, right?</li>\n</ol>\n\n<p>Im fairly new to cakePHP. So i prefer advises from the experts over here. Please put me in the right direction.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Thanks for the help guys. </p>\n\n<p>I tried it. But i cant seem to pass the variable. echo $this->Element('reviews/view-goal',$history); Parent view shows and error saying undefined variable in that element.</p>\n\n<p>Im calling the elements from this loop:</p>\n\n<pre><code>foreach($histories as $date =&gt; $history)\n</code></pre>\n\n<p>Cant pass $history. But $histories is being passed correctly.</p>\n"},{"tags":["asp.net-mvc","mvc","binding","model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12020518,"title":"ASP MVC How to update DB entry with collections field","body":"<p>First of all sory for my English.</p>\n\n<p>I am new to ASP.NET and got some questions.</p>\n\n<p>In my example i try to keep it simple, and remove all unnecessary things.</p>\n\n<p>For edit view it's look strangle that i get old values out of text box, but i will replace it with pictures in the future, so don't look at this :)</p>\n\n<p>i have a model</p>\n\n<pre><code>public class Artist\n{\n    public int ArtistId { get; set; }\n    public string ArtistName { get; set; }\n    public virtual ICollection&lt;Album&gt; ArtistAlbums { get; set; }\n}\n\npublic class Album\n{\n    public int AlbumId { get; set; }\n    public string AlbumName { get; set; }\n}\n</code></pre>\n\n<p>here is my piece of Create View</p>\n\n<p>\n</p>\n\n<p>here is my create Action</p>\n\n<pre><code>public ActionResult Create(Artist newArtist, IEnumerable&lt;string&gt; ArtistAlbums)\n{\n    foreach (var album in ArtistAlbums)\n    {\n      newArtist.ArtistAlbums.Add(new Album { AlbumName = album });\n    }\n    db.Entry(newArtist).State = EntityState.Added;\n    db.SaveChanges();\n\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>here is my piece of Edit View</p>\n\n<pre><code>@foreach (var album in Model.ArtistAlbums)\n{\n    &lt;div&gt;@album.AlbumName&lt;/div&gt;\n    &lt;input type=\"text\" name=\"ArtistAlbums\" /&gt;\n}\n</code></pre>\n\n<p>here is my Edit Action</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Edit(Artist artist, IEnumerable&lt;string&gt; ArtistAlbums)\n{\n    foreach (var album in ArtistAlbums)\n    {\n      artist.ArtistAlbums.Add(new Album { AlbumName = album });\n    }\n    // An object with the same key already exists in the ObjectStateManager. The ObjectStateManager cannot track multiple objects with the same key.\n    //db.Entry(artist).State = EntityState.Modified;\n\n    // this one update my Artist entry, but not my Albums for this entry.\n    // var oldArtist = db.Artists.Find(artist.ArtistId);\n    // db.Entry(oldArtist).CurrentValues.SetValues(artist);\n    db.SaveChanges();\n\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>and the question is - How can i properly save my updated model? And i am scared for some crazy stuff like custom model binding and e.t.c. i wanna keep it simple and beauty.\nThank you guys.</p>\n"},{"tags":["ios","mvc","design-patterns","monotouch","monodevelop"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12027689,"title":"How to reference variables in multiple IOS View Controllers","body":"<p>I'm asking what is probably a fundamental question but I'm relatively new to iOS and Object Oriented Programming:</p>\n\n<p>Question:\nIf I have a simple app with 2 Views &amp; View Controllers that receives input from each, how should I structure my program so that I can reference the values that were inputed in each view controller and take these values, add them together (as an example), and then output it to say a 3rd View Controller?</p>\n\n<p>If this was all done in the same controller then I can do it but the issue is where can I store this so that the data is available across multiple controllers?</p>\n\n<p>Fundamentally I'm not sure where the 'processing (addition) should occur. Should this be in another class, or AppDelegate? Is this termed the 'model' in MVC and can multiple View Controllers reference the same model?</p>\n\n<p>I'm sure this is really basic stuff but an example or reference to material will really help clarify this for me.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","mvc","mapping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":176,"score":0,"question_id":12016250,"title":"Spring MVC mapping","body":"<p>I made a really simple app but running into error.</p>\n\n<p><strong>My Web.XML</strong></p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/spring/root-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;\n&lt;listener&gt;\n       &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><strong>Servlet-context.XML</strong></p>\n\n<pre><code>&lt;beans:bean name=\"newpage.jsp\" class=\"com.project.NewHello.resultsController\"/&gt;\n\n&lt;beans:bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n    &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/beans:bean&gt;\n\n\n&lt;context:component-scan base-package=\"com.project.NewHello\" /&gt;\n</code></pre>\n\n<p><strong>newpageController.java</strong></p>\n\n<pre><code> package com.project.NewHello;\n\n\n import java.util.Locale;\n\n import org.springframework.ui.Model;\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RequestMethod;\n\n  public class newpageController {\n\n\npublic String newpage(Locale locale, Model model) {\n\n    return \"newpage\";\n}\n  }\n\n\n\n**Some of Error lines:**\n</code></pre>\n\n<p>It does not find the newpage.jsp file, and in console shows, \nWARNING: [SetContextPropertiesRule]{Context} Setting property 'source' to 'org.eclipse.jst.jee.server:NewHello' did not find a matching property.</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":7,"favorite_count":1,"up_vote_count":7,"down_vote_count":1,"view_count":178,"score":6,"question_id":12012817,"title":"MVC - Having the controller be light - Model be heavy","body":"<p>I am using C# wit ASP.NET MVC.\nI have heard, that the controller should be kept light but the Model - heavy.</p>\n\n<p>I am somewhat confused about the best practice on what should be kept in the controller and what should be kept in the model.</p>\n\n<p>In our organization, we use Entity Framework where and put the tables there.\nFor the controller, we use LINQ and then send the info over to the view.</p>\n\n<p>Kind of confused on what should be in Controller and Model. </p>\n"},{"tags":["asp.net","mvc","design-patterns","web-architecture"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":508,"score":2,"question_id":4298037,"title":"What is the Page-Controller pattern exactly?","body":"<p>Is the Page-Controller pattern (the refinement of the MVC pattern as described in the Enterprise Solution Patterns using Microsoft .NET) basically the pattern of simple URI page requests (i.e. URI + form submission + query string); ASP's basically?  Or is it something more complex.</p>\n\n<p>Anyone?</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/ff647095.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ff647095.aspx</a></p>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-4","proxy-classes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":12026644,"title":"Implementing a custom model binder in MVC to resolve types from container","body":"<p>In a nutshell, my question boils down to this:</p>\n\n<p>I need to implement a custom model binder in MVC4 that resolves models from container/service locator, whatever. I have implemented the following model binder:</p>\n\n<pre><code>public class ServiceLocatorModelBinder : DefaultModelBinder\n{\n    private readonly IServiceLocator _serviceLocator;\n\n    public ServiceLocatorModelBinder(IServiceLocator serviceLocator)\n    {\n        _serviceLocator = serviceLocator;\n    }\n\n    protected override object CreateModel(ControllerContext controllerContext, ModelBindingContext bindingContext, Type modelType)\n    {\n        var typeValue = bindingContext.ValueProvider.GetValue(bindingContext.ModelName + \".ModelType\");\n        var type = Type.GetType(\n            (string)typeValue.ConvertTo(typeof(string)),\n            true\n        );\n        var model = _serviceLocator.GetInstance(modelType);\n        bindingContext.ModelMetadata = ModelMetadataProviders.Current.GetMetadataForType(() =&gt; model, type);\n        return model;\n    }\n}\n</code></pre>\n\n<p>And now I would like to use this in place of the DefaultModelBinder in mvc to resolve all my models. How do I do this?</p>\n\n<p>To clarify my need for doing this at all (as in general it's considered best practice to just use concrete simple classes for view models/models), is that I'm experimenting with the concept of automatically generating proxies in place of my simple view model/poco classes throughout my application, and as such I don't have a concrete type to bind to. The goal I'm hoping to achieve is taking the pattern of keeping models/view models simple, and enforcing it one step further by making it impossible for anyone to add any logic at all to these classes. This is where I need a container to resolve model types.</p>\n"},{"tags":["php","mvc","controller","views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12021019,"title":"PHP views relate controllers","body":"<p>I would like to implement controllers that connect to any specific views like MVC does. I'm <strong>not</strong> using any framework that provided in PHP.</p>\n\n<p>So, I need some guide and advice on doing it.</p>\n\n<p>I have some controllers and views. For my views,i would like to just output my data only. \nMy concern now is how my function (like <code>create()</code> ) in controllers, can get all the <code>$_POST['params']</code> that users input data in my <code>views/create.php</code>, and create a new Model in the <code>create()</code> controllers's function.</p>\n\n<p>So,right now, i'm thinking to do in this way, I will create <strong>MyViews</strong> class in my controllers folder. The purpose is loading the specific views and get all the <code>$_POST</code> params into an object. Then, every controllers like <strong>Users_controllers</strong>, will create <strong>MyViews</strong>. In the function of <strong>Users_controllers</strong>, like <code>create()</code>, <code>destroy()</code>, I might use the function in <strong>MyViews</strong> to load specific views to load the object.</p>\n\n<p>I found a source that load views</p>\n\n<pre><code>&lt;?php\nclass MyView {\nprotected $template_dir = 'templates/';\nprotected $vars = array();\npublic function __construct($template_dir = null) {\n    if ($template_dir !== null) {\n        // Check here whether this directory really exists\n        $this-&gt;template_dir = $template_dir;\n    }\n}\npublic function render($template_file) {\n    if (file_exists($this-&gt;template_dir.$template_file)) {\n        include $this-&gt;template_dir.$template_file;\n    } else {\n        throw new Exception('no template file ' . $template_file . ' present in     directory ' . $this-&gt;template_dir);\n    }\n}\npublic function __set($name, $value) {\n    $this-&gt;vars[$name] = $value;\n}\npublic function __get($name) {\n    return $this-&gt;vars[$name];\n}\n} ?&gt;\n</code></pre>\n\n<p>hmm,I have no idea How I can detect the _POST params </p>\n\n<pre><code>    if(isset($_POST['Post']))\n    {\n        $model-&gt;attributes=$_POST['Post'];\n        if($model-&gt;save())\n            $this-&gt;redirect(array('view','id'=&gt;$model-&gt;id));\n    }\n</code></pre>\n\n<p>this is the Yii framework I observed. How could I detect params whether is <code>$_POST</code> or <code>$_GET</code> after load a specific views.</p>\n\n<p>Any guidance and advice to archive my tasks?</p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc","macros"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12019510,"title":"Where and how add macro style functions for specific controllers?","body":"<p>I am using Ruby on Rails 3.2.2 and I would like to implement a macro style function for my <em>controllers</em> since I have many controllers behaving the same (that is, my application has some controllers with same actions and instance variable setting processes, except for instance variable names). I read <a href=\"http://stackoverflow.com/questions/926489/rails-macro-style-functions\">this question</a> and related answers, but I would like to state my macro style function <em>not</em> directly in the <code>ApplicationController</code> class because my macro should be available to few controllers and not to all controllers in my application (also for performance reasons).</p>\n\n<p><em>My \"main\" purpose is that I would like to DRY</em> (Don't Repeat Yourself) <em>my controller actions since those actions are the same</em> (except for instance variable names) <em>as other controller actions</em> present in my application.</p>\n\n<p>Where (that is, in which file) and how should I add related macro code?</p>\n"},{"tags":["asp.net","ajax","asp.net-mvc","mvc","internet-explorer"],"answer_count":3,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":5010,"score":1,"question_id":2259978,"title":"Super Simple Ajax.ActionLink Example Doesn't Work In IE... But does in Firefox, Chrome, Safari.","body":"<p>I have the following controller:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Mvc;\n\nnamespace MvcApplication1.Controllers\n{\n    public class TestController : Controller\n    {\n        public ActionResult Test()\n        {\n            return View();\n        }\n\n        public string AjaxTest()\n        {\n            return \"Some random text\";\n        }\n\n    }\n}\n</code></pre>\n\n<p>I have the following View:</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" Inherits=\"System.Web.Mvc.ViewPage\" %&gt;\n&lt;html&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n      &lt;script src=\"../../Scripts/MicrosoftAjax.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"../../Scripts/MicrosoftMvcAjax.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;%= Ajax.ActionLink(\"Ajax Test\", \"AjaxTest\", new AjaxOptions{UpdateTargetId=\"testtarget\" }) %&gt;\n  &lt;div id=\"testtarget\"&gt;Test Div&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I click the action link in IE the controller code runs but the div is NOT updated. Do it in ANY other browser and it works just fine. Is this (yet another) known problem/bug with IE?? Or am I doing something wrong?</p>\n"},{"tags":["mvc","model","playframework","form-validation","playframework-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":152,"score":0,"question_id":12021990,"title":"Play framework: one model approach","body":"<p><strong>The problem:</strong> </p>\n\n<p>When programming with play framework I feel that I'm stumbling with same problem than in many times at the past which is <strong>creating several models of the same type</strong> just because I want to add, update or use different data about certain model in different use cases.</p>\n\n<p>Let me explain, lets consider of a example where I have 2 different views: <strong>register</strong> and <strong>login</strong></p>\n\n<p>I would have following User model:</p>\n\n<pre><code>/**\n * Example User class (simple annotations for demo purposes).\n * \n */\n@Entity\npublic class User {\n\n    @Id\n    public Long id;\n\n    @Required\n    public String email;\n\n    @Required\n    public String password;\n\n    @Required\n    public String firstName;\n\n    @Required\n    public String lastName;\n\n}\n</code></pre>\n\n<p><strong>In case of registering:</strong> I would have all corresponding fields in register.scala.html : <em>email, password, firstName, lastName</em> - because I will need them all when I register, right?</p>\n\n<p>But also I would want to use repeatPassword field to confirm that user has typed password correctly, so I would add this into User model:</p>\n\n<pre><code>@Required\n@Transient\npublic String repeatPassword;\n</code></pre>\n\n<p>Ok, then I would extend this model to have repeat password confirmation check in order to correct my \"automatic\" validations when form is submitted, like this:</p>\n\n<pre><code>public String validate() {\nif(!password.equals(repeatPassword)) {\n    return \"Passwords doesn't match.\";\n}\n    return null;\n}\n}\n</code></pre>\n\n<p>So even now I would have one extra attribute repeatPassword which is not persisted to database but used within registration. </p>\n\n<p><strong>Problem #1:</strong> Our model starts to go confusing piece by piece.</p>\n\n<p><strong>In case of login:</strong> I would want to use same model because its a User which is trying to sign in, right? But instead of all the fields I would only need <em>email, password.</em></p>\n\n<p><strong>Problem #2:</strong> My User model cant be used in login because its already customized to be used within registration - I would need to move repeatPassword and validate() method to separate UserRegistation model, plus duplicate firstName lastName etc. fields or mix using both User and UserRegistration model within registration and to render two different forms to same registration view = confusing.</p>\n\n<p><strong>Problem #3:</strong> My login page cant use User model because it has annotations in place, if I dont add all the necessary fields like firstName, lastName etc. I will get errors. Again, I would need to create separate UserLogin model just because I want to login to work.? Example below:</p>\n\n<pre><code>public class UserLogin {\n\n    @Required\n    public String email;\n\n    @Required\n    public String password;\n\n    public String validate() {\n        if(User.authenticate(email, password) == null) {\n            return \"Invalid user or password\";\n        }\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>So very fast, I would have 3 different models just to represent User, one of them is persisted to database and two others is used to validate errors when we are completing login and registration functionality at template side. </p>\n\n<p>So my question is: How on earth I should begin to solve this mess? code complexity is rising very fast :) Should I create separate models.template and models.database packages where template models are only ones within annotations and in case of no errors I start to fill real model before saving or updating its info to database? I need desperately answers from you guys/girls, <strong>Can we make one model approach?</strong> thnx in advance.</p>\n"},{"tags":["asp.net","mvc","asp.net-mvc-2","ninject"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1834,"score":1,"question_id":4127184,"title":"Ninject error: he IControllerFactory 'Ninject.Web.Mvc.NinjectControllerFactory' did not return a controller for the name 'Products'","body":"<p>I'm Getting the following yellow screen of death \"The IControllerFactory 'Ninject.Web.Mvc.NinjectControllerFactory' did not return a controller for the name 'Products'.\" Why? Here's my setup</p>\n\n<p><strong>Update</strong>\nThis configuration works on my computer but not on my co-worker's computer even though our computers have the same code and configuration.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>    public class MvcApplication : NinjectHttpApplication\n    {\n        public static void RegisterRoutes(RouteCollection routes)\n        {\n            routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n            routes.MapRoute(\n                \"Default\", // Route name\n                \"{controller}/{action}/{id}\", // URL with parameters\n                new { controller = \"Products\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n            );\n\n        }\n\n        protected override void OnApplicationStarted()\n        {\n            RegisterRoutes(RouteTable.Routes);\n            RegisterAllControllersIn(Assembly.GetExecutingAssembly());\n        }\n\n        protected override IKernel CreateKernel()\n        {\n            var modules = new INinjectModule[]\n                        {\n                            new WebModule()\n                        };\n\n            return new StandardKernel(modules);\n        }\n    }\n\npublic class WebModule : NinjectModule\n    {\n        public override void Load()\n        {\n            Bind&lt;IAuthoringRepository&gt;()\n                .ToProvider(new AuthoringProvider())\n                .InSingletonScope();\n\n            Bind&lt;ICatalogEntity&gt;()\n                .ToProvider(new ProductProvider())\n                .InSingletonScope();\n\n            Bind&lt;TargetData&gt;()\n                .ToProvider(new TargetDataProvider()).InSingletonScope();\n        }\n    }\n\n    public class AuthoringProvider : Provider&lt;IAuthoringRepository&gt; {\n        protected override IAuthoringRepository CreateInstance(IContext context)\n        {\n            WindowsIdentity identity = WindowsIdentity.GetCurrent();\n            IAuthoringRepository result = RepositoryFactory.CreateAuthoringRepository(identity);\n            return result;\n        }\n    }\n\n    public class TargetDataProvider : Provider&lt;TargetData&gt;\n    {\n        protected override TargetData CreateInstance(IContext context)\n        {\n            return new TargetData { Language = Language.En, Province = Province.ON };\n        }\n    }\n\n    public class ProductProvider : Provider&lt;Product&gt;\n    {\n        protected override Product CreateInstance(IContext context)\n        {\n            return new Product();\n        }\n    }\n</code></pre>\n\n<p><strong>More on the error</strong>\nThe IControllerFactory 'Ninject.Web.Mvc.NinjectControllerFactory' did not return a controller for the name 'Products'. \nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. </p>\n\n<p>Exception Details:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException: The IControllerFactory 'Ninject.Web.Mvc.NinjectControllerFactory' did not return a controller for the name 'Products'.</p>\n</blockquote>\n\n<p>Source Error:</p>\n\n<blockquote>\n  <p>An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below. </p>\n</blockquote>\n\n<p>Stack Trace: </p>\n\n<pre><code>[InvalidOperationException: The IControllerFactory 'Ninject.Web.Mvc.NinjectControllerFactory' did not return a controller for the name 'Products'.]\n   System.Web.Mvc.MvcHandler.ProcessRequestInit(HttpContextBase httpContext, IController&amp; controller, IControllerFactory&amp; factory) +365\n   System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContextBase httpContext, AsyncCallback callback, Object state) +160\n   System.Web.Mvc.MvcHandler.BeginProcessRequest(HttpContext httpContext, AsyncCallback callback, Object state) +80\n   System.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.BeginProcessRequest(HttpContext context, AsyncCallback cb, Object extraData) +45\n   System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +8837208\n   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously) +184\n</code></pre>\n"},{"tags":["java","swing","mvc","gui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":104,"score":-5,"question_id":12021263,"title":"looking for a sample swing project","body":"<p>I am trying to build a complex GUI with Swing and would like to ask whether someone has a good project in mind that follows the best practices around for building complex GUIs. I would love to have a look at the source code to get some ideas about the overall structure (especially on how the MVC is implemented)\nthanks</p>\n"},{"tags":["c#","sql","winforms","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":112,"score":-2,"question_id":12019869,"title":"How to add a new record in DB using MVC Winforms","body":"<p>I want to add a record into a DB using MVC pattern winforms. The function to add a record into the DB is working but I want to do it by using the object method.</p>\n\n<p>Some one please what is the mistake i'm doing here with the MVC pattern?</p>\n\n<p>View:</p>\n\n<pre><code>        using System;\nusing System.Data.SqlClient;\nusing System.Globalization;\nusing System.Windows.Forms;\nusing MVCwithDBFormReg.Controller;\nusing MVCwithDBFormReg.Model;\n\nnamespace MVCwithDBFormReg.View\n{\n    public partial class Form1 : Form, IUserView\n    {\n\n        private readonly User _model;\n        public Form1(User model)\n        {\n            _model = model;\n            InitializeComponent();\n        }\n\n\n        public event CreateUserHandler Create;\n\n        private void button3_Click(object sender, System.EventArgs e)\n    {\n        _model.FirstName = FirstName;\n        _model.LastName = LastName;\n        _model.Language = Language;\n        _model.Country = Country;\n        _model.State = State;\n        _model.Zipcode = Zipcode;\n        _model.TimeZone = TimeZone;\n        _model.Sex = Sex;\n        _model.Month = Month;\n        _model.Day = Day;\n        _model.Year = Year;\n        _model.Occupation = Occupation;\n\n        Create(_model);\n\n    }\n\n    }\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>         namespace MVCwithDBFormReg.Model\n{\n    public class User\n    {\n\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public string Language{ get; set; }\n        public string Country{ get; set; }\n        public string State{ get; set; }\n        public int Zipcode { get; set; }\n        public string  TimeZone{ get; set; }\n        public Gender Sex { get; set; }\n        public enum Gender\n         {\n            Male = 1,\n            Female = 2\n\n         }\n         public string Month { get; set; }\n         public string Day { get; set; }\n         public int Year { get; set; }\n         public string Occupation { get; set; }\n\n\n    }\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>     namespace MVCwithDBFormReg.Controller\n{\n   public class UserController\n   {\n\n\n       private SqlConnection sqlConnection1;\n       private void ViewOnSave(User model)\n       {\n           if (model.FirstName == \"\" || model.LastName == \"\")\n               MessageBox.Show(\"Please enter your name\");\n           else\n           {\n               sqlConnection1.Open();\n\n               string insert = \"INSERT INTO REGISTER(FNAME, LNAME, LANG, COUNTRY, STATE, ZIPCODE, TIMEZONE, GENDER, BDAY, BMONTH, BYEAR, OCCUPATION) \" +\n                               \"VALUES ('\" + model.FirstName + \"','\" + model.LastName + \"','\"\n                               + model.Language + \"','\" + model.Country + \"','\"\n                               + model.State + \"','\" + model.Zipcode\n                               + \"','\" + model.TimeZone + \"','\"\n                               + model.Sex + \"','\" + model.Day + \"','\"\n                               + model.Month + \"','\" + model.Year + \"','\"\n                               + model.Occupation + \"')\";\n               SqlCommand cmd = new SqlCommand(insert, this.sqlConnection1);\n               cmd.ExecuteNonQuery();\n\n               sqlConnection1.Close();\n               MessageBox.Show(\"You have been successfully registered to our database.\");\n           }\n       }\n   }\n}\n</code></pre>\n"},{"tags":["xml","mvc","spring","rest","http-status-code-406"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1323,"score":1,"question_id":6094030,"title":"Spring 3 REST with XML gives \"406 Not Acceptable\"","body":"<p>I'm trying to implement REST Remoting using Spring 3 but I can't get through \"406 Not Acceptable\" error... \nI try to remote 1 service that is returning an application/xml content. Everytime I send a request with \"<code>Accept=application/xml</code>\", I get 406 error. Everytime I send it with some different \"Accept\" header, I get 404 (and handleNoSuchRequestHandlingMethod exception). The service itself is invoked as I can see it in the logs. What I've also spotted is that during servlet initialisation I get the following error, although I'm not sure if it's a problem:</p>\n\n<pre>Did not find any ViewResolvers to delegate to; please configure them using the 'viewResolvers' property on the ContentNegotiatingViewResolver</pre>\n\n<p>I've tried many different configurations but without success. Maybe you can spot some error in my implementation?</p>\n\n<p>extService-servlet.xml</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:util=\"http://www.springframework.org/schema/util\"\n    xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:task=\"http://www.springframework.org/schema/task\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:oxm=\"http://www.springframework.org/schema/oxm\" xmlns:p=\"http://www.springframework.org/schema/p\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\n                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n                        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\n                        http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-3.0.xsd\n                        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"ch.epimmo.immogreen.backend.mvc\" /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n    &lt;oxm:jaxb2-marshaller id=\"jaxbMarshaller\"&gt;\n        &lt;oxm:class-to-be-bound name=\"ch.epimmo.immogreen.common.dto.ExpertDto\" /&gt;\n    &lt;/oxm:jaxb2-marshaller&gt;\n\n\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.ContentNegotiatingViewResolver\"\n        p:order=\"#{T(org.springframework.core.Ordered).HIGHEST_PRECEDENCE}\"&gt;\n        &lt;property name=\"defaultContentType\" value=\"text/html\" /&gt;\n        &lt;!-- &lt;property name=\"ignoreAcceptHeader\" value=\"true\" /&gt; --&gt;\n        &lt;property name=\"favorPathExtension\" value=\"true\" /&gt;\n        &lt;property name=\"mediaTypes\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"xml\" value=\"application/xml\" /&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n        &lt;property name=\"defaultViews\"&gt;\n            &lt;list&gt;\n                &lt;bean class=\"org.springframework.web.servlet.view.xml.MarshallingView\"&gt;\n                    &lt;property name=\"marshaller\" ref=\"jaxbMarshaller\" /&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Controller</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping( { \"extService\" })\npublic class ExtServiceController {\n\n    protected final static Logger LOGGER = Logger.getLogger(ExtServiceController.class);\n\n    @Autowired\n    private UserManagementService userManagementService;    \n\n    // @RequestMapping(value = \"/experts\", method = RequestMethod.GET, headers = { \"Accept=*/*\" })\n    // @RequestMapping(value = \"experts\", method = RequestMethod.GET)\n    @RequestMapping(value = \"experts\", method = RequestMethod.GET, headers = { \"Accept=application/xml, text/xml\" })\n    public @ResponseBody\n    ExpertDto getExperts() {            \n              return new ExpertDto();\n    }\n}\n</code></pre>\n\n<p>Test</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>DefaultHttpClient httpClient = new DefaultHttpClient();\n\nString expertsUrl = \"http://localhost:8080/extService/experts\";\n\nHttpGet getRequest = new HttpGet(expertsUrl);\ngetRequest.setHeader(new BasicHeader(\"Accept\", \"application/xml\"));\n// getRequest.setHeader(new BasicHeader(\"Accept\", \"text/html\"));\n// getRequest.setHeader(new BasicHeader(\"Accept\", \"*/*\"));\n\nHttpResponse response = httpClient.execute(getRequest);\nHttpEntity entity = response.getEntity();\nInputStream content = entity.getContent();\n</code></pre>\n"},{"tags":["jquery","asp.net-mvc","mvc","sql-server-2005","table"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":217,"score":-1,"question_id":10053693,"title":"How can I add an HTML jQuery table to display a database?","body":"<p>I need to show a database in a table present in the ASP.NET. I got some suggestions, such as DataGridView slowing down our process. So I use jQuery table. But how do I display the data in jQuery table in an ASP.NET MVC webpage from an SQL&nbsp;Server database.</p>\n"},{"tags":["asp.net-mvc","mvc","ninject","asp.net-mvc-3"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":1493,"score":6,"question_id":4123092,"title":"Using Ninject with Membership.Provider","body":"<p>I'm new to Ninject and I'm having problems using it with a custom membership provider.</p>\n\n<p>My membership provider has a repository interface passed in. It looks like:</p>\n\n<pre><code>public class CustomMembershipProvider : MembershipProvider\n{\n  public CustomMembershipProvider( IRepository repository )\n  {\n  }\n}\n</code></pre>\n\n<p>I'm using the code thats part of the Account Model in the MVC app as a starting point. </p>\n\n<p>However when it calls <code>Membership.Provider</code> I get an error saying <code>No parameterless constructor defined for this object</code>. </p>\n\n<p>I've setup the bindings in ninject to bind a <code>IRepository</code> to a <code>Repository</code> class which work as I've testing this in a controller.</p>\n\n<p>What are the correct bindings in Ninject to use for <CODE>Membership.Provider</CODE>?</p>\n"},{"tags":["java","mvc"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":324,"score":-1,"question_id":10000149,"title":"Example of MVC in java/jdk","body":"<p>Can someone give me an example of application/framework/tool in java/jdk library that is based on MVC design pattern? I was asked this question at an interview recently. I replied that most of the java swing components are designed based on MVC. But the interviewer said he is looking for something more complex than that.\nThanks.</p>\n"},{"tags":["javascript","jquery","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":333,"score":0,"question_id":4975826,"title":"modify text in a <div> using jquery and a callback to mvc3 controler","body":"<p>I'm using a jquery function to get some information from an asp.net mvc 3 controller to my view using a json.</p>\n\n<p>View:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function (){\n    $(\"#CraftID\").change(function () {\n        $.post(\"/Element/GetItems/\", { CraftID: $(this).val(), ElementID: $(\"#ElementID\").val() }, function (data) {\n            populateDropdown($(\"#ItemID\"), data);\n        });\n    });\n\n    $(\"#ItemID\").change(function () {\n        $.post(\"/Element/GetUnit/\", { ItemID: $(this).val(), ElementID: $(\"#ElementID\").val() }, function (units) {\n            appendUnit($(\"#factor\"), units);\n        });\n    });\n\n    $(\"#btn_next\").click(function () {\n        window.location = \"/Element/\";\n    });\n\n});\n\nfunction populateDropdown(select, data) {\n    select.html('');\n    $.each(data, function (id, option) {\n        select.append($('&lt;option&gt;&lt;/option&gt;').val(option.ItemID).html(option.Description));\n    });\n}  // } inserted here\n\nfunction appendUnit(factor, units) { };\n}  // } removed here\n&lt;/script&gt;\n</code></pre>\n\n<p>And in razor HTML:</p>\n\n<pre><code>&lt;div class=\"editor-field\"&gt;\n        @Html.DropDownList(\"CraftID\", new SelectList(ViewBag.Crafts as System.Collections.IEnumerable, \"CraftID\", \"Description\"))           \n    &lt;/div&gt;\n\n    &lt;div class=\"editor-label\"&gt;\n        Leitposition:\n    &lt;/div&gt;           \n    &lt;div class=\"editor-field\"&gt;\n        &lt;select id=\"ItemID\" name=\"ItemID\"&gt;&lt;/select&gt; \n    &lt;/div&gt;\n\n    &lt;div class=\"editor-label\" id=\"factor\"&gt;\n        Umrechnungsfaktor:\n    &lt;/div&gt;\n</code></pre>\n\n<p>My controler looks like this:</p>\n\n<pre><code>public JsonResult GetUnit(int itemid, int elementid)\n    {\n        try\n        {\n            Element  element = db.Elements.Single(e =&gt; e.ElementID == elementid);\n\n            Item item = db.Items.Single(it =&gt; it.ItemID == itemid);\n\n            ItemViewModel ivm = new ItemViewModel(item);\n\n            ElementViewModel evm = new ElementViewModel (element);\n\n            string str_unit = \"[\"+ ivm.Unit_toString() + \"/\" + evm.Unit_toString() + \"]\"; \n\n            return Json(str_unit);\n        }\n        catch (Exception)\n        {\n            return null;\n        }\n    }\n</code></pre>\n\n<p>So heres the problem:\nWhen i come on the Site my IDE throws following exeption:</p>\n\n<blockquote>\n  <p>Laufzeitfehler in Microsoft JScript: Objekt erwartet</p>\n  \n  <p>Runtimeerror in Microsoft JScript: Object expected</p>\n</blockquote>\n\n<p>And line: appendUnit($(\"#factor\"), units); is highlighted. I realy don't get what the problem is becouse the debugger finds the correct <code>&lt;div&gt;</code>. I know that becouse when i mouseover the function <code>appendUnit(factor...</code> it shows me innerHTML: \"Umrechnungsfaktor:\".</p>\n\n<p>So this was the Problem and now what i am trying to do:\nI simply want to render my <code>&lt;div class=\"editor-label\" id=factor&gt; Umrechnungsfaktor + units &lt;/div&gt;</code>\nwhere units comes from my controler GetUnit. </p>\n\n<p>Function appendUnit(factor, unit) is empty for testing becouse i couldnt find the error it should be something like that:</p>\n\n<pre><code>function appendUnit(factor, units) { \n   factor.html = ' ';\n   factor.append(\"Umrechnungsfaktor: \" + units.val());\n};\n</code></pre>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":5,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1732,"score":4,"question_id":3041063,"title":"Where do I put constants file for Codeigniter (PHP)?","body":"<p>I have a list of constants (I'm using them as an enum), some are define statements, and some are just global variables.</p>\n\n<p>Where am I suppose to put them in the MVC framework so I can use them for both my model and my controller that needs to reference it?</p>\n\n<p>I'd rather not stick it into config/constants.php since they shouldn't be called except for by this model and the controllers that use it.</p>\n\n<p>Edit 1: Clarification</p>\n\n<p>To be more specific, I have my <code>message_model</code> model and it has a bunch of constants that I need that are stored in <code>message_model_constants.php</code>. Where should I put <code>message_model_constants.php</code> and is there a way to have it automatically included by the controller that loads <code>message_model</code> when <code>message_model</code> is not (and I don't want it to be) auto-loaded.</p>\n\n<p>Edit 2:</p>\n\n<p><strong>I really don't want to have the constants auto-loaded except for when I use the model</strong></p>\n"},{"tags":["mvc","telerik-mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":297,"score":0,"question_id":12000034,"title":"Telerik MVC DropDownList OnChange event fires for all the actions in the telerik mvc window","body":"<p>**Dear Friends,\nIn my telerik mvc window, I am loading a telerik mvc dropdownlist based on another telerik mvc dropdownlist onchange event (It works fine). But what ever the action I do telerik mvc window the onchange event of the dropdownlist is firing.</p>\n\n<p>Based on this dropdownlist change I am loading another dropdownlist,**</p>\n\n<pre><code>@(Html.Telerik().DropDownListFor(m =&gt; m.VLC_COST_GEN)\n\n .Placeholder(\"Select General Cost..\")\n\n .ClientEvents(events =&gt; events\n\n .OnLoad(\"Areas.APUIAdmin.CostCodes.loadGeneralCost\")\n\n .OnChange(\"Areas.APUIAdmin.CostCodes.loadCostCategoryOnGeneralChange\"))\n\n .HtmlAttributes(new { style = \"width:70%\" })\n</code></pre>\n\n<p><strong>JS Code I have used to load the another dropdownlist on change,</strong></p>\n\n<pre><code>loadCostCategoryOnGeneralChange: function (e) {     \n    $.getJSON(\"/APUIAdmin/CostCodes/GetReferenceDataOnChnage?strDomian=VLC_COST_CAT\" + \"&amp;strHighVal=\" + e.value, function (data) {\n\n        $(\"#VLC_COST_CAT\").data(\"tDropDownList\").dataBind(data);\n\n        $(\"#VLC_COST_CAT\").data(\"tDropDownList\").select(0);\n\n    });\n\n}\n</code></pre>\n\n<p><strong>The second dropdownlist which I am loading in the onchange of first one,</strong></p>\n\n<pre><code>    @(Html.Telerik().DropDownListFor(m =&gt; m.VLC_COST_CAT)\n\n     .Placeholder(\"Select Cost Category\")\n\n     .BindTo(new SelectList(Starnet.Web.AP.UIAdmin.ReferencedData.GetReferenceData(\"VLC_COST_CAT\", Model.VLC_COST_GEN), \"RV_LOW_VALUE\", \"RV_MEANING\"))  \n\n\n\n.ClientEvents(events =&gt; events\n\n.OnChange(\"Areas.APUIAdmin.CostCodes.loadServiceTypeOnCategoryChange\"))\n\n.HtmlAttributes(new { style = \"width:70%\" })\n\n )\n\n }\n</code></pre>\n"},{"tags":["php","html","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":116,"score":0,"question_id":12011933,"title":"Minimising PHP logic in the View of an MVC","body":"<p>I have some html code with some php variables in it which describes the content of a single entry in my search results(e.g. picture, name, number of mutual friends etc) - this is referred to as search_results_v.php in my code below.  I have an array which contains several records from a database, and for each one of these I make a search result entry.  The way I have structured my program is an MVC, so the html code is the view and I have a php controller.  </p>\n\n<p>However I have a template for my website and would like to include my search results in this template.  This could be solved easily by calling my controller in the appropriate part of this webpage, but I want to make my application so that the controller controls everything!  In the case I just mentioned the view was calling the controller, but I want to have a setup like I have below, where I simply \"include\" the webpage in my controller.  </p>\n\n<p><strong>How can I render my search results in the webpage while minimising the amount of php logic in it?  One way I was considering doing this was to store all of the html code for all of the search results in a php string variable, and then just make a reference to this variable in my webpage.  How could store the html code in that variable?</strong></p>\n\n<pre><code>// Generates my search result box - Fill in the profile picture, the name and the number of mutual friends\n\n    foreach ($resultsInfo as $entry) {\n        $uid      = $entry['uid'];\n        $pic_link = $entry['pic_square'];\n        $name     = $entry['name'];\n        $mfCount  = $entry['mutual_friend_count'];\n        include('searchresults_v.php');\n    }\n</code></pre>\n\n<p>EDIT:  Ok, maybe what I was going for isn't an MVC exactly.  I was trying to separate out the actual backend coding from the interface as much as I could so that someone far more adept could come in and design an interface.  I basically wanted to generate all the dynamic data and just have some placeholders in my html files so that the content could just slip in.  I didn't want there to be any logic in there to confuse someone who may only have experience with web design.</p>\n\n<p>Let me know what I should change my title to.</p>\n"},{"tags":["mvc","cakephp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12012362,"title":"send sms - component or datasource","body":"<p>I want to send SMS via a SOAP connection (SMS Provider gives me a <code>WSDL</code> to send and receive sms)</p>\n\n<p>According to MVC and CakePHP, should I use a component or a datasource (+model)?</p>\n"},{"tags":["vb.net","mvc","extension-methods"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12015048,"title":"MVC Extension Method Being Loaded Twice","body":"<p>Here is my extension method:</p>\n\n<p><code>Public Module HtmlExtensions\n    System.Runtime.CompilerServices.Extension \n    Public Function ReverseMapPath(ByVal html As HtmlHelper, ByVal path As String) As String\n    Dim appPath = HttpContext.Current.Server.MapPath(\"~\")\n    Dim res As String = String.Format(\"{0}\", path.Replace(appPath, \"/\").Replace(\"\\\", \"/\"))\n    Return res\n    End Function\n    End Module</code>\nMy web.config has an entry for my namespace</p>\n\n<p>Everything was working just fine.  I started adding more code to the project and now I get an error that looks like I am loading the extension method twice but I cannot figure out why.  The error is:\n<code>path.page.vbhtml(9): error BC30521: Overload resolution failed because no accessible 'FunctionName' is most specific for these arguments:\n    Extension method 'Public Function FunctionName(path As String) As String' defined in 'namespace.Extensions.HtmlExtensions': Not most specific.\n    Extension method 'Public Function FunctionName((path As String) As String' defined in 'namespace.Extensions.HtmlExtensions': Not most specific.\n</code></p>\n\n<p>I don't understand why this has just crept up.  Clearly I changed something but undoing everything doesn't help.  The error seems more behind the .net framework.  Any ideas?</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":11996583,"title":"Rails MVC concept in practice","body":"<p>I am not actually asking a question but rather an suggestion(or recommendation) on how to write code to fit nicely into Rails MVC pattern. Hope rails veteran or anyone familiar with MVC can give me some feedbacks. </p>\n\n<p>I have an web app that talks to a RESTful api app via ActiveResource. It can fetch and update contents using API calls. It works perfectly. However, the web app does not have any models. The way it works is when user triggers an action(index,view,edit etc), the controller will directly call the REST api to fetch/update data. </p>\n\n<p>My question is: <strong>Is it a good practice to do it this way or should I create models and populate data in there instead of directly calling the api?</strong> I was wondering if it is just a pragmatic compromise to MVC. I have just started working with Rails(and MVC) so I am open to any ideas, comments or recommendations on this</p>\n"},{"tags":["objective-c","mvc","uiviewcontroller"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12013878,"title":"Why can't I store a UIViewController in an NSMutableDictionary?","body":"<p>I'm learning Objective-C, and I'm currently trying to make transitions between view controllers works for iOS4/iOS5 devices (I'll do the same iOS5 only with storyboards after).</p>\n\n<p>As I understood it, you instantiate only once you ViewControllers &amp; you use <code>viewDidUnload</code> to release memory when the <code>viewController.view</code> is out of screen.</p>\n\n<p>Examples I found did instantiate the next view controller in the method called when the buttonIsClicked. But let's say I want to go back &amp; forth, I'm pretty sure this is not the right way (ie. if I want to keep form values, etc.).</p>\n\n<p>So I gave all my viewControllers to my appDelegate, and then I wanted to store them inside a nice contained NSMutableDictionnary so that I could retreive one instance easily using :</p>\n\n<pre><code>AppDelegate *appDelegate = [UIApplication sharedApplication].delegate;\nUIViewController *next = [appDelegate.controllers objectForKey:@\"RegisterViewController\"];\n</code></pre>\n\n<p>But... It does break everything (getting blank views).</p>\n\n<p>I'd love to understand why.</p>\n\n<hr>\n\n<p>This won't work :</p>\n\n<pre><code>[self.controllers setObject:[[LoginViewController alloc] initWithNibName:@\"LoginViewController_iPhone\" bundle:nil] forKey:@\"LoginViewController\"];\n[self.controllers setObject:[[RegisterViewController alloc] initWithNibName:@\"RegisterViewController_iPhone\" bundle:nil] forKey:@\"RegisterViewController\"];\n\nself.window.rootViewController = [self.controllers objectForKey:@\"LoginViewController\"];\n[self.window makeKeyAndVisible];\n</code></pre>\n\n<p>But this will :</p>\n\n<pre><code>UIViewController *loginViewController = [[LoginViewController alloc] initWithNibName:@\"LoginViewController_iPhone\" bundle:nil];\n[self.controllers setObject:loginViewController forKey:@\"LoginViewController\"];\n[self.controllers setObject:[[RegisterViewController alloc] initWithNibName:@\"RegisterViewController_iPhone\" bundle:nil] forKey:@\"RegisterViewController\"];\n\nself.window.rootViewController = loginViewController;\n[self.window makeKeyAndVisible];\n</code></pre>\n"},{"tags":["php","mvc","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":963,"score":0,"question_id":10186563,"title":"Yii Models: Using dynamic table name in a Yii model","body":"<p>I have a Yii model that will be using (later) multiple databases and the table prefix will be based on a code.</p>\n\n<p>For example:</p>\n\n<p>AMI_tablename, BMI_ AMI_tablename etc</p>\n\n<p>These all tables are same but in different databases.</p>\n\n<p>I want to know how could I provide the dynamic table name to Yii model at run time? </p>\n\n<p>I tried to using a setter function but the parent class CActiveRecord gives an error as it does not get the value from the child model class.</p>\n\n<p>so here is my model code (only the part I have problem)</p>\n\n<pre><code>class RevShareModel extends CActiveRecord\n{\n\n    public $prefix;\n\n    public static function model($className=__CLASS__)\n    {\n        return parent::model($className);\n    }\n\n    /**\n     * @return string the associated database table name\n     */\n    public function tableName()\n    {\n        return $this-&gt;prefix . '_revshare_model';\n    }\n</code></pre>\n\n<p>now somewhere in my controller</p>\n\n<pre><code>$obj = RevShareModel::model();\n$obj-&gt;prefix =\"BMI\";\n$obj-&gt;tableName();\n$obj-&gt;findByPk(1);\n\nexit;\n</code></pre>\n\n<p>But what I get the error is:</p>\n\n<pre><code>CDbException\n\nThe table \"_revshare_model\" for active record class \"RevShareModel\" cannot be found in the database.\n\nC:\\wamp\\www\\framework\\db\\ar\\CActiveRecord.php(2264)\n</code></pre>\n\n<p>seems like when tableName() method is called by CActiveRecord it does not get $prefix.</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12011729,"title":"Rails MVC: Combine data from two models","body":"<p>I'm looking at statistics on \"Cars\" &amp; \"Trucks.\"  I have a model for each which tidies up the raw data and returns it in a common format.</p>\n\n<p>Then in the view I have a single \"Vehicles\" chart which integrates data from the two sources.</p>\n\n<p>Where in my application should this integration happen?</p>\n\n<ul>\n<li>In the Vehicles controller?</li>\n<li>In some kind of read-only Vehicles model not backed by a database table?</li>\n<li>In lib?</li>\n<li>...?</li>\n</ul>\n"},{"tags":["mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12009837,"title":"MVC quandaries, should this go in view or controller?","body":"<p>I'm new to MVC and was wondering what the best practice would be for where to place a certain piece of code, either controller or view (or even model if I'm way off).</p>\n\n<p>Currently the application retrieves information from the database, one column is \"type\". Then based on the type, there is a switch statement that prepares the html tags to be displayed in the view.</p>\n\n<p>Something like:</p>\n\n<pre><code>    foreach ($data as &amp;$dataPoint)\n    {\n        foreach ($dataPoint as &amp;$postItem)\n        {\n            switch ($postItem['type'])\n            {\n                case \"image\":\n                    $postItem['content'] = \"&lt;img src=\\.$postItem['content'].\"\\\" /&gt;\";\n                    break;\n                case \"youtube\":\n                    $postItem['content'] = \"&lt;iframe src=\\\"http://www.youtube.com/embed/\".$postItem['content'].\"?showinfo=0\\\" frameborder=\\\"0\\\"&gt;&lt;/iframe&gt;\";\n                    break;\n            }\n        }\n    }\n</code></pre>\n\n<p>But I'm just lost as to where this should go, should it be directly in the controller, before it's passed on to the view? Or should it be placed on the top of a view file?</p>\n\n<p>Any insight to MVC theory and design would be greatly appreciated as well :)</p>\n"},{"tags":["mvc","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12010715,"title":"cakephp default.ctp which controller?","body":"<p>I have a site developed in cakephp 2 and I want that into my default.ctp there is a menu with some elements taked from the database.\nHow can I change the elements which controller I have to use? Where I have to put my query? Because if I was into a model is easy but into the default.ctp? How can I do that?\nHere is my default.ctp:</p>\n\n<pre><code>&lt;body&gt;\n        &lt;div class=\"content\"&gt;\n            &lt;div id=\"navigation\"&gt;\n                &lt;ul&gt;\n\n\n                    &lt;?php\n                        if (!empty($authUser)) {\n                        ?&gt;\n                        &lt;li&gt;&lt;?php echo $this-&gt;Html-&gt;link('I want to change this',   array('controller' =&gt; 'ingredients',    'action' =&gt; 'index')); ?&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;?php echo $this-&gt;Html-&gt;link('I want to change this',       array('controller' =&gt; 'brands',         'action' =&gt; 'index')); ?&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;?php echo $this-&gt;Html-&gt;link('I want to change this',   array('controller' =&gt; 'manufacturers',  'action' =&gt; 'index')); ?&gt;&lt;/li&gt;\n                    &lt;?php\n                            // $is_logged from UsersController-&gt;beforeFilter\n                            echo $this-&gt;element ('header_menu_logged');\n                        } else {\n                            ?&gt;\n                            &lt;li&gt;&lt;?php echo $this-&gt;Html-&gt;link('Competizioni',        array('controller' =&gt; 'brands',         'action' =&gt; 'index')); ?&gt;&lt;/li&gt;\n                            &lt;li&gt;&lt;?php echo $this-&gt;Html-&gt;link('Cerca',   array('controller' =&gt; 'manufacturers',  'action' =&gt; 'index')); ?&gt;&lt;/li&gt;\n                            &lt;?php\n                            // $current_model\n                            echo $this-&gt;element ('header_menu', array('selected' =&gt; 'Pippo'));\n                        }\n                    ?&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n            &lt;div class=\"page\"&gt;\n                &lt;?php\n                // messaggi di stato per le azioni\n\n                if (empty($flash_element)) {\n                    $flash_element = $this-&gt;Session-&gt;read('flash_element');\n                    if (empty($flash_element)) {\n                        $flash_element = 'default';\n                    }\n                }\n\n                // echo '&gt;'.$flash_element.'&lt;';\n\n                $auth_msg = $this-&gt;Session-&gt;flash('auth', array ('element' =&gt; 'flash_'.$flash_element));\n                $flash_msg = $this-&gt;Session-&gt;flash('flash', array ('element' =&gt; 'flash_'.$flash_element));\n\n                if (!empty($auth_msg)) {\n                    echo $auth_msg;\n                }\n\n                if (!empty($flash_msg)) {\n                    echo $flash_msg;\n                }\n                ?&gt;\n\n                &lt;section&gt;&lt;!--class=\"contents\"--&gt;\n                &lt;?php echo $content_for_layout; ?&gt;\n                &lt;/section&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n</code></pre>\n"},{"tags":[".net","mvc","views","models"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":229,"score":0,"question_id":12007145,"title":"Saving Multiple Models from a Single View in .Net MVC 4","body":"<p>I am writing an application for storing school course data and I need to save 2 related models in a single view in .Net MVC, however I can't get my head around how this should be put together.</p>\n\n<p>I have 2 models, Subjects and Classes, one subject can have many classes. In my view I want to allow the user to enter details for a new subject and also assign classes to that subject in a single form submit.</p>\n\n<p>Example:<br>\nSubject Name<br>\nSubject Lead Teacher Name  </p>\n\n<p>(the fields below may be recursive if there are many classes for a single subject)<br>\nClass Name<br>\nClass Start Time<br>\nClass Teacher Name</p>\n\n<p>The user would come along and enter the subject name and subject lead teacher name, followed by enter a new class name, start time and class teacher name, once they have done this they would submit the form and I need to save Subject Name and Subject Lead Teacher Name to the Subjects model and Class Name, Class Start Time and Class Teacher Name to the Classes.</p>\n\n<ol>\n<li>How do I go about creating the form fields in a single view for 2 models?</li>\n<li>How do I take the submitted data and save it back to 2 separate models?</li>\n</ol>\n\n<p>If anyone can help me with this and provide some sample code that would be awesome as I am lost at the moment!</p>\n"},{"tags":["asp.net-mvc-3","security","mvc","xss"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":83,"score":-3,"question_id":12010307,"title":"security of MVC3 application","body":"<p>I am currently working on an Asp.Net MVC3 project for a front end eCommerce site. I am doing some research in to security of the controller actions, in particular XSS etc. Could anyone point me to some relevant articles and/or blog posts that would assist me with securing my application?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","eval","controllers"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12007802,"title":"Rails: Using Eval to call another action","body":"<p>I know calling other actions from the controller isn't approved, but code I've got is using eval() to do exactly that.</p>\n\n<pre><code>  if @payment.save\n    eval(\"pay_with_#{params[:method]}\")\n  end \n</code></pre>\n\n<p>the method parameter is set (its value is realex) and the payment is saving, yet the pay_with_realex function isn't being called. Is this presumably to do with eval()??</p>\n\n<p>What would you suggest as an alternative?</p>\n"},{"tags":["asp.net-mvc","mvc","routing","routes","short-url"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":265,"score":2,"question_id":9511054,"title":"How do I do Short URLs in MVC?","body":"<p>Suppose I want to publish (like in paper catalogs) some \"short URLs\" that are easy to type/remember, but I want them to redirect to a verbose, SEO-friendly URL.  How do I accomplish that with MVC routes?</p>\n\n<p>Example: </p>\n\n<blockquote>\n  <p><a href=\"http://mysite.com/disney\" rel=\"nofollow\">http://mysite.com/disney</a></p>\n</blockquote>\n\n<p>becomes </p>\n\n<blockquote>\n  <p><a href=\"http://mysite.com/travel/planning-your-disney-vacation\" rel=\"nofollow\">http://mysite.com/travel/planning-your-disney-vacation</a> (with \"travel\" as the Controller)</p>\n</blockquote>\n\n<p>The things I've tried:</p>\n\n<ol>\n<li><p>Just setup a route for it. <strong>Problem:</strong> the URL doesn't change in the browser (it stays \"/disney\".</p></li>\n<li><p>Use NuGet package RouteMagic (see <a href=\"http://haacked.com/archive/2011/02/02/redirecting-routes-to-maintain-persistent-urls.aspx\" rel=\"nofollow\">Haacked's article</a>).  <strong>Problem:</strong> I get an error: The RouteData must contain an item named 'controller' with a non-empty string value.  I think this is because I don't have a static word before my controller (\"travel\") like he did (with \"foo\" and \"bar\")???</p></li>\n<li>Use a redirect module (like <a href=\"http://blog.abodit.com/2010/04/a-simple-redirect-route-handler-for-asp-net-3-5-routing/\" rel=\"nofollow\">Ian Mercer's</a>). <strong>Problem:</strong> the route matches on my HTML.ActionLinks when creating URLs which I don't want (Haacked mentions this in his article and says that's why he has GetVirtualPath return NULL ...?)</li>\n</ol>\n\n<p>I'm out of ideas, so any would be appreciated!\nThanks!</p>\n"},{"tags":["ajax","asp.net-mvc-3","mvc","razor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12008899,"title":"create ajax actionlink with html elements in the link text","body":"<p>I would like to convert a link to an ajax action link.  I can't figure out how to display html elements within the link text?  </p>\n\n<p>Here is the original link:</p>\n\n<pre><code>&lt;a href=\"#onpageanchor\" id=\"myId\" class=\"myClass\" title=\"My Title.\"&gt;&lt;i class=\"icon\"&gt;&lt;/i&gt;Click Me&lt;/a&gt;\n</code></pre>\n\n<p>Here is the ajax actionlink:</p>\n\n<pre><code>@Ajax.ActionLink(\"&lt;i class='icon'&gt;&lt;/i&gt;Click Me\", \"MyActionMethod\", new { id = \"testId\" },\n                        new AjaxOptions\n                        {\n                            UpdateTargetId = \"mytargetid\"\n                        }, new\n                        {\n                            id = \"myId\",\n                            @class = \"myClass\",\n                            title=\"My Title.\"\n                        })\n</code></pre>\n\n<p>the link text rendered is the actual string: <code>\"&lt;i class='icon'&gt;&lt;/i&gt;Click Me&lt;/a&gt;\"</code></p>\n"},{"tags":["php","mvc","comments"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12006980,"title":"Good way to document controller actions in PHPDoc?","body":"<p>I'm trying to figure out a good way to document controller actions in a php mvc framework. It's really important to me that there is a way to stick the url for the action in there, my problem is that I cant seem to find a way to fit that into the schema for phpdoc.</p>\n"},{"tags":["jquery","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":11996352,"title":"MVC - passing values from javascript to View render","body":"<p>I hope you can help me with this.</p>\n\n<p>I need to do the following but I dont know if its possible.</p>\n\n<p>On my view I have a function that receives one parameter. That value already exists in a texbox field but I don't know how to send it to my function.</p>\n\n<pre><code> &lt;% Permissions TV = new Permissions();  %&gt;            \n &lt;%: Html.TreeViewAsUnorderedList(TV.GetPermissionsItems((int?)document.getElementById('txtPerfil').value  ))%&gt;  \n\n &lt;%: Html.TextBox(\"txtPerfil\",\"\" , new { disabled = \"true\", style = \"width:20px\", id = \"txtPerfil\"  })%&gt;\n</code></pre>\n\n<p>Regards,</p>\n"},{"tags":["javascript","jquery","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":11999926,"title":"Error in getting action parameter in MVC controller from javascript","body":"<p>I need to pass values from javascript to my controller action.</p>\n\n<pre><code> $.getJSON('/gallery/PublishImage', { imageid: itemsarray }, function (mydata) {\n\n    });\n</code></pre>\n\n<p>In javascript, it have a value. At the controller, it is null</p>\n\n<pre><code> public ActionResult PublishImage(string imageid)\n    {\n        var mydata = imageid;\n        return Json(mydata,JsonRequestBehavior.AllowGet);\n\n    }\n</code></pre>\n\n<p>how to resolve this.</p>\n\n<p>my entire code is:</p>\n\n<pre><code>function publish() {\n    debugger;\n\n    var $trash = $(\"#trash li\");\n    var itemsarray = [];\n\n\n    var lis = document.getElementById(\"trash\").getElementsByTagName(\"li\");\n    for (var i = 0; i &lt; lis.length; i++) {\n        var item = lis[i].children[0].id;\n        itemsarray.push(item);\n    }\n\n\n    $.getJSON('@Url.Action(\"PublishImage\")', { imageids: itemsarray }, function (mydata) {\n\n\n    });\n</code></pre>\n\n<p>in controller</p>\n\n<pre><code>public ActionResult PublishImage(string[] imageids)\n    {\n        var mydata = imageids;\n        return Json(mydata,JsonRequestBehavior.AllowGet);\n\n    }\n</code></pre>\n\n<p>for testig  used string. but in the above code also return null.\nis any thing am missed?</p>\n"},{"tags":["php","mvc","cakephp","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":334,"score":0,"question_id":9483790,"title":"\"Action not defined in AppController\" error when accessing a different controller with default route","body":"<p>I'm super new to CakePHP so I have a feeling that I'm probably just doing something silly, but I've been stuck on a problem:</p>\n\n<p>Following the tutorials, I created a controller called UsersController in cakephp/app/Controller/UsersController.php, and a model in cakephp/app/Model/User.php that corresponds to a users table in my database.  (Also created a view)  From what I understand, the default route to this should be: </p>\n\n<blockquote>\n  <p>mysite.com/cakephp/app/users</p>\n</blockquote>\n\n<p>However, when I go to that URL, I get the error </p>\n\n<blockquote>\n  <p>The action <em>users</em> is not defined in controller <em>AppController</em></p>\n</blockquote>\n\n<p>If I add this to AppController...:</p>\n\n<pre><code>public function users(){\n    $this-&gt;redirect(array('controller' =&gt; 'users', 'action' =&gt; 'index'));\n}\n</code></pre>\n\n<p>...it will go to the right controller and everything is dandy, but I know that isn't the way it's supposed to work.  Any idea what I might be doing wrong here? </p>\n"},{"tags":["php","mvc","codeigniter","helpers"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1780,"score":0,"question_id":4529327,"title":"Codeigniter: user defined helper function does not load","body":"<p>I made a custom helper extending the system string_helper.php.</p>\n\n<p>I placed it in my <code>/application/helpers</code> directory, called it <code>MY_string_helper.php</code> as required, unit-tested its functions.</p>\n\n<p>Now, when I try to call one of its functions from a model, it does not work.</p>\n\n<p>The functions in the default string helper work, instead. It looks like my extension is not loaded for some reasons.</p>\n\n<p>Thanks a lot, and happy holidays.</p>\n\n<hr>\n\n<p>Edit: even funnier. I saved the file as <code>categories_helper.php</code> in the <code>system/helpers</code> directory, and when I try to load it within a model i got the following response: *Unable to load the requested file: helpers/categories_helper.php*</p>\n"},{"tags":["java","mvc","observable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":11984753,"title":"How to observe multiple data of same class in Java observable (MVC)?","body":"<p>Here's 2 option that i thought of.</p>\n\n<ol>\n<li><p>Have multiple models each representing one class. If i have 2 int\nobject, i need to create 2 observable and have view checking which\nobservable is changed.</p></li>\n<li><p>In a single observable (model), group multiple object of the same\nclass into Array. In view i will have to iterate the array and\nchange all fields containing all data in the array.</p></li>\n</ol>\n\n<p>I am starting to learn how to implement MVC pattern, using java observable and observer. I find the 2 methods which i have mentioned is not the best solution. Hope can get some help on this.</p>\n\n<p><strong>Edit:</strong>\nExample, i have the following methods in observable class, can someone show me how to write the update() in observer to get the value of int b?</p>\n\n<pre><code>public void setIntA(int a){\n     this.intA = a;\n     setChanged();\n     notifyObservers(a);\n}\npublic void setIntB(int b){\n     this.intB = b;\n     setChanged();\n     notifyObservers(b);\n}\nsetIntA(5);\nsetIntB(3);\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","mvc","data","charts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":11994985,"title":"Rails passing data from controller to javascript","body":"<p>I have a Rails app with a model name <code>Product</code> that has attribute <code>price</code></p>\n\n<pre><code>def index\n  @products = Product.all\n</code></pre>\n\n<p>I want to draw a chart with <code>x-axis</code> is the product id and <code>y-axis</code> is the product price. I pass an array from the controller to the <code>app/assets/javascripts/products.js.coffee</code>. The array is \n<code>[[product1.id, product1.price],\n  [product2.id, product2.price],\n  [product3.id, product3.price]]</code></p>\n\n<p>I use <code>gon gem</code> to help me pass the data. Here is how I change the controller:</p>\n\n<pre><code>def index\n @products = Product.all\n gon.prices = []\n @products.each do |x|\n   gon.prices.append([x.id, x.price])\n end\nend\n</code></pre>\n\n<p>This <code>gon.prices</code> will be available in the <code>app/assets/javascripts/products.js.coffee</code>, thanks to <code>gon gem</code>. </p>\n\n<p>My problem is that it seems not to be a good practice to create an array of array inside controller. My question is: Is there anyway I can pass the entire <code>@products</code> to javascript and extract the array inside the javascript instead of inside the controller? So I can do <code>gon.products = @products</code></p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":11993850,"title":"reseting a collection on change model event?","body":"<p>I have this backbone script, which has a single view and a model acting as a controller, and a collection where data is being fetched from the server <code>url: '/search/:term'</code> .</p>\n\n<pre><code>    var Items = Backbone.Collection.extend({\n          initialize: function(terms){\n            this.fetch();\n        }\n          url: 'search/:term'\n    });\n\n   var Controller = Backbone.Model.extend({\n       defaults:{\n        term: \"\"\n     },\n      initialize: function(opts){\n\n        this.on('change:term', function(term){\n            console.log(this.get(\"term\"));\n          // every time term changes i want to refresh the collection with the new data\n          // so it will fetch data from url:'search/ + term'\n        });\n</code></pre>\n\n<p>could someone help me with this thank you.\n          }\n       });</p>\n"},{"tags":["c#","xml","winforms","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":11989197,"title":"Load Array values values from Controller: MVC WInforms","body":"<p>I'm working on the MVC Pattern Winforms example project from <a href=\"http://www.codeproject.com/Articles/383153/The-Model-View-Controller-MVC-Pattern-with-Csharp\" rel=\"nofollow\">this website</a></p>\n\n<p>Program.cs</p>\n\n<pre><code>static void Main()\n        {\n\n            UserView view = new UserView();\n            view.Visible = false;\n\n            UserController controller =  new UserController(view, listLoad());\n            controller.LoadView();\n            view.ShowDialog();\n        }\n\n private static IList listLoad()\n        {\n            var users = new ArrayList();\n            users.Add(new User(\"Vladimir\", \"Putin\", \"122\", \"Government of Russia\", User.SexOfPerson.Male));\n\n            return users;\n        }\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/HFa7f.jpg\" alt=\"enter image description here\"></p>\n\n<pre><code> public  void SaveXML()\n        {\n            XmlSerializer serializer = new XmlSerializer(_users.GetType());\n\n            using (FileStream fileStream = new FileStream(@\"C:\\test\\Users.xml\", FileMode.Create))\n            {\n                serializer.Serialize(fileStream, _users);\n            }\n        }\n</code></pre>\n\n<p>What is the problem with the above code?</p>\n\n<p><em>Question 1</em>: How can i add the user values from the controller instead of loading from the program.cs file <code>IList users = new ArrayList();</code> ?</p>\n\n<p><em>Question 2</em>: I want to save all the rows of the list into a XML file, what is the best of way do it ??</p>\n"},{"tags":["php","mvc","domain-object"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":11993847,"title":"How to validate domain object data before database operations?","body":"<p>I'll use an abstract (and simple) example to illustrate the question: <code>CarDomainObject</code>, as follows: (example mysql data types are listed beside the members)</p>\n\n<pre><code>class carDomainObject extends DomainObjectAbstract {\n\n    public $uid;                //int\n    public $make;               //varchar\n    public $model;              //varchar\n    public $productionDate;     //timestamp\n    public $doors;              //tinyint\n\n}\n</code></pre>\n\n<p>\n\n<pre><code>class DomainObjectAbstract {\n\n    public function setData(array $data=array())\n    {\n        foreach ($data as $key =&gt; $value)\n        {\n            if ( ! empty($key))\n            {\n               $this-&gt;$key = $value;\n            }\n        }\n    }\n\n    //if $val is not passed, checks for ANY set value,\n    //  else checks that $this-&gt;$val is set (dirty)\n    public function isDirty($val=false)\n    {\n        foreach(get_object_vars($this) as $key =&gt; $property)\n        {\n            if( ! is_null($property) &amp;&amp; ( ! $val || $key == $val))\n            {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>Say that we want to insert a new car into the database, so we set some values:</p>\n\n<pre><code>$carDomainObject-&gt;setData(array('make' =&gt; 'ford', 'model' =&gt; 'taurus'));\n</code></pre>\n\n<p>Now the values that aren't set will still be <code>NULL</code>, which works well for the <code>isDirty()</code> method. What this schema doesn't work for is when inserting an object (that's been initialized like above, with only certain values) into the database, where <code>NULL</code> might not be a valid value for the column.</p>\n\n<p><strong>So, my question is:</strong> How can we validate that each of the data pieces within the domain object is ready for DB insertion? The way I see it there's a few options:</p>\n\n<ol>\n<li><p>If we use default values for the member variables (<code>0</code> for an int, <code>''</code> for a varchar, etc), then <code>isDirty()</code> becomes more complex, because a null check wouldn't be sufficient. However, checking that the data is able to be inserted becomes trivial because the default values could be inserted without issue </p></li>\n<li><p>If we stick with <code>NULL</code> as the default values, then <code>isDirty()</code> stays fairly trivial, but ensuring the data is ready for the DB becomes complex.</p></li>\n<li><p>Validate each variable individually, which would get ugly very quickly depending on the DO.</p></li>\n<li><p>Use default values within MySQL - Not really an option for me, but a valid option in general</p></li>\n</ol>\n"},{"tags":["java","oop","mvc","class","instance"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":101,"score":2,"question_id":11987123,"title":"How to get specific instance of class from another class in Java?","body":"<p>I've created the following <code>class</code> with the <code>main</code> method, which creates new instance of <code>Application</code> and instances of <code>ApplicationModel</code>, <code>ApplicationView</code> and <code>ApplicationController</code> for this particular <code>Application</code>.</p>\n\n<pre><code>public class Application\n{\n\n    // Variables\n\n    private ApplicationSettings         settings;\n    private ApplicationModel            model;\n    private ApplicationView             view;\n    private ApplicationController       controller;\n\n    // Constructor\n\n    public Application()\n    {\n        settings        = new ApplicationSettings();\n        model           = new ApplicationModel();\n        view            = new ApplicationView(model);\n        controller      = new ApplicationController();\n    }\n\n    // Main method\n\n    public static void main(String[] args)\n    {\n        Application application = new Application();\n    }\n\n    // Getters for settings, model, view, controller for instance of Application\n\n}\n</code></pre>\n\n<p>I know, that there will always be only one unique instance of Application.</p>\n\n<p>And I want to get this particular instance in my <code>ApplicationModel</code>, <code>ApplicationView</code> and <code>ApplicationController</code> classes.</p>\n\n<p>How it is possible?</p>\n"},{"tags":["php","mvc"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":366,"score":3,"question_id":3490085,"title":"Advantage of passing by reference opposed to using global?","body":"<p>im looking at the MVC pattern, and I can see in <a href=\"http://www.phppatterns.com/docs/design/archive/model_view_controller_pattern#the_view\" rel=\"nofollow\">one example on phppatterns</a> they're passing the model by reference -  any benefit of doing this over a global var? Am I missing something obvious?</p>\n\n<pre><code>class MyView extends View {\n  var $model; \n\n  function __construct(&amp;$model){\n    $this-&gt;model =&amp; $model;\n  }\n\n  function productTable($rownum=1) {\n    $rowsperpage='20';\n    $this-&gt;model-&gt;listProducts($rownum,$rowsperpage);\n    while ( $product=$this-&gt;model-&gt;getProduct() ) {\n         // Bind data to HTML\n    }\n  }\n}\n</code></pre>\n\n<p>Any reason why you would do this as apposed to using a global variable? i.e.</p>\n\n<pre><code>class MyView extends View {\n  global $model;\n\n  function __construct(){ }\n\n  function productTable($rownum=1) {\n    $rowsperpage='20';\n    $model-&gt;listProducts($rownum,$rowsperpage);\n    while ( $product=$this-&gt;model-&gt;getProduct() ) {\n         // Bind data to HTML\n   }\n}\n</code></pre>\n"},{"tags":["java","mvc","singleton","object-reference"],"answer_count":4,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":150,"score":6,"question_id":11992796,"title":"Different object references for the same(?) object","body":"<p>I have asked about getting unique instance of class from another class recently.</p>\n\n<p>( <a href=\"http://stackoverflow.com/questions/11987123/how-to-get-specific-instance-of-class-from-another-class-in-java\">How to get specific instance of class from another class in Java?</a> )</p>\n\n<p>So, I am trying to make it work:</p>\n\n<p>My <code>Application</code>:</p>\n\n<pre><code>public class Application\n{\n\n    // I will always have only one instance of Application\n\n    private static Application _application;\n\n    // Every instance of Application (one in my case) should have its own View\n\n    private View view;\n\n    // Constructor for new instance of Application\n\n    private Application()\n    {\n        view = new View();\n    }\n\n    // Getter for my unique instance of Application\n\n    public static Application getSharedApplication()\n    {\n        if (_application == null)\n            _application = new Application();\n        return _application;\n    }\n\n    // Main class\n\n    public static void main(String[] args)\n    {\n        // So I'm accessing my instance of Application\n        Application application1 = getSharedApplication();\n\n        // Here is object reference\n        System.out.println(application1);\n\n        // And now I'm accessing the same instance of Application through instance of View\n        Application application2 = application1.view.getApplication();\n\n        // Here is object reference\n        System.out.println(application2);\n    }\n\n}\n</code></pre>\n\n<p>My <code>View</code>:</p>\n\n<pre><code>public class View\n{\n\n    // I'm accessing my instance of Application again\n\n    public static Application application = Application.getSharedApplication();\n\n    // This method should return my unique instance of Application\n\n    public Application getApplication()\n    {\n        return application;\n    }\n\n}\n</code></pre>\n\n<p>The problem is that <code>main</code> method returns different object references.</p>\n\n<pre><code>Application@1430b5c\nApplication@c2a132\n</code></pre>\n\n<p>What's wrong with my code?</p>\n"},{"tags":["php","ruby-on-rails","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":11991584,"title":"php MVC concept, rails","body":"<p>I want to make clear something before i proceed with my project to prevent bad code practice.\nI developed in ruby on rail before and i want to know is it can make it the same like in PHP because im starting learning but i don't want to use the framework like Zend,Yii,etc </p>\n\n<p>For me,\nmodel is the place where data is insert to the database.</p>\n\n<p>controller is the place that find all the parameters and use the function in model to process the data into database. Besides, it also  route or redirect when the procedure is return success or failure.</p>\n\n<p>view is the place that get the instant variable that initialize in controller ,and use it to render the data in proper format.</p>\n\n<p>So,here the question for me in PHP.\nI would like to create CRUD in php.I walked through many of the article or posts(in stackoverflow&amp; others),but i got confused that some of the people saying different kind of things. </p>\n\n<p>In my mind, model is the place that only related to data insertion/query to database. So,every query for my create,show,update,delete, i will put in my model.\nhere is my example for create_user function in my model.</p>\n\n<pre><code>function create_user($firstName, $lastName,$username, $password){\n    $query = \"INSERT INTO `users` (`user_id`, `first_name`, `last_name`, `email`, `username`, `password`, `created_at`, `handphone_no`, `street_address`, `city`, `state`, `country`, `postal`, `birthday`, `company_id`)\n            VALUES (NULL, ?, ?, NULL, ?, ?, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 2)\";\n\n    if($stmt = $this-&gt;conn-&gt;prepare($query)) {\n        $stmt-&gt;bind_param('ssss', $firstName, $lastName,$username, $password);\n        $stmt-&gt;execute();\n    }\n\n} \n</code></pre>\n\n<p>So,my <strong>FIRST</strong> question: in my model, am i suppose to an object and pass to controller?? or just return true or false to indicate the success or failure of the process.</p>\n\n<p>in my user controller,</p>\n\n<pre><code>class Users_controller {\n\nprivate $user;\n\nfunction __construct(){\n    $this-&gt;user = New User();\n}\n\nfunction create($firstName, $lastName,$username, $password){\n    $this-&gt;user-&gt;create_user($firstName, $lastName,$username, $password);\n}\n}\n</code></pre>\n\n<p>my <strong>SECOND</strong> question: for my CRUD, in rails, it will either find the id of the object and show/edit it or create/destroy a new model. So, my controller here have to return an object for me to render data in view? and how am i suppose to connect my form to the controller. From my form to pass the params to the controller.</p>\n\n<p>so,right now Im thinking so far of that only, any guidance and clear example for me to understand more because Im new to php. Thanks you...</p>\n"},{"tags":["objective-c","ios","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":191,"score":0,"question_id":11992473,"title":"Present view controller displays black screen","body":"<p>I'm trying to present a view using code in Objective C, but all it comes up with is the title bar and a black screen.  This is the code I am using:</p>\n\n<pre><code>MoreByUserViewController *morebyuser = [[MoreByUserViewController alloc] initWithOwnerId:self.ImageOwner];\nUINavigationController *navController = [[UINavigationController alloc] initWithRootViewController:morebyuser];\n[self presentModalViewController:navController animated:YES];\n</code></pre>\n\n<p>I am calling this from the startup view (hereby referred to as View 1) and the view I'm trying to load will be View 2.</p>\n\n<p>I don't have View 2 included as #include or @class in View 1, do I need to?</p>\n"},{"tags":["jquery","json","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":160,"score":0,"question_id":11990811,"title":"Using MVC, JTable browser displays JSON instead of showing a Grid","body":"<p>I have issues where JSON is directly displayed in the browser instead of the Grid. i am new to JSON and ASP.NET MVC. </p>\n\n<p>The returned JSON is</p>\n\n<pre><code>{\n   \"Result\": \"OK\",\n   \"Records\": [\n      {\n         \"key\": 1,\n         \"FirstName\": \"P\",\n         \"LastName\": \"V\",\n         \"FullName\": \"PV\",\n         \"IsActive\": true,\n         \"Phone\": \"1234567892\",\n         \"Address\": \"XXXXXX\"\n      },\n      {\n         \"key\": 2,\n         \"FirstName\": \"S\",\n         \"LastName\": \"A\",\n         \"FullName\": \"SA\",\n         \"IsActive\": true,\n         \"Phone\": \"123456789\",\n         \"Address\": \"xxxxxx\"\n      }\n   ],\n   \"TotalRecordCount\": 2\n}\n</code></pre>\n\n<p>My Controller Code is </p>\n\n<p>`public JsonResult IndexJSON()\n        {\n            var allPatients = db.Patients.ToList();</p>\n\n<pre><code>        var result = from p in allPatients\n        select new[] \n           { p.FirstName, p.LastName, p.PatientFullName, p.Phone, p.Address };\n\n        try\n        {\n            return Json(new\n            {\n                Result = \"OK\", \n                Records = allPatients, \n                TotalRecordCount = allPatients.Count()\n            }\n            , JsonRequestBehavior.AllowGet);\n        }\n        catch (Exception ex)\n        {\n            return Json(new { Result = \"ERROR\", Message = ex.Message });\n        }\n    }`\n</code></pre>\n\n<p>I am using Jtable plug in for jQuery an including the JQuery1.6.2.min.js and the two otherfiles for jtable</p>\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Scripts/jquery-1.6.2.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"@Url.Content(\"~/Scripts/jtable/jquery.jtable.js\")\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"@Url.Content(\"~/Scripts/jtable/jquery.jtable.js\")\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>My browser displays json data directly and not the Grid. Please help</p>\n"},{"tags":["java","spring","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":11988158,"title":"mvc:resources mapping a specific jar file","body":"<p>I am using Spring MVC, and in the configuration I am using the following line to make some Javascript files available to my application:</p>\n\n<pre><code>&lt;mvc:resources mapping=\"/resources/**\" location=\"/,classpath:/META-INF/\" /&gt;\n</code></pre>\n\n<p>However, I am concerned that this may lead to security issues, unforeseen circumstances, etc. because every single jar on my classpath (and there are many!) that have a META-INF folder will be accessible from /resources/ to a user who is poking around.</p>\n\n<p>Is there a way to only map the location to a specific jar file. In my case, it would be Spring-JS jar located at the following location (relative to the root of my Eclipse workspace):</p>\n\n<pre><code>/Jars/spring 3.0.5/spring-js-2.0.7.RELEASE.jar\n</code></pre>\n\n<p>Any help would be appreciated. Thanks in advance.</p>\n"},{"tags":["spring","mvc","injection","autowired"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":11988677,"title":"Inject different service instance into controller","body":"<p>I have the following Controller and Service</p>\n\n<pre><code>@Controller\npublic class MyController\n{\n   @Autowired\n   private MyService myService;\n\n  @RequestMapping(method=RequestMethod.GET, value=\"/connect.do\")\n  public String connect(Model model)\n  {\n    invokeService();\n    return  \"xxx\";\n  }\n\n  private void invokeService()\n  {\n        myService.test();\n  }\n\n}\n\n\n@Service\npublic class MyService\n{\n private int value1 = 200;\n private int value2 = 333;\n private String value3 ;\n private String value4 ;\n private String value5 ;\n ....\n\n public void test()\n {\n        System.out.println(value1++);\n        foo();\n  }\n\n private void foo()\n {\n\n }\n</code></pre>\n\n<p>}</p>\n\n<p>When I use 2 browsers to connect to the application, the output is \"200\" and \"201\", which means Spring inject the same MyService instance into the controller for different connection.</p>\n\n<p>I need the output to be \"200\" and \"200\" when I use 2 different connections to access the application, because I need to share values1, values2, value3, etc between \"test()\" and \"foo()\". How to do it in Spring? Basically, I want Spring to inject different instance for different connection. I tried @Scope(\"prototype\") in Service bean and it doesn't work.</p>\n\n<p>I can make it work by using:</p>\n\n<pre><code>@Controller\npublic class MyController\n{\n    private void invokeService()\n   {\n        new MyService.test();\n   }\n}\n</code></pre>\n\n<p>I am just wondering that how to do it in Spring.</p>\n\n<p>Another way of asking this question is: How to have multiple controller instances (one for each user connection) as opposed to one controller instance serving for all connections? </p>\n\n<p>EDIT: I can see the difference of prototype (output: 200 200 200 200) and singleton (output: 200 201 202 203) by using the follow code and 2 browser connections </p>\n\n<pre><code>private void invokeService() \n{ \n  myService = applicationContext.getBean( MyService.class ); \n  new MyService.test();\n  myService = applicationContext.getBean( MyService.class ); \n  new MyService.test(); \n} \n</code></pre>\n\n<p>But when I put \"applicationContext.getBean( MyService.class )\" in postConstructor instead:</p>\n\n<pre><code>public class MyController implements ApplicationContextAware {\n\nprivate SearchService searchService;\n\n@PostConstruct\npublic void init() {\n    searchService = applicationContext.getBean( SearchService.class );\n}\n\nprotected ApplicationContext applicationContext;\n\n@Override\npublic void setApplicationContext( ApplicationContext applicationContext ) throws BeansException {\n    this.applicationContext = applicationContext;\n}\n\n}\n</code></pre>\n\n<p>and use \"@Scope(BeanDefinition.SCOPE_PROTOTYPE)\" on MyService, the output are still \"200\" and \"201\" when I use 2 browsers to connection to the application</p>\n"},{"tags":["jquery","mvc","ckeditor"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":11986883,"title":"Finding Control on CKEditor browsfile pop-up from MVC view","body":"<p>I have a problem. I am using the ckeditor plugin in my MVC application. What I need to do is that when a user click on the IMAGE BUTTON in ckeditor toolbar, a pop-up appears with few properties and a brows button. On this brows button, I am showing a custom view. In this custom view, I have images that I want to allow the user to select and the selected image url needs to be filled back in the pop on which I have the brows button.</p>\n\n<p>=>User can select 1 image at a time from custom view.</p>\n\n<p>I am able to show the custom view. Now I need some way to find the pop-up and the control into it.</p>\n\n<p>I hope I am clear, if not please let me know. Please provide some light on it.</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","controller","instantiation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":11988820,"title":"Instantiating error in Rails application","body":"<p>I am working on a Rails app, wherein I have two models, i.e. a <code>chef</code> model and a <code>dish</code> model. </p>\n\n<pre><code>class Dish &lt; ActiveRecord::Base\n  belongs_to :chef\n  attr_accessible :description, :photo, :price\n  validates :chef_id, presence: true\n  has_attached_file :photo\nend \n\nclass Chef &lt; ActiveRecord::Base\n  attr_accessible :name, :email, :mobile ,:password, :password_confirmation, :postcode\n  has_many :dishes\n  has_secure_password \nend\n</code></pre>\n\n<p>I (chef) am trying to create to a dish by going to the /upload url, whose view is </p>\n\n<pre><code>&lt;%= form_for(@dish) do |d| %&gt;  \n  &lt;%= d.label :description, \"Please name your dish...\"%&gt;\n  &lt;%= d.text_field(:description)%&gt;\n\n  &lt;%= d.label :price, \"What should the price of the dish be...\"%&gt;\n  &lt;%= d.number_field(:price)%&gt;\n\n  &lt;%= d.submit \"Submit this Dish\", class: \"btn btn-large btn-primary\"%&gt;\n&lt;% end %&gt; \n</code></pre>\n\n<p>I want the created dish to appear on the show page of the chef, </p>\n\n<pre><code>&lt;% provide(:title, @chef.name)%&gt;       \n  &lt;div class = \"row\"&gt;\n    &lt;aside class = \"span4\"&gt;\n      &lt;h1&gt;&lt;%= @chef.name %&gt;&lt;/h1&gt;\n      &lt;h2&gt;&lt;%= @chef.dishes%&gt;&lt;/h2&gt;       \n     &lt;/aside&gt;\n   &lt;div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>And, <code>dishes_controller</code> is:</p>\n\n<pre><code>class DishesController &lt; ApplicationController  \n\n  def create\n    @dish = chef.dishes.build(params[:dish])\n    if @dish.save\n      redirect_to chef_path(@chef)\n    else\n      render 'static_pages/home'\n    end\n</code></pre>\n\n<p>But as soon as I try to create a dish from the /upload url, I get the following error in the dishes_controller:</p>\n\n<pre><code>NameError undefined local variable or method `chef' for #&lt;DishesController:0x3465494&gt;   \n\napp/controllers/dishes_controller.rb:5:in `create'\n</code></pre>\n\n<p>I think I have instantiated all variables, but the problem persists. </p>\n"},{"tags":["mvc","repository-pattern","ninject"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1550,"score":1,"question_id":5600425,"title":"Ninject Singleton for MVC Data Repository","body":"<p>In my MVC3 app I have an IDataRepository interface which is referenced by all my controllers to give them access to the data layer. There's also a DataRepository class which is implements IDataRepository for a particular data source (an nHydrate-derived Entity Framework, in my case). The DataRepository class takes a single argument, which is the connection string to the underlying database.</p>\n\n<p>I've been successfully using nInject to to IoC with the controller classes using the following binding:</p>\n\n<pre><code>kernel.Bind&lt;IDataRepository&gt;()\n    .To&lt;DataRepository&gt;()\n    .WithConstructorArgument(\"connectionString\", DataRepositoryBase.GetConnectionString());\n</code></pre>\n\n<p>Today I read about nInject scoping, and I thought it would be useful to arrange things so that only one instance of DatabaseRepository got created for each request (I'm thinking this will be more efficient, although with EF I'm not sure). </p>\n\n<p>Unfortunately, I can't seem to figure out how to implement the pattern correctly. For example, this doesn't work:</p>\n\n<pre><code>kernel.Bind&lt;DataRepository&gt;()\n    .ToSelf()\n    .InRequestScope()\n    .WithConstructorArgument(\"connectionString\", DataRepositoryBase.GetConnectionString());\n\nkernel.Bind&lt;IDataRepository&gt;()\n    .To&lt;DataRepository&gt;();\n</code></pre>\n\n<p>My thinking was that this would create just a single instance of DataRepository, which would be used in all references to IDataRepository. The error message complained that no match could be found for the connectionString parameter, and DataRepository was not self-bindable. I tried some variations, but when I could get it to work the singleton pattern wasn't being followed (i.e., I could see in the debugger that multiple instances of DataRepository were being created).</p>\n\n<p>I'm missing something obvious here :).</p>\n\n<p>--- Addendum ---\nUnfortunately, the suggestion doesn't prevent multiple instances from being created within the same request.</p>\n\n<p>To be clear, what I tried was:</p>\n\n<pre><code>public class BaseControllerModule : NinjectModule\n{\n    public override void Load()\n    {\n        Bind&lt;IDataRepository&gt;().To&lt;DataRepository&gt;().InRequestScope()\n        .WithConstructorArgument(\"connectionString\", DataRepositoryBase.GetConnectionString());\n    }\n}\n</code></pre>\n\n<p>and what I was monitoring was the constructor:</p>\n\n<pre><code>public DataRepository( string connectionString )\n    : base(connectionString)\n{\n}\n</code></pre>\n\n<p>-- More info #2 --</p>\n\n<p>Here's the layout of the classes Ninject is resolving for me:</p>\n\n<pre><code>public class DataRepositoryBase\n{\n    protected DataRepositoryBase( string connectionString )\n    {}\n    public static string GetConnectionString() {}\n}\npublic class DataRepository : DataRepositoryBase, IDataRepository\n{\n    public DataRepository( string connectionString )\n        : base(connectionString)\n    {}\n}\n</code></pre>\n\n<p>I've left out the implementation details, but hopefully this paints a better picture.</p>\n\n<p>Looking this over, I wonder if I'm causing problems by making connectionString a constructor parameter for both DataRepository and its base class DataRepositoryBase. Wouldn't Ninject resolve connectionString in the call the base class constructor?</p>\n\n<p>p.s. I belatedly realized I don't need DataRepositoryBase, because its functionality can be merged into DataRepository. I've done that, but I'm still having the constructor for DataRepository called multiple times in what appears to be one request.</p>\n\n<p>p2.s. For fun, I tried declaring InSingletonScope() in the Ninject binding definition. That worked -- the constructor for DataRepository now only gets called once, when the app is first accessed. But I don't think it's a good idea to have singletons in an MVC app. It seems like that would cause the \"state\" of the app to get \"locked\" in memory.</p>\n\n<p>--- yet more info ---</p>\n\n<p>The problem seems to be with the way I've designed my MVC app. What I assumed was a single request from the browser back to the server often results in multiple requests being processed in sequence (I'm watching the BeginRequest event being fired in the MvcApplication class). It seems like every time I transition to a different controller a new request is being generated (e.g., via a RedirectToAction). I guess this makes sense, but it means Ninject's InRequestScope won't quite do what I want.</p>\n\n<p>But it also makes me wonder if I've just designed the app wrong. It seems like I should be grouping all of the action methods that might get invoked on a browser call into a single controller. Instead, I've organized the action methods by how they fit into the conceptual model for my app.</p>\n"},{"tags":["c#","linq","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":11986927,"title":"Explicit conversion when comparing database values","body":"<p>I'm trying to select a row in my database by its ID and then select all rows that have a \"Position\" value higher than the row selected by ID, like this:</p>\n\n<pre><code>int id = Convert.ToInt32(Request.QueryString[\"id\"]);\nMyDataContext d = new MyDataContext\nItem itemID = d.Items.Single(row =&gt; row.ID == id);\nItem itemPos = d.Items.Select(row =&gt; row.Position &gt; itemID.Position);\n</code></pre>\n\n<p>The bottom line is saying that an explicit conversion exists but I can't seem to fix it</p>\n\n<p>Having read the answers so far, the code now looks like this:</p>\n\n<pre><code>int id = Convert.ToInt32(Request.QueryString[\"id\"]);\nMyDataContext d = new MyDataContext\nItem itemID = d.Items.Single(row =&gt; row.ID == id);\nvar itemPos = d.Items.Where(row =&gt; row.Position &gt; itemID.Position);\n</code></pre>\n\n<p>But then when I try and edit the Position of selected rows, it seems I am doing that wrong:</p>\n\n<pre><code>itemPos.Position = itemPos.Position - 1;\n</code></pre>\n\n<p>I would have expected that line to reduce the current position by 1.<br>\nI'm still new to all this</p>\n"},{"tags":["php","mvc","variables"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":163,"score":1,"question_id":10461395,"title":"php language variables outside class in mvc","body":"<p>I am trying to solve a tricky problem.</p>\n\n<p>I am creating a project, which requires more than one language. So I have created files for all the languages, with an array of the language.</p>\n\n<p>Now the problem is, I am using my own MVC system.</p>\n\n<p>Basically, in my init file, I want to include a language file, which include the correct language, that works perfectly.</p>\n\n<p>The problem appears, when I wanna show it in a view.</p>\n\n<p>When I have my controller call the view class and render the view, it is in a class, making the variables outside the class unavailable.</p>\n\n<p>I can solve this problem by including my language file, in the view renderer class, but since I sometimes need to set the variables in a model, its not working.</p>\n\n<p>Anyone have some ideas?</p>\n"},{"tags":["mvc","recaptcha","formatexception"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":11986863,"title":"FormatException with Microsoft.Web.Helpers.ReCaptcha Validate method","body":"<p>I'm having problems with the ReCaptcha validate method throwing a FormatException when trying to validate against the private key. </p>\n\n<p>This is how the code looks for the validation:</p>\n\n<blockquote>\n  <p>if (ReCaptcha.Validate(\"...private key...\")) { //do some success }\n  else { //do some fail }</p>\n</blockquote>\n\n<p>The error message actually reads:\n\"String was not recognized as a valid Boolean.\"</p>\n\n<p>I also pointed over the ReCaptcha.Validate method while debugging, and the Public Key and Private key are both set to null although in the _ViewStart.cshtml of the file I have this:</p>\n\n<blockquote>\n  <p>@{\n      Layout = \"~/Views/Shared/_Layout.cshtml\";</p>\n\n<pre><code>Microsoft.Web.Helpers.ReCaptcha.PublicKey = \"...public key...\";\nMicrosoft.Web.Helpers.ReCaptcha.PrivateKey = \"...private key...\"; }\n</code></pre>\n</blockquote>\n\n<p>I've had a look around the internet for answers but it seems that I can't find a result. I would be very grateful if anyone could help me with this problem. I would also like to point out that I am running VS2012 and this is MVC 4 (.NET 4.0)</p>\n"},{"tags":["asp.net","security","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":760,"score":1,"question_id":3052962,"title":"Restrict file types allowed for upload asp.net","body":"<p>I want to limit the allowed uploaded file types to images, pdfs, and docs.  What is the recommended way to approach this?</p>\n\n<p>I assume checking the file extension alone is not enough, since an attacker can change the file extension as he wishes.</p>\n\n<p>I also thought about checking against MIME Type using PostedFile.ContentType.</p>\n\n<p>I still don't know if this is adding any further functionality than checking against file extensions alone, and if an attacker have and ability to change this information easily.</p>\n\n<p>This is basically for a course management system for students to upload assignments and teachers to download and view them.</p>\n\n<p>Thanks.</p>\n"},{"tags":["asp.net","jquery","mvc","ready"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":3354523,"title":"jQuery ready() in asp.net mvc2 only fires on first visit","body":"<pre><code>&lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function() {\n            alert(\"Hello jQuery.\");\n        });\n&lt;/script&gt;\n</code></pre>\n\n<p>This works the first time I request /Home/Index, but if I navigate to eg /Account/Login then back to /Home/Index it doesn't work.  Doing the same thing using a webforms project works everytime.  What am I missing?  Thanks.</p>\n"},{"tags":["c#","asp.net","mvc","validation"],"answer_count":1,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":2466,"score":0,"question_id":7295385,"title":"ASP.NET MVC3 double validation (comma, point, null)","body":"<p>My controller looks like this:</p>\n\n<pre><code> public class PortefeuilleController : Controller\n    {\n            public ActionResult Create()\n            {\n                return View(new PortefeuilleViewModel{Saldo = 0.0});\n            }\n    }\n</code></pre>\n\n<p>My create view looks like this:</p>\n\n<pre><code>@model PortefeuilleViewModel\n\n@{\n    ViewBag.Title = \"Create\";\n}\n\n&lt;h2&gt;Create&lt;/h2&gt;\n\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n@using (Html.BeginForm()) {\n    @Html.ValidationSummary(true)\n    &lt;fieldset&gt;\n        &lt;legend&gt;PortefeuilleViewModel&lt;/legend&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Naam)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Naam)\n            @Html.ValidationMessageFor(model =&gt; model.Naam)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Saldo)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Saldo)\n            @Html.ValidationMessageFor(model =&gt; model.Saldo)\n        &lt;/div&gt;\n\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n</code></pre>\n\n<p>And my PortefeuilleViewModel looks like this:</p>\n\n<pre><code>public class PortefeuilleViewModel\n{\n    [DisplayName(\"Naam\")]\n    [Required(ErrorMessage = \"Gelieve een naam in te voeren\")]\n    public string Naam { get; set; }\n\n    [DisplayName(\"Saldo\")]\n    public double Saldo { get; set; }\n}\n</code></pre>\n\n<p>My problem lies with the \"Saldo\" field. I want to validate it as follows:</p>\n\n<p>Leaving the field empty should be valid (because my code-behind will change \"\" into \"0.0\" and save that value in the database). But, for example, both '19,99' and '19.99' should also be passed as being valid. All the rest is invalid.</p>\n\n<p>I don't really know how I can pull this off. I already found this article: <a href=\"http://haacked.com/archive/2011/03/19/fixing-binding-to-decimals.aspx\" rel=\"nofollow\">http://haacked.com/archive/2011/03/19/fixing-binding-to-decimals.aspx</a>\nBut that didn't solve (the second part of) my problem at all...</p>\n\n<p>Any help would be greatly appreciated. Thanks.</p>\n"},{"tags":[".net","html","mvc","razor","portable-areas"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":11985860,"title":"IE - status bar shows loading continuously","body":"<p>I have an razor MVC page - It is loaded via MVC Portable Areas.\nWhen i browse to the index action, everything loads fine, and works as expected.</p>\n\n<p>...But occasionally Internet Explorer continually shows the loading bar in the status bar. The loading never completes, but the page functionality works fine (so it must have loaded all my  resources)</p>\n\n<p>I can't replicate this in firefox, and i have checked the Net tab on firebug to look for slow loading resources, but everything looks fine.</p>\n\n<p>I want to try and cause the loading bar to stop after a set time (i know this could be masking a problem, but i can't seem to find out what is going wrong with the page!!)\nIs there a way to do this?</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":728,"score":0,"question_id":9511673,"title":"How can I see sdf file","body":"<p>I am using mvc3 to develop an database application and Followed the Code-First Tutorial using Entity Framework 4 of msdn site....\nI followed all the steps but unable to see the sdf file....\nI can perform CRUD operations but can not see the physical database file inside the app_data folder\nI also did \"Show all file\" but still it is not shown in my visual studio explorer...even my App_data folder is empty...</p>\n\n<p>Code inside the web.config file:</p>\n\n<pre><code>&lt;add name=\"Forum1Context\"\nconnectionString=\"Data Source=|DataDirectory|\\Forum.sdf\"\nproviderName=\"System.Data.SqlServerCe4.0\"/&gt;\n</code></pre>\n\n<p>Please Help me!!</p>\n"},{"tags":["mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":11985092,"title":"Zend Framework Basic Request Workflow","body":"<p>I was going through this PDF (http://nethands.de/download/zenddispatch_en.pdf) that elaborates the detailed workflow of a Zend Framework request.</p>\n\n<p>It seems very confusing to me and so was wondering if someone can be kind enough to list these step by step in simple terms to me?</p>\n\n<p>Many thanks in advance</p>\n"},{"tags":["php","oop","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":100,"score":-1,"question_id":11978828,"title":"issue when printing class's variables","body":"<p>I'm creating a system like MVC. <br/>\nI'm using below class when I want to call view files.\nEdit: Meantime, He can do this: <a href=\"http://www.youtube.com/watch?feature=player_detailpage&amp;v=Aw28-krO7ZM#t=1166s\" rel=\"nofollow\">http://www.youtube.com/watch?feature=player_detailpage&amp;v=Aw28-krO7ZM#t=1166s</a></p>\n\n<pre><code>&lt;?php \nclass Call{    \n    function __construct($fileName) {\n        //$this-&gt;db = new Database;\n        self::callFile($fileName);\n    }\n\n    function callFile($fileName)\n    {\n        $this-&gt;title = \"example\";\n        $this-&gt;description = \"example\";\n        $this-&gt;keywords = \"example\";\n        $fileName = $fileName . '.php';\n        require PAGESPATH.'common/header.php';\n        require PAGESPATH.$fileName;\n        require PAGESPATH.'common/footer.php';\n    }\n}\n?&gt;\n</code></pre>\n\n<p>$fileName is index.php. Index.php has only </p>\n\n<pre><code>Index Page..\n</code></pre>\n\n<p>I want to print data in header.php like below:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;&lt;?php if(isset($this-&gt;title)){echo $this-&gt;title;} ?&gt; - WebProgramlama.tk&lt;/title&gt;\n    &lt;meta name=\"description\" content=\"&lt;?php if(isset($this-&gt;description)){echo $this-&gt;description;}?&gt;\" /&gt;\n    &lt;meta name=\"keywords\" content=\"&lt;?php if(isset($this-&gt;keywords)){echo $this-&gt;keywords;} ?&gt;\" /&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n</code></pre>\n\n<p>But I'm getting errors.</p>\n\n<pre><code>Fatal error: Using $this when not in object context in /var/www/webprogramlama/class/pages/common/header.php on line 4\n</code></pre>\n\n<p>What can i solve this problem?\nNote: Please be careful! header.php is calling by Call class. header.php is inside of Call class.</p>\n\n<p>Edit: And Why <a href=\"http://dl.dropbox.com/u/94293626/orn.zip\" rel=\"nofollow\">this</a> is running?</p>\n"},{"tags":["java","mvc","module","playframework","playframework-1.x"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":11652258,"title":"play framework custom module in different directory","body":"<p>i am trying to learn more about custom modules in play framework. i created a play application (v1.2.5) using the command line.</p>\n\n<blockquote>\n  <p>play new myApp</p>\n</blockquote>\n\n<p>then i created three modules in the same directory</p>\n\n<blockquote>\n  <p>play new-module myModule1</p>\n  \n  <p>play new-module myModule2</p>\n  \n  <p>play new-module myModule3</p>\n</blockquote>\n\n<p>the directory is in the following condition</p>\n\n<blockquote>\n  <p>/myApplicationDirectory</p>\n  \n  <blockquote>\n    <blockquote>\n      <p>/myApp</p>\n      \n      <p>/myModule1</p>\n      \n      <p>/myModule2</p>\n      \n      <p>/myModule3</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>the following is my \"dependencies.yml\" file</p>\n\n<pre><code>    require:\n        - play\n        - customModules -&gt; myModule1\n        - customModules -&gt; myModule2\n        - customModules -&gt; myModule3\n\n    # Custom repository\n    repositories:\n        - customModules:\n            type:       local\n            artifact:   \"/path/to/app/modules/\"\n            contains:\n                - myModule1\n                - myModule2\n                - myModule3\n</code></pre>\n\n<p>in my modules directory under myApp, there are three files named \"myModule1\",\"myModule2\" and \"myModule3\". In these files, absolute paths to these modules are written only.</p>\n\n<p>Now, when I run the \"myApp\" from command line, it says that these three modules are available. I can add java files etc. to these modules manually from Finder. However, I want to open these modules in IntelliJ. But modules are not IntelliJ projects. They are also not being idealized or eclipsified from command line. I want to put them into IntelliJ too. How can I do that?</p>\n\n<p>Thanks.</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":11967981,"title":"MVC 3 How can I make a user view a warning/disclaimer screen","body":"<p>I thought this would be very simple but I'm struggling a little. I'm working on a project for a client using MVC 3 that requires users to agree to certain conditions before using the site. I have created a standard agree/disagree screen which is loaded when first coming into the site, but if a user types a address to a different part of the site they can bypass the conditions for example www.test.com loads the conditions but if the user types www.test.com/home they bypass the conditions.</p>\n\n<p>How can I make sure they have agreed to the conditions before they can get anywhere else on the site? I have been trying a session variable, which I think is the way to go, but is there a way to check this variable on every page request without having to write a check into every Controller Action on the site?</p>\n"},{"tags":["javascript","mvc","node.js","backbone.js","knockout.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":272,"score":0,"question_id":11974623,"title":"Which JavaScript MVC/MVVM is SEO friendly?","body":"<p>Now there are so many JS based MVC framework such as Knockout.j, Backbone.js, but seems most of them are not SEO friendly which can be easily indexed by Google.</p>\n\n<p>Am I missed framework which support SEO by default? </p>\n"},{"tags":["mvc","escaping"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":11972440,"title":"MVC - HTML escaping in model/controller/view?","body":"<p>Where I should escape output from model. Should I do it in Model too? I guess it should be in View, but i'm not sure. Put it into View seems logic, so you can change HTML to different output (PDF etc.).</p>\n\n<p>Where do you escape HTML output (from users) to page?</p>\n"},{"tags":["ruby-on-rails","mvc","activerecord"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":11970722,"title":"Rails - query model in view or controller?","body":"<p>The <code>User</code> has many <code>Folder</code>s. To implement the <code>index</code> action of <code>Folder</code>, I can query the folders of specific user in controller:</p>\n\n<pre><code>class FoldersController &lt; ApplicationController\n  def index\n    @folders = current_user.folders\n  end\nend\n\n#app/views/folders/index.html.haml\n- @folders.each\n...\n</code></pre>\n\n<p>But I can skip the controller as well:</p>\n\n<pre><code>#app/views/folders/index.html.haml\n- current_user.folders.each\n...\n</code></pre>\n\n<p>Of course the former is much more elegant. But are they substantially different? I mean, whether they have different performances or output different results sometimes?</p>\n"},{"tags":["mvc","design-patterns","mvvm"],"answer_count":12,"favorite_count":43,"up_vote_count":147,"down_vote_count":0,"view_count":40047,"score":147,"question_id":667781,"title":"What is the difference between MVC and MVVM?","body":"<p>Is there a difference between the standard \"Model View Controller\" pattern and Microsoft's Model/View/ViewModel pattern?</p>\n"},{"tags":["asp.net","mvc","templates","jstl","ognl"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":234,"score":2,"question_id":3048394,"title":"Is there a template language for ASP.NET MVC like JSTL and OGNL?","body":"<p>Is there a template language for ASP.NET MVC like JSTL and OGNL?</p>\n"},{"tags":["javascript","jquery","mvc","backbone.js"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":11967378,"title":"turning your jquery code into a backbone.js structure?","body":"<p>Im quite a noob to backbone.js, but i love jquery. however I love how backbone organises the code into models, views and collection etc. but i still can't get my head around how i would use it when writing js code.</p>\n\n<p>for example take this simple code i wrote in jquery that appends a suggestions box when user types on input:</p>\n\n<pre><code>// this is the model\n\nvar questions = [\n    {question: \"what is your name\"},\n    {question: \"How old are you\"},\n    {question: \"what is your mothers name\"},\n    {question: \"where do work/or study\"}\n];\n\n// search data function\n\nfunction searchData(datas,term){\n   return _.filter(datas, function(obj) {\n    return ~obj.question.toLowerCase().indexOf(term);\n    });\n}\n\n// Events\n\n$(\"#suggestinput\").on({\n keyup: function(){\n     var results = searchData(questions, this.value);\n     $(\"#suggestions\")\n        .addClass(\"active\")\n        .html(_.reduce(results, function(last, q){\n                return last + \"&lt;p&gt;\" + q.question + \"&lt;/p&gt;\";\n             }, \"\"));\n    },\n  blur: function () {\n    $(\"#suggestions\").removeClass('active');\n    $(\"#suggestions\").html(\" \");\n  },\n  focus: function () {\n      if ( $(this).val() === \"\" ) {\n        $(\"#suggestions\").addClass('active');\n        $(\"#suggestions\").html(\"&lt;p&gt; start typing a question &lt;/p&gt;\");\n      }\n   }\n});\n</code></pre>\n\n<p>any advice on constructing a mini feature like this using the backbone.js structure, im not saying to write the whole code, just a rough guideline or an explanation woulld be much appreciated.</p>\n\n<p>theres also a working example of this code on jsfiddle: <a href=\"http://jsfiddle.net/X8geT/1/\" rel=\"nofollow\">http://jsfiddle.net/X8geT/1/</a></p>\n"},{"tags":["mvc","c#-4.0","dataannotations"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":925,"score":4,"question_id":11931987,"title":"MVC 4 Custom data annotation manual jquery validation call","body":"<p>We are trying to create some custom validation with MVC 4 data annotations, the validation we are creating is kind of message prompts more than restrictive validation.\nFirst of all we have created some custom validation classes inheriting from the ValidationAttribute\n Class and overriding the IsValid() method to test the data and return an ValidationResult if not valid.\nThe view that displays this data has Partial views that use EditorTemplates to display razor generated data using our custom data annotations and many built in validation, all this is wrapped in a form like this</p>\n\n<pre><code>@using (Html.BeginForm(new { ReturnUrl = ViewBag.ReturnUrl }))\n</code></pre>\n\n<p>Our requirements are to let the user post back the data and partially save the forms but prompt them on any invalid fields so are using the \nCSS class on the form submit to allow postback like so</p>\n\n<pre><code>&lt;input type=\"submit\" value=\"Save\" class=\"cancel\"/&gt;\n</code></pre>\n\n<p>All this is working fine but we have now requirements to display all the error messages on page load which I did not see to be a problem until I tried it…</p>\n\n<p>I found a few examples that used jquery in the $(document).ready event that called the form valid methods as seen here</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5054328/manual-form-validation-in-mvc-3-and-jquery\">Manual form validation in MVC 3 and JQuery</a></p>\n\n<p>but this did not seem to work for us the $(‘form’).Validate() does not seem to do anything the only call that seems to fire the forms validation is\n$(‘form’).valid()\nBut this only seems to show the built in validation such as the [Required] attributes and the only way to get the custom validation messages to show is to use the submit button to post back the form.</p>\n\n<p>There must be a way to get my custom data annotations to display the messages without posting back the page the first time right?\nAny help would be greatly appreciated.</p>\n"},{"tags":["php","mvc","doctrine2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":11970816,"title":"doctrine2 mvc entities / controller design","body":"<p>This is a simple question since I am a noob. I am learning how to use doctrine in a mvc design pattern and I always seem to get confused as to where I should put my code that queries the entities. I have a method to query the entity users, where should it go? Should it be put in my entity, controller, or a repository? </p>\n\n<p>My code:</p>\n\n<p>ENTITY Users</p>\n\n<pre><code>&lt;?php\n\nnamespace Entities;\n\nuse Doctrine\\Common\\Collections\\ArrayCollection;\n\n/** @Entity(repositoryClass=\"Entities\\UserRepository\") \n *  @Table(name=\"users\")\n */\n class Users {\n\n/** @id @column */\nprotected $id;\n\n/** @column */\nprotected $first;\n\n/** @column */\nprotected $mi;\n\n/** @column */\nprotected $last;\n\n/** @column */\nprotected $userName;\n\n/** @column */\nprotected $avatar;\n\n/** @OneToMany(targetEntity=\"Blog\", mappedBy=\"user\") */\nprotected $blogs;\n\n// Constructor\npublic function __construct() {\n    $this-&gt;blogs = new ArrayCollection();\n}\n\npublic function __get($property) {\n    return $this-&gt;$property;\n}\n\npublic function __set($property, $value) {\n    $this-&gt;$property = $value;\n}\n}\n</code></pre>\n\n<p>Method to get users: Where should it go?</p>\n\n<pre><code>public function getUsers(){\n    $query = $this-&gt;_em-&gt;createQuery('SELECT u FROM Entities\\Users u');\n    return $query-&gt;getResult(\\Doctrine\\ORM\\Query::HYDRATE_ARRAY);\n}\n</code></pre>\n"},{"tags":["vb.net","asp.net-mvc-3","mvc","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11967858,"title":"ActionLink across controllers","body":"<p>I am trying to create an action link within a view for my controller RequestedService which takes the user to another controller and action in the form:</p>\n\n<p>/ItemsForService/Create/{id}</p>\n\n<p>With ItemsForService being the controller that the create function exists in.</p>\n\n<p>So far I have:</p>\n\n<pre><code>@Html.ActionLink(\"Add Item\", \"ItemsForService\", \"Create\", New With {.id = currentItem.RequestedServiceId})\n</code></pre>\n\n<p>However this seems to pass it as Create?=id and not Create/id</p>\n\n<p>How would I pass as the latter?</p>\n"},{"tags":["php","mvc","codeigniter","routes"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":11970396,"title":"Using any other controller class rather than the default controller class","body":"<p>I am working with CodeIgniter. Here's my routing file</p>\n\n<pre><code>    $route['default_controller'] = 'pages/view/home';\n    $route['(:any)'] = 'pages/view/$1';\n</code></pre>\n\n<p>where</p>\n\n<blockquote>\n  <p>pages is the controller class and view is a function of it and home is a parameter to that function.</p>\n</blockquote>\n\n<p>Now, this is the default controller. When i need to open someother page rather than 'home' I do it like as follows from inside a view</p>\n\n<pre><code>href=\"&lt;?php echo base_url('products');?&gt;\n</code></pre>\n\n<p>Now what i want to ask is, if i create a new controller, how can i use the function of that controller? since I  am only  passing the third parameter to the base_url() function.</p>\n\n<p>Obviously I think I gotta write $routes, but how ? since all the traffic is passed to </p>\n\n<blockquote>\n  <p>pages/view</p>\n</blockquote>\n\n<p>I tried creating a new controller but couldn't be able to use it. My new contoller was name new_controller and it has a function call new_function()</p>\n\n<p>and I wrote the $route as follows</p>\n\n<blockquote>\n  <p>$route['pages/view/product'] = 'new_controller/new_function';</p>\n</blockquote>\n"}]}
{"total":14105,"page":14,"pagesize":100,"questions":[{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":11970413,"title":"Pass selected value from dropdownlistfor back to controller via Html.BeginForm","body":"<p>I have this code in my view:</p>\n\n<pre><code> &lt;% using (Html.BeginForm(\"TradeUKKPIShowData\", \"Report\")) //action/controller\n { %&gt;\n  &lt;div style=\"padding: 10px; background-color: #eeeeee; width: 300px; border: 1px solid #cccccc;\"&gt;\n      &lt;div style=\"float: left; width: 150px; padding-top: 3px;\"&gt;\n        &lt;%: Html.Label(\"Select a Sunday:\") %&gt;\n      &lt;/div&gt;\n      &lt;div style=\"float: left; width: 150px;\"&gt;\n        &lt;%: Html.DropDownListFor(model =&gt; model.SelectedSunday, Model.AllSundays) %&gt;\n      &lt;/div&gt;\n    &lt;div class=\"clear\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div style=\"text-align:right; width: 272px; padding-top: 30px;\"&gt;\n    &lt;input type=\"submit\" id=\"search-submit\" value=\"Submit\"/&gt;\n  &lt;/div&gt;\n&lt;% } %&gt;\n</code></pre>\n\n<p>The action in the controller:</p>\n\n<pre><code>  public ActionResult TradeUKKPIShowData(DateTime date) //this date value is null thus error\n  {\n  var reportData = _reportingService.GetTradeUKKPISearches(date);\n  ViewBag.reportdate = date;\n  return View(reportData);\n  }\n</code></pre>\n\n<p>I get an error stating that the parameter passed, date, is null\nwhere have i gone wrong?</p>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":11955161,"title":"View doesn't refresh after RedirectToAction is done","body":"<p>Here is my problem: </p>\n\n<pre><code>[HttpPost]\npublic ActionResult AddData(CandidateViewModel viewModel)  \n{\n    var newCandidateId = 0;  \n    newCandidateId = this._serviceClient.AddCandidate(viewModel);  \n    return  RedirectToAction(\"DisplayCandidate\",new {id=newCandidateId});  \n}\n\npublic ActionResult DisplayCandidate(int id)\n{\n    var candidateViewModel= this._serviceClient.GetCandidate(id);\n    return View(candidateViewModel);\n}\n</code></pre>\n\n<p>After filling the form viwemodel sends to server. After data were stored, flow is redirected to DisplayCandidate  action and it goes there but page didn't refresh. I don't understand why! Help, please.</p>\n"},{"tags":["php","mvc","controller","front-controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":11962437,"title":"Multi-level controllers for MVC architecture","body":"<p>I just encountered one of the limitations of the MVC architecture I'm currently using for my applications. Currently, my URLs look like this:</p>\n\n<pre><code>www.example.com/controller/action\n</code></pre>\n\n<p>Each request arrives at the front controller, which loads the requested controller class from the URL, and executes the action (method) of it. This works fine, until you need to start using nested controllers.</p>\n\n<p>Example:\nThere's a 'users' controller which holds methods like createUser(), editUser(), deleteUser() etc. All perfectly possible with the current URL structure... But what if we also need to manage user types? We would need a separate controller 'usertypes' which also holds methods like createUserType(), editUserType()... However, since user types are a part of users, the 'usertypes' controller should be nested inside the users controller, as this:</p>\n\n<pre><code>www.example.com/users/usertypes/addusertype\n</code></pre>\n\n<p>With the current URL structure however, this is not possible... How can I make use of nested (or multi-level if you will) controllers?</p>\n\n<p>UPDATE: here's a basic representation of the application I'm working on: It's a basic business application for the administration department where they can add, view, edit and delete data from 3 categories (Promotions, Mailings and Cardholders). Each category represents a table in the database and has its own distinct fields. Accounts need to be created by the admin, users cannot create an account themselves and they can't consult their user profile.</p>\n\n<p>For each of those categories I've made a controller, which holds actions like add(), edit(), getAll(), getSingle(), delete()... Each of those actions calls the appropriate methods from the Model and renders the corresponding View(s).</p>\n\n<p>This was all possible with the current URL structure, which had URL's like:</p>\n\n<pre><code>example.com/promotions/add\nexample.com/promotions/getsingle?id=123\n</code></pre>\n\n<p>Recently they asked me to make it possible to also manage types of promotions, mailings and cardholders. Right now they already have a School Discount, a 20% Discount etc... But they want to add more as they wish. </p>\n\n<p>This means i need a PromotionTypes controller, which also holds actions like add(), getAll(), getSingle(), delete()... It would be nice if the PromotionTypes controller could be nested in the original promotions controller, which enables URL's as so:</p>\n\n<pre><code>example.com/promotions/promotiontypes/add\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>example.com/promotiontypes/add\n</code></pre>\n\n<p>With my current front loader, this is not possible, since the first part of the URL automatically gets treated as the controller, and the second part as the action to execute from it.</p>\n"},{"tags":["asp.net","mvc","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":402,"score":1,"question_id":7197001,"title":"ASP.Net MVC add controller error","body":"<p>When I try to add a 'MOVIES\" controller, it errors:  \"<strong><em>There was an error generating 'MvcMovieSF.Models.MovieDBContext.  Try rebuilding your project</em></strong>.\"</p>\n\n<p>I have rebuilt the project and it continues to error.  Thanks in advance!</p>\n\n<pre><code>namespace MvcMovieSF.Models\n{\n    public class Movie\n    {\n        public int ID { get; set; }\n        public string Title { get; set; }\n        public DateTime ReleaseDate { get; set; }\n        public string Genre { get; set; }\n        public decimal Price { get; set; }\n    }\n\n    public class MovieDBContext : DbContext\n    {\n        public DbSet Movies { get; set; }\n    }\n}\n</code></pre>\n\n<p><strong>JUST NOTICED:</strong>  I'm not sitting at my own computer and I noticed SQLExpress services were not started; I don't have permission on this computer to start the service.  Could that be the reason?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":11968317,"title":"Html.DropdownlistFor not showing in view","body":"<p>I have this line in my view.aspx I am not using razor:</p>\n\n<pre><code> &lt;p style=\"color:Red\"&gt;\n        &lt;% Html.DropDownListFor(model =&gt; model.AllSundays, new SelectList(Model.AllSundays)); %&gt;\n  &lt;/p&gt;\n</code></pre>\n\n<p>When I run my program and view source there is nothing there.\nI am making use of the ViewModel in my action I have:</p>\n\n<pre><code> var allSundaysInThisMonth = new SundaysInMonthViewModel\n  {\n    AllSundays = sundays.Select(x =&gt; new SelectListItem\n    {\n      Value = x.ToString(\"dd-MM-yyyy\"),\n      Text = x.ToString(\"dd-MM-yyyy\"),\n    })\n  };\n\n  var selectedSunday = new SundaysInMonthViewModel{\n    SelectedSunday = thisMonthSundays.Where(x =&gt; x &lt; now)\n    .Last().ToString(\"dd-MM-yyyy\")\n  };\n\n  return View(allSundaysInThisMonth);\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["mvc","css3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11967855,"title":"MVC3, CSS3 - cannot get styles picked up in a textbox","body":"<p>I have just seen a training video about CSS3 and it looked a great idea to put in these styles in my MVC application;</p>\n\n<pre><code>input.data:required {\n    background-color: rgba(255, 0, 0, 0.04);\n}\n\ninput.data:focus {\n    background-color: rgba(255, 255, 255, 0.8);\n    border: 5px solid #ff5400;\n}\n</code></pre>\n\n<p>So this will put in a background colour for required fields, and highlight the textbox that is in focus.\nHowever these styles do not get picked up in my MVC form;</p>\n\n<pre><code>            &lt;tr&gt;\n                &lt;td style=\"text-align: right\"&gt;\n                    Client Organisation Name&lt;span class=\"error\"&gt;*&lt;/span&gt;\n                &lt;/td&gt;                    \n                &lt;td&gt;\n                    @Html.TextBoxFor(model =&gt; model.clientContact.ContactName, \n                        new { autocomplete = \"off\", maxlength = \"255\", style = \"text-transform: capitalize; width:400px;\" })\n                    @Html.ValidationMessageFor(model =&gt; model.clientContact.ContactName)\n                &lt;/td&gt;\n            &lt;/tr&gt;\n</code></pre>\n\n<p>When I inspected the textbox field, I saw the input element had a type of \"text-box\". So I changed input.data to input.text-box and input.text.\nBut this did not work either.\nSo what do I need to do to get this to work?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":11965570,"title":"Creating a ViewModel for IEnumerable<SelectListItem> allSundaysInMonth","body":"<p>ViewModel for allSundaysInMonth, I kept this the same:</p>\n\n<pre><code>  namespace TradeUK.Admin.Web.ViewModels\n  {\n      public class SundaysInMonthViewModel\n      {\n         public IEnumerable&lt;SelectListItem&gt; AllSundays { set; get; }\n         public string SelectedSunday { set; get; }\n      }\n  }\n</code></pre>\n\n<p>Then in my action the new code: </p>\n\n<pre><code>public ActionResult TradeUKKPISearchesData() //show dropdownlist in the view\n{\n  var now = DateTime.Now;\n  var lastMonth = now.AddMonths(-1);\n  var lastMonthSundays = GetDatesOfSundays(lastMonth.Year, lastMonth.Month);\n  var thisMonthSundays = GetDatesOfSundays(now.Year, now.Month);\n  var sundaysToTakeFromLastMonth = 2;\n  var sundays = lastMonthSundays.Skip(Math.Max(0, lastMonthSundays.Count() - sundaysToTakeFromLastMonth)).Take(sundaysToTakeFromLastMonth).Concat(thisMonthSundays);\n\n  var allSundaysInThisMonth = new SundaysInMonthViewModel\n  {\n    AllSundays = sundays.Select(x =&gt; new SelectListItem\n    {\n      Value = x.ToString(\"dd-MM-yyyy\"),\n      Text = x.ToString(\"dd-MM-yyyy\"),\n    });\n\n    //or must I have the code here? not sure how all this works yet\n    SelectedSunday = sundays.Select(y =&gt; new SelectListItem\n    {\n      Value = \n      Text = \n    }) \n  };\n\n  //this is what I meant or can I add this to the above?\n  var selectedSunday = new SundaysInMonthViewModel{\n    SelectedSunday = sundays.Select(y =&gt; new SelectListItem\n    {\n      Value = \n    })\n  }\n  return View(allSundaysInThisMonth);\n}\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["asp.net-mvc-3","mvc","castle-windsor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":11936862,"title":"Windsor transient lifestyle","body":"<p>I have some very odd behaviour in my Windsor Container.</p>\n\n<p>I have configured my container like this.</p>\n\n<pre><code>Container = new WindsorContainer();\nContainer.Kernel.ComponentModelCreated += KernelComponentModelCreated;\nContainer.Install(FromAssembly.This());\n\nprivate static void KernelComponentModelCreated(ComponentModel model)\n{\n    if (model.LifestyleType == LifestyleType.Undefined)\n        model.LifestyleType = LifestyleType.Transient;\n}\n</code></pre>\n\n<p>So I was supposing all my components where I don't specify the lifestyle would get a transient lifestyle and it seemed to don't give any issues until now.</p>\n\n<p>I start multiple asynchronous task which all resolve some components. (So you would expect every task gets a new instance of the component)</p>\n\n<p>However now I know the tasks don't get new instances, because my tasks fail because of crossthreading issues with the component. (so it is being used in multiple tasks)</p>\n\n<p>When I replace the Container.Resolve(somecomponent); With just creating the new component in place everything works like it should. </p>\n\n<pre><code>var contextProvider = MvcApplication.Container.Resolve&lt;IDbContextProvider&gt;();\n</code></pre>\n\n<p>replaced with</p>\n\n<pre><code>var contextProvider = new DbContextProvider();\n</code></pre>\n\n<p>So my question is what am I missing here.</p>\n\n<p>The tasks are started in transient configured MVC3 controllers, because of explicitly configured.</p>\n\n<p>The DbContextProvider is resolved in all repositories also configured transient, because of above code.</p>\n\n<p>Another thing I found in the documentation is. You have to release transient components. I implemented all components with IDisposable. But because of auto contructor injection in my controllers I am not completely sure if I have to release them manually and if so how can I do this. (Yes I know I have to call the Release method on the container)</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Code below is responsible for releasing and resolving my controllers:</p>\n\n<pre><code>public class WindsorControllerFactory : DefaultControllerFactory\n{\n    private readonly IKernel _kernel;\n\n    public WindsorControllerFactory(IKernel kernel)\n    {\n        _kernel = kernel;\n    }\n\n    public override void ReleaseController(IController controller)\n    {\n        _kernel.ReleaseComponent(controller);\n    }\n\n    protected override IController GetControllerInstance(RequestContext requestContext, Type controllerType)\n    {\n        if (controllerType == null)\n        {\n            throw new HttpException(404, string.Format(\"The controller for path '{0}' could not be found.\", requestContext.HttpContext.Request.Path));\n        }\n        return (IController)_kernel.Resolve(controllerType);\n    }\n}\n</code></pre>\n\n<p>Is there some example available for testing if all dependencies are resolved and released the way they should be? (LifeStyle tests)</p>\n"},{"tags":["php","mvc","symfony2","yii","action"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":77,"score":0,"question_id":11959709,"title":"How to define an action as separated class in SF2?","body":"<p>I have been worked with YF some time and I know that in YF is a beautiful thing - an ability to define an action as separated class. Look <a href=\"http://www.yiiframework.com/doc/guide/1.1/en/basics.controller\" rel=\"nofollow\">this page</a> (paragraph - 3. Action) for details.</p>\n\n<p>I wonder, is it possible to do it in SF2?</p>\n\n<p>For SF I found the following solution: extending a class sfAction. What about SF2?</p>\n"},{"tags":["c#","c++","mvc","c++11","objective-c++"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":133,"score":4,"question_id":11317405,"title":"Cross-platform best MVC model-to-controller messaging approach (C#, Objective-C++)","body":"<p>Planning to rewrite a complex, UI-heavy app so that its model is as cross-platform as reasonably possible.  The research / reading I've done makes sense conceptually, but in terms of the model sending messages to the controller in some sort of cross-platform approach, I'm not seeing what a best practices approach would entail.</p>\n\n<p>For example, the Model is changed via the Controller making calls to the Model's API.  But the Model is then responsible for informing clients of its data that a change has taken place, so it needs to broadcast that back to the Controller -- which needs to inform the View(s).</p>\n\n<p>But messaging approaches are going to be different for a controller written in C# or Objective-C++, right?  Would one use signal to connect to the Controller, which would use platform-specific message communication with the View(s)?</p>\n\n<p>Is there a standard, lightweight template that sets up these best practices for the platform-independent model operations?</p>\n"},{"tags":["mvc","web-applications","xss-prevention"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":11927597,"title":"On which MVC layer should you filter output for XSS?","body":"<p>I am writing a web app in PHP that calls a couple API's. The content from these API's cannot be trusted and I want to filter it for XSS before displaying it to the user. Which MVC layer is appropriate to perform the XSS filter?</p>\n"},{"tags":["php","jquery","ajax","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":11963466,"title":"jQuery AJAX don't runs well on my PHP MVC","body":"<p>I have made a simple PHP MVC framework, which I use for my web application. But, when trying to AJAX request (with jQuery), it does not behave as expected. Here are the relevant fragments of code:</p>\n\n<p><strong>View</strong></p>\n\n<pre><code>&lt;input type=\"text\" name=\"email\" id=\"email\"&gt;\n&lt;input type=\"password\" name=\"password\" id=\"password\"&gt;\n&lt;a id=\"btnlogin\"&gt;Login&lt;/a&gt;\n</code></pre>\n\n<p><strong>Jquery(placed in separated file)</strong></p>\n\n<pre><code>$(\"#btnlogin\").click(function(){\n    var email = $(\"#email\").val();\n    var password = $(\"#password\").val();\n\n    $.ajax({\n        type:\"POST\",\n        url:\"user/login\",\n        data:{email : email, password : password},\n        cache:false,\n        success:function(){\n            alert(\"suksesssssss\");\n        }\n    });\n</code></pre>\n\n<p><strong>Controller Name : User</strong></p>\n\n<pre><code>public function login()\n{\n    $email = $_POST['email'];\n    $password = $_POST['password'];\n    $this-&gt;model-&gt;login($email,$password);\n}\n</code></pre>\n\n<p><strong>Model Name : UserModel</strong></p>\n\n<pre><code>public function login($email,$password)\n{\n    $sth = $this-&gt;db-&gt;prepare(\"select * from tbl_user where email = :email and password = :password\");\n    $sth-&gt;execute(array(\n        ':email' =&gt; $email,\n        ':password' =&gt; Hash::create('sha256', $password, PASSWORD_HASH_KEY)\n    ));\n    $count = $sth-&gt;rowCount();\n\n    if($count &gt; 0)\n    {\n        $data = $sth-&gt;fetch();\n\n        Session::init();\n        Session::set('id', $data['id']);\n        Session::set('fullName', $data['nama_lengkap']);\n\n\n        $this-&gt;updateLastLogin($data['id']);\n        $this-&gt;updateLoginCount($data['id']);\n\n        header('location:' . URL . 'user/profile');\n    }\n    else\n    {\n        header('location:' . URL . 'home/alogin');\n    }\n}\n</code></pre>\n\n<p>My goal is to redirect to the profile page, when login is success. But the function :</p>\n\n<pre><code>header('location:' . URL . 'user/profile');\n</code></pre>\n\n<p>This doesn't run.. </p>\n\n<p>What is causing this behavior? Is it better, if I use jQuery to redirect to another page?</p>\n"},{"tags":["asp.net","mvc","asp.net-mvc-2"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":3572,"score":5,"question_id":1574690,"title":"Html.EditorFor SelectList","body":"<p>With the introduction of Html.EditorFor everything just seems easier -- All but one thing: EditorFor</p>\n\n<p>What would be the best way to make it work? What I need is either a checkboxlist, a dropdownlist or the like.</p>\n\n<p>I can easily find mvc1 solution for the problem, but mvc2 seems to not be there.</p>\n\n<p>Any thoughts?</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":108,"score":0,"question_id":11962618,"title":"Posting HTML in contentEditable DIV with MVC","body":"<p>Can I post the contents of a contentEditable DIV directly?  The only thing I can think of doing is copying the innerHtml into a hidden input element, but I'm sure there must be a more direct way.</p>\n\n<p><strong>Here is part of the view:</strong></p>\n\n<pre><code>    &lt;div class=\"container\" name=\"typer\" id=\"typer\" style=\"border:1px solid gray; color:#aaaaaa; min-height:380px; width:520px; padding:4px; text-align:justify; text-justify:distribute-all-lines;\" onclick=\"eraseFirst();this.contentEditable='true';\"&gt;\n\n    Text here that the user typed, with html elements.  How is this posted?\n\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>The Controller:</strong></p>\n\n<pre><code>    [HttpPost]\n    public ActionResult BlogPage(BlogsPosts blogsposts)\n    {\n        // Is this a good start?\n        return View(blogsposts);\n    }\n</code></pre>\n"},{"tags":["java","spring","debugging","mvc","log4j"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":11962469,"title":"log4j messages not showing in logs","body":"<p>Hey guys i am using logj4 in a spring mvc application i am working on in my logs on a tomcat 6 server i am getting the following messages:</p>\n\n<p>log4j:WARN No appenders could be found for logger (org.springframework.web.context.ContextLoader).\nlog4j:WARN Please initialize the log4j system properly.</p>\n\n<p>in the stdout files on the tom cat server. I want to be able to see messages while i access methids and objects. This is how i am using log4j:</p>\n\n<p>class </p>\n\n<p>private final Logger logger = Logger.getLogger(getClass()); </p>\n\n<p>...................</p>\n\n<p>logger.info(\"My message here\");</p>\n\n<p>For some reason i am not seeing any messages in my logs and i am seeing the abov warnings</p>\n"},{"tags":["mvc","jquery-ajax","unobtrusive-javascript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":11961478,"title":"Write data from cotroller to view javascript","body":"<p>I need to get some data from a controller into the JavaScript in a view.\nI have the following method:</p>\n\n<pre><code>     private JsonResult GetSection()\n         {\n            string orderId = (orderService.GetOrder(UserSEssion)).Id.ToString();\n            return this.Json(orderId);\n          }\n</code></pre>\n\n<p>I have the following in the view:</p>\n\n<pre><code>     &lt;script type=\"text/javascript\"&gt;\n         lpAddVars('page', 'Section', + GetId()+); \n         function GetId() {\n         $.getJSON(\"/Checkout/GetSection\", null, function (data) {\n         someThing = data;\n        });\n      }\n     &lt;/script&gt;   \n</code></pre>\n\n<p>I would appreciate any help in how to do this.\nThanks      </p>\n"},{"tags":["c#","jquery","json","mvc","asp.net-mvc-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":11945093,"title":"Pass values from User Control (MVC 2, Json)","body":"<p>these are the following technologies i am utilizing in my current project:\n - WCF\n - MVC 2\n - Json</p>\n\n<p>I'm just new with MVC 2 and Json. My question is, how do you pass values from a User Control back to the page where it was called?</p>\n\n<p>Please answer my question or give me any reference links wherein i can extract ideas.</p>\n\n<p>Thanks.</p>\n"},{"tags":["c#","mvc","checkbox","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":11959991,"title":"MVC 3 Checkbox to Database","body":"<p>I am looking to create a view with a drop down box which lists programming languages from a table in a database. This I have no issues with, but I also want 10 check boxes called Level 1  till Level 10. Now these 10 Levels already are in a seperate table in the db, each with thier own id etc.</p>\n\n<p>My issue is, how do I create a page that lets you choose a language and then choose level 2 and 3 for example and then add them to a another db table with a foreign key for both language and levels table? I know at first it sounds simple but I need to create a controller that checks to see what levels are checked and add them. Complex part is each language has different range of skills, not all start at 1 and end at 10.</p>\n\n<p>Here are examples of the tables:</p>\n\n<p>Language ID\nLanguage Name</p>\n\n<p>Level ID\nLevel Name</p>\n\n<p>Mapped ID\nLanguageID\nLevelID.</p>\n\n<p>Thanks!</p>\n"},{"tags":["mvc","codeigniter"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":107,"score":0,"question_id":11954328,"title":"where to process mysql queries in codeigniter?","body":"<p>codeigniter uses MVC pattern. so to do correct with MVC , where should we process mysql queries?<br>\nfor example in a simple project we do like this :</p>\n\n<p>for controller:  </p>\n\n<pre><code>class Blog extends CI_Controller {\n    function posts(){\n        $data['query'] = $this-&gt;blog_model-&gt;index_posts();\n        $this-&gt;load-&gt;view('blog_view', $data);\n    }\n}\n</code></pre>\n\n<p>and in view :  </p>\n\n<pre><code>&lt;?php\nwhile ($post = mysql_fetch_object($query)):\n?&gt;\n&lt;div&gt;\n    &lt;p&gt;&lt;?= $post-&gt;body; ?&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;?php endwhile; ?&gt;\n</code></pre>\n\n<p>but if we want to do something with body of post before print , where should it be done?<br>\nfor example i want to write a function that formats the body of post. and pass the body to it before doing echo .  </p>\n\n<p>where should it be placed to do accurate in MVC? (best option)  </p>\n\n<ul>\n<li>in the controller? (if so , how to use it)</li>\n<li>in the view?</li>\n<li>write a helper?</li>\n<li>other approaches ?</li>\n</ul>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc","view","view-helpers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":11958561,"title":"How should I refactor complicated If else block in view?","body":"<p>I have following code in my view:</p>\n\n<pre><code># panel.html.erb\n&lt;% if content.content_type == \"image\" &amp;&amp; content.content_image_url =~ URI::ABS_URI %&gt;\n  &lt;%= image_tag content.content_image.pinboard_thumb %&gt;\n&lt;% elsif content.content_image? == false &amp;&amp; content.content_value =~ URI::ABS_URI %&gt;\n  &lt;%= image_tag content.content_value %&gt;\n&lt;% else %&gt;\n  &lt;%= auto_link content.content_value %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>I`m thinking where should I move this logic from if else block. How to do that Rails Way. Move that to helper?? </p>\n\n<p>Or is better way? Code below isn`t working.</p>\n"},{"tags":["visual-studio-2010","mvc","asp.net-mvc-3","customview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":142,"score":0,"question_id":7168235,"title":"asp.net mvc custom ViewPage, textboxfor throwing exception","body":"<p>I have custom View page like given below.</p>\n\n<pre><code>public  abstract class CustomViewPage : WebViewPage\n{\n\n}\n\npublic abstract  class CustomViewPage&lt;T&gt; : CustomViewPage where T : class\n{\n\n}\n</code></pre>\n\n<p>here is my customer class</p>\n\n<pre><code>public class Customer\n{\n    public string Title { get; set; }\n}\n</code></pre>\n\n<p>Now on my index.cshtml</p>\n\n<pre><code>@model SomeNameSpace.Customer\n</code></pre>\n\n<p>@{\n       ViewBag.Title = \"Home Page\";\n   }</p>\n\n  <h2>@ViewBag.Message</h2>\n\n<p>@Html.TextBoxFor(m => m.Title)</p>\n\n<p>I have changed the web.config to use my custome customviewpage by this setting\n</p>\n\n<p>When the navigate to home page it throws an exception</p>\n\n<p>CS1061: 'object' does not contain a definition for 'Title' and no extension method 'Title' accepting a first argument of type 'object' could be found (are you missing a using directive or an assembly reference?)</p>\n\n<p>Help will be appreciate. </p>\n\n<p>Regards</p>\n\n<p>Parminder</p>\n"},{"tags":["php","performance","mvc",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":11950511,"title":"Htaccess - redirect every request to a single page. Side effects?","body":"<p>I am creating my own mvc framework to use in little projects and by default, I am rewriting the url so that every single request goes to index.php. Index.php is only 4-5 lines, which calls the application class and then, the application class calls the corresponding controller and so on. </p>\n\n<p>Basically, this is my htaccess file and index.php:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?rt=$1 [L,QSA]\n</code></pre>\n\n<p>index.php:</p>\n\n<pre><code>&lt;?php\ninclude 'config.php';\n$app = new Application();\n?&gt;\n</code></pre>\n\n<p>What I'd like to learn is whether this method has or could have any negative effects in the future in terms of speed and bandwidth. I appreciate your answers and comments. </p>\n"},{"tags":["asp.net-mvc-3","linq","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":11955769,"title":"Search ranking in LINQ, MVC 3 and Entity Framework","body":"<p>Previously in SQL I would use something like this to rank my search results:</p>\n\n<pre><code>        --search product name\n    SELECT tblProduct.ProductID, 20 AS Ranking\n    FROM tblProduct\n    INNER JOIN tblManufacturer ON tblProduct.ManufacturerID=tblManufacturer.ManufacturerID\n    LEFT OUTER JOIN tblProductCollection ON tblProduct.CollectionID=tblProductCollection.CollectionID\n    WHERE tblManufacturer.Name + ISNULL(' ' + tblProductCollection.CollectionName, '') + ' ' + tblProduct.Name LIKE '%' + @term + '%'  AND tblProduct.Active = 1\n    UNION ALL\n\n    --search product exact name\n    SELECT tblProduct.ProductID, 200 AS Ranking\n    FROM tblProduct WHERE Name = '%' + term  AND tblProduct.Active = 1\n    UNION ALL\n</code></pre>\n\n<p>This example says if your search term is contained in the name: 20 is the rank, if you match the name exactly: 200 is the rank. Union the tables together, order by Ranking(descending) and hey presto! </p>\n\n<p>I'm trying to do this in LINQ this time round and am unsure how to go about doing it, to be honest I'm unsure my previous example was the best way to do it originally.</p>\n\n<p>So, I have a Product Entity mapped to my database and I've added a property in my partial class called SearchRanking:</p>\n\n<pre><code>            var query = from p in db.Products\n                    where p.Name.Contains(term)\n                    select p;\n\n        var query2 = from p in db.Products\n                     where p.Name.ToLower() == term\n                     select p;\n</code></pre>\n\n<p>Somehow I need to set the properties like so:</p>\n\n<pre><code>            var query = from p in db.Products\n                    where p.Name.Contains(term)\n                    select p, p.SearchRanking = 20;\n\n        var query2 = from p in db.Products\n                     where p.Name.ToLower() == term\n                     select p, p.SearchRanking = 200;\n</code></pre>\n\n<p>Am I on the right track?</p>\n"},{"tags":["ajax","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":163,"score":0,"question_id":11945398,"title":"how to get data using @Ajax.ActionLink() in ASP.net MVC","body":"<p>i want get  data using @Ajax.ActionLink() method. i have tried in the following way<br>\n<strong>Create.chtml</strong><br><br></p>\n\n<pre><code> function UpdatePoDetails() {\n\n    document.getElementById(\"poSearchbtn\").href = \"/MaterialReceivePO/SearchPO?searchID=\" + document.getElementById('POID').value\n}\n@using (Ajax.BeginForm(new AjaxOptions\n        {\n            UpdateTargetId = \"searchData\",\n            LoadingElementId = \"loading\"\n        }\n\n    ))\n{\n  &lt;input id=\"POName\" type=\"text\" /&gt;\n\n\n  @Ajax.ActionLink(\"Search\", \"SearchPO\", null, new AjaxOptions\n                                                        {\n\n                                                            UpdateTargetId = \"PoDetailsDiv\",\n\n                                                            HttpMethod = \"GET\" \n\n\n                                                        },\n                                              new\n                                              {\n                                                  onclick = \"UpdatePoDetails()\" ,\n                                                  id = \"poSearchbtn\"\n                                              }\n                            )\n\n\n\n}\n  @using (Ajax.BeginForm(new AjaxOptions\n        {\n            UpdateTargetId = \"MainBody\",\n            LoadingElementId = \"loading\"\n        }))\n     {\n         &lt;div id=\"PoDetailsDiv\"&gt;\n          &lt;/div&gt;\n      }\n</code></pre>\n\n<p><strong>Controller method</strong><br></p>\n\n<pre><code> public ActionResult SearchPO(string searchID)\n    {\n        int id = int.Parse(searchID);\n        List&lt;PurchaseOrderDetailsModel&gt; podetails = (\n\n                                                         from c in po.GetPoListDetails(id)\n                                                         select new PurchaseOrderDetailsModel()\n                                                         {\n                                                             PoDetailsID = c.PoDetailsID,\n                                                             ItemID = c.ItemID.Value,\n                                                             Quantity = c.Quantity,\n                                                             UnitPrice = c.UnitPrice,\n                                                             TotalPrice = c.TotalPrice,\n                                                             DiscountPer = c.DiscountPer,\n                                                             FinalPrice = c.FinalPrice,\n                                                             CurrencyID = c.CurrencyID,\n                                                             ProductID = c.ItemID.Value,\n                                                             ProductName = c.ProductName,\n                                                             ProductCode = c.ProductCode,\n                                                             Description = c.Description\n                                                         }\n                                                    ).ToList();\n\n        return View(\"SearchPO\",podetails);\n    }\n</code></pre>\n\n<p><strong>SearchPO.chtml</strong><br></p>\n\n<pre><code>@model IEnumerable&lt;ERP_Web.Areas.Inventory.Models.PurchaseOrderDetailsModel&gt;\n\n&lt;table class=\"grid-table\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;\n            Product Name\n        &lt;/th&gt;\n        &lt;th&gt;\n            Code\n        &lt;/th&gt;\n        &lt;th&gt;\n            Quantity\n        &lt;/th&gt;\n        &lt;th&gt;\n            Unit price\n        &lt;/th&gt;\n        &lt;th&gt;\n            Total\n        &lt;/th&gt;\n        &lt;th&gt;\n            Discount\n        &lt;/th&gt;\n        &lt;th&gt;\n            Final price\n        &lt;/th&gt;\n        &lt;th&gt;\n            Receive Quantity\n        &lt;/th&gt;\n    &lt;/tr&gt;\n    @foreach (var item in Model)\n    {\n        &lt;tr&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.ProductName)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.ProductCode)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.Quantity)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.UnitPrice)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.TotalPrice)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.DiscountPer)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.FinalPrice)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.TextBox(\"reQuantity\");\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    }\n&lt;/table&gt;\n</code></pre>\n\n<p>the poblem is when click on the Ajax link the it goes to the Controller. the controller code  executes well but at the end to does not Call the SearchPO View when returning. What is wrong in my Code or what i missing. Any help??</p>\n"},{"tags":["mvc","telerik","telerik-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":446,"score":0,"question_id":11950461,"title":"telerik mvc grid with ajax binding","body":"<p>I have the following problem: I have a custom edit command for the telerik mvc grid. This is the code of the grid:</p>\n\n<pre><code>Html.Telerik().Grid&lt;Customer&gt;(\"customers\")\n                       .Name(\"Grid\")\n                       .DataKeys(k =&gt; k.Add(o =&gt; o.Id))\n                       .DataBinding(dataBinding =&gt; dataBinding.Ajax().Delete(\"Delete\", \"Customer\").Select(\"AjaxIndex\", \"Customer\"))\n                       .Scrollable(builder =&gt; builder.Height(350))\n                       .Filterable()\n                       .Sortable(s =&gt; s.OrderBy(order =&gt; order.Add(o =&gt; o.Id).Descending()))\n                       .Columns(c =&gt;\n                                 {\n                                     c.Bound(o =&gt; o.Id);\n                                     c.Bound(o =&gt; o.FirstName);\n                                     c.Command(s =&gt;\n                                                   {\n                                                       s.Custom(\"editCustomer\")\n                                                           .Text(\"Edit\")\n                                                           .Ajax(true)\n                                                           .Action(\"Edit\", \"Customer\");\n                                                            s.Delete().ButtonType(GridButtonType.Image);                                                                                                                }).Width(175);\n                                 })\n               .ClientEvents(builder =&gt; builder.OnComplete(\"onEditComplete\"))\n                   .Pageable(p =&gt; p.PageSize(5))\n                   .Selectable()\n                   .Render();\n</code></pre>\n\n<p>This is the call back javascript function of the edit command:</p>\n\n<pre><code>function onAppraisalPhaseComplete(e)\n{\n    if (e.name == \"editCustomer\") {\n        $(\"#dialog-form\").html(e.response.PartialViewHtml);\n        open($(\"#dialog-form\"), \"Edit Customer\"); // this will display a modal with the edit view\n    }\n}\n</code></pre>\n\n<p>The edit form is an ajax call to the following method:</p>\n\n<pre><code>    public ActionResult JsonEdit(Customer customer)\n    {\n        if ((Rules.GetBrokenRules(customer).Count == 0))// there is no validation errors\n        {\n            Repository.Update(customer);\n        }\n        else\n        {\n            ModelState.AddModelErrors(Rules.GetBrokenRules(customer));\n            return Json(new\n            {\n                Success = false,\n                PartialViewHtml = RenderPartialViewToString(\"Insert\", appraisalPhaseViewModel)\n            });\n        }\n//if save successful get the customers list and return the partial of the grid in Json\n        var customers= Repository.GetAll().ToList();\n        ViewData[\"customers\"] = customers;\n\n        return Json(new\n        {\n            Success = true,\n            PartialViewHtml = RenderPartialViewToString(\"MasterGrid\")\n        });\n</code></pre>\n\n<p>The ajax call on complete is the following:</p>\n\n<pre><code> function JsonSave_OnComplete(context) {\n        var jsonEdit = context.get_response().get_object();\n        if (jsonEdit.Success) { // if the operation is successful reload grid and close the modal dialog\n            $(\"#MasterGridDiv\").html(jsonEdit.PartialViewHtml);\n            CloseDialog($('#dialog-form'));\n        } else { //Redisplay the edit partial view in the modal\n            $(\"#dialog-form\").html(jsonEdit.PartialViewHtml);\n        }\n    }\n</code></pre>\n\n<p>After the edit operation is finished if I try to press the delete button it will call the JsonEdit Action instead of delete operation. I don't know what am I doing wrong here? In addition, sometimes the delete button doesn't work and the ajax binding is called instead of the delete button.</p>\n"},{"tags":["c#","mvc","nhibernate-mapping"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11954197,"title":"Mapping a junction table with additional data in C# with NHibernate","body":"<p>Let's say I have a Parent and Child table, and a ParentChild table that maintains the relationships between them.</p>\n\n<p>Parent class:</p>\n\n<pre><code>public class Parent\n{\n    public virtual int ParentId { get; set; }\n    public virtual bool Deleted { get; set; }\n\n     public Parent()\n     {\n       _children = new HashedSet&lt;Child&gt;();\n     }\n\n     protected ISet&lt;Child&gt; _children;\n\n     public virtual ISet&lt;Child&gt; children\n     {\n         get { return _children; }\n         protected set { _children = value; }\n     }\n}\n</code></pre>\n\n<p>Child class:</p>\n\n<pre><code>public class Child\n{\n    public virtual int ChildId { get; set; }\n    public virtual bool Deleted { get; set; }\n\n     public Child()\n     {\n       _parents = new HashedSet&lt;Parent&gt;();\n     }\n\n     protected ISet&lt;Parent&gt; _parents;\n\n     public virtual ISet&lt;Parent&gt; parents\n     {\n         get { return _parents; }\n         protected set { _parents = value; }\n     }\n}\n</code></pre>\n\n<p>and the ParentChild class:</p>\n\n<pre><code>public class ParentChild \n{\n    public virtual int ParentChildId { get; set; }\n    public virtual Parent Parent { get; set; }\n    public virtual Child Child { get; set; }\n    public virtual int DisplayOrderIndex { get; set; }\n    public virtual bool Deleted { get; set; }\n}\n</code></pre>\n\n<p>How would I map these so that I can do an update on the parent object that will also update the junction table with the additional data (not just parent/child id) and the Child table.</p>\n\n<p>For now, I'm doing:</p>\n\n<p>Parent Map</p>\n\n<pre><code>public ParentMap()\n{\n    Table(\"Parent\");\n    Id(x =&gt; x.ParentId);\n    Map(x =&gt; x.Deleted);\n    HasMany(x =&gt; x.ParentChild)\n        .Table(\"Parent_Child\")\n        .KeyColumn(\"ParentID\")\n        .Access.CamelCaseField(Prefix.Underscore)\n        .Cascade.AllDeleteOrphan()\n        .LazyLoad();\n}\n</code></pre>\n\n<p>Child Map</p>\n\n<pre><code>public ChildMap()\n{\n    Table(\"Child\");\n    Id(x =&gt; x.ChildId);\n    Map(x =&gt; x.Deleted);\n    HasMany(x =&gt; x.ParentChild)\n        .Table(\"Parent_Child\")\n        .KeyColumn(\"ChildID\")\n        .Access.CamelCaseField(Prefix.Underscore)\n        .Cascade.AllDeleteOrphan()\n        .LazyLoad();\n}\n</code></pre>\n\n<p>ParentChild Map</p>\n\n<pre><code>public ParentChildMap()\n{\n    Table(\"Parent_Child\");\n    Id(x =&gt; x.ParentChildId, \"Parent_ChildID\");\n    References(x =&gt; x.Parent, \"ParentID\");\n    References(x =&gt; x.Child, \"ChildID\");\n    Map(x =&gt; x.DisplayOrderIndex);\n    Map(x =&gt; x.Deleted);\n}\n</code></pre>\n\n<p>But when I pull from the Parent repository, the Child in the ParentChild collection of the Parent object is a Castle.Proxy instead of a Child type.</p>\n\n<p>How should this mapping be done to achieve the desired result?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","asp.net-mvc-2"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":11950662,"title":"populating list in view using editorTemplates","body":"<p>here is my model</p>\n\n<pre><code>namespace chPayroll.Models.CustInformations\n{\n    public class CustContact\n    {\n        public int cId { get; set; }\n        public int cNoType { get; set; }\n        public string cNo1 { get; set; }\n        public string cNo2 { get; set; }\n        public string cNo3 { get; set; }\n        public List&lt;CustContact&gt; contact { get; set; }\n    }\n}\n</code></pre>\n\n<p>here is my editorTemplates</p>\n\n<pre><code>@model chPayroll.Models.CustInformations.CustContact         \n\n\n@Html.TextBoxFor(model =&gt; model.cNo1)\n@Html.TextBoxFor(model =&gt; model.cNo2)\n@Html.TextBoxFor(model =&gt; model.cNo3)\n</code></pre>\n\n<p>I need to show three textbox for taking email,three text box for taking telephone no. in view. how can I add the items to the list contact defined in the model so that it shows like this</p>\n\n<pre><code>email:--textbox1----textbox2----textbox3--\ntelephone:--textbox1----textbox2----textbox3--\n</code></pre>\n\n<p>and sends value to the controller</p>\n\n<p>actually I am trying to send my data in list named contact here ie inside list at </p>\n\n<pre><code>index 0-email1-email2-email3\nindex 1-tel1-tel2-tel3\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":11950381,"title":"Html.DropdownList(allsundaysinmonth) set default to sunday just past","body":"<p>I have no idea how to work this out but my drop down list code looks as follows:</p>\n\n<p>in the action:</p>\n\n<pre><code>  DateTime[] allSundaysInMonth = GetDatesOfSundays(System.DateTime.Now);\n  DateTime[] allSundaysInLastMonth = GetDatesOfSundays(System.DateTime.Now.AddDays(-30)); \n  List&lt;SelectListItem&gt; listOfSundays = new List&lt;SelectListItem&gt;();\n  foreach (DateTime dt in allSundaysInThisMonth)\n  {\n    listOfSundays.Add(new SelectListItem\n    {\n      Text = dt.Name,\n      Value = dt.Id.ToString(),\n      Selected = dt.CompanyId == Id\n    });\n\n    return listOfSundays;\n  }\n</code></pre>\n\n<p>I need to take the last two sundays af last month and all sundays of this month, but not future sundays, and build a list with all these sundays. </p>\n"},{"tags":["iphone","ios","mvc","uiviewcontroller","uinavigationcontroller"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":8812432,"title":"Issues with the UIViewController and UINavigationController","body":"<p>Ok, i need help for this action in Table</p>\n"},{"tags":["mvc","architecture","dependency-injection","inversion-of-control","membership"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":11855143,"title":"Architecture and Microsoft.AspNet.Providers","body":"<p>I have been Googling for hours and cant find an article that is exactly related to what I need.</p>\n\n<p><strong>I have a MVC4 site with the following layers:</strong></p>\n\n<ul>\n<li>Presentation layer (MVC4)</li>\n<li>Business Layer</li>\n<li>Data layer</li>\n</ul>\n\n<p>I want to use the following provider:(installed using NuGet)\n<strong>Install-Package Microsoft.AspNet.Providers</strong></p>\n\n<p>My question is more of an architectural one.</p>\n\n<p>In my mind, I should install this (Microsoft.AspNet.Providers) in my data layer as it is code that talks to a membership database.</p>\n\n<p>All the posts I can find, however, even by Hanselman just install it in the Presentation layer / MVC4.</p>\n\n<p>I am very big on separation of concerns and am using dependency injection throughout my application.</p>\n\n<p>Obviously I need the config for the provider in my web.config but want all the membership code in my data layer.</p>\n\n<p>Any thoughts?</p>\n\n<p>thanks\nRuSs</p>\n\n<p>PS. Would love to know the process of installing this in a data / repository layer using nuget. Slightly confused as to what DLLs Nuget is installing. If I install in my data layer, nuget doesnt update the MVC web.config.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":11948601,"title":"2 controllers,1 shared view - how to use form_for","body":"<p>I have 1 model which is used by 2 controllers - 1 by normal user and 1 by admin user. New/create, edit/update actions are the same in both controllers. I have a shared view which is used by all of the actions but the problem is with form_for in that shared view:\nFor normal user I would have to use:</p>\n\n<pre><code>form_for @my_model, do |f| \n</code></pre>\n\n<p>For admin I would have to use:</p>\n\n<pre><code>form_for [:admin, @my_model] do |f|\n</code></pre>\n\n<p>How can I reuse the view with 2 controllers? Maybe there is a better way of designing this?</p>\n"},{"tags":["mvc","spring","multithreading","thread-safety"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":698,"score":1,"question_id":3112445,"title":"Thread-safe Controller and Utility Classes?","body":"<p>So I'm using Spring MVC and in my controller I call several Utility classes. Do the Collections I use in those utility classes need to be synchronized? Similarly, are multiple threads spawned for each user when they access my webpage in the controller meaning I need to ensure thread-safety?</p>\n"},{"tags":["c#",".net","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":11949708,"title":"Display two pdf documents on form submit in separate windows/tabs","body":"<p>I have .NET MVC web application. On my page there is a form to choose what pdf docs to display. I want to open pdf files in a new window or tab. The user can choose to display one or two pdf files. My form posts the data to controller, but i dont know how to return two pdfs from my controller and display in separate window/tab.</p>\n\n<p>Does anyone have an idea how this can be done?</p>\n"},{"tags":["mvc","dependency-injection","zend-framework2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":11863528,"title":"ZF2 DI Setter Injection not working anymore","body":"<p>I've used this in my module.config.php since early betas:</p>\n\n\n\n<pre class=\"lang-php prettyprint-override\"><code>'di' =&gt; array(\n    'instance' =&gt; array(\n        'alias' =&gt; array(\n            'Model' =&gt; 'Application\\Model\\Application',\n        ),\n        'Application\\Controller\\IndexController' =&gt; array(\n            'parameters' =&gt; array(\n                'Model' =&gt; 'Model',\n            )\n        ),\n    ),\n),\n</code></pre>\n\n<p>Having this in indexController:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>protected $Model;\n\npublic function setModel (\\Application\\Model\\Model $Model)\n{\n    $this-&gt;Model = $Model;\n}\n</code></pre>\n\n<p>But it stopped to work since I updated from beta5 to rc2. I cant find the change in the ZF2 code nor documentation. </p>\n"},{"tags":["asp.net-mvc","mvc","mvvm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":11936241,"title":"Using same Model for MVVM and MVC","body":"<p>I have a query regarding MVVM and MVC. I am developing an Desktop Client and Web application. I intend to use WPF (and MVVM) to develop desktop client and ASP.Net MVC for web app.</p>\n\n<p>I have never used ASP.Net MVC before although I have never truly liked Web Forms (except some features like Master Page, output Cache etc.) and I mostly use AJAX (jQuery), and handlers to populate HTML and processing inputs (I think I was close to MVC after reading about the pattern but in a different way).</p>\n\n<p>Now these applications will mostly have same inputs, reports, and database. I am planning to create Model that can be re-used in MVVM and MVC both. But after reading various articles on these pattern, and analysis of ASP.Net MVC Code, I doubt that it could be done. In MVVM, View never knows Model while in MVC, Controller shares Model with View. Also, in ASP.Net MVC, a View (ASPX file) is derived from System.Web.Mvc.ViewPage and the labels/captions are populated from Model itself.</p>\n\n<p>Is there a way I can use same Model for both applications?</p>\n\n<p>Thank you.</p>\n\n<p>Ritesh</p>\n"},{"tags":["asp.net-mvc","mvc","repository","viewmodel"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":145,"score":0,"question_id":11943210,"title":"Designing an MVC repository using ViewModels","body":"<p>I want to create a repository class to separate out my data logic from my controllers.  I am using a ViewModel to represent some data that will be filled with data from different tables.</p>\n\n<p>Here are some questions  I have:</p>\n\n<ol>\n<li>For a method like GetAll(), do I return an IQueryable or IQueryable?  If I return viewmodels, how do I cope with a GetAll() that pulls thousands of records?  </li>\n<li>Do I create a constructor for my custom ViewModel class that takes the Entity as a parameter to do the mapping?  (I'm still unfamiliar with automapper so just need an understanding on how to do this from a design point of view)</li>\n</ol>\n\n<p>Again, my main concern is a method like GetAll() which would pull many records.  If I did a foreach loop to translate each Entity into a ViewModel seems like a lot of overhead.  My thought was to put a reference inside the custom ViewModel class to the IQueryable to access from the collection, and have the ListViewModel just have indexers or something like that which reference the collection property.</p>\n"},{"tags":["java","spring","mvc","pojo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":11943244,"title":"how to invoke spring mvc from pojo","body":"<p>I am new to spring world. I am trying to add to new functionality to an existing spring MVC based reporting project. The new functionality would give the user an ability to schedule a particular report to run every so often.\nI see that in current design, model and Controller sections of MVC is tightly coupled. Due to time constraints, I am not trying to separate Model and Controller instead want to use the existing infrastructure as is. My plan is to mimic the browsers request in a pojo and somehow call spring's MVC to handle my request. Am i going in right direction, if so how to I invoke the spring MVC from a POJO, if not, what would be the right approach. Please help........</p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc","directory"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":11944953,"title":"How to implement the MCV architecture in the `<ROOT_APP>/lib` directory?","body":"<p>I am using Ruby on Rails 3.2.2. In the <code>&lt;ROOT_APP&gt;/lib/my_plugin</code> directory I developed a \"plugin\" and now I am considering:</p>\n\n<ul>\n<li>to implement the MCV (Model-Control-View) architecture in the <code>&lt;ROOT_APP&gt;/lib/my_plugin</code> directory;</li>\n<li>to make those related controllers, helpers and so on available to my application (where needed).</li>\n</ul>\n\n<p>Is it possible to make that? If so, how? What do you advice about?</p>\n"},{"tags":["php","mvc","class","function","static"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":11944256,"title":"php include classes without using static functions","body":"<p>Sorry if this has already been answered, I am new to OOP in PHP.  I'm trying to build an mvc for educational and testing purposes and to increase my knowledge of it.  I'm stuck at one point, and can't figure it out.  I'm sure it's a simple solution, but I don't know what the correct term/word would be to look it up.</p>\n\n<p>If an answer already exists, please let me know.</p>\n\n<p>Here is what I am trying to do:</p>\n\n<pre><code>class Load {\n  public function __construct(){\n  }\n\n  public function model($file_name){\n    include($file_name.'.php');\n  }\n}\n\nclass Home_model extends M_F_Model{\n  function __construct() {\n    parent::__construct();\n  }\n\n  public static function test_this_model($var){\n    $result = $var.'+2';\n    return $result;\n  } \n}\n\nclass M_F_Controller {\n  public $load;\n\n  public function __construct(){\n    $this-&gt;load = new Load();\n  }\n}\n\nclass Home extends M_F_Controller{\n  function __construct(){\n    parent::__construct();\n    $this-&gt;load-&gt;model('home_model');       \n  }\n\n  function index($var){\n    $result = Home_model::test_this_model($var);\n    return $result;\n  }\n}\n</code></pre>\n\n<p>I would like to turn <code>Home_model::test_this_model();</code> into <code>$this-&gt;home_model-&gt;test_this_model();</code> without having to declare the instance of <code>home_model</code> in the <code>Home</code> class for each class I may want to include in the future, and to avoid using static functions.  </p>\n\n<p>Thanks in advance, let me know if you need any further information.</p>\n"},{"tags":["java","xml","spring","mvc","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":130,"score":1,"question_id":11940194,"title":"SpringMVC using annotations and xml configurations","body":"<p>I am very new to Spring MVC. I am creating an application, and I want to use the xml configurations (since its easier for me to follow and learn), but there are some benefits from the annotation configuration that I would like to make use of. </p>\n\n<p>I have an application that functions great with the xml configuration, so I just want to convert my MVC controllers to annotations and still maintain the rest of my xml configurations. Basically what I want is to use the @Controller annotation since the SimpleFormController has been deprecated. I followed previous threads on this forum but i am getting an <strong>HTTP 404 error</strong>.  Can someone help me here or tell me what i am doing wrong?</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.apache.log4j.Logger;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.crimetrack.service.CountryManager;\n\n@Controller\n@RequestMapping(value=\"/hello.htm\", method = RequestMethod.GET)\npublic class CountryListController{\n\n    private final Logger logger = Logger.getLogger(getClass());\n    private CountryManager countryManager;\n\n\n    public ModelAndView handleRequest(HttpServletRequest request,\n            HttpServletResponse response) throws Exception {\n\n        logger.debug(\"In Http method for CountryListController\");\n\n        Map&lt;String, Object&gt; myModel = new HashMap&lt;String, Object&gt;();\n        myModel.put(\"countryList\", this.countryManager.getCountries());\n\n        return new ModelAndView(\"hello\", \"model\", myModel);\n    }\n\n\n    public void setCountryManager(CountryManager countrymanager){\n\n        this.countryManager = countrymanager;\n    }\n\n}\n</code></pre>\n\n<p><strong>ApplicationContext.xml</strong></p>\n\n<pre><code>  &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xmlns:aop=\"http://www.springframework.org/schema/aop\"\n         xmlns:tx=\"http://www.springframework.org/schema/tx\"\n         xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n           http://www.springframework.org/schema/aop \n           http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n           http://www.springframework.org/schema/tx \n           http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\"&gt;\n\n\n\n    &lt;bean id=\"countryManager\" class=\"com.crimetrack.service.CountryManager\"&gt;\n        &lt;property name=\"countryDao\" ref=\"countryDao\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"countryDao\" class=\"com.crimetrack.jdbc.JdbcCountryDAO\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"authenticationManager\" class=\"com.crimetrack.service.AuthenticationManager\"&gt;\n        &lt;property name=\"loginDao\" ref=\"loginDao\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"loginDao\" class=\"com.crimetrack.jdbc.JdbcLoginDAO\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n            &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\"/&gt;\n            &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n            &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;\n            &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"propertyConfigurer\" \n          class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:jdbc.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\" \n          class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;      \n\n  &lt;/beans&gt;\n</code></pre>\n\n<p><strong>application-servlet.xml</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n                           http://www.springframework.org/schema/context\n                           http://www.springframework.org/schema/context/spring-context-3.0.xsd\n                           http://www.springframework.org/schema/beans/spring-context-3.0.xsd\"&gt;\n\n\n    &lt;context:annotation-config/&gt;   \n\n    &lt;context:component-scan base-package=\"com.crimetrack.web\"/&gt;  \n\n    &lt;bean class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\"/&gt; \n\n    &lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"/&gt;   \n\n    &lt;bean class=\"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter\"/&gt; \n\n\n     &lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n            &lt;property name=\"basename\" value=\"messages\"/&gt;\n     &lt;/bean&gt;\n\n\n      &lt;bean name=\"/login.htm\" class=\"com.crimetrack.web.AuthenticationController\"&gt;\n        &lt;property name=\"authenticationManager\" ref=\"authenticationManager\"/&gt;\n        &lt;property name=\"login\" ref=\"login\"/&gt;\n\n     &lt;/bean&gt;\n\n     &lt;bean name=\"authenticationManager\" class=\"com.crimetrack.service.AuthenticationManager\" /&gt;\n\n     &lt;bean name=\"login\" class=\"com.crimetrack.business.Login\" /&gt;\n\n\n\n      &lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"viewClass\" value=\"org.springframework.web.servlet.view.JstlView\"&gt;&lt;/property&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\"&gt;&lt;/property&gt;\n        &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;        \n      &lt;/bean&gt;\n\n  &lt;!--  &lt;bean name=\"/login.htm\" class=\"org.springframework.web.servlet.mvc.ParameterizableViewController\"&gt; &lt;property name=\"viewName\" value=\"login\"/&gt;    &lt;/bean&gt; --&gt;  \n\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc","logging","elmah"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":11904246,"title":"Log to Elmah in async Task","body":"<p>I need some Elmah logging in a async task executing on my webserver. But when I try to log the error it fails because of the HttpContext.</p>\n\n<pre><code>        var httpContext = HttpContext.Current;\n\n        Task.Factory.StartNew(() =&gt;\n        {\n            HttpContext.Current = httpContext;\n\n            try\n            {\n                //Execute some code\n            }\n            catch (Exception ex)\n            {\n                //Generate some error for the user and log the error in Elmah\n                try\n                {\n                    ErrorLog.GetDefault(HttpContext.Current).Log(new Error(ex));\n                }\n                catch(Exception ex)\n                {\n                }\n            }\n        });\n</code></pre>\n\n<p>To get the progress for the task I implemented some polling mechanism. Currently none of the errors are logged to Elmah which make it difficult to solve them.</p>\n\n<p>Also providing the context as parameter doesn't work.</p>\n\n<p>It doesn't work. I get an ArgumentException telling me the expected value doesn't fall within the expected range. With the following stacktrace:</p>\n\n<p>at System.Runtime.InteropServices.Marshal.ThrowExceptionForHRInternal(Int32 errorCode, IntPtr errorInfo)\n   at System.Web.Hosting.IIS7WorkerRequest.GetServerVariableInternal(String name)\n   at System.Web.HttpRequest.AddServerVariableToCollection(String name)\n   at System.Web.HttpRequest.FillInServerVariablesCollection()\n   at System.Web.HttpServerVarsCollection.Populate()\n   at System.Web.HttpServerVarsCollection.Get(String name)\n   at Elmah.ErrorLog.InferApplicationName(HttpContext context)\n   at Elmah.ErrorLog.GetDefaultImpl(HttpContext context)\n   at Elmah.ServiceContainer.GetService(Type serviceType)\n   at Elmah.ServiceCenter.GetService(Object context, Type serviceType)\n   at Elmah.ErrorLog.GetDefault(HttpContext context)\n   at Bis.Utilities.Log.ElmahErrorLog.TryLogError(Exception exeption) in D:\\Users\\A500535\\Documents\\Projecten\\Biobank\\Bis\\src\\Utilities\\Log\\ElmahErrorLog.cs:line 13</p>\n"},{"tags":["php","mvc","path","controller","include"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":95,"score":-3,"question_id":11922914,"title":"Better way for including file in calling controller folder (root controller has folders)","body":"<p>On working PHP MVC, on CONTROLLER folder i have a files controller, but inside has folders that must called controller inside folders.</p>\n\n<p>Has anyone better way and nicely code implementation of these below?</p>\n\n<p>I'm working on this way but I'm not sure is that best way calling controller?</p>\n\n<pre><code>/*\n\nSTRUCTURE OF DIR FILES: controllers:\na/b/c/file.php\na/b/c &lt;-- IS DIRECTORY\na/b/c &lt;-- IS FILE\n\n*/\n$uri_result = false;\n$controller_called = false;\n\n/* called controllers */\n$uri_segments[0] = 'a';\n$uri_segments[1] = 'b';\n$uri_segments[2] = 'c';\n#$uri_segments[3] = 'file.php';\n/* end called controllers */\n\n$counted = count($uri_segments);\n\n$filled = array();\n$i = 0;\ndo {\n\n    if ($i &lt; $counted)\n    {\n        $z[] = $uri_segments[$i];\n        $ez = implode('/', $z);\n    }\n\n    if (file_exists($ez))\n    {\n        $uri_result = $ez;\n        $controller_called = $z[$i];    \n    }\n++$i;\n} while ($i &lt; $counted);\n\nvar_dump($uri_result,$controller_called);\n\n/* RESULTS:\n\nIf called $uri_segments[0] to uri_segments[3]\nstring(14) \"a/b/c/file.php\" string(8) \"file.php\" \n\nIf called $uri_segments[0] to uri_segments[2]\nstring(5) \"a/b/c\" string(1) \"c\" \n\n*/\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","caching"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11246396,"title":"MVC Cache Based on Variables in Session and Custom Security Logic","body":"<p>I have an application that shows many charts and tables using JQuery. Some of these charts are based on variables that are saved in the session (E.g. user added a value in another page and in the next page I am generating a chart, so the user request doesn't send any parameters)</p>\n\n<p>I was looking around on the net and most of the solutions are based on          </p>\n\n<pre><code> [OutputCache(Duration=60, VaryByParam=\"someParm\")]\n</code></pre>\n\n<p>The problem is most of my request don't send parameters, they just use values that are in the session.</p>\n\n<p>Is there any way to enable cache for these kinds of requests?</p>\n\n<p><strong>Edit:</strong> We have a complex security requirement that we couldn't use the default authorization attribute of MVC. We had to write logics based on the current user + the parameters sent to the action, so a method inside the action decides either to go ahead with the request or returns nothing. This makes caching very difficult because at the time OutputCache is executed we just have parameters, but identity object in the context is empty. As a result, if a user with admin privilege send a request for a and b and after him someone with minimum privilege send request for a and b, the second person will see the result because the action didn't run, but the value from the cache is used!</p>\n\n<p>To solve this problem I used the getvarybyCustome. All this function does is to return user's group name which helps to create a more complex key. The person with minimum privilege in the last example will have different cache key (a,b,group_less) than the admin's request cache key (a,b,group_admin). However, getting's group name for each request is expensive as well, so I use Cache object to cache user's group, so at the beginning of the session the user's group is queried from AD and saved to cache, so  for his/her later requests, his group name is retrieved from cache.</p>\n"},{"tags":["mvc","design-patterns","cakephp","plugins","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":11935302,"title":"How do I place a View belonging to a Plugin in regular View (CakePHP Howto)","body":"<p>I would like to get some input regarding the feasibility of the following scenario/design pattern:  </p>\n\n<p>I would like to insert a <code>View</code> from a Category Plugin (<code>/category/categories/tree</code>) into one of my application Views (<code>/posts/edit/3</code>) as if it is an CakePHP element.<br>\nThe inserted <code>View</code> has a high level of functionality (sorting, adding, deleting, etc...) and therefore simply calling <code>echo $this-&gt;element();</code> does not seem appropriate to me. That 'feels' more like a practice appropriate in situations where 'snippet'/lower level functionality is needed.</p>\n\n<p>My question: is this possible in CakePHP, if so: how to do this? (just a rough outline of the way to go would suffice)<br>\nMy first idea is to call an <code>element</code> from the plugin and use <code>$this-&gt;requestAction();</code> from the element.<br>\nBut as I said earlier is my association with elements one of little functionality/snippet. Using a controller method and its <code>View</code> 'feels' more appropriate. But I don't know how to 'call' a View within a View.</p>\n\n<p>Main reason why I would want this:<br>\nfull Controller functionality.  </p>\n\n<ul>\n<li>activate helpers based on Plugin requirements (this should be of no concern to the posts-controller)</li>\n<li>beforeFilter and beforeRender of Plugin might be of use. For example: <code>$this-&gt;set('modelName', $this-&gt;modelClass);</code></li>\n</ul>\n"},{"tags":["mvc","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":11934247,"title":"Yii - partials, clips or widget?","body":"<p>We have a controller that manages sales.\nWe need to display a snipped of those sales on a dashboard. No more logic is involved.</p>\n\n<p>What should that snipped be ?\nA clip ? A partial ? Or a Widget ?</p>\n"},{"tags":["sql","asp.net-mvc","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":11932560,"title":"How to do the following (SQL) as a model / models","body":"<p>Busy learning MVC 3 and have come across the following scenario which I would like to implement in the proper/best way using MVC 3 standards.</p>\n\n<p>I have 2 Tables hArticle &amp; lRating in my DB, the hArticle Table basically stores the articles information and the lRating table stores each rating per person. Below is the SQL statement that I would use to obtain the Data I need. (Please note this is for Reading purposes only, I do NOT need the Create, Update &amp; Delete from CRUD)</p>\n\n<p><strong>SQL Statement:</strong></p>\n\n<pre><code>SELECT DISTINCT A.ArticleID, A.Title, A.Likes, A.Author, \nCASE WHEN SUM(R.Rating) IS NULL THEN 0 ELSE SUM(R.Rating) END AS 'Rating'\nFROM hArticle A \nLEFT OUTER JOIN lRating R ON R.ArticleID = A.ArticleID\nGROUP BY A.ArticleID, A.Title, A.Likes, A.Author\n</code></pre>\n\n<p><strong>This produces the following result:</strong></p>\n\n<pre><code>    1   Article 1     12    Peter Ndlovo    10\n    2   Article 2     2     Peter 2         0\n    3   Article 3     3     Peter 3         0\n    4   Article 4     4     Peter 4         0\n</code></pre>\n\n<p>What is the proper/best way to recreate the following SQL statement in MVC i.e. Do I create a Model mapped to an SQL View or create a Model for Each Table and combine them etc??</p>\n"},{"tags":["mvc","java-ee","jsf-2","managed-bean"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":128,"score":0,"question_id":11931568,"title":"Cannot read GET parameter in managed bean","body":"<p>I tried 2 methods but they both failed.</p>\n\n<p>I'm accessing a page like this : </p>\n\n<pre><code>http://localhost:8090/web-office/vues/contrat/choixContrat.xhtml?ID=7\n</code></pre>\n\n<p>I should have a parameter ID wich is equal to \"7\"</p>\n\n<p>However when using a '@PostConstruct' ID is equal to null</p>\n\n<pre><code>//bean attribute\nString id;\n\n@PostConstruct\n    public void init() {\n        HttpServletRequest request = (HttpServletRequest) FacesContext.getCurrentInstance().getExternalContext().getRequest();\n        id = request.getParameter(\"ID\");\n}\n</code></pre>\n\n<p>and when using </p>\n\n<pre><code>@ManagedProperty(value=\"#param.ID\")\nString id;\n</code></pre>\n\n<p>id contains \"#param.ID\"</p>\n\n<p>I really don't see what is the problem.\nhere is the full Bean, just in case :</p>\n\n<pre><code>@Getter\n@Setter\n@ManagedBean(name = \"choixContrat\")\n@ViewScoped\npublic class ChoixContratBean implements Serializable{\n\n    /** DOCUMENT ME! */\n    private static final long serialVersionUID = -2895107649829330897L;\n    //contien l'id de la personne avec qui effectué le contrat si on arrive depuis un ecran de consultation de personne\n    @ManagedProperty(value=\"#param.ID\")\n    String idPersonne;\n\n    public ChoixContratBean(){\n    //nothing        \n    }\n\n\n\n    public void envoyerVerscreationAssurance() throws IOException{\n        if (idPersonne == null)\n            FacesContext.getCurrentInstance().getExternalContext()\n            .redirect(\"creation/creationContratAssurance.xhtml\");\n        else\n            FacesContext.getCurrentInstance().getExternalContext()\n            .redirect(\"creation/creationContratAssurance.xhtml?ID=\"+idPersonne);    \n    }\n\n    public void envoyerVerscreationBancaire() throws IOException{\n        if (idPersonne == null)\n            FacesContext.getCurrentInstance().getExternalContext()\n            .redirect(\"creation/creationContratBancaire.xhtml\");\n        else\n            FacesContext.getCurrentInstance().getExternalContext()\n            .redirect(\"creation/creationContratBancaire.xhtml?ID=\"+idPersonne);     \n    }\n\n    public void envoyerVerscreationImmobilier() throws IOException{\n        if (idPersonne == null)\n            FacesContext.getCurrentInstance().getExternalContext()\n            .redirect(\"creation/creationContratImmo.xhtml\");\n        else\n            FacesContext.getCurrentInstance().getExternalContext()\n            .redirect(\"creation/creationContratImmo.xhtml?ID=\"+idPersonne);     \n    }\n\n}\n</code></pre>\n\n<h1>EDIT===============================================</h1>\n\n<p>As it turns out, no bean's attributes were being displayed on the page, because of that the bean was not being instanciated.</p>\n\n<p>And thus it's constructor never called.</p>\n\n<p>by adding this in the JSF code :</p>\n\n<pre><code>&lt;h:outputText value=\"#{choixContrat.idPersonne}\" style=\"visibility:hidden;\" /&gt;\n</code></pre>\n\n<p>Reading parameter in the bean constructor now works</p>\n\n<pre><code>public ChoixContratBean(){\n//recuperation de l'ID   \nidPersonne = FacesContext.getCurrentInstance().getExternalContext().getRequestParameterMap().get(\"ID\");    \n}\n</code></pre>\n\n<p>However \"@ManagedProperty(value=\"{param.ID}\")\" does not work, it fill the \"idPersonne\"String by \"{param.ID}\"</p>\n"},{"tags":["php","mvc","zend-framework","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":8653028,"title":"Proper way to send data to MVC Views in Zend","body":"<p>In our setup, we have models+mappers for all db objects. Then there are controller actions which prepare model objects for respective actions based on business logic.</p>\n\n<p>We have send entire model object to the view and if view (html) wants to show first name, it can call <code>$obj-&gt;getFirstName()</code> or if some other view (pdf) can even call <code>$obj-&gt;getFullName()</code>. Is this how it is supposed to be done?</p>\n\n<p>What if country was left empty and the view ignorantly calls <code>$obj-&gt;getCountry()-&gt;getISO3Code()</code> will be  fatal since <code>getCountry()</code> returned false instead of a expected country object. </p>\n\n<p>One option is to bother the view with IF.. etc so it is made safe. but does it not defeat the purpose that views should be dump without logic? or maybe I over stressed it.</p>\n\n<p>should we send the entire model object to the view (as now) or safely prepare and send a array of viewable fields? It kinda it makes the action to be aware how PDF view looks like and html view looks like, again maybe defeating controllers purpose.</p>\n"},{"tags":["spring","mvc","controller","request"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":189,"score":0,"question_id":11932065,"title":"Spring MVC : Mapping an input button (non submit) with the controller request","body":"<p>I'm trying to map a button action to the controller function.\nWhen I tried with :</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\npublic void processValidateGenerate \n....\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;input type=\"button\" id=\"continue\" name=\"continue\"...&gt;\n</code></pre>\n\n<p>that works just fine, but now i want to add another button, so to differentiate betweent them I added so for the first action :</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, params=\"continue\")\npublic void processValidateGenerate \n....\n</code></pre>\n\n<p>but the function is not called anymore when the button is pressed, I think that works only for a submit input.</p>\n\n<p>Are there any solution to do this with a non submit input ?</p>\n\n<p>Thank you</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":8659474,"title":"Extending a controller from an existing controller class in Zend Framework","body":"<p>Good morning, I have classic application, and I'll like to extend ArticleController from UserController, but when I try</p>\n\n<pre><code>class ArticleController extends UserController\n{\n    // ...\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>class ArticleController extends Application_Controllers_UserController\n{\n\n}\n</code></pre>\n\n<p>I got Fatal error: class ... not found...\nHow can I extend one controller from another in Zend Framework?</p>\n"},{"tags":["php","html","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":11931108,"title":"Making theme files .html","body":"<p>They have some php code within (if, endif, variables), but essentially they are html files.</p>\n\n<p>Do you think is a good idea to use the .html extension and prevent direct access to them trough .htaccess, so the php code is not visible to anyone ?</p>\n\n<p>Is it safe?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":421,"score":5,"question_id":8597777,"title":"What are the best practices for Asp.net MVC page construction, allowing for parallelism and efficiency?","body":"<p>I found it difficult to argue with anything in this critique of ASP.net MVC's framework for page composition.</p>\n\n<p><a href=\"http://www.matlus.com/problems-with-asp-net-mvc-framework-design/\" rel=\"nofollow\">http://www.matlus.com/problems-with-asp-net-mvc-framework-design/</a></p>\n\n<p>Particularly these points:</p>\n\n<ul>\n<li>No access to view or partial view instances</li>\n<li>ViewData is your loosely typed information carrier</li>\n<li>Controller is not really in control</li>\n<li>Child Actions have no sense of the Request Context</li>\n<li>Views are coupled to controllers</li>\n</ul>\n\n<p>For small applications, I don't think that a lot of these prove to be much of a problem, but in large applications where you want to reuse a lot of shared components, or even if you just have a large application that depends on multiple backend sources of information to obtain all of the information necessary to render a view, it starts to break down.</p>\n\n<p>Various half-solutions to these problems have been proposed but they do not appear to scale well or have undesirable design constraints.</p>\n\n<p>Here is an example application scenario:</p>\n\n<ol>\n<li>50% of page content is common across all pages within an application (header, footer, menus, etc.)</li>\n<li>Your application may actually be comprised of multiple areas, each with their own controllers, etc. for independent development.</li>\n<li>A number of the page elements (menus, page header information, footers, disclosures) that are in the common page content require one or more service calls to fill out the data for rendering.</li>\n</ol>\n\n<p>Okay, so in asp.net mvc3, let's say that you decide that you want to share a common Razor layout that contains the 50% common UI markup.  This assists with Separation of Concerns in that application developers don't need to be concerned about common ui and can focus on the logic and views specific to their domain of expertise.</p>\n\n<p>However, this completely breaks down in the case that this shared layout needs data (some semblance of one or more model types) to render itself completely.  You may have independent elements on the page that each need a particular data model, such as:\n* primary menu model\n* secondary menu model\n* footer links model\n* authorization model\n* footer disclaimers model</p>\n\n<p>And each of these models may have separate sources.  So although you can share the template, there is not an easy way to share the logic to build each of these models -- and there is definitely not one that is generic, extensible, and performant that I have seen.</p>\n\n<p>Some approaches to this problem that I have seen are:</p>\n\n<ul>\n<li><em>Strongly type the common layout</em>, which requires all view models to subclass a common base model class. (but there is no general solution to populating such a meta-model, and this is limiting in design and makes models huge and harder to test)  Additionally, model population still falls to every controller, violating the Separation of Concerns and Single Responsibility Principle and complicating unit testing controllers by piling on lots of extra logic to populate the meta-model in addition to the view-specific model information.</li>\n<li><em>Leave the common layout untyped</em>, so you don't have to inherit from a common base model, but this requires you to use ViewData or ViewBag to communicate all of the disparate models that the template needs so you lose strong typing benefits and end up with a loose data contract.  You still have the problem of a lack of a general solution to populating the meta-model and all that goes along with that.</li>\n<li><em>Every controller has to subclass a common base controller class</em> to support a common layout and model.  Logic for building the common aspects of the meta-model goes here.  But this is not always a desirable architecture or design constraint.  This does at least resolve the Separation of Concerns issues.</li>\n<li>Instead of a meta-model, <em>use child actions via RenderAction() in your common layout</em> to make reusable \"portlet\" style widgets that each know independently how to build their data model and provide it to their view.  This is really good for Separation of Concerns, but has its own litany of downsides:  views effectively making service calls during rendering via the child actions, child actions are completely unaware of the original request context, violates DRY principle as each child action is unaware of what has gone before it so each could make the same service calls over and over again in the same http request, and others.  Imagine 20-30 elements of a page that all needed to invoke RenderAction() independently...</li>\n</ul>\n\n<p>There are additional cases (some seen on stackoverflow as well) where there are other problems with RenderAction() as a solution.  e.g. the fact that issuing multiple RenderAction() calls in a loop results in serial execution of all of those controller methods. There is no opportunity for parallelism with RenderAction().  I/O bound service calls in each child controller action cause the whole rendering process to wait on I/O.  A controller only has knowledge of its immediate view and model and nothing has a complete picture of what is going to be inside the view in order to parallelize some operations.</p>\n\n<p>The author of the above critique developed a different UI model on top of ASP.Net mvc called Quartz that allows a God Controller to have intimate knowledge of the views and can hand each of them a view model so has the opportunity to parallelize service calls in a central place to build those view models.  I don't know if this is the best design to provide hooks for overcoming the problems but looks promising.</p>\n\n<p>My question is, what is the best practice for building a complex application on top of ASP.Net MVC that cleanly solves these problems?  I have thought of a couple possibilities (although none may be practical within ASP.Net MVC--that is TBD) but someone else must have ran into this already.  What are the design patterns within ASP.Net MVC or what is coming down the pike that could make this a tractable problem?</p>\n"},{"tags":["ruby-on-rails","asp.net-mvc","mvc","design-patterns"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":244,"score":1,"question_id":5249022,"title":"Private methods in Controllers","body":"<p>Greetings,</p>\n\n<p>I've worked on quite a few apps now that are using the MVC pattern be it in Rails or .Net and I always see a bit of private methods being added inside the controller class.  These private methods are really knowing the \"how\" do validate something or the \"how\" to create a view model to a domain model.  It seems to me that this logic is leaking and should be placed inside helpers or into the domain model itself.  I always liked the phrase \"A controller should know what to do, but now how to do it.\" and it seems adding a bunch of private methods to the class breaks this.</p>\n\n<p>I'm hoping someone has some useful insight into the matter.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","mvc","xna"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":692,"score":0,"question_id":7904292,"title":"C# - is inaccessible due to its protection level","body":"<p>I can't figure out why this is the case. I'm creating a View class from Game class and then I'm trying to call a method from View in Game and send it the entire game object as a parameter. If I send single variables as a parameter then it work's no problem but I wanted to send the whole Game object so that only one thing would be passed.</p>\n\n<p>Game class</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing Microsoft.Xna.Framework;\nusing Microsoft.Xna.Framework.Audio;\nusing Microsoft.Xna.Framework.Content;\nusing Microsoft.Xna.Framework.GamerServices;\nusing Microsoft.Xna.Framework.Graphics;\nusing Microsoft.Xna.Framework.Input;\nusing Microsoft.Xna.Framework.Media;\n\nnamespace Airfield\n{\n    public class Game : Microsoft.Xna.Framework.Game\n    {\n        // Device Objects\n        GraphicsDevice device = null;\n        GraphicsDeviceManager graphics = null;\n        MouseState mouse;\n\n        // Game Objects\n        SpriteBatch spriteBatch;\n        Texture2D b = null;\n        View view = null;\n\n        // Arrays\n        Buoy [] buoy = new Buoy[3];\n        Plane [] plane = new Plane[3];\n\n        // Variables\n        bool selected = false;\n        int index = 0;\n\n        public Game()\n        {\n            graphics = new GraphicsDeviceManager(this);\n        }\n\n        protected override void Initialize()\n        {\n            Content.RootDirectory = \"Content\"; \n            this.IsMouseVisible = true;\n            graphics.PreferredBackBufferWidth = 800;\n            graphics.PreferredBackBufferHeight = 600;\n            graphics.ApplyChanges();\n            base.Initialize();\n\n            view = new View();\n\n            for (index = 0; index &lt; buoy.Length; index++)\n            {\n                buoy[index] = new Buoy();\n                plane[index] = buoy[index].CreatePlane();\n            }\n        }\n\n        protected override void LoadContent()\n        {\n            device = graphics.GraphicsDevice;\n            spriteBatch = new SpriteBatch(device);\n            b = Content.Load&lt;Texture2D&gt;(\"buoy\");\n        }\n\n        protected override void UnloadContent()\n        {\n\n        }\n\n        protected override void Update(GameTime gameTime)\n        {\n            base.Update(gameTime);\n\n            mouse = Mouse.GetState();\n\n            if (selected == true || mouse.X &gt;= buoy[0].position.X - 3 &amp;&amp; mouse.X &lt;= buoy[0].position.X + 19 &amp;&amp; mouse.Y &gt;= buoy[0].position.Y - 3 &amp;&amp; mouse.Y &lt;= buoy[0].position.Y + 19)\n            {\n                if (mouse.LeftButton == ButtonState.Pressed)\n                {\n                    selected = true;\n                    buoy[0].position= new Vector2(mouse.X - 8, mouse.Y - 8);\n                }\n\n                else\n                {\n                    selected = false;\n                }\n            }\n        }\n\n        protected override void Draw(GameTime gameTime)\n        {\n            base.Draw(gameTime);\n            view.DrawScreen(this);\n        }\n    }\n}\n</code></pre>\n\n<p>View Class</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing Microsoft.Xna.Framework;\nusing Microsoft.Xna.Framework.Audio;\nusing Microsoft.Xna.Framework.Content;\nusing Microsoft.Xna.Framework.GamerServices;\nusing Microsoft.Xna.Framework.Graphics;\nusing Microsoft.Xna.Framework.Input;\nusing Microsoft.Xna.Framework.Media;\n\nnamespace Airfield\n{\n    class View\n    {\n        public View()\n        {\n\n        }\n\n        public void DrawScreen(Game game)\n        {\n            game.device.Clear(Color.CornflowerBlue);\n\n            game.spriteBatch.Begin();\n            DrawBuoys(game);\n            game.spriteBatch.End();\n        }\n\n        public void DrawBuoys(Game game)\n        {\n            for (int x = 0; x &lt; game.buoy.Length; x++)\n            {\n                game.buoy[x].DrawBuoy(game.spriteBatch, game.b);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Basically I get the error for every time that I try and use something that has come from Game.</p>\n"},{"tags":["asp.net-mvc-3","visual-studio-2010","mvc","razor","c#-3.0"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":260,"score":1,"question_id":11919080,"title":"MVC 3 Razor: Passing data from View using a Model that has classes within it","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5197038/complex-models-and-partial-views-model-binding-issue-in-mvc3\">Complex models and partial views - model binding issue in MVC3</a>  </p>\n</blockquote>\n\n\n\n<p>Can you pass data from a View to a Controller when the properties are sitting within a class that is within the Model used in that View?</p>\n\n<p>The problem is that when the Submit happens, it seems that properties of my Model \nthat belong to a class within that Model do not get populated. \nProperties that are not in classes DO get populated. \nJust think there is a instantiation problem here but not seeing the path forward.</p>\n\n<p>Here is the Model setup:</p>\n\n<pre><code>namespace AppName.Models\n{\n    public class SuperModel\n    {\n        public SuperModel() {\n            SubModA = new SubModelA();\n        }\n        public string myItem1 { get; set; }\n        public SubModelA SubModA { get; set; }\n    }\n\n    public class SubModelA\n    {\n        public string mySubAItem1 { get; set; }\n    }\n}\n</code></pre>\n\n<p>Here is the View:</p>\n\n<pre><code>@model AppName.Models.SuperModel\n\n@{\n    ViewBag.Title = \"My Page Title\";\n}\n\n&lt;h2&gt;My Page Title:&lt;/h2&gt;\n\n@using (Html.BeginForm(\"NextController\", \"NextControllerFolder\", new { SuperModel = Model }, FormMethod.Post))\n{\n    @{\n        Model.myItem1 = DateTime.Now.ToShortDateString();\n        Model.SubModA.mySubAItem1 = DateTime.Now.ToShortDateString();\n    }\n    @Html.HiddenFor(m =&gt; m.myItem1)\n    @Html.HiddenFor(m =&gt; m.SubModA.mySubAItem1)\n\n    &lt;p&gt;\n        &lt;button name=\"submit\" value=\"Submit\"&gt;&lt;b&gt;Continue&lt;/b&gt;&lt;/button&gt;\n    &lt;/p&gt;\n}\n</code></pre>\n\n<p>Here is the Controller:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult NextController(string button, SuperModel model, string returnUrl)\n{\n    // PROBLEM IS HERE&gt;&gt;&gt;\n    ///model.myItem1 has a value equal to the current date\n    // model.SubModA.mySubAItem1 is null\n\n    return(model);\n}\n</code></pre>\n\n<p>Hope this question made sense. Hope the answer is just around the corner! Thanks! </p>\n"},{"tags":["javascript","mvc","model","backbone.js"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":550,"score":2,"question_id":10745782,"title":"Is Backbone.js really an MVC?","body":"<p>backbone.js has been spoken of as an MVC framework for Javascript.  But is it?</p>\n\n<p>Here is the description of the model, from <a href=\"http://documentcloud.github.com/backbone/\" rel=\"nofollow\">http://documentcloud.github.com/backbone/</a></p>\n\n<blockquote>\n  <p><strong>Models</strong> are the heart of any JavaScript application, containing the interactive data as well as a large part of the logic surrounding it:\n  conversions, validations, computed properties, and access control. You\n  extend Backbone.Model with your domain-specific methods, and Model\n  provides a basic set of functionality for managing changes.</p>\n</blockquote>\n\n<p>Now, that is not my understanding of the model in MVC at all.  In my understanding, the model is just the classes that model the domain, so your Student, School and Teacher objects.  The controller does performs the business logic on them and interacts with the view for display and receiving input.</p>\n\n<p>This understanding is consistent with the various definitions I find on the web, IE <a href=\"http://en.wikipedia.org/wiki/Model_view_controller\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Model_view_controller</a>:</p>\n\n<blockquote>\n  <p><strong>Model–View–Controller (MVC)</strong> is a design pattern for computer user\n  interfaces that divides an application into three areas of\n  responsibility:</p>\n  \n  <p><em>the Model</em>: the domain objects or data structures that\n  represent the application's state.</p>\n</blockquote>\n\n<p>So, my question is: is backbone.js really a MVC framework in any sense, or is it more of just a general way of helping you to glue everything together?</p>\n\n<p>Incidentally, the definition of the Model from backbone.js's FAQ appears to differ from the one I quoted above (also from backbone.js <a href=\"http://documentcloud.github.com/backbone/#FAQ-mvc\" rel=\"nofollow\">http://documentcloud.github.com/backbone/#FAQ-mvc</a>:</p>\n\n<blockquote>\n  <p><strong>Backbone.Model</strong> – Like a Rails model minus the class methods. Wraps a row of data in business logic.</p>\n</blockquote>\n\n<p>So in what sense is backbone.js really an MVC or not?</p>\n\n<p>(Caveat: I am just evaluating backbone.js currently.)</p>\n"},{"tags":["c#","winforms","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":384,"score":0,"question_id":10944988,"title":"WinForms MVC example approach","body":"<p>I am a newbie to C#, &amp; i want to learn MVC plain pattern with Win-from example.\nI have almost most of the SO links but most of them referred to some useful links which are explained about the concepts.<a href=\"http://stackoverflow.com/questions/955973/looking-for-clean-winforms-mvc-tutorial-for-c-sharp\">Looking for clean WinForms MVC tutorial for C#</a>\nI tried to download source code from some links but i couldn't succeed.</p>\n\n<p>According to my knowledge what MVC means:</p>\n\n<ul>\n<li>View gets the user input and send it to the controller.</li>\n<li>Controller informs the model in-response to the user input.\n<ul>\n<li>It can modify view directly</li>\n</ul></li>\n<li>Model notifies the view of the change.</li>\n<li>View updates itself based on changes to model.</li>\n</ul>\n\n<p>Please correct me if the above concept is wrong.</p>\n\n<p>I'm working  on a small project to learn about MVC Winfroms.. I have shared my project here in these links.\n<a href=\"https://rapidshare.com/files/328097704/MVCCustomerRecords.rar\" rel=\"nofollow\">https://rapidshare.com/files/328097704/MVCCustomerRecords.rar</a>\n<a href=\"https://skydrive.live.com/redir?resid=8FE34CB77340CAA9!145\" rel=\"nofollow\">https://skydrive.live.com/redir?resid=8FE34CB77340CAA9!145</a></p>\n\n<p>The idea of this project to create a customer records and save it in a XML file. I got four functions <code>1.Create 2.Update 3.Remove and 4.Search by ID</code></p>\n\n<p>I have finished the finished 1st function but I don't know how to proceed with the other functions. Please assist me with the example project and please correct me if the MVC pattern is wrong in this project.</p>\n\n<p>XML File:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ArrayOfCustomerRecordsItem xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n  &lt;CustomerRecordsItem&gt;\n    &lt;CustomerID&gt;67868&lt;/CustomerID&gt;\n    &lt;FirstName&gt;ert&lt;/FirstName&gt;\n    &lt;LastName&gt;ert&lt;/LastName&gt;\n    &lt;Address&gt;ertreer&lt;/Address&gt;\n    &lt;Mobile&gt;677786868&lt;/Mobile&gt;\n    &lt;Country&gt;retret&lt;/Country&gt;\n  &lt;/CustomerRecordsItem&gt;\n&lt;/ArrayOfCustomerRecordsItem&gt;\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","ruby","mvc","backbone.js"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":258,"score":4,"question_id":11918586,"title":"rails and backbone working together","body":"<p>I am just starting to look at MVC structure, first i looked at how backbone.js worked, and now i have just completed rails for zombies. I know that i haven't delved too far into any of this, but i had a question to begin with.</p>\n\n<p>Do you use these to libraries together? I have learned how to create models, views, etc in both, but when creating a real application are both used? And if so when do you use a backbone model vs a rails model etc.. </p>\n\n<p>Maybe i am just getting ahead of myself and need to keep practicing and doing tutorials but i couldn't seem to find anything directly on this. </p>\n\n<p>Thanks!</p>\n"},{"tags":["ruby-on-rails","algorithm","mvc","session","scoring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11918311,"title":"Scoring Algorithm in Model using a session variable in rails","body":"<p>I want to return results to a user sorted by a scoring algorithm that is personalized to the user based on their friends.  For context, in my app, users have events that they can add to their calendar.  Myevents is a join table between users and events.  I want to calculate a score based on how many total attendees there are to an event and how many of a user's friends are attending that event.</p>\n\n<p>I want to do something like this:</p>\n\n<pre><code>class Event &lt; ActiveRecord::Base\n\nafter_initialize :calculate_score\nattr_accessor :score\n\n\n\n  def calculate_score(user_id)\n\n\n     User.find_by_id(user_id).friends.each do |friend|\n\n                        if @id = Myevents.find_by_user_id_and_flier_id(friend.id, self.id)\n\n                            friends_attending_list &lt;&lt; @id\n                        end\n\n      end\n\n    friends_attending_count = friends_attending_list.count\n\n    total_attendees_count = Myevents.where(:flier_id =&gt; self.id, :attending_status =&gt; \"1\").count\n\n     self.score = 100*(friend_attending_count) + 50*(total_attendees_count)\n\n  end\n\n\nend\n</code></pre>\n\n<p>Unfortunately, I can't find a good way to pass the session's user_id to the model....ideally, I would like to not violate MVC but I want to be able to sort results by this calculated score.  Any advice?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":11918167,"title":"What are the attributes in CodeIgniter's example model for?","body":"<p>In the CodeIgniter User Guide, the <a href=\"http://codeigniter.com/user_guide/general/models.html\" rel=\"nofollow\">example model</a> had an attribute for each\nfield in the corresponding database table:</p>\n\n<pre><code>    class Blogmodel extends CI_Model {\n\n        var $title   = '';\n        var $content = '';\n        var $date    = '';\n        //...\n</code></pre>\n\n<p>However when it returns a set of blog posts, they are only generic object. </p>\n\n<pre><code>    function get_last_ten_entries()\n    {\n        $query = $this-&gt;db-&gt;get('entries', 10);\n        return $query-&gt;result();\n    }\n</code></pre>\n\n<p>If each blog post is only going to be a generic object, what is the purpose of\nthe attributes at the beginning of the class? </p>\n\n<p>It seems like it would be nice to have each blog post as a fully fledged model\nobject populated with it's content. Then you could write methods that fetched \nvalues internally. However, all the examples in the User Guide seem to show each\ncontroller having one instance of each model and using that object to fetch\ngeneric objects containing the database values. Additionally, the way the \nexamples instantiate the models (<code>$this-&gt;load-&gt;model('Blog');</code>) it's clear that \nyou are only expected to have one instance of the model within the controller.</p>\n\n<p>If my blog post has a <code>status</code> value which is stored in the \ndatabase as an integer, but in several different controllers I want to show that\nvalue as a human readable string, where do I put that function/method? Since I need it\nin multiple controllers, and it's specific to one object, I assume it should be \na method of the model object. If each blog post is an instance of the model, I \ncould write it like this:</p>\n\n<pre><code>    function get_human_status()\n    {\n        $lookup = array(\n            1 =&gt; 'Active',\n            2 =&gt; 'Hidden',\n            3 =&gt; 'Pending');\n        return $lookup[$this-&gt;status];\n    }\n</code></pre>\n\n<p>However, if each blog post is a generic object it would have to look like this:</p>\n\n<pre><code>    function get_human_status($data)\n    {\n        $lookup = array(\n            1 =&gt; 'Active',\n            2 =&gt; 'Hidden',\n            3 =&gt; 'Pending');\n        return $lookup[$data-&gt;status];\n    }\n</code></pre>\n\n<p>Which way is the more idiomatic of CodeIgniter? Assuming it's the second, why does the example model define those internal attributes?</p>\n\n<p>Finally, for bonus points, if I had other questions of this nature, what books,\narticles, or examples should I be looking at?</p>\n"},{"tags":["java","ajax","mvc","jsf","java-ee"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":111,"score":0,"question_id":11876892,"title":"Dynamic web page built in jsp to any advance java framework","body":"<p>I am new in java web development.</p>\n\n<p>I have a dynamic jsp page(Loan Application form) this also uses ajax to load dependable dropdown parameters and for validations.</p>\n\n<p><strong>i got task to migrate this Dynamic web(jsp) page to any advance java framework.</strong></p>\n\n<p>Please suggest which could be the best option for me to do so ???</p>\n"},{"tags":["mvc","validation","telerik","datepicker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":303,"score":0,"question_id":9622547,"title":"Turn off Mvc Date Picker Validation","body":"<p>I have a date field in my grid.  I can't seem to figure out how can I turn off the validation if a user doesn't enter a date. In my data model the date property is not decorated with required attribute. Also in the database that I am using the date column is allowed a null and has a default value. I also turned off the Client Validation in the web config file. But still can't figure out why the date field has client validation turned on. The telerik version I am using is 2011.2.712.340.</p>\n"},{"tags":["jquery","ruby-on-rails","ajax","mvc","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":11916004,"title":"Submit a simple form using ajax and rails","body":"<p>Im trying do build a form using ajax.</p>\n\n<p>I read <a href=\"http://guides.rubyonrails.org/ajax_on_rails.html\" rel=\"nofollow\">this</a> tutorial, but it is not clear to me.</p>\n\n<p>I would like to submit a simple form and show the result in the same page without refresh a page. I do not have models in my application. I just wanna submit a form, make a request to a api and show the result back to the page.</p>\n\n<p>If I use this for example:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"/my_controller/my_action\" class=\"button_to\" data-remote=\"true\" data-type=\"json\"&gt;\n  &lt;input type=\"text\" ..&gt;\n  &lt;input type=\"text\" ..&gt;\n  &lt;div&gt;&lt;input value=\"Show\" type=\"submit\" /&gt;&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>How can I get this values in my_controller and how can I show back to the view?</p>\n\n<p>Thanks for any help</p>\n"},{"tags":["mvc","design-patterns"],"answer_count":5,"favorite_count":5,"up_vote_count":12,"down_vote_count":0,"view_count":2047,"score":12,"question_id":2626803,"title":"MVC (model-view-controller) - can it be explained in simple terms?","body":"<p>I need to explain to a not-very-technical manager the MVC (model-view-controller) concept and ran into trouble. The problem is that the explanation needs to be on a \"your grandma will get it\" level - e.g. even the fairly straightforward explanation offered on <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\">MVC Wiki page</a> didn't work, at least with my commentary. </p>\n\n<p><strong>Does anyone have a reference to a good MVC explanation in simple terms?</strong></p>\n\n<p>It would ideally be done with non-techie metaphor examples (e.g. similar to \"Decorator pattern is like glasses\") - one reason I failed was that all MVC examples I could come up with were development related. </p>\n\n<p>I once saw a list of pattern explanations but to the best of my memory MVC was not on it.</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net-mvc","mvc","webgrid"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":2401,"score":4,"question_id":7326687,"title":"How to format date in mvc web grid","body":"<p>I have a web grid and I am not using razor syntex.Rather I am using the .aspx form.\nthe code is below;</p>\n\n<pre><code>&lt;%\n    var grid = new WebGrid(Model,defaultSort:\"PublishDate\",rowsPerPage:10);\n    %&gt;\n    &lt;%: \n       grid.GetHtml(\n                          tableStyle: \"wGrid\",\n                            headerStyle: \"wGridHeader\",\n                    alternatingRowStyle: \"alt\",\n                    columns: grid.Columns(\n                    grid.Column(\"Title\", canSort: false),\n                    grid.Column(\"PublishDate\", \"Published on\"),\n                    grid.Column(\"CategoryName\", \"Category\"),\n                    grid.Column(format: (item) =&gt; Html.ActionLink(\"Details\", \"Browse\", new { id = item.Title }))\n                  )\n               )\n    %&gt;\n</code></pre>\n\n<p>Now I want to format the 'PublishDate' column to something like 'dd-MMM-yyyy'.\nAny idea how to do this?</p>\n"},{"tags":["mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":180,"score":1,"question_id":3710403,"title":"MVC best practice question","body":"<p>I have a question regarding MVC design, based on the Stanford iPhone lectures. </p>\n\n<p>I have 3 classes;</p>\n\n<p>Polygon - this holds information like number of sides and so on. This is my Model class</p>\n\n<p>Controller - this responds to things like button presses in the view and then calles methods in the model to increase and decrease the number of sides etc. This is my controller (surprise!)</p>\n\n<p>View - For this question the view will be a Class representing a single view, which draws the polygon to screen.</p>\n\n<p>My question is what is the best way for the View class to obtain information pertaining to the Polygon model class? Although this is trivial for this example I'm hoping that the answer wil help me when building more complicated applications. Options I have;</p>\n\n<p>1) Pass the instance of the Polygon class to the View so the view has a pointer to it. Then I can just call refresh at any time and the view will know what to do. This is what i would usually do but seens to break the MVC approach as the View and Model seem to be bypassing the controller, which makes me think this may not be the best way.</p>\n\n<p>2) Have a redraw(...) method in the view, which takes as its args whatever new information received. This seems clean but would not scale well i would think.</p>\n\n<p>Any advice would be great. As I say usually I would do option one, but would love someone to tell me something to improve the way i think about this....</p>\n\n<p>Thanks!</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":11912116,"title":"Best practices for coding in controller and models?","body":"<p>I have this short and simple code for sending an email notification to the user when someone comments on his post. What I'm concerned about is the location of this snippet.</p>\n\n<pre><code>if user.settings.enabled_notifications &amp;&amp; some_other_conditions\n    NotificationMailer.notify_topic_owner(comment,owner)\nend\n</code></pre>\n\n<p><code>notify_topic_owner()</code> just shoots a mail according to the parameters passed to it.</p>\n\n<p>Basically, <code>some_other_conditions</code> contain some 3-4 conditions to be evaluated to true so as to send a mail. So clearly a controller isn't the right place for this code (I read somewhere that a controller code should be light and clean). \nI dont think i can move this snippet to a helper as helpers contain code for views. Again, models dont look right either as the code is not really about the model (or is it?). </p>\n\n<p>Do I make a new module for this short snippet? Going forward, I would really appreciate if you could also tell about the best practices or some reference for such dull confusions. I find myself struggling with this quite often!</p>\n"},{"tags":["mvc","sencha-touch-2"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":167,"score":0,"question_id":11912024,"title":"Sencha touch - submit form using MVC","body":"<p>I have a button on my form, this row is the point where I try to create a record from the form and submit to the server:</p>\n\n<pre><code>var record = Ext.ModelManager.create(form, 'LoginModel');//'Login' wont work as well\n</code></pre>\n\n<p>I get the exception\n<img src=\"http://i.stack.imgur.com/AnRpM.png\" alt=\"enter image description here\"></p>\n\n<p>this is the entire contoller:</p>\n\n<pre><code>Ext.define('TA.controller.LoginController', {\n    extend: 'Ext.app.Controller',\n    config: {\n        models: [\n            'LoginModel'\n        ],\n        stores: [\n            'LoginStore'\n        ],\n        views: [\n            'LoginPanel'\n        ],\n\n        refs: {\n            LoginForm: '#loginform'\n        },\n\n        control: {\n            \"#Submit\": {\n                tap: 'onSubmitTap'\n            }\n        }\n    },\n\n    onSubmitTap: function(button, e, options) {\n        var form = this.getLoginForm().getValues();\n        console.log(form);\n        var record = Ext.ModelManager.create(form, 'LoginModel');///////////the problem\n        store.add(record);\n        store.sync();\n    }\n\n});\n</code></pre>\n\n<p>this is the model:</p>\n\n<pre><code>Ext.define('TA.model.LoginModel', {\n    extend: 'Ext.data.Model',\n    config: {\n        fields: [\n            {\n                name: 'UserName'\n            },\n            {\n                name: 'Password'\n            }\n        ],\n        proxy: {\n            type: 'jsonp'\n        }\n    }\n});\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","business-rules"],"answer_count":9,"favorite_count":8,"up_vote_count":15,"down_vote_count":0,"view_count":5134,"score":15,"question_id":212027,"title":"Where are the Business Rules in MVC","body":"<p>Now that everyone is talking about MVC, I notice that the business rules are not being addressed. In the old days of the 3-tier architecture, The business rules were in the middle layer. Where do they fall in the new MVC?</p>\n"},{"tags":["php","mysql","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":108,"score":4,"question_id":11561715,"title":"Monolithic Model","body":"<h1>Background</h1>\n\n<p>This is a long and complicated question.  I'm using php/MySQL as an example (since it's an actual example) but this could theoretically apply to other languages.  Bear with me.</p>\n\n<h2>MVC Framework with no ORM</h2>\n\n<p>I'm creating an application that uses its own framework.  For a variety of reasons, the following answers to this question will not be accepted:</p>\n\n<ul>\n<li>Why don't you just use <code>X</code> framework?</li>\n<li>Why don't you just use <code>X</code> ORM?</li>\n</ul>\n\n<p>This application does its own queries (written by me) and that's how I'd like it to stay for now.</p>\n\n<h2>Business Logic?</h2>\n\n<p>\"Business Logic\" seems to be a meaningless buzzword, but I take it to essentially mean</p>\n\n<blockquote>\n  <p>The queries and the logic that builds the result set based on those queries</p>\n</blockquote>\n\n<p>I've also read that the Model in an MVC should do all the business logic.</p>\n\n<h2><code>User.php</code> is 884 lines</h2>\n\n<p>Now that I've gotten my app working fairly well, I'd like to refactor it so as not to have such abominations.  <code>User.php</code> is essentially the model for Users (obviously).  There are some responsibilities I see in it that I could easily pluck out, but a major hurdle I'm running into is:</p>\n\n<p><strong>How can I reconcile SOLID with MVC?</strong></p>\n\n<p>The reason that <code>User.php</code> has grown so large is because I do any query that requires a User member in that file.  User is used for a ton of operations (it needs to do so much more than just <code>CRUD</code>), so any query that needs <code>userid</code>, <code>username</code>, etc. is run by a function in this file.  Apparently the queries should be in the model (and not the controller), but I feel that this should definitely be split up somehow.  I need to accomplish the following:</p>\n\n<ul>\n<li>Create an API that covers all of these necessary queries in a compartmentalized way</li>\n<li>Avoid giving access to the DB connection class when it's not necessary</li>\n<li>Add <code>User</code> data to the view (<code>User.php</code> is doing that right now -- the view object is injected by a setter, which I think is also bad).</li>\n</ul>\n\n<p>...so what I could do is create other objects like <code>UserBranchManager</code>, <code>UserSiteManager</code>, <code>UserTagManager</code>, etc. and each of those could have the relevant queries and the DB object injected to run those queries, but then how do they get the coveted <code>User::$userid</code> that they need to run these queries?  Not only that, but how could I pass <code>Branch::$branchid</code>?  Shouldn't those members be private?  Adding a getter for them also makes that pointless.</p>\n\n<p>I'm also not sure where to draw the line of how much an object should do.  A lot of the operations similar but still different.  A class for each one would be huge overkill.</p>\n\n<h1>Possible Answer</h1>\n\n<p>If I can't get any help, what I'll do (or at least try to do) is have a dependency injection container of some kind build dependencies for the objects above (e.g. <code>UserBranchManager</code>) and inject them into the relevant controller.  These would have a <code>DB</code> and <code>Query</code> object.  The <code>Query</code> object could be passed to low level models (like <code>User</code>) to bind parameters as needed, and the higher level models or whatever they are called would give the results back to the controller which would add the data to the template as needed as well.  Some possible hurdles I see are creating proper contracts (e.g. the <code>UserController</code> should preferably depend on some abstraction of the user models) but some specifics are inevitably required, especially when it comes to the view.</p>\n\n<p>Can anyone offer some wisdom in response to my rambling question?</p>\n\n<h1>Response to @tereško</h1>\n\n<p>He has provided a great answer not only here, but also at <a href=\"http://stackoverflow.com/questions/5863870/how-should-a-model-be-structured-in-mvc\">How should a model be structured in MVC?</a></p>\n\n<h2>Code</h2>\n\n<p>As requested, here is some extremely pared down code (basically services one request).  Some important notes:</p>\n\n<ul>\n<li>Right now, controllers are not classes, just files\n<ul>\n<li>The controller also handles a lot of the routing</li>\n</ul></li>\n<li>There are no \"view\" objects, just the templates</li>\n<li>This will probably look really bad</li>\n</ul>\n\n<p>These are also things to improve, but I'm mostly worried about the model (<code>User</code> in particular since it's getting out of control):</p>\n\n<pre><code>#usr.php -- controller\n$route = route();\n$user = '';\n$branch = '&lt;TRUNK&gt;';\nif (count($route) &gt; 0) {\n   if (count($route) &gt; 1) {\n      list($user, $branch) = $route;\n   }\n   else {\n      list($user) = $route;\n   }\n}\n\n$dec = new Decorator('user');\n$dec-&gt;css('user');\n\nif (isset($_SESSION['user']) &amp;&amp; $_SESSION['user']-&gt;is($user)) {\n   $usr = $_SESSION['user'];\n}\nelse {\n   $usr = new User(new DB, $user);\n}\n$usr-&gt;setUpTemplate($dec, $branch);\nreturn $dec-&gt;execute();\n\n# User.php -- model\nclass User {\n   private $userid;\n   private $username;\n   private $db;\n\n   public function __construct(DB $db, $username = null) {\n      $this-&gt;username = $username;\n      $this-&gt;db = $DB;\n   }\n\n   public function is($user) {\n      return strtolower($this-&gt;username) === strtolower($user);\n   }\n\n   public function setUpTemplate(Decorator $dec, $branch) {\n      $dec-&gt;_title = \"$this-&gt;username $branch\";\n      // This function runs a moderately complicated query\n      // joining the branch name and this user id/name\n      $dec-&gt;branch = $this-&gt;getBranchDisplay($branch);\n   }\n}\n</code></pre>\n\n<h2>Questions about answers</h2>\n\n<p>Answer here:</p>\n\n<ul>\n<li>You talk about leaving off caching/authentication/authorization.  Are these important?  Why aren't they covered?  How do they relate to the model/controller/router?</li>\n<li>The <code>Data Mapper</code> example has the <code>Person</code> class with methods like <code>getExemption</code>, <code>isFlaggedForAudit</code> .. what are those?  It seems like those calculations would require DB data, so how does it get them?  <code>Person Mapper</code> leaves off <code>select</code>.  Isn't that important?</li>\n<li>What is \"domain logic?\"</li>\n</ul>\n\n<p>Answer 5863870 (specifically the code example):</p>\n\n<ul>\n<li>Shouldn't these factory objects be abstractions (and not rely on creation via <code>new</code>) or are these special?</li>\n<li>How would your API include the necessary definition files?</li>\n<li>I've read a lot about how it's best for dependencies to be injected in the constructor (if they're mandatory).  I assume you set the factories in this way, but why not the objects/mappers/services themselves?  What about abstractions?</li>\n<li>Are you worried about code duplication (e.g. most models requiring an <code>_object_factory</code> member in their class definition)?  If so, how could you avoid this?</li>\n<li>You're using <code>protected</code>.  Why?</li>\n</ul>\n\n<p>If you can provide any specific code examples that would be best since it's easier for me to pick stuff up that way.</p>\n\n<p>I understand the theory of what your answers are saying and it's helped a lot.  What I'm still interested in (and not totally sure of) is making sure that dependencies of objects in this API are handled in the best way (the worst would be <code>new</code> everywhere).</p>\n"},{"tags":["javascript","mvc","ember.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":11908096,"title":"Emberjs - Binding parameters dynamically to a view","body":"<p>I am trying to create editable views for a select group of parameters in my models.</p>\n\n<p><a href=\"http://jsfiddle.net/ZVFH2/5/\" rel=\"nofollow\">The jsfiddle is worth a thousand words!</a></p>\n\n<p>As you can see, it is linking the content to the actual string - not the path, as in the working (but not dynamic) second ParameterView.</p>\n\n<p>I've seen <a href=\"http://stackoverflow.com/questions/10406771/what-is-the-ideal-way-to-create-view-instance-specific-bindings-in-emberjs\">this post</a>, but it is an extremely clunky solution, especially when I have about 20 or so parameters per model, with four different models.</p>\n\n<p>Any ideas? Thanks in advance for sharing your brain power.</p>\n"},{"tags":["php","mvc","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":119,"score":2,"question_id":11876730,"title":"MVC:: Which goes where?","body":"<p>I was a flat php programmer for past 2 years. Now I want to move to <code>MVC</code> architecture and so I am using <code>codeigniter</code> which looks very simple to start with. I want to know some of the best practices out there as I go developing in <code>codeigniter</code>.</p>\n\n<p>I have a <code>controller</code> called <code>building</code>, a <code>model</code> called <code>building_data</code> and a view called <code>building_view</code>. Now i want to display list of building by checking lot of conditions. I am doing the following in flat PHP  </p>\n\n<ol>\n<li>Get the list of buildings from database  </li>\n<li>Split the result based on certain criteria  A, B, C  </li>\n<li>Display the result in <code>section - A</code>, <code>section -B</code>, and <code>section-c</code> as the <code>HTML</code> output.</li>\n</ol>\n\n<p>Now in <code>MVC</code> I am doing the following</p>\n\n<ol>\n<li>Get the list of building in the database on <code>building_data</code> (model)</li>\n<li>Store the result from <code>building_data</code> in a <code>$data</code> array of the <code>building</code> controller </li>\n<li>Split the results based on criteria A,B,C in <code>building_view</code> and output the <code>HTML</code> (can i do the condition based classification of data (without using mysql queries) in view ? <code>!My actual question</code>)</li>\n</ol>\n\n<p>Am I doing the right thing here without violating MVC architecture rules ?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":11760986,"title":"Extending Core Class Codeigniter - 404 Error","body":"<p>I am trying to learn Codeigniter. I am trying to use application/core/MY_Controller in my CI application. \nMY_Controller.php as:</p>\n\n<pre><code>class MY_Controller extends CI_Controller {\n\n  protected $data = array();\n\n  function __construct() {\n    parent::__construct();\n  }\n\n  function render_page($view) {\n    //do this to don't repeat in all controllers...\n    $this-&gt;load-&gt;view('templates/header', $this-&gt;data);\n    //menu_data must contain the structure of the menu...\n    //you can populate it from database or helper\n\n    $this-&gt;load-&gt;view($view, $this-&gt;data);\n    $this-&gt;load-&gt;view('templates/footer', $this-&gt;data);\n  }\n\n}\n</code></pre>\n\n<p>Now I started to write home controller as :</p>\n\n<pre><code>class Home extends MY_Controller {\n         function __construct() {\n    parent::__construct();\n  }\n\n        public function view($page = 'home')\n        {\n         $this-&gt;load-&gt;helper('text');\n            $data['records']= $this-&gt;services_model-&gt;getAll();\n            if ( ! file_exists('application/views/pages/'.$page.'.php'))\n            {\n                // Whoops, we don't have a page for that!\n                show_404();\n            }\n\n            $data['title'] = ucfirst($page); // Capitalize the first letter\n\n\n            $this-&gt;load-&gt;view('pages/'.$page, $data);\n\n\n        } \n</code></pre>\n\n<p>My views folder as </p>\n\n<pre><code>+pages\n  +home.php\n+templates\n  +footer.php\n  +header.php. \n</code></pre>\n\n<p>Here are my config and route files. </p>\n\n<pre><code>$config['base_url'] = 'http://localhost/~ytsejam/kirmiziblog/';\n$config['index_page'] = 'index.php';\n$route['default_controller'] = 'pages/view';\n$route['(:any)'] = 'pages/view/$1';\n</code></pre>\n\n<p>I get 404 page not found error . How can I change my application to work with MY_Controller ?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":11904917,"title":"Submitting a large array from a view in codeigniter","body":"<p>I have an issue, I have data being sent to the user who needs to check the datais correct before submitting it to the model. Usually I would send datya from a controller but I'm not sure how to do it in this circumstance..</p>\n\n<p>This is what I have</p>\n\n<p>CONTROLLER</p>\n\n<pre><code> $questions = $this-&gt;assessment_model-&gt;get_list_questions($data['list']);\n $this-&gt;load-&gt;view('quiz', $questions);\n</code></pre>\n\n<p>My view than outputs $questions to the user. (Questions is a BIG array)</p>\n\n<p>VIEW</p>\n\n<pre><code>foreach ($questions['data'] as $q) {\n    echo $q;\n};\necho \"&lt;a href'WHAT_GOES_HERE'&gt;Save Question list&lt;/a&gt;\"\n</code></pre>\n\n<p>Once the user has clicked on the link I need to submit the data in $questions to another controller... Is there a strait forward way to do this? </p>\n\n<p>Cheers</p>\n\n<p>Chris</p>\n"},{"tags":["c#","javascript","mvc","autocomplete"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":201,"score":1,"question_id":11886524,"title":"MVC3 Autocomplete and POST Method in Controller","body":"<p>I got a MVC Razor View page as a form for people to enter details and submit to a database.\nIt works using dropdownlist but I want to add a autocomplete textbox to the form.\nThis works fine however when posting back to the POST controller it sets the ID of the person to 0 always. Any ideas?</p>\n\n<p>Thanks</p>\n\n<p>Javascript:</p>\n\n<pre><code> script type=\"text/javascript\"&gt;\n\n   $(document).ready(function () {\n        $(\"#PersonName\").autocomplete({\n            source: '@Url.Action(\"AutocompleteSuggestions\")',\n            minLength: 2,\n\n            select: function (event, ui) {\n                if (ui.item) {\n                    $(\"#PersonName\").val(ui.item.label);\n                    $(\"#PersonId\").val(ui.item.value);\n                }\n            }\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code> [HttpPost]\n    public ActionResult Create(MappingModel view)\n    {\n\n        if (ModelState.IsValid)\n        {\n            var entity = new PersonContempancy();\n            entity.PersonId = view.PersonId;\n            entity.FrameworkId = view.FrameworkId;\n            entity.ContempancyCategoryId = view.ContempancyCategoryId;\n            entity.ContempancyId = view.ContempancyId;\n            entity.ContempancyLevelId = view.ContempancyLevelId;\n            entity.FrameworkLevelId = view.FrameworkLevelId;\n            db.PersonContempancies.Add(entity);\n            db.SaveChanges();\n\n            return RedirectToAction(\"Index\");  \n        }\n\n\n\n        ViewBag.Contepancies = db.Contempancies.ToList();\n        ViewBag.ContempancyCategory = db.ContempancyCategories.ToList();\n        ViewBag.ContempancyLevel = db.ContempancyLevels.ToList();\n        ViewBag.FrameworkLevel = db.FrameworkLevels.ToList();\n        ViewBag.Person = db.People.ToList();\n        ViewBag.Framework = db.Frameworks.ToList();\n\n\n\n        return View();\n    }\n\n  public ActionResult AutocompleteSuggestions(string term)\n    {\n\n        var namelist = db.People.Where(c =&gt; c.PersonName.Contains(term)).Select(c =&gt; new { value = c.PersonId, label = c.PersonName}).Distinct().Take(10);\n\n        return Json(namelist.ToArray(), JsonRequestBehavior.AllowGet);\n\n    }\n</code></pre>\n"},{"tags":["javascript","jquery","html","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":11903343,"title":"Im using Wijimo text editor plugin and the librarys take too long to load - i need the javscript load time reduced or them loaded behind the scenes","body":"<p>I'm using Wijimo javascript text editor plugin and the library's are not loading in the correct order therefore theres a delay with the page loads and doesnt show the text editor fully loaded.</p>\n\n<p>I have the javascript librarys stored at the bottom in my footer and the css files stored in the header for the custom editor that im using.</p>\n\n<p>The javascript has been minimized and is stored locally.</p>\n\n<p>The editor is a javascript plugin that im using</p>\n\n<p>Im using mvc .net and using .cshtml.</p>\n\n<p>Is there some ajax load or lazy loader that can preload these files behind the scenes so that when i load the page that has the text editor, it loads fully immediately?</p>\n"},{"tags":["asp.net","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":433,"score":0,"question_id":3553074,"title":"ASP.NET MVC web site template","body":"<p>I would like to download ASP.NET MVC web site template. Please guide me where can i find and how i can use. I'm new to this pattern. Thanks in advance.</p>\n"},{"tags":["asp.net-mvc-3","mvc","telerik-grid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":11902162,"title":"Maintain state of Checkboxes from Database","body":"<p>I have data bound in Telerik MVC Grid with checkboxes. How do I get the checkboxes ticked based on the data from database. ie In the controller , I have got two outputs from two LINQ queries as shown below : </p>\n\n<pre><code>All.Data = resourceActions.Actions\n                    .Select(i =&gt; new { i.ActionName, i.ActionID })\n                    .ToList();\n\nChecked.Data = roleResourceActions.Actions\n                    .Select(i =&gt; new { i.ActionName, i.ActionID })\n                    .ToList();\n</code></pre>\n\n<p>From above, the first LINQ query gives all data, where ActionID is unique.\nThe second LINQ query gives only checked data, where ActionID is unique here too.</p>\n\n<p>So both the output has got ActionID as common. the first output is displayed to the Telerik Grid with checkboxes.</p>\n\n<p>And I need to get the checkboxes checked from the output of the second LINQ query ie checked ActionIDs.</p>\n\n<p>HOW IS IT POSSIBLE as I am new to MVC and LINQ ?</p>\n"},{"tags":["c#","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":11901528,"title":"how to display images from local folder to view using mvc","body":"<p>I am using MVC. i need to upload the image and display it in same page.\ni have uploaded the image and store the image in local folder.\nhow to display the images from local folder file using mvc</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":11901262,"title":"Reporting in MVC using an IReportRepository","body":"<p>I am working on an existing system and need to add a report via a stored procedure.\nI just want to sort out some errors first.</p>\n\n<p>In IReportingRepository.cs I have:</p>\n\n<pre><code> public interface IReportingRepository\n {\n     IEnumerable&lt;LastSundayDate&lt;DateTime&gt;&gt; GetTradeMeKPISearches();\n } \n</code></pre>\n\n<p>the first error is on the line above the LastSundayDate> part and says:\nThe non-generic type 'TradeUK.Entities.Reporting.LastSundayDate' cannot be used with type arguments</p>\n\n<p>I have a class LastSundayDate.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace TradeUK.Entities.Reporting\n{\n    public class LastSundayDate\n    {\n       public virtual DateTime Date { get; set; }\n    }\n}\n</code></pre>\n\n<p>In ReportingServies.cs I have:</p>\n\n<pre><code>public IEnumerable&lt;LastSundayDate&gt; GetTradeUKKPISearches()\n{\n  return ReportingRepository.GetTradeUKKPISearches();\n}\n</code></pre>\n\n<p>and then in ReportingRepository.cs I have:</p>\n\n<pre><code> public IEnumerable&lt;LastSundayDate&lt;DateTime&gt;&gt; GetTradeMeKPISearches()\n{\n  try\n  {\n    using (SqlConnection conn = new SqlConnection(TradeUKModelContainer.CONNECTIONSTRING))\n    {\n      conn.Open();\n\n      using (SqlCommand cmd = conn.CreateCommand())\n      {\n        cmd.CommandType = System.Data.CommandType.StoredProcedure;\n        cmd.CommandText = \"[Reporting].[GetTradeMEKPISearches]\";\n\n        using (SqlDataAdapter da = new SqlDataAdapter(cmd))\n        {\n          DataTable dt = new DataTable();\n          da.Fill(dt);\n\n          List&lt;LastSundayDate&lt;DateTime&gt;&gt; results = new List&lt;LastSundayDate&lt;DateTime&gt;&gt;();\n\n          foreach (DataRow dr in dt.Rows)\n          {\n            string title = dr[\"Title\"].ToString();\n            int count = Convert.ToInt32(dr[\"Total\"]);\n\n            results.Add(new LastSundayDate&lt;&gt;());\n          }\n\n        }\n      }\n    }\n  }\n  catch (Exception ex)\n  {\n    throw new Exception(\"ReportingRepository GetTradeUKKPISearches: Error\", ex);\n  }\n}\n</code></pre>\n\n<p>why can i not have the type as DateTime?\nthanks</p>\n"},{"tags":["mvc","design-patterns","mvvm","client-side","server-side"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":476,"score":7,"question_id":11764472,"title":"Use client-side MVC/MVVM patterns with MVC server-side pattern","body":"<p>Considering the most popular MVC/MVVM client-side patterns (like <a href=\"http://knockoutjs.com\">Knockout.js</a>, <a href=\"http://angularjs.org\">Angular.js</a>, <a href=\"http://emberjs.com\">Ember.js</a>, and others), I have one great doubt:</p>\n\n<p><em>Also considering the modeling redundance in both sides, <strong>what is the advantages and disvantages to use those client-side patterns with MVC server-side patterns?</em></strong></p>\n"},{"tags":["asp.net-mvc","linq","entity-framework","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":11898550,"title":"How to prevent overlapping events using Linq + Entity Framework","body":"<p>I'm wondering if anyone can help me? I'm trying to prevent events from overlapping in a room booking system. Each event has a start date/time and an end date/time. What I want to happen is if a user tries to book an event between times that already exist for an event it should error.</p>\n\n<p>So for example the following should error as they overlap:-</p>\n\n<pre><code>Event 1:\n- Start Date/Time: 10/08/2012 09:00\n- End Date/Time: 10/08/2012 11:00\n\nEvent 2:\n- Start Date/Time: 10/08/2012 10:00\n- End Date/Time: 10/08/2012 12:00\n</code></pre>\n\n<p>I'm using MVC and Entity Framework, so a Linq solution would be preferable.</p>\n\n<p>Any help would be much appreciated :)</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":11899347,"title":"Select multiple columns in LINQ","body":"<p>I have written a LINQ query shown below :</p>\n\n<pre><code>List&lt;Actions&gt; actions = resourceActions.Actions.Select(s =&gt; s.ActionName).ToList();\n</code></pre>\n\n<p>How do I give for selecting multiple columns here ? ie I want to add columns s.ActionId and s.IsActive. I am unable to apply it</p>\n"},{"tags":["php","mvc","design"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":150,"score":2,"question_id":11760622,"title":"PHP MVC - Calling view functions from model, or controller?","body":"<p>After reading a fair few posts on Stack, and also some material recommended to me on line, the MVC pattern is quite open to interpretation, so please don't answer with another explanation. Thanks!</p>\n\n<p>I'm reaching the end of designing my own PHP MVC now, and have two possible ways to move forward with the views.</p>\n\n<p>But first, my controllers are currently quite dumb, not containing any classes and simply call public methods from the suitable models, and render the appropriate view.</p>\n\n<p>Views are included as necessary, so naturally the objects are available to them via the constructors, along with all the methods (inc delete/update etc). </p>\n\n<p>My first option is to get data using something like this in the view</p>\n\n<pre><code>foreach($object-&gt;fetchData() as $data)  \n</code></pre>\n\n<p>and then looping through the results. However some people do not agree with this, and have suggested that such methods should be excluded from the view. Instead it has been recommended that I assign this to a variable in the constructor, and then use this variable in the view</p>\n\n<pre><code>//constructor\n$fetched_data = $object-&gt;fetchData()\n\n// view\nforeach($featched_data as $data)\n</code></pre>\n\n<p>I don't like this very much, as it seams messy and unnecessary.</p>\n\n<p>With all my critical methods being made available to the view, could this be considered a problem?</p>\n\n<p>So here's the question. Do I keep it how it is, and create new methods in the MODEL for rendering data (as above) OR can I create a class in the constructor, extend the model into it, protect the critical functions in the model, and then create my read only public methods in the CONSTRCUTOR?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","swing","mvc","actionlistener"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":74,"score":4,"question_id":11895802,"title":"Downsides to using a single ActionListener for all Components?","body":"<p>For routing action requests, I'd like to use a single ActionListener instance for all Components. Calls on actionPerformed could be differentiated using setActionCommand.</p>\n\n<p>Is this advised ? Are there any potential downsides to this approach in an MVC context ?</p>\n"},{"tags":["ruby-on-rails","forms","mvc","activerecord","associations"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":11894380,"title":"How to set the default option in a Rails form association list?","body":"<p>I have two model classes: Goal and Objective. A Goal has many Objectives, and an Objective belongs to one Goal. </p>\n\n<p>I have created a page for creating a new Objective via a form. In the page's controller, I am setting the value of a variable <code>@default_goal</code> like so:</p>\n\n<pre><code>@objective = Objective.new\n\nif params.has_key?(:default_goal)\n    @default_goal = Goal.find(params[:default_goal])\nend\n</code></pre>\n\n<p>Then, in my form I want to make that variable the default Goal in an association dropdown list. I tried the following but it doesn't seem to work:</p>\n\n<pre><code>&lt;%= simple_form_for @objective do |f| %&gt;\n    &lt;%= f.association :goal, :prompt =&gt; \"Select a goal\", :default =&gt; @default_goal %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>How can it be done?</p>\n"},{"tags":["asp.net-mvc","security","mvc","web-security"],"answer_count":3,"favorite_count":15,"up_vote_count":12,"down_vote_count":0,"view_count":1447,"score":12,"question_id":2721869,"title":"\"Security aware\" action link?","body":"<p>How can I create a \"security aware\" action link that detects if a user is authorized to click (invoke) the action?<br>\nHide link if user is not allowed to use that action...</p>\n\n<p>Depending from </p>\n\n<ul>\n<li>web.config (authorization) and  </li>\n<li>[Authorize] attributes on actions</li>\n</ul>\n\n<p>PS<br>\nI guess it is  bad practice to mix those 2 in MVC?</p>\n"},{"tags":["asp.net-mvc","mvc","dependency-injection","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":111,"score":1,"question_id":11811421,"title":"Multiple dependencies in an asp.net mvc controller constructor injected","body":"<p>In my asp.net mvc controller`s constructor I have multiple (5) interfaces which communicate with my database in this way:</p>\n\n<pre><code>[HttpGet]\npublic ActionResult Create()\n{          \n var releases = _releaseDataProvider.GetReleases();\n var templates = _templateDataProvider.GetTemplates();\n var createTestplanViewModel = new CreateTestplanViewModel(templates, releases);\n return PartialView(createTestplanViewModel);\n}\n</code></pre>\n\n<p>Above I use 2 different interfaces to get data from the database.</p>\n\n<p>business case: To create a testplan I need to show the user the available releases + templates he can choose from.</p>\n\n<p>How can I decrease the dependency/over-injection of these 2 interfaces</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","view"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":131,"score":3,"question_id":8700759,"title":"Using Rails helpers to render partials","body":"<p>From my understanding, helpers are mainly used to clean up views from some view-specific logic.</p>\n\n<p>But on my currently new project (legacy application), I've stumbled upon a lot of helpers that look like this</p>\n\n<pre><code>def itemprepare\n  render :partial =&gt; 'items/itemlist_summary'\nend\n</code></pre>\n\n<p>Is this correct? Rendering a partial to me seems like something you would want to do in the view, as it doesn't include any logic that needs to be abstracted.</p>\n\n<p>Should I just inline all of these helpers?</p>\n"},{"tags":["javascript","mvc","ember.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":11885532,"title":"EmberJS - Adding a binding after creation of object","body":"<p>I am trying to bind a property of an object to a property that's bound in an ArrayController. I want all of this to occur after the object has already been created and added to the ArrayController.</p>\n\n<p><a href=\"http://jsfiddle.net/EjDFS/7/\" rel=\"nofollow\">Here is a fiddle with a simplified example of what I'm trying to achieve</a>.</p>\n\n<p>I am wondering if I'm having problems with scope - I've already tried to bind to the global path (i.e. 'App.objectTwoController.objectOne.param3') to set the binding to. I've also tried to bind directly to the objectOneController (which is not what I want to do, but tried it just to see if it worked) and that still didn't work.</p>\n\n<p>Any ideas on what I'm doing incorrectly? Thanks in advance for taking the time to look at this post.</p>\n"},{"tags":["php","mysql","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":64,"score":0,"question_id":11890086,"title":"MySQL within classes causing frustration","body":"<p>I have this code:</p>\n\n<pre><code>&lt;?php \n\nclass guildData {\n\n    public $email = NULL;\n    public $hash_pw = NULL;\n    public $user_id = NULL;\n    public $clean_username = NULL;\n    public $display_username = NULL;\n\n    public function selectGuild($g_id)\n    {\n            global $db,$db_table_prefix;\n\n            $this-&gt;g_id = $g_id;\n\n            $sql = \"SELECT\n                            name\n                            FROM\n                            guild\n                            WHERE\n                            id = '\".$g_id.\"'\";\n\n            $result = $db-&gt;sql_query($sql);\n\n            $row = $db-&gt;sql_fetchrow($result);\n\n            return ($row['name']);\n    }\n}\n?&gt;\n&lt;?php echo $guildData-&gt;selectGuild(1); ?&gt;\n</code></pre>\n\n<p>I'm simply getting a 500 error and IDEone gave me this also:</p>\n\n<p>Fatal error: Call to a member function selectGuild() on a non-object in /home/VT00Ds/prog.php on line 32</p>\n\n<p>I can not see the error, can you help me?</p>\n"},{"tags":["php","javascript","ajax","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":245,"score":1,"question_id":11529797,"title":"Use ajax to fill cities in a dropdown in a  mvc based php application?","body":"<p>In a PHP MVC application, the model part has a <code>city.php</code> file that defines a city class. </p>\n\n<p>The city class has a method to fetch all cities for a province i.e.</p>\n\n<pre><code>getCitiesByProvince('ProvinceId')\n</code></pre>\n\n<p>When the user selects a province from a province dropdown, I need to make an ajax call to <code>getCitiesByProvince('ProvinceId')</code> depending upon what value for Province Id was selected by the user inside the Province dropdown.</p>\n\n<p>How do I do this?</p>\n\n<p>Edit: 1) The page uses the GET method and not the POST method.  2) The controller file uses a switch($action) to execute a specific case. For example to fetch all cities </p>\n\n<pre><code> case 'cities': //Get all cities for  a provinceId\n                $city= new city();\n                $cities = $City-&gt;getCitiesByProvince('ProvinceId');\n                echo json_encode($cities);\n</code></pre>\n\n<p>Action is probably a hidden html attribute that tells the php script what action/case to perform... maybe something like </p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"action\" value=\"cities\" /&gt;\n</code></pre>\n\n<p>This is another developer's code  that i'm not too familiar with at the moment and i'm just trying to guess how things work by looking into various files...</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":11759640,"title":"How to get controller name in another class?","body":"<p>I am developing MVC application.</p>\n\n<p>I want to pass controller to some other class for validation purpose. \nAfter passing the controller, I am unable to get the controller name in that class.</p>\n\n<pre><code>  [HttpPost]\n    public ActionResult Create(Location location)\n    {\n        if (ModelState.IsValid)\n        {\n            Validations v = new Validations();\n\n            boolean b;\n\n\n            //passing controller in another class's method\n           b = v.ValidProperty(location);\n\n\n           if (ValidProperties == true)\n             {\n                 db.Locations.Add(location);\n                 db.SaveChanges();\n                 return RedirectToAction(\"Index\");\n\n             }\n\n        }\n\n\n    }\n</code></pre>\n\n<p>Getting controller in below method</p>\n\n<pre><code> public void  ValidProperty(object Controller)\n    {\n\n    //Gives an error in below line\n        string CtrName = (string)Controller.ToString;\n\n     }\n</code></pre>\n\n<p>How to get the controller Name ? </p>\n"},{"tags":["php","mysql","sql","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":459,"score":-2,"question_id":11473882,"title":"How to implement MVC pattern in PHP having a MYSQL database?","body":"<p>Told I never used object-oriented programmation in Php , my doubt is very simple:</p>\n\n<p>I have an application whose \"<strong>presentation layer</strong>\" is a web site written in php.</p>\n\n<p>I also have a <strong>business layer</strong> implemented in Java (which communicates with presentation layer using a <strong>Soap client-server</strong></p>\n\n<p>Finally I have two database: one (HSQLDB) accessed from the business layer through HIBERNATE library.\nThe other (MYSQL) should be accessed from the presentation layer NOT DIRECTLY , but through a data access layer which stay under the <strong>data access layer</strong>. How should I do this?</p>\n\n<p>(Usually I interact with php using php functions such as mysql_connect , mysql_query)</p>\n\n<p>The following image shows the architecture:\n<img src=\"http://i.stack.imgur.com/tOwVI.png\" alt=\"enter image description here\"></p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["c#","mvc","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":11889427,"title":"Using an IEnumerable<Anonymous Type> within Dynamic Type View","body":"<pre><code>var s = myInventoryEntities.p_Forms().Select(i =&gt; new  { i.Customer, i.Order_ID }).Distinct().ToList();\n\nViewBag.MyData = s;\n\nreturn View();\n</code></pre>\n\n<p>this gives me</p>\n\n<pre><code>    { Customer = \"Bob\", Order_ID = 2644550 }\n</code></pre>\n\n<p>In my razor code</p>\n\n<p>i traverse the data</p>\n\n<pre><code>@foreach ( var x in @ViewBag.MyData){\nx.Customer // Does not exist! :(\n}\n</code></pre>\n\n<p>Please help!</p>\n\n<p>'object' does not contain a definition for 'Customer'</p>\n"},{"tags":["c#","facebook","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":161,"score":-1,"question_id":9393754,"title":"Posting emdedded HTML and JavaScript to Facebook","body":"<p>I know how to post a message, etc. to a Facebook wall, but I want to post a custom HTML and JavaScript Facebook wall, and I want that HTML/JavaScript code to appear so users can use that from Facebook without leaving Facebook, like embedded YouTube videos I have seen this to be possible...</p>\n\n<p>I use this to post to Facebook:</p>\n\n<pre><code>FacebookWebClient client = new FacebookWebClient();\n\n// Post to user's wall\nvar postparameters = new Dictionary&lt;string, object&gt;();\npostparameters[\"message\"] = \"Hello world!\";\npostparameters[\"name\"] = \"This is a name\";\npostparameters[\"link\"] = \"http://thisisalink.com;\npostparameters[\"description\"] = \"This is a description\";\n\nvar result = client.Post(\"/me/feed\", postparameters);\n</code></pre>\n\n<p>How do I do this?</p>\n\n<p>Maybe something like </p>\n\n<pre><code>postparameters[\"html\"] = \"html  or view\";\n</code></pre>\n\n<p>If it is not possible, how do I post <a href=\"http://en.wikipedia.org/wiki/SWF\" rel=\"nofollow\">SWF</a> content with <a href=\"http://en.wikipedia.org/wiki/Adobe_Flash\" rel=\"nofollow\">Flash</a> parameters?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","devise","blogs"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":81,"score":3,"question_id":11888587,"title":"Show certain user's blog posts in rails","body":"<p>Well, started to learn rails and of course started by writing a service with personal blogs (something like livejournal). I have posts scaffold and user model (thanks to Devise). Now I'm trying to show all posts by certain user with something like /username/posts in url but really can't understand how to make this rails-way.\nAlready made nested resources in routes</p>\n\n<pre><code>resources :users do \n  resources :posts \nend\n</code></pre>\n\n<p>and connected user and post models with</p>\n\n<pre><code>has_many :posts\n</code></pre>\n\n<p>and</p>\n\n<pre><code>belongs_to :user\n</code></pre>\n\n<p>Should I create controller for user or not? Is there any proper way for this?</p>\n\n<p>P.S. Thanks for the answer. Trying to study rails but almost every tutorial I found ends with scaffolding and that's not very helpful.</p>\n\n<p>Edit 1: Thanks to the \"match\" idea I solved half of the problem. The other (unsolved) half is selecting posts written by certain user</p>\n\n<p>Edit 2: Added</p>\n\n<pre><code>@user = User.where(:username =&gt; params[:username])\n@posts = @user.posts\n</code></pre>\n\n<p>To controller, but I have \"undefined method `posts'\" error in posts controller.</p>\n"},{"tags":["javascript","jquery","mvc","dynatree"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":556,"score":0,"question_id":10991791,"title":"How to select node in dynatree","body":"<pre><code>tree.dynatree({\n        initAjax: {\n            url: \"../Users/GetTree\"\n        },\n        checkbox: true,\n        selectMode: 2,\n        fx: { height: \"toggle\", duration: 200 },\n        persist: true,\n        clickFolderMode: 1,\n        autoFocus: false,\n\n         onClick: function (node, event) {\n           ....\n         }\n   }    \n</code></pre>\n\n<p>on server side I have class TreeNode       </p>\n\n<pre><code> public class TreeNode\n { \n      .....\n\n      public TreeItemsAttr attr { get; set; }\n\n      public string addClass { get; set; }\n }\n</code></pre>\n\n<p>and class   TreeItemsAttr</p>\n\n<pre><code> public class TreeItemsAttr\n{\n    public string id { get; set; }\n\n    public bool canHaveSubs { get; set; }\n\n    public bool selectable { get; set; }\n\n    public bool isSelected { get; set; }\n\n    public string docDate { get; set; }\n}\n</code></pre>\n\n<p>So, in my action I setup some tree node <code>isSelected=true</code> and add class <code>addClass=\"dynatree-selected\"</code>, but when I call <code>node.tree.getSelectedNodes()</code> I get <code>[]</code>.</p>\n\n<p>How can I setup on server side so the some nodes are selected?</p>\n\n<p>I also try to add in TreeNode property select and setup to true, but it did not help me.</p>\n"},{"tags":["mvc","extjs","extjs4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":113,"score":0,"question_id":11752324,"title":"Set Triggerfield value from controller","body":"<p>I try to binding data from window grid that show by trigger field click.\nthis is my form with triggerfield :</p>\n\n<pre><code>Ext.define('ResApp.view.group.Detail', {\nextend: 'Ext.window.Window',\nalias:'widget.groupdetail',\n\nfloating: true,\nhidden: false,\nwidth: 450,\n//height: 400,\nresizeable: false,\ntitle: 'Detail Group',\nmodal: true,\n\ninitComponent: function() {\n    var me = this;\n\n    Ext.applyIf(me, {\n\n        ....other config...\n\n        items: [\n            {\n                xtype: 'form',\n                itemId: 'groupDetailForm',\n                border: false,\n                layout: {\n                    type: 'auto'\n                },\n                bodyPadding: 10,\n                preventHeader: true,\n                title: 'My Form',\n                items: [\n\n                    ....other items...\n\n                    {\n                        xtype: 'triggerfield',\n                        padding: '0 0 5 0',\n                        width: 350,\n                        fieldLabel: 'Nama Kontak',\n                        name: 'namaJamaah',\n                        itemId: 'namaLead',\n                        triggerCls: ' x-form-search-trigger',\n                        onTriggerClick: function(){\n                            Ext.widget('listjamaahgroup').show();\n                        }\n                    },\n\n                    ....other items...\n\n                ]\n            }\n        ]\n    });\n\n    me.callParent(arguments);\n}});\n</code></pre>\n\n<p>next, my window with grid to list data :</p>\n\n<pre><code>Ext.define('ResApp.view.group.ListJamaahGroup', {\nextend: 'Ext.window.Window',\nalias:'widget.listjamaahgroup',\n\nheight: 400,\nwidth: 750,\ntitle: 'Daftar Jamaah',\nmodal: true,\nhidden: false,\nfloating: true,\nresizeable: false,\n\ninitComponent: function() {\n    var me = this;\n\n    Ext.applyIf(me, {\n        items : [\n            {\n                    xtype: 'gridpanel',\n                    autoScroll: true,\n                    border:false,\n                    title: 'Daftar Anggota',\n                    itemId: 'gridAnggota',\n                    preventHeader: true,\n                    forceFit: true,\n                    flex: 1,\n                    store: 'Jamaah',\n                    allowDeselect : true,\n                    viewConfig: {\n                        autoScroll: true\n                    },\n                    dockedItems: [\n                        {\n                            xtype: 'toolbar',\n                            dock: 'top',\n                            cls:'border-bottom',\n                            items: [\n                                {\n                                    xtype: 'button',\n                                    text: 'Pilih',\n                                    iconCls:'edit',\n                                    action: 'selectJamaahGrp',\n                                    itemId: 'selectJamaahGrp'\n                                },\n                                {\n                                    xtype: 'button',\n                                    text: 'Baru',\n                                    iconCls:'add'\n                                }\n                            ]\n                        }\n                    ],\n                    columns: [\n\n                    ....Grid columns...\n\n                    ]                            \n            }\n        ]\n\n    });\n\n    me.callParent(arguments);\n}});\n</code></pre>\n\n<p>and this is my controller :</p>\n\n<pre><code>Ext.define('ResApp.controller.GroupDetails', {\nextend: 'Ext.app.Controller',\nstores: [\n    'Group', 'Jamaah'\n],\nmodels: [\n  'Group', 'Jamaah'\n],\nviews:[\n    'group.Detail',\n    'group.ListJamaahGroup'\n],\ninit: function(){\n    this.control({\n        ...\n\n        'button[action=selectJamaahGrp]': {\n            click: this.selectJamaahGrp\n        },\n\n        ...\n    });\n},\n\n... other functions ...\n\nselectJamaahGrp: function(button, e, options) {\n    //windowDetail.hide();\n\n    var grid = button.up('grid');\n    if (grid) {\n        var windowDetail = Ext.widget('groupdetail');\n        var form = windowDetail.down('form');\n\n\n        var sm = grid.getSelectionModel();\n        var rs = sm.getSelection();\n        if (!rs.length) {\n            Ext.Msg.alert('Info', 'Pilih salah satu');\n            return;\n        }\n\n        var data = grid.getSelectionModel().getSelection()[0];\n        //how to setValue to triggerfield from here\n    }\n    button.up('listjamaahgroup').destroy();\n},\nbatalSelClick: function(button, e, options) {\n    button.up('listjamaahgroup').destroy();\n}\n... other functions ...})\n</code></pre>\n\n<p>my problem is, i can't figure how to setValue the triggerfield from my controller. Or there's another way to do it?</p>\n"},{"tags":["php","mvc","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":11880667,"title":"Yii and MVC pattern","body":"<p>I am creating a new Portlet in Yii. this widget show most recent Comment of a Issue. I want to show this only if Issue has comment and do not show it (event title) if Issue doesn't have any comments.</p>\n\n<p>So my psudo code in view file as below: </p>\n\n<p>Check number of comments process:</p>\n\n<pre><code>&lt;?php\n$countIssue = count($model-&gt;issues);\n$i = 0; $j = 0;\nwhile($i &lt; $countIssue)\n{\n    $j += $model-&gt;issues[$i]-&gt;commentCount;\n    $i ++;\n}\n?&gt;\n\nif ($countIssue &gt;0 ) {\n  if ($j &gt;0)\n  Display the widget\n}\n\nElse\n\nDon't display the widget\n</code></pre>\n\n<p>I am just wonderring is my code suitable for MVC model. Could you give me a direction? Should I bring the Check number of comment process to Model or Controller , or is the above Ok fo MVC pattern?</p>\n\n<p>Thank you!</p>\n"}]}
{"total":14105,"page":15,"pagesize":100,"questions":[{"tags":["mvc","zend-framework","partial-views","php-frameworks","zend-framework-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":146,"score":0,"question_id":11832129,"title":"Rendering a partial view in Zend for adding html to routing action layout","body":"<p>I am rendering a page with a lot of frames (XHR contentpanes via dojo). This is done through a request to <code>IndexController</code> which sets up regions 'header,left,right,center,footer' with the exception, that center is not filled in with contents. This in turn is set by calling <code>PaneController</code> in menu.onclick. Caveat; search engines indexing service does not get center region contents.. I wish to bypass AJAX loading of center, if user enters via /index/index.</p>\n\n<p>Relevant snippets from IndexController:</p>\n\n<pre><code>class IndexController extends Zend_Controller_Action {\n    public function indexAction() {\n        $this-&gt;indexModel = $this-&gt;view-&gt;indexModel = new Application_Model_Index();\n\n        // Goal is to render \"/pane/main/\" action and capture the HTML\n        $this-&gt;view-&gt;mainPane = (string) $this-&gt;renderPaneMain();\n        return $this-&gt;render();\n    }\n    public function renderPaneMain() {\n        // ActionStack ?\n        // action() ?\n        return $HTML;\n    }\n}\n</code></pre>\n\n<p>Relevant stuff in Pane</p>\n\n<pre><code>class PaneController extends Zend_Controller_Action {\n\n    public function preDispatch() {\n        // will only return a contentpane, dont render layout \n        if ($this-&gt;getRequest()-&gt;isXmlHttpRequest()) {\n            $this-&gt;_helper-&gt;layout()-&gt;disableLayout();\n            $this-&gt;view-&gt;doLayout = true;\n        }\n    }\n    public function mainAction() {\n            this.render(\"main.phtml\");\n    }\n    public function init() {\n        $this-&gt;panesModel = new Application_Model_Panes();\n        $variant = $this-&gt;getRequest()-&gt;getParam('variant', '');\n            // routing variables need to be set, how?\n        if (empty($variant))\n            $this-&gt;_redirect('/');\n    }\n}\n</code></pre>\n\n<p>Basically, i need the PaneController to _not render the global layout but call its .phtml view file, once it has been setup with relevant model entries and such.</p>\n\n<p>Any ideas as to how I can achieve this in its most efficient form?</p>\n"},{"tags":["c#","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":11884003,"title":"sending a list through RedirectToRoute","body":"<p>I'm working on a Razor application with a model view controller structure, and I try to edit something then use redirect to route to return to an index page, but I try to pass the errors as well, as a list of strings. </p>\n\n<p>I have something like this:</p>\n\n<pre><code>var errorMessages = new List&lt;string&gt;();\n{...}\nreturn RedirectToRoute(\"Default\", new { controller = \"Controller\", action = \"Action\",  errorMessages = errorMessages });\n</code></pre>\n\n<p>and this is how my other controller method looks like:</p>\n\n<pre><code>public ActionResult Action(List&lt;string&gt; errorMessages)\n{\n...\n}\n</code></pre>\n\n<p>the problem is that whatever happens in my firs controller, in the <code>Action</code> method I always get a collection with one element which reads <code>\"System.Collections.Generic.List'1[System.String]\"</code>. whereas I'm expecting to receive the actual collection.</p>\n\n<p>Any ideas why this happens? or how to solve it?</p>\n"},{"tags":["mvc","design"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":11884645,"title":"Where should MVC responses be created?","body":"<p>As far as I can tell, in an MVC application, there are several scenarios for creating Responses:</p>\n\n<ul>\n<li>The Router/Request/whatever creates a Response and passes it to the Controller's constructor.  Upon completion of the action method, the Router/Request/whatever then sends that Response.</li>\n<li>Same as above, only the Router/Request/whatever passes the Response to the action method, instead of the Controller's constructor.</li>\n<li>The Controller constructor creates its own Response and the action methods modify it.  Upon completion of the action method, the Router/Request/whatever accesses the Controller's Response to send it.</li>\n<li>Same as above, only the action methods return the Controller's Response, so that it doesn't need to be part of the Controller's interface.</li>\n<li>The action methods themselves create their own Responses and return them.</li>\n</ul>\n\n<p>With respect to the Law of Demeter and other OOP tenets, which design will be the most maintainable, easiest to follow, etc. (e.g. the \"best\", as reluctant as I am to use that word)?  Did I forget any?</p>\n"},{"tags":["asp.net","database","mvc","ado.net"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":261,"score":1,"question_id":7738804,"title":"ASP.NET MVC Database connectivity using ADO.NET","body":"<p>I'm new to ASP.NET MVC. I want to work with SQL Server database with stored procedures without using LINQ but standard ADO.NET. How can I do that? Is there any useful video tutorial or example for that?</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","actionlink"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":184,"score":1,"question_id":10408462,"title":"Passing div id as a parameter to the controller?","body":"<p>I want to pass the id of a div to the controller. i have attached an actionlink to the div and I am trying to do something like below,</p>\n\n<p>index view of my TasksController</p>\n\n<pre><code>@Html.ActionLink(\"c\", \"Create\", \"TasksController\", new { i = 6 }, new { @class = \"element\" })\n</code></pre>\n\n<p>inside the Create controller </p>\n\n<pre><code>public ActionResult Create(string i)\n        {\n            ViewData[\"I\"] = i;\n            return View();\n        } \n</code></pre>\n\n<p>and then in Create View, </p>\n\n<pre><code>&lt;div class=\"editor-field\"&gt;\n            @Html.TextBox(\"divID\", ViewData[\"I\"])\n            @Html.ValidationMessageFor(model =&gt; model.divID)\n&lt;/div&gt;\n</code></pre>\n\n<p>but this is not working.\nAny help please? Thanks in advance. </p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","c#-4.0"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":158,"score":-2,"question_id":11882297,"title":"how to send and receive mail by loged in user using c# mvc 3","body":"<p><strong>i need to send and receive mail by loged in user using c# mvc 3. for my domain like\n   mailing system (gmail, yahoo).</strong></p>\n\n<p>how to do change web config. so that i can send or receive mail by loged in user.</p>\n"},{"tags":["ruby","ruby-on-rails-3","mvc","activerecord","actionpack"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":11881206,"title":"Accessing more than one active records in action controller in rails 3","body":"<p>suppose I have 2 models: 1. user and 2. userProfile <br/>\nwe have one-to-one relationship between 2 models. <br/>\nThen,I would like to create Usercontroller and create user with fields such as username and password in user and other details like address, mobile number,etc in userprofile.\n<br/>\n<b>user_id is a foreign key in user_profile </b>\n<br/>\nThen I created new.html.erb in user a view that render all above fields in a same form.\nThen how I can save the data in two different tables user and userprofile respectively.\n<br/>\n<br/></p>\n\n<p>\n what I tried is\n<br/>\n 1. has_one :user_profile in <i>user.rb</i> and  belongs_to :user in <i>user_profile.rb</i>\n <br/>\n 2. accepts_nested_attributes_for :user_profile in <i>user.rb</i></li>\nuser_controller:\n<pre>\n\n\n     def create\n       @user = User.new(params[:user])\n       if @user.save\n          @userprofile = @user.create_user_profile(params[:user_profile])\n               redirect_to root_url, :notice => \"Signed up!\"     \n       else\n          render \"new\"\n        end \n      end\n\n </pre>\n <br/>\n 3. Then I got error the only userid is created in user_profile and also update run to make user_id nil which can't be! so raising error:\n<pre>\nUnknown column 'user_profiles.' in 'where clause': UPDATE `user_profile` \nSET `user_id` = NULL WHERE `user_profiles`.`` IS NULL\n</pre>\n\n\n<b>so what's wrong and how to troubleshoot this?</b>\n</p>\n"},{"tags":["php","mvc","codeigniter","file-upload"],"answer_count":6,"favorite_count":13,"up_vote_count":14,"down_vote_count":0,"view_count":19167,"score":14,"question_id":1908247,"title":"codeigniter multiple file upload","body":"<p>I am trying to get a multiple upload library working for my codeigniter based website, I have it working almost but I have a slight problem if I upload more than one image, the file extentions get screwed up, for example,  if I upload three JPEGS, I get this in my uploads folder,</p>\n\n<p>image1.jpg\nimage2.jpg.jpg\nimage3.jpg.jpg.jpg</p>\n\n<p>I cannot see what is causing it, this is the library in question and I am pretty sure that it is in there that the problem is, </p>\n\n<pre><code>    &lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed'); \n\n/**\n* This library assumes that you have already loaded the default CI Upload Library seperately\n* \n* Functions is based upon CI_Upload, Feel free to modify this \n*   library to function as an extension to CI_Upload\n* \n* Library modified by: Alvin Mites\n* http://www.mitesdesign.com\n* \n*/\n\nclass Multi_upload  {\n    function Multi_upload () {\n//  \t$CI =&amp; get_instance();\n    }\n\n    /**\n     * Perform multiple file uploads\n     * Based upon JQuery Multiple Upload Class\n     * see http://www.fyneworks.com/jquery/multiple-file-upload/\n     */\t\n    function go_upload($field = 'userfile') {\n        $CI =&amp; get_instance(); \n    \t// Is $_FILES[$field] set? If not, no reason to continue.\n    \tif ( ! isset($_FILES[$field]['name'][0]))\n    \t{\n    \t\t$CI-&gt;upload-&gt;set_error('upload_no_file_selected');\n    \t\treturn FALSE;\n    \t} else\n    \t{\n    \t\t$num_files = count($_FILES[$field]['name']) -1;\n            $file_list = array();\n            $error_hold = array();\n            $error_upload = FALSE;\n    \t}\n\n        // Is the upload path valid?\n        if ( ! $CI-&gt;upload-&gt;validate_upload_path())\n        {\n            // errors will already be set by validate_upload_path() so just return FALSE\n            return FALSE;\n        }\n\n        for ($i=0; $i &lt; $num_files; $i++) {\n\n//            $fname = $_FILES[$field]['name'][$i];\n//            echo \"$fname\\n\\n&lt;br&gt;&lt;br&gt;\\n\\n\";\n\n            $error_hold[$i] = FALSE;\n\n            // Was the file able to be uploaded? If not, determine the reason why.\n            if ( ! is_uploaded_file($_FILES[$field]['tmp_name'][$i]))\n            {\n                $error = ( ! isset($_FILES[$field]['error'][$i])) ? 4 : $_FILES[$field]['error'][$i];\n\n                switch($error)\n                {\n                    case 1:  // UPLOAD_ERR_INI_SIZE\n                        $error_hold[$i] = 'upload_file_exceeds_limit';\n                        break;\n                    case 2: // UPLOAD_ERR_FORM_SIZE\n                        $error_hold[$i] = 'upload_file_exceeds_form_limit';\n                        break;\n                    case 3: // UPLOAD_ERR_PARTIAL\n                       $error_hold[$i] = 'upload_file_partial';\n                        break;\n                    case 4: // UPLOAD_ERR_NO_FILE\n                       $error_hold[$i] = 'upload_no_file_selected';\n                        break;\n                    case 6: // UPLOAD_ERR_NO_TMP_DIR\n                        $error_hold[$i] = 'upload_no_temp_directory';\n                        break;\n                    case 7: // UPLOAD_ERR_CANT_WRITE\n                        $error_hold[$i] = 'upload_unable_to_write_file';\n                        break;\n                    case 8: // UPLOAD_ERR_EXTENSION\n                        $error_hold[$i] = 'upload_stopped_by_extension';\n                        break;\n                    default :\n                        $error_hold[$i] = 'upload_no_file_selected';\n                        break;\n                }\n\n                return FALSE;\n            }\n\n            // Set the uploaded data as class variables\n            $CI-&gt;upload-&gt;file_temp = $_FILES[$field]['tmp_name'][$i];        \n            $CI-&gt;upload-&gt;file_name = $CI-&gt;upload-&gt;_prep_filename($_FILES[$field]['name'][$i]);\n            $CI-&gt;upload-&gt;file_size = $_FILES[$field]['size'][$i];        \n            $CI-&gt;upload-&gt;file_type = preg_replace(\"/^(.+?);.*$/\", \"\\\\1\", $_FILES[$field]['type'][$i]);\n           $CI-&gt;upload-&gt;file_type = strtolower($CI-&gt;upload-&gt;file_type);\n          $CI-&gt;upload-&gt;file_ext  = $CI-&gt;upload-&gt;get_extension($_FILES[$field]['name'][$i]);\n\n            // Convert the file size to kilobytes\n            if ($CI-&gt;upload-&gt;file_size &gt; 0)\n            {\n                $CI-&gt;upload-&gt;file_size = round($CI-&gt;upload-&gt;file_size/1024, 2);\n            }\n\n            // Is the file type allowed to be uploaded?\n            if ( ! $CI-&gt;upload-&gt;is_allowed_filetype())\n            {\n                $error_hold[$i] = 'upload_invalid_filetype';\n            }\n\n            // Is the file size within the allowed maximum?\n            if ( ! $CI-&gt;upload-&gt;is_allowed_filesize())\n            {\n                $error_hold[$i] = 'upload_invalid_filesize';\n            }\n\n            // Are the image dimensions within the allowed size?\n            // Note: This can fail if the server has an open_basdir restriction.\n            if ( ! $CI-&gt;upload-&gt;is_allowed_dimensions())\n            {\n                $error_hold[$i] = 'upload_invalid_dimensions';\n            }\n\n            // Sanitize the file name for security\n            $CI-&gt;upload-&gt;file_name = $CI-&gt;upload-&gt;clean_file_name($CI-&gt;upload-&gt;file_name);\n\n            // Remove white spaces in the name\n            if ($CI-&gt;upload-&gt;remove_spaces == TRUE)\n            {\n                $CI-&gt;upload-&gt;file_name = preg_replace(\"/\\s+/\", \"_\", $CI-&gt;upload-&gt;file_name);\n            }\n\n            /*\n             * Validate the file name\n             * This function appends an number onto the end of\n             * the file if one with the same name already exists.\n             * If it returns false there was a problem.\n             */\n            $CI-&gt;upload-&gt;orig_name = $CI-&gt;upload-&gt;file_name;\n\n            if ($CI-&gt;upload-&gt;overwrite == FALSE)\n            {\n                $CI-&gt;upload-&gt;file_name = $CI-&gt;upload-&gt;set_filename($CI-&gt;upload-&gt;upload_path, $CI-&gt;upload-&gt;file_name);\n\n                if ($CI-&gt;upload-&gt;file_name === FALSE)\n                {\n                    $error_hold[$i] = TRUE;\n                }\n            }\n\n            /*\n             * Move the file to the final destination\n             * To deal with different server configurations\n             * we'll attempt to use copy() first.  If that fails\n             * we'll use move_uploaded_file().  One of the two should\n             * reliably work in most environments\n             */\n            if ( ! @copy($CI-&gt;upload-&gt;file_temp, $CI-&gt;upload-&gt;upload_path.$CI-&gt;upload-&gt;file_name))\n            {\n                if ( ! @move_uploaded_file($CI-&gt;upload-&gt;file_temp, $CI-&gt;upload-&gt;upload_path.$CI-&gt;upload-&gt;file_name))\n                {\n                     $error_hold[$i] = 'upload_destination_error';\n                }\n            }\n\n            /*\n             * Run the file through the XSS hacking filter\n             * This helps prevent malicious code from being\n             * embedded within a file.  Scripts can easily\n             * be disguised as images or other file types.\n             */\n            if ($CI-&gt;upload-&gt;xss_clean == TRUE)\n            {\n                $CI-&gt;upload-&gt;do_xss_clean();\n            }\n\n            if ($error_hold[$i]) {\n                $error_upload = TRUE;\n\n//                echo $error_hold[$i];\n            } else {\n                if ($imageVar = $this-&gt;multiple_image_properties($CI-&gt;upload-&gt;upload_path.$CI-&gt;upload-&gt;file_name)) {\n\n                    $file_list[] = array(\n                            'name' =&gt; $CI-&gt;upload-&gt;file_name,\n                            'file' =&gt; $CI-&gt;upload-&gt;upload_path.$CI-&gt;upload-&gt;file_name,\n                            'size' =&gt; $CI-&gt;upload-&gt;file_size,\n                            'ext' =&gt; $CI-&gt;upload-&gt;file_ext,\n                            'image_type' =&gt; $imageVar-&gt;image_type,\n                            'height' =&gt; $imageVar-&gt;height,\n                            'width' =&gt; $imageVar-&gt;width\n                            );\n                } else {\n                    $file_list[] = array(\n                            'name' =&gt; $CI-&gt;upload-&gt;file_name,\n                            'file' =&gt; $CI-&gt;upload-&gt;upload_path.$CI-&gt;upload-&gt;file_name,\n                            'size' =&gt; $CI-&gt;upload-&gt;file_size,\n                            'type' =&gt; $CI-&gt;upload-&gt;file_type,\n                            'ext' =&gt; $CI-&gt;upload-&gt;file_ext,\n                            );\n                }\n            }\n\n// For debugging\n/*            \n            if (strlen($error_hold[$i]) &gt; 1) {\n                    print_r($error_hold);\n            }\n*/            \n        } // end for loop\n\n// Add error display for individual files        \n        if ($error_upload) {\n            $this-&gt;set_error($error_hold);\n            return FALSE;\n        } else {\n            return $file_list;\n        }    \n    }\n\n    // --------------------------------------------------------------------\n\n    /**\n     * Set Image Properties\n     *\n     * Uses GD to determine the width/height/type of image\n     *\n     * @access    public\n     * @param    string\n     * @return    void\n     */    \n    function multiple_image_properties($path = '')\n    {\n        $CI =&amp; get_instance(); \n        if ( ! $CI-&gt;upload-&gt;is_image())\n        {\n            return false;\n        }\n\n        if (function_exists('getimagesize'))\n        {\n            if (FALSE !== ($D = @getimagesize($path)))\n            {    \n                $types = array(1 =&gt; 'gif', 2 =&gt; 'jpeg', 3 =&gt; 'png');\n\n                $image-&gt;width       = $D['0'];\n                $image-&gt;height      = $D['1'];\n                $image-&gt;image_type        = ( ! isset($types[$D['2']])) ? 'unknown' : $types[$D['2']];\n\n                return $image;\n            }\n        }\n    }\n\n    // --------------------------------------------------------------------\n\n    /**\n     * Set an error message\n     *\n     * @access    public\n     * @param    string\n     * @return    void\n     */    \n    function set_error($msg)\n    {\n        $CI =&amp; get_instance();    \n        $CI-&gt;lang-&gt;load('upload');\n\n        if (is_array($msg))\n        {\n            foreach ($msg as $val)\n            {\n                $msg = ($CI-&gt;lang-&gt;line($val) == FALSE) ? $val : $CI-&gt;lang-&gt;line($val);                \n                $this-&gt;error_msg[] = $msg;\n                log_message('error', $msg);\n            }        \n        }\n        else\n        {\n            $msg = ($CI-&gt;lang-&gt;line($msg) == FALSE) ? $msg : $CI-&gt;lang-&gt;line($msg);\n            $this-&gt;error_msg[] = $msg;\n            log_message('error', $msg);\n        }\n    }\n\n    // --------------------------------------------------------------------\n}\n?&gt;\n</code></pre>\n"},{"tags":["mvc","joomla","joomla-component","joomla-module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":11842643,"title":"Joomla mvc video tutorial","body":"<p>Does anyone knows about a good video tutorial for joomla mvc development ? \nJoomla documentation is soo hard to understand. and there is no nuggets in cbtnuggets.com \nplease if you know a good one please give me the link \n    thanks in advance.</p>\n"},{"tags":["mvc","design-patterns","mvvm","mvp"],"answer_count":1,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":270,"score":5,"question_id":11877575,"title":"What are the differences between MVC, MVP and MVVM?","body":"<p>From what I can gather, the first two don't seem that different. Whether it's called a controller or presenter, it still seems to have the same mediation functions.</p>\n\n<p>MVVM seems a little different in that the controller seems to be more of a part of the framework, such as with XAML bindings.</p>\n\n<p>What is the \"Cliff's Notes\" explanation of the differences?</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","razor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":166,"score":-1,"question_id":11867952,"title":"Could not pass value from ajax.beginform to controller's method","body":"<p><strong>View:</strong></p>\n\n<pre><code>@using (Ajax.BeginForm(\"EditP\", \"P\",new AjaxOptions { InsertionMode = InsertionMode.Replace, HttpMethod = \"POST\", UpdateTargetId = \"divReplace\" }))\n{     \n    @Html.HiddenFor(model =&gt; model.Req,new {@id=\"req\"});   \n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>[HttpPost]\npublic PartialViewResult EditP(long requestSequence,FormCollection form)\n{  \n    ...........\n}\n</code></pre>\n\n<p>I can see <code>Model.req</code> value as 234, but when it reaches controller shows it as 0.</p>\n\n<p>Atleast when I use <code>form.Get(\"req\")</code> to collect the value, This too shows it as 0. </p>\n\n<p>Kindly, help.</p>\n"},{"tags":["jquery","spring","mvc","jsp","timer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":11872779,"title":"Timer between Web layer and UI","body":"<p>I need to check the performances between the layers.\nHow can I get the time spent by the request to fetch data from backend to UI?\nI am using Spring MVC. I was thinking of putting some variables in response and read the respnse in jsp but I am not sure this is the good way to calculate. I making a jQuery ajax call to spring controller.</p>\n"},{"tags":["php","mvc","datamapper","domain-object"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":194,"score":1,"question_id":11873752,"title":"Traditional MVC: How should a data mapper return a domain object?","body":"<p><em>Note: Ignoring the non-persistent model and other true MVC shortcomings by PHP, this question is about the traditional MVC paradigm - not \"Framework MVC\"</em></p>\n\n<p>In my model layer I have data mappers, domain objects, and \"services\" (to liase outside the model layer). I chose to implement a DomainObjectFactory and a DataMapperFactory, which has left me stuck on the DM&lt;->DO relationship. Ideally the data mapper would return an instance (or an array of instances) of the related domain object for every method that performs a \"get\"/\"read\", but the data mapper doesn't have access to the domain object factory. </p>\n\n<p>Without the factory pattern over the DM and DO, the autoloader could take over within the DM such that instances of the DO could be created. But how is this accomplished with a factory?</p>\n\n<p>One possible solution I can think of would be to pass an instance of the related domain object to the data mapper method, e.g:</p>\n\n<pre><code>    $user = $this-&gt;domainObjectFactory-&gt;build('user');\n    $mapper = $this-&gt;dataMapperFactory-&gt;build('userMapper');\n\n    //Pass an [empty] user DO to the DM, which will be returned back\n    $mapper-&gt;getById($someIDValue, $user);\n</code></pre>\n\n<p>This option seems very dirty, but it would work for single get methods. However it goes semantically off-the-rails when dealing with returning an array of domain objects, so clearly this isn't the best way to accomplish this... Another option would be to allow the data mapper access to the domain object factory, but that would turn into a massive LOD/SRP violation. </p>\n\n<p><strong>In short:</strong> <em>How can a data mapper access the domain object factory to be able to return domain objects?</em></p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","razor","telerik-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":336,"score":0,"question_id":11859864,"title":"Bind Telerik treeview to Telerik Grid","body":"<p>How to bind Telerik MVC TreeView to a Telerik MVC Grid in RAZOR engine. I got a dashboard which has a Telerik MVC Grid bound with single column data ie only one column in a Grid. And I need to bind Telerik MVC TreeView to each Item in the Grid ie each cell. ie each cell in the Telerik Grid should be shown in TreeView, just as shown below : </p>\n\n<p><img src=\"http://i.stack.imgur.com/rZB7Z.jpg\" alt=\"Screenshot of Telerik TreeView data bound to Telerik Grid \"> </p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":4,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":4566,"score":7,"question_id":7856629,"title":"Set Focus on a Textbox - MVC3","body":"<p>How can I set focus on \"Amount\" textbox on page load for the following Razor code in MVC3?             </p>\n\n<pre><code>        &lt;tr&gt;\n            &lt;th&gt;\n                &lt;div class=\"editor-label\"&gt;\n                    @Html.LabelFor(model =&gt; model.Amount)\n                &lt;/div&gt;                            \n            &lt;/th&gt;\n             &lt;td&gt;\n                 &lt;div class=\"editor-field\"&gt;\n                    @Html.EditorFor(model =&gt; model.Amount)\n                    @Html.ValidationMessageFor(model =&gt; model.Amount)\n                 &lt;/div&gt;                          \n            &lt;/td&gt;\n        &lt;/tr&gt;\n</code></pre>\n"},{"tags":[".net","mvc","asp.net-mvc-4","asp.net-web-api","model-binding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":11862591,"title":"MVC and .Net4.5 - Web API Silently fails for data types without a default Parameterless Constructor","body":"<p>I have a similar problem to this SO question: <a href=\"http://stackoverflow.com/questions/7360239/deserializing-json-to-object-with-no-default-constructor-in-asp-net-mvc-3\">Deserializing JSON to object with no default constructor in ASP.NET MVC 3</a> but in MVC4 and the quoted solution didn't work for me.</p>\n\n<p>Essentially, If I have a class like;</p>\n\n<pre><code>public class MyObject\n{\n    public string name = \"foo\";\n    public int age = 33;\n    public MyObject(string n)\n    {\n        name = n;\n    }\n}\n</code></pre>\n\n<p>and I try to return it from a Web API method;</p>\n\n<pre><code>    // GET api/values/5\n    public **MyObject** Get(int id)\n    {\n        return new MyObject(\"Getted\");\n    }\n</code></pre>\n\n<p>The plumbing just throws my request on the floor. It <strong>silently</strong> fails with a 500 error. Now I might expect it to struggle, but I'd prefer an exception. It's not clear where this is being generated but I've tried intercepting at a number of points (FilterProvider, ValueProvider, ModelBinder) and I can't see to see which part of the plumbing is throwing it out. </p>\n\n<p>This custom model binder does <strong>not</strong> even get called for instance;</p>\n\n<pre><code>public class MyObjectModelBinder : DefaultModelBinder\n{\n    protected override object CreateModel(ControllerContext controllerContext, ModelBindingContext bindingContext, Type modelType)\n    {\n        return new MyObject(\"bound model\");\n    }\n}\n</code></pre>\n\n<p>For completeness, this was registered in global.asax.cs;</p>\n\n<pre><code>public class WebApiApplication : System.Web.HttpApplication\n{\n    protected void Application_Start()\n    {\n        // other stuff...\n\n        ModelBinders.Binders.Add(typeof(MyObject), new MyObjectModelBinder());\n    }\n}\n</code></pre>\n\n<p>Curiously, if I add a default constructor, it's never actually called, but the Web API plumbing just won't seem to work without it.</p>\n\n<p>This <strong>does</strong> work (strangely);</p>\n\n<pre><code>public class MyObject\n{\n    public string name = \"foo\";\n    public int age = 33;\n    public MyObject()\n    {\n        throw new Exception(\"I am never called! But I must exist\");\n    }\n    public MyObject(string n)\n    {\n        name = n;\n    }\n}\n</code></pre>\n\n<p>I was considering raising an issue on connect.microsoft.com regarding the silent failure, but presumably there must be a workaround.</p>\n\n<p>Can anyone shed any light on what I'm doing wrong?</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":11871866,"title":"PHP - If controller's name is \"category\" then method is a value for this controller","body":"<p>So I have library called Engine.php and what it does basically is running</p>\n\n<p>example.com/controller/method/value</p>\n\n<p>So for example if I have </p>\n\n<p>example.com/category/images</p>\n\n<p>it runs the method called \"images\". But I don't want to add to the code for every single category. I want the method to be a variable (so that I will make it work with db later).</p>\n\n<p>How can I achieve this without changing the Engine? The problem is - some of the pages don't have categories at all. And I don't want to rewrite the Engine itself.</p>\n\n<p>Can I somehow do this in the controller? For example:</p>\n\n<p>I'm entering controller called \"category\" and if method is set, it searches for this method within the controller (''category''). </p>\n\n<p>This is what part of my Engine.php looks like:</p>\n\n<pre><code>    if (isset($url_output[1])) {\n        if (isset($url_output[2])) {\n            if (method_exists($controller,$url_output[1])) {\n                $controller-&gt;{$url_output[1]}($url_output[2]);\n            } else {\n                $this-&gt;error();\n            }\n        } else {\n            if (method_exists($controller,$url_output[1])) {\n                $controller-&gt;{$url_output[1]}();\n            } else {\n                $this-&gt;error();\n            }\n        }\n      }\n</code></pre>\n\n<p>So basically, as you can see:</p>\n\n<pre><code>$controller-&gt;{$url_output[1]}();\n</code></pre>\n\n<p>$url_output[1] = the name of the method in controller named $url_output[0].</p>\n\n<p>What I want is:</p>\n\n<pre><code>public function $category() {\necho $category\n}\n</code></pre>\n\n<p>You know what I mean?</p>\n"},{"tags":["iphone","objective-c","mvc","architecture","uiviewcontroller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":11871029,"title":"ViewController acrchitecture","body":"<p>I want to build an application with one main view that will be on-screen most of the time. Part of the view is constant and displays main controls. However, there is a special sub-view that depends on the state of the app. The state of the app is presented with a special 'state object'. There can be only one 'state object' active at once, but they can have very different logic and should be presented with different user interfaces (within this special sub-view).</p>\n\n<p>Obviously, I can handle it in the ViewController of the main view by analyzing the type of the current state object. I can create a biiiig switch with a lot of code specific to every possible class that the state object can have, and add some code there every time I add a new state object subclass... But this doesn't sound like a good architecture to me. I want the state objects, or the different ViewControllers specific to them to take control of this special view instead. Unfortunately, I feel a bit lost in views, viewControllers &amp; delegates &amp; don't understand how exactly can I achieve this.</p>\n"},{"tags":["json","mvc","knockout.js"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":11870768,"title":"How to load upshot.dataSources entity with a $.getJSON call","body":"<p>How can I load an upshot.dataSources.MyEntity with a $.getJSON call.</p>\n\n<p>I also want to take advantage of Knockout.Mapping.js to provide the javascript\nmodel for the JSON data.</p>\n\n<p>MyController/Action returns a JsonResult.</p>\n\n<pre><code>return Json(MyRepository.GetAllData(), JsonRequestBehavior.AllowGet);\n\nupshot.dataSources = upshot.dataSources || {};\nupshot.dataSources.MyEntity = upshot.RemoteDataSource({\n        providerParameters: { url: \"/MyController\", operationName: \"GetAllData\" },\n        provider: upshot.riaDataProvider, \n        bufferChanges: true,\n        dataContext: ???, \n        mapping: {???}\n});\n\n$.getJSON(\"/MyController/GetAllData\", function (data) {\n  ko.mapping.fromJS(data, self.myEntity);\n});\n</code></pre>\n\n<p>Many Thanks!</p>\n"},{"tags":["cocoa-touch","mvc","sockets","connection","singleton"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":11869247,"title":"Cocoa Touch continuous socket connection with multiple MVC (singleton object? delegation or notification?)","body":"<p>I'm trying to make a simple chat app to figure out sockets in iOS 5.\nI'm using this as a rough guide:\n<a href=\"http://www.raywenderlich.com/3932/how-to-create-a-socket-based-iphone-app-and-server\" rel=\"nofollow\">http://www.raywenderlich.com/3932/how-to-create-a-socket-based-iphone-app-and-server</a></p>\n\n<p>I'm wondering how I should best fit a continuous connection to a server into the MVC model.  That tutorial manages the connection in the ViewController.  I would like to make use of the connection over multiple views so this obviously won't work for me.</p>\n\n<p>Is it best to create a singleton object that I instantiate in the appdelegate?  Then I could send data by doing something like [[[UIApplication sharedApplication] delegate] sendData: data].</p>\n\n<p>Are notifications then the preffered way to notify the rest of my brain (model) classes (in those multiple MVCS I have?</p>\n\n<p>Sorry if I'm unclear.  These questions are basically the same as mine:\n<a href=\"http://stackoverflow.com/questions/8883336/should-i-use-a-singleton-class-to-manage-a-socket-connection-in-my-ios5-applicat\">Should I use a singleton class to manage a socket connection in my iOS5 application?</a>\nhttp://stackoverflow.com/questions/10850965/creating-a-tcp-socket-connection-and-keep-the-connection-open-across-several-vie</p>\n\n<p>Thanks stackbros</p>\n"},{"tags":["c#","mvc","razor"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":11863363,"title":"i want result in per and display in mvc razor","body":"<pre><code>@{    var unResolve = from ticket_priority in db.ticket_priority\n            join ticket in db.tickets on ticket_priority.id equals ticket.ticket_priority_id into ticket_join\n            from ticket in ticket_join.DefaultIfEmpty()\n            group new { ticket_priority, ticket } by new\n            {\n                ticket_priority.id,\n                ticket_priority.title,\n                ticket_priority.image_path\n            } into g\n            select new\n            {\n                Count = (Int64?)g.Count(p =&gt; p.ticket.id != null),\n                Id = (System.Int64?)g.Key.id,\n                g.Key.title,\n                g.Key.image_path\n            };\n\n   var sum = unResolve.Sum(p =&gt; p.Count);   \n   foreach (var item in unResolve)\n   {  \n       @double percentage = ((@item.Count/@sum)*100) \n   }\n }\n</code></pre>\n\n<p>i wnat to get percentage of the this item but i don't know how to get in razor syntax </p>\n\n<p>how to get this result in razor mvc -\nerror \n@double percentage = ((@item.Count/@sum)*100)</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-2","asp.net-mvc-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":424,"score":0,"question_id":6689146,"title":"how to close jquery dialog box from a partialview","body":"<p>I am having a partialview A on my main view page. from this Partialview I m opening a jquery\ndialogbox which opens a partialview inside it.\nI m having some buttons inside that partialview which are meant to do some task\nWhen I click on the button the event are firing but when I try to close the dialog box by the code given below I get error.\nIf I press escape when the dialog box opens it closes but When I click on the button to get it back it again gives the same error.\nie- when I can open the dialog box only once.</p>\n\n<pre><code>$(function () {\n    $( \"#dialog:ui-dialog\" ).dialog( \"destroy\" );\n    $('#dialog').dialog({\n        autoOpen: false,\n        width: 700,\n        resizable: false,\n        modal: false,\n        open: function (event, ui) { $(this).load('&lt;%=Url.Action(\"PushButton\",\"Body\",new {Parm=\"text\",Parm1=\"para\"}) %&gt;'); },\n        buttons: {Cancel: function() {\n                $( this ).dialog( \"close\" );\n            }\n        },\n        position: 'top',\n        closeOnEscape: true\n    });\n});\n</code></pre>\n\n<p>This is how I m opening it</p>\n\n<pre><code>$('#dialog').dialog('open');\n</code></pre>\n\n<p>This is the function through which I m trying to close it, this is on the partialview which is opening in dialog box</p>\n\n<pre><code>$('#dialog').dialog('close');\n</code></pre>\n\n<p>I have tried to make a function on the partialview A(from where I click and get and the dialog box but getting the same error)\nThis is the error I m getting</p>\n\n<p>Microsoft JScript runtime error: Object doesn't support property or method 'dialog'</p>\n\n<p>Kindly help me with this</p>\n"},{"tags":["java","spring","mvc","java-ee","struts"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":11864304,"title":"using struts-spring pluggin","body":"<p>in my project they have mapping in this way, i found type parameter quite strange , goggled it , read about some struts spring plugin, can anyone give me a little idea why it is done in this way, or what is this...??</p>\n\n<pre><code>&lt;action path=\"/loginAction\"  \n          type=\"org.springframework.web.struts.DelegatingActionProxy\"  \n          name=\"loginForm\"  \n          scope=\"request\"  \n          validate=\"false\"  \n          input=\"/showLoginAction.do\"&gt;\n</code></pre>\n"},{"tags":["xml","spring","mvc","tomcat","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":11863504,"title":"Tomcat trying to open xml files when Spring MVC project run on Eclipse","body":"<p>When I run this from eclipse I get a 404 the requested resource() is not available and in the address bar i have <code>http://localhost:8080/SpringMVCTest/web.xml</code> or <code>http://localhost:8080/SpringMVCTest/springMVCTest-servlet.xml</code>. Why is it trying to open the xml files?</p>\n\n<p>This is the web.xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\" version=\"2.5\"&gt;\n  &lt;display-name&gt;SpringMVCTest&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;springMVCTest&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;springMVCTest&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>This is the springMVCTest-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd\"&gt;\n    &lt;mvc:annotation-driven/&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources\" /&gt;\n    &lt;context:component-scan base-package=\"/\"&gt;&lt;/context:component-scan&gt;\n\n    &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\"&gt;&lt;/property&gt;\n    &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>This is the controller</p>\n\n<pre><code>import java.util.Map;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n\n\n@Controller\npublic class SpringMVCTest {\n\n    @RequestMapping({\"/\",\"/home\"})\n    public String showHomePage(Map&lt;String, Object&gt; model) {\n        model.put(\"name\", \"Jess\");\n        return \"home\";\n    }\n}\n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":8576217,"title":"Handling MVC form submission to database","body":"<p>So I'm loosely following the Music Store tutorial. I created the StoreManagerController on pg. 54ish. And it created a view with the Create, Deleted, Edit, etc. It's saving some stuff to the database, namely my EditFor controls, but nothing else.</p>\n\n<p>I have multiple DropDownListFor controls, populated by both tables in the database and also Active Directory user data. I'm not sure how to get these to save. Here is my abridged code. Thanks for the help.</p>\n\n<p>View:</p>\n\n<pre><code>&lt;div class=\"createTopInner\"&gt;\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.test.Category)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.DropDownListFor(model =&gt; model.CategoryId, Model.CategoryItems, \"\")\n        @Html.ValidationMessageFor(model =&gt; model.test.Category)\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public ActionResult Create()\n{\n    // These four lines get active directory users\n    ActiveDirectoryModel ads = new ActiveDirectoryModel();\n    ViewBag.assignedto = ads.FetchContacts();\n    ViewBag.coassignedto = ads.FetchContacts();\n    ViewBag.notifyto = ads.FetchContacts();\n    var model = Populate();\n    return View(model);\n} \n\n[HttpPost]\npublic ActionResult Create(CreateViewModel model)\n{\n    if (ModelState.IsValid)\n    {\n        db.TestItems.AddObject(model.test);\n        db.SaveChanges();\n        return RedirectToAction(\"Index\");  \n    }\n    return View(model);\n}\n\npublic CreateViewModel Populate()\n{\n    var model = new CreateViewModel\n    {\n        CategoryItems =\n            from c in new IntraEntities().CategoryItems.ToList()\n            select new SelectListItem\n            {\n                Text = c.Name,\n                Value = c.ID.ToString()\n            }\n    };\n    return model;\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public class CreateViewModel\n{\n    public Intra.Models.TestItem test{ get; set; }\n\n    public int CategoryId { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; CategoryItems { get; set; }\n}\n</code></pre>\n"},{"tags":["jquery","mvc","jquery-mobile"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":11863308,"title":"Jquery mobile MVC","body":"<p>I'm building native mobile application with JQM and Phonegap. Is there any javascript mvc framework which could properly work with JQM? Any experience would be greatly appreciated.</p>\n"},{"tags":["spring","mvc","validation","freemarker"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1082,"score":1,"question_id":7556733,"title":"Displaying Spring MVC validation errors in Freemarker templates","body":"<p>I'm trying to display a list of global validation errors in my freemarker template if a controller returns binding errors. I can display errors that are associated with a field, but I want to detect when an error has occurred within a specific bean and display a message at the top of the page. I've tried using the example below which produces no output: </p>\n\n<pre><code>&lt;@spring.bind \"webPage\" /&gt;\n....\n&lt;#if spring.status.error&gt;\nThere were problems with the data you entered:\n&lt;ul&gt;\n&lt;#list spring.status.errorMessages as error&gt;\n&lt;li&gt;${error?html}&lt;/li&gt;\n&lt;/#list&gt;\n&lt;/ul&gt;\n&lt;/#if&gt;\n</code></pre>\n\n<p>The line below always returns 0, despite there being errors with the submitted form:</p>\n\n<pre><code>${spring.status.errorMessages?size}\n</code></pre>\n\n<p>My controller code is below:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\npublic ModelAndView save(@ModelAttribute(\"webPage\") @Valid WebPage page, BindingResult result, Model model) {\n    if (!model.containsAttribute(\"site\")) {\n        throw new IllegalArgumentException(\"Model must contain site attribute.\");\n    }\n    Site site = (Site) model.asMap().get(\"site\");\n    if (!result.hasErrors() &amp;&amp; !page.isNew()) {\n        this.pageService.save(page, site);\n    } else if (!result.hasErrors() &amp;&amp; page.isNew()) {\n        this.pageService.create(page, site);\n    } \n    return createMav(result);\n}\n</code></pre>\n\n<p>The createMav method is below:</p>\n\n<pre><code>public ModelAndView createMav(BindingResult result) {\n    ModelAndView mav = new ModelAndView();\n    mav.setViewName(getPrimaryControllerView());\n    mav.addAllObjects(result.getModel());\n    return mav;\n}\n</code></pre>\n\n<p>Is there a way to achieve this using Freemarker + Spring MVC?</p>\n"},{"tags":["c#","regex","asp.net-mvc-3","mvc"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":326,"score":3,"question_id":10561590,"title":"Regex for check the input string is just in persian language","body":"<p>I work with MVC and I am new on it. I want to check input values is only in Persian language (Characters) by <code>[RegularExpression]</code> Validation.\n So I think to use Regex and need to check in range of unicodes, but I don't lnow how can find range of Persian characters Unicode. Am I right about this Regex? what is your suggestion and how can I find range of Unicode in Persian</p>\n"},{"tags":["c#","mvc","entity-framework","linq-to-sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":512,"score":-5,"question_id":6543681,"title":"Object reference not set to an instance of an object in dynamic Linq-to-Sql where clause","body":"<p>Well i am using Dynamic Linq Extension library for IQueryable type of collection. My collection is of IQueryable. And I apply where cluase on it but when it enumberate it throws the exception of null reference. Please look at the below stack trace.</p>\n\n<pre><code>IQueryable&lt;T&gt; returnData = source.Where(advanceSearchParameter.AdvanceSearchText, advanceSearchParameter.AdvanceSearchValue);\n</code></pre>\n\n<p>Where is the extension method come from Dynamic extention library.</p>\n\n<p>Here Source is the object of type <code>IQueryable&lt;T&gt;</code> and i am getting error when returnData gets executed(enumerate).</p>\n"},{"tags":["mvc","url","base64","url-encoding"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":127,"score":1,"question_id":11828864,"title":"Unable to decode Base-64 URLs","body":"<p>I have an application that builds an HTML email.  Included in the content is an encoded URL parameter that might, for example, contain a promotional code or product reference.  The email is generated by a Windows service (essentially a console application) and the link, when clicked is handled by an MVC web site.  Here is the code for creating the email link:</p>\n\n<pre><code>string CreateLink(string domain, string code) {\n    // code == \"xyz123\"\n    string encrypted = DES3Crypto.Encrypt(code);  // H3uKbdyzrUo=\n    string urlParam = encrypted.EncodeBase64();   // SDN1S2JkeXpyVW890\n    return domain + \"/\" + urlParam;\n}\n</code></pre>\n\n<p>The action method on the MVC controller is constructed as follows:</p>\n\n<pre><code>public ActionResult Index(string id) {\n    string decoded = id.DecodeBase64();\n    string decrypted = DES3Crypto.Decrypt(decoded);\n    ...\n}\n</code></pre>\n\n<p>In all our testing, this mechanism has worked as expected, however, now we have gone live we are seeing around a 4% error rate where the conversion from base-64 fails with the following exception:</p>\n\n<p><em>The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or a non-white space character among the padding characters.</em></p>\n\n<p>The id parameter from the url 'looks' OK.  The problem appears to be with the EncodeBase64/DecodeBase64 methods that are failing as DecodeBase64 method returns a 'garbled' string such as \"�nl����□��7y�b�8�sJ���=\" on the failed links.</p>\n\n<p>Furthermore, most of the errors are from IE6 user agents leading me to think this is a character encoding problem but I don't see why.</p>\n\n<p>For reference, here is the code for my base-64 URL encoding:</p>\n\n<pre><code>  public static string EncodeBase64(this string source)\n  {\n     byte[] bytes = Encoding.UTF8.GetBytes(source);\n     string encodedString = HttpServerUtility.UrlTokenEncode(bytes);\n     return encodedString;\n  }\n\n\n  public static string DecodeBase64(this string encodedString)\n  {\n     byte[] bytes = HttpServerUtility.UrlTokenDecode(encodedString);\n     string decodedString = Encoding.UTF8.GetString(bytes);\n     return decodedString;\n  }\n</code></pre>\n\n<p>Any advice would be much appreciated.</p>\n"},{"tags":["c#","mvc","asp.net-mvc-4","nuget","helper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":11811227,"title":"Installing Web helpers library with nuget","body":"<p>It works fine if i create a new project, and install it on that, but doing it with the project i am working on i get this error:</p>\n\n<p>I have tried replacing all the dll files, packages.xml, web.config.\nwith the the files from before i installed web helpers, but the problem is still there.</p>\n\n<p>This line of code (line 50), that now shows an error is exactly the same, and worked fine before the installation.</p>\n\n<pre><code>Server Error in '/' Application.\n\nConfiguration Error\n\nDescription: An error occurred during the processing of a configuration file required to service this request. Please review the specific error details below and modify your configuration file appropriately. \n\nParser Error Message: The connection name 'DefaultConnection' was not found in the applications configuration or the connection string is empty.\n\nSource Error: \n\n\nLine 48:     &lt;membership defaultProvider=\"DefaultMembershipProvider\"&gt;\nLine 49:       &lt;providers&gt;\nLine 50:         &lt;add name=\"DefaultMembershipProvider\" type=\"System.Web.Providers.DefaultMembershipProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" connectionStringName=\"DefaultConnection\" enablePasswordRetrieval=\"false\" enablePasswordReset=\"true\" requiresQuestionAndAnswer=\"false\" requiresUniqueEmail=\"false\" maxInvalidPasswordAttempts=\"5\" minRequiredPasswordLength=\"6\" minRequiredNonalphanumericCharacters=\"0\" passwordAttemptWindow=\"10\" applicationName=\"/\" /&gt;\nLine 51:       &lt;/providers&gt;\nLine 52:     &lt;/membership&gt;\n\nSource File: C:\\Users\\BJARKE\\Desktop\\OlabsRepositories\\iconbench\\IconBench\\web.config    Line: 50 \n\nVersion Information: Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.0.30319.17626\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","mvc","alternative","asp.net-mvc-areas"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":148,"score":5,"question_id":11854235,"title":"Java Equivalent for ASP.NET MVC Areas","body":"<p>Areas, in ASP.NET MVC, are handy for breaking a site into smaller, manageable components at a higher level than controllers.  They are like mini-MVC pieces within a web application.</p>\n\n<p>Is there an equivalent concept in any Java MVC framework to ASP.NET Areas?</p>\n\n<p>If not, are there any suggestions on best practices when emulating their functionality in a Java MVC framework? </p>\n"},{"tags":["api","mvc","http","url","rest"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":11855531,"title":"In a RESTful application, how do we differentiate between an \"action\" and an HTTP verb (GET, POST, PUT, DELETE)?","body":"<p>In a RESTful application, how do we differentiate between an \"action\" and an HTTP verb (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>)?</p>\n\n<p>For example, as I understand it, a <code>GET</code> request to the resource <code>/products</code> should return a list of all products.  A <code>POST</code> request to <code>/products</code> should create a new product.  How, then, does the user request the original form which is used to create the product?  My initial response would have been a <code>GET</code> request to the same URI, but as mentioned above, that should return a list of all products - not a blank form for creating a product.</p>\n\n<p>In most frameworks I've researched, this problem is solved by making the \"action\" part of the URI.  For example, a <code>POST</code> request to <code>/products/create</code> would create a new product, whereas a <code>GET</code> request to <code>/products/create</code> would give the blank form for creating a product.  To get a list of all products would be a <code>GET</code> request to either <code>/products</code> or <code>/products/get</code>, <code>/products/read</code>, etc. depending on the framework in question.  This approach resolves the ambiguity above, but it conflicts with what I've read about traditional REST design.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","code-generation"],"answer_count":4,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":2544,"score":5,"question_id":1489908,"title":"Do you know of any ASP.NET MVC code generators?","body":"<p>Does anyone know of a good/usable ASP.NET MVC code/solution generator. Ideally it would build from a domain model, but from a data model is also acceptable.</p>\n\n<p>If you do, can you answer the following:</p>\n\n<ol>\n<li>Does it produce \"good\" code?</li>\n<li>Can it be extended?</li>\n<li>What do you like and not like about it if you have used it?</li>\n<li>What great fearures does it come with that stand out?</li>\n</ol>\n\n<p>If there isn't one you know of then do you think this is something missing from the community or do you not think it is needed? What features would you like to see in one?</p>\n\n<p>Can't wait to hear your answers...</p>\n\n<p>Thanks\nScott</p>\n"},{"tags":["php","oop","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":11854501,"title":"PHP - Functions from the controller in view","body":"<p>I'm trying to learn MVC pattern, (but without the models because I don't see for what I can use them when I have the controllers).</p>\n\n<p>So I want to display some content in my view. How do I do that?</p>\n\n<p>This is my controller that takes care of index:</p>\n\n<pre><code>&lt;?php\n\nclass Index extends Controller {\n\n    function __construct() {\n        parent::__construct();\n        $this-&gt;view-&gt;render('mainpage/index');\n    }\n\n    public function wynik($arg) {\n        echo $arg;\n    }\n}\n\n$klasa = new Index();\n\n?&gt;\n</code></pre>\n\n<p>And I want to call the function wynik($arg) in my view. How can I do this? My Controller library looks like this:</p>\n\n<pre><code>&lt;?php\n\nclass Controller {\n\n    function __construct() {\n        $this-&gt;view = new View();\n    }\n\n}\n?&gt;\n</code></pre>\n\n<p>And in views/mainpage/index.php I'm trying something like this:</p>\n\n<pre><code>&lt;?php\necho $klasa-&gt;wynik('abc');\n// tried this too:\n$this-&gt;wynik('abc');\n?&gt;\n</code></pre>\n\n<p>But it doesn't work:</p>\n\n<p><strong>Notice: Undefined variable: klasa in C:\\wamp\\www\\lvc\\views\\mainpage\\index.php on line 2</strong></p>\n\n<p>and</p>\n\n<p><strong>Fatal error: Call to a member function wynik() on a non-object in C:\\wamp\\www\\lvc\\views\\mainpage\\index.php on line 2</strong></p>\n\n<p>This is View library:</p>\n\n<pre><code>&lt;?php\n\nclass View {\n\n    function __construct() {\n\n    }\n\n    public function render($name, $noInclude = false) {\n        if ($noInclude == true) {\n            require 'views/' . $name . '.php';\n        } else {\n\n            require 'views/header.php';\n            require 'views/' . $name . '.php';\n            require 'views/footer.php';\n        }\n    }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>I was thinking - yeah, it searches for wynik() function in View() class, that's why it errors. I want the view to search through functions in my controller. How can I do this?</p>\n"},{"tags":["mvc","spine.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":11748400,"title":"Is it possible to use multiple @configure in spine.js Models?","body":"<p>I would like to know if it's possible to call multiple @configure calls or conditionally inside a spine.js model. This would allow the model to be reused in case where there two different forms that could benefit from using the same model.\nIs there an other way of achieving this in spine.js?</p>\n\n<p>Thank you in advance for your time and effort.</p>\n"},{"tags":["mvc","webgrid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":11852290,"title":"Styling MVC WebGrid","body":"<p>My requirement is if a value is &lt; 0 , change its color to red and display it in square braches(like [value]). This value is part of a WebGrid which I am creating column using </p>\n\n<pre><code> grid.Column(x =&gt; x.Price, style : \"normalPrice\", format: x=&gt;x.Price.ToString(), header: \"Price\", headerStyle: \"Price\")\n</code></pre>\n\n<p>My implementation to suit my requirement was something like</p>\n\n<pre><code> grid.Column(x=&gt; x.Price, style : x=&gt; x.Price &gt; \"negativePrice\" : \"normalPrice\", format : x=&gt; x.Price &gt; 0 ?x=&gt; x.Price.ToString() : string.format(\"[{0}]\", x=&gt;x.Price.ToString()))\n</code></pre>\n\n<p>Here negativePrice is a CSS class I created to set background color to red.</p>\n\n<p>I am getting error in first x=> x.Price saying unable to convert lambda expression to string. The issue seems to be in       </p>\n\n<pre><code> style : x=&gt; x.Price &gt; \"negativePrice\" : \"normalPrice\". \n</code></pre>\n\n<p>How can I set the style element in this scenario. Please advise.</p>\n"},{"tags":["mvc","netbeans"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":11849891,"title":"Custom \"file lists\" in Netbeans?","body":"<p>I use Netbeans mostly for PHP web development using an <a href=\"http://www.yiiframework.com/\" rel=\"nofollow\">MVC framework</a>.</p>\n\n<p>When using the MVC pattern, there tends to be files which are related, but in different directories. For example, if I were building a blog website and wanted to work on the Post object, I would be going back and forth between the Post model class file, the PostController class file, and various view files. Even though you become quick about it, hunting around for them feels repetitious and inefficient. To go from working on one object to another often will involve closing 4-5 files related to the former, and then opening 4-5 files in different directories related to the latter.</p>\n\n<p>I think it would be great if I could make \"file lists\", similar to a music playlist. That is, I could add all the files related to each object to a list, and then select that list any time I want to open/close those files. For example, I could click the list named \"Post\", and Post.php, PostController.php, etc. all open automatically. </p>\n\n<p>Is there any such feature available in Netbeans?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":148,"score":6,"question_id":11832921,"title":"Should a model class represent an entity or return it","body":"<p>I'm designing a web application with <a href=\"http://codeigniter.com/\">CodeIgniter</a> (but I think the question applies generally to the <a href=\"http://en.wikipedia.org/wiki/Model_view_controller\">MVC</a> pattern in web applications).</p>\n\n<p>When I design the model class for some database entity (say, a <code>BlogEntry</code> for illustration), I basically have two choices:</p>\n\n<p>The \"classic OOP\" approach would be, to let the class <em>represent</em> the entity, i.e. one instance of the class <em>is</em> a BlogEntry. In CodeIgniter, this would lead to code like</p>\n\n<pre><code>class Blogentry extends CI_Model {\n    function load($id) {\n      // Access database\n      $this-&gt;id = $dbresult.id;\n      $this-&gt;title = $dbresult.title;\n      $this-&gt;author = $dbresult.author;\n    }\n}\n</code></pre>\n\n<p>To get access to some blog entry, I would do a <code>$this-&gt;load-&gt;model('blogentry');</code>, call <code>$this-&gt;blogentry-&gt;load($id)</code> and then work with the model class instance.</p>\n\n<p>The other approach, which I've seen frequently in the wild, is to let the model <em>return</em> the entity in some data structure. In code:</p>\n\n<pre><code>class Blogentry extends CI_Model {\n  function get_entry($id) {\n    // Access database, yielding $dbresult\n    return $dbresult;\n}\n</code></pre>\n\n<p>With this I would write</p>\n\n<pre><code>$this-&gt;load-&gt;model('blogentry');\n$the_entry = $this-&gt;blogentry-&gt;get_entry($id);\n</code></pre>\n\n<p>in the controller and work with <code>$the_entry</code>. In this second case, the class is more like a <a href=\"http://en.wikipedia.org/wiki/Factory_pattern\">factory</a> or <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\">builder</a> class.</p>\n\n<p>Is any of these two approaches considered the \"right way\" of doing M in MVC? I think, I've seen the second approach more often, but I didn't look at that many MVC-Webapps. Any thoughts of why the first or the second approach might be more appropriate?</p>\n"},{"tags":["php","mvc","views","partial"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":11844488,"title":"PHP MVC, partial views?","body":"<p>I'm building a small PHP MVC, and I've hit a wall with a small area of the coding. I think I need \"partial views\", but I might be able to achieve something with the existing code.</p>\n\n<p>My controller in it's simplest form currently:</p>\n\n<ul>\n<li>Instantiates an object </li>\n<li>Checks if a POST variable isset</li>\n<li>Displays view 1 or displays view 2 as    necessary</li>\n</ul>\n\n<p>The view(s) currently:</p>\n\n<ul>\n<li>Displays HTML markup</li>\n<li>Use and echos the models get functions such as getUserInfo()</li>\n</ul>\n\n<p>Everything is working great, however the code is now getting fairly large in both the controllers and views, and I've reached a situation where I need to include \"modules\" or sub views inside the main views (1 and 2).</p>\n\n<p>For example if view2 is loaded, then I need to display (as part of the view2) another view, say a 3 part sign up registration form. This registration form comes with it's own controller file too.</p>\n\n<p>I can do something like this, which will work and give you some idea of what I am trying to do, but I acknowledge this breaks MVC design patterns.</p>\n\n<p>View</p>\n\n<pre><code>&lt;div id=\"mydiv\"&gt;Some content&lt;/div&gt;\n&lt;div id=\"mysignup\"&gt; &lt;?php include('controller_signup.php'); ?&gt;&lt;/div&gt;\n&lt;div id=\"content\"&gt; The views main page content &lt;/div&gt;\n</code></pre>\n\n<p>The view is then pulled in from the controller, in the right place. </p>\n\n<p>As mentioned, I think I need to use partial views, however most of the info I've found is for ASP, and I'm slightly lost!</p>\n\n<p>I would have thought this is a fairly common problem, so I assume there is an obvious solution!</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":11843265,"title":"Where should I place sub-structures within a MVC controller","body":"<p>I am trying to build a controller that will enable the user to add/remove subcontent to an item.</p>\n\n<p>Think of it like a document where you can add different types of sections, like headlines, paragraphs, images etc. (they each have their own attributes so they are in seperate tables in the SQL)</p>\n\n<p>My question is where should I put the code to handle the different types of subsections within this \"document controller\"? </p>\n\n<p>They are all attached to this \"document\"/entity through database relations, but should I make a \"crudl\" controller for each type or should I do a base kinda crudl and then let them all inherit this?</p>\n\n<p>I've looked into \"Models\" and \"service layers\" - is that the right way to do it?</p>\n\n<p>I am still rather new with MVC, using C# and ASP.net I was hoping for someone to give me a hint in the right direction. </p>\n\n<p>Nb. please let me know if I should rephrase the question. Didn't know what to ask to get the right answer here.</p>\n\n<p>Specs: I use EF 4.x and MVC3 will upgrade to latest when available, if needed.</p>\n\n<p>In hope of some clever answers or guidance. Thanks in advance people. And yes, I have tried to Google too. Don't know what to search for, so I come here.</p>\n"},{"tags":["asp.net","asp.net-mvc","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":879,"score":2,"question_id":2049252,"title":"How to host ASP.NET MVC site in a subfolder","body":"<p>I'm trying to run a little ASP.NET project in a subfolder of my hosting.\nMy domain is www.gorangligorin.com, but i want to run my app in www.gorangligorin.com/testmvc. ASP.NET MVC runs with no problems on the top level, but not in subfolders.</p>\n\n<p>The server says this (line 58 is colored red):</p>\n\n<pre><code>Line 56:             ASP.NET to identify an incoming user. \nLine 57:     --&gt;\nLine 58:     &lt;authentication mode=\"Forms\"&gt;\nLine 59:       &lt;forms loginUrl=\"~/Account/LogOn\" timeout=\"2880\" /&gt;\nLine 60:     &lt;/authentication&gt;\n</code></pre>\n\n<p>What can I do to make this ASP.NET MVC website work? This isn't hosted on my computer, so I don't have access to IIS configirations.</p>\n"},{"tags":["asp.net-mvc-3","entity-framework","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":11843714,"title":"retrieve username for two different ID's in same view","body":"<p>I am trying to get a list of linked users in to a MVC view &amp; I am struggling!!!</p>\n\n<p><strong>Users table</strong> has an int ID and a varchar name</p>\n\n<p><strong>User Roles Table</strong> has int holderid, int officerid &amp; int role id</p>\n\n<p><strong>Roles table</strong> has int id and varchar description</p>\n\n<p>ID in users table is linked to both holder id &amp; officer ID in user roles.</p>\n\n<p>Role id is linked to id in roles</p>\n\n<p>From my controller I am passing in one user ID to a strongly typed user role view. That view displays the name for the user id fine. Each user id will have multiple rows in user roles table, each with a different officer id.</p>\n\n<p><strong>My Issue</strong></p>\n\n<p>My issue lies in the fact that I cannot display the name from the users table that relates to an officer (or at least I can’t work out how to perform this in the view!! Or whether it should be done elsewhere in fact.) </p>\n\n<p>Really what I want to do is say:</p>\n\n<pre><code>@Html.DisplayFor(modelItem =&gt; item.users.name.where(item.userid == item.officerid)\n</code></pre>\n\n<p>But this doesn’t seem to be working. I get this error: 'string' does not contain a definition for 'Where' and the best extension method overload\nCan anyone offer any advice??</p>\n"},{"tags":["c#","mvc","screen-scraping"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":52,"score":0,"question_id":11843090,"title":"Screenscraping a page to inject HTML into a MasterPage using C# and MVC","body":"<p>I want to develop a way in which it would be possible to wrap a .Net MVC web application with the correct look and feel of the site to which it is to be linked to. </p>\n\n<p>Basically I want to store a URL of a 'reference page' for the encompassing site which my application will use to screenscrape the header/footer HTML from to use in its Master Page.</p>\n\n<p>So, if/when the site (output from a CMS) changes its structure/images/colours my application will simply use the newly created 'template' and wrap itself accordingly. </p>\n\n<p>There are set start/end div tags in the 'template' being used so I just need to screenscrape the HTML, split it at the relevant points and somehow inject it into the MasterPage for my app.</p>\n\n<p>The screenscraping part looks reasonably straightforward, it's the injection into the Master Page which I am having problems sorting out.</p>\n\n<p>Any help would be much appreciated. :)</p>\n\n<p>EDIT - I am currently planning this in my head and have no code to post. As I say, the screenscraping part looks fine, but how would I go about inserting/injecting the relevant HTML extracted from the 'reference page' for the header/footer into the Master Page being used by my application? </p>\n"},{"tags":["mvc","extjs4","portlet","liferay-6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":11832375,"title":"Portlet state is not retained when maximized/minimized","body":"<p>I am using Liferay 6 and MVC portlets. I use jsp and extjs to render my portlets. When I maximize/minimize, the current state of the portlet is lost. I would like to retain the state of the portlet even after maximizing/minimizing. How can I achieve this?</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net",".net","mvc","application-error"],"answer_count":3,"favorite_count":2,"up_vote_count":10,"down_vote_count":0,"view_count":4062,"score":10,"question_id":3705057,"title":"How to solve exception \"File does not exist\"?","body":"<p>I have a basic ASP.NET MVC2 site which logs a single \"File does not exist\" error every time a view (not partial views) is loaded. I am pretty sure this is because I am referencing a file, from the master page, that does not exist, but I cannot figure out which one it is.</p>\n\n<p>The stack trace is not useful (see below). Does anyone have any tips on how to best debug this?</p>\n\n<pre><code>File does not exist. :    at System.Web.StaticFileHandler.GetFileInfo(String virtualPathWithPathInfo, String physicalPath, HttpResponse response)\n   at System.Web.StaticFileHandler.ProcessRequestInternal(HttpContext context)\n   at System.Web.DefaultHttpHandler.BeginProcessRequest(HttpContext context, AsyncCallback callback, Object state)\nat System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()\nat System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously)\n</code></pre>\n"},{"tags":["mvc","mschart"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":170,"score":1,"question_id":11395931,"title":"MVC Best way to display charts","body":"<p>I'm Newbie and now i'm trying to display charts with MVC.</p>\n\n<p>There are two possibilities to show charts:\n<ol>\n<li> System.Web.UI.DataVisualization.Charting.Chart</li>\n<li> System.Web.Helpers.Chart</li>\n</ol><br/>\nWhich is the different between this two solutions?  And what the advantage / disadvantage between?</p>\n\n<p>At the moment, i try this code:</p>\n\n<p>Controller:</p>\n\n<pre><code>[HttpPost]\n    public ActionResult RenderRainfallChart()\n    {\n        var incomeList = Income.GetList();\n        List&lt;string&gt; xValue = new List&lt;string&gt;();\n        List&lt;decimal&gt; yValue = new List&lt;decimal&gt;();\n\n        foreach (var item in incomeList)\n        {\n            xValues.Add(item.Name);\n            yValues.Add(item.Amount);\n        }\n\n        var key = new System.Web.Helpers.Chart(width: 600, height: 400)\n            .AddSeries(\n                legend: \"IncomeLIst\",\n                xValue: xValue,\n                yValues: yValues)\n            .Write();}\n</code></pre>\n\n<p>After my button selection, the chart will be shown on a new broswer page: .../Company/RenderRainfallChart</p>\n\n<p>Is it possible, to show the chart in a div-container on the index-site?</p>\n"},{"tags":["spring","mvc","javabeans","default"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":11840957,"title":"Spring MVC out of the box objects?","body":"<p>The spring provides out of the box objects such as <code>default handler mapping, view resolver</code> etc.\nIt has a method <code>defaultInitStrategies()</code>, which uses another method <code>createBean()</code>. I want to know does <code>createBean()</code> method registers the bean created in the context and if so what is the id with which the object is created?</p>\n\n<p>Can I do a <code>getBean()</code> on this id to get a reference to this object?</p>\n"},{"tags":["php","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":11821182,"title":"Is this business logic or views in MVC?","body":"<p>Newbie question about MVC structures here. So in an MVC, I currently have a page in my Views to display a list of results from a database query, in this bit of code I instantiate a class, run a method for sql query, and at last there's a for each loop and then displaying it with divs. </p>\n\n<p>So my question is, if this bit of code is considered business logic and should be in a method in the Model, or is it part of the Views? </p>\n\n<p>I hope you understand what I mean =) Thanks!</p>\n\n<pre><code>$listholder = new Categories_Model(); \n$data = $listholder-&gt;getCategories();\n\n       $i = 1;\n        foreach ($data as $row) {\n\n            if ($i &amp; 1) {\n                echo '&lt;div id=\"horizontalContainer\" style=\"float: none; height: 50px\";&gt;';\n                echo '&lt;div id=\"listoverview1\"&gt;&lt;a href=\"'.URL.'categories/show/'.$row['id'].'\"&gt;'.$row['catname'].'&lt;/a&gt;';\n                echo '&lt;/div&gt;';\n            } else {\n                echo '&lt;div id=\"listoverview1\"&gt;&lt;a href=\"'.URL.'categories/show/'.$row['id'].'\"&gt;'.$row['catname'].'&lt;/a&gt;';\n                echo '&lt;/div&gt;&lt;/div&gt;';\n            }\n\n            $i++;\n       }\n</code></pre>\n"},{"tags":["mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":10204967,"title":"Where would an authentication model fit in the MVC framework?","body":"<p>Suppose my module accepts a username and password and returns true or false to indicate success or failure.  Would this be more a model or a controller?</p>\n"},{"tags":["c++","mvc","qt","sorting","model"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":393,"score":1,"question_id":10893843,"title":"QSortFilterProxyModel sort multiple columns","body":"<p>I am trying to implement a table that is sortable on more than one column. Qt's QSortFilterProxyModel only supports sorting on one column (at least in Qt 4.6.2). </p>\n\n<p>I've found <a href=\"https://github.com/dimkanovikov/MultisortTableView\" rel=\"nofollow\">this solution</a> by dimkanovikov on github, but it lacks dynamic updating on added rows. What I mean by this, is that the model is changed and the beginInsertRows(), beginRemoveRows(), their corresponding end..-methods and the dataChanged() signals are emitted. Ideally I would like to only these rows to be updated, but the model should at least react to such changes.</p>\n\n<p>There's another FAQ item on Qt's site that sorts a QTableWidget, but it lacks dynamic updating, too.</p>\n\n<p>I am new to Qt and I'd like to get some pointers on how I should go about this.</p>\n"},{"tags":["javascript","mvc","javascript-events","ember.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":11729701,"title":"Missing view.context or templateContext in an Ember event handler","body":"<p>I'm trying to push the object that populated a view into an array, but the reference is somehow getting lost. I've got an Ember view, with a defined eventManager:</p>\n\n<pre><code>FrontLine.NewProductButton = Em.View.extend({\n    tagName: 'button',\n    classNames: ['addtl_product',],\n    templateName: 'product-button',\n    eventManager: Ember.Object.create({\n        click: function(event, view) {\n            FrontLine.ProductsController.toggleProductToCustomer(event, view);\n        }\n    })\n})\n</code></pre>\n\n<p>That view renders a bunch of buttons that are rendered with properties that come from objects in the ProductsController using the <code>#each</code> helper. That part works great. And when I click on any of those buttons, the click event is firing and doing whatever I ask, including successfully calling the handler function (<code>toggleProductToCustomer</code>) I've designated from my ProductsController:</p>\n\n<pre><code>FrontLine.ProductsController = Em.ArrayController.create({\n    content: [],\n    newProduct: function(productLiteral) {\n        this.pushObject(productLiteral);\n    },\n    toggleProductToCustomer: function(event, view){\n        FrontLine.CustomersController.currentCustomer.productSetAdditional.pushObject(view.context);    \n    }\n});\n</code></pre>\n\n<p>I'm trying to use that function to push the object whose properties populated that view into an array. Another place in my app (a simple search field), that works perfectly well, using <code>pushObject(view.context)</code>. Here, however, all that gets pushed into the array is <code>undefined</code>. I tried using <a href=\"http://docs.emberjs.com/symbols/Ember.View.html#templateContext\" rel=\"nofollow\">view.templateContext</a> instead, but that doesn't work any better. When I try console.log-ing the button's <code>view</code> object from inside those functions, I get what I'd expect:</p>\n\n<pre><code>&lt;(subclass of FrontLine.NewProductButton):ember623&gt;\n</code></pre>\n\n<p>But either <code>view.context</code> or <code>view.templateContext</code> return <code>undefined</code>. How do I access the object I'm after, so I can add it to my array?</p>\n"},{"tags":["mvc","knockout.js","knockout-mapping-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":208,"score":0,"question_id":11831280,"title":"Map a complex MVC ViewModel in knockout","body":"<p>I have a MVC view which contains observables and observablearrays. What is the proper way to map?</p>\n\n<p>My MVC ViewModel looks similar to this:</p>\n\n<pre><code>public class CategorysEditViewModel\n{\n    public Category Categorys { get; set; }\n    public IEnumerable&lt;Expert&gt; candidates { get; set; }\n    public IEnumerable&lt;Expert&gt; experts { get; set; }\n}\n\n\npublic class Category\n{\n    public int CategoryID { get; set; }\n    public string Name { get; set; }\n    public string Description { get; set; }\n    public string Policy { get; set; }\n}\n\npublic class Expert\n{\n    public int ExpertID { get; set; }\n    public int CategoryID { get; set; }\n    public string Name { get; set; }\n    public string ExpertGUID { get; set; }\n}\n</code></pre>\n"},{"tags":["php","mvc"],"answer_count":4,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":904,"score":5,"question_id":2010453,"title":"MVC as best practice for professional level programming?","body":"<p>Long time lurker, first time poster...</p>\n\n<p>I'm now at the point where I'd almost call myself a professional grade PHP programmer and have a lot of code I re-use in various projects. Also, a lot of Open Source packages I've worked with use the MVC model and as a result I've done a lot of research recently into how it all works so I can better edit them as required.</p>\n\n<p>At this point, I'm considering taking a bare-bones MVC framework (from a tutorial) and extending it as required for my forthcoming programming jobs.</p>\n\n<p>My question is whether the MVC model with pretty much all application logic separated from the presentation layer is considered best practice over a well structured OOP website with coding on the page as necessary e.g setting function variables.</p>\n\n<p>Or will I run into issues when I want coding flexibility e.g.</p>\n\n<ul>\n<li>using something like PHPthumb for a  gallery where I want different output\nsizes on different pages and currently set parameters in the head\nof the page</li>\n<li>a contact form with x fields and a feedback form with y fields - will this require 2 differrent models rather than a generic form class again with some parameters set in the head of the page</li>\n<li>some pages requiring ob_start() and ob_flush() but not others?</li>\n</ul>\n\n<p>Please don't tell me not to build my own framework - I'd rather know how each little bit works than use a slab of code I know nothing about - I'm really interested in the opinion of people who have gone this route and build sites every day. What are the real pros and cons of this over plain (but well structured) OOP and bunch of pages to a site as opposed to 1 index.php page and separate files.</p>\n\n<p>Cheers,\nNiggles</p>\n"},{"tags":["asp.net-mvc-3","mvc","razor","request","origin"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":11831850,"title":"How to get the page origin in razor (asp)?","body":"<p>I'm looking for the equivalent of this javascript </p>\n\n<pre><code>window.location.origin\n</code></pre>\n\n<p>but server side, while building mvc pages.</p>\n\n<p>For example, if you are here\n<a href=\"http://website.com/123\" rel=\"nofollow\">http://website.com/123</a>,\nit would return</p>\n\n<pre><code>http://website.com\n</code></pre>\n\n<p>Its important that i have the \"http://\" part</p>\n"},{"tags":["mvc","asp.net-mvc-2","dropdownlistfor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":11826336,"title":"Change label on change DropDownListFor value","body":"<p>I use a <code>DropDownListFor</code> and a label text on my page.</p>\n\n<pre><code>&lt;%=Html.DropDownListFor(x =&gt; x.MotiveClientType,\n                        new SelectList(\n                            Model.ClientMotives, \"Id\", \"Label\", Model.MotiveClientType),\n                        new { id = \"ddlMotiveClientType\" }\n)%&gt;                       \n</code></pre>\n\n<p>How can I change my label when selecting value on my <code>DropDownListFor</code>?</p>\n"},{"tags":["c#","mvc","t4","scaffolding","mvcscaffolding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":11821489,"title":"Determine if the model's property is not nullable or is required (in MVCScaffolding T4 Template File)","body":"<p><strong>I want write a method to get Nullable State of a property in T4 Template file.</strong></p>\n\n<p>I've written it in my TT files but in the T4 files it is different</p>\n\n<pre><code>bool IsRequired(object property) {\n    bool result=false;\n\n    ? ? ? ? ? ? ? ? ? ? ? ?\n\n    return result;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>List&lt;ModelProperty&gt; GetEligibleProperties(EnvDTE.CodeType typeInfo, bool includeUnbindableProperties) {\n    List&lt;ModelProperty&gt; results = new List&lt;ModelProperty&gt;();\n    if (typeInfo != null) {\n        foreach (var prop in typeInfo.VisibleMembers().OfType&lt;EnvDTE.CodeProperty&gt;()) {\n            if (prop.IsReadable() &amp;&amp; !prop.HasIndexParameters() &amp;&amp; (includeUnbindableProperties || IsBindableType(prop.Type))) {\n                results.Add(new ModelProperty {\n                    Name = prop.Name,\n                    ValueExpression = \"Model.\" + prop.Name,\n                    Type = prop.Type,\n                    IsPrimaryKey = Model.PrimaryKeyName == prop.Name,\n                    IsForeignKey = ParentRelations.Any(x =&gt; x.RelationProperty == prop),\n                    IsReadOnly = !prop.IsWriteable(),\n\n                    // I Added this &gt;&gt;\n                    IsRequired = IsRequired(prop)\n                });\n            }\n        }\n    }\n</code></pre>\n\n<p>How do it???</p>\n"},{"tags":[".net","asp.net-mvc-3","mvc","structuremap","simple-injector"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":127,"score":2,"question_id":11621201,"title":"Where's Simple Injector's equivalent of StructureMap's ObjectFactory","body":"<p>I am in the process of migrating from StructureMap to Simple Injector in a ASP.NET MVC3 application.</p>\n\n<p>I am using the MVC3 extension for controller DI, but I am running into an issue with trying to replace the static aspects of StructureMap. We have calls to  </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>StructureMap.ObjectFactory.GetInstance&lt;Interface&gt;()\n</code></pre>\n\n<p>throughout different layers of the app.  It does not look like Simple Injector has a way to do that.</p>\n\n<p>Am I missing something? Or is Simple Injector not applicable for my application?</p>\n\n<p>Please advise and thanks in advance.</p>\n"},{"tags":["java","mvc","web-frameworks"],"answer_count":8,"favorite_count":4,"up_vote_count":8,"down_vote_count":1,"view_count":4875,"score":7,"question_id":796219,"title":"What's the most minimal Java web MVC framework?","body":"<p>I'm looking for a Java web framework that requires the most minimal amount of configuration for a very small app. Spring &amp; Struts are definitely overkill here. This is an app that could be written without any framework at all but I would prefer to use a minimal MVC framework if I can find one.</p>\n"},{"tags":["json","mvc","serialization","telerik","grid"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":209,"score":1,"question_id":11754421,"title":"Telerik MVC Grid - Multiple data rows result","body":"<p>I am using telerik grid for display data from sql db... When I displaying more than 3500 rows, it returns: Error during serialization or deserialization using the JSON JavaScriptSerializer. The length of the string exceeds the value set on the maxJsonLength property.</p>\n\n<p>Everywhere on internet and <a href=\"http://www.telerik.com/help/aspnet-mvc/telerik-ui-components-grid-troubleshooting.html#MaximumJsonLength\" rel=\"nofollow\">Telerik Troubleshooting manual</a> also too, wrote that reason is edit web.config. It doesn't help me... I tryed return data like this:</p>\n\n<pre><code>JavaScriptSerializer serializer = new JavaScriptSerializer { MaxJsonLength = 536870912, RecursionLimit = 100 };\nreturn new ContentResult()\n{\n    Content = serializer.Serialize(data),\n    ContentEncoding = Encoding.UTF8\n};\n</code></pre>\n\n<p>When I return data as ContentResult, filtering and sorting stops working.</p>\n\n<p>I was trying this solution too: <a href=\"http://anyrest.wordpress.com/2011/09/27/large-json-result-for-teleriks-mvc-grid/\" rel=\"nofollow\">http://anyrest.wordpress.com/2011/09/27/large-json-result-for-teleriks-mvc-grid/</a> and it isn't helps me...</p>\n\n<p>Here is code from my Controller:</p>\n\n<pre><code>[GridAction, POST(\"GridData\")]\npublic ActionResult _Index()\n{\n    var data = GetExclusionsDataCollection();\n\n    return View(new GridModel { Data = data });\n}\n</code></pre>\n\n<p>Thanks,\nDavid</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":11808249,"title":"Hoe to get time difference between two time in a same days?","body":"<p>Hi new to codeigniter &amp; PHP.\nIn my database i am storing I users status in IN time and Out Time now i want to calculate that time means user how much time logged in in a particular day.user log in may be more then one time logged in or logged out in a particular days.\nHow can I calculate time?\ntime format is=04:06:37.\nIf User logged in 04:06:37 and logged out 04:09:37.then time difference is =3 min and 0 sec.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","templates"],"answer_count":10,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":281,"score":10,"question_id":11681347,"title":"Putting presentation logic in controller is a good practice in Ruby?","body":"<p>Some recommendation [1] suggest you to use</p>\n\n<pre><code>&lt;%= current_user.welcome_message %&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>&lt;% if current_user.admin? %&gt;\n  &lt;%= current_user.admin_welcome_message %&gt;\n&lt;% else %&gt;\n  &lt;%= current_user.user_welcome_message %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>But the problem is you must have the decision logic somewhere in your code. </p>\n\n<p>My understanding is putting the decision in <code>template</code> is better than <code>controller</code> as it make your controller more clean. Is it correct?</p>\n\n<p>Are there better way to handle this?</p>\n\n<p><a href=\"http://robots.thoughtbot.com/post/27572137956/tell-dont-ask\">http://robots.thoughtbot.com/post/27572137956/tell-dont-ask</a></p>\n"},{"tags":["mvc","codeigniter"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":105,"score":3,"question_id":11687249,"title":"MVC principles and data control","body":"<p>After starting learning Codeigniter and thus getting a better handle at MVC I begun to wonder something.  </p>\n\n<p>Lets say there is a Model that controls users which are stored in a database.  A simple registration is done through form which is validated in Control and then the data is passed on to the Model to be stored in database.  Right now the process of bringing the posted data and setting up an array which to pass to the database to be stored is assembled at the Model like this:</p>\n\n<pre><code>function add_user() {\n        $new_user_data = array(\n            'etunimi' =&gt; $this-&gt;input-&gt;post('etunimi'),\n            'sukunimi' =&gt; $this-&gt;input-&gt;post('sukunimi'),\n            'osoite' =&gt; $this-&gt;input-&gt;post('osoite'),\n            'postinro' =&gt; $this-&gt;input-&gt;post('postinro'),\n            'toimipaikka' =&gt; $this-&gt;input-&gt;post('toimipaikka'),\n            'puhelin' =&gt; $this-&gt;input-&gt;post('puhelin'),\n            'email' =&gt; $this-&gt;input-&gt;post('email'),\n            'tunnus' =&gt; $this-&gt;input-&gt;post('tunnus'),\n            'salasana' =&gt; $this-&gt;input-&gt;post('salasana')\n        );\n\n        $insert = $this-&gt;db-&gt;insert('kayttajat', $new_user_data);\n\n        return $insert;\n    }\n</code></pre>\n\n<p>What I am considering is to transfer the assembly of the data into the Controller thus making the Model a little more independent and reusable.  The final data would then be passed on as a method parameter thusly:</p>\n\n<pre><code>function add_user ($new_user_data) {\n\n        $insert = $this-&gt;db-&gt;insert('kayttajat', $new_user_data);\n\n        return $insert;\n    }\n</code></pre>\n\n<p>This to my understanding would distinquish more between the layers as the Model does nothing but retrieves and passes on the final information and the burden of proof and assembly is on the Controller while View just prints it all out and offers the UI.</p>\n\n<p>I'd like some more experienced opinions on which concept is more akin to MVC principles and simply makes more sense.</p>\n"},{"tags":["mvc","joomla","components","joomla2.5"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":766,"score":2,"question_id":11817275,"title":"Joomla 2.5 component development","body":"<p>I love joomla 2.5 because it is one of the greatest CMS. I have developed few custom templates in joomla 2.5  and now I want to develop my own components in joomla. I have started studying from <a href=\"http://docs.joomla.org/Developing_a_Model-View-Controller_%28MVC%29_Component_for_Joomla!2.5_-_Part_01\" rel=\"nofollow\">These</a> tutorials. And found out that it is way difficult than I thought it should be. Please if you know another tutorials link it. </p>\n\n<p>I am not noob in MVC, I have developed apps in CodeIgniter and Yii framework, but I can hardly find any similarities between those two and Joomla MVC component development.</p>\n"},{"tags":["asp.net-mvc","mvc","architecture"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":11816083,"title":"MVC Site Architecture","body":"<p>I am building an online product using MVC4.</p>\n\n<p>Currently, I structured the project into the obvious xx.Web, xx.Data, xx.Services</p>\n\n<p>Here is the set of questions that I like to get your opinion on:</p>\n\n<p>1- For the data layer, I am going to use the Repository pattern. I have created an .dbml that will host my Database tables. Should I create for each table a class or should should I use the classes generated by the .dbml?\n2- Where For the Repository interfaces, where should I place them? in a different project xx.Data.Common or in a folder inside xx.Data?</p>\n\n<p>3- Where does Error logging and Security code goes ? I have created an xx.Web.Common project for that?</p>\n\n<p>Is there any guidelines for a common architecture for an MVC application? I mean I did some research but you get over flooded with tones of extensions like Ninject, etc...</p>\n\n<p>I just want to implement best practices. Thanks</p>\n"},{"tags":["php","mvc","orm","doctrine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":871,"score":0,"question_id":1695833,"title":"Creating a file upload template in Doctrine ORM","body":"<p>I'm using Doctrine 1.2 as my ORM for a Zend Framework Project. I have defined the following Model for a File.</p>\n\n<pre><code>File:\n    columns:\n        id:\n            primary: true\n            type: integer(4)\n            unsigned: true\n        code:\n            type: string(255)\n            unique: true\n            notblank: true\n        path:\n            type: string(255)\n            notblank: true\n        size:\n            type: integer(4)\n        type:\n            type: enum\n            values: [file,document,image,video,audio,web,application,archive]\n            default: unknown\n            notnull: true\n        mimetype:\n            type: string(20)\n            notnull: true\n        width:\n            type: integer(2)\n            unsigned: true\n        height:\n            type: integer(2)\n            unsigned: true\n</code></pre>\n\n<p>Now here is the File Model php class (just skim through for now):</p>\n\n<pre><code>&lt;?php\n\n/**\n * File\n *\n * This class has been auto-generated by the Doctrine ORM Framework\n *\n * @package    ##PACKAGE##\n * @subpackage ##SUBPACKAGE##\n * @author     ##NAME## &lt;##EMAIL##&gt;\n * @version    SVN: $Id: Builder.php 6365 2009-09-15 18:22:38Z jwage $\n */\nclass File extends BaseFile {\n\n public function setUp ( ) {\n  $this-&gt;hasMutator('file', 'setFile');\n  parent::setUp();\n }\n\n public function setFile ( $file ) {\n  global $Application;\n\n  // Configuration\n  $config = array();\n  $config['bal'] = $Application-&gt;getOption('bal');\n\n  // Check the file\n  if ( !empty($file['error']) ) {\n   $error = $file['error'];\n   switch ( $file['error'] ) {\n    case UPLOAD_ERR_INI_SIZE :\n     $error = 'ini_size';\n     break;\n    case UPLOAD_ERR_FORM_SIZE :\n     $error = 'form_size';\n     break;\n    case UPLOAD_ERR_PARTIAL :\n     $error = 'partial';\n     break;\n    case UPLOAD_ERR_NO_FILE :\n     $error = 'no_file';\n     break;\n    case UPLOAD_ERR_NO_TMP_DIR :\n     $error = 'no_tmp_dir';\n     break;\n    case UPLOAD_ERR_CANT_WRITE :\n     $error = 'cant_write';\n     break;\n    default :\n     $error = 'unknown';\n     break;\n   }\n   throw new Doctrine_Exception('error-application-file-' . $error);\n   return false;\n  }\n  if ( empty($file['tmp_name']) || !is_uploaded_file($file['tmp_name']) ) {\n   throw new Doctrine_Exception('error-application-file-invalid');\n   return false;\n  }\n\n  // Prepare config\n  $file_upload_path = realpath($config['bal']['files']['upload_path']) . DIRECTORY_SEPARATOR;\n\n  // Prepare file\n  $filename = $file['name'];\n  $file_old_path = $file['tmp_name'];\n  $file_new_path = $file_upload_path . $filename;\n  $exist_attempt = 0;\n  while ( file_exists($file_new_path) ) {\n   // File already exists\n   // Pump exist attempts\n   ++$exist_attempt;\n   // Add the attempt to the end of the file\n   $file_new_path = $file_upload_path . get_filename($filename,false) . $exist_attempt . get_extension($filename);\n  }\n\n  // Move file\n  $success = move_uploaded_file($file_old_path, $file_new_path);\n  if ( !$success ) {\n   throw new Doctrine_Exception('Unable to upload the file.');\n   return false;\n  }\n\n  // Secure\n  $file_path = realpath($file_new_path);\n  $file_size = filesize($file_path);\n  $file_mimetype = get_mime_type($file_path);\n  $file_type = get_filetype($file_path);\n\n  // Apply\n  $this-&gt;path = $file_path;\n  $this-&gt;size = $file_size;\n  $this-&gt;mimetype = $file_mimetype;\n  $this-&gt;type = $file_type;\n\n  // Apply: Image\n  if ( $file_type === 'image' ) {\n   $image_dimensions = image_dimensions($file_path);\n   if ( !empty($image_dimensions) ) {\n    // It is not a image we can modify\n    $this-&gt;width = 0;\n    $this-&gt;height = 0;\n   } else {\n    $this-&gt;width = $image_dimensions['width'];\n    $this-&gt;height = $image_dimensions['height'];\n   }\n\n  }\n\n  // Done\n  return true;\n }\n\n /**\n  * Download the File\n  * @return\n  */\n public function download ( ) {\n  global $Application;\n\n  // File path\n  $file_upload_path = realpath($config['bal']['files']['upload_path']) . DIRECTORY_SEPARATOR;\n  $file_path = $file_upload_path . $this-&gt;file_path;\n\n  // Output result and download\n  become_file_download($file_path, null, null);\n  die();\n }\n\n public function postDelete ( $Event ) {\n  global $Application;\n  // Prepare\n  $Invoker = $Event-&gt;getInvoker();\n\n  // Configuration\n  $config = array();\n  $config['bal'] = $Application-&gt;getOption('bal');\n\n  // File path\n  $file_upload_path = realpath($config['bal']['files']['upload_path']) . DIRECTORY_SEPARATOR;\n  $file_path = $file_upload_path . $this-&gt;file_path;\n\n  // Delete the file\n  unlink($file_path);\n\n  // Done\n  return true;\n }\n}\n</code></pre>\n\n<p>What I am hoping to accomplish is so that the above custom functionality within my model file can be turned into a validator, template, or something along the lines.</p>\n\n<p>So hopefully I can do something like:</p>\n\n<pre><code>File:\n    actAs:\n        BalFile:\n    columns:\n        id:\n            primary: true\n            type: integer(4)\n            unsigned: true\n        code:\n            type: string(255)\n            unique: true\n            notblank: true\n        path:\n            type: string(255)\n            notblank: true\n        size:\n            type: integer(4)\n        type:\n            type: enum\n            values: [file,document,image,video,audio,web,application,archive]\n            default: unknown\n            notnull: true\n        mimetype:\n            type: string(20)\n            notnull: true\n        width:\n            type: integer(2)\n            unsigned: true\n        height:\n            type: integer(2)\n            unsigned: true\n</code></pre>\n\n<p>I'm hoping for a validator so that say if I do</p>\n\n<pre><code>$File-&gt;setFile($_FILE['uploaded_file']);\n</code></pre>\n\n<p>It will provide a validation error, except in all the doctrine documentation it has little on custom validators, especially in the contect of \"virtual\" fields.</p>\n\n<p>So in summary, my question is:\nHow earth can I go about making a template/extension to porting this functionality? I have tried before with templates but always gave up after a day :/ If you could take the time to port the above I would greatly appreciate it.</p>\n"},{"tags":["java","spring","mvc","rest","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":994,"score":0,"question_id":11358069,"title":"Spring REST MultipartFile file is always null","body":"<p>I'm trying to set up a simple upload with html and Spring 3.0.6 using REST services.  I've followed the tutorial online but the MultipartFile parameter is always null.  Here's the config and code:</p>\n\n<p>application-context.xml:</p>\n\n<pre><code>&lt;bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n  &lt;property name=\"maxUploadSize\" value=\"2000000\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-io&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n  &lt;version&gt;2.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n  &lt;version&gt;1.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Upload a file please&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Please upload a file&lt;/h1&gt;\n        &lt;form method=\"post\" action=\"/site/restServices/artworkUpload/\" enctype=\"multipart/form-data\"&gt;\n            &lt;input type=\"text\" name=\"name\"/&gt;\n            &lt;input type=\"file\" name=\"file\"/&gt;\n            &lt;input type=\"submit\"/&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>REST Controller:</p>\n\n<pre><code>@POST\n@Path(\"/artworkUpload\")\npublic String uploadFile(@RequestParam(\"name\") String name,\n    @RequestParam(\"file\") MultipartFile file) {\n    try {\n        if (!file.isEmpty()) {\n            byte[] bytes = file.getBytes();\n            // store the bytes somewhere\n            return \"redirect:uploadSuccess\";\n        } else {\n            return \"redirect:uploadFailure\";\n        }\n    }\n    catch (Exception ex)\n    {\n\n    }\n    return null;\n}\n</code></pre>\n\n<p>I copied the example from Spring's tutorial but no matter what I change, the file parameter is always null.  \"name\" will have the value in the text box but file will be null.</p>\n\n<p>I have also tried using Jersey and I receive the InputStream for the file but the FormDataContentDisposition is null so I can't determine the file type.</p>\n\n<p>This is running on Jetty as well.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["asp.net-mvc","mvc","entity-framework-4","entity"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":195,"score":0,"question_id":11807517,"title":"How can I override the properties in partial class?","body":"<p>I am developing a MVC application, I have used EF 4.0 while developing it. </p>\n\n<p>I have created the classes from the model. </p>\n\n<p>Now, I want to add more class for each class made by MVC.</p>\n\n<p>ex. In below code, I get the class Location. <strong>Now, I want to create one more class(Partial class) How can I override properties in partial class ?</strong></p>\n\n<p>How to do that ? </p>\n\n<pre><code>namespace Cntities\n{\npublic partial class Location\n{\n\n    public int Id { get; set; }\n\n\n    public string Name { get; set; }\n\n    public string Remark { get; set; }\n\n\n    public string State { get; set; }\n\n\n    public string Region { get; set; }\n\n\n    public string PinCode { get; set; }\n\n\n    public virtual ICollection&lt;Comment&gt; Comments { get; set; }\n}\n\n}\n</code></pre>\n"},{"tags":["asp.net-mvc","linq","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":11813347,"title":"MVC, Passing count of 3 tables to view","body":"<p>I'm trying to pass the counts of three different tables into a view along with a list of albums. It's a mod of the MvcMusicStore tutorial. I'm getting the \"The ObjectContext instance has been disposed and can no longer be used...\" error. I understand that it has to do with lazy loading, but I can't figure out how to make it work.  </p>\n\n<pre><code>// Controller\npublic class StoreManagerController : Controller\n{\n    private MusicStoreDBEntities context = new MusicStoreDBEntities();  \n\n    public ActionResult Index()\n    {\n        // counts\n        ViewData[\"artistCount\"] = context.Artists\n                                     .Select(e =&gt; new { e.ArtistId }).Count();\n        ViewData[\"genreCount\"] = context.Genres\n                                     .Select(e =&gt; new { e.GenreId }).Count();\n        ViewData[\"albumCount\"] = context.Albums\n                                     .Select(e =&gt; new { e.AlbumId }).Count();\n\n        // also tried two other ways...same result. \n        //ViewData[\"artistCount\"] = context.Artists\n                                 .Select(e =&gt; new { e.ArtistId }).ToList().Count;\n        //ViewData[\"artistCount\"] = context.Artists\n                                 .Select(e =&gt; new { e.ArtistId }).ToList().Count();\n\n        // album list\n        var albums = context.Albums.Include(a =&gt; a.Genre).Include(a =&gt; a.Artist);\n        return View(albums.ToList());\n    }\n}\n\n\n// View - Index.cshtml  \n@model IEnumerable&lt;MVC_App1.Models.Album&gt;\n&lt;div&gt;\n&lt;label&gt;&lt;strong&gt;Database Counts:&lt;/strong&gt;&lt;/label&gt;\n    Albums: @ViewData[\"albumCount\"] ...\n    Artists: @ViewData[\"artistCount\"]  ...\n    Genres: @ViewData[\"genreCount\"]\n&lt;/div&gt;  \n\n&lt;table&gt;\n@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Genre.Name)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Artist.Name)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Title)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.Price)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.AlbumArtUrl)\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n&lt;/table&gt;\n</code></pre>\n\n<p>SOLUTION:</p>\n\n<p>So I went with the suggestion to add a new model.  </p>\n\n<pre><code>public class AlbumsCollection \n{\n    public IEnumerable&lt;Album&gt; Albums = new List&lt;Album&gt;();\n    public IEnumerable&lt;Artist&gt; Artists = new List&lt;Artist&gt;();\n    public IEnumerable&lt;Genre&gt; Genres = new List&lt;Genre&gt;();\n}\n</code></pre>\n\n<p>And then do the counts in the view. I realized that I m passing the whole Album list to the view anyway, so it isn't a slowdown there. And For the Artists and Genres...there won't be many anyway, as they are 1-to-many relationships. I guess that's giving up on doing the Counts in the controller....but I guess this is good enough.</p>\n"},{"tags":[".net","ajax","mvc","asp.net-mvc-2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":6869931,"title":"Is it a bad practice to use UpdatePanel for Ajaxing in MVC views?","body":"<p>In a MVC app, I'm trying to refresh a content of a view every few seconds. Normally in MVC you call controller method that returns a partial views (jQuery is an option to call the controller). What I'd like to know is whether it is a bad practice to use UpdatePanel for Ajaxing in MVC views? </p>\n"},{"tags":["xml","vb.net","mvc","xslt","pretty-print"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":130,"score":0,"question_id":7611723,"title":"Displaying XML with XSLT formatting in MVC","body":"<p>I'd like my view to display a raw XML file formatted with an XSLT file inside an iframe. The XML file actually shown is variable and depends on the user's selection from a form (the XML file's address is determined in the controller).</p>\n\n<p>Is it possible to return the XML information directly from my controller, and if so, how? My main consideration is how to use an iframe in my view and have the id updated by my AJAX form. Initially, my controller action merely returned a string representing the XML file address, but I had trouble manipulating my JavaScript to accept this return value and parse it into <code>document.getElementById.src = url</code>.</p>\n\n<p>Current code:</p>\n\n<pre><code>Dim docXML As New XmlDocument()\ndocXML.Load(\"C:\\SharpSVN\\\" + cprotocols + \"_Config.xml\")\n\nUsing nodeReader = New XmlNodeReader(docXML)\n    nodeReader.MoveToContent()\n\n    Dim xRoot As XElement = XElement.Load(nodeReader)\n    Return xRoot.ToString()\nEnd Using\n</code></pre>\n\n<p>This is without XSLT, and the <code>xRoot</code> also only returns the data in one line (I'd like to see the element tags as well as correct formatting with spaces).</p>\n"},{"tags":["php","ajax","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":185,"score":0,"question_id":11808665,"title":"How to use AJAX in an MVC - php Blog? - adding comments dynamically","body":"<p>I wrote a <code>posts.php</code> page which shows a certain post and its comments, giving the user the ability to <em>add a new comment</em> to this post dynamically.</p>\n\n<p>I want to implement the *\"submit_comment\"* using Ajax, but I don't really know how to do it in MVC.</p>\n\n<p>This is my Posts.php:</p>\n\n<pre><code>&lt;script type=\"application/javascript\" src=\"Ajax/addComment.js\"&gt; &lt;/script&gt; \nsrc=\"../views/Ajax/addComment.js\"&gt; &lt;/script&gt; &lt;title&gt; Posts\n(View)&lt;/title&gt; &lt;/head&gt;\n\n&lt;body&gt; &lt;div id=\"main\"&gt; &lt;div class=\"container\"&gt; &lt;?=$data['header'];?&gt;\n\n&lt;div id=\"content\"&gt;  \n    &lt;!-- Main Post --&gt;\n    &lt;div class=\"content-background\"&gt;\n    &lt;h2&gt; &lt;?=$data['title'];?&gt;&lt;/h2&gt;\n    &lt;h4&gt; &lt;?=$data['date'];?&gt; &lt;/h4&gt;\n    &lt;p&gt; &lt;?=$data['content'];?&gt;&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"form-content\"&gt;\n      &lt;form name=\"commentForm\" method=\"post\"&gt;\n      Enter your name:  &lt;input type=\"text\" name=\"username\" id=\"username\"&gt;&amp;nbsp; &lt;br /&gt;\n      Enter your comment: &lt;/br&gt; &lt;textarea name=\"comment\" id=\"comment\" cols=\"10\" rows=\"10\"&gt; &lt;/textarea&gt; &lt;br /&gt;\n\n      &lt;input value='Submit' type='button'  onclick='JavaScript:commentRequest2(\"&lt;?=$data['id']?&gt;\")'\nname='submit'&gt;      \n\n\n      &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;div id=\"commentArea\"&gt;\n        &lt;?=include_once(\"comments_area.php\");?&gt;\n    &lt;/div&gt;&lt;!-- end commentArea --&gt;\n\n\n    &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;\n\n\n&lt;/body&gt; &lt;/html&gt;\n</code></pre>\n\n<p>This is My Posts_Controller.php:</p>\n\n<pre><code>&lt;?php\n/**\n * This file handles the retrieval and serving of posts posts\n */\nclass Posts_Controller\n{\n    /**\n     * This template variable will hold the 'view' portion of our MVC for this \n     * controller\n     */\n    public $template = 'posts';\n\n    /**\n     * This is the default function that will be called by router.php\n     * \n     * @param array $getVars the GET variables posted to index.php\n     */\n    public function main(array $getVars)\n    {\n        $postsModel = new Posts_Model;\n\n            }\n            else{\n        //get the post\n        $post = $postsModel-&gt;get_main_post(\"`id`='\", $getVars['id'], \"LIMIT\", \"1\");\n        //get the comments\n        $comments = $postsModel-&gt;get_comments(\"`postID`='\", $getVars['id']);\n        //create a new view and pass it our template\n        $header = new View_Model('header_template');\n        $view = new View_Model($this-&gt;template);\n\n\n        //assign post data to view\n        $view-&gt;assign('header', $header-&gt;render(FALSE));\n        $view-&gt;assign('title' , $post['title']);\n        $view-&gt;assign('content' , $post['content']);\n        $view-&gt;assign('date' , $post['date']);\n        $view-&gt;assign('by' , $post['added_by']);\n        $view-&gt;assign('id' , $post['id']);\n        $view-&gt;assign('commentsArr' , $comments);\n        $view-&gt;render();\n            }\n    }\n}\n</code></pre>\n\n<p>And This is My Posts_Model.php:</p>\n\n<pre><code>&lt;?php\n/**\n * The Posts Model does the back-end heavy lifting for the Posts Controller\n */\nclass Posts_Model\n{\n    /**\n     * Holds instance of database connection\n     */\n    private $db;\n\n    public function __construct()\n    {\n        $this-&gt;db = new MysqlImproved_Driver;\n    }\n\n    /**\n     * Fetches article based on supplied name\n     * \n     * @param string $author\n     * \n     * @return array $article\n     */\n    public function get_main_post($cond1, $var1, $cond2 =\"\", $var2 = \"\")\n    {        \n        //connect to database\n        $this-&gt;db-&gt;connect();\n\n        //sanitize data\n        $var1 = $this-&gt;db-&gt;escape($var1);\n        $var2 = $this-&gt;db-&gt;escape($var2);\n        $cond = $cond1.$var1.\"'\"; \n        $cond.= \" \".$cond2.\" \".$var2;  \n\n        //prepare query\n        $this-&gt;db-&gt;prepare\n        (\n            \"\n            SELECT *  FROM `posts`\n            WHERE $cond\n            ;\n            \"\n        );\n\n        //execute query\n        $this-&gt;db-&gt;query();\n\n        $article = $this-&gt;db-&gt;fetch('array');\n\n        return $article;\n    }\n\n\n    public function get_comments($cond1, $var1, $cond2 =\"\", $var2 = \"\")\n    {        \n        //connect to database\n        $this-&gt;db-&gt;connect();\n\n        //sanitize data\n        $var1 = $this-&gt;db-&gt;escape($var1);\n        $var2 = $this-&gt;db-&gt;escape($var2);\n        $cond = $cond1.$var1.\"'\"; \n        $cond.= \" \".$cond2.\" \".$var2;  \n\n        //prepare query\n        $this-&gt;db-&gt;prepare\n        (\n            \"\n            SELECT *  FROM `comments`\n            WHERE $cond\n            ;\n            \"\n        );\n\n        //execute query\n        $this-&gt;db-&gt;query();\n        $resultArr[0] = 0;\n        $i = 1;\n        while( $result = $this-&gt;db-&gt;fetch('array')){\n            $resultArr[$i] = $result;\n            $i++;\n        }\n        $resultArr[0] = $i;\n\n        return $resultArr;\n    }\n\n}\n?&gt;\n</code></pre>\n\n<p>Where Should I add the addComment.js? (V, M or C?)\nAnd what should the addComment do? what URL/ function to call?</p>\n\n<p>Any suggestions? Examples?</p>\n"},{"tags":["c#","asp.net","mvc","html-agility-pack"],"answer_count":2,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":2189,"score":8,"question_id":6181014,"title":"Html Agility Pack - Problem selecting subnode","body":"<p>I want to export my Asics running plan to iCal and since Asics do not offer this service, I decided to build a little scraper for my own personal use. What I want to do is to take all the scheduled runs from my plan and generate an iCal feed based on that. I am using C# and Html Agility Pack.</p>\n\n<p>What I want to do is iterate through all my scheduled runs (they are div nodes). Then next I want to select a few different nodes with my run nodes. My code looks like this:</p>\n\n<pre><code>foreach (var run in doc.DocumentNode.SelectSingleNode(\"//div[@id='scheduleTable']\").SelectNodes(\"//div[@class='pTdBox']\"))\n{\n    number++;\n    string date = run.SelectSingleNode(\"//div[@class='date']\").InnerText;\n    string type = run.SelectSingleNode(\"//span[@class='menu']\").InnerHtml;\n    string distance = run.SelectSingleNode(\"//span[@class='distance']\").InnerHtml;\n    string description = run.SelectSingleNode(\"//div[@class='description']\").InnerHtml;\n    ViewData[\"result\"] += \"Dato: \" + date + \"&lt;br /&gt;\";\n    ViewData[\"result\"] += \"Tyep: \" + type + \"&lt;br /&gt;\";\n    ViewData[\"result\"] += \"Distance: \" + distance + \"&lt;br /&gt;\";\n    ViewData[\"result\"] += \"Description: \" + description + \"&lt;br /&gt;\";\n    ViewData[\"result\"] += run.InnerHtml.Replace(\"&lt;\", \"&amp;lt;\").Replace(\"&gt;\", \"&amp;gt;\") + \"&lt;br /&gt;\" + \"&lt;br /&gt;\" + \"&lt;br /&gt;\";\n}\n</code></pre>\n\n<p>My problem is that <code>run.SelectSingleNode(\"//div[@class='date']\").InnerText</code> does not select the node with the given XPath within the given run node. It selects the first node that matches the XPath in the entire document.</p>\n\n<p>How can I select the single node with the given XPath within the current node?</p>\n\n<p>Thank you.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I tried updating my XPath string to this:</p>\n\n<pre><code>string date = run.SelectSingleNode(\".div[@class='date']\").InnerText;\n</code></pre>\n\n<p>This should select the <code>&lt;div class=\"date\"&gt;&lt;/div&gt;</code> element within the current node, right? Well, I tried this but got this error:</p>\n\n<blockquote>\n  <p>Expression must evaluate to a\n  node-set. Description: An unhandled\n  exception occurred during the\n  execution of the current web request.\n  Please review the stack trace for more\n  information about the error and where\n  it originated in the code.</p>\n  \n  <p>Exception Details:\n  System.Xml.XPath.XPathException:\n  Expression must evaluate to a\n  node-set.</p>\n</blockquote>\n\n<p>Any suggestions?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":121,"score":1,"question_id":11808304,"title":"How can I avoid getting the \"Potentially dangerous request\" error with json <> MVC3 or MVC4?","body":"<p>I am using Json to send update information to the following controller action:</p>\n\n<pre><code>    [HttpPost]\n    public JsonResult JsonUpdate(string pk, string rk, string fld, string val) {\n        Content content = null;\n        try {\n            if (fld == \"TempRowKey\") {\n                content = contentService.Get(pk, rk);\n                rk = utilityService.DotFormatToRowKey(val);\n                contentService.UpdateRowKey(content, rk, User.Identity.Name);\n            } else {\n</code></pre>\n\n<p>I realize it's an added protection in MVC that's causing the problem but I need to be able to pass HTML code in the val argument and I am getting the following error:</p>\n\n<pre><code>A potentially dangerous Request.Form value was detected from the client (val=\"...e HashMap &lt;K,V&gt;, LinkedHashMap...\"). \n</code></pre>\n\n<p>Note that the  is valid text that an admin person entered. This screen is only used by admins and so I am okay with no protection for the field. </p>\n\n<p>Looks like there were some changes between MVC2, 3 and 4. </p>\n\n<p>What are the ways I can avoid this problem with MVC3 and MVC4. I saw there's another post like mine on stackoverflow but it does not really address the problem. </p>\n\n<p>Note I am looking for something local that I can apply to just this action. I saw some suggestions on the web but it looks like there's confusion between how to handle this with the different MVC versions. Is the best way to encode and decode the data and if so how could I do that?</p>\n"},{"tags":["c#","mvc","jquery-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":11807008,"title":"jquery mobile list view that posts","body":"<p>Given a list of jquery mobile items.</p>\n\n<pre><code>&lt;ul data-role=listview\" data-inset=\"true\"&gt;\n  &lt;li&gt;&lt;a href=\"/dostuff?item=1\"&gt;One&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"/dostuff?item=2\"&gt;One&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"/dostuff?item=3\"&gt;One&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Is there a best practice way of doing the following:</p>\n\n<p><li>make each item post to the server. I have an MVC method that accepts a post only. I would rather not use a 'Get'. I want each of the items to post to the server.\n<li>once the post is successful each item must be removed from the list.</p>\n\n<p>jquery mobile does a whole lot of ajax work out of the box. What is the best way to achieve this. I don't want to write a ton of jquery to do it if there's a better way.</p>\n\n<p>I can set data-role=\"button\" on each of the li items, but would prefer the styling to stay the same. There doesn't appear to be an equivalent data-role=\"submit\" though that would probably be perfect.</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":164,"score":-2,"question_id":11799841,"title":"I want to Populate a Dropdown list and fill a textbox accordingly?","body":"<p>I have two dropdown lists and i want, if i select something from these two dropdown list a third text box will automatically be filled using java script like ... \nthis is my controller..</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Mvc;\nusing CommerceSuite.Web.Models.Product;\nusing CommerceSuite.Services;\nusing CommerceSuite.Web.Models.AdjustStock;\nusing CommerceSuite.Data.Models;\n\nnamespace CommerceSuite.Web.Controllers\n{\npublic class AdjustStockController : Controller\n{\n    private readonly IProductStockService _productStock;\n    private readonly IProductService _product;\n    private readonly ILocationDetailService _locationDetail;\n    public AdjustStockController(IProductStockService productStock, IProductService product, ILocationDetailService locationDetail)\n    {\n        this._productStock = productStock;\n        this._product = product;\n        this._locationDetail = locationDetail;\n    }\n    //\n    // GET: /AdjustStock/\n\n    public ActionResult Index()\n    {\n        var model = new AdjustStockModel();\n        model.products = PopulateProductId();\n        model.locations = PopulateLocation();\n        return PartialView(\"_AdjustStock\", model);\n    }\n\n    [HttpGet]\n    public ActionResult StockAdjust()\n    {\n        var model = new AdjustStockModel();\n        return PartialView(\"_AdjustStock\",model);\n    }\n\n    private List&lt;SelectListItem&gt; PopulateProductId()\n    {\n        var collectionProduct = new SelectList(_product.GetAllProduct(), \"ProductId\", \"Name\").ToList();\n        return collectionProduct;\n    }\n    private List&lt;SelectListItem&gt; PopulateLocation()\n    {\n        var collectionLocation = new SelectList(_locationDetail.GetAllLocationDetail(), \"LocationId\", \"Name\").ToList();\n        return collectionLocation;\n    }\n\n    CommerceSuiteWMDBContext context = new CommerceSuiteWMDBContext();\n    public JsonResult GetData(AdjustStockModel model)\n    {\n       var data = context.ProductStocks.Where(o =&gt; o.ProductId == model.ProductId &amp;&amp; o.LocationId == model.LocationId);\n       var data = (from t in context.ProductStocks\n                   where t.ProductId == model.ProductId &amp;&amp; t.LocationId == model.LocationId\n                    select t).SingleOrDefault();\n        var jsonData = new\n        {\n            quantity=data.QuantityAvailable\n        };\n        return Json(jsonData, JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n\n<p>and this is my View..</p>\n\n<pre><code>@model CommerceSuite.Web.Models.AdjustStock.AdjustStockModel\n\n\n\n@Html.ValidationSummary(true)\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.ProductId)\n\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.DropDownListFor(model =&gt; model.ProductId, Model.products, \"Select Product\")\n        @Html.ValidationMessageFor(model =&gt; model.ProductId)\n    &lt;/div&gt;\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.LocationId)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.DropDownListFor(model=&gt;model.LocationId,Model.locations,\"Select Location\")\n        @Html.ValidationMessageFor(model =&gt; model.LocationId)\n    &lt;/div&gt;\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.SystemStock)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.EditorFor(model=&gt;model.SystemStock)\n        @Html.ValidationMessageFor(model =&gt; model.SystemStock)\n    &lt;/div&gt;\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.ActualStock)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.EditorFor(model=&gt;model.ActualStock)\n        @Html.ValidationMessageFor(model =&gt; model.ActualStock)\n    &lt;/div&gt;\n\n    &lt;br /&gt;\n\n    &lt;div class=\"block-footer align-right\"&gt;\n        &lt;input type=\"submit\" id=\"popupConfirmBtn\" class=\"big-button\" value=\"Confirm\" /&gt;\n        &lt;input id=\"popupCloseBtn\" type=\"button\" class=\"big-button\" value=\"Cancel\" onclick=\"csPopupClose()\" /&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"popLoading\" style=\"display:none; position:absolute; margin-top:-180px; margin-left:150px; border:none;\"&gt;\n        &lt;img src=\"../../Content/images/loader.gif\" alt=\"Loading\" /&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Now how can i write a java script to achieve this functionality..so that when i select any dropboxes a text box will automatically filled on the basis of the value returned by Json.</p>\n"},{"tags":["c#","asp.net-mvc-3","mvc","datetime","datetimepicker"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":173,"score":1,"question_id":11804781,"title":"Create an Editor Template for DateTime with three input fields for day, month, year, in MVC","body":"<p>I would like to create an editor template for DateTime? field that has 3 text boxes for day, month, year.  Currently my EditorTemplates/Date.cshtml looks like this:</p>\n\n<pre><code>@Html.TextBox(string.Empty, Model.HasValue ? Model.Value.Day.ToString() : \"\",\n                            new { @class = \"day-box\", title = \"day\", min = \"1\", max = \"31\", type = \"number\" })\n@Html.TextBox(string.Empty, Model.HasValue ? Model.Value.Month.ToString() : \"\",\n                            new { @class = \"month-box\", title = \"month\", min = \"1\", max = \"12\", type = \"number\" })\n@Html.TextBox(string.Empty, Model.HasValue ? Model.Value.Year.ToString() : \"\",\n                    new { @class = \"year-box\", title = \"year\", min = \"1900\", max = \"2020\", type = \"number\" })\n</code></pre>\n\n<p>The obvious problem is that that (as is) the id and name attributes all get set to the same value. I need to append something to those values, and never make it back into my model.</p>\n\n<p>I was hoping that appending _Day to the id, and .Day to the name of the Day input, and likewise for month and year would solve the problem. But I can't see an easy way of doing this.</p>\n\n<p>I was going to use Hidden input for the actual value, then use javascript to update the value of the hidden field each time a value changes in one of my three (d/m/y) textboxes.</p>\n\n<p>So is there a way to get the name and id that MVC is going to use, when I pass in string.Empty?  Using ViewData.TemplateInfo.HtmlPrefix doesn't seem to give full value.</p>\n\n<p>Is there a better way to do what I want? I can't imagine I am the first to tackle this.</p>\n\n<p>I know there are 3rd party date pickers out there. For the sake of this problem I am not interested in them. </p>\n\n<p>Thanks,\n~S</p>\n"},{"tags":["mvc","frameworks","programming-languages"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":178,"score":0,"question_id":5463426,"title":"What web application framework should I chose?","body":"<p>I am planning on starting a web application and I am trying to find the most adapted framework to do so...</p>\n\n<p>Here are some infos about the project:</p>\n\n<ul>\n<li>Most of the traffic will be created by a JavaScript API provided to external websites</li>\n<li>It will also have a web portal</li>\n<li>In the future a ReST webservice will also be provided with the API</li>\n</ul>\n\n<p>Desired points:</p>\n\n<ul>\n<li>MVC framework</li>\n<li>Action based</li>\n<li>Reasonably cheap hosting to start</li>\n<li>Quite popular, easy to find answers</li>\n<li>Very scalable</li>\n<li>Easily maintainable</li>\n</ul>\n\n<p>And here are a few frameworks I was thinking of, but feel free to propose something else:</p>\n\n<ul>\n<li>Spring MVC</li>\n<li>Django</li>\n<li>Ruby on Rails</li>\n<li>Zend, or some other PHP framework</li>\n</ul>\n\n<p>I have the most experience with Spring and Zend, but I feel like Java based web-apps are pretty expensive to host and I don't really think I need this, and Zend/PHP is becoming less and less popular...</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net-mvc-3","mvc","mvcsitemapprovider","asp.net-mvc-sitemap"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":203,"score":0,"question_id":10573180,"title":"MvcSiteMap - passing dynamic node parameters","body":"<p>This is one of those issues that I've come back to after a while in the hope that my understanding will be a bit clearer. Unfortunately, I have the same unanswered questions as last time I looked at it.</p>\n\n<p>I have implemented the MvcSitemap Provider and i get it to work fine for static links ie: link with no dynamic parameters. My site uses authentication. The sitemap menu is in my main view (_Layout). Security trimming is switch on (true). The menu node (\"Library\") that is trimmed until the user is authenticated, is calling a GetLibrary(int id) action on a Document Controller. Here lies the first (conceptual) problem for me.</p>\n\n<p>As soon as they authenticate, the link to \"Library\" is displayed by the provider, but they haven't made their selection of which Library to use yet as that screen is about to be served up to them, and therefor, I cannot tell the DynamicNodeProvider what the value of the id parameter is. In fact, the DynamicNodeProvider runs the first time the _Layout view is called which is even BEFORE the user is authenticated, so there is no way of passing \"post authentication\" values anyway.</p>\n\n<p>My second misunderstanding is in the example code on the site.</p>\n\n<pre><code>// GET: /Checkout/Complete\n[MvcSiteMapNodeAttribute(Title = \"Checkout complete\", ParentKey = \"Checkout\")]\npublic ActionResult Complete(int id)\n{\n    // ...\n}\n</code></pre>\n\n<p>How can this code ever work because the node that is created does not have the route value that the Action method obviously needs?? I am definitely missing something here. Would appreciate some clarification.  </p>\n"},{"tags":["mvc","coldfusion","coldfusion-8","model-glue"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11770655,"title":"Model-Glue Learnings and Musings","body":"<p>I'm a semi-experienced Coldfusion programmer. I know CFML well enough to separate my code and logic into CFM's and into CFC's. I also have some experience with an object/event oriented language like Java.</p>\n\n<p>I just started going through the tutorials on Model Glue online <a href=\"http://docs.model-glue.com/\" rel=\"nofollow\">http://docs.model-glue.com/</a>. I have to say I'm not very impressed for a variety of reasons. I think the tutorial is specifically geared for someone that already knows the workings of an MVC framework and knows the set of ideas really well. I know enough to be dangerous with it, but I find I'm just not understanding the process flow as well as I want to. So, I'm hoping I can describe the process flow as I understand it and then continue to critique and modify my understanding of it.</p>\n\n<p>Here's how my understanding shapes up:</p>\n\n<p>Under 'raw' coldfusion (defined as the absence of a framework beyond Adobe CFML):<BR />\n - A user visits a page<BR />\n - The server will then process the page (which may be influenced with items after a question, like whatever.com/searchForPeople.cfm?Fname=Brad&amp;LName=Smith)<BR />\n - The template might have a query, or the query might be put aside in a handy CFC<BR />\n - The CFC takes inputs, and modifies the query dynamically based on the inputs provided <BR />\n - Frequently the display is handled by the CFM and the display is in the CFC (MVC?)<BR />\n - The server then outputs the results on searchForPeopleResults.cfm, which will most likely have some nice display logic and conditionally display people that match the search terms or display a 'tough luck, no matches' message<BR />\n<BR /><BR /></p>\n\n<p>Under Model Glue Coldfusion:<BR /></p>\n\n<ul>\n<li>A user clicks on a link. (I don't understand how links are dynamically created yet) <BR /></li>\n<li>This triggers an event handled by a controller. <BR />\n(Example: index.cfm?event=List.Students)\nThis page has an extension of CFM (cold Fusion Markup), but I like to think of it as (C)an (F)ire (M)e  under Model Glue. I think this request gets handled by a controller.</li>\n<li><p>The Server then looks at the event types spelled out in ModelGlue.xml, and decides how to handle the event. <BR /></p>\n\n<ul>\n<li>The type of event determines how the Model Glue platform responds to requests made of the controller. <BR /></li>\n<li><p>View content is influenced here. I have no idea what templates are shown by default or how we conditionally output content sections. I also don't understand where the CSS file gets linked to style elements conditionally displayed. I also don't get the value names or the values being passed. Where did these come from?<BR />\n*<em>EDIT: Upon further research, it seems that there is a Layout File in Views/Layout/Masterlayout that has syntax in it. This syntax declares a variety of variables that appear to be stored in #VARIABLES.SectionName. For instance, this line:  gets the view for a navigation. I'm not yet sure how it is selectively called though. *</em></p></li>\n<li><p>Next is an event handler. An event handler has its type spelled out for it. The event handler must (I think) have a type spelled out for it in the  section.<BR /></p></li>\n<li>Event handlers spell out what Method(s) from CFC's need to be fired, and also spell out the view(s) that need to be called to handle them. (See Questions Below)<BR /></li>\n<li>I don't get how these CFC's are returning stuff to their functions. <BR /></li>\n<li>Next, IF a Event handler has a message tag, we create a listener for the event in the controllers section of ModelGlue.XML<BR /></li>\n<li>A controller has an ID, and a type. I'm not sure what the relevance of the id is, but I know the type refers to the CFC path in dot notation <BR /></li>\n</ul></li>\n</ul>\n\n<p>Here's where it gets really spotty: <BR /><BR />\n- Each controller has messages in it. The message Listener has a function and a message.<BR />\n- The function inside of the CFC matches the function name in the message listener syntax. we are calling. However the message portion I really don't understand.<BR />\n- Once a function is called, what is it passed, and why is event consistently mentioned in a function?<BR />\n- Where is the stuff it processes returned? What scope? How do I access it? How do I debug it?\n- What's the deal with Beans? Why do I keep seeing them? Why are they useful?<BR />\n- If I could get an overview of the input, processing, output, and exactly what is happening I think that would really help accelerate me.</p>\n\n<p>I think I'm 2/3rds through the framework. Once I understad the above items I think I can start effectively using model glue. I've been through the online tutorial five times today and can't seem to hack the rest. I think I have a good start, but just can't seem to get through these last hurdles. <BR /> <BR /></p>\n\n<p>What I'd appreciate: a step by step overview of the message calls happening. Perhaps an example function of what is going on? I looked at the doc example provided by model glue several times and it didn't quite sink in.</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":11804649,"title":"How can I prevent the parameters hash from my flash being displayed along with the ERB output in the view template","body":"<p>I have implemented an application helper to dynamically provide the class of a flash message to the view for styling with Bootstrap. The setup works but along with the ERB, the actual parameters hash is being output to the view. I have look at all of my application code in the helpers and views and can't pinpoint the source. I've also looked at the output HTML and it was not indicative of the source problem. Below are the helpers and views as well as a snapshot of the troubled output result.</p>\n\n<p><strong>Troubled View Output</strong></p>\n\n<p><a href=\"http://screencast.com/t/9KZHxjqm1Pq\" rel=\"nofollow\">http://screencast.com/t/9KZHxjqm1Pq</a></p>\n\n<p>--</p>\n\n<pre><code># layouts/application.html.erb\n...\n&lt;/head&gt;\n&lt;body&gt;\n\n  &lt;%= render \"layouts/header\" %&gt;\n\n  &lt;div class=\"container\"&gt;\n\n\n  &lt;% if flash.any? %&gt;\n  &lt;%= render 'shared/flash_messages' %&gt;\n  &lt;% end %&gt;\n\n  &lt;%= yield %&gt;\n  ...\n</code></pre>\n\n<p>--</p>\n\n<pre><code># views/shared/_flash_messages.html.erb\n&lt;div&gt;\n&lt;%= flash.each do |key, value| %&gt;\n  &lt;div class=\"&lt;%= flash_class(key) %&gt; fade in\"&gt;\n    &lt;a href=\"#\" data-dismiss=\"alert\" class=\"close\"&gt;x&lt;/a&gt;\n    &lt;%= \"#{value}\" %&gt;\n  &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>--</p>\n\n<pre><code># helpers/application_helper.rb\nmodule ApplicationHelper\n\n  def  flash_class(level)\n  case level\n    when :notice then \"alert alert-info\"\n    when :success then \"alert alert-success\"\n    when :error then \"alert alert-error\"\n    when :alert then \"alert alert-error\"\n  end\nend\n\nend\n</code></pre>\n"},{"tags":["java","spring","mvc","rest"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":244,"score":1,"question_id":11800763,"title":"Spring 3.0 Java REST return PDF document","body":"<p>I have a PDF document generated in the backend. I want to return this using Spring MVC REST framework. What should the MarshallingView and ContentNegotiatingViewResolver look like?</p>\n\n<p>Based on a sample I found, the controller would have this as the return:</p>\n\n<pre><code>return new ModelAndView(XML_VIEW_NAME, \"object\", \n    byteArrayResponseContainingThePDFDocument);\n</code></pre>\n\n<p>-thank you.</p>\n"},{"tags":["mvc","design","web-applications","yii","relation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":130,"score":1,"question_id":11788985,"title":"In Yii, how can I call views belonging to another models that has a HAS_MANY relation defined with the current controller's model?","body":"<p>I need some guidance on how to call views within a controller for models that have a relationship defined with the current controller\"s model.</p>\n\n<p>In my case, I have a model names \"catalog\", which has a HAS_MANY relationship with another model called \"items\".\nIn the \"view\" view for my \"catalog\" model, I would like to display an ajax form to let user add \"items\" to the current \"catalog\" and also I want to render the current \"catalog\" model\"s items.</p>\n\n<p>In theory, I should have a distinct 'item' controller who should take care of rendering a single 'item' view and creation form. </p>\n\n<p>The issue is that thanks to the relation defined in my 'catalog' model, I am loading all the catalog's items at the same time as when I load a 'catalog' model.\nBut since I also want to be able to independently create 'items' for the current 'catalog' without updating the whole catalog model, I want to render in my 'catalog' view a 'item' create form.\nI also need to have an independent 'item' view action so that I can render via AJAX newly created 'item' without rendering the whole 'catalog' again.</p>\n\n<p>I'm thinking that in my 'catalog' 'view' view, I should loop through the $catalog->items and for each do a renderPartial of the 'item' 'view' view.</p>\n\n<p>But I have read that using views from another controller within a given controller is an absolute no no.\nSame thing for rendering the 'item' create form, which belongs to the 'item' controller, but that I want to render within my 'catalog' 'view' view.</p>\n\n<p>Is it acceptable to make an exception for this case? \nThis is what I'm currently doing, in my 'catalog' 'view' view:</p>\n\n<pre><code>foreach($catalog-&gt;items as $item):\n  $this-&gt;renderPartial('/item/_view', array ( 'item' =&gt; $item ) , FALSE, FALSE );\n</code></pre>\n\n<p>Let me know if there is a better design pattern that I should be adhering to?\nThanks in advance for your help.</p>\n\n<p>Lothaire</p>\n"},{"tags":["mvc","frameworks","data","entity","dataannotations"],"answer_count":2,"favorite_count":6,"up_vote_count":9,"down_vote_count":0,"view_count":2987,"score":9,"question_id":3129080,"title":"Server-side validation of a REQUIRED String Property in MVC2 Entity Framework 4 does not work","body":"<p>I'm trying to get server-side validation of an Entity Framework String Property to work. Other server-side validation such as data type validation and required dateTime and numeric EF properties are working. </p>\n\n<p>This in VS 2010, .Net 4.0, MVC2 + Cloud, ADO.Net Entity Framework.</p>\n\n<p>The String Property I am having issues with is mapped to a SQL 2008, Varchar(50) non-nullable column.</p>\n\n<p>When I try to post to my Create action with an empty string for this Property, I get the follwing error. </p>\n\n<blockquote>\n  <p>Exception Details: System.Data.ConstraintException: This property cannot be set to a null value.</p>\n</blockquote>\n\n<p>When I post to the action with a blank space, I successfully get a required field validation message. </p>\n\n<p>I have tried using Data Annotations and ClientSideValidation but there seems to be issues with ClientSideValidation working on partial views and jquery dialogs.</p>\n\n<p>Here is the orginal autogenerated code from the entity framework.</p>\n\n<pre><code>[EdmScalarPropertyAttribute(EntityKeyProperty=false, IsNullable=false)]\n[DataMemberAttribute()]\npublic global::System.String GradeTypeName\n{\n    get\n    {\n        return GradeTypeName;\n    }\n    set\n    {\n        OnGradeTypeNameChanging(value);\n        ReportPropertyChanging(\"GradeTypeName\");\n        _GradeTypeName = StructuralObject.SetValidValue(value, false);\n        ReportPropertyChanged(\"GradeTypeName\");\n        OnGradeTypeNameChanged();\n    }\n}\n</code></pre>\n\n<p>Depending on the signature of the Action method (CREATE or EDIT), the exception can occur before stepping into the method or within the method when UpdateModel() is called. The inner exception is at the line below from the model.designer.cs file. </p>\n\n<pre><code>_GradeTypeName = StructuralObject.SetValidValue(value, false);\n</code></pre>\n\n<p>I have been able to reproduce this on a simple mvc2 web application.</p>\n"},{"tags":["android","mvc","authentication","membership-provider","web-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":11802466,"title":"Mobile Facebook & Google login with MVC .Net backend. Android","body":"<p>I am struggling with how to create an authorization system for an Android app that is going to have an MVC.Net backend. I want to use a .Net Memebership provider, but also Facebook and Google accounts. Ultimately there will be three ways to login (FB, Google, Forms Auth), each way the backend is a Membership Provider and thus has a user record.</p>\n\n<p>I've read up so much on these topics in relation to Android apps and have watched the Google IO <a href=\"http://www.youtube.com/watch?v=xHXn3Kg2IQE\" rel=\"nofollow\">Android REST client applications</a> video (witch is a must if you want to do things well in Android). But after all this, I'm still no closer to finding out how people create these membership or authorization systems.</p>\n\n<p>So far my idea would be: when a user login's in with Facebook (using SSO) on the app they get a token from Facebook, when they then post things to the website from their mobile they pass this token and their FB userid to the MVC WebAPI service and the server makes a request to FB and checks that the token is valid before actioning any POSTs or PUTs etc.</p>\n\n<p>I'm thinking the same for the Google account, although I've not looked into that at the moment.</p>\n\n<p>Also I want the users to be able to login to the website using the same auth method (FB, Google or normal Forms Auth) as their phone.</p>\n\n<p>I'm really not sure if this is correct architecturally, I haven't seen/can't find any examples of a end to end mobile/web auth system, but need some help on what is generally done.</p>\n\n<p>I've found <a href=\"http://stackoverflow.com/questions/4663215/android-facebook-login-and-to-web-server\">question</a>, but it didn't have any votes on the answer so not sure.\nI'm sure that this has been done before though!</p>\n"},{"tags":["ruby-on-rails","mvc","rest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":11802398,"title":"Pure REST or process driven design in a \"wizard\" account creation process?","body":"<p>I'm in the process of building an app that has a bit of a lengthy sign up wizard.</p>\n\n<p>The wizard will have these steps (with associated model class(es)): </p>\n\n<ol>\n<li>Organization Information (Organization) </li>\n<li>Account Plan (OrganizationSubscription, OrganizationSubscriptionType)</li>\n<li>Payment Details (OrganizationPaymentDetail)</li>\n<li>User Account (AdminUser)</li>\n</ol>\n\n<p>Do you recommend building a wizard controller i.e. \"AccountSetup\" that houses the creation of all of these objects through each step, OR should I go the purely RESTful way that creates these objects only in their associated resource path and action. This controller would only be used once per Organization setup. Any edits or additional account information would use only RESTful resources. </p>\n\n<p>Obviously the former would be easier given that I need to visually display the step to the user and show views with validation errors without having to do a bunch of redirects and storing state in the session. </p>\n\n<p>However, the latter would be more of a best practice. I want to build so any developer can dig in.</p>\n\n<p>Thoughts?</p>\n"},{"tags":["java","swing","mvc","design-patterns","jtable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":222,"score":0,"question_id":11793888,"title":"Correct Model-View-Controller pattern in Java Swing","body":"<p>I recently started working with Swing applications in Java, using mostly JTables at the moment. Coming from the world of .NET WPF background, which was tremendously architectured using MVVM design pattern, I am struggling a little bit with Swing. The reason being, with JTables it seems there are many ways you can implement the Model-View-Controller pattern (at least what I feel after looking at available classes). As a result, I wanted to share a few possible general approaches that cmae through my mind and which I saw so far, as well as gather your comments on this issue, which possibly can apply to other controls/applications:</p>\n\n<ol>\n<li><p>JTable &lt;--> TableModel:  In this approach we only have in a sense a View and a Model. \nTableModel has useful methods for updates, such as setValueAt, in which you can put the handling code of any UI updates and, which in turn, can raise events on Model updates. I guess this is the default implementation of DefaultTableModel. So model handles updates made directly on cells (data).\nView (JTable) would register any further handlers in the code behind of a class that would serve as a View. The code could look like this:</p>\n\n<p>class View extends JPanel {</p>\n\n<pre><code>public View(TableModel model) {\n    super(new BorderLayout(1, 0));\n    JTable table = new JTable(model) {\n\n        //override anything you need here - renderers etc.\n\n    };\n\n    //add any listeners here\n}\n//Listeners that would perform actions on events, and possibly call model to update\n</code></pre>\n\n<p>What I like about this is that we only have two places to put code into, and there is a natural connection between a JTable and TableModel provided in the implementation, namely setValueAt method. \nWhat I <em>hate</em> about this though is, in my opinion, a complete disregard to the MVC pattern, which in case of MVVM structured your code brilliantly</p></li>\n<li><p>JTable --> Controller &lt;--> TableModel : Add another layer to perform the logic\nWe would now have a central controller that would instantiate (or receive injected in constructor) view and model. Furthermore, it would register any listeners on the view, and whenever this would happen, we would call some update method on the Model. Perhaps yet another approach would be to <em>forward</em> events from the view's registered handlers to the controller, but that would require view to <em>know</em> about the controller... \nI guess the firing of the event <em>back to view</em> would remain on the model, when we call update method, unless we would simply call tableChanged method on the table. This however ruins the whole neatness of event mechanism, which is given for free in TableModel implementation...\nFurther things which must be taken into account here is that we need to look out for converting from view index to model index every time we handle the event from the View (possibly other considerations which I cannot think of at the moment)</p></li>\n<li><p>JTable &lt;--> TableModel --> BusinessModel: We use the TableModel as the coordinator and keep our business knowledge elsewhere\nSo far I assumed that the TableModel contains the raw business data, in the form of List for instance. Now we could potentially use setValueAt method + register handlers on the TableModel which would subsequently modify the underlying BusinessModel, encapsulating the List.\nMy only fear is that TableModel <em>should</em> really be a model and not the controller.</p></li>\n</ol>\n\n<p>These are my views on the matter. I very much look forward to your replies and comments.</p>\n"},{"tags":["mvc","navigation","role-based"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":11800784,"title":"Generating Navigation for different user types, MVC, PHP","body":"<p>I have this idea of generating an array of user-links that will depend on user-roles.</p>\n\n<p>The user can be a student or an admin.</p>\n\n<p>What I have in mind is use a <code>foreach</code> loop to generate a list of links that is only available for certain users.</p>\n\n<p>My problem is, I created a helper class called <code>Navigation</code>, but I am so certain that I MUST NOT hard-code the links in there, instead I want that helper class to just read an object sent from somewhere, and then will return the desired navigation array to a page.</p>\n\n<p>Follow up questions, where do you think should i keep the links that will only be available for students, for admins. Should i just keep them in a text-file? </p>\n\n<p>or if it is possible to create a controller that passes an array of links, for example\na method in <code>nav_controller</code> class -> <code>studentLinks(){}</code> that will send an array of links to the helper class, the the helper class will then send it to the view..</p>\n\n<p>Sorry if I'm quite crazy at explaining. Do you have any related resources?</p>\n"},{"tags":["asp.net","mvc","url"],"answer_count":2,"favorite_count":4,"up_vote_count":8,"down_vote_count":0,"view_count":1109,"score":8,"question_id":6749803,"title":"asp.net mvc multilanguage urls/routing","body":"<p>This is a two part question regarding asp.net mvc multilanguage urls/routing and SEO best practices/benefits…</p>\n\n<p><strong>Question Part 1)</strong></p>\n\n<p>I’m being asked to create a new ASP.NET MVC website that will support a minimum (at first) of two languages (English and French) perhaps in the future, 3 languages…</p>\n\n<p>As far as localizing the application (labels, jQuery errors, etc) things should be ok using resource files and I’ve found many examples on this…but my concern/question is more about the URLs.</p>\n\n<p>In terms of SEO, what is the recommended approach between these two fashions?</p>\n\n<pre><code>Fashion 1 (no culture folder)  \nwww.mydomain.com/create-account \nwww.mydomain.com/creer-un-compte\n\nFashion 2 (with built in culture folder)\nwww.mydomain.com/create-account \nwww.mydomain.com/fr/creer-un-compte &lt;--notice the “fr” folder \n</code></pre>\n\n<p>Is there a known issue/penalty in using one over the other? </p>\n\n<p>Or is it so small that it becomes irrelevant!</p>\n\n<hr>\n\n<p><strong>Question Part 2)</strong></p>\n\n<p>To achieve Fashion 2, I’ve already found an article here:\n<a href=\"http://stackoverflow.com/questions/1712167/asp-net-mvc-localization-route\">ASP.NET MVC - Localization route</a></p>\n\n<p>But I’d be curious to find how to achieve Fashion 1. </p>\n\n<p>Does anyone have any links?</p>\n\n<p>In addition and as far as I know, URL Rewriting is <strong>not</strong> what I’m looking for since I do not wish to “redirect” users…I simply want the urls to be showing in the appropriate language without having to show the culture in the url</p>\n\n<p>Thanks in advance for any help on this!</p>\n"},{"tags":["asp.net-mvc-3","mvc","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":10576503,"title":"MVC3 Validation on Sub-Form","body":"<p>I have a page that I want to have a list of items (header items) with some details and a link to view and a link to edit them.  In addition at the top of the list I want to have a form to get the basic details (start and end date) and create a new header item using that data.</p>\n\n<p>What I've done:</p>\n\n<ul>\n<li>created a header controller</li>\n<li>created an index view (gets list of items)</li>\n<li>created a startHeader view (has a form with start, end date and a button, form has an actionName of \"addHeader\")</li>\n<li>added the \"ValidationMessageFor\" for the start and end date</li>\n<li>added the startHeader view as a partial view to the index view</li>\n</ul>\n\n<p>Everything generally appears to be working except for some validation.  The required field validation appears to be working as expected (i.e. if you don't put in a start date and click the button it says \"Start Date is required\").  </p>\n\n<p>However I've added some additional validation that doesn't appear to be working:</p>\n\n<ul>\n<li>added IValidatableObject interface to the header class</li>\n<li><p>added validation code</p>\n\n<p>if (this.StartDate > this.EndDate)\n            {\n                yield return new ValidationResult(\"Start Date must be prior to End Date.\", new[] { \"StartDate\" });\n            }</p></li>\n<li>when the button is pressed this code runs as expected</li>\n<li>however it doesn't stay on the index screen and display the validation message</li>\n<li>rather it goes through to the addHeader view</li>\n<li>i had expected this to work the same as the required field validation and display the validation message</li>\n</ul>\n\n<p>Is there something I'm missing here?</p>\n\n<ul>\n<li>why is this validation running, but not displaying the error message?</li>\n<li>do i need to add something to get this validation to run and remain on the page?</li>\n<li>is there a better method of doing something like this?</li>\n</ul>\n"},{"tags":["jquery","ajax","database","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":11801213,"title":"Passing data from a contoller to a contoller to a model","body":"<p>I'm making a series of quizzes for a website I'm working on and am having a bit of trouble saving the user data.  The structure is a bit odd, so that may have something to do with the problems coming up.  My quiz controllers are labelled as Quiz1, Quiz2, and so on, and load a function called Quizzer, which is listened to in jquery.  Whenever a radio button is clicked on the quiz page, jquery activates Quizzer to record the user input.  Here is the sample code:</p>\n\n<p>This is the code that loads the page:</p>\n\n<pre><code>    public function Quiz4(){\n    $this-&gt;load-&gt;view(\"site_header\");\n    $this-&gt;load-&gt;view(\"site_nav\");\n    $this-&gt;load-&gt;model(\"quiz_model\");\n    $this-&gt;data['choices'] = $this-&gt;quiz_model-&gt;get_records('quiz_4');\n    $this-&gt;load-&gt;view(\"student/quiztest\", $this-&gt;data);\n\n    $quiz = 4;\n\n    $this-&gt;Quizzer($quiz);\n\n    $this-&gt;load-&gt;view(\"site_footer\");\n}\n</code></pre>\n\n<p>The value 4 is passed to Quizzer so it knows which quiz to write to in the database.</p>\n\n<p>This is the controller Quizzer:</p>\n\n<pre><code>    public function Quizzer($qid){\n    $this-&gt;load-&gt;model(\"quiz_model\");\n    $user = $this-&gt;ion_auth-&gt;user()-&gt;row();\n    $user_id = $user-&gt;id;\n    $data = array(\n        'answer' =&gt; $this-&gt;input-&gt;post('answer')\n    );\n    $question = $this-&gt;input-&gt;post('question');\n\n            echo $qid;\n\n    $this-&gt;quiz_model-&gt;update_record($data, $user_id, $qid, $question);\n}\n</code></pre>\n\n<p>$user_id tells which user is logged in\n$data and $question identify which radio button the user clicked from which group.</p>\n\n<p>$qid should indicate which quiz page the user is on, and in the case of this test it echoed out a 4, so I know that it is picking up data, but it still won't write to the database.  I found that manually typing in 4 instead of $qid would make the function work, but the current $qid variable won't be accepted.</p>\n\n<p>This is the model function that does the saving to the database:</p>\n\n<pre><code>    function update_record($data, $uid, $quiz, $question)\n{\n    echo $quiz;\n    $this-&gt;db-&gt;where('uid', $uid);\n    $this-&gt;db-&gt;where('quiz', (int)$quiz);\n    $this-&gt;db-&gt;where('question', $question);\n    $this-&gt;db-&gt;update('quiz_results', $data);\n}\n</code></pre>\n\n<p>I tried casting $quiz to int in an attempt to get the data types to match, but this trick is not working either.\nBased on how the function behaves when I manually type in a 4 versus passing it as a variable makes it seem like it's a problem with the type of data(which is why I tried to typecast).  This has been confusing me, and any help would be appreciated.</p>\n"},{"tags":["ruby-on-rails","mvc","authentication","ruby-on-rails-3.2","railscasts"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":4161,"score":1,"question_id":9952568,"title":"undefined method `key?' for nil:NilClass","body":"<p>I'm new to Rails and was following Ryan Bate's tutorial on how to make a simple authentication system (<a href=\"http://railscasts.com/episodes/250-authentication-from-scratch?autoplay=true\" rel=\"nofollow\">http://railscasts.com/episodes/250-authentication-from-scratch?autoplay=true</a>) and I was just going through it but got this error: `</p>\n\n<pre><code>NoMethodError in UsersController#new\n\nundefined method `key?' for nil:NilClass\nRails.root: C:/Sites/authentication`\n</code></pre>\n\n<p>I don't really know what this means since I'm just a beginner, but these are my files:</p>\n\n<p>users controller:  </p>\n\n<pre><code>class UsersController &lt; ApplicationController\n  def new\n    @user = User.new\n  end\n\n  def create\n    @user = User.new(params[:user])\n    if @user.save\n        redirect_to root_url, :notice =&gt; \"Signed up!\"\n    else\n        render \"new\"\n    end\n  end\nend\n</code></pre>\n\n<p>new.html.erb:</p>\n\n<pre><code>    &lt;%= form for @user do |f| %&gt;\n&lt;% if @user.errors.any? %&gt;\n&lt;div class=\"error_messages\"&gt;\n    &lt;h2&gt;Form is invalid&lt;/h2&gt;\n    &lt;ul&gt;\n        &lt;% for message in @user.errors.full_messages %&gt;\n        &lt;li&gt;&lt;%= message %&gt;&lt;/li&gt;\n        &lt;% end %&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;% end %&gt;\n&lt;p&gt;\n    &lt;%= f.label :email %&gt;\n    &lt;%= f.text_field :email %&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;%= f.label :password %&gt;\n    &lt;%= f.password_field :password %&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;%= f.label :password_confirmation %&gt;\n    &lt;%= f.password_field :password_confirmation %&gt;\n&lt;/p&gt;\n&lt;p class=\"button\"&gt;&lt;%= f.submit %&gt;&lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>routes.rb</p>\n\n<pre><code>    Authentication::Application.routes.draw do\n  get \"sign_up\" =&gt; \"users#new\", :as =&gt; \"sign_up\"\n  root :to =&gt; \"users#new\"\n  resources :users\n end\n</code></pre>\n\n<p>user model</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n    attr_accessor :password\n    before_save :encrypt_password\n\n    validates_confirmation_of :password\n    validates_presence_of :password, :on =&gt; create\n    validates_presence_of :email\n    validates_uniqueness_of :email\n\n    def encrypt_password\n        if password.present?\n            self.password_salt = BCrypt::Engine.generate_salt\n            self.password_hash = BCrypt::Engine.hash_secrete(password, password_salt)\n    end\nend\n</code></pre>\n\n<p>I think the tutorial was made for Rails 3.1 or some version of rails 3. But I am using Rails 3.2, that might be part of the problem. But since I'm a beginner I have no idea what is going on. Could someone tell me what to do?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mvc","web-applications","architecture"],"answer_count":3,"favorite_count":6,"up_vote_count":6,"down_vote_count":0,"view_count":1001,"score":6,"question_id":7621832,"title":"Architecture more suitable for web apps than MVC?","body":"<p>I've been learning Zend and its MVC application structure for my new job, and found that working with it just bothered me for reasons I couldn't quite put my finger on.  Then during the course of my studies I came across articles such as MVC: No Silver Bullet and <a href=\"http://devzone.zend.com/article/12997\">this podcast</a> on the topic of MVC and web applications.  The guy in the podcast made a very good case against MVC as a web application architecture and nailed a lot of what was bugging me on the head.  </p>\n\n<p>However, the question remains, if MVC isn't really a good fit for web applications, what is?  </p>\n"},{"tags":["php","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":139,"score":1,"question_id":11799273,"title":"Examples of small but good PHP code to learn from","body":"<p>I was wondering where can I look for good examples of PHP code to learn more about MVC pattern and how it is implemented.</p>\n\n<p>I am not talking about frameworks or giant applications; what I am looking for is for some small codes to learn from.</p>\n\n<p>At PHP the MVC concept is not so clear... each person develops it as they want and there are no strict rules on this. I'm sure a great way to learn is just reading other people's code.</p>\n\n<p>Any idea of where I can find this kind of code?</p>\n"},{"tags":["php","html","sql","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":228,"score":1,"question_id":11780858,"title":"MVC Blog - How to include a header\\ footer\\ other.php file","body":"<p>Following this tutorial <a href=\"http://johnsquibb.com/tutorials/mvc-framework-in-1-hour-part-one\" rel=\"nofollow\">http://johnsquibb.com/tutorials/mvc-framework-in-1-hour-part-one</a> Im trying to write my first <strong>MVC</strong> Blog. </p>\n\n<p>I understood how it works, router.php Calls the suitable page controller. This controller calls the model, Then calls the View page with the returned value.</p>\n\n<p>My question is, What if I want to add to the same news.php page a header\\footer. Normally I would write \"include(\"header.php\"). But now when using MVC, how could I implement that?</p>\n\n<p>These are my files:</p>\n\n<blockquote>\n  <p>router.php:</p>\n</blockquote>\n\n<pre><code>    &lt;?php\n/**\n * This controller routes all incoming requests to the appropriate controller\n */\n//Automatically includes files containing classes that are called\n\n//fetch the passed request\n$pageURL = $_SERVER[\"SERVER_NAME\"].$_SERVER[\"REQUEST_URI\"];\n$path_parts = pathinfo($pageURL);\n$page_name = $path_parts['filename']; \n$parsed = explode('?' , $page_name);\n//the page is the first element\n$page = array_shift($parsed);\n\n// If there is any variables, GET them.\nif(!empty($parsed))\n{\n    $parsed = explode('&amp;' , $parsed[0]);\n    $getVars = array();\n    foreach ($parsed as $argument)\n    {\n        //explode GET vars along '=' symbol to separate variable, values\n        list($variable , $value) = explode('=' , $argument);\n        $getVars[$variable] = urldecode($value);\n    }\n}\n\n//compute the path to the suitable file\n$target ='controllers/' . $page . '_controller.php';\n\n//get target controller\nif (file_exists($target))\n{\n    include_once($target);\n\n    //modify page to fit naming convention\n    $class = ucfirst($page) . '_Controller';\n\n    //instantiate the appropriate class\n    if (class_exists($class))\n    {\n        $controller = new $class;\n    }\n    else\n    {\n        //did we name our class correctly?\n        die('class does not exist!');\n    }\n}\nelse\n{\n    //can't find the file in 'controllers'! \n    die('page does not exist!');\n}\n\n//once we have the controller instantiated, execute the default function\n//pass any GET varaibles to the main method\n$controller-&gt;main($getVars);\n\n\n//  AutoLoad\nfunction __autoload($className)\n{        \n    // Parse out filename where class should be located\n    // This supports names like 'Example_Model' as well as 'Example_Two_Model'\n    list($suffix, $filename) = preg_split('/_/', strrev($className), 2);\n    $filename = strrev($filename);\n    $suffix = strrev($suffix);\n\n    //select the folder where class should be located based on suffix\n    switch (strtolower($suffix))\n    {    \n        case 'model':\n\n            $folder = '/models/';\n            $filename = ($className);\n\n        break;\n\n        case 'library':\n\n            $folder = '/libraries/';\n\n        break;\n\n        case 'driver':\n\n            $folder = '/libraries/drivers/';\n\n        break;\n    }\n\n    //compose file name\n    $file = SERVER_ROOT . $folder . strtolower($filename) . '.php';\n\n    //fetch file\n    if (file_exists($file))\n    {\n        //get file\n        include_once($file);        \n    }\n    else\n    {\n        //file does not exist!\n        die(\"File '$filename' containing class '$className' not found in\n'$folder'.\");    \n    }\n}\n\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>post_controller.php</p>\n</blockquote>\n\n<pre><code>&lt;?php\n    /**\n     * This file handles the retrieval and serving of posts posts\n     */\n    class Posts_Controller\n    {\n        /**\n         * This template variable will hold the 'view' portion of our MVC for this \n         * controller\n         */\n        public $template = 'posts';\n\n        /**\n         * This is the default function that will be called by router.php\n         * \n         * @param array $getVars the GET variables posted to index.php\n         */\n        public function main(array $getVars)\n        {\n            //$b_controller =new  Bottom_Bar_Controller;\n            //$b_controller-&gt;main($getVars);\n\n            $postsModel = new Posts_Model;\n\n            //get an post\n            $post = $postsModel-&gt;get_post($getVars['id']);\n            //create a new view and pass it our template\n            $header = new View_Model('header_template');\n            $bottom_bar = new View_Model('bottom_bar');\n            $view = new View_Model($this-&gt;template);\n\n\n            //assign post data to view\n            $view-&gt;assign('header', $header-&gt;render(FALSE));\n            $view-&gt;assign('bottom', $bottom_bar-&gt;render(FALSE));\n            $view-&gt;assign('title' , $post['title']);\n            $view-&gt;assign('content' , $post['content']);\n            $view-&gt;assign('date' , $post['date']);\n            $view-&gt;assign('by' , $post['added_by']);\n            $view-&gt;render();\n\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>posts_model.php</p>\n</blockquote>\n\n<pre><code>&lt;?php\n/**\n * The Posts Model does the back-end heavy lifting for the Posts Controller\n */\nclass Posts_Model\n{\n    /**\n     * Holds instance of database connection\n     */\n    private $db;\n\n    public function __construct()\n    {\n        $this-&gt;db = new MysqlImproved_Driver;\n    }\n\n    /**\n     * Fetches article based on supplied name\n     * \n     * @param string $author\n     * \n     * @return array $article\n     */\n    public function get_post($id)\n    {        \n        //connect to database\n        $this-&gt;db-&gt;connect();\n\n        //sanitize data\n        $author = $this-&gt;db-&gt;escape($id);\n\n        //prepare query\n        $this-&gt;db-&gt;prepare\n        (\n            \"\n            SELECT *  FROM `posts`\n            WHERE\n                `id` = '$id'\n            LIMIT 1\n            ;\n            \"\n        );\n\n        //execute query\n        $this-&gt;db-&gt;query();\n\n        $article = $this-&gt;db-&gt;fetch('array');\n\n        return $article;\n    }\n\n}\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>view_model.php</p>\n</blockquote>\n\n<pre><code>&lt;?php\n/**\n * Handles the view functionality of our MVC framework\n */\nclass View_Model\n{\n    /**\n     * Holds variables assigned to template\n     */\n    private $data = array();\n\n    /**\n     * Holds render status of view.\n     */\n    private $render = FALSE;\n\n    /**\n     * Accept a template to load\n     */\n\n\n    public function __construct($template)\n    {\n\n        //compose file name\n        $file = SERVER_ROOT . '/views/' . strtolower($template) . '.php';\n\n\n        if (file_exists($file))\n        {\n\n            /**\n             * trigger render to include file when this model is destroyed\n             * if we render it now, we wouldn't be able to assign variables\n             * to the view!\n             */\n            $this-&gt;render = $file;\n\n\n        }        \n    }\n\n    /**\n     * Receives assignments from controller and stores in local data array\n     * \n     * @param $variable\n     * @param $value\n     */\n    public function assign($variable , $value)\n    {\n        $this-&gt;data[$variable] = $value;\n    }\n\n    /**\n     * Render the output directly to the page, or optionally, return the\n     * generated output to caller.\n     * \n     * @param $direct_output Set to any non-TRUE value to have the \n     * output returned rather than displayed directly.\n     */\n    public function render($direct_output = TRUE)\n    {\n\n        // Turn output buffering on, capturing all output\n        if ($direct_output !== TRUE)\n        {\n            ob_start();\n        }\n\n        // Parse data variables into local variables\n        $data = $this-&gt;data;\n\n        // Get template\n        include($this-&gt;render);\n\n        // Get the contents of the buffer and return it\n        if ($direct_output !== TRUE)\n        {\n            return ob_get_clean();\n        }\n    }\n\n    public function __destruct()\n    {\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>posts.php</p>\n</blockquote>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;link href=\"../style/style.css\" rel=\"stylesheet\" type=\"text/css\" media=\"screen\" /&gt;  \n&lt;title&gt; Posts (View)&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n       &lt;div id=\"main\"&gt;\n        &lt;div class=\"container\"&gt;\n        &lt;?=$data['header'];?&gt;\n            &lt;div id=\"content\"&gt;  \n                &lt;div class=\"content-background\"&gt;\n                &lt;h2&gt; &lt;?=$data['title'];?&gt;&lt;/h2&gt;\n                &lt;h4&gt; &lt;?=$data['date'];?&gt; &lt;/h4&gt;\n                &lt;p&gt;&lt;?=$data['content'];?&gt;&lt;/p&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n         &lt;/div&gt;\n        &lt;/div&gt;\n\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":11789126,"title":"Controller in ASP.NET MVC3 like CodeIgniter in PHP","body":"<p>I am new in ASP.NET MVC3 and I need to know something about it. </p>\n\n<p>Could I make the controller playing / structure like <a href=\"http://codeigniter.com/\" rel=\"nofollow\">Code Igniter</a>. </p>\n\n<p>Example : \nThe Controller Folder : Employee and I make the Controller File Like : </p>\n\n<ul>\n<li>SalaryController.cs  </li>\n<li>EmployeeController.cs</li>\n<li>AbsenceController.cs</li>\n</ul>\n\n<p>I could inject the url like this : <a href=\"http://mysite.com/mymvcapp/EmployeeControllerFolder/MyController/RouteValue\" rel=\"nofollow\">http://mysite.com/mymvcapp/EmployeeControllerFolder/MyController/RouteValue</a>.. </p>\n\n<p>Could I make it?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":11755117,"title":"ASP.NET MVC access of child entities on custom membership provider","body":"<p>I am in the process of learning ASP.NET MVC 3 and I have come across a situation that I am unsure of how to proceed when using the MVC pattern. My question name might not explain the situation correctly, but I will give as much detail as possible below.</p>\n\n<p>Basically I am using EF to connect to an existing database to access Users and Roles that I have implemented in a custom MembershipProvider and RoleProvider. The User entity has a collection of Customer entities (that also maps to the database) which I can use to access most other parts of my application.</p>\n\n<p>I'm using the Visual Studio MVC 3 template as a starting point and got the login system working with my custom providers. What I would like to achieve is to add a new tab that will return a list of the Customer entities for the currently logged in user. I understand how to make a RouteLink to a method in a controller, but I'm not sure how access the Customer entities from the logged in User entity, mainly due to not having access to the given User once the login has succeeded.</p>\n\n<ol>\n<li>Do I need to create a UserController that can somehow be initialised as the currently logged in User?</li>\n<li>Do I need to extend my CustomerController that again can be filtered somehow with the logged in User's child Customers?</li>\n<li>Should I be returning a simple View from a controller or a specialised ViewModel?</li>\n<li>None of the above!</li>\n</ol>\n\n<p>I would greatly appreciate any help that you can give me.</p>\n\n<p>Thanks,</p>\n"},{"tags":["c#","mvc","view"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":236,"score":0,"question_id":10486329,"title":"Clean way to return an empty mvc partial view","body":"<p>In cshtml file, based on a condition, what's the best way to return an empty partialview ?</p>\n\n<p>Right now I have:</p>\n\n<pre><code>@if(Model.Count() &gt; 0)\n{\n  loooonng partial view block of markup code\n}\n</code></pre>\n\n<p>How can I re-do it to look cleaner closer to this:</p>\n\n<pre><code>@if(Model.Count() == 0)\n{\n  render an empty partial view\n}\n\n  loooonng partial view block of markup code goes here   &lt;- This will obviously get executed only if Model.Count() &gt; 0\n</code></pre>\n\n<p>Thanks in advance !</p>\n"},{"tags":["php","mvc","codeigniter","models"],"answer_count":7,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":4162,"score":5,"question_id":2149321,"title":"Why does Code Igniter give me a white page?","body":"<p>Hey, not sure why CodeIgniter is giving me a blank page when I load a simple model. I'm breaking the code down, backwards, and I can't figure out what's breaking. Here's the controller:</p>\n\n<pre><code>class Leads extends Controller {\n\nfunction Leads() {\n    parent::Controller();\n    $this-&gt;load-&gt;scaffolding('leads');\n  }\n\nfunction index() {\n    $data = array( 'title' =&gt; 'Lead Management' );\n\n    $this-&gt;load-&gt;view('html_head', $data);\n    $this-&gt;load-&gt;view('leads/home');\n    $this-&gt;load-&gt;view('html_foot');\n\n  }\n\nfunction view() {\n    $this-&gt;load-&gt;model('Leads');\n    $this-&gt;load-&gt;view('html_head');\n    $this-&gt;load-&gt;view('leads/view');\n    $this-&gt;load-&gt;view('html_foot');\n  }\n\n}\n</code></pre>\n\n<p>Here's the model:</p>\n\n<pre><code>class Leads extends Model {\n\nfunction Leads()    {\n    parent::Model();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The only way I don't get a white page on /view is if I comment out the loading of the model. I have absolutely no idea what I'm doing wrong, I'm copying the examples and structure literally right off the CI site.</p>\n"},{"tags":["php","forms","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":325,"score":0,"question_id":9762335,"title":"Multiple forms views in code igniter","body":"<p>I have a Controller named <code>Author</code>. Inside the controller, I have defined a submit function that takes care of the 3-step form process. Right now I have only created the first form.</p>\n\n<pre><code>class Author extends CI_Controller {\n\n    public function index() {\n    }\n\n    public function submit() {  \n        $this-&gt;load-&gt;view('author/submit_step1');\n    }\n\n}\n</code></pre>\n\n<p>The form1 that is loaded in the view points to the URL (action)</p>\n\n<pre><code>http://localhost/zabjournal/Author/submit/2\n</code></pre>\n\n<p>My objective is to save the values of the first form to a database, and then load the 2nd form. </p>\n\n<p>Given the action of the form, How should I design the controller so that I can access a model and save the details of the first form, and then load the view for the 2nd form.</p>\n"}]}
{"total":14105,"page":16,"pagesize":100,"questions":[{"tags":["ruby-on-rails","asp.net-mvc","django","mvc","cakephp"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":78,"score":1,"question_id":11785981,"title":"View Driven MVC","body":"<p>I'm looking for a framework that can support a theory I have for MVC. It needs to support the idea of \"View\" driven requests and uses the same concept as MVC in having separate view, controller, and model logic.</p>\n\n<p>Perhaps this is similar to MVVM, but I only understand that to be a GUI/Application builder, and not really used for web applications, html, JavaScript, etc.</p>\n\n<p>My main experience of MVC has been CakePHP, with a little of CodeIgnighter, .NET MVC, Django, and RoR.</p>\n\n<p>The concept works where you have any request handlers which wrap the output of any controller. These handlers would be:</p>\n\n<ul>\n<li>Full Page </li>\n<li>Widget / Partial page</li>\n<li>Ajax </li>\n<li>REST</li>\n<li>XML</li>\n<li>Whatever</li>\n</ul>\n\n<p>Now, traditionally, with MVC, the request is sent to the Controller, which then sends to it View. Then the master layout for the View renders other portions of code to produce the rest of the page. This may involve widgets and calls to controllers for data.</p>\n\n<p>The challenge here is standardising development of code. With MVC, the concept of rendering a block of HTML is different between a widget and a controller (unless you use controllers to fully handle the rendering of the widget). Further to this, if you want your controller to respond to an AJAX request, you need to build that logic in. If you use controllers to render all your widgets, then this could impact performance.</p>\n\n<p>The concept I am after is a request wrapper which handles how and where the response from the controller goes. This way one can write lighter controllers which just simply receive an instruction and return data (not a rendered view). This way a single controller action would automatically be able to respond to a Page, Widget, Ajax, REST, XML, or any type of request received (security allowing of course), without any adjustment to the controller/action code.</p>\n\n<p>Rendering a widget would go to the View, which calls the Widget request handler and asked for a Controller/Action, gets an object response, and renders it back to whoever called it (a Page request, or a client requesting an updated widget).</p>\n\n<p>The end result would be lighter controllers and heavier request handlers for all the external and internal requests.</p>\n\n<p>Does anyone have any suggestions on what frameworks would support this?</p>\n"},{"tags":["objective-c","xcode","mvc","controller","segue"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":11790606,"title":"Segue from tableView to UIImage","body":"<p>Hi I have a tableViewController with cells and I want it to segue to a picture when you click the cell. Considering the MVC design Pattern would it be recommended to create a new viewcontroller for the imageView or would the tableViewController be able to handle the information? Thanks</p>\n"},{"tags":["mvc","cakephp","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":11785404,"title":"Is the latest version of CakePHP able to send heavy data from one controller to another?","body":"<p>Suppose I have a form (MY_FORM) inside a view rendered by CONTROLLER_0 wich has more forms. The action of MY_FORM is handled by CONTROLLER_1.</p>\n\n<p>If I submit MY_FORM and one of the models that deals with it triggers some validation errors, I try to redirect to my original view/layout.</p>\n\n<p>This redirect would switch the current controller from CONTROLLER_1 to CONTROLLER_0.</p>\n\n<p>Here is my problem.. I want to get those validationErrors from one controller to another in order to be able to print them next to the coresponding inputs.</p>\n\n<p>Can this be done ? If not in this way, how otherwise, while keeping this behavior of the app, or at least the appereance?</p>\n\n<p>Thank you!</p>\n"},{"tags":["javascript","jquery","mvc","jquery-selectors"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":240,"score":1,"question_id":11789683,"title":"JQuery multiply input values of table rows","body":"<p>I want to calculate each row's total price by multiplying individual row's inputs and then finally calculate a grand total by adding all the total values of the Total column using JQuery. I am only getting the first row to display total when I enter values. Any help will be greatly appreciated.   </p>\n\n<pre><code>     &lt;script type=\"text/C#\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n         $(document).ready(function () {\n            $(\".txtMult\").each(function () {\n                $(this).keyup(function () {\n                    multInputs();\n                });\n            });\n           });\n\n           function multInputs() {\n               var mult = 0;\n               $(\".txtMult\").each(function () {\n                   var $val1 = $('#val1').val();\n                   var $val2 = $('#val2').val();\n                   var $total = ($val1 * 1) * ($val2 * 1)\n                   $('#multTotal').text($total);\n               });\n           }\n\n    &lt;/script&gt;\n    @using (@Html.BeginForm())\n    {\n        &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;\n                Quanity\n            &lt;/th&gt;\n            &lt;th&gt;\n                Unit Price\n            &lt;/th&gt;\n            &lt;th&gt;\n                Total\n            &lt;/th&gt;\n        &lt;/tr&gt;\n        @for (int i=0; i &lt; 5; i++)\n        {\n\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;input class =\"txtMult\" name=\"txtEmmail\" id=\"val1\"  /&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input class =\"txtMult\" name=\"txtEmmail\" id=\"val2\"/&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;span id=\"multTotal\"&gt;0.00&lt;/span&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n    }\n&lt;tr&gt;\n    &lt;td colspan=\"3\" align=\"right\"&gt;\n        Grand Total# &lt;span id=\"grandTotal\"&gt;0.00&lt;/span&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n    &lt;/table&gt; \n    }\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/sbyZ9.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["spring","mvc","jsp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":480,"score":0,"question_id":11789409,"title":"Sending parameters from JSP to spring controller","body":"<p>I am developing a web app using spring MVC. I am passing the parameters from JSP to spring controller in the below format. Like I have to pass two parameters so I am doing</p>\n\n<pre><code>&lt;a href=\"/spring.html?data1=&lt;%=data1 %&gt;?data2=&lt;%=data2 %&gt;\"&gt; Hello &lt;/a&gt;\n</code></pre>\n\n<p>My assumption is that in the spring controller, I can receive the output as the following </p>\n\n<pre><code>data1= request.getAttribute(\"data1\");\ndata2= request.getAttribute(\"data2\");\n</code></pre>\n\n<p>Is this the correct way to pass the parameters . I have dry run my code many times still my pages gives null pointer so I doubt whether it is because of this . Could you ppl please let me know about this. Thank you.</p>\n"},{"tags":["javascript","mvc","backbone.js","datamapper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":11780659,"title":"Backbone data mapping","body":"<p>For mapping my backbone models to what I get from the server I am using a technique described on the GroupOn Dev blog: <a href=\"https://engineering.groupon.com/2012/javascript/extending-backbone-js-to-map-rough-api-responses-into-beautiful-client-side-models/\" rel=\"nofollow\">https://engineering.groupon.com/2012/javascript/extending-backbone-js-to-map-rough-api-responses-into-beautiful-client-side-models/</a></p>\n\n<p>However, this only maps incoming data to the model.</p>\n\n<p>I would like this to go both ways, so that when I save a model, it prepares the models attributes to match the servers model.</p>\n\n<p>What would be the best solution to prepare the output of the model?</p>\n"},{"tags":["php","mysql","mvc","domain-driven-design","scalability"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":372,"score":2,"question_id":11787392,"title":"How design web app for scalability later when can't afforf now (and not yet needed)?","body":"<p>We're developing a web app that's starting pretty small and could easily be PHP+MySQL all on the same server to start. But eventually (a few years down the road), we hope it'll be used/wanted enough to require scalability (so page/data caching, multiple web servers/databases, etc). Given that we don't have the time or budget to do that now, how could we design and implement  this so that eventually moving to that would be possible without completely changing the application and tons of recoding? Is this possible?</p>\n\n<p>Any suggestions are helpful even if they're \"small\" specific things like \"use stored procedures (or don't),\" \"look at x-y-z for index building in databases,\" or architecture based or whatever.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mvc"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":212,"score":2,"question_id":3503286,"title":"Is this a correct way of using MVC in java?","body":"<p>I have a model with a reference to the view, a controller with references to the model and view, and a decoupled view, with no references to the above.</p>\n\n<p>The controller has all the listeners of the view, and takes care of events by calling methods on the model and view. The model calls methods on the view in some of it's methods.</p>\n\n<p>Is this bad for maintenance and reuse and should all view methods be called only in the controller? Also, i haven't set up the model as the observable and the controller and view(s) as observators, as seen in some examples. Is this common practice to do so?</p>\n"},{"tags":["objective-c","xcode","mvc","segue"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11787075,"title":"Segue a UItableView to another UITableView","body":"<p>I am unsure about what exactly you must keep separate when you have a multiple MVC project. Say I have two table view controllers, the first one displays a table and when i click on a cell it segues to the second table view controller. The information for the tables is created using methods in a third separate file called FlickrFetcher. The first table View has an instance created of FlickrFetcher allowing it to call the methods. Would I be allowed to import FlickrFetcher into the second table View controller too or am I supposed to keep these controllers separate and only pass the needed information via segue? </p>\n"},{"tags":["mvc","drop-down-menu","model","enumeration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":11784025,"title":"Html.DropDownListFor - populating a list corresponding to a model property while enumerating over the base model?","body":"<p>I was trying to populate a drop down list in a view which led me to:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5688910/asp-net-mvc-dropdownlistfor-with-model-of-type-liststring\">ASP.NET MVC DropDownListFor with model of type List&lt;string&gt;</a></p>\n\n<p>The solution out there works well. So now I have a \"Create new project\" view that takes in a \"Project\" model, and my model has, among other things:</p>\n\n<pre><code> public int projectPrimaryEmployeeID\n    {\n        get\n        { return _projectPrimaryEmployeeID; }\n        set\n        {\n            _projectPrimaryEmployeeID = value;\n        }\n    }\n\n    public IEnumerable&lt;SelectListItem&gt; employeeList { get; set; }\n</code></pre>\n\n<p>In my GET action result, I am populating the employeeList with items from the database, and the drop down populates fine.</p>\n\n<p>But now I have a view that enumerates over my model (a listing of all projects) and for each project, I need to display the pull down showing the list of employees over and over..</p>\n\n<p>My \"Show all projects\" view has:</p>\n\n<pre><code>@model IEnumerable&lt;MVCCodeProject.Models.project&gt;\n</code></pre>\n\n<p>..in which I am saying:</p>\n\n<pre><code>@Html.DropDownListFor(modelItem =&gt; item.projectPrimaryEmployeeID, new     SelectList(Model.employeeList, \"Value\", \"Text\"))\n</code></pre>\n\n<p>But I get an error:</p>\n\n<pre><code>'System.Collections.Generic.IEnumerable&lt;MVCCodeProject.Models.project&gt;' does not contain a definition for 'employeeList' and no extension method 'employeeList' accepting a first argument of type 'System.Collections.Generic.IEnumerable&lt;MVCCodeProject.Models.project&gt;' could be found (are you missing a using directive or an assembly reference?)\n</code></pre>\n\n<p>So seems like while enumerating over the model, the route to take to display the pull downs is probably a little different, any help?</p>\n"},{"tags":[".net","asp.net","mvc","asp.net-mvc-2","code-generation"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":389,"score":1,"question_id":2645701,"title":"advise how to implement a code generator for asp.NET mvc 2","body":"<p>I would like your advice about how best to solve my problem.</p>\n\n<p>In a Web server is running. NET Framework 4.0. Whatever the methods and technologies you would advise me. applications built on the basis Asp.NET MVC 2.</p>\n\n<p>I have a database table in MS SQL Server. For each table in database, I must implement the interface for viewing, editing, and deleting. So code generator must generate <strong>model, controller and views.</strong>. Generation should happen after clicking on the button in WEB UI.\nas <strong>Model</strong> I use .NET Entity Framework.</p>\n\n<p>Now, I need to generate controllers and views.</p>\n\n<p>So if i have a table with name <strong>tableN1</strong>. and below its colums:</p>\n\n<ul>\n<li>[ID] [bigint] IDENTITY(1,1) NOT NULL,</li>\n<li>[name] [nvarchar 20] NOT NULL,</li>\n<li>[fullName] [nvarchar 50] NOT NULL,</li>\n<li>[age] [int] NOT NULL</li>\n<li>[active] [bit] NULL</li>\n</ul>\n\n<p>agree: if the type bit, then generate a checkbox.\nnvarchar (20) - textbox\nnvarchar (max)-textarea and so on.</p>\n\n<p>for this table, i want to generate views and controller. thanks.</p>\n\n<p>PS. solution for this problem must be <strong>FREE</strong></p>\n"},{"tags":["objective-c","xcode","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":104,"score":3,"question_id":11785229,"title":"Xcode - Is this MVC?","body":"<p>I'm a part-time notepad website coder taking steps into IOS apps. I got my first mac last week and have cobbled together a half working app. Now, convinced by this <a href=\"http://stackoverflow.com/a/2443020/781200\">SO answer</a>, I am restarting trying to learn MVC. I am on a very steep learning curve so please bear with me.</p>\n\n<p>I have read up on MVC, separation of layers, three boxes and some arrows, I get it. However, translating the theory into the real world is frustrating. Most example apps I have looked at do not seem to use MVC. Even this <a href=\"http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html\" rel=\"nofollow\">LazyTableImages example</a> from Apple seems to use <code>app delegate</code> as the model which confuses me. I have built on this excellently <a href=\"http://fromideatoapp.com/downloads/example/\" rel=\"nofollow\">simple MVC example</a>.</p>\n\n<p>My app retrieves location markers from a web service. I have a tabbed application using ARC. One tab has a Mapkit map to display the markers.</p>\n\n<p>A simple class to hold a marker record:</p>\n\n<pre><code>@interface MarkerRecord : NSObject\n\n@property (strong, nonatomic) NSDecimalNumber *lat;\n@property (strong, nonatomic) NSDecimalNumber *lon;\n@property (strong, nonatomic) NSString *des;\n</code></pre>\n\n<p>A Model class, holding a collection of Marker classes, to serve both views. This is my Model class .h:</p>\n\n<pre><code>@interface MarkersModel : NSObject\n\n- (void)getMarkers; // Send HTTP GET to web service to retrieve JSON markers\n- (void)postMarker; // Send HTTP POST to web service to INSERT new marker record\n</code></pre>\n\n<p>And the implementation:</p>\n\n<pre><code>@interface MarkersModel ()\n@property (strong, nonatomic) NSArray *data;\n@end\n\n@implementation MarkersModel\n@synthesize data;\n\n- (void)getMarkers\n{\n    // Send HTTP GET to web service to retrieve JSON markers\n    ...\n}\n\n- (void)objectLoader:(RKObjectLoader *)objectLoader didLoadObjects:(NSArray *)objects\n{\n    // Thanks to Restkit data is an array of Marker classes\n    data = objects;\n\n    // Pass data to controller\n\n}\n</code></pre>\n\n<p>A mapViewController class .h:</p>\n\n<pre><code>#import &lt;MapKit/MapKit.h&gt;\n#import \"MarkersModel.h\"\n\n@interface MapViewController : UIViewController&lt;MKMapViewDelegate&gt; {\n    MarkersModel *markersModel;\n}\n\n@property (nonatomic, strong) IBOutlet MKMapView *mapView;\n\n@end\n</code></pre>\n\n<p>And the implementation:</p>\n\n<pre><code>@interface MapViewController ()\n@end\n\n@implementation MapViewController\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Create instance of markers model\n    markersModel = [[MarkersModel alloc] init];\n}\n\n-(void)viewWillAppear:(BOOL)animated\n{\n    [markersModel getMarkers];\n}\n\n- (void)putMarkersOnMap\n{\n    // To be called by Markers Model \n    ...\n}\n</code></pre>\n\n<p>Here's my main question:</p>\n\n<ul>\n<li>Is my code outline above (the beginnings of) a decent MVC implementation?</li>\n</ul>\n\n<p>If so:</p>\n\n<ul>\n<li>how do I get the Model to update the Controller ( i.e. how do I get MarkersModel.objectLoader function to call mapViewController.putMarkersOnMap)?</li>\n</ul>\n\n<p>I strongly suspect the answer is a custom delegate on the controller but I cannot for the life of me see how to implement it. I cannot relate any examples to my situation. I think I need something like this on the controller:</p>\n\n<pre><code>@class MapViewController;\n@protocol MapViewControllerDelegate;\n</code></pre>\n\n<p>While I am at it some additional questions:</p>\n\n<ul>\n<li>Will I create any dangling pointers - I suspect something should be <code>unsafe_unretained</code> (I am compiling to 4.3)?</li>\n<li>Is my MarkersModel declaration in the controller class correct? I am concerned that it will not be managed by ARC. I also suspect it is public but should be private.</li>\n<li>Should the MarkersModel.getMarkers method be static?</li>\n</ul>\n\n<p>I hope this is clear and an acceptable question. Thanks for your patience, Polly.</p>\n"},{"tags":["javascript","mvc","event-delegation","module-pattern"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":11740467,"title":"How to extend event delegation in javascript with module pattern?","body":"<p>I am using module pattern in JavaScript. I have a file say controller.js which handles events. The problem is I want to use sub-modules. But since the events are handled in the controller.js how will I handle the event in the sub-module if any arises?<br>\nI dispatch a custom event called <code>PAGE_DISPLAYED</code> from another file say view.js. This event is listened by the controller.js and depending on the displayed page, it does other things, like binding additional event handler specific to that particular page. How to do this using sub-modules.  </p>\n\n<p>Sample code:</p>\n\n<pre><code>window.KDJ || (window.KDJ = {});    //namespace\nKDJ.controller = (function () {\n    $(document).off('PAGE_DISPLAYED');\n    $(document).on('PAGE_DISPLAYED', function (e, data) {\n    switch(data.pageId) {\n    case \"page1\":\n        // do something..\n        break;\n    case \"page2\":\n        // do something..\n        break;\n    }\n    });\n\n    return {\n        // exported methods and props..\n    };\n})();\n</code></pre>\n\n<p>How can I extend the above code and the event delegation? Or is the code architecture posing any restrictions.</p>\n\n<p>I am using jQuery Mobile and dispatching the <code>PAGE_DISPLAYED</code> event is done by listening to <code>pagechange</code> event:</p>\n\n<pre><code>window.KDJ || (window.KDJ = {});    //namespace\nKDJ.view = (function () {  \n    // ...\n    $(document).off('pagechange');\n    $(document).on('pagechange', function (e, ui) {\n        //...\n        $(document).trigger(PAGE_DISPLAYED, {'pageId': loadedPageId, 'key': key});\n    });\n})();\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":11771757,"title":"How to get Controller Name and its properties in another class?","body":"<p>I am developing a MVC application.\nI want to send a controller for validating purpose to Validation class.\nThat class will validate the controllers properties and send the result.\nI am not gettting, how to get name and properties of the controller after \ngetting it in class. </p>\n\n<p>Below code is the Controller class code and I send this controller to class named validation class.</p>\n\n<pre><code>[HttpPost]\n    public ActionResult Create(Location location)\n\n    {\n        if (ModelState.IsValid)\n        {\n            Validations v = new Validations();\n            Boolean ValidProperties = true;\n\n            //Sends the controller to Validation class\n            v.ValidProperty(this);\n\n\n\n             if (ValidProperties == true)\n             {\n                 db.Locations.Add(location);\n                 db.SaveChanges();\n                 return RedirectToAction(\"Index\");\n\n             }\n\n\n        }\n     }         \n</code></pre>\n\n<p>And Below code is the class named Validations where I want to validate the controller .</p>\n\n<p>Now I am not getting how to get the name of controller and its properties. </p>\n\n<pre><code>  public class Validations\n{\n   string PropertName;\n\n\n\n\n    public void  ValidProperty(Controller ctr)\n    {\n\n        var name1 = ctr;\n\n\n        string s = ctr. ????????\n        //How to get Controller Name and its properties ? \n\n\n    }\n }\n</code></pre>\n"},{"tags":["mvc","backbone.js","underscore.js"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":11750242,"title":"Backbone get/path/undefined however it does work","body":"<p>I have created a simple backbone app. It contains a router with route call post.</p>\n\n<p>So when i open my localhost/app/#post my router calls a the method \"post\" which will create a new view.</p>\n\n<pre><code>var newView = new PostView();\n</code></pre>\n\n<p>This works fine when i open a page using #post, view loads etc. However my console give the following error: </p>\n\n<pre><code>GET http://localhost/app/undefined 404 (not found)    jquery.min.js:4\n</code></pre>\n\n<p>Thanks!</p>\n\n<p>*update</p>\n\n<pre><code>var PostView = Backbone.View.extend({\ninitialize: function(){\n    this.render();\n},\nrender: function(title, imgsrc, text){\n    var test = { title : title, imgsrc : imgsrc, text : text };\n    var template = _.template( $(\"#post_temp\").html(), test );\n    $(this.el).html( template );\n}\n</code></pre>\n\n<p>});</p>\n\n<pre><code>var AppRouter = Backbone.Router.extend({\nroutes: {\n    \"post\" :                \"post\",\n    \"*actions\" :            \"defaultRoute\"\n},\npost: function() {\n    var new_view = new PostView({ el: $(\"#output\") }).render(\"title\",\"img\",\"test\");\n},\ndefaultRoute: function(actions) {\n    console.log(actions);\n}\n</code></pre>\n\n<p>});</p>\n\n<p>Thats the code I used</p>\n\n<p>UPDATE: Error from console</p>\n\n<p>GET file://localhost/Users/nielsdebruin/Desktop/SyncFolders/MobielApp/MobileWebApp/undefined</p>\n\n<p>jquery.min.js:4<br>\nf.fn.extend.html jquery.min.js:4<br>\ne.extend.access jquery.min.js:2<br>\nf.fn.extend.html jquery.min.js:4<br>\nBackbone.View.extend.render app.js:37<br>\nBackbone.View.extend.initialize app.js:32<br>\ng.View backbone-min.js:33<br>\nd backbone-min.js:38<br>\nBackbone.Router.extend.post app.js:57<br>\nf.extend.route backbone-min.js:26<br>\nf.extend.loadUrl backbone-min.js:32<br>\nb.some.b.any underscore-min.js:14<br>\nf.extend.loadUrl backbone-min.js:31<br>\nf.extend.checkUrl backbone-min.js:31<br>\nf.event.dispatch jquery.min.js:3<br>\nf.event.add.h.handle.i<br></p>\n"},{"tags":["spring","mvc","java-ee","spring-mvc","web"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":11776319,"title":"Spring Views - Combining elements into views","body":"<p>Currently, in our deployment we have a abstract type Component which represents a part of our Page, basically an element such as a Question, which can have multiple choice, a text box or any other form of answering it, or a Video that users can play, basically a shard of a page that is interchangeable, basically, our design was to have a specific area in our website which would be rendered through a list of Components, we tried at first to have each \"Page\" object have a List of Components, and each Component would have a method render that would return a Spring View, we thought we could iterate over the list and somehow mash the views together.</p>\n\n<p>We also tried using XSTLViews with no more success, it seems to be more of a design problem and our abuse of the way Spring MVC should be used.</p>\n\n<p>We will really be glad to receive any advice/tips/corrections about how to do it right and maybe some corrections about misconceptions we might have. </p>\n"},{"tags":["java","mvc","design-patterns"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":11746461,"title":"Avoid changes propagation","body":"<p>First of all sorry for my bad English :D\nRecently I'm studying more deeply Design Patterns because of an exam of Software Engineering and I have to design a software system as a project for this exam.</p>\n\n<p>There is a problem that I cannot handle with: how to decouple entity classes (which represents the data of my application domain) from... everything else!</p>\n\n<p>I mean, being more concrete, that if I have a class Patient (with its own private attributes and public getter and setter methods), this is an entity class, I think that so far I got it right :D</p>\n\n<p>So let's say that I choose to design my program using the MVC pattern architecture, the class Patient will be in the Model, is that correct?</p>\n\n<p>Now, every view that deals with that class, will have a reference to it: lets say I have three views: the first one to view all patients, another one to modify a patient, and the last one to register a new patient (actually there will be other classes in which I should present some reports, but I think this is irrelevant now).</p>\n\n<p>Each one of these classes will know the structure of Patient in order to show its data, e.g. they will call its getter methods and show the data in some way.</p>\n\n<p>I think that there is no way to avoid this, since a view is semantically tied to the data (=model) it has to show: I mean that it has to know whether a data is a string, a date or an integer and it has to know also its semantics (what it represents in the real world); so I think that doesn't make much sense just removing references to the class Patient.</p>\n\n<p>Now the heart of the problem is:\nHow to prevent that a change in the class Patient propagates to all classes (not only views) that uses it?</p>\n\n<p>I mean: let's say that the attribute String Cellular changes in String[] Cellular because of a change in the requirements. I will have to modify:\n1) DB / DB interfaces\n2) Patient class\n3) (worst of all) every class that uses Patient!!</p>\n\n<p>How to avoid this?\nI think that in a good project a change in a single class should not propagate in a chain of changes to all modules that uses that class, but I'm a beginner and I can't think of a way to prevent this.</p>\n\n<p>I can't even think of a good way to use a stable interface for entity classes, since a change in the requirements will reflect in a change to the interfaces (and I don't think that interfaces are meant to be changed!).</p>\n\n<p>Please help!!</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":11776466,"title":"Why can't I bind my ObjectSet to my ASP.NET MVC list view?","body":"<p>I am developing mvc application related movie. \nI am trying to search the name of movie.</p>\n\n<p>Its giving an error : </p>\n\n<blockquote>\n  <p>The model item passed into the dictionary is of type\n  'System.Data.Objects.ObjectSet<code>1[MvcMovie.Movie]', but this dictionary\n  requires a model item of type \n  'System.Collections.Generic.IEnumerable</code>1[MvcMovie.Models.Movie]'.</p>\n</blockquote>\n\n<p>below is the searchIndex method code of Movie controller. </p>\n\n<pre><code>   public ActionResult SearchIndex(string searchString)\n    {\n        var movies = from m in db.Movies select m;\n\n        if (!string.IsNullOrEmpty(searchString))\n        {\n            movies = movies.Where(s =&gt; s.Title.Contains(searchString));\n\n        }\n\n        return View(db.Movies);\n  }\n</code></pre>\n\n<p>And Below code of View page</p>\n\n<pre><code>@model IEnumerable&lt;MvcMovie.Models.Movie&gt;\n\n@{\nViewBag.Title = \"SearchIndex\";\n</code></pre>\n\n<p>}</p>\n"},{"tags":["python","django","mvc","pdf"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":11779246,"title":"How to show a PDF file in a Django view","body":"<p>Is it possible to show a PDF file <em>in</em> the Django view, rather than making the user have to download it to see it?</p>\n\n<p>And if it is possible, how would it be done?</p>\n\n<p>This is what I have so far - </p>\n\n<pre><code>@login_required\ndef resume(request, applicant_id):\n\n  #Get the applicant's resume\n  resume = File.objects.get(applicant=applicant_id)\n  fsock = open(resume.location, 'r')\n  response = HttpResponse(fsock, mimetype='application/pdf')\n\n  return response\n</code></pre>\n"},{"tags":["php","arrays","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":11770104,"title":"CMS Routing in MVC","body":"<p>I am creating my own MVC framework in php as a means to learn more advanced programming. I've got the framework up and running however I have an issue regarding the current routing method. I want the framework to support a backend cms to compliment the front end website. The issue is that my routing structure works like so - <code>mywebsite.com/controller/method/id</code>\nThe routing engine sorts the information into an array like this </p>\n\n<pre><code>segments 0 =&gt; controller, 1 =&gt; method, 2 =&gt; id\n</code></pre>\n\n<p>Right now if I visit mywebsite.com/projects it takes me to what I have set up as an admin page. Not only do I want this to be accessible only from mywebsite.com/admin/projects, I want the mywebsite.com/projects to take me to frontend. </p>\n\n<p>So if I want to visit <code>mywebsite.com/projects</code> I'd like it to render the \"front\" controller, pushing \"projects\" into the method. If I visit <code>mywebsite.com/admin/projects</code> I'd like it to load the projects controller.</p>\n\n<p>Here's the current routing class in whole as follows.</p>\n\n<pre><code>&lt;?php\n\nclass Request {\n\n    //url domain.com/controller/method/other\n    //holds url segments 0 =&gt; controller, 1 =&gt; method, 2 =&gt; other, etc\n    public $segments;\n    function  __construct() {\n        $this-&gt;parse_globals();\n    }\n\n    function parse_globals(){\n        //$uri = preg_replace(\"|/(.*)|\", \"\\\\1\", str_replace(\"\\\\\", \"/\", $_SERVER['REQUEST_URI']));\n        $uri = (empty($_GET['rt'])) ? '' : $_GET['rt'];\n        $this-&gt;segments = array_filter(explode('/', $uri));\n        if (in_array(\"admin\", $this-&gt;segments)) {\n            array_shift($this-&gt;segments);\n        }\n        print_r($this-&gt;segments);\n        //remove index php\n        if( reset($this-&gt;segments) == 'index.php') {\n            array_shift ($this-&gt;segments);\n        }\n    }\n\n    function controller(){\n        return $this-&gt;segment(0);\n    }\n\n    function method(){\n        return $this-&gt;segment(1);\n    }\n\n    function param( $str ){\n        return isset($_REQUEST[$str]) ? $_REQUEST[$str] : false;\n    }\n\n    function segment( $no ){\n        return isset($this-&gt;segments[$no]) ? $this-&gt;segments[$no] : false;\n    }\n}\n</code></pre>\n"},{"tags":["php","mvc","codeigniter","url-parameters"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":10952256,"title":"How do I use MVC to load pages without using parameters?","body":"<p>I currently have a website where I have not implemented MVC, but am testing the waters to see if it is something I want to do. I have looked around on the net and haven't found a clear answer to my question. I sort of understand the concept of MVC; however, I am wondering how pages made by a user are handled with MVC.</p>\n\n<p>Currently, I load pages mainly based on parameters. Users can add their own quotes and these are inserted into the database. Then to display the quotes from an author they've added, a user will go to, for example, mysite.com/author.php?quotee=Randy+Pausch.</p>\n\n<p>Ideally, I want to transform my site so that the URLs look like mysite.com/authors/Randy-Rausch or something similar.</p>\n\n<p>This is what I don't understand about MVC. Do I need to somehow create a view for each author, and if so, how would I do this? Or is the last part of the URL actually a parameter even though it doesn't use the \"?quotee=Some+Author\" syntax? I feel like there is a fundamental piece of MVC I'm not understanding.</p>\n\n<p>If anyone could provide me with a good approach or a good tutorial to my problem I would really appreciate it. I've seen tutorials on static pages, but would like a tutorial based on pages that can be created by users of a site.</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["c#","asp.net-mvc","mvc","architecture","projects-and-solutions"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":11777781,"title":"What is the proper way to split a solution of a big mvc application?","body":"<p>I'm creation an application with over 70 table in database <strong>and it will be increased in the next phases.</strong></p>\n\n<p>I use Asp.net MVC: <strong>Model, Entity Framework, View Models, Repositories, Views, Controllers, Action Filters, References, Multi languages,....</strong></p>\n\n<p><strong>What is the best place for these parts in my solution?</strong></p>\n\n<p>I have seen different ways to splitting a solution. For example:</p>\n\n<pre><code>  - Solution\n        - Core.UI\n            - Domain\n            - UI\n               - Models\n            - Persistence\n        - Core.Test\n        - UI\n            - Content\n            - Controller\n            - Views\n            - Scripts\n</code></pre>\n\n<p><strong>Or another says split it to</strong></p>\n\n<pre><code>  - Solution\n        - Model\n        - Entities\n        - Web\n        - References\n</code></pre>\n\n<p><strong>Or</strong></p>\n\n<pre><code>...\n</code></pre>\n\n<p><em>What is your opinion about DDD (Domain Driven Design)? and how you implement it? Do you recommend it?</em></p>\n\n<hr>\n\n<ul>\n<li>I want <strong>best flexibility</strong> in my project and <strong>best choice</strong> because\nwhen a project is big, it will be harder to change its structure.</li>\n<li>I would like to <strong>exchange information in various forms</strong> (Web and html,\nclient applications, mobile, xml....)</li>\n<li>I want to change and build fundamental parts of a my project\n<strong>separately</strong> (now and in future)</li>\n</ul>\n\n<hr>\n\n<p>If you could help me with details or examples.</p>\n\n<p><em>Thanks a lot...</em></p>\n"},{"tags":["java","spring","mvc","jsp","tomcat"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":11765606,"title":"Tomcat trying to resolve JSP files in RESTful Spring MVC Service","body":"<p>I am using Spring MVC to create a RESTful service, using the @Controller and @RequestMapping annotations to control responses. I am also using Maven as a dependency management system.</p>\n\n<p>In one function, I use a URI template in my @RequestMapping to retrieve a variable from the GET request. This function returns JSON when it is complete.</p>\n\n<p>Due to problems with the JSTL libraries as a result of using URI templates (essentially I was getting 500 status codes because of a ClassNotFoundException with a JSTL class), I had to add the following dependencies to my Maven POM file (these come from our private repository, but you should be able to understand what they are):</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n  &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\n  &lt;version&gt;1.2-rev-1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.el&lt;/groupId&gt;\n  &lt;artifactId&gt;el-api&lt;/artifactId&gt;\n  &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>However, as a result of adding these, I now get 404 errors, because Tomcat (which is handling the requests under Spring) is trying to resolve my URI, which is usually</p>\n\n<p>localhost:9095/DiagnosticToolService/demo-object/1/json (the 1 being my GET variable, of course)</p>\n\n<p>to a file, specifically</p>\n\n<p>localhost:9095/DiagnosticToolService/WEB-INF/jsp/demo-object/1/json.jsp</p>\n\n<p>Of course, this file does not exist. How do I turn off this automatic JSP resolution in Tomcat so that it can work properly? Also, are those the dependencies I needed to add to fix the 500 error? The 500 error and the 404 error are shown below:</p>\n\n<p><img src=\"http://i48.tinypic.com/35bchma.png\" alt=\"500 error\">\nThe 500 error</p>\n\n<p><img src=\"http://i48.tinypic.com/96ibmw.jpg\" alt=\"404 error\">\nThe 404 error</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":11770772,"title":"How to get html5 attributes and values into mvc HiddenFor","body":"<p>I have following hidden input:</p>\n\n<pre><code>&lt;input type=\"hidden\" class=\"deleted\" name=\"Deleted\" data-id=\"@Model.Id\" value=\"@Model.Deleted\" /&gt;\n</code></pre>\n\n<p>I was wanting to convert this to the MVC helper HiddenFor.</p>\n\n<p>Got this far:</p>\n\n<pre><code>@Html.HiddenFor(x =&gt; x.Deleted, new { @class=\"deleted\" })\n</code></pre>\n\n<p>So that covers the class. I also need the data-id attribute and value.</p>\n\n<p>Tried to add the data-id as:</p>\n\n<pre><code>@Html.HiddenFor(x =&gt; x.Deleted, new { @class=\"deleted\", data-id=\"@Model.Id\" })\n</code></pre>\n\n<p>Well the helper doesn't seem to like the hyphen in the data-id.</p>\n\n<p>So how to get it in there?</p>\n\n<p>Also how to get the <code>value=\"@Model.Deleted\"</code> in there also?</p>\n"},{"tags":["php","mvc","zend-framework","session"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11777487,"title":"Zend application and click fraud detections","body":"<p>Hi i have an zend application which generate an ads based content, when a user signup he can start sharing the ads by just copy paste the URL in fb,tw or g+ . The problems is i had detected a several clicks from the same ip address from users...some goes 200 clicks within few seconds.What is best way to prevent multiple clicks from a similar ip address? need an idea in code form..Thanks</p>\n"},{"tags":["javascript","mvc","backbone.js","backbone-events"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":224,"score":1,"question_id":11774738,"title":"Backbone - Why doesn't a collection.reset trigger a model event?","body":"<p>I'm curious to find out why resetting a backbone collection doesn't fire a model event. However, it seems only logical to fire a model event when a model is physically being removed from a collection. </p>\n\n<p>Is this intentional or am I missing something? If backbone doesn't do this sort of thing what's a good practice for delegating events like so.</p>\n\n<p>Why does backbone not trigger a model event when its collection resets?</p>\n\n<pre><code>var TicketModel = Backbone.Model.extend({\n    defaults: {\n        name: 'crafty',\n        email: 'dwq@dwqcqw.com'\n    },\n    initialize: function(){\n        this.on(\"all\", function(event){\n            console.log(event)\n        });\n    }\n\n});\n\nvar TicketCollection = Backbone.Collection.extend({\n    model: TicketModel,\n\n    });\n\n\nvar tickets = new TicketCollection([\n    {\n        name: 'halldwq'\n    },\n    {\n        name: 'dascwq'\n    },\n    {\n        name: 'dsacwqe'\n    }\n\n]);\n\ntickets.reset();\n</code></pre>\n"},{"tags":["ruby-on-rails","mvc","controller","routes"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":11776403,"title":"Rails Controllers - Adding a Custom Action","body":"<p>I have an Article resource and have defined resourceful routes for it. I want to create a simple page that shows the articles of the current user. I am aware that it is possible to do so by adding another action, for example 'search' to articles controller which will contain the custom code that searches for articles that have the same user id. And for the routes:</p>\n\n<pre><code>resources :articles do\n  get 'search'\nend\n</code></pre>\n\n<p>But I'm not sure if adding a custom action is a good idea in this case. I'm thinking I can still use the index action (which shows all articles) and pass some sort of parameter from the url so that it can distinguish if the user wants to see all articles or just his own. But I'm not sure exactly how this can be done. Any help would be great. Thanks!</p>\n"},{"tags":["c#","sql","mvc","entity-framework"],"answer_count":4,"favorite_count":1,"up_vote_count":15,"down_vote_count":0,"view_count":2850,"score":15,"question_id":6168569,"title":"Trace SQL Query in EF Code First","body":"<p>I'm using Entity Framework Code First and I'd like to be able to record all the SQL queries generated by the DbContext. In Linq to sql there was a DB log and I can't seem to find it in EF. I could then drop them in a log or output it to the page.  </p>\n\n<p>I'm using the version 4.1.0.0 of the EntityFramework Assembly.</p>\n"},{"tags":["java","mvc","mvp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":11775218,"title":"MVP How to implement simple login","body":"<p>I wonder how you can implement a simple login case with MVP. My MVP framework does allow to fire events from the view only, I can't fire events from the presenter. Don't know if this is a good or a bad thing. I do see advantages with it but simple cases are just blown up with additional indirections.</p>\n\n<p>So when I want to implement the simple login scenario I have the following.</p>\n\n<ul>\n<li>LoginPresenter</li>\n<li>LoginView</li>\n<li>LoginModel</li>\n</ul>\n\n<p>So what happens when the user fills in the login form and clicks on the login button?</p>\n\n<ol>\n<li>The view fires an event \"login clicked\"</li>\n<li>The presenter listens to that event and does the login using it's model</li>\n<li>If the login was successufl, I have to call the view again to tell the login was successful.</li>\n<li>The view fires another event \"login successful\".</li>\n<li>The presenter and other presenters now show another view and close the login window.</li>\n</ol>\n\n<p>From my point of view the step via view for the successful event is just too much...</p>\n\n<p>Is my framework wrong not letting me fire events from the presenter or is this a neccessary evil of MVP?</p>\n"},{"tags":["mvc","model","view","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":434,"score":0,"question_id":3466725,"title":"MVC: Relationship between controller and model","body":"<p>I'm slightly confused about the controller-model relationship in MVC.</p>\n\n<p>Should a controller be able to access <em>any</em> model in the system or should it have a 1:1 relationship with a specific model? Both options seem to present problems:</p>\n\n<p>If the relationship is 1:1 obviously if something elsewhere needs to be updated it can't for example updating a window title from outside the window triad. So should models have access to other models (And how do they find them?)</p>\n\n<p>If it's not 1:1 and the controller can access any model, how are these usually accessed (service locator?) and what if there needs to be more than one instance of a specific model.</p>\n\n<p>I'm a bit confused! Thanks for any help.</p>\n"},{"tags":["php","mvc","model","view","controller"],"answer_count":6,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":432,"score":5,"question_id":3708728,"title":"MVC: Where should I format data?","body":"<p>I get data from Model (an array with data) and I need to display with a specific format. I need to iterate over the array, format the data and then display it. Where should I format data to display? In Model, Controller or View?\nThank you.</p>\n"},{"tags":["objective-c","mvc","key-value-observing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":11773771,"title":"Determine whether a KVO observed change should be animated in MVC","body":"<p>(iOS 5, XCode 4.4)</p>\n\n<p>I have a controller (say, C1) that modifies the model which is observed using KVO by a second controller (C2), which manages a view based on the model (I simplified the situation for purposes of this discussion). Now the problem is that sometimes, the changes need to be animated, and sometimes, they don't. However, C2 has no way of telling which case it is dealing with, since it only just listens to the KVO notifications.</p>\n\n<p>Is there a generally accepted solution for this, or does anyone have a good proposal? Am I setting it up wrong? I could let C1 instruct C2 but wouldn't that defeat the purpose of the KVO?</p>\n\n<p>Thanks in advance,\nPatrick</p>\n"},{"tags":["c#",".net","asp.net-mvc","mvc","view"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":168,"score":0,"question_id":11772072,"title":"MVC Calling a view from a different controller","body":"<p>My project structure is like:</p>\n\n<ul>\n<li>Controllers/ArticlesController.cs </li>\n<li>Controllers/CommentsController.cs</li>\n<li>Views/Articles/Read.aspx</li>\n</ul>\n\n<p>Read.aspx takes a parameter say \"output\", which is the details of the article by id and its comments, passed from ArticlesController.cs</p>\n\n<p>Now I want to write then read the comment:: write() &amp; Read() funct in CommentsController.cs</p>\n\n<p>For reading the article with its comments, I want to call Views/Articles/Read.aspx from CommentsController.cs by passing output parameter from CommentsController.cs</p>\n\n<p>How can I do this?</p>\n\n<p>Updates:</p>\n\n<pre><code>Code Here:\n\n\npublic class CommentsController : AppController\n{\n public ActionResult write()\n        {\n\n            //some code\n                    commentRepository.Add(comment);\n                    commentRepository.Save();\n           //works fine till here,Data saved in db\n\n                    return RedirectToAction(\"Read\", new { article = comment.article_id });\n\n\n    }\n\n\n    public ActionResult Read(int article)\n    {   \n\n            ArticleRepository ar = new ArticleRepository();\n            var output = ar.Find(article);\n            //Now I want to redirect to Articles/Read.aspx with output parameter.\n            return View(\"Articles/Read\", new { article = comment.article_id });\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>public class ArticlesController : AppController\n   {<br>\n     public ActionResult Read(int article)\n      {\n    var output = articleRepository.Find(article);\n    return View(output);//This Displays article data in Articles/Read.aspx\n      }</p>\n\n<p>}</p>\n"},{"tags":["c#","mvc","nhibernate","fluent-nhibernate"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":11765880,"title":"fluent nhibernate Cascade creates new records instead of updating them","body":"<p>So being new to n-hibernate and fluent n-hibernate for that matter, I'm having some confusion with mapping and cascading changes to child objects.</p>\n\n<p>I have a object that has several collections, when I create a new object it creates the child objects and inserts them into their respective tables. That's all fine and good. However, when I go to update the parent with changes in the child objects on the surface it appears to flow just they way I want it to. The kicker is that when looking into the db I see that instead of updating the child object record it has inserted new records and removed the association to the parent object from the original records instead of just updating them.</p>\n\n<p>To add additional explanation we are using AutoMapping and MappingOverrides.  So here is a brief look at the code I'm working with.</p>\n\n<pre><code>public class ParentObjectOverride : IAutoMappingOverride&lt;ParentObject&gt;\n{\n    public void Override(AutoMapping&lt;ParentObject&gt; mapping)\n    {\n\n        mapping.HasMany(x =&gt; x.Chid1).Cascade.SaveUpdate().Table(\"chid1Table\");\n        mapping.HasMany(x =&gt; x.Child2).Cascade.SaveUpdate().Table(\"child2Table\");\n\n    }\n}\npublic class Child1Override : IAutoMappingOverride&lt;Child1&gt;\n{\n    public void Override(AutoMapping&lt;Child1&gt; mapping)\n    {\n        mapping.References(x =&gt; x.ParentObject).Cascade.All();\n    }\n}\n\npublic class Child2Override : IAutoMappingOverride&lt;Child2&gt;\n{\n    public void Override(AutoMapping&lt;Child2&gt; mapping)\n    {\n        mapping.References(x =&gt; x.ParentObject).Cascade.All();\n    }\n}\n</code></pre>\n\n<p>There really isn't a case where the child objects are saved independantly of the ParentObject.  I've tried cascade.all()  as well as cascade.saveupdate() both produce the same results.</p>\n\n<p>I've read several posts about using AllDeleteOrphan, but I don't see why it shouldn't just update the child rows instead of making new rows and deleting the old ones.  Maybe I just don't understand the mapping concept.</p>\n\n<p>Any assistance is appreciated</p>\n"},{"tags":["mvc","asp.net-mvc-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":11773086,"title":"Unexpected form url with mixed aspx & controller MVC .Net routes","body":"<p>I have two routes defined thus:</p>\n\n<pre><code>//Custom route for legacy admin page\n      routes.MapPageRoute(\n       \"LocaliseRoute\",                         // Route name\n       \"Admin/Localise\",                // URL\n       \"~/Views/Admin/Localise.aspx\"   // File\n       );\n\nroutes.MapRoute(\n       \"Admin\", // Route name\n       \"Admin/{action}/{id}\", // URL with parameters\n       new { controller = \"Admin\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n       );\n</code></pre>\n\n<p>both the following GETs work fine:</p>\n\n<pre><code>http://pegfect.local/Admin/PegModelUpload\nhttp://pegfect.local/Admin/Localise\n</code></pre>\n\n<p>However, the form action of the former is <code>/Admin/Localise?action=UploadPegModel&amp;controller=Admin</code></p>\n\n<p>resulting in an expression of \"WTF?!\"</p>\n\n<p>the code for the form is:</p>\n\n<pre><code>@using (Html.BeginForm(\"UploadPegModel\", \"Admin\", FormMethod.Post, new { enctype = \"multipart/form-data\", onsubmit = \"return validateForm();\" }))\n{\n  &lt;input type='file' name='file' id='file' /&gt;\n  &lt;input type=\"submit\" value=\"submit\" /&gt;\n}\n</code></pre>\n"},{"tags":["ajax","mvc","symfony-1.4","coupling","cohesion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":11763046,"title":"Where to put ajax scripts for forms (what controller) in mvc?","body":"<p>This is my situation:\nI have a single view (lets call it view <strong>V</strong>) with a formform with multiple combo box for selecting some parameters.</p>\n\n<p>I want to load the options of those combo box via AJAX calls dynamically (selecting one item on a combobox will load the other ones with data)</p>\n\n<p>Each combobox makes an AJAX request to a different controller (which in turn call on different models to fetch the data) on the framework. Lets call those controllers <strong>C1</strong>, <strong>C2</strong>, <strong>C3</strong> and the models <strong>M1</strong>, <strong>M2</strong>, <strong>M3</strong>.</p>\n\n<p>These AJAX scripts on <strong>C1</strong>, <strong>C2</strong> and <strong>C3</strong> are <em>very likely</em> to be used on other views on the future</p>\n\n<p>But i have my doubts if this is the correct way to go. Where do i put those AJAX scripts? On each controller or a separate one (probably called FormAPI or something like that)</p>\n\n<p>Putting one ajax script on each controller i am coupling V with <strong>C1</strong>, <strong>C2</strong> and <strong>C3</strong>, while making one controller for the three requests will only couple my view V with one controller. Also, from my point of view, such controller will be highly cohesive.</p>\n\n<p>However, i am probably not keeping my code DRY because <strong>C1</strong>, <strong>C2</strong> and <strong>C3</strong> already have some logic to recieve requests of the type \"get list of <strong>M1</strong>, <strong>M2</strong> and <strong>M3</strong>\", which i could render as JSON and return it to the view <strong>V</strong></p>\n\n<p>What happens in the future if i have another view <strong>V2</strong> that needs requests to <strong>C1</strong>, <strong>C2</strong>, <strong>C3</strong>, ... <strong>CN</strong>? I think soon my code will be \"spaghetti coupled\"</p>\n\n<p>What do you think?</p>\n\n<p>Another question: Should i have logic on M1, M2, M3 to get arrays and lists of items?\nFor instance, if M1 has multiple instances of M2, is it correct to create a method M1->getM2asArray()</p>\n"},{"tags":["php","mvc","kohana"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":11769629,"title":"Kohana 3.2 reuse model to insert data","body":"<p>I'm currently working on a project that uses Kohana 3.2.\nI haven't used the framework so I'm kind of a \"beginner\" though I've been using Symfony2 for quite some time.</p>\n\n<p>Let's say I have a \"task\". This \"task\" can be assigned to multiple \"users\" at the same time. \nThis is achieved by entering the same \"task\" with different user_id. So I thought it shouldn't be a problem to reuse the model by simply to change the column's data and then calling <code>$task-&gt;create()</code>. </p>\n\n<p>For some reason this isn't working right and the code returns:<br>\n<code>Kohana_Exception [ 0 ]: Cannot create task model because it is already loaded.</code></p>\n\n<p>My current code is:<br></p>\n\n<pre><code>Model:\nclass Model_Task extends ORM{\n    protected $_table_name  = 'task';\n    protected $_primary_key = 'task_id';\n}\n\nCode:\n$task = ORM::factory('task');\n$task-&gt;task = \"some random task you need to finish.\";\nforeach($users as $user){\n    $task-&gt;user_id=$user;\n    $task-&gt;create();\n}\n</code></pre>\n\n<p>Am I doing something wrong or you simply can't reuse models in Kohana? </p>\n"},{"tags":["mvc","symfony2"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":11758310,"title":"Symfony 2 where to put view logic","body":"<p>What is the best strategy if you find your controller's code not readable and messed up because of heavy view logic? Use helper, service or something else?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":437,"score":3,"question_id":11767911,"title":"MVC [HttpPost/HttpGet] for Action","body":"<p>I am using MVC C#.</p>\n\n<p>Can somebody give an example on why one would use</p>\n\n<pre><code>    [HttpPost/HttpGet] \n</code></pre>\n\n<p>for and Action. How can and active have both - what is the practical use? </p>\n"},{"tags":["c#","asp.net-mvc-3","entity-framework","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":11765704,"title":"MVC3 - Getting Service Layer to Work","body":"<p>I am trying to get a basic service layer working in my application, but I'm running into trouble.  </p>\n\n<p>Interface:</p>\n\n<pre><code>public interface IEmailer\n    {\n        string ServiceTest();\n    }\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>public class SimpleMailer : IEmailer\n    {\n    public string ServiceTest()\n        {\n            var ServiceVar = \"This is your service working\";\n            return ServiceVar;\n        }\n    }\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>    public class EmailSendController : Controller\n    {\n\n    private IEmailer _service;\n\n     public EmailSendController()\n        {\n            _service = new SimpleMailer();\n\n        }\n\n        public EmailSendController(IEmailer service)\n        {\n            _service = service;\n        }\n\n        [HttpPost]\n        public ActionResult Edit()\n        {\n\n            _service.ServiceTest();\n\n            return View();\n        }\n    }\n}\n</code></pre>\n\n<p>I am getting an error that <code>_service.ServiceTest();</code> is null.  What am I doing wrong that's preventing it from returning <code>ServiceVar</code>?</p>\n"},{"tags":["c#","ajax","mvc","mp4"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":193,"score":2,"question_id":11747105,"title":".NET MVC - Return video file for jPlayer","body":"<p>I have two methods and first one returns a video file, the other one returns thumbnail image.</p>\n\n<pre><code>  public ActionResult Video(string id)\n    {\n        UserVideo videoEntity = AccountBasicEntity.GetUserVideoWithID(id);\n\n        string videoPath = ConfigurationManager.AppSettings[\"VideoPath\"] + videoEntity.VideoFileName;\n\n\n        return File(videoPath, \"video/mp4\");\n    }\n\n    public ActionResult Thumb(string id)\n    {\n        UserVideo videoEntity = AccountBasicEntity.GetUserVideoWithID(id);\n\n        string thumbPath = ConfigurationManager.AppSettings[\"ThumbsPath\"] + videoEntity.PreviewImageFileName;\n\n        return File(thumbPath, \"image/jpg\");\n    }\n</code></pre>\n\n<p>and I can reach the urls as</p>\n\n<pre><code>http://localhost/media/video/GTt-b2DcEG ( returns video file )\nhttp://localhost/media/thumb/GTt-b2DcEG ( returns image file )\n</code></pre>\n\n<p>The method works fine which returns image file. But the other one doesn't work, browser (chrome) doesn't play or jPlayer doesn't play the video file But browser or jplayer shows the thumbnail image. I debugged and paths are ok.</p>\n\n<p>Video path is : C:\\Web\\data\\videos\\GTt-b2DcEG.mp4\nImage path is : C:\\Web\\data\\thumbs\\GTt-b2DcEG.jpg</p>\n\n<p>Do I miss something ? what is the best way to feed a ajax-based video player in this situation?</p>\n\n<p>Thanks.</p>\n\n<p>Client side :</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=utf-8 /&gt;\n\n&lt;!-- Website Design By: www.happyworm.com --&gt;\n&lt;title&gt;Demo : jPlayer as a video player&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n&lt;link href=\"skin/pink.flag/jplayer.pink.flag.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery.jplayer.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n//&lt;![CDATA[\n$(document).ready(function(){\n\n    $(\"#jquery_jplayer_1\").jPlayer({\n        ready: function () {\n            $(this).jPlayer(\"setMedia\", {\n                m4v: \"http://localhost/media/video/GTt-b2DcEG\",\n                poster: \"http://localhost/media/thumb/GTt-b2DcEG\"\n            });\n        },\n        swfPath: \"js\",\n        supplied: \"webmv, ogv, m4v\",\n        size: {\n            width: \"640px\",\n            height: \"360px\",\n            cssClass: \"jp-video-360p\"\n        }\n    });\n\n});\n//]]&gt;\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        &lt;div id=\"jp_container_1\" class=\"jp-video jp-video-360p\"&gt;\n            &lt;div class=\"jp-type-single\"&gt;\n                &lt;div id=\"jquery_jplayer_1\" class=\"jp-jplayer\"&gt;&lt;/div&gt;\n                &lt;div class=\"jp-gui\"&gt;\n                    &lt;div class=\"jp-video-play\"&gt;\n                        &lt;a href=\"javascript:;\" class=\"jp-video-play-icon\" tabindex=\"1\"&gt;play&lt;/a&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"jp-interface\"&gt;\n                        &lt;div class=\"jp-progress\"&gt;\n                            &lt;div class=\"jp-seek-bar\"&gt;\n                                &lt;div class=\"jp-play-bar\"&gt;&lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"jp-current-time\"&gt;&lt;/div&gt;\n                        &lt;div class=\"jp-duration\"&gt;&lt;/div&gt;\n                        &lt;div class=\"jp-title\"&gt;\n                            &lt;ul&gt;\n                                &lt;li&gt;Big Buck Bunny Trailer&lt;/li&gt;\n                            &lt;/ul&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"jp-controls-holder\"&gt;\n                            &lt;ul class=\"jp-controls\"&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-play\" tabindex=\"1\"&gt;play&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-pause\" tabindex=\"1\"&gt;pause&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-stop\" tabindex=\"1\"&gt;stop&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-mute\" tabindex=\"1\" title=\"mute\"&gt;mute&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-unmute\" tabindex=\"1\" title=\"unmute\"&gt;unmute&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-volume-max\" tabindex=\"1\" title=\"max volume\"&gt;max volume&lt;/a&gt;&lt;/li&gt;\n                            &lt;/ul&gt;\n                            &lt;div class=\"jp-volume-bar\"&gt;\n                                &lt;div class=\"jp-volume-bar-value\"&gt;&lt;/div&gt;\n                            &lt;/div&gt;\n\n                            &lt;ul class=\"jp-toggles\"&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-full-screen\" tabindex=\"1\" title=\"full screen\"&gt;full screen&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-restore-screen\" tabindex=\"1\" title=\"restore screen\"&gt;restore screen&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-repeat\" tabindex=\"1\" title=\"repeat\"&gt;repeat&lt;/a&gt;&lt;/li&gt;\n                                &lt;li&gt;&lt;a href=\"javascript:;\" class=\"jp-repeat-off\" tabindex=\"1\" title=\"repeat off\"&gt;repeat off&lt;/a&gt;&lt;/li&gt;\n                            &lt;/ul&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"jp-no-solution\"&gt;\n                    &lt;span&gt;Update Required&lt;/span&gt;\n                    To play the media you will need to either update your browser to a recent version or update your &lt;a href=\"http://get.adobe.com/flashplayer/\" target=\"_blank\"&gt;Flash plugin&lt;/a&gt;.\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["mvc","libgdx","states"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":11766572,"title":"implement Game States with MVC layout?","body":"<p>Hi I am creating a basic game and trying to implement MVC pattern with my code. I currently have:\n<strong>Model</strong>\ngame object, clouds, boat water ect.</p>\n\n<p><strong>world</strong> \nThis ties all the models together and defines the objects</p>\n\n<p><strong>WorldRenderer</strong>\nThis applies all textures to the objects</p>\n\n<p><strong>GameScreen</strong>\nthis handles user input, touch or keyboard.</p>\n\n<p>My issue is how and where would i implement Game States?\nI am assuming it would go into the GameScreen, but i have implemented the basic layout of the states ,READY ,RUNNING, PAUSED, NEXT_LVL, GAME_OVER,</p>\n\n<p>But what i am finding that the when the state READY is presented the game is running in the background?</p>\n\n<p>this is defined in the WorldRenderer, i.e the water lvl is rising up the screen in the back ground, but i want this to only happen when the game state switches to running.</p>\n\n<p>how would i get the Gamestate to only initialise the the WorldRenderer when the Gamstate switches to the RUNNING STATE. I have applied the statement <code>renderer.render();</code> into the RUNNING statement but it still runs in the READY state.</p>\n\n<p>Any help with this would be really appreciated.</p>\n\n<p>Cheers </p>\n\n<p>Daniel.</p>\n\n<p>I am attaching the WorldRenderer, World, and GameScreen classes</p>\n\n<pre><code>GameScreen Class\n\n\n    import com.badlogic.gdx.Gdx;\n\n    import com.badlogic.gdx.Input.Keys;\n\n    import com.badlogic.gdx.Screen;\n    import com.badlogic.gdx.graphics.GL10;\n    import com.badlogic.gdx.graphics.OrthographicCamera;\n    import com.badlogic.gdx.graphics.Texture;\n    import com.badlogic.gdx.graphics.Texture.TextureFilter;\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\n    import com.badlogic.gdx.graphics.g2d.TextureRegion;\n\n    import com.badlogic.gdx.math.Rectangle;\n    import com.badlogic.gdx.math.Vector3;\n\n\n\n\n    public class GameScreen implements Screen {\n\n    enum State{\n        READY,RUNNING,PAUSED,LEVEL_END,GAME_OVER\n    }\n\n\n    MainThing game;\n\n\n    OrthographicCamera cam;\n    SpriteBatch batch;\n\n    Texture pauseMenu;\n    TextureRegion pauseMenuR;\n\n    Texture pauseBtn;\n\n    Texture ready;\n    TextureRegion readyR;\n\n    private World world;\n    private WorldRenderer renderer;\n\n    public static State state = State.READY;\n\n\n    public GameScreen(MainThing game){\n\n        this.game = game;\n        cam = new OrthographicCamera(800,480);\n        cam.position.set(800/2, 480/2, 0);\n        batch = new SpriteBatch();\n        state = State.READY;\n\n        loadingTexture();\n\n    }\n\n\n\n\n\n    private void loadingTexture() {\n\n        pauseBtn = Assets.manager.get(\"pause.png\", Texture.class);\n\n        pauseMenu = Assets.manager.get(\"resume-quit.png\", Texture.class);\n        pauseMenu.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n        pauseMenuR = new TextureRegion(pauseMenu,0,0,375,256);\n\n        ready = Assets.manager.get(\"ready.png\",Texture.class);\n        readyR = new TextureRegion(ready,0,0,256,105);\n    }\n\n\n    public static void setState(State newState){\n        state = newState;\n    }\n\n\n\n\n\n    private void update(float delta) {\n\n        switch (state) {\n        case READY:\n            updateReady();\n            break;\n        case RUNNING:\n            updateRunning(delta);\n            break;\n        case PAUSED:\n            updatePaused();\n            break;\n        case LEVEL_END:\n            updateLevelEnd();\n            break;\n        case GAME_OVER:\n            updateGameOver();\n            break;\n        }\n\n    }\n\n\n\n    private void updateReady() {\n        if (Gdx.input.justTouched()) {\n            state = State.RUNNING;\n        }\n\n    }\n\n    private void updateRunning(float delta) {\n\n        if(Gdx.input.isTouched()) {\n             Vector3 touchPos = new Vector3();\n             touchPos.set(Gdx.input.getX(), Gdx.input.getY(), 0);\n             WorldRenderer.cam.unproject(touchPos);\n             Boat.position.x = touchPos.x - 1f / 2;\n          }\n\n\n\n        if(Gdx.input.isKeyPressed(Keys.LEFT)) {\n\n        Boat.velocity.x = -Boat.SPEED * delta;\n        }\n\n\n        else if(Gdx.input.isKeyPressed(Keys.RIGHT)) {\n\n            Boat.velocity.x = Boat.SPEED * delta;\n          }\n        else if(!Gdx.input.isKeyPressed(Keys.LEFT) &amp;&amp; !(Gdx.input.isKeyPressed(Keys.RIGHT)) || (Gdx.input.isKeyPressed(Keys.LEFT) &amp;&amp; (Gdx.input.isKeyPressed(Keys.RIGHT)))) {\n\n            Boat.velocity.x = 0;\n            }\n\n          Boat.update(delta);\n\n          if(Boat.position.x &lt; 0) Boat.position.x = 0;\n          if(Boat.position.x &gt; WorldRenderer.cam.viewportWidth - 1f) Boat.position.x = WorldRenderer.cam.viewportWidth - 1f;\n\n\n    }\n\n\n\n\n    private void updatePaused() {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n\n\n    private void updateLevelEnd() {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n\n\n    private void updateGameOver() {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n\n\n    private void draw(float deltaTime) {\n\n        Gdx.gl.glClearColor(1, 1, 1, 1);\n        Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);\n        renderer.render(deltaTime);\n        cam.update();\n        batch.setProjectionMatrix(cam.combined);\n        batch.begin();\n\n        switch (state) {\n        case READY:\n            presentReady();\n            break;\n        case RUNNING:\n            presentRunning(deltaTime);\n            break;\n        case PAUSED:\n            presentPaused();\n            break;\n        case LEVEL_END:\n            presentLevelEnd();\n            break;\n        case GAME_OVER:\n            presentGameOver();\n            break;\n        }\n        batch.end();\n    }\n\n\n\n\n    private void presentReady() {\n        batch.draw(readyR, cam.viewportWidth /2 - 375 /2    , cam.viewportHeight /2 - 256 /2,375,256);\n\n    }\n\n\n\n\n\n    private void presentRunning(float delta) {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n\n\n    private void presentPaused() {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n\n\n    private void presentLevelEnd() {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n\n\n    private void presentGameOver() {\n        // TODO Auto-generated method stub\n\n    }\n\n\n\n\n    @Override\n    public void render(float delta) {\n\n        update(delta);\n        draw(delta);\n\n\n\n    }\n\n\n\n\n\n\n    @Override\n    public void resize(int width, int height) {\n        renderer.setSize(width,height);\n\n    }\n\n    @Override\n    public void show() {\n        world = new World();\n        renderer = new WorldRenderer(world, false);\n\n\n    }\n\n    @Override\n    public void hide() {\n\n\n    }\n\n    @Override\n    public void pause() {\n        dispose();\n\n    }\n\n    @Override\n    public void resume() {\n\n\n    }\n\n    @Override\n    public void dispose() {\n        Assets.unload();\n\n\n        Boat.dispose();\n        Cloud.dispose();\n        WorldRenderer.dispose();\n\n\n    }\n\n\n\n}\n</code></pre>\n\n<p>World Class</p>\n\n<pre><code>  package com.inspirednotion.thing;\n\nimport com.badlogic.gdx.math.MathUtils;\n\nimport com.badlogic.gdx.math.Vector2;\nimport com.badlogic.gdx.utils.Array;\nimport com.badlogic.gdx.utils.TimeUtils;\n\n\n\npublic class World {\n\nBoat boat;\nWater water;\nCloud cloud;\nlong lastDropTime;\nArray&lt;Rain&gt; raindrops = new Array&lt;Rain&gt;();\n\n\npublic Array&lt;Rain&gt; getRain(){\n     return raindrops;\n\n}\n\n Boat getBoat(){\n    return boat;\n}\npublic Water getWater(){\n    return water;\n}\n\npublic Cloud getCloud(){\n    return cloud;\n}\n\n\npublic World(){\n\n    createWorld();\n    spawnRaindrop();\n    lastDropTime = TimeUtils.nanoTime();\n}\n\nprivate void createWorld() {\n    boat = new Boat(new Vector2(WorldRenderer.CAMERA_WIDTH / 2 - Boat.BOAT_WIDTH / 2, Water.position.y +11.3f ));\n    cloud = new Cloud(new Vector2(WorldRenderer.CAMERA_WIDTH / 2 - Cloud.CLOUD_WIDTH /2, 8));\n    water = new Water(new Vector2(WorldRenderer.CAMERA_WIDTH /2 - Water.WATER_WIDTH/2, -11.3f));\n\n\n\n\n}\nvoid spawnRaindrop(){\nraindrops.add( new Rain(new Vector2(MathUtils.random(cloud.position.x, cloud.position.x + Cloud.CLOUD_WIDTH ),cloud.position.y)));\nlastDropTime = TimeUtils.nanoTime();\n}\n\npublic static void dispose() {\n\n\n}\n}\n</code></pre>\n\n<p>WorldRenderer Class</p>\n\n<pre><code>public class WorldRenderer {\n\n    private static World world;\n    public static OrthographicCamera cam;\n\n    ShapeRenderer debugRenderer = new ShapeRenderer();\n\n     static final float CAMERA_WIDTH = 20f;\n    static final float CAMERA_HEIGHT = 12f;\n\n    static Texture cloudTexture;\n    private TextureRegion cR;\n    static Texture boatAniTex;\n    TextureRegion[]                 boatFrames;\n    Animation                       boatAnimation;\n    TextureRegion                   boatCurrentFrame;\n    static TextureRegion                   currentFrameBoat;\n    TextureRegion[][]               tmpBoat;\n\n    static Texture cloudBg;\n    private TextureRegion cloudBgR;\n\n\n    static Texture rainDrop;\n    long lastDropTime;\n    float lastDropT;\n\n\n    private static Texture water;\n    TextureRegion[]                 waveFrames;\n    Animation                       waveAnimation;\n    TextureRegion                   currentFrame;\n    TextureRegion                   currentFrameWav;\n    TextureRegion[][]               tmp;\n\n    float stateTime = 0f; \n\n    private static SpriteBatch batch;\n\n    static int width;\n     static int height;\n\n    public void setSize(int w, int h){\n        WorldRenderer.width= w;\n        WorldRenderer.height = h;\n    }\n\n\n\n    public WorldRenderer(World world, boolean debug){\n\n        WorldRenderer.world = world;\n        WorldRenderer.cam = new OrthographicCamera(CAMERA_WIDTH ,CAMERA_HEIGHT);\n        WorldRenderer.cam.position.set(CAMERA_WIDTH /2f, CAMERA_HEIGHT /2f, 0);\n        WorldRenderer.cam.update();\n        batch = new SpriteBatch();\n        loadTextures();\n        loadAnimations();\n\n\n\n\n    }\n\n\n\n\n\n    public void loadTextures(){\n        boatAniTex = Assets.manager.get(\"bin.png\", Texture.class);\n        boatAniTex.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n        cloudTexture = Assets.manager.get(\"cloud.png\", Texture.class);\n        cloudTexture.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n        cR = new TextureRegion(cloudTexture,0,0,256,140);\n        cloudBg = Assets.manager.get(\"cloudbg.png\", Texture.class);\n        cloudBg.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n        cloudBgR = new TextureRegion(cloudBg,0,0,800,480);\n        water = Assets.manager.get(\"wavey.png\", Texture.class);\n        water.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n        rainDrop = new Texture(Gdx.files.internal(\"RainDrop_sml.png\"));\n    }\n\n\n    private void loadAnimations() {\n\n        water.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n\n        tmp = new TextureRegion(water).split(800,480);                                \n        waveFrames = new TextureRegion[14];\n        for (int x = 0, index = 0; x &lt; 7; x++) {\n            for (int y = 0; y &lt; 2; y++, index++) {\n               waveFrames[index] = tmp[x][y];\n            }\n         }\n\n        waveAnimation = new Animation(0.14f, waveFrames); \n\n        //************************\n\nboatAniTex.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n\n        tmpBoat = new TextureRegion(boatAniTex).split(64,64);                                \n        boatFrames = new TextureRegion[7];\n        for (int x = 0, indexed = 0; x &lt; 1; x++) {\n            for (int y = 0; y &lt; 7; y++, indexed++) {\n               boatFrames[indexed] = tmpBoat[x][y];\n            }\n         }\n\n        boatAnimation = new Animation(0.2f, boatFrames); \n\n    }\n\n\n    public void render(float delta){\n        Gdx.gl.glClearColor(0, 0, 0, 1);\n        Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);\n        batch.setProjectionMatrix(cam.combined);\n        stateTime += Gdx.graphics.getDeltaTime();  \n        currentFrameWav = waveAnimation.getKeyFrame(stateTime += delta, true);\n        currentFrameBoat = boatAnimation.getKeyFrame(stateTime += delta, true);\n        batch.begin();\n\n\n        batch.disableBlending();\n        drawBackGround();\n        batch.enableBlending();\n        drawBoat();\n\n        drawWater(delta);\n        drawCloud();\n\n\n        batch.end();\n        drawRain();\n    }\n\n\n\n\n\n    private void drawRain() {\n        batch.begin();\n        for(  Rain bounds: world.raindrops) {\n             batch.draw(rainDrop, bounds.position.x ,  bounds.position.y,.2f,.2f);\n\n        }\n        batch.end();\n        if(TimeUtils.nanoTime() - world.lastDropTime &gt;  500000000) world.spawnRaindrop();\n\n\n\n\n        Iterator&lt;Rain&gt; iter = world.raindrops.iterator();\n          while(iter.hasNext()) {\n             Rain raindrop = iter.next();\n             raindrop.position.y -=2f * Gdx.graphics.getDeltaTime();\n            if(raindrop.position.y &lt; Water.position.y  ) {\n                System.out.println(\"water is hit\");\n                iter.remove();\n            }\n          }\n    }\n\n\n\n    private void drawWater(float delta) {\n        batch.draw(currentFrameWav, Water.position.x , Water.position.y ,Water.WATER_WIDTH , Water.WATER_HEIGHT );\n        if (Water.position.y &lt; -4f){\n            Water.position.y += .1 * Gdx.graphics.getDeltaTime();\n            Boat.position.y += .1 * Gdx.graphics.getDeltaTime();\n        }\n    }\n\n\n\n    private void drawBackGround() {\n\n        batch.draw(cloudBgR, 0,0,CAMERA_WIDTH,CAMERA_HEIGHT);\n\n    }\n\n\n\n    private void drawCloud(){\n        Cloud cloud = world.getCloud();\n         batch.draw(cR,cloud.position.x ,cloud.position.y ,Cloud.CLOUD_WIDTH , Cloud.CLOUD_HEIGHT );\n    }\n\n\n    private void drawBoat(){\n        world.getBoat();\n         batch.draw(currentFrameBoat, Boat.position.x , Water.position.y +11.3f,Boat.BOAT_WIDTH , Boat.BOAT_HEIGHT );\n    }\n\n\n\n\n\n\n\n\n    private void drawDebug(){\n        debugRenderer.setProjectionMatrix(cam.combined);\n        debugRenderer.begin(ShapeType.Rectangle);\n\n        Cloud cloud = world.getCloud();\n        Rectangle rect =  cloud.bounds;\n        float x1 = cloud.position.x + rect.x;\n        float y1 = cloud.position.y + rect.y;\n        debugRenderer.setColor(new Color(1,0,0,1));\n        debugRenderer.rect(x1, y1, rect.width, rect.height);\n\n        Boat boat = world.getBoat();\n        Rectangle rec =  boat.bounds;\n        float xx1 = Boat.position.x + rec.x;\n        float yx1 = Boat.position.y + rec.y;\n        debugRenderer.setColor(new Color(1,1,0,1));\n        debugRenderer.rect(xx1, yx1, rec.width, rec.height);\n\n        debugRenderer.end();\n    }\n\n\n\n\npublic static   void dispose(){\n    cloudTexture.dispose();\n    water.dispose();\n    boatAniTex.dispose();\n    rainDrop.dispose();\n    cloudBg.dispose();\n    batch.dispose();\n\n}\n}\n</code></pre>\n\n<p>please excuse the messy code.. in process of cleaning and debugging the issues..</p>\n"},{"tags":["c#","asp.net-mvc","mvc","asynchronous"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":11763615,"title":"Waiting for asynchronous result in a different controller method than the one that starts it","body":"<p>How would one go about waiting for an asynchronous result in a controller method? It seems like it would be trivial to implement, but so far I have not found a good example that is clean and elegant.</p>\n\n<p>Here is the problem. I have two controller methods. Method A and Method B. Method A starts a long running process via TaskFactory, and uses ContinueWith to update a cached value when the process is finished. There are some intermediate steps between A and B. Now when I get to Method B, I need to check the value in the cache. If the value in the cache has not been updated yet, I need to wait for x amount of seconds and periodically check to see if the value has been updated. </p>\n\n<p>I would prefer to handle all of this in the controller, so the client doesn't have to poll for the result (and having to rewrite the controller to handle the polling). But I haven't been able to figure out a way to implement the polling inside the controller method that doesn't block until the timeout expires(I'm worried about thread pool starvation). Maybe there isn't a clean implementation that I can use here. And if polling is the right or only answer, I will just have to accept it.</p>\n"},{"tags":["jquery","spring","mvc","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":11761596,"title":"Load external data stored in xml file","body":"<p>I have an application using jquery, jsp, spring mvc. currently I load data stored in xml files which are in /WEB-INF/resources/data/...xml: For that in a JQuery I'm doing this:\n$('#contents').load(contextPath+'/resources/data/data1.xml', ...)</p>\n\n<p>After that my jsp is fed with xml content. fine.</p>\n\n<p>Now: \nI would like to put the xml files on the disc of my server. So it will be available through a path: like /myWorkPlace/data/data1.xml</p>\n\n<p>The reason is: I would like to change the XML content without redeploying the application.</p>\n\n<p>Then How could I load these xml content ?</p>\n"},{"tags":["jquery","ajax","mvc","ckeditor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":11760699,"title":"Issue with CKEditor Autogrow feature","body":"<p>I am having an issue with CKEditor's autogrow feature,  I am using it in a page that uses MVC and ajax posts that return partial views,  when I fire certain $ajax posts (specifically ones that return partials without reloading the page) I am receiving the following error: Uncaught [CKEDITOR.resourceManager.add] The resource name \"autogrow\" is already registered.  </p>\n\n<p>I am wondering if there is a method to \"un register\" the autogrow feature and re register it after the process completes. Or if there is simply a way to avoid this all together other than a <code>location.reload(true)</code>.</p>\n\n<p>Thanks for the assistance! </p>\n"},{"tags":["java","mvc","properties","static","decoupling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":11750324,"title":"Do the static property values in Oracle's modified MVC example break the intended decoupling?","body":"<p>I have been following the modified Model View Controller example presented in this article by Oracle. <a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html\" rel=\"nofollow\">Java SE Application Design with MVC</a></p>\n\n<p>In this example the DefaultController class declares property name strings like this:</p>\n\n<pre><code>public static final String ELEMENT_TEXT_PROPERTY = \"Text\";\n</code></pre>\n\n<p>These strings are used in multiple places.</p>\n\n<p><strong>In the controller:</strong></p>\n\n<p>AbstractController uses reflection to search its models for a method named     set+propertyName.</p>\n\n<p><strong>In the Model:</strong></p>\n\n<p>The model has setter methods which call this method:</p>\n\n<pre><code>firePropertyChange(Controller.NAME_PROPERTY, oldName, name);  \n</code></pre>\n\n<p><strong>In the View:</strong></p>\n\n<p>In the modelPropertyChange method, </p>\n\n<pre><code>if(evt.getPropertyName().equals(Controller.NAME_PROPERTY)\n</code></pre>\n\n<p>The part that concerns me is that the model is referencing the controller's static fields. I am still trying to master MVC and I am unsure if this architecture achieves the desired decoupling that MVC is used for. Does it matter that the all three classes reference the controller's static fields?</p>\n\n<p><strong>EDIT:</strong>\nIs the architecture described in this tutorial, as coded, an invalid representation of MVC? If so, can it be altered so that the model / (model layer) is not dependent on the static property names defined in the DefaultController class?</p>\n\n<p>I realize this article is \"just a tutorial\", but if the code presented in it does not reflect the claimed decoupling, I think that the community should stop referencing it as an example of MVC.</p>\n"},{"tags":["php","mvc","session","model","global-variables"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":11760119,"title":"how to use global variables in php class in a MVC project","body":"<p>I want to <code>$st_id</code> in a function in my model class in a mvc project, as you see below, but it get me an error that <code>$st_id</code> is not defined. what I can do for resolve this problem ? </p>\n\n<pre><code>&lt;?php\n\n@session_start();\n$st_id=$_SESSION['username'];\nif (!isset($_SESSION['USERNAME']))\n{\nheader('Location: signin.php');\n}\n//////////////////////    \nclass model\n{\n    private $result;\n    public $rp_result;\n    //////////\n    public function exe_query()\n    {\n        $mysqldb = new MySQLDatabase();\n        $result=$mysqldb-&gt;query('CALL view_report('.$this-&gt;st_id.');');\n        $this-&gt;rp_result=$mysqldb-&gt;fetch_all($result);\n    }\n}   \n?&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc","visual-studio","mvc","views"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":11758504,"title":"MVC Views folder structure and application start up","body":"<p>Since I have many views, I have created sub folders under the View folder of the MVC. eg</p>\n\n<pre><code>Views - Product\nViews - Customer\nViews - Orders\n</code></pre>\n\n<p>etc... Then each folder as related views to the entities. Things work Ok. The only problem is that when I debug my application - I mean running in debug mode - The URL is not working eg te URL will be like <em>Localhost:xxxx\\Views\\Product\\Index</em> .... However If I click on real application links then things work ok ...</p>\n\n<p>How can I make this work? ... it is giving me headache as every time I run the applicatiion the URL is wrong.</p>\n\n<p>any comments will be appreciated.</p>\n"},{"tags":["php","mvc","symfony2","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":11757152,"title":"Symfony2: Username in URL","body":"<p>This issue is very common appears here in SO many times but not for Symfony2 framework. I want to create a rout that take the username directly after the domain to have access to the the user profile, like that: <code>domain.com/username</code>. Rout should be:</p>\n\n<pre><code>Profile:\n    pattern: /{pseudo}\n    defaults: { _controller: **Bundle:Default:member } \n</code></pre>\n\n<p>However it's clear that this rout will much other routs like <code>/main</code>, too bad. Documentation says that we can make some restriction to the pattern like making pseudo to be exactly En or Fr:</p>\n\n<pre><code>Profile:\n    pattern: /{pseudo}\n    requirements:\n        pseudo:  en|fr\n</code></pre>\n\n<p>I may use this to make pseudo not equals to other similar routs like <code>main , messages , post , blog</code> but also I have much routs, router will look ugly. If this is a valid way, please show how to make requirements should <em>not equal</em> <code>main, messages,...</code>\nOr there is another way, I'll be thankful to know it.</p>\n"},{"tags":["php","mvc","zend-framework","dependency-injection"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":224,"score":2,"question_id":8720909,"title":"Is dispatcher in zend framework more or less a Dependency Injection module?","body":"<p>As you can see from this diagram (from 15 to 24) a dispatcher:<br/><br/>\nClick <a href=\"http://www.kitpages.fr.s3.amazonaws.com/bundle/kitpagesFileSystem/kitpagesFile/public/18/18/sequence_globale.jpg\" rel=\"nofollow\">here</a> for a bigger image.<br/>\n<img src=\"http://i.stack.imgur.com/s4wkN.jpg\" alt=\"Zend Framework calls\"></p>\n\n<p>The dispatch has the following steps:</p>\n\n<blockquote>\n  <ul>\n  <li>instantiate a controller(15)\n  <ul>\n  <li>preDispatch (to a helper)(17-18)</li>\n  <li>preDispatch (interpret preDispatch data?)(19)</li>\n  <li>action (execute for results based on preDispatch data?)(20)</li>\n  <li>postDispatch (I do not understand this!?)(21)</li>\n  <li>postDispatch (to a helper but why?)(22-23)</li>\n  </ul></li>\n  <li><p>back to dispatcher(24)</p>\n  \n  <hr></li>\n  <li><p>What functionality is it referred to when a dispatch, preDispatch, postdispatch is done?<br/></p></li>\n  <li>What is a functionality of dispatcher in zend framework? Is it more or less a Dependency Injection module?</li>\n  </ul>\n</blockquote>\n"},{"tags":["php","mvc","kohana","kohana-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":285,"score":0,"question_id":8734842,"title":"Map query string to controller method parameter in Kohana 3.2","body":"<p>I want to setup my route so that url like <code>word/startswith?prefix=ab</code> maps to following code</p>\n\n<pre><code>class Controller_Word extends Controller_Mytemplate {\n    public function action_startswith($fragment){\n     /// Here $fragment should get \"ab\" value.\n    }\n}\n</code></pre>\n\n<p>Also could anyone tell me how can I get GET data in Kohana 3.2 controller? For the above scenario I can solve it by,</p>\n\n<pre><code>class Controller_Word extends Controller_Mytemplate {\n    public function action_startswith($fragment=null){\n        if($fragment==null){\n            /// set $fragment to $_GET['prefix'] but in Kohana way.\n        }\n    }\n}\n</code></pre>\n"},{"tags":["mvc","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":11755037,"title":"Codeigniter calling model from controller","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11754464/how-to-call-model-from-controller-in-codeigniter\">How to call model from controller in Codeigniter?</a>  </p>\n</blockquote>\n\n\n\n<p>I am a newbie in codeigniter. I want to create an application view sidebar menu and content from database mysql. </p>\n\n<p>My main pages controller is :\n    \n\n<pre><code>class Pages extends CI_Controller {\n\n        public function view($page = 'home')\n        {\n            $this-&gt;load-&gt;model('services_model');\n            $data['records']= $this-&gt;services_model-&gt;getAll();\n            if ( ! file_exists('application/views/pages/'.$page.'.php'))\n            {\n                // Whoops, we don't have a page for that!\n                show_404();\n            }\n\n            $data['title'] = ucfirst($page); // Capitalize the first letter\n\n            $this-&gt;load-&gt;view('templates/header', $data);\n            $this-&gt;load-&gt;view('pages/'.$page, $data);\n            $this-&gt;load-&gt;view('templates/footer', $data);\n\n        }\n\n}\n</code></pre>\n\n<p>My service_model is:</p>\n\n<pre><code>&lt;?php\nclass Services_model extends CI_Model {\n\n    function getAll() {\n        $q = $this-&gt;db-&gt;get('services');\n        if($q-&gt;num_rows() &gt; 0){\n        foreach ($q-&gt;result() as $row)\n        {\n            $data[] = $row;\n\n            }\n        return $data;\n    }\n    }\n}\n</code></pre>\n\n<p>And my view is : </p>\n\n<pre><code>&lt;ul class=\"blog-medium\"&gt;\n &lt;?php foreach($records as $row);?&gt;\n    &lt;li&gt;\n    &lt;div class=\"blog-medium-text\"&gt;      \n    &lt;h1&gt;&lt;a href=\"./post.html\"&gt;&lt;?php echo $row-&gt;title; ?&gt;&lt;/a&gt;&lt;/h1&gt;\n    &lt;p class=\"blog-medium-excerpt\"&gt;\n    &lt;?php echo $row-&gt;content; ?&gt; &lt;br /&gt;\n    &lt;a href=\"./post.html\" class=\"read_more\"&gt;Devamı &amp;rarr;&lt;/a&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"blog-medium-text\"&gt;&lt;p class=\"blog-info\"&gt;\n    &lt;img src=\"./images/icon-time.png\" alt=\"\" /&gt;March 14, 2012 \n    &lt;img src=\"./images/sep.gif\" alt=\"\" /&gt;&lt;img src=\"./images/icon-comment.png\" alt=\"\" /&gt;0 Yorum&lt;/p&gt;\n    &lt;/div&gt;&lt;/li&gt;\n    &lt;?php endforeach;?&gt;\n</code></pre>\n\n<p>So until the service_model in the pages controller everything was working?I can see my problem , used $data in two places but could not make the correct way in my mind. can you show me the correct way to make it work?</p>\n\n<p>edit 1: I found that the problem is in the views file : </p>\n\n<p>When I check error_logs :\nerrorlogs show :</p>\n\n<pre><code> PHP Parse error:  syntax error, unexpected 'endforeach' (T_ENDFOREACH)\n</code></pre>\n"},{"tags":["php","mvc","zend-framework","namespaces"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":8751426,"title":"Zend MVC with multiple Controller/View.. Namespaces","body":"<p>I've created an admin system in Zend which allows me to manage several websites. Each site has its own admin system which all use the same codebase, for example:</p>\n\n<pre><code>admin.example.com\nadmin.example2.com\n</code></pre>\n\n<p>point to the same installation.</p>\n\n<p>Every site that has a 'blog' currently uses the same controller/model/view. Moving forward, certain sites will have unique C/M/Vs that differ from the default. For these I would like to create a series of site namespaces... (/application being the default)</p>\n\n<pre><code>/application\n    /controllers\n    /models\n    /views\n/library\n    /example\n        /controllers\n        /models\n        /views\n    /example2\n        /controllers\n        /models\n        /views\n</code></pre>\n\n<p>When a specific controller exists I want to use that, for e.g:</p>\n\n<pre><code>/library/example/controllers/blog\n</code></pre>\n\n<p>If however that doesn't exist, I then want to try and use the generic controller:</p>\n\n<pre><code>/application/controllers/blog\n</code></pre>\n\n<p>if that doesn't exist I'll generate a 404. If I use a specific controller, I expect to use that namespace for its model and view as well. I realize this isn't a trivial question... but any help would be greatly appreciated. If you need further clarification, please ask.</p>\n\n<p>Thanks in advance :)</p>\n\n<p>Ben </p>\n"},{"tags":["mvc","extjs","sencha","sencha-architect"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":227,"score":1,"question_id":11734330,"title":"How to sync combobox and textfield value. i.e how to load different values from store on textfield,while I am changing values on combobox","body":"<p>I am new to EXTjs(and to Stackoverflow as well). I was struggling with this issue and at last decided to ask for help.My question is \" How to sync combobox and textfield values. i.e  how to load different values from 'store' on textfield,while I am changing values on combobox? \" My problem is that while I load values on combobox and I select them my textfield stays empty all the time. I tried \"Ext.getCmp().setValue();\" it works fine with this ,but I think it is not the best option if I'd have 100 textfields. I want combobox and textfield to be synched with store somehow. Any help is appreciated.  Situation in pictures are in links below :</p>\n\n<p><a href=\"http://imageshack.us/f/43/pic1jv.png/\" rel=\"nofollow\">pic one</a></p>\n\n<p><a href=\"http://imageshack.us/photo/my-images/15/pic2ml.png/\" rel=\"nofollow\">pic two</a></p>\n\n<p>And my code :</p>\n\n<p><strong>My app.js :</strong></p>\n\n<pre><code>Ext.Loader.setConfig({\n    enabled: true\n});\nExt.application({\n\n    name: 'work',\n\n    appFolder: 'app',\n\n\n    controllers: ['Work'],\n\n\n\n    launch: function() {\n\n\n        Ext.create('Ext.container.Viewport', {\n            //layout: 'fit',\n            items: [{\n                xtype: 'rightpanel' // gets it from view class\n            }\n\n            ]\n\n        });\n    }\n});\n</code></pre>\n\n<p><strong>My view RightPanel :</strong></p>\n\n<pre><code>Ext.define('work.view.works.RightPanel', {\n    extend: 'Ext.panel.Panel',\n    ALIAS: 'widget.rightpanel',\n    width: 300,\n    title: 'Building navigation',\n    animCollapse: true,\n    collapsible: true,\n    split: true,\n    minSize: 400,\n    maxSize: 400,\n    margins: '0 5 0 0',\n    //activeTab:1, tabPosition:'bottom',\n    initComponent: function() {\n        this.items = [{\n            xtype: 'form',\n            items: [{\n                xtype: 'combobox',\n                fieldLabel: 'BuildingID',\n                queryMode: 'local',\n                name: 'Bid',\n                displayField: 'Bid',\n                valueField: 'Bid',\n                id: 'Bid',\n                MODE: 'remote',\n                store: 'Work'\n            }, {\n                xtype: 'textfield',\n                fieldLabel: 'Address',\n                name: 'Address',\n                displayField: 'Address',\n                valueField: 'Address',\n                id: 'Address',\n                store: 'Work'\n            }]\n        }];\n\n        this.columns = [{\n            header: 'ID',\n            dataIndex: 'Bid',\n            flex: 1\n        }, {\n            header: 'Texts',\n            dataIndex: 'Address',\n            flex: 1\n        }];\n\n        this.callParent(arguments);\n\n    }\n});\n</code></pre>\n\n<p><strong>My store :</strong></p>\n\n<pre><code>Ext.define('work.store.Work', {\n    extend: 'Ext.data.Store',\n\n    model: 'work.model.Work',\n    storeId: 'workstore',\n    id: 'workstore',\n    autoLoad: true,\n\n    proxy: {\n        type: 'ajax',\n        limitParam: undefined,\n        startParam: undefined,\n        paramName: undefined,\n        pageParam: undefined,\n        noCache: false,\n\n        api: {\n            read: 'data/showWork.php' // just a .php file that reads values from database and shows them on combobox\n        },\n\n        reader: {\n            type: 'json',\n            root: 'data',\n            successProperty: 'success'\n        },\n\n        writer: {\n            type: 'json',\n            root: 'data',\n            encode: true\n        }\n\n    }\n});\n</code></pre>\n\n<p><strong>My Model class :</strong></p>\n\n<pre><code>Ext.define('work.model.Work', {\n    extend: 'Ext.data.Model',\n    //idProperty: 'WorkID',   \n    fields: [{\n        name: 'Bid',\n        type: 'int'\n    }, 'Address']\n});\n</code></pre>\n\n<p><strong>My Controller :</strong> </p>\n\n<pre><code> Ext.define('work.controller.Work', {\n   extend: 'Ext.app.Controller',\n\n   stores: ['Work'],\n   models: ['Work'],\n\n   views: [\n       'works.RightPanel' // name comes from view class\n   ],\n\n   init: function() {\n       console.log('Done');\n       this.control({\n           'viewport &gt; rightpanel': {\n               render: this.test\n           },\n           'rightpanel combobox[id=Bid]': {\n               select: this.change\n           }\n       });\n   },\n\n   change: function(buttons) {\n       var values = this.getStore('Work').collect('Address', 'Address', false);\n       var win = buttons.up('rightpanel'); //  gets the needed widget\n       var form = win.down('combobox'); // gets the needed form\n       var value = form.getValue(); // gets the value\n       console.log(\"value \" + value);\n   }\n});\n</code></pre>\n"},{"tags":["java","mvc","swing","design","architecture"],"answer_count":3,"favorite_count":5,"up_vote_count":14,"down_vote_count":0,"view_count":525,"score":14,"question_id":6960018,"title":"3 Swing applications designs : which is the best?","body":"<p>I'm quite new in desktop applications developpment and I have a pretty big project do deliver this summer. The thing is that the code has to be very clear, so I won't go in (much) trouble when I will update it.</p>\n\n<p>As a result, I whant a good \"separation of concerns\". And the most difficult part to me is the View-Controller separation.</p>\n\n<p>Now, I have read lots of tutorials, discussions etc. And I have designed a mini-app in 3 different ways. The app is simple : click on a button that transform a label in a \"Hello world\".</p>\n\n<p>What do you think of those 3 designs ?</p>\n\n<p>Is there a better design to meet my expectations ?</p>\n\n<h2>Design 1</h2>\n\n<p>View1.java :</p>\n\n<pre><code>public View1() {\n    initComponents();\n    this.controller = new Controller1(this);\n}\n\nprivate Controller1 controller;\n\npublic void updateLabel(String message){\n    this.jLabel1.setText(message);\n}\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\n    this.controller.doSomething();\n}\n\nprivate void initComponents() {\n...\njButton1.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            jButton1ActionPerformed(evt);\n        }\n    });\n...}\n</code></pre>\n\n<p>Controller1.java :</p>\n\n<pre><code>public class Controller1 {\n    public Controller1(View1 v){\n        this.view = v;\n    }\n\n    public void doSomething(){\n        this.view.updateLabel(\"Hello world\");\n    }\n\n    private View1 view;\n}\n</code></pre>\n\n<h2>Design 2</h2>\n\n<p>View2.java :</p>\n\n<pre><code>public View2() {\n        initComponents();\n        this.controller = new Controller2(this);\n\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                controller.doSomething();\n            }\n        });\n    }\n    public void updateLabel(String message){\n        this.jLabel1.setText(message);\n    }\n    private Controller2 controller;\n  ...\n</code></pre>\n\n<p>}</p>\n\n<p>Controller2.java :</p>\n\n<pre><code>public class Controller2 {\n\n        public Controller2(View2 v){\n            this.view = v;\n        }\n\n        public void doSomething(){\n            this.view.updateLabel(\"Hello world\");\n        }\n\n        private View2 view;\n}\n</code></pre>\n\n<h2>Design 3</h2>\n\n<p>View3.java :</p>\n\n<pre><code>public View3() {\n        initComponents();\n        this.controller = new Controller3(this);\n        this.jButton1.addActionListener(this.controller.listener);\n    }\n    private Controller3 controller;\n    public void updateLabel(String message){\n        this.jLabel1.setText(message);\n    }\n...}\n</code></pre>\n\n<p>Controller3.java :</p>\n\n<pre><code>public class Controller3 {\n\n    public Controller3(View3 v){\n        this.view = v;\n        this.listener = new MyListener(v);\n    }\n\n    private View3 view;\n    public MyListener listener;\n}\n</code></pre>\n\n<p>MyListener.java :</p>\n\n<pre><code>public class MyListener implements ActionListener{\n    private View3 view;\n\n    public MyListener(View3 v){\n        this.view = v;\n    }\n\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\n                this.view.updateLabel(\"Hello world\");\n            }\n}\n</code></pre>\n"},{"tags":["php","mysql","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":11749257,"title":"mysql update visits=visits+1 bug","body":"<p>I am writing a project in MVC, when I run this query:</p>\n\n<pre><code>mysql_query(\"UPDATE ads SET visits = visits+1 WHERE id = \".$ad-&gt;id);\n</code></pre>\n\n<p>from:</p>\n\n<blockquote>\n  <p>localhost/advertise/</p>\n</blockquote>\n\n<p>and MySQL works fine and adds 1 to visits field, but when I am using controller and method to see the page from:</p>\n\n<blockquote>\n  <p>localhost/advertise/index/index</p>\n</blockquote>\n\n<p>MySQL adds 2 to visits field but i traced my php code and the query was running only once\nmy tables type is innoDB and mysql version is 5.5.8</p>\n\n<p>Is that a MySQL bug?</p>\n"},{"tags":["c#",".net","mvc","pdf","printing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":232,"score":0,"question_id":11748722,"title":"Printing PDF from .NET MVC","body":"<p>I have a 5-80 page PDF that is generated by my page. I have this PDF in a byte array, which I could temporarily save to file if need be.</p>\n\n<p>I would prefer to not make the user download then print the PDF. Is there a fairly easy way to allow the user to print this file? Best case is I can somehow print directly from the <code>byte[]</code> or a <code>MemoryStream</code>.</p>\n"},{"tags":["c#","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":11746098,"title":"Curious about MVC Controllers?","body":"<p>Just a quick question, when you create a new controller for a new MVC ASP.Net app how does it know which controller to use. More specifically, given you create a new controller and you call it SockController in order to use said controller I would navigate to <code>http://mywebapp/sock</code>. How did the web app know that /Sock/ is linked to SockController? Is there a mapping somewhere ? Or if not what happens when if you call omit controller from the name when creating it, ie call it SockCont.</p>\n\n<p>Note: I am not a Web Dev im just curious so please don't post links to page with tons of text, im looking for a short simple answer.</p>\n"},{"tags":["html","asp.net-mvc-3","mvc","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":11747108,"title":"MVC3 how to get innerHtml from the return sting of @Html.ValidationMessageFor<> method?","body":"<p>I want to show the validation message summary in the tool tip of an html box. Something like this,</p>\n\n<pre><code>@Html.TextBoxFor(m =&gt; m.Contract.PrimaryContact.FirstName, new { @class = \"quarter\", title = @Html.ValidationMessageFor(m =&gt; m.Contract.PrimaryContact.FirstName) })\n</code></pre>\n\n<p>How can I do it? As of now am seeing the entire html mark up of the validation message in the title. Is there a way I can just see the validation message?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","mvc","design","view"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":11742905,"title":"PHP MVC, view loop handling","body":"<p>My controller returns a PDO array of several rows and columns. What is the best way of looping through the data in my view file? (or should I be doing more logic in the model?)</p>\n\n<pre><code>$user-&gt;getDetails();  //returns array in view\n\n\nforeach($user-&gt;getDetails() as $row)  // Prehaps? But how to index without being explicit with column names?\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc","implementation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":11745248,"title":"How to handle cases in which the generated content depends on the current user authorization?","body":"<p>I am using Ruby on Rails 3.2.2 and, since my system implementation, I would like to generate different outputs (in views) and / or to retrieve different records (in controllers) depending on the \"access-<em>er</em>\" user authorization (for instance, the authorization could depend on if the \"access-<em>ed</em>\" user <em>is</em> or <em>not</em> is the current \"access-<em>er</em>\" user). </p>\n\n<p>How can I handle the situation? That is, for example in order to handle if the user is or not the current user and so to display different content, should I implement two view files and / or controller actions for each case, or should I use <code>if else</code> statements directly in the view file and / or in the controller action?</p>\n"},{"tags":["mvc","coldfusion","erp","coldbox"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":252,"score":3,"question_id":5709926,"title":"CF Project getting too big, what shall one do?","body":"<p>A simple billing system (on top of ColdBox MVC) is ballooning into a semi-enterprisey inventory + provisioning + issue-tracking + profit tracking app.  They seem to be doing their own thing yet they share many things including a common pool of Clients and Staff (login's), and other intermingled data &amp; business logic.</p>\n\n<p>How do you keep such system modular? from a <strong>maintenance</strong>, <strong>testability</strong> &amp; <strong>re-usability</strong> stand point?  </p>\n\n<ul>\n<li><strong>single monolithic app</strong>? (i.e. new package for the base app)</li>\n<li><strong>ColdBox module</strong>? not sure how to make it 'installable' and what benefits does it bring yet.</li>\n<li><strong>Java Portlet</strong>?  no idea, just thinking outside the box</li>\n<li><strong>SOA architecture</strong>? through webservice API calls?</li>\n</ul>\n\n<p>Any idea and/or experience you'd like to share?</p>\n"},{"tags":["c#","asp.net-mvc-3","entity-framework","mvc"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":11743760,"title":"Adding a service layer to my application","body":"<p>Currently, I have a controller method that includes a try/catch statement for sending emails that loops through a db list:</p>\n\n<pre><code>try\n            {\n                // MailSender object declaration\n                MailSender objMail = new MailSender();\n\n                // Set SMTP server address\n                objMail.Host = \"smtp.test.com\";\n\n                // Sender's address\n                objMail.From = \"test@test.com\";\n\n                // Subject\n                objMail.Subject = surveyprogrammodel.Subject;\n\n                // HTML format?\n                objMail.IsHTML = true;\n\n                //Send to Mail Queue\n                objMail.Queue = true;\n                objMail.QueuePath = Server.MapPath(\"~\\\\MailQueue\\\\\");\n\n                     foreach (var item in EmailList)\n                        {\n\n                            //  Create dynamic link to the take the Survey\n                            var SurveyLink = strUrl + UrlContent + \"SurveyResponse/Create?MemberId=\" + item.PersonModels.MemberId + \"&amp;ProgramId=\" + item.ProgramId;\n\n                            // Recipient's address\n                            objMail.AddAddress(item.PersonModels.Email);\n\n                            // Body\n                            objMail.Body = surveyprogrammodel.Body + \"&lt;br /&gt;&lt;br /&gt;Please take the survey using the link below:&lt;br /&gt;&lt;br /&gt;&lt;a href=\\\"\" + SurveyLink + \"\\\"&gt;\" + SurveyLink + \"&lt;a/&gt;\";\n\n                            // Send message\n                            objMail.Send();\n\n                            objMail.ResetAddresses();\n                        }\n                    }\n\n                    catch (Exception ex)\n                    {\n                        Response.Write(\"An error occurred: &lt;font color=red&gt;\"+ ex.Message + \"&lt;/font&gt;\");\n                    }\n</code></pre>\n\n<p>I am wondering how I could break this statement out into a sort of service, so that I could easily swap mailer implementations if I needed to.  Is there a good example that can explain the best way to accomplish this?</p>\n"},{"tags":["asp.net-mvc-3","mvc","deployment","global-asax"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1169,"score":4,"question_id":10693405,"title":"could not load type MvcApplication on Global.asax","body":"<p>I copied my MVC3 Razor website using FTP. However, when I type the URL I get an error:</p>\n\n<pre><code>\"Could not load type Mynamespace.MvcApplication\"\n</code></pre>\n\n<p>and it shows the problem is with Global.asax:</p>\n\n<pre><code> Line 1:  &lt;%@ Application Codebehind=\"Global.asax.cs\" Inherits=\"MvcPanamaVibes.MvcApplication\" Language=\"C#\" %&gt;\n</code></pre>\n\n<p>My project runs fine on my computer. I tried by only uploading Global.asax and the rest but got the error. I uploaded Global.asax.cs as well but the problem persists.</p>\n\n<p>If my application is fully compiled and runs fine on my computer, why is it complaining about this? what am I missing?</p>\n"},{"tags":["c#","mvc","design-patterns"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":138,"score":3,"question_id":11733656,"title":"Is this code a proper MVC architecture?","body":"<p>I am learning MVC patterns. I have created this very simple code as a demo. </p>\n\n<p>The target of the code is simple. I have created a car object which has a initial speed of 95 miles per hour. there are 1 label to show the current speed, 2 buttons, increase and decrease speed. </p>\n\n<p>on clicking each of the buttons, the speed is incremented or decremented by 1 and the label shows the modified speed. once the speed exceeds 100, the increase button is disabled, user can only decrease the speed now. once the speed is decreased below 100, the increase button is enabled again.</p>\n\n<p>this is the codes for my Model, View and Controller.</p>\n\n<h2>Interface IModel</h2>\n\n<pre><code>public interface IModel\n{\n    int getCurrentSpeed();\n\n    int increaseSpeed();\n    int decreaseSpeed();\n\n    void updateObserver();\n    void setView(IView objView);\n}\n</code></pre>\n\n<h2>Class carModel (concrete class from IModel)</h2>\n\n<pre><code>public class carModel : IModel\n{\n    private IView objLocalView;\n    private int currentSpeed;\n\n    //Constructor\n    public carModel(int carSpeed)\n    {\n        this.currentSpeed = carSpeed;\n    }\n\n    public void setView(IView objView)\n    {\n        objLocalView = objView;\n    }\n\n    public int increaseSpeed()\n    {\n        currentSpeed++;\n        updateObserver();\n        return currentSpeed;\n    }\n\n    public int decreaseSpeed()\n    {\n        currentSpeed--;\n        updateObserver();\n        return currentSpeed;\n    }\n\n    public void updateObserver()\n    {\n        objLocalView.updateStatus(this);\n    }\n\n    public int getCurrentSpeed()\n    {\n        return currentSpeed;\n    }\n\n}\n</code></pre>\n\n<h2>Interface IController</h2>\n\n<pre><code>public interface IController\n{\n    void requestIncreaseSpeed();\n    void requestDecreaseSpeed();\n}\n</code></pre>\n\n<h2>Class carController (concrete class from IController)</h2>\n\n<pre><code>public class carController : IController\n{\n    private IModel objLocalModel;\n    private IView objLocalView;\n\n    //constructor\n    public carController(IModel objModel, IView objView)\n    {\n        objLocalView = objView;\n        objLocalModel = objModel;\n        objLocalModel.setView(objView);\n    }\n\n    public void requestIncreaseSpeed()\n    {\n        int modifiedSpeed = objLocalModel.increaseSpeed();\n        checkSpeedLimit(modifiedSpeed);\n    }\n\n    public void requestDecreaseSpeed()\n    {\n        int modifiedSpeed = objLocalModel.decreaseSpeed();\n        checkSpeedLimit(modifiedSpeed);\n    }\n\n    public void checkSpeedLimit(int modifiedSpeed)\n    {\n        if (modifiedSpeed &gt; 100)\n        {\n            objLocalView.disableIncreaseSpeed();\n        }\n        else\n        {\n            objLocalView.enableIncreaseSpeed();\n        }\n    }\n\n}\n</code></pre>\n\n<h2>interface IView</h2>\n\n<pre><code>public interface IView\n{\n    void enableIncreaseSpeed();\n    void disableIncreaseSpeed();\n\n    void updateStatus(IModel objModel);\n}\n</code></pre>\n\n<h2>form1.cs (the view class which users will see)</h2>\n\n<pre><code>public partial class Form1 : Form, IView\n{\n    private IModel objModel;\n    private IController objController;\n\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        objModel = new carModel(95);\n        objController = new carController(objModel, this);\n\n        updateStatus(objModel);\n    }\n\n    public void enableIncreaseSpeed()\n    {\n        btnIncrease.Enabled = true;\n    }\n\n    public void disableIncreaseSpeed()\n    {\n        btnIncrease.Enabled = false;\n    }\n\n    public void updateStatus(IModel objModel)\n    {\n        lblCurrentSpeed.Text = \"\";\n        lblCurrentSpeed.Text = objModel.getCurrentSpeed().ToString();\n    }\n\n    private void btnIncrease_Click(object sender, EventArgs e)\n    {\n        objController.requestIncreaseSpeed();\n    }\n\n    private void btnDecrease_Click(object sender, EventArgs e)\n    {\n        objController.requestDecreaseSpeed();\n    }\n}\n</code></pre>\n\n<p>I am not sure if this is a proper MVC design? because I cant see much differences from a regular 3 tier architecture (apart from the Model and View are communicating here, which does not happen in 3 tier architecture)</p>\n"},{"tags":["asp.net-mvc","mvc","upload","progress-bar"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2720,"score":3,"question_id":339281,"title":"Probs with ASP.NET MVC Postback + Callback Synchronously","body":"<p>I am trying to create an upload control for ASP.NET MVC with jQuery progress bar. In ASP.NET the implementation works no problems, but in MVC the problem is that the server doesn't respond to my callbacks until the file is uploaded.</p>\n\n<p>The upload control is based on html file upload element, and I cannot for the life of me, understand how MVC handles postback + callback synchronously ?</p>\n\n<p>I have searched for a whole bunch of answers, but <strong>all I can find is a \"callback+callback\" solution and NOT a postback+callback.</strong></p>\n\n<p>Does anyone have any idea how to solve this problem for MVC ?</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":11734790,"title":"Nested models in backbone.js","body":"<p>If I have a deeply-nested model graph, coming from the server (a lot of children objects, some of which arrays). Is it a good practice to turn each of the children of the object, into Models and Collections respective, when I turn the object into a Model? This will be handy because it will reduce the confusion of what should be called how. For example, it is much clearer to have something like that:</p>\n\n<pre><code>myModel.get(\"child1\").get(\"collection1\").get(0);\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>myModel.get(\"child1\").collection1[0];\n</code></pre>\n\n<p>On another side, it might turn into a performance hell if we are trying to convert these at runtime, especially if the object graph is really deep. </p>\n\n<p>What is the best practice there?</p>\n"},{"tags":["php","mvc","validation","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":11731147,"title":"Set general form validation error in CodeIgniter","body":"<p>Say I have a login form in CodeIgniter -- I can set validation rules for individual inputs, but is there a way to throw a model/controller level error and a message?</p>\n\n<p>Specifically, if the below method does not return TRUE, I want my form to re-display with the message \"The email address or password is incorrect\".  Currently the controller just reloads the view and the set_value()s</p>\n\n<pre><code>public function authorize_user()\n{\n    $this-&gt;db-&gt;where('email', $this-&gt;input-&gt;post('email'));\n    $this-&gt;db-&gt;where('password', $this-&gt;input-&gt;post('password'));\n\n    $q = $this-&gt;db-&gt;get('users');\n\n    if($q-&gt;num_rows() == 1){\n        return true;\n    }\n}\n</code></pre>\n\n<p>Perhaps I'm overthinking this and I should just attach that error message to the email input?</p>\n"},{"tags":["mvc","backbone.js","definition"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":11726398,"title":"Explain \"Backbone is not a strict MVC\"","body":"<p>MVC stands for model, view and controller. Backbonejs.or explains this by comparison to Rails, more <a href=\"http://backbonejs.org/\" rel=\"nofollow\">here</a> and below. Because I don't know Rails, the comparison is quite meaningless. The exctract below highlight the controller, perhaps a reason not strictly an MVC -- not sure what it infers. What does it mean that Backbone is not a strict MVC?</p>\n\n<p><strong>Extract from the Backbonejs.org -site (source <a href=\"http://backbonejs.org/\" rel=\"nofollow\">here</a>).</strong></p>\n\n<blockquote>\n  <p><strong>How does Backbone relate to \"traditional\" MVC?</strong></p>\n  \n  <p>Different\n  implementations of the Model-View-Controller pattern tend to disagree\n  about the definition of a controller. <em>If it helps any, in Backbone,\n  the View class can also be thought of as a kind of controller,</em>\n  dispatching events that originate from the UI, with the HTML template\n  serving as the true view. We call it a View because it represents a\n  logical chunk of UI, responsible for the contents of a single DOM\n  element.</p>\n  \n  <p>Comparing the overall structure of Backbone to a server-side MVC\n  framework like Rails, the pieces line up like so:</p>\n  \n  <ul>\n  <li><strong>Backbone.Model</strong> – Like a Rails model minus the class methods. Wraps a row of data in business logic.</li>\n  <li><strong>Backbone.Collection</strong> – A group of models on the client-side, with sorting/filtering/aggregation logic.</li>\n  <li><strong>Backbone.Router</strong> – Rails routes.rb + Rails controller actions. Maps URLs to functions.</li>\n  <li><strong>Backbone.View</strong> – A logical, re-usable piece of UI. Often, but not always, associated with a model.</li>\n  <li><strong>Client-side Templates</strong> – Rails .html.erb views, rendering a chunk of HTML.</li>\n  </ul>\n</blockquote>\n\n<p>I added the italics to highlight the point why it is not apparently a MVC. Above I can find the model and view -terms -- but the term <code>controller</code> is left out explicitly, instead using terms router, collection and templates. Why are router/collection/templates not a controller? </p>\n\n<p>I find this controller -definition, <code>controller mediates input, converting it to commands for the model or view</code> (Wikipeadia <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">here</a>), a bit fuzzy.</p>\n"},{"tags":["java",".net","mvc","template-engine","templating"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":812,"score":3,"question_id":7192534,"title":"Is there a templating language similar to Razor for Java Spring web applications?","body":"<p>I'm in love with razor templates in .NET MVC 3. Is there anything close for java?</p>\n\n<p>I'd be looking for something where I could avoid using JSTL tags and instead do something like this:</p>\n\n<pre><code>&lt;c:if test=${bla}&gt;\n   &lt;span&gt;my html&lt;/span&gt;\n&lt;/c:if&gt;\n</code></pre>\n\n<p>and instead do</p>\n\n<pre><code>@if(bla)\n{\n  &lt;span&gt;my html&lt;/span&gt;\n}\n</code></pre>\n\n<p>I'm assuming there must be similar, since microsoft never had an original thought ;)</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":204,"score":2,"question_id":11439212,"title":"No parameterless constructor defined for this object?","body":"<p>I got above subjected error while POST the form and I think the root cause of subjected error is \"DropDownListFor\", where plural SelectList twice called, If Yes, please suggest the solution?</p>\n\n<p>If I change from \"x=>x.Values\" to \"x=>x.Name\" then also get error \"There is no ViewData item of type 'IEnumerable' that has the key 'DDLView.Name'.\"</p>\n\n<p><strong>Editor Template</strong></p>\n\n<pre><code>@model DropDownListViewModel\n\n@Html.LabelFor(x=&gt;x.Values, Model.Label)\n@Html.DropDownListFor(x=&gt;x.Values, Model.Values)\n</code></pre>\n\n<p><strong>View Model</strong></p>\n\n<pre><code>public class HomePageViewModel\n{\n    public DropDownListViewModel DDLView { get; set; }\n}\n\npublic class DropDownListViewModel\n{\n    public string Label { get; set; }\n    public string Name { get; set; }\n    public SelectList Values { get; set; }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public ActionResult Index()\n    {\n        HomePageViewModel homePageViewModel = new HomePageViewModel();\n\n        homePageViewModel.DDLView = new DropDownListViewModel\n                                        {\n                                            Label = \"drop label1\",\n                                            Name = \"DropDown1\",\n                                            Values = new SelectList(\n                                                         new[]\n                                                             {\n                                                                 new {Value = \"1\", Text = \"text 1\"},\n                                                                 new {Value = \"2\", Text = \"text 2\"},\n                                                                 new {Value = \"3\", Text = \"text 3\"},\n                                                             }, \"Value\", \"Text\", \"2\"\n                                                         )\n                                        };\n}\n\n[HttpPost]\n    public ActionResult Index(HomePageViewModel model)\n    {\n        return View(model);\n    }\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>@model Dynamic.ViewModels.HomePageViewModel\n@using (Html.BeginForm())\n{\n@Html.EditorFor(x=&gt;x.DDLView)\n\n\n&lt;input type=\"submit\" value=\"OK\" /&gt;\n</code></pre>\n\n<p>}</p>\n"},{"tags":["objective-c","ios","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":11494811,"title":"MVC and the use of a UIButton to dynamically create UI elements","body":"<p>I understand the concept of MVC. At least I hope I do but there is a particular situation that I have encountered recently that makes me think that I actually have no idea.</p>\n\n<p><strong>Problem:</strong>\nI am trying to create a class that when applied to an existing button adds the functionality of editing that button's title. It does so by dynamically generating a UITextField that will in turn be populated with the Button's new name. I hold the logic of adding the UITextField in a class called CustomAnimation and initializing it in the following way:</p>\n\n<pre><code>CustomAnimation *yar = [[CustomAnimation alloc] initWithButton:customButton];\n</code></pre>\n\n<p>The problem that I encounter is when I am trying to dynamically create a UIButton from a custom class like CustomAnimation and try to assign a target/action to it. Since the UIButton is actually generated inside the ViewController FROM the CustomAnimation class the former should get a pointer to the parent ViewController and then set it as the target. </p>\n\n<pre><code>[classButton addTarget:viewController action:@selector(dostuff:) forControlEvents:UIControlEventTouchUpInside];\n</code></pre>\n\n<p>All is good except one thing - <strong>dostuff</strong> method should reside inside the ViewController in order to be visible for that button and here everything turns into a hack. </p>\n\n<p><em>What is the correct approach when you want to generate temporary UI elements from inside a Class instead of the Controller?</em></p>\n\n<p>Thank you</p>\n"},{"tags":["iphone","ios","xcode","mvc"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":8024265,"title":"Good model design strategies","body":"<p>I am working my way through iOS programming these days and am not sure if my program implementation strategies are the greatest way to go about doing things.</p>\n\n<p>From my understanding, the model should be a run alone program, that is if I were to call it's functions through the command line by providing the requisite inputs, the program ought to execute itself and yield the desired results.</p>\n\n<p>Several times, I find my model and VC interwined together. That is, although the VC is purely handling the View and user input and accordingly calling the functions established in the model, it still seems to me that the model would not function independently without the presence of a view.</p>\n\n<p>My question is essentially framed from this quirk, do you guys insist on your models' to run independently from the View controller or is it OK to have them intervined and dependent one each other.</p>\n"},{"tags":["asp.net-mvc","mvc","postback","persist"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":373,"score":0,"question_id":8932199,"title":"How to re-use model data on post back with MVC","body":"<p>I'm passing structured data to my MVC page when it loads initially. After the user submits a contact form, I want to re-use the same data (I just \"leave\" the same page up) so I don't have to hit the database again. I declared a variable global to the controller to store the model data, but it's null at the end  of the post back, so it looks like I can't re-use it there.</p>\n\n<p>Seems like this would be a typical scenario. How do I handle it?</p>\n"},{"tags":["javascript","mvc","separation-of-concerns"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":11729262,"title":"Does data-id violate separation of concerns","body":"<p>My question is simple: </p>\n\n<p>Does adding the \"data-\" notation to your mark-up  violate MVC's separation of concerns?</p>\n\n<p>Example:\n<code>&lt;div id=\"myDiv\" data-id=\"34\"&gt;&lt;/div&gt;</code></p>\n\n<p>or if you're using a templating system, then\n<code>&lt;div id=\"myDiv\" data-id=\"{{myPrimaryKey}}\"&gt;&lt;/div&gt;</code></p>\n\n<p>There's some debate about that amongst my co-workers.  My opinion is that it does violate SoC because you are embedding data into your HTML mark-up (AKA your view).  It seems like anything within your markup should only be concerned with the actual displaying/formatting data. But maybe I'm being too much of a purist?</p>\n\n<p>Background: The project that trigged this discussion is a pure JavaScript client with RESTful web services as the back end.  Data is retrieved via AJAX calls to the web service.  </p>\n"},{"tags":["objective-c","osx","mvc","nsnotificationcenter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":11726504,"title":"Correct use of NSNotificationCenter?","body":"<p>I want to present a moderate volume of debug &amp; logging messages (NSStrings) from deep within the model of my app to a panel in the UI, on the order of 2 or 3 lines every second. I anticipate needing this mostly during development, though I may leave the 'console' in for production. I am trying to keep to a clean MVC pattern since I don't know exactly how this app is going to turn out (it's a side project simulation engine, nothing commercial.)</p>\n\n<p>I have implemented a method to write a log message to the view in my NSWindowController subclass by appending a line to an NSTextView. It works fine. However, I don't want my model - the source of the messages - to know anything about the WindowController, for obvious reasons. So:</p>\n\n<ul>\n<li><p>The NSNotificationCenter API seems to fit the bill. Does it? My alternatives would be a chain of log mechanisms that pass the message up the chain (Model->Document->WindowController->View), which is messy, or having the WC act as a delegate for the model's log method (making the WC adopt a simple protocol.) Again, that seems a bit scrappy. KVO doesn't seem to be a good fit for this because it's not some model state property that's changing. Have I missed anything?</p></li>\n<li><p>Should I expect significant performance hit by slamming NSNotificationCenter with multiple notifications each second?</p></li>\n</ul>\n\n<p>Edit: I should say, it does work, but is it right?</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":136,"score":2,"question_id":8837550,"title":"How to pass complex model from view to controller (with saving some changed data)?","body":"<p>I have a model with complex properties like:</p>\n\n<pre><code>public partial class CrmDefinedEntity\n{ \n   private List&lt;string&gt; attr1;\n   private List&lt;int&gt; attr2;\n   private List&lt;CustomType&gt; attr3;\n   string txt;\n}\n</code></pre>\n\n<p>and I want to change  <code>attr1</code> property (change some string members) in view and than save everything in an action. </p>\n\n<pre><code>public ActionResult SaveTest(CrmDefinedEntity model)\n{\n   return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>What is the best approach for that?</p>\n"},{"tags":["php","html","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":151,"score":1,"question_id":11707784,"title":"PHP: Regarding the view layer in MVC?","body":"<p>Regarding the MVC pattern, the view layer is supposed to be the functions that 'return' HTML data, or the view layer is actually the HTML data itself?</p>\n"},{"tags":["javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":11714816,"title":"Integrating Javascript MVC frameworks with the backend","body":"<p>I'm using a JS MVC framework (sammy) for the first time and I'm clueless about what is the preferred way of sending data to the backend. In my case I have a js object with all the data that I need to process and add in the database. It looks something like this - </p>\n\n<pre><code>object = { 1: ['a'], 2: ['b'], .... };\n</code></pre>\n\n<p>Should I use jQuery's Get (or Post) methods to send this via ajax or is there any other way to do it?</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net-mvc","mvc","architecture","viewmodel"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":187,"score":4,"question_id":8991346,"title":"MVC architecture - re-using the same viewmodel for reads and edits","body":"<p>Say we have the following (overly simple) scenario:</p>\n\n<p>We have a screen to view person details and a screen to edit person details.</p>\n\n<p>The screen display person details has the following fields (as display only):</p>\n\n<p>First Name \nLast Name\nBio</p>\n\n<p>The screen edit person details shows has following fields (in input controls):</p>\n\n<p>ID (hidden)\nFirst Name \nLast Name\nBio</p>\n\n<p>Say our display viewmodel looks like this:</p>\n\n<pre><code>    public class DisplayPersonViewModel\n    {\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public string Bio { get; set; }\n    }\n</code></pre>\n\n<p>And our edit viewmodel looks like this:</p>\n\n<pre><code>public class EditPersonViewModel\n{\n    [Required]\n    public int ID { get; set; }\n\n    [Required]\n    [StringLength(20)]\n    public string FirstName { get; set; }\n\n    [Required]\n    [StringLength(20)]\n    public string LastName { get; set; }\n\n    [Required]\n    public string Bio { get; set; }\n}\n</code></pre>\n\n<p>Not much difference between the 2, eh? The edit model has one extra field (ID) and some of attributes on the properties. Now, if we were to combine the 2 like this:</p>\n\n<pre><code>    public class DisplayPersonViewModel\n    {\n        [Required]\n        [StringLength(20)]\n        public string FirstName { get; set; }\n\n        [Required]\n        [StringLength(20)]\n        public string LastName { get; set; }\n\n        [Required]\n        public string Bio { get; set; }\n    }\n\n    public class EditPersonViewModel : DisplayPersonViewModel\n    {\n        [Required]\n        public int ID { get; set; }\n    }\n</code></pre>\n\n<p>This is certainly more DRY, since we don't have duplicate fields to maintain, but now we have extraneous info (attributes) on our display viewmodel. I'm leaning more towards the second approach, regardless, because some of our screens have over 25 fields! (...and that's out of my control, so please don't harp on it :) ...) However, I just want to hear opinions to get a better sense of what may be \"best practice\".</p>\n"},{"tags":["javascript","mvc","angularjs"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":950,"score":3,"question_id":11721863,"title":"AngularJS - how to get an ngRepeat filtered result reference","body":"<p>I use ng-repeat directive with filter like so:</p>\n\n<pre><code>ng-repeat=\"item in items | orderBy:'oreder_prop' | filter:query | limitTo:4\"\n</code></pre>\n\n<p>and I can see the rendered results fine, now I want to run some logic on that result in my controller. The question is how can I grab the result items reference?</p>\n\n<p><strong>Update:</strong></p>\n\n<hr>\n\n<p>Just to clarify: I'm trying to create an auto complete, I have this input:</p>\n\n<pre><code>&lt;input id=\"queryInput\" ng-model=\"query\" type=\"text\" size=\"30\" placeholder=\"Enter query\"&gt;\n</code></pre>\n\n<p>and then the filtered results:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li  ng-repeat=\"item in items | orderBy:'oreder_prop' | filter:query | limitTo:4\"&gt;{{item.name}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>now I want to navigate the result and select one of the items.</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","naming-conventions"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":8576571,"title":"Specifying parameter type later and keeping the MVC naming convention","body":"<p>I am in a situation where i want to define the parameter type inside the method. But if i do something like this:</p>\n\n<pre><code>    public class UserModel\n    {\n        public string InputName { get; set; }\n    }\n\n    [HttpPost]\n    public ActionResult Index(object obj)\n    {\n        UserModel test = obj as UserModel;\n        ViewBag.Test = test.InputName;\n\n        return View();\n    }\n</code></pre>\n\n<p>The naming convention, that there is supposed to be in my <code>obj</code> when posting a form, does not take place? I think.\nI wanna do this, because the <code>obj</code> type is located elsewhere.\nCan this be done somehow? Do I need to overwrite something?</p>\n\n<p>Edit: - Another way of addressing my problem.</p>\n\n<p>When you post a form in a MVC web application. You receive the data by declaring a parameter type in your ActionResult. And here a naming convention takes place right? But what if i don't know the parameter type right away? How can I declare the parameter type later inside the ActionResult method and get the naming convention to happen there?</p>\n\n<p>Hope it makes sense, and sorry for my English!</p>\n"},{"tags":["python","mvc","pyqt4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":11719782,"title":"Error while implementing a StringListModel from QAbstractListModel in Pyqt","body":"<p>The purpose of this code is to show a list of string with a model herited from <code>QtCore.QAbstractListModel</code></p>\n\n<pre><code>import sys\nfrom PyQt4 import QtGui, QtCore\n\nclass StringListModel(QtCore.QAbstractListModel):\n    def __init__(self, strings):\n        QtCore.QAbstractListModel.__init__(self)\n        self._string_list = strings\n    def rowCount(self):\n        return len(self._string_list)\n    def data(self, index, role):\n        if not index.isValid() : return QtCore.QVariant()\n        if role != QtCore.Qt.DisplayRole : return QtCore.QVariant()\n        if index.row() &lt;= self.rowCount() : return QtCore.QVariant()\n        return QtCore.QVariant(self._string_list[index.row()])\n    def headerData(self, section, orientation, role = QtCore.Qt.DisplayRole):\n        if role != QtCore.Qt.DisplayRole : return QtCore.QVariant()\n        if orientation == QtCore.Qt.Horizontal : return QtCore.QVariant(\"Column %s\"%section)\n        else:\n            return QtCore.QVariant(\"Row %s\"%section)\n\nif __name__ == '__main__':\n    a = QtGui.QApplication(sys.argv)\n    lines = [\"item 1\", \"item 2\", \"item 3\"]\n    model = StringListModel(lines)\n    view = QtGui.QListView()\n    view.setModel(model)\n    view.setWindowTitle(\"String list model\")\n    view.show()\n    a.exec_()\n</code></pre>\n\n<p>The error I've got is </p>\n\n<blockquote>\n  <p>TypeError: rowCount() takes exactly 1 positional argument (2 given)</p>\n</blockquote>\n"},{"tags":["java","asp.net-mvc","mvc","spring-mvc","viewmodel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":11721945,"title":"ViewModel in Java (Spring)","body":"<p>I've read much about the usage of ViewModel in ASP.Net MVC, and in fact used the pattern myself.</p>\n\n<p>Now that I'm looking at MVC in Java (specifically using the Spring framework), it doesn't seem to get any attention.</p>\n\n<p>What is the reason for that?</p>\n\n<p>Is there some other mechanism which is more suitable for Java?</p>\n\n<p>(The idea of course is to separate the core Models of the application from some ViewModel which is more View specific)</p>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","domain-model"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":173,"score":1,"question_id":9077354,"title":"ASP.NET - How to structure MVC3 models and views using the Entity Framework?","body":"<p>I am new to ASP.NET, so my question may be silly and influenced by years of using Java/JSF.</p>\n\n<p>I want to implement a web application using ASP.NET with MVC3 and the Entity Framework 4.1. As it is a business application it should be secure by means of preventing data manipulation and by means of concurrency.</p>\n\n<p>Thus I planned using optimistic locking which the Entity Framework supports. But when it comes to using the MVC paradigm and the options that it offers, I am not sure how to fulfill the security aspects named above. </p>\n\n<p><strong>Example</strong></p>\n\n<p>I have a domain model with an entity type \"customer\" which has the attributes</p>\n\n<ul>\n<li>ID (Database PK)</li>\n<li>Name</li>\n<li>Birthday</li>\n<li>Version (used for optimistic locking)</li>\n</ul>\n\n<p>In order to prepare it for a view to edit its data, I additionally use a view model \"customerView\" with the following attributes</p>\n\n<ul>\n<li>Name</li>\n</ul>\n\n<p>In the controller I load a specific record from the database, transfer the values to the view model and put it into a strongly typed view. This works great - the value is shown in the web form and I am able to post back the changes. As the view model does not include the ID and the version (resulting in not being part of the postback), I am not able to map the values back to the domain model as it got lost during the request-response-lifecyle.</p>\n\n<p>Surely, I can add the ID and the version as hidden input field which I'd like to avoid as it enabled for data manipulation. Someone could change the ID or version before posting the data back, which might result in unwanted behaviour as I am not able to compare the data send back to the server with the one delivered to the web form (especially ID and version).</p>\n\n<p>I think one way would be to store the data record/domain model (or at least the record's ID) I fetched before displaying the edit view in the session in order to avoid sending unwanted fields back and forth, though I know that this is not the best way and might influence application performance. What about using another session state then the default one, e.g. SQL Server? This would enable for saving at least one database operation as I don't have to load the record from the database another time in order to transfer the values from the view model. I can get the domain model record from the session and even might check for data manipulation.</p>\n\n<p>I hope the example illustrates the problems I am facing. </p>\n\n<p>Maybe there is an even better way to approach these issues. Maybe I am totally confused ;)</p>\n"},{"tags":["java","mvc","design-patterns","keylistener"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":11718565,"title":"How do I separate classes for MVC design pattern in Java (KeyListener separate from JFrame)?","body":"<p>I am making an arkanoid game in java using the MVC design pattern and I do not know how to make the Controller class seperate from the view Class. Its should be simple enough task i want to make the keyListener in the controller class while keeping all the visual stuff in the View class (i can deal with the model myself). For some reason I cannot find how to do that. For now i have one view class that extends JFrame and implements keylistener.</p>\n\n<p>I would prefer an answer that posts 2 small classes with the code. </p>\n"},{"tags":["xml","mvc","jsf-2","rss"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":2,"view_count":86,"score":2,"question_id":11717431,"title":"Create RSS Feed JSF 2.0?","body":"<p>i'm trying to provide an RSS feed on a site built using JSF 2.0. Before i start to code it my self, i thought i'd ask you guys if there is a standard way to do this? Googling around for a bit didn't bring up any results, however i also use CakePHP once in a while and there you can just use different views on the same model (xhtml, xml, csv whatever) which makes total sense since this is what using a MVC pattern is all about. Is there any standard layout, component or something like that i can just use? Thank you guys in advance, every hint is highly appreciated!</p>\n"},{"tags":["objective-c","osx","mvc","nsviewcontroller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":10859510,"title":"View Controller Doesn't respond to Action Methods","body":"<p>I have a simple test app (in OSX) that has a view controller with a button in its view.  The button's action method is in the view controller's class, and that IBAction is connected in IB (through File's Owner).  When the button is clicked, I get an EXC_BAD_Access error (except occasionally I get -[NSRunLoop buttonClick:] instead). I've read a bunch of posts here on SO having to do with NSViewControllers not being in the responder chain, but also that specifically hooking the action method up in IB should work. The only code I have is this:</p>\n\n<p>In the app delegate:</p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {\n    TestController *controller = [[TestController alloc] initWithNibName:@\"TestController\" bundle:nil];\n    [self.window.contentView addSubview:controller.view];\n}\n</code></pre>\n\n<p>And, in the TestController class, just this:</p>\n\n<pre><code>-(IBAction)buttonClick:(id)sender {\n    NSLog(@\"%@\",sender);\n}\n</code></pre>\n\n<p>I have 2 questions. Why is this happening, and where is the correct mvc place to put IBActions for button methods (shouldn't controller classes handle these)?</p>\n"},{"tags":["c#","mvc","html-helper"],"answer_count":2,"favorite_count":1,"up_vote_count":19,"down_vote_count":0,"view_count":4747,"score":19,"question_id":5832692,"title":"Html.ActionLink cannot be dynamically dispatched","body":"<p>I have a problem with MVC3</p>\n\n<p>I'm trying to use <code>@Html.ActionLink()</code> to generate a Link for titles in my blog project.</p>\n\n<p>Using constant strings in <code>ActionLink</code> works just dandy, but if I use <code>Posts.Title</code> (the Title of the current Post model being looped), I get this exception:</p>\n\n<pre><code>CS1973: 'System.Web.Mvc.HtmlHelper&lt;dynamic&gt;' has no applicable method \nnamed 'ActionLink' but appears to have an extension method by that name.  \nExtension methods cannot be dynamically dispatched. Consider casting  \nthe dynamic arguments or calling the extension method without the  \nextension method syntax.\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby","oop","mvc","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":11714649,"title":"Best MVC approach when passing objects to a view from a controller? (Rails)","body":"<p>I have three tables: User, Task, and UserTask (which has User and Task as foreign keys, no other columns). An entry in the UserTask table <em>may or may not exist</em> for a particular User/Task combination (UserTask records are created as needed for scalability reasons). </p>\n\n<p>In my view, I'd like to show all Tasks for the currently logged in User. For each Task, I want to display the text \"yes\" if a corresponding record exists in the UserTask table; otherwise I want to display \"no\". But I'm a bit unsure of what objects I should pass to the view from the controller, and how I should interact with objects (i.e. what I am allowed to do) once they are passed to the view.</p>\n\n<p>Should I pass the User, Tasks, and UserTasks as separate variables from the controller to the view? This way, I can show all Tasks by simply iterating through the Tasks variable, and for each Task I can use a <code>where</code> (ActiveRecord query) in the view to determine whether there is a UserTask for each Task. Thing is, is it okay to do <code>where</code> and <code>find</code> queries on object passed into a view? I always assumed you leave that to the controller and only do simple things in the view, like iteration over objects passed to the view (correct me if that is wrong).</p>\n\n<p>Or should I build a Hash in the controller where each key is a Task and each value is a UserTask, and then pass that Hash to the view? This way, I can show all Tasks in the view by simply iterating through all of the keys, and for each Task key I can display \"yes\" or \"no\" by checking whether the value is null or not.</p>\n\n<p>Or is there another way (i.e. joining tables or something... not sure how that would work)?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":819,"score":0,"question_id":7840291,"title":"ActionLink jQuery parameter","body":"<p>I've created an ASP.NET MVC 2.0 application.</p>\n\n<p>I have a dropdownbox with a list of “reports”. Next to the dropdown, I have two ActionLink. One that says “<em>Add new report</em>” and the other one say “<em>Edit report</em>”.</p>\n\n<p>The “<em>Add new report</em>” link, is pretty straightforward … it calls a ViewResult in my Controller and returns a <code>new View()</code>. Great! this works no problem!</p>\n\n<p>The “<em>Edit report</em>” link is a bit trickier since I wish to pass the selected ID of the item currently selected inside the dropdown to the ActionLink.</p>\n\n<p>I've found an article that shows me how to AJAXify my ActionLink but I’m doing something wrong…</p>\n\n<p>Here is the ActionLink in the View for the “Edit” link:</p>\n\n<pre><code>&lt;%=Html.ActionLink(\"Edit report\", \"EditReport\", \"Report\", null, new { id = \"edit\" })%&gt;\n</code></pre>\n\n<p>Here is the jQuery click event to handle the “click”</p>\n\n<pre><code>$(\"#edit\").click(function() {\n   $.ajax({\n     url: '&lt;%=Url.Action(\"EditReport\")%&gt;',\n     type: 'POST',\n     data: { reportId: $('select[name=\"ReportId\"] option:selected').val() },\n     success: function(result) {\n          //alert(\"succes\");\n     },\n     error: function() {\n          alert(\"error\");\n     }\n     });\n   return false;\n});\n</code></pre>\n\n<p>Here is the method in the Controller:</p>\n\n<pre><code>public ViewResult EditReport(int reportId)\n{\n      return View(\"EditReport\");\n}\n</code></pre>\n\n<p>When placing a breakpoint in the Controller’s method, it gets hit and the parameter “<em>reportId</em>” is correctly passed…but the rest of the code (return View() portion) does not seem to work because inside the jQuery click event, I have a “return false”.</p>\n\n<p>When removing the “return false” inside the click event, the breakpoint no longer gets hit. Thus, I can't go to my “EditReport” view…</p>\n\n<p>What am I missing/not understanding here?</p>\n\n<p>Also … is there a better/nicer/cleaner approach to achieve my task without having to use an AJAX call?</p>\n"},{"tags":["asp.net-mvc","mvc","viewmodel"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1368,"score":2,"question_id":7858195,"title":"Why is my ViewModel empty on [HttpPost]? .NET MVC 3","body":"<p>I'm trying my hardest to use ViewModels correctly in my web application, but I'm running into various problems. One of which, is if I set a breakpoint just after I post using a Create action, my viewModel hasn't stored any of my form values. I must be doing something wrong, but I've tried a few things. Including the code below, where I name the form items the same as the viewModel fields to see if that helps.</p>\n\n<p>I'm also wondering what exactly properties in your viewmodel should represent. I've seen people use different things in blog posts and whatnot.</p>\n\n<p>If the view is going to render a select list, I'm under the impression the viewmodel should hold an IEnumerable SelectListItem for this as below. Yet I've seen people use IEnumerable Entity instead, to represent the type the select list represents. </p>\n\n<p>Can anybody shed some light on this for me? I scrapped my entire business logic last night so I could start a fresh and try and do it correctly.</p>\n\n<p>My ViewModel:</p>\n\n<pre><code>public class ServerCreateViewModel\n{\n    public int Id { get; set; }\n\n    // CompanyName represents a field in the Company model. I did this to see if\n    // it would help with model binding. Beforehand it was Companies to represent the type. I've done the same for the rest of them, so I wont comment on this again.\n    public IEnumerable&lt;SelectListItem&gt; CompanyName { get; set; }\n\n    // Represents the Game model.\n    public IEnumerable&lt;SelectListItem&gt; GameTitle { get; set; }\n\n    //Represents the Location model, etc...\n    public IEnumerable&lt;SelectListItem&gt; City { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; NumberOfPlayers { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; CurrencyAbbreviation { get; set; }\n}\n</code></pre>\n\n<p>My Controller action:</p>\n\n<pre><code>    public ActionResult Create()\n    {\n        var viewModel = new ServerCreateViewModel();\n\n        viewModel.CompanyName = new SelectList(_dataService.Companies.All(), \"Id\", \"CompanyName\");\n        viewModel.GameTitle = new SelectList(_dataService.Games.All(), \"Id\", \"GameTitle\");\n        viewModel.City = new SelectList(_dataService.Locations.All(), \"Id\", \"City\");\n        viewModel.NumberOfPlayers = new SelectList(_dataService.ServerPlayers.All(), \"Id\", \"NumberOfPlayers\");\n\n        return View(viewModel);\n    } \n\n    [HttpPost]\n    public ActionResult Create(FormCollection collection, ServerCreateViewModel viewModel)\n    {\n        try\n        {      // I put a breakpoint in here to check the viewModel values.\n               // If I dont pass the viewModel into the constructor, it doesnt exist.\n               // When I do pass it in, its empty.\n            return Content(\"Success\");\n        }\n        catch\n        {\n            return Content(\"Fail\");\n        }\n    }  \n</code></pre>\n\n<p>My View:</p>\n\n<pre><code>@model GameserverCompare.ViewModels.Server.ServerCreateViewModel\n\n\n@using (Html.BeginForm())\n{\n@Html.ValidationSummary(true)\n&lt;fieldset&gt;\n    &lt;legend&gt;Server&lt;/legend&gt;\n    @Html.HiddenFor(m =&gt; m.Id)\n     &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.CompanyName)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.DropDownListFor(m =&gt; Model.CompanyName, Model.CompanyName)\n        @Html.ValidationMessageFor(model =&gt; model.CompanyName)\n    &lt;/div&gt;\n     &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.GameTitle)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.DropDownListFor(m =&gt; Model.GameTitle, Model.GameTitle)\n        @Html.ValidationMessageFor(model =&gt; model.GameTitle)\n    &lt;/div&gt;\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.City)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.DropDownListFor(m =&gt; Model.City, Model.City)\n        @Html.ValidationMessageFor(model =&gt; model.City)\n    &lt;/div&gt;\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.NumberOfPlayers)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.DropDownListFor(m =&gt; Model.NumberOfPlayers, Model.NumberOfPlayers)\n        @Html.ValidationMessageFor(model =&gt; model.NumberOfPlayers)\n    &lt;/div&gt;\n    &lt;p&gt;\n        &lt;input type=\"submit\" value=\"Create\" /&gt;\n    &lt;/p&gt;\n\n&lt;/fieldset&gt;\n}   \n</code></pre>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":7895180,"title":"How to pass data from a View to a Controller","body":"<p>In my View, I have a table pulling various data in.  Initially it only shows the rows actionable by that user.  However, there is also an option to show all rows.  To achieve that so far, I have two hyperlinks above the table, with hrefs of \"?isRequiredAction=true\" and \"?isRequiredAction=false\".  In the Controller, I have the following:</p>\n\n<pre><code>public ActionResult Index(bool? isRequiredAction){\nstring userId = User.Identity.Name;\nbool ira = true;\nif (isRequiredAction != null)\n{\n    ira = Convert.ToBoolean(isRequiredAction);\n}\n...\nreturn View(model);\n</code></pre>\n\n<p>So, right now the Controller is getting its parameter from the querystring created by clicking those links.  I'm not satisfied with this approach since I don't want to dirty up the URL with this query.  Is there a simpler way of achieving what I'm asking?  We would like to avoid turning the links into form objects if possible.  Thanks.</p>\n"},{"tags":["mvc","grid","kendo-ui","web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":472,"score":2,"question_id":11628684,"title":"Unable to call server side functions on update and delete functionality of Kendo UI","body":"<p>I am using MVC with WEB API in my application. I am using Kendo Grid with pop up editing. I am able to fetch the data and bind the grid. But the problem arises when i try to edit or delete a row. the operation parameter of <strong>parameterMap: function(options, operation)</strong> keep showing up as <strong>create</strong> and the same create transport url is hit in case of update and destroy.</p>\n\n<p>What am i doing wrong in this code:</p>\n\n<pre><code>dataSource = new kendo.data.DataSource({\n        type: \"json\",\n        transport: {\n            read: {\n                cache: false,\n                url: GETUSER_API_URL,\n                contentType: \"application/json; charset=utf-8\", \n                datatype: \"json\"\n            },\n            create: {\n                cache: false,\n                url: UPDATEUSER_API_URL,\n                contentType: \"application/json; charset=utf-8\",\n                type: \"POST\",\n                datatype: \"json\"\n            },\n            update: {\n                cache: false,\n                url: UPDATEUSER_API_URL,\n                contentType: \"application/json; charset=utf-8\",\n                type: \"POST\",\n                datatype: \"json\"\n            },\n            destroy: {\n                url: DELETEUSER_API_URL,\n                contentType: \"application/json; charset=utf-8\",\n                type: \"POST\", \n                datatype: \"json\"\n            },\n            parameterMap: function (options, operation) {\n                debugger;\n                if (operation == \"update\" || operation == \"create\") {\n                    if (options.models[0].UserProfileId == null &amp;&amp; operation != \"destroy\") {\n                        operation = \"create\";\n                    }\n                    else {\n                        operation = \"update\";\n                    }\n                    return kendo.stringify({ models: options.models[0] });\n                }\n                else if (operation == \"destroy\") {\n\n                    return kendo.stringify({ models: options.models[0] });\n                }\n            }\n        },\n        batch: true,\n        pageSize: 10,\n        schema: {\n            model: {\n                id: \"UserProfileID\",\n                fields: {\n                    FirstName: { validation: { required: true } },\n                    LastName: { validation: { required: true } },\n                    EmailId: { nullable: false, validation: { required: true } }\n                }\n            }\n        }\n    });\n</code></pre>\n\n<p><strong>Moreover how do i send the rows data back to the API?</strong></p>\n"},{"tags":["java","mvc","http","playframework","web-development-server"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":139,"score":0,"question_id":11709570,"title":"is Play! framework here to stay?","body":"<p>I'm in the middle of planning and designing a new website,<br>\nand considering using Play! framework </p>\n\n<p>although it looked to me very neat framework (inspired by RoR)<br>\nI got this concern that suppose a year from now, Play! wouldn't be maintained<br>\nand practically would be obsolete.  </p>\n\n<p>do you find a sense in my concerns?<br>\nand do you think Play! would be a good choice for a long-term website?  </p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":11709260,"title":"two controllers in one view in Rails","body":"<p>I have two controllers, one for the users and one for the microposts.</p>\n\n<p>What I'm trying to do, is to put on the <strong>same view</strong>, the users informations and the microposts form.</p>\n\n<p>The issue is the url of this page is www.mywebsite.com/users/18 so I have only access to the users controller.</p>\n\n<p>I tried to do:</p>\n\n<p>render :file => '/posts/new' but it doesn't work.</p>\n\n<p>The only solution I found is to put everything on one controller but it will be a mess.</p>\n\n<p>I really want a separate controllers for each.</p>\n\n<p>So I don't know how to do this. Any idea?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1250,"score":1,"question_id":9266827,"title":"creating a master template in CodeIgniter","body":"<p>Hey guys i am stuck with a very basic problem, ok the problem is this that i want a master template in which i can call the header, body and footer. I am unable to send title and css in header and also how can i send multiple css files. I am doing something like this:</p>\n\n<p><strong>This is the code in controller</strong></p>\n\n<pre><code>$data['title'] = 'Login To WePOS';\n$data['css']   = base_url().'style/login-box.css';\n\n$this-&gt;load-&gt;view('templates/default',$data);   \n</code></pre>\n\n<p><strong>This is the code in header</strong></p>\n\n<pre><code>&lt;head&gt;\n&lt;title&gt;&lt;?php echo $title ?&gt; - CodeIgniter 2 Tutorial&lt;/title&gt;\n    &lt;link href=\" &lt;?php echo $css;?&gt;\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p><strong>This is the code in template name as default</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;?php \n$this-&gt;load-&gt;view('templates/header', $data);\n?&gt;\n&lt;body&gt;\n\n&lt;?php \n     $this-&gt;load-&gt;view('login/index', $data);\n?&gt;\n&lt;/body&gt;\n&lt;?php \n     $this-&gt;load-&gt;view('templates/footer', $data);\n ?&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["objective-c","mvc","ios","uitableview","uiviewcontroller"],"answer_count":7,"favorite_count":65,"up_vote_count":65,"down_vote_count":0,"view_count":44119,"score":65,"question_id":5210535,"title":"Passing Data between View Controllers","body":"<p>I'm new to IOS and Objective-C and the whole MVC paradigm and i'm stuck with the following.</p>\n\n<p>I have a View that acts as a data entry form and I want to give the user the option to select multiple products. The products are listed on another view with a tableview controller and I have enabled multiple selections.</p>\n\n<p>My Question is, How do I transfer the data from one view to another? I guess I will be holding the selections on the tableview in an array but how do I then pass that back to the previous data entry form view so it can be saved along with the other data to core data on submission of the form.</p>\n\n<p>I have googled and stackoverflow'd around and seen some people delcare an array in app delegate, I read something about Singletons? but don't understand what these are and I read something about creating a data model.</p>\n\n<p>What would be the correct way of performing this and how would I go about it?</p>\n\n<p>Many Thanks in Advance</p>\n"},{"tags":["java","mvc","design-patterns","naming-conventions","code-organization"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":11708012,"title":"what would be a better packaging and naming arrangement?","body":"<p>Just wondering about naming and packaging conventions for:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/USENET$ \nthufir@dur:~/NetBeansProjects/USENET$ tree src/\nsrc/\n├── META-INF\n│   └── persistence.xml\n├── net\n│   └── bounceme\n│       └── dur\n│           └── usenet\n│               ├── controller\n│               │   ├── CommentsDefaultListModel.java\n│               │   ├── GroupDefaultListModel.java\n│               │   ├── MessageBean.java\n│               │   └── MessagesDefaultListModel.java\n│               ├── model\n│               │   ├── Articles.java\n│               │   ├── NewsgroupsArticles.java\n│               │   ├── Newsgroups.java\n│               │   ├── PropertiesReader.java\n│               │   └── Usenet.java\n│               └── swing\n│                   ├── Comments.form\n│                   ├── Comments.java\n│                   ├── Groups.form\n│                   ├── Groups.java\n│                   ├── MainFrame.form\n│                   ├── MainFrame.java\n│                   ├── Messages.form\n│                   ├── Messages.java\n│                   ├── PanelWithTabs.form\n│                   └── PanelWithTabs.java\n└── usenet.properties\n\n8 directories, 21 files\nthufir@dur:~/NetBeansProjects/USENET$ \n</code></pre>\n\n<p>In the swing package I put Swing GUI classes, except for \"model\" type Swing classes.  They seem kinda different from JPane's, so I put the <code>MessagesDefaultListModel</code> into the controller package, because it's not really a model, per se, at least to my thinking, because it grabs data from the \"model\" package.  So, even though <code>MessagesDefaultListModel</code> <strong>is</strong> a model for a JList, I see it more as a controller.  </p>\n\n<p><code>Newsgroups</code>, <code>Articles</code> and <code>NewsgroupsArticles</code> are @Entity classes, so I put them into the model package.  These entities correspond with tables <code>newsgroups</code>, <code>articles</code> and <code>newsgroups_articles</code>.</p>\n\n<p>Is this a sane packaging and naming?</p>\n"},{"tags":["mvc","epplus"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":359,"score":2,"question_id":11685204,"title":"Reading Excel spreasheet using EPPlus","body":"<p>Could someone point me in the right direction on how to read a Excel spreasheet, loop through all the rows and columns to retreive value using EPPlus and MVC? So fare I see examples to create a spreasheet, but did not find any on opening an excel file and read values from it. Any help would be appreciated.</p>\n\n<p>TIA\nSue..</p>\n"}]}
{"total":14105,"page":17,"pagesize":100,"questions":[{"tags":["c#","asp.net-mvc","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":11707193,"title":"How can I generate the URL for a controller/view, from within a separate controller?","body":"<p>I'm generating a large table of data, and would like to have a link to update certain portions of the table. Is there a way I can generate the URL that will redirect to another controller/view from within the controller I'm using?</p>\n\n<p>I have this code:</p>\n\n<pre><code>HTMLTable.AppendLine(\"        &lt;td class=\\\"team\\\"&gt; \" + tournament.TournamentRoundMatches[col][effective_match_id].competitorId1 + \"&lt;a href=\\\"&lt;% =Html.BuildUrlFromExpression&lt;CompetitionController&gt;(c =&gt; c.Details(83)) %&gt;\\\"&gt;\" + \"  update\" + \"&lt;/a&gt;\" + \"&lt;/td&gt;\");\n</code></pre>\n\n<p>But this doesn't render correctly - I've tried several other methods, including creating a temp string just before the html:</p>\n\n<pre><code>string temp = Url.Action(\"Details\", \"Competition\", new { id = 83 }, Request.Url.Scheme);\n</code></pre>\n\n<p>This doesn't work either though - I get an error that an object reference is required for using \"Url\"</p>\n\n<p>Can someone shed some light on this?  How can I generate the URL for a separate controller from within this controller?  The controller I'm in is called 'TournamentController', and I want to redirect the user to the \"Details\" view of the 'CompetitionController' when they click 'Update' - is this possible?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":11705084,"title":"Re-coding, can't use helper method in model","body":"<p>What is a better (proper) way to code this according to MVC? Here's the situation:</p>\n\n<p>I have a collection_select in my form, and it works fine, however I'm wanting to do something like this (note the text of the option, the 4th arg)</p>\n\n<pre><code>#Form.html.haml\n= form_for(@payment) do |f|\n = f.collection_select(:invoice_id, Invoice.due, :id, :number + ' ' + money(:amount_due))\n</code></pre>\n\n<p>That won't work because as far as I know, you can't concat the symbols. So, I resorted to this:</p>\n\n<pre><code>#Form.html.haml\n= form_for(@payment) do |f|\n  = f.collection_select(:invoice_id, Invoice.due, :id, :number_with_amount_due)\n\n#Invoice.rb\ndef number_with_amount_due\n  \"##{number} (#{money(amount_due)})\"\nend\n</code></pre>\n\n<p>Which would work if I wasn't trying to call a helper method in the Model.</p>\n\n<p>So what should I do? It would be nice to be able to concat the select text in the views, but if not possible, how can I achieve what I'm trying to do while retaining proper MVC in Rails?</p>\n"},{"tags":["java","mvc","java-ee","web-frameworks","jax-rs"],"answer_count":5,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":1237,"score":8,"question_id":2168180,"title":"Is JAX-RS suitable as a MVC framework?","body":"<p><a href=\"http://blogs.oracle.com/sandoz/entry/mvcj\" rel=\"nofollow\">JAX-RS has some MVC support</a>, but I wonder if JAX-RS is really a good choice to build web application for human use.</p>\n\n<p>If a user enters wrong or incomplete information in a form, it should be displayed again like with Grails or Wicket. Is there a comfortable way to do this with JAX-RS?</p>\n\n<p>As far as I know the URI mapping doesn't work correctly, if not all required parameters are given or there are type conversion problems (with Date for example). Is that correct?</p>\n\n<p>Is there support for internationalized templates?</p>\n\n<p>Here is an <a href=\"http://www.ibm.com/developerworks/java/library/wa-datawebapp/index.html?ca=drs-\" rel=\"nofollow\">example for a simple JAX-RS based GUI application</a>. But it is really simple and thing like i18n and validation are not discussed.</p>\n"},{"tags":["php","mvc","codeigniter","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":11417699,"title":"What is required to call a controller in Codeigniter?","body":"<p>I'm creating a simple blog with Codeigniter. But I'm having trouble calling another controller besides the default controller. </p>\n\n<p>The following URL takes me to the default controller as specified in my config/routes.php. </p>\n\n<pre><code>blog/index.php\n</code></pre>\n\n<p>According to the documentation, simply appending the name of another controller saved in controllers/ is all that is needed: </p>\n\n<pre><code>blog/index.php/blog_login\n</code></pre>\n\n<p>Here is my controller class, named blog_login.php:</p>\n\n<pre><code>class Blog_login extends CI_Controller {\n\n    public function index()\n    {\n        echo 'It works!';\n    }\n}\n</code></pre>\n\n<p>But doing this throws a 404 error, which makes me feel that I'm missing something. Is there something else that I am supposed to configure before trying to access a different controller? </p>\n"},{"tags":["mvc","debugging","kohana","uploadify"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3604,"score":2,"question_id":6622033,"title":"How to Debug Uploadify?","body":"<p>I don't know how to debug Uploadify. All seems to be working, but there are no actual file uploaded. From browser... Upladify event prints \"Done!\". Before I used Uploadify, PHP code worked... so I don't know where is the problem.</p>\n\n<pre><code>&lt;input id=\"file_upload\" name=\"file_upload\" type=\"file\" rel=\"&lt;?php echo $group_id; ?&gt;\" /&gt;\n</code></pre>\n\n<p>(without <code>&lt;form&gt;</code>)</p>\n\n<p>In Javascript...</p>\n\n<pre><code>$('#file_upload').uploadify({\n    'uploader'       : '/media/js/uploadify/uploadify.swf',\n    'script'         : '/bio/community/group_picture/' + $('#file_upload').attr('rel'),\n    'cancelImg'      : '/media/img/bio/_blog_delete.png',\n    'buttonImg'      : '/media/img/bio/browse_files.png',\n    'wmode'          : 'transparent',\n    'auto'           : true,\n    'width'          : 92,\n    'sizeLimit'      : 31457280,       \n    'height'         : 26,\n    'scriptData'     : {'session' : session_id},\n    'onAllComplete'  : function() {  location.reload(); }\n});\n</code></pre>\n\n<p>In PHP:</p>\n\n<p>Controller:</p>\n\n<pre><code>public function action_group_picture($group_id) {\n\n    $model_group = Model::factory('Bio_Community_Group');\n\n    if (!empty($_FILES)) {\n\n        $model_group-&gt;add_picture($_FILES['file_upload'], $group_id);\n\n        $this-&gt;request-&gt;redirect('bio/community/edit_group/' . $group_id);\n\n    }\n\n    exit;\n\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public function add_picture($image, $group_id) {\n\n    $filename = $group_id . '.jpg';\n    $location = 'uploads/bio/community/groups/' . $filename;\n\n    $image = Image::factory($image['tmp_name']);\n\n    if ($image-&gt;width !== 60 || $image-&gt;height !== 60) {\n\n        $image-&gt;crop(60, 60);\n\n    }\n\n    $image-&gt;save($location);\n\n}\n</code></pre>\n\n<p>I'm using Kohana, by the way. Any ideas why it doesn't work or how to debug?</p>\n"},{"tags":["php","html","string","mvc","smarty"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":8887047,"title":"HTML Entities Converting Very Strangely","body":"<p>I am working on a project that involves modifying some existing code and there is a behavior going on that makes absolutely no sense to me.  I am hoping somebody has seen something similar and thus can provide some insight as to where the problem is originating from.</p>\n\n<p>The best short example I can give is the following:</p>\n\n<pre><code>A user enters \"This &amp; that\" into a textarea on an input form and when saved \nonce it becomes: \"This &amp;amp;amp; that\", when it is saved again it becomes:  \n\"This &amp;amp;amp;amp;amp; that\", save it again and you get: \n\"This &amp;amp;amp;amp;amp;amp;amp; that\".\n</code></pre>\n\n<p>Obviously the problem continues to get worse with each save.  The data actually stored in the DB (MySQL) is the text displayed above, there are no filters on the front-end to convert characters/entities.  Obviously if they were being stored properly it would be very easy to slap a call to htmlspecialchars_decode() but that isn't an option yet...</p>\n\n<p>Are there some front-end checks I can be doing to see where the symbols are being mangled? I am looking at the controller that processes the data and it's using a rest event to do so but no where do I see anything that would even try to convert the HTML entities, let alone something that would incorrectly convert them.  </p>\n\n<p>As I said in the intro, I hope somebody may have seen this before and can help pinpoint where it might be happening.  This is built using PHP (Protean, MVC framework), Propel, patforms/smarty are in play, MySQL (via PDO) on the backend, jQuery for most JS-related stuff.</p>\n"},{"tags":["php","mvc","rest","orm"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":265,"score":1,"question_id":8732762,"title":"How to call my (tiny) mvc methods from HTML (PHP) forms?","body":"<p>I have the relevant code posted in a gist:</p>\n\n<p><a href=\"https://gist.github.com/1561520\" rel=\"nofollow\">https://gist.github.com/1561520</a></p>\n\n<p>I was wondering if someone could tell me what the correct way to call the ReportsController->create() method from my form would be. The only idea I can come up with would be to have form have a random action, something like <code>action=\"application/views/reports/new.php\"</code> and call my controllers create method from there. The problem is, that defeats the purpose of the <code>__autoload</code> function, unless I am mistaken.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","oop","mvc","class"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":227,"score":2,"question_id":8824689,"title":"Do conditional statements belong in the model or controller in a php mvc?","body":"<p>If you are using an mvc to build a user profile, would it be better to have the conditional statements used to work out the display type of the comments within a function in the model or in the controller like this:</p>\n\n<p><em>For example</em>\nI have 3 classes </p>\n\n<ul>\n<li>Comments </li>\n<li>Member</li>\n<li>Admin (extends member)</li>\n</ul>\n\n<p><em>Some example make use of Pseudo code where functions are missing</em></p>\n\n<p><strong>Option 1</strong></p>\n\n<p>Dependant of the type of user logged in the <code>showComments</code> function returning the comments would give back different information.</p>\n\n<pre><code>class user {\n\n    function isLoggedIn() { //Check if a user is logged in }\n\n    function getUserType() { // return user type }\n\n    function showComments($id) { //comments code }\n}\n\nclass admin extends user {\n    function showComments($id) { //comments code }\n}\n</code></pre>\n\n<p>Then use code within the controller to determine dependant upon the user type logged in which to show?</p>\n\n<pre><code>$profileContent = $user-&gt;getOtherContent();\n\nif ($user-&gt;isLoggedIn() &amp;&amp; $user-&gt;getUserType() == \"member\") {\n    $member = new member();\n    $comments = $member-&gt;showComments($profileId);\n}\nelseif ($user-&gt;isLoggedIn() &amp;&amp; $user-&gt;getUserType() == \"admin\") {\n    $admin = new admin();\n    $comments = $admin-&gt;showComments($profileId);\n}\nelse\n    $comments = $user-&gt;showComments($profileId);\n\nrequire 'templates/profile.php';\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<p>As this is a custom framework I could move everything into a function within the model and have one function in user to check the comment type to display:</p>\n\n<pre><code>abstract class user {\n\n    function isLoggedIn() { //Check if a user is logged in }\n\n    function getUserType() { // return user type }\n\n}\n\nclass profile {\n\n    function showComments($profileId, $user) {\n\n        if (User::isLoggedIn() &amp;&amp; User::getUserType() == \"member\") {\n            $comments = //database query and formatting for member\n        }\n        elseif (User::isLoggedIn() &amp;&amp; User::getUserType() == \"admin\") {\n            $comments = //database query and formatting for admin\n        }\n        else\n           $comments = //database query and formatting for guest\n\n        return $comments;\n    }\n}\n</code></pre>\n\n<p>Using a controller like:</p>\n\n<pre><code>$profile = new profile($profileId);\n$comments = $profile-&gt;showComments();\n\nrequire 'templates/profile.php';\n</code></pre>\n"},{"tags":["javascript","mvc","web"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":11698805,"title":"Create an MVC Application in JavaScript","body":"<p>How do I go about creating an Application purely with JavaScript, or with Libraries, that is scalable, follows a Modular structure and is optionally \"a class apart\" :).<br>\nI am good with JavaScript, but strongly discourage writing functions and tricks that serve small purposes. I want to build a one page Application, or say a Module (Like a Slideshow for a Website).  </p>\n\n<p>What should be the guidelines for (priority wise)- </p>\n\n<ol>\n<li>Making it Structured, kind of mimics MVC, without using libraries like <a href=\"http://backbonejs.org/\" rel=\"nofollow\">Backbone.JS</a> for the same</li>\n<li>Using Module Pattern for everything/most features</li>\n<li>Realizing Public and Private Scopes, and returning instances that can be used as API</li>\n<li>Making it look like an application, so that when another developer looks at it, my Object Oriented skills are reflected as well</li>\n</ol>\n"},{"tags":["mvc","node.js","express"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":101,"score":2,"question_id":11654310,"title":"Is this a good approach to work with the MVC pattern and Express.js?","body":"<p>I would like to have opinions/suggestions whether this is a good way to implement/enhance the MVC pattern with Node.js and Express.js</p>\n\n<p>1) I initialize the app normaly, but at this stage I call a function I named <code>routeRegistrar</code>, as follows:</p>\n\n<pre><code>var \n    express = require('express'),\n    routeRegistrar = require('./routeRegistrar'),\n\nvar app = express.createServer();\n\nconfigureApp(app);\nrouteRegistrar(app); //note this line\n\napp.listen(3000, function(){\n  console.log(\"App started\");\n});\n\nfunction configureApp(app){\n    app.configure(function(){\n        //configuration stuff with app variable\n    });\n}\n</code></pre>\n\n<p>2) I adopt the convention that every controller will be placed on a directory called <code>Controllers</code>, and that every controller is constituted by a module that contains one or more actions, pushed to the <code>exports</code> variable as an object following the above convention:</p>\n\n<pre><code>{ method: 'GET', url: '/example', action: function(req, res){  } }\n</code></pre>\n\n<p>So this way I can automatize the route registering process, and also keep the method/url close to the code that handles the request (I think its easier to read/maintain). So the code for the <code>routeRegistrar</code> is the following:</p>\n\n<pre><code>var fs = require('fs');\n\nmodule.exports = function(app){\n    fs.readdirSync(__dirname + '/controllers').forEach(function(controllerName){\n        var controller = require(\"./controllers/\" + controllerName);\n\n        for (var actionName in controller) {\n            var action = controller[actionName];\n            app[action.method](action.url, action.action);\n        }\n    });\n}\n</code></pre>\n\n<p>And simple a indexController would look like this:</p>\n\n<pre><code>exports.index = {\n    url: \"/\",\n    method: \"get\",\n    action: function(req, res){\n      res.render('index');\n    }\n}\n</code></pre>\n\n<p>IMHO I believe this is a better approach to every time I wanted a new controller/route registered I had to</p>\n\n<p>1- open app.js\n2- place another require line at the top\n3- write code like <code>app.get('/index', indexController.index);</code></p>\n\n<p>Please, let me know wheter this is a good way to continue the project, I would like to hear your opinions and suggestions. </p>\n\n<p><strong>EDIT:</strong>\nBased on Tyrsius answer and the lack of another opinions I will use his approach with some modifications:</p>\n\n<p>routeRegistrar.js</p>\n\n<pre><code>var fs = require('fs');\n\nmodule.exports = function(app){\nfs.readdirSync(__dirname + '/controllers').forEach(function(controllerName){\n    var controller = require(\"./controllers/\" + controllerName);\n\n    for (var actionName in controller) {\n            controller[actionName](app);\n        }\n    });\n};\n</code></pre>\n\n<p>indexController.js</p>\n\n<pre><code>module.exports.index = function(app){\n    app.get(\"/\", function(req, res){\n        res.send(\"New approach!\");\n    });\n};\n</code></pre>\n"},{"tags":["mvc","jersey","jax-rs"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":585,"score":0,"question_id":8978200,"title":"Can not connect JAX-RS service to MVC template","body":"<p>I'm attempting to make use of JAX-RS' (Jersey) MVC pattern.  Attempts to reach <a href=\"http://localhost:8080/myproject/foos/test\" rel=\"nofollow\">http://localhost:8080/myproject/foos/test</a> result in an error that reads:</p>\n\n<pre><code>java.io.IOException: The template name, /view, could not be resolved to a fully qualified template name\n</code></pre>\n\n<p><a href=\"http://localhost:8080/myproject/foos\" rel=\"nofollow\">http://localhost:8080/myproject/foos</a> results in the same error.</p>\n\n<p>What am I missing?</p>\n\n<p>Resource:</p>\n\n<pre><code>package resources;\n\nimport com.sun.jersey.api.view.Viewable;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n@Path(\"foos\")\npublic class FooResource {\n\n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public Viewable get() {\n\n        return new Viewable(\"/index\", this);\n\n    }   \n\n    @GET\n    @Path(\"{id}\")\n    @Produces(MediaType.TEXT_HTML)\n    public Viewable get(@PathParam(\"id\") String id) {\n\n        return new Viewable(\"/view\", id);\n\n    } \n\n}\n</code></pre>\n\n<p>Views:</p>\n\n<p>WEB-INF / jsp / resources / FooResource</p>\n\n<ul>\n<li>index.jsp</li>\n<li>view.jsp</li>\n</ul>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;jersey&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;com.sun.jersey.config.property.WebPageContentRegex&lt;/param-name&gt;\n            &lt;param-value&gt;/(resources|images|js|styles|(WEB-INF/jsp))/.*&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;jersey&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ServletAdaptor&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;description&gt;Set the default, base template path to the WEB-INF folder.&lt;/description&gt;\n            &lt;param-name&gt;com.sun.jersey.config.property.JSPTemplatesBasePath&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/jsp&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ServletAdaptor&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["ajax","mvc","cakephp"],"answer_count":7,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6400,"score":3,"question_id":2114832,"title":"How to check an Ajax request in cakephp?","body":"<p>How to check an Ajax request in cakephp?</p>\n"},{"tags":["facebook","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":252,"score":0,"question_id":8633968,"title":"Facebook login in MVC 3 - Razor","body":"<p>I would like to log into my site using Facebook login. I have downloaded a Facebook helper and a code sample from <a href=\"http://facebookhelper.codeplex.com/releases/view/53840\" rel=\"nofollow\">http://facebookhelper.codeplex.com/releases/view/53840</a>.</p>\n\n<p>When I click on the login button, I get an error:</p>\n\n<blockquote>\n  <p>OAuth2 specification states that 'perms' should now be called 'scope'. Please update.\" </p>\n</blockquote>\n\n<p>I have registerd my site in developer Facebook and added an <code>appid</code> and a secret code. What else do I need to do?</p>\n"},{"tags":["php","javascript","jquery","web-services","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":11695109,"title":"Session-based Server Side Data Setting and Retrieval","body":"<p>I have a theoretical question about how to approach a current project. It is a fairly simple matching quiz using JS + PHP. I am simply taking care of business logic on the server (answer checking, score updating) such as to roughly follow MVC conventions.</p>\n\n<p>My current setup:</p>\n\n<ul>\n<li>HTML + JS page to allow the user to drag and drop answers onto questions. On a successful drop, the question + answer combo is sent to the following:</li>\n<li>A server-side PHP page to check the answer correctness based on an XML file. I return a few pieces of data in some XML client, such as true/false and number of attempts at a certain question. <strong>In addition, if the answer is correct, I increment a Session Variable on the server to keep track of the user's score.</strong></li>\n</ul>\n\n<p>My question revolves around best practices for setting the above mentioned session variable for tracking the score. I understand that a more persistent setup is most likely preferable, in case of computer shut-off, accidental browser closing, etc...but strictly based on this setup - </p>\n\n<ol>\n<li>Is this a secure method for storing a score for a final insertion into the database?</li>\n<li>I eventually will have to pull the score down from the server at the end of the game (or even mid game, for that matter), as well. Should I create a simple 'getter' PHP page to pull the score down, and just access the session variable and send it to the client?</li>\n<li>Currently, the user actually has access to the php server-side page becuase it resides in the same folder as the actual quiz. This is moooost likely a no-no - but what is the common practice for hiding this server-only file from the user's prying eyes (without having to use authentication)?</li>\n</ol>\n"},{"tags":["java","hibernate","mvc","spring-mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":11686293,"title":"Is it a good idea to open a hibernate session in controller in MVC architecture?","body":"<p>I have a pretty complex domain entities. I want to have lazy loading for all of associations. So the scenario is like this:</p>\n\n<p>1.get an instance of my business logic.</p>\n\n<p>2.get an object o from business. </p>\n\n<p>3.ask o to give me other associated objects.</p>\n\n<p>4.prepare the view.</p>\n\n<p>To get rid of hibernate exceptions about closed session when lazy load other objects, I've come up to the idea to open and close entire session in controller. Is it a good idea? Are there any better solutions?</p>\n\n<p>Thank you</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":141,"score":1,"question_id":11655978,"title":"Accessing Zend url action helper from a custom action helper in default module","body":"<p>So I normally have no problem using the \"url\" action helper from a custom action helper, when accessing a module, using the following:</p>\n\n<pre><code>$urlHelper = Zend_Controller_Action_HelperBroker::getExistingHelper('url');\n</code></pre>\n\n<p>But the following error occurs if the default module (the root url, /) is accessed:</p>\n\n<p>Fatal error: Uncaught exception 'Zend_Controller_Action_Exception' with message 'Action helper \"Url\" has not been registered with the helper broker' in /home/erahhal/Code/ZendFramework-1.11.12/library/Zend/Controller/Plugin/Broker.php on line 336</p>\n\n<p>What is the root of this problem?</p>\n"},{"tags":["asp.net-mvc","security","mvc","filesystems"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":8659529,"title":"Create a Private Filesystem with ASP.NET MVC","body":"<p>I would like to know what to do in order to secure the files on my asp.net mvc application so that a user cannot crawl the file directory or download the file without a system generated link (so that I can check user permissions before giving the system generated link). Ideally the link would be different per user as well (or at-least something that a user won't be able to just guess the other links)</p>\n\n<p>Thank you for any help in advance</p>\n"},{"tags":["php","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":276,"score":0,"question_id":11689155,"title":"Basic MVC (PHP) Structure","body":"<p>I have the following data flow for a simple login form.</p>\n\n<p>User access controller PHP file. Controller includes model.php and view.php</p>\n\n<p>User submits form, controller sends POST data to model methods, and gets a result back. </p>\n\n<p>User is logged in, and forwarded to a different view (login success message) by the controller.</p>\n\n<p>Currently my views are static HTML (no PHP), so here is my question. What is the correct way to then pass the user a welcome message, e.g \"Hello, Craig!\"?</p>\n\n<p>Is the view allowed PHP snippets, e.g </p>\n\n<pre><code>&lt;?php echo $username; ?&gt; \n</code></pre>\n\n<p>since the model is loaded before it in the controller file?</p>\n\n<p>Thanks!</p>\n\n<p><strong>Edit:</strong> Is it better practice then to allow the view to access specific class methods e.g </p>\n\n<pre><code>&lt;?php $user-&gt;getUsername(); ?&gt;\n</code></pre>\n\n<p>as opposed to just variables? </p>\n"},{"tags":["asp.net","mvc","xss"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":376,"score":0,"question_id":5049251,"title":"How to prevent cross site scripting in MVC when AJAX request is sent by another website","body":"<p>I have an HTML form in MVC ASP.NET which the user fills out and the request goes to the server [AJAX] then we send a mail them to inform them.  I use the hidden key to store information on the page.</p>\n\n<p>I find that someone changed the key and then clicked then it's a problem that the mail go to other who are unknown for this case.</p>\n\n<p>How can I be sure that nobody changes the hidden key and request is valid. The thing I want to do that HTML. antioforeignkey who is suitable for that.</p>\n\n<p>But how can I implement antiforeignkey when I send AJAX request to server.</p>\n\n<p>Are there any tricks to solve this problem in MVC?</p>\n"},{"tags":["asp.net","mvc","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":154,"score":3,"question_id":5090262,"title":"ASP.NET MVC routing: how to use routing over matching files for a single folder?","body":"<p>I have a file on disk in the path /Files/filename.txt and the MVC routing system checks if the file exists before using its routing logic (with controller, action...).</p>\n\n<p>I want to use routing logic before matching files on disk.</p>\n\n<p>If I set \"RouteExistingFiles=true\" it will ALWAYS use routing over matching files. I want this behaviour only for a particular folder.</p>\n\n<p>The \"FilesController\" must be called even if the file in Files folder exists. Basically I want the opposite behaviour of \"IgnoreRoute()\".</p>\n\n<p>How can I achieve that?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":8,"favorite_count":37,"up_vote_count":25,"down_vote_count":1,"view_count":5581,"score":24,"question_id":10425,"title":"MVC Learning Resources","body":"<p>Can someone recommend some good resources for learning about MVC? I've been doing ASP.Net since it came out, but I've never gotten into MVC at all. I want to understand how it works, why it's better (if it is), when to use it, and so on. It doesn't have to be specific to ASP.Net MVC, though anything about that would be great. I'm open to books, websites, etc.</p>\n"},{"tags":["php","mvc","codeigniter","redirect"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1419,"score":1,"question_id":4281800,"title":"Codeigniter when to use redirect() and when to use $this->load->view","body":"<p>I am fairly new to Codeigniter and I am wondering on some Codeigniter best practices. When should i use <code>redirect()</code> versus using</p>\n\n<pre><code>$this-&gt;load-&gt;view\n</code></pre>\n\n<p>It seems that when I use <code>redirect()</code> then <code>$this-&gt;session-&gt;set_flashdata</code> works like it should but when i use </p>\n\n<pre><code>$this-&gt;load-&gt;view\n</code></pre>\n\n<p>the message is displayed after an additional request. </p>\n"},{"tags":["asp.net","mvc","asp.net-mvc-2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":6255195,"title":"Confirmation without Javascript","body":"<p>The website I am working on must be able to work without Javascript enabled. At some point, there is a delete operation that requires confirmation so we thought about implementing the following model:</p>\n\n<p>There is a partial view showing 2 buttons (Yes/No) and a message.</p>\n\n<ul>\n<li>If there is no Javascript, redirect to a view that will render a partial view mentioned above. Clicking Yes will redirect to another page, clicking No will redirect back.</li>\n<li>If there is Javascript, use ajax to render the partial view as a message box and then redirect if Yes is clicked.</li>\n</ul>\n\n<p>Do you think this is a good approach? Is there another way of doing this?</p>\n\n<p>Another another question related to this: Is it a good idea to have a generic controller for this kind of confirmation dialogs?</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":13,"up_vote_count":20,"down_vote_count":0,"view_count":4489,"score":20,"question_id":9271507,"title":"How to render and append sub-views in Backbone.js","body":"<p>I have a nested-View setup which can get somewhat deep in my application. There are a bunch of ways I could think of initializing, rendering and appending the sub-views, but I'm wondering what common practice is.</p>\n\n<p><em><strong>Here are a couple I've thought of:</em></strong></p>\n\n<pre><code>initialize : function () {\n\n    this.subView1 = new Subview({options});\n    this.subView2 = new Subview({options});\n},\n\nrender : function () {\n\n    this.$el.html(this.template());\n\n    this.subView1.setElement('.some-el').render();\n    this.subView2.setElement('.some-el').render();\n}\n</code></pre>\n\n<p><strong>Pros:</strong> You don't have to worry about maintaining the right DOM order with appending. The views are initialized early on, so there isn't as much to do all at once in the render function.</p>\n\n<p><strong>Cons:</strong> You are forced to re-delegateEvents(), which might be costly? The parent view's render function is cluttered with all of the subview rendering that needs to happen? You don't have the ability to set the <code>tagName</code> of the elements, so the template needs to maintain the correct tagNames.</p>\n\n<p><em><strong>Another way:</em></strong></p>\n\n<pre><code>initialize : function () {\n\n},\n\nrender : function () {\n\n    this.$el.empty();\n\n    this.subView1 = new Subview({options});\n    this.subView2 = new Subview({options});\n\n    this.$el.append(this.subView1.render().el, this.subView2.render().el);\n}\n</code></pre>\n\n<p><strong>Pros:</strong> You don't have to re-delegate events. You don't need a template that just contains empty placeholders and your tagName's are back to being defined by the view.</p>\n\n<p><strong>Cons:</strong> You now have to make sure to append things in the right order. The parent view's render is still cluttered by the subview rendering.</p>\n\n<p>With an <code>onRender</code> event:</p>\n\n<pre><code>initialize : function () {\n    this.on('render', this.onRender);\n    this.subView1 = new Subview({options});\n    this.subView2 = new Subview({options});\n},\n\nrender : function () {\n\n    this.$el.html(this.template);\n\n    //other stuff\n\n    return this.trigger('render');\n},\n\nonRender : function () {\n\n    this.subView1.setElement('.some-el').render();\n    this.subView2.setElement('.some-el').render();\n}\n</code></pre>\n\n<p><strong>Pros:</strong> The subview logic is now separated from the view's <code>render()</code> method.</p>\n\n<p>With an <code>onRender</code> event:</p>\n\n<pre><code>initialize : function () {\n    this.on('render', this.onRender);\n},\n\nrender : function () {\n\n    this.$el.html(this.template);\n\n    //other stuff\n\n    return this.trigger('render');\n},\n\nonRender : function () {\n    this.subView1 = new Subview();\n    this.subView2 = new Subview();\n    this.subView1.setElement('.some-el').render();\n    this.subView2.setElement('.some-el').render();\n}\n</code></pre>\n\n<p>I've kind of mix and matched a bunch of different practices across all of these examples (so sorry about that) but what are the ones that you would keep or add? and what would you not do?</p>\n\n<p>Summary of practices:</p>\n\n<ul>\n<li>Instantiate subviews in <code>initialize</code> or in <code>render</code>?</li>\n<li>Perform all sub-view rendering logic in <code>render</code> or in <code>onRender</code>?</li>\n<li>Use <code>setElement</code> or <code>append/appendTo</code>?</li>\n</ul>\n"},{"tags":["iphone","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":78,"score":3,"question_id":11675709,"title":"MVC, views knowing about model","body":"<p>This may be a dumb question, but in MVC the view doesn't know about the model right.  I've looked at some examples for table view cells, and the table view cell has a property of the model object.  It then uses that model's property to fill in the label, or the image for the cell.</p>\n\n<p>Or in another case, if I have a UIView to draw something dynamically based on the model, it seems like it would be the easiest to have a property on the UIView so the UIView can access that model's data in order to draw it dynamically.  So I could do something like this:</p>\n\n<pre><code>myView.object = newObject;\n[myView setNeedsDisplay];\n</code></pre>\n\n<p>Is this wrong for MVC?  If so, what are the better ways to do these two things?  Thanks.</p>\n"},{"tags":["mvc","actionscript","puremvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":11674519,"title":"Complex view hierarchy in pureMVC Actionscript 3","body":"<p>Consider such situation:</p>\n\n<p>application logic consists of numerous levels, components and relations between them. A level contains groups of components. Two levels or two components can have a special relation between them. All levels, components and relations can have many different parameters.</p>\n\n<p>Here's a quick visualisation: <a href=\"http://i49.tinypic.com/2yv2wsn.jpg\" rel=\"nofollow\">http://i49.tinypic.com/2yv2wsn.jpg</a></p>\n\n<p>I tried to code it in the pureMVC-way but ended-up having one huge CanvasMediator with CanvasView that manages the complex representation of logic. The problem is that each level and component should be easily copied, deleted, dragged, swapped, repositioned, inserted between to other objects etc. The relations should be created simply draging from one object to another. In other words, there's a lot of interactivity going on inside this CanvasView and I believe the code would be extremely bloated trying to bind each view component to a mediator and executing interactivity code at command level. Yet my approach feels far from right.</p>\n\n<p>A more concrete question: how one would deal with such scenario when a level with lots of components and subcomponents is being repositioned in a pureMVC-way? Keep in mind that while dragging an existing level, it's components should go along too. When hovering in empty space between two other levels, the app should indicate that it's possible to place selected level between the others two (those two should split up a bit and make some room, carrying a long their own componenets in place).</p>\n"},{"tags":["javascript","iphone","mvc","titanium","titanium-mobile"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":108,"score":2,"question_id":11671749,"title":"MVC and titanium, structure","body":"<p>Views and controller,</p>\n\n<p>In titanium do you normally have 1 controller per view? or 1 controller per group of views?</p>\n\n<p>You have a form, PageX_Detail, PageX_Confirm, and PageX_Results.</p>\n\n<p>In this case would you create 3 views and 3 controllers or 3 views and 1 controller?</p>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":11672574,"title":"PHP MVC - Methods for determining what View to load","body":"<p>I've had some exposure to MVC, though I'm still figuring out a lot of the details. I've written a few small personal projects to learn from, though one thing I'm still not quite sure how to do is handle the logic between the three gracefully to determine what View I should be loading.</p>\n\n<p>For an example, imagine a basic user registration system. Each user needs to have a username, password, and some other details to identify them. I would code the Model something like this:</p>\n\n<pre><code>namespace Model;\n\nclass NewUser extends Model\n{\n    public $username;\n    public $password;\n    public $other_details;\n\n    public function __construct(array $data)\n    {\n        if ($this -&gt; CheckData($data))\n        {\n            // Add data to some database table.\n            $this -&gt; InsertData($data);\n        }\n    }\n\n    private function CheckData(array $data)\n    {\n        if (!isset($data['username']) || empty($data['username']))\n        {\n            return FALSE;\n        }\n\n        // !isset() and empty() checks on other required information.\n\n        if (strlen($data['password']) &lt; 8)\n        {\n            return FALSE;\n        }\n\n        // Make sure data meets other requirements, return FALSE if not.\n\n        return TRUE;\n    }\n}\n</code></pre>\n\n<p>So that's pretty straightforward. NewUser::CheckData() makes sure the incoming data conforms to the requirements of a new user. All info must be non-empty, password at least eight characters, etc. If the requirements aren't met, it fails and the data isn't added. If they are met, the new user is added to the system. </p>\n\n<p>The Controller handles the HTTP request made by the client, requests the appropriate data and then \"gives\" the client the HTTP response, so I would code the Controller something like this:</p>\n\n<pre><code>namespace Controller;\n\nclass NewUser extends Controller\n{\n    public $new_user;\n\n    public function __construct()\n    {\n        if (isset($_POST) &amp;&amp; !empty($_POST['username']))\n        {\n            $this -&gt; new_user = new \\Model\\NewUser($_POST);\n\n            // How should I handle what View to load in this case?\n        }\n\n        else\n        {\n            $this -&gt; DefaultView();\n        }\n    }\n\n    private function DefaultView()\n    {\n        $this -&gt; LoadView('header.php');\n        $this -&gt; LoadView('signup.php');\n        $this -&gt; LoadView('footer.php');\n    }\n\n    private function MissingDataView()\n    {\n        $this -&gt; LoadView('header.php');\n        $this -&gt; LoadView('missing-data.php');\n        $this -&gt; LoadView('footer.php');\n    }\n\n    private function PasswordTooShortView()\n    {\n        $this -&gt; LoadView('header.php');\n        $this -&gt; LoadView('password-too-short.php');\n        $this -&gt; LoadView('footer.php');\n    }\n}\n</code></pre>\n\n<p>Again, pretty straightforward. If $_POST isn't set, then DefaultView() is called. As noted by the comment, I'm confused on how I should determine what View to load in the case where $_POST is set. In the past I've had an extra variable <code>$error</code> to my Model and then I'd check what that was set to in the Controller and call the appropriate method based on its value. That seems like a terrible way of handling this, so I'd appreciate it if anyone can point me in the correct direction.</p>\n"},{"tags":["php","mvc","aspect-oriented"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":11672064,"title":"How to access \"$this\" from a function","body":"<p>I use an homemade MVC system, in which Views access the model by being within the context of a method, and therefore able to access <code>$this</code>.</p>\n\n<p>Example of a view, included dynamically :</p>\n\n<pre><code>...\n&lt;div&gt;\n   Hello &lt;?= $this-&gt;user-&gt;name ?&gt;\n&lt;/div&gt;\n...\n</code></pre>\n\n<p>Now, I have some code that I would like to factorize into functions, with some extra parameters.\nFor example :</p>\n\n<pre><code>function colored_hello($color) {\n?&gt;\n&lt;div style=\"background-color:&lt;?= $color ?&gt;\"&gt;\n   Hello &lt;?= $this-&gt;user-&gt;name ?&gt;\n&lt;/div&gt;\n&lt;?\n}\n</code></pre>\n\n<p>The problem is that I do not have access to <code>$this</code>, since the function is not a method. \nBut I do not want to spoil my model or controller with presentation stuff.</p>\n\n<p>Hance, I would like to be able to call this function dynamically, as a method. \nLike aspect oriented programming :</p>\n\n<pre><code># In the top view\nmagic_method_caller(\"colored_hello\", $this, \"blue\")\n</code></pre>\n\n<p>Is it possible ?\nOr do you see a better way of doing it ?</p>\n"},{"tags":["javascript","mvc","touch","sencha","tabpanel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":11672530,"title":"TabPanel not rendering properly inside view","body":"<p>Inside a view that I am creating, I simply want a toolbar header with a couple of buttons and a tabpanel container which sits directly below the toolbar. To give you an idea of this structure in the view code file without the actual content.</p>\n\n<pre><code>Views.ViewFile = Ext.Extend(Ext.form.FormPanel, {\nid: form\n\ninitComponent: function(){\n\n//These are the buttons being declared which will be placed in the toolbar.\nthis.button1 = new Ext.Button({properties, etc});\nthis.button2 = new Ext.Button({etc)};\nthis.button3 = new Ext.Button({etc)};\n\n//Now I start fleshing out the panels which will be used in the TabPanel\n//The following properties are the same for each panel.\n(fullscreen: true, renderTo: document.body)\n\nthis.Panel1 = new Ext.Panel({content});\nthis.Panel2 = new Ext.Panel({content});\nthis.Panel3 = new Ext.Panel({content});\nthis.Panel4 = new Ext.Panel({content});\n\n//Now comes the toolbar and tabpanel.\n\nthis.toolbar = new Ext.Toolbar({\ntitle: 'title',\nitems: [this.button1, { xtype: 'spacer'}, this.button2, this.button3]\n});\n\nthis.Tabs = new Ext.TabPanel({\nstore:this.store,\nid: 'Tabs',\nui: 'dark',\nscroll: 'horizontal',\nfullscreen: true,\ntabBar: { layout : { pack : 'center' }, }, items: [this.panel1, this.panel2,etc]});\n\nthis.cPane = new Ext.Panel ({\nfullscreen: true\nlayout: {\ntype: 'card',\nalign: 'type',\n},\ndefaults: {\nflex: 1\n},\nitems: [this.Tabs]\n});\n\nthis.dockedItems = [this.toolBar, this.Tabs];\nthis.items = [this.cPane];\n\nViews.viewFile.initComponent.call(this);\n},\n</code></pre>\n\n<p>I tried to minimize the amount of actual content to simplify the structure of my code and to make it easier to understand with including the properties of the different containers. When I start up this view, the toolbar appears normally but the tabPanel is extremely large and the color/graphics does not match up with the toolbar.</p>\n\n<p>But since I am able to see the tabPanel rendered at the top briefly when I switch between different views before selecting the view which contains the tabPanel, it seems to display properly unless I start the view which actually contains it. </p>\n\n<p>What could possibly be affecting the TabPanel's representative display?</p>\n"},{"tags":["c#","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":11672229,"title":"Concat an ellipsis on end of Model after substring","body":"<p>This is probably something so easy, but I am having a hard time finding the right syntax.  Basically I am using substring to cut a line short then I just want to add a \"...\" on the end.  I just cant seem to find the right way to do it.</p>\n\n<pre><code>@if (@Model.Name.Length &gt; 20)\n{\n    @Model.Name.Substring(0, 20) //\"...\" goes here\n}\nelse\n{\n    @Model.Name\n}\n</code></pre>\n"},{"tags":["django","mvc","checkbox","django-forms","multiple-choice"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":11623001,"title":"Properly defining \"other\" option in django MultipleChoiceField using CheckboxSelectMultiple","body":"<p>I'm new to both django and python and currently trying to build a form with various options as well as an \"other\" option for options not on the list.  I'd like to define the option such that when \"other\" is checked, the form only validates if the other text box contains a non-empty value.</p>\n\n<p><strong>Is there a proper way to extend django forms/fields/widgets to accomplish this?</strong>  The closest thing could find after searching google and stackoverflow is <a href=\"http://djangosnippets.org/snippets/863/\" rel=\"nofollow\">this example</a> which provides code to extend create a custom renderer, widget, and form field but it is based on an older version of django.</p>\n"},{"tags":["asp.net-mvc","mvc","validation","asp.net-webforms","service-layer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11203548,"title":"MVC Service layer validation within WebForms application","body":"<p>We have a service layer within our MVC3 application using an almost identical approach as described here: <a href=\"http://www.asp.net/mvc/tutorials/older-versions/models-(data)/validating-with-a-service-layer-cs\" rel=\"nofollow\">http://www.asp.net/mvc/tutorials/older-versions/models-(data)/validating-with-a-service-layer-cs</a></p>\n\n<p>The service layer doesn't depend on MVC.</p>\n\n<p>The issue is we have a legacy webforms application that needs to also create these services and I'm trying to come up with the best approach on how to instantiate these services. It would also be nice to have the Validate() method return the validation errors.</p>\n\n<p>An individual service requires an IValidationDictionary at construction which within our MVC app we simply use the ModelStateWrapper(this.modelstate) however in Webforms we obviously don't have the concept of ModelState (as in Controller.ModelState)</p>\n\n<p><em><strong>So my question would be how would you construct a service layer with model validation that can be used within an MVC and Webforms application?</em></strong></p>\n\n<p>At this stage we're not considering an IoC</p>\n\n<p><strong>On a side note:</strong></p>\n\n<p>Am I missing something obvious with ModelStateDictionary? It's within the MVC namespace but doesn't appear to be dependant on the MVC framework? Isn't it just a wrapper for a Dictionary with a  setup?</p>\n"},{"tags":["asp.net","mvc","entity-framework"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":463,"score":0,"question_id":6360991,"title":"System.ArgumentException while updating Model from Database","body":"<p>Our Application is an MVC Application. We are using Entity Framework. When I am updating the model to add a table from the database. I am recieving an exception and it says</p>\n\n<p>\"An exception of type 'System.ArgumentException' occured while attempting to update from the database. The exception message is: 'An entry with the same key already exists'.\"</p>\n\n<p>I am not able to figure out what is the problem. Can I have a solution to get over the problem.</p>\n"},{"tags":["unit-testing","mvc","rhino-mocks","mvccontrib"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":607,"score":1,"question_id":3462006,"title":"How To Write Unit Test For Method Returning JsonResult With RenderPartialViewToString?","body":"<p>If you look at the example at this link: </p>\n\n<p><a href=\"http://www.atlanticbt.com/blog/asp-net-mvc-using-ajax-json-and-partialviews/\" rel=\"nofollow\">http://www.atlanticbt.com/blog/asp-net-mvc-using-ajax-json-and-partialviews/</a></p>\n\n<p>How would one write a unit test for the JsonAdd method?  I have a similar situation in my own code, but the RenderPartialViewToString errors when calling: </p>\n\n<p>ViewEngineResult viewResult = ViewEngines.Engines.FindPartialView </p>\n\n<p>I've tried different ways of trying to stub that call to no avail.  Any help appreciated.  Thanks.</p>\n"},{"tags":["python","mvc","tkinter","syntax-error","nested-class"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":11643832,"title":"Python Tkinter: Cant configure button from another class","body":"<p>I am just learning MVC and im using Tkinter to do so, but while i am trying to configure a button from a class within a class i keep getting this error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"Controller.py\", line 22, in &lt;module&gt;\n    controller = Controller(root)\n  File \"Controller.py\", line 10, in __init__\n    self.view.addWidgets.btn.config(command=self.addShow)\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 1205, in configure\n    return self._configure('configure', cnf, kw)\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 1196, in _configure\n    self.tk.call(_flatten((self._w, cmd)) + self._options(cnf))\n_tkinter.TclError: invalid command name \".35986680.35987112.35991848\"\n</code></pre>\n\n<p>If you cant determine the problem from the error i can post my code, but they are in two separate files, although the files are only 40 lines long. </p>\n\n<p>Details:</p>\n\n<pre><code>Button is in Frame class\nFrame class is in View class\nView class is in Controller class\nfunction being called by Button command is in Controller class\n    error happens when i configure button from Controller class\n    self.view.addWidgets.btn.config(command=self.addShow)\n</code></pre>\n\n<h3>Edit</h3>\n\n<p>I striped the code.</p>\n\n<p>Controller.py</p>\n\n<pre><code>from View import *\nfrom Model import *\nfrom Tkinter import *\n\nclass Controller:\n    def __init__(self,root):\n        self.model = Model()\n        self.view = View(root)\n\n        self.view.addWidgets.btn.config(command=self.addShow)\n\n    def addShow(self):\n        print 'Working'\n\n\nroot=Tk()\nroot.withdraw()\ncontroller = Controller(root)\nroot.mainloop()\n</code></pre>\n\n<p>View.py</p>\n\n<pre><code>from Tkinter import *\nfrom MultiListbox import *\nfrom AddFrame import *  \n\nclass View(Toplevel):\n    def __init__(self, master):\n        Toplevel.__init__(self, master)\n        self.title('Show Preserver')\n\n        self.protocol(self.protocol('WM_DELETE_WINDOW', master.destroy))#When i delete this i dont get the error but it still dosent work\n\n        self.addFrame=Frame(self,bg='black')\n        self.addWidgets=AddFrame(self.addFrame)\n\n        self.addFrame.grid(row=0)\n\n        self.mainloop()\n</code></pre>\n\n<p>AddFrame.py</p>\n\n<pre><code>#Add Frame\nfrom Tkinter import *\n\nclass AddFrame(Frame):\n\n    def __init__(self,master):\n\n        self.frame = Frame(master,bg='black')\n        self.frame.grid(row=0,column=0,sticky=W+E)\n\n        self.btn = Button(self.frame,text='Add',bg='black',fg='yellow',activebackground='yellow',activeforeground='black', width=2,command=None)     \n        self.btn.grid(row=0,column=6,sticky=E)\n</code></pre>\n"},{"tags":["php","ajax","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":402,"score":0,"question_id":5097023,"title":"How to integrate AJAX into a MVC-style web application?","body":"<p>I'm developing a web application using a very simple (maybe not really MVC-compliant) MVC framework, coded by myself while developing the application to keep the code clean.\nMy application, though, has many AJAX components and now I'm stuck trying to integrate them within the general MVC structure. How should they be integrated?</p>\n\n<p>I have something like this in my Javascript files:</p>\n\n<pre><code>$('#pageList').load(BASE_SITE_URL + 'ajax/pageList.php');\n</code></pre>\n\n<p>and pageList.php used to have a structure like the following one:</p>\n\n<pre><code>&lt;?php\n\nrequire '../includes/config.inc.php';\nrequire BASE_PATH . 'includes/init.inc.php';\n\n// a whole load of Controller logic here and then...\necho \"&lt;table&gt;\";\n//display some user data\necho \"&lt;/table&gt;\";\n</code></pre>\n\n<p>I'm really confused about this, any advice is appreciated</p>\n"},{"tags":["javascript","mvc","local-storage","ember.js","ember-data"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":11658757,"title":"Ember.js createRecord possibly not firing","body":"<p>I have an application that saves a user's search criteria in localStorage, where each saved search is represented as an instance of an Ember.js model:</p>\n\n<pre><code>Checklist.SavedSearch = DS.Model.extend({\n  id: DS.attr('string'),\n  filters: DS.attr('string')\n});\n</code></pre>\n\n<p>When the \"save\" button is pressed, the controller creates a model instanced and creates a record for it:</p>\n\n<pre><code>Checklist.savedSearchController = Ember.ArrayController.create({\n  [..]\n\n  save: function(view) {\n    var saved_seach = Checklist.SavedSearch.createRecord({\n      id: 'abcd',\n      filters: '&lt;json&gt;'\n    });\n    Checklist.local_store.commit();\n  }\n});\n</code></pre>\n\n<p><code>Checklist.local_store</code> is an adapter I created (this is unsurprisingly where the problem probably begins) that has a basic interface that maps <code>createRecord</code>, <code>updateRecord</code>, etc. to a bunch of get/set methods that work with localStorage (loosely based on <a href=\"https://github.com/thomasboyt/data\" rel=\"nofollow\">a github fork of ember-data</a>). The adapter appears to work fine for some basic tests, particularly as <code>findAll</code> has no issues and returns values added manually to localStorage.</p>\n\n<p>Here is the relevant method within <code>Checklist.local_store</code>:</p>\n\n<pre><code>createRecord: function(store, type, model) {\n  model.set('id', this.storage.generateId);\n\n  var item = model.toJSON({associations: true});\n\n  this.storage.setById(this.storage_method, type, id, item);\n  store.didCreateRecord(model, item);\n}\n</code></pre>\n\n<p>The problem is that when <code>createRecord</code> is called by the controller, absolutely nothing occurs. Running it through the debugger, and logging to console, seems to show that the method isn't called at all. I imagine this is a misunderstanding on my part as to how Ember.js is supposed to work. I'd appreciate help on why this is happening.</p>\n\n<p>I come from a ruby and php background, and have perhaps foolishly dived straight in to a JS framework, so any other comments on code style, structure and anything in general are welcome.</p>\n"},{"tags":["asp.net-mvc","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":11661867,"title":"In asp.net-mvc, Is there any good reason to keep your model in the same project?","body":"<p>I have an asp.net-mvc site and recently I have wanted to generate emails with the same data that i am using to render to a webpage.  So slowly but surely I started moving a lot of my model and data access code into a seperate project so i can do the email generation stuff from a command line app or a service, etc (no dependency on any web stuff) . . if I take this one step further, I am now thinking I should just move all of my model and data access code outside of the MVC project so its a bit more future proof.   I know MVC gives you the default Model folder inside the web project.  Is there any reason to keep it there?</p>\n\n<p>I basically want to protect myself from accidentally having a dependency on System.Web.MVC inside my model or data access code.</p>\n"},{"tags":["html","ruby-on-rails","forms","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":11660222,"title":"Can I have inputs without forms in a Rails view?","body":"<p>I want to have a few check boxes on my page, and a link that accesses the value of these check boxes to pass in a <code>link_to</code> helper. I did not want to use a form because the view essentially has a number of links interspersed, and it doesn't naturally seem to be a form with one logical submit button.</p>\n\n<p>I have something like </p>\n\n<pre><code> &lt;% for p in @some_array %&gt;\n &lt;!--other stuff .... --&gt;\n &lt;input value=&lt;%= p.id %&gt; id=&lt;%= p.id %&gt; name=\"selected[]\" type=checkbox&gt;\n &lt;!--other stuff .... --&gt;\n&lt;%= link_to \"View all selected thing(s)\", :action =&gt; 'show_selected', :selected_things =&gt; selected[] %&gt;\n</code></pre>\n\n<p>But it doesn't seem to recognize the variable <code>selected</code> which stores the inputs. It raises </p>\n\n<pre><code>undefined local variable or method `selected' for #&lt;#&lt;Class:0x000001021b4a38&gt;:0x00000102319a90&gt;\n</code></pre>\n"},{"tags":["java","swing","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":11635924,"title":"Uncertainties regarding Implementation of Actions and Usage of a single Model with multiple Views","body":"<p>I'm a total newbee regarding GUI programming and maybe my problem has\na quite simple solution.\nI'm trying to implement a Java Swing GUI that serves as an\neditor for a tree like data structure. The GUI is divided into three\nparts:</p>\n\n<ol>\n<li><p>A tree viewer in the left quarter of the window displays the\ntree structured data.</p></li>\n<li><p>The large upper right area displays editors containing text fields,\ntables and the like. Each different kind of object in the tree\nstructure has its own editor which is shown when it is selected in the\ntree viewer.</p></li>\n<li><p>The lower right area shows a console viewer. It is used to display\nmessages about specific actions.</p></li>\n</ol>\n\n<p>I'm trying hard to obey a strict separation of the model from its\nvisualization in the tree viewers/editors in my program.  Therefore I\ncreated an instance of a sub-class of DefaultTreeModel (MyTreeModel)\nwhich stores references to the business data and an instance of a\nsub-class of JTree that provides the visual representation of the tree\nstructure.</p>\n\n<p>I'm attempting to implement functionality that modifies the data using\nAction classes. Any action (like CreateNode, RenameNode, DeleteNode)\nis implemented in it's own action class (sub-class of AbstractAction).\nThe actions are used in the tree viewer's context menu and in the\napplications \"Edit\" menu.  But I also want to reuse some of them in\nthe editor parts of the GUI, e.g. the RenameNode action. And here I'm\ncurrently stuck.</p>\n\n<p>The tree viewer displays an icon along with the name for every node in\nthe tree. And the respective editor contains, among other\nstuff, also a JTextField that shows the associated node's name.</p>\n\n<p>I know that I can attach action objects to JMenu, JPopupMenu and\neven to JTextField objects using the setAction method. I\ndid so and now I have a \"Rename\" menue entry in the program's \"Edit\"\nmenue, in the popup menue associated with the JTree that represents\nthe tree viewer and the JTextField showing the node name also has this\naction attached to it.</p>\n\n<p>To change the \"Name\" attribute of a tree node, I created the class\nRenameNode as a sub-class of AbstractAction. As already mentioned the\nname is displayed at each node in the tree viewer and the action\nsimply makes this text editable. The code doing this looks as follows\n(in the class RenameNode):</p>\n\n<pre><code>public void actionPerformed(ActionEvent ev) {\n    // \"mouseOverPath\" is the Treepath were the mouse was placed on\n    // when the popup menu was opened\n    if (tree.existsMouseOverPath()) {\n        tree.startEditingAtPath(tree.mouseOverPath);\n    } else if (tree.getSelectionCount() != 0) {\n        tree.startEditingAtPath(tree.getSelectionPath());\n    }\n}\n</code></pre>\n\n<p>These if statements are needed to make the action work properly from:</p>\n\n<p>-- the popup menu (first if statement; here the object which was under\nthe mouse when the popup menu is opened is made editable)</p>\n\n<p>-- the application's menu (second if statement; here the tree node\nthat is currently selected -- if any -- is made editable).</p>\n\n<p>Well, this works fine, in principle but in fact the renaming of the\nnode is not done through the code in the RenameAction class's\nactionPerformed(ActionEvent ev) method. The real change of the node's\nname is executed in the tree's MyTreeModel class in the method\nvalueForPathChanged() which is overridden as follows:</p>\n\n<pre><code>public class MyTreeModel extends DefaultTreeModel {\n\n\n[...]\n\n    @Override\n    public void valueForPathChanged(TreePath path, Object newValue) {\n    final MyTreeNode aNode = (MyTreeNode)path.getLastPathComponent();\n    if (newValue instanceof String) {\n        ((MyNode) aNode.getUserObject()).setName((String) newValue);\n    } else {\n        aNode.setUserObject(newValue);\n    }\n        nodeChanged(aNode);\n    }\n\n[...]\n\n}\n</code></pre>\n\n<p>I have absolutely no clue how the concept of actions could properly be\napplied here.\nEven worse is the situation with the rename operation when it is\nperformed changing the text in the JTextField object. At the moment I\ndon't know how to implement that in a clean way. The JTextField should\nget associated with a single node from the tree model structure as its\nmodel and the attached action should modify that model and when this\nmodel is changed the tree viewer would need to get notified to update\nthe respective node's name in the tree viewer.</p>\n\n<p>I assume that the MyNode class (which is alrady a sub-class of\nDefaultMutableTreeNode) would have to implement the interface Document\nand the RenameAction class would have to modify it and then an event\nwould have to be issued to notify the tree viewer that displays the\nchanged node.</p>\n\n<p>Bottom line: I must admit that I did not yet completely understand how\nto properly implement an action that is to be used in multiple places\nin a GUI and I don't completely understand how to implement a model\nthat can be used by multiple GUI objects (in my case a JTree and\na JTextField). Possibly all that is quite simple ...</p>\n\n<p>Thanks in advance for any help!</p>\n\n<p>Well the answers given were quite helpful in explaining how actions\ncan be used together with JTrees. But there is one more point I'd like to discuss.\nIn my GUI I have a tree representation of my business data combined\nwith editors for the data (the tree located in the left quarter of the window and aside of it a node type specific editor). All the nodes have names that can be changed. And, the editors contain a text field (implemented with a JTextField) in which the node's name is displayed and which can be edited too. My uncertainty here is as follows:\nA JTextField allows to assign an action object as well as a\nmodel to it. Actually the model would be a node object already viewed in the JTree. I think there should be a way to use the same model object used in the JTree also as a model for the JTextField in the editor and also reuse the Action class there. Regarding the reuse of the model I think my model class MyTreeNode will have to implement the Document interface too, correct? And when bringing up the node specific editor I'd have to associate the node currently selected in the JTree with the JTextField object using its setDocument() method.\nFinally my RenameNodeAction would have to perform the change of the\nJTextField's node's name.\nSo my central point is: making one model being displayd in multiple views and the reuse of just one RenameAction everywhere where a node is to be renamed. Does this make sense and is my idea how this must be accomplished feasible?</p>\n"},{"tags":["regex","security","mvc","filenames"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":11659461,"title":"MVC3/ASP.NET Best practice for ensuring a file argument is local and not trying to go outside of my application root directory?","body":"<p>Another developer maintains a large collection of crystal reports. I need to make these reports available with my ASP.NET MVC3 page without requiring a full Crystal Reports Server product. </p>\n\n<p>The current reporting site is a classic ASP page with all of the args passed e.g Prompt0&amp;Prompt1...etc</p>\n\n<p>To that end, I've created an aspx page that sits in my MVC app and serves these reports out of a directory in my app like so:</p>\n\n<p>public partial class Report : System.Web.UI.Page\n    {</p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e)\n    {\n        iLogger logger = LoggingFactory.CreateLogger();\n\n        ReportDocument rd = new ReportDocument();\n\n        string fileName = Request.QueryString[\"reportfile\"];\n\n\n        if(!Regex.IsMatch(fileName,@\"^[ 0-9a-zA-Z-_\\\\]+.rpt$\"))\n        {\n      //log and throw\n        }\n\n\n\n        if(Path.IsPathRooted(fileName))\n        {\n           //log and throw\n        }\n\n        string rootPath = Server.MapPath(\"~/Reports/\");\n\n        string path = Path.Combine(rootPath, fileName);\n\n\n\n        if (File.Exists(path))\n        {\n            rd.Load(path);\n        }\n\n        //get all keys starting with Prompt\n        var prompts = Request.QueryString.AllKeys.Where(q =&gt; q.StartsWith(\"Prompt\"));\n\n        foreach (string promptKey in prompts)\n        {\n            //try to convert the rest of the string to an int  \n            //yes, this should probably not just be a replace here...\n                string withoutPrompt = promptKey.Replace(\"Prompt\", \"\");\n\n                int promptVal;\n                if (int.TryParse(withoutPrompt, out promptVal))\n                {\n                    rd.SetParameterValue(promptVal, Request.QueryString[promptKey]);\n                }\n                //rd.SetParameterValue(promptKey, Request.QueryString[promptKey]);\n\n        }\n\n\n        CrystalReportViewer1.ReportSource = rd;\n\n    }\n}\n</code></pre>\n\n<p>This works suprisingly well for the amount of effort (the report designer just needs to change the links within the report/query pages from e.g mywebserver.foo/Report1.rpt?Prompt....etc.etc to mywebserver.foo/mymvcreport/report.aspx?Filename=report1.rpt&amp;Prompt... etc </p>\n\n<p>So great, we can quickly move over to our MVC app and avoid having to have 10 sites go out and buy Crystal Server. </p>\n\n<p>My obvious concern is that in the filename arg, someone could put just about anything in there, eg: \"C:\\foo\\bar\" or \"../bla/blah\",etc. Is there a single best practice for escaping these filenames and ensuring that it is a local path to my app?  </p>\n\n<p>I'd like to be able to take a parameter of eg: /Sales/Quarterly/Quarterly.rpt</p>\n\n<p>My first thought is to just use a regex of eg [0-9a-zA-z-_\\]+ to ensure no colon or dot characters can be used. Any suggestions on the most complete way to handle this?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT:</p>\n\n<p>Updated with preliminary checks I put in...</p>\n"},{"tags":[".net","mvc","file-upload","iis7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":11657665,"title":"Uploading a file to IIS 7","body":"<p>in my .net MVC3 web application I am trying to upload an xlsx file to a specific folder under the root directory.\nIts working locally.\nOn my web server (IIS 7) It doesn't work.\nSteps I have already taken:\n1. I set the Identity of the AppPool to ApplicationPoolIdentity;\n2. In IIS manager I added the DefaultAppPool and the specific MyAppPool to the users and gave them both the write permission to the specific folder.</p>\n\n<p>if I try to upload the file while browing from the server itself - it works fine.</p>\n\n<p>can you help me identify the problem?</p>\n\n<p>Thank you!</p>\n"},{"tags":["asp.net","mvc","internet-explorer-8","iis-7.5"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2467,"score":2,"question_id":5249130,"title":"Due to the presence of characters known to be used in Cross Site Scripting attacks, access is forbidden","body":"<p>Can anyone tell me where does following HTTP error message come from:</p>\n\n<p><em>Due to the presence of characters known to be used in Cross Site Scripting attacks, access is forbidden. This web site does not allow Urls which might include embedded HTML tags.</em> </p>\n\n<p>We're using dynamically generated URLs and in this specific case the URL contains the characters '&lt;' or '>'. We do URL encode the generated URL (so '%3C' appeary instead of '&lt;') but it doesn't help.</p>\n\n<p>Our setup is ASP.NET MVC / IIS 7.5 / IE8.</p>\n\n<p>It's strange but it looks like the error appears only on some machines. So it could be that the IE internet zone settings are playing a role.</p>\n"},{"tags":["javascript","mvc","backbone.js"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1183,"score":2,"question_id":7526799,"title":"backbone.js: how to inline editing on attribute of a model","body":"<p>how would i add inline editing on attributes of a model,</p>\n\n<p>for example, when i have a <code>Player</code> model</p>\n\n<pre><code>var Player = Backbone.Model.extend({\n  defaults: {\n    id: 0,\n    name: '',\n    points: 0\n  },\n  initialize: function(){\n    // irrelevant stuff happening here...\n  },\n  rename: function(newName){\n    this.set({ name: newName });\n  }\n});\n</code></pre>\n\n<p>and a <code>playerRow</code> view</p>\n\n<pre><code>var PlayerRow = Backbone.View.extend({\n  tagName: 'li',\n  className: 'player',\n  events: { \n    'click span.score':  'score',\n    'blur input.name': 'rename',\n    'click div.playername': 'renderRename'\n  },   \n  initialize: function(){\n    _.bindAll(this, 'render', 'rename');\n    this.model.bind('change', this.render);\n  },\n  render: function(){\n    var template = Tmpl.render(\"playerRow\", { model : this.model });\n    $(this.el).html(template);\n    return this;\n  },\n  renderRename: function() {\n    // i was thinking of switching the DOM into a textfield here\n  },\n  rename: function(){\n    var inpt = $(this.el).find('input.name');\n    var newName = (inpt.val() != '') ? inpt.val() : 'no-name';\n    this.model.rename(newName);\n  }\n});\n</code></pre>\n\n<p>and my playerRow template</p>\n\n<pre><code>&lt;script type=\"text/template\" id=\"playerRow-template\"&gt;\n  &lt;% if ( model.get('name') == '' ) { %&gt;\n    &lt;div class=\"state-edit\"&gt;&lt;input type=\"text\" class=\"name\" name=\"name\"&gt;&lt;/input&gt;&lt;/div&gt;\n  &lt;% } else { %&gt;    \n    &lt;div class=\"playername\"&gt;&lt;%= model.get('name') %&gt;&lt;/div&gt;\n  &lt;% } %&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>either i set a certain property of my model that holds the state (default or edit), which triggers a re-render and in my template instead of testing <code>if name == ''</code> i can test on that state property.</p>\n\n<p>or i do it inline like i say in my comment in renderRename i just swap the DOM into an input field  but i think this is a bad way to do it. Would this cause troubles with the already bound events? like <code>'blur input.name': 'rename'</code></p>\n\n<p>i doubt creating a new view for the edit is the best way, because i want inline editing, for just this one name field, i don't want all the rest of the player template to be duplicate in the player template and the editplayer template.</p>\n\n<p><strong>so, bottomline, my question:\nwhat is the best way, to handle inline editing</strong></p>\n\n<ol>\n<li>a separate view </li>\n<li>inline just appending an input field (don't know if this works well with the bound events)</li>\n<li>having my model hold a state variable for this attribute (would work but sounds weird to have a model hold view related data)</li>\n</ol>\n"},{"tags":["c#","mvc","key-value"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":135,"score":1,"question_id":11620610,"title":"Passing object (with KeyValuePair) back into controller","body":"<p>I have tried looking around for an answer to this, but I have been stuck for the better part of a day, so I thought the good people here may be able to help me!</p>\n\n<p>I have a list of Monitor objects that I list on the index page. Each monitor has more information to show on the details page. The problem I am having is with the</p>\n\n<pre><code>public List&lt;KeyValuePair&lt;int, int&gt;&gt; FaxcomMonitorData { get; set; }\n</code></pre>\n\n<p>shown below.</p>\n\n<p>Monitor Class:</p>\n\n<pre><code>[DataContract]\npublic class Monitor\n{\n    [DataMember]\n    public string MonitorType { get; set; }\n\n    [DataMember]\n    public string AtlasMonitorHeader { get; set; }\n\n    [DataMember]\n    public string AtlasMonitorData { get; set; }\n\n    [DataMember]\n    public List&lt;KeyValuePair&lt;int, int&gt;&gt; FaxcomMonitorData { get; set; }\n\n    (...other attributes here...)\n\n}\n</code></pre>\n\n<p>Monitors can be of 2 types: ATLAS and FAXCOM. Depending on which they are, the respective data attribute will be updated with appropriate values and the other is left null. (ie Atlas has AtlasMonitorHeader and Data are not null but FaxcomMonitorData is null)</p>\n\n<p>Index ActionResult:</p>\n\n<pre><code>public ActionResult Index() \n    {\n        MonitorServiceClient client = null;\n        List&lt;Monitor&gt; monitors = null;\n        try\n        {\n            client = new MonitorServiceClient(\"BasicHttpBinding_IMonitorService\");\n            monitors = new List&lt;Monitor&gt;(client.GetMonitors());\n            if (monitors.Any(x =&gt; x.Status.Equals(\"red\")))\n                ViewData[\"OverallStatus\"] = \"red\";\n            else\n                ViewData[\"OverallStatus\"] = \"green\";\n        }\n        catch (Exception ex)\n        {\n            if (null != client)\n                client.Abort();\n        }\n        return View(monitors);\n    }\n</code></pre>\n\n<p>When the list of monitors comes in here the monitors in the list look great! The KeyValuePair has the correct values and all is good.</p>\n\n<p>Index View:</p>\n\n<pre><code>&lt;div id=\"overallstatus\"&gt;\n    &lt;table style=\"border-style:none\"&gt;\n        &lt;tr&gt;\n            &lt;td style=\"vertical-align:middle; font-size:30px; color:Black; border-style:none\" &gt;Overall Status:&lt;/td&gt;\n            &lt;td style=\"border-style:none\" &gt;\n                &lt;% if (ViewData[\"OverallStatus\"].Equals(\"red\")) { %&gt;\n                    &lt;img src=\"../../../Content/Images/RedStoplightRG.png\" alt=\"\" height=\"60px\" width=\"140px\"/&gt;\n                &lt;% } %&gt;\n                &lt;% else if (ViewData[\"OverallStatus\"].Equals(\"green\")) { %&gt;\n                    &lt;img src=\"../../../Content/Images/GreenStoplightRG.png\" alt=\"\" height=\"60px\" width=\"140px\"/&gt;\n                &lt;% } %&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt; \n    &lt;/table&gt;\n&lt;/div&gt;\n\n&lt;br /&gt;\n&lt;br /&gt;\n\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;&lt;/th&gt;\n        &lt;th&gt;\n            Monitor\n        &lt;/th&gt;\n        &lt;th&gt;\n            Current Status\n        &lt;/th&gt;\n        &lt;th&gt;\n            Last Update\n        &lt;/th&gt;\n    &lt;/tr&gt;\n\n&lt;% foreach (var item in Model) { %&gt;\n    &lt;tr&gt;\n        &lt;td&gt;\n            &lt;%: Html.ActionLink(\"Details\", \"Details\", item)%&gt;\n        &lt;/td&gt;\n        &lt;td&gt;\n            &lt;%: item.MonitorName %&gt;\n        &lt;/td&gt;\n        &lt;td&gt;\n            &lt;% if (item.Status.Equals(\"green\")) { %&gt;\n                &lt;img alt=\"\" src=\"../../../Content/Images/GreenStoplightRG.png\" height=\"40px\" width=\"95px\"/&gt; \n            &lt;% } %&gt;\n            &lt;%-- &lt;% else if (Model.CurrentStatus.Equals(\"red\")) { %&gt;\n                &lt;img alt=\"\" src=\"../../../Content/Images/RedStoplightRG.png\" /&gt;\n            &lt;% } %&gt; --%&gt;\n            &lt;% else { %&gt;\n                &lt;img alt=\"\" src=\"../../../Content/Images/RedStoplightRG.png\" height=\"40px\" width=\"95px\"/&gt;\n            &lt;% } %&gt;\n        &lt;/td&gt;\n        &lt;td&gt;\n            &lt;%: String.Format(\"{0:g}\", item.LastUpdated) %&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n\n&lt;% } %&gt;\n\n&lt;/table&gt;\n</code></pre>\n\n<p>The bottom table here displays each monitor and some data. When I click the details hyperlink I go to this controller method.</p>\n\n<p>Details ActionResult:</p>\n\n<pre><code>public ActionResult Details(Monitor monitor)\n    {\n        if (monitor.MonitorType.Equals(\"ATLAS\"))\n            return RedirectToAction(\"AtlasDetails\", monitor);\n        if (monitor.MonitorType.Equals(\"FAXCOM\"))\n            return RedirectToAction(\"FaxcomDetails\", monitor);\n\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n\n<p>If I click on a monitor of type ATLAS (that do not have the KeyValuePair), all the attributes are just fine. </p>\n\n<p>FAXCOM types though have most of the attributes set correctly, except for the KeyValuePair. It is null now, even though it wasn't when the object was initially received (in the Index ActionResult).</p>\n\n<p>I don't believe I am doing anything to cause the KeyValuePair to go null in the view, but I haven't used it before so I may need to pass the information in a different way that I am right now.</p>\n\n<p>Let me know if additional code or explanation will help. Thank you!</p>\n\n<p>Edit: I am not using a database at all and the service I consume in the Index page only will give me the a list of Monitor objects. I would prefer not to call (and wait for) the service again since it would take a long time if there are many monitors.</p>\n\n<p>Edit:\nThanks to fan711's explanation of why what we were trying wasn't going to work, we decided to go with a different (somewhat ugly) workaround due to time constraints. If you have more time, you should go with Jonathan's answer and follow those good coding practices if possible. I thought I would at least post here what we did in case someone else wants to use it.</p>\n\n<p>We ended up making the FaxcomMonitorData a string that was delimited by commas and carrots (, and ^) to separate the key from its value and keyvalues from other keyvalues. We then parsed this string and stored the data in a List>. </p>\n\n<pre><code>List&lt;KeyValuePair&lt;int,int&gt;&gt; FaxcomData = new List&lt;KeyValuePair&lt;int,int&gt;&gt;();\n\n        List&lt;string&gt; keyvaluepairs = monitor.FaxcomMonitorData.Split('^').ToList();\n        foreach (var pair in keyvaluepairs)\n        {\n            List&lt;string&gt; stringData = pair.Split(',').ToList();\n            FaxcomData.Add(new KeyValuePair&lt;int,int&gt;(Convert.ToInt32(stringData[0]), Convert.ToInt32(stringData[1])));\n        }\n</code></pre>\n\n<p>Thank you for the help!</p>\n"},{"tags":["ruby-on-rails","mvc","controller","routes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":11656370,"title":"Handling different routes (with different params) for the same controller","body":"<p><strong>PROBLEM DESCRIPTION:</strong></p>\n\n<p>I have a intermediate table X to map Elements from table A to elements from table B.</p>\n\n<p>This table X contains also many columns regarding properties of this mapping. The uniqueness of a record in table X is not just the id od A and id od B but also a unique identifier that represents the mapping.</p>\n\n<p>When trying to update a property of table X, I added to routes:</p>\n\n<pre><code>map.A :only=&gt;[:none] do |a|\n    a.resources B :controller=&gt;X :only[:update]\nend\n\nmap.resources x :only=&gt;[:update]\n</code></pre>\n\n<p>So this basically gives me to possible urls to access the update method of my X controller.</p>\n\n<p><strong>QUESTION:</strong></p>\n\n<p>My question is: how can I tell when the controller was accessed by passing A and B or just X identifier? I know that looking at the params I can check if A is present and if not then it mus be X but this is not very practical/secure. If it gets more complicated I will need multiple ifs to detect the exact case.</p>\n\n<p>Even worst, imagine that for some reason I have another route like: </p>\n\n<pre><code>map.resources Y :controller=&gt;X :only[:update]\n</code></pre>\n\n<p>Then in my params hash I would just have :id so and if condition wouldn't even work...</p>\n\n<p><strong>COMMENTS:</strong></p>\n\n<p>I wish there was a <code>:key</code> option for the routes so you could rename the keys in the parameters hash but from what I have read in Rails 2 there is no such a thing and I would like to avoid plugins if possible. Isn't there a better way than if cases or parsing the url to tell what parameters where passed so I can look up my database?</p>\n\n<p>Thanks!!!</p>\n"},{"tags":["ruby-on-rails","ruby","oop","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":11655593,"title":"Ruby on Rails, should I use class method or instance method, and why","body":"<p>In my rails app when creating a business I have a form that has the following field</p>\n\n<pre><code>   &lt;%= check_box_tag(:default_company) %&gt; \n   &lt;%= label_tag(:default_company, \"Set Company as Default\") %&gt;\n</code></pre>\n\n<p>Essentially when I create a business, if they check this box, I need it to run something like the following code.</p>\n\n<pre><code>def set_default_company(company, user)\n  exists = DefaultCompany.find(user.id)\n  if exists\n    exists.update_attributes(company: company)\n  else  \n    DefaultCompany.create(company: company, user: user)\n  end\nend\n</code></pre>\n\n<p>While learning, I would usually do that stuff in my controller but i'm trying to follow best practices and use a fat model, skinny controller, so i'm wanting to move use logic like this</p>\n\n<pre><code>def create\n@company = Company.new(params[:company])\n\nif @company.save\n  if params[:default_company]\n    Company.set_default_company(@company.id, current_user.id,)\n  end\n  flash[:notice] = \"Company was successfully created.\"\n  redirect_to @company\n  else\n    redirect_to new_company_path\n  end\nend\n</code></pre>\n\n<p>Here is where I am getting confused on whether to use a class method or an instance method, to call set_default_company. They both seem like they would work and I can't see a benefit to one or the other.</p>\n\n<p>In addition to giving me any information as to which method to use, if someone could show me a brief implementation of writing that as a class method vs instance method it may give me a better understanding as to why. Here is how I would write them </p>\n\n<pre><code>def self.set_default_company(company, user)\n  # Logic here\nend\n\ndef set_default_company(company, user)\n  # Logic here\nend\n</code></pre>\n\n<p>So writing them that way I don't see a benefit to either... thanks in advance</p>\n"},{"tags":["javascript","mvc","mvvm","knockout.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":242,"score":-1,"question_id":11655635,"title":"What is the correct file structure for knockout js application?","body":"<p>I am starting to learn knockout js and i am planning to build a mid size application like catering 1000 users and 1000 entries. I was wondering how do you guys structure you js files for knockout js application? It is like a conventional  MVC file structure like</p>\n\n<p>lib/</p>\n\n<p>app/</p>\n\n<p>app/model/</p>\n\n<p>app/view/</p>\n\n<p>app/controller/</p>\n\n<p>Or you structure it differently?</p>\n"},{"tags":["asp.net-mvc-3","mvc","razor","mvcsitemapprovider"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":371,"score":1,"question_id":11638198,"title":"MVC SiteMapProvider Breadcrumbs change \">\" to something else","body":"<p>The way the MVC SiteMapProvider lays out breadcrumbs they are displayed like</p>\n\n<p>Home > Details > Manage Project</p>\n\n<p>What do I do if I want to change \">\" to a different symbol (or in my specific case an icon within twitter bootsrap)?</p>\n\n<p>At the moment I am calling the breadcrumbs using @Html.MvcSiteMap().SiteMapPath() </p>\n\n<p>I went into Views/Shared/DisplayTemplates/SiteMapPathHelperModel and tried changing</p>\n\n<pre><code>&lt;text&gt; &amp;gt; &lt;/text&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>&lt;text&gt;&lt;i class=\"icon-chevron-right\"&gt;&lt;/i&gt;&lt;/text&gt;\n</code></pre>\n\n<p>but the greater then symbol stayed. I received no errors. </p>\n\n<p>Here is some potentially relevant code from the partial view that uses the bread crumbs:</p>\n\n<pre><code>@if(Request.IsAuthenticated) \n{\n\n    &lt;div class=\"breadcrumb trail\"&gt;\n        &lt;i class=\"icon-home\"&gt;&lt;/i&gt;\n        @Html.MvcSiteMap().SiteMapPath()\n    &lt;/div&gt;            \n    &lt;p align =\"right\"&gt;   \n    &lt;i class=\"icon-user\"&gt;&lt;/i&gt; &lt;text&gt;Welcome &lt;strong&gt;@User.Identity.Name&lt;/strong&gt;!\n        [ @Html.ActionLink(\"Log Off\", \"LogOff\", \"Account\") ]&lt;/text&gt;\n    &lt;/p&gt;\n}\nelse\n{\n    @* display nothing*@\n}\n</code></pre>\n\n<p>Here is the sitemap being declared in the web.config:</p>\n\n<pre><code>&lt;siteMap defaultProvider=\"MvcSiteMapProvider\" enabled=\"true\"&gt;\n  &lt;providers&gt;\n    &lt;clear /&gt;\n    &lt;add name=\"MvcSiteMapProvider\" type=\"MvcSiteMapProvider.DefaultSiteMapProvider, MvcSiteMapProvider\" siteMapFile=\"~/Mvc.Sitemap\" securityTrimmingEnabled=\"true\" cacheDuration=\"5\" enableLocalization=\"true\" scanAssembliesForSiteMapNodes=\"true\" includeAssembliesForScan=\"\" excludeAssembliesForScan=\"\" attributesToIgnore=\"visibility\" nodeKeyGenerator=\"MvcSiteMapProvider.DefaultNodeKeyGenerator, MvcSiteMapProvider\" controllerTypeResolver=\"MvcSiteMapProvider.DefaultControllerTypeResolver, MvcSiteMapProvider\" actionMethodParameterResolver=\"MvcSiteMapProvider.DefaultActionMethodParameterResolver, MvcSiteMapProvider\" aclModule=\"MvcSiteMapProvider.DefaultAclModule, MvcSiteMapProvider\" siteMapNodeUrlResolver=\"MvcSiteMapProvider.DefaultSiteMapNodeUrlResolver, MvcSiteMapProvider\" siteMapNodeVisibilityProvider=\"MvcSiteMapProvider.DefaultSiteMapNodeVisibilityProvider, MvcSiteMapProvider\" siteMapProviderEventHandler=\"MvcSiteMapProvider.DefaultSiteMapProviderEventHandler, MvcSiteMapProvider\" /&gt;\n  &lt;/providers&gt;\n&lt;/siteMap&gt;\n</code></pre>\n\n<p>Code within the SiteMapPathHelperModel.cshtml template:</p>\n\n<pre><code>@model MvcSiteMapProvider.Web.Html.Models.SiteMapPathHelperModel\n@using System.Web.Mvc.Html\n@using System.Linq\n@using MvcSiteMapProvider.Web.Html.Models\n\n@foreach (var node in Model) { \n    @Html.DisplayFor(m =&gt; node);\n\n    if (node != Model.Last()) {\n       @*Original Symbol*@\n       @* &lt;text&gt; &amp;gt; &lt;/text&gt; *@\n       &lt;text&gt; &amp;rsaquo; &lt;/text&gt;\n    }\n}\n</code></pre>\n\n<p>Am I totally off in the way I am going about doing this, or am I just missing something? </p>\n\n<p><strong>UPDATE</strong> You can pass a template into the SiteMapPath method as a string. Attempting this within the partial view that calls this method, I pass it like so:</p>\n\n<pre><code>@Html.MvcSiteMap().SiteMapPath(\"SiteMapPathHelperModel\")\n</code></pre>\n\n<p>I have removed the acsx file from the project to keep it from going here by default (I want it to use the cshmtl template). I have changed the template code to use a different symbol and have rebuilt, saved all, then ran the project.</p>\n\n<p>It still uses the default \">\" symbol despite all of this.</p>\n"},{"tags":["php","mvc","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":11651472,"title":"How can I treat annotations? php","body":"<p>I use custom MVC framework. I want to use annotations above action to display title in view like:</p>\n\n<pre><code>class controller {\n    /**\n    * @title = some title\n    */\n    public function action(){\n    }\n}\n</code></pre>\n\n<p>To do this I use <code>ReflectionMethod::getDocComment</code> and then parse comment using simple Regex, make <code>title</code> as global variable and use it in my view. Of course, this is a solution but really bad one because in future I may need to use annotations not just for defining titles (for example, to define rules in models. Like Symphony does).</p>\n\n<p>My problem is that I have no idea where to save metadata.</p>\n"},{"tags":["php","mvc","codeigniter-2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":167,"score":0,"question_id":11642423,"title":"Code Igniter - converting to MVC model - select within result set loop","body":"<p>I'm still trying to get my head around MVC I have a straight php/mysql page that basically works by getting\nselect * FROM table1\nthen looping through the result set\nand on each loop running a Join to find sub project information..</p>\n\n<p>but I can't figure out how to split this up and do it in MVC.. </p>\n\n<p>code is as below any help or pointers in the right direction would be appreaciated!</p>\n\n<pre><code>mysql_connect(localhost,$username,$password);\n@mysql_select_db($database) or die( \"Unable to select database\");\n$query=\"SELECT * FROM building\";\n$result=mysql_query($query);\n\n$num=mysql_numrows($result);\n\n$i=0;\nwhile ($i &lt; $num) {\n    //for loop make a table\n    //this is the heading info\n\n    $b_id=mysql_result($result,$i,\"id\");\n    $address=mysql_result($result,$i,\"address\");\n    $description=mysql_result($result,$i,\"description\");\n\n?&gt;\n    &lt;table width=\"772px\" border=\"0\" align=\"center\" cellpadding=\"5\" cellspacing=\"0\"&gt;\n     &lt;tr bgcolor=\"#4682B4\" height=\"50\"&gt;\n      &lt;td width=\"5%\"&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;font size=\"4\" face=\"tahoma\" color=\"white\"&gt;&lt;strong&gt;&lt;? echo $address; ?&gt;&lt;a href=\"http://localhost:8888/project-add.php?b_id=&lt;? echo $b_id; ?&gt;\"&gt;Add Project&lt;/a&gt;&lt;/strong&gt;&lt;/font&gt;&lt;/td&gt;\n      &lt;td bgcolor=\"#4682B4\" align=\"center\" width=\"50%\"&gt;&lt;input id=\"lnk&lt;? echo $i; ?&gt;\" type=\"button\" value=\"[+] Expand\" onclick=\"toggle_visibility('tbl&lt;? echo $i; ?&gt;','lnk&lt;? echo $i; ?&gt;');\"&gt;&lt;/td&gt;\n     &lt;/tr&gt;\n     &lt;tr&gt;\n      &lt;td colspan=\"3\"&gt;\n       &lt;table width=\"103%\" border=\"1\" cellpadding=\"5\" cellspacing=\"0\" id=\"tbl&lt;? echo $i; ?&gt;\" class=\"tbl\"&gt;\n\n        &lt;?\n        $query=\"SELECT project.id AS p_id, project.name AS p_name, project.description AS p_des, project.building_id as p_b_id, building.id AS b_id, building.address AS b_name\n            FROM project JOIN building\n            ON project.building_id = building.id\n            WHERE building_id='$b_id'\";\n        $proj_result=mysql_query($query);\n        $proj_num=mysql_numrows($proj_result);\n\n        $j=0;\n        while ($j &lt; $proj_num) { //while 1\n\n            $p_id=mysql_result($proj_result,$j,\"p_id\");\n            $p_name=mysql_result($proj_result,$j,\"p_name\");\n            $p_des=mysql_result($proj_result,$j,\"p_des\");\n            $b_name=mysql_result($proj_result,$j,\"b_name\");\n\n\n        ?&gt;\n        &lt;tr&gt;\n         &lt;td width=\"5%\"&gt;&lt;/td&gt;\n         &lt;td width=\"45%\"&gt;&lt;? echo $p_name; ?&gt;&lt;/td&gt;\n         &lt;td width=\"50%\" align=\"center\"&gt;XXXXXXX&lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;?\n            $j++;\n        } //end while 1\n        ?&gt;\n      &lt;/table&gt;\n      &lt;/td&gt;\n     &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;?\n    $i++;\n}\n\n\n\nmysql_close();\n?&gt;\n</code></pre>\n"},{"tags":["mvc","scala","playframework","routes","akka"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":11638521,"title":"Error with routes","body":"<p>I'm new to play, scala, and akka and I am getting an error when using sbt to build it and compiling it by loading localhost in a web browser. The in browser error I'm getting is:</p>\n\n<p>Compilation error\nreference to routes is ambiguous; it is imported twice in the same scope by import controllers._ and import models._</p>\n\n<pre><code>In /Users/Louis/Documents/play_actors/app/views/form.scala.html at line 9.\n5@main(Html(\"Calculate Pi\")) {\n6    \n7    &lt;h2&gt;Calculate Pi&lt;/h2&gt;\n8    \n9    @helper.form(action = routes.Pi.submit) { \n10        \n11        &lt;fieldset&gt;\n12            &lt;legend&gt;Pi Options&lt;/legend&gt;\n</code></pre>\n\n<p>I'm not sure why I'm getting this error. I call the html file from Activity.scala:</p>\n\n<pre><code>package controllers\n\nimport play.api._\nimport play.api.mvc._\n\nimport views._\n\nobject Application extends Controller {\n\n    def index = Action {\n        Ok(html.form(Pi.optionsForm))\n    }\n\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mvc","object"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":11646646,"title":"MVC complex business logic responsability","body":"<p>I have a little question about MVC:\nFor example if I have a model \"Video\" and the application allow the user to add/remove favourite videos (handling the favourites in a database por example). \nWhat is the correct approach for implementing that?</p>\n\n<ol>\n<li>The class Video has <strong>isFavourite()</strong> / <strong>addToFavourites()</strong> methods. When called the Model access to the database adapter and updates the proper value.</li>\n<li>Both Video an VideosManager have isFavourite() / addToFavourites() calls. When some method calls <strong>video.addToFavourites()</strong>, the Video model calls to <strong>VideoManager.addToFavourites(this)</strong></li>\n<li>Only the VideoManager implements <strong>isFavourite(Video)</strong> / <strong>addToFavourites(Video)</strong> methods. When someone wants to change the favourites calls directly to the VideoManager.</li>\n</ol>\n"},{"tags":["mvc","asp.net-mvc-routing","portability","asp.net-mvc-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":207,"score":1,"question_id":8271674,"title":"Embedded image in portable area not showing on deployment","body":"<p>I am using MVC 2 on VS2010 and IIS 7. I created a portable area with some images embedded into it. I tried to create routing rule two ways at the time of portable area registeration. Following are the two ways I tried.</p>\n\n<p><strong>Method 1</strong></p>\n\n<pre><code>    context.MapRoute(\"ResourceRoute\", \"login/resource/{resourceName}\",\n        new { controller = \"EmbeddedResource\", action = \"Index\" },\n        new string[] { \"MvcContrib.PortableAreas\" });\n\n        context.MapRoute(\n            \"login\",\n            \"login/{controller}/{action}\",\n            new { controller = \"login\", action = \"index\" });\n\n     RegisterAreaEmbeddedResources();\n</code></pre>\n\n<p>In this case I tried to access the image using Url.Resource()</p>\n\n<p><strong>Method 2</strong></p>\n\n<pre><code>     context.MapRoute(\n        \"login\",\n        \"login/{controller}/{action}\",\n        new { controller = \"login\", action = \"index\" });\n\n     RegisterDefaultRoutes(context);\n     RegisterAreaEmbeddedResources();\n</code></pre>\n\n<p>In this case I tried to access the image using Url.Content()</p>\n\n<p>Following are scenarios where things are working fine.</p>\n\n<ol>\n<li>When I run the application on my local development server (Ctrl + F5).</li>\n<li>When run application after publishing it on my localhost.</li>\n<li>When I run the application on different development server (Ctrl + F5), say on my friend's box.</li>\n</ol>\n\n<p>But it does not render image (right now I have only images as static resource. No CSS or JS) if I publish on someone else's system, say localhost on my friend's box. Everything else is working fine except for the image rendering.</p>\n\n<p>I have tried all possible means to get it rendered in the situation it is failing but all in vain. I need some help here. Anyone please?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["mvc","namespaces","asp.net-mvc-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":6715033,"title":"MVC Area with same namespace as referenced project","body":"<p>I'm having a problem accessing a referenced project. I'm using areas and one of my areas has a simular namespace as a project I've referenced. So the namespace of my area is...</p>\n\n<p>AdminSite.Areas.MyProject</p>\n\n<p>...and the namespace of the referenced project is...</p>\n\n<p>MyProject</p>\n\n<p>So when I try to access classes in the referenced project 'MyProject', it only looks in the AdminSite.Areas.MyProject namespace. So how do I access classes in the 'MyProject' namespace instead of the 'AdminSite.Areas.MyProject' namespace?</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net","mvc","routes","asp.net-mvc-routing","asp.net-mvc-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":794,"score":2,"question_id":5946890,"title":"ASP.NET MVC 3 route issues","body":"<p>I'm working on the <a href=\"http://mvcforum.codeplex.com\" rel=\"nofollow\">http://mvcforum.codeplex.com</a> project.</p>\n\n<p>We have 2 areas, Forum and ForumAdmin.</p>\n\n<p>I have a few named routes, to make a nice URL with forum/topic titles in the URL:</p>\n\n<pre><code>context.MapRoute(\"ShowTopic\", \"Forum/Topic/{id}/{title}\", new { controller = \"Topic\", action = \"Index\" });\ncontext.MapRoute(\"ShowForum\", \"Forum/Forum/{id}/{title}\", new { controller = \"Forum\", action = \"Index\" });\ncontext.MapRoute(\"ShowCategory\", \"Forum/Category/{id}/{title}\", new { controller = \"Category\", action = \"Index\" });\n\ncontext.MapRoute(\n    \"Forum_default\",\n    \"Forum/{controller}/{action}/{id}\",\n    new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional },\n    new string[] { \"mvcForum.Web.Areas.Forum.Controllers\" }\n);\n</code></pre>\n\n<p>So this almost works as intended. When I'm just browsing the forum everything works fine, but when I need to post a topic (Create method on the Topic controller), it fails:</p>\n\n<blockquote>\n  <p>The parameters dictionary contains a\n  null entry for parameter 'id' of\n  non-nullable type 'System.Int32' for\n  method 'System.Web.Mvc.ActionResult\n  Index(Int32, System.String, Int32)' in\n  'mvcForum.Web.Areas.Forum.Controllers.ForumController'.\n  An optional parameter must be a\n  reference type, a nullable type, or be\n  declared as an optional parameter.\n  Parameter name: parameters</p>\n</blockquote>\n\n<p>Which more or less boils down to not hitting the Create method, but selecting the Index method.</p>\n\n<p>Any idea what it is I'm doing wrong? And what routes I should have/not have to get this working?</p>\n\n<p>Thanks in advance!\nSteen</p>\n"},{"tags":["asp.net-mvc-3","mvc","asp.net-mvc-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":7777461,"title":"How to use one view, in two ASP.NET MVC areas?","body":"<p>I have an ASP.NET MVC application, and in it, I have set up two areas. However, there is one view that I have implemented in Area A, but I also need to use it in Area B. How can I render it in Area B? I mean, <code>Html.RenderPartial</code> method takes the name of the view as the input parameter. But how it's gonna know which view do I mean? In other words, if my view's name is <code>Countries</code>, and I want to write <code>Html.RenderPartial(\"Countries\")</code> in Area B, how ASP.NET MVC knows that I'm talking about a view which belongs to Area A?</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-areas"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":193,"score":2,"question_id":4953577,"title":"MVC Area Aware Themes","body":"<p>I'm new to MVC but am working hard to find my way through it. I'm currently at the point where I know enough to be dangerous, but not quite enough to actually do anything useful. </p>\n\n<p>I'm building a site which I'd like to be very flexibly \"skinable\". It could also end up quite large, so I really want to use areas. </p>\n\n<ul>\n<li>I found <a href=\"http://pietschsoft.com/post/2009/03/ASPNET-MVC-Implement-Theme-Folders-using-a-Custom-ViewEngine.aspx\" rel=\"nofollow\">this great article</a> about skinning. </li>\n<li>and <a href=\"http://stackoverflow.com/questions/2140208/how-to-set-a-default-route-to-an-area-in-mvc\">this great thread</a> on writing a custom view engine that is \"area aware\".</li>\n</ul>\n\n<p>I'm thinking of throwing myself in the deep end and seeing if I can build a custom view engine that is both area aware and has theme support. I guess that it's kind of a hybrid of these two articles.</p>\n\n<p>Before I start - and also, more to the point - \"before I start, lose hair, finish, implement and build my massive app on it\", can anyone comment if they think that this is a good idea?</p>\n\n<p>I'm just wondering if there's a library out there that already does this, or a much easier way that I'm completely missing... </p>\n\n<p>Any suggestions most welcome!! </p>\n\n<p>Thanks in advance, </p>\n\n<p>Z</p>\n"},{"tags":["php","javascript","mvc","iframe","extjs4"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":340,"score":1,"question_id":8941261,"title":"ExtJs window widget needs 5 seconds to load iframe","body":"<p>I am using ExtJS 4 for my app, and when i click on a button I open an ExtJS window widget. I load an iframe in it and the iframe loads other controler that loads view from CodeIgniter MVC. So basically it goes like this</p>\n\n<p>extjs window widget -> iframe -> controller -> view. </p>\n\n<p>My problem is that the window widget needs about 5 seconds to load the controller, i.e see whatever output from it.</p>\n\n<p>Any idea what is causing this problem? Is it the ExtJs problem here? Why it cant load the iframe it 1-2 seocnds or less?</p>\n"},{"tags":["php","oop","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":11642045,"title":"Issue loading config file array within MVC/OOP structured PHP","body":"<p>I am creating a basic MVC structured CMS in PHP as a means to learn how MVC works (thus the reason I am not using a true prebuilt engine). I have a basic version working and am currently trying to shift information over to a config file like so:</p>\n\n<p><strong>config.php</strong></p>\n\n<pre><code> &lt;?php\n    return array(\n        //  MySQL database details\n        'database' =&gt; array(\n            'host' =&gt; 'localhost',\n            'port' =&gt; '',\n            'username' =&gt; '',\n            'password' =&gt; '',\n            'name' =&gt; '',\n            'collation' =&gt; 'utf8_bin'\n        ),\n\n        // Application settings\n        'application' =&gt; array(\n            // url paths\n            'default_controller' =&gt; 'index',\n            'default_action' =&gt; 'index',\n            'timezone' =&gt; 'UTC',\n        ),\n\n        // Session details\n        'session' =&gt; array(\n            'name' =&gt; '',\n            'expire' =&gt; 3600,\n            'path' =&gt; '/',\n            'domain' =&gt; ''\n        ),\n\n        // Error handling\n        'error' =&gt; array(\n            'ignore' =&gt; array(E_NOTICE, E_USER_NOTICE, E_DEPRECATED, E_USER_DEPRECATED),\n            'detail' =&gt; false,\n            'log' =&gt; false\n        )\n    );\n</code></pre>\n\n<p>I am including it in the index.php file like this:</p>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>define ('__SITE_PATH', $site_path);\n$config = include __SITE_PATH . '/config.php';\n</code></pre>\n\n<p>However, when I try to load it later in a template file for testing, or any other file for that matter nothing is returned. Is this an issue with classes? If anyone could shed some light on the matter I'd be very appreciative. </p>\n\n<p>Here is the full index.php for more reference:</p>\n\n<pre><code>&lt;?php\n\n    /*** error reporting on ***/\n    error_reporting(E_ALL);\n\n    /*** define the site path ***/\n    $site_path = realpath(dirname(__FILE__));\n    define ('__SITE_PATH', $site_path);\n\n    $config = include __SITE_PATH . '/config.php';\n\n    /*** include the controller class ***/\n    include __SITE_PATH . '/application/' . 'controller_base.class.php';\n\n    /*** include the registry class ***/\n    include __SITE_PATH . '/application/' . 'registry.class.php';\n\n    /*** include the router class ***/\n    include __SITE_PATH . '/application/' . 'router.class.php';\n\n    /*** include the template class ***/\n    include __SITE_PATH . '/application/' . 'template.class.php';\n\n    /*** auto load model classes ***/\n    function __autoload($class_name) {\n        $filename = strtolower($class_name) . '.class.php';\n        $file = __SITE_PATH . '/model/' . $filename;\n        if (file_exists($file) == false) {\n            return false;\n        }\n        include ($file);\n    }\n\n    /*** a new registry object ***/\n    $registry = new registry;\n\n    /*** load the router ***/\n    $registry-&gt;router = new router($registry);\n\n    /*** set the controller path ***/\n    $registry-&gt;router-&gt;setPath (__SITE_PATH . '/controller');\n\n    /*** load up the template ***/\n    $registry-&gt;template = new template($registry);\n\n    /*** load the controller ***/\n    $registry-&gt;router-&gt;loader();\n</code></pre>\n"},{"tags":["mvc","cakephp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":11610595,"title":"Cakephp MVC pattern model","body":"<p>I am having an issue with CakePHP implementation of MVC pattern. </p>\n\n<p>My training is <em>\"keep logic in model\"</em> (fat models thin controllers), but, if I don't have access to component classes, how does that work?</p>\n\n<p>For example: I have a class, that inserts a record, and, with the inserted id, uploads pictures. I want to keep it DRY, so my upload codes are in a component class. My search shows, that using components in models(<code>app::import()</code> and <code>classregistry::init()</code>) is a MVC taboo. Other people face the same problem, when sending emails after an insertion, and I definitely don't want to return to the controller for picture upload, then back to the model to continue insertion. </p>\n\n<p>What is my way out, while not breaking any laws?</p>\n"},{"tags":["java","mvc","jsf","servlets","facelets"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":11640792,"title":"what acts as a CONTROLLER in JSF/Facelets like servlets acts as a controller in JSP?","body":"<p>when we develop web app using JSP and servelt here, servlet act as a CONTROLLER (from MVC perspective).\nthen what acts as the controller when i am developing web app using JSF and Facelets...</p>\n\n<p>is it something related with - JSF - request dispatcher\nservlets - httprequest httpresponse </p>\n\n<p>or am taking it completely wrong.</p>\n"},{"tags":["php","mvc","zend-framework","design-patterns"],"answer_count":4,"favorite_count":2,"up_vote_count":9,"down_vote_count":1,"view_count":178,"score":8,"question_id":6546058,"title":"mvc design question","body":"<p>I am using Zend framework and doctrine in this app</p>\n\n<p>In my web application i have various individual modules like events, conferences, case studies.. so i am making controller design at this moment. In the below image regulatory document is the controller and its sub are its actions. So regulatory doc, videos, podcasts all are having almost the same kind of functionality. so is this design appropriate...?\nIn mvc for each action i will be having a separate view. And on user type i may have to put access levels on this modules. so i have kept separate controller so that i can easily control the module for each user type. But this is resulting in duplicate code.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Hue2e.png\" alt=\"enter image description here\"></p>\n\n<p>Now i am thinking to make one parent class and in that i will have all the common methods. eg. I will have common class Resources and in that i will keep list, search, suggest, addFavorite etc. And that will be the parent to the above given controllers.</p>\n\n<p>So than how will i manage my view for all these different modules if i go with this approach..? if i go with this than my code will be bit messy..?</p>\n"},{"tags":["mvc","zend-framework","model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":11639325,"title":"Zend Framework coding standards","body":"<p>In case you're not sick of hearing about my chat application...\nThe main part of the application, the piece that does all of the back end work is in the \"models\" directory. The class is called AEDC_Model_Chat (AEDC is the namespace) but this particular class isn't actually an \"object\". It is never instantiated, and it only exposes static methods.</p>\n\n<p>So, I am thinking this isn't actually a model, and doesn't really belong in \"models\".\nAny thoughts?</p>\n"},{"tags":["php","mvc","controller"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":187,"score":0,"question_id":11598762,"title":"PHP MVC design - multiple actions to same url/controller","body":"<p>In a MVC pattern, what's the best way to handle when a single view could have multiple actions of the same type (e.g POST)?</p>\n\n<p>Say for instance in a TODO list application. You might allow a user to greater multiple lists. Each list could have multiple items. So a user navigates to site.com/list/1 which shows them all the items on the 1st list (1 is a GET parameter). There are then 2 forms (POST) on this page to allow a user to:</p>\n\n<ol>\n<li>Create a new item</li>\n<li>Delete an existing item</li>\n</ol>\n\n<p>Should the bootstrap create a \"listcontroller\", inspect the POST variables and then call the appropriate method similar to :</p>\n\n<pre><code>$lc = new ListController();    \nif(strtolower($request-&gt;verb) === 'post'):\n    if(isset($_POST['title'])) :\n        $data = $lc-&gt;newItem($_POST);\n        $load-&gt;view('newitem.php', $data);\n    else if(isset($_POST['delete']) &amp;&amp; isset($_POST['id'])):\n        $data = $lc-&gt;deleteItem($_POST);\n        $load-view('deleteitem.php', $data);                    \n    endif;// End if post title\nelse:\n    //GET request here so show view for single list\nendif; //\n</code></pre>\n\n<p>Or is it better to just do something like</p>\n\n<pre><code>$lc = new ListController();\nif(isset($_POST)):\n    //controller handles logic about what function to call\n    $data =  $lc-&gt;PostAction($_POST); \n    // $data could also potentially hold correct view name based on post\n    $load-&gt;view(); \nelse:\n    //again just show single list\nendif;\n</code></pre>\n\n<p>I'm just struggling how best to have a controller potentially handle multiple different actions, as there's potentially quite a few nested if/else or case statements to handle different scenarios. I know these would have to sit somewhere, but where is cleanest? </p>\n\n<p>I know that there are many frameworks out there, but I'm going through the whole \"want to understand best practice\" behind it phase. Or is this totally the wrong way to do it? Should the controllers actually be structured differently?</p>\n"},{"tags":["javascript","mvc","backbone.js","router"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":11633657,"title":"Backbone Marionette - Access to Router history","body":"<p>I'd like to add a back button in my navbar in order to be able to return to the previous page (I want the same behaviour when I click on this button and when I click on my browser's back button).</p>\n\n<p>I wonder what is the best way to do it ?</p>\n"},{"tags":["c#","javascript","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":401,"score":1,"question_id":4691428,"title":"AjaxContent javascript argument does not contain function get_data()","body":"<p>I have created an ActionLink in an MVC application that successfully calls a server side method and returns Json.</p>\n\n<p>My problem is that in the OnSuccess javascript function the AjaxContext argument recieved does not contain the .get_data() function. Nor any of the other functions specified in <a href=\"http://stackoverflow.com/questions/3003370/ajax-onsucess-method-context\">this SO article</a>.</p>\n\n<p>The context object only returns the data that was constructed in the server side method. </p>\n\n<pre><code>@Ajax.ActionLink(\"Remove from cart\", \"RemoveFromCart/\" + @item.Id, new AjaxOptions() { OnSuccess = \"handleUpdate\", HttpMethod=\"POST\" })\n\n\n[HttpPost]\n        public ActionResult RemoveFromCart(int id)\n        {\n            ShoppingBasket basket = ShoppingBasket.GetShoppingBasket(this.HttpContext);\n            basket.Items.Remove(basket.Items.Find(i =&gt; i.Id == id));\n            ShoppingCartRemoveViewModel results = new ShoppingCartRemoveViewModel\n            {\n                DeleteId = id,\n                Message = id + \" has been removed.\"\n            };\n\n            return Json(results);\n        }\n\n\n&lt;script type=\"text/javascript\"&gt;\n    function handleUpdate(context) {\n        alert('deleted ' + context.DeleteId);\n        context.get_data(); &lt;-- ERROR\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>The Context does not appear to be an AjaxContext object, despite calling Json() on the return data. Any Ideas?</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","qt","pyqt4","pyside"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":11404633,"title":"how to sort a multi dimensional model","body":"<p>I'm using PySide to write a plugin browser. The available plugins are stored in a three dimensional model like this:</p>\n\n<pre><code>pluginType/pluginCategory/pluginName\n</code></pre>\n\n<p>e.g.:</p>\n\n<pre><code>python/categoryA/toolA\npython/categoryB/toolAA\n</code></pre>\n\n<p>etc.</p>\n\n<p>In my custom view, I am showing all tools of a given plugin type (i.e. \"python\") in a list, regardless of their category:</p>\n\n<pre><code>(python)\ncategoryA/toolA\ncategoryA/toolB\ncategoryA/toolC\ncategoryB/toolAA\ncategoryB/toolBB\ncategoryB/toolCC\n</code></pre>\n\n<p>I am now wondering how to best sort this view, so the tools are sorted by name regardless of their parent category. The sorting method in my current proxy model yields a sorted list per category like the above one, but what I am after is this:</p>\n\n<pre><code>(python)\ncategoryA/toolA\ncategoryB/toolAA\ncategoryA/toolB\ncategoryB/toolBB\ncategoryA/toolC\ncategoryB/toolCC\n</code></pre>\n\n<p>Do I have to make my proxy model convert the multi-dimensional source model into a one-dimensional one in order to achieve this or is there a better way? I would love to be able to sync the custom view with a standard tree view which is why I chose the multi-dimensional model.</p>\n\n<p>Thanks,\nfrank</p>\n\n<p>edit 1:\nHere is what I have as a simplified example. I'm not sure if this is the way to go about it (changing the model structure into a 1-dimensional model), and if it is, I'm not sure how to create the data in the proxy model properly so it is linked with the source model as expected.</p>\n\n<pre><code>import sys\nfrom PySide.QtGui import *\nfrom PySide.QtCore import *\n\nclass ToolModel(QStandardItemModel):\n    '''multi dimensional model'''\n    def __init__(self, parent=None):\n        super(ToolModel, self).__init__(parent)\n        self.setTools()\n\n    def setTools(self):\n        for contRow, container in enumerate(['plugins', 'python', 'misc']):\n            contItem = QStandardItem(container)\n            self.setItem(contRow, 0, contItem)\n            for catRow, category in enumerate(['catA', 'catB', 'catC']):\n                catItem = QStandardItem(category)\n                contItem.setChild(catRow, catItem)\n                for toolRow, tool in enumerate(['toolA', 'toolB', 'toolC']):\n                    toolItem = QStandardItem(tool)\n                    catItem.setChild(toolRow, toolItem)\n\nclass ToolProxyModel(QSortFilterProxyModel):\n    '''\n    proxy model for sorting and filtering.\n    need to be able to sort by toolName regardless of category,\n    So I might have to convert the data from sourceModel to a 1-dimensional model?!\n    Not sure how to do this properly.\n    '''\n    def __init__(self, parent=None):\n        super(ToolProxyModel, self).__init__(parent)\n\n    def setSourceModel(self, model):\n        index = 0\n        for contRow in xrange(model.rowCount()):\n            containerItem = model.item(contRow, 0)\n            for catRow in xrange(containerItem.rowCount()):\n                categoryItem = containerItem.child(catRow)\n                for itemRow in xrange(categoryItem.rowCount()):\n                    toolItem = categoryItem.child(itemRow)\n                    # how to create new, 1-dimensional data for self?\n\n\n\napp = QApplication(sys.argv)\nmainWindow = QWidget()\nmainWindow.setLayout(QHBoxLayout())\n\nmodel = ToolModel()\nproxyModel = ToolProxyModel()\nproxyModel.setSourceModel(model)\ntreeView = QTreeView()\ntreeView.setModel(model)\ntreeView.expandAll()\nlistView = QListView()\n\nlistView.setModel(proxyModel)\n\nmainWindow.layout().addWidget(treeView)\nmainWindow.layout().addWidget(listView)\nmainWindow.show()\nsys.exit(app.exec_())\n</code></pre>\n\n<p>edit:\nOr maybe I should be asking how to best prepare a source model so that it can be used by QTreeView but also sorted in the above mentioned way for display in a list view?!</p>\n"},{"tags":["php","mvc","frameworks","content-management-system"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":80,"score":0,"question_id":11631003,"title":"What should I user to made API centric Web Application. CMS or any MVC Framework?","body":"<p>My requirement is to build API centric Web Application like I need to fetch Faceboook , Twitter , LinkedIn Feeds for particular user. As well as user can comment, share, like as he or she can do it in FB, twitter or LinkedIn. </p>\n\n<p>User can update status also from the web application</p>\n"},{"tags":["mvc","structuremap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":11571292,"title":"structuremap using scan in objectfactory.initialize and also custom registry","body":"<p>I am learning to use structuremap and I've come into the following situation - \nI have been moving along fine using the following code in my global.asax - </p>\n\n<pre><code>ObjectFactory.Initialize(registry =&gt; registry.Scan(x =&gt;\n                                           {\n                                               x.AssembliesFromApplicationBaseDirectory();\n                                               x.WithDefaultConventions(); \n                                               x.LookForRegistries();\n                                           }));\n</code></pre>\n\n<p>now, i've come upon an instance where I have to create a registry and use that as well - </p>\n\n<pre><code>ObjectFactory.Initialize(registry =&gt; registry.AddRegistry&lt;MyRegistry&gt;());\n</code></pre>\n\n<p>Can someone tell me how I can accomplish this?  Do I have to and create registries for everything now, or can I create one registry that will scan that I can then use with the other registry?</p>\n\n<p>Thanks for any thoughts.</p>\n"},{"tags":["iphone","curl","mvc"],"answer_count":2,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":937,"score":5,"question_id":2348780,"title":"Dismiss modalviewcontroller with a page curl","body":"<p>I am trying to dismiss a modalviewcontroller with a page curl. The curl works okay but I cannot seem to get the tableview under the modalviewcontroller to show up. The image of the modalviewcontroller is still under the curled away page. If I dismiss the modalviewcontoller before the animation finishes the animation doesn't show up. Here is my code:</p>\n\n<pre><code>//hide splash screen\n- (void)hideSplash{\n [UIView beginAnimations:nil context:nil];\n //change to set the time\n [UIView setAnimationDuration:2];\n [UIView setAnimationBeginsFromCurrentState:YES];\n [UIView setAnimationTransition:UIViewAnimationTransitionCurlUp forView:modelView cache:NO];\n // do your view swapping here\n\n //[[self modalViewController] dismissModalViewControllerAnimated:NO];\n\n [UIView commitAnimations];\n//[self.view  sendSubviewToBack:self.view]; \n\n}\n</code></pre>\n\n<p>Hope someone can help! Cheers Nick</p>\n"},{"tags":["php","oop","mvc","variables"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":151,"score":0,"question_id":11626863,"title":"PHP MVC - Template / Loading variables Issue","body":"<p>I am creating a basic MVC structured CMS in PHP as a means to learn how MVC works (thus the reason I am not using a true prebuilt engine). I have a basic version working that is in structure very similar to this tutorial <a href=\"http://www.markisgood.com/blog/php/create-your-own-lightweight-php-mvc-framework\" rel=\"nofollow\">here</a>. I'd like however for the views to be loaded automatically, bypassing the need for a template class. If this is strongly recommended I'll stick with the template concept (if someone could explain WHY it's so necessary I would greatly appreciate it.) Anyways, below is my router class which I have modified to automatically load the view files along the controller.</p>\n\n<pre><code>    public function loader() {\n        /*** check the route ***/\n        $this-&gt;getPath();\n\n        /*** if the file is not there diaf ***/\n        if (is_readable($this-&gt;controller_path) == false) {\n            $this-&gt;controller_path = $this-&gt;path.'/controller/error404.php';\n            $this-&gt;action_path = $this-&gt;path.'/view/error404.php';\n        }\n\n        /*** include the path files ***/\n        include $this-&gt;controller_path;\n        include $this-&gt;action_path;\n\n        /*** a new controller class instance ***/\n        $class = $this-&gt;controller . 'Controller';\n        $controller = new $class($this-&gt;registry);\n\n        /*** check if the action is callable ***/\n        if (is_callable(array($controller, $this-&gt;action)) == false) {\n            $action = 'index';\n        } else {\n            $action = $this-&gt;action;\n        }\n        $controller-&gt;$action();\n    }\n\n    /**\n    *\n    * @get the controller\n    *\n    * @access private\n    *\n    * @return void\n    *\n    */\n    private function getPath() {\n\n        /*** get the route from the url ***/\n        $route = (empty($_GET['rt'])) ? '' : $_GET['rt'];\n\n        if (empty($route)) {\n            $route = 'index';\n        } else {\n            /*** get the parts of the route ***/\n            // mywebsite.com/controller/action\n            // mywebsite.com/blog/hello\n            $parts = explode('/', $route);\n            $this-&gt;controller = $parts[0];\n            if(isset( $parts[1])) {\n                $this-&gt;action = $parts[1];\n            }\n        }\n        if( ! $this-&gt;controller ) { $this-&gt;controller = 'index'; }\n        if( ! $this-&gt;action ) { $this-&gt;action = 'index'; }\n\n        /*** set the file path ***/\n        $this-&gt;controller_path = $this-&gt;path .'/controller/'. $this-&gt;controller . '.php';\n        $this-&gt;action_path = $this-&gt;path .'/view/'. $this-&gt;controller . '/'. $this-&gt;action . '.php';\n    }\n</code></pre>\n\n<p>This is preventing my view files from loading the variables given by the controller (the tutorial website has a better demonstration of this) but when setting <code>$this-&gt;registry-&gt;template-&gt;blog_heading = 'This is the blog Index';</code> the view doesn't load it because the template.class is bypassed. Basically what I'm asking is how do shift the template.class over into the loading functions?</p>\n"},{"tags":["mvc","architecture","qooxdoo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":11626819,"title":"Is this MVC structure implementation reliable or can lead to some leaks in future? (with schematic photo)","body":"<p>All the description needed it's into into image (<a href=\"http://img515.imageshack.us/img515/9866/mvcstructure.jpg\" rel=\"nofollow\">bigger here</a>)</p>\n\n<p>Some notes:</p>\n\n<ul>\n<li>Sometimes the view has some logic regarding to it's visual things</li>\n<li>The configuration (top white box) inits the ModelManager (singleton). Then the ComponentFactory it's configured to inject into the components models and other stuff needed (DI).</li>\n<li><p>Instantiation:</p>\n\n<pre><code>var component = project.ComponentFactory.getInstance().instance('lists.WorkersList')\n</code></pre></li>\n<li><p>Putting it on screen (being into a view)</p>\n\n<pre><code>componentView = component.getView();\nthis.add(componentView)\n</code></pre></li>\n<li><p>In this case the view touches the ComponentFactory and initializates the component</p></li>\n</ul>\n\n<p>Questions:</p>\n\n<ul>\n<li>Is this architecture bad or could leak in future?</li>\n<li>The view that contains sub-components must make as an interface to all it's actions?</li>\n</ul>\n\n<p>Example: the view X has sub-component AAA. AAA has a method BBB. The controller that manages the view X, must be able to use call the method BBB on sub-component AAA or the view must abstract it's sub-components so: the controller calls on view the method CCC that calls the method BBB on sub-component AAA? </p>\n\n<ul>\n<li>In order to instance a new Component within another component: it's better to put it into the view or the component (controller)? I was thinking about and both are ok: in the view because it's the view that manages it's position and the view itself could be used as a interface to the sub-component. In the component because the sub-components might requires some data from the component, but this could be easily passed to the view, but I have some concerns about doing this.</li>\n</ul>\n\n<p>(this project uses qooxdoo)</p>\n\n<p><img src=\"http://i.stack.imgur.com/yhj29.jpg\" alt=\"MVC implmentation\"></p>\n"},{"tags":["objective-c","mvc","model","domain-driven-design"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":9407073,"title":"Objective C Domain Driven Design","body":"<p>Normally when programming in C# I architect my project after the domain driven principles.  I am new to programming in Objective C for iPhone and was wondering if anyone had any sample projects or code that uses the domain driven design principles in Objective C.  I am looking for examples of how Business Objects, etc are used.  Thanks.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":11624130,"title":"What does WCF mean in following context?","body":"<p>am a newbie, but I am given this project where I have to make an address book using MVC. The problem is I have no clue how to use MVC I am familiar with asp.net though. I have no clue how to get started. I AM NOT ASKING ANYONE TO DEVELOP ENTIRE PROJECT FOR ME i am just unclear where to start and What WCF mean, where do i have to use it in this project? HOW LONG WOULD IT TAKE ME TO LEARN MVC from scratch and complete this project? Assuming i am at beginner level in c sharp and asp.net The following are details:</p>\n\n<p>Functional Requirements:</p>\n\n<p>Information of Individual people will be stored in the Address Book.\nEach Individual can have multiple phone numbers, email addresses and instant messenger contacts.\nShow a List of All the Contacts.\nAllow Adding new Contacts\nAllow Viewing / Editing / Deleting of Contacts\nViewing of Contacts shows the detailed Contact Information and linked Phone Numbers, EmailAddresses and Instant Messenger Contacts.\nYou can Add / Edit / Remove Phone Numbers, Email Addresses and Instant Messenger Contacts.\nTechnical Details:</p>\n\n<p>Contact will have the following information:</p>\n\n<p>Title\nFirst Name\nLast Name\nMiddle Name\nAge (Numeric Field)\nDate of Birth (Date Field)\nSex : (Male or Female) -\nRadio Box Category : Options are Business, Family, Other (Drop-down box) - This should be a Enum in your Data Structure\nPhone Numbers will have following information:</p>\n\n<p>Phone Number Type : Home, Work, Mobile, Other (Enum)\nPhone Number:\nEmail Address will have following information:</p>\n\n<p>Email Type: Primary, Secondary, Work, Home, Other (Enum)\nEmail Address:\nInstant Messenger Contact will have following Information</p>\n\n<p>IM type: AIM, MSN, Yahoo, Jabber, GTalk, Other (Enum)\nIM Address:\nThe application should be a N Tier Architecture, using objects and WCF services. The Website should be done using MVC .</p>\n\n<p>Your web application should not have any hard coded styles and should use CSS for all styling. Also your web application should have a Master Page / Layout [ look how you can deal with master page concept in MVC ] to allow easy updating of all pages at a later date.</p>\n\n<p>All the input fields need to be validated.</p>\n\n<p>Incase of any errors on the page, the error message should be shown on the top of the page (Default error page should never be shown) and the error message should be logged in a logging file (use Log4Net for logging).</p>\n\n<p>Steps:</p>\n\n<p>Create your Class Structures\nCreate your Database Structure. Make sure that you have your SQL file different so that the application can be easily ported to a different machine.\nCreate your WCF Service with necessary methods.\nWrite NUnit tests for your WCF Service Methods.\nCreate an HTML Prototype on how your pages will look and get that approved before you start actual implementation.\nCreate your Web Application.\nCreate an msbuild script to build your code.</p>\n"},{"tags":["jquery","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":195,"score":2,"question_id":11576122,"title":"html.actionlink values in jquery","body":"<p>Is there any way i can retrieve the values of <code>actionlink</code> in jquery?</p>\n\n<p>For example: I would want the values 4 and \"abc\" from </p>\n\n<p><code>html.actionlink(\"action\",\"controller\",new {id=4,name=\"abc\"},new {@class=\"a\"})</code> in jquery.</p>\n\n<p>Thanks.      </p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":88,"score":0,"question_id":11591021,"title":"@Url.RouteUrl returns empty string","body":"<p>has anyone any advice on this please? Mvc3 wont return me a route url from the following. I have done something very similar and it works. Neither route is complicated by any optional arguments or anything, its really all very simple. What on earth is going on?</p>\n\n<p>This is in my global.asax.cs...</p>\n\n<pre><code>routes.Add(\"StateProductRoute\", \n    new Route(\"{state}\"+locationUrlLiteralPart+\"/{productName}-{productType}\", \n        new CustomUrlRouteHandler(CustomUrlRouteHandlerUsageType.Product))\n        {\n            Constraints = new RouteValueDictionary\n            {\n                { \"constraint1\", new ProductConstraint() }\n            } \n        });\n</code></pre>\n\n<p>...and this is in my view...</p>\n\n<pre><code>&lt;a href=\"@Url.RouteUrl(\"StateProductRoute\", \n    new { state=\"archer\", productName=\"hello\", productType=\"goodbye\"})\" \n    class=\"media\"&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","outputcache"],"answer_count":4,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1078,"score":6,"question_id":4662424,"title":"Bypass OutputCache in ASP.NET MVC","body":"<p>I am using the OutputCache attribute in my MVC website as follows:</p>\n\n<pre><code>[OutputCache(Duration = 5000,\n        VaryByParam = \"name;region;model;id;op;content;featured;isStarred;page;size;\")]\n</code></pre>\n\n<p>However sometimes I'd like to bypass the output cache entirely and force a fetch from the database. This is especially true for my test environment where I am continuously loading new data in to the database for testing. </p>\n\n<p>Is there anyway I could bypass the cache in this case?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","javascript","css","mvc"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":144,"score":-2,"question_id":11612471,"title":"MVC different CSS files and Javascript files on each page","body":"<p>My site has different CSS files for different pages and the same with Javascript files.</p>\n\n<p>Everypage has the <code>common.css</code> file which has the styles for the header, footer etc.</p>\n\n<p>My homepage for example has a <code>homepage.css</code>and my privacy policy page has a <code>privacy-policy.css</code> file etc etc.</p>\n\n<p>It's similar with Javascript files, some pages have specific Javascript files and some pages have none.</p>\n\n<p>The only thing I can think of is setting the required CSS and Javascript files for each page in its controller, but I'm not sure if thats the right way to to do.</p>\n\n<p>What is the best approach to take when implementing this in a MVC format?</p>\n\n<p>Thanks!</p>\n"},{"tags":["javascript","mvc","comet","angularjs","angular"],"answer_count":2,"favorite_count":8,"up_vote_count":7,"down_vote_count":0,"view_count":3288,"score":7,"question_id":11276520,"title":"Can Angular.js auto-update a view if a persistent model (server database) is changed by an external app?","body":"<p>I'm just starting to familiarize with Angular.js, but I would like to build a web app that has a view that gets auto-upated in real-time (no refresh) for the user when something changes in the server-side database.</p>\n\n<p>Can Angular handle this (mostly) automatically for me?  And if so, what is the basic mechanism at work?</p>\n\n<p>For example, do you somehow setup Angular to poll the DB regularly for \"model\" changes?  Or use some sort of Comet-like mechanism to notify Angular client-side code that the model has changed?</p>\n\n<p>In my application, the challenge is that other (non-web) server-side software will be updating the database at times.  But this question applies equally to pure web-apps where you might have multiple clients changing the database through Angular web clients, and they each need to be updated when one of them makes a change to the DB (model).</p>\n"},{"tags":["c#","mvc","controller","factory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":11622124,"title":"How to create a factory containing controllers that contain the factory","body":"<p>I'm trying to create a factory which will hold the a list of \"child\" controllers in a dictionary. These child controllers must contain the factory so that they can access other child controllers. Here is the factory:</p>\n\n<pre><code>public interface IChildControllerFactory\n{\n    IChildController GetChildController(object item);\n}\n\n\npublic class ChildControllerFactory : IChildControllerFactory\n{\n    private Dictionary&lt;string, IChildController&gt; _childControllerDictionary;\n\n    public ChildControllerFactory(IEnumerable&lt;IChildController&gt; childControllers)\n    {\n        var childControllerDictionary = new Dictionary&lt;string, IChildController&gt;();\n\n        //code to build dictionary\n        _childControllerDictionary = childControllerDictionary;\n    }\n\n    public IChildController GetChildController(object item)\n    {\n        return _childControllerDictionary.Where(x =&gt; x.Key == item.GetType().Name).Select(x =&gt; x.Value).First();\n    }\n}\n</code></pre>\n\n<p>Here is an example of a child controller:</p>\n\n<pre><code>public class ChildController : Controller, IChildController&lt;TViewModel, TModel&gt;\n{\n    private IChildControllerFactory _childControllerFactory;\n\n    public ChildController(IChildControllerFactory childControllerFactory) //this will cause a circular reference\n    {\n        _childControllerFactory = childControllerFactory;\n    }\n\n    public ActionResult GetChildViewModel(object child)\n    {\n        var model = _childControllerFactory.GetChildController(child).ToViewModel(survey);\n        return PartialView(\"Child.ascx\", model);\n    }\n}\n</code></pre>\n\n<p>And the inherited interface:</p>\n\n<pre><code>public interface IChildController&lt;TViewModel, TModel&gt;\n{\n    int Create(object item);\n    object Save(object item);\n    object ToViewModel(object item);\n}\n</code></pre>\n\n<p>The child controllers are all registered, and the factory is specified as a Singleton with Structure Map.</p>\n\n<p>Because the child controller need the Factory, setting the factory in the constructor using dependency injection will cause a circular reference because the first time the Factory is initialized, it will initialize all child controllers, and each child controller will try to initialize the Factory (which is already executing).</p>\n\n<p>How can I get the factory to instantiate all the child controllers and then have it accessible from those child controllers?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","orchardcms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":94,"score":-1,"question_id":11538018,"title":"Deleting relational Non-Content data from Orchard CMS","body":"<p>I have declared some Non-Content data in an Orchard CMS by defining the records and schema like this:</p>\n\n<pre><code>public class CountyRecord\n{\n    public virtual int Id { get; set; }\n    public virtual string CountyName { get; set; }\n    public virtual CountryRecord CountryRecord { get; set; }\n}\n\npublic class CountryRecord\n{\n    public CountryRecord()\n    {\n        CountyRecords = new List&lt;CountyRecord&gt;();\n    }\n    public virtual int Id { get; set; }\n    public virtual string CountryName { get; set; }\n    public virtual IList&lt;CountyRecord&gt; CountyRecords { get; set; }\n}\n\npublic class Migrations: DataMigrationImpl\n{\n    public int Create()\n    {\n        //COUNTIES\n        SchemaBuilder.CreateTable(typeof(CountyRecord).Name, table =&gt; table\n            .Column&lt;int&gt;(\"Id\", col =&gt; col\n                .PrimaryKey()\n                .Identity())\n            .Column&lt;string&gt;(\"CountyName\")\n            .Column&lt;int&gt;(\"CountryRecord_Id\"));\n\n        //COUNTRIES\n        SchemaBuilder.CreateTable(typeof(CountryRecord).Name, table =&gt; table\n            .Column&lt;int&gt;(\"Id\", col =&gt; col\n                .PrimaryKey()\n                .Identity())\n            .Column&lt;string&gt;(\"CountryName\"));\n    }\n}\n</code></pre>\n\n<p>I then have two controllers handling the admin pages for these two entities. In the country controller I have the following actions:</p>\n\n<pre><code>    //DELETE\n    [HttpGet, Admin]\n    public ActionResult Delete(int countryId)\n    {\n        var country = CountryRepo.Get(countryId);\n        if (country == null)\n        {\n            return new HttpNotFoundResult(\"Couldn't find the country with ID \" + countryId.ToString());\n        }\n        return View(country);\n    }\n\n    [HttpPost, Admin, ActionName(\"Delete\")]\n    public ActionResult DeletePOST(CountryRecord country)\n    {       \n        foreach (CountyRecord county in CountyRepo.Fetch(c=&gt;c.CountryRecord.Id==country.Id))\n        {\n            CountyRepo.Delete(county);\n        }\n\n        CountryRepo.Delete(country);\n        OrchardServices.Notifier.Add(NotifyType.Information, T(\"Country '{0}' deleted successfully\", country.CountryName));\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n\n<p>And this is the view that goes with that:</p>\n\n<pre><code>@model Addresses.Models.CountryRecord\n&lt;div class=\"manage\"&gt;\n@using (Html.BeginFormAntiForgeryPost(\"Delete\"))\n{\n    &lt;h2&gt;Are you sure you want to delete this country and ALL its counties?&lt;/h2&gt;\n    @Html.HiddenFor(m =&gt; m.Id);\n    @Html.HiddenFor(m =&gt; m.CountryName);\n    @Html.ActionLink(T(\"Cancel\").Text, \"Index\", \"CountriesAdmin\", new { AreaRegistration = \"Addresses\" }, new { style = \"float:right; padding:4px 15px;\" })\n    &lt;button class=\"button primaryAction\" style=\"float:right;\"&gt;@T(\"Confirm\")&lt;/button&gt;\n}\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>However</strong>, here's the issue, when I delete a country that still has counties assigned to it, it throws the following error:</p>\n\n<pre><code>a different object with the same identifier value was already associated with the session\n</code></pre>\n\n<p>Can anyone please help?</p>\n\n<p>Thanks.</p>\n"},{"tags":["mvc","theory","asp.net-mvc-routing","hierarchical-data"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":338,"score":2,"question_id":1725407,"title":"Designing MVC URL scheme for hierarchical system","body":"<p>So imagine I'm building a Multi User Dungeon system using a MVC web application. To describe the areas the player can explore, the system can contain a number of Maps, which will consist of Rooms and Doors - where doors connect two Rooms.\nConsider the authoring part of the system. To create a Map is easy - I need URLs like:</p>\n\n<pre>\n/Author/Maps              (an index of my maps)\n/Author/Maps/Create       (a new Map)\n/Author/Maps/Detail/3     (show Map details)\n/Author/Maps/Edit/3       (edit map details)\n</pre>\n\n<p>Using a Routing scheme: /Author/{controller}/{action}/{ID}</p>\n\n<p>It's the URLs for the Rooms that I need help with. When creating a new Room, I need to know which Map I'm creating it for.</p>\n\n<pre>\n/Author/Rooms/CreateIn/[mapID] ?\n</pre>\n\n<p>And then for editing a room's details:</p>\n\n<pre>\n/Author/Rooms/Edit/[roomID]\n/Author/Rooms/Detail/[roomID]\n</pre>\n\n<p>Would this routing scheme work? And should the view that lists all the Rooms for a Map be an \"Index\" action on the Rooms controller, with a MapID passed in, or a \"Rooms\" action on a Map controller?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","css","mvc",".htaccess","post"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":11617183,"title":"htacess and two post parameters","body":"<p>I developed a small custom MVC framework for my website. it's index.php check $_POST['page'] &amp; $_POST['subpage'] and includes related php file for specified parameter.</p>\n\n<p>Ex: <strong>index.php?page=foods</strong> <em>(this includes view/foods.php)</em></p>\n\n<p>Ex: <strong>index.php?page=foods&amp;subpage=pizza</strong> <em>(this includes view/foods/pizza.php)</em></p>\n\n<p>Now I want to clean my URLS using .htaccess. I tried few methods to pass second parameter. But I failed. This works fine...</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^([^/\\.]+)?$ index.php?page=$1 [L]\n</code></pre>\n\n<p>But when i tried to pass second parameter its not working fine. This one change css/js/iamges path.</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^([^/\\.]+)?$ index.php?page=$1\n\nRewriteRule ^([^/\\.]+)/([^/\\.]+)?$ index.php?page=$1&amp;sub=$2\n</code></pre>\n\n<p>Please, anyone can help me to solve this ? :)</p>\n"},{"tags":["ruby-on-rails","mvc","ruby-on-rails-3.1","routing","actionview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":211,"score":2,"question_id":9252919,"title":"Trying to call for a specific method - routing error","body":"<p>I have user and product models. User's table has a \"discount\" field. I trying to call method \"apply_discount\" from users/index view, which multiplies all prices and given discount.\nusers/index.html.haml:</p>\n\n<pre><code>- @users.each do |user|\n# user data\n  = form_tag(action:'apply_discount', method: :put) do \n    = number_field_tag :discount\n    = submit_tag\n</code></pre>\n\n<p>UsersController has a method named \"apply_discount\".\nMy problem is routing error when I submitting form:</p>\n\n<p>localhost:3000/assets?action=apply_discount&amp;controller=users&amp;method=put</p>\n\n<p>No route matches [POST] \"/assets\"</p>\n\n<p>Please explain me why this form requests assets. And how to make right request.</p>\n"},{"tags":["spring","mvc","spring-data-rest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":163,"score":0,"question_id":10780953,"title":"Spring MVC and Spring Data Rest","body":"<p>I need to create a controller in a Spring MVC application using Spring-Data-Rest 1.0.0.M2 at the same time.\nI’ve created the two servlets in web.xml and they work fine when are alone but not when I want to load them together. Can I use the web tiers simultaneously? \nHow can I set the configuration correctly? </p>\n\n<p>Thanks.</p>\n"},{"tags":["jquery","mvc","div","inline","colorbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":130,"score":1,"question_id":11526455,"title":"Colorbox doesn't seem to work with inline div","body":"<p>I've a question about Colorbox.</p>\n\n<p>I'm trying to load an inline div in a colorbox. I've literally copy-pasted the code from the example page that comes with it and it simply won't work - I have no idea why; the page loads correctly, the colorbox opens, but there's no content inside it. I'm using MVC with a header, index and footer views, with the script on the header view and the inline on the index view (the link which calls the colorbox is on the header view). Any idea why it could not be working?</p>\n\n<p>(Also, I've tried some other code that makes the colorbox open on page load and that works as expected.)</p>\n"},{"tags":["javascript","jquery","html5","mvc","coffeescript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":11610612,"title":"What is a good non-Microsoft client-side JavaScript MVC framework that supports CoffeeScript, JQuery and HTML5-based View templates?","body":"<p>I've been reading about several frameworks such as Backbone, Ember, Knockoutjs, GWT, Composer, etc., but haven't been able to get a feel for what is \"best\". It's probably not a fair question to ask what is \"best\", but I've stated my preferences (support for CoffeeScript, jQuery and HTML5-based View templates) and I wouldn't want to go too far with the \"wrong\" framework before realising my mistake.</p>\n\n<p>My aim is to build SOFEA apps in the most elegant way possible using what I consider to be the cleanest ways to write JavaScript (CoffeeScript), code View templates (HTML5) and manipulate the DOM &amp; make REST calls (jQuery).</p>\n\n<p>Hope someone can help.</p>\n\n<p>Thanks and regards,\nGanesh Prasad</p>\n"},{"tags":[".net","silverlight","mvc","saas"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":130,"score":0,"question_id":10639257,"title":"Enterprise level SaaS - Relevant frameworks and methodology","body":"<p>I am beginning work on an individual project to bring an existing product out of the dark ages of classic ASP and into the light. My biggest decision to make before embarking on this lengthy journey is determining what frameworks and methodology I will implement for the new design.</p>\n\n<p>Right now I am looking at MVC or MVVM (from what I gather this is just Silverlight?) for the web interface, Entity Framework or something I write myself as the model and MSSQL as the data. </p>\n\n<p>Unfortunately I am just a fledgling programmer and I am not particularly aware of trends in the world of programming in general. I don't know what is just a passing fad and what technologies actually have lasting potential. I would really like to use something that is likely to remain relevant for some time. So I am looking to the professionals here for input on ideas that worked for you, pitfalls to watch out for and things to keep an eye on.</p>\n\n<p>I appreciate any and all suggestions, keeping in mind that using the Microsoft and .Net is something of a prerequisite. I really want to make sure I am headed in the right direction before I start as this will probably take several months. </p>\n"},{"tags":["mvc","file-upload","model","playframework-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":11605355,"title":"Playframework 2.0.1 Model with an uploaded file reference","body":"<p>I'm confused about how should I do a model that has some uploaded file, like for exemplo:</p>\n\n<p>User has photos.</p>\n\n<p>I already found out how to upload a file, but the question here is about what to do with the file that was now uploaded, how can I link this new uploaded file(photo in the exemple) with a model(the user in the example).</p>\n\n<p>Thanks.</p>\n\n<p>OBS: Using play for Java here, not Scala.</p>\n"},{"tags":["php","mvc","seo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":11605034,"title":"MVC and dynamic titles","body":"<p>What's the best way to go about having dynamic titles when your site uses the MVC pattern?</p>\n\n<p>I've seen some frameworks set the title in the controller with something like <code>$seo-&gt;setTitle('Title here...')</code> but that is no good when you want dynamic titles like on a products page you would want the products name in the title.</p>\n\n<p>I was thinking of having an SEO object, create it in the controller and in the constructor have the page name and by using the provided page name the methods within the object retrieve and set the pageTitle and desciption properties. </p>\n\n<p>Would it be considered to be bad practice or breaking some rule of MVC? and if yes, what is a better approach? Thanks.</p>\n"},{"tags":["c++","mvc","qt","qtableview","qtablewidget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":232,"score":1,"question_id":9792644,"title":"Qt Model-View data and model in separate thread","body":"<p>Previously, I asked about running model and view in different threads and now, I understand how it poses a problem. To circumvent the problem, I was thinking of duplication of data. When data is modified by the worker thread, it simultaneously sends an update to GUI/Model thread to update the model with the same data (so there exist a exact copy of data with the GUI/model). </p>\n\n<p>Does this sound like a plausible approach? Other method is to use direct widgets with default models like QTableWidget etc. but then I need to do a lot of things that are powered by QTableView by default. </p>\n\n<p>Please suggest!</p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":11580228,"title":"Should a Model interact with external services?","body":"<p><strong>Example 1:</strong></p>\n\n<p>A Model class \"News\" stores its text in two different languages (fields: en_text, jp_text). Usually it has text in only one language. Should I translate the text in callback before_save using the Google Translate API, or should I place this code in the Controller?</p>\n\n<p><strong>Example 2</strong></p>\n\n<p>A Model class \"Payment\". When the payment is going to be settled, the system must notify an external service about the successful settling of the payment. Where should this code be placed, Model or Controller?</p>\n"},{"tags":["javascript","mvc","architecture","ember.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":398,"score":1,"question_id":11601104,"title":"Ember.js application architecture with router, how to avoid duplication of methods","body":"<p>Recently I've been studying Ember.js for a number of upcoming projects. The documentation on proper architecture when using the Ember.Router seems rather sparse. One thing that I've noticed about the router is that it seems like all views are bound to the router context instead of to their Controller or even View contexts. So <code>action</code> items in views require a method in the router and do not work for methods in the <code>View</code> or <code>Controller</code> objects.</p>\n\n<p>Example (in coffeescript):</p>\n\n<pre><code>window.App = Ember.Application.create {\n\n    ApplicationController = Ember.Controller.extend()\n    ApplicationView = Ember.View.extend\n        templateName: 'application'\n\n    FlavorMenuController = Ember.ArrayController.extend\n        ##Assume an extension of Ember.Object for a model called DrinkFlavors\n        content: []\n        promoted_drink_flavor: null\n\n        init: () -&gt;\n            @_super()\n            ##Assume a method actually chooses a random a drink flavor to promote\n            @choosePromotedDrinkFlavor()\n\n        optForNewPromotion: () -&gt;\n            dont_include = [ @promoted_drink_flavor ]\n            @choosePromotedDrinkFlavor( dont_include )\n\n    FlavorMenuView = Ember.View.extend\n        templateName: 'flavor_menu_view'\n\n    Router: Ember.Router.extend\n        root: Ember.Route.extend\n            flavorMenu: Ember.Route.extend\n                route: '/'\n                connectOutlets: (router, event) -&gt;\n                    router.get('applicationController').connectOutlet('flavorMenu')\n}\n</code></pre>\n\n<p>Now if I had a template like</p>\n\n<pre><code>&lt;script type=\"text/x-handlebars\" data-template-name=\"flavor_menu_view\"&gt;\n    &lt;!-- ASSUME SOME VIEW STUFF HERE MAKING UP A MENU OF FLAVORS YOU CAN ORDER --&gt;\n    &lt;a {{action optForNewPromotion}}&gt; Ask for another promoted Item &lt;/a&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>The action <code>optForNewPromotion</code> will not work and will complain about there not being a route for this. If you want this to work, you have to add to the router.</p>\n\n<p>So somewhere in the router path you'd need to add</p>\n\n<pre><code>optForNewPromotion: (router, event) -&gt;\n    router.get('flavorMenuController').optForNewPromotion\n</code></pre>\n\n<p>Or you could just move the functionality for that whole method into the router.</p>\n\n<p>This seems like bad architecture to either duplicate method signatures or move traditional controller behavior into the route.</p>\n\n<p>Are there any better design patterns that still make use of the Router?    </p>\n"},{"tags":["php","mvc","layout","directory-structure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":218,"score":1,"question_id":11600726,"title":"MVC based system general files/folders structure","body":"<p>I'm trying to figure out the correct layout of classes, methods, files and folders for a MVC design based system.</p>\n\n<p>Let say we have a <em>Page</em>. <em>Page</em> is a simple page with title, text and a sub menu. And it can also include a gallery (which would be a separate object both in the database and in the code). </p>\n\n<ol>\n<li><p>I would have a <code>PageDAO</code> class that would have all database related functions (it would extend main <code>DAO</code> class, that would hold generic DB functionality as select, save, delete etc)</p></li>\n<li><p>I would have separate Page class that would define variables and non-db related functions for this object</p></li>\n<li><p>I would have the MVC itself where <code>PageModel</code> would construct page <code>DAO</code> class and page class and build content that would then be processed in controller and prepared for a view</p></li>\n<li><p>Gallery would be defined in a separate class outside MVC (let say libs folder) and it would never be used as a view ( I mean, I would never call the gallery page itself). Page model would create Gallery class and controller would place it in a page view</p></li>\n<li><p>Menu class/function would be more generic function (as it would work for both pages and categories, if the code is used for e.g. shopping site) and would also be defined in a separate area (could be libs folder again). Menu setup based in that functionality would be called in model</p></li>\n</ol>\n\n<p>The above means I would have the following structure</p>\n\n<ul>\n<li><p>model, view, controller files and folders based on standard MVC approach</p></li>\n<li><p>dao lib folder for all <code>DAO</code> classes</p></li>\n<li><p>lib folder for classes like <code>Page</code>, <code>Menu</code>, <code>Gallery</code></p></li>\n</ul>\n\n<p>Does it look fair to you? I'm just anxious not to spread out the code over too much classes as it then means more 'includes' and more object calls. But perhaps that's the way to go? So far I haven't been using much MVC approach and been keeping files rather compacted. Want to get to know about the best practices</p>\n"},{"tags":["ruby-on-rails","mvc","node.js","backbone.js","dry"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":202,"score":3,"question_id":10040449,"title":"Is there a framework that allows me to define a model only once?","body":"<p>I just finished creating several models and a had to separately write all of their attributes in 1) a Rails ActiveRecord 2) a Rails database migration, and 3) a Backbone.js model. I'm not feeling very DRY. I assume the first step in DRYing up this problem would be to switch to node.js where I can use CoffeeScript on the back and front end (ideally reusing that same Backbone.js model), but what about the database schema? I realize I can create a framework that generates SQL from model attributes, but before I embark on that endeavor I was wondering if something like this already exists or is in development.</p>\n\n<p>It would also be awesome if this framework could unify views and controllers so that I don't have app/views, app/controllers, app/assets/javascripts/views, app/assets/javascripts/routers, and the like all defining similar things in different places.</p>\n"},{"tags":["php","api","mvc","rest","yii"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":11559434,"title":"Is it advisable to use API based architecture for both native and non-native sites?","body":"<p>I am planning to use a architecture (MVC = PHP->Yii) where I will be using REST API based architecture for native site (main web app) and non-native (apps such as iPhone, BB, WAP etc).</p>\n\n<p>No my question is it advisable to use View-Controller (HTML+User Requests) (For Main Site) with Controller-Model (Request/Response+DB) (for API) and same API platform will be used for non-native apps, or should I use full MVC for main site and build separate platform for APIs. This is because I don't want additional HTTP (cURL) overhead for main site.</p>\n\n<p><strong>Update:</strong>\n@karmakaze\nThat's the though with me but still I have to write RestControllers because there is lots of code involved. So anyway we ends up having two different controllers e.g.</p>\n\n<pre><code>UserController extends CController {\n    actionRegister() {\n        ...Some calculations\n        .\n        .\n        Instead of making Calls to model We will use call controller i.e.\n        $userRest = new UserRestController();\n        /*\n         * This will return json data or php obj depending on params passed or\n         * may raise an exception\n         */\n        $userRest-&gt;actionCreate($param1, $param2);\n        // Process data obtained.\n    }\n}\n</code></pre>\n\n<p>or is there any other way around?</p>\n"},{"tags":["spring","mvc","context"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1405,"score":2,"question_id":8686507,"title":"How to add a hook to the application context initialization event?","body":"<p>For a regular Servlet, I guess you could declare a <a href=\"http://docs.oracle.com/javaee/5/api/javax/servlet/ServletContextListener.html\" rel=\"nofollow\">context listener</a>, but for Spring MVC would Spring make this any easier?</p>\n\n<p>Furthermore, if I define a context listener and then would need to access the beans defined in my <code>servlet.xml</code> or <code>applicationContext.xml</code>, how would I get access to them?</p>\n"},{"tags":["jquery","mvc","jquery-tools"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":11596976,"title":"Jquery Mobile and Jquery Tools Scrollable issue","body":"<p>Has anyone attempted to use more than one jquery tools scrollable in a Jquery Mobile Application. i've attempted several itterations and I cannot seem to make them function in conjunction with one another (in the same app).</p>\n\n<p>I have looked at several other plugins and made a rudimentary one myself... None of them work Exactly the way I want with the exception and ease of JQuery Tools Scrollable. That said, I cannot seem to get them to work in an MVC C# application in more than one place. I basically have come down to a single page jquery application with several pages (divs)... I thought it may have been the ajax piece, and it still may be... however, even with Jquery multi-page application, having a scrollable with differnet id's etc... on different pages will not work. </p>\n\n<p>I have attempted instanciating the scrollable in numerous places including every event from pagecreate on up... what i have now is a single page application where the scrollable works on page1 after application opens... then I click on another anchor to navigate to page2 and the screen does not show any controls... If i refresh the browser it is working... I then attempt to go back to page1 and the same thing occurs... browser does not show any controls (navigation has ended), but a refresh of the browser and it is working...</p>\n\n<p>Does anyone have any thoughts on this?</p>\n\n<p>Thanks,</p>\n\n<p>Stew. </p>\n"}]}
{"total":14105,"page":18,"pagesize":100,"questions":[{"tags":["javascript","mvc","design-patterns","backbone.js"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":304,"score":1,"question_id":10228591,"title":"Backbone.js Model vs. View SET","body":"<p>If I am using Backbone, which (or both) of these is the \"correct\" way to set data?</p>\n\n<pre><code>// Logic in the Model\n// Can call from anywhere that has access\nSomeModel = Backbone.Model.extend({\n  defaults: {\n    visible: false\n  },\n\n  toggle: function(visible){\n    visible = typeof visible !== \"undefined\" ? visible : !this.get(\"visible\");\n    this.set({visible: visible});\n  }\n});\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>// Logic in the View\nSomeView = Backbone.View.extend({\n  events: {\n    \"click .toggle\" : \"toggleVisibility\"\n  },\n\n  toggleVisibility: function(){\n    this.model.set({visible: !this.model.get(\"visible\")});\n  }\n});\n</code></pre>\n\n<p>Obviously either one of these work, but my question is how much of that logic should be pushed off to the model? If, for instance, I have a situation that updates two variables:</p>\n\n<pre><code>this.model.set({visible: false, foo: bar, something: else});\n</code></pre>\n\n<p>Would it make sense to create a function on the model like this:</p>\n\n<pre><code>someFunction: function(visible, foo, something){\n  this.set({visible: visible, foo: foo, something: something});\n}\n</code></pre>\n\n<p>That just seems like overkill to me, but the set({}) logic in the view feels dirty. </p>\n\n<p>Thoughts?</p>\n"},{"tags":["php","mvc","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":273,"score":0,"question_id":11576514,"title":"Structuring MVC with PDO and PHP 5","body":"<p>I am using PDO to make the connection to the DB.\nI was wondering how should i structure it using the MVC pattern.</p>\n\n<p>Currently i have it like this:</p>\n\n<p><a href=\"http://pastebin.com/Xi9Gg31R\" rel=\"nofollow\">/model/DatabaseConfig.php</a></p>\n\n<p><a href=\"http://pastebin.com/uhPBq1R9\" rel=\"nofollow\">/model/DB.php</a></p>\n\n<p><a href=\"http://pastebin.com/BhiANSuH\" rel=\"nofollow\">/model/Model.php</a></p>\n\n<p><a href=\"http://pastebin.com/RD1Pxp77\" rel=\"nofollow\">/model/MySQLDB.php</a></p>\n\n<p><a href=\"http://pastebin.com/ax8BhyQs\" rel=\"nofollow\">/model/User.php</a></p>\n\n<p><a href=\"http://pastebin.com/1NNZKXSt\" rel=\"nofollow\">View/index.php</a></p>\n\n<p>What do you think about it?\nIs it ok? Should i place DB, Model and MySQLDB in another subfolder?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","mvc","pdo","dao"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":11578112,"title":"Should VO classes contains the domain logic?","body":"<p>I have been reading this site about the DAO and VO classes to work with PHP and MVC.\n<a href=\"http://www.sitecrafting.com/blog/php-patterns-part-ii/\" rel=\"nofollow\">http://www.sitecrafting.com/blog/php-patterns-part-ii/</a></p>\n\n<p>And i was wondering where should it be placed the domain logic. (methods to deal only with the object data, algoritms etc.) </p>\n\n<p>Should it be at the VO classes? Or i should create another package for the domain logic classes?</p>\n\n<p>It is not related with the DB so i assume it won't be placed on the DAO classes.\nThanks.</p>\n"},{"tags":["ios","xcode","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11595617,"title":"iOS model layer notifying Controller Object","body":"<p><a href=\"https://developer.apple.com/library/mac/#documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html\" rel=\"nofollow\">https://developer.apple.com/library/mac/#documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html</a></p>\n\n<p>At the above link, I see the following in regards to how the model layer should communicate with the ViewController.</p>\n\n<p>\"When a model object changes (for example, new data is received over a network connection), it notifies a controller object, which updates the appropriate view objects.\"</p>\n\n<p><strong>My question is, how does the model object notify the Controller object?</strong> What are various ways this can be done? My model layer gets the user's location and then calls a web service. How should I notify the controller object when that data is downloaded?</p>\n\n<p>Thanks</p>\n"},{"tags":["c#",".net","mvc","design-patterns"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":553,"score":6,"question_id":2378423,"title":"How to write a desktop application properly?","body":"<p>I am a web and mobile application developer and I prefer to use MVC frameworks for development. I have just started to a desktop application (in C#). Application development is not a problem. I had written various desktop application before but they were for personal use or for small companies.</p>\n\n<p>Is there a good open source project that I can download and read the source to learn how to write a desktop application to achieve easy maintenance, good error handling etc...</p>\n"},{"tags":["database","hibernate","excel","mvc","struts"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":11593274,"title":"Need advice about MVC","body":"<p>I'm still a beginner in MVC, so I have problems in design.</p>\n\n<p>I have many categories C1, C2, C3. Every category has her special structure. So <strong>every category</strong> should be presented in a <strong>Model Class</strong>. I also have for <strong>every category</strong> its own <strong>table in the database</strong>, mapped to eachother by <strong>Hibernate</strong>.</p>\n\n<p>I need in my application, to get the data from an Excel File ( I succeeded the upload and getting data from excel file ). But the excel file should respect the structure of the category chosen in the form. So it means, if I choose in the select of the form C1, then I upload an excel file with a different structure, that file should be rejected...</p>\n\n<p><strong>So how could I design my application to process Excel files according to the indicated category</strong>??</p>\n"},{"tags":["asp.net","mvc","class"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":103,"score":-3,"question_id":1458266,"title":"What's the diffrence between a C# blank class and an MVC C# blank class?","body":"<p>Can anyone define the difference between a C# blank class and an MVC C# blank class?</p>\n"},{"tags":["ruby-on-rails","database","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":11594123,"title":"In MVC, is the database part of the model?","body":"<p>In RoR with relationships being defined in the model, does this imply that the DB itself is part of the model?</p>\n"},{"tags":["mvc","route","redirecttoaction","data-loss"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":11397938,"title":"Losing Route data in RedirectToAction","body":"<p>hi i have a weird problem and here we go:</p>\n\n<p>i am redirecting using this command :</p>\n\n<p><code>return RedirectToAction(\"ViewMessage\", \"Account\", new {id = model.MessageId});</code></p>\n\n<p>but in ViewMessage action when i try to get id, its null ?!?!?!?!??</p>\n\n<p><code>string strMessageId = RouteData.Values[\"id\"] as string;</code></p>\n\n<p>i have done this code in lots of places and it works fine but i dont know what is going on here.... :(</p>\n\n<p>i know i can use TempData but i dont want to :)</p>\n"},{"tags":["php","mvc","design-patterns","rest"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":11588114,"title":"Should the business logic be separate from the model?","body":"<p>We're working on a fairly code-heavy PHP5 project, and in the last week I worked on a PoC of a RESTful API. We are separating Model Classes from Business Classes.</p>\n\n<p>Trying to implement CRUD functionality, I discovered, that implementing CRUD against the Models directly would be pretty straight-forward while implementing it against the Business Logic isn't, since its functionality is specific to the currently existing Views and its interface doesn't provide the general data access model I need for implementing the API.</p>\n\n<p>Thinking about this, the following questions came to my mind:</p>\n\n<ul>\n<li><p>What is the best way to interact with the data, keeping the flexibility of the model <em>and</em> keeping the functionality the model doesn't care about at the moment (like sending a mail with an activation link when changing the email address)?</p></li>\n<li><p>Working a lot with django previously, where most of the business logic is implemented in the model, why should you keep the business logic separate anyway? Do you have any real-life examples? What problems does this solve, if any?</p></li>\n</ul>\n\n<p>Some possible solutions came to my mind, too:</p>\n\n<ul>\n<li>Putting the whole business logic into the model. Checking which fields changed after / before calling the save method.</li>\n<li>Using the observer pattern to notify the business objects of changes in the model and interact with the models directly.</li>\n</ul>\n\n<p>What are the pros and cons in your opinion, what would you do?</p>\n"},{"tags":["php","oop","mvc","codeigniter"],"answer_count":14,"favorite_count":3,"up_vote_count":9,"down_vote_count":2,"view_count":14801,"score":7,"question_id":72919,"title":"PHP: Object oriented vs. MVC (CodeIgniter)","body":"<p>We are starting a new app, and are debating the benefits of MVC systems (using CodeIgniter for PHP) vs. using object oriented programming (OOP) PHP. I myself only really started using OOP PHP, and do like it. Should I use that over CodeIgniter though? I see the benefits of both.</p>\n"},{"tags":["mvc","codeigniter","controller"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2054,"score":2,"question_id":6758681,"title":"CodeIgniter: Class 'CI_Controller' not found","body":"<p>I've extended CodeIgniter controller by adding MY_Controller.php in Application/Core folder. It works fine, but Now when I add following code on <code>error_404.php</code> page in <code>Application/errors</code>, I get error.</p>\n\n<p><strong>Code causing problem:</strong></p>\n\n<pre><code>&lt;?php $ci =&amp; get_instance();?&gt;\n&lt;?php $this-&gt;ci-&gt;load-&gt;view('header')?&gt;\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>Fatal error: Class 'CI_Controller' not found in path\\to\\system\\core\\CodeIgniter.php on line 231\n</code></pre>\n\n<p>The line 231 of the <code>system\\core\\CodeIgniter.php</code> is:</p>\n\n<pre><code>function &amp;get_instance()\n    {\n        return CI_Controller::get_instance(); \n    }\n</code></pre>\n\n<p>How can I fix this so that I can load view in the error_404.php without changing anything in system files.</p>\n\n<p>PS. I'm using latest version.</p>\n\n<p>Thanks.</p>\n"},{"tags":["ios","xcode","mvc","user-interface","core-location"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":11587499,"title":"iOS designing this logic/workflow involving CoreLocation, web service calls, loading UI","body":"<p>I've been tackling this for a while, and I need some help designing my logic.</p>\n\n<p>I want to do three things in this order\n1) Get the user's location\n2) Call a web service with that user's location\n3) load the user interface with results </p>\n\n<p>I want this to be designed in a way that makes it simple for me to refresh the results, so if the user presses a refresh button, I do steps 1-3 again.  </p>\n\n<p>Right now, I do it as follows. This is my code in my ViewController.</p>\n\n<pre><code>- (void) viewDidLoad {\n    //initialize CLLocationManager\n    self.locationManager = [[CLLocationManager alloc] init];\n    self.locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n    self.locationManager.delegate = self;\n    [self.locationManager startUpdatingLocation];\n\n- (void) locationManager: (CLLocationManager *)manager \n     didUpdateToLocation: (CLLocation *)newLocation\n            fromLocation:(CLLocation *)oldLocation\n{\n    if (oldLocation!= nil) { // make sure to wait until second latlong value\n        [self setLatitude:newLocation.coordinate.latitude];\n        [self setLongitude: newLocation.coordinate.longitude];\n        [self.locationManager stopUpdatingLocation];\n        self.locationManager.delegate = nil;\n        [self makeUseOfLocationWithLat:[self getLatitude] andLon:[self getLongitude]];\n}\n\n- (void) makeUseOfLocationWithLat: (double) lat andLon: (double) lon {\n    // call web service\n    [self loadUI];\n}\n\n- (void) loadUI {\n     // loads the user interface\n}\n</code></pre>\n\n<p><strong>Correct me if I'm wrong, but my design is really bad. It's not modular at all, each method is tied to each other. Also, I'm doing intensive web service calls in my ViewController, as opposed to in any model classes. How do you set this up properly?</strong> One of the major issues I have is... I don't know when my latitude and longitude variables get their values. If I don't call makeUseOfLocation from my delegate method, then I end up calling makeUseOfLocation with <strong>nil values of latitude and longitude</strong>.</p>\n\n<p>I've looked into singletons for my location managing, NSKeyValueObserving Protocols, dispatch_queues, NSOperations, but I'm new to developing on iOS, and I'm getting stuck somewhere with whatever I try. Please let me know your thoughts on how to set this up.</p>\n\n<p>Thanks for your time, I really appreciate it. </p>\n"},{"tags":["asp.net","mvc","websocket"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":8068039,"title":"Technology for Asp.net MVC online game","body":"<p>I am planing to make online game like chess on asp.net. What technologies can you recommend to use for online game? Node.js? HTML5 WebSockets or something else.</p>\n"},{"tags":["java","mvc","frameworks","desktop-application"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":754,"score":3,"question_id":9342524,"title":"MVC for Java Desktop App","body":"<p>I want to create a desktop application using Java, but I'm new to desktop development and Swing. From web development I know I have to apply MVC to my project. Are there any tools or frameworks that simplify this task? Because I am a web developer I know such tools and frameworks exist for PHP. Are there any books that explain how to structure my project? My IDE of choice is Eclipse. So far I found this article <a href=\"http://www.oracle.com/technetwork/articles/javase/mvc-136693.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/mvc-136693.html</a></p>\n"},{"tags":["asp.net-mvc","mvc","many-to-many","model-binding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11582696,"title":"Many-to-Many Model Binding from scratch","body":"<p>I have three tables set up in a many-to-many relationship.</p>\n\n<p><strong>People</strong> has most of the data and this is what I am updating in my view.</p>\n\n<p><strong>people_areas</strong> is a pure join table which I originally had w/o a primary key but have now since added one to try and get this to work. It contains 2 other columns: people_id and area_id</p>\n\n<p><strong>Areas</strong> is a simple table with just an id and \"areaname\".</p>\n\n<p>How it works is, a person can be in multiple areas, and an area can contain multiple people. Before I added the primary key, Visual Studio ignored/hid the pure join table <strong>people_areas</strong> which was kind of nice to work with, but I had no idea how to model bind everything without specific access to the <strong>people_areas</strong> table. In my edit view I am mostly changing values from the <strong>People</strong> table along with a ListBox allowing people to select multiple integer values corresponding to the ids in the <strong>Areas</strong> table.</p>\n\n<p>Here's the fun part now. Since I'm using a ListBox in the view, I am only receiving a list of ints back from the view and need to convert these ints back to models so I can model bind and save to DB. This is what I'm having problems with, I can't seem to get the model back together to get it to save to the DB without strange errors. I am not sending a ViewModel to the View, but rather just the <strong>people</strong> model.</p>\n\n<p>Here's what I have:</p>\n\n<p>View (this part is working fine):</p>\n\n<pre><code>&lt;div class=\"editor-label\"&gt;\n    @Html.Label(\"areas\")\n&lt;/div&gt;\n&lt;div class=\"editor-field\"&gt;\n    @Html.ListBox(\"areas\", ViewData[\"areas\"] as SelectList, new { size = \"10\" })\n    @Html.ValidationMessage(\"areas\")\n&lt;/div&gt;\n</code></pre>\n\n<p>Latest Controller example I've tried:</p>\n\n<pre><code>[HttpPost]\n    public ActionResult Edit([Bind(Exclude = \"areaids\")]person newperson, List&lt;int&gt; areaids)\n    {\n        if (ModelState.IsValid)\n        {\n            var old = db.people.Find(newperson.id);\n            db.Entry(old).CurrentValues.SetValues(newperson);\n\n            old.people_areas.Clear();\n\n            foreach(var a in areaids)\n            {\n                area newa = db.areas.Find(a);\n                people_areas pa = new people_areas { peopleid = newperson.id, areaid = a, area = newa, person = old };\n                old.people_areas.Add(pa) ;\n            }\n\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n        return View(newperson);\n    }\n</code></pre>\n\n<p>And <a href=\"http://stackoverflow.com/questions/5850649/many-to-many-relationship-basic-example-mvc3\">here</a> are some <a href=\"http://stackoverflow.com/questions/7259795/how-do-i-modelbind-a-many-to-many-relationship-with-mvc-3-and-entity-framework-c\">links</a> I've <a href=\"http://stackoverflow.com/questions/6323221/how-to-update-tables-with-a-many-to-many-join-with-a-bridging-table-that-has-pay\">read</a> that also seem to outline my problem but I just can't get their examples to work. Was adding a primary key to the pure join table a good idea? Is it possible to actually send the <strong>areas</strong> model to the view and get it back?</p>\n"},{"tags":["php","javascript","mvc","javascript-events"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":283,"score":0,"question_id":11583375,"title":"Add input fields dynamically but fields are generated by external php functions","body":"<p>yeah.. this question seams like repeated but really couldn't find something similar..\nThings work here but are not dynamic here.. \nbut yeah its simple..</p>\n\n<pre><code>    var counter = 0;\nfunction addInput(divName){\n      var newdiv = document.createElement('div');\n      newdiv.innerHTML = \"Member \" + (counter + 1) + \" &lt;br&gt;&lt;input type='text' name='myInputs[]'&gt;\";\n      document.getElementById(divName).appendChild(newdiv);\n      counter++;\n }\n</code></pre>\n\n<p>but here i am giving it a little bit twist..</p>\n\n<pre><code>    var counter = 0;\nfunction addInput(divName){\n      var newdiv = document.createElement('div');\n      newdiv.innerHTML = \"Member \" + (counter + 1) + addmore();\n      document.getElementById(divName).appendChild(newdiv);\n      counter++;\n }\n</code></pre>\n\n<p>so, the new function \"addmore()\" here is returning the fields generated by the external php code which is being called with the help of AJAX..</p>\n\n<p>the function     addmore(); is something like this..</p>\n\n<pre><code>addmore(){\n        $jd.ajax({\n          url: \"&lt;?php echo JURI::root(); ?&gt;\",\n          type: \"POST\",\n          data: {'option':'com_joomd', 'view':'itempanel', 'task':'loadfields', 'typeid':&lt;?php echo $this-&gt;cparams-&gt;typeid; ?&gt;, 'catid[]':checked, 'id':&lt;?php echo (int)$this-&gt;item-&gt;id; ?&gt;, \"&lt;?php echo jutility::getToken(); ?&gt;\":1, 'abase':1},\n          beforeSend: function()    {\n            $jd(\".poploadingbox\").show();\n          },\n          complete: function()  {\n            $jd(\".poploadingbox\").hide();\n          },\n          success: function(res)    {\n\n                $jd('#fieldtable_id').html(res);\n          },\n          error: function() {\n              alert('error');                 \n          }\n    });\n}\n</code></pre>\n\n<p>obviously the part $jd('#fieldtable_id').html(res); is doing the actual job, but i am not able to use it to introduce the new field here dynamically..</p>\n\n<p>please guide me..</p>\n"},{"tags":["php","mvc","codeigniter","codeigniter-2","codeigniter-datamapper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":207,"score":0,"question_id":11572240,"title":"How to pass Model objects in CodeIgniter session from controller to controller?","body":"<p>I am fairly new to CI and I am working my way through a project using it. </p>\n\n<p>I am using CI 2.1.2 DataMapper 1.8.2.1.</p>\n\n<p>I am trying to post a login form to <a href=\"http://www.example.com/userauthcontroller/login\" rel=\"nofollow\">http://www.example.com/userauthcontroller/login</a>\nI am able to hit the function and it authenticates as it should. Mainly using the DataMapper examples and code.</p>\n\n<p>Userauthcontroller.php:</p>\n\n<pre><code>public function login(){\n    $params = $this-&gt;input-&gt;post();\n    $url = $params['url'];\n    $loginId = $params['loginid'];\n    $password = $params['loginpass'];\n    $u = new User();\n    $u-&gt;username = $loginId;\n    $u-&gt;pass_word =$password;\n    if($u-&gt;login()){\n        $confirmedUser = $u-&gt;get_where(array('id' =&gt; $u-&gt;id));\n        $CI =&amp; get_instance();\n        $CI-&gt;session-&gt;set_userdata(array('currentuser' =&gt; $confirmedUser));\n        //print_r($CI-&gt;session-&gt;userdata('currentuser'); // works\n        //die();\n        //tried this too\n        //$this-&gt;session-&gt;set_userdata(array('currentuser' =&gt; $confirmedUser));\n        redirect($url);\n    }else{\n        echo '&lt;p&gt;' . $u-&gt;error-&gt;login . '&lt;/p&gt;';\n    }\n}\n</code></pre>\n\n<p>When I redirect to the welcome controller I can not find the currentuser in the session.</p>\n\n<p>welcome.php:</p>\n\n<pre><code>function index(){\n    $data['site_title'] = \"My Site Title\";\n    $data['view_file'] = \"layout_views/home_view\";\n\n    $CI =&amp; get_instance();\n    $user = $CI-&gt;session-&gt;userdata('currentuser');\n\n    $data['currentuser'] = $user;\n    print_r($user);\n    print(\"&lt;BR/&gt;\");\n    print_r($data);\n    die();\n    //If I let this continue into my view $currentuser is not available.\n    $this-&gt;load-&gt;view('index_view', $data);\n}\n</code></pre>\n\n<p>home_view.php:</p>\n\n<pre><code>&lt;p&gt;&lt;? echo $currentuser ?&gt;&lt;/p&gt; &lt;!-- this does not print --&gt;\n&lt;p&gt;&lt;? echo $site_title ?&gt;&lt;/p&gt;  &lt;!-- this prints --&gt;\n</code></pre>\n\n<p>application/config/autoload.php: (Relevant entries that I know of)</p>\n\n<pre><code>$autoload['libraries'] = array('database', 'datamapper', 'session');\n$autoload['packages'] = array(APPPATH.'third_party/datamapper');\n</code></pre>\n\n<p>I have done a bit of searching on this ... and I even checked for spelling errors.</p>\n\n<p>Any suggestions would be appreciated.</p>\n\n<p>If more information is needed I will be checking back here frequently.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mvc","magento"],"answer_count":6,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":8402,"score":4,"question_id":3826474,"title":"Magento addFieldToFilter: Two fields, match as OR, not AND","body":"<p>I've been stuck on this for the last few hours. I got it working by hacking a few lines in /lib/Varien/Data/Collection/Db.php, but I'd rather use the proper solution and leave my core untouched.</p>\n\n<p>All I need to do is get a collection and filter it by two or more fields. Say, customer_firstname and remote_ip. Here's my (disfunctional without hacking Db.php) code:</p>\n\n<pre><code>$collection = Mage::getModel('sales/order')-&gt;getCollection()-&gt;\naddAttributeToSelect(\"*\")-&gt;\naddFieldToFilter(array(array('remote_ip', array('eq'=&gt;'127.0.0.1')),\narray('customer_firstname', array('eq'=&gt;'gabe'))), array('eq'=&gt;array(1,2,3)));\n</code></pre>\n\n<p>With a stock Db.php, I tried this: (sample taken from <a href=\"http://magentoexpert.blogspot.com/2009/12/retrieve-products-with-specific.html\" rel=\"nofollow\">http://magentoexpert.blogspot.com/2009/12/retrieve-products-with-specific.html</a>)</p>\n\n<pre><code>$collection-&gt;addFieldToFilter(array(\n    array('name'=&gt;'orig_price','eq'=&gt;'Widget A'),\n    array('name'=&gt;'orig_price','eq'=&gt;'Widget B'),           \n));\n</code></pre>\n\n<p>But that gives me this error:</p>\n\n<pre><code>Warning: Illegal offset type in isset or empty  in magento/lib/Varien/Data/Collection/Db.php on line 369\n</code></pre>\n\n<p>If I wrap that with a try/catch, then it moves into _getConditionSql() and gives this error:</p>\n\n<pre><code>Warning: Invalid argument supplied for foreach()  in magento/lib/Varien/Data/Collection/Db.php on line 412\n</code></pre>\n\n<p>Does anyone have any working, functional code for doing this? I'm running Magento 1.9 (Enterprise). Thanks!</p>\n"},{"tags":["c#","jquery","mvc","html.dropdownlistfor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":11579200,"title":"Html.DropownlistFor with editablefield","body":"<p>I'm using a dropdownlistfor that populates some data from the database, the idea is that i want that the default value of the dropdown, has to be editable.</p>\n\n<p>So the user can submit one of the options that are populated from the database, or the default one modified</p>\n\n<p>How can i make this?</p>\n"},{"tags":["c#","asp.net-mvc","mvc","jquery-mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":10407033,"title":"jqSystem.NullReferenceException was unhandled by user code","body":"<p>I'm not exactly sure what's wrong with my code here. The website is a mobile site using JQUERY Mobile.</p>\n\n<p>The problems I'm having are on the navigation menu on the home page, there is a link named \"Courses\" when you click this link it leads to the courses index page which has a list view displaying the several categories of classes that can be taken: IS, Nursing, Film, etc...</p>\n\n<p>I want to be able to click the link and have it query each of the categories per link so that the list isn't so long. The database has 500 rows with many categories and that is way too much to scroll through.</p>\n\n<p>I keep getting errors that say</p>\n\n<blockquote>\n  <p>Object reference not set to an instance of an object</p>\n</blockquote>\n\n<p>The error message points to the if statement.</p>\n\n<p>Here is the Index method in the Classes controller</p>\n\n<pre><code>public ActionResult Index(string classcode1)\n{\n    classes classes = db.classes1.Find(classcode1);\n\n    if (classes.classcode == classcode1)\n    {\n        return View(classes.classcode.ToList());\n    }\n    else\n        return View();\n}\n</code></pre>\n\n<p>Here is the Index view:</p>\n\n<pre><code>@model IEnumerable&lt;MobileDegreeAudit.classes&gt;\n\n@{\n    ViewBag.Title = \"Courses\";\n}\n\n&lt;h2&gt;Courses&lt;/h2&gt;\n\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n&lt;ul data-role=\"listview\" data-inset=\"true\" data-filter=\"true\"&gt;\n\n    &lt;li&gt;&lt;a href='@Url.Action(\"Index\", \"classes\", \"code==IS%%%\")'&gt;IS Classes&lt;/a&gt;&lt;/li&gt;\n\n    &lt;li&gt;&lt;a href='@Url.Action(\"Index\", \"classes\", \"code==NURS%%%\")'&gt;Nursing Classes&lt;/a&gt;&lt;/li&gt;\n\n    &lt;li&gt;&lt;a href='@Url.Action(\"Index\", \"classes\", \"code==FIVTH%%%\")'&gt;Film, Video &amp; Theater Classes&lt;/a&gt;&lt;/li&gt;\n\n    &lt;li&gt;&lt;a href='@Url.Action(\"Index\", \"classes\", \"code==MOGR%%%\")'&gt;Motion Graphics Classes&lt;/a&gt;&lt;/li&gt;\n\n    &lt;li&gt;&lt;a href='@Url.Action(\"Index\", \"classes\", \"code==FLM%%%\")'&gt;Film Classes&lt;/a&gt;&lt;/li&gt;\n\n    &lt;li&gt;&lt;a href='@Url.Action(\"Index\", \"classes\", \"code==THEA%%%\")'&gt;Theater Classes&lt;/a&gt;&lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre>\n\n<p>For this, I am using </p>\n\n<pre><code>@Url.Action(\"Index\", \"classes\", \"code==IS%%%\")\n</code></pre>\n"},{"tags":["javascript","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11576825,"title":"Javascript client side MVC rendering responsibility","body":"<p>I use an implementation of MVC for my client-side Javascript.</p>\n\n<p>I have a <code>Table</code> model that contains an array of <code>Row</code> models. Each model has a corresponding view <code>TableView</code> and <code>RowView</code>.</p>\n\n<pre><code>var Table = function() {\n   this.rows = [];\n}\n</code></pre>\n\n<p>Responsibility for rendering the Table to the DOM resides with a <code>TableView</code> type. This accepts a <code>Table</code> model as a constructor argument.</p>\n\n<p>To render itself it iterates over the <code>Row</code>s in the <code>rows</code> \"instance variable\", newing up a <code>RowView</code> for each, passing in the current row model and invokes render on the view like so:</p>\n\n<pre><code>var TableView = function(tableModel) {\n    this.$el = $(\"#myTable\");\n    this.model = tableModel;\n\n    this.render = function() {\n      _.each(this.model.rows, function(row) { this.$el.append(new RowView(row).render()); });\n    }\n}\n</code></pre>\n\n<p>This works, but feels wrong because knowledge of the exact type of <code>RowView</code> being rendered resides with the table view. If I wanted to have another type of <code>RowView</code> - say <code>RowView2</code> that renders slightly differently, then I would need an explicit conditional in the <code>TableView</code> render function.</p>\n\n<p>How could I change this implementation to enable polymorphic rendering of table rows - or is my implementation completely wrong-headed and there is a much better approach?</p>\n"},{"tags":["javascript","mvc","backbone.js","backbone-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":185,"score":1,"question_id":11577385,"title":"How disable Backbone.js routing on initial page load","body":"<p>I know the best practises says \"your content must be available on page load\" and i did it so.\nIf user navigates to <code>/questionnaire/info/id/2</code>, PHP serves the full html. But problem raises after this point, backbone.js matches the same route and re-requests the same page and loads it with ajax.</p>\n\n<p>How can i disable backbone for current page's first load?</p>\n"},{"tags":["ios","mvc","data"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":76,"score":3,"question_id":11559383,"title":"Where does arriving remote data fit into the MVC model","body":"<p>I read this question: <a href=\"http://stackoverflow.com/questions/5674879/understanding-mvc-pattern-used-in-ios-apps\">Understanding MVC pattern used in iOS apps</a>, and loaded and ran the <a href=\"http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html\" rel=\"nofollow\">sample</a> and found it helpful to understand how to collect external data such as images from the web. I can see how the IconDowloader works with the ViewController to collect the images and return them to the ViewController via a delegate.</p>\n\n<p>I do not understand where the IconDownloader (or any 'helper' that retrieves data from an external source) fits into the MVC model. It seems to be bolted onto the side of the controller to me.</p>\n\n<p>Is it part of the controller?</p>\n"},{"tags":["mvc","dependency-injection"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":11574544,"title":"MVC cycle and Dependency Injection","body":"<p>In <a href=\"http://www.oracle.com/technetwork/articles/javase/index-142890.html#3\" rel=\"nofollow\">MVC</a>, the view sends events to the controller and the controller sends these events to the model. The model sends changes to the view through the controller.</p>\n\n<p>This introduces a cyclic dependency which makes dependency injection(I'm manually injecting dependencies through the constructor - not using a framework) not possible(resulting in harder to unit test code). I read a <a href=\"http://misko.hevery.com/2008/08/01/circular-dependency-in-constructors-and-dependency-injection/\" rel=\"nofollow\">potential solution</a> but can't figure out how to apply this.</p>\n\n<p>Can someone point me to a solution?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ios","mvc","nsuserdefaults","keychain","business-logic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":11576024,"title":"Intelligent behaviour (not computing data) in MVC? iOS","body":"<p>Im currently developing software as an intern at a VoIP company. I'm creating a VoIP Client for iOS using the MVC pattern. </p>\n\n<p>I've a pretty good grasp on MVC, and I'm aware of the fact that this question is asked a million of times, but I'm stumped as to where \"intelligence\" in my example should go. </p>\n\n<p>Example: App ask for user credentials, stores these in model, lets say (bool)setUsername(string usr). Model saves username to NSUserDefaults, password to Keychain. Controller couldn't be bothered where Model persists this data. Controller acts as latch for View and Model and also handles input events (eg button press). \nNow, using this information, the app would like to register on a server and some time later make a call. </p>\n\n<p>Where in the MVC would this functionality ( registerUser(), makeCall() ) go? My guess would be Controller, since Model is for persisting and computing on data and not for any other intelligent behaviour, but I'm still in doubt. </p>\n"},{"tags":["mvc","cakephp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":189,"score":1,"question_id":11569658,"title":"cakephp foreign key not the primary key","body":"<p>I have a site developed in cakephp 2.0, I want to make a relation between two tables:</p>\n\n<p>activity_ingredients</p>\n\n<pre><code>1   id  int(10) UNSIGNED    No  None    AUTO_INCREMENT  \n2   type_id     tinyint(2)  No  None        \n3   activity_id     int(11)     No  None        \n4   ingredient_id   int(10)     No  None        \n5   created     datetime        \n</code></pre>\n\n<p>actions</p>\n\n<pre><code>1   id  int(10) UNSIGNED    No  None    AUTO_INCREMENT  \n2   type_id     tinyint(2)  No  None        \n3   language    char(2)     No  None        \n4   text    varchar(100)        No  None        \n5   created     datetime    \n</code></pre>\n\n<p>I want to associate the two tables with the field \"type_id\".\nI have done in this mode into my code:</p>\n\n<pre><code>    class Action extends AppModel{\n    public $name = 'Action'; //non utilizzata nel sito è il nome del modello alla fine per migliorare la compatibilità\n\n    public $belongsTo = array(\n        'ActivityIngredients' =&gt; array(\n            'className'     =&gt; 'ActivityIngredients',\n            'conditions'    =&gt; '',\n            'order'         =&gt; '',\n            'foreignKey'    =&gt; 'type_id'\n        )\n    );\n</code></pre>\n\n<p>}</p>\n\n<pre><code>class ActivityIngredients extends AppModel{\n        public $name = 'ActivityIngredients'; //non utilizzata nel sito è il nome del modello alla fine per migliorare la compatibilità\n\n        public $belongsTo = array(\n            'Activity' =&gt; array(\n                'className'     =&gt; 'Activity',\n                'conditions'    =&gt; '',\n                'order'         =&gt; '',\n                'foreignKey'    =&gt; 'activity_id'\n            ),\n            'Ingredient' =&gt; array(\n                'className'     =&gt; 'Ingredient',\n                'conditions'    =&gt; '',\n                'order'         =&gt; '',\n                'foreignKey'    =&gt; 'ingredient_id'\n            )\n        );\n\n        public $hasMany = array(\n            'Action' =&gt; array(\n                'className' =&gt; 'Action',\n                'conditions' =&gt; '',\n                'dependent' =&gt; true,\n                'foreignKey'   =&gt; 'type_id',\n                'associatedKey'   =&gt; 'type_id'\n            )\n        );\n    }\n</code></pre>\n\n<p>It doesn't retrieve the correct data.. It seems that It takes the id for the foreign key.\nThis is the view:</p>\n\n<pre><code>&lt;?php foreach ($user['Activity'] as $activities) {\nvar_dump($activities);\n?&gt;\n    &lt;div class=\"line-cnt\"&gt;&lt;div class=\"line\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;h2&gt;Attività&lt;/h2&gt;\n&lt;div class=\"table\"&gt;\n    &lt;div&gt;\n        &lt;div&gt;Activity created&lt;/div&gt;&lt;div&gt;&lt;?php echo $activities['created']; ?&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;div&gt;Actions text&lt;/div&gt;&lt;div&gt;&lt;?php echo $activities['Action']['text']; ?&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;div&gt;ActivityIngredient ingredient_id&lt;/div&gt;&lt;div&gt;&lt;?php echo $activities['ActivityIngredients']['ingredient_id']; ?&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;?php\n}\n?&gt;\n</code></pre>\n\n<p>The controller is a simple query with find all and recursive 3 into the User that is collegate with the tables</p>\n\n<pre><code>$this-&gt;User-&gt;recursive = 3;\n        $user = $this-&gt;User-&gt;read();\n\n        if (empty($username) || $username != $user['User']['username']) {\n            $this-&gt;redirect(array ('action'=&gt;'view',$id,$user['User']['username']));\n        }\n\n        $this-&gt;set('user', $user);\n</code></pre>\n\n<p>Help me please</p>\n"},{"tags":["java","mvc","3d","shader","jmonkeyengine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":11572734,"title":"How to make this 3D scene an MVC?","body":"<p>I'm having problems developing my 3D scene. I can load simple primitives and somewhat more advanced models with the exception of Ogre 3D models that I must learn how to load the scene with. I spec want to enable computer-controlled characters by a Simulation thread that allows the computer the control Persons in this game. For that I need to divide the program into more mangeable pieces, say classes <code>Person</code>, <code>Place</code>, <code>PlaceView</code>, <code>Simulation</code>, <code>Adventure</code>, <code>Thing</code>, <code>Player</code>, <code>Wakeable</code>, <code>World</code>, <code>WalkingPerson</code>, <code>Commands</code> etc. I've thought the classes should act more spec like this</p>\n\n<h2>Person</h2>\n\n<p>Has a name, a <code>World</code>, a <code>Place</code>, a collection of <code>Thing</code>s that he/she/it can carry, take, leave, drop and/or use. </p>\n\n<h2>Place</h2>\n\n<p>Is an ImageObserver or similar. Has a name, a map of exits, a collection of <code>Person</code>s, a collection of <code>Place</code>s, and an \"Image\" / RenderedState</p>\n\n<h2>PlaceView</h2>\n\n<p>Is a canvas that should be compatible with jmonkeyengine. Has a <code>Person</code> who is the <code>Player</code>. </p>\n\n<h2>Simulation</h2>\n\n<p>Is a Thread. Has a PriorityQueue for events and a method <code>wakeMeAfter</code> to activate the Thread between sleeping states.</p>\n\n<h2>Adventure</h2>\n\n<p>Is a JFrame or an Applet with my Swing GUI that has a <code>Player</code> and a <code>World</code> that could be thought of as a game level:</p>\n\n<p><img src=\"http://i.stack.imgur.com/dpwgQ.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<h2>Thing</h2>\n\n<p>Base class for things in the scene. Has a name.</p>\n\n<h2>Player</h2>\n\n<p>Is a java.awt.Panel. Has a <code>Person</code> named me. Has a <code>PlaceView</code> for the current location. Has a <code>Commands</code>. Has a TextArea.</p>\n\n<h2>Wakeable</h2>\n\n<p>Interface for the method <code>wakeup()</code>that <code>WalkingPerson</code> must implement. </p>\n\n<h2>World</h2>\n\n<p>Abstract class where the constructor takes an <code>Adventure</code>. </p>\n\n<h2>WalkingPerson</h2>\n\n<p>Is a Person and implements <code>Wakeable</code> so that the computer can control the <code>Person</code>. Has a Simulation and has a <code>Place</code> where the <code>Person</code> last saw the \"treasure\" (which is a <code>Thing</code>). </p>\n\n<h2>Commands</h2>\n\n<p>Is a JPanel and implements an ActionListener. Has a <code>Person</code>, has a List for inventory and a list for <code>Thing</code>s at a certain <code>Place</code>. Has a JPanel of the buttons shown to the right above. </p>\n\n<p>This modelling seems good or if you can suggest a better one please do. Now my program is not nearly as well modularized, it mostly a chunk of spaghetti code and the computer can't even control a <code>Person</code>, a <code>Person</code> is just rendered and has no life besides the animations it can do:</p>\n\n<pre><code>package adventure;\n\nimport com.jme3.texture.Texture.WrapMode;\nimport com.jme3.texture.Texture;\nimport com.jme3.asset.TextureKey;\nimport com.jme3.math.Vector2f;\nimport com.jme3.scene.shape.Sphere;\nimport com.jme3.scene.shape.Sphere.TextureMode;\nimport com.jme3.scene.Geometry;\nimport java.applet.Applet;\nimport java.applet.AudioClip;\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.Image;\nimport java.awt.TextArea;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport com.jme3.animation.*;\nimport com.jme3.app.Application;\nimport com.jme3.app.SimpleApplication;\nimport com.jme3.asset.plugins.ZipLocator;\nimport com.jme3.bullet.BulletAppState;\nimport com.jme3.bullet.collision.shapes.CapsuleCollisionShape;\nimport com.jme3.bullet.collision.shapes.CollisionShape;\nimport com.jme3.bullet.control.CharacterControl;\nimport com.jme3.bullet.control.RigidBodyControl;\nimport com.jme3.bullet.util.CollisionShapeFactory;\nimport com.jme3.effect.ParticleEmitter;\nimport com.jme3.effect.ParticleMesh;\nimport com.jme3.input.KeyInput;\nimport com.jme3.input.controls.ActionListener;\nimport com.jme3.input.controls.KeyTrigger;\nimport com.jme3.light.AmbientLight;\nimport com.jme3.light.DirectionalLight;\nimport com.jme3.material.Material;\nimport com.jme3.math.ColorRGBA;\nimport com.jme3.math.Vector3f;\nimport com.jme3.scene.Node;\nimport com.jme3.scene.Spatial;\nimport com.jme3.system.AppSettings;\nimport com.jme3.system.JmeCanvasContext;\nimport com.jme3.scene.Spatial;\nimport com.jme3.scene.shape.Box;\nimport com.jme3.scene.Geometry;\n\n/**\n * \n * @author nrz\n */\npublic class Main extends SimpleApplication implements AnimEventListener,\n        ActionListener, Playable {\n    Material floor_mat;\n    private Spatial sceneModel;\n    private BulletAppState bulletAppState;\n    private RigidBodyControl landscape;\n    private CharacterControl player;\n    private Vector3f walkDirection = new Vector3f();\n    private static Person person;\n    private static Player dplayer;\n    private static TextArea textarea;\n    private boolean left = false, right = false, up = false, down = false;\n    private AnimChannel channel;\n    private AnimControl control;\n    /** Prepare geometries and physical nodes for bricks and cannon balls. */\n    private RigidBodyControl brick_phy;\n    private static final Box box;\n    private RigidBodyControl ball_phy;\n    private static final Sphere sphere;\n    private RigidBodyControl floor_phy;\n    private static final Box floor;\n    /** dimensions used for bricks and wall */\n    private static final float brickLength = 0.48f;\n    private static final float brickWidth = 0.24f;\n    private static final float brickHeight = 0.12f;\n    static {\n        /** Initialize the cannon ball geometry */\n        sphere = new Sphere(32, 32, 0.4f, true, false);\n        sphere.setTextureMode(TextureMode.Projected);\n        /** Initialize the brick geometry */\n        box = new Box(Vector3f.ZERO, brickLength, brickHeight, brickWidth);\n        box.scaleTextureCoordinates(new Vector2f(1f, .5f));\n        /** Initialize the floor geometry */\n        floor = new Box(Vector3f.ZERO, 10f, 0.1f, 5f);\n        floor.scaleTextureCoordinates(new Vector2f(3, 6));\n    }\n\n    public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                AppSettings settings = new AppSettings(true);\n                settings.setWidth(850);\n                settings.setHeight(440);\n\n                Main canvasApplication = new Main();\n                canvasApplication.setSettings(settings);\n                canvasApplication.createCanvas(); // create canvas!\n                JmeCanvasContext ctx = (JmeCanvasContext) canvasApplication\n                        .getContext();\n                ctx.setSystemListener(canvasApplication);\n                Dimension dim = new Dimension(640, 480);\n                ctx.getCanvas().setPreferredSize(dim);\n\n                JFrame window = new JFrame(\"Swing Application\");\n                window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                JPanel panel = new JPanel(new BorderLayout()); // a panel\n                World world = new DungeonWorld(canvasApplication);\n                person = new Person(world, \"You\", null);\n                dplayer = new Player(world, person);\n                Commands commands = new Commands(person);\n                textarea = new TextArea(\"\", 10, 60,\n                        TextArea.SCROLLBARS_VERTICAL_ONLY);\n                textarea.append(\"You are in a dungeon. The horrible shrieks of the undead chill your bones.\\n\");\n                textarea.setEditable(false);\n                panel.add(\"West\", ctx.getCanvas());\n                panel.add(\"East\", commands);\n                panel.add(\"South\", textarea);\n                window.add(panel);\n                window.pack();\n                window.setVisible(true);\n                canvasApplication.startCanvas();\n\n            }\n        });\n    }\n\n    public void simpleInitApp() {\n        flyCam.setDragToRotate(true);\n        /** Set up Physics */\n        bulletAppState = new BulletAppState();\n        stateManager.attach(bulletAppState);\n        // bulletAppState.getPhysicsSpace().enableDebug(assetManager);\n\n        // We re-use the flyby camera for rotation, while positioning is handled\n        // by physics\n        viewPort.setBackgroundColor(new ColorRGBA(0.7f, 0.8f, 1f, 1f));\n        flyCam.setMoveSpeed(100);\n        setUpKeys();\n        setUpLight();\n\n        // Node scene = (Node)\n        // assetManager.loadModel(\"Scenes/ManyLights/Main.scene\");\n        // rootNode.attachChild(scene);\n\n        // We load the scene from the zip file and adjust its size.\n         assetManager.registerLocator(\"town.zip\", ZipLocator.class);\n         sceneModel = assetManager.loadModel(\"main.scene\");\n        //sceneModel = assetManager.loadModel(\"Scenes/ManyLights/Main.scene\");\n        sceneModel.setLocalScale(2f);\n        initFloor();\n        // We set up collision detection for the scene by creating a\n        // compound collision shape and a static RigidBodyControl with mass\n        // zero.\n        CollisionShape sceneShape = CollisionShapeFactory\n                .createMeshShape((Node) sceneModel);\n        landscape = new RigidBodyControl(sceneShape, 0);\n        sceneModel.addControl(landscape);\n\n        // We set up collision detection for the player by creating\n        // a capsule collision shape and a CharacterControl.\n        // The CharacterControl offers extra settings for\n        // size, stepheight, jumping, falling, and gravity.\n        // We also put the player in its starting position.\n        CapsuleCollisionShape capsuleShape = new CapsuleCollisionShape(1.5f,\n                6f, 1);\n        player = new CharacterControl(capsuleShape, 0.05f);\n        player.setJumpSpeed(20);\n        player.setFallSpeed(30);\n        player.setGravity(30);\n        player.setPhysicsLocation(new Vector3f(0, 10, 0));\n\n        // We attach the scene and the player to the rootNode and the physics\n        // space,\n        // to make them appear in the game world.\n        rootNode.attachChild(sceneModel);\n        // Create a wall with a simple texture from test_data\n        Box box = new Box(Vector3f.ZERO, 2.5f, 2.5f, 1.0f);\n        Spatial wall = new Geometry(\"Box\", box);\n        Material mat_brick = new Material(assetManager,\n                \"Common/MatDefs/Misc/Unshaded.j3md\");\n        mat_brick.setTexture(\"ColorMap\", assetManager\n                .loadTexture(\"Textures/Terrain/BrickWall/BrickWall.jpg\"));\n        wall.setMaterial(mat_brick);\n        wall.setLocalTranslation(2.0f, -2.5f, 0.0f);\n        rootNode.attachChild(wall);\n\n        ParticleEmitter fire = new ParticleEmitter(\"Emitter\",\n                ParticleMesh.Type.Triangle, 30);\n        Material mat_red = new Material(assetManager,\n                \"Common/MatDefs/Misc/Particle.j3md\");\n        mat_red.setTexture(\"Texture\",\n                assetManager.loadTexture(\"Effects/Explosion/flame.png\"));\n        fire.setMaterial(mat_red);\n        fire.setImagesX(2);\n        fire.setImagesY(2); // 2x2 texture animation\n        fire.setEndColor(new ColorRGBA(1f, 0f, 0f, 1f)); // red\n        fire.setStartColor(new ColorRGBA(1f, 1f, 0f, 0.5f)); // yellow\n        fire.getParticleInfluencer().setInitialVelocity(new Vector3f(0, 2, 0));\n        fire.setStartSize(1.5f);\n        fire.setEndSize(0.1f);\n        fire.setGravity(0, 0, 0);\n        fire.setLowLife(1f);\n        fire.setHighLife(3f);\n        fire.getParticleInfluencer().setVelocityVariation(0.3f);\n        rootNode.attachChild(fire);\n\n        ParticleEmitter debris = new ParticleEmitter(\"Debris\",\n                ParticleMesh.Type.Triangle, 10);\n        Material debris_mat = new Material(assetManager,\n                \"Common/MatDefs/Misc/Particle.j3md\");\n        debris_mat.setTexture(\"Texture\",\n                assetManager.loadTexture(\"Effects/Explosion/Debris.png\"));\n        debris.setMaterial(debris_mat);\n        debris.setImagesX(3);\n        debris.setImagesY(3); // 3x3 texture animation\n        debris.setRotateSpeed(4);\n        debris.setSelectRandomImage(true);\n        debris.getParticleInfluencer()\n                .setInitialVelocity(new Vector3f(0, 4, 0));\n        debris.setStartColor(ColorRGBA.White);\n        debris.setGravity(0, 6, 0);\n        debris.getParticleInfluencer().setVelocityVariation(.60f);\n        rootNode.attachChild(debris);\n        debris.emitAllParticles();\n\n        // Load a model from test_data (OgreXML + material + texture)\n        Spatial ninja = assetManager.loadModel(\"Models/Ninja/Ninja.mesh.xml\");\n        ninja.scale(0.05f, 0.05f, 0.05f);\n        ninja.rotate(0.0f, -3.0f, 0.0f);\n        // ninja.setLocalTranslation(-100.0f, 0.0f, 0.0f);\n        ninja.setLocalTranslation(-60.0f, 0.0f, 50.0f);\n        rootNode.attachChild(ninja);\n        control = ninja.getControl(AnimControl.class);\n        control.addListener(this);\n        channel = control.createChannel();\n\n        for (String anim : control.getAnimationNames())\n            System.out.println(\"Ninja can: \" + anim);\n\n        channel.setAnim(\"SideKick\");\n\n        Spatial sinbad = assetManager\n                .loadModel(\"Models/Sinbad/Sinbad.mesh.xml\");\n        // model.scale(0.05f, 0.05f, 0.05f);\n        // model.rotate(0.0f, -3.0f, 0.0f);\n        sinbad.setLocalTranslation(-20.0f, 4.5f, 0.0f);\n        rootNode.attachChild(sinbad);\n        control = sinbad.getControl(AnimControl.class);\n        control.addListener(this);\n        channel = control.createChannel();\n\n        for (String anim : control.getAnimationNames())\n            System.out.println(\"Sinbad can:\"+anim);\n\n        channel.setAnim(\"Dance\");\n        Spatial oto = assetManager.loadModel(\"Models/Oto/Oto.mesh.xml\");\n        // model.scale(0.05f, 0.05f, 0.05f);\n        // model.rotate(0.0f, -3.0f, 0.0f);\n        oto.setLocalTranslation(-10.0f, 5.5f, 0.0f);\n        rootNode.attachChild(oto);\n\n        control = oto.getControl(AnimControl.class);\n        control.addListener(this);\n        channel = control.createChannel();\n\n        for (String anim : control.getAnimationNames())\n            System.out.println(\"Oto can:\"+anim);\n\n        channel.setAnim(\"Walk\");\n\n        Spatial rocket = assetManager\n                .loadModel(\"Models/SpaceCraft/Rocket.mesh.xml\");\n        // model.scale(0.05f, 0.05f, 0.05f);\n        // model.rotate(0.0f, -3.0f, 0.0f);\n        rocket.setLocalTranslation(-30.0f, 3.5f, 0.0f);\n        rootNode.attachChild(rocket);\n\n        Spatial tank = assetManager\n                .loadModel(\"Models/HoverTank/Tank2.mesh.xml\");\n        tank.setLocalTranslation(-35.0f, 3.5f, 10.0f);\n        rootNode.attachChild(tank);\n\n        Spatial model3 = assetManager\n                .loadModel(\"objects/creatures/goblin/goblin.mesh.xml\");\n        model3.setLocalTranslation(-30.0f, 2.5f, 0.0f);\n        rootNode.attachChild(model3);\n\n        bulletAppState.getPhysicsSpace().add(landscape);\n        bulletAppState.getPhysicsSpace().add(player);\n        setDisplayFps(false); // to hide the FPS\n        setDisplayStatView(false); // to hide the statistics \n    }\n\n    private void setUpLight() {\n        // We add light so we see the scene\n        AmbientLight al = new AmbientLight();\n        al.setColor(ColorRGBA.White.mult(1.3f));\n        rootNode.addLight(al);\n\n        DirectionalLight dl = new DirectionalLight();\n        dl.setColor(ColorRGBA.White);\n        dl.setDirection(new Vector3f(2.8f, -2.8f, -2.8f).normalizeLocal());\n        rootNode.addLight(dl);\n    }\n\n    /**\n     * We over-write some navigational key mappings here, so we can add\n     * physics-controlled walking and jumping:\n     */\n    private void setUpKeys() {\n        inputManager.addMapping(\"Left\", new KeyTrigger(KeyInput.KEY_A));\n        inputManager.addMapping(\"Right\", new KeyTrigger(KeyInput.KEY_D));\n        inputManager.addMapping(\"Up\", new KeyTrigger(KeyInput.KEY_W));\n        inputManager.addMapping(\"Down\", new KeyTrigger(KeyInput.KEY_S));\n        inputManager.addMapping(\"Jump\", new KeyTrigger(KeyInput.KEY_SPACE));\n        inputManager.addListener(this, \"Left\");\n        inputManager.addListener(this, \"Right\");\n        inputManager.addListener(this, \"Up\");\n        inputManager.addListener(this, \"Down\");\n        inputManager.addListener(this, \"Jump\");\n    }\n\n    /**\n     * These are our custom actions triggered by key presses. We do not walk\n     * yet, we just keep track of the direction the user pressed.\n     */\n    public void onAction(String binding, boolean value, float tpf) {\n        System.out.print(\"binding:\" + binding);\n        if (binding.equals(\"Left\")) {\n            left = value;\n        } else if (binding.equals(\"Right\")) {\n            right = value;\n        } else if (binding.equals(\"Up\")) {\n            up = value;\n        } else if (binding.equals(\"Down\")) {\n            down = value;\n        } else if (binding.equals(\"Jump\")) {\n            player.jump();\n        }\n\n        if (binding.equals(\"Attack\") &amp;&amp; value) {\n            if (!channel.getAnimationName().equals(\"Dodge\")) {\n                channel.setAnim(\"Dodge\", 0.50f);\n                channel.setLoopMode(LoopMode.Cycle);\n                channel.setSpeed(0.10f);\n            }\n        }\n\n    }\n\n    /**\n     * This is the main event loop--walking happens here. We check in which\n     * direction the player is walking by interpreting the camera direction\n     * forward (camDir) and to the side (camLeft). The setWalkDirection()\n     * command is what lets a physics-controlled player walk. We also make sure\n     * here that the camera moves with player.\n     */\n    @Override\n    public void simpleUpdate(float tpf) {\n        // System.out.println(\"tpf:\"+tpf);\n        Vector3f camDir = cam.getDirection().clone().multLocal(0.6f);\n        Vector3f camLeft = cam.getLeft().clone().multLocal(0.4f);\n        walkDirection.set(0, 0, 0);\n        if (left) {\n            walkDirection.addLocal(camLeft);\n        }\n        if (right) {\n            walkDirection.addLocal(camLeft.negate());\n        }\n        if (up) {\n            walkDirection.addLocal(camDir);\n        }\n        if (down) {\n            walkDirection.addLocal(camDir.negate());\n        }\n        player.setWalkDirection(walkDirection);\n        cam.setLocation(player.getPhysicsLocation());\n    }\n\n    // Load an image from the net, making sure it has already been\n    // loaded when the method returns\n    public Image loadPicture(String imageName) {\n        return null;\n    }\n\n    // Load and play a sound from /usr/local/hacks/sounds/\n\n    public void playSound(String name) {\n        URL u = null;\n\n        try {\n            u = new URL(\"file:\" + \"/usr/local/hacks/sounds/\" + name + \".au\");\n        } catch (MalformedURLException e) {\n        }\n\n        AudioClip a = Applet.newAudioClip(u);\n        a.play();\n    }\n\n    public void onAnimCycleDone(AnimControl control, AnimChannel channel,\n            String animName) {\n        if (animName.equals(\"Dodge\")) {\n            channel.setAnim(\"stand\", 0.50f);\n            channel.setLoopMode(LoopMode.DontLoop);\n            channel.setSpeed(1f);\n        }\n    }\n\n    public void onAnimChange(AnimControl control, AnimChannel channel,\n            String animName) {\n    }\n\n    public static void createCanvas(String appClass) {\n        AppSettings settings = new AppSettings(true);\n        settings.setWidth(850);\n        settings.setHeight(440);\n        try {\n            Class&lt;? extends Application&gt; clazz = (Class&lt;? extends Application&gt;) Class\n                    .forName(appClass);\n        } catch (ClassNotFoundException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public void initFloor() {\n\n        floor_mat = new Material(assetManager,\n                \"Common/MatDefs/Misc/Unshaded.j3md\");\n        TextureKey key3 = new TextureKey(\"Textures/Terrain/Pond/Pond.jpg\");\n        key3.setGenerateMips(true);\n        Texture tex3 = assetManager.loadTexture(key3);\n        tex3.setWrap(WrapMode.Repeat);\n        floor_mat.setTexture(\"ColorMap\", tex3);\n\n        Geometry floor_geo = new Geometry(\"Floor\", floor);\n        floor_geo.setMaterial(floor_mat);\n        floor_geo.setLocalTranslation(0, -0.1f, 0);\n        this.rootNode.attachChild(floor_geo);\n        /* Make the floor physical with mass 0.0f! */\n        floor_phy = new RigidBodyControl(0.0f);\n        floor_geo.addControl(floor_phy);\n        bulletAppState.getPhysicsSpace().add(floor_phy);\n    }\n\n}\n</code></pre>\n\n<p>Can you advice me how to break down my program into more manageable pieces so that I can develop the aforementioned modularization?</p>\n\n<p>Thanks for any help. </p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":101,"score":2,"question_id":7638841,"title":"The right way to organize controllers with nested resources (rails)","body":"<p>I'm hoping this question isn't too subjective, but here goes. </p>\n\n<p>For simplicity sake, I've got a User model with many nested resources. For instance, a @user has many @books, @cars, @friends. </p>\n\n<p>In the user's \"show\" view, I present the user with a dashboard, that shows widgets for all of their things (books, cars, and friends). </p>\n\n<p>My issue now is that the UsersController has to do any/all logic pertaining to books, cars, and friends. And putting logic for Books, etc in the UsersController just feels wrong.</p>\n"},{"tags":["mvc","jsf","business-logic-layer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11568793,"title":"How should I retrieve the logged in User from session and pass it to my Business Layer?","body":"<p>I use JSF, Hibernate and CDI with Weld. My application is divided in: View (xhtml), Control (Request/Session/View scoped Beans), Model (Entities) and Business (BO's marked as Application scoped beans).</p>\n\n<p>I try to keep Model and Business layers decoupled from View and Control as much as possible, meaning that if want to change all of the xhtmls + control beans, it's possible without affecting Business Layer and Entities.</p>\n\n<p>My problem is: There are a lot of methods in the Business Layer that need to know who is the logged user (or at least his Profile), because that will affect the results that are going to be returned back to the control layer. </p>\n\n<p>E.g.: When requesting a list of Users to edit, an Administrator would receive a list with all registered users, and a Manager would receive a list with only the users that are \"below\" his profile.</p>\n\n<p>I don't want to inject my Session Bean (containing the logged user) into my Business Layer, because that would cause coupling (meaning that I wouldn't be able to just change my Control/View layer at any time).</p>\n\n<p>Nowadays I do this by passing the logged user as a parameter of my BO's methods, but to me that \"feels\" wrong. I keep thinking that the Control layer can just pass whoever it wants as the logged user, and my Business layer would never know about it.</p>\n\n<p>My final questions are:</p>\n\n<ol>\n<li>Is there anything wrong with the way I'm doing it? Or am I over thinking too much?</li>\n<li>Is there a better way to do it?</li>\n</ol>\n"},{"tags":["c#","javascript","ajax","json","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":150,"score":0,"question_id":11568807,"title":"returning object as json from mvc, how to display on the view","body":"<p>I have list of objects which are returned from mvc controller as Json. I'm wondering how to display this objects on the view.</p>\n\n<pre><code>function GetTabData(xdata) {\n    $.ajax({\n        url: ('/Home/GetTabData'),\n        type: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({ id: xdata }),\n\n        success: function (result) {\n           /// what to do here? \n        },\n        error: function () { alert(\"error\"); }\n    });\n}\n\npublic JsonResult()\n{\n   ...\n   var temp = getMyData...\n   return Json(temp, JsonRequestBehavior.AllowGet);   \n}\n</code></pre>\n\n<p>view page</p>\n\n<pre><code>&lt;div id=\"showContent\"&gt; &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","mvc","design-patterns","design"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":11560965,"title":"Access to Model in a Java Model-View-Controller design","body":"<p>I am developing an editor following the general MVC design: the model holds the data, the controller knows how to change it, and the view issues calls the controller to query and modify the model. For the sake of argument, let us use</p>\n\n<pre><code>public class Model {\n    public Object getStuff(String id);\n    public void setStuff(String id, Object value);    \n}    \n\npublic interface Controller {\n    public void execute(Command command);\n    public void redo();\n    public void undo();     \n    public void save();\n    public void load(File f);\n}\n</code></pre>\n\n<p>The class that actually implements the controller holds a reference to the model; commands need to access it too, so they must all provide a <code>void execute(Model m);</code> interface that actually grants them this access only when needed.</p>\n\n<p>However, views generally need access to the model - when building themselves and, later on, to listen for changes and refresh themselves accordingly. <strong>I am afraid that adding a \"Model getModel()\" call to the Controller will result in a great temptation to bypass the <code>execute()</code> mechanism</strong>; and I am not the only developer working on the project. Given this scenario, <strong>how would you enforce an \"all changes go through the controller\" policy?</strong></p>\n\n<p>Two alternatives I am considering:</p>\n\n<ul>\n<li>An interface called \"ReadOnlyModel\", returned by the getModel() call instead of the real model, that catches any such attempts.</li>\n<li>Lots of comments to clue incoming developers as to the Correct Way of Doing Things</li>\n</ul>\n"},{"tags":["javascript","jquery","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":11566593,"title":"jquery tabs and js load content","body":"<p>I'm trying use jquery ui tabs together with js and mvc3. </p>\n\n<pre><code>   &lt;div class=\"demo\"&gt;\n        &lt;div id=\"tabs\"&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=\"#tabs-1\"&gt;Tab One&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"#tabs-2\"&gt;Tab Two&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;div id=\"tabs-1\"&gt;\n                &lt;p&gt;  &lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div id=\"tabs-2\"&gt;\n                &lt;p&gt;  &lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p>JsFile</p>\n\n<pre><code>function GetTabData(xdata) {\n    $.ajax({\n        url: ('/Home/GetTabData'),\n        type: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({ id: xdata }),\n\n        success: function (result) {\n            alert(\"OK !\");\n        },\n        error: function () { alert(\"error\"); }\n    });\n}\n</code></pre>\n\n<p>MVC3</p>\n\n<pre><code>public ActionResult GetTabData(string xdata)\n{\n    data = fetch data and return to the calling script    \n    return PartialView(\"_TabDataPartial\", data);\n}\n</code></pre>\n\n<p>So the question will be pretty basic, how to bind js GetTabData() call with TabOne and TabTwo</p>\n\n<p>Thanks.</p>\n"},{"tags":[".net","visual-studio-2010","mvc","assemblies",".net-assembly"],"answer_count":2,"favorite_count":5,"up_vote_count":6,"down_vote_count":0,"view_count":5811,"score":6,"question_id":8524423,"title":"Could not load file or assembly HRESULT: 0x80131515 (When adding controller to MVC project that has assembly references on network drive)","body":"<p>I've seen this: <a href=\"http://stackoverflow.com/questions/3007190/vsts-2010-sgen-error-could-not-load-file-or-assembly-exception-from-hresult\">VSTS 2010 SGEN : error : Could not load file or assembly (Exception from HRESULT: 0x80131515)</a> and none of the answers work. It also doesn't appear when I build or anything. I can run the project fine, it happens when I try to add an entity framework templated controller:</p>\n\n<p><img src=\"http://i.stack.imgur.com/dxupo.png\" alt=\"controller settings\"></p>\n\n<p>Then I get this error:</p>\n\n<p><img src=\"http://i.stack.imgur.com/BA27O.png\" alt=\"error message\"></p>\n\n<p>All project files are on my network share because that is where My Documents resides for our work. Here is what I tried:</p>\n\n<p>1) Turning Generator Serialization Assembly in project settings to on, off, and auto.</p>\n\n<p>2) Adding sgen.exe.config to C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0A\\bin\\NETFX 4.0 Tools with the following code:</p>\n\n<pre><code>&lt;configuration&gt;\n &lt;runtime&gt;\n   &lt;loadFromRemoteSources enabled=\"true\" /&gt;\n &lt;/runtime&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>3) Tried to unblock the assemblies, but I had no unblock option in the properties tab.\n<img src=\"http://i.stack.imgur.com/fSyyR.png\" alt=\"no unblock option\"></p>\n\n<p><strong>None of these solutions work</strong>. Does anyone have any idea how I can fix this???\nThis error occurs for any custom assembly from nuget or my own projects due to their location existing on the network space, but only when trying to add an EF templated controller. I can build and run the program fine.</p>\n"},{"tags":["javascript","mvc","extjs","model","associations"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":354,"score":2,"question_id":11557444,"title":"Extjs hasone association","body":"<p>I have Person model, it contains id, first_name, last_name etc and <strong>merital_id</strong> field. I also have Merital model contains only 2 field: id and title.\nServer responses JSON like:</p>\n\n<pre><code>{\n    success: true,\n    items: [\n        {\n            \"id\":\"17\",\n            \"last_name\":\"Smith\",\n            \"first_name\":\"John\",\n            ...\n            \"marital_id\":1,\n            \"marital\": {\n                \"id\":1,\n                \"title\":\"Female\"\n            }\n        },\n        ...\n    ]\n}\n</code></pre>\n\n<p>So how can I connect my models with association? I still can use record.raw.merital.title in my column.renderer, but I cannot use such fields in templates like {last_name} {first_name} ({merital.title}).\nWhat king of association do I need to use, I tryed belongsTo, but when I try to use record.getMarital() I get an error \"no such method on record\".</p>\n\n<p>I use extjs 4</p>\n"},{"tags":["ios","oop","mvc","data","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":11564980,"title":"Unsure of how to manage data in ios app","body":"<p>I hope this question isn't too general/ambiguous...</p>\n\n<p>I'm writing an iphone quiz game app and am having trouble figuring out the best way to handle data. Currently I am thinking of having a single Model class that holds an array of \"User\" classes which each have an array of user-specific \"Question\" classes. I'd like to be able to access the overarching Model from any of my view controllers, but that means I'll probably have to pass the model object to any new view controller, use a singleton, or do something else. What is the best way to access my Model object from other classes? Another factor I'm not sure about is being able to save the data - would I have to use Core Data/SQLite to save my single Model object, or is there a simpler way?    </p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":11563081,"title":"How do i get a form post to an external site to appear in an iframe","body":"<p>I am using MVC and C#, I need to post a form to an external <strong>payment</strong> website. But i would like the result page to appear in an Iframe on my view.</p>\n\n<pre><code>&lt;form id='myform' action=\"https://externalsite.somewhere\" method=\"post\" target=\"myframe\"&gt;\n   @Html.HiddenFor(model =&gt; model.SomeData)\n   @Html.HiddenFor(model =&gt; model.MoreData)        \n   &lt;input type=\"submit\" value=\"do it\"/&gt;\n&lt;/form&gt;\n&lt;iframe id=\"myframe\" width=\"600px\" height=\"600px\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>I could be going about this in the wrong way, i have never done this before so If you have any suggestions or advice on this i would really appreciate it.</p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":11335521,"title":"Dynamic categories criteria with matching products rails 3","body":"<p>I'm working on a new rails project, and in this project I have products and product categories.</p>\n\n<p>So these categories are very different from each other, to name some, Boats, Houses, Cars. </p>\n\n<p>The car category might have criterias like \"Mph\", \"Model\", \"Brand\", \"Year\" and so on. Where the house category will have something like \"Rooms\", \"Year\", \"City\", \"Postal Code\" etc. </p>\n\n<p>I would like this to be very dynamic, so that i would be able to add/remove criterias and add/remove categories from a backend panel.</p>\n\n<p>Now to my question, i have been playing around with this, and i can't really figure out the logic of this concept, i have tried some solutions, however they are very weird and quite inefficient. Maybe some hardcore rails coder could give me a hint, on how to solve this puzzle?</p>\n\n<p>So the best solution i could come up with, was this:</p>\n\n<p>Four models :</p>\n\n<pre><code> _______________________\n| Product.rb            |\n -----------------------\n| id          | integer |\n -----------------------\n| category_id | integer |\n -----------------------\n| Title       | string  |\n -----------------------\n| Description | text    |\n -----------------------\n</code></pre>\n\n<hr>\n\n<pre><code> _______________________\n| Category.rb           |\n -----------------------\n| id          | integer |\n -----------------------\n| Title       | string  |\n -----------------------\n| Description | text    |\n -----------------------\n</code></pre>\n\n<hr>\n\n<pre><code> _______________________\n| Criteria.rb           |\n -----------------------\n| id          | integer |\n -----------------------\n| category_id | integer |\n -----------------------\n| Name        | string  |\n -----------------------\n| Default     | string  |\n -----------------------\n| Description | text    |\n -----------------------\n</code></pre>\n\n<hr>\n\n<pre><code> _______________________\n| ProductInfo.rb        |\n -----------------------\n| id          | integer |\n -----------------------\n| product_id  | integer |\n -----------------------\n| Name        | string  |\n -----------------------\n| Value       | text    |\n -----------------------\n</code></pre>\n\n<p>How it's connected :</p>\n\n<pre><code>Criteria.rb is connected to Category.rb with a category_id and has_many/belongs_to relation\nProduct.rb is connected to Category.rb with a category_id and has_many/belongs_to relation\nProductInfo.rb is connected to Product.rb with a product_id and has_many/belongs_to relation.\nCategory.rb is the heart og this solution. The category model, both have many products and criterias.\n</code></pre>\n\n<p>How it should work, in reality :</p>\n\n<pre><code>In the show category page, i would first print out all the criterias for the given category.\nAfterwards i would make a @products.each do |product|.\nIn the @products.each block, i would make a @category.criterias.each do |criteria|.\nIn the @category.criterias.each block, i would then run something like product.productinfos.where(:name =&gt; criteria.name). \nAnd then run it one by one.\n</code></pre>\n\n<p>Conclusion, this solution do work, however i doubt that it is the best solution. It will make an extremely big loadtime, with high traffic and many data. And i will need to write very weird and unreadable code. </p>\n\n<p>This is a rather long question, and it might be very confusing, so if there is anything please just say. Also, i have searched quite alot for a question like this, both on Stackoverflow, and on google but i have not been able to find anything like this.</p>\n\n<p>Oluf Nielsen. </p>\n"},{"tags":["php","mvc","zend-framework","model","datamapper"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":100,"score":4,"question_id":11545207,"title":"How to save an object when you do not know if its parent objects exist or not?","body":"<p>I have three tables,</p>\n\n<pre><code>Business:\n  id\n  name\nOffice:\n  id\n  name\n  business_id\nEmployee:\n  id\n  name\n  office_id\n</code></pre>\n\n<p>Employee's have office_id as a foreign key and Offices have business_id as a foreign key.</p>\n\n<p>I have a domain object/entity that relates to each and a database mapper object that relates to each.</p>\n\n<p>Now how to insert a new Employee when I am provided by a Business name, Office name and Employee name?</p>\n\n<p>Initially I figure the logic should be something like:</p>\n\n<pre><code>$businessMapper = new businessMapper();  \n$business = $businessMapper-&gt;findBusinessByName($business_name);\n\nif ($business == false) {   \n     $business = new businessEntity(array(         \n                     'businessName' =&gt; $business_name,            \n                   ));        \n     $businessMapper-&gt;save($business);   \n  } \n\n $officeMapper = new officeMapper();     \n $office = $officeMapper-&gt;getOfficeByName($office_name, $business);\n\n.......etc.......\n</code></pre>\n\n<p>But then I realised that if I have to save a new business there is no way that I have an office or an employee so it is a wasted query to try to get them. So then I thought I should create an if/else stucture.</p>\n\n<pre><code>get business entity by business_name  \nif ($business == false) {\n    create business entity\n    save business entity\n    create office entity\n    save office entity\n    create employee entity\n    save employee entity\n} else {\n   get office entity by office_name + business_id\n\n   if (office == false) {\n     create office entity\n     save office entity\n     create employee entity\n     save employee entity\n\n   } else {\n\n     ......etc......\n   }\n\n}\n</code></pre>\n\n<p>But there is so much duplicated logic and it is very unscaleable/dirty.</p>\n\n<p>So how should it be achieved?</p>\n\n<p>And secondly where should the logic go? Should it go in the mapper of employee? or the controller for the 'Add employee' action or should it have a new model?</p>\n\n<p>I am using Zend as my framework, but I think the question applies to all MVC style structures so please feel free to respond regardless of your framework preference :)</p>\n"},{"tags":["asp.net","asp.net-mvc","unit-testing","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1360,"score":0,"question_id":5948673,"title":"how to add session to mock httpcontext?","body":"<p>As per scott hanselman's mock example <a href=\"http://www.hanselman.com/blog/ASPNETMVCSessionAtMix08TDDAndMvcMockHelpers.aspx\" rel=\"nofollow\">http://www.hanselman.com/blog/ASPNETMVCSessionAtMix08TDDAndMvcMockHelpers.aspx</a> I tried to mock httpcontext using MockHelpers as code snippet below</p>\n\n<pre><code>controller = GetAccountController();\n\nActionResult result = controller.ChangePassword();\n\nHttpContextBase hb = MvcMockHelpers.FakeHttpContext(\"~/Account/ChangePassword\");\nhb.Session.Add(\"id\", 5);\n\n// Assert Assert.AreEqual(5, (int)hb.Session[\"id\"]);\n</code></pre>\n\n<p>I noticed that the session wasn't added and didn't receive any error either. The session object's properties had below value</p>\n\n<blockquote>\n  <p>Count = 0, CodePage = 0, Content = null, IsCookieLess = null, IsNewSession = null, IsReadOnly = null, IsSynchronized = null, Keys = null, LCID = 0, Mode = off, SessionId = null, Static Objects = null, SynRoot = null, TimeOut = 0</p>\n</blockquote>\n\n<p>I was getting same result for Rhino mock and Moq.</p>\n\n<p>Please advice me how to add session to mock httpcontext.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c#","mvc","dependency-injection","repository","repository-pattern"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":194,"score":3,"question_id":11559499,"title":"Repository Pattern IRepository<T> inside IServiceRepository","body":"<p>I have implemented repository pattern and it works pretty well. </p>\n\n<pre><code>    public interface IServiceRepository\n    {\n        User GetUser(int id);\n        User GetUser(string email);\n        User GetUser(string email, byte[] password);\n        //SkipCode\n    }\n\n //Service repository where I keep extended methods for database manipulation\n public class ServiceRepository : IServiceRepository\n    {\n        private readonly IRepository&lt;User&gt; _userRepository;\n        private readonly IRepository&lt;Order&gt; _orderRepository;\n        private readonly IUnitOfWork _unitOfWork;\n\n        public ServiceRepository(IRepository&lt;User&gt; userRepository, IRepository&lt;Order&gt; orderRepository, IUnitOfWork unitOfWork)\n        {\n        }\n\n     //SkipImplementation\n\n}\n</code></pre>\n\n<p>When I want to access some methods from IServiceRepository in Controller I do this</p>\n\n<pre><code>   public class AccountController : Controller\n    {\n        private readonly IRepository&lt;OrderDetail&gt; _orderDetailRepository;\n        private readonly IRepository&lt;UserDetail&gt; _userDetailRepository;\n        private readonly IServiceRepository _serviceRepository;\n\n        public AccountController(IRepository&lt;OrderDetail&gt; orderDetailRepository, IRepository&lt;UserDetail&gt; userDetailRepository, IServiceRepository serviceRepository)\n        {\n            _orderDetailRepository = orderDetailRepository;\n            _userDetailRepository = userDetailRepository;\n            _serviceRepository = serviceRepository;\n        }\n}\n</code></pre>\n\n<p>As you see I inject IRepositories and IServiceRepository in this scenario. Sometimes I inject only IRepositories or IServiceRepository depending on a needs.</p>\n\n<p>Question would be maybe I should move all <code>IRepositories</code> into <code>IServiceRepository</code>. And in all controllers embed only <code>IServiceRepository</code> and access <code>IRepositories</code> from <code>IServiceRepository</code>? This implementation looks more clear to me because only IServiceRepository will be injected in controllers. But to access for example one Repositorie from ServiceRepository will need to build and inject all other repositories in ServiceRepository, so it may slow down the whole application. What do you think?</p>\n"},{"tags":["asp.net-mvc-3","mvc","entity-framework","asp.net-mvc-2","stored-procedures"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":307,"score":0,"question_id":10246576,"title":"how to retrieve values from Session object in mvc3?","body":"<p>I have mvc 3 application in which in session object I'm taking all values that is needed to me as parameter to execute stored procedure.</p>\n\n<p>If the userAction is update then execute stored procedure.</p>\n\n<pre><code>public ActionResult Index(string userAction) \n{ \n   if(Session[\"Mappings\"] != null)            \n        ViewData[\"Message\"] = \"Mapping web grid\"; \n\n    if (Session[\"PricingSecurities\"] == null) \n        Session[\"PricingSecurities\"] = objRepository.GetPricingSecurityID(); \n    if (Session[\"Cusips\"] == null) \n        Session[\"Cusips\"] = objRepository.GetCUSIP(); \n\n    SecurityMappingModel objModel = null; \n    mappings = (List&lt;SecurityMappingModel&gt;)Session[\"Mappings\"]; \n\n    objModel = new SecurityMappingModel(); \n\n\n    if (userAction == \"Update\" ) \n    { \n        //please tell me how can i take values from Session[Mappings] and pass it to stored procedure? \n        //i'm trying this code\n        //foreach (var item in Session)\n        //{objModel.Cusips = (List&lt;SelectListItem&gt;)Session[\"Mappings\"];\n        //I did function import here (import my sp in model)using EF name            \n        //ExecuteMappingsp.\n        //dbContext.ExecuteMappingsp(need to pass parameter);\n        //} //i know wrong code but how to fix this??\n        // PLEASE HELP ME TO RETRIEVE SESSION VALUES\n        return RedirectToAction(\"Index\"); \n    } \n    objModel.PricingSecirities = (List&lt;SelectListItem&gt;)Session[\"PricingSecurities\"]; \n    objModel.Cusips = (List&lt;SelectListItem&gt;)Session[\"Cusips\"]; \n    ViewBag.Mappings = mappings; \n    return View(objModel); \n} \n</code></pre>\n\n<p>How can I take values from Session[Mappings] and pass it to stored procedure?</p>\n"},{"tags":["mvc","cakephp","controller","cakephp-1.3","cakephp-2.0"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":769,"score":0,"question_id":9085458,"title":"cakephp 2 - using app controller","body":"<p>I have created <code>AppController.php</code> in <code>app/Controller</code> path. I am using <code>Cakephp 2.0</code> version.</p>\n\n<p>I have created following in AppController.php</p>\n\n<pre><code>&lt;?php\n\nclass AppController extends Controller {\n\n    var $uses = array();\n    var $helpers = array();\n    var $components = array();\n\n    public function makeSlug($slug = null) {\n\n    }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>And I am trying to use that action in my UsersController.php file as below.</p>\n\n<pre><code>&lt;?php\n\nApp::uses('AppController', 'Controller');\n\nclass UsersController extends AppController {\n\n    public function index() {\n        $this-&gt;User-&gt;recursive = 0;\n        $this-&gt;set('users', $this-&gt;paginate());\n        $this-&gt;makeSlug();\n    }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>This gives me fatal error. </p>\n\n<pre><code>Fatal error: Call to undefined method UsersController::makeSlug() in C:\\wamp\\www\\letswish\\app\\Controller\\UsersController.php on line 10\n</code></pre>\n\n<p>What is the issue here?</p>\n"},{"tags":["php","mvc","doophp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":8965162,"title":"Can doophp use autorouting and defined routes together","body":"<p>Is possible use defined routes and autorouting together? Defined routes must have higher priority than autoroutes.</p>\n\n<p>I tried to use, but after I set autoroutes on, defined routes dont work at all. index.php leaved unchanged:</p>\n\n<pre><code>&lt;?php\ninclude './protected/config/common.conf.php';\ninclude './protected/config/routes.conf.php';\ninclude './protected/config/db.conf.php';\n\nDoo::app()-&gt;route = $route;\n?&gt;\n</code></pre>\n\n<p>But work only autoroutes.</p>\n"},{"tags":["php","mvc","cakephp","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":8978229,"title":"return inside controller actions MVC cakePHP","body":"<p>I have a simple question here. Is it really a bad idea to have a controller action return something (using return $something;). Is this good or bad MVC practice? </p>\n\n<p>I know good MVC practice requires controllers to pass data to a view, but what if I have just a standalone function that is not going to use any views? Can I not just return the value of that function?</p>\n\n<p>Thanks in advance experts</p>\n"},{"tags":["jquery","asp.net","ajax","json","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1841,"score":1,"question_id":5968682,"title":"Jquery AJAX (json) cross domain request and ASP.NET MVC","body":"<p>Seemed to me to be a beaten theme, but i couldn't find the answer. =(\nI make jquery ajax requst to \nlocalhost:666 from localhost:555 application</p>\n\n<pre><code>    $.ajax({\n            url: \"http://localhost:666/request\",\n            dataType: 'json',\n            timeout: 5000,\n            success:...\n</code></pre>\n\n<p>i've got in chrome:</p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load <a href=\"http://localhost:666/request\" rel=\"nofollow\">http://localhost:666/request</a>. Origin <a href=\"http://localhost:555\" rel=\"nofollow\">http://localhost:555</a> is not allowed by Access-Control-Allow-Origin.</p>\n</blockquote>\n\n<p>What is the solution of the problem?</p>\n"},{"tags":["javascript","mvc","offline","knockout.js","backbone.js"],"answer_count":4,"favorite_count":3,"up_vote_count":11,"down_vote_count":0,"view_count":6342,"score":11,"question_id":4833571,"title":"Using Backbone.js offline","body":"<p>I'm evaluating Backbone.js for keeping data and UI synchronized in my web app. However, much of Backbone's value seems to lie in its use of RESTful interfaces. Though I may add server-side backup in the future, my primary use case involves storing all data offline using HTML5 local storage.</p>\n\n<p>Is Backbone overkill for such a use case? If so, is there a better solution, focused solely on updating UI when data changes, and vice versa? (I'm also looking into Knockout and Javascript MVC.)</p>\n\n<p>EDIT: I'm also now looking into <a href=\"http://angularjs.com/\" rel=\"nofollow\">Angular.js</a> and <a href=\"https://github.com/jquery/jquery-datalink\" rel=\"nofollow\">jQuery Data Link</a>.</p>\n"},{"tags":["c#","mvc","legacy-code","conceptual-model"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":11553092,"title":"OO design for time series data and view","body":"<p>I'm trying to move part of a C legacy product into c#, with the goal of simplifying maintenance.  I'm also learning c#, and I'm trying to figure out whether I am thinking about the design correctly in terms of an OO approach.</p>\n\n<p>What I have is a data repository of time series:  Employment data, by state, for the last 50 years.  The main form is a user control that will enable a user to apply various formulae to the data, and then plot the results on a time series chart. The main form would retain a listing of each plot; that is, it would look like this:</p>\n\n<p>Plot1: moving average of employment numbers for southern states</p>\n\n<p>Plot2: exponential avg of employment numbers for southern states</p>\n\n<p>Plot3: moving avg of employment numbers for northern states\netc. </p>\n\n<p>Data repository  &lt;--------   UI where user applies formula   ------> plot on chart</p>\n\n<p>I am thinking that I would create 2 classes: dataRepository, and views (where each plot represents a view of the data).  My questions: Is there a better way to conceptualize this?  That is, am I on the right track in terms of an OO vs C-based approach?</p>\n"},{"tags":["objective-c","mvc","design-patterns"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":11552557,"title":"Is this bad design / a violation of model-view-controller?","body":"<p>I'm writing an app that connects to a server and fetches a list of images, then downloads them and displays them in a grid.</p>\n\n<p>Part one of this process is done by a client class I have that connects to the server and asks for the list of image URLs. I do this in my view controller and pass it in to my view.</p>\n\n<p>Part two is done by an image cache class I've written which takes each image URL and checks if the app has downloaded it and stored it previously. If so, it gets the image from the filesystem and returns it. Otherwise it asynchronously downloads the image and stores it.</p>\n\n<p>The way I'm doing things now, my view controller fetches the list of image identifiers and passes them into my view. The view then creates image views for each image and fills them with placeholder images, then asks the image cache for each image and fills in the images as they are downloaded.</p>\n\n<p>Is it bad design for my view's draw function itself to have this logic for downloading the images? It feels kind of like a violation of MVC because my view is doing work to get the data it's supposed to display. However, the actual networking is being done elsewhere (in the image cache class) and is abstracted away such that the view is simply calling <code>[ImageCache getImageForIdentifier:... completionHandler:...]</code>.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","http-post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":11550947,"title":"In the contoller, how do i obtain data from an http post?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11550707/how-to-obtain-data-from-a-form-using-method-post-how-to-request-it-data-in-my\">How to obtain data from a form using method=&ldquo;post&rdquo;? How to request it data in my controller?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to simply obtain data from a form.. Below is my form.. In my controller , how do i access the data from the form?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $(\"#SavePersonButton\").click(function () {\n            $(\"#addPerson\").submit();\n        });\n    });\n&lt;/script&gt;\n&lt;h2&gt;Add Person&lt;/h2&gt;\n&lt;form id=\"addPerson\" method=\"post\" action=\"&lt;%: Url.Action(\"SavePerson\",\"Prod\") %&gt;\"&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"3\" class=\"tableHeader\"&gt;New Person&lt;/td&gt;\n        &lt;/tr&gt;\n         &lt;tr&gt;\n            &lt;td colspan=\"2\" class=\"label\"&gt;First Name:&lt;/td&gt;\n            &lt;td class=\"content\"&gt;\n                &lt;input type=\"text\" maxlength=\"20\" name=\"FirstName\" id=\"FirstName\" /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n         &lt;tr&gt;\n            &lt;td colspan=\"2\" class=\"label\"&gt;Last Name:&lt;/td&gt;\n            &lt;td class=\"content\"&gt;\n                &lt;input type=\"text\" maxlength=\"20\" name=\"LastName\" id=\"LastName\" /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td colspan=\"3\" class=\"tableFooter\"&gt;\n                    &lt;br /&gt;\n                    &lt;a id =\"SavePersonButton\" href=\"#\" class=\"regularButton\"&gt;Add&lt;/a&gt;\n                    &lt;a href=\"javascript:history.back()\" class=\"regularButton\"&gt;Cancel&lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Contoller Controller Controller Controller Controller</p>\n\n<pre><code>[HTTP POST]\npublic  Action Result(Could i pass in the name through here or..)\n{\n\nCan obtain the data from the html over here using Request.Form. Pleas help\nreturn RedirectToAction(\"SearchPerson\", \"Person\");\n}\n</code></pre>\n"},{"tags":["php","mvc","orm","propel"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":119,"score":3,"question_id":11549615,"title":"Should Propel be the \"model\" part of MVC?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5863870/how-should-a-model-be-structured-in-mvc\">How should a model be structured in MVC?</a>  </p>\n</blockquote>\n\n\n\n<p>I read a lot of material about MVC and ORM, but a lot of documentation on the Internet is confusing.</p>\n\n<p>As I understand it, the ORM should not be the model as it should be completely abstracted from the database. But, in Propel, model classes are generated. For example, a table author could be updated this way: </p>\n\n<pre><code>$author = new Author();\n$author-&gt;setFirstName('Jane');\n$author-&gt;setLastName('Austen');\n$author-&gt;save();\n</code></pre>\n\n<p>Seem to be used as a model to me. But, it is not abstracted enough as a Model object ( I presume) can be a database table but can also be an object composed from multiple tables or even data sources. The model should represent a real-world entity. So, the Controller should not \"talk\" with Propel directly (the ORM) but through an intermediate layer (the Model).</p>\n\n<p>I cannot find any real-world example integrating Propel in an MVC structure and I'm pretty unsure of my \"understanding\" of the MVC architecture.</p>\n\n<p>Could somebody confirm that the ORM shouldn't <em>be</em> the Model Layer and should not be called from the controller? If a good example could be provided, it would help me to refactoring my applications with better practices.</p>\n"},{"tags":["ruby","mvc","view","controller","logic"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":11550668,"title":"How to move logic out of views and into controller in Rails","body":"<p>I am writing an <a href=\"http://en.wikipedia.org/wiki/Imageboard\" rel=\"nofollow\">imageboard</a> in Ruby on Rails.</p>\n\n<p>I have a form for creating new posts. In that form, there is logic to figure out whether the post was created from board#show or topic#show and act accordingly. It is:</p>\n\n<pre><code>  &lt;% if @board != nil %&gt;\n    &lt;%= f.hidden_field :board_id, :value =&gt; @board.id %&gt;\n  &lt;% end %&gt;\n\n  &lt;% if @topic != nil %&gt;\n    &lt;%= f.hidden_field :topic_id, :value =&gt; @topic.id %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>The form is rendered on board#show and topic#show with this piece of code:</p>\n\n<pre><code>&lt;%= render :partial =&gt; 'posts/form'%&gt;\n</code></pre>\n\n<p>Should I move that logic to the controller? How would I go about doing that?</p>\n"},{"tags":["php","mvc","codeigniter","model","controller"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":101,"score":1,"question_id":11550860,"title":"Should you handle session data in a controller or a model for an MVC framework?","body":"<p>I am working with an MVC framework (specifically, PHP's <a href=\"http://codeigniter.com/\" rel=\"nofollow\">CodeIgniter</a>). I am trying to follow \"best practices\" as much as possible, but I don't have much experience with MVC. Is it bad practice for me to retrieve data from a session within the Controller? Should I \"ask\" the model if, say, a particular session value is 'foo' or 'bar', or should I do that directly inside the Controller? I'm thinking I should do it inside the Model since the session data is technically data, but I just want to make sure. To be clear, I don't store the session data in the database at all, so I'm not running a query. </p>\n"},{"tags":["php","mvc","wordpress","integrate"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":104,"score":1,"question_id":7741303,"title":"Integrating an already build PHP mvc website to wordpress","body":"<p>I have made a website with php/mysql that is using the mvc architecture. I wish to transfer all these stuff into wordpress. How do I go on doing that?\nI saw WP MVP plugin but cant figure out how it is working.\nThanks</p>\n"},{"tags":["javascript","jquery","mvc","templates","upgrade-issue"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":11550870,"title":"Fix for templates (tmpl.js) displaying [object HTMLInputElement] in textbox after firefox upgrade","body":"<p>After upgrading firefox to 14.0.1 jquery.tmpl started displaying '[object HTMLInputElement]' as the value of the textbox. After some debugging with firefox we found that if the property that is supplied in the template is not defined or given an empty string then it is trying to look for it in the parent scope chain until the global scope.\nThis is happening only when we are trying to reload the view using 'this.view' (but not during refresh or fresh template load)\nFor example if we have a textbox like below;\n<code>&lt; input type=\"text\" name=\"foo\" id=\"foo\" value=\"${foo}\"/></code> \nif 'foo' is either supplied with empty string or not supplied by the controller then it is looking to find int he global scope ie. it is triggering $('#foo') which returns input textbox object. Now this object is rendered as a value of the text box hence displaying '[object HTMLInputElement]' as the value of the textbox.\nWe are seeing this behavior in the latest chrome version also.\nIf we change either the template property name or id of the input element so that they don't match then it is working fine.\nFor example\n<code>&lt; input type=\"text\" name=\"foo\" id=\"foo1\" value=\"${foo}\"> -- this is working \n&lt; input type=\"text\" name=\"foo\" id=\"foo\" value=\"${foo1}\"/> --this is working</code></p>\n\n<p>But, changing either id's or property names is an expensive operation as it requires visiting the entire application and changing the templates. It is such a huge impact as we have >200 template files.</p>\n\n<p><b>\nSo, I edited the function buildTmplFn on 342 in tmpl.js and changed the following code:\nIn buildTmplFn changed Line1 below with Line2 below:</p>\n\n<pre>.replace( /\\$\\{([^\\}]*)\\}/g, \"{{= $1}}\" )   --> Line1 </pre> \n\n<pre>.replace( /\\$\\{([^\\}]*)\\}/g, \"{{= \\$item\\.data\\.$1}}\" )    -->Line2  </pre>  \n\n<p>which fixed the problem. \n</b>\nAs this requires editing the library files (which requires maintenance during upgrade), I am just wondering if anyone out there found a solution that doesn't require overwriting the library but just requires overwriting 'buildTmplFn' function.</p>\n\n<p>Thanks in Advance!</p>\n"},{"tags":["php","mvc","url","seo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":88,"score":0,"question_id":11550550,"title":"Nice url with pagenames in mvc?","body":"<p>I'm want to build a mvc framework in php, but i want url's like page1/sub-page-1/sub-page-sub-page-1/ how can this be done? Because normally if you build a MVC framework urls would be like controller/action/parameters?</p>\n\n<p><strong>So, if  i have a page called blog, but also a controller called blog that these are not in conflict with each.</strong></p>\n"},{"tags":["php","mvc","frameworks","url-routing","conceptual"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":161,"score":0,"question_id":11548784,"title":"Is URL rewrite / routing (mod_rewrite) really necessary for a framework?","body":"<p>I've been writing PHP code for years. And now I have plenty of reusable modules -- for me at least.  A typical classic-old-style developer :D. But now almost everybody using <em>baked instant</em> framework, and my modules not <em>reusable</em> anymore --to some extent. Most of current <em>famous</em> framework such CI, Zend, Cake, etc. and also should-be-simpler micro-framework such as Fat-free, Silex, MicroMVC, etc. utilize method called URL routing / URL rewrite or such.</p>\n\n<p>But... do you think this <em>fancy</em> URL routing is REALLY necessary?</p>\n\n<p>Let's consider this:</p>\n\n<ul>\n<li>How much work needed to process this fancy method of complexities? Regular expression parsing uses relatively heavy computing isn't it? Is it worthed?</li>\n<li>How often we write URL address / type it manually? Instead of click bookmarks and/or hyperlink?</li>\n<li>Is it really search-engine friendly? I mean doesn't it OK for search engines indexing URL params?</li>\n<li>Why BIG sites such as Google, Facebook, etc still using \"path?var1=val1&amp;var2=val2&amp;...\"?</li>\n<li>How about different settings on different web servers? Apache/IIS/Nginx/Ligthy? Such as porting .htaccess to web.config and to another?? Doesn't it make more problem than more solution? (for debugging, etc) </li>\n</ul>\n\n<p>What do you think? Should we keep on with that <em>fancy</em> URL routing? Or we better go back to [web] nature with [simpler] request params? Any respond appreciated.</p>\n"},{"tags":["asp.net","mvc","helper","url.action"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":22172,"score":4,"question_id":1759189,"title":"How does Url.Action work Asp.net MVC?","body":"<p>This is somewhat related to another question i've asked but i figure why not ask it seperately.</p>\n\n<p>If i were to place something like the following in aview</p>\n\n<pre><code>&lt;td&gt;&lt;img src='&lt;%= Url.Action( \"DisplayImage\" , \"User\" , new { id = item.id} ) %&gt;' alt=\"\" /&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Is it supposed to display this</p>\n\n<pre><code>&lt;td&gt;\n   &lt;img src='/User.mvc/DisplayImage?id=U00915441' alt=\"\" /&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>or would the src actually be replaced with the results of the UserController GetImage Action?</p>\n"},{"tags":["ruby-on-rails","ruby","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":11549892,"title":"Automatic sql calls when accessing controller functions","body":"<p>So I am trying to populate a drop down menu that displays a certain customers projects' based on which customer is selected in another drop down. I am doing this using javascript, calling the function \"byProjectId\" in the Project controller. </p>\n\n<pre><code>$(\"#customer_id\").bind( \"change\", function(){\n  $(\"#task_project_id\").empty();\n    $.ajax({\n      type: 'GET',\n      url: '/projects/byCustomerId/' + $(this).val(),\n      dataType: 'script'\n    })\n});\n</code></pre>\n\n<p>My byCustomerId function is as follows:</p>\n\n<pre><code>def byCustomerId\n  logger.debug \"DEBUGGING HERE\"\n  if params[:id].present?\n    @projects = Customer.find(params[:id]).projects.order(:name)\n  else\n    @projects = []\n  end\n\n  respond_to do |format|\n    format.js\n  end\nend\n</code></pre>\n\n<p>So all I am doing is retrieving a list of Projects based on the Customer ID value that is passed. However, when I actually run this, some extra database calls are made before my code in this method is actually executed. This is the output from the console running the rails server:</p>\n\n<pre><code>Started GET \"/projects/byCustomerId/5?_=1342642985360\" for 127.0.0.1 at 2012-07-\n18 15:23:05 -0500\nProcessing by ProjectsController#byCustomerId as JS\nParameters: {\"_\"=&gt;\"1342642985360\", \"id\"=&gt;\"5\"}\n←[1m←[36mMember Load (1.0ms)←[0m  ←[1mSELECT \"members\".* FROM \"members\" WHERE\n\"members\".\"id\" = 7 LIMIT 1←[0m\n←[1m←[35mProject Load (0.0ms)←[0m  SELECT \"projects\".* FROM \"projects\" WHERE \"\nprojects\".\"id\" = 5 LIMIT 1\nCompleted   in 69ms\n\nActiveRecord::RecordNotFound (Couldn't find Project with ID=5):\n</code></pre>\n\n<p>This shows that it is trying ask for all PROJECTS that have ID of 5, even though 5 is the Customer ID it should be asking for. When I use a different CustomerID that also happens to be a valid ProjectID, it runs the proper calls right after this, but without the RecordNotFound exception happening:</p>\n\n<pre><code>DEBUGGING HERE\n←[1m←[36mCustomer Load (0.0ms)←[0m  ←[1mSELECT \"customers\".* FROM \"customers\"\nWHERE \"customers\".\"id\" = 1 LIMIT 1←[0m\n←[1m←[35mProject Load (1.0ms)←[0m  SELECT \"projects\".* FROM \"projects\" WHERE (\n\"projects\".customer_id = 1) ORDER BY name\n</code></pre>\n\n<p>The \"DEBUGGING HERE\" is the only way I realized these calls were being made before my code in the byCustomerId function. If the Customer ID I pass is valid as a Project ID as well, it returns the correct data and populates correctly, simply doing nothing with the data from the incorrect sql call, but when the Customer ID doesn't match up with a Project ID, these extra calls to the Database get exceptions and nothing is populated, even if the later queries would still be fine. I cannot figure out where these extra calls to the Database are coming from? Am I somehow calling them just by sending any data to the Project controller or something? </p>\n"},{"tags":["php","mvc","codeigniter","controller"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":599,"score":0,"question_id":6703803,"title":"Error in extending CodeIgniter Controller","body":"<p>I am trying to extend the CodeIgniter controller. I have created <code>MY_Controller.php</code> file, the content of the file is as following:</p>\n\n<pre><code>&lt;?php\nclass MY_Controller extends CI_Controller \n{ \n    function generate_key()\n    {\n        $n = rand(10e16, 10e20);\n        return base_convert($n, 10, 36);\n    }\n</code></pre>\n\n<p>Now I create my controllers by extending <code>MY_Controller</code> instead of <code>CI_Controller</code>. Following is an example of a controller:</p>\n\n<pre><code>class Member extends MY_Controller\n{\n    public function index()\n    {\n    $this-&gt;load-&gt;view('welcome');\n    }\n</code></pre>\n\n<p>I have placed the <code>MY_Controller.php</code> file in the <code>Application/libraries/</code> folder. But when I load the application, I get the error:</p>\n\n<pre><code>Fatal error: Class 'MY_Controller' not found in path\\to\\application\\controllers\\member.php\n</code></pre>\n\n<p>Can someone tell me what i am doing wrong? Thanks.</p>\n\n<p>Edit: I'm using CodeIgniter 2.0.2</p>\n"},{"tags":["jquery","mvc","backbone.js","twitter-bootstrap"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":946,"score":1,"question_id":11530851,"title":"Incorporate JQuery-file-upload to application","body":"<p>I have started an jquery/backbone.js application based on this <a href=\"http://coenraets.org/backbone-cellar/bootstrap/\" rel=\"nofollow\">sample application</a> and modified it quite considerably to do my own stuff, but the MVC concept remains. So far, everything is working properly and I'm basically just adding my content/model/etc. when I need too. </p>\n\n<p>I need to implement a basic file up-loader and found this <a href=\"http://blueimp.github.com/jQuery-File-Upload/\" rel=\"nofollow\">JQuery-file-upload</a> to be awesome (I don't want to re-invent the wheel... since, I'm in a \"hurry\"). Does anyone have done this before? <strong>So far, I have downloaded the zip file and ran it on WampServer (PHP), which works just fine</strong> (I read the the setup manual). What about incorporating/attach it, within an application (use the widget)? How you do it (I don't have much experience with Plugins) </p>\n\n<p>Code section:</p>\n\n<p>tpl/ResourcesView.html (so if we take only the interesting part from the demo):</p>\n\n<pre><code>&lt;div class=\"content fixed-fixed\"&gt;              \n&lt;!-- The file upload form used as target for the file upload widget --&gt;\n    &lt;form id=\"fileupload\" action=\"plugin/jquery-fileupload/server/php/\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n        &lt;!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload --&gt;\n        &lt;div class=\"row fileupload-buttonbar\"&gt;\n            &lt;div class=\"span7\"&gt;\n                &lt;!-- The fileinput-button span is used to style the file input field as button --&gt;\n                &lt;span class=\"btn btn-success fileinput-button\"&gt;\n                    &lt;i class=\"icon-plus icon-white\"&gt;&lt;/i&gt;\n                    &lt;span&gt;Add files...&lt;/span&gt;\n                    &lt;input type=\"file\" name=\"files[]\" multiple&gt;\n                &lt;/span&gt;\n                &lt;button type=\"submit\" class=\"btn btn-primary start\"&gt;\n                    &lt;i class=\"icon-upload icon-white\"&gt;&lt;/i&gt;\n                    &lt;span&gt;Start upload&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;button type=\"reset\" class=\"btn btn-warning cancel\"&gt;\n                    &lt;i class=\"icon-ban-circle icon-white\"&gt;&lt;/i&gt;\n                    &lt;span&gt;Cancel upload&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;button type=\"button\" class=\"btn btn-danger delete\"&gt;\n                    &lt;i class=\"icon-trash icon-white\"&gt;&lt;/i&gt;\n                    &lt;span&gt;Delete&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;input type=\"checkbox\" class=\"toggle\"&gt;\n            &lt;/div&gt;\n            &lt;!-- The global progress information --&gt;\n            &lt;div class=\"span5 fileupload-progress fade\"&gt;\n                &lt;!-- The global progress bar --&gt;\n                &lt;div class=\"progress progress-success progress-striped active\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\"&gt;\n                    &lt;div class=\"bar\" style=\"width:0%;\"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n                &lt;!-- The extended global progress information --&gt;\n                &lt;div class=\"progress-extended\"&gt;&amp;nbsp;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- The loading indicator is shown during file processing --&gt;\n        &lt;div class=\"fileupload-loading\"&gt;&lt;/div&gt;\n        &lt;br&gt;\n        &lt;!-- The table listing the files available for upload/download --&gt;\n        &lt;table role=\"presentation\" class=\"table table-striped\"&gt;&lt;tbody class=\"files\" data-toggle=\"modal-gallery\" data-target=\"#modal-gallery\"&gt;&lt;/tbody&gt;&lt;/table&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;!-- The template to display files available for upload --&gt;\n&lt;script id=\"template-upload\" type=\"text/x-tmpl\"&gt;\n{% for (var i=0, file; file=o.files[i]; i++) { %}\n    &lt;tr class=\"template-upload fade\"&gt;\n        &lt;td class=\"preview\"&gt;&lt;span class=\"fade\"&gt;&lt;/span&gt;&lt;/td&gt;\n        &lt;td class=\"name\"&gt;&lt;span&gt;{%=file.name%}&lt;/span&gt;&lt;/td&gt;\n        &lt;td class=\"size\"&gt;&lt;span&gt;{%=o.formatFileSize(file.size)%}&lt;/span&gt;&lt;/td&gt;\n        {% if (file.error) { %}\n            &lt;td class=\"error\" colspan=\"2\"&gt;&lt;span class=\"label label-important\"&gt;{%=locale.fileupload.error%}&lt;/span&gt; {%=locale.fileupload.errors[file.error] || file.error%}&lt;/td&gt;\n        {% } else if (o.files.valid &amp;&amp; !i) { %}\n            &lt;td&gt;\n                &lt;div class=\"progress progress-success progress-striped active\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\"&gt;&lt;div class=\"bar\" style=\"width:0%;\"&gt;&lt;/div&gt;&lt;/div&gt;\n            &lt;/td&gt;\n            &lt;td class=\"start\"&gt;{% if (!o.options.autoUpload) { %}\n                &lt;button class=\"btn btn-primary\"&gt;\n                    &lt;i class=\"icon-upload icon-white\"&gt;&lt;/i&gt;\n                    &lt;span&gt;{%=locale.fileupload.start%}&lt;/span&gt;\n                &lt;/button&gt;\n            {% } %}&lt;/td&gt;\n        {% } else { %}\n            &lt;td colspan=\"2\"&gt;&lt;/td&gt;\n        {% } %}\n        &lt;td class=\"cancel\"&gt;{% if (!i) { %}\n            &lt;button class=\"btn btn-warning\"&gt;\n                &lt;i class=\"icon-ban-circle icon-white\"&gt;&lt;/i&gt;\n                &lt;span&gt;{%=locale.fileupload.cancel%}&lt;/span&gt;\n            &lt;/button&gt;\n        {% } %}&lt;/td&gt;\n    &lt;/tr&gt;\n{% } %}\n&lt;/script&gt;\n&lt;!-- The template to display files available for download --&gt;\n&lt;script id=\"template-download\" type=\"text/x-tmpl\"&gt;\n{% for (var i=0, file; file=o.files[i]; i++) { %}\n    &lt;tr class=\"template-download fade\"&gt;\n        {% if (file.error) { %}\n            &lt;td&gt;&lt;/td&gt;\n            &lt;td class=\"name\"&gt;&lt;span&gt;{%=file.name%}&lt;/span&gt;&lt;/td&gt;\n            &lt;td class=\"size\"&gt;&lt;span&gt;{%=o.formatFileSize(file.size)%}&lt;/span&gt;&lt;/td&gt;\n            &lt;td class=\"error\" colspan=\"2\"&gt;&lt;span class=\"label label-important\"&gt;{%=locale.fileupload.error%}&lt;/span&gt; {%=locale.fileupload.errors[file.error] || file.error%}&lt;/td&gt;\n        {% } else { %}\n            &lt;td class=\"preview\"&gt;{% if (file.thumbnail_url) { %}\n                &lt;a href=\"{%=file.url%}\" title=\"{%=file.name%}\" rel=\"gallery\" download=\"{%=file.name%}\"&gt;&lt;img src=\"{%=file.thumbnail_url%}\"&gt;&lt;/a&gt;\n            {% } %}&lt;/td&gt;\n            &lt;td class=\"name\"&gt;\n                &lt;a href=\"{%=file.url%}\" title=\"{%=file.name%}\" rel=\"{%=file.thumbnail_url&amp;&amp;'gallery'%}\" download=\"{%=file.name%}\"&gt;{%=file.name%}&lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td class=\"size\"&gt;&lt;span&gt;{%=o.formatFileSize(file.size)%}&lt;/span&gt;&lt;/td&gt;\n            &lt;td colspan=\"2\"&gt;&lt;/td&gt;\n        {% } %}\n        &lt;td class=\"delete\"&gt;\n            &lt;button class=\"btn btn-danger\" data-type=\"{%=file.delete_type%}\" data-url=\"{%=file.delete_url%}\"&gt;\n                &lt;i class=\"icon-trash icon-white\"&gt;&lt;/i&gt;\n                &lt;span&gt;{%=locale.fileupload.destroy%}&lt;/span&gt;\n            &lt;/button&gt;\n            &lt;input type=\"checkbox\" name=\"delete\" value=\"1\"&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n{% } %}\n&lt;/script&gt;\n</code></pre>\n\n<p>Then, the backbone part</p>\n\n<p>js/views/resources.js (render the template):</p>\n\n<pre><code>window.ResourcesView = Backbone.View.extend({\n\n    initialize:function () {\n        this.render();\n        $('#fileupload').fileupload();\n           $('#fileUpload', this.el).fileupload('option', {\n           url: '/resources'\n        });\n    },\n\n    render:function () {\n        $(this.el).html(this.template());\n        return this;\n    }\n\n});\n</code></pre>\n\n<p>main.js :</p>\n\n<pre><code>var AppRouter = Backbone.Router.extend({\n\n    routes: {\n        \"resources\"         : \"resources\"},\n    resources: function(){\n        if (!this.resourcesView) {\n            this.resourcesView = new ResourcesView();\n        }\n        $('#content').html(this.resourcesView.el);\n\n        this.leftMenuView.selectMenuItem('resource-link');\n\n    }\n});\n\nutils.loadTemplate(['ResourcesView' ], function() {\n    app = new AppRouter();\n    Backbone.history.start();\n});\n</code></pre>\n\n<p>And finally, my index.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;MPact App&lt;/title&gt;\n    &lt;meta name=\"description\" content=\"\"&gt;\n    &lt;meta name=\"author\" content=\"\"&gt;\n\n    &lt;style&gt;\n        body {\n            padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */\n        }\n    &lt;/style&gt;\n    &lt;link href=\"css/bootstrap.css\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"css/styles.css\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"css/docs.css\" rel=\"stylesheet\"&gt;\n\n    &lt;!-- Generic page styles --&gt;\n    &lt;link rel=\"stylesheet\" href=\"plugin/jquery-fileupload/css/style.css\"&gt;\n\n    &lt;!-- CSS to style the file input field as button and adjust the Bootstrap progress bars --&gt;\n    &lt;link rel=\"stylesheet\" href=\"plugin/jquery-fileupload/css/jquery.fileupload-ui.css\"&gt;\n&lt;/head&gt;\n\n&lt;body data-spy=\"scroll\" data-target=\".subnav\" data-offset=\"50\"&gt;\n\n&lt;div class=\"header\"&gt;&lt;/div&gt;\n\n&lt;div class=\"container-fluid\"&gt;\n    &lt;div id=\"left-menu\" class=\"sidebar left\"&gt;&lt;/div&gt;\n    &lt;div class=\"content fixed-fixed\"&gt;\n        &lt;div id=\"content\" class=\"span12&gt;\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;  \n\n&lt;script src=\"lib/jquery-1.7.2.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"lib/underscore-min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"lib/backbone-min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"lib/bootstrap.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"lib/backbone-min.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"js/utils.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/views/resources.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Plugin instance--&gt;\n&lt;script src=\"plugin/jquery-fileupload/js/vendor/jquery.ui.widget.js\"&gt;&lt;/script&gt;\n&lt;!-- The Templates plugin is included to render the upload/download listings --&gt;\n&lt;script src=\"http://blueimp.github.com/JavaScript-Templates/tmpl.min.js\"&gt;&lt;/script&gt;\n&lt;!-- The Load Image plugin is included for the preview images and image resizing functionality --&gt;\n&lt;script src=\"http://blueimp.github.com/JavaScript-Load-Image/load-image.min.js\"&gt;&lt;/script&gt;\n&lt;!-- The Canvas to Blob plugin is included for image resizing functionality --&gt;\n&lt;script src=\"http://blueimp.github.com/JavaScript-Canvas-to-Blob/canvas-to-blob.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Bootstrap JS and Bootstrap Image Gallery are not required, but included for the demo --&gt;\n&lt;script src=\"http://blueimp.github.com/cdn/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://blueimp.github.com/Bootstrap-Image-Gallery/js/bootstrap-image-gallery.min.js\"&gt;&lt;/script&gt;\n&lt;!-- The Iframe Transport is required for browsers without support for XHR file uploads --&gt;\n&lt;script src=\"plugin/jquery-fileupload/js/jquery.iframe-transport.js\"&gt;&lt;/script&gt;\n&lt;!-- The basic File Upload plugin --&gt;\n&lt;script src=\"plugin/jquery-fileupload/js/jquery.fileupload.js\"&gt;&lt;/script&gt;\n&lt;!-- The File Upload file processing plugin --&gt;\n&lt;script src=\"plugin/jquery-fileupload/js/jquery.fileupload-fp.js\"&gt;&lt;/script&gt;\n&lt;!-- The File Upload user interface plugin --&gt;\n&lt;script src=\"plugin/jquery-fileupload/js/jquery.fileupload-ui.js\"&gt;&lt;/script&gt;\n&lt;!-- The localization script --&gt;\n&lt;script src=\"plugin/jquery-fileupload/js/locale.js\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["c#","mvc","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":191,"score":0,"question_id":10953406,"title":"Struggling With Conditional Validation MVC 3","body":"<p>been trying to fix this for a few days now and just cant get it to work! </p>\n\n<p>i have a radio button list which determines the output of a form - one of the radio buttons is to download X amount of files. this radio button has a text box for the user to enter the amount (X) they wish to download.</p>\n\n<p>i only need this textbox to validate if the radio button that corresponds to it is selected - this is what i have so far but cannot get it to work. any help would be appriciated.</p>\n\n<p>MODEL</p>\n\n<pre><code>public class myClass\n\n{\n       [Required(ErrorMessage = \"Please select the type of output you wish to generate\")]\n       public int providerType { set; get; }\n\n\n       public int? numOutput { set; get; }\n\n\n       public IEnumerable&lt;ValidationResult&gt; Validate(ValidationContext validationContext)\n       {\n           if (providerType == 2 &amp;&amp; numOutput == null)\n               yield return new ValidationResult(\"Description must be supplied.\");\n       }\n\n}\n</code></pre>\n\n<p>CONTROLLER</p>\n\n<pre><code>    [AcceptVerbs(HttpVerbs.Post)]\n    [HttpPost, ValidateInput(false)]\n    public ActionResult Spin(myClass theData)\n\n    {\n\n        int? ProviderType = Convert.ToInt16(Request.Form[\"providerType\"]);\n\n        if (ModelState.IsValid)\n        {\n\n            //other random processing\n\n        }\n\n    }\n</code></pre>\n\n<p>VIEW</p>\n\n<pre><code>   &lt;ul&gt;\n&lt;li&gt;\n  &lt;%=Html.RadioButton(\"ProviderType\",\"1\")%&gt;&lt;label&gt;Output A Single Article (With Visible HTML Tags)&lt;/label&gt;\n &lt;/li&gt;\n &lt;li&gt;\n  &lt;%=Html.RadioButton(\"ProviderType\",\"4\")%&gt;&lt;label&gt;Output A Single Article (With HTML Pre Rendered - Not Recommended For Articles With Videos)&lt;/label&gt;\n &lt;/li&gt;\n  &lt;li&gt;\n  &lt;%=Html.RadioButton(\"ProviderType\", \"3\")%&gt;&lt;label&gt;Output For Mass Submission&lt;/label&gt; \n  &lt;/li&gt;\n\n &lt;li&gt;\n  &lt;%=Html.RadioButton(\"ProviderType\", \"2\")%&gt;&lt;label&gt;Download Several Copies Of Article (With Visible HTML Tags)&lt;/label&gt;\n How Many Artilces (Max 20) \n\n            &lt;%= Html.TextBoxFor(Model =&gt; Model.numOutput)%&gt;\n             &lt;%= Html.ValidationMessageFor(Model =&gt; Model.numOutput)%&gt;\n</code></pre>\n\n<p></li></p>\n\n<p></p>\n\n<p>im still new to MVC so im probably doing something stupid here - any help is much appriciated. The error im getting is that when i select the radio button and dont enter anything in the textbox \"Input string was not in a correct format.\" so obviously the validation is not firing - cant quite figure out why.</p>\n"},{"tags":["jquery","json","wcf","silverlight","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":11546766,"title":"Proper Service to Use for Silverlight/JavaScript","body":"<p>We're starting a new large project at work, and intend to do the UI in silverlight.  We'd like to be able to switch to HTML/JQuery later without re-writing the entire service endpoint.</p>\n\n<p>What would be the standard approach to this in the Microsoft Service Stack?</p>\n\n<p>Forgive the breadth of this question.  I'm new to Silverlight.</p>\n\n<p>My inclination is to lean towards RESTFul JSON, which I already know how to do with MVC controllers pretty well.  But Silverlight seems to want (require?) WCF Services.  I looked at AJAX-Enabled WCF Services, but the intent there seems to be Webforms/ScriptManager.</p>\n\n<p>Please point me in the right direction.  The end goal is to have a single service endpoint that can support both JavaScript and Silverlight clients.  If there is not a relatively simple solution, that is a fine answer as well.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","mvc","web-applications","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":11141840,"title":"Application Layout with Groups of single items in Python","body":"<p>I am coming from the PHP world, worked a lot with Joomla. Now I am building a Python web application and I my first step is to create a user management when I faced a very basic question: How do you manage all users in one class, when your model represents only a single database row.</p>\n\n<p>An example will make this more clear. Here's what Joomla did:</p>\n\n<pre><code>JUser::getInstance($userid)\n</code></pre>\n\n<p>What this did was there is the class <code>JUser</code> and it has a static method <code>getInstance()</code> that operated on a static variable that was valid among all instances. In this way, <code>JUser</code> managed all Users while only representing <em>one</em> user as an instance of the class.</p>\n\n<p>Now on Python I use SQLAlchemy and have a class like this:</p>\n\n<pre><code>class User(Base):\n</code></pre>\n\n<p>... and so on. Before I now start doing crappy stuff coming over from a crappy PHP world,  I wanted to know: What is the correct and clean approach here? Build a new <code>Users</code> class that holds all users? Or is this static-method approach a good concept?</p>\n\n<p>I have been googling for some time but I can't seem to find something on this topic: Building larger applications in Python with the  MV(C) model. Anyone have any good links on this I could read?</p>\n\n<p>In a more specifc way: How do I solve this problem?</p>\n"},{"tags":["python","django","mvc","dry"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":11458424,"title":"DRY views in Django","body":"<p>I have built an application that has a lot of similar views that should be able to use the same base code. However each method has certain unique characteristics at various inflection points within the methods such that I can't figure out a way to structure this to actually reuse any code.  Instead I've created a cut-and-paste methodology and tweaked each method individually. This part of the application was some of the first Python code I ever wrote and know there must be a better way to do this, but I got locked into doing it this way and \"it works\" so I can't see a way out.</p>\n\n<p>Here's what the base view template essentially looks like:</p>\n\n<pre><code>def view_entity(request, entity_id=None):\n    if request.method == 'POST':\n        return _post_entity(request, entity_id)\n    else:\n        return _get_entity(request, entity_id)\n\ndef _get_entity(request, entity_id):\n    data = _process_entity(request, entity_id)\n    if 'redirect' in data:\n        return data['redirect']\n    else:\n        return _render_entity(request, data['form'])\n\ndef _post_entity(request, entity_id):\n    data = _process_entity(request, entity_id)\n    if 'redirect' in data:\n        return data['redirect']\n    elif data['form'].is_valid():\n        # custom post processing here\n        instance = data['form'].save()\n        return HttpResponseRedirect(reverse('entity', args=[instance.id]))\n    else:\n        return _render_entity(request, data['form'])\n\n\ndef _process_entity(request, entity_id):\n    data = {}\n\n    if entity_id != 'new':  # READ/UPDATE\n        # sometimes there's custom code to retrieve the entity\n        e = entity_id and get_object_or_404(Entity.objects, pk=entity_id)\n        # sometimes there's custom code here that deauthorizes e\n        # sometimes extra values are added to data here (e.g. parent entity)\n        if e:\n            if request.method == 'POST':\n                data['form'] = EntityForm(request.POST, instance=e)\n                # sometimes there's a conditional here for CustomEntityForm\n            else:\n                data['form'] = EntityForm(instance=e)\n        else:  # user not authorized for this entity\n            return {'redirect': HttpResponseRedirect(reverse('home'))}\n        # sometimes there's custom code here for certain entity types\n\n    else:  # CREATE\n        if request.method == 'POST':\n            data['form'] = EntityForm(request.POST)\n        else:\n            data['form'] = EntityForm()\n\n    # sometimes extra key/values are added to data here\n    return data\n</code></pre>\n\n<p>I didn't even include all the possible variations, but as you can see, the <code>_process_entity</code> method requires a lot of individual customization based upon the type of entity being processed.  This is the primary reason I can't figure out a DRY way to handle this.</p>\n\n<p>Any help is appreciated, thanks!</p>\n"},{"tags":["php","mvc","email","login","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":3148100,"title":"Model or Library class","body":"<p>Im going to do an Email class for sending emails in my MVC framework.\nI also have a login class that just checks if the user is in the database.</p>\n\n<p>Should I put those classes in the library folder or should I implement them as models?</p>\n\n<p>I tried to do search but couldnt find straight answer..</p>\n"},{"tags":["c#","mvc","rest"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":718,"score":3,"question_id":10797041,"title":"How to Handle WebFaultException to return CustomException?","body":"<p>I made my custom exception that will be thrown inside try-catch each time an error is occured:  </p>\n\n<pre><code>[Serializable]\npublic class CustomException : Exception\n{\n    public CustomException() { }\n\n    public CustomException(string message)\n        : base(message) { }\n\n    public CustomException(string message, Exception innerException)\n        : base(message, innerException) { }\n}  \n</code></pre>\n\n<p>I have two services, REST and SOAP. For SOAP services, I don't have any problem on throwing my custom exception.\nBut in REST, I encountered a lot of difficulties.  </p>\n\n<p>Here is the method for throwing a WebFaultException:  </p>\n\n<pre><code>    public static WebFaultException RestGetFault(ServiceFaultTypes fault)\n    {\n        ServiceFault serviceFault = new ServiceFault();\n        serviceFault.Code = (int)fault;\n        serviceFault.Description = ConfigAndResourceComponent.GetResourceString(fault.ToString());\n        FaultCode faultCode = new FaultCode(fault.ToString());\n        FaultReasonText faultReasonText = new FaultReasonText(serviceFault.Description);\n        FaultReason faultReason = new FaultReason(faultReasonText);\n        WebFaultException&lt;ServiceFault&gt; webfaultException = new WebFaultException&lt;ServiceFault&gt;(serviceFault, HttpStatusCode.InternalServerError);\n\n        throw webfaultException;\n    }  \n</code></pre>\n\n<p>ServiceFault is a class where it has some properties which I use to put all information I need.</p>\n\n<p>I use this method to throw an exception inside REST service:  </p>\n\n<pre><code>    public static CustomException GetFault(ServiceFaultTypes fault)\n    {\n        string message = fault.ToString();\n        CustomException cusExcp = new CustomException(message, new Exception(message));\n        throw cusExcp;\n    }  \n</code></pre>\n\n<p>A sample REST Service (log in method):  </p>\n\n<pre><code>    [WebInvoke(UriTemplate = \"Login\", Method = \"POST\", ResponseFormat = WebMessageFormat.Json, RequestFormat = WebMessageFormat.Json, BodyStyle = WebMessageBodyStyle.WrappedRequest)]\n    public Session Login(ClientCredentials client, LogCredentials loginfo)\n    {\n        try\n        {\n            // Login process\n            return copied;\n        }\n        catch (LogicClass.CustomException ex)\n        {\n            LogicClass.RestGetFault(LogicClass.EnumComponent.GetServiceFaultTypes(ex.Message));\n            throw ex;\n        }\n    }  \n</code></pre>\n\n<p>The MVC part:</p>\n\n<p>Controller:  </p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Login(LoginCredentials loginfo)\n    {\n        try\n        {\n            string param = \"{\\\"client\\\":\" + JSonHelper.Serialize&lt;ClientAuthentication&gt;(new ClientAuthentication() { SessionID = Singleton.ClientSessionID })\n                           + \", \\\"loginfo\\\":\" + JSonHelper.Serialize&lt;LoginCredentials&gt;(loginfo) + \"}\";\n\n            string jsonresult = ServiceCaller.Invoke(Utility.ConstructRestURL(\"Authenticate/Login\"), param, \"POST\", \"application/json\");\n            UserSessionDTO response = JSonHelper.Deserialize&lt;UserSessionDTO&gt;(jsonresult);\n\n        }\n        catch (Exception ex)\n        {\n            return Json(new\n            {\n                status = ex.Message,\n                url = string.Empty\n            });\n        }\n\n        return Json(new\n        {\n            status = \"AUTHENTICATED\",\n            url = string.IsNullOrWhiteSpace(loginfo.r) ? Url.Action(\"Index\", \"Home\") : loginfo.r\n        });\n    }  \n</code></pre>\n\n<p>I use ServiceCaller.Invoke to call REST API and retrieve the response:\nServiceCaller.cs  </p>\n\n<pre><code>public class ServiceCaller\n{\n    public static string Invoke(string url, string parameters, string method, string contentType)\n    {\n        string results = string.Empty;\n        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(new Uri(url));\n        request.Method = method;\n        request.ContentType = contentType;\n\n        if (!string.IsNullOrEmpty(parameters))\n        {\n            byte[] byteArray = Encoding.UTF8.GetBytes(parameters);\n            request.ContentLength = byteArray.Length;\n            Stream dataStream = request.GetRequestStream();\n            dataStream.Write(byteArray, 0, byteArray.Length);\n            dataStream.Close();\n        }\n\n        try\n        {\n            HttpWebResponse response = (HttpWebResponse)request.GetResponse();\n            if (HttpStatusCode.OK == response.StatusCode)\n            {\n                Stream responseStream = response.GetResponseStream();\n                int length = (int)response.ContentLength;\n\n                const int bufSizeMax = 65536;\n                const int bufSizeMin = 8192;\n                int bufSize = bufSizeMin;\n\n                if (length &gt; bufSize) bufSize = length &gt; bufSizeMax ? bufSizeMax : length;\n\n                byte[] buf = new byte[bufSize];\n                StringBuilder sb = new StringBuilder(bufSize);\n\n                while ((length = responseStream.Read(buf, 0, buf.Length)) != 0)\n                    sb.Append(Encoding.UTF8.GetString(buf, 0, length));\n\n                results = sb.ToString();\n            }\n            else\n            {\n                results = \"Failed Response : \" + response.StatusCode;\n            }\n        }\n        catch (Exception exception)\n        {\n            throw exception;\n        }\n\n        return results;\n    }\n}  \n</code></pre>\n\n<p>I am expecting the REST service to return this on client side:  </p>\n\n<p><img src=\"http://i.stack.imgur.com/aAphp.png\" alt=\"enter image description here\">  </p>\n\n<p>But in the end, it always return this:  </p>\n\n<p><img src=\"http://i.stack.imgur.com/V5Z8I.png\" alt=\"enter image description here\">  </p>\n\n<p>What should I do? Please help.</p>\n\n<p><strong>EDIT</strong>  </p>\n\n<p>Here is the sample response when calling the soap service:  </p>\n\n<pre><code>[FaultException: InvalidLogin]\n   System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg) +9441823  \n</code></pre>\n\n<p>Did you see the \"InvalidLogin\" ? That is what I want to see on the response from REST servivce.<br>\nSample response from REST:  </p>\n\n<pre><code>[WebException: The remote server returned an error: (500) Internal Server Error.]\n   System.Net.HttpWebRequest.GetResponse() +6115971  \n</code></pre>\n\n<p>I throw a <code>WebFaultException</code> but I receive a <code>WebException</code>.<br>\nIf I won't be able to fetch the exact error message on REST, I will go for SOAP.<br>\nThanks for the answers.</p>\n"},{"tags":["jquery","asp.net-mvc","mvc","drop-down-menu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":10443130,"title":"Jquery getJSON not firing controller method","body":"<p>I am trying to implement cascading dropdown list for which I have created following script:</p>\n\n<pre><code>$(document).ready(function () {\n            var district = $(\"#ddlDistrict\");\n            $('#ddlState').change(function () {\n                //                district.find('option').remove();\n                var cd = $(this).val();\n                alert(cd);\n                var url = '&lt;!--Url.Content(\"~/\")--&gt;' + 'Stranger1/GetDistrict';\n                $.getJSON(\"/Stranger1/GetDistrict?state=\"+cd, { id: cd }, function (data) {\n                    //Clear the Department list\n                    $(\"#ddlDistrict\").empty();\n                    $.each(data,function (index, optionData) {\n                    $(\"#ddlDistrict\").append(\"&lt;option value=\" + optionData.Value + \"&gt;\" + optionData.Text + \"&lt;/option&gt;\");\n                    });\n                });\n            });\n        });\n</code></pre>\n\n<p>The alert(cd) is giving the correct value. But the second dropdown list is not showing the result and the getJSON method is not firing the GetDistrict method.</p>\n\n<p>The lists in my view are:</p>\n\n<pre><code>@Html.DropDownList(\"ddlState\", (IEnumerable&lt;SelectListItem&gt;)ViewData[\"StateType\"])\n@Html.DropDownList(\"ddlDistrict\",new List&lt;SelectListItem&gt;() )\n</code></pre>\n\n<p>Following is the controller:</p>\n\n<pre><code>public JsonResult GetDistrict(int id)\n{\n    JsonResult result = new JsonResult(); \n    IEnumerable&lt;SelectListItem&gt; district = new SelectList(db.sp_get_district(id, 99).Select(r =&gt; new SelectListItem { Value = r.DISTRICT_CD.ToString(), Text = r.DISTRICT }), \"value\", \"text\");\n\n    result.Data = district.ToList(); \n    result.JsonRequestBehavior = JsonRequestBehavior.AllowGet; \n    return result;   \n}\n</code></pre>\n\n<p>Am I missing something?</p>\n"},{"tags":["ruby-on-rails","mvc","rake","twilio"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":11535450,"title":"Rails MVC model/controller conceptual issue","body":"<p>This is more of a conceptual question involving MVC implementation in Rails. Let me know if I need to post actual code but it shouldn't be necessary.</p>\n\n<p>The basic situation is this: </p>\n\n<ul>\n<li>I need to regularly run a rake task (via cron or other scheduler) to add and modify data in two database tables. One table is essentially a schedule of emails/reminder messages to send at different times. The other table stores the messages that were successfully sent along with additional data.</li>\n<li>Apparently it is considered bad form to have this rake task call a controller action, which means the logic needs to go in a model. But changes are being made to two tables, so which of the two models should hold the logic?</li>\n<li>Alternatively, the logic could just take place in the rake task itself</li>\n<li>When certain table modifications happen, some users will also need to get a message via SMS to on their cell phones (using Twilio)</li>\n<li>However, Twilio's instructions say to put the call to their external API in a controller action. But how is this controller action called, if the logic called by the rake task is happening in one of the models? This also seems to be bad form.</li>\n</ul>\n\n<p>So the question basically becomes, the logic of executing a scheduled message should go go in a) a model b) a controller action or c) the rake task itself. And then how is the Twilio API call made.</p>\n\n<p>Any and all thoughts are appreciated.</p>\n"},{"tags":["asp.net-mvc","mvc","routing","routes","asp.net-mvc-routing"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":431,"score":3,"question_id":4456449,"title":"Dynamic/Editable MVC routes stored in the database for blog engine","body":"<p>I'm planning to write an MVC blog engine, supporting multiple blogs. When creating a blog the user will be able to choose the path where his blog will be accessed. </p>\n\n<p>For example:</p>\n\n<p>/blogs/<strong>firstBlog</strong>/</p>\n\n<p>/newprojects/<strong>secondBlog</strong>/</p>\n\n<p>/foo/bar/<strong>thirdblog</strong>/</p>\n\n<p>This route information will be stored in the database. Instead of MVC using only the routes statically declared in Global.asax.cs, I'd like it to read the routes from the database first. Then if it doesn't find anything, fallback on the routes declared in Global.asax.cs. Is this possible? If yes what would you suggest to accomplish that?</p>\n\n<p>Thanks</p>\n"},{"tags":["mvc","tree","sencha-touch-2","store","nested-lists"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":11541580,"title":"Dependent Views and Stores in Sencha Touch 2","body":"<p>is it possible to have a NestedList with different stores on each node-level?</p>\n\n<p>What I want to achieve is a list with categories with items that if you click on (loads via ajax) child-nodes and so on.</p>\n\n<p>It would just be too much to load the whole tree at once.</p>\n\n<p>One way I can think of is to define loose views with related stores and link them to each other.</p>\n\n<p>The other way, that I did not try yet, could be to use a TreeStore but I don't know if it is possible to load parts of it on demand.</p>\n\n<p>Any suggestions on how to implement this?</p>\n\n<p>Thx for your help in advance</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":194,"score":1,"question_id":11539577,"title":"Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id .. amistad views?","body":"<p>I am using amistad as a friends controller. now I want to add friend but the error I get is :</p>\n\n<pre><code>Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id..\n</code></pre>\n\n<p>this is my link to add friend :</p>\n\n<pre><code>&lt;section&gt;\n      &lt;h1&gt;\n        &lt;%= @user.username %&gt;\n      &lt;/h1&gt;\n\n    &lt;% unless current_user == @user  %&gt;\n&lt;%= link_to \"Arkadaşlarıma Ekle\", friends_path(:friend_id =&gt; @user), :method =&gt; :post,class: \"btn btn-large btn-primary\" %&gt;\n    &lt;%end %&gt;\n      &lt;/section&gt;\n</code></pre>\n\n<p>and my friendships_controller.rb:</p>\n\n<pre><code>class FriendshipsController &lt; ApplicationController\n\n  before_filter :authenticate_user!\n\n  def index\n    @friends = current_user.friends\n    @pending_invited_by = current_user.pending_invited_by\n    @pending_invited = current_user.pending_invited\n  end\n\n  def new\n    @users = User.all :conditions =&gt; [\"id != ?\", current_user.id]\n  end\n\n  def create\n    invitee = User.find_by_id(params[:user_id])\n    if current_user.invite invitee\n      redirect_to new_friend_path, :notice =&gt; \"Successfully invited friend!\"\n    else\n      redirect_to new_friend_path, :notice =&gt; \"Sorry! You can't invite that user!\"\n    end\n  end\n\n  def update\n    inviter = User.find_by_id(params[:id])\n    if current_user.approve inviter\n      redirect_to new_friend_path, :notice =&gt; \"Successfully confirmed friend!\"\n    else\n      redirect_to new_friend_path, :notice =&gt; \"Sorry! Could not confirm friend!\"\n    end\n  end\n\n  def requests\n    @pending_requests = current_user.pending_invited_by\n  end\n\n  def invites\n    @pending_invites = current_user.pending_invited\n  end\n\n  def destroy\n    user = User.find_by_id(params[:id])\n    if current_user.remove_friendship user\n      redirect_to friends_path, :notice =&gt; \"Successfully removed friend!\"\n    else\n      redirect_to friends_path, :notice =&gt; \"Sorry, couldn't remove friend!\"\n    end\n  end \n\nend \n</code></pre>\n\n<p>how can i arrange the correct views for amistad ? is there a tutorial?</p>\n"},{"tags":["java","mvc","playframework"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":49,"score":4,"question_id":11523981,"title":"Intercept Variable Type validation in Routes file","body":"<p>I've started working on Play almost a week ago, what I'm trying to do right now is to intercept type validation done by routes file.\nI'm doing fully server programming, no forms are involved all the data I get is through uri.Now consider following Rout</p>\n\n<pre><code>    GET /send/request/*to/*from     controllers.Req_controller.sendRequest(to: Int, from:Int)\n</code></pre>\n\n<p>if I'll enter a non numeric character or a string instead of an integer, It'll give me type violation error.\nI don't want play to do this, i want to handle these errors myself, returning a JSon object is a good option.</p>\n\n<p>But I don't want,</p>\n\n<pre><code>  Bad request  For request 'GET /send/request/3/f' [Cannot parse parameter from as Int: For input string: \"f\"] \n</code></pre>\n\n<p>Help will be highly appreciated</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":11535016,"title":"To display Gender with name instead of showing true or false.","body":"<p>I have 2 tables candidate and job. candidate table have gender field. job table have male and female. if click the job or candidate it will go to the details page. In this page i have gender like 0 or 1. it doesn't show the name male or female. Because in table i stored values like 0 or 1 only. but i need the UI page must display the name.i need help.</p>\n\n<p>my code is in details page,</p>\n\n<pre><code>&lt;p&gt;\n      &lt;strong&gt;Gender :&lt;/strong&gt;\n      &lt;%: Html.Encode(Model.Gender) %&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>i have an idea. To give if condition this one how to code?</p>\n"},{"tags":["php","mvc","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":173,"score":0,"question_id":11532319,"title":"How to call a seperate controller inside another in opencart","body":"<p>Does anyone have any idea how to call a controller inside another controller and get its output into a variable. </p>\n\n<p>Here's an example.</p>\n\n<p>In opencarts default checkout controller page, shipping address (and new address form) are loaded via ajax calls from a controller (checkout/payment_address) </p>\n\n<p>I want to call this controller (checkout/payment_address) from another controller and get its output into a variable.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["php","mvc","clean-urls"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":11532548,"title":"How to achieve clean URLs without a 'fat' controller?","body":"<p>Recently i've been learning how to implement an MVC structure in my applications. I'm planning to use a PHP framework in the near future, but for now it's just pure PHP. I've learned that controllers should be 'skinny' and models should be 'fat', but can't seem to understand how this can go hand in hand with clean URLs.</p>\n\n<p>At the company where I'm doing my internship I'm developing a web-based application to perform CRUD actions on 3 different tables in a database. Each of the tables has its own specific fields, which means that for each of those tables there are 4 views needed (1 for each CRUD action).</p>\n\n<p>I want to make use of clean URL's, so right now i have 1 (only one) controller (index.php) which splits up the URL in segments and analyzes them, calling the specific methods and views for each segment, or (if needed) redirecting the user to a correct URL.</p>\n\n<p>Right now the controller contains close to 1000 lines of code. I always read that controllers should be 'skinny', and see people talking about multiple controllers in one application. I can't seem to understand how to implement this in combination with clean URLs...</p>\n\n<p>Any help would be much appreciated. At the company I'm doing my internship at there's just a web designer, so I can't ask him any programming-related questions...</p>\n\n<p>Below is a basic representation of my controller (index.php)</p>\n\n<pre><code>// Check if user is logged in\nif (isset($_SESSION['username']) AND isset($_SESSION['loggedIn'])) {\n\n    // Get URL from $_SERVER\n    $url = $_SERVER['REQUEST_URI'];\n\n    // Split URL and assign values to $url\n    $url = trim($url, \"/\");\n    $url = explode('/', $url);\n\n    // Remove first url segment (index.php) for convenience\n    array_shift($url);\n\n    // Check if 1st URL segment (category) is set\n    if (isset($url[1])) {\n        $category = $url[1];\n\n        // Check if category is 'apples'\n        if ($category == 'apples') {\n\n            // Check if 2nd URL segment (action) is set\n            if (isset($url[2])) {\n                $action = $url[2];\n\n                // Check if action is 'add'\n                if ($action == 'add') {\n                    // Calls to Model\n                    // Include Presentation (form to add new record to 'apples' category)\n                }\n\n                // Check if action is 'view'\n                elseif ($action == 'view') {\n                    // Calls to Model\n                    // Include Presentation (list of all records in the 'apples' table)\n                }\n\n                // Check if action is 'edit'\n                elseif ($action == 'edit') {\n\n                    // Check if 3d URL segment (id) is set\n                    if (isset($url[3])) {\n                        $id = $url[3];\n\n                        // Calls to Model\n                        // Include Presentation (form to edit record of the 'apples' category);\n                    }\n\n                    // If 3d URL segment (id) is not set then redirect\n                    else {\n                        header('Location: index.php/$category/view');\n                    }\n                }\n\n                // Check if action is 'delete'\n                elseif ($action == 'delete') {\n\n                    // Check if 3d URL segment (id) is set\n                    if (isset($url[3])) {\n                        $id = $url[3];\n\n                        // Calls to Model\n                        // Include Presentation (form to edit record of the 'apples' category);\n                    }\n\n                    // If 3d URL segment (id) is not set then redirect\n                    else {\n                        header('Location: index.php/$category/view');\n                    }\n                }\n\n                // If 2nd URL segment (action) is invalid then assume user wants to view and redirect\n                else {\n                    header(\"Location: index.php/$category/view\");   \n                }\n            } \n\n            // If 2nd URL segment (category) is not set then assume user wants to view and redirect\n            else {\n                header(\"Location: index.php/$category/view\");\n            }\n\n        }\n\n        // Check if category is 'pineapples'\n        elseif ($category == 'pineapples') {\n            // same here as in 'apples' code block\n        }\n\n        // Check if category is 'pears'\n        elseif ($category == 'pears') {\n            // same here as in 'apples' code block\n        }\n\n        // If 1st URL segment (category) is invalid then redirect to index.php\n        else {\n            header('Location: index.php')\n        }\n    }\n\n    // If 1st URL segment (category) is not set then show category overview\n    else {\n        include 'presentation/category_overview.php';\n    }\n}\n\n// If user is not logged in then check if login form got submitted\nelseif($_POST['formSubmit'] == 'submit') {\n    // Calls to Model (form and user credentials validation)\n    // Include Presentation (category overview)\n}\n\n// If user is not logged in and did not submit login form then include view (login form)\nelse {\n    include 'presentation/login.php';\n}\n</code></pre>\n"},{"tags":["php","mvc",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":124,"score":1,"question_id":11532235,"title":".htaccess redirect url with controller name for MVC application","body":"<p>i am trying to build a mvc like application and i cant figure out the right .htaccess i need.</p>\n\n<p>I want something like:</p>\n\n<pre><code>RewriteRule ^(.*)/(.*)/(.*)$ $1.php?action=$2&amp;n=$3 [L]\n</code></pre>\n\n<p>so  i can access the file that contains the proper controller and two get variables from the url. The code above doesnt work, i have been around this for 2 days now and i cant find anything like what i need anywhere.What happens there is that the 3 variables are required at the url in order to work, and thats not what i want. Sugestions?</p>\n"},{"tags":["ajax","asp.net-mvc","mvc","kigg"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":294,"score":1,"question_id":634248,"title":"Is ASP.NET MVC flexible?","body":"<p>Can it easily be combined with jQuery, (ASP.NET) Ajax, ASP.NET webforms, other frameworks.\nWhat about pulling dynamic code from ASP.NET MVC into for example classic ASP?</p>\n\n<p>Does the MVC model mean that it is easy to customize code?</p>\n\n<p>Background:</p>\n\n<ol>\n<li>I have some experience that it can lead to problems to integrate frameworks relying on JavaScript with each other?</li>\n<li>We have a classic ASP where we write new stuff in ASP.NET, and include .aspx code in the ASP files.</li>\n<li>I am looking for some OS frameworks for stuff we need, and i think MVC based ones should be easier to adopt (KIGG)</li>\n</ol>\n"},{"tags":["asp.net-mvc","mvc","rest"],"answer_count":4,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":887,"score":7,"question_id":594898,"title":"ASP.NET MVC controller actions design","body":"<p>I really like the way ASP.NET MVC works. I'd love to implement it on all new web projects moving forward, but I hit a snag in a prototype the other day that I really haven't found a good solution for, so I ask you, how would you design an MVC app that doesn't fit the typical REST pattern? As an example, the prototype I was designing would have several pages, but the pages themselves aren't necessarily bound to a domain model. For example, take a simple registration site, which might have the following pages:</p>\n\n<ul>\n<li>/Default.aspx   </li>\n<li>/Register.aspx  </li>\n<li>/ThankYou.aspx</li>\n</ul>\n\n<p>Occasionally, such a program might require an admin section to deal with such details as moderating sign ups or reviewing data. In a standard ASP.NET web app, I might add the following</p>\n\n<ul>\n<li>/Admin/Default.aspx  </li>\n<li>/Admin/ListRegistrations.aspx  </li>\n<li>/Admin/ViewReports.aspx   ...</li>\n</ul>\n\n<p>Would it be an unacceptable deviation from the MVC pattern, in this case, to have two controllers such as:</p>\n\n<ul>\n<li>Home->Index  </li>\n<li>Home->Register  </li>\n<li>Home->ThankYou  </li>\n<li>Admin->Index  </li>\n<li>Admin->ListRegistrations  </li>\n<li>Admin->Reports</li>\n</ul>\n\n<p>My frustration with this is compounded by the fact that there is no real solid implementation of subcontrollers and areas yet. I'm aware of the \"Areas\" prototype put together by Phil Haack, but it's not very mature, and quite frankly, I'm not sure I like the way it's setup, but I don't really know how I'd like to see that work either.</p>\n\n<p>I guess when I think MVC, I tend to think REST as well, and having controller actions that represent pages rather than actual entities or actions doesn't sit right with me. What do you think?</p>\n"},{"tags":["qt","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":11529547,"title":"How would I use a QStyledItemDelegate to make only part of a view editable?","body":"<p>I'm trying to teach myself how to use the <code>QStyledItemDelegate</code> class correctly. Qt's got a fantastic example that I read here: <a href=\"http://doc.qt.nokia.com/4.7-snapshot/itemviews-spinboxdelegate.html\" rel=\"nofollow\">Qt Spin Box Delegate Example</a>. </p>\n\n<p>But here's a question I can't seem to answer. Let's take a look at their example screenshot. </p>\n\n<p><img src=\"http://i.stack.imgur.com/h9xGZ.png\" alt=\"Qt Spin Box Delegate Screenshot\"></p>\n\n<p>How would I write <code>SpinBoxDelegate</code> in their example such that I could only edit part of the data, say, only items in column 2?</p>\n"},{"tags":["c++","database","qt","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":113,"score":0,"question_id":11528557,"title":"Using QSqlTableModel to display an SQL view","body":"<p>I am working on an application which has a view which generates a report to display to the user. This report is something which I'm needing to filter. Using the SQL support in Qt I've tried using QSqlTableModel with its filtering capabilities, but it doesn't seem to find the view as I get the error \"Unable to find table TABLE_NAME\". How does one model a view in Qt? I've not been able to find any information specifically on that.</p>\n\n<pre><code>QSqlDatabase connection(Request_Connection(\"DB Name\"));\nQSqlTableModel* pStore(new QSqlTableModel(NULL, connection));\n\nif (connect(connection))\n    pStore-&gt;setTable(\"ViewName\");\n</code></pre>\n"},{"tags":["php","mvc","view"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":11527926,"title":"If i mount the view structure inside my controller, am i going out of MVC pattern?","body":"<p>If I have following code in my controller:</p>\n\n<pre><code> $this-&gt;view-&gt;print = \"&lt;form method='{$method}'&gt; //Some form things &lt;/form&gt;\";\n</code></pre>\n\n<p>And then I use execute <code>echo $this-&gt;print;</code> in my view, am I going out of the MVC pattern?</p>\n"},{"tags":["javascript","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":106,"score":-1,"question_id":11527715,"title":"How would you implement Controller in Javascript? (inside of self-made MVC)","body":"<p><strong>I want to implement <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">MVC</a> pattern in JavaScript, but I have a problem with Controller implementation.</strong></p>\n\n<p>MVC concepts are clear to me. I understand how MVC works. I don't think that events is appropriate way build a Controller. And there are a lot of dependences because of edition of the event in JavaScript.\nI would like to see some small example of implementation of MVC Controller in JavaScript.</p>\n\n<p><strong>p.s.</strong> I want to implement MVC pattern by using only JavaScript, but I don't want to use any MVC open-source frameworks.</p>\n\n<p><strong>p.s.</strong> I don't want you to do my homework, but I really don't understand how to imprelent Controller in JavaScript.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":11524036,"title":"How to do mvc in codeigniter","body":"<p>I've been using codeIgniter for 5 months now and I want to improve the way I write my code. Here's a method from a controller for users:</p>\n\n<pre><code>function create_user(){ \n\n         $user_data = array(\n            'username' =&gt; 'Username', 'firstname' =&gt; 'Firstname',\n            'middlename' =&gt; 'Middlename', 'lastname' =&gt; 'Lastname',\n            'password' =&gt; 'Password', 'department' =&gt; 'Department', \n            'role' =&gt; 'Role'\n        );\n\n        foreach ($user_data as $key =&gt; $value) {\n            $this-&gt;form_validation-&gt;set_rules($key, $value, 'required|trim');\n        }\n\n        if ($this-&gt;form_validation-&gt;run() == FALSE) {\n            $departments = $this-&gt;user_model-&gt;list_departments();\n            $it_roles = $this-&gt;user_model-&gt;list_roles(1);\n            $tc_roles = $this-&gt;user_model-&gt;list_roles(2);\n            $assessor_roles = $this-&gt;user_model-&gt;list_roles(3);\n\n            $data['data'] = array('departments' =&gt; $departments, 'it_roles' =&gt; $it_roles, 'tc_roles' =&gt; $tc_roles, 'assessor_roles' =&gt; $assessor_roles);\n\n            $data['content'] = 'admin/create_user';\n\n            parent::error_alert();\n            $this-&gt;load-&gt;view($this-&gt;_at, $data);\n\n        } else {\n            $username = $this-&gt;input-&gt;post('username');\n            $salt = $this-&gt;bcrypt-&gt;getSalt();\n            $hashed_password = $this-&gt;bcrypt-&gt;hash($this-&gt;input-&gt;post('password'), $salt);\n            $fname = $this-&gt;input-&gt;post('firstname');\n            $mname = $this-&gt;input-&gt;post('middlename');\n            $lname = $this-&gt;input-&gt;post('lastname');\n            $department = $this-&gt;input-&gt;post('department');\n            $role = $this-&gt;input-&gt;post('role');\n\n            $user_login     = array($username, $hashed_password, $salt);\n            $user_profile   = array($fname, $mname, $lname);\n            $this-&gt;user_model-&gt;register_user($user_login, $user_profile, $department, $role);\n\n            $data['content'] = 'admin/view_user';\n\n            parent::success_alert(4, 'User Sucessfully Registered!', 'You may now login using your account');\n\n\n            $data['data'] = array('username' =&gt; $username, 'fname' =&gt; $fname, 'mname' =&gt; $mname, 'lname' =&gt; $lname, 'department' =&gt; $department, 'role' =&gt; $role);\n            $this-&gt;load-&gt;view($this-&gt;_at, $data);\n        }\n\n    }\n</code></pre>\n\n<p>I basically cram in fetching of input, input validation, rendering views for errors or success, and other stuff in a single controller. What's the better way of doing this, how do you suggest I breakdown this function. Someone said that I should add a router/dispatcher between the view and the controller to handle <code>POST</code>, <code>GET</code>, <code>COOKIE</code> and <code>SESSION</code> but I don't have any idea how to do that.</p>\n\n<p>Any code samples, suggestions that would help me grasp the proper way of doing things will be accepted as an answer.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":10992006,"title":"How to make RedirectToAction in Controller extension","body":"<p>I'm trying to make an extension</p>\n\n<pre><code>public static ActionResult RedirectToIndexAction(this Controller controller)\n        {\n            return RedirectToAction(\"Index\");\n        }\n</code></pre>\n\n<p>for <code>RedirectToAction(\"Index\")</code> makes <code>RedirectToIndexAction();</code></p>\n"},{"tags":["mvc","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":196,"score":3,"question_id":11523072,"title":"Where to place business logic in Symfony2?","body":"<p>After reading a lot of posts and Stack Overflow resources, I've still got some problems about the famous question about \"where to put business logic?\" Reading <a href=\"http://stackoverflow.com/questions/9440519/symfony2-mvc-where-does-my-code-belong\">StackOverflow Question</a> and <a href=\"http://www.iamproblematic.com/demystifying-symfony2-controllers/\" rel=\"nofollow\">A Blog Post</a>, I believe I've understood the issue of code separation well.</p>\n\n<p>Suppose I have a web form where you can add a user that will be added to a db. This example involves these concepts:</p>\n\n<ul>\n<li>Form</li>\n<li>Controller</li>\n<li>Entity</li>\n<li>Service</li>\n<li>Repository</li>\n</ul>\n\n<p>If I didn't miss something, you have to create an entity with some properties, getters, setters and so on in order to make it persist into a db. If you want to fetch or write that entity, you'll use <code>entityManager</code> and, for \"non-canonical\" query, <code>entityRepository</code> (that is where you can fit your \"query language\" query).</p>\n\n<p>Now you have to define a service (that is a PHP class with a \"lazy\" instance) for all business logic; this is the place to put \"heavy\" code. Once you've recorded the service into your application, you can use it almost everywhere and that involves code reuse and so on.</p>\n\n<p>When you render and post a form, you bind it with your entity (and with constraints of course) and use all the concepts defined above to put all together.</p>\n\n<p>So, \"old-me\" would write a controller's action in this way:</p>\n\n<pre><code>public function indexAction(Request $request)\n    {\n        $modified = False;\n        if($request-&gt;getMethod() == 'POST'){ // submit, so have to modify data\n            $em = $this-&gt;getDoctrine()-&gt;getEntityManager();\n            $parameters = $request-&gt;request-&gt;get('User'); //form retriving\n            $id = $parameters['id'];\n            $user = $em-&gt;getRepository('SestanteUserBundle:User')-&gt;find($id);\n            $form = $this-&gt;createForm(new UserType(), $user);\n            $form-&gt;bindRequest($request);\n            $em-&gt;flush();\n            $modified = True;\n        }\n\n        $users = $this-&gt;getDoctrine()-&gt;getEntityManager()-&gt;getRepository('SestanteUserBundle:User')-&gt;findAll();\n        return $this-&gt;render('SestanteUserBundle:Default:index.html.twig',array('users'=&gt;$users));\n    }\n</code></pre>\n\n<p>\"New-me\" has refactored code in this way:</p>\n\n<pre><code>   public function indexAction(Request $request)\n    {\n        $um = $this-&gt;get('user_manager');\n        $modified = False;\n        if($request-&gt;getMethod() == 'POST'){ // submit, so have to modify data\n            $user = $um-&gt;getUserById($request,False);\n            $form = $this-&gt;createForm(new UserType(), $user);\n            $form-&gt;bindRequest($request);\n            $um-&gt;flushAll();\n            $modified = True; \n        }\n        $users = $um-&gt;showAllUser();\n        return $this-&gt;render('SestanteUserBundle:Default:index.html.twig',array('users'=&gt;$users));\n    }\n</code></pre>\n\n<p>Where <code>$um</code> is a custom service where all code that you can't see from #1 code piece to #2 code piece is stored.</p>\n\n<p>So, here are my questions:</p>\n\n<ol>\n<li>Did I, finally, get the essence of symfony2 and {M}VC in general?</li>\n<li>Is the refactor a good one? If not, what would be a better way?</li>\n</ol>\n\n<p><strong>Post Scriptum</strong>: I know that I can use the FOSUserBundle for User store and authentication, but this is a basic example for teach myself how to work with Symfony. \nMoreover, my service was injected with ORM.Doctrine.* in order to work (just a note for who read this question with my same confusion)</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc","razor"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":11513426,"title":"How to retrieve all values for all the inputs on MVC page","body":"<p>I have an MVC 3 project, that I am starting, using c# and Razor. I have a page, that has about 20 input fields that will be used.  I create my ViewModel to pass the data to the View to create the page.  I am confused as to, how I get the values of the fields, when the user submits the form.  </p>\n\n<p>Does my Controller have to have a parameter for every input field on my page?  Is there any way to have the Controller get all the data on the page and then I can parse through it?  The parameter list would be huge.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","generics","asp.net-mvc-2"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":263,"score":6,"question_id":11450774,"title":"Passing model property expression to view","body":"<p>I want to have a way of getting a view to focus on a particular model property from a controller in a generic way.</p>\n\n<p>What i have so far is:</p>\n\n<hr>\n\n<h2>Controller:</h2>\n\n<pre><code>// To become an extension/base class method\nprivate void FocusOnField&lt;TModel, TProperty&gt;(Expression&lt;Func&lt;TModel, TProperty&gt;&gt; fieldExpression)\n{\n    ViewData[\"FieldToFocus\"] = fieldExpression;\n}\n\n...\n\nFocusOnField((ConcreteModelClass m) =&gt; m.MyProperty);\n</code></pre>\n\n<h2>View</h2>\n\n<pre><code>    public static class ViewPageExtensions\n    {\n        public static MvcHtmlString FocusScript&lt;TModel&gt;(this ViewPage&lt;TModel&gt; viewPage)\n        {\n            if (viewPage.ViewData[\"FieldToFocus\"] != null)\n            {\n                return MvcHtmlString.Create(\n@\"&lt;script type=\"\"text/javascript\"\" language=\"\"javascript\"\"&gt;\n    $(document).ready(function() {\n        setTimeout(function() {\n            $('#\" + viewPage.Html.IdFor((System.Linq.Expressions.Expression&lt;Func&lt;TModel, object&gt;&gt;)viewPage.ViewData[\"FieldToFocus\"]) + @\"').focus();\n        }, 500);\n    });\n&lt;/script&gt;\");\n            }\n            else\n            {\n                return MvcHtmlString.Empty;\n            }\n        }\n    }\n</code></pre>\n\n<hr>\n\n<p>The problem I'm faced with now, is that in the view's <code>FocusScript</code> method I don't know the return type of the property to focus on, and casting to <code>(System.Linq.Expressions.Expression&lt;Func&lt;TModel, object&gt;&gt;)</code> fails for any property that doesn't return an object.</p>\n\n<p>I can't just add a second generic parameter for the property because I don't know what the return type of the property the controller wants me to focus on is.</p>\n\n<p><strong>How can I write my view extension method <code>FocusScript</code> in a generic way so it can be used with properties of varying return types?</strong></p>\n\n<hr>\n\n<h2>Why is there a problem?</h2>\n\n<p>I know I could just pass the Id of the control i want to focus on in the controller and have javascript read that id, find the control and focus on it. However, I don't like having something that belongs in the view (the Id of a control) hard-coded in the controller. I want to tell the method what property I want and it should know the Id to use in the same way the view normally gets/creates the Id for a control.</p>\n\n<p>Lets say I have a model:</p>\n\n<pre><code>class MyModel\n{\n    public int IntProperty { get; set; }\n    public string StringProperty { get; set; }\n}\n</code></pre>\n\n<p>In different places in the controller I want to focus one different fields:</p>\n\n<pre><code>FocusOnField((MyModel m) =&gt; m.IntProperty);\n...\nFocusOnField((MyModel m) =&gt; m.StringProperty);\n</code></pre>\n\n<p>Now, in the first case the expression is a function returning an integer, in the second case it's returning a string. As a result I don't know what to cast my ViewData[\"FieldToFocus\"] to (to pass it to <code>IdFor&lt;&gt;()</code>) as it varies based on the property..</p>\n"},{"tags":["mvc","client-server","jquery-blockui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":11519689,"title":"Blocking user action on UI during whole cycle POST, REDIRECT and GET","body":"<p>How to keep UI blocked while posting to controller action and waiting REDIRECT &amp; GET to be completed?</p>\n\n<p>I am triggering jQuery BlockUI plug-in on form SUBMIT that keeps the UI blocked while POST is in process, but when action flows in controller and goes to REDIRECT action (index) UI blocking disappears and processing continues without any user response. My INDEX action method contains data fetching which takes time (~6s) and response to user comes after REDIRECT and GET actions are completed.</p>\n\n<p>Pattern is:</p>\n\n<ol>\n<li>MyPage/Save (POST) 16 ms </li>\n<li>MyPage/Index(REDIRECT) (Block UI disappears here) </li>\n<li>MyPage/Index (GET) 6.4 s</li>\n</ol>\n\n<p><a href=\"http://s9.postimage.org/odzivqanz/postredirect.png\" rel=\"nofollow\">Developer tool image</a></p>\n\n<p>So is there any way which tells UI that contoller is redirecting and UI should be blocked during that time? \nOr any other way to keep UI informed that requests are pending on server side?</p>\n"},{"tags":["php","oop","mvc","authentication"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":11520927,"title":"How to let only logged in users view certain pages in MVC pattern?","body":"<p>I've been doing PHP for years and know how to check if a user is logged in and all that but I can't find a good example of how to do it in the MVC way.</p>\n\n<p>I was thinking if the Controllers for the members pages are like members/memberpage1, members/memberpage2 then I could check the start of the Controller with a regular expression for the word \"members\" and if it returns true I could then do my check to see if the user is logged in. It would probably work but is it the best way?</p>\n\n<p>Also, for the members pages in the controllers folder is it better to put them in a subfolder called \"members\" within the controllers folder? I'd definitely be doing that with the views anyway.</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":11520971,"title":"Declaring methods in Model when using MVC","body":"<p>I am a bit new to the MVC framework and need to know what is the best practice when working with one.</p>\n\n<p>I have a model class called NewsFeed that contains field like news_title, news_publish_date, news_url.</p>\n\n<pre><code>class NewsFeed &lt; ActiveRecord::Base\n\n  attr_accessible :description, :feed_id, :link, :publish_date, :title\n\n  def save_news_info(feed_id, news_title, news_link, news_publish_date, news_description)\n    self.feed_id = feed_id\n    self.title = news_title\n    self.link = news_link\n    self.publish_date = news_publish_date\n    self.description = news_description\n  end\nend\n</code></pre>\n\n<p>The task is to read an rss feed and gather all the news it contains, so i made a class called FeedReader and in that class I am using a gem feedzirra to parse the feed link</p>\n\n<pre><code>class FeedReader\n\n  attr_accessor :title, :url, :publish_date, :news_array\n\n  def initialize(feed_url)\n    @url=feed_url\n  end\n\n  def read\n    feed = Feedzirra::Feed.fetch_and_parse(@url)\n    @title = feed.title\n    @url = feed.feed_url\n    @publish_date = feed.last_modified\n  end\nend\n</code></pre>\n\n<p>My question is if this is a good practice to have a seperate class just like the model(NewsFeed) class and have a read function there, or should I declare the read function in my model class and delete FeedReader? (cauze I have been reading that putting too much functionality in model classes is frowned upon!!) and in future all the functionality (like sanitize news description, strip particular tags etc) gets coded in the model class which in turn grows bigger and bigger.</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","validation"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":228,"score":5,"question_id":9337974,"title":"ViewModel Implementation in ASP.NET MVC - Is this code best practice?","body":"<p>I've just started to get into using ViewModels. Can you guys check out this code to see if I'm following best practice? Is there anything out of the ordinary? Would you do the validation differently? </p>\n\n<p>Sorry if code is lengthy (there's so many parts to it). I've tried to make it as easy to understand as possible.</p>\n\n<p>Thanks!</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>  public class CustomerModel\n  {\n    [Required(ErrorMessage=\"Primer nombre!\")]\n    public string FirstName { get; set; }\n\n    [Required(ErrorMessage=\"Segundo nombre!\")]\n    public string LastName { get; set; }\n\n    [Required(ErrorMessage=\"Edad\")]\n    public int? Age { get; set; }\n\n    public string State { get; set; }\n    public string CountryID { get; set; }\n\n    [Required(ErrorMessage=\"Phone Number\")]\n    public string PhoneNumber { get; set; }\n  }\n</code></pre>\n\n<p><strong>ViewModel</strong></p>\n\n<pre><code>  public class CustomerViewModel\n  {\n    public CustomerModel Customer { get; set; }\n\n    public string Phone1a { get; set; }\n    public string Phone1b { get; set; }\n    public string Phone1c { get; set; }\n  }\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>    public ActionResult Index()\n    {\n      CustomerViewModel Customer = new CustomerViewModel()\n      {\n        Customer = new CustomerModel(),\n      };\n\n\n      return View(Customer);\n    }\n\n\n    [HttpPost]\n    public ActionResult Index(CustomerViewModel c)\n    {\n\n      //ModelState.Add(\"Customer.PhoneNumber\", ModelState[\"Phone1a\"]);\n\n      // Let's manually bind the phone number fields to the PhoneNumber properties in\n      // Customer object. \n      c.Customer.PhoneNumber = c.Phone1a + c.Phone1b + c.Phone1c;\n\n      // Let's check that it's not empty and that it's a valid phone number (logic not listed here)\n      if (!String.IsNullOrEmpty(c.Customer.PhoneNumber))\n      {\n        // Let's remove the fact that there was an error! \n        ModelState[\"Customer.PhoneNumber\"].Errors.Clear();\n      } // Else keep the error there. \n\n      if (ModelState.IsValid)\n      {\n        Response.Write(\"&lt;H1 style'background-color:white;color:black'&gt;VALIDATED&lt;/H1&gt;\");\n      }\n      return View(\"Index\", c);\n    }\n\n  }\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>@model MVVM1.Models.CustomerViewModel\n\n@using (Html.BeginForm(\"Index\", \"Detail\"))\n{  \n  &lt;table border=\"1\" cellpadding=\"1\" cellspacing=\"1\"&gt;\n    &lt;tr&gt;\n      &lt;td&gt;@Html.LabelFor(m =&gt; m.Customer.FirstName)&lt;/td&gt;\n      &lt;td&gt;\n        @Html.TextBoxFor(m =&gt; m.Customer.FirstName)\n        @Html.ValidationMessageFor(m =&gt; m.Customer.FirstName)\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td&gt;@Html.LabelFor(m =&gt; m.Customer.LastName)&lt;/td&gt;\n      &lt;td&gt;\n        @Html.TextBoxFor(m =&gt; m.Customer.LastName)\n        @Html.ValidationMessageFor(m =&gt; m.Customer.LastName)\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td&gt;@Html.LabelFor(m =&gt; m.Customer.Age)&lt;/td&gt;\n      &lt;td&gt;\n        @Html.TextBoxFor(m =&gt; m.Customer.Age)\n        @Html.ValidationMessageFor(m =&gt; m.Customer.Age)\n      &lt;/td&gt;\n    &lt;/tr&gt;\n\n    &lt;tr&gt;\n      &lt;td&gt;@Html.LabelFor(m =&gt; m.Customer.PhoneNumber)&lt;/td&gt;\n      &lt;td width=\"350\"&gt;\n        @Html.TextBoxFor(m =&gt; m.Phone1a, new { size=\"4\", maxlength=\"3\" })\n        @Html.TextBoxFor(m =&gt; m.Phone1b)\n        @Html.TextBoxFor(m =&gt; m.Phone1c)\n        &lt;div&gt;\n        @Html.ValidationMessageFor(m =&gt; m.Customer.PhoneNumber)\n        &lt;/div&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;/td&gt;\n      &lt;td&gt;\n        &lt;input type=\"submit\" value=\"Submit\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n}\n</code></pre>\n"},{"tags":["asp.net-mvc","database","mvc","model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":9273780,"title":"Application error with SQL CE 4.0 and ASP.NET MVC 3","body":"<p>I have problem with rebuilding db after Model have been changed/updated. I have three table inside one db file \"Posts\", \"Threads\" and \"Relations\". If i run app and post new thread everything seem fine, I can see thread. If I try to add post on the thread it throws an error saying it cannot find table by name \"Thread\". If I check \"Database Explorer\" in Visual Web Developer i can only see table \"Posts\" which is awkward. Now I read somewhere that db is not created until first use of model (saving?).</p>\n\n<p>My models setup is:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Data.Entity;\nusing System.Data.Entity.Database;\nusing System.ComponentModel.DataAnnotations;\nusing System.Data.Entity.ModelConfiguration;\n\nnamespace aspnet_forum.Models\n{\n    public class Threads\n    {\n        public int ID { get; set; }\n\n        [Required]\n        public string Name { get; set; }\n\n        [Required]\n        public string Author { get; set; }\n\n        public DateTime Date { get; set; }\n        public string Slug { get; set; }\n    }\n\n    public class ThreadsDBContext : DbContext\n    {\n        public DbSet&lt;Threads&gt; Threads { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            DbDatabase.SetInitializer(new MyThreadsDBContextInitializer());\n\n            base.OnModelCreating(modelBuilder);\n        }\n    }\n\n    public class MyThreadsDBContextInitializer : DropCreateDatabaseIfModelChanges&lt;ThreadsDBContext&gt;\n    {\n        protected override void Seed(ThreadsDBContext dbContext)\n        {\n            // seed data\n\n            base.Seed(dbContext);\n        }\n    }\n}\n</code></pre>\n\n<p>I also used \"DropCreateDatabaseAlways\" resulting same error. Posts model is same as Thread with additional field \"text\" and Posts name where relevant.</p>\n\n<p>Relations model:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.ComponentModel.DataAnnotations;\nusing System.Data.Entity;\nusing System.Data.Entity.Database;\nusing System.Data.Entity.ModelConfiguration;\n\nnamespace aspnet_forum.Models\n{\n    public class Relations\n    {\n        public int ID { get; set; }\n\n        [ForeignKey(\"Threads\")]\n        public int ThreadID { get; set; }\n        //public virtual Threads Thread { get; set; }\n\n        [ForeignKey(\"Posts\")]\n        public int PostID { get; set; }\n        //public virtual Posts Post { get; set; }\n    }\n\n    public class RelationsDBContext : DbContext\n    {\n        public DbSet&lt;Relations&gt; Relations { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            DbDatabase.SetInitializer(new MyRelationsDBContextInitializer());\n\n            base.OnModelCreating(modelBuilder);\n        }\n\n    }\n\n    public class MyRelationsDBContextInitializer : DropCreateDatabaseIfModelChanges&lt;RelationsDBContext&gt;\n    {\n        protected override void Seed(RelationsDBContext dbContext)\n        {\n            // seed data\n\n            base.Seed(dbContext);\n        }\n    }\n}\n</code></pre>\n\n<p>My Web.Config is:</p>\n\n<pre><code>&lt;connectionStrings&gt;\n    &lt;add name=\"ThreadsDBContext\"\n         connectionString=\"Data Source=|DataDirectory|Forum.sdf\"\n         providerName=\"System.Data.SqlServerCe.4.0\"/&gt;\n    &lt;add name=\"PostsDBContext\"\n         connectionString=\"Data Source=|DataDirectory|Forum.sdf\"\n         providerName=\"System.Data.SqlServerCe.4.0\"/&gt;\n    &lt;add name=\"RelationsDBContext\"\n           connectionString=\"Data Source=|DataDirectory|Forum.sdf\"\n           providerName=\"System.Data.SqlServerCe.4.0\"/&gt;\n  &lt;/connectionStrings&gt;\n</code></pre>\n\n<p>I tried and created all tables and relations by hand and it all works as expected I just don't know if relations will work as expected.</p>\n\n<p>Trying to establish M2M relation between Threads, Posts and Relations table.</p>\n\n<p>PS: there is \"EdmMetadata\" table.</p>\n"},{"tags":["php","mvc","cakephp"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":7127,"score":2,"question_id":1596953,"title":"CakePHP Session vaiable use in view page?","body":"<p>I have a variable contaning \"username\" and want to get these values via session to any of the view pages.  </p>\n\n<p>How can I get this session variable in the view?</p>\n"},{"tags":["mvc","language-agnostic","differential-execution"],"answer_count":7,"favorite_count":64,"up_vote_count":44,"down_vote_count":1,"view_count":8969,"score":43,"question_id":371898,"title":"How Does Differential Execution Work?","body":"<p>I've seen a few mentions of this on SO, but staring at Wikipedia (the relevant page has since been deleted) and at an <a href=\"http://sourceforge.net/projects/dyndlgdemo/\">MFC dynamic dialog demo</a> did nothing to enlighten me.  Can someone please explain this? Learning a fundamentally different concept sounds nice.</p>\n\n<p>Edit: I think I'm getting a better feel for it.  I guess I just didn't look at the source code carefully enough the first time.  I have mixed feelings about DE at this point.  On the one hand, it can make certain tasks considerably easier.  On the other hand, getting it up and running (i.e. setting it up in your language of choice) is not easy (I'm sure it would be if I understood it better)...though I guess the toolbox for it need only be made once, then expanded as necessary.  I think in order to really understand it, I'll probably need to try implimenting it in another language.</p>\n"},{"tags":["java","swing","mvc","concurrency"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":11446263,"title":"does swing view needs synchronized methods if its set by new threads in controller","body":"<p>There is actually more than 1 question.</p>\n\n<p>Given Model View and Controller. (Mine are coupled a lot - View knows its Controller, and Controller knows View.) </p>\n\n<p>Does new threads in Controller can be fired in basic manner - with the <code>new Runnable(){ (...) run(){}}</code> or it is required to do in some \"swing way\", to make it properly? Maybe with <code>Timer</code> or <code>invokeLater()</code>? <br> <br></p>\n\n<p>Second thing is - assuming that new thread has started - when it operates directly on view, setting some <code>JTextField</code>s (and so on) - do methods such as <code>setThatTextFieldWithNewValue(msg)</code> need to be synchronized as a result of being called from need thread? If so - is there any better approach that gives less coupling and less spend time thinking about needed synchronization?</p>\n"},{"tags":["php","mvc","api","zend-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":150,"score":2,"question_id":10829439,"title":"API centric development in Zend Framework","body":"<p>I am trying to create an API centric webservice using Zend framework. I would like to have the front-end separated from the back-end and all communication should take place using the API only, as shown in this image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/VdRiK.jpg\" alt=\"enter image description here\"></p>\n\n<p>The overall architecture can be summarized as shown in the following image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/XOCwL.jpg\" alt=\"enter image description here\"></p>\n\n<p>I would like to know what is the best approach/ practice in terms of project organization and folder structure preferably keeping it compatible with zend's way of project organization.</p>\n\n<p>Should I create two separate projects one for handling only the front-end while the other to act solely as the API server?</p>\n"},{"tags":["ruby-on-rails","mvc","backbone.js","gem","dry"],"answer_count":3,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":308,"score":7,"question_id":9370612,"title":"Getting my application more DRY with rails and backbone.js","body":"<p>Okey, so I decided to go with backbone.js in my rails app, but I feel that I'm doing a lot of redundant coding. I'm having a lot of models and templates in backbone that are more or less the same as their rails equivalent. Is there some kind of gem that handles this? Something like act_as_backbonemodel that you put in to your rails model that generates the backbone-model (with possibility to be overridden to add functionality). Also it would be great if there existed some kind of rails-backbone-view gem that lets you put your templates in your views directory and use normal partials/reuse normal rails views.</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":11514284,"title":"The best place for mapping M->VM in MVC?","body":"<p>I use ASP.NET MVC 3.</p>\n\n<p>I encountered at least 2 approaches for mapping Model->ViewModel on the server side: </p>\n\n<ul>\n<li>inside ViewModel class constructor</li>\n<li>inside Controller or designated mapper class</li>\n</ul>\n\n<p>I like first approach the most as the ViewModel property declarations and its mapping are in the same place, easy to maintain and unit-test. Can anybody specify more pros and cons, or other better practice? </p>\n"},{"tags":["php","mvc","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":238,"score":0,"question_id":11513835,"title":"(Yii) MVC Design - How to split the View logic?","body":"<p>MVC is a fairly new concept for me and I have just found myself doing something I am not quite sure would be considered 'a good practice'. </p>\n\n<p>I have a controller <code>User</code> (extending from <code>CUserController</code>) that deals with all user relate actions. In this controller I have <code>actionLogin</code> that deals with login requests. Now in the process of login I need to display 3 different pages according to situation:</p>\n\n<ul>\n<li>Login form (enter username/password).</li>\n<li>Error message (if user details match but account is marked as blocked).</li>\n<li>Login successful page (if any new messages are associate with the account).</li>\n</ul>\n\n<p>So far I have deal with it like that:</p>\n\n<pre><code>public function actionLogin(){\n    ... perform some operations ...\n    ... determine which page to display and set $scenario accordingly ...\n    $this-&gt;render('login',array(\n        'scenario'=&gt;$scenario\n    ));\n}\n</code></pre>\n\n<p>And then in <code>login.php</code> (the view file):</p>\n\n<pre><code>... perform some common operations ...\nswitch($scenario){\n    case \"login\":\n        ...display login...\n        break;\n    case \"error\":\n        ... display error ...\n        break;\n    .. etc. ...\n}\n</code></pre>\n\n<p>Now this makes my view file show in fact entirely different pages (although closely related).</p>\n\n<p>Would it be better to split my view into different pages (e.g. <code>login-form.php</code>,<code>login-error.php</code>,<code>login-success.php</code>) and render different ones in <code>actionLogin</code> according to the situation or is what I currently do a good way of dealing with this?</p>\n"}]}
{"total":14105,"page":19,"pagesize":100,"questions":[{"tags":["php","oop","mvc","join"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":124,"score":3,"question_id":11512522,"title":"PHP: refactoring to OO -- How to model Joins","body":"<p>Let's say I have two models:</p>\n\n<pre><code>class Book\n{\n    public $book_id;\n    public $book_author_id;\n    public $title;\n}\n\nclass Author\n{\n    public $author_id;\n    public $author_name;\n}\n</code></pre>\n\n<p>I'm used to writing something like this:</p>\n\n<pre><code>$DB-&gt;query(\"SELECT book_id, title, author_name \n            FROM book \n            LEFT JOIN author \n                ON book_author_id = author_id\n           \");\n</code></pre>\n\n<p>Let's assume, that I'm not interested in having separate queries for this association. How do I proceed? Here are some things I've heard:</p>\n\n<ul>\n<li>create a MySQL VIEW of the JOIN</li>\n<li>create a model class of the VIEW</li>\n</ul>\n\n<p>The application I'm working on involves dozens of tables and was highly optimized in procedural code (almost no SELECT * anywhere, for instance). I'm refactoring to make it more maintainable (I'm the original creator, too), but I would like to have the flexibility of using joins when I need to without compromising the structure of my files and DB calls.</p>\n\n<p>A possibly related question I have is related to including other models:</p>\n\n<pre><code>class Author\n{\n    public $author_id;\n    public $author_name;\n\n    /* @var Book */ //&lt;--don't really fully understand this but I've seen something like it somewhere\n    public (array) $authors_books;\n}\n</code></pre>\n\n<p>I'm still searching for answers, but if you could send a link my way, that would be appreciated.</p>\n"},{"tags":[".net","mvc","asp.net-mvc-3","file-download"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":379,"score":0,"question_id":5537838,"title":"How can i delete a file after dowload on client PC in MVC asp.ent","body":"<p>i have used getCSV function for return csv file at client side but i want to delete a file after download complete at client side </p>\n\n<p>my function</p>\n\n<pre><code>Public Function GetCSVFile(ByVal listSeperator As String) As CSVResult\n    Dim result As Boolean\n    Dim Service As New Service()\n    Dim types As IList(Of ProductType) = Service.GetAllWithAllLocalizedNames(New ListOptions(Name\", OrderByDirection.Ascending, 1, -1))\n    Dim path As String, colname As String\n    colname = Settings.GetLanguage()\n    path = Common.GetLocalizeDataPath()\n    Dim seprator As String = Common.GetListSepratorForCSV(listSeperator)\n    Dim cs As New CSVGenerator(path, colname, seprator)\n    result = cs.CreateCSVFile(types)\n    If result Then\n        Return New CSVResult With {.FileName = \"Sample.csv\", .Path = \"~/Mydir/Sample.csv\"}\n    Else\n        Return New CSVResult With {.FileName = \"Error.csv\", .Path = \"~/Mydir/Error.csv\"}\n    End If\nEnd Function\n</code></pre>\n"},{"tags":["php","mvc","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":133,"score":1,"question_id":9667311,"title":"Unset frontname set by module in Magento","body":"<p>Magento has this very nice MVC system where modules can register their 'frontname' and the like. </p>\n\n<p>Unfortunately is has the effect of contaminating your site with many duplicate urls for the same page if you happen to use several stores and make the store code show up in the URI. It will effectively make a module available on every store view 'root' and the main magento root as well.</p>\n\n<p>So I want to get rid of those frontnames a module created for me. I am still using objects supplied by the module I just don't want it to use the controller it supplier as well (I built my own blocks to load relevant data).</p>\n\n<p><strong>So my question is fairly simple,</strong> lets say I have something like this in the community code pool module/etc/config.xml:</p>\n\n<pre><code>    &lt;routers&gt;\n        &lt;faq&gt;\n            &lt;use&gt;standard&lt;/use&gt;\n            &lt;args&gt;\n                &lt;module&gt;Faq&lt;/module&gt;\n                &lt;frontName&gt;faq&lt;/frontName&gt;\n            &lt;/args&gt;\n        &lt;/faq&gt;\n    &lt;/routers&gt;\n</code></pre>\n\n<p>How do I make an override / setting in my local codepool that basically unsets / disables this frontname so it doesn't get found when called?</p>\n\n<p>Alternatively is it possible to prevent loading controllers with frontnames on the store view roots when the option to display the code in the URI is enabled?</p>\n"},{"tags":["javascript","jquery","mvc","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":11508420,"title":"Modular Jquery SPA (MVC)","body":"<p>I have looked over the web and found some cool examples of MVC implementation in the JQuery world. Some seems \"outdated\" (or maybe, not...), but looked promising:</p>\n\n<ul>\n<li><a href=\"http://www.bennadel.com/resources/projects/cormvc/demo/index.htm#/\" rel=\"nofollow\">CorMVC</a> (2-3 years ago)</li>\n<li><a href=\"http://welcome.totheinter.net/tutorials/model-view-controller-in-jquery/\" rel=\"nofollow\">Adam Wulf tutorial</a> (3-4 years ago)</li>\n</ul>\n\n<p>And more recent (that I have found):</p>\n\n<ul>\n<li><a href=\"https://github.com/dpirek/jQuery-MVC-Framework\" rel=\"nofollow\">Pirek GITHUB</a> (one year ago)</li>\n<li><a href=\"https://github.com/addyosmani/todomvc/tree/master/architecture-examples/jquery\" rel=\"nofollow\">todoMVC</a> : Code seems pretty neat. But there's no separation (folders).</li>\n</ul>\n\n<p><strong>I was wondering if there was more complete example of an MVC infrastructure/framework for implementing a SPA website (and recent, working with the latest version of JQuery)</strong>. I am trying to build that on top of <a href=\"http://twitter.github.com/bootstrap/\" rel=\"nofollow\">twitter bootstrap</a> and for the backend, I am using rest in Perl.</p>\n\n<p>I have checked various <a href=\"http://en.wikipedia.org/wiki/Comparison_of_JavaScript_frameworks\" rel=\"nofollow\">javascript framework</a> (note that I come from a Ruby on Rails world). I have played with various one: </p>\n\n<p>GWT:</p>\n\n<ul>\n<li>Pros: I liked the fact that I was only coding java and \"easy\" implement of various design pattern of course.</li>\n<li>Cons: Debugging time (so slow to run your application).</li>\n</ul>\n\n<p>Dojo:</p>\n\n<ul>\n<li>Pros: Custom Widget, Modular (OOP concepts)</li>\n<li>Cons: Complex, Poor community, Poor documentation, Poor example. I have read all documentation, but when it comes to put it altogether I was so confuse and lost.</li>\n</ul>\n\n<p>Now, I am really tempted by Jquery/<a href=\"http://javascriptmvc.com/\" rel=\"nofollow\">JavascriptMVC</a>. With my background (RoR/MVC/Java), I think it's a pretty decent/neat framework or is there something better?</p>\n"},{"tags":["php","oop","mvc","dao"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":11508497,"title":"MVC, A bit of confusion with the Model part","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5863870/how-should-a-model-be-structured-in-mvc\">How should a model be structured in MVC?</a>  </p>\n</blockquote>\n\n\n\n<p>I have been learnng the MVC pattern lately but I am a little bit confused on the Model part of it. I've looked at loads of videos on this pattern and read loads of articles but I still can't find a concrete answer or example.</p>\n\n<p>I know the Model part is the part that gets data etc but I'm unsure of how to implement it.</p>\n\n<p>I have entities on my site like user, order, orderitem etc, are they also models? </p>\n\n<p>I've seen that often a DAO is used with the model to retrieve data. I currently have a DAO for each of my entities so can I just use my entites and their DAO's and call them my models? or is there sticter rules for something to be a model?</p>\n\n<p>I've also seen an article that says VO's(value objects) when used with DAO's are often called the model of a MVC. In the article the VO that was used was a UserVO and its attributes were just a copy of the columns in the users table in the database. After reading that I started thinking is a VO just another name for an entity like user, order etc?</p>\n\n<p>Thanks in advanced!</p>\n"},{"tags":["mvc","collections","views"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":416,"score":0,"question_id":9545634,"title":"MVC, passing values back from multiple partial views in a page","body":"<p>I have problem when I am trying to pass values back from my page which contains the same partial view twice.\nMy class definiton is like below: </p>\n\n<pre><code>public class Account : IEntity\n{\n\n    public decimal CurrentBalance { get; set; }\n    public List&lt;Person&gt; AccountHolders { get; set; }\n    //to get round the non-existing enum support in EF4.3 wrap enum to int\n    public int StatusValue { get; set; }\n    public AccountStatus Status { get { return (AccountStatus)StatusValue; } set { StatusValue = (int) value; } }\n\n    public DateTime AccountOpenDate { get; set; }\n    public DateTime AccountCloseDate { get; set; }\n    public DateTime AccountSuspensionDate { get; set; }\n    }\n</code></pre>\n\n<p>It has a List of Person , which I made a partial view for (for a single one).</p>\n\n<pre><code>&lt;fieldset&gt;\n    &lt;legend&gt;Person&lt;/legend&gt;\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.Name)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.EditorFor(model =&gt; model.Name)\n        @Html.ValidationMessageFor(model =&gt; model.Name)\n    &lt;/div&gt;\n      &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.Age)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.EditorFor(model =&gt; model.Age)\n        @Html.ValidationMessageFor(model =&gt; model.Age)\n    &lt;/div&gt;\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>In the Create page for the Account I include 2 of the partial views I created as below.</p>\n\n<pre><code> &lt;div id=\"Person1\"&gt;\n        @Html.Partial(\"_CreateAccountHolder\" )\n    &lt;/div&gt;\n\n     &lt;div id=\"Person2\"&gt;\n        @Html.Partial(\"_CreateAccountHolder\")\n    &lt;/div&gt;\n</code></pre>\n\n<p>When I look at what is posted back, it contains the values (Name and Age as the properties of Person) I put in the form values of the page and I have have the tow of them as expected:\nCurrentBalance=19&amp;Status=Closed&amp;AccountOpenDate=12%2F12%2F2012&amp;Name=mustafa&amp;Age=20&amp;Name=sofia&amp;Age=20&amp;AccountCloseDate=12%2F12%2F2012&amp;AccountSuspensionDate=12%2F12%2F2012</p>\n\n<p>But when I look at my create method on my controller I see the AccountHolder list as null. I tried with various signatures... \npublic ActionResult Create(Account personalaccount, Person [] accountHolders)\npublic ActionResult Create(Account personalaccount, List accountHolders)</p>\n\n<p>If I only have one partial view of Person and have my controller like this, I can see the Person object bound correctly.\npublic ActionResult Create(Account personalaccount, Person accountHolder)</p>\n\n<p>Any ideas as to where I am going wrong?</p>\n"},{"tags":["ruby-on-rails","database","ruby-on-rails-3","mvc","model"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":11502587,"title":"Rails - Self referencing model?","body":"<p>I currently have a <code>metric</code> model, that can take two <code>operands</code> and perform a calculation based on its <code>operation_type</code>, producing a result through the custom result method. This is working as expected.</p>\n\n<p>In order to make this scalable, I would like to be able to use two operands (as currently), one operand and one metric, or two metrics to perform the calculation. The reason for this is that it is then scalable - I can use the results of previous operations.</p>\n\n<p>Where I am stuck is how to create this self join - I imagine that I need to go down the road of a polymorphic self reference somehow, but the documentation is not leading me to the answer. I have currently got a setup with a <code>calculated_metric</code> model in addition, but i'm not sure if this is the way to go.</p>\n\n<p>My models look as follows:</p>\n\n<pre><code>class Metric &lt; ActiveRecord::Base\n    attr_accessible :name, :operation_type_id\nend\n\nclass Operand &lt; ActiveRecord::Base\n    attr_accessible :object, :attribute\nend\n\nclass Calculated_metric &lt; ActiveRecord::Base\n    attr_accessible :metric_id, :calculated_metric_id\nend\n</code></pre>\n\n<p>Any assistance would be greatly appreciated. Thanks!</p>\n\n<p>EDIT: Perhaps I can clarify this a little: I currently have a separate <code>calculated_metric</code> model; is this the best approach to take in order to use the results of another metric in my calculation, or could I achieve this more simply by adding a <code>left_metric</code> and <code>right_metric</code> to my existing <code>metric</code> table (left and right are so that if the equation is a subtraction, for example, it knows which one is being taken away)? I'm not sure if this is an ideal solution, as they will be null in a large number of cases.</p>\n"},{"tags":["asp.net","mvc","validation","drop-down-menu"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2233,"score":1,"question_id":2844369,"title":"ASP.NET MVC DropDownList Validation","body":"<p>I have </p>\n\n<pre><code>[DisplayName(\"Country\")]\npublic List&lt;SelectListItem&gt; Countries { get; set; }\n</code></pre>\n\n<p>property in strong-type Model View class for DropDownList.</p>\n\n<p>When I try to check if the ModelState.IsValid on form postback it's always false &amp; error for <em>Countries</em> tells \"Can't convert [value] to SelectListItem\" or some of a kind. </p>\n\n<p>I figured out there is no straight-forward mapping for drop down selected value (looks like I'll have to read value from Form value collection), but how can I ignore binding and validation for List property? I just want to make ModelState.IsValid attribute to be true if all the other fields are populated properly. </p>\n\n<p>Thank you in advance</p>\n"},{"tags":["mvc","validation","asp.net-mvc-3","unobtrusive"],"answer_count":4,"favorite_count":5,"up_vote_count":19,"down_vote_count":0,"view_count":8631,"score":19,"question_id":4828297,"title":"How to change 'data-val-number' message validation in MVC while it generate by helper","body":"<p>Assume this model:  </p>\n\n<pre><code>Public Class Detail\n    ...\n    &lt;DisplayName(\"Custom DisplayName\")&gt;\n    &lt;Required(ErrorMessage:=\"Custom ErrorMessage\")&gt;\n    Public Property PercentChange As Integer\n    ...\nend class\n</code></pre>\n\n<p>and the view:</p>\n\n<pre><code>@Html.TextBoxFor(Function(m) m.PercentChange)\n</code></pre>\n\n<p>will proceed this html:  </p>\n\n<pre><code>   &lt;input data-val=\"true\" \n    data-val-number=\"The field 'Custom DisplayName' must be a number.\" \n    data-val-required=\"Custom ErrorMessage\"     \n    id=\"PercentChange\" \n    name=\"PercentChange\" type=\"text\" value=\"0\" /&gt;\n</code></pre>\n\n<p>I want to customize the <code>data-val-number</code> error message which I guess has generated because <code>PercentChange</code> is an <code>Integer</code>. I was looking for such an attribute to change it, <code>range</code> or whatever related does not work.<br>\nI know there is a chance in editing unobtrusive's js file itself or override it in client side. I want to change <code>data-val-number</code>'s error message just like others in server side.</p>\n"},{"tags":["php","mvc","folder-structure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":251,"score":1,"question_id":10170091,"title":"how to structure MVC models and ORM models","body":"<p>I have some trouble getting a good folder structure in my project and i would like to know what other ways i could use to structure my files.</p>\n\n<p>I'm currently working in an MVC sturctured folder.</p>\n\n<pre><code>www/\n  Controllers/\n  Models/\n  Views/\n</code></pre>\n\n<p>Nothing special so far. But i'm also using an ORM system. With it i can easily get an 'object' from my database like:</p>\n\n<pre><code>ORM::load('table');\n</code></pre>\n\n<p>Now this sort of code should reside in a Model right? So i'd get something like this:</p>\n\n<pre><code>&lt;?php\nclass userModel\n{\n    public function getAllUsers ( )\n    {\n        return ORM::load('table');\n    }\n\n    public function getUserById ( $id )\n    {\n        return ORM::load('table', 'userid=?', array($id));\n    }\n}\n?&gt;\n</code></pre>\n\n<p>Looks good so far in my opinion... But there's one more thing. I can also specify a 'model' when using the ORM system. With this model i can basically set up validation rules. Like so:</p>\n\n<pre><code>ORM::withModel('authModel');\n</code></pre>\n\n<p>This lets the ORM know that before it adds a new row (or updates an existing one) to the DB, that it should check the following model first for validation rules.</p>\n\n<pre><code>&lt;?php\nclass authModel //Or maybe authValidation??\n{\n    // Method gets automatically triggered when an update is done with the ORM\n    public function onUpdate ( $obj )\n    {\n        if ( $obj-&gt;username == '' )\n            throw new \\Exception('No username');\n    }\n\n    public function onInsert ( $obj )\n    {\n        // Validations here too.\n    }\n}\n?&gt;\n</code></pre>\n\n<p>Now the problem is, is that i have 2 sorts of models. One where i basically use getters/setters to get and store data to the database (from my controller to my model).</p>\n\n<p>And i have another model in which validation rules are set... I don't want to mix both in the same folder. So i must come up with another structure for this. Something like:</p>\n\n<pre><code>www/\n  Controllers/\n  Models/\n    Repositories/\n    Entities/\n  Views/\n</code></pre>\n\n<p>It's just that my model isn't a real 'repository', since it doesn't store any objects in the repo class and doesn't have a commit() method or anything like that.</p>\n\n<p>I also can't store the 2nd model (for validations) in the Entities folder, because they're not Entities at all...</p>\n\n<p>Any idea how i should structure this..??</p>\n"},{"tags":["javascript","jquery","mvc","jquery-ajax"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":11505417,"title":"MVC with JS and Jquery","body":"<p>I'm trying to develop a mobile app using phonegap combined with jquery.\nI want to use a MVC model for writing my JS code.\nUnfortunately I have a problem, with the call back of an $.ajax function.\nI loose my model object, when the function is finished.\nMaybe anybody can give me a hint what's my problem.\nController:</p>\n\n<pre><code>function loadObject(objectId){\nmodel = new cmdb_model(\"admin\",\"password\");\nview = new cmdb_view();\n$.when(model.readObject(objectId))\n.done(function(model){ alert(\"data:\"+model.dataObject); })\n.fail(function(){ alert(\"error:\"+model.error); });\n}\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>function cmdb_model(username,password){\nthis.username = username;\nthis.password = password;\nthis.version = '2.0';\nthis.language = 'de';\nthis.mandator = 1;\nthis.type ='POST';\nthis.method=\"\";\nthis.contentType = 'application/json';\nthis.url = 'http://mydomain/src/jsonrpc.php';\nthis.session=\"\";\nthis.rpcId = 1;\nthis.error=\"\";\nthis.dataObject=\"\";\nthis.status =\"\";\n\nthis.setpassword = function(_password){\n    password = md5(_password);\n    return password;\n}\nthis.generateSession = function(){\n    ...\n}\nthis.readObject = function(objectId){\n    this.params = '\\\"id\\\":\\\"'+objectId+'\\\"';\n    this.method = 'cmdb.object';\n    this.generateSession();\n    this.ajax_read();\n\n}\nthis.ajax_read = function(){\n    $.ajax({       \n        type : this.type,  \n        url : this.url,\n        async: false,\n        data : '{\\\"version\\\": \\\"'+this.version+'\\\",\\\"method\\\": \\\"'+this.method+'\\\",\\\"id\\\": \\\"'+this.rpcId+'\\\",\\\"params\\\": {'+this.params+',\\\"session\\\": {'+this.session+'}}}',\n        contentType: this.contentType,\n        complete : function(jqXHR, textStatus){\n            this.status = textStatus\n            alert(this.status);\n\n        },\n        success : function(data) {\n            this.dataObject = $.parseJSON(data);\n            this.status = \"success\";\n            /*for (a in dataObject.result[0])\n                alert(a);*/\n        },\n        error : function(jqXHR, textStatus, errorThrown) {\n            this.error[\"jqXHR\"] = jqXHR;\n            this.error[\"textStatus\"] = textStatus;\n            this.error[\"errorThrown\"] = errorThrown;\n        }\n    });\n}}\n</code></pre>\n\n<p>The alerts in my controller are empty. If I alert the statusmessage in my model I get the status.</p>\n"},{"tags":["php","mvc","yii","dry"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":11503668,"title":"Where should the (DRY) function to update a Yii model be stored?","body":"<p>I have a Yii application with two separate models, <em>Domain</em> and <em>Page</em>. <em>Domain</em> has a unique field, so I set up a rule (<code>'domain', 'unique'</code>) and also create an action that creates a new record if the field is new, otherwise uses the existing record, and returns the ID:</p>\n\n<pre><code>$domain_model=new Domain();\n$domain_model-&gt;domain=$domain;\nif(!$domain_model-&gt;save()){\n    $atts = array('domain'=&gt;$domain);\n    $domain_model=Domain::model()-&gt;findByAttributes($atts);\n}\nreturn $domain_model-&gt;id;\n</code></pre>\n\n<p>This works fine, but within a <em>Page</em> controller I want to call this same function during a page insertion action. I can't figure out the best DRY method to do this with Yii. I can't access other model controllers, so I don't know where to put this function to make it accessible both within and outside of the <em>Domain</em> MVC.</p>\n"},{"tags":["java","swing","mvc","exception","exception-handling"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":112,"score":1,"question_id":11502467,"title":"Where can I handle Exceptions in MVC Java?","body":"<p>I am coding GUI application for exchange and synchronize data between company's Accounting software and e-commerce system (internet shop).</p>\n\n<p>I want to create it using MVC (Model-View-Controller) Design Pattern.</p>\n\n<p>Part of my application is function which overwrite e-commerce inventory balance with this from accounting software.</p>\n\n<p>I've got </p>\n\n<ol>\n<li>View - JDialog presenting progress of overwriting. </li>\n<li>Controller - responsible for interaction between db's and view </li>\n<li>Model - data from dbs and app's settings</li>\n</ol>\n\n<p>When I queuing the database I must catch an exception (ClassNotFound and SQL).</p>\n\n<p><strong>Where I should create try {} catch {} block? In View? or in Controller?</strong> <br />\nI want to present some JOptionPane with error message and finish some state of application.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","asp.net-mvc-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11502180,"title":"Binding form values to a complex type","body":"<p>I've used the MVC pattern for a while now and have been getting on fine, however I've got totally stuck.</p>\n\n<p>I have a view which shows a collection of complex objects, with a partial view as follows:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;ThreeSixtyScheduling.Areas.Products.Models.PartsOnOrderModel+PartOnOrder&gt;\" %&gt;\n&lt;tr&gt;\n&lt;% using (Html.BeginForm(\"UpdateStockDueDate\", \"PartsOnOrder\", FormMethod.Post))\n   { %&gt;\n    &lt;td&gt;&lt;input type=\"hidden\" name=\"CallAppointmentDate\" value=\"&lt;%= Model.CallAppointmentDate %&gt;\" /&gt;&lt;%= Html.DisplayFor(m =&gt; m.CallAppointmentDate)%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= Html.HiddenFor(m =&gt; m.OrderNumber)%&gt;&lt;%= Html.DisplayFor(m =&gt; m.OrderNumber)%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= Html.HiddenFor(m =&gt; m.JobNumber)%&gt;&lt;%= Html.DisplayFor(m =&gt; m.JobNumber)%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= Html.HiddenFor(m =&gt; m.Part)%&gt;&lt;%= Html.DisplayFor(m =&gt; m.Part)%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= Html.HiddenFor(m =&gt; m.Quantity)%&gt;&lt;%= Html.DisplayFor(m =&gt; m.Quantity)%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= Html.EditorFor(m =&gt; m.StockDueDate)%&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;button type=\"submit\"&gt;Save&lt;/button&gt;&lt;/td&gt;\n&lt;% } %&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>I have a controller action that takes the complex object as its parameter:</p>\n\n<pre><code>public ActionResult UpdateStockDueDate(PartsOnOrderModel.PartOnOrder PartOnOrder)\n</code></pre>\n\n<p>The <code>Form</code> does have the value <code>CallAppointmentDate</code> in its collection so my understanding it that it should populate the value appropriately.</p>\n\n<p>I've tried MANY permutations, including changing the name to <code>PartOnOrder.CallAppointmentDate</code>, setting the IDs as well as the name, adding the properties as individual parameters and nothing works.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["php","json","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":135,"score":0,"question_id":11499870,"title":"Where should I use ajax in my MVC framework?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2016973/mvc-ajax-calls-where-to-handle-them\">MVC ajax calls - where to handle them?</a>  </p>\n</blockquote>\n\n\n\n<p>I have a framework which the overall view is as below:<br>\n<img src=\"http://i.stack.imgur.com/AyyXW.jpg\" alt=\"enter image description here\">\nThis picture is from PHP 5 Social networking book, I don't have the <code>Page Object</code> part. I dont have any problem with simple javascript/jQuery statements, but when it comes to JSON or Ajax where I need to fetch data then I'm confused! Beacause in JSON we need to put the url part. In an MVC there is no direct call. Everything will reach to Front Controller (index.php).<br>\nNow the question is how to handle JSON or Ajax requests in MVC? Should I create separate json php files in another directory to handle database connections,etc which is not Object Oriented?</p>\n"},{"tags":["java","html","mvc","grails","spring-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":11498924,"title":"Will MVC framework help me clean my web pages?","body":"<p>I am new to web development and have been working on my first web project using <code>Java/JSP</code> for some time now. For this project I decided to (probably, naively) not to use any web framework and implemented a loose <code>MVC</code> type framework of my own in which some <code>JSPs</code> call the <code>FrontController</code> and other use the Java beans directly. After a few code iterations, my JSP code has turned into something like this - <a href=\"https://gist.github.com/3118742\" rel=\"nofollow\">github_3118742</a></p>\n\n<p>Can some expert please let me know - <br/>\n<strong>1)</strong> Is the level of <code>Java/JSP/HTML</code> code mixup as shown in this GIST normal or is it bad?<br/>\n<strong>2)</strong> If I use an <code>MVC framework</code> such as <code>Spring MVC</code> or <code>Grails</code> or <code>Apache Wicket</code> will that help me clean up this mess and separate the Java code from <code>HTML</code> pages?</p>\n\n<p>Thanks in advance for your help.</p>\n\n<p>Cheers</p>\n"},{"tags":["java","eclipse","image","swing","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":511,"score":1,"question_id":9721421,"title":"Show image by click JButton","body":"<p>I have a problem. I don't know how to display an image by clicking a JButton. </p>\n\n<p>I have a class which can show and hide an image:</p>\n\n<pre><code>/**\n * \n */\npackage com.samples;\n\nimport java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.WindowConstants;\n\n/**\n * @author\n *\n */\npublic class New2 extends JFrame implements ActionListener {\n\n    private static String SHOW_ACTION = \"show\";\n    private static String HIDE_ACTION = \"hide\";\n\n    private Image image = null;\n    private boolean showImage = false;\n\n    public New2(String filename) {\n        setTitle(\"MyWindow\");\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setSize(800, 600);\n\n        this.image = new ImageIcon(\"..//src/img/Ster.png\").getImage();\n\n        Container container = getContentPane();\n        container.setLayout(new BorderLayout());\n        container.add(createControls(), BorderLayout.SOUTH);\n    }\n\n    private JPanel createControls() {\n        JButton showButton = new JButton(\"Show\");\n        showButton.addActionListener(this);\n        showButton.setActionCommand(SHOW_ACTION);\n\n        JButton hideButton = new JButton(\"Hide\");\n        hideButton.addActionListener(this);\n        hideButton.setActionCommand(HIDE_ACTION);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new FlowLayout(FlowLayout.CENTER));\n\n        panel.add(showButton);\n        panel.add(hideButton);\n\n        return panel;\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n\n        if (showImage) {\n            g.drawImage(image, 100, 200, image.getWidth(null), image.getHeight(null), null);\n        }\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        String actionCommand = event.getActionCommand();\n\n        if (SHOW_ACTION.equals(actionCommand)) {\n            showImage = true;\n        } else if (HIDE_ACTION.equals(actionCommand)) {\n            showImage = false;\n        }\n\n        repaint();\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                New2 frame = new New2(\"resources/image.jpg\");\n                frame.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>I'm working with MVC so I want the code for the JButton in my map for controllers but I don't know how to do this. </p>\n\n<pre><code>package View;\n\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Image;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\n\n\nimport Controller.HomeController;\nimport Controller.KeeperController;\n\npublic class Selectie extends JFrame{\n\n    private JLabel label, label1, label2;\n    private JButton keeper;\n    private JPanel panel;\n    private Container window = getContentPane();\n    private KeeperController controller;\n\n\n    public Selectie()\n    {\n        initGUI();\n\n    }\n\n    public void initGUI()\n    {\n        setLayout(null);\n        setTitle();\n        setSize(800,600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        label = new JLabel();       \n        label.setBounds(0, 0, 266, 800);\n        label.setBackground(Color.RED);\n        label.setOpaque(true);\n        window.add(label);\n\n        label1 = new JLabel();\n        label1.setBounds(266, 0, 266, 800);\n        label1.setBackground(Color.BLACK);\n        label1.setOpaque(true);\n        window.add(label1);\n\n        label2 = new JLabel();\n        label2.setBounds(532, 0, 266, 800);\n        label2.setBackground(Color.RED);\n        label2.setOpaque(true);\n        window.add(label2);\n\n        keeper = new JButton(\"1. \"+\"\"+\" Kenneth Vermeer\");\n        keeper.setBounds(60, 500, 200, 25);\n        keeper.setFocusable(false);\n        keeper.setBorderPainted(false);\n        keeper.setContentAreaFilled(false);\n        keeper.setFont(new Font(\"Arial\",Font.PLAIN,17));\n        label.add(keeper);\n\n        }\n\n}\n</code></pre>\n\n<p>The button keeper needs to show the image when it is clicked.</p>\n"},{"tags":["ruby-on-rails","ruby","mvc","controller","params"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":11489977,"title":"Ruby gem (method) which calls API and returns array of hashes successfully to rails command line returns nil when called from controller to browser","body":"<p>UPDATE:\nAfter the first response, I added some puts to the code and indeed, ALL of the requested data is being returned from the gem inside of the command line. This is not a ruby problem. This is a rails problem. Rails is taking a perfectly good hash and calling it nil. Ruthlessly, no matter what I do, rails calls it nil.</p>\n\n<p>Basically, I have a method inside a gem which successfully runs when run from irb with a bin file, but when I run the same method from a rails controller (my gem mgmt skills are pretty good, it's not the Gemfile or anything that's the problem), the method returns nil. It's not a params[] issue either because the method call also returns nil when I manually fill in those params in the control (lowest code snippet)</p>\n\n<p>So:</p>\n\n<p>here is the rails controller (simple_search method returns nil)</p>\n\n<pre><code>def show\n  obj = SimpleSearch.new\n  @responses = obj.broad_search(params[:query], params[:type])\nend\n</code></pre>\n\n<p>here is the broad_search method inside my custom gem (I've done all the correct \"rake build\", gem versioning, sudo gem install pkg/...., rails Gemfile and bundle install stuff trust me)</p>\n\n<pre><code>def broad_search(query, type)\n  response = HTTParty.get(\"#{SEARCH_URL}/search?query=#{query}&amp;type=#{type}\")\n  # the below parsed_response is going to be an array of hashes if successful\n  p_response = JSON.parse(response.body)\n  p_response.map {|r| Results.new(r)}\nend\n</code></pre>\n\n<p>class which API response is run through</p>\n\n<pre><code>class Results\n  attr_accessor :identification, :picture, :address, :name, :type\n\n  def initialize(input)\n    @identification = input['id']\n    @address = input['url']\n    @picture = input['pic']\n    @name = input['name']\n    @type = input['type']\n  end\nend\n</code></pre>\n\n<p>bin file which is perfectly able to run the method and thus later parse (play with) the hash---in rails I'd be using these contents to save hashes to the database to begin to generate an archive of hash information</p>\n\n<pre><code>$LOAD_PATH.unshift(File.expand_path(\"../lib\", File.dirname(__FILE__)))\n\nrequire 'simple_search'\nrequire 'highline/import'\n\nclass UI\n  def initialize\n    @search = Search.new\n  end\n  def broad_search_from_terminal\n    type = ask(\"What type? Choose 'User', 'Startup', 'MarketTag' or 'LocationTag'\")\n    query = ask(\"OK. Assuming you chose one of the four types, what is your search keyword?\")\n    @search.broad_search(query, type)\n  end\nend\n</code></pre>\n\n<p>I would show the rails view file which fills out the params, but this also returns nil (outputted through inspect method, etc)</p>\n\n<pre><code>def show\n  obj = SimpleSearch.new\n  @responses = obj.broad_search(\"mark\", \"User\")\nend\n</code></pre>\n"},{"tags":["php","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":332,"score":0,"question_id":2219656,"title":"How to add a new php file to mvc concept","body":"<p>How to use the mvc concept,</p>\n\n<p>I need to add a php file to mvc concept.</p>\n\n<p>Please explain</p>\n"},{"tags":["asp.net","mvc","controller","primary-key","guid"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":3287,"score":6,"question_id":1483467,"title":"Using a System.Guid as primary key in ASP.Net MVC?","body":"<p>I have created a table in the database that has a System.Guid as it's primary key. The required ADO.Net Entity Framework model has been generated and the required stored procedures has been mapped.</p>\n\n<p>I created a new controller and added the basic required code for Create and Edit for the data. However when the clicking on the link to edit the a particular record the following error is generated:</p>\n\n<p><code>\nThe parameters dictionary contains a null entry for parameter '[MyId]' of non-nullable type 'System.Guid' for method 'System.Web.Mvc.ActionResult Edit(System.Guid)' in '[MySite].[MyController].[SpecificController]'. To make a parameter optional its type should be either a reference type or a Nullable type.\nParameter name: parameters \n</code></p>\n\n<p>The edit action is declared in the controller as follows:</p>\n\n<pre><code>public ActionResult Edit(Guid itemId)\n{\n    return View();\n}\n\n[AcceptVerbs(HttpVerbs.Post)]\npublic ActionResult Edit(MyItem itemToModify)\n{\n\n}\n</code></pre>\n\n<p>When adding a new record the new Guid is generated via a Stored Procedure and the list is displaying the correct Guid. The Url is also passing the correct Guid for retrieval. </p>\n\n<p>I can't seem to capture the point at which this fails, but how would I go about passing a System.Guid as a parameter to the Controller?</p>\n"},{"tags":["php","mvc","codeigniter","variables","views"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1189,"score":0,"question_id":2019296,"title":"Multiple views in codeigniter","body":"<p>I am working on a codeigniter site, in which a page is built using multiple views, I have come to a point where I need to work with a variable that is being set in another view is it possible to access it from another view?</p>\n\n<p>This is code I have</p>\n\n<p>Controller:</p>\n\n<pre><code>    public function index() {\n//  $this-&gt;output-&gt;enable_profiler(TRUE);\n    $data = array();\n    if($query = $this-&gt;category_model-&gt;get_all_online()) {\n        $data['main_menu'] = $query;\n    }\n    $this-&gt;load-&gt;model('image_model');\n    /*\n    * Sort out the users backgrounds, basically do a check to see if there is a 'special' background\n    * if there is not a 'special' background then IF the user is logged in and has a background of there\n    * own show that one, if not show a generic one, if they are not logged in show a bang one\n    */\n    $image = array();\n    if ($query = $this-&gt;image_model-&gt;get_special_backgrounds()) {\n        $image['special'] = $query;\n    } elseif(!isset($image['special']) &amp;&amp; !isset($this-&gt;session-&gt;userdata['user_id'])) {\n        if($query = $this-&gt;image_model-&gt;get_mysite_background()) {\n            $image['generic'] = $query;\n        }\n    } \n\n    if(isset($this-&gt;session-&gt;userdata['user_id'])) {\n        if($query = $this-&gt;image_model-&gt;get_user_backgrounds($this-&gt;session-&gt;userdata['user_id'])) {\n            $image['user_background'] = $query;\n        }\n    }\n    $data = array_merge($data, $image);\n    $this-&gt;load-&gt;view('home/main_page.php', array_merge($data, $image));\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public function get_mysite_background() {\n    $this-&gt;db-&gt;select('*');\n    $this-&gt;db-&gt;from('background');\n    $this-&gt;db-&gt;where('users_user_group_group_id', 1);\n    $this-&gt;db-&gt;where('is_special', 0);\n\n    $query = $this-&gt;db-&gt;get();\n    return $query-&gt;result_array();\n}\n\npublic function get_special_backgrounds() {\n    $this-&gt;db-&gt;select('*');\n    $this-&gt;db-&gt;from('background');\n    $this-&gt;db-&gt;where('is_special', 1);\n\n    $query = $this-&gt;db-&gt;get();\n    return $query-&gt;result_array();\n}\n\npublic function get_user_backgrounds($user_id) {\n    $this-&gt;db-&gt;select('*');\n    $this-&gt;db-&gt;from('background');\n    $this-&gt;db-&gt;where('users_user_id', $user_id);\n    $this-&gt;db-&gt;where('is_special', 0);\n\n    $query = $this-&gt;db-&gt;get();\n    return $query-&gt;result_array();\n}\n</code></pre>\n\n<p>The Views in Question: Firstly where the variable is getting set,</p>\n\n<pre><code>&lt;/div&gt;\n&lt;div id=\"background-select\"&gt;\n&lt;?php\n$count = 0;\n    if(isset($special)) {\n        foreach ($special as $row) {\n            $count ++;\n            print '&lt;div class=\"select\"&gt;';\n                print \"&lt;a href='index.php/home/category/\".$row['background_id'].\"'&gt;$count&lt;/a&gt;\";\n            print '&lt;/div&gt;';\n            if($count = 1) {\n                $background = $row['background_name'];\n            }\n        }\n    }\n    if(isset($generic)) {\n        foreach ($generic as $row) {\n            $count ++;\n            print '&lt;div class=\"select\"&gt;';\n                print \"&lt;a href='index.php/home/category/\".$row['background_id'].\"'&gt;$count&lt;/a&gt;\";\n            print '&lt;/div&gt;';\n            if($count = 1) {\n                $background = $row['background_name'];\n            }\n        }\n    }\n    if(isset($user_background)) {\n        foreach ($user_background as $row) {\n            $count ++;\n            print '&lt;div class=\"select\"&gt;';\n                print \"&lt;a href='index.php/home/category/\".$row['background_id'].\"'&gt;$count&lt;/a&gt;\";\n            print '&lt;/div&gt;';\n            if($count = 1) {\n                $background = $row['background_name'];\n            }\n        }\n    }\n?&gt;\n</code></pre>\n\n<p></p>\n\n<p>And where I want to use the variable:</p>\n\n<pre><code>&lt;body&gt;\n&lt;div id=\"wrapper\" style=&lt;?php echo\"background:url(/media/uploads/backgrounds/\".$background.\");\";?&gt;&gt;\n</code></pre>\n\n<p>The variable I looking to use <code>$background</code></p>\n"},{"tags":["java","json","mvc","spring-mvc","jackson"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":130,"score":0,"question_id":11411816,"title":"Spring Controller returns unformatted json","body":"<p>I have configured my application to return html, json or xml views.\nhtml and xml views are fine but there is a problem with the json views.</p>\n\n<p>The returned json is always prefixed with an \"{} &amp;&amp;\"</p>\n\n<p>example</p>\n\n<pre><code>{} &amp;&amp; {\"asd\":{\"name\":\"Practical Spring LDAP\",\"isbn\":\"978-1475265453\",\"author\":\"Balaji Varanasi\"}}\n</code></pre>\n\n<p>my spring configuration to render the views is</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.servlet.view.ContentNegotiatingViewResolver\"&gt;\n      &lt;property name=\"mediaTypes\"&gt;\n        &lt;map&gt;\n          &lt;entry key=\"html\" value=\"text/html\"/&gt;\n          &lt;entry key=\"json\" value=\"application/json\"/&gt;\n          &lt;entry key=\"xml\" value=\"application/xml\"/&gt; \n        &lt;/map&gt;\n      &lt;/property&gt;\n      &lt;property name=\"viewResolvers\"&gt;\n        &lt;list&gt;\n          &lt;bean class=\"org.springframework.web.servlet.view.UrlBasedViewResolver\"&gt;\n            &lt;property name=\"viewClass\" value=\"org.springframework.web.servlet.view.JstlView\"/&gt;\n            &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\"/&gt;\n            &lt;property name=\"suffix\" value=\".jsp\"/&gt;\n          &lt;/bean&gt;\n        &lt;/list&gt;\n      &lt;/property&gt;\n      &lt;property name=\"defaultViews\"&gt;\n        &lt;list&gt;\n          &lt;bean class=\"org.springframework.web.servlet.view.json.MappingJacksonJsonView\"&gt;\n            &lt;property name=\"prefixJson\" value=\"true\"/&gt;\n          &lt;/bean&gt;\n\n          &lt;bean class=\"org.springframework.web.servlet.view.xml.MarshallingView\"&gt;  \n             &lt;constructor-arg&gt;  \n                 &lt;bean class=\"org.springframework.oxm.jaxb.Jaxb2Marshaller\"&gt;  \n                     &lt;property name=\"classesToBeBound\"&gt;  \n                         &lt;list&gt;  \n                             &lt;value&gt;com.sam.beans.Book&lt;/value&gt;  \n                          &lt;/list&gt;  \n                     &lt;/property&gt;  \n                 &lt;/bean&gt;  \n             &lt;/constructor-arg&gt;  \n         &lt;/bean&gt;  \n        &lt;/list&gt;\n      &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>sample controller</p>\n\n<pre><code>@RequestMapping(\"/getBook\")\npublic String showBook(Model model)  \n{  \n    model.addAttribute(\"book\", new Book(\"Practical Spring LDAP\", \"978-1475265453\", \"Balaji Varanasi\"));  \n\n    return \"book\";  \n}\n</code></pre>\n\n<p>help needed...</p>\n\n<p>UPDATE: adding class definition for Book</p>\n\n<pre><code>@XmlRootElement(name=\"book\")  \npublic class Book  \n{  \n    private String name;  \n    private String isbn;  \n    private String author;  \n\n    public Book()  \n    {  \n\n    }  \n\n    public Book(String name, String isbn, String author)  \n    {  \n        this.name = name;  \n        this.isbn = isbn;  \n        this.author = author;  \n    }  \n\n    public String getName() {  \n        return name;  \n    }  \n    public void setName(String name) {  \n        this.name = name;  \n    }  \n    public String getIsbn() {  \n        return isbn;  \n    }  \n    public void setIsbn(String isbn) {  \n        this.isbn = isbn;  \n    }  \n    public String getAuthor() {  \n        return author;  \n    }  \n    public void setAuthor(String author) {  \n        this.author = author;  \n    }  \n}  \n</code></pre>\n"},{"tags":["c#","asp.net-mvc","mvc","architecture"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":1,"view_count":161,"score":0,"question_id":9881417,"title":"Web app architecture advice","body":"<p>The team I work with (3 people) are currently discussing the architecture of a new medium size web application and as you can imagine there are contrasting opinions within the team about how the application should be designed.  What I'm trying to do is post some of these ideas with the advantages /disadvantages to each approach that we know of so the SO community can help us go down the best route and/or achieve a compromise.  </p>\n\n<p>Architecture A:</p>\n\n<ol>\n<li><p>Repository layer:</p>\n\n<p>Calls to Entity Framework</p></li>\n<li><p>Service / Business Layer:</p>\n\n<ul>\n<li>Each 'Manager' to have an interface</li>\n<li>Each 'Manager' to have 2 implementations (1 mock / 1 actual)</li>\n<li>Methods in Manager classes to call Repository and then apply business logic</li>\n<li>Each method to be unit tested</li>\n</ul></li>\n<li><p>Presentation Layer (MVC):</p>\n\n<ul>\n<li>Managers to be created via some sort of Service Locator pattern</li>\n<li>Each controller to have unit tests written against it</li>\n</ul></li>\n</ol>\n\n<p>Architecture B:</p>\n\n<ol>\n<li><p>Service / Business Layer:</p>\n\n<ul>\n<li>Contains only concrete 'Manager' classes</li>\n<li>Methods call Entity framework directly (eg we're treating EF as the repo)</li>\n<li>Interfaces may be used but only where there is a need for different implementations</li>\n<li>Unit tests as and when when required</li>\n</ul></li>\n</ol>\n\n<p>2. Presentation Layer (MVC):</p>\n\n<ul>\n<li>Manager classes to be created directly</li>\n<li>Unit test only code that is fragile or of significant complexity</li>\n</ul>\n\n<p>Some assumptions you can make:</p>\n\n<ul>\n<li>Most methods within the app will be database calls with the odd bit of authentication / restricting data returned based on user permissions / etc</li>\n<li>95% of controllers contain no significant complexity</li>\n<li>There is no business need to swap out or have different implementations of the Business layer classes.  The business are happy to take the refactoring hit in the unlikely event we have to switch databases / etc</li>\n<li>The estimated code size including markup etc is about 50k lines (based on the previous version of the web app which is a mess)</li>\n<li>Development time is tight</li>\n<li>There is a dedicated QA person</li>\n</ul>\n\n<p>Sorry, if this appears contrary, but my preferred architecture is actually B for a number of reasons.</p>\n\n<ol>\n<li><p>I've worked on projects that are abstracted to the nth degree and it does take a lot longer to make changes to each of the layers,  rebuild in VS,  revise the tests / mock methods / etc and it offers not much return for projects that are essentially simple CRUD applications</p></li>\n<li><p>The business don't care if the app has the cleanest architecture in the world,  they just want to ship the product quickly without too many bugs</p></li>\n<li><p>For the vast majority of methods (in all layers) a simple functional test is all that's required.  If the method GetProductById doesn't work,  fix it!  In my opinion a unit test method containing more lines of code than the method being tested just isn't required for simple methods.</p></li>\n<li><p>I want to be able to right click a method, choose 'Go to definition' and see that actual method source!  I don't want to see the interface definition and then have to lookup the actual method elsewhere.   Sure if everything uses interfaces then swapping to a different database should* be a breeze but realistically that just doesn't happen nor is it likely to happen for this project.</p></li>\n</ol>\n\n<p>In summary,  I'm not against interfaces or unit tests however where there seems to be a proliferation of either that brings little to no benefit I can't see the point.</p>\n\n<p>Anyone have any suggestions/ advice?</p>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","design-patterns"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":500,"score":3,"question_id":9887660,"title":"ASP.NET MVC - create a new Model or use a Entity framework class","body":"<p>I am developing a ASP.NET MVC 3 application, i am using entity framework code first in order to create the classes of my app, and i also have a repository in order to perform the operations on it, keeping clean the DBContext and the DBEntities definitions.</p>\n\n<p>My doubt is about the render of the views and the way where a edit model is saved.</p>\n\n<p>If I have this entity that represent a user stored in my DB:</p>\n\n<pre><code>//Entity:\npublic class User \n{\n    [Key]\n    public int IdUser { get; set; }\n    public string UserName { get; set; }   \n    public string Password { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string Email { get; set; }\n}\n</code></pre>\n\n<p>And i want to show a View with the FirstName, LastName, Email and NewPassword, ConfirmPasword and CurrentPassword,  in order to let the user change his data, typing the CurrentPassword to confirm the changes, so my doubt is, fieds like ConfirmPasword and CurrentPassword aren´t in my entity so i need to create a new model for this View and the copy the information that i want from my new Model to my database entity in order to save it? Like:</p>\n\n<pre><code>public class UpdateUserModel\n{\n\n    [Required]\n    [Display(Name = \"Name\")]\n    public string FirstName{ get; set; }\n\n    [Required]\n    [Display(Name = \"Last Name\")]\n    public string LastName{ get; set; }\n\n    [Required]\n    [DataType(DataType.EmailAddress)]\n    [Display(Name = \"Not valid email\")]\n    public string Email { get; set; }      \n\n    [DataType(DataType.Password)]\n    [Display(Name = \"New password\")]\n    public string NewPasword{ get; set; }\n\n    [DataType(DataType.Password)]\n    [Display(Name = \"Confirm the New Pasword\")]\n    [Compare(\"NewPasword\", ErrorMessage = \"Password doesn´t mach.\")]\n    public string ConfirmPasword{ get; set; }\n\n    [Required(ErrorMessage = \"Need to specify the current password to save changes\")]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Current Password\")]\n    public string CurrentPassword { get; set; }\n}\n</code></pre>\n\n<p>and in the controller i made:</p>\n\n<pre><code>public ActionResult UpdateUser(UpdateUserModel model)\n{              \n    User u = (User)Membership.GetUser();            \n    u.FirstName = model.FirstName;\n    u.LastName = model.LastName;\n    u.Email = model.Email;\n\n    if (!String.IsNullOrEmpty(model.NewPassword))\n    {\n        u.Password = FormsAuthentication.HashPasswordForStoringInConfigFile(model.NewPassword.Trim(), \"md5\");\n    }\n\n    repository.UpdateUser(u);\n\n    return View();\n}\n</code></pre>\n\n<p>There are any way of doing this having a controller like:</p>\n\n<pre><code>public ActionResult UpdateUser(User u)\n{               \n    repository.UpdateUser(u);              \n    return View();\n}\n</code></pre>\n\n<p>Because if i have that, how i can add the field like, ConfirmPassword or CurrentPassword in order to made the validation for this specific View.</p>\n"},{"tags":["asp.net-mvc","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":219,"score":3,"question_id":8406822,"title":"What's the role of the Model in MVC?","body":"<p>I've read a few articles about MVC but there's one thing that isn't clear to me. What is the role of the model in practical term.</p>\n\n<p>Does the model represent the business object?\nOr is it just a class that help send information from the controller to the view?</p>\n\n<p>Take for example two business class (data populated from the database)</p>\n\n<pre><code>Class Image\n    Property FileName As String\n    Property CreatedBy As User\nEnd Class\n\nClass User\n    Property UserName as String\nEnd Class\n</code></pre>\n\n<p>Will \"Image\" be the model or should I create a new class?</p>\n\n<p>In the model, should I create a UserName property that will fetch it's data from the User object?</p>\n\n<pre><code>Class ImageModel\n    Property FileName As String\n    Property CreatedBy As User\n\n    ReadOnly Property UserName As String\n        Get\n            Return User.UserName\n        End Get\n    End Property\nEnd Class\n</code></pre>\n"},{"tags":["asp.net-mvc","entity-framework","mvc","design-patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":9915958,"title":"Asp.net MVC the right choice for my situation?","body":"<p>My product is going to be a asp.net based web data entry forms application. \nThe twist is that I cannot predict the entire underlying table structure. I am simplifying a lot here to get to the root of my design. I will have, say, one data table \"TableData\" which will contain say 10 columns that I ship my product with. My customers can add their own fields to this table and register these fields and their validation rules and other meta data into a different table \"FieldInfo\". Based on what is in \"FieldInfo\" , I will automatically generate a UI (say : \"Gender\" field has been registered with two choices \"Male,Female\", i will autogenerate a UI with a dropdown control). This table approach I describe above is something I cannot change.</p>\n\n<p>What is not clear to me yet is whether ASP.Net MVC is a good choice for this since the \"M\" in MVC is never static in my case and I don't know what the view for a particular item is going to be ? (e.g. If no choices were defined for gender, I would want to render a simple textbox to the web page instead of a dropdown). \nAlso, using Entity Framework at the Model level did not seem a good choice since it seems to be geared towards a solid table structure that does not change from one week to the next in a customer environment.</p>\n\n<p>I do want to support different form factors (tablets, phones etc) with different views/forms.</p>\n\n<p>I'd appreciate any insights and suggestions. Thanks for reading.</p>\n"},{"tags":["asp.net-mvc","mvc","mobile","responsive-design","device-detection"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":149,"score":2,"question_id":8354778,"title":"parallel development for desktop and mobile web with server-side device detection","body":"<p>I'm developing a website and want to provide a mobile and desktop friendly experience to the user. </p>\n\n<p>Coming from base html5/css/js development, I know enough css tricks, mobile first techniques, liquid layouts and media queries to get along fine but to optimize the solution even more and taking into consideration that I'm currently starting to work with .net/mvc(incl. razor) I'm looking for new options.</p>\n\n<p>I've read about device detection techniques (currently favoring <a href=\"http://51degrees.codeplex.com/\" rel=\"nofollow\">http://51degrees.codeplex.com/</a> ) and now I'm trying to figure out the options I have to optimize my website for all users.</p>\n\n<p>I don't want mobile users to load the large versions of images and unnecessary scripts/stylesheets/background images etc. and I don't want to overwrite all mobile stylesheets as in a \"mobile first\" approach.</p>\n\n<p>As I have just started working / learning how to work with the MVC pattern I'm asking you:\nIs it possible with the MVC pattern / development to build one combined website (not a desktop and a mobile version) and include javascript, image urls, stylesheets etc. based on the user client / device using \"if else\" and an option to let the user switch to the full version on demand.</p>\n"},{"tags":["asp.net-mvc","mvc","form-validation","service-layer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":11401103,"title":"ASP.NETR MVC client validation from Service Layer","body":"<p>I'm following this article </p>\n\n<p><a href=\"http://www.asp.net/mvc/tutorials/older-versions/models-(data)/validating-with-a-service-layer-cs\" rel=\"nofollow\">http://www.asp.net/mvc/tutorials/older-versions/models-(data)/validating-with-a-service-layer-cs</a></p>\n\n<p>to include a Service Layer with Business Logic in my ASP.NET MVC Web Application.</p>\n\n<p>I'm able to pass messages from the Service Layer to the View Model in a <code>Html.ValidationSummary</code> using <code>ModelState</code> class.</p>\n\n<p>I perform basic validation logic on the View Model (using <code>DataAnnotation</code> attributes) and I have <code>ClientValidation</code> enabled by default, which displaying the error message on <strong>every single field of my form</strong>.</p>\n\n<p>The Business logic error message which come from the Service Layer are being displayed on <code>Html.ValidationSummary</code> only after Posting the form to the Server.</p>\n\n<p>After Validation from the Service Layer, I would like highlight one or more fields and have the message from the Service Layer showing on these fields instead that the <code>Html.ValidationSummary</code>. </p>\n\n<p>Any idea how to do it?</p>\n"},{"tags":["mvc","model","struts2","action","model-driven"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":180,"score":1,"question_id":11484927,"title":"Struts2 : Model or Action? What about the Model-Driven class?","body":"<p>I'm not concerned about making a useful project under Struts2, only, but a well structured one, too. I have a bean called <strong>Custormer</strong>, in which there are necessary attributes and their getters and setters.. I wonder then where I should build the different manipulations of the <strong>Custormer</strong> bean, such as <strong>Subscribe</strong>, <strong>Upgrade</strong>, ... Should it be in the Model class or the Action class? Also, I don't understand exactly for what the <strong>Model-Driven</strong> class is needed.. Thank you a lot guys :)</p>\n"},{"tags":["php","mvc","mobile","controller","desktop"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11481948,"title":"MVC, different content for mobile and desktop","body":"<p>I have a question about developing for mobile and desktop.<br />\ni need offer a mobile and other content for desktop... The idea is the following:<br />\n<strong>[mobile]</strong>  text content only with a few menu items<br />\n<strong>[desktop]</strong> content complete with text and pictures, with all menu items<br /><br />\nto solve this problem, I have the idea that the controller identifies the request, then it will load the <strong>model_mobile</strong> / <strong>model_desktop</strong> and <strong>view_mobile</strong> / <strong>view_desktop</strong>... is that correct?<br /><br />\nbasically would be in the controller:</p>\n\n<pre><code>if ($ request-&gt; ismobile () === true)\n{\ninclude 'model_mobile.php';\ninclude 'view_mobile.php';\n}\nelse\n{\ninclude 'model_desktop.php';\ninclude 'view_desktop.php';\n}\n</code></pre>\n"},{"tags":["asp.net-mvc","mvc","validation","dataannotations","modelbinding"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":181,"score":1,"question_id":10524395,"title":"MVC Model binding / validation","body":"<p>After a year or so of MVC experience I'm still confused about one thing: How to effectively use the DataAnnotations with ModelState.IsValid? For simple tutorial example this all works just fine and I have no questions about that. But supposed I have the following model:</p>\n\n<pre><code>Public Class Movie\n\n    Public Property MovieID As Integer\n    Public Property Title As String\n    Public Property Year As Integer\n    Public Property AddedByUser As String\n\nEnd Class\n</code></pre>\n\n<p>Now the field AddedByUser is required in the database however I don't want the user to provide this but rather the business logic based on the currently logged in user. How would I use the DataAnnotation attributes for this scenario? If I make this field required then in the controller when I say:</p>\n\n<pre><code> Public Function SaveMovie(ByVal entity as Movie) As ActionResult\n    If ModelState.IsValid\n       // Save to DB here...\n    End If\n    Return View(entity)\n End Function\n</code></pre>\n\n<p>... the validation will fail because I don't have that field in the view bindings. Should I have a hidden field for this? Should I write a custom view model for SaveMovie action? I suppose I could write my own validation in business logic but then why use model validation at all? Custom model binder perhaps? What is the best way to handle these types of scenarios?</p>\n\n<p>Just to give another example scenario what about the difference between insert and update operation and validation? For update operations object's primary key is required. However that is not the case for inserts. Are you supposed to have separate models for insert and update just because of this one key property?</p>\n"},{"tags":["ruby-on-rails","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":11377584,"title":"Rails 3 after_initialize to create a post","body":"<p>I'm attempting to use after_initialize in Rails 3 to build someone's first post automatically. I've got default values set up in the model but what I'm hoping is that once the User is created, that it builds their first Post. So instead of just default_values, they'll have a Post entry with ID of 1.</p>\n\n<p>Model:</p>\n\n<pre><code>class Etho &lt; ActiveRecord::Base\nbelongs_to :user\nattr_accessible :word_one, :word_two, :word_three, :word_four, :tagline\nafter_initialize :default_values\n\nprivate\n def default_values\n  self.word_one   ||= \"Adventagious\"\n  self.word_two   ||= \"Funny\"\n  self.word_three ||= \"Multidisciplined\"\n  self.tagline    ||= \"Shares the same visions as JFK. Wants to see the world fortune in prosperity.\"\n end\n\nend\n</code></pre>\n"},{"tags":["ruby-on-rails","database","ruby-on-rails-3","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":159,"score":1,"question_id":11326904,"title":"Rails - Scalable calculation model","body":"<p>I currently have a calculation structure in my rails app that has models <code>metric</code>, <code>operand</code> and <code>operation_type</code>.</p>\n\n<p>Presently, the <code>metric</code> model has many <code>operands</code>, and can perform calculations based on the <code>operation_type</code> (e.g. sum, multiply, etc.), and each <code>operand</code> is defined as being right or left (i.e. so that if the operation is division, the numerator and denominator can be identified).</p>\n\n<p>Presently, an operand is always an attribute of some model, e.g. <code>@customer.sales.selling_price.sum</code>.</p>\n\n<p>In order to make this scalable, in need to allow an operand to be <em>either</em> an attribute of some kind, or the results of a previous operation, i.e. an operand can be a metric.</p>\n\n<p>I have included a diagram of how my models currently look:</p>\n\n<p><img src=\"http://i.stack.imgur.com/V8EEf.png\" alt=\"enter image description here\"></p>\n\n<p>Can anyone assist me with the most elegant way of allowing an operand to be an actual operand, or another metric?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT: It seems based on the only answer so far that perhaps polymorphic associations are the way to go on this, but the answer is so brief I have no idea how they could be used in this way - can anyone elaborate?</p>\n\n<p>EDIT 2: OK, I think I'm getting somewhere - essentially i presently have a metric, which has_many operands, and an operand has_many metrics. I need a polymorphic self join, where a metric can also have many metrics - do I need to call this something else, perhaps calculated_metrics, so that the metric model can use itself? That would leave me with a situation where a metric has_many operands, and a metric has many calculated_metrics.</p>\n\n<p>EDIT 3: I have updated my models as below, and would appreciate any critiques regarding whether this is a good way to approach the problem. You will note that I have added a model called <code>calculated_metric</code> that is essentially a holder for other metrics - i.e. a metric can be calculated using two operands, or a combination of an operand and a calculated_metric.</p>\n\n<p><img src=\"http://i.stack.imgur.com/zrNXl.png\" alt=\"Revised Model\"></p>\n\n<p>EDIT 4: Bounty added for anyone who can show me a detailed rails-y way of doing this.</p>\n\n<p>EDIT 5: Bounty is still up for grabs; while the answer provided below is detailed, I am looking for the best way to do this, rather than alternative ways to approach the issue (i.e. please let me know the best way to tackle the issue, rather than looking for ways to sidestep it, as I need this functionality). Thanks!</p>\n\n<p>Edit 6: Not getting much attention on this - would an increased bounty help, or is this question just not a runner? </p>\n"},{"tags":["mvc","documentation","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":11190292,"title":"Documenting Models in SQLAlchemy","body":"<p>Is there a correct way to document SQLAlchemy models? I would like to be able to put field descriptions directly into the class so I can get at the descriptions somehow. Something along <a href=\"https://docs.djangoproject.com/en/dev/ref/models/fields/#help-text\" rel=\"nofollow\">Django's help_text field</a></p>\n\n<pre><code> class User(Base):\n    username   = Column(u'username', String(255))\n    email      = Column(u'email', String(255))\n</code></pre>\n\n<p>Something along the lines of</p>\n\n<pre><code> class User(Base):\n    username   = Column(u'username', String(255), description=\"System Username unique across all clusters\")\n    email      = Column(u'email', String(255), description=\"Email address of the User, and some other important info about it I would like to get at\" )\n</code></pre>\n"},{"tags":["objective-c","ios","cocoa-touch","mvc","design-patterns"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":122,"score":-1,"question_id":11479268,"title":"How to use MVC architecture effectively","body":"<p>I have confusion over the responsibilities of a View and View-controller.</p>\n\n<p>I have read the <a href=\"http://developer.apple.com/library/mac/#documentation/General/Conceptual/CocoaEncyclopedia/Model-View-Controller/Model-View-Controller.html\" rel=\"nofollow\">Apple's Doc on MVC</a> but it does not illustrate any clear example which answers my question. </p>\n\n<p>I have a Simple Database application Which pulls the data from the database and displays it using a UITableView. </p>\n\n<p>My View is a Custom view. It is basically a \ncollection of UITableView's displayed adjacent to each other in a UIView showing data computed from the database.</p>\n\n<p>My view Controller implements the delegate for each and every UITableview.</p>\n\n<p>I have a Container view (UIVIew) which contains all UITableview within it \nviewController :</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:\n(NSIndexPath *)indexPath\n{\n\n   UIView *containerForAllview = [tableview superview];\n   //container view contains list of dataset . each of which is displayed \n   //  by it's own    respective tableview\n\n   if(tableview = atableview){\n      array = containerForAllview.getDatafortable(atableview);\n\n\n    }else if(tableview = btableview){\n     array = containerForAllview.getDatafortable(btableview);\n    }\n    /// like this for few more tables \n\n    // configure cells using this array\n    cell.text = [array objectAtIndex:indexpath.row].name;\n}\n</code></pre>\n\n<p>I feel something is fishy about my design.</p>\n\n<ol>\n<li>Does View Controller need to be aware of my entire view Hierarchy . initially I thought my ContainerView would abstract everything.</li>\n<li>(whose responsibility it is to handle user events)delegate of tableviews should be implemented by containerView or my viewcontroller.</li>\n<li>If my views handle events then then my UIViews need to have a reference of my data model which violates the concept of MVC architecture.</li>\n<li>Is it wrong that my container view is holding array of list to feed its tableviews or I should move that logic to view controller ?</li>\n</ol>\n"},{"tags":["mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":11476177,"title":"MVC Pattern and VBD(view-busines-data access) are the same thing?","body":"<p>I've the following (theoretical architecture):</p>\n\n<ul>\n<li>a view layer: a web site which show pages in Php</li>\n<li>a business logic layer divided in two parts: one communicates with the view layer , the other consists of a java project</li>\n<li>a data access layer which let the \"two\" business layer to communicate with two databases</li>\n</ul>\n\n<p>The question is: can this be considered a MVC pattern?</p>\n\n<p><img src=\"http://i.stack.imgur.com/f2ySK.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c#","winforms","mvc","data-binding","usercontrols"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":136,"score":2,"question_id":11258801,"title":"Bind data from controller to View -> Control","body":"<p>I am implementing MVC in a WinForms Application. In the view there is a combobox control. I have declare a property called SheetLoader with getter and setter: </p>\n\n<pre><code>public BindingSource SheetLoader\n{\n    get { return (BindingSource)comboBox_workSheetList.DataSource; }\n    set { this.comboBox_workSheetList.DataSource = (BindingSource)value; }\n}\n</code></pre>\n\n<p>In controller I want to access setter above and bind the <code>BindingSource</code> to the combobox.</p>\n\n<pre><code>view.SheetLoader = _bindingSource;\n</code></pre>\n\n<p>But this way is not working. The combobox will not assign any item.\nI have debugged it, However the <code>value</code> gets data. </p>\n\n<p>Please help me to bind data from controller to View -> Control. </p>\n"},{"tags":["mvc","extjs","grid","extjs4","store"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":194,"score":0,"question_id":11452374,"title":"ExtJs4 Mapping a treeStore level to a Store","body":"<p>What is a good way to map a level of a treestore to a flat store. In my case, </p>\n\n<p>I want to group criteria for a search. All search criteria are inserted into the top level of the treeStore, unless they are grouped, in which case they become children of a top level logical(AND or OR) node. So, within a grid, I want to display the top level nodes (via some toString method I will define in the model). This is the easy part, I just go through the top level of my tree and generate the output for the Store/grid. However, when I want to remove something from the grid/store, it also needs to be removed from the treestore which represents the actual logical structure. </p>\n\n<p>So, How can I keep track of which textual store item corresponds to which top level node in my treeStore?</p>\n"},{"tags":["mvc","validation","asp.net-mvc-3","unobtrusive-javascript","fileinput"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3852,"score":2,"question_id":5633092,"title":"file input MVC 3 Client-side validation for required","body":"<p>Simple question... Is it possible to use client side MVC 3 validation on inputs of type file? </p>\n\n<p>To explain: MVC 3 uses its model validation with IClientValidatable and unobtrusive javascript to allow you to write validation on the server side and have it render the client side using jquery validate using Microsoft's plugins. To make a property required you add the attribute below</p>\n\n<pre><code>[Required]\npublic HttpPostedFileBase CvFile {get; set;}\n</code></pre>\n\n<p>As long as client side val and unobtrusive javascript is on in the config this should all fire on the client. </p>\n\n<p>However HttpPostedFileBase (i.e. <code>&lt;input type=\"file\" name=\"Model.CvFile\" /&gt;)</code> will not run required on the client side. </p>\n\n<p>Any ideas how this can be achieved keeping the relationship with the server side validation</p>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc","dry"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":11467998,"title":"Is it possible to \"map\" a controller action to another controller action but changing some parameter?","body":"<p>I am using Ruby on Rails 3.2.2 and I would like to know if it is possible to \"map\" a controller action to another controller action but changing some parameter. That is, I have followings models and controllers:</p>\n\n<pre><code># File system:\n# /app/models/articles/user_association.rb\n# /app/models/users/article_association.rb\n# /app/controllers/users/article_associations_controller.rb\n# /app/controllers/articles/user_associations_controller.rb\n\n\n# /app/models/articles/user_association.rb\nclass Articles::UserAssociation &lt; ActiveRecord::Base\n  ...\nend\n\n# /app/models/users/article_association.rb\nclass Users::ArticleAssociation &lt; Articles::UserAssociation # Note inheritance\n  #none\nend\n\n# /app/controllers/users/article_associations_controller.rb\nclass Articles::UserAssociationsController &lt; ApplicationController\n  def show\n    @articles_user_association = Articles::UserAssociation.find(params[:article_id])\n    ...\n  end\n\n  def edit\n    @articles_user_association = Articles::UserAssociation.find(params[:article_id])\n    ...\n  end\n\n  ...\nend\n\n# /app/controllers/articles/user_associations_controller.rb\nclass Users::ArticleAssociationsController &lt; ApplicationController\n  def show\n    # It is the same as the Articles::UserAssociationsController#show \n    # controller action; the only thing that changes compared to \n    # Articles::UserAssociationsController#show is the usage of \n    # 'params[:user_id]' instead of 'params[:article_id]'.\n    @users_article_association = Users::ArticleAssociation.find(params[:user_id])\n    ...\n  end\n\n  def edit\n    # It is the same as the Articles::UserAssociationsController#edit\n    # controller action; the only thing that changes compared to  \n    # Articles::UserAssociationsController#edit is the usage of\n    # 'params[:article_id]' instead of 'params[:user_id]'. \n    @users_article_association = Users::ArticleAssociation.find(params[:user_id])\n    ...\n  end\n\n  ...\nend\n</code></pre>\n\n<p>So, I would like to handle HTTP requests directed to the <code>/users/:user_id/article</code> path as the controller action related to the <code>/articles/:article_id/user</code> path. </p>\n\n<p><em>Note</em>: I would like to make that in order to DRY (Don't Repeat Yourself) code, but, as said previously, the only thing that change between <code>Users::ArticleAssociationsController</code> and <code>Articles::UserAssociationsController#show</code> is <code>params</code>.</p>\n\n<p>Is it possible?</p>\n"},{"tags":["mvc","validation","file-upload"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":793,"score":0,"question_id":5394576,"title":"MVC File upload validation","body":"<p>I have a simple situation where I have a page that uploads Files, for some importing.  At the moment, all I have is a file upload input on my page.</p>\n\n<p>this is what my get controller looks like </p>\n\n<pre><code>public ActionResult FileUpload()\n{\n    return View();\n}\n</code></pre>\n\n<p>This is what my view looks like</p>\n\n<pre><code>@{\n     ViewBag.Title = \"FileUpload\";\n }\n&lt;h2&gt;FileUpload&lt;/h2&gt;\n&lt;form action=\"/Home/FileUpload\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n&lt;input type=\"file\" id=\"newFile\" name=\"newFile\" /&gt;\n&lt;input type=\"submit\" id=\"submitButton\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and this is what my post action looks like </p>\n\n<pre><code>[HttpPost]\n    public ActionResult FileUpload(HttpPostedFileBase newFile)\n    {\n        if (newFile.ContentLength &gt; 0)\n        {\n            //do stuff here\n        }\n        return View(\"Index\");\n    }\n</code></pre>\n\n<p>You will of course notice there is no mention of a model here as I cannot find a way to create a model for this situation.  I would like to have some very basic validation, along the lines of 'please choose a file before you upload', thats all.</p>\n\n<p>Is there a way to achieve this?!</p>\n\n<p>Thanks in advance</p>\n\n<p>Will</p>\n"},{"tags":["asp.net-mvc","mvc","architecture"],"answer_count":8,"favorite_count":10,"up_vote_count":22,"down_vote_count":0,"view_count":2739,"score":22,"question_id":2568010,"title":"How to structure an enterprise MVC app, and where does Business Logic go?","body":"<p>I am an MVC newbie.  As far as I can tell:</p>\n\n<ul>\n<li><strong>Controller</strong>: deals with routing requests</li>\n<li><strong>View</strong>: deals with presentation of data</li>\n<li><strong>Model</strong>: looks a whole lot like a Data Access layer</li>\n</ul>\n\n<p>Where does the Business Logic go?  </p>\n\n<p>Take a large enterprise application with:</p>\n\n<ul>\n<li>Several different sources of data (WCF, WebServices and ADO) tied together in a data access layer (useing multiple different DTOs).</li>\n<li>A lot business logic segmented over several dlls. </li>\n</ul>\n\n<p>What is an appropriate way for an MVC web application to sit on top of this (in terms of code and project structure)?  </p>\n\n<p>The example I have seen where everything just goes in the Model folder don't seem like they are appropriate for very large applications.</p>\n\n<p>Thanks for any advice!</p>\n"},{"tags":["php","javascript","ajax","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":115,"score":0,"question_id":11449525,"title":"MVC & Javascript","body":"<p>I'm developing a big application based on MVC in PHP; I decided to make a big initial load of all data with MVC, then won't exist and reload of the page, all will be changes with JavaScript.</p>\n\n<p>I have a initial top menu with some options and a submenu that depends of the option selected on first menu.</p>\n\n<p>Is there is any way to get that array data from the class of MVC loaded at start?</p>\n\n<p>I think in AJAX, but i will need re-query the database to populate the array and the get this data.</p>\n\n<p>I try to only get from database at start with MVC, and search for a solution to make a lot of jQuery DOM changes without reloading from the database.</p>\n"},{"tags":["mvc","webforms","asp.net-webforms"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":726,"score":2,"question_id":356599,"title":"MVC using ASP.NET webforms","body":"<p>I've inherited an ASP.NET application built on top of webforms, and the application suffers from having all of its business logic embedded in the codebehind. As a result, this application can't be unit tested.</p>\n\n<p>I want to break out the functionality of every form into an MVC style, but I've found that ASP.NET resists every effort on my part to refactor it. In general, I like to seperate my MVC classes as follows:</p>\n\n<pre><code>\npublic class LoginModel\n{\n    public string Username, Password;\n    public bool IsAuthenticated;\n}\n\npublic interface ILoginView\n{\n    event Action UserLoggedIn;\n    void SetMode(bool isAuthenticated);\n}\n\npublic class LoginController\n{\n    ILoginView View;\n    LoginModel Model;\n\n    public LoginController(ILoginView view, LoginModel model)\n    {\n        this.View = view;\n        this.Model = model;\n\n        // hook onto view events\n    }\n}</code></pre>\n\n<p>Once I've got my classes set up and nicely unit tested, I can implement the <code>ILoginView</code> interface on my usercontrol or page:</p>\n\n<pre><code>\npublic class LoginView : UserControl, ILoginView\n{\n    public LoginView() : base()\n    {\n        new LoginController(this); // registers view with the controller\n    }\n}\n</code></pre>\n\n<p>If this were a winform application, it would work beautifullly. But the ASP.NET lifecycle causes this style to break down.</p>\n\n<ul>\n<li><p>ASP.NET creates and destroys the view on every page load. Since my Controller is held by the View, the Model is held by the Controller, every postback causes my page to lose its state.</p></li>\n<li><p>I can remedy the problem above by holding my Controller in the users session, but that introduces a world of problems. In particular, putting Controllers in the session causes memory issues because Models and Controllersaren't reclaimed by garbage collection until the session expires. Navigating from page to page creates dozens of controllers, but the controllers don't dispose of themselves when the user navigates away from a page.</p></li>\n<li><p>Since a view is destroyed/recreated on every postback, then I have to re-register the view with the controller on every postback. This is harder to do than it sounds, because the state of the Model needs to be copied back to the View on every postback, but simultaneously we don't want to overwrite a users changes to the View which were made in the previous postback. You have no idea what kind of additional nightmare this turns into when dealing with dynamically created or AJAXed controls using this MVC style.</p></li>\n</ul>\n\n<p>I know I'm overthinking this and there is an easier way to get the results I want, but how do I implement an MVC style properly using webforms?</p>\n"},{"tags":["asp.net-mvc","mvc","code-behind"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":1,"view_count":1245,"score":4,"question_id":355106,"title":"ASP.NET MVC Views - Can I use code-behind","body":"<p>I am new to MVC and I notice that the view pages can look pretty nasty with all the intermixed script tags. Does it make sense to generate the HTML in a method in the view code-behind and then just insert the string result of the method as a single bit of script?</p>\n\n<p>For example: <code>&lt;div&gt;&lt;%= GenerateTonsOfHTMLFromSomeIEnumerable() %&gt;&lt;/div&gt;</code></p>\n\n<p>Is this contrary to the MVC philosophy? Dumb for some other reason, like performance? Does it have any merit?</p>\n"},{"tags":["asp.net-mvc","mvc","architecture","repository-pattern","poco"],"answer_count":4,"favorite_count":5,"up_vote_count":10,"down_vote_count":0,"view_count":1745,"score":10,"question_id":352295,"title":"How should I structure a simple ASP.NET MVC app?","body":"<p>I've been reading a few things about ASP.NET MVC, SOLID and so on, and I am trying to figure out a simple \"recipe\" for small-to-medium ASP.NET MVC apps that would put these concepts together; the issue that I am most concerned with is ending up with controllers that are too complex and being like code-behind files in webforms, with all type of business logic into them.</p>\n\n<p>I am considering the following architecture, for a small data-driven app:</p>\n\n<ul>\n<li>Controllers: only handle requests, call an appropriate service and return the action result to the View; </li>\n<li>Models: POCO, handle all the business logic, authorization etc. Depends on repositories, totally ignorant of persistence infrastructure.</li>\n<li>Repositories: implement <code>IRepository&lt;T&gt;</code>, use dependency injection and is where my db code will reside; only receives and returns POCO.</li>\n</ul>\n\n<p>I am considering having services between the controllers and the models, but if they will just pass forward method calls I am not sure how useful it would be.</p>\n\n<p>Finally there should have unit tests covering the model code, and unit+integration tests covering the repository code (following the \"red-green\" practice, if possible)</p>\n\n<p>Thoughts?</p>\n"},{"tags":["asp.net-mvc","mvc","design-patterns"],"answer_count":8,"favorite_count":6,"up_vote_count":7,"down_vote_count":0,"view_count":1774,"score":7,"question_id":425306,"title":"Is MVC the best way to code asp.net applications?","body":"<p>update:  I know there is no one best way to do everything.  Sorry for not saying that right off.  In the context of the data-access tutorials, if you had to do the project he did in that tutorial, would you do what he did or would use use MVC, if you had to choose one of them?</p>\n\n<p><strong>Update:</strong> Is MVC the more appropriate way to program asp.net applications, instead of the tutorials found here:</p>\n\n<p><a href=\"http://www.asp.net/Learn/data-access/\" rel=\"nofollow\">http://www.asp.net/Learn/data-access/</a></p>\n\n<p><strong>Original:</strong></p>\n\n<p>I ask, because I initially learned about MVC with Java applications, then things like RoR, and Django.  These other projects and companies spoke as if MVC had been around for a very long time, and from what I found out it had.  Then Microsoft started putting MVC into the .net framework.</p>\n\n<p>I ask because I don't know how to design things very well and thought I was doing well to emulate what's on the asp.net site with Scott Mitchell's tutorial.  I thought that creating abstract layers in a BLL was the way to go until I found out about MVC and now asp.net's MVC.</p>\n\n<p>I honestly don't know what the \"right\" way is to do things.  I just create what I need, but I can't help feel like I am missing something.</p>\n\n<p>Is MVC the correct way to start doing things in large projects, specifically I mean MVC and ASP.NET, but could just as well mean PHP and one of their MVC frameworks.</p>\n\n<p>I'd like to settle on a standard way of doing things...for now anyway.</p>\n\n<p>And, out of curiosity, why did Microsoft only now start doing MVC?</p>\n\n<p><strong>UPDATE:</strong> Is MVC better than the current tutorial set on asp.net?</p>\n\n<p>I'm referring to the Scott Mitchell tutorials where he creates the BLL for abstraction.  Or is that a linq question as well.  I should have said that I understand the need for keeping logic and presentation separate but unsure the best way to do it.  I was using the asp.net tutorials.  It worked fine.  Then I found out the rest of the world, as I saw it anyway, was using MVC.  Then Microsoft started developing MVC, so to me the other method seems obsolete and the wrong way to do things.</p>\n"},{"tags":["asp.net-mvc","visual-studio-2010","mvc","tfs","tfs2010"],"answer_count":3,"favorite_count":2,"up_vote_count":14,"down_vote_count":0,"view_count":8182,"score":14,"question_id":8563325,"title":"MVC project on VS2010 error : The project type is not supported by this installation","body":"<p>I'm trying to open <code>MVC project</code> using <code>VS2010</code>.\nI'm opening this project from <code>TFS server</code> but I'm failed to open it \nand getting error : \n<code>The project type is not supported by this installation.</code></p>\n\n<p>please help.</p>\n"},{"tags":["mvc","design-patterns","language-agnostic"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":521,"score":-1,"question_id":3742018,"title":"In ideal MVC should the view know the model?","body":"<p>My question is about the ideal or the original MVC interpretation\n<a href=\"http://heim.ifi.uio.no/~trygver/themes/mvc/mvc-index.html\" rel=\"nofollow\">http://heim.ifi.uio.no/~trygver/themes/mvc/mvc-index.html</a></p>\n\n<p>As MVC goal is to reduce dependencies, should the View knows the Model ? Then what would prevent it to become fat and call directly Model Methods without asking Controller ?</p>\n\n<p>Update: as I read answer below, I'll take a concrete example:</p>\n\n<p>Let's say you create a complex calculator (not just some simple one let's say an option pricer for stock market). It only needs input like stock price, interest rate, volatility. So why would I create a reference to the whole model which contains the methods from the view since I ONLY need these input variables ?</p>\n\n<p>Why the controller would not just be notified when something change in the view and then callback a method in the view with the input only ?</p>\n\n<p>For example here I see the View has a reference to the whole model:</p>\n\n<p><a href=\"http://leepoint.net/notes-java/GUI/structure/40mvc.html\" rel=\"nofollow\">http://leepoint.net/notes-java/GUI/structure/40mvc.html</a>   </p>\n\n<pre><code>private CalcModel m_model;\n</code></pre>\n"},{"tags":["mvc","dynamic","tabs","telerik","strip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":194,"score":0,"question_id":11450265,"title":"Dynamic telerik TabStrip","body":"<p>I'm working on a dynamic Telerik Tab Strip. </p>\n\n<p>Each tab have a Grid and I need to pass a parameter to the action for filter my model but that parameter is allways null.</p>\n\n<p>View:  </p>\n\n<pre><code>     @{ Html.Telerik().TabStrip()\n            .Name(\"TabStripDetailArticle\")\n            .Items(tabstrip =&gt;\n                {\n\n        //Know how Many Zones are there\n            var zones = Model.Articles.GroupBy(e =&gt; e.Zone);\n\n        //For each Zone I need a Tab,\n                foreach (var inZone in zones)\n                {\n                    tabstrip.Add()\n                        .Text(inZone.Key)\n                        .Content(() =&gt;\n                                     {\n                    //On each tab there's a Grid and I need to pass the zone to filter my model.\n                                         @Html.Action(\"TabStripSelected\", Controllers.Valoration, new { idZone = inZone.Key });\n                                     });\n                 }\n\n        }\n        )\n\n        .SelectedIndex(0)\n        .Render();\n} \n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>  public ActionResult TabStripSelected(string idZone)\n    {\n\n       return PartialView(\"_GridArticlesByZone\",CurrentHvm.Articles.Where(e =&gt; e.Zone == idZone));\n\n    }\n</code></pre>\n\n<p>I would like to know if ther's another way to do that, or if I'm missing something.</p>\n\n<p>Thank's!</p>\n"},{"tags":["asp.net-mvc","mvc","design-patterns"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":2118,"score":3,"question_id":392318,"title":"Code behind/beside Model (.cs-aspx.cs-aspx) VS MVC model, what is the difference really?","body":"<p>What are the basic differences between classic .cs-aspx.cs-aspx (code behind/beside) model and new MVC model?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":8,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":1158,"score":13,"question_id":88763,"title":"What Is ASP.Net MVC?","body":"<p>When I first heard about StackOverflow, and heard that it was being built in ASP.Net MVC, I was a little confused.  I thought ASP.Net was always an example of an MVC architecture.  You have the .aspx page that provides the view, the .aspx.vb page that provides the controller, and you can create another class to be the model.  The process for using MVC in ASP.Net is described in this <a href=\"http://msdn.microsoft.com/en-us/library/ms998540.aspx\" rel=\"nofollow\">Microsoft article</a>.</p>\n\n<p>So my question is.  What Does ASP.Net MVC provide that you wouldn't be able to do with regular ASP.Net (even as far back as ASP.Net 1.1)?  It is just fancy URLs?  Is it just for bragging rights for MS to be able to compare themselves with new technologies like Ruby On Rails, and say, \"We can do that too\"?  Is there something more that ASP.Net MVC actually provides, rather than a couple extra templates in the File->New menu?</p>\n\n<p>I'm probably sounding really skeptical and negative right now, so I'll just stop.  But I really want to know what ASP.Net MVC actually provides. Also, if anybody can tell me why it's Model-View-Controller and not in order of the layers of View-Controller-Model or Model-Control-View depending on whether you are going top to bottom, or vice versa, I'd really appreciate that too. </p>\n\n<p>EDIT</p>\n\n<p>Also, it's probably worth pointing out that I've never really cared for the web forms (AKA server controls) model either.  I've only used it minimally, and never on the job.  </p>\n"},{"tags":["javascript","asp.net-mvc","mvc"],"answer_count":6,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1435,"score":8,"question_id":213465,"title":"Separating client side logic from server side logic in a reusable way using MVC","body":"<p>Before you answer, this question is complicated:</p>\n\n<ol>\n<li>We are developing in asp.net / asp.net mvc / jQuery but I'm open to solutions on any platform using any framework</li>\n<li>I think logic like sorting / hiding columns / re-arranging columns / validation (where it makes sense) should be on the client-side</li>\n<li>I think logic like searching / updating the db / running workflows should be on the server side (just because of security / debugging reasons)</li>\n</ol>\n\n<p>What we are trying to do is <strong>NOT CREATE A MESS</strong> in our UI by writing a bunch of JavaScript to deal with the same feature in different contexts.  I understand that I can use a JavaScript file + object oriented JavaScript, I'm looking for the pattern that makes it all easier.</p>\n\n<p>One solution proposed was to have an MVC model on both the client and server side, where we can encapsulate JavaScript functionality in client side controllers, then use them in different parts of the site.  However, this means that we have 2 MVC implementations!</p>\n\n<p>Is this overkill?  How would you expand on this solution?  What other solutions are there?</p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":14,"favorite_count":45,"up_vote_count":55,"down_vote_count":0,"view_count":5041,"score":55,"question_id":14599,"title":"ASP.NET MVC and  Model-view-controller pattern - where do I start from?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/10425/mvc-learning-resources\">MVC Learning Resources</a>  </p>\n</blockquote>\n\n\n\n<p>I'd like to improve my understanding of MVC design pattern, as I'll be probably using it in the future (my job is mainly focused in developing .NET web applications). </p>\n\n<p>Can I ask to this community to help me find a starting direction on this subject? Articles, white papers, code samples, theory... anything you found helpful!</p>\n"},{"tags":["asp.net-mvc","mvc","validation"],"answer_count":6,"favorite_count":5,"up_vote_count":11,"down_vote_count":0,"view_count":3400,"score":11,"question_id":10300,"title":"Validating posted form data in the ASP.NET MVC framework","body":"<p>I've been playing around with the ASP.NET MVC Framework and the one thing that's really confusing me is how I'm meant to do server side validation of posted form data.  I presume I don't post back to the same URL, but if I don't, how do I redisplay the form with the entered data and error messages?  Also, where should the validation logic go?  In the model or the controller?  This seems to be one of the few areas where web forms are much stronger (I miss the validation controls).</p>\n"},{"tags":["java","swing","mvc","events"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":11454506,"title":"Binding events between JComponent and ComponentUI delegate","body":"<p>I have started trying to create normal MVC Swing components. I have no problems with M and C, but V had thrown at me one problem which I cannot normally solve.\nThe problem is: Controller is main class of the component (MyComponent, for example), and it extends JComponent. View is ui delegate (MyCompanentUI) extended from ComponentUI class. All what delegate does is adds JTextField in MyCompanent and provides data binding between MyComponentModel and this field. It works just fine. But how I can bind events from JTextField to MyComponent?\nIf user wants to handle some events he adds listeners to MyComponent, but all real events (mouse, focus, keys, etc.) intercepted by JTextField, about which user does not really knows.\nSo is there any normal way to do this, except catching events and translate it to original component by hands? Or is there another way to create delegate and I just really do it all wrong?</p>\n\n<p>UPD:</p>\n\n<p>Thanks for your response, trashgod.\nBut I had something different in my mind. I was talking about something like \"events inheritance\", like in the case of \"inheritsPopupMenu\" method. So that then key, focus or mouse event happens to the component one does not process it itself, but directly transfer it to parent component. But it seems impossible, because I have noticed JSpinner has exactly the same issue - you cannot get almost any event notification from this very component.</p>\n"},{"tags":["mvc","java-ee","jsf-2","richfaces"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":11448388,"title":"Form externalized into a facelet component cannot call bean methods","body":"<p>I have this form, the line comboBox is suposed to be regenerated when changing the range one.\nThis is done with a4j from richfaces.</p>\n\n<p><img src=\"http://i.stack.imgur.com/R2lhZ.png\" alt=\"The form\"></p>\n\n<p>It was working fine until I made it into a facelet component, here is my code :</p>\n\n<p>Bean</p>\n\n<pre><code>@Getter\n@Setter\n@ManagedBean(name = \"creerProduit\")\n@SessionScoped\npublic class CreerProduitBean implements Serializable {\n    /** serial uid genere par eclipse */\n    private static final long serialVersionUID = 7901115336087748268L;\n\n    /** contenu des comboBox */\n    private List&lt;Gamme&gt; listeGammesAffichables;// ce que contient la combox\n    private List&lt;Famille&gt; listeFamillesAffichables;// ce que contient la combobox\n    private List&lt;Fournisseur&gt; listeFournisseurAffichables;// ce que contient la combobox\n\n    /** liste de toute les familles pour nos calculs */\n    private List&lt;Famille&gt; listeFamilles;// la liste de toutes les famille (pour calculs)\n\n    /** resultat du form*/\n    private String nomFournisseur;\n    private String nomFamille;\n    private String nomGamme;\n    private String designation;\n    private String txRecu;\n    private String txVerseCGP;\n    private String txVerseDR;\n    private String txIncompressible;\n    private String indications;\n\n    /**\n     * Constructeur\n     * Creates a new {@link CreerProduitBean} instance.\n     * @throws Exception\n     */\n    public CreerProduitBean() throws Exception {\n        ProduitDelegateImpl d = new ProduitDelegateImpl();\n        // recuperation de toute les gamme et famille afin de\n        // populer les comboBox\n        listeGammesAffichables = d.readAll(Gamme.class);\n        listeFournisseurAffichables = d.readAll(Fournisseur.class);\n        listeFamilles = d.readAll(Famille.class);\n\n        //permet de faire sauter le validator JSF\n       // listeFamillesAffichables = d.readAll(Famille.class);\n    }\n\n    /**\n     * fabrique le produit a partir des donnée affiché puis le sauvgarde\n     * @return\n     * @throws Exception\n     */\n    public String submit() throws Exception {\n       ProduitDelegateImpl d = new ProduitDelegateImpl();\n\n       Produit p = new Produit();\n       p.setDesignation(designation);\n       p.setRecu(Double.parseDouble(txRecu));\n       p.setIncompressible(Double.parseDouble(txIncompressible));\n       p.setVerseeAuCgp(Double.parseDouble(txVerseCGP));\n       p.setVerseeAuDr(Double.parseDouble(txVerseDR));\n\n       Famille f = new Famille();\n       Gamme g = new Gamme();\n\n       for (int i=0; i&lt;listeGammesAffichables.size(); i++){\n           if (listeGammesAffichables.get(i).getLibelle().equals(nomGamme)){\n               g = listeGammesAffichables.get(i);\n           }\n       }\n\n       for (int i=0; i&lt;listeFamillesAffichables.size(); i++){\n           if (listeFamillesAffichables.get(i).getLibelle().equals(nomFamille)){\n               f = listeFamillesAffichables.get(i);\n           }\n       }\n\n       f.setGamme(g);\n       p.setFamille(f);\n\n       d.create(p);\n\n       return \"../vues/rechercherProduit.xhtml\";    \n    }\n\n    /**\n     * Retourne la liste des famille disponible dans la gamme selectionée\n     * @param event\n     */\n    public void filterFamily(javax.faces.event.ValueChangeEvent event){\n        listeFamillesAffichables = new ArrayList&lt;Famille&gt;();\n        for (int i=0; i&lt;listeFamilles.size(); i++){\n            if (listeFamilles.get(i).getGamme().getLibelle().equals((String)event.getNewValue())){\n                listeFamillesAffichables.add(listeFamilles.get(i));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>facelet component :</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \n    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n    &lt;!-- \n    prend en parametre :\n    nomGamme\n    listeGammesAffichables\n    nomFamille\n    listeFamillesAffichables\n    nomFournisseur\n    listeFournisseurAffichables\n    designation\n    txRecu\n    txVerseCGP\n    txVerseDR\n    txIncompressible\n    indications\n    &gt;&gt;&gt;methode&lt;&lt;&lt;&lt;\n    filterFamily\n     --&gt;\n&lt;ui:composition xmlns=\"http://www.w3.org/1999/xhtml\"\n    xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n    xmlns:h=\"http://java.sun.com/jsf/html\"\n    xmlns:f=\"http://java.sun.com/jsf/core\"\n    xmlns:mytaglib=\"http://mytaglib.com/facelets\"\n    xmlns:rich=\"http://richfaces.org/rich\"\n    xmlns:a4j=\"http://richfaces.org/a4j\"&gt;\n\n        &lt;h:panelGrid columns=\"4\" width=\"800\"&gt;\n            &lt;h:column&gt;\n                &lt;h:outputText value=\"#{msg['Gamme']}\" /&gt;:\n            &lt;/h:column&gt;\n            &lt;h:column&gt;\n                &lt;h:selectOneMenu value=\"#{nomGamme}\"\n                valueChangeListener=\"#{filterFamily}\"&gt;\n                &lt;f:selectItem itemLabel=\"-\" itemValue=\"-\" /&gt;\n                &lt;f:selectItems value=\"#{listeGammesAffichables}\" var=\"g\"\n                itemValue=\"#{g.libelle}\" itemLabel=\"#{g.libelle}\" /&gt;\n                &lt;a4j:ajax event=\"valueChange\" render=\"second\" execute=\"@this\" /&gt;\n                &lt;/h:selectOneMenu&gt;\n            &lt;/h:column&gt;\n            &lt;h:column&gt;\n                &lt;h:outputText value=\"#{msg['Famille']}\" /&gt;:\n            &lt;/h:column&gt;\n            &lt;h:column&gt;\n                &lt;a4j:outputPanel id=\"second\"&gt;\n                &lt;h:selectOneMenu value=\"#{nomFamille}\"&gt;\n                &lt;f:selectItem itemLabel=\"-\" itemValue=\"-\" /&gt;\n                &lt;f:selectItems value=\"#{listeFamillesAffichables}\" var=\"f\"\n                itemValue=\"#{f.libelle}\" itemLabel=\"#{f.libelle}\" /&gt;\n                &lt;/h:selectOneMenu&gt;\n                &lt;/a4j:outputPanel&gt;\n            &lt;/h:column&gt;\n            &lt;h:column&gt;\n                &lt;h:outputText value=\"#{msg['Fournisseur']}\" /&gt;: *\n            &lt;/h:column&gt;\n            &lt;h:column&gt;\n                &lt;h:selectOneMenu value=\"#{nomFournisseur}\"&gt;\n                &lt;f:selectItem itemLabel=\"-\" itemValue=\"-\" /&gt;\n                &lt;f:selectItems value=\"#{listeFournisseurAffichables}\" var=\"g\"\n                itemValue=\"#{g.libelle}\" itemLabel=\"#{g.libelle}\" /&gt;\n                &lt;/h:selectOneMenu&gt;\n            &lt;/h:column&gt;\n            &lt;h:column&gt;\n            &lt;/h:column&gt;\n        &lt;/h:panelGrid&gt;\n        &lt;br /&gt;\n        &lt;br /&gt;\n        &lt;h:outputText value=\"#{msg['DesignationProduit']}\" /&gt;\n        : *\n        &lt;br /&gt;\n        &lt;br /&gt;\n        &lt;h:inputText value=\"#{designation}\" id=\"designation\"\n        style=\"#{component.valid ? '' : 'border-color:red;border-width:2px'}\"&gt;\n        &lt;f:validateRegex pattern=\"^([a-zA-Z'àâéèêôùûçÀÂÉÈÔÙÛÇ0-9\\s-]{1,30})$\"&gt;&lt;/f:validateRegex&gt;\n        &lt;rich:validator /&gt;\n        &lt;/h:inputText&gt;\n        &lt;h:message for=\"designation\" /&gt;\n        &lt;br /&gt;\n        &lt;br /&gt;\n        &lt;h:outputText value=\"#{msg['TauxDeComission']}\" /&gt;\n        : *\n        &lt;br /&gt;\n        &lt;br /&gt;\n        &lt;h:panelGrid  columns=\"4\" headerClass=\"heading\"\n        rowClasses=\"row1,row2\"&gt;\n        &lt;h:column&gt;\n            &lt;h:outputText value=\"#{msg['TxRecu']}\" /&gt;\n        &lt;/h:column&gt;\n        &lt;h:column&gt;\n            &lt;h:inputText value=\"#{txRecu}\"\n            style=\"#{component.valid ? '' : 'border-color:red;border-width:2px'}\"\n            id=\"TxRecu\"&gt;\n            &lt;f:validateRegex pattern=\"^[0-9]*.?[0-9]+$\"&gt;&lt;/f:validateRegex&gt;\n            &lt;rich:validator /&gt;\n            &lt;/h:inputText&gt;\n        &lt;/h:column&gt;\n        &lt;h:column&gt;\n            &lt;h:outputText value=\"#{msg['TxVerseCGP']}\" /&gt;\n        &lt;/h:column&gt;\n        &lt;h:column&gt;\n            &lt;h:inputText value=\"#{txVerseCGP}\"\n            style=\"#{component.valid ? '' : 'border-color:red;border-width:2px'}\"\n            id=\"TxVerseCGP\"&gt;\n            &lt;f:validateRegex pattern=\"^[0-9]*.?[0-9]+$\"&gt;&lt;/f:validateRegex&gt;\n            &lt;rich:validator /&gt;\n            &lt;/h:inputText&gt;\n        &lt;/h:column&gt;\n        &lt;h:column&gt;\n            &lt;h:outputText value=\"#{msg['TxVerseDR']}\" /&gt;\n        &lt;/h:column&gt;\n        &lt;h:column&gt;\n            &lt;h:inputText value=\"#{txVerseDR}\"\n            style=\"#{component.valid ? '' : 'border-color:red;border-width:2px'}\"\n            id=\"TxVerseDR\"&gt;\n            &lt;f:validateRegex pattern=\"^[0-9]*.?[0-9]+$\"&gt;&lt;/f:validateRegex&gt;\n            &lt;rich:validator /&gt;\n            &lt;/h:inputText&gt;\n        &lt;/h:column&gt;\n        &lt;h:column&gt;\n            &lt;h:outputText value=\"#{msg['TxIncompressible']}\" /&gt;\n        &lt;/h:column&gt;\n        &lt;h:column&gt;\n            &lt;h:inputText value=\"#{txIncompressible}\"\n            style=\"#{component.valid ? '' : 'border-color:red;border-width:2px'}\"\n            id=\"TxIncompressible\"&gt;\n            &lt;f:validateRegex pattern=\"^[0-9]*.?[0-9]+$\"&gt;&lt;/f:validateRegex&gt;\n            &lt;rich:validator /&gt;\n            &lt;/h:inputText&gt;\n        &lt;/h:column&gt;\n    &lt;/h:panelGrid&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;h:outputText value=\"#{msg['Indications']}\" /&gt;\n    : *\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;h:inputTextarea value=\"#{indications}\" cols=\"113\"\n        rows=\"10\"\n        style=\"#{component.valid ? '' : 'border-color:red;border-width:2px'}\"\n        id=\"indications\"&gt;\n        &lt;f:validateRegex pattern=\"^([a-zA-Z'àâéèêôùûçÀÂÉÈÔÙÛÇ0-9\\s-]{1,1000})$\"&gt;&lt;/f:validateRegex&gt;\n        &lt;rich:validator /&gt;\n    &lt;/h:inputTextarea&gt;\n&lt;br /&gt;\n&lt;br /&gt;\n        &lt;div class=\"boutons\"&gt;\n                &lt;span&gt;&lt;h:commandButton type=\"submit\"\n                        value=\"#{msg['Enregistrer']}\" action=\"#{creerProduit.submit}\" /&gt;&lt;/span&gt; &lt;span&gt;&lt;h:commandButton\n                        value=\"#{msg['Reinitialiser']}\" type=\"reset\" /&gt;&lt;/span&gt; &lt;span&gt;&lt;h:commandButton\n                        value=\"#{msg['Annuler']}\" action=\"rechercherProduit.xhtml\"\n                        onclick=\"return confirm('#{msg['ConfirmerAnnulation']}');\"\n                        immediate=\"true\" /&gt;&lt;/span&gt;\n            &lt;/div&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n\n<p>And here is how I call it in the jsf page :</p>\n\n<pre><code>&lt;mytaglib:cmProduit \n                nomGamme=\"#{creerProduit.nomGamme}\"\n                listeGammesAffichables=\"#{creerProduit.listeGammesAffichables}\"\n                nomFamille=\"#{creerProduit.nomFamille}\"\n                listeFamillesAffichables=\"#{creerProduit.listeFamillesAffichables}\"\n                nomFournisseur=\"#{creerProduit.nomFournisseur}\"\n                listeFournisseurAffichables=\"#{creerProduit.listeFournisseurAffichables}\"\n                designation=\"#{creerProduit.designation}\"\n                txRecu=\"#{creerProduit.txRecu}\"\n                txVerseCGP=\"#{creerProduit.txVerseCGP}\"\n                txVerseDR=\"#{creerProduit.txVerseDR}\"\n                txIncompressible=\"#{creerProduit.txIncompressible}\"\n                indications=\"#{creerProduit.indications}\"\n                filterFamily=\"#{creerProduit.filterFamily}\"\n                 /&gt;\n</code></pre>\n\n<p>And when I redefine range, my tomcat is saying this :</p>\n\n<p>GRAVE: /WEB-INF/forms/formProduit.xhtml @34,43 valueChangeListener=\"#{filterFamily}\": /vues/creerProduit.xhtml @56,8 filterFamily=\"#{creerProduit.filterFamily}\": Property 'filterFamily' not found on type com.me.web.beans.produit.CreerProduitBean\njavax.faces.event.AbortProcessingException: /WEB-INF/forms/formProduit.xhtml @34,43 valueChangeListener=\"#{filterFamily}\": /vues/creerProduit.xhtml @56,8 filterFamily=\"#{creerProduit.filterFamily}\": Property 'filterFamily' not found on type com.me.web.beans.produit.CreerProduitBean</p>\n\n<p>any idea why I can't call this method?</p>\n"},{"tags":["c#","mvc","web-config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":11463181,"title":"How to implement a session timer inside web.config in MVC?","body":"<p>This article shows how to implement <a href=\"http://msdn.microsoft.com/en-us/library/h6bb9cz9%28vs.80%29.aspx\" rel=\"nofollow\">sesstionState</a> inside web.config file. But what I want to do is to clear the session when user is idle for 15 minutes or higher. And reset the time when the user is active within the scope of time. Is this possible? If not how could I do this without using any javascript code/jQuery?  </p>\n\n<p>BTW, I have my BaseController where all Controllers inherits to it.  Hope someone could give me the better idea.</p>\n"},{"tags":["python","django","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":11408275,"title":"Reading uploaded file content in django Model clean_fields()?","body":"<p>I am trying to open the uploaded file in Model <code>clean_fields()</code>,</p>\n\n<pre><code>class Person(models.Model):\n  attach = models.FileField(upload_to='attach')\n  def clean_fields(self, exclude=True):\n    f = open(self.attach.path, 'rb')\n</code></pre>\n\n<p>The problem is, before the model <code>save()</code>, self.attach.path is actually wrong. the <code>upload_to</code> path is missing. And the file does not exist, yet.</p>\n\n<p>The <code>self.attach.path</code> only exists and is correct <em>after</em> the model's <code>save()</code></p>\n\n<p>How do I validate an uploaded file's content in the <code>clean_fields()</code> process? I want to raise ValidationError, not error after the model is saved.</p>\n"},{"tags":["java","mvc","backbone.js","pojo","utility"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":10630379,"title":"How to create a Backbone model from a POJO or a JavaBean?","body":"<p>I have a POJO named Person.java, is there any bash or utility that allows me to create a <a href=\"http://documentcloud.github.com/backbone/\" rel=\"nofollow\">Backbone</a> model named person.js from Person.java so I don't have to re-type all the fields again?</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","mvc","yii","yii-mvc"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":268,"score":1,"question_id":8614676,"title":"Yii Getting Started","body":"<p>I am new to Yii framework. I know basic stuff about PHP and OO concepts. I am basically Android developer but, I like to learn some framework, so started with Yii. I already went through some tutorials and book Agile development with php5 and yii1.1, but I understand some of the stuff like structure of yii and MVC architecture but I don't figure out how to start with some project other than demo applications. </p>\n\n<p>Please, I need help to get start with Yii. </p>\n"},{"tags":["c#",".net","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":166,"score":1,"question_id":11439978,"title":"In my MVC 3 .NET application, how do I change the URL in the address bar on website startup?","body":"<p>When I start debugging my MVC web application, the URL in my address bar is the following:</p>\n\n<pre><code>http://localhost:#####/\n</code></pre>\n\n<p>And this calls the Home/Index route. Is there a way to have the Home/Index part included <strong>when I start debugging</strong> in the address bar like this:</p>\n\n<pre><code>http://localhost:#####/Home/Index\n</code></pre>\n\n<p>I don't quite understand <em>why</em> the address does not display the Home/Index part in the first place. Can someone clarify this?</p>\n"},{"tags":["iphone","ios","mvc","observer-pattern"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":612,"score":2,"question_id":6658911,"title":"iOS observeValueForKeyPath not getting called","body":"<p>I had a problem getting observeValueForKeyPath to be called but solved it using this:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2728638/observevalueforkeypath-not-being-called\">observeValueForKeyPath not being called</a></p>\n\n<p>However, I'd like to know how to handle this in general for future reference.</p>\n\n<p>The code that works looks like this:</p>\n\n<pre><code> - (void) input: (NSString*) digit\n {\n     NSLog(@\"input() - Entering... digit=%@\", digit);\n\n     if ([digits length] &lt;  MAX_DIGITS_LENGTH)\n     {\n         self.digits = [[[ self.digits autorelease] stringByAppendingString:digit] retain];\n         NSLog(@\"digits is now %@\", digits);\n     }\n\n }\n</code></pre>\n\n<p>Prior to this I was using an NSMutableString instead of NSString and just said used appendString.  I didn't do an assignment and I wasn't appending \"self\" to the digits variable.  Are there any good websites/tutorials that explain this more in depth so I know how to do this in general for any type of object?</p>\n"},{"tags":["iphone","ios","mvc"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":426,"score":3,"question_id":6654086,"title":"iOS iPhone MVC basics","body":"<p>Does anyone know of a good way to start with a basic model but not use Core Data yet?  I have a simple application that doesn't need to save any data (at the moment), but I don't think Core Data would be overkill for it.</p>\n\n<p>I don't want to use the App Delegate to store data, nor do I want to store data in individual views.  I was hoping to find some sort of \"transitioning\" type of solution that would let me switch over to Core Data in the future.</p>\n\n<p>I've seen some simple examples, but they require storing an instance of the model within a particular view controller.  I plan to have several views, so I want to find a better way.</p>\n"},{"tags":["c#","asp.net-mvc","mvc","antiforgerytoken"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1996,"score":3,"question_id":8590942,"title":"A required anti-forgery token was not supplied or was invalid","body":"<p>Im using MVC 3 and everything is setup correctly from what I can see.</p>\n\n<p>A user Authenticates submits a form with the AntiForgery Token and everything works fine.</p>\n\n<p>That is unless the user has left the form to be submitted open and within that time that user login has expired.</p>\n\n<p>When the user submits the form as they are no longer authenticated they should be taken back to the sign in page. (this does happen some times)</p>\n\n<p>Instead the exception 'A required anti-forgery token was not supplied or was invalid.' is thrown. I imagine its being thrown because the encrypted token contains some of the user details which can not be verified as the user is no longer authenticated.</p>\n\n<p>The exception is correct but should never been thrown as the page should of jumped back to the Log in screen as the real issue is the user walked away from an open form and his login timed out.</p>\n\n<p>This problem is hard to replicate as it doesnt always do it.</p>\n\n<p>I see a lot of people seem to be having this problem but no solutions are forthcoming.</p>\n\n<p>Is this a problem within MVC itself?</p>\n\n<p>Machine key setting and stuff are all correct so that isnt the issue.</p>\n"},{"tags":["asp.net-mvc","mvc","asp.net-mvc-routing","asp.net-mvc-3"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2806,"score":1,"question_id":4606209,"title":"Problem returning specific view in asp.net mvc3","body":"<p>I have a view file structure like:</p>\n\n<pre><code>Views\n   Company\n      Department\n      Employee\n          ManageEmployee.cshtml\n</code></pre>\n\n<p>and the controller is</p>\n\n<pre><code>public class EmployeeController : Controller\n {\n    public ActionResult Index(int dptId)\n    {\n            var loadedEmp = getEmpOf(dptId);\n            return View(\"Company/Employee/ManageEmployee\", loadedEmp);\n     }\n}\n</code></pre>\n\n<p>But the controller give me an error - telling that it can't find the view.These are the paths it search.</p>\n\n<pre><code>~/Views/Employee/Company/Employee/ManageEmployees.aspx\n~/Views/Employee/Company/Employee/ManageEmployees.ascx\n~/Views/Shared/Company/Employee/ManageEmployees.aspx\n~/Views/Shared/Company/Employee/ManageEmployee.ascx\n~/Views/Employee/Company/Employee/ManageEmployee.cshtml\n~/Views/Employee/Company/Employee/ManageEmployee.vbhtml\n~/Views/Shared/Company/Employee/ManageEmployee.cshtml\n~/Views/Shared/Company/Employee/ManageEmployee.vbhtml\n</code></pre>\n\n<p>Basically if I'm able to eliminate the <strong>Employee</strong> section, the engine will find it.</p>\n\n<p>~/Views/<strong>Employee</strong>/Company/Employee/ManageEmployee.cshtml <strong>to this</strong></p>\n\n<p>~/Views/Company/Employee/ManageEmployee.cshtml</p>\n\n<p>Any insights on how to achieve this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","mysql","mvc","business-logic"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":149,"score":1,"question_id":8019042,"title":"php mvc business logic - need advice","body":"<p>I'm really lost on this case. I am trying to apply a custom MVC framework to my web application. The confusion rises from organizing the SQL queries. OK, here's the case:</p>\n\n<p><code>UserRepository</code>, <code>ThreadRepository</code> and <code>PostRepository</code> are all repositories that hold the SQL queries relevant to them. For instance, in the <code>ThreadRepository</code> I have the <code>getThread</code> function which retrieves a thread from the database by its ID, in <code>UserRepository</code> I have <code>getUser</code> function and so on...</p>\n\n<p>However, say I am in the page that I have to retrieve a post, its thread and its submitter. When I apply the logic above, I'll have to call <code>getUser</code>, <code>getThread</code> and <code>getPost</code> explicitly. If I was not using MVC, then I would probably create an SQL query like this:</p>\n\n<pre><code>SELECT * FROM user\nLEFT JOIN thread on userid = tuserid /* Thread user id = user id */\nLEFT JOIN post on pthreadid = threadid /* Post thread id = thread id */\n</code></pre>\n\n<p>And voila, I would retrieve all the required stuff in a single query. But in this case, even if I write such an SQL in which repository should I place it? I mean, its awkward to see a code like the following:</p>\n\n<pre><code>$pr = new PostRepository();\n$user = $pr-&gt;getPostAlongItsThreadAndItsSubmitter($postid); \n</code></pre>\n\n<p>C'mon look at this, first of all the code is not clear. You'll have to look to PostRepository to discover that the user is being retrieved from there, which is really not likely the first place you'll look as a third person. Second of all, it's not scalable. In future, as the application will grow I'll have to apply the same logic for, say, when retrieving the user statistics, or user friends, or user messages. Then it will be all complicated.  </p>\n\n<p>On the other hand, if I call the functions mentioned above (e.g. <code>getUser</code>) to retrieve a post, its thread and submitter separately, then it means that I'll have to sacrifice a lot from the performance since I am making (at least) three different mysql queries to retrieve some basic stuff that could be successfully managed by a simple join. (Here I assume that 3 queries are slower than a simple join, that's what I've read when I searched)</p>\n\n<p>So finally, what I really ask here is how to organize the business logic so that I can retrieve a post, the thread that it belongs and its submitter easily (actually, this can be either hardly as far as it satisfies the options below) while the process is:</p>\n\n<ol>\n<li>Crystal Clear for third party people (e.g. other developers that will be recruited to the team)</li>\n<li>Performance Wise</li>\n<li>Scalable </li>\n</ol>\n\n<p>All comments and opinion are highly appreciated. </p>\n\n<p>P.S: I know this is not a <em>what is this</em> or <em>why is this</em> question, but please, I really need help on this case so don't click on close just because it's not a question that can be answered in a sentence. Please ask me to improve the question if necessary. </p>\n"},{"tags":["django","mvc","design-patterns","database-design"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":11443327,"title":"Model polymorphism and model-view separation","body":"<p>I'm encountering a dilemma of sorts while making my Django application, but I think the problem I'm encountering may apply to the MVC pattern generally. I'm making a <code>Question</code> model which can be used to construct quizzes or questionnaires. The <code>Question</code> base class would be a simple free response question. I'd like to support different types of questions such as multiple choice questions or sliding scale questions, and these would be subclasses of the <code>Question</code> base class with extra fields added such as an array of possible choices. I'd like to be able to extend my question models to support more types of questions in the future, and for that I can rely on polymorphism and pass objects of the <code>Question</code> type between the model layer and the view layer for all subclasses of <code>Question</code>.</p>\n\n<p>The problem I'm encountering is that the view has to know the type of question it has received in order to render it. If it gets a multiple choice question it needs to draw the radio choice widgets, etc. So now if I extend my models with more types of questions I have to add it to both the model and the view layers. This seems to defeat the point of polymorphism since the views receiving the <code>Question</code> objects would always have to know the subclass type of the questions received. I can get around this problem by delegating the responsibility of rendering the question back to the model. If the <code>Question</code> model has a virtual function called <code>render_question()</code> that its subclasses override then the view layer can call that function to get the right HTML to output without worrying about the type of question. But now I have the problem of having the HTML rendering code bound up with the model.</p>\n\n<p>Could there be a third solution that does not have either of the downsides of the solutions I've thought of? Or is this truly a dilemma about which one has to make a difficult decision?</p>\n"},{"tags":["ajax","mvc","data","partialview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":10209710,"title":"MVC: How to add extra data to my Ajax ActionResult","body":"<p>Is there a way I can add extra data to my Ajax ActionResult in MVC?</p>\n\n<p>I want my controller to create a new PartialView and then add extra data to it which can then be picked up in the Ajax OnSuccess function.</p>\n\n<p>I have tried passing back a Json result from the controller with my custom data in it and using that in the OnSuccess function, but then, because I was only passing back my custom data and no HTML, the Ajax UpdateTarget div now goes blank because Ajax fills the div with my Json result which is not HTML.</p>\n\n<p>I would like a way for my controller to send back a PartialView so my UpdateTarget div gets updated, that also contains my own custom data which I can use in the OnSuccess function.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks\nMike</p>\n"},{"tags":["java","swing","mvc","hmvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":11447449,"title":"In HMVC how to send model change event to multiple views?","body":"<p>I can see several ways of doing this.</p>\n\n<ul>\n<li><p>Have a reference to a single controller in the model. Model sends event to this controller and other controllers get to know it through the hierarchy and passes on to views</p></li>\n<li><p>Have all interested controllers be listeners on the model (the model has a list of listeners ). The view gets to know the change through the controller</p></li>\n<li><p>Have all interested views be listeners on the model. ( The view gets to know the change directly)</p>\n\n<p>Which is appropriate and why?</p></li>\n</ul>\n"},{"tags":["mvc","widget","playframework-2.0"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":11448784,"title":"How to implement widgets on PlayFramework2?","body":"<h1>Question</h1>\n\n<p>How can I implement a widget (resulting from database calls) to be present on each page of the website? </p>\n\n<h1>Context</h1>\n\n<p>I have a traditionnal web application with a sidebar. The sidebar contains data such as :</p>\n\n<ul>\n<li>Username, </li>\n<li>Details about the account (last connection and other)</li>\n<li>Personnalized message based on profile of the user. </li>\n<li>And other data extracted from the database.</li>\n</ul>\n\n<h1>Solutions so far</h1>\n\n<p>As shown in the official documentation, it is possible to render template inside of a template. Which is an interesting feature but it is not enough. Since I need data from the database to be rendered in my widget. </p>\n\n<p>That would imply :</p>\n\n<ol>\n<li>Getting all the data needed for the sidebar somewhere,</li>\n<li>Passing that data from each controller to each view, </li>\n<li>Finally in each template, call an external template with the given data.</li>\n</ol>\n\n<p>What I would like to do is something as exists in the Symfony2 framework. I would like to be able to call a controller directly. </p>\n\n<pre><code>{% render MyController:MyActionMethod %}\n</code></pre>\n\n<p>How can one implement this kind of mecanism?</p>\n\n<p>PS : Yes, I've searched around a bit. Found this question \"similar question\" : <a href=\"http://stackoverflow.com/questions/9629250/how-to-avoid-passing-parameters-everywhere-in-play2\">How to avoid passing parameters everywhere in play2?</a></p>\n"},{"tags":["mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":11448271,"title":"Need some clarification regarding the MVC pattern","body":"<p>I know MVC quite well (at least i think i do) and I've developed quite a lot of application using this approach. One thing bugs me though:</p>\n\n<p>In every diagram i saw of the model it was drawn as a triangle with a direct connection between the controller and the view/model, but also a connection between the view and model (i.e. the model and view speak directly without the controller in the middle).</p>\n\n<p>In all my years as a developer there was always a complete seperation between the model and view, with the controller acting as the middleman, and as i understand, this is also the best practice.</p>\n\n<p>So under what situation would i want the model to talk directly to the view? can you give me a simple example?</p>\n"},{"tags":["asp.net","mvc","mef"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":2168,"score":3,"question_id":3033697,"title":"MEF and ASP.NET MVC","body":"<p>I want to use MEF with asp.net mvc.\nI wrote following controller factory:</p>\n\n<pre><code>public class MefControllerFactory : DefaultControllerFactory\n{\n    private CompositionContainer _Container;\n\n    public MefControllerFactory(Assembly assembly)\n    {\n        _Container = new CompositionContainer(new AssemblyCatalog(assembly));\n    }\n\n\n\n    protected override IController GetControllerInstance(RequestContext requestContext, Type controllerType)\n    {\n        if (controllerType != null)\n        {\n            var controllers = _Container.GetExports&lt;IController&gt;();\n\n            var controllerExport = controllers.Where(x =&gt; x.Value.GetType() == controllerType).FirstOrDefault();\n\n            if (controllerExport == null)\n            {\n                return base.GetControllerInstance(requestContext, controllerType);\n            }\n\n            return controllerExport.Value;\n        }\n        else\n        {\n            throw new HttpException((Int32)HttpStatusCode.NotFound,\n                String.Format(\n                    \"The controller for path '{0}' could not be found or it does not implement IController.\",\n                    requestContext.HttpContext.Request.Path\n                )\n            );\n        }\n    }\n}\n</code></pre>\n\n<p>In Global.asax.cs I'm setting my controller factory:</p>\n\n<pre><code>protected void Application_Start()\n    {\n        AreaRegistration.RegisterAllAreas();\n\n        RegisterRoutes(RouteTable.Routes);\n\n        ControllerBuilder.Current.SetControllerFactory(new MefControllerFactory.MefControllerFactory(Assembly.GetExecutingAssembly()));\n    }\n</code></pre>\n\n<p>I have an area:</p>\n\n<pre><code>[Export(typeof(IController))]\n[PartCreationPolicy(CreationPolicy.NonShared)]\npublic class HomeController : Controller\n{\n    private readonly IArticleService _articleService;\n\n    [ImportingConstructor]\n    public HomeController(IArticleService articleService)\n    {\n        _articleService = articleService;\n    }\n\n    //\n    // GET: /Articles/Home/\n\n    public ActionResult Index()\n    {\n        Article article = _articleService.GetById(55);\n\n        return View(article);\n    }\n\n}\n</code></pre>\n\n<p><code>IArticleService</code> is an interface. </p>\n\n<p>There is a class which implements <code>IArticleService</code> and Exports it.</p>\n\n<p>It works. </p>\n\n<p>Is this everything what I need for working with MEF?</p>\n\n<p>How can I skip setting <code>PartCreationPolicy</code> and <code>ImportingConstructor</code> for controller?</p>\n\n<p>I want to set my dependencies using constructor.</p>\n\n<p>When <code>PartCreationPolicy</code> is missing, I get following exception:</p>\n\n<blockquote>\n  <p>A single instance of controller 'MvcApplication4.Areas.Articles.Controllers.HomeController' cannot be used to handle multiple requests. If a custom controller factory is in use, make sure that it creates a new instance of the controller for each request.</p>\n</blockquote>\n"},{"tags":["mvc","shell","cakephp","render"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":11448516,"title":"How to render a view/template inside CakePHP Shell?","body":"<p>I'm running several cronjobs as CakePHP shells and I need to generate certain documents there. Some of them are HTMLs that are going to be converted to PDFs, some of them are email with HTML content. I have templates/views for these and I'm able to render them via Controller. How can I render them in Shell?</p>\n\n<p>Currently I'm using str_replace() to replace certain tokens with the strings I need, but that is dirty and I need more template-like functionality like loops and conditions.</p>\n\n<p>In Smarty there is Smarty->fetch(). In CodeIgniter there is $this->load->view(). How is it done in CakePHP?</p>\n"},{"tags":["asp.net-mvc-3","mvc","validation","modelmetadata"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":156,"score":1,"question_id":11429404,"title":"How do I Get Full Html Field Name for an item in a list on my model at controller level?","body":"<p>*First Post</p>\n\n<p>I have a JQuery error handler for my Ajax posts that I must use, it appends an error to the html based on the field name for that element like this</p>\n\n<pre><code>$(document).ready(function () {\nfunction myHandler(e, error) {\n    var tag = \"\";\n    if (error.Success == true) { $('.field-validation-error').remove(); return; } // if success remove old validation and don't continue\n    if (error.Success == false) { $('.field-validation-error').remove(); } // if success remove old validation and continue\n    for (i = 0; i &lt; error.Errors.length; i++) {\n        var t = error.Errors[i];\n        //get error key and assign it to id\n        tag = t.Key;\n        //clear down any existing json-validation\n        for (j = 0; j &lt; t.Value.length; j++) {\n            //this part assumes that our error key is the same as our inputs name\n            $('&lt;span class=\"field-validation-error\"&gt;' + t.Value[j].ErrorMessage + '&lt;/span&gt;').insertAfter('input[name=\"' + tag + '\"], textarea[name=\"' + tag + '\"], select[name=\"' + tag + '\"], span[name=\"' + tag + '\"]');\n        }\n    }\n}\n\n\n$.subscribe(\"/******/errors\", myHandler);\n\n});\n</code></pre>\n\n<p>This works perfectly out of the box with our fluent validation setup until I try to add a custom modelstate error at controller level like so:</p>\n\n<pre><code>foreach (var item in model.Locations)\n        {\n            var cityRepos = new CityRepository(NhSession);\n            var cityItem = cityRepos.GetAll().FirstOrDefault(o =&gt; o.Country.Id == item.CountryID &amp;&amp; o.Name == item.City);\n            if (cityItem == null)\n                item.City\n                ModelState.AddModelError(\"City\", string.Format(@\"The city \"\"{0}\"\" was not found, please ensure you have spelt it correctly. TODO: add a mail to link here with city not found subject\", item.City));\n        }\n</code></pre>\n\n<p>the problem is that the modelstate error needs to be attached to the html field name not my magic string \"City\". The html name property is MVC Generated and looks something like this: </p>\n\n<pre><code> name=\"Locations[0].City\"\n</code></pre>\n\n<p>I have encountered this problem in a html helper before and used the method:</p>\n\n<pre><code>.GetFullHtmlFieldName(\n                                                 ExpressionHelper.GetExpressionText(propertySelector)\n                                             );\n</code></pre>\n\n<p>which resolved my problem in that case.</p>\n\n<p>My question is can I use this method on my model property in an MVC post action to obtain the html name property it has come from?</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["php","forms","mvc"],"answer_count":6,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":166,"score":4,"question_id":9331921,"title":"Avoiding using isset() on the form?","body":"<p>When you have many inputs (select/textarea/input), it will look real messy when you include <code>isset()</code></p>\n\n<p>For example:</p>\n\n<pre><code>&lt;input id=\"firstname\" type=\"text\" name=\"firstname\" \n  value=\"&lt;?php echo (isset($_POST['firstname']) ? $_POST['firstname'] : \"\";?&gt;\"&gt;\n</code></pre>\n\n<p>In there alternative way so it will look tidy and maintainable?</p>\n\n<p>I am using MVC Framework if that help.</p>\n"},{"tags":["asp.net-mvc-3","mvc","unobtrusive-javascript"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":220,"score":3,"question_id":11398253,"title":"Turn off unobtrusive validation runtime?","body":"<p>I have my MVC 3 application with unobtrusive validation. In one of view present <code>&lt;form action=''&gt;..&lt;/form&gt;</code> and there I have two buttons. First button submit form on 'action1' and second button submit to 'action2'. In first case I have to validate form, but in second case I need to make post, without validation, is it possible? Currently model validates in both cases.</p>\n"},{"tags":["mvc","joomla","virtuemart"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":11439569,"title":"how to update user defined input field value to db in joomla-virtuemart mvc structure","body":"<p>Please let me know how can I update user defined input field value to db in <code>Joomla virtuemart</code>. For an example in my view I have created custom input field. Now how I can get its value if form is submitted via <code>Joomla.submitbutton('apply')</code> method. Since new field is not defined in virtuemart predefined variables, I have tried <code>JRequest::get('post')</code> but it didn't work. I received blank <code>Array()</code> in return.  What should I do? </p>\n"},{"tags":["javascript","mvc","jsp","servlets"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":11372419,"title":"How get the data using MVC- Servlets, JPS and JavaScripts","body":"<p>I have JSP page that has links (When people click on the link it is supposed to go to a servlet and then Bean class and DB Connection class to pull the data)..and when a user clicks on the like I tried to display the page using AJAX...however i am currently not getting any data/page pulled. Can someone please explain on how to achive this?</p>\n\n<p>here is the link i have in my HTML page..but when i click on it is not showing up anything.</p>\n\n<pre><code> &lt;a href=\"myservlet\" onclick=\"grabfile(this.href); return false;\"&gt;VT &lt;/a&gt;\n</code></pre>\n\n<p>Thanks for your help</p>\n\n<p>Sorry here is my code</p>\n\n<pre><code>public class VacationTrackerDAO {\n\npublic static List&lt;VactionTrackerBean&gt; list() throws SQLException{\n    List&lt;VactionTrackerBean&gt; appr= new ArrayList&lt;VactionTrackerBean&gt;();\n\n    try{\n\n        DBConnection conObj=new DBConnection(); \n        Connection dbCon= conObj.getCon();\n        Statement stmt=conObj.getStmt();\n        String queryCPList=\"select * from Capacity_Plan\";\n        String queryApprList=\"Select First_Last_Name from Vacation_Approvers\";\n        PreparedStatement preStmtCPList=dbCon.prepareStatement(queryCPList);//get metadat\n        PreparedStatement preStmtApprList=dbCon.prepareStatement(queryApprList);//get names\n        ResultSet rsCPList=preStmtCPList.executeQuery();\n        ResultSet rsApprList=preStmtCPList.executeQuery();\n\n        ResultSetMetaData metaCPList=rsCPList.getMetaData();\n\n        VactionTrackerBean vtBean=new VactionTrackerBean();\n        while(rsApprList.next()){\n            vtBean.setApprover((rsApprList.getString(\"First_Last_Name\")));\n            appr.add(vtBean);\n        }\n}catch(Exception e){\n    System.out.println(\"In the Vacation TrackerDAO.java class:\"+e);\n}\nreturn appr;\n}\n}\n</code></pre>\n\n<p>Here is my Servlets which gets the request.</p>\n\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) \n        throws ServletException, IOException {\n\n    try{\n\n    List&lt;VactionTrackerBean&gt; vacBean=VacationTrackerDAO.list();\n    request.setAttribute(\"vacTracker\", vacBean);\n    request.getRequestDispatcher(\"WEB-INF/VacationTracker.jsp\").forward(request,response);\n\n    }catch (SQLException e){\n        System.out.println(\"Error in VacationTracker.java due to VactionTrackerDA.java:\"+e);\n        request.getRequestDispatcher(\"WEB-INF/Error.jsp\").forward(request,response);\n    }\n</code></pre>\n\n<p>Here is the code that i have in the JSP page.</p>\n\n<pre><code>&lt;li&gt;  &lt;a href=\"Main.jsp\" &gt; home &lt;/a&gt;        &lt;/li&gt;\n&lt;li&gt;&lt;a href=\"VacationTracker\" onclick=\"grabfile(this.href); return false;\"&gt;Vacation     Tracker &lt;/a&gt;  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Here is the code for my Javascript</p>\n\n<pre><code>function getHTTPObject(){\n\nvar xhr=false;\n\nif(window.XMLHttpRequest){\n\n    xhr= new XMLHttpRequest();\n\n} else if(window.ActiveXObject){\n    try{\n        xhr= new ActiveXObject(\"Msxml2.XMLHTTP\");\n\n    } catch(e){\n        try{\n        xhr=new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }catch (e){\n            xhr=false;\n        }\n    } \n\n}\n\nreturn xhr;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>function grabfile(file){\nvar request=getHTTPObject();\nif(request){\n\n    request.onreadystatechange=function(){ displayResponse(request);};\n\n\n}\nrequest.open(\"POST\",file,true);\nrequest.send(null);\n</code></pre>\n\n<p>}</p>\n\n<pre><code>function displayResponse(request){\n\nif(request.readyState==4){\n    if(request.status==200){\n\n        document.getElementById    (\"middle_sub\").innerHTML=request.responseText;\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":["mvc","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":11443896,"title":"MVC, Servlets, JSP, No Output","body":"<p>I'm trying to learn Servlets/JSP. When I tried the  following code I dont get any output. Can someone please help me? When I run the code I get only the header and I dont see the values showing up in the dropdown.</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class VacationTrackerDAO {\n\npublic static List&lt;VactionTrackerBean&gt; list() throws SQLException{\n    List&lt;VactionTrackerBean&gt; appr= new ArrayList&lt;VactionTrackerBean&gt;();\n\n    try{\n\n        DBConnection conObj=new DBConnection(); \n        Connection dbCon= conObj.getCon();\n        Statement stmt=conObj.getStmt();\n        String queryCPList=\"select * from Capacity_Plan\";\n        String queryApprList=\"Select First_Last_Name from Vacation_Approvers\";\n        PreparedStatement preStmtCPList=dbCon.prepareStatement(queryCPList);//get metadat\n        PreparedStatement preStmtApprList=dbCon.prepareStatement(queryApprList);//get names\n        //ResultSet rsCPList=preStmtCPList.executeQuery();\n        ResultSet rsApprList=preStmtCPList.executeQuery();\n\n        //ResultSetMetaData metaCPList=rsCPList.getMetaData();\n\n        VactionTrackerBean vtBean=new VactionTrackerBean();\n        while(rsApprList.next()){\n            vtBean.setApprover((rsApprList.getString(\"First_Last_Name\")));\n            appr.add(vtBean);\n        }\n\n\n}catch(Exception e){\n    System.out.println(\"In the Vacation TrackerDAO.java class:\"+e);\n}\nreturn appr;\n\n}\n}\n</code></pre>\n\n<p>Bean:</p>\n\n<pre><code> public class VactionTrackerBean {\n\nprivate String dates;\nprivate String approver;\npublic String getDate() {\n    return dates;\n}\npublic void setDate(String dates) {\n    this.dates = dates;\n}\npublic String getApprover() {\n    return approver;\n}\npublic void setApprover(String approver) {\n    this.approver = approver;\n}\n\n\n\n}\n</code></pre>\n\n<p>Servlet:</p>\n\n<pre><code>public class VacationTracker extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\n\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) \n        throws ServletException, IOException {\n\n    doPost(request, response);\n\n}\n\n\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) \n        throws ServletException, IOException {\n\n    try{\n\n\n    List&lt;VactionTrackerBean&gt; vacTracker=VacationTrackerDAO.list();\n    request.setAttribute(\"vacTracker\", vacTracker);\n    request.getRequestDispatcher(\"WEB-INF/VacationTracker.jsp\").forward(request,response);\n\n    }catch (SQLException e){\n        System.out.println(\"Error in VacationTracker.java due to VactionTrackerDA.java:\"+e);\n        request.getRequestDispatcher(\"WEB-INF/Error.jsp\").forward(request,response);\n    }\n\n}\n}\n</code></pre>\n\n<p>JSP Page: </p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\npageEncoding=\"ISO-8859-1\"%&gt;\n\n&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01      Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Vacation Tracker&lt;/title&gt;  \n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h1&gt; Vacation Tracker &lt;/h1&gt;\n\n &lt;div id=\"main\"&gt;\n\n&lt;c:forEach items=\"${vacTracker}\" var=\"vacTracker\"&gt; \n&lt;select id=\"myselect\" name=\"mydata\" size=\"10\"&gt; \n&lt;option value=\"${vacTracker.approver}\"&gt;${vacTracker.approver}&lt;/option&gt;\n&lt;/select&gt;   \n&lt;/c:forEach&gt;\n\n&lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["mvc","gridview","devexpress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":166,"score":1,"question_id":11434663,"title":"DevExpress MVC GridView - SetDropDownWindowTemplateContent","body":"<p>I'm working on a DevExpress gridview and finding a severe lack in documentation for a function call. Everywhere I look, SetDropDownWindowTemplateContent(string content) has no exmaples of what string content is or looks like. I've tried simply doing \"Option1;Option2 (as devexpress states ';' is the delimiter) but it doesnt work. </p>\n\n<p>Please help, pulling my hair out. </p>\n\n<pre><code>settings.Columns.Add(col =&gt;\n{\n    col.FieldName = \"DefaultValue\";\n    col.Caption = \"Rule Type Value\";\n    col.Width = 300;\n    col.ColumnType = MVCxGridViewColumnType.DropDownEdit;\n    col.SetEditItemTemplateContent(column =&gt;\n    {\n        Html.DevExpress().DropDownEdit(c =&gt;\n        {\n            c.Name = \"ddlName\";\n            c.SetDropDownWindowTemplateContent(\"WHAT GOES HERE!?!?!\");\n        }).Render();\n    });\n});\n</code></pre>\n"},{"tags":["mvc","dependency-injection","mocking","repository","helpers"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":11440933,"title":"Mocking Repositories for Helper classes in MVC web project with StructureMap","body":"<p>I am using StructureMap to inject my controllers with their required repositories. This works well and allows me to use Mocking libraries like Moq to test a controller with a mocked repo.</p>\n\n<p>But I also have Helper classes that need to get references to the repo, but I don't want the controller to have to pass them the reference (it seems like a coupling problem, and I don't think the controller should have to know where the helpers get their data from)</p>\n\n<p>For example, I have a Helper that gets a list of countries:</p>\n\n<pre><code>public class AddressListFactory\n{\n    public IAddressLists GetInstance()\n    {\n        return ObjectFactory.GetInstance(typeof(AddressLists)) as IAddressLists;\n    }\n}\n\npublic interface IAddressLists\n{\n    SelectList GetCountrySelectList(IEnumerable&lt;CountryCode&gt; countryList);\n}\n\npublic class AddressLists : IAddressLists\n{\n    private ICountryCodeRepository _countryCodeRepository { get; set; }\n\n    public AddressLists(ICountryCodeRepository countryCodeRepository)\n    {\n        _countryCodeRepository = countryCodeRepository;\n    }\n\n    public IEnumerable&lt;CountryCode&gt; GetCountryList()\n    {\n        ICountryCodeRepository repo = _countryCodeRepository;\n        IEnumerable&lt;CountryCode&gt; countries = repo.GetAll();\n        return countries;\n    }\n}\n</code></pre>\n\n<p>This Helper class gets called from within controllers, but it gets it's own ICountryCodeRepository reference using StructureMap when calling \n    ObjectFactory.GetInstance(typeof(AddressLists)) as IAddressLists;</p>\n\n<p>But now, when I test a controller class, even if I pass in a mocked Repository reference, the AddressLists helper class is still getting it's own reference to ICountryCodeRepository. In the test environment, I don't have a DB connection so when it tries to get ICountryCodeRepository, it generates a Null ref exception...</p>\n\n<p>Is there any way to change this design so that I can make sure all helper classes get the mocked versions of their repositories?  Or do I just need to test the classic way and create a test DB?</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","asp.net-mvc-routing"],"answer_count":1,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":134,"score":2,"question_id":11402542,"title":"MVC3 Site Builder Application Design","body":"<p>It would be great if someone could help me on this problem as I am new to web development and ASP.NET MVC. My goal is to design an MVC application which could help users to create their own mini websites. Each user will get their own mini websites and an admin panel to change the pages and template of  their sites. I think there are scripts out there to achieve something similar, but we need to create our own for our specific requirements\nTowards that goal I created a main mvc 3 application and I created an area as Site under it. We want the user to have their own sub domain urls like www.site1.mainsite.com where site1 is the name of the mini site of the user. For that I added 2 routes one for the main site and another for the area like </p>\n\n<pre><code>routes.MapRoute(\n            \"Default\", // Route name\n            \"{controller}/{action}/{id}\", // URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional },\n            new[] { \"MainSite.UI.Controllers\" }\n        );\n</code></pre>\n\n<p>In Area Registration </p>\n\n<pre><code>context.MapRoute(\n            \"Sites_default\",\n            \"{controller}/{action}/{id}\",\n            new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional },\n            new {controller = new SiteConstraint()},\n            new[] { \"MainSite.UI.Areas.Site.Controllers\" });\n</code></pre>\n\n<p>Both of them have the same url type, but area route have a constraint where I added like </p>\n\n<pre><code>var url = httpContext.Request.Headers[\"HOST\"];\n        var storeName = url.Split('.')[1];\n        var match = storeName != \"mainsite\";\n        return match;\n</code></pre>\n\n<p>so far its working, But i dont think its a good design. Now apart from this I need to add 2 more areas one is siteadmin and another is blog. \nWhat should be best way to achieve this? </p>\n\n<ul>\n<li>sub domain urls should be directed to area \"site\" </li>\n<li>subdomain url/Admin should be routed to area \"siteadmin\" </li>\n<li>domain/blog should be routed to blog area.</li>\n<li>domain other urls should be handled by main controllers</li>\n</ul>\n\n<p>Thanks in advance </p>\n"},{"tags":["asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":11440605,"title":"Data does not appear in a View after Posting Back","body":"<p>I use MVC 3, I have a View to Delete an element in my DB. A Service Layer check that all the logic is in place before authorizing the operation. In case of a Role violation a Message appear in the Html.Summary so the delete operation is abort.</p>\n\n<p>My problem is when the message in the Html.Summary from the Service Layer arrive the View lost the data for the various fields, so you cannot see the ID, Name and Description for the item.</p>\n\n<p>Could you point me out in the right direction? What I'm doing wrong? Thanks</p>\n\n<pre><code>public ActionResult Delete(int id)\n    {\n        Typology typology = _typologytService.FindById(id);\n        TypologyDeleteViewModel deleteViewModel = Mapper.Map&lt;Typology, TypologyDeleteViewModel&gt;(typology);\n        return View(deleteViewModel);\n    }\n\n    //\n    // POST: /ManageTypologies/Delete/5\n\n    [HttpPost]\n    public ActionResult Delete(TypologyDeleteViewModel deleteViewModel)\n    {\n        if (ModelState.IsValid)\n        {\n            Typology typology = Mapper.Map&lt;TypologyDeleteViewModel, Typology&gt;(deleteViewModel);\n            _typologytService.Delete(typology.TypologyId);\n            if (ModelState.IsValid)\n                return RedirectToAction(\"Index\");\n        }\n        return View();         \n    }\n</code></pre>\n\n<hr>\n\n<pre><code>@model xxx.ViewModels.TypologyDeleteViewModel\n@{\n    ViewBag.Title = \"Delete\";\n}\n&lt;h2&gt;\n    Delete&lt;/h2&gt;\n&lt;h3&gt;\n    Are you sure you want to delete this?&lt;/h3&gt;\n@using (Html.BeginForm())\n{\n    @Html.ValidationSummary(true)\n    @Html.HiddenFor(model =&gt; model.TypologyId)\n    &lt;fieldset&gt;\n        &lt;legend&gt;TypologyDeleteViewModel&lt;/legend&gt;\n        &lt;div class=\"display-label\"&gt;\n            TypologyId&lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.TypologyId)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Name&lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.Name)\n        &lt;/div&gt;\n        &lt;div class=\"display-label\"&gt;\n            Description&lt;/div&gt;\n        &lt;div class=\"display-field\"&gt;\n            @Html.DisplayFor(model =&gt; model.Description)\n        &lt;/div&gt;\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Delete\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n&lt;div&gt;\n    @Html.ActionLink(\"Back to List\", \"Index\")\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["ios","mvc","design-patterns","delegation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":11438800,"title":"Is this the correct \"layout\" for delegation?","body":"<p>I'm building a simple calendar application based in a single view controller. The view controller has a hierarchy as follows: </p>\n\n<ol>\n<li>CDViewController<br>\n<ul>\n<li>CalendarView  </li>\n<li>EventView  </li>\n<li>AgendaView<br>\n<ul>\n<li>TPKeyboardAvoidingTableView  </li>\n<li>EventInfoCell</li>\n</ul></li>\n</ul></li>\n</ol>\n\n<p>My question specifically pertains to the EventInfoCell within my AgendaView. The Cell has various ways of laying out textFields and textViews, depending on the information that needs to be displayed. These textfields and textviews are enabled/editable based on the tableview's edit status and edit/delete core data objects. When the strings within these change, the cell needs to alert the managedObjectContext to save or delete an object, update the model within the agendaView that populates it's tableView, and update the model that pertains to all events for the calendar. My current configuration makes the viewController the delegate of EventInfoCell, but this complicates the update for the agendaView model. It seems almost counterproductive to set the EventInfoCell delegate to be the AgendaView, tell it when information changes, and then have the AgendaView pass the word on to it's delegate (the viewController), but if it is more compliant to MVC than bypassing the agendaView altogether, I will gladly implement it. I'm trying to figure out what is the better design pattern, any input is greatly appreciated. </p>\n"},{"tags":["c#",".net","mvc","session","session-state"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":11420503,"title":"Losing session data stored in one PartialViewResult when trying to retrieve it in another PartialViewResult","body":"<p>I have a scenario where in I am using the Session to store an object in one controller action and trying to retrieve it another controller action. Both the actions are triggered from the same view and reside on the same controller. Unfortunately, I am not able to retrieve the session variable in the second controller. The session Id remains the same and I am ensuring that the object was written into the session in the first action. The session data, however, disappears when the view is returned in the first action.</p>\n\n<p>Here is my Controller code flow -</p>\n\n<pre><code>public PartialviewResult DoSearch(string paramCustId)\n{\n//invoking a method to perform a search task. I am also passing the controller session as a parameter\n//this function is called in a separate thread and the main thread does not wait for it to complete before returning the view\nmultiSearch(paramCustId, Session);\n}\nreturn PartialView(\"_partialView1\");\n\npublic void multiSearch(string searchParam, HttpSessionStateBase controllerSession)\n{\n//code to retrieve response from backend into the variable tempSearchSet\ncontrollerSession[\"searchResult\"] = tempSearchSet;\n//verified that tempSearchSet is stored in Session under the key \"searchResult\" and Session.Count is 1.\n}\n\n\n//Another controller action that is triggered from the same view after a certain delay to fetch the data in session\npublic PartialViewResult PollSearchResults()\n{\nvar tempSearchResult = Session[\"searchResult\"] as List&lt;SearchResultSet&gt;;\n//This is where i do not see data in the session. I have verified that the multiSearch method is complete and has updated the data in the session.\n//here Session.SessionID is the same as above, but Session.Count is 0\n}\n</code></pre>\n\n<p>Is there a different way to handle Session in mvc or am i missing something elementary here? Also, is there a better approach to manage this caching scenario?</p>\n"},{"tags":["javascript","mvc","scope","angularjs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":483,"score":2,"question_id":11383172,"title":"AngularJS - understanding scopes","body":"<p>I'm confused, I have this module which routes to different controllers:</p>\n\n<pre><code>var mainModule = angular.module('lpConnect', []).\n    config(['$routeProvider', function ($routeProvider) {\n    $routeProvider.\n        when('/home', {template:'views/home.html', controller:HomeCtrl}).\n        when('/admin', {template:'views/admin.html', controller:AdminCtrl}).\n        when('/connect', {template:'views/fb_connect.html', controller:MainAppCtrl}).\n        otherwise({redirectTo:'/connect'});\n}]);\n</code></pre>\n\n<p>and a Common service like so:</p>\n\n<pre><code>mainModule.factory('Common', ['$rootScope', '$http', function (scope, http) {\n        var methods = {\n            changeLanguage:function (langID) {\n                http.get('JSON/langs/' + langID + '/captions.json').success(function (data) {\n                    scope.lang = data;\n                });\n            },\n            initChat:function () {\n                console.log(scope); // full object\n                console.log(scope.settings); // undefined\n            }\n        };\n\n        //initiate\n        http.get('JSON/settings/settings.json').success(function (data) {\n            scope.settings = data;\n            methods.changeLanguage(scope.settings.lang);\n        });\n\n\n        return methods;\n    }]);\n</code></pre>\n\n<p>the app loads and gets (through XHR) the settings object, and I can see the settings reflects in my DOM. (captions for example)</p>\n\n<p>Now when I call the initChat method from my HomeCtrl I get an undefined value when trying to access the scope.settings property ... what's strange is that when I log the scope I can see the settings object ... What am I missing?</p>\n\n<p><img src=\"http://i.stack.imgur.com/thwB7.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>Update:</strong> I found out that what I'm doing wrong is calling my method directly from the controller body:</p>\n\n<pre><code>function HomeCtrl($scope, $location, Common) {\n...\nCommon.initChat()\n...\n}\n</code></pre>\n\n<p>if I change the call to be triggered by a click all works fine, but I do need this code to run when the page loads, What is the right approach?</p>\n"},{"tags":["c#","javascript","mvc","image-uploading"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":11438541,"title":"Storing image path in the DB. How can I manage delete image action together with entity","body":"<p>I'm thinking to finally switch from images in the db to filesystem approach. One question  bothers me, sooner or later I'll be in position to delete entity, in that situation I no longer need linked image(s). So, to simplify, entity model will have only one field varchar to track imagepath on the filesystem.</p>\n\n<p>Any thoughts?</p>\n\n<p>One more thing, since I'm moving to filesystem image storing I'm curious is following order is ok or is there better approach</p>\n\n<pre><code>1. administrator will upload image to the server using mvc form, browse -&gt; upload btn\n2. Creating new entity with entering some data into web form and using javascript select images from the server and store it's filename into entityimagepath property\n3. On the client side browser will render &lt;img src=imagepathfromdb ... /&gt;\n</code></pre>\n\n<p>Thanks for your time</p>\n"},{"tags":["mvc","architecture","domain-object"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":178,"score":0,"question_id":4844279,"title":"Should controllers in a MVC application be 1 per domain object or one per group of related actions?","body":"<p>I have MVC app and when I create I start with one controller for my domain model Person. I have actions including AddPerson, DeletePerson, EditPerson, etc. Then I start adding more like AddPersonBoss and RemovePersonBoss.  Pretty soon I have 20 actions in one controller. The benefit of MVC becomes less apparent because my file contains several hundred lines of code and is difficult to follow.</p>\n\n<p>All examples I see show one controller per domain object such as Person. It feel like I should have a PersonManagement controller for AddPerson, DeletePerson, EditPerson and a BossManagement controller for AddPersonBoss, RemovePersonBoss.</p>\n\n<p>Does this make sense? Why would I not want to break it into several controllers? Too many action in one controller becomes difficult, but all examples I see do this.</p>\n"},{"tags":["mvc","generics","view","partial-views","partial"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":11409971,"title":"Generic Partial View - MVC","body":"<p>I just want to ask if it is possible to create a partial view that accepts a generic type of parameter?</p>\n\n<p>Basically, I'm creating an add form which can be used to add different types of objects (ie Products, Employee). Currently, I can create this through a PartialView which accepts my ProductsModel to render the Add Products form. However, I want to use this same form for my Add Employee.</p>\n\n<p>What I have in mind is to attach the type to render via a query string and check on the code which one of these to render. I tried it but it doesn't seem to succeed.</p>\n\n<p>Can someone point me to a solution? Thanks a lot! Cheers! </p>\n"},{"tags":["mvc","joomla","content-management-system"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":81,"score":-2,"question_id":11424080,"title":"Joomla ! A MVC framework or CMS?","body":"<p>Sorry.i am new to joomla.Is there anyone who could tell me whether joomla is mvc framework or content management system?? I am confused.kind regards</p>\n"},{"tags":["mvc","automapper"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":11424224,"title":"Why is the AddObject() method not available in my solution?","body":"<p>I’ve modified <a href=\"http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application\" rel=\"nofollow\">this ContosoUniversity tutorial</a> and now I’m trying to use AutoMapper to map object-to-object. </p>\n\n<p>Here’s my ModelView:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Web;\nusing SchoolIn.Models;\n\nnamespace SchoolIn.ViewModels\n{\npublic class InstructorIndexData\n{\n\n    public IEnumerable&lt;Instructor&gt; Instructors { get; set; }\n    public IEnumerable&lt;Course&gt; Courses { get; set; }\n    public IEnumerable&lt;Enrollment&gt; Enrollments { get; set; }\n    public IEnumerable&lt;Student&gt; Students { get; set; }\n    public IEnumerable&lt;Assignment&gt; Assignments { get; set; }\n\n\n}\n}\n</code></pre>\n\n<p>Here’s the view</p>\n\n<pre><code>@model SchoolIn.ViewModels.InstructorIndexData\n\n@using SchoolIn.Models\n@{\nViewBag.Title = \"Index\";\n}\n\n\n@using (Html.BeginForm(\"ClassAttendance\", \"Attendance\", new { currentDate = day, id = @ViewBag.ID, teacher = HttpContext.Current.Session[\"sTeacher\"], courseID =     HttpContext.Current.Session[\"sCourseID\"] }, FormMethod.Post))\n\n{\n    var wekdys = new Enrollment(); @*had too create this to have access to the dropdownList*@\n        @Html.DropDownList(\"weekDays\", wekdys.WeekDays.Select(s =&gt; new    SelectListItem { Text = s.ToString(), Value = s.ToString() }))\n\n@Html.ValidationSummary(true)\n&lt;p&gt;&lt;/p&gt;\n &lt;Input Type =\"submit\" Value=\"ClassAttendance\"/&gt;\n&lt;p&gt;\n\n@Html.ActionLink(\"Create Todays Attendance\", \"Create\")\n&lt;/p&gt;\n\n\n\n\n&lt;p&gt;\n@Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n\n\n&lt;h3&gt;  \n    Students Enrolled in @ViewBag.teacherName's @ViewBag.courseTitle Course&lt;/h3&gt;  \n&lt;table&gt;  \n    &lt;tr&gt;  \n    &lt;th&gt;View Student Report&lt;/th&gt; \n        &lt;th&gt;First Name&lt;/th&gt;  \n        &lt;th&gt;Last Name&lt;/th&gt; \n        &lt;th&gt;Grade&lt;/th&gt;  \n        &lt;th&gt;Attendance Code&lt;/th&gt;  \n         &lt;th&gt;Class Day&lt;/th&gt; \n    &lt;/tr&gt;  \n    @foreach (var item in Model.Enrollments)\n    {  \n        &lt;tr&gt;  \n         &lt;td&gt;  \n\n                @Html.ActionLink(\"Report\", \"UpdateAttendance\", \"Attendance\", new  { grade=item.Grade, studentFirstName = item.Student.FirstMidName, studentLastName = item.Student.LastName, courseTitle = item.Course.Title, teacher =    @ViewBag.teacherName }, null)\n\n\n            &lt;/td&gt; \n\n            &lt;td&gt;  \n            @Html.EditorFor(modelItem=&gt;item.Student.FirstMidName)\n\n            &lt;/td&gt;  \n            &lt;td&gt;  \n              @Html.EditorFor(modelItem=&gt;item.Student.LastName)\n\n            &lt;/td&gt; \n\n\n           &lt;td&gt;\n\n                @Html.EditorFor(modelItem =&gt;item.Grade) \n\n            &lt;/td&gt;\n             &lt;td&gt;\n                @Html.DropDownList(\"attendanceCode\", item.attendanceCode.Select(s =&gt; new SelectListItem { Text = s.ToString(), Value = s.ToString() }))\n                @*Html.EditorFor(modelItem =&gt;item.attendanceCode)*/*@\n\n\n            &lt;/td&gt;  \n            &lt;td&gt;  \n\n\n            @Html.EditorFor(modelItem=&gt;item.classDays)\n\n            &lt;/td&gt;\n        &lt;/tr&gt;  \n\n    }  \n\n&lt;/table&gt;  \n</code></pre>\n\n<p>}</p>\n\n<p>Here’s the method in my controller that I’m having problems with.  I’m trying to use <a href=\"http://chriscurrie.co.uk/blog/2011/09/coding/net/mvc/use-automapper-to-map-viewmodels-to-entities-mvc3-and-razor/\" rel=\"nofollow\">this example</a> :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Data.Objects;\nusing System.Data.Entity;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Mvc;\nusing SchoolIn.Models;\nusing SchoolIn.ViewModels;\n\nnamespace SchoolIn.Controllers\n{ \npublic class AttendanceController : Controller\n{\n    private SchoolInDB db = new SchoolInDB();\n</code></pre>\n\n<p>code here…</p>\n\n<pre><code>[HttpPost]\n    public ActionResult ClassAttendance(InstructorIndexData viewModel)\n    {\n\n\n        if (ModelState.IsValid)\n        {\n\n            AutoMapper.Mapper.CreateMap&lt;AttendanceData, Assignment&gt;();\n            AutoMapper.Mapper.CreateMap&lt;AttendanceData, Enrollment&gt;();\n            AutoMapper.Mapper.CreateMap&lt;AttendanceData, Student&gt;();\n            AutoMapper.Mapper.CreateMap&lt;AttendanceData, Instructor&gt;();\n\n            Instructor newInstructor = new Instructor();\n            Student newStudent = new Student();\n            Assignment newAssignment = new Assignment();\n            Enrollment newEnrollment = new Enrollment();\n\n            AutoMapper.Mapper.Map(viewModel, newInstructor );\n            AutoMapper.Mapper.Map(viewModel, newStudent);\n            AutoMapper.Mapper.Map(viewModel, newEnrollment);\n            AutoMapper.Mapper.Map(viewModel, newAssignment);\n\n            db.Assignments.AddObject(newAssignment).;\n\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n\n                   return View();\n    }\n</code></pre>\n\n<p>When I try to do <code>db.Assignment.AddObject(newAssignment);</code> the <code>AddObject</code> method is not available.  </p>\n\n<p>Am I using the wrong?  Why isn't <code>AddObject</code> not <code>AddObject()</code>  available?</p>\n"},{"tags":["c#","mvc","datetime","format","default"],"answer_count":6,"favorite_count":3,"up_vote_count":13,"down_vote_count":0,"view_count":14314,"score":13,"question_id":1389187,"title":"Set Default DateTime Format c#","body":"<p>Is there a way of setting or overriding the default DateTime format for an entire application.  I am writing an app in C# .Net MVC 1.0 and use alot of generics and reflection.  Would be much simpler if I could override the default DateTime.ToString() format to be \"dd-MMM-yyyy\".  I do not want this format to change when the site is run on a different machine.</p>\n\n<p>Edit - \nJust to clarify I mean specifically calling the ToString, not some other extension function, this is because of the reflection / generated code.  Would be easier to just change the ToString output.</p>\n"},{"tags":["mvc","symfony1","model","doctrine","symfony-1.4"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":982,"score":3,"question_id":4453073,"title":"Accessing the Symfony user session in the model (Doctrine)","body":"<p>How should one access Symfony's current user session in Doctrine's model? </p>\n\n<p>The two ways (that I know of) to do it are to either pull it from the sfContext inside the model: </p>\n\n<pre><code>sfContext::getInstance()-&gt;getUser()-&gt;getCanSwim();\n</code></pre>\n\n<p>Or, pass the sfUser instance (or piece) directly to the model from the controller:</p>\n\n<pre><code>UserTable::goSwimming($sf_user-&gt;can_swim);\n</code></pre>\n\n<p>But, are any of these methods better than the other, or is this not the correct way to do it all?</p>\n"},{"tags":["javascript","mvc","dojo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":276,"score":0,"question_id":11420807,"title":"Dynamic content single page application in Dojo","body":"<p>Basically, it goes like this. I have a very structured dojo application using the dojo boilerplate project/template (from Github). I have almost completed all my different module to make my application what it is (it's kind of a cms). So, it's a single page application which render content dynamically on some area. </p>\n\n<p>My EntryPoint.html looks like this:</p>\n\n<pre><code>&lt;div style=\"height:100%;\"&gt;\n    &lt;div\n            data-dojo-type=\"dijit.layout.BorderContainer\"\n            data-dojo-attach-point = \"appLayout\"\n            data-dojo-props=\"design: 'headline'\"\n            style=\"height:100%;\"&gt;\n\n        &lt;div\n                class=\"centerPanel\"\n                data-dojo-type=\"dijit.layout.ContentPane\"\n                data-dojo-props=\"region: 'center'\"&gt;\n\n                &lt;button data-dojo-attach-point =\"testButton\" type=\"button\" disabled=\"disabled\"&gt;Click Me!&lt;/button&gt;\n            &lt;div id=\"placeholder\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div\n                class=\"edgePanel\"\n                data-dojo-type=\"dijit.layout.ContentPane\"\n                data-dojo-props=\"region: 'top'\"&gt;Header content (top)\n                &lt;span class=\"test\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;div\n            id=\"leftCol\" class=\"edgePanel\"\n            data-dojo-type=\"dijit.layout.ContentPane\"\n            data-dojo-props=\"region: 'left', splitter: true\"&gt;\n\n            &lt;div id=\"administrationMenu\" class=\"administrationMenu\"&gt;\n                &lt;div class=\"administrationTitle\"&gt; Administration &lt;/div&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/user.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Users &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/email.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Emails &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/tools.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Settings &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/graph.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Logs &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/faq.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Help &lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n\n            &lt;div id=\"toolsMenu\" class=\"toolsMenu\"&gt;\n                &lt;div class=\"toolsTitle\"&gt; Managing tools &lt;/div&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/donwload.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Resources &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/play.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Playlists &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/clock.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Agenda &lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;img border=\"0\" src=\"file:///C:/Users/Dev 2/Desktop/mpact-dojo-boilerplate/src/app/resources/img/silver-gray/monitor.png\" alt=\"Pulpit rock\" width=\"24\" height=\"24\"/&gt;&lt;a href=\"#\"&gt; Stations &lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;  \n</code></pre>\n\n<p>*I know, I know my image should be in the css, but I'm not really a designer and I don't really have fun creating/tweaking interface.</p>\n\n<p>My EntryPoint.js: </p>\n\n<pre><code>define([\n    \"dojo/_base/declare\",\n    \"dijit/_Widget\",\n    \"dijit/_TemplatedMixin\",\n    \"dijit/_WidgetsInTemplateMixin\",\n\n    \"./ui/layout/GridLayout\",\n\n    \"dojo/text!./ui/templates/EntryPoint.html\",\n\n    \"dijit/layout/BorderContainer\",\n    \"dijit/layout/TabContainer\",\n    \"dijit/layout/ContentPane\"\n], function(\n    declare,\n    _Widget,\n    _TemplatedMixin, \n    _WidgetsInTemplateMixin,\n\n    GridLayout,\n    template\n){\n    return declare([_Widget, _TemplatedMixin, _WidgetsInTemplateMixin], {\n\n        templateString: template,\n\n        constructor: function() {\n\n        },\n\n        postCreate: function() {\n            //var gridLayout = new GridLayout({}, \"placeholder\");\n            //gridLayout.placeAt(\"placeholder\");\n        }\n\n    });\n});\n</code></pre>\n\n<p>Allright, so I want to basically be able to click on my various list (<em>administrationMenu</em> and <em>toolsMenu</em>). So, that my content load/render within the <em>centerPanel</em>. Plus, I would like to have my click items in the url. </p>\n\n<p>Use case scenario: When I load for the first time my application, it loads the home page. Then if I click my menu item (e.g settings), it loads my settings page. And the url would change to something like this: www.myapp.com/settings .</p>\n\n<p>Thank you.</p>\n\n<p>Possible solution: For each menu, use data-dojo-attach-point and specified a name. use dojo.query(\"\").connect for each and create an instance from my custom code (e.g new SettingsPage ) and render it on my centerPanel... </p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":9327194,"title":"Highlight active link from array","body":"<p>I want to apply <code>class=\"active\"</code> depending what page you on.  What the best way to do this?</p>\n\n<p>For Example:</p>\n\n<p>In the constructor function it create an array of links name and address.</p>\n\n<pre><code>class OrderController extends Controller {\n\n   public $data = array();\n\n   private __construct() {\n        $this-&gt;data['sidebar'] = array(\n            'New Orders' =&gt; '/admin/order',\n            'Processing Orders' =&gt; '/admin/order/processing',\n            'Completed Orders' =&gt; '/admin/order/completed',\n    );\n\n\n   public function actionIndex($status) {\n        $data = $this-&gt;data;\n        if ($status == \"processing\") {\n         //how to apply class=\"active\" when you on the order/processing page?\n         //Apply active in the data['sidebar'] array \n        }\n\n        $view = new view('orders.php', $data);\n        $view-&gt;render();\n    }\n  } \n</code></pre>\n\n<p>The array passed into <code>actionIndex()</code> and render orders.php</p>\n\n<p>In the orders.page, I have something like this:</p>\n\n<pre><code>&lt;?php foreach ($sidebar as $name =&gt; $link): ?&gt;\n    &lt;li&gt;\n      &lt;strong&gt;&lt;a href=\"&lt;?php echo $link; ?&gt;\"&gt;&lt;?php echo $name; ?&gt;&lt;/a&gt;&lt;/strong&gt;\n   &lt;/li&gt;\n&lt;?php endforeach; ?&gt;\n</code></pre>\n\n<p>I want to add <code>class=\"active\"</code> in the <code>li</code> tag.</p>\n"},{"tags":["javascript","html","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":282,"score":0,"question_id":11427747,"title":"How to Disable HTML view source or Encrypt Html elements programatically?","body":"<p>For some reasons, I have to disable view source for my html.\nThere were some third party tools (Html Guardian ) to encrypt html and use them. I have manualy encrypt my htmls and use the converted html. But i would like to achieve it programatically using scripts, applets or whatever.\nCan I do it programatically?</p>\n\n<p>I am using Asp.net MVC3 application.\nWhile rendering the view, how do I encrypt html without altering its display in browser?\nIs there any javascript available to do so?</p>\n"},{"tags":["c++","objective-c","ios","mvc","dependency-injection"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":11425246,"title":"iOS and C++ MVC strategy","body":"<p>I am writing a, primarily, c++ ios app.  </p>\n\n<p>I am using a c++ 3d engine and a dependence injection library.  I know I have to do a bit of cocoa to embed the 3d engine into the view and I plan on using the Apple api for the touch input.</p>\n\n<p>In order to keep maximal cross-platform compatibility, should I be using to MVC approaches - a Cocoa one to handle the basic view embedding and gestures and a second c++ one to handle all of the interaction and data that constitutes the bulk of the application?</p>\n\n<p>Is there a good MVC library for c++ that could handle both or is well suited to the combination.</p>\n\n<p>I am very new to this all. Apple makes it easy to use their tools but I really want to keep the code cross-platform.</p>\n"},{"tags":["java","swing","mvc","design","hmvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":11408807,"title":"Few Questions on MVC and HMVC","body":"<p>I recently started learning MVC and HMVC with swing and have a few questions.\nAs an example I'll say that there is a view A with controller A and model A. View A contains another view B with controller B and model B. So controller B would be the child of controller A.</p>\n\n<p>1) With MVC is it not possible to have multiple view components in a given window? Because with HMVC when the controller of a view component does not know how to handle an event it will pass to other controllers. For example an action on view A goes to controller A and if controller A cannot handle it, it will be passed to controller B. How can this kind of functionality be achieved with MVC?</p>\n\n<p>2) With HMVC it is possible for one view component to send messages ( through the controller hierarchy ) to models that are not directly related to the view. But what if multiple view components should be informed of the change of a single model? For example if a change in model B should be informed to both view A and B. Does both those views register as listeners to model B? Or does both controllers A and B register as listeners to model B and views A and B get to know the change in model B through the controllers?</p>\n\n<p>Thanks for any answers.</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":127,"score":0,"question_id":11423508,"title":"sending data properly through the MVC chain in code igniter","body":"<p>As I am new to code igniter and MVC, I am slowly but surely getting my login form to log a user in via data I've stored in the db.</p>\n\n<p>I have pieced together my current version from articles and advice from forums, however I am a little confused at this point as to why it seems that data is not being stored and sent properly.</p>\n\n<p>I have my login form set up to re-load the form if the password is incorrect ( eventually will add a message)</p>\n\n<p>That being said, when I put in the proper login info it reloads the page. That can only tell me that I am not communicating with the db properly or not sending and or storing info with my <code>$data</code> variable properly.</p>\n\n<p>Here is what I have code wise:</p>\n\n<p>Model:</p>\n\n<pre><code>&lt;?php\n\nclass User_model extends CI_Model {\n   function __construct()\n        {\n            // Call the Model constructor\n            parent::__construct();\n        }\n\n    function login($data = array())\n    {\n    // validate data\n    if( !empty($data) ) return FALSE;\n\n    // retrieve query\n    $query = $this-&gt;db\n            -&gt;from('users')\n            -&gt;where($data)\n            -&gt;get();\n\n    // Check if query row exists\n    if($query-&gt;row())\n    {\n        // Query row exists, return query row\n        return $query-&gt;row();\n    }\n    else\n    {\n        // Query row doesn't exist, return FALSE\n        return FALSE;\n    }\n  }\n}\n</code></pre>\n\n<p>View: \n\n\n<pre><code>title&gt;Login&lt;/title&gt;\n\n&lt;!--MAKE SURE SIGNED OUT HEADER IS IMPLEMENTED FOR ALL SIGNED OUT PAGES INCLUDING THIS ONE--&gt;\n\n&lt;div class=\"structure clearfix\"&gt;\n    &lt;h1 class=\"title_header\"&gt;\n        Sign In\n    &lt;/h1&gt;\n    &lt;div id=\"signin_form\"&gt;\n        &lt;?php\n        echo validation_errors(); \n        echo form_open('auth/validate_credentials');\n        echo \"&lt;div class='form_text_signin'&gt;\";\n        echo \"Email\";\n        echo \"&lt;/div&gt;\";\n        echo form_input('email');\n        echo \"&lt;div class='form_text_signin'&gt;\";\n        echo \"Password\";\n        echo \"&lt;/div&gt;\";\n        echo form_input('password');\n        echo form_submit('submit', 'Submit');\n        echo form_close();\n        ?&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>&lt;?php\nclass Auth extends CI_Controller {\n    function __construct()\n        {\n            // Call the Model constructor\n            parent::__construct();\n        }\n\n    // this is automatically called if no other function is called\n    // it simply turns around and calls the login() function to show the login page\n\n    public function index() {\n\n        $this-&gt;login();\n    }\n\n    public function login() {   \n    $data['main_content'] = 'auth/login';\n    $this-&gt;load-&gt;view('includes/templates/main_page_template', $data);\n\n    }\n\n    function validate_credentials () {\n        $query = $this-&gt;load-&gt;model('user_model');\n\n\n\n        if($query)\n        {\n            $data = array(\n                'email' =&gt; $this-&gt;input-&gt;post('email'),\n                'password' =&gt; $this-&gt;input-&gt;post('password'),\n                'is_logged_in' =&gt; true\n            );\n\n            $this-&gt;session-&gt;set_userdata($data);\n            redirect('account/dashboard');\n        }\n        else\n        {\n            $this-&gt;index();\n        }\n    }\n}\n</code></pre>\n\n<p>thanks in advance.</p>\n"}]}
{"total":14105,"page":20,"pagesize":100,"questions":[{"tags":["flex","mvc","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":128,"score":0,"question_id":11419049,"title":"How to use model in mvc architecture based application in flex","body":"<p>In a MVC architecture the model is used to store data used in the application. I create a class and use some static properties to store data so that it can be used throughout the application. For example if there is a datagrid, I use a static arraycollection in model class. Update it whenever a service is called and by using databinding update the dataprovider of the datagrid. I have read that singleton class can also be used to accomplish this task. Is the way I use for model class is better or there exists some other ways too?</p>\n"},{"tags":["ios","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":11423078,"title":"Unable to communicate from view controller to model","body":"<p>I'm unable to call a method or create a variable on my view controller. I'm using the following code but it doesn't work.</p>\n\n<pre><code>// MODEL\n@interface MyModel : NSObject\n-(void)awesome;\n@end\n\n@implementation MyModel\n-(void)awesome {\n    NSLog(@\"awesome\");\n}\n@end\n\n// VIEW CONTROLLER\n@interface MyViewController: UIViewController\n@property (nonatomic, strong) MyModel *modelObject;\n@end\n\n@implementation MyViewController\n@synthesize modelObject;\n-(void)viewDidLoad\n{\n    [self.modelObject awesome];\n    [super viewDidLoad];\n}\n@end\n</code></pre>\n"},{"tags":["mvc","jsf","java-ee","jsf-2","separation-of-concerns"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":2877,"score":3,"question_id":4229506,"title":"Best practice for implementing MVC in JSF2 managed beans","body":"<p>As the complexity of the web projects that I am working on increases, the need to include a MVC structure is becoming more urgent.  My model classes are well defined, but view and controller code tends to get munged together.  I've been using pretty heavy AJAX on the site also (RichFaces jsFunctions mostly) which makes things slightly more complicated.</p>\n\n<p>Has anyone found good strategies for implementing MVC using JSF2?  I do not want to introduce another framework to the project (e.g. Spring MVC).</p>\n\n<p>Some ideas thus far, which I haven't started doing yet</p>\n\n<ul>\n<li>For a page with heavy ajax, have a 'view' bean for remembering selected tabs, selected items, providing filtered lists of data, etc...</li>\n<li>Have a 'controller' bean to handle actions such as changes to the model</li>\n<li>Have 'command' beans which go between the JSF page and controller.  A jsFunction populates the command bean with parameters, and calling <code>command.execute()</code> causes the command bean to call the correct method on the controller bean to perform the action.  The 'command' bean may include some javascript to be called on completion.  It may also specify regions of the page to be re-rendered.</li>\n</ul>\n\n<p>Any thoughts?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>What I see pretty often are <strong>managed beans that tend to do everything</strong>: keep track of users' selections, update the model, get filtered lists, etc...  </p>\n\n<p>We're using JSF 1.2 at the moment and so we can't use actions/actionlisteners with parameters.  So for example, our managed beans contain variables such as <code>m_selectedDate</code> whose only purpose is to feed the selected date to the back-end on the call to <code>updateFilteredItemsBasedOnDate()</code>.  It would be nice if the extra variables could go away since they are just temporary.  JSF 2's EL with parameters should help but I'm curious if there is an alternate solution available.</p>\n\n<p>I am curious if there is a way to apply MVC to managed beans, or some method of separating concerns so that we don't end up with large beans that try to do everything.</p>\n"},{"tags":["php","mvc","oop","zend-framework","zend-form"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":11419487,"title":"form not rendering","body":"<p>I am using zend framework and am trying to output a simple login form using zend form, MVC and OOP.</p>\n\n<p>My code is below:\nThe Controller\nIndexController.php</p>\n\n<pre><code>class IndexController extends Zend_Controller_Action\n{\n\n    public function init()\n    {\n        /* Initialize action controller here */\n    }\n\n    public function indexAction()\n    {\n        $this-&gt;view-&gt;loginForm = $this-&gt;getLoginForm(); \n    }\n\n    public function getLoginForm()\n    {\n        $form = new Application_Form_Login;\n        return $form;\n    }\n}\n</code></pre>\n\n<p>This is the form:\nLogin.php</p>\n\n<pre><code>class Application_Form_Login extends Zend_Form\n{\n\n    public function init()\n    {\n        $form = new Zend_Form;\n\n        $username = new Zend_Form_Element_Text('username');\n        $username\n            -&gt;setLabel('Username')\n            -&gt;setRequired(true)\n        ;\n\n        $password = new Zend_Form_Element_Password('password');\n        $password\n            -&gt;setLabel('Password')\n            -&gt;setRequired(true)\n        ;\n\n        $submit = new Zend_Form_Element_Submit('submit');\n        $submit-&gt;setLabel('Login');\n\n        $form-&gt;addElements(array($username, $password, $submit));\n\n    }\n}\n</code></pre>\n\n<p>And the view:\nindex.phtml</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n    &lt;head&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;div id=\"header\"&gt;\n            &lt;div id=\"logo\"&gt;\n                &lt;img src=\"../application/images/logo.png\" alt=\"logo\"&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"wrapper\"&gt;\n            &lt;?php echo $this-&gt;loginForm; ?&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am new to Zend Framework, MVC and OOP, So this my best attempt at this following online advice, tutorials etc.</p>\n"},{"tags":["mvc","jsp","servlets","netbeans"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":11406501,"title":"Creating MVC2 App - JSP and Servlet","body":"<p>I have been given an assignment to develop MVC-2 app using JSP &amp; MS Access. the access db contains two tables (students &amp; projects). The application must run with all common JDK versions (1.5 onwards). As per my understanding, i need to develop POJO (model) + JSP (view) + Servlet (controller). I have one POJO \"students\" representing student table, another POJO \"DataAccess\" containing methods to manipulate \"students\" table, then Servlet \"Controller\". problem is that in servlet after authentication I populate List of Students from data access and pass it to \"students.jsp\" however, the list passed cannot be retrieved in jsp page.</p>\n\n<pre><code>////////////////////////////////////////////////////////////////////////////////\n\npublic List getStudents(int id) throws SQLException, Exception{        \n    String sql = \"select * from students\";\n    String where = \" Where id = ?\";\n    List stdList = new ArrayList();\n    try {\n        pst = cn.prepareStatement(sql);\n        stdList = (ArrayList) pst.executeQuery();\n    }catch(SQLException  e){\n        System.out.println(e);\n    }finally{\n        pst.close();\n    }        \n        return stdList ;                      \n}\n\n////////////////////////////////////////////////////////////////////////////////\n</code></pre>\n\n<p>following is code in servlet, all works well as I checked in debugger, stdlist is populated with 2 student records from db.</p>\n\n<pre><code>////////////////////////////////////////////////////////////////////////////////\n\n      if (action.equals(\"Authenticate\")){\n                        String userid , pwd ;\n                        userid = request.getParameter(\"username\");\n                        pwd = request.getParameter(\"password\");\n                        if (authenticate(userid,pwd)){\n                            request.setAttribute(\"Admin\", \"Yes\");                        \n                            stdList = dao.getStudents(0);\n                            request.setAttribute(\"data\", stdList);\n       forward = STD;                        \n                        }\n\n////////////////////////////////////////////////////////////////////////////////\n</code></pre>\n\n<p>Following is code of students.jsp page, it doesnot retrieve anything list. Please help to solve this issue.</p>\n\n<pre><code>////////////////////////////////////////////////////////////////////////////////\n\n    &lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n    &lt;%@page language=\"java\" import=\"java.util.*\" %&gt;\n    &lt;%@page import=\"model.*\"%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;Student Information&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body&gt;    \n            &lt;form method=\"POST\"  &gt;\n                &lt;table width=\"100%\" border=\"0\" cellspacing=\"10\" cellpadding=\"0\" &gt;\n                    &lt;tr&gt;\n                        &lt;td width=\"20%\" align=\"left\" valign=\"top\"&gt;\n                            &lt;%@include file=\"links.jsp\" %&gt;\n                        &lt;/td&gt;\n                        &lt;td width=\"61%\"&gt;\n                            &lt;table width=\"800\" border=\"1\" align=\"center\" cellpadding=\"5\" cellspacing=\"1\" onselect=\"controller?action=SelStd\"&gt;\n                                &lt;caption&gt;\n                                    &lt;h2&gt;Manage All Students&lt;/h2&gt;&lt;/caption&gt;\n                                &lt;tr&gt;&lt;td&gt;&lt;a href=\"controller?action=AddStd\"&gt;&lt;b&gt;Add New Student&lt;/b&gt;&lt;/a&gt; &lt;/td&gt;&lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td&gt;Sr#&lt;/td&gt;\n                                    &lt;td&gt;Name&lt;/td&gt;\n                                    &lt;td&gt;Roll Number&lt;/td&gt;\n                                    &lt;td&gt;Ph Number&lt;/td&gt;\n                                    &lt;td&gt;Study Program&lt;/td&gt;\n                                    &lt;td&gt;Status&lt;/td&gt;\n                                    &lt;td&gt;Update Record&lt;/td&gt;\n                                    &lt;td&gt;Delete Record&lt;/td&gt;\n                                &lt;/tr&gt;                           \n                                &lt;c:forEach items=\"${data}\" var=\"std\" varStatus=\"loop\"&gt;  \n                                    &lt;tr&gt;                           \n                                        &lt;td align=\"right\"&gt;&lt;c:out ${std.iD}/&gt;&lt;/td&gt;                      \n                                    &lt;td align=\"left\"&gt;&lt;c:out ${std.name}/&gt; &lt;/td&gt;                      \n                                    &lt;td align=\"left\"&gt;${std.rollNumber}&lt;/td&gt;                      \n                                    &lt;td align=\"right\"&gt;${std.phoneNumber}&lt;/td&gt;                      \n                                    &lt;td align=\"left\"&gt;${std.studyProgram}&lt;/td&gt;                      \n                                    &lt;td align=\"left\"&gt;${std.status}&lt;/td&gt;                                     \n                                    &lt;td align=\"center\"&gt;&lt;a href=&lt;%=\"controller?action=UpdStd&amp;id=&lt;c:out +${std.iD}+\"%&gt;&gt;update&lt;/a&gt;&lt;/td&gt;                                          \n                                    &lt;td&gt;&lt;a href=\"controller?action=DelStd\"&gt;Delete Record&lt;/a&gt;&lt;/td&gt;                                    \n                                    &lt;/tr&gt;\n                                &lt;/c:forEach&gt;\n        &lt;/table&gt;\n    &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;/form&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>Please correct my mistakes in students.jsp. thanks</p>\n"},{"tags":["asp.net-mvc","mvc","telerik","grid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":443,"score":0,"question_id":11418188,"title":"Telerik MVC Grid Custom Column Image Button","body":"<p>I working with Telerik MVC Grid and i'm trying to change the button image of a custom column.</p>\n\n<pre><code>column.Command(Sub(cmd)\n                   cmd.Custom(\"Editar\").ButtonType(GridButtonType.BareImage).HtmlAttributes(New With{ .class=\"btnDelete\"}).DataRouteValues(Sub(route)\n                                                                                                                         route.Add(Function(x) x.idPedidoDocumentacao).RouteKey(\"idPedidoDocumentacao\")\n                                                                                                                     End Sub).Action(\"DetalhePedido\", \"Pedido\").SendDataKeys(True)\n                            End Sub).Width(\"5%\").Title(\"Editar\")\n</code></pre>\n\n<p>I create a class in my css file:</p>\n\n<pre><code>.btnDelete\n</code></pre>\n\n<p>{</p>\n\n<pre><code>background-position:0px 0px;\nbackground:url(/Images/delete.png);\n</code></pre>\n\n<p>}</p>\n\n<p>Can anyone help me figure this out?\nThks!</p>\n"},{"tags":["mvc","view","model","viewmodel","business-logic"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":11353150,"title":"Best practise for defining the (view)model when using a business layer","body":"<p>Project setup:</p>\n\n<p>MVC project, business layer that depends on repository pattern for working with data.</p>\n\n<p>Question:</p>\n\n<p>Sometimes you want the business layer to return data that is not a simple <code>List&lt;entitytype&gt;</code>.\nIn that case, should your strongly typed view use the return value (some business model) of the business layer method or should you always use a viewmodel in the mvc model folder.</p>\n\n<p>What is best practice?? If i use TDD for defining my business methods, my end point would be a model that implements the requirements that can be used by the view to display data, so the controller can simply pass that to the view. Is that bad and should i really use an model in the mvc project to be the interface between the controller and the view? </p>\n\n<p>In any case, my MVC project depends on the business layer.. Is it bad to use return value models from the business layer to pass data from my controllers to my views?</p>\n"},{"tags":["php","mvc","frameworks"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":11416167,"title":"MVC Template system","body":"<p>I will try to explain it as much as I can, hopefully it's gonna be enough:</p>\n\n<p>I would like to create simple templates for my newly started MVC framework (I am at the learning stage). At the moment, I have base controller, model and router + few controllers, connected to model and view.</p>\n\n<p>Controller is created via router, then the appropriate view is selected and displayed. To load appropriate modules and controllers files I use autoloader. I would like to know how to create a template that I will be able to include various modules in (kind of like joomla does). Displaying them is fairly simple, as I can just parse the template, find concrete tag and replace it with certain view, but how will this template be able to interact with the user, since no controller and model are loaded when attaching view directly to another view(template) (in this case only the loader of the main component is loaded inside the router).</p>\n\n<p>What solution would You suggest?? If You need some code or anything just ask, because I have no idea what would You need.</p>\n\n<p>Waiting for answers, hopefully You will manage to understand and solve my concern.</p>\n\n<p>Kind Regards\nDaniel</p>\n"},{"tags":["javascript","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":11415716,"title":"How to redirect to different controller?","body":"<p>I have an application in ASP.MVC. The requirement is that I select a person from a list of people and click 'Info' and it should load the details of the person in that page. I have the Info controller and everything works fine if I go to the Info page from a different controller. In the page I am trying to make it work with JavaScript and it doesn't seem to take me to the desired page but to a different controller. </p>\n\n<p>I have a ToDoList controller and in the .cshtml I have this code on click of the Info link.</p>\n\n<pre><code> function DoInfo@(i.ToString())() {\n         $(\"#sessionid\").val(\"@Model.cSessionId[i]\");\n         alert(\"hey\");\n         $(\"#PageController\").val(66);\n         $(\"#formID\").submit();\n    }\n</code></pre>\n\n<p>I go to the ToDoList controller to do the redirection like this</p>\n\n<pre><code>  if (viewModel.PageController == 66)  \n        {\n            pass = new PassingData();\n            pass.personid = TSSessionService.ReadPersonId(viewModel.SessionId);\n            TempData[\"pass\"] = pass;\n\n            return RedirectToAction(\"Index\", \"Info\");\n        }\n</code></pre>\n\n<p>It never goes there and instead goes to a different controller. I cannot seem to find how they are linked and why is it not going back to controller where the Info link button is i.e. back to the ToDoList controller.</p>\n\n<p>Let me know if it is not clear and I will try to explain again and I will give any other details. </p>\n"},{"tags":["php","mvc","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":11417644,"title":"cakephp full find/read depth","body":"<p>I'm basically trying to extend the depth of my query by returning the Users and Comments for both my Project and Update tables.</p>\n\n<p>Site visitors can view a Project, which has many Updates listed below it. </p>\n\n<p>Users can leave comments on both the initial Project AND the Updates below, and each update and project is submitted by any users.</p>\n\n<p>I have the following relationships set up, but these could be wrong:</p>\n\n<pre><code>Project.php (Model)\n    belongsTo           - User\n    hasMany             - Update, Comment\n\nUpdate.php (Model)\n    belongsTo           - Project, User\n    hasMany             - Comment\n\nComment.php (Model)\n    belongsTo           - Project, Update\n    hasAndBelongsToMany - User\n\nUser.php (Model)\n    hasMany             - Project, Update, Comment\n</code></pre>\n\n<p>The view in my ProjectController.php is as follows:</p>\n\n<pre><code>public function view($id = null, $slug = null) {\n    $this-&gt;Project-&gt;id = $id;\n    $this-&gt;set('Projects', $this-&gt;Project-&gt;read());\n}\n</code></pre>\n\n<p>But this only exports an array containing:</p>\n\n<pre><code>Project\n    User        (belonging to Project)\n    Comments    (belonging to Project)\n    Updates     (belonging to Project)\n</code></pre>\n\n<p>But I would like this full result, containing the comments to everything and the users for those comments:</p>\n\n<pre><code>Project\n    User        (belonging to Project)\n    Comments    (belonging to Project)\n        User        (belonging to each Comment)\n    Updates     (belonging to Project)\n        User        (belonging to Update)\n        Comments    (belonging to Update)\n            User        (belonging to each Update Comment)\n</code></pre>\n\n<p>In the database, comments are tied to users by one ID (user_id) and contain no more details about the user than that.</p>\n\n<p>Any help would be MUCH appreciated!!!!</p>\n\n<p>Thanks</p>\n"},{"tags":["jquery",".net","mvc","webforms","jquery-templates"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":136,"score":1,"question_id":11413345,"title":"bind c# list to jQuery template","body":"<p>What would be the best way to bind C# List to jQuery template?\nThe only way I found so far is as follows:</p>\n\n<pre><code>JavaScriptSerializer serializer = new JavaScriptSerializer();\nvar jsonData  = serializer.Serialize(ListOfObjects);\nResponse.Write(\"&lt;script type='text/javascript'&gt;var jsonData = \" + jsonData  + \";&lt;/script&gt;\");\n</code></pre>\n\n<p>on page:</p>\n\n<pre><code>$(\"div\").html($(\"#myTemplate\").tmpl(jsonData ));\n\n&lt;script id=\"myTemplate\" type=\"text/x-jquery-tmpl\"&gt;\n  ${}\n&lt;/script&gt;\n</code></pre>\n\n<p>Any better way to do it?</p>\n"},{"tags":["javascript","html","mvc","web","angularjs"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1079,"score":1,"question_id":11412410,"title":"AngularJS - losing scope when using ng-include","body":"<p>I have this module routes:</p>\n\n<pre><code>var mainModule = angular.module('lpConnect', []).\n    config(['$routeProvider', function ($routeProvider) {\n    $routeProvider.\n        when('/home', {template:'views/home.html', controller:HomeCtrl}).\n        when('/admin', {template:'views/admin.html', controller:AdminCtrl}).\n        otherwise({redirectTo:'/connect'});\n}]);\n</code></pre>\n\n<p>Home html:</p>\n\n<pre><code>&lt;div ng-include src=\"views.partial1\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>partial1 html:</p>\n\n<pre><code>&lt;form ng-submit=\"addLine()\"&gt;\n    &lt;input type=\"text\" ng-model=\"lineText\" size=\"30\" placeholder=\"Type your message here\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>HomeCtrl:</p>\n\n<pre><code>function HomeCtrl($scope, $location, $window, $http, Common) {\n    ...\n    $scope.views = {\n        partial1:\"views/partial1.html\"\n    };\n\n    $scope.addLine = function () {\n        $scope.chat.addLine($scope.lineText);\n        $scope.lines.push({text:$scope.lineText});\n        $scope.lineText = \"\";\n    };\n...\n}\n</code></pre>\n\n<p>in the addLine function $scope.lineText is undefined, this can be resolved by adding  <strong>ng-controller=\"HomeCtrl\"</strong> to partial1.html , however it causes the controller to be called twice, what am I missing here?</p>\n"},{"tags":["c#","asp.net-mvc","mvc","design","asp.net-mvc-2"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":11415621,"title":"Good practice to have a data-only controller in MVC?","body":"<p>I'm using ASP.NET MVC2 and have various controllers in various areas.</p>\n\n<p>In many of these I need to select a value from a list of values contained in a database; selecting a product or an employee for example.</p>\n\n<p>I'm currently thinking of having a controller dedicated to getting these lists of things for use with dropdownlists etc. This controller would simply query the DAL and serve up JSON objects to be loaded with an ajax call on any view that needed them.</p>\n\n<p>My only concern with this is that my view will be getting data from different controllers at once.</p>\n\n<p>Am I right to be concerned? Is there a better way of setting this up, maybe creating a <code>Product</code>/<code>Employee</code> class especially to create a shared strongly typed partial view from?</p>\n"},{"tags":["ajax","asp.net-mvc-3","mvc","post","ajax.beginform"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":209,"score":0,"question_id":11414490,"title":"Ajax.BeginForm is submitting disabled form elements","body":"<p>Using MVC3 and Ajax.BeginForm I surprisingly discovered that mvc ajax forms submits elements with the attribute disabled=\"disabled\".</p>\n\n<p>I have tested both select and text inputs.</p>\n\n<p>I was suprised because they should not be submited and they will not when using Html.BeginForm.</p>\n\n<p>Is there some hidden option or a workaround for this?</p>\n\n<p>[EDIT example]</p>\n\n<pre><code> @using (Ajax.BeginForm(\"Action\", \"Control\", new AjaxOptions() { HttpMethod = \"POST\" }))\n{\n\n  &lt;input type=\"text\" name=\"_enabled\" value=\"_enabled\" /&gt;\n  &lt;input type=\"text\" name=\"_disabled\" value=\"_disabled\" disabled=\"disabled\" /&gt;\n\n  &lt;input type=\"submit\" value=\"POST\" /&gt;\n\n}\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/juhE7.png\" alt=\"Posted data\"></p>\n\n<p>Html.BeginForm will not post the _disabled value.</p>\n"},{"tags":["javascript","html","mvc","web","angularjs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":422,"score":2,"question_id":11408668,"title":"AngularJS - Is it possible to use ng-repeat to render HTML values?","body":"<p>I'm using AngularJS with a third party service that generates html responses. I want to use ng-repeat to render the HTML responses as a list, however Angular renders it as text.</p>\n\n<p>Is it possible to use ng-repeat to render HTML property?</p>\n\n<p>I've created this jsFiddle to demonstrate my issue.\n<a href=\"http://jsfiddle.net/DrtNc/1/\" rel=\"nofollow\">http://jsfiddle.net/DrtNc/1/</a></p>\n"},{"tags":["java","mvc","view"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":11415775,"title":"one button and two differents views","body":"<p>I'm building my application applying MVC pattern.Following this guide <a href=\"http://www.austintek.com/mvc/\" rel=\"nofollow\">mvc guide</a>, I would make an application made of a button.when I press button appear me another view when I repress the button appear me the previously view.how can I made ?some advices?</p>\n"},{"tags":["asp.net-mvc","mvc","iis","iis6","startup"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":159,"score":1,"question_id":11413791,"title":"How can I set the default page in IIS to a Controller?","body":"<p>We have an MVC application that is accessed from two separate websites. The default website is fine, however how can I setup the second site to startup in a specific Controller?</p>\n\n<p>Our default site is <code>www.mysite.com</code>, and we'd like to add a second IIS site for the header <code>www.subdomain.mysite.com</code> that should take users to <code>www.subdomain.mysite.com/controller</code> </p>\n\n<p>But how can I tell IIS to startup <code>www.mysubdomain.mysite.com</code> with the specific controller action <code>mycontroller</code>?</p>\n"},{"tags":["mvc","telerik","grid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11415335,"title":"Filtering Telerik MVC Grid doesn't preserve the Changelog in Batch Editing Mode","body":"<p>I'm using a Telerik MVC grid (ASP.NET MVC 3).  I am in batch editing mode and the grid is filterable.</p>\n\n<p>Upon loading the grid it is not filtered.  I have a jquery function that filters the grid for me:</p>\n\n<pre><code>var TBIGrid = $('#TBI').data('tGrid');\nvar filtervalue = \"ImpId~eq~\" + impid.toString();\nTBIGrid.filter(filtervalue);\n</code></pre>\n\n<p>The filtering works perfectly fine.  The problem is that the filtering makes an Ajax call back to the server to get the new data.   This causes it to lose the values of the changelog.</p>\n\n<p>For example if a user modifies a row, and then applies a filter that makes the row invisible (because it doesn't match the criteria of the filter), filtering back to the original row does not save the change that the user made.  The user did not click the save button between filtering clicks.</p>\n\n<p>I assume that since the filtering is using an Ajax call it is losing all of the changelog information.  Is there a way to have the filtering operate on the initial data set instead of returning to server?</p>\n"},{"tags":["entity-framework","mvc","repository","domain-driven-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":11413835,"title":"DDD Repository EF Performance","body":"<p>I was wondering how people who follow DDD get around potential performance issues with using EF and the repository pattern with returning an aggregate root with children.</p>\n\n<p>e.g. Parent\n       ----- Child A</p>\n\n<p>Or even e.g. Parent\n               ----- Child A\n                       ------- Child A2</p>\n\n<ol>\n<li>If I bring back the aggregate root's data from the repository and use a navigational property EF then fires off another query because it is utlising lazy loading. This is a problem because we are experiencing 100+ queries when we are in a loop.</li>\n<li>If I bring back the aggregate root's data from the repository with the children's data as well by using the 'Include' statements, this will bring back the childrens data from the repository with its parent. Then when I use the navigational properties no queries fire off because that data is already in memory. </li>\n</ol>\n\n<p>The problem with the second approach is that some of our data for the child object can be quite big e.g. 100,000+ records. \nObviously I don't want to store 100,000+ records in memory for the child. We decided to use paging to select 10 at a time to get around this, but another issue is when we are trying to use calculations on the children like sum, total count etc but we can only do that in memory on the 10 records we have pulled back.</p>\n\n<p>I know the DDD way is to pull back the object graph with all of its data in memory and then you traverse through the objects for the data you need to display.</p>\n\n<p>There is a split in our team with some believing we should pull back the aggregate root and it's children together and some feel we should have a method on the aggregate root's repository that queries the childrens data directly and pulls back the child object.</p>\n\n<p>I Just wondered how other people have solved the performance issues with large amounts of data being stored in memory with the parent/child.</p>\n"},{"tags":["javascript","asp.net-mvc","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":11413539,"title":"htmlfile: Unknown runtime error in MVC application in IE8","body":"<p>I have taken <strong>Contoso University MVC Program Sample</strong>. it runs fine perviously. but after some day it show some javascript error <strong>htmlfile: Unknown runtime error</strong>. its MVC program  it shows error in IE8 only. Not in Mozila firefox. I searched in net a lot but all are saying the nested Form tag, i can not found any thing in my code. For every application running it shows the Same error for clicking any button in my application. Can any one please help me out to resolve this error. The entire code available in Microsoft side.</p>\n"},{"tags":["java","mvc"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":11413069,"title":"relation among views and models","body":"<p>In the MVC pattern, if I have two different views, must I have two different models? Is there a one-to-one relationship between the view and the model?</p>\n"},{"tags":["c#","visual-studio-2010","mvc","app-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":11412701,"title":"Images not being replaced correctly in the App_Data folder","body":"<p>Ok, so I have a Visual Studio project and all of the files, images etc that a user uploads get put into the App_Data folder. This worked perfectly fine up until I allowed users to replace images.</p>\n\n<p>I'm having a very specific problem whereby when the image is replaced, because the image is the same file name the image stays the same as the old one. This is fine, this is just because the images are cached. However, you would expect that when I delete the cache and reload the page the new image would be showing. </p>\n\n<p>Even though the correct image is in the App_Data folder, it will display a broken image icon. I thought this was strange so I rebuilt the project and refreshed the page. This then brings through the new image.</p>\n\n<p>My question is, why does this design require a rebuild to properly refresh the images? The images aren't served from App_Data explicitly: </p>\n\n<pre><code>&lt;img src=\"@Html.ImageAssetUrl(asset.ImageAssetId)\" alt=\"@asset.FileDescription\" style=\"width: 100px;\" /&gt;\n\n\n    [OutputCache(Duration = 60 * 60 * 24 * 30, Location = OutputCacheLocation.Any)]\n    public ActionResult Image(int assetId, string fileName, string extension, int? cropSizeId)\n    {\n        ImageAsset asset = imageAssetService.Single(assetId, fileName, extension, true);\n\n        if (asset == null)\n            return FileAssetNotFound(\"Image could not be found\");\n\n        string filePath = null;\n\n        if (cropSizeId.HasValue)\n        {\n            if (asset.ImageCropSizeId.HasValue &amp;&amp; asset.ImageCropSizeId.Value == cropSizeId.Value)\n            {\n                filePath = Server.MapPath(string.Format(\"~/App_Data/Files/Images/{0}-{1}.{2}\", assetId, asset.ImageCropSizeId.Value, asset.Extension));\n            }\n            else\n            {\n                foreach (var crop in asset.ImageAssetCrops)\n                {\n                    if (crop.ImageCropSizeId == cropSizeId.Value)\n                    {\n                        filePath = Server.MapPath(string.Format(\"~/App_Data/Files/Images/{0}-{1}.{2}\", assetId, crop.ImageCropSizeId, crop.Extension));\n                        break;\n                    }\n                }\n            }\n        }\n        else\n        {\n            filePath = Server.MapPath(string.Format(\"~/App_Data/Files/Images/{0}.{1}\", assetId, asset.Extension));\n        }\n\n        // TODO: Show a better error message\n        if (string.IsNullOrEmpty(filePath) || !System.IO.File.Exists(filePath))\n            return FileAssetNotFound(string.Format(\"Image file {0} not found on disk\", filePath));\n        else\n            return new FilePathResult(filePath, FileUtil.GetContentType(extension));\n    }\n</code></pre>\n\n<p>Note: I didn't design it this way, so if I could preserve the images being kept in a App_Data -> Files -> Images -> Image structure that would be perfect. I know they shouldn't be in there!!</p>\n"},{"tags":["sql","query","mvc","magento","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":256,"score":0,"question_id":11412213,"title":"select column magento","body":"<p>I was wondering how you can select columns. Above you can see the sql I wanna write in the controller. But I want to do this the wright way. Like other sql statements in magento.</p>\n\n<p>I tried to add ->columns('o.sku AS  SKU') but this didn't work.</p>\n\n<p>Any ideas? Thanks in advance!</p>\n\n<pre><code>//sql\n$readresult=\"SELECT o.name AS  'Product', o.sku AS  'SKU', c.entity_id AS  'Order', c.customer_email AS  'Email', c.customer_firstname AS  'Voornaam', c.customer_lastname AS  'Achternaam', c.customer_middlename AS  'Tussenvoegsel', o.product_options AS 'Options', a.telephone AS  'Telefoon', a.postcode AS  'Postcode', a.street AS  'Street', a.city AS  'City', c.increment_id AS 'Bestelnr' FROM magento_sales_flat_order AS c INNER JOIN magento_sales_flat_order_item AS o ON c.entity_id = o.order_id INNER JOIN magento_sales_flat_order_address AS a ON a.parent_id = c.entity_id WHERE o.product_id =\".$product.\" GROUP BY c.entity_id ORDER BY o.sku;\";\n\n\n//THE MAGENTO WAY!\n$resource = Mage::getSingleton('core/resource');\n$read = $resource-&gt;getConnection('core_read');\n$o = $resource-&gt;getTableName('magento_sales_flat_order');\n$o_item = $resource-&gt;getTableName('magento_sales_flat_order_item');\n$o_address = $resource-&gt;getTableName('magento_sales_flat_order_address');\n$select = $read-&gt;select()-&gt;from(array('c'=&gt;$o))\n    -&gt;join(array('o'=&gt;$o_item), 'c.entity_id = o.order_id', array(o.sku AS  'SKU'))\n    -&gt;join(array('a'=&gt;$o_address), 'a.parent_id = c.entity_id', array())\n    -&gt;where('o.product_id', $product)\n    -&gt;group('c.entity_id')\n    -&gt;order('o.sku');\n</code></pre>\n"},{"tags":["php","mvc","search"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":154,"score":-1,"question_id":9337175,"title":"Advance Search in Model (MVC)","body":"<p>I want to create a Advance Search, something like this:</p>\n\n<ul>\n<li>Textbox: Find</li>\n<li>Dropdown: search by: name, location or telephone</li>\n<li>Dropdown: Order By Asc or Dec</li>\n<li>Dropdown: Sort by name, location or telephone</li>\n<li>Dropdown: Search between dates (if selected)</li>\n</ul>\n\n<p>What is the proper way to add those parameters in the function for the model? </p>\n\n<p>I have came up with this solution:</p>\n\n<pre><code>class ShopsModel extends Model {\n\n  findBy($find, $searchBy, $order, $sort, $betweenDate) {\n   // some MySQL query here...\n  }\n\n}\n</code></pre>\n\n<p><strong>Edit</strong>: I am talking about the variables - <code>findBy($find, $searchBy, $order, $sort, $betweenDate)</code> - do I need all those parameters or is there alternative solution?</p>\n"},{"tags":["php","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":11411423,"title":"Creating and sending parameters Between Controller and View","body":"<p>I'm a complete beginner in CodeIgniter. I'm trying to understand the MVC pattern,which is getting a bit trickier as I'm going ahead with CodeIgniter.\nThis is what my Controller looks like i.e hello.php :</p>\n\n<pre><code>&lt;?php\n    class hello extends CI_Controller\n    {\n        var $name;\n        var $color; \n        function hello()\n        {\n            parent::Controller();\n            $this-&gt;name  ='Leroy';\n            $this-&gt;color ='red';\n        }\n\n        function show()\n        {   \n            $data['name'] =$this-&gt;name;\n            $data['color']=$this-&gt;color;    \n            $this-&gt;load-&gt;view('show_message',$data);\n        }\n    }\n?&gt;\n</code></pre>\n\n<p>the view i.e show_message.php</p>\n\n<pre><code>&lt;p align=\"center\"&gt;Hello &lt;font color=\"&lt;?=$color?&gt;\"&gt;&lt;?=$name?&gt;&lt;/font&gt;..!!!!.&lt;/p&gt;\n</code></pre>\n\n<p>when I run this script it gives this error </p>\n\n<pre><code>Fatal error: Call to undefined method CI_Controller::Controller() in C:\\xampp\\htdocs\\CodeIgniter\\application\\controllers\\hello.php on line 8\n</code></pre>\n\n<p>P.S I'm using CodeIgniter version 2.0 so I changed the class name to CI_Controller</p>\n"},{"tags":["silverlight","mvc","user-interface","mvvm","mvp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":11406457,"title":"Difference between UI and View in terminology and which is correct in what scenario","body":"<p>I am curious to see if there is a difference between the words \"UI\" and \"View\". I see UI can be classified as GUI, Voice User Interface, Commandline User Interface. But in our projects based on MVC/MVVM/MVP, we many a times interchange the term UI with View. I am little curious in knowing why 2 different words to represent the same thing ? Or what is the correct way of calling it ? (I know many people might say, its \"View\", but still why we use the jargon UI ?)</p>\n"},{"tags":["asp.net-mvc","asp.net-mvc-3","mvc","ninject"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":206,"score":0,"question_id":11404368,"title":"Using Ninject from an external project to resolve dependencies","body":"<p>I'm currently working on a project whereby I will be developing views that will be pre-compiled and will be part of an external MVC 3.0 web solution I do not have any control over.</p>\n\n<p>Part of my requirements is that I will need to access an underlying database in order to get some data.  I would like to use Ninject (I've been informed that's what the external solution uses) to inject the database instance into my controllers as necessary.</p>\n\n<p>I understand that you add the bindings in such a place as the Global.asax however I do not have access to this as that is part of the external solution out of my control.</p>\n\n<p>Is there anyway I can create this dependency injection in my project that contains the pre-compiled views etc and ensure it is resolved when the external project loads our controller?</p>\n\n<p>If this is too vague let me know and I'll try and offer more information.</p>\n\n<p>EDIT:\nInitially upon taken on Darin's suggestion I got the exception below:</p>\n\n<pre><code>System.InvalidOperationException crossed a native/managed boundary\n  Message=Sequence contains no elements\n  Source=System.Core\n  StackTrace:\n       at System.Linq.Enumerable.Single[TSource](IEnumerable`1 source)\n       at Ninject.Web.Mvc.NinjectMvcHttpApplicationPlugin.Start() in c:\\Projects\\Ninject\\ninject.web.mvc\\mvc3\\src\\Ninject.Web.Mvc\\NinjectMvcHttpApplicationPlugin.cs:line 53\n       at Ninject.Web.Common.Bootstrapper.&lt;Initialize&gt;b__0(INinjectHttpApplicationPlugin c) in c:\\Projects\\Ninject\\Ninject.Web.Common\\src\\Ninject.Web.Common\\Bootstrapper.cs:line 52\n       at Ninject.Infrastructure.Language.ExtensionsForIEnumerableOfT.Map[T](IEnumerable`1 series, Action`1 action) in c:\\Projects\\Ninject\\ninject\\src\\Ninject\\Infrastructure\\Language\\ExtensionsForIEnumerableOfT.cs:line 32\n       at Ninject.Web.Common.Bootstrapper.Initialize(Func`1 createKernelCallback) in c:\\Projects\\Ninject\\Ninject.Web.Common\\src\\Ninject.Web.Common\\Bootstrapper.cs:line 52\n       at MyApp.App_Start.NinjectWebCommon.Start() in C:\\App\\NinjectWebCommon.cs:line 28\n  InnerException:\n</code></pre>\n\n<p>However upon thinking about it, the bootstrapper should already be initialised in our external MVC application (assuming they are using this method I guess).  So I don't need to do all the initialisation all I need to do is register my dependencies with the current Kernal.</p>\n\n<p>Something like:</p>\n\n<pre><code>public static class NinjectWebCommon\n{\n    private static readonly Bootstrapper bootstrapper = new Bootstrapper();\n\n    /// &lt;summary&gt;\n    /// Starts the application\n    /// &lt;/summary&gt;\n    public static void Start()\n    {\n        RegisterServices(bootstrapper.Kernel);\n    }\n\n    /// &lt;summary&gt;\n    /// Load your modules or register your services here!\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"kernel\"&gt;The kernel.&lt;/param&gt;\n    private static void RegisterServices(IKernel kernel)\n    {\n        kernel.Bind&lt;IDataContext&gt;().To&lt;ApiDataContext&gt;();\n    } \n}\n</code></pre>\n\n<p>When doing this I now get the items injected.  However I'm not 100% this is the correct solution but it seems to work?</p>\n"},{"tags":["php","mvc","module","structure","partial-view"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":138,"score":0,"question_id":11408967,"title":"PHP MVC rendering home page","body":"<p>I'm trying to learn mvc design pattern for web applications, so i decide write my own php mvc framework. Before writing this post  i read a lot of tutorials, and forums about mvc. Now I pretty well understanding mvc idea, and how comunicate controller-model-view. I have write router and few modules (login, categories, ...)  seems it's working.</p>\n\n<p>Now I'm confused  a bit:</p>\n\n<p>Now if i call \"localhost/LogIn\" I get only login form, if I call \"localhost/categories\" i get category list. Everything ok, but i want create index controller and when call \"localhost/index\" i want see login form, categories and a lot of more modules </p>\n\n<p><strong>My quastion:</strong> should i call controllers(login, categories) from indexController.php?\n I need advice how to  catenate needed modules in one page. </p>\n\n<p>P.S. Sorry for broken english :)</p>\n"},{"tags":["multithreading","mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":11407865,"title":"Who should handle threading in MVC?","body":"<p>Long-running tasks are usually executed in a background thread to keep the UI from freezing. It seems the threading logic could reside in either the view or in the controller.</p>\n\n<p>As an example (in C#), suppose there is a method named <code>RunAsync</code> that runs a delegate in a background thread, here are two ways of doing it:</p>\n\n<pre><code>// Option 1\n\npublic class View {\n  public void OnButtonClicked() {\n    RunAsync(() =&gt; controller.DoSomething());\n  }\n}\n\npublic class Controller {\n  public void DoSomething() {\n    model.Foo();\n  }\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>// Option 2\n\npublic class View {\n  public void OnButtonClicked() {\n    controller.DoSomething();\n  }\n}\n\npublic class Controller {\n  public void DoSomething() {\n    RunAsync(() =&gt; model.Foo());\n  }\n}\n</code></pre>\n\n<p>Is there an advantage to doing it one way or the other?</p>\n"},{"tags":["ruby-on-rails","mvc","conditional"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":11400160,"title":"Validation condition on friendships in Rails 3?","body":"<p>I am writing my social network. I use devise as an authentication system. I used Self-Referential Association in railscasts. I want to solve my little problem that, I let users see the others profile and use a link to add friend. But if you are friend add to friend does show  again. I asked similar questions but since now i could not make it. </p>\n\n<p>My Friendship model : </p>\n\n<pre><code>class Friendship &lt; ActiveRecord::Base\n  attr_accessible :friend_id\n  belongs_to :user\n    belongs_to :friend, :class_name =&gt; \"User\"\n    validates :friend, :presence =&gt; true, :unless =&gt; :friend_is_self\n\n    validates_uniqueness_of :user_id, :scope =&gt; [:friend_id]\n\n    def friend_is_self\n        user_id == friend_id ? false : true\n    end\nend\n</code></pre>\n\n<p>My Users model : </p>\n\n<pre><code>....  has_many :friendships\n    has_many :friends, :through =&gt; :friendships\n    has_many :inverse_friendships, :class_name =&gt; \"Friendship\", :foreign_key =&gt; \"friend_id\"\n    has_many :inverse_friends, :through =&gt; :inverse_friendships, :source =&gt; :user\nend\n</code></pre>\n\n<p>This is my show.html.erb(user)</p>\n\n<pre><code>&lt;section&gt;\n      &lt;h1&gt;&lt;%= @user.username %&gt; &lt;/h1&gt;\n &lt;% unless current_user == @user %&gt;\n &lt;%= link_to \"Arkadaşlarıma Ekle\", friendships_path(:friend_id =&gt; @user), :method =&gt; :post,class: \"btn btn-large btn-primary\" %&gt;\n    &lt;%end %&gt;\n      &lt;/section&gt;.\n</code></pre>\n\n<p>I am sorry for the similar question but i cant find the correct <code>if friend?</code> condition for the add friend link.</p>\n"},{"tags":["mvc","jqgrid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":11405932,"title":"Mvc, JqGrid and EF Code First with Filters function","body":"<p>The created grid is working fine until I made some searches and the grid doesn't filter because I don't know how to merge the deserialized <strong>whereString</strong> results from Filter class. The code below was originally came from a very, very good article <a href=\"http://stackoverflow.com/questions/5500805/asp-net-mvc-2-0-implementation-of-searching-in-jqgrid\">ASP.NET MVC 2.0 Implementation of searching in jqgrid</a> until I am stack on merging the results into the Entity. The idea here is to make the search functional using EF Code First.</p>\n\n<pre><code>public class Filter\n{\n    public GroupOp groupOp { get; set; }\n    public List&lt;Rule&gt; rules { get; set; }\n    public List&lt;Filter&gt; groups { get; set; }\n}\n\npublic class Rule\n{\n    public string field { get; set; }\n    public Operations op { get; set; }\n    public string data { get; set; }\n}\n\npublic enum GroupOp\n{\n    AND,\n    OR\n}\n\npublic enum Operations\n{\n    eq, // \"equal\"\n    ne, // \"not equal\"\n    lt, // \"less\"\n    le, // \"less or equal\"\n    gt, // \"greater\"\n    ge, // \"greater or equal\"\n    bw, // \"begins with\"\n    bn, // \"does not begin with\"\n    //in, // \"in\"\n    //ni, // \"not in\"\n    ew, // \"ends with\"\n    en, // \"does not end with\"\n    cn, // \"contains\"\n    nc  // \"does not contain\"\n}\n\npublic static class WhereClauseGenerator\n{\n    private static readonly string[] FormatMapping = {\n    \"{0} == '{1}'\",               // \"eq\" - equal\n    \"{0} != {1}\",                // \"ne\" - not equal\n    \"{0} &lt; {1}\",                 // \"lt\" - less than\n    \"{0} &lt;= {1}\",                // \"le\" - less than or equal to\n    \"{0} &gt; {1}\",                 // \"gt\" - greater than\n    \"{0} &gt;= {1}\",                // \"ge\" - greater than or equal to\n    \"{0} LIKE '{1}%'\",           // \"bw\" - begins with\n    \"{0} NOT LIKE '{1}%'\",       // \"bn\" - does not begin with\n    \"{0} LIKE '%{1}'\",           // \"ew\" - ends with\n    \"{0} NOT LIKE '%{1}'\",       // \"en\" - does not end with\n    \"{0} LIKE '%{1}%'\",          // \"cn\" - contains\n    \"{0} NOT LIKE '%{1}%'\"       // \"nc\" - does not contain\n};\n\n    private static StringBuilder ParseRule(ICollection&lt;Rule&gt; rules, GroupOp groupOp)\n    {\n        if (rules == null || rules.Count == 0)\n            return null;\n\n        var sb = new StringBuilder();\n        bool firstRule = true;\n        foreach (var rule in rules)\n        {\n            if (!firstRule)\n            {\n                // skip groupOp before the first rule\n                sb.Append(groupOp);\n            }\n            else\n            {\n                firstRule = false;\n                sb.Append(\"q =&gt; \");\n            }\n\n            sb.AppendFormat(FormatMapping[(int)rule.op], rule.field, rule.data);\n        }\n        return sb.Length &gt; 0 ? sb : null;\n    }\n\n    private static void AppendWithBrackets(StringBuilder dest, StringBuilder src)\n    {\n        if (src == null || src.Length == 0)\n            return;\n\n        if (src.Length &gt; 2 &amp;&amp; src[0] != '(' &amp;&amp; src[src.Length - 1] != ')')\n        {\n            dest.Append('(');\n            dest.Append(src);\n            dest.Append(')');\n        }\n        else\n        {\n            // verify that no other '(' and ')' exist in the b. so that\n            // we have no case like src = \"(x &lt; 0) OR (y &gt; 0)\"\n            for (int i = 1; i &lt; src.Length - 1; i++)\n            {\n                if (src[i] == '(' || src[i] == ')')\n                {\n                    dest.Append('(');\n                    dest.Append(src);\n                    dest.Append(')');\n                    return;\n                }\n            }\n            dest.Append(src);\n        }\n    }\n\n    private static StringBuilder ParseFilter(ICollection&lt;Filter&gt; groups, GroupOp groupOp)\n    {\n        if (groups == null || groups.Count == 0)\n            return null;\n\n        var sb = new StringBuilder();\n        bool firstGroup = true;\n        foreach (var group in groups)\n        {\n            var sbGroup = ParseFilter(group);\n            if (sbGroup == null || sbGroup.Length == 0)\n                continue;\n\n            if (!firstGroup)\n                // skip groupOp before the first group\n                sb.Append(groupOp);\n            else\n                firstGroup = false;\n\n            sb.EnsureCapacity(sb.Length + sbGroup.Length + 2);\n            AppendWithBrackets(sb, sbGroup);\n        }\n        return sb;\n    }\n\n    public static StringBuilder ParseFilter(Filter filters)\n    {\n        var parsedRules = ParseRule(filters.rules, filters.groupOp);\n        var parsedGroups = ParseFilter(filters.groups, filters.groupOp);\n\n        if (parsedRules != null &amp;&amp; parsedRules.Length &gt; 0)\n        {\n            if (parsedGroups != null &amp;&amp; parsedGroups.Length &gt; 0)\n            {\n                var groupOpStr = filters.groupOp.ToString();\n                var sb = new StringBuilder(parsedRules.Length + parsedGroups.Length + groupOpStr.Length + 4);\n                AppendWithBrackets(sb, parsedRules);\n                sb.Append(groupOpStr);\n                AppendWithBrackets(sb, parsedGroups);\n                return sb;\n            }\n            return parsedRules;\n        }\n        return parsedGroups;\n    }\n}\n\npublic JsonResult DisplayGrid(string sidx, string sord, int page, int rows, bool _search, string filters)\n    {\n\n        var serializer = new JavaScriptSerializer();\n        var whereString = _search &amp;&amp; !String.IsNullOrEmpty(filters) ? WhereClauseGenerator.ParseFilter(serializer.Deserialize&lt;Filter&gt;(filters)) : null;\n\n        int pageIndex = Convert.ToInt32(page) - 1;\n        int pageSize = rows;\n        string sortByColumnName = sidx ?? \"date_add\";\n        string sortDirection = sord ?? \"desc\";\n\n        var results = from vendors in db.vend_details select vendors;\n        var totalRecords = results.Count();\n\n        if (sortByColumnName == \"vend_ID\")\n        {\n            if (sortDirection.Equals(\"desc\"))\n                results = results.OrderByDescending(q =&gt; q.vend_ID);\n            else\n                results = results.OrderBy(q =&gt; q.vend_ID);\n        }\n        else if (sortByColumnName == \"date_add\")\n        {\n            if (\"desc\".Equals(sortDirection))\n                results = results.OrderByDescending(q =&gt; q.date_add);\n            else\n                results = results.OrderBy(q =&gt; q.date_add);\n        }\n        else if (sortByColumnName == \"vend_Name\")\n        {\n            if (\"desc\".Equals(sortDirection))\n                results = results.OrderByDescending(q =&gt; q.vend_Name);\n            else\n                results = results.OrderBy(q =&gt; q.vend_Name);\n        }\n\n        var pagedQuery = results.Skip(pageIndex * pageSize).Take(pageSize);\n\n\n\n        // to be able to use ToString() below which is NOT exist in the LINQ to Entity\n        var queryDetails = (from item in pagedQuery\n                            select new\n                            {\n                                item.vend_ID,\n                                item.vend_Active,\n                                item.vend_Name,\n                                item.date_add,\n                                item.emp_id,\n                                item.vend_BlacklistDate,\n                                item.vend_Blacklist,\n                                item.vend_Address_Physical,\n                                item.temp2,\n                                item.vend_City,\n                                item.vend_State,\n                                item.vend_Zip,\n                                open_Sun =\n                                (\n                                    item.open_Sun == null ? 2 : item.open_Sun\n                                ),\n                                item.vend_Phone_800,\n                                item.vend_Phone1,\n                                item.vend_Phone2,\n                                item.vend_Phone3,\n                                item.vend_Phone4,\n                                item.vend_Fax,\n                                item.vend_Notes,\n                                item.vend_FTD_id,\n                                item.vend_800_id,\n                                item.vend_TFL_id,\n                                US_ONLY = (\n                                    item.US_ONLY == null ? 0 : item.US_ONLY\n                                ),\n                                item.vend_Webpage,\n                                item.vend_Email\n                            }).ToList();\n\n        return Json(new\n        {\n            total = (totalRecords + rows - 1) / rows,\n            page,\n            records = totalRecords,\n            rows = (from item in queryDetails\n                    select new[] {\n                                    item.vend_ID.ToString(),\n                                    item.vend_ID.ToString(),\n                                    item.vend_Active.ToString(),\n                                    item.vend_Name,\n                                    item.date_add.ToString(),\n                                    item.emp_id,\n                                    item.vend_BlacklistDate.ToString(),\n                                    item.vend_Blacklist.ToString(),\n                                    item.temp2,\n                                    item.vend_Address_Physical,\n                                    item.vend_City,\n                                    item.vend_State,\n                                    item.vend_Zip,\n                                    item.open_Sun.ToString(),\n                                    item.vend_Phone_800,\n                                    item.vend_Phone1,\n                                    item.vend_Phone2,\n                                    item.vend_Phone3,\n                                    item.vend_Phone4,\n                                    item.vend_Fax,\n                                    item.vend_Notes,\n                                    item.vend_FTD_id,\n                                    item.vend_800_id,\n                                    item.vend_TFL_id,\n                                    item.US_ONLY.ToString(),\n                                    item.vend_Webpage,\n                                    item.vend_Email,\n                                    item.vend_ID.ToString()\n                                }).ToList()\n        });\n    }\n</code></pre>\n"},{"tags":["flex","mvc","actionscript","mxml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":149,"score":0,"question_id":11371292,"title":"Passing data between views and models in Flex MVC framework","body":"<p>I have never used Flex/Actionscript before so excuse me if I'm asking anything obvious but I have been working on this for 3 days (includes searching google and stackoverflow) before writing this post.</p>\n\n<p>I have been asked to modify a game written in Flex 4 made with a mini-IoC-based MVC framework. Two mods I have been asked to make is a game over screen, which displays the final score and a difficulty selection on the introduction screen. I have made the game over screen, and successfully managed to get the controller to bring it up when the game timer runs out. </p>\n\n<p>So for now, the game structure goes:</p>\n\n<pre><code>Intro View -&gt; Game View -&gt; Game Over View\n\n    ^                            |\n    |__________ (retry?) ________|\n</code></pre>\n\n<p>The first problem is getting the score to be passed from the mainGame ActionScript file to the game over screen.</p>\n\n<p>Things I have tried:</p>\n\n<ul>\n<li>Importing mainGame in the gameOverViewBase and calling the mainGame.score variable in the gameOverView mxml file. </li>\n</ul>\n\n<p>-EDIT!!! = the above method works if I change the score variable in mainGame to a constant, but if it remains a variable, the controller won't load the gameOverView and the game sits at an empty mainGame view.</p>\n\n<ul>\n<li>Making a function that adds to a new score variable in the gameOverViewBase whenever the player scores during the game.</li>\n<li>Passing the score as a parameter to the GameOverView when the MainGame ends</li>\n</ul>\n\n<p><code>controller.loadGameOver(score);</code></p>\n\n<p>This seemed like the most logical way to go about it. So I followed the function through the other components of the game setting the loadGameOver to take an integer as a parameter until I got to the main game actionscript file:</p>\n\n<pre><code>public function loadGameOver(score:int) : void\n    {\n        loadView(GameOverView);\n    }\n</code></pre>\n\n<p>The loadView function (shown below) is where I get stuck because I can't see where to pass the 'score' parameter. It looks like this:</p>\n\n<pre><code>private function loadView(viewClass:Class, modelClass:Class = null) : void\n    {\n\n        var view:View = new viewClass();\n        if(!view) throw new Error(\"Could not load view\");\n\n        viewContainer.removeAllElements();\n        viewContainer.addElement(view);         \n\n        view.controller = this;\n\n    }\n</code></pre>\n\n<p>The second problem is the difficulty selection on the introduction screen. I have done this with 3 buttons (easy, normal, hard) in the mxml file and for every button in the ActionScript:</p>\n\n<pre><code>protected function onEasyButtonClick() : void\n    {\n        set = \"easy\"\n        controller.loadMainGame(set);\n    }\n</code></pre>\n\n<p>Once again, I end up at the above loadView function.</p>\n\n<p>To sum up: I need to know how to pass the data between the views and models. If that's not the ideal method, I am open to any other methods that you think are better.</p>\n\n<p>Thank You!</p>\n\n<p>Ben </p>\n\n<p>P.S. I can send my source code to anyone who would like to help :)</p>\n"},{"tags":["ruby-on-rails","mvc","controller","routes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":11403903,"title":"What is the best practice for changing the functionality of a Rails controller, while keeping legacy code and the route intact?","body":"<p>I have a web service that returns some XML data using a RESTful API.  I am going to implement a new database with completely different controller code, that will be in effect after some date.  But any WS call for the old data should still use the old DB.</p>\n\n<p>Right now, part of the URL contains the date.  I am parsing this at the beginning of the controller and then going off to an old or new function.</p>\n\n<pre><code>def web_service_action\n\n  #shared code between old and new methods\n  @some_instance_variables = ...\n\n  # check the date and fork appropriately\n  if use_new?\n    web_service_action_new\n  else\n    web_service_action_old\n  end\n\n  def use_new?\n    date_match = params[:id_string].match(/^.*([0-9]{8})$/)\n    matched_date = date_match[1]\n    date = Time.local(date_match[0,4],date_match[4,2],date_match[6,2])\n    if date &gt;= DATE_CONSTANT\n      return true\n    else\n      return false\n    end  \n  end\n\nend\n</code></pre>\n\n<p>I'm wondering if there is a clever way to do this with a before_filter or a conditional in the routes file somehow?</p>\n\n<p>Additional information:  I am using an old version of Rails (2.3.x) and the new method is a total rewrite, not an incremental change.</p>\n"},{"tags":["objective-c","mvc","view","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11403110,"title":"How separate the view and controller correctly?","body":"<p>I have a problem. I would like to custom a button in my main view, so, in the controller of this view in viewDidLoad,  have this code : </p>\n\n<pre><code>   [self.buttonGenerate setBackgroundImage:[[UIImage imageNamed:@\"blueButton.png\"] stretchableImageWithLeftCapWidth:10 topCapHeight:10] forState:UIControlStateNormal];\n    [self.buttonGenerate setBackgroundImage:[[UIImage imageNamed:@\"blueButtonHighlight.png\"] stretchableImageWithLeftCapWidth:10 topCapHeight:10] forState:UIControlStateHighlighted];\n</code></pre>\n\n<p>But, im not sure is good relative to MVC pattern, this code is in my controller whereas it should be in view code.\nYour opinion ? What is the good practise ?</p>\n\n<p>(Sorry for my english)</p>\n\n<p>thx you</p>\n"},{"tags":["spring","mvc","spring-mvc","model","spring-3"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1358,"score":2,"question_id":7360784,"title":"Add attributes to the model of all controllers in Spring 3","body":"<p>Every single view in my Spring 3 app has a set of attributes they can rely on.  So the first line of every controller is something like:</p>\n\n<pre><code>ControllerHelper.addDefaultModel(model, personManager, request);\n</code></pre>\n\n<p>In there I'll add</p>\n\n<ul>\n<li>user object and full name retrieved from the database if person is logged in</li>\n<li>set of variables which are typically set once (e.g. <code>imagesHost</code>)</li>\n<li>set of languages a visitor can switch to</li>\n<li>current language</li>\n<li>some statistics (e.g. total # of people in our system)</li>\n</ul>\n\n<p>This all allows each view to display the logged in user's name, easily reference an image location, a list of languages and some overall stats about the site.</p>\n\n<p>So the question is, is the controller model object the best place to store all the data or is there a more convenient place which makes it just as easy for views to access this info?</p>\n\n<p>And secondly, I'd REALLY love not to have to have the <code>ControllerHelper</code> line above as the first line in every controller.  It's actually not always the first line, sometimes I first check if I need to redirect in that controller, because I don't want to waste resources filling the model for no reason.  Maybe a filter or annotation or some Spring callback mechanism could make sure the <code>ControllerHelper</code> code is called <strong>after</strong> the controller is finished but right <strong>before</strong> the view is rendered, skipping this if a redirect was returned?</p>\n"},{"tags":["mvc","codeigniter","dip"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":236,"score":2,"question_id":7341438,"title":"Codeigniter interaction outside of codeingiter","body":"<p>I have been painstakingly looking for a way to introduce codeigniter interaction with my non-codeigniter based projects, whether it be wordpress or raw php pages. I have a model as well as views that I would like to use within a php pages outside of codeigniter. The main method this has been done and the default answer for anyone looking how to do this is <a href=\"http://codeigniter.com/wiki/dip_into_CI/\" rel=\"nofollow\">this wiki page</a> introducing the codeigniter dip concept, this has long since been deprecated, others and myself have had this issue with the codeigniter dip seen <a href=\"http://codeigniter.com/forums/viewthread/194386/\" rel=\"nofollow\">here in the forums</a>.</p>\n\n<p>What I am looking for is a way that I can create an instance within a non-codeigniter page something like:</p>\n\n<pre><code>include('codeigniter/hook.php');\n$codeigniter =&amp; get_instance();\n$codeigniter-&gt;load-&gt;model('something_model');\n$codeigniter-&gt;load-&gt;view('header');\n</code></pre>\n\n<p>Does anyone have any ideas as to how this can be achieved?</p>\n"},{"tags":["ruby-on-rails","mvc","routes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":11401889,"title":"Rails 3: Routing and pluralization issue for has_one","body":"<p>I created a scaffold for Etho, where I am attempting to have a User get 1 single \"ethos\" to edit. Ethos was working but on the User model it was only working with has_many :ethos</p>\n\n<p>The user should only get 1 so I can create better associations. But now when I change in the model, it creates quite the spider effect that I can't track down.</p>\n\n<p>User model:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  has_many :jobs\n  has_one  :ethos #used to be has_many :ethos\n</code></pre>\n\n<p>On all the pages now I get uninitialized constant User::Ethos on EthosController#edit</p>\n\n<p>Please help, how do I fix this?</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":11400291,"title":"Layout and View, what's the difference? As an example of Zend_Layout and Zend_View","body":"<p>I cannot understand what is the difference between <code>Zend_Layout</code> and <code>Zend_View</code>.</p>\n\n<p>Here is a picture from <code>Zend_Layout</code> Tutorial.\n<img src=\"http://i.stack.imgur.com/f27K4.png\" alt=\"enter image description here\"></p>\n\n<p>Everything seems easy to understand. We have elements in <code>&lt;head&gt;</code>, we have <code>Header</code>, <code>Navigation</code> segment, <code>Content</code> segment, <code>Sidebar</code> and <code>Footer</code>. And it's easy to understand how they are called. But I can't see the difference between <code>View</code> and <code>Layout</code>. Why <code>Navigation</code> segment is called as <code>Layout</code>'s property and <code>Footer</code> and <code>Header</code> are called as <code>View</code> property?</p>\n\n<p>I tested <code>Zend_Layout</code> and interchanged them. I called the <code>Navigation</code> segment not as the <code>Layout</code>'s property but as the <code>View</code>'s property:</p>\n\n<pre><code>echo $this-&gt;layout()-&gt;nav;  // as in tutorial\necho $this-&gt;nav;    // used to call like this\n</code></pre>\n\n<p>And everything works fine. Not only for <code>$nav</code>, but for any variable. So what's the difference?</p>\n\n<p>I attach my experiment code here.\nMy experiment layout page consists of three main blocks:</p>\n\n<ul>\n<li>header (html-code of header),</li>\n<li>content (html-code of content block)</li>\n<li>footer (html-код footer)</li>\n</ul>\n\n<p>Here's a script of template:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n  &lt;html&gt;\n   &lt;head&gt;\n   &lt;/head&gt;\n      &lt;body&gt;\n         &lt;div header&gt;\n           &lt;?php echo $this-&gt;header ?&gt;     // it works\n           &lt;?php echo $this-&gt;layout()-&gt;header ?&gt;  // and this variant also works\n         &lt;/div&gt;\n\n         &lt;div content&gt;\n            &lt;?php echo $this-&gt;content ?&gt;      // same thing, it is a View's property\n            &lt;?php echo $this-&gt;layout()-&gt;content ?&gt;    // And it is a Layout's property\n         &lt;/div&gt;\n\n         &lt;div footer&gt;\n             &lt;?php echo $this-&gt;footer ?&gt;        // same thing\n             &lt;?php echo $this-&gt;layout-&gt;footer() ?&gt;  // both work (one or another I mean)\n         &lt;/div&gt;\n     &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n\n<p>My code now:</p>\n\n<pre><code>$layout = Zend_Layout::startMvc();         // instantiate Layout\n$layout-&gt;setLayoutPath('\\TestPage\\views');  // set the path where my layouts live\n\n// And here's the most interesting\n// Set Header layout first\n$layout-&gt;setLayout('header');    // 'header.php' - is my file with html-code of the Header \n                                 // I pass only name 'header', and it makes 'header.php' from it. \n                                 // Predefined suffix is 'phtml' but I changed it to 'php'\n$layout-&gt;getView()-&gt;button = \"Button\";   // assign some variable in the Header. Please pay attention, it is View's property\n$layout-&gt;button_2 = \"Button_2\";   // and also I can assign this way. It's Layout's property now. And they both work\n$headerBlock = $layout-&gt;render();   // render my Header and store it in variable\n\n// the same procedures for the Content block\n$layout-&gt;setLayout('content');\n$layout-&gt;getView()-&gt;one = \"One\";   \n$layout-&gt;two = \"Two\";\n$contentBlock = $layout-&gt;render();   // render and store in the variable\n\n//  and the same for the Footer\n$layout-&gt;setLayout('footer');\n$layout-&gt;getView()-&gt;foot = \"Foot\";   \n$layout-&gt;foot_2 = \"Foot_2\";\n$footerBlock = $layout-&gt;render();   // render and store in the variable\n\n// and finally last stage - render whole layout and echo it\n$lout-&gt;setLayout('main_template');\n$layout-&gt;getView()-&gt;header = $headerBlock;   // again, I can do also $layout-&gt;header\n$lout-&gt;content = $contentBlock;\n$lout-&gt;getView()-&gt;footer = $footerBlock;\necho $lout-&gt;render();     // render and echo now.\n</code></pre>\n\n<p>And everything works fine, the page is displayed without errors. But I don't know whether I use <code>Zend_Layout</code> and <code>Zend_View</code> right way or wrong way. Is it the right way to construct the page using <code>Zend_Layout</code> as I do it? What's the difference between</p>\n\n<pre><code>echo $this-&gt;layout()-&gt;header // this\necho $this-&gt;header  // and this\n</code></pre>\n\n<p>Which variant is right one?</p>\n\n<p>Also it seems I have double rendering: at first I render each segment. And then I render them again when I render my final template. Is this the right way?</p>\n"},{"tags":["ruby-on-rails","mvc","condition"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11398787,"title":"How to avoid being friends multiple times","body":"<p>I am stuck with the friendships model. I can be friends with an user multiple times. So I need a condition to avoid add to friend link .\nMy users_controller :</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n    before_filter :authenticate_user!\n\n  def index\n        @users = User.all\n  end\n  def show\n    @user = User.find(params[:id])\n    @topics = @user.topics.paginate(page: params[:page])\n    @friendship = @user.friendships.build(:friend_id =&gt; params[:friend_id])\n    @friendships = @user.friendships.all\n\n  end\n</code></pre>\n\n<p>my show.html.erb:</p>\n\n<pre><code>       &lt;section&gt;\n            &lt;h1&gt;&lt;%= @user.username %&gt;&lt;/h1&gt;     \n       &lt;%= link_to \"Arkadaşlarıma Ekle\", friendships_path(:friend_id =&gt; @user), :method =&gt; :post,class: \"btn btn-large btn-primary\" %&gt;\n\n            &lt;/section&gt;  \n</code></pre>\n\n<p>my friendships_controller :</p>\n\n<pre><code>class FriendshipsController &lt; ApplicationController\n    before_filter :authenticate_user!\n\n    def create\n        @friendship = current_user.friendships.build(:friend_id =&gt; params[:friend_id])\n        if @friendship.save\n            flash[:notice] = \"Arkadaşlara eklendi.\"\n            redirect_to root_url\n        else\n            flash[:error] = \"Arkadaşlara Eklenemiyor.\"\n            redirect_to root_url\n        end\n    end\n\n    def destroy\n        @friendship = current_user.friendships.find(params[:id])\n        @friendship.destroy\n        flash[:notice] = \"Arkadaşlarımdan kaldırıldı.\"\n        redirect_to current_user\n    end\nend  \n</code></pre>\n\n<p>so I guess , I tried add this   method  in users_controller but still no solution for it. Can you help me to fix it?</p>\n\n<pre><code>def friend?(other_user)\n   friendships.find_by_friend_id(other_user.id)\n end\n</code></pre>\n\n<p>and In before link</p>\n\n<pre><code>&lt;% unless friend?(@user) %&gt;\n%= link_to \"Arkadaşlarıma Ekle\", friendships_path(:friend_id =&gt; @user), :method =&gt; :post,class: \"btn btn-large btn-primary\" %&gt;\n&lt;%end %&gt; \n</code></pre>\n\n<p>My user model :</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  # Include default devise modules. Others available are:\n  # :token_authenticatable, :confirmable,\n  # :lockable, :timeoutable and :omniauthable\n  devise :database_authenticatable, :registerable,\n         :recoverable, :rememberable, :trackable, :validatable\n\n  # Setup accessible (or protected) attributes for your model\n  attr_accessible :email, :password, :password_confirmation, :remember_me, :username\n  # attr_accessible :title, :body\n  has_many :topics\n  has_many :posts\n  has_many :friendships\n    has_many :friends, :through =&gt; :friendships\n    has_many :inverse_friendships, :class_name =&gt; \"Friendship\", :foreign_key =&gt; \"friend_id\"\n    has_many :inverse_friends, :through =&gt; :inverse_friendships, :source =&gt; :user\nend\n</code></pre>\n\n<p>my Friendship model :</p>\n\n<pre><code>    class Friendship &lt; ActiveRecord::Base\n      attr_accessible :friend_id, :user_id\n      belongs_to :user\n        belongs_to :friend, :class_name =&gt; \"User\"\n    validates :friend, :presence =&gt; true, :unless =&gt; :friend_is_self\n\ndef friend_is_self\n  user_id == friend_id ? false : true\nend\nend\n</code></pre>\n"},{"tags":["c#","mvc","web-api","attributerouting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":606,"score":1,"question_id":11384552,"title":"Getting \"No type was found that matches the controller named 'SampleSlashBaseService'\" when trying to use WebAPI","body":"<p>I have a webapi project with a base ApiController named SlashBaseService:</p>\n\n<pre><code>[RouteArea(\"uBase\")]\npublic abstract class SlashBaseService : ApiController\n{\n}\n</code></pre>\n\n<p>The resulting dll is used in a WebForms project so I also have a WebActivator class with the following code to generate routes:</p>\n\n<pre><code>RouteTable.Routes.MapHttpAttributeRoutes(config =&gt;\n{\n    // Get all services inheriting from SlashBaseService\n    foreach (var assembly in AppDomain.CurrentDomain.GetAssemblies())\n    {\n        foreach (var type in assembly.GetTypes())\n        {\n            if (type.IsSubclassOf(typeof(SlashBaseService)))\n            {\n                // Scan assembly\n                config.ScanAssembly(assembly);\n\n                // Skip the remaining types in this assembly\n                break;\n            }\n        }\n    }\n});\n\nRouteTable.Routes.MapHttpRoute(\n    name: \"DefaultBase\",\n    routeTemplate: \"base/{controller}/{id}\",\n    defaults: new { id = RouteParameter.Optional });\n</code></pre>\n\n<p>I also have a testservice in a separate assembly:</p>\n\n<pre><code>public class SampleSlashBaseService : SlashBaseService\n{\n    [GET(\"TestOpenMethod\")]\n    public string GetTestOpenMethod()\n    {\n        return \"Hello anonymous!\";\n    }\n\n    [GET(\"Echo/{message}\")]\n    public string GetEcho(string message)\n    {\n        return message;\n    }\n}\n</code></pre>\n\n<p>All pretty simple stuff. The problem is when I try to go to one of the urls this generates i get the following message:</p>\n\n<pre><code>No type was found that matches the controller named 'SampleSlashBaseService'.\n</code></pre>\n\n<p>The route list from /routes.axd also looks correct...</p>\n\n<p><strong>Anyone ever encountered this error?</strong></p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":11396521,"title":"What is Layout and what is View in ZF? When and whose variables should I use and why?","body":"<p>I can't understand when to use <code>Layout</code>'s variables and when to use <code>View</code>'s variables to get page segments on the page. Here is the picture form their <code>Layout</code> package tutorial (<code>$this</code> means the <code>View</code> instance everywhere):\n<img src=\"http://i.stack.imgur.com/1fk9U.png\" alt=\"enter image description here\"></p>\n\n<p>Why <code>Navigation</code>, <code>Content</code> and <code>Sidebar</code> segments are got as <code>Layout</code> variables?</p>\n\n<pre><code>$this-&gt;layout()-&gt;nav;\n</code></pre>\n\n<p>But <code>HeadTitle</code>, <code>HeadScript</code>, <code>HeadStylesheet</code> are got straightly from View? </p>\n\n<pre><code>$this-&gt;headTitle(); // I know that this is a placeholder view helper. \n                    // But this segment of the page logically belongs to Layout.\n                    // and it has to be called smth like view-&gt;layout-&gt;placeholder \n</code></pre>\n\n<p>And why <code>Header</code> and <code>Footer</code> are from some <code>partial</code> method of the <code>View</code> but not <code>Layout</code>'s properties?</p>\n\n<pre><code>$this-&gt;partial('header.phtml');\n</code></pre>\n\n<p>I've tried to change them and both ways work fine:</p>\n\n<pre><code>echo $this-&gt;nav; // I assigned navigation segment script to the View and it works;\n</code></pre>\n\n<p>I tried to assign <code>Footer</code> segment script to the <code>Layout</code> and it also works:</p>\n\n<pre><code>$layout-&gt;footer = $footer;\necho $this-&gt;layout()-&gt;footer;  // it also works, it's displayed on the page\n</code></pre>\n\n<p>Any of the ways may be applied to any variable on the page. For example in <code>Navigation</code> segment I have a lot of variables to display and I can output them using both ways - one variable as <code>Layout</code>'s property, another one sa <code>View</code>'s property.</p>\n\n<p>So what is the rule to use them right way? When should I use <code>View</code>'s variables and when <code>Layout</code>'s ones?</p>\n"},{"tags":["mvc","model","doctrine","doctrine2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":11380954,"title":"Doctrine2 (Entity vs Repository)","body":"<p>I'm new using Doctrine2, where is the best place to write my custom function in the Entities or in the Repositories? let's say I have an User entity and I want to get his age.</p>\n\n<p>If I put the function getAge in my entity is very straight forward. But if I put the function getAge in my repository I have to pass the userId to get the age of that user. am I wrong? what is the best approach to achieve that? </p>\n"},{"tags":["php","mvc","codeigniter","url","url-rewriting"],"answer_count":4,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":1112,"score":4,"question_id":8052245,"title":"How to replace underscores in codeigniter url with dashes?","body":"<p>I would like to know the simplest solution to changing the underscores of my codeigniter urls to dashes, for seo reasons.</p>\n\n<p>My controllers look like:</p>\n\n<pre><code>public function request_guide() {\n...Load view etc...\n}\n</code></pre>\n\n<p>So to browse to this page I would have to go to:</p>\n\n<pre><code>www.domain.com/request_guide\n</code></pre>\n\n<p>But I want to be more seo friendly and use dashes instead of underscores, like so:</p>\n\n<pre><code>www.domain.com/request-guide\n</code></pre>\n\n<p>I am under the impression that codeigniter functions require underscores (might be wrong).</p>\n\n<p>In previous projects I have simply used mod_rewrite but I believe that these actions can be performed using routes.</p>\n\n<p>What is the easiest way for me to rewrite the urls replacing the underscores with dashes???</p>\n"},{"tags":["asp.net","internet-explorer","mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":162,"score":2,"question_id":4309102,"title":"Why does ASP.NET MVC complain of a null parameter when data is posted from IE and NOT firefox?","body":"<p>Something odd going on here.</p>\n\n<p>I have some JS that posts to a ASP.NET MVC ActionMethod that works find in every browser other than ANY version of IE.\nThe code in question is as follows:</p>\n\n<pre><code>$.ajax({\n        url: path,\n        type: 'POST',\n        data: { team: team_copy[team_copy.length - 1], queryDate: d.toUTCString(), newOutlets: newOutlets },\n        success: function (MyResponseObject) {\n            holder.append(MyResponseObject.content);\n            //locate active section and click to show new content - its a mess, but it works\n            //activeMenu.click();\n            MessageSystem.showMessage(\"Target Data System\", MyResponseObject.message, false);\n            if (team_copy.length &gt; 1) {\n                team_copy.pop();\n                $('#actualprogress').animate({ width: '+=' + TargetReports.progressratio + '%' }, 'slow');\n                TargetReports.getTeamData(team_copy, d, newOutlets);\n            }\n            else {\n                MessageSystem.showMessage(\"Complete\", \"All Data Fetched\", false);\n                $('#show-calendar-selection').fadeIn();\n                TargetReports.buildTotalsTable(\"daysandcalls\", \"daysandcallstotal\");\n                TargetReports.buildTotalsTable(\"volumeanddistribution\", \"volumeanddistributiontotal\");\n                TargetReports.buildTotalsTable(\"outletactivation\", \"outletactivationtotal\");\n                TargetReports.buildTotalsTable(\"promotion\", \"promotiontotal\");\n                //$('#progress').fadeOut().remove();\n                $('#results-options').fadeIn();\n                $('#total-holder').fadeIn();\n                activeMenu.click();\n\n                //update link to download file\n                var hidden = $('.hidden-information').first();\n                var newOutlets = encodeURIComponent($('input[name=\"newoutlets\"]', hidden).val());\n                var queryDate = encodeURIComponent($('input[name=\"enddate\"]', hidden).val());\n                var anchor = $('#get-target-reports');\n                var link = anchor.attr('href');\n\n                link = \"/manager/TargetResults.csv?endDate=\" + queryDate + \"&amp;newOutlets=\" + newOutlets;\n                anchor.attr('href', link);\n            }\n        }\n    });\n</code></pre>\n\n<p>The Action Method signature looks like:</p>\n\n<pre><code> public ActionResult GenerateTargetData(int team, DateTime queryDate, bool forceRegen = false, bool newOutlets = false)\n</code></pre>\n\n<p>When running in IE .NET will complain of a null entry for the queryDate parameter. Using the debug tools in IE I can see that the request body looks as follows:</p>\n\n<pre><code>team=7&amp;queryDate=Mon%2C+29+Nov+2010+23%3A15%3A39+UTC&amp;newOutlets=false\n</code></pre>\n\n<p>And in firefox, which works:</p>\n\n<pre><code>team=7&amp;queryDate=Mon%2C+29+Nov+2010+23%3A10%3A46+UTC&amp;newOutlets=false\n</code></pre>\n\n<p>I really cant see whats going in here. All help appreciated!</p>\n"},{"tags":["php","mvc","form-validation"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":53,"score":1,"question_id":9362048,"title":"How to you handle many inputs?","body":"<p>Let say there are 15 Text Inputs and 10 Dropdowns in the <code>&lt;form&gt;</code></p>\n\n<p>It will be a bit of headache and time consuming to do all those input validations and stuff in PHP.</p>\n\n<p>How do you handle in MVC or without MVC?</p>\n"},{"tags":["objective-c","ios","mvc"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":415,"score":2,"question_id":11388888,"title":"iOS MVC - How to pass data from model to controller?","body":"<p>I did quite a bit of research on this, but I am having a mental block about my problem. I am working on Objective-C for an iOS app</p>\n\n<p>Here's my set up:</p>\n\n<ol>\n<li><p>The view controller gets a text from the view (user input), and passes that text to the MethodA of the model.</p></li>\n<li><p>The MethodA in model works on the input text and gets an output (e.g. searches google for that text). It does the search using dispatch_async method which calls the selector to MethodB within model.</p></li>\n<li><p>MethodB parses the output and puts all the results into a NSMutableArray</p></li>\n<li><p><strong>My Question Here:</strong> how do I pass that NSMutableArray back to view controller so I can show it on the view? </p></li>\n</ol>\n\n<p>Sorry, if the answer to my question is very simple/obvious. I am new to Objective-C</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":11395806,"title":"User friendships Nesting logic in Rails 3","body":"<p>I am trying to finish my forum application. I want arrange user Friendships. I am using devise as authentication system. I want some suggestions. \nShall i nest the resources in User and Friendships. This is the way Railscasts used:</p>\n\n<pre><code>devise_for :users\n  resources :users, only: [:index, :show] \n  resources :friendships, only: [:create, :destroy]\n</code></pre>\n\n<p>This is how i used: </p>\n\n<pre><code>devise_for :users\n\n      resources :users, only: [:index, :show] do\n      resources :friendships, only: [:create, :destroy]\n      end\n</code></pre>\n\n<p>My real problem is that . I want to use friendships in a way that , signed_in user can check the users list , and add a friend if he is not in the friendslist. Now i can add a friend multiple times. And also ,user can add himself as a friend.</p>\n\n<p>How can i fix this links with <code>if/else</code> statements:</p>\n\n<p>showing a user profile  works:</p>\n\n<pre><code>&lt;section&gt;\n      &lt;h1&gt;\n        &lt;%= @user.username %&gt;\n      &lt;/h1&gt;\n\n            &lt;%= link_to \"Arkadaşlarıma Ekle\", friendships_path(:friend_id =&gt; @user), :method =&gt; :post,class: \"btn btn-large btn-primary\" %&gt;\n\n      &lt;/section&gt;\n</code></pre>\n\n<p>and herei I cant find the way to show the friend's profile. :</p>\n\n<pre><code>&lt;%  for friendship in @friendships %&gt; \n&lt;%= link_to friendship.friend.username, '#' %&gt;\n(&lt;%= link_to 'Sil', friendship, :method =&gt; :delete %&gt;)\n&lt;% end %&gt;\n</code></pre>\n\n<p>..\nrake routes:</p>\n\n<p>I can understand that , I have to use correct if/elses but i am lost in nesting my resources and routing. . Thanks for explanations..</p>\n\n<p>These are my edits:\nIn my users_controller: </p>\n\n<pre><code>def user_is_friend?(other_user)\n current_user.friendships.find_by_friend_id(other_user.id) \nend\n\n&lt;% unless user_is_friend?(@user) %&gt;\n  &lt;%= button_to \"Add friend\", friendships_path(:friend_id =&gt; user), :method =&gt; :post %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Is it correct? </p>\n"},{"tags":["c#","mvc","controller","redirecttoaction"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":77,"score":-1,"question_id":11395487,"title":"How can I return an object from a method executed with RedirectToAction?","body":"<p>I have a controller with Get, Save and Create actions. These actions take as a parameter an item type. This is just a string specifying what type of item we are processing.</p>\n\n<p>There is a child controller for each of these item types, and each of these child controllers implement the child controller interface (IChildController) which has the Get, Save and Create methods.</p>\n\n<p>Each child controller is named based on its type (ItemTypeController). When I'm getting an item from my parent controller, I can do it like this:</p>\n\n<pre><code>Get(string itemType, int id)\n{\n    return RedirectToAction(\"Get\", itemType, new { id });\n}\n</code></pre>\n\n<p>The Get method in the child controllers has an ActionResult return type (returns a Partival View) so this works without problem.</p>\n\n<p>However, when I'm saving an item, all children are created and then returned to the parent object and stored within it so that a save can be performed on the parent only (and NHibernate will take care of cascading records).</p>\n\n<p>How can I return objects from these methods without instantiating all the child controllers first. For example, I'd like to be able to call Save(itemType, item)</p>\n\n<pre><code>Save(string itemType, Item item)\n{\n    return RedirectToAction(\"Save\", itemType, new { item });\n}\n</code></pre>\n\n<p>and then we will find the appropriate child controller (itemTypeController), execute the method Save(item), and then return the item (item) back to the parent controller.</p>\n\n<pre><code>Save(Parent parent)\n{\n    IRepository&lt;Parent&gt; _parent;\n    var item = new Parent();\n    item.Id = parent.Id;\n    item.Children = parent.Children.AddAll(parent.Children.Select(Save(parent.ChildType)); // save each child and add it to the parent's child collection\n    return _parent.Save(item);\n}\n\nSave(Child child)\n{\n    IRepository&lt;Child&gt; _child;\n    var item = new Child();\n    item.Id = child.Id;\n    return _child.Save(item);\n}\n</code></pre>\n\n<p>What is the best solution to achieve this? Thanks in advance for any help.</p>\n\n<p><strong>EDIT</strong> </p>\n\n<p>How would I go about converting complex objects into ViewModels. For example, a Parent object that contains children of type Child.</p>\n\n<p>In the ParentTypeController we have:</p>\n\n<pre><code>ParentViewModel ToViewModel(Parent parent)\n{\n    var model = new ParentViewModel();\n    model.Id = parent.Id;\n    model.Children = parent.Children.Select(ToViewModel); //Use the ToViewModel method in the ChildTypeController\n    return model;\n}\n</code></pre>\n\n<p>ChildTypeController:</p>\n\n<pre><code>ChildViewModel ToViewModel(Child child)\n{\n    var model = new ChildViewModel();\n    model.Id = child.Id;\n    return model;\n}\n</code></pre>\n"},{"tags":["java","swing","mvc","observer-pattern"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":324,"score":0,"question_id":11393245,"title":"building swing gui using mvc pattern with observer pattern","body":"<p>I have to build a swing gui applying mvc pattern using the observer pattern. I understood how observer pattern works but I don't know how to implement mvc pattern using observer patter.could someone help me to understand maybe posting a sample piece of code.thanks</p>\n"},{"tags":["c++","mvc","oop"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":6,"view_count":93,"score":-4,"question_id":11388830,"title":"Boolean is being initialised as true, even though the constructor is passed false","body":"<p>Interesting issue with my code... running in debug mode (Eclipse/CDT)... all of my tiles seem to have their wall bool set to true? Anyone know wtf is going on?</p>\n\n<p>Code, fully MVC and almost proper OO (I think), here:</p>\n\n<p>main.cpp <a href=\"http://pastebin.com/f14kmfap\" rel=\"nofollow\">http://pastebin.com/f14kmfap</a></p>\n\n<p>gridworld.h <a href=\"http://pastebin.com/vCmzxzrj\" rel=\"nofollow\">http://pastebin.com/vCmzxzrj</a></p>\n\n<p>gridworld.cpp <a href=\"http://pastebin.com/jKKRFE9V\" rel=\"nofollow\">http://pastebin.com/jKKRFE9V</a></p>\n\n<p>I suspect it has to do with this snippet here:</p>\n\n<pre><code>Tile::Tile(bool w) {\n        wall = w;\n        event = false;\n        eventText = \"\";\n}\n</code></pre>\n\n<p>And how I use it to generate the map:</p>\n\n<pre><code>map[1][2] = new Tile(false);\n</code></pre>\n"},{"tags":["mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":11394001,"title":"where is store view data?","body":"<p>View has some data like which row selected or some things like typed data before submit in form. where is best place to store this data?</p>\n\n<p>I think model is everything synced with server. is this ture? maybe there is new concept like modelView for storing view data</p>\n\n<p>ps: my project has some modules and i expect after exit from one modules and enter again, show selected row.</p>\n"},{"tags":["php","mvc","magento"],"answer_count":5,"favorite_count":4,"up_vote_count":2,"down_vote_count":0,"view_count":20255,"score":2,"question_id":272818,"title":"Magento products by categories","body":"<p>Does anyone know how I can get a list of products belonging to a specific category from within a view file in <a href=\"http://www.magentocommerce.com/\" rel=\"nofollow\">Magento</a>?</p>\n"},{"tags":["ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":11393355,"title":"Unique friendship help needed Rails 3","body":"<p>I need help about friendship uniqueness and add to friend links \nmy routes.rb:</p>\n\n<pre><code>devise_for :users\n\nresources :users, only: [:index, :show] do\n          resources :friendships, only: [:create, :destroy]\n          end\n</code></pre>\n\n<p>my User model :</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  # Include default devise modules. Others available are:\n  # :token_authenticatable, :confirmable,\n  # :lockable, :timeoutable and :omniauthable\n  devise :database_authenticatable, :registerable,\n         :recoverable, :rememberable, :trackable, :validatable\n\n  # Setup accessible (or protected) attributes for your model\n  attr_accessible :email, :password, :password_confirmation, :remember_me, :username\n  # attr_accessible :title, :body\n  has_many :topics\n  has_many :posts\n  has_many :friendships\n    has_many :friends, :through =&gt; :friendships\n    has_many :inverse_friendships, :class_name =&gt; \"Friendship\", :foreign_key =&gt; \"friend_id\"\n    has_many :inverse_friends, :through =&gt; :inverse_friendships, :source =&gt; :user\nend\n</code></pre>\n\n<p>my friendship model :</p>\n\n<pre><code>class Friendship &lt; ActiveRecord::Base\n  attr_accessible :friend_id, :user_id\n  belongs_to :user\n    belongs_to :friend, :class_name =&gt; \"User\"\nend\n</code></pre>\n\n<p>friendships_controller.rb:</p>\n\n<pre><code>class FriendshipsController &lt; ApplicationController\n    before_filter :authenticate_user!\n\n    def create\n        @friendship = current_user.friendships.build(:friend_id =&gt; params[:friend_id])\n        if @friendship.save\n            flash[:notice] = \"Arkadaşlara eklendi.\"\n            redirect_to root_url\n        else\n            flash[:error] = \"Arkadaşlara Eklenemiyor.\"\n            redirect_to root_url\n        end\n    end\n\n    def destroy\n        @friendship = current_user.friendships.find(params[:id])\n        @friendship.destroy\n        flash[:notice] = \"Arkadaşlarımdan kaldırıldı.\"\n        redirect_to current_user\n    end\nend\n</code></pre>\n\n<p>users_controller.rb:</p>\n\n<pre><code>class UsersController &lt; ApplicationController\n    before_filter :authenticate_user!\n\n  def index\n        @users = User.all\n  end\n  def show\n    @user = User.find(params[:id])\n    @topics = @user.topics.paginate(page: params[:page])\n    @friendship = @user.friendships.build(:friend_id =&gt; params[:friend_id])\n    @friendships = @user.friendships.all\n\n  end \nend\n</code></pre>\n\n<p>This is my friend add link :</p>\n\n<pre><code> &lt;h1&gt;\n        &lt;%= @user.username %&gt;\n      &lt;/h1&gt;\n\n            &lt;%= link_to \"Arkadaşlarıma Ekle\", friendships_path(:friend_id =&gt; @user), :method =&gt; :post,class: \"btn btn-large btn-primary\" %&gt;\n</code></pre>\n\n<p>And I cant find the correct path for showing users as friends.</p>\n\n<pre><code>&lt;%  for friendship in @friendships %&gt; \n&lt;%= link_to friendship.friend.username, '#' %&gt;\n(&lt;%= link_to 'Sil', friendship, :method =&gt; :delete %&gt;)\n&lt;% end %&gt;\n</code></pre>\n\n<p>Can anyone help me ?</p>\n"},{"tags":["asp.net-mvc","mvc","routing"],"answer_count":5,"favorite_count":3,"up_vote_count":12,"down_vote_count":0,"view_count":5073,"score":12,"question_id":154295,"title":"Trailing slash on an ASP.NET MVC route","body":"<p>In the latest MVC preview, I'm using this route for a legacy URL:</p>\n\n<pre><code>routes.MapRoute(\n\"Legacy-Firefox\", // Route name\n\"Firefox-Extension/\", // URL with parameters\nnew { controller = \"Home\", action = \"Firefox\", id = \"\" } // Parameter defaults\n);\n</code></pre>\n\n<p>The problem is that both of these URL's work:\n<a href=\"http://mysite.com/Firefox-Extension\" rel=\"nofollow\">http://mysite.com/Firefox-Extension</a>\n<a href=\"http://mysite.com/Firefox-Extension/\" rel=\"nofollow\">http://mysite.com/Firefox-Extension/</a></p>\n\n<p>I only want the second to work (for SEO). Also, when I create a link to that page, the routing engine gives me back a URL without a trailing slash.</p>\n\n<p>This is the code I'm using to generate the link:</p>\n\n<pre><code>&lt;%= Html.ActionLink(\"Firefox Extension\", \"Firefox\", \"Home\")%&gt;\n</code></pre>\n\n<p>I believe can fix the first problem by using an HTTP handler to do a 301 redirect to the URL with the trailing slash. However, I want to link to the URL with the trailing slash, and I'm hoping to not have to hard-code the version with the slash.</p>\n\n<p>Anyone know how to force the route to use a trailing slash?</p>\n"},{"tags":["mvc","opencart"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":11394678,"title":"giving link to a page in mvc","body":"<p>i am using Opencart for designing a eCommerce store.</p>\n\n<p>I am displaying order counts of product by order status in dashboard. When i click on confirmed status, it should redirect to orders page. I am not able to redirect to that page.</p>\n\n<p>please suggest me how to redirect to orders from dashboard.</p>\n\n<p>My code in dashboard is like this:</p>\n\n<pre><code>&lt;tr&gt; &lt;td height=\"100\" style=\"text-align:center; background:#F60; color:#FFF; font-size:17px;\"&gt;&lt;?php echo $column_pending; ?&gt;&lt;br /&gt;\n&lt;?php echo $PendingStatusCount; ?&gt;&lt;/td&gt;\n        &lt;td height=\"100\" style=\"text-align:center; background:#0CF; color:#FFF; font-size:17px;\"&gt;&lt;?php echo $column_confirmed; ?&gt;&lt;br /&gt;\n&lt;?php echo $CompletedStatusCount; ?&gt; &lt;/td&gt;\n        &lt;td height=\"100\" style=\"text-align:center; background:#0C0; color:#FFF; font-size:17px;\"&gt;&lt;?php echo $column_cancelled; ?&gt; &lt;br /&gt;\n&lt;?php echo $CanceledStatusCount; ?&gt;&lt;/td&gt;\n        &lt;td height=\"100\" style=\"text-align:center; background:#999; color:#FFF; font-size:17px;\"&gt;&lt;?php echo $column_refund; ?&gt; &lt;br /&gt;\n&lt;?php echo $RefundedStatusCount; ?&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Here <code>$PendingStatusCount; $CompletedStatusCount;</code> <code>....</code> are the methods to display counts defined in models and assignd linke this <code>$this-&gt;data['PendingStatusCount'] = $this-&gt;model_report_product-&gt;getPendingStatus();</code>  in controller. </p>\n\n<p>Please suggest me how to redirect this to orders page by filtering the particular options. </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c#","asp.net-mvc","asp.net-mvc-3","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":446,"score":0,"question_id":11394033,"title":"How to solve System.ArgumentException: An item with the same key has already been added in mvc 3?","body":"<p>i created ViewModel to test this answer : <a href=\"http://stackoverflow.com/questions/11360795/how-to-fill-viewmodel-which-has-listt-property-after-clicking-submit-button-mv\">How to fill ViewModel which has List&lt;T&gt; property after clicking submit button mvc 3?</a></p>\n\n<p>i need checkboxlist look please WeeklyModel.Also WeeklyViewModel. i want to list alldoays in checkboxes. Nut my error below . it is stupid error. i can not understand reson to solve how to solve it? thanks...\nLook please helpful ( what i need artcile) article : <a href=\"http://stackoverflow.com/questions/6157348/when-do-i-use-view-models-partials-templates-and-handle-child-bindings-with-mv\">When do I use View Models, Partials, Templates and handle child bindings with MVC 3</a>\nModels:</p>\n\n<pre><code>\n   public class WeeklyModel\n\n        {\n            public string Name { get; set; }\n            public string Value { get; set; }\n            public bool IsChecked { get; set; }\n        }\n\n\n       public class WeeklyViewModel\n        {\n            public IEnumerable&#60;WeeklyModel&#62; Settings { get; set; }\n            public WeeklyViewModel()\n            {\n                Settings = new List&#60;WeeklyModel&#62;();\n            }\n\n        }\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>\n public ActionResult CreateWeekly()\n       {\n           var model = new WeeklyViewModel();\n            List&#60;WeeklyModel&#62; li = new List&#60;WeeklyModel&#62;();\n            li.Add( new WeeklyModel(){ Name=\"Monday\", Value=\"mon\", IsChecked=false});\n            model.Settings = li;\n               return View(model);\n       }\n       [HttpPost]\n        public ActionResult CreateWeekly( WeeklyViewModel weekly)\n       {\n\n           return View(\"CreateWeekly\", weekly);\n       }\n</code></pre> \n\n<p>i created Views/Trigger/EditorTemplates/WeeklyModels.aspx : </p>\n\n<pre><code>\n&#60;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/Views/Shared/ChildSite.Master\" Inherits=\"System.Web.Mvc.ViewPage&#60;GenSystem.Models.WeeklyModel&#62;\" %&#62;\n\n&#60;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&#62;\n\n&#60;/asp:Content&#62;\n\n&#60;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&#62;\n&#60;%:Html.CheckBoxFor(m=&#62;m.IsChecked) %&#62;\n&#60;%:Html.LabelFor(m=&#62;m.IsChecked,Model.Name) %&#62;\n&#60;%:Html.HiddenFor(m=&#62;m.Name) %&#62;\n&#60;%:Html.HiddenFor(m=&#62;m.Value) %&#62;\n\n&#60;/asp:Content&#62;\n</code></pre>\n\n<p>View : </p>\n\n<pre><code>\n&#60;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/Views/Shared/ChildSite.Master\" Inherits=\"System.Web.Mvc.ViewPage&#60;GenSystem.Models.WeeklyViewModel&#62;\" %&#62;\n\n&#60;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"TitleContent\" runat=\"server\"&#62;\n    CreateWeekly\n&#60;/asp:Content&#62;\n\n&#60;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&#62;\n\n&#60;% \n\n    using (Html.BeginForm())\n    {\n          %&#62;\n\n      &#60;div&#62;\n     &#60;%:Html.EditorFor(m =&#62; m.Settings)%&#62;\n      &#60;/div&#62;\n    &#60;br /&#62;\n       &#60;input value=\"GenerateForWeekly\" name=\"submitButton\" type=\"submit\" /&#62;\n          &#60;%} %&#62;\n&#60;/asp:Content&#62;\n\n   </code></pre>\n\n<p>How to solve this Error: </p>\n\n<p>System.ArgumentException: An item with the same key has already been added.\nat System.ThrowHelper.ThrowArgumentException(ExceptionResource resource)\nat System.Collections.Generic.Dictionary<code>2.Insert(TKey key, TValue value, Boolean add)\nat System.Collections.Generic.Dictionary</code>2.Add(TKey key, TValue value)\nat Transformer.NET.Token.ParseAnchors()\nat Transformer.NET.TextTransformer.Parse(List<code>1 tokensType, Dictionary</code>2 variables)\nat Transformer.NET.TextTransformer.Transform(List<code>1 tokensType, Dictionary</code>2 variables)\nat Transformer.NET.TextTransformer.Transform(List`1 tokensType)\nat Transformer.NET.TextTransformer.Transform()\nat Ext.Net.ExtNetTransformer.Transform(String text)\nat Ext.Net.InitScriptFilter.Transform()\nat Ext.Net.InitScriptFilter.Flush()\nat System.Web.HttpWriter.Filter(Boolean finalFiltering)\nat System.Web.HttpResponse.FilterOutput()\nat System.Web.HttpApplication.CallFilterExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()\nat System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously)</p>\n"},{"tags":["mvc","grails"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":125,"score":3,"question_id":11388693,"title":"Difference between grails-app/services, grails-app/utils, and src folders","body":"<p>I'm trying to nail down what the difference is between these three folders and what I should be putting in them.</p>\n\n<p>As of right now I have been throwing class, interfaces, and anything else that directly relates to the structure of my domain classes (by extending or implementing) into the <code>src</code> folder.  Anything that involves additional transactional logic beyond what a Grails controller does by default I have been putting into the <code>grails-app/services</code> folder.  Lastly, any class that contains \"helper\" methods (i.e. comparing various things, special string operations, etc.) I have been putting into the <code>grails-app/utils</code> folder.</p>\n\n<p>If I have missed the mark for what these folders should be used for please put me on the right path.</p>\n"},{"tags":["php","mvc","zend-framework","controller"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":11389121,"title":"redirect to a controller via a hyperlink","body":"<p>I'm new to php, MVC and Zend Framework. I need to redirect to a controller/action via a hyperlink. I used this, as I have used it in a form to redirect to a controller. <code>&lt;a href=\"mycontroller/myaction\"&gt;</code> But this time, it didn't work. </p>\n\n<p>my controller is a very basic controller, where I only tried to dispaly the view conneced to the controller.\nHere it is:</p>\n\n<pre><code>&lt;?php\n\nclass NewUserController extends Zend_Controller_Action {\n\npublic function init()\n{\n    /* Initialize action controller here */\n}\n\npublic function newuserAction()\n{\n    $this-&gt;view-&gt;newuser;\n}\n}\n\n?&gt;\n</code></pre>\n\n<p>I searched for answers and every answer was similar to what I have done.\nplease help me to sort this out.</p>\n\n<p>Thanks in advance\nCharu</p>\n"},{"tags":["asp.net-mvc-3","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11389222,"title":"MVC3 - Controller returns view from the Root and not from Area","body":"<p>I am trying to achieve a multi tenant MVC3 application. All the url requests including subdomain requests are directed to the main application. Solution is having the default main controllers and an area named \"Clients\". So there are 2 routes. </p>\n\n<p>This on in the clientarea</p>\n\n<pre><code>context.MapRoute(\n            \"Client_default\",\n            \"{controller}/{action}/{id}\",\n            new { controller = \"Dashboard\", action = \"Index\", id = UrlParameter.Optional },\n            new {controller = new ClientAreaConstraint()},\n            new[] { \"MainApp.UI.Areas.Clients.Controllers\" });\n</code></pre>\n\n<p>This in the global asax</p>\n\n<pre><code>routes.MapRoute(\n            \"Default\", // Route name\n            \"{controller}/{action}/{id}\", // URL with parameters\n            new { controller = \"Dashboard\", action = \"Index\", id = UrlParameter.Optional },\n            new[] { \"MainApp.UI.Controllers\" }\n        );\n</code></pre>\n\n<p>One for the area and one for the main one. In the route of the area, I have added a route constraint which checks whether the url has a subdomain to it, If yes it returns true.</p>\n\n<pre><code>public bool Match(HttpContextBase httpContext, Route route, string parameterName, RouteValueDictionary values, RouteDirection routeDirection)\n    {\n        var url = httpContext.Request.Headers[\"HOST\"];\n        var clientName = url.Split('.')[1];\n        return clientName != \"mainsite\";\n    } \n</code></pre>\n\n<p>This works and the area controller is getting the subdomain requests. But when i try to call return View(). It looks for the View in the main folder and not in the Area folder. \nMy url looks like this \n<a href=\"http://www.client.mainsite.com/\" rel=\"nofollow\">http://www.client.mainsite.com/</a> and it doesn't have the area name. Is it because of that ?\nWhat could be the problem ? Please help</p>\n"},{"tags":["ruby-on-rails","mvc","patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":11388506,"title":"Rails 3: Injecting partials through conditionals","body":"<p>I'm looking to inject a partial/offset of a views pattern based on conditional statements. Don't know how to do this or how complex it may be. To better explain, here's some pseudo examples:</p>\n\n<p>Totals: 1 Post &amp; 3 Jobs\nPattern: 1 Job - 1 Post - 1 Job - 1 Job</p>\n\n<p>A post is inserted between 3 jobs because there is more than 2. How would I do this?</p>\n"},{"tags":["c#","asp.net-mvc-3","entity-framework","mvc","many-to-many"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":362,"score":3,"question_id":11385429,"title":"How to update/create many-to-many relational data in MVC Code-first using EF?","body":"<p>I have pored through StackOverflow, Google and asp.net trying to find a clear cut, basic example of how to do this. All the examples have been abstract or involved complications that do not apply. I haven't been able to extract much useful from them. So far, none of them have completely answered my question or addressed my issue(s).</p>\n\n<p>I am working on an MVC project with the following model:</p>\n\n<p>Article.cs:</p>\n\n<pre><code>public class Article\n{\n\n    public int ArticleId { get; set; }\n    public string Title { get; set; }\n    .\n    .\n    .\n    public virtual ICollection&lt;Category&gt; Categories { get; set; }\n\n    public Article()\n    {\n        Categories = new HashSet&lt;Category&gt;();\n    }\n}\n</code></pre>\n\n<p>Category.cs:</p>\n\n<pre><code>public class Category\n{\n    public int CategoryId { get; set; }\n    public string Name { get; set; }\n\n    public virtual ICollection&lt;Article&gt; Articles { get; set; }\n\n    public Category()\n    {\n        Articles = new HashSet&lt;Article&gt;();\n    }\n}\n</code></pre>\n\n<p>ArticleEntities.cs:</p>\n\n<pre><code>public class ArticleEntities : DbContext\n{\n    public DbSet&lt;Article&gt; Articles { get; set; }\n    public DbSet&lt;Category&gt; Categories { get; set; }\n\n}\n</code></pre>\n\n<p>An article can have many categories and a category can belong to many articles.</p>\n\n<p>So far I can save/update/create all the article fields except the Categories. </p>\n\n<p>I am representing them as a checkboxes in the view. I can get the values for the selected checkboxes into the controller, but, every attempt I have made to store them in the db with the article has failed.</p>\n\n<p>How do I:</p>\n\n<p>1) When saving an edited article, update the existing relations in the relation table without creating duplicates?</p>\n\n<p>2) When saving a new article, create the chosen relations in the relation table?</p>\n"},{"tags":["php","mvc","architecture","frameworks"],"answer_count":3,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":1371,"score":7,"question_id":5931085,"title":"What are the alternatives to MVC architecture for web development?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/141912/alternatives-to-the-mvc\">Alternatives to the MVC</a>  </p>\n</blockquote>\n\n\n\n<p>I have searched around for alternatives just to see what is available, but I can hardly find anything.</p>\n\n<p>I've read in many articles that web MVC is never true MVC for some reasons too technical for me to really grasp. And it is sometimes suggested to look for something else, but what are the something elses, what are the other architecture types? Where can i read more about it? Can someone provide more details about what is available out there?</p>\n\n<p>By the way, I already read about the 3 tiers architectures, which in my opinion is pretty similar, unless proven otherwise.</p>\n\n<p>What else is there?</p>\n"},{"tags":["php","mysql","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":9480770,"title":"how the validation is undertaken when inserting data to two tables using one form?","body":"<p>There is a web page containing set of input fields. The data taken from the user go to 2 tables in the database. I use the view php file to get data from the user and call a function to gather data using jquery and then push those data to database using ajax function. How can I implement the validations?</p>\n"},{"tags":["asp.net-mvc-3","mvc","url-routing"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":327,"score":2,"question_id":9079774,"title":"Why @Html.ActionLink(\"Home\", \"Index\", \"home\") generates <a href=\"\\\">Home</a>","body":"<p>When I use Html.ActionLink, I found that <code>@Html.ActionLink(\"Home\", \"Index\", \"home\")</code> generates this string <code>&lt;a href=\"\\\"&gt;Home&lt;/a&gt;</code>, so why the address <code>\\home\\index</code> becomes <code>\\</code>, I found this is related with default route which setted in web.conf. I have viewed the mvc 3 source code, but I can't find answer. Who can help me? Thanks.</p>\n"},{"tags":["asp.net-mvc","mvc","dependency-injection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":11381835,"title":"Learning to implement DIC in MVC","body":"<p>I am learning to apply DIC to MVC project. So, I have sketched this DDD-ish DIC-ready-ish layout to my best understanding. I have read many blogs articles wikis for the last few days. However, I am not confident about implementing it correctly. Could you please demonstrate to me how to put them into DIC the proper way? I prefer Ninject or Windsor after all the readings, but anyDIC will do as long as I can get the correct idea how to do it.</p>\n\n<p>Web controller...</p>\n\n<pre><code>public class AccountBriefingController {\n    //create\n    private IAccountServices accountServices { get; set; }\n    public AccountBriefingController(IAccountServices accsrv)\n        accountServices = accsrv;\n    }   \n    //do work\n    public ActionResult AccountBriefing(string userid, int days) {\n        //get days of transaction records for this user\n        BriefingViewModel model = AccountServices.GetBriefing(userid, days);\n        return View(model);\n    }\n}\n</code></pre>\n\n<p>View model ...</p>\n\n<pre><code>public class BriefingViewModel {\n    //from user repository\n    public string UserId { get; set; }\n    public string AccountNumber {get; set;}\n    public string FirstName { get; set; }\n    public string LastName { get; set; } \n    //from account repository\n    public string Credits { get; set; } \n    public List&lt;string&gt; Transactions { get; set; }\n}\n</code></pre>\n\n<p>Service layer ...</p>\n\n<pre><code>public interface IAccountServices {\n    BriefingViewModel GetBriefing();\n}\n\npublic class AccountServices {\n    //create\n    private IUserRepository userRepo {get; set;}\n    private IAccountRepository accRepo {get; set;}\n    public AccountServices(UserRepository ur, AccountRepository ar) {\n        userRepo = ur;\n        accRepo = ar;\n    }\n    //do work\n    public BriefingViewModel GetBriefing(string userid, int days) {\n        var model = new BriefingViewModel(); //&lt;---is that okay to new a model here??\n        var user = userRepo.GetUser(userid);\n        if(user != null) {\n            model.UserId = userid;\n            model.AccountNumber = user.AccountNumber;\n            model.FirstName = user.FirstName;\n            model.LastName = user.LastName;\n            //account records\n            model.Credits = accRepo.GetUserCredits(userid); \n            model.Transactions = accRepo.GetUserTransactions(userid, days);\n        }\n        return model;\n    }\n}\n</code></pre>\n\n<p>Domain layer and data models...</p>\n\n<pre><code>public interface IUserRepository {\n    UserDataModel GetUser(userid);\n}\npublic interface IAccountRepository {\n    List&lt;string&gt; GetUserTransactions(userid, days);\n    int GetUserCredits(userid);\n}\n// Entity Framework DBContext goes under here\n</code></pre>\n\n<p>Please point out if my implementation is wrong, e.g.I can feel in AccountServices->GetBriefing -> new BriefingViewModel() seems wrong to me, but I don't know how to fit the stud into DIC?  </p>\n\n<p>Thank you very much for your help!</p>\n"},{"tags":["php","mvc"],"answer_count":8,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":645,"score":0,"question_id":9292323,"title":"Two (almost) identical pieces of code produce separate results","body":"<p>I have been working on a little MVC project to assist in my self-learning and I have come across an issue that completely baffled me. I made a blog section in this MVC-ish system and pulled user permissions from an ACL with no problem whatsoever.\nI moved onto creating a member section and as soon as i added any permissions checking I get the following error from Chrome:</p>\n\n<blockquote>\n  <p>No data received\n  Unable to load the web page because the server sent no data.\n  Here are some suggestions:\n  Reload this web page later.\n  Error 324 (net::ERR_EMPTY_RESPONSE): The server closed the connection without sending any data.</p>\n</blockquote>\n\n<p>I thought it was weird, so I double checked my error logs and nothing had shown up. So I decided to copy and paste the working blog code into the member file, reloaded and i got the EXACT same error, the only difference between the two files right now is the file name and the class name.\nHere is the Blog code:</p>\n\n<pre><code>&lt;?php\nclass blog extends frontController {\n    public $model;\n    public $user;\n\n    public function __construct()\n    {\n        parent::__construct();\n\n        $this-&gt;model = $this-&gt;autoload_model();\n        $this-&gt;user  = $this-&gt;load_user();\n        $this-&gt;user-&gt;getUserRoles();\n    }\n\n    public function index()\n    {\n        //Will only list the latest post ;)\n        if(!$this-&gt;user-&gt;hasPermission('blog_access'))\n        {\n            $array = $this-&gt;model-&gt;list_posts();\n\n            if(empty($array))\n            {\n                $this-&gt;variables(array(\n                    'site_title' =&gt; 'View Blog Posts',\n                    'post_title' =&gt; 'Sorry but there are no posts to display'\n                ));\n            } else {\n                $this-&gt;variables(array(\n                    'site_title' =&gt; 'View Blog Posts',\n                    'list'       =&gt; $array[0],\n                    'post_title' =&gt; $array[0]['entry_title'],\n                    'link'       =&gt; str_replace(' ', '_',$array[0]['entry_title']),\n                ));\n            }\n        } else {\n            $this-&gt;variables(array(\n                'site_title' =&gt; 'Error :: Design Develop Realize',\n                'body'       =&gt; 'Sorry, but you do not have permission to access this',\n            ));\n        }\n\n        $this-&gt;parse('blog/list', $this-&gt;toParse);\n    }\n</code></pre>\n\n<p>This is the member file:</p>\n\n<pre><code>&lt;?php\n\nclass member extends frontController {\n    public $model;\n    public $user;\n\n    public function __construct()\n    {\n        parent::__construct();\n\n        $this-&gt;model = $this-&gt;autoload_model();\n        $this-&gt;user  = $this-&gt;load_user();\n        $this-&gt;user-&gt;getUserRoles();\n    }\n\n    public function index()\n    {\n        //Will only list the latest post ;)\n        if(!$this-&gt;user-&gt;hasPermission('blog_access'))\n        {\n            //$array = $this-&gt;model-&gt;list_posts();\n\n            if(empty($array))\n            {\n                $this-&gt;variables(array(\n                    'site_title' =&gt; 'Design Develop Realize :: View Blog Posts',\n                    'post_title' =&gt; 'Sorry but there are no posts to display'\n                ));\n            } else {\n                $this-&gt;variables(array(\n                    'site_title' =&gt; 'Design Develop Realize :: View Blog Posts',\n                    'list'       =&gt; $array[0],\n                    'post_title' =&gt; $array[0]['entry_title'],\n                    'link'       =&gt; str_replace(' ', '_',$array[0]['entry_title']),\n                ));\n            }\n        } else {\n            $this-&gt;variables(array(\n                'site_title' =&gt; 'Error :: Design Develop Realize',\n                'body'       =&gt; 'Sorry, but you do not have permission to access this',\n            ));\n        }\n\n        $this-&gt;parse('blog/list', $this-&gt;toParse);\n    }\n</code></pre>\n\n<p>In the member class, if I comment out <code>$this-&gt;user  = $this-&gt;load_user();</code> then the error disappears!!!\nJust for reference here is that function:</p>\n\n<pre><code>protected function load_user()\n{\n    if(!$this-&gt;loader-&gt;loaded['acl'])\n    {\n        $this-&gt;loader-&gt;loadCore('acl');\n    }\n\n    return $this-&gt;loader-&gt;loaded['acl'];\n}\n</code></pre>\n\n<p>Any help or suggestions would be appreciated as I am stumped!</p>\n\n<p>PS yes I do have error reporting set to cover everything and no it does not log anything!</p>\n\n<p><strong>EDIT:</strong> Because all files go through index.php I have placed the error reporting there:</p>\n\n<pre><code>&lt;?php\nerror_reporting(E_ALL);\nini_set('date.timezone', \"Europe/London\");\n\nrequire_once('system/library/loader.php');\n\n$loader = new loader();\n$loader-&gt;loadCore(array('frontController', 'routing'));\n</code></pre>\n\n<p><strong>EDIT 2:</strong> loadCore() is below</p>\n\n<pre><code>public function loadCore($toLoad, $params = false)\n{\n    //important task first, check if it is more then 1 or not\n    if(is_array($toLoad))\n    {\n        //more then one so lets go to the task!\n        foreach($toLoad as $file)\n        {\n            if(file_exists('system/library/' . $file . '.php'))\n            {\n                require_once('system/library/' . $file . '.php');\n\n                if($params)\n                {\n                    $this-&gt;loaded[$file] = new $file($params);\n                } else {\n                    $this-&gt;loaded[$file] = new $file;\n                }\n            } else {\n                trigger_error(\"Core File $file does not exist\");\n            }\n        }\n    } else {\n        //Phew, less work, it is only one!\n        if(file_exists('system/library/' . $toLoad . '.php'))\n        {\n            require_once('system/library/' . $toLoad . '.php');\n\n            if($params)\n            {\n                echo(__LINE__); exit;\n                $this-&gt;loaded[$toLoad] = new $toLoad($params);\n            } else {\n                $this-&gt;loaded[$toLoad] = new $toLoad;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Update</strong>: I modified loadCore so that if it was the acl being called it would use a try...catch() and that has not helped as it will not display an error just the same chrome and IE pages</p>\n\n<p><strong>Update 2</strong>: I have spoken with my host and it seems that everytime this error occurs, apache logs the following (not sure why I cannot see it in my copy of the logs!)</p>\n\n<blockquote>\n  <p>[Wed Feb 22 08:07:11 2012] [error] [client 93.97.245.13] Premature end\n  of script headers: index.php</p>\n</blockquote>\n"},{"tags":["jquery","ruby-on-rails","ruby","mvc","td"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":11385674,"title":"Rails (now) not liking my jquery script which turned <td> elements into links. \"undefined method\" error","body":"<p>Here is the erring portion of the view (show.html.erb)</p>\n\n<pre><code>&lt;% @results.each do |r| %&gt;\n&lt;tr class=\"tweets\"&gt;\n\n    &lt;script&gt;\n        $(\"td.status\").click(function(){\n        window.location = \"http://www.twitter.com/id/status/&lt;%= r.page_id %&gt;\";\n        });\n    &lt;/script&gt;\n    &lt;td class=\"user\"&gt;&lt;img src=\"&lt;%= r.img_url %&gt;\"&gt;&lt;/td&gt;\n\n    &lt;td class=\"user\"&gt;&lt;strong&gt;&lt;%= r.screen_name %&gt;&lt;/strong&gt;&lt;/td&gt;\n\n    &lt;td class=\"user\"&gt;&lt;%= r.real_name %&gt;&lt;/td&gt;\n\n    &lt;td class=\"time\"&gt;&lt;%= r.time_ago %&gt;&lt;/td&gt;\n    &lt;td class=\"status\"&gt;&lt;%= r.status %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Note that when I remove the jquery script all other r.element tags work. The @results object instantiated in this view's controller (called here) calls this script (I'm only showing part of it)</p>\n\n<pre><code>module SimpleTwitter\n  class Tweet\n\nattr_accessor :img_url, :screen_name, :real_name, :status, :time_ago\n\ndef initialize(tweet_hash)\n  @img_url = tweet_hash['profile_image_url']\n  @screen_name = tweet_hash['from_user']\n  @real_name = tweet_hash['from_user_name']\n  @status = tweet_hash['text']\n  @page_id = tweet_hash['id']\n  ...(cont)...\n</code></pre>\n\n<p>There is a lot of complicated (to me anyway) parsing going on here through a series of files, gems, classes, but know that without the jquery script which \"linkifies\" given  elements, all is working well. Previously I used this jquery script without error.</p>\n\n<p>Please let me know if you'd like more information.</p>\n\n<p>EDIT (DOH!) --- here's the error message:</p>\n\n<pre><code>NoMethodError in Searches#show\n\nShowing /home/ddouglas/Develop/twitter_research/app/views/searches/show.html.erb where     line #28 raised:\n\nundefined method `page_id' for #&lt;SimpleTwitter::Tweet:0x000000030ee590&gt;\nExtracted source (around line #28):\n\n25: \n26:         &lt;script&gt;\n27:             $(\"td.status\").click(function(){\n28:             window.location = \"http://www.twitter.com/id/status/&lt;%=         r.page_id %&gt;\";\n29:             });\n30:         &lt;/script&gt;\n31:         &lt;td class=\"user\"&gt;&lt;img src=\"&lt;%= r.img_url %&gt;\"&gt;&lt;/td&gt;\n</code></pre>\n"},{"tags":["sql","ruby-on-rails","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":11384766,"title":"Rails 3: Sorting by many strings","body":"<p>I have multiple strings that are all number values. They are all inside the same db table. Is there a way to join them all and sort by the highest number?</p>\n\n<p>Something like (pseudo code):</p>\n\n<pre><code>:include =&gt; :word_one_value, :word_two_value, :word_three_value, :sort_by =&gt; \"sum ASC\"\n</code></pre>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":197,"score":0,"question_id":9356120,"title":"adding custom controller directory in zend framework","body":"<p>so in the index.php I did</p>\n\n<pre><code>$front = Zend_Controller_Front::getInstance();\n$front = $front-&gt;addControllerDirectory('/path/to/directory');\n</code></pre>\n\n<p>and then I placed one of my controller files in that /path/to/directory</p>\n\n<p>but then Zend complains that it couldn't find that controller...</p>\n\n<p>What did I do wrong? </p>\n"},{"tags":["ruby-on-rails","ruby","mvc","variables","activerecord"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":11384140,"title":"Ruby on Rails How do I access variables of a model inside itself like in this example?","body":"<p>I have a Model like so:</p>\n\n<pre><code># == Schema Information\n#\n# Table name: s3_files\n#\n#  id                       :integer         not null, primary key\n#  owner                    :string(255)\n#  notes                    :text\n#  created_at               :datetime        not null\n#  updated_at               :datetime        not null\n#  last_accessed_by_user    :string(255)\n#  last_accessed_time_stamp :datetime\n#  upload_file_name         :string(255)\n#  upload_content_type      :string(255)\n#  upload_file_size         :integer\n#  upload_updated_at        :datetime\n#\n\nclass S3File &lt; ActiveRecord::Base\n\n  #PaperClip methods\n  attr_accessible :upload\n  attr_accessor :owner\n\n  Paperclip.interpolates :prefix  do |attachment, style|\n    I WOULD LIKE TO ACCESS VARIABLE= owner HERE- HOW TO DO THAT?\n\n  end\n\n  has_attached_file(  :upload,\n                  :path =&gt; \":prefix/:basename.:extension\",\n                  :storage =&gt; :s3,\n                  :s3_credentials =&gt; {:access_key_id =&gt; \"ZXXX\",\n                                      :secret_access_key =&gt; \"XXX\"},\n                  :bucket =&gt; \"XXX\"\n                )\n\n\n  #Used to connect to users through the join table\n  has_many :user_resource_relationships\n  has_many :users, :through =&gt; :user_resource_relationships\n\n end\n</code></pre>\n\n<p>Im setting this variable in the controller like so:</p>\n\n<pre><code>    # POST /s3_files\n    # POST /s3_files.json\n   def create\n    @s3_file = S3File.new(params[:s3_file])\n    @s3_file.owner = current_user.email\n\n    respond_to do |format|\n      if @s3_file.save\n        format.html { redirect_to @s3_file, notice: 'S3 file was successfully created.' }\n        format.json { render json: @s3_file, status: :created, location: @s3_file }\n      else\n        format.html { render action: \"new\" }\n        format.json { render json: @s3_file.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n\n<p>Thanks, any help would be appreciated.</p>\n"},{"tags":["javascript","mvc","jsp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":11383363,"title":"cant connect the script.js with ingex.jsp","body":"<p>i'm working in mvc java web my index file is </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;title&gt;Chat &lt;/title&gt;\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"js/jScrollPane/jScrollPane.css\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/page.css\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/chat.css\" /&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div id=\"chatContainer\"&gt;\n\n    &lt;div id=\"chatTopBar\" class=\"rounded\"&gt;&lt;/div&gt;\n    &lt;div id=\"chatLineHolder\"&gt;&lt;/div&gt;\n\n    &lt;div id=\"chatUsers\" class=\"rounded\"&gt;&lt;/div&gt;\n    &lt;div id=\"chatBottomBar\" class=\"rounded\"&gt;\n        &lt;div class=\"tip\"&gt;&lt;/div&gt;\n\n        &lt;form id=\"loginForm\" method=\"post\" action=\"\"&gt;\n            &lt;input id=\"name\" name=\"name\" class=\"rounded\" maxlength=\"16\" /&gt;\n            &lt;input type=\"submit\" class=\"blueButton\" value=\"Login\" /&gt;\n        &lt;/form&gt;\n\n        &lt;form id=\"submitForm\" method=\"post\" action=\"\"&gt;\n            &lt;input id=\"chatText\" name=\"chatText\" class=\"rounded\" maxlength=\"255\" /&gt;\n            &lt;input type=\"submit\" class=\"blueButton\" value=\"Submit\" /&gt;\n        &lt;/form&gt;\n\n    &lt;/div&gt;\n\n&lt;/div&gt;\n\n\n\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jScrollPane/jquery.mousewheel.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jScrollPane/jScrollPane.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/script.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>as you can see i'm calling script.js at the end of the page </p>\n\n<p>the problem is nothing happen and nothing change </p>\n\n<p>and i don't know what is wrong </p>\n\n<p>NOTE : the project running in NetBeans IDE 6.7.1</p>\n\n<p>and here is a part of script.js </p>\n\n<pre><code>$(document).ready(function(){\n//alert(\"in js\");\n    // Run the init method on document ready:\n    chat.init();\n\n});\n\nvar chat = {\n\n    // data holds variables for use in the class:\n\n    data : {\n        lastID      : 0,\n        noActivity  : 0\n    },\n\n    // Init binds event listeners and sets up timers:\n\n    init : function(){\n\n        // Using the defaultText jQuery plugin, included at the bottom:\n        $('#name').defaultText('Nickname');\n        // Converting the #chatLineHolder div into a jScrollPane,\n        // and saving the plugin's API in chat.data:\n\n        chat.data.jspAPI = $('#chatLineHolder').jScrollPane({\n            verticalDragMinHeight: 12,\n            verticalDragMaxHeight: 12\n        }).data('jsp');\n\n        // We use the working variable to prevent\n        // multiple form submissions:\n\n        var working = false;\n\n        // Logging a person in the chat:\n        $('#loginForm').submit(function(){\n\n            if(working) return false;\n            working = true;\n\n            // Using our tzPOST wrapper function\n            // (defined in the bottom):\n                        action =\"login\";\n\n                        ////////////////////////////////////////////////////////\n                        $.ajax({\n                    url: \" ChatController\",\n                    data: 'action='+action + '&amp;name='+ $('#name').val() ,\n                    type: 'post',\n                    success: function(msg){\n                                        var split = msg.split(' ');\n                        if(split[0]== 'success')\n                                               {\n\n                                               chat.login(split[1],split[2]);\n                                               }\n\n                        else{\n                                                    chat.displayError(msg);}\n\n                        }\n                    });\n            return false;\n       });\n////////////////////////////////////////////////////////////////////////////////\n                        // Logging the user out:\n\n        $('a.logoutButton').live('click',function(){\n                         action=\"logout\";\n              $.ajax({\n                    url: \" ChatController\",\n                    data: 'action='+action + '&amp;name='+chat.data.name ,\n                    type: 'post'\n\n\n            });\n\n            $('#chatTopBar &gt; span').fadeOut(function(){\n                $(this).remove();\n            });\n\n            $('#submitForm').fadeOut(function(){\n                $('#loginForm').fadeIn();\n            });\n\n            return false;\n        });\n////////////////////////////////////////////////////////////////////////////////\n\n                // Self executing timeout functions\n\n        (function getChatsTimeoutFunction(){\n            chat.getChats(getChatsTimeoutFunction);\n        })();\n\n        (function getUsersTimeoutFunction(){\n            chat.getUsers(getUsersTimeoutFunction);\n        })();\n\n\n},\nlogin : function(name,gravatar){\n\n        chat.data.name = name;\n        chat.data.gravatar = gravatar;\n        $('#chatTopBar').html(chat.render('loginTopBar',chat.data));\n\n        $('#loginForm').fadeOut(function(){\n            $('#submitForm').fadeIn();\n            $('#chatText').focus();\n\n        });\n\n    },\n\n// The render method generates the HTML markup\n    // that is needed by the other methods:\n\nrender : function(template,params){\n\n        var arr = [];\n        switch(template){\n            case 'loginTopBar':\n                arr = [\n                '&lt;span&gt;&lt;img src=\"',params.gravatar,'\" width=\"23\" height=\"23\" /&gt;',\n                '&lt;span class=\"name\"&gt;',params.name,\n                '&lt;/span&gt;&lt;a href=\"\" class=\"logoutButton rounded\"&gt;Logout&lt;/a&gt;&lt;/span&gt;'];\n            break;\n\n            case 'chatLine':\n                arr = [\n                    '&lt;div class=\"chat chat-',params.id,' rounded\"&gt;&lt;span class=\"gravatar\"&gt;&lt;img src=\"',params.gravatar,\n                    '\" width=\"23\" height=\"23\" onload=\"this.style.visibility=\\'visible\\'\" /&gt;','&lt;/span&gt;&lt;span class=\"author\"&gt;',params.author,\n                    ':&lt;/span&gt;&lt;span class=\"text\"&gt;',params.text,'&lt;/span&gt;&lt;span class=\"time\"&gt;',params.time,'&lt;/span&gt;&lt;/div&gt;'];\n            break;\n\n            case 'user':\n                arr = [\n                    '&lt;div class=\"user\" title=\"',params.name,'\"&gt;&lt;img src=\"',\n                    params.gravatar,'\" width=\"30\" height=\"30\" onload=\"this.style.visibility=\\'visible\\'\" /&gt;&lt;/div&gt;'\n                ];\n            break;\n        }\n\n        // A single array join is faster than\n        // multiple concatenations\n\n        return arr.join('');\n\n    },\n        // The addChatLine method ads a chat entry to the page\n\ndisplayError : function(msg){\n        var elem = $('&lt;div&gt;',{\n            id      : 'chatErrorMessage',\n            html    : msg\n        });\n\n        elem.click(function(){\n            $(this).fadeOut(function(){\n                $(this).remove();\n            });\n        });\n\n        setTimeout(function(){\n            elem.click();\n        },5000);\n\n        elem.hide().appendTo('body').slideDown();\n    }\n\n};\n\n// A custom jQuery method for placeholder text:\n\n$.fn.defaultText = function(value){\n\n    var element = this.eq(0);\n\n    element.data('defaultText',value);\n\n    element.focus(function(){\n        if(element.val() == value){\n            element.val('').removeClass('defaultText');\n\n        }\n    }).blur(function(){\n        if(element.val() == '' || element.val() == value){\n            element.addClass('defaultText').val(value);\n        }\n    });\n\n    return element.blur();\n}\n</code></pre>\n"},{"tags":["php","arrays","mvc","url"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":290,"score":0,"question_id":11382916,"title":"Clean URLS in MVC structure using PHP","body":"<p>I am creating a website using the MVC structure. Below is a code I have used to use clean URLS and load the appropriate files. However it only works for the first level.</p>\n\n<p>Say I wanted to visit <code>mywebsite.com/admin</code> it would work, however <code>mywebsite.com/admin/dashboard</code> would not. The problem is in the arrays, how could I get the array to load content after the 2nd level along with the second level.</p>\n\n<p>Would it be best to create an array like this?</p>\n\n<pre><code>Array\n     - controller\n     - view\n          - dashboard\n</code></pre>\n\n<p>Any help here would be great. Also as a side question. What would be the best way to set up \"custom\" urls. So if I were to put in <code>mywebsite.com/announcement</code> it would check to see if its got controllers, failing that, check to see if it's got custom content (maybe a file of the same name in \"customs\" folder, and then if there's nothing execute the 404 page not found stuff) This isn't a priority question though, but loosely associated in how the code works so I thought it best to add.</p>\n\n<pre><code>function hook() {\n    $params = parse_params();\n    $url = $_SERVER['REQUEST_URI'];\n    $url = str_replace('?'.$_SERVER['QUERY_STRING'], '', $url);\n\n    $urlArray = array();\n    $urlArray = explode(\"/\",$url);\n    var_dump($urlArray);\n    if (isset($urlArray[2]) &amp; !empty($urlArray[2])) {\n        $route['controller'] = $urlArray[2];\n    } else {\n        $route['controller'] = 'front'; // Default Action\n    }\n    if (isset($urlArray[3]) &amp; !empty($urlArray[3])) {\n        $route['view'] = $urlArray[3];\n    } else {\n        $route['view'] = 'index'; // Default Action\n    }\n    include(CONTROLLER_PATH.$route['controller'].'.php');\n    include(VIEW_PATH.$route['controller'].DS.$route['view'].'.php');\n    var_dump($route['controller']);\n    var_dump($route['view']);\n    var_dump($urlArray);\n    var_dump($params);\n\n    // reseting messages\n    $_SESSION['flash']['notice'] = '';\n    $_SESSION['flash']['warning'] = '';\n}\n// Return form array\nfunction parse_params() {\n    $params = array();\n    if(!empty($_POST)) {\n        $params = array_merge($params, $_POST);\n    }\n    if(!empty($_GET)) {\n        $params = array_merge($params, $_GET);\n    }\n    return $params;\n}\n</code></pre>\n"},{"tags":["php","mvc","formbuilder"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":194,"score":0,"question_id":9398601,"title":"OOP form builder","body":"<p>I am considering implementing simple form builder in PHP OOP and integrate it into my MVC Framework.</p>\n\n<p>Do you find form builder useful or is it pointless?</p>\n\n<p>Do you prefer typing in HTML Form manually?</p>\n"},{"tags":["javascript","jquery","mvc","javascript-library","javascript-framework"],"answer_count":3,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":1878,"score":7,"question_id":9468674,"title":"Javascript MVC frameworks","body":"<p>There are a lot of Javascript MVC frameworks available these days (Backbone.js, Cappuccino, Ember.js, GWT, etc), each having their own positives and negatives. \nMy questions are ;</p>\n\n<ol>\n<li>What are the actual benefits that the MVC framework provides over normal Javascript ? </li>\n<li>Are all the frameworks mostly based on jQuery ?</li>\n<li>How does one decide which framework to go for? What are the questions that one needs to ask before pinpointing on some framework?</li>\n<li>One specific question that I have regarding MVC is there are some frameworks which update the view as soon as the model/data changes… So is that possible through AJAX?</li>\n</ol>\n\n<p>Please let me know in very basic practical terms..</p>\n"},{"tags":["java","mysql","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":65,"score":-3,"question_id":11380325,"title":"insert not working in java with mysql","body":"<p>i send object of my data to chat_line.java page where it connect to database and insert into chat_lines table \nand here is the file </p>\n\n<pre><code>package model;\nimport Beans.ChatLineBeans;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\npublic class chat_line  extends DBConnection  {\n\n    public static String add_line(ChatLineBeans line ) throws SQLException{\n        String b = line.getgravatar();\n        try{\n\n            Connection conn = createConnection();\n            PreparedStatement s;\n            s = conn.prepareStatement (\n             \"INSERT INTO chat_lines (auther) VALUES(?)\");\n             s.setString (1,line.getauther());\n             int count = s.executeUpdate ();\n            //System.out.println (line.getauther());\n        b=    line.getauther();\n        }\n            catch (SQLException ex) {\n           System.out.println(\"Exception\" +ex);\n        }\n\nreturn b ;\n\n    }\n\n}\n</code></pre>\n\n<p>well it did not insert into table i checked if the object send correctly and it was containing the right data </p>\n\n<p>so any idea about this problem and how to solve it ?\nthanks in advance </p>\n"},{"tags":["c#","mvc","ef-code-first"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":5941693,"title":"How to use EF code first models to use relationships in order to generate data","body":"<p>I have two domain models in my project: Category and Sub-category. This is my one to many relationship and how I created it:</p>\n\n<pre><code>public class Category\n{\n    public int CategoryId { get; set; }\n    public string CategoryName { get; set; }\n\n    public List&lt;SubCategory&gt; SubCategories { get; set; }\n}\n\npublic class SubCategory\n{\n    public int SubCategoryId { get; set; }\n    public string SubCategoryName { get; set; }\n\n    public Category Category { get; set; }\n}\n</code></pre>\n\n<p>Now I am not sure how to add a Sub-Category to a Category, but I want the association to be kept for each Sub-Categories in a Category. So I tried passing a Category to my CreateSubCategory View </p>\n\n<pre><code>public ActionResult CreateSubCategory(int categoryId)\n{\n    return View(_service.GetCategory(categoryId));\n}\n</code></pre>\n\n<p>I came to here in my view and got stumped</p>\n\n<pre><code>@using (Html.BeginForm()){\n    &lt;h2&gt;SubCategory&lt;/h2&gt;\n\n    &lt;div&gt;@Html.DisplayFor(model =&gt; model.CategoryName)&lt;/div&gt;\n\n    &lt;div&gt;@*Want to create Sub-category here*@&lt;/div&gt;\n\n    &lt;p&gt;&lt;input type=\"submit\" value=\"Create\" /&gt;&lt;/p&gt;\n}\n</code></pre>\n\n<p>I guess this is a noob question but I cannot figure out what to do here.\nSo is there any advice on how to do this, or any way of performing this task of adding my Sub-categories to Categories? </p>\n"},{"tags":["java","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":11377022,"title":"How can I write a Timestamp in java so I can insert in mysql","body":"<p>My table, <code>chat_users</code>, contains an attribute <code>last_activity</code> that is a <code>Timestamp</code>. </p>\n\n<p>What is the Java code to write that value?</p>\n\n<p>I tried  <code>Timestamp last_activity ;</code> but i don't know how to pass parameter to it.</p>\n"},{"tags":["mvc","iis6","http-status-code-404","asp.net-4.0",".net-4.0-beta-2"],"answer_count":1,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":1453,"score":10,"question_id":2222999,"title":"Getting a 404 when using .NET 4 on IIS 6, with or without MVC","body":"<p>I've completed this set up on a fair few IIS 6 boxes, but one is giving me a tough time.</p>\n\n<p>The problem occurs when I add the application extension mapping to:</p>\n\n<p><code>c:\\windows\\microsoft.net\\framework\\v4.0.21006\\aspnet_isapi.dll</code></p>\n\n<p>When this is in place, I get a 404 error on every request.</p>\n\n<p>Even if I remove all files from the application directory apart from a basic <code>test.htm</code> and navigate to that, I still get a 404.</p>\n\n<ul>\n<li>I've unchecked the \"Verify that file exists\"</li>\n<li>I've set up a .NET 4 application pool and pointed my application to that</li>\n<li>I've changed the ASP.NET version to 4.0.21006</li>\n<li>I've checked the IIS log file, and there's nothing useful in there (it only shows the first bunch of requests after each reboot and then stops logging)</li>\n<li>I've checked the application event log and nothing gets reported</li>\n<li>I've installed MVC 2</li>\n</ul>\n\n<p>I've copied the set up onto another box, just to be sure, following all the same steps - and it all works!</p>\n\n<p>What else can I look out for??</p>\n\n<p><b>N.B:</b></p>\n\n<p>If I set .NET to v2 in IIS, then I can successfully navigate to <code>\\test.htm</code></p>\n"},{"tags":["django","mvc","django-models"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":11378494,"title":"where to put bussiness logic that spans multiple models in Django","body":"<p>You don't need to read all this post to help me answer the question, the rest of this post is only the context where the question came, but the general question is:</p>\n\n<p><strong>where to put bussiness logic that spans multiple models in Django??</strong></p>\n\n<p>some posibilites:</p>\n\n<ul>\n<li>Some View? (I don't think so, it must work in the admin and several views, DRY)</li>\n<li>Save methods in model/forms?(how?)</li>\n<li>Clean methos in model/forms?(how?)</li>\n<li>split the logic and use signals?(how?)</li>\n<li>Other?</li>\n</ul>\n\n<p><strong>Context:</strong></p>\n\n<p>I have this models:</p>\n\n<ol>\n<li>Department: Reference different departments in a company (risk, finance,IT,...)</li>\n<li>Employee: May belongs to only one department for a period of time and then change to other department.</li>\n<li>Project: Each Department can have multiple projects, and a project belongs to multiple departemnts.</li>\n<li>Membership: intermediate table between the Employee and Department ManyToMany relationship that includes other fields like join_date and leave_date, important field are fk:Department, fk:Employee</li>\n<li>History: intermediate table between Membership and Project that let me know which employee was involved in wish project wen he was working in some department, important fields are fk:Membership, fk:Project.</li>\n<li>CurrentProjects: table that relates departments with the projects they are working on currently.</li>\n</ol>\n\n<p>supose I'm in the Django admin and I go the department Risk, and Risk has currently Proyect1 and Project2 asigned. when I add a new employee \"Jhon Smith\" (for example,using an inline form in Department) and press the save button, I want the model History gets updated with this information:</p>\n\n<pre>\nMembership table (only important fields):\n\npk   Department   Employee     join_date   leave_date\n20   Risk         Jhon Smith   xxxx        xxxx\n\n\nHistory Table (only important fields):\n\nMembership   Project\n20           Project1\n20           project2\n</pre>\n\n<p>I mean when a new employee gets asigned to a new department all the actual projects from that department must be asigned to that Membership employee-department in the table History.</p>\n\n<p>the question is where to put this logic in Django? as you can see this logic involves multiples models, some posibilities are:</p>\n\n<ul>\n<li>In some view (I don think so, it must work in the admin interfase and in other places)</li>\n<li>In the clean method of the Membership, Department or Employee model/form?</li>\n<li>In the save method of the Membership, Department or Employee model/form?</li>\n<li>I have to split the logic and use something like signals? (some example?)</li>\n<li>Others?</li>\n<li>I'm over complicating everithing? =)</li>\n</ul>\n\n<p>Considerations: It would be nice if the code could generate a valueerror at any point in the process and the user/admin could be able to see this error in the unbounded form.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mvc","spring","spring-mvc","portlet"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1005,"score":2,"question_id":3968800,"title":"portal:actionURL Spring MVC Portlet","body":"<p>I am trying to create a actionUrl using the following code </p>\n\n<pre><code>&lt;portlet:actionURL var=\"actionUrl\"&gt;&lt;portlet:param name='action' value='viewModules' /&gt;&lt;/portlet:actionURL&gt;\n</code></pre>\n\n<p>and map that onto a spring controller </p>\n\n<p>However the controller does not respond as the generated url's ampersands are encoded </p>\n\n<p>e.g. </p>\n\n<pre><code>&lt;snip&gt;&amp;amp;p_p_lifecycle=1&amp;amp;p_p_state=normal&amp;amp;p_p_mode=view&amp;amp;p_p_col_id=column-1&amp;amp;p_p_col_count=2&lt;/snip&gt;\n</code></pre>\n\n<p>If I unencode and paste into the browser this works </p>\n\n<p>I have added \nportlet.url.escape.xml=false\nto portal-ext.properties but to no available </p>\n\n<p>Could any please point me in the right direction </p>\n\n<p>Many Thanks</p>\n"},{"tags":["mvc","controller","ef-code-first","views","left-join"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":182,"score":0,"question_id":11377445,"title":"Left join with Code First MVC 4 EF4.1","body":"<p>I'm creating a system where users have some setting to do to complete their account, see below :</p>\n\n<p>Tables:</p>\n\n<h2><strong>SettingsTypes</strong></h2>\n\n<ol>\n<li>Id</li>\n<li>Name</li>\n</ol>\n\n<h2><strong>Settings</strong></h2>\n\n<ol>\n<li>Id</li>\n<li>FkSettingTypeId</li>\n<li>IsEmailActivated</li>\n<li>IsSMSActivated</li>\n<li>IntervalNotification</li>\n</ol>\n\n<p>So the SettingsType table have these kind of value : </p>\n\n<ol>\n<li>Be warned if time almost over</li>\n<li>Be warned about offers in my categories</li>\n<li>...</li>\n</ol>\n\n<p>Back into my MVC4 application I need to create a controller that will return every SettingsType with Setting to get a html table where user can choose if he want receive an email and sms for each SettingsType.</p>\n\n<p>I use the Entity Framework 4.1 with CodeFirst and an ordinary page will return the table object like this :</p>\n\n<pre><code>public ActionResult Index()\n    {\n        var settings = db.Settings.Include(s =&gt; s.SettingsType);\n        return View(settings.ToList());\n    }\n</code></pre>\n\n<p>The include statement make an inner join and do not return all the SettingsType I need associated with the Setting.</p>\n\n<p>How can I write my code to do a left or right join and get the right model to pass into my views like that :</p>\n\n<pre><code>@model IEnumerable&lt;TenderSystem.Models.Setting&gt;\n\n@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.SettingsType.Name)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.IsEmailActivated)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.IsSMSActivated)\n    &lt;/td&gt;\n    &lt;td&gt;\n        @Html.DisplayFor(modelItem =&gt; item.IntervalNotification)\n    &lt;/td&gt;\n&lt;/tr&gt;}\n</code></pre>\n\n<p>I tried many thing like these link :</p>\n\n<ol>\n<li><a href=\"http://stackoverflow.com/questions/5729280/entity-framework-code-first-left-join\">Entity Framework Code First Left Join</a></li>\n<li><a href=\"http://blogs.msdn.com/b/adonet/archive/2010/12/06/ef-feature-ctp5-fluent-api-samples.aspx\" rel=\"nofollow\">Fluent API Samples</a></li>\n</ol>\n\n<p>But I can't achieve what I expect for.</p>\n\n<p>To conclude, I also use the SQL to LINQ converter tool to convert my very easy SQL left join into LINQ and may be return the object I can use into my view but I got this error : Only parameterless constructors and initializers are supported in LINQ to Entities.</p>\n\n<p>Need your help to understand the right thing to do with this situation.</p>\n\n<p>Thank you very much</p>\n"},{"tags":["ruby-on-rails-3","mvc","controller"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":11377153,"title":"Ruby on Rails How to get an individual parameter from a form?","body":"<p>I have a forms_for @conversation and when it is submitted I can grab all the fields from the form in the controller by params[:conversation].</p>\n\n<p>Let's say I have a field in the form called :message. How would I grab that field in the controller? I tried: params[:conversation][:message] but returns nil.</p>\n"},{"tags":["java","mysql","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":11375645,"title":"delete and insert not working in java with mysql","body":"<p>i have two tables chat_users and chat_lines \nwhen insert and select  from chat_user  it work well but when  trying update it does not \nalso when  insert in chat_lines nothing happen </p>\n\n<p>here is the  chat_user_model.java </p>\n\n<pre><code>package model;\n\nimport Beans.ChatLineBeans;\nimport Beans.ChatUserBeans;\nimport java.security.Timestamp;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author user\n */\npublic class chat_user_model extends DBConnection  {\n\npublic static void add_User(ChatUserBeans user ) throws ClassNotFoundException  {\n\n        try {\n\n            Connection conn = createConnection();\n            PreparedStatement s;\n            s = conn.prepareStatement (\n               \"INSERT INTO chat_users (name, gravatar) VALUES(?,?)\");\n             s.setString (1,user.getuserName());\n             s.setString (2, user.getgravatar());\n             int count = s.executeUpdate ();\n             s.close ();\n              conn.close();\n             //System.out.println (count + \" rows were inserted\");\n\n            } catch (SQLException ex) {\n            Logger.getLogger(chat_user_model.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n    }\npublic static  ChatUserBeans find_user(String name ) {\n    ChatUserBeans user=new ChatUserBeans();\n        try {\n            Connection con = createConnection();\n            PreparedStatement stmt = con.prepareStatement(\"select  * from chat_users where name=? \");\n            stmt.setString(1, name);\n            ResultSet result= stmt.executeQuery();\n            while(result.next())\n            {\n              user.setuserName(result.getString(\"name\"));\n              user.setgravatar(result.getString(\"gravatar\"));\n            }\n            stmt.close();\n            stmt.close();\n            con.close();\n        } catch (SQLException ex) {\n            Logger.getLogger(chat_user_model.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    return user ;\n\n}\npublic static void add_line(ChatLineBeans line ) throws ClassNotFoundException  {\n\n        try {\n\n            Connection conn = createConnection();\n            PreparedStatement s;\n            s = conn.prepareStatement (\n               \"INSERT INTO chat_lins (aurther, gravatar,text) VALUES(?,?,?)\");\n             s.setString (1,line.getauther());\n             s.setString (2, line.getgravatar());\n             s.setString (3, line.gettext());\n             int count = s.executeUpdate ();\n             s.close ();\n             conn.close();\n\n             //System.out.println (count + \" rows were inserted\");\n\n            } catch (SQLException ex) {\n            Logger.getLogger(chat_user_model.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n\n    }\n\npublic static void delete_User(String name ) throws ClassNotFoundException  {\n\n        try {\n            Connection conn = createConnection();\n            PreparedStatement s;\n            s = conn.prepareStatement (\n               \"DLETE FROM chat_users WHERE name=?\");\n             s.setString (1,name);\n             int count = s.executeUpdate ();\n             s.close ();\n              conn.close();\n        } catch (SQLException ex) {\n            Logger.getLogger(chat_user_model.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n\n\n    }\n}\n</code></pre>\n\n<p>and the connection file is </p>\n\n<pre><code>    package model;\n\n\n    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.SQLException;\n    import java.util.logging.Level;\n    import java.util.logging.Logger;\n\npublic class DBConnection {\n        private static String hostName = \"localhost\";\n        private static String port = \"3306\";\n        private static String dbName =\"120623085702\";\n        private static String userName = \"root\";\n        private static String password=\"\";\n        public static Connection createConnection(){\n            try {\n                Class.forName(\"com.mysql.jdbc.Driver\");\n                String url = \"jdbc:mysql://\" + hostName + \":\" + port + \"/\" + dbName;\n                System.out.println(url);\n                Connection con = DriverManager.getConnection(url,userName,password);\n                return con;\n\n            } catch (SQLException ex) {\n                Logger.getLogger(DBConnection.class.getName()).log(Level.SEVERE, null, ex);\n            } catch (ClassNotFoundException ex) {\n                Logger.getLogger(DBConnection.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n            return null;\n        }\n\n    }\n</code></pre>\n\n<p>any suggestion about how to solve this </p>\n\n<p>thanks in advance </p>\n"},{"tags":["php","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":299,"score":0,"question_id":11375183,"title":"MVC calling another controller's action from another controller's action","body":"<p>Let's imagine that we have <code>OrderController</code> controller with three actions/pages: <code>orderDetailsAction</code>, <code>orderHistoryAction</code>, <code>orderCustomerDetailsAction</code></p>\n\n<p>Each of these actions are returning some piece of HTML.</p>\n\n<p>Now I want to have page containing all 3 html pieces in same time, <em>but I don't want to make 3 ajax calls to get this done</em>. </p>\n\n<p>I'm creating additional controller's action method (<code>orderSummaryAction</code>, for example). This method should contain something like this.</p>\n\n<pre><code>public function orderSummartyAction {\n   ob_start();\n   Application::factory()-&gt;run('/order/details');\n   Application::factory()-&gt;run('/order/history');\n   Application::factory()-&gt;run('/order/customer_details');     \n   $out = ob_get_clean();\n   $this-&gt;getResponse()-&gt;setHtml($out);\n}\n</code></pre>\n\n<p>Is there any framework doing such things or maybe it is bad practice (what is better practice then)? </p>\n\n<p>Thank you!</p>\n\n<p>UPD: Or we can pass not string url, but Route to create new Application instance. It would be much better, imho.</p>\n"},{"tags":["php","mvc","zend-framework"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":9434449,"title":"$k => $v not being read correctly by the view","body":"<p>I'm having some difficult with my mock data being read correctly.</p>\n\n<pre><code>if ($form-&gt;isValid($data)) {          \n    $event = new Supplychain_Model_Mapper_Batchtrack(new Supplychain_Test_Model_Mock_Batchtrack());   \n    $batchtrack = $event-&gt;uCodeSearch($data);\n    $this-&gt;view-&gt;batchtrack = $batchtrack;\n}\n</code></pre>\n\n<p>Above is controller and below is the view. </p>\n\n<pre><code>&lt;?php\n    foreach ($this-&gt;batchtrack as $k =&gt; $v) {\n        echo '&lt;tr' . ($k % 2 ? ' class=\"stripe\"' : '') . '&gt;';\n        echo '  &lt;td&gt;' . $v-&gt;getUCode() . '&lt;/td&gt;';\n        echo '&lt;/tr&gt;';\n    }\n?&gt;\n</code></pre>\n\n<p>I have included some sample dummy data from a var_dump also.</p>\n\n<pre><code>object(Supplychain_Model_Batchtrack)#129 (1) {\n    [\"_ucodes\":protected]=&gt; array(320) { \n        [1]=&gt; string(10) \"GBRAAACC01\" \n        [2]=&gt; string(10) \"GBRAAACC02\" \n        [3]=&gt; string(10) \"GBRAAACC03\" \n        [4]=&gt; string(10) \"GBRAAACC04\" \n        [5]=&gt; string(10) \"GBRAAACC05\"\n        }\n}\n</code></pre>\n\n<p>Hope someone can spot where im going wrong with this, im new to Zend so still a bit of a learning curve to its ways. Thanks.</p>\n"},{"tags":["android","ios","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":11373649,"title":"Building a cross platform online media streaming service","body":"<p>If I were to build an online media streaming service, what are my best options for the backend?</p>\n\n<p>If I need support for web clients as well as mobile applications for iOS, Android, etc.?</p>\n\n<p>I'm looking for a balance between development speed and performance.</p>\n\n<p>I have wondering whether to choose django or play! but what I don't know how I will be able to link the web client with the ios app and other clients..</p>\n"},{"tags":["php","mvc","codeigniter","hmvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":11374001,"title":"Confused whether to continue MVC or go for HMVC?","body":"<p>I am developing a social media site, something like twitter which displays user feeds on it. My site is still in the first phase of development. I am using codeigniter MVC framework for coding. I recently learned that codeigniter supports HMVC framework and its useful to create large scalable applications. I am new to the concept of HMVC and don't know much about it. My question is whether I should convert my code structure into HMVC or should I continue with MVC. I have got new features to be added later on after the first release of the site.\nCurrently I have completed with the registration and login part of the user. I have still left to code the entire application after the user logs in. \nCan anybody suggest me whether I should continue with MVC or go with HMVC and if so, what should I begin with?</p>\n"},{"tags":["sql","mvc","oop","model","dao"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":11372114,"title":"Discussion about whether or not respect OOP/MVC Data Model Design when working with SQL-Based Database","body":"<p>I'd like peoples opinion about the concept on Data Modeling Vs SQL (OOP Vs Select Statement) on the following matter:\nWhen studying MVC and OOP concepts, it's easy to see a natural form of things like in the follow:</p>\n\n<pre><code>&lt;php? | &lt;% | &lt;#\n\nClass Country{\n     _name:String;\n     _language:String;      \n}\n\nClass Estate{\n     _name:String;\n     _country:Country;\n}\n\n?&gt; | % | #&gt;\n</code></pre>\n\n<p>The point that I'm trying to get is a simple parent-child relation. Now, as I've seen working on ExtJS + PHP and JSF 2.0 (Java using Converter), it's quite common to see a DAO (Data Access Object) being defined sort of like this:</p>\n\n<pre><code>Abstract class CountryDAO{\n     public function getCountry();//This function returns an ArrayList.\n     public function getCountryById(countryId:Integer);//This function returns a Country Object;\n     ...\n}\n\nClass EstateDAO{\n     public function getEstate(){\n         $sql = \"SELECT * FROM tbl_estate\";\n         //[your favorite way to comunicate with the database here]\n         //Declare an ArrayList or something to store the result:\n         $arrayList;\n         while($result = $ResultSet.next()){\n              $obj = new Estate();\n              $obj-&gt;name = $result['name'];\n              $obj-&gt;Country = new CountryDAO().getCountryById($result['country_id']);\n              $arrayList-&gt;addItem($obj);\n         }\n     }\n}\n</code></pre>\n\n<p><em>Sorry for mixing language syntaxes, I'm trying not to get too attached to language, just the concept</em></p>\n\n<p>Now to finalize my thoughts: That is the right concept, according to theory. Personally, I don't think it's right to disagree with it since it's the logic of the thing. But as in practice, the real world don't ever shine as you want, what I see from that:</p>\n\n<p><strong>If I have 10 Estates, I'll have 11 SQL Statements being executed on a Hard Disk level (which according to Operational System's theory, it's the slowest of all sorts of stored memory).</strong></p>\n\n<p><strong>If I have 100 Estates, I'll have 101 SQL Statements being executed.</strong></p>\n\n<p><strong>If I have <em>n</em> Estates, I'll have <em>n+1</em> SQL Statements being executed.</strong></p>\n\n<p>My final point: I think that can be a real pain if you're modeling a data entity that might have thousands of records. Because of that line of thought, I refused to use this kind of design logic while working with Flex + PHP. But now that I'm trying to build an application that will have both Flex and ExtJS as viewers and PHP as Server-Side, I just wanna be sure that I'm not choosing the hardest path for insignificant reason. Is it safer not to respect this MVC/OOP logic? Am I exaggerating? What do you think about SQL Vs Data Model on OOP?</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","html","mvc","node.js"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":125,"score":1,"question_id":11351906,"title":"node.js website/app templating design","body":"<p><strong>Short Version:</strong></p>\n\n<p>Templating done completely with serving one html file and loading page-specific data using ajax/sockets, with node, what sort of performance should I expect? design-wise good or bad?</p>\n\n<p><strong>Long Version</strong></p>\n\n<p>I'm currently in the process of learning to code better node. I'm a long time javascript fan and I'm currently trying to figure out good/bad practices in node.js</p>\n\n<p>I'm thinking about templating, I'm struggling with how to seperate what I'm presenting from what I'm storing. I'm reading a lot of MVC articles and I really want to seperate the view logic without having messy code.</p>\n\n<p><strong>My Question is:</strong></p>\n\n<p>Let's say I have a website, it contains several files represent 'screens' the users see, let's say in this basic example the users should be able to see: <code>Index, About, Contact, Portfolio</code>.</p>\n\n<p>Now I need these pages to load dynamically, meaning I don't want to have to update the template for each of these files every time but they all look very similar.</p>\n\n<p>Since node is completely based on async operations - how good/bad would it be to just deliver the same .html page for all of them, and then load all the data from the server based on which page I'm on using AJAX / web sockets ? </p>\n\n<p>(naively, loop through all the sections with name='view' and fetch content by id or something similar)</p>\n\n<p>This, I feel would provide async loading of the page, and completely decouple the site layout from the rest of the site. This feels very node to me, no blocking, everything async. I'm looking for opinions from experienced developers regarding the subject.</p>\n\n<p>Also, any tips related to building a site using node.js are appreciated. I come from a PHP background and I really want to avoid stuff similar to webmatrix when designing.</p>\n"},{"tags":["php","mvc","oop","orm"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":226,"score":1,"question_id":10940265,"title":"Best way to handle dirty state in an ORM model","body":"<p>I don't want anyone saying <em>\"you should not reinvent the wheel, use an open source ORM\"</em>; I have an immediate requirement and cannot switch.</p>\n\n<p>I'm doing a little ORM, that supports caching. Even not supporting caching, I would need this feature anyways, to know when to write an object to storage or not. The pattern is DataMapper.</p>\n\n<p>Here is my approach:</p>\n\n<ul>\n<li>I want to avoid runtime introspection (i.e. guessing attributes).</li>\n<li>I don't want to use a CLI code generator to generate getters and setters (really I use the NetBeans one, using ALT+INSERT).</li>\n<li>I want the model to be the closest to a POPO (plain old PHP object). I mean: private attributes, \"hardcoded\" getters and setters for each attribute.</li>\n</ul>\n\n<p>I have an Abstract class called <code>AbstractModel</code> that all the models inherit. It has a public method called <code>isDirty()</code> with a private (can be protected too, if needed) attribute called is_dirty. It must return true or false depending if there is a change on the object data or not since it was loaded.</p>\n\n<p><strong>The issue is:</strong> is there a way to raise the internal flag <code>\"is_dirty\"</code> without coding in each setter <code>$this-&gt;is_dirty = true</code>? I mean: I want to have the setters as <code>$this-&gt;attr = $value</code> most of the time, except a code change is needed for business logic.</p>\n\n<p>Other limitation is that I cannot rely on <code>__set</code> because on the concrete model class the attributes already exists as private, so <code>__set</code> is never called on the setters.</p>\n\n<p>Any ideas? Code examples from others ORMs are accepted.</p>\n\n<p>One of my ideas was to modify the NetBeans setters template, but I think there should be a way of doing this without relying on the IDE.</p>\n\n<p>Another thought I had was creating the setters and then change the private attribute's name with an underscore or something. This way the setter would call to <code>__set</code> and have some code there to deal with the <code>\"is_dirty\"</code> flag, but this breaks the POPO concept a little, and it's ugly.</p>\n"},{"tags":["php","apache","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":11365887,"title":"How do php frameworks protect action script/dataservice files?","body":"<p>I'm wondering how frameworks keep a user from directly accessing the action / dataservice script.</p>\n\n<p>For example we go to <code>www.test.com/test.html</code> template <code>test.html</code> invokes <strong><code>test_action.php</code></strong>. What is stopping a user from going to the directory where this action script lives directly?</p>\n\n<p>Such as <code>www.test.com/index/actions/test_action.php</code></p>\n\n<p>How are server permissions configured, so that <strong><code>test_action.php</code></strong> is accessed only through <code>test.html</code>.</p>\n\n<ul>\n<li>in the case where I am stuck in doc-root on a shared hosting server</li>\n<li>in the case where I'm running the show ~ I.E. my apache server</li>\n</ul>\n"},{"tags":["java","mvc","servlets"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":11368078,"title":"Java Servlets, how to keep request attribute alive across several forwards?","body":"<p>I have a home-grown MVC implementation.  A ControllerServlet like so:</p>\n\n<pre><code>/controller?cmd=EditUser&amp;userid=55\n</code></pre>\n\n<p>From this URL, the controller creates a <code>EditUserCommand.class</code> instance and calls an <code>execute()</code> method which returns the result page (ex. <code>user.jsp</code>) to display.</p>\n\n<p>The controller servlet then does a ...</p>\n\n<pre><code>getRequestDispatcher(resultPage).forward(request, response);\n</code></pre>\n\n<p>... and the resulting page is shown.</p>\n\n<p>One of the things the controller does is set messages (error, info, and so on) as request attribtues.  For example:</p>\n\n<pre><code>request.setAttribute(\"infoMessage\", \"User was edited successfully.\");\n</code></pre>\n\n<p>And that message gets pulled out of the request in the <code>user.jsp</code> page and displayed.</p>\n\n<p>Works fine.</p>\n\n<p>Now here comes my problem.</p>\n\n<p>Sometimes my commands don't return a page like <code>user.jsp</code> but return a URL like <code>cmd=ShowUser&amp;userid=55</code> for the result.  This is because there might be things I want to check before displaying the final page, like permission to view the user and so on.</p>\n\n<p>When I do this the \"infoMessage\" I placed in the request never appears because the result is a URL that makes a new call to the servlet, which is a new request.  The new request doesn't maintain the request attributes from the first request; which makes sense, I just didn't forsee this happening.</p>\n\n<p>How can I make my request variable \"stay alive\" until it's actually displayed on the final page that results from the original request?</p>\n\n<p>Any suggestions or advice are appreciated.  Just FYI, I can't re-write the entire app to go to something like Struts, Spring MVC, of JSF.  It's not an option.</p>\n\n<p>Thanks!</p>\n\n<p>Rob   </p>\n"},{"tags":["asp.net","asp.net-mvc","mvc","asp.net-mvc-routing","asp.net-mvc-areas"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1515,"score":2,"question_id":4861702,"title":"Does ASP.NET MVC create default routes for areas","body":"<p>I have a couple of areas in my MVC 3 application Auth and Users. I am using <a href=\"http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx\" rel=\"nofollow\">Phil Haacks Route Debugging tool</a> to view a list of my routes and see which one gets selected based on my url.</p>\n\n<p>However there are a couple of routes present that I have not created in either my AreaRegistration file or Globalasax and I don’t know where they have come from or how to get rid of them. The routes are highlighted in yellow below.</p>\n\n<p>You can also see that I have created a default route in my Auth area (highlighted in green) which simply points to the Login action of my Auth controller. I have debugged the RouteTable and it gets added when the AreaRegistration.RegisterAllAreas(); method is called. However it does not get added in the AreaRegistration as have stepped through this also.</p>\n\n<p>Does ASP.NET MVC add this as a default and if so can I remove it somehow?</p>\n\n<p><img src=\"http://i.stack.imgur.com/RX50b.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[".net","javascript","asp.net-mvc","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1682,"score":1,"question_id":561533,"title":"JavaScriptResult in asp.net mvc RC1","body":"<p>Why do you need <a href=\"http://msdn.microsoft.com/en-us/library/system.web.mvc.javascriptresult.aspx\" rel=\"nofollow\"><code>JavaScriptResult</code></a> as a response?<br>\nDoesn’t it break the pattern of clean separation of concerns? Can you suggest me some cases where this will be useful?</p>\n"},{"tags":["php","mvc","cakephp","authorization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":11324158,"title":"CakePHP/MVC Admin functions placement","body":"<p>This is a question more for opinions rather than for a solution to a specific problem.</p>\n\n<p>I am working with CakePHP for the first time and am working on the admin part of the site now.</p>\n\n<p>Where do you, as an MVC or CakePHP developer like to put your admin functions? </p>\n\n<p>Initially I was putting them in an AdminController, but have since changed to putting the functions in a controller that is meant for the type of data being manipulated. For example, I put the user listings/editing in the UserController.</p>\n\n<p>To me this makes more sense since there is likely to be functionality in the UserController that may be useful.</p>\n\n<p>If you leave a response, could you please leave a few words saying why? Perhaps it is a moot point.</p>\n\n<p>take care,\nlee</p>\n\n<p>-- Edit</p>\n\n<pre><code>if ($this-&gt;Auth-&gt;user('user_type') == 1){//double-check the user is Admin\n            $this-&gt;Auth-&gt;allow('display');\n            $this-&gt;Auth-&gt;allow('watch');\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":237,"score":0,"question_id":11360704,"title":"undefined method 'model_name' for NilClass:Class","body":"<p>the browser returned me the following error in Locals#show:</p>\n\n<p>undefined method 'model_name' for NilClass:Class</p>\n\n<pre><code>51: &lt;%= form_for(@food) do |f| %&gt;\n52:   &lt;%= render 'shared/error_messages', object: f.object %&gt;\n53:   &lt;div class=\"field\"&gt;\n54:     &lt;%= f.label :nome %&gt;\n</code></pre>\n\n<p>Here is my locals_controller.rb (the show action)</p>\n\n<pre><code> def show\n   @local = Local.find(params[:id])\n   @foods = @local.foods.paginate(page: params[:page])\n   respond_to do |format|\n   format.html # show.html.erb\n   format.json { render json: @local }\nend\n</code></pre>\n\n<p>end</p>\n\n<p>And here foods_controller.rb (the create action)</p>\n\n<pre><code>def create\n@food = @local.foods.build(params[:food])\nif @food.save\n  flash[:success] = \"Food created!\"\n  redirect_to '/locals'\nelse\n  flash[:error] = \"Error on creating food\"\n  render '/locals'\nend\nend\n</code></pre>\n\n<p>Food model and Local model are related with :has_many and belongs_to</p>\n\n<p>What's the issue? Thank you</p>\n"},{"tags":["mvc","extjs","grid","instance"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":409,"score":1,"question_id":8358960,"title":"Ext JS 4 - how to create multiple store instances and assign to views? (MVC)","body":"<p>How do you create unique instances of stores and assign them to views (I am ok with creating unique views and/or controllers if that's required)?</p>\n\n<p>A simple use case - I want to open multiple grid's (of the same type) with a list of records from a store in each.   Each grid would need to have it's own store instance, because it could have it's own list of records, it's own filtering, etc. etc.</p>\n\n<p>I tried this, but it does not work, my grids do not draw:</p>\n\n<pre><code> var theView = Ext.create('App.view.encounter.List');\n    theView.title = 'WORC Encounters';\n    var theStore=Ext.create('App.store.Encounters');\n    theView.store=theStore;\n    tabhost.add({title:'WORC',items:theView});\n\n    var theView = Ext.create('App.view.encounter.List');\n    theView.title = 'NC Encounters';\n    var theStore2=Ext.create('App.store.Encounters');\n    theView.store=theStore2;\n    tabhost.add({title:'NC',items:theView});\n</code></pre>\n"},{"tags":["iphone","objective-c","ios","mvc","networking"],"answer_count":1,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":229,"score":4,"question_id":9955041,"title":"iPhone - Architecture for viewController and network requests","body":"<p>So, I have 2 types of data, some needs to be persisted and some doesn't.</p>\n\n<p>I'm thinking about where to put all my network related code, inside my UIViewControllers, where all the network request start from, or in a another layer.</p>\n\n<p>What I had in mind is this:</p>\n\n<p>Have a layer called <code>NetworkManager</code>.\n<code>NetworkManager</code> is singerlton to all my web service calls.</p>\n\n<p>For data that needs to be persistent and can be presented in a list, I would have network manager issues the request, save the response in my local core data DB, and have my <code>UIViewController</code> listen to that data using <code>FetchResultsController</code>.</p>\n\n<p>But, there's many other types of requests. For example : login request, user info request, friendsNearBy, and so on… some don't have to be persistent in my db, and some don't fit the FRC architecture.</p>\n\n<p>For these type of request, as far as I see, there are 2 ways of handling it:</p>\n\n<p><strong>1.</strong> Have another layer that separates between the ViewControllers and the NetworkManager.\n    Let's call it <code>Mediator</code>. The <code>Mediator</code> gets the dictionary(JSON) request from the networkManager,   decides according to the app logic if there's anything else needs to be done with it, and then post a notification with appropriate name and data. If the mediator saves the UIViewController who issued the request, it can delegate the response directly to him instead of posting a notification.</p>\n\n<p>The Flow would be like this:</p>\n\n<pre><code>MyUiViewController - &gt; Mediator -&gt; NetworkManger-&gt;Mediator-&gt; PostNotification (or directly back to MyUiViewController)\n\nPros:\nDecoupling\nNice structure and separation of concerns\n\nCons:\nHarder to code\nSometimes harder to understand and debug.\n</code></pre>\n\n<p><strong>2.</strong> Not having this 3 layered architecture, but instead having MyUiViewControllers, issue a network request with blocks. Meaning instead of the Mediator intercepting the response before MyUiViewController, just let MyUiViewController handle the response using blocks as he is the one that issues it.</p>\n\n<pre><code>Pros:\nSimple and quick to code\nEasy to understand\n\nCons:\nCoupling of network code inside your controllers\n</code></pre>\n\n<p><em>I was hoping to get suggestions and comments about what's best from people's experience, or other/better way of doing this.</em></p>\n"},{"tags":["ruby-on-rails","image","mvc","paperclip","partial"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":11299148,"title":"Multiple images per record. How to show just one on index partial?","body":"<p>I have an app which shows mugs (for drinking), each mug can have many photos. </p>\n\n<p>The mugs are displayed as partials on the index page and when clicked the user gets taken to the mugs show page and they can see all the photos added.</p>\n\n<p>How can I go about using one of the photos to display on the mugs partial? I'm thinking either the first uploaded or a way of selecting an uploaded photo to be used on the partial.</p>\n\n<p><b>mug show.html.erb</b></p>\n\n<pre><code>&lt;% if @mug.mugphotos.count.zero? %&gt;\n  &lt;div class=\"no_photos\"&gt;\n    None added yet.\n  &lt;/div&gt;\n&lt;% else %&gt;  \n  &lt;% for mugphoto in @mug.mugphotos %&gt;\n    &lt;%= link_to image_tag(mugphoto.mugphoto.url(:thumb), :class =&gt; \"mug_photo\"), mugphoto.mugphoto.url(:large) %&gt;\n  &lt;% end %&gt;  \n&lt;% end %&gt;\n</code></pre>\n\n<p><b>mug partial</b></p>\n\n<pre><code>&lt;%= link_to mug do %&gt;\n  &lt;div class=\"mug_partial\"&gt;\n\n    &lt;div class=\"mug_partial_photo\"&gt;\n    &lt;/div&gt;\n\n    &lt;span class=\"mug_partial_name\"&gt;&lt;%= mug.name %&gt;&lt;/span&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["c#","mvc","c#-4.0","asp.net-mvc-3"],"answer_count":5,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":11368,"score":7,"question_id":5128009,"title":"MVC 3 Area route not working","body":"<p>I created a Area in my MVC 3 application called 'Blog'.</p>\n\n<p>In global.asax I have the following code.</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        routes.MapRoute(\n            \"Default\", // Route name\n            \"{controller}/{action}/{id}\", // URL with parameters\n            new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional } // Parameter defaults\n        );\n    }\n\n    protected void Application_Start()\n    {\n        AreaRegistration.RegisterAllAreas();\n\n        RegisterGlobalFilters(GlobalFilters.Filters);\n        RegisterRoutes(RouteTable.Routes);\n\n    }\n</code></pre>\n\n<p>This is the code of my Area</p>\n\n<pre><code>public class BlogAreaRegistration : AreaRegistration\n{\n    public override string AreaName\n    {\n        get { return \"Blog\"; }\n    }\n\n    public override void RegisterArea(AreaRegistrationContext context)\n    {\n        context.MapRoute(\n            \"Blog_default\",\n            \"Blog/{controller}/{action}/{id}\",\n            new { action = \"Index\", id = UrlParameter.Optional }\n        );\n    }\n}\n</code></pre>\n\n<p>When I go to the following url <a href=\"http://localhost/CMS/blog\">http://localhost/CMS/blog</a> I get the following error.</p>\n\n<blockquote>\n  <p>The view 'Index' or its master was not found or no view engine supports the searched locations. The following locations were searched:\n  ~/Views/blog/Index.aspx\n  ~/Views/blog/Index.ascx\n  ~/Views/Shared/Index.aspx\n  ~/Views/Shared/Index.ascx\n  ~/Views/blog/Index.cshtml\n  ~/Views/blog/Index.vbhtml\n  ~/Views/Shared/Index.cshtml\n  ~/Views/Shared/Index.vbhtml</p>\n</blockquote>\n\n<p>How do I solve this?</p>\n"}]}
