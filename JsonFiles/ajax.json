{"total":48691,"page":1,"pagesize":100,"questions":[{"tags":["php","javascript","ajax","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13238038,"title":"debugging failed ajax POST call, type is pending","body":"<p>I have a javascript file that generates some JSON and makes an AJAX call to a php file that writes and creates the JSON file.  Everything has been working well until I started generating pretty big JSON files.  Currently, I have a 9mb json file and I know it is structured correctly because when I print it out using console.log and manually put into a file, it works.  </p>\n\n<p>However, the Ajax call fails to succeed.  I have tried a normal XHR call and jQuery Ajax, both fail and do not provide much information.  I tried in Chrome and Firefox.  Looking at Developer Tools, the status text says (failed) and type says pending.  No status code appears and all I have is statusText: \"error\" in Ajax error callback.  I tried messing around with timeout and synchronous calls but nothing seems to work/</p>\n\n<p>Any ideas on how I can debug further?</p>\n\n<p><strong>Code Sample</strong></p>\n\n<pre><code>var name = \"test.json\";\nvar json = '{\n    \"type\": \"FeatureCollection\",\n    \"bbox\": [\n        1.4137153625488281,\n        42.4288330078125,\n        1.7842082977294922,\n        42.652313232421875\n    ],\n    \"features\": [\n        {\n            \"type\": \"Feature\",\n            \"bbox\": [\n                1.4137153625488281,\n                42.4288330078125,\n                1.7842082977294922,\n                42.652313232421875\n            ],\n            \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            1.5753068923950195,\n                            42.6473388671875\n                        ],\n                        [\n                            1.5828666687011719,\n                            42.63543701171875\n                        ],\n                        [\n                            1.5753068923950195,\n                            42.6473388671875\n                        ]\n                    ]\n                ]\n            },\n            \"properties\": {\n                \"ID_0\": \"6\",\n                \"ISO\": \"AND\",\n                \"NAME_ENGLI\": \"Andorra\",\n                \"NAME_OBSOL\": \"\"\n            }\n        }\n    ]\n}';\n\n\n\n$.ajax({\n        type:\"POST\",\n        url:\"log.php\",\n        data: { data: json, file: name },\n        dataType: \"json\",\n        success:function(response) {\n            console.log(response);\n        },\n        error:function(error) {\n            console.log(error);\n        }\n});\n</code></pre>\n\n<p>This is log.php:</p>\n\n<pre><code>if (isset($_POST['file'])) {\n$file = $_POST['file'];\n$data = str_replace(\"\\\\\", \"\", $_POST['data']);\n\nfile_put_contents($file, $data);\nexit();\n}\n</code></pre>\n\n<p><strong>My main question is this, when AJAX fails, how do you debug better?</strong> My error callback here does not provide any good information.  I tried looking at net-internals in chrome but I can't find much there.  Any ideas?</p>\n\n<p>Perhaps this is a Server Side problem.  When I look at Chrome net-internals I see that processing a smaller JSON (length = 121664) makes a successful POST request and net-internals show HTTP_TRANSACTION_READ_RESPONSE_HEADERS but the large JSON (length = 7036490) give me --> net_error = -324 (ERR_EMPTY_RESPONSE) instead of response headers.  I did not see a timeout information in the phpinfo though...</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":5,"favorite_count":8,"up_vote_count":18,"down_vote_count":0,"view_count":8307,"score":18,"question_id":2238030,"title":"Trigger $document.ready (so AJAX code I can't modify is executed)","body":"<p>My requirements are the following:</p>\n\n<ul>\n<li>I've got a rich webpage that at a certain moment loads a bunch of HTML in a <code>div</code>, via AJAX.</li>\n<li>The HTML I retrieve does have javascript (<code>&lt;script&gt;...&lt;/script&gt;</code>)</li>\n<li>The retrieved javascript contains <code>$('document').ready( ... )</code> parts</li>\n<li>I <strong>can not</strong> modify the retrieved javascript; it comes from an external lib</li>\n<li><p>I've got a javascript function that is called when the AJAX is loaded. I'm trying to \"trick it\" into executing by doing:</p>\n\n<pre><code>function AjaxLoaded() {\n  $('document').trigger('ready');\n}\n</code></pre></li>\n</ul>\n\n<p>That doesn't cut it, I'm afraid.</p>\n\n<p>I've seen <a href=\"http://stackoverflow.com/questions/562229/how-to-trigger-ready-in-jquery\">several</a> <a href=\"http://stackoverflow.com/questions/2200540/document-ready-not-executed-for-ajax-loaded-content\">responses</a> on Stack Overflow that \"evade\" this question by changing the code that is returned on the AJAX (make it a function and call it after loading, or just remove the <code>$(document).ready()</code>). I need to stress out that I can't change the retrieved code on this case.</p>\n"},{"tags":["jquery","ajax","events","browser","xmlhttprequest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13296750,"title":"How does XMLHttpRequest behave onClose of browser?","body":"<p>What can I expect if I initiate an XMLHttpRequest when the onClose event of the tab or browser   window is fired? What happens if the XMLHttpRequest takes too long? Will the request be aborted or cut short as the window closes? Is there a guarantee that the request will be allowed to run it's natural course (and terminate with time out, 200, 303, 404 or 500)?</p>\n\n<p>Will using jQuery make any difference?</p>\n\n<p>I am unable simulate a slow connection to test this out on a browser.</p>\n"},{"tags":["php","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":28,"score":-4,"question_id":13298167,"title":"php error message: Warning: mysql_num_rows() expects parameter 1 to be resource, boolean","body":"<p>I'm trying to get this php page of an AJAX function to work. </p>\n\n<p>Here is the error message when I try to run it:</p>\n\n<pre><code>Warning: mysql_num_rows() expects parameter 1 to be resource, boolean given in /home/ftpbpan/public_html/ThornAJAX/info.php on line 10\n</code></pre>\n\n<p>Line 10 being:</p>\n\n<pre><code>**$num_rows = mysql_num_rows($query);**\n\n&lt;?php\n$connect = mysql_connect(\"localhost\",\"****\",\"******\") or die(\"didnot connect to database\");\n\nmysql_select_db(\"people\"); \n\nif(strlen($_GET['user']) &gt;0){\n$name = $_GET['user'];\n$query = mysql_query(\"select * from info where name='$name' limit 1\");\n$num_rows = mysql_num_rows($query);\n\nif($num_rows == 1) {\n  $row = mysql_fetch_assoc($query);\n</code></pre>\n"},{"tags":["jquery","html","xml","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13298035,"title":"reading from xml and json using ajax jquery","body":"<p>i'm trying to read data from xml and json files those files are on the same folder as the html they called show.xml and followers.json \nthen post the data inside existing div tags by sing their ids\nfirst function want it to works when the doc is read and the other when clicked\nit makes no out put it print the html only</p>\n\n<p>this is my html</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;\n                Shaden Al Omran - 430201246 - MS2\n            &lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;div id=\"content_area\" &gt;\n            &lt;div class=\"profile_imge\"&gt;\n\n            &lt;/div&gt;\n            &lt;div id=\"name\"&gt;\n\n            &lt;/div&gt;\n            &lt;br/&gt;\n            &lt;div id=\"bio\"&gt;\n\n            &lt;/div&gt;\n            &lt;p id=\"click_here\"&gt;Click here to view my twitter followers&lt;/p&gt;\n            &lt;div id=\"followers\"&gt;\n\n            &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/body&gt;\n        &lt;style&gt;\n            @font-face {\n    font-family: my_font;\n    src: url('channel.ttf');\n}\n            .profile_imge img {\n               -moz-box-shadow: 5px 5px 7px #888;\n               -moz-border-radius: 15px;\n               -webkit-box-shadow: 5px 5px 7px #888;\n               -webkit-border-radius: 15px;\n               shadow: 5px 5px 7px #888;\n               border-radius:15px;\n               border: solid;\n               border-color: #DCDCDC;\n            }\n            #name{\n                font-family: my_font; src: url('channel.ttf');\n                font-size: x-large;\n            }\n            #followers img{\n                -moz-border-radius: 15px;\n                -webkit-border-radius: 15px;\n                border-radius:15px;\n            }\n            #content_area {\n                width: 700px ;\n                margin-left: auto ;\n                margin-right: auto ;\n                text-align: center;\n            }\n\n        &lt;/style&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            $(document).ready(function(){\n                $.ajax({\n                   url: \"show.xml\",\n                   dataType: \"xml\",\n                   success: function(xml) {\n                              var name = $(this).find('name').text();\n                              var bio = $(this).find('description').text();\n                              var imge_url = $(this).find('profile_image_url').text();\n                              $(\"div .profile_imge\").append(imge_url);\n                              $(\"#name\").append(name);\n                              $(\"#bio\").append(bio);\n                       }\n            }) ;\n            });\n                $(\"#click_here\").click(function() {\n                    $.ajax({\n                   url: \"followers.json\",\n                   dataType: \"json\",\n                   success: function(json) {\n                              json.id.each(function(){\n                             var imge_url = $(this).find('profile_image_url').text();\n                              $(\"#followers\").append(imge_url);}) ;\n                       }\n            }) ;\n                });\n        &lt;/script&gt;\n\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","extjs","xmlhttprequest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13297709,"title":"ExtJS 4.1 - Handling XHR's in Sequence without using Synchronous Requests","body":"<p>My application is backed by a complex database architecture, heavy in foreign key restraints which result in my JavaScript being riddled with <code>callback</code> handlers. For a single action, such as creating a new order, there may be as many as three XHR's required to submit all the necessary data for processing.</p>\n\n<p>Currently, I am handling this in what I feel is a rather ungraceful or at the very least, a bit sloppy means...</p>\n\n<pre><code>/** -- PSEUDO CODE -- */\nmyOrder.save({\n    success: function()\n    {\n         /** This request handled inserting the main attributes of the model\n             into the database, which means it is safe to fire off additional\n             requests */\n         myOrderContents.store.sync({\n                success: function()\n                {\n                    /** Possibly fire another request here, that is dependent on\n                        the first two requests returning successfully, or maybe\n                        execute code that is also dependent on these requests.\n                      */\n                }\n         });\n    },\n    failure: function()\n    {\n    /** Handle Failure Here */\n    }\n});\n</code></pre>\n\n<p>I realize another viable approach would be something along the lines of all requests calling one callback method, which would then only execute a certain chunk of code....</p>\n\n<pre><code>myOrder.save({callback: executeAfterRequests});\nmyOrderContents.store.sync({callback: executeAfterRequests});\nmyOtherObject.save({callback: executeAfterRequests});\n\nexecuteAfterRequests: function()\n{\n    if(requestA.isComplete() &amp;&amp; requestB.isComplete() &amp;&amp; requestC.isComplete())\n    {\n    /** Execute some code after all requests have been completed... */\n    }\n}\n</code></pre>\n\n<p>Given that ExtJS dev's are strongly opposed to synchronous request, is my best bet here to extend the base AJAX class and implement a Queue? Or, accept the nature of AJAX and continue on my merry way with nested <code>success</code> functionality?</p>\n\n<p>Thank you for your input.</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13293617,"title":"Why is my AJAX function calling the callback multiple times?","body":"<p>I've mad an ajax post function, and when I call it once, the callback function that is passed to it ends up getting called 3 times.  <strong>Why is the callback being called multiple times?</strong></p>\n\n<p>I'm attempting to use a \"module\" javascript pattern that uses closures to wrap like functionality under one global variable.  My ajax module is its own file, and looks like this:</p>\n\n<pre><code>var ajax = (function (XMLHttpRequest) {\n    \"use strict\";\n\n    var done = 4, ok = 200;\n\n    function post(url, parameters, callback) {\n\n        var XHR = new XMLHttpRequest();\n\n        if (parameters === false || parameters === null || parameters === undefined) {\n            parameters = \"\";\n        }\n\n        XHR.open(\"post\", url, true);\n        XHR.setRequestHeader(\"content-type\", \"application/x-www-form-urlencoded\");\n        XHR.onreadystatechange = function () {\n            if (XHR.readyState === done &amp;&amp; XHR.status === ok) {\n                callback(XHR.responseText);\n            }\n        };\n        XHR.send(parameters);\n    }\n\n    // Return the function/variable names available outside of the module.\n    // Right now, all I have is the ajax post function.\n    return {\n        post: post\n    };\n\n}(parent.XMLHttpRequest));\n</code></pre>\n\n<p>The main application is also it's own file.  It, as an example, looks like this:</p>\n\n<pre><code>// Start point for program execution.\n\n(function (window, document, ajax) {\n    \"use strict\";\n\n    ajax.post(\"php/paths.php\", null, function () { window.alert(\"1\"); });\n\n}(this, this.document, parent.ajax));\n</code></pre>\n\n<p>As you can see, I'm trying to bring in dependencies as local variables/namespaces.  When this runs, it pops up the alert box 3 times.</p>\n\n<p>I'm not sure if this problem is due to the ajax function itself or the overall architecture (or both), so I'd appreciate comments or thoughts on either.</p>\n\n<p>I've tried un-wrapping the main part of the program from the anonymous function, but that didn't help.  Thanks in advance! </p>\n\n<p><em><strong>EDIT:</em></strong>\nHere's the entire HTML file, so you can see the order I include the <code>&lt;script&gt;</code>'s in.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\" /&gt;\n    &lt;meta http-equiv=\"expires\" conent=\"0\" /&gt;\n    &lt;title&gt;Mapalicious&lt;/title&gt;\n    &lt;link href=\"css/main.css\" type=\"text/css\" rel=\"stylesheet\" /&gt;\n    &lt;script src=\"js/raphael.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n    &lt;script src=\"js/promise.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/bigmap.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/ajax.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/init.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><em><strong>EDIT 2:</em></strong></p>\n\n<p>I had a typo in my example, and changed</p>\n\n<pre><code>(function (window, document, bigmap, ajax) {\n</code></pre>\n\n<p>to</p>\n\n<pre><code>(function (window, document, ajax) {\n</code></pre>\n\n<p><em><strong>EDIT 3:</em></strong></p>\n\n<p>I've changed the <code>onreadystatechange</code> function to log the ready state to the console:</p>\n\n<pre><code>XHR.onreadystatechange = function () {\n    console.log(\"readyState: \" + XHR.readyState);\n    if (XHR.readyState === done &amp;&amp; XHR.status === ok) {\n        callback(XHR.responseText);\n    }\n};\n</code></pre>\n\n<p>When I step through the code in Google Chrome, the callback is called three times, and the console logs:</p>\n\n<pre><code>readyState: 4\nreadyState: 4\nreadyState: 4\n</code></pre>\n\n<p>However, when I run the page as normal and don't step through it, the function works as expected and only runs the callback once.  In this case, the console logs:</p>\n\n<pre><code>readyState: 2\nreadyState: 3\nreadyState: 3\nreadyState: 4\n</code></pre>\n\n<p>So now my question is, <strong>why is the callback called multiple times when stepping through code?</strong></p>\n\n<p><strong>SOLVED:</strong></p>\n\n<p>When I asked this question, I didn't realize that <em>it was only happening when I was stepping through the code while debugging</em>.</p>\n\n<p><strong>So</strong>, the state changed 3 times, but execution has been delayed by the break-point, so all 3 <code>onreadystatechange</code> functions see the current state of 4, instead of what the state <em>was</em> when the change actually occurred.</p>\n\n<p>The takeaway is that <code>onreadystatechange</code> change does not store what that state is.  Instead, it reads the <code>readyState</code> <em>at the time its executed,</em> even if the program gets interrupted, and the state changes again in the mean time.</p>\n\n<p>Therefore, AJAX requires different debugging techniques than you use with completely synchronous code... but you probably already knew that.</p>\n\n<p><strong>Thanks to everyone who helped out here.</strong></p>\n"},{"tags":["javascript","asp.net","ajax","webforms","error-handling"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":818,"score":0,"question_id":6539940,"title":"How to get real exception message when using UpdatePanel?","body":"<p>I'm not seeing the real error in my custom error page when using an UpdatePanel. In my Global.asax I have the following code:</p>\n\n<pre><code>Sub Application_Error(ByVal sender As Object, ByVal e As EventArgs)\n\n    'Get the exception\n    Dim lastError = Server.GetLastError()\n    If lastError IsNot Nothing Then\n        Dim ex As Exception = lastError.GetBaseException()\n        If ex IsNot Nothing Then\n            'Log the error\n            If Log.IsErrorEnabled Then\n                log4net.ThreadContext.Properties(\"method\") = ex.TargetSite.Name\n                log4net.ThreadContext.Properties(\"userId\") = User.Current.UserName\n                Log.Error(ex.Message, ex)\n            End If\n        End If\n    End If\n\nEnd Sub\n</code></pre>\n\n<p>If I review the log or set a breakpoint I can see that I'm getting a timeout issue. Then I have the following code to send the user to the error page and display the error:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n    function EndRequestHandler(sender, args) {\n        if (args.get_error() != undefined) {\n            // Let the framework know that the error is handled,\n            //  so it doesn't throw the JavaScript alert.\n            args.set_errorHandled(true);\n\n            var errorMessage = args.get_error().message.replace(/&lt;/gi, \"&amp;lt;\").replace(/&gt;/gi, \"&amp;gt;\");\n\n            // If there is, show the custom error.\n            window.location = _root + 'ShowError.aspx?error=' + encodeURI(errorMessage)\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>But the error I'm getting from args.get_error() is this instead:</p>\n\n<blockquote>\n  <p>Sys.WebForms.PageRequestManagerServerErrorException:\n  An unknown error occurred while\n  processing the request on the server.\n  The status code returned from the\n  server was: 500</p>\n</blockquote>\n\n<p>What do I have to do to get the timeout error to the error page?</p>\n"},{"tags":["jquery","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12321849,"title":"is there a jquery ajax function that will call while it is waiting for error, success, or done?","body":"<p>I was going to call an ajax funciton, and was looking through the api.  I was curious if there is a function that can be carried out while waiting for the success, error, done, etc to be be called.</p>\n\n<p>I was hoping there was something like :</p>\n\n<p>$.ajax({\n...,\nwaiting: function(){\n   //carry out some code\n}\n});</p>\n\n<p>If it isnt in there already, it really should.  Its not as smart in my mind to have to carry that stuff before the ajax function was called...  </p>\n\n<p>waiting could easily carry out something such as displaying a loading gif or something like that.</p>\n\n<p>Is there anything out there that does this sort of functionality?  I cant seem to find it.</p>\n"},{"tags":["asp.net","ajax","vb.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13296561,"title":"Is it possible to update text of a label object while ajax is still loading in vb.net?","body":"<p>Basically I what to track the progress of a function that is being looped. The function is called by Ajax.</p>\n\n<p>For example, I have a update panel:</p>\n\n<pre><code>&lt;form runat=\"server\"&gt;\n&lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\"&gt;\n&lt;/asp:ScriptManager&gt; \n\n&lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\" ChildrenAsTriggers=\"True\" UpdateMode=\"Always\"&gt;\n\n&lt;ContentTemplate&gt; \n\n&lt;div&gt;\n&lt;asp:Label ID=\"testing\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n&lt;/div&gt;          \n\n&lt;/ContentTemplate&gt; \n&lt;Triggers&gt;\n\n&lt;asp:AsyncPostBackTrigger ControlID=\"myButton\" EventName=\"Click\"/&gt;\n&lt;/Triggers&gt;\n&lt;/asp:UpdatePanel&gt;\n\n&lt;div style=\"display:none;\"&gt;\n&lt;asp:Button ID=\"myButton\" Text=\"SomeFunction\" OnClick=\"myFunc\" runat=\"server\"&gt;\n/asp:Button&gt;\n&lt;/div&gt;\n\n...\n&lt;/form&gt;\n</code></pre>\n\n<p>Let's say my function in code behind is:</p>\n\n<pre><code>Protected Sub myFunc\n\n  Dim i As Integer\n\n    For = 0 to 1000\n\n      'Some other function here consumes time\n\n      testing.text = i.ToString\n\n    Next\n\nEnd Sub\n</code></pre>\n\n<p>Understanding that Response.write does not mix with ajax, so I want to update the text using a label object and track the progress of the loop of the function.</p>\n\n<p>However, seems that the text won't be updated until the ajax call finishes completely, it will only change to the very last number of the loop.</p>\n\n<p>My question is, is there any way that I could let the text object keep changing at real time while the loop function is still running on the server side?</p>\n\n<p>Thanks!</p>\n"},{"tags":["ajax","zend-framework","context-switch"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":13297562,"title":"Zend Context Switch with Layout","body":"<p>I'm using context switching within Zend to display HTML via XHR in a dialog.</p>\n\n<p>Throughout my application I load CSS/ script files based on the module/ controller I am in; an example being while in the View controller of the User module, my application would load the css/user/view.css script.</p>\n\n<p>However, since I am using context switches, my metahead (part of my layout) is not rendering (for obvious reasons), so only the styles of the current page from which the XHR request was made from are available.</p>\n\n<p>Is there a nice, clean way I can pull in styles for the module/controller on the XHR end-point?</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","asp.net","ajax","asp-classic"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13297368,"title":"How to use response.redirect in <asp:button> with ajax, if i want to use class name ajax like in link (<a>)?","body":"<p>My code is here:</p>\n\n<p>ajax.js</p>\n\n<pre><code>$(document).ready(function(){\n$('a.ajax').live('click', function(){\n    var link = $(this).attr('href');\n    $('#contents').html('&lt;div style=\"background: #000;\"&gt;&lt;center&gt;&lt;br&gt;&lt;img src=\"http://www.website.com/img/ajax-loader.gif\" /&gt;&lt;br&gt;&lt;br&gt;&lt;/center&gt;&lt;/div&gt;');\n    $('#contents').load(link + ' .fill-1', function(){\n        if($('#contents').html() == \"\"){\n            $('#contents').html('&lt;div style=\"background: #000; color: #fff;\"&gt;&lt;center&gt;&lt;br&gt;The link could not be found.&lt;br&gt;&lt;br&gt;&lt;/center&gt;&lt;/div&gt;');\n        }\n    });\n    return(false);\n})\n})\n</code></pre>\n\n<p>register.aspx</p>\n\n<pre><code>&lt;script runat=\"server\"&gt;\nsub Register(sender As Object, e As System.EventArgs)\n'...(what should i write here???)\nresponse.redirect(\"login.aspx?mode=account\")\nend sub\n&lt;/script&gt;\n</code></pre>\n\n<p>and HTML code in register.aspx file (i have my problem here)</p>\n\n<pre><code>&lt;div class=\"fill-1\"&gt;\n&lt;form name=\"reg\" id=\"reg\" runat=\"server\"&gt;\n  &lt;asp:button text=\"Register\" onclick=\"Register\" runat=\"server\" /&gt;\n</code></pre>\n\n<p>and a tag with ajax (old method)</p>\n\n<pre><code>  &lt;a href=\"login.aspx?mode=account\" class=\"ajax\"&gt;Register&lt;/a&gt;\n&lt;/form&gt;\n  &lt;asp:label id=\"JavaFocus\" runat=\"server\" /&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","xml","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13297341,"title":"Storing JQuery Xml Tree In Variable","body":"<p>Xml:</p>\n\n<pre><code>&lt;Data&gt;\n   &lt;Cat&gt;\n      &lt;Name&gt;Fluffy&lt;/Name&gt;\n   &lt;/Cat&gt;\n\n   &lt;Cat&gt;\n      &lt;Name&gt;Willy&lt;/Name&gt;\n   &lt;/Cat&gt;\n&lt;/Data&gt;\n</code></pre>\n\n<p>JQuery:</p>\n\n<pre><code>// ...Some ajax calls...\n$(xml).find('Cat').each(function() {\n   var name = $(this).find('Name').text();\n   alert(name);\n});\n</code></pre>\n\n<p>How can I store the results of <code>find('Cat')</code> in a variable, so that I can pass it to a function and handle it there?  I thought something like this, but it doesn't work:</p>\n\n<pre><code>var cats = $(xml).find('Cat');\nShowCatNames(cats);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>function ShowCatNames(cats) {\n   $(cats).each(function() {\n       var name = $(this).find('Name').text();\n       alert(name);\n   }\n}\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13296314,"title":"AJAX can't send datas to PHP page","body":"<p>I have a php page with this AJAX code, it takes datas from a form and pass them to another php page.\nThe problem is that it doesn't work, and I don't know why!</p>\n\n<p>Here the AJAX code with the form:</p>\n\n<pre><code>               &lt;form name=\"modulo\" id=\"alter_tarea\"&gt;\n                    &lt;table id=\"alter_tarea_table\"&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Descrizione&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"descrizione\" id=\"descrizione\" value=\"&lt;?php echo $x['descrizione']; ?&gt;\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;Data Limite&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"data_limite\" id=\"sel3\" size=\"10\" value=\"&lt;?php echo $x['data_limite']; ?&gt;\"&gt;&lt;input type=\"reset\" value=\" ... \"\n        onclick=\"return showCalendar('sel3', '%Y-%m-%d');\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt; \n                        &lt;tr&gt;\n                            &lt;td&gt;Realizzato&lt;/td&gt;\n                            &lt;?php \n                                if($x['realizzato'] == 1)\n                                    echo\"&lt;td&gt;&lt;input type=\\\"checkbox\\\" name=\\\"realizzato\\\" id=\\\"realizzato\\\" /&gt;&lt;/td&gt;\";\n                                else\n                                    echo\"&lt;td&gt;&lt;input type=\\\"checkbox\\\" name=\\\"realizzato\\\" id=\\\"realizzato\\\" checked=\\\"checked\\\"/&gt;&lt;/td&gt;\";  \n                            ?&gt;\n                        &lt;/tr&gt;                 \n                        &lt;tr&gt;\n                            &lt;td&gt;&lt;input type=\"button\" value=\"Modifica\" id=\"modifica_button\" name=\"modifica_button\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;  \n                &lt;/form&gt;\n\n                         &lt;script type=\"text/javascript\"&gt;\n                            $(document).ready(function() {\n                                $(\"#modifica_button\").click(function(){\n\n                                var descrizione = $(\"#descrizione\").val();\n                                var data = $(\"#data_limite\").val();\n                                var realizzato = $(\"#realizzato\").val();\n\n                                $.ajax({\n\n                                //imposto il tipo di invio dati (GET O POST)\n                                type: \"POST\",\n\n                                //Dove devo inviare i dati recuperati dal form?\n                                url: \"modifica_tarea.php\",\n\n                                //Quali dati devo inviare?\n                                data: \"descrizione=\" + descrizione + \"&amp;data_limite=\" + data + \"&amp;realizzato=\" + realizzato,\n                                dataType: \"html\",\n\n                                //Inizio visualizzazione errori\n                                success: function(msg)\n                                {\n                                    $(\"#mostra_tarea\").replaceWith(msg); \n                                },\n                                error: function()\n                                {\n                                    alert(\"Chiamata fallita, si prega di riprovare...\"); //sempre meglio impostare una callback in caso di fallimento\n                                }\n                                });\n                            });\n                           });\n                    &lt;/script&gt;\n</code></pre>\n\n<p>Here the simple .php page:</p>\n\n<pre><code>&lt;?php\n\n$descrizione = $_POST['descrizione'];\n$data_limite = $_POST['data'];\n$realizzato = $_POST['realizzato'];\n\necho $descrizione;\necho $data_limite;\necho $realizzato;\n?&gt;\n</code></pre>\n"},{"tags":["ajax","shopify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13294909,"title":"\"Add to Cart\" in Lightbox – Shopify","body":"<p>Here's the URL to my store: <a href=\"http://nibblesofnirvana.myshopify.com\" rel=\"nofollow\">http://nibblesofnirvana.myshopify.com</a></p>\n\n<p>(PASSWORD IS nibblesofnirvana)</p>\n\n<p>What I want to do is present people with two options when they click \"add to cart.\" If you get to \"add to cart\" on the website now, you'll see that I already have a lightbox that comes up.</p>\n\n<p>I want one option that points to the regular checkout page, then another option that points to a new checkout page that I haven't made yet.</p>\n\n<p>But I haven't been able to get the shopping cart to work. I'd like \"BUY NOW\" to add the item the person is viewing to the cart, and the other option I display simply link to another page.</p>\n\n<p>I'm assuming this has something to do with the Ajax API, but shopify's documentation hasn't proven to be all that helpful... would be very helpful if someone could point me in the right direction!</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","error-handling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13297146,"title":"Displaying server-side model-state errors on client side via ajax in ASP.NET MVC 4","body":"<p>Scenario:</p>\n\n<p>I invoke controller action of MVC4 web application via jquery $.ajax({...}) call and pass details about user I wish to save.\nWeb application connects to back-end private API and sends user data, and API returns response indicating that Username is already in use.\nI want to display property state error on property Username in a place where regular client-side validation error message would appear.</p>\n\n<p>Currently I do it manually but I'm wondering if there is jQuery compatible library that would render property-state errors for me in a way that I provide key/value errors as response from action, and library handles the rest.</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13296700,"title":"Issue catching jQuery ajax exceptions","body":"<p>What I am trying to do is catch all errors and I handle myself.</p>\n\n<p>But when and error occurs on jQuery.ajax() I can know if got error on the error options. But it is not being catchable by my window.onerror event.</p>\n\n<pre><code>window.onerror = function(e) {\n    console.log(\"i was here! ERROR: \", e);\n    console.log(\"-----------\");\n    return true; //dont show errors on console\n}\n\n$(function() {\n\n    $.ajax({\n        url: \"asdasdasd/as/da/sdtest/asdasd\",\n        error: function() {\n            // ok i know here is an error and it catches on my window.onerror. BUT look at your console, still have a GET error. That error I want to handle. Can be with try/catch or inside the window.onerror. I want that Exception object. Not this one that I created.\n            throw new Error(\"it catches, but still have errors on my console\");\n        }\n    });\n\n    test[0].test = \"it fails\";\n\n});\n</code></pre>\n\n<p>You can test over here: <a href=\"http://jsfiddle.net/uHPXm/4/\" rel=\"nofollow\">http://jsfiddle.net/uHPXm/4/</a></p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13292410,"title":"saving and loading the ajax state of a page","body":"<p>I'm working on an ajax loading function on a Wordpress single page portfolio.</p>\n\n<p>The principle is that when you click a thumbnail in the gallery, it opens a container (#DrawerContainer) and fetch the ajax content of this article into it. With a lot of help, I'm already able to open the drawer and load the post content when I click a thumbnail.</p>\n\n<p>Here is a fiddle if you want to see it working (the ajax will not load but it works locally). <a href=\"http://jsfiddle.net/RF6df/24/\" rel=\"nofollow\">http://jsfiddle.net/RF6df/24/</a></p>\n\n<p><strong>The part I'm working on now:</strong> I need my site to be crawlable and the urls to be shareable. If I give <code>http://mywebsite.com/#!project5</code> to someone, I need project5 content to be opened when he loads the page.<br/>\nI thought the hash-bang (#!) urls was the way to go to make this work. With the code below (commented on the jsfiddle), I can update the url and add the hash of the clicked thumbnail.</p>\n\n<pre><code>var pathname = $(this).find('a')[0].href.split('/'),\n            l = pathname.length;\n        pathname = pathname[l-1] || pathname[l-2];\n        window.location.hash = \"#!\" + pathname;\n</code></pre>\n\n<p>But when I load a page, the ajax state isn't remembered. I assumed it was because my ajax container was only loaded on click event, but there is no change when I add a persistant container in the php.</p>\n\n<p>Is there a way to load the page with a post content already displayed, or to open the #DrawerContainer when the page is loading a hash-bang url?</p>\n\n<p>Please keep in mind that I'm just learning jquery and ajax. So I'd really appreciate if you explain or comment a little bit what you do, I'll for sure learn at the same time... :) </p>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","devise","ruby-on-rails-plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13293737,"title":"Allow AJAX Through Devise (Rails)","body":"<p>I've just added and configured the devise gem. It's working great except for blocking my form's autosave AJAX calls.</p>\n\n<p>At the top of my controller, I have:</p>\n\n<pre><code>before_filter :authenticate_user!\n</code></pre>\n\n<p>My AJAX call comes to the same controller:</p>\n\n<pre><code>  def autosave\n    #TODO: update relative entry\n    #TODO: verify user logged in\n    #TODO: verify entry belongs to relative user\n    render content_type: 'text/xml', inline: \"&lt;result status='ok' /&gt;\"\n  end\n</code></pre>\n\n<p>Of course I could instead declare my before filter like so:</p>\n\n<pre><code>before_filter :authenticate_user!, except: :autosave\n</code></pre>\n\n<p>..but this offers nothing to prevent anyone from calling this controller function at any time.</p>\n\n<p>What would be the best way to allow this function to be called? I still want to ensure that only logged in users can make the call and that the given record they're editing belongs to them.</p>\n"},{"tags":["ajax","firefox","post","fiddler"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":13148483,"title":"Ajax post being aborted by firefox (not seen in Chrome or IE)","body":"<p>When using firefox, an ajax post request i have is being reported as aborted in firebug.  The ajax post works fine in IE and Chrome.  It is not a cross domain request.  I tried looking at the issue using fiddler, and when fiddler is capturing web traffic (with options set to decrypt https) the post works.  The post issue cannot be created in my local development environment, as all Firefox attempts successfully post the data I'm sending via ajax.  Any idea why the post works while fiddler is running?  It might give me some idea of how to get it working.       </p>\n\n<pre><code>$.ajax({\n            type: 'POST',\n            url: '/Save',\n            data: JSON.stringify(dataset),\n            datatype: \"html\",\n            contentType: \"application/json\",\n            success: function (data, textStatus, jqXHR) {\n                //alert(\"success\");\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                //alert(\"error\");\n            }\n        });\n</code></pre>\n\n<p>Also, this ajax request is called by a number of methods, and only when the largest of the datasets is sent does it fail.  </p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13296180,"title":"JQuery ajax call updates on character deletion","body":"<p>I have a small jQuery function which collects data from the server depending on a zipcode input field:</p>\n\n<pre><code>$(document).ready(function(){\n  $('#id_zipcode').keyup(function() {\n    var selected = this.value;\n    if (selected.length &gt; 3) {\n        $.getJSON(get_zip_factors_url, {\n            zipcode: selected\n        }, function(env_data, jqXHR) {\n            $('#snow_fall').html(env_data[0].snow);\n            $('#wind_speed').html(env_data[0].wind);\n        });\n    }\n  }).keyup();\n});\n</code></pre>\n\n<p>This works fine now. However, if the user deletes characters the values rendered for <code>#snow_fall</code> and <code>#wind_speed</code> persist. Is there some way I can register this deletion and revert the values to say a 'not available' string when the user deletes characters which result in no valid data being returned from the server?</p>\n\n<p>Any help much appreciated.</p>\n"},{"tags":["ajax","jsf","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":11,"score":0,"question_id":13296268,"title":"ajax is not updating a component situated in another <ui:define","body":"<p>Hi i have a command link so when click it i <code>action=\"#{projectAdminisrationMB.showGroups(userObj)}\"</code> a fieldset will be rendred <code>&lt;p:fieldset legend=\"Manage User Groups\" id=\"manageUserGroupsFS\" rendered=\"#{projectAdminisrationMB.manageUserGroupsFSFlag}\"&gt;</code>\nwhen the fieldset was in the same <code>&lt;ui:define name=\"body\"&gt;</code> everything works but when i put it in a separated ui:define  it will not be rendered.</p>\n\n<p>Here's the code :</p>\n\n<pre><code>&lt;ui:define name=\"body\"&gt;\n\n         &lt;h:form id=\"manageProjeUFform\"&gt;  \n\n            &lt;div class=\"right\"&gt;\n\n             &lt;p:growl id=\"growl\" showDetail=\"true\" sticky=\"true\" /&gt;  \n\n             &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;\n\n&lt;h:panelGrid columns=\"2\" cellpadding=\"10\"&gt;  \n\n   &lt;p:column&gt;\n            &lt;p:fieldset legend=\" Users \"&gt;  \n               &lt;h:panelGrid columns=\"2\" cellpadding=\"10\"&gt;  \n\n             &lt;p:dataTable border=\"1\" value=\"#{projectAdminisrationMB.projectUsersList}\"\n                    id=\"projectUserDt\" \n                    var=\"userObj\"\n                    rowKey=\"#{userObj.name}\"\n                     selection=\"#{projectAdminisrationMB.selectedExistingProjectUser}\"\n                     selectionMode=\"single\"\n                     rowIndexVar=\"rowIndex\"\n                      binding=\"#{table1}\"&gt;\n                        &lt;p:column id=\"column1\"&gt;\n                            &lt;f:facet name=\"header\"&gt;\n                                &lt;h:outputText value=\"Login\"&gt;&lt;/h:outputText&gt;\n                            &lt;/f:facet&gt;\n\n\n                           &lt;h:outputText value=\"#{userObj.name}\"/&gt;  \n\n\n                        &lt;/p:column&gt;\n                        &lt;p:column id=\"column2\"&gt;\n                            &lt;f:facet name=\"header\"&gt;\n                                &lt;h:outputText value=\"Entire Name\"&gt;&lt;/h:outputText&gt;\n                            &lt;/f:facet&gt;\n                            &lt;h:outputText value=\"#{userObj.lastName}\"&gt;&lt;/h:outputText&gt;\n\n\n\n                            &lt;h:outputText value=\"#{userObj.firstName}\"&gt;&lt;/h:outputText&gt;\n                         &lt;/p:column&gt;\n\n\n                                &lt;p:column id=\"column5\"&gt;\n                            &lt;f:facet name=\"header\"&gt;\n                                &lt;h:outputText value=\"Groups\"&gt;&lt;/h:outputText&gt;\n                            &lt;/f:facet&gt;\n\n                             &lt;p:commandLink id=\"manageUG\"  title=\"Manage User Groups\" style=\"margin-right:5px\"  update=\":rightContentform:manageUserGroupsFS\"   action=\"#{projectAdminisrationMB.showGroups(userObj)}\"  ajax=\"true\"&gt; \n                                   &lt;h:graphicImage value=\"../images/cssImg/manage-groups-icon.png\"   /&gt;\n\n                                 &lt;f:setPropertyActionListener target=\"#{projectAdminisrationMB.selectedUserRow}\" value=\"#{userObj}\" /&gt;\n                                 &lt;f:setPropertyActionListener target=\"#{projectAdminisrationMB.selectedUserRow.dbRowIndex}\" value=\"#{table.rowIndex}\" /&gt;\n\n                            &lt;/p:commandLink&gt;   \n\n\n\n                         &lt;/p:column&gt;\n\n                         &lt;f:facet name=\"footer\"&gt;  \n\n\n                  &lt;p:commandButton id=\"addProjectUserdlg\" value=\" Add \" onclick=\"dlg1.show()\"  /&gt;  \n                  &lt;p:commandButton id=\"deleteProjectUserdlg\" value=\" Delete \"  onclick=\"confirmation.show()\"/&gt;  \n\n                          &lt;/f:facet&gt; \n\n                &lt;/p:dataTable&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>               &lt;/h:panelGrid&gt;  \n             &lt;/p:fieldset&gt;  \n\n        &lt;/div&gt;\n\n         &lt;/h:form&gt;\n     &lt;/ui:define&gt;\n</code></pre>\n\n<p>\n     \n      </p>\n\n<pre><code>   &lt;h:panelGrid columns=\"3\"&gt;\n    &lt;h:panelGrid id=\"display\" header=\"User Detail\" columns=\"2\" cellpadding=\"4\"&gt;  \n\n                           &lt;f:facet name=\"header\"&gt;  \n                             &lt;p:graphicImage value=\"/images/users/user.png\"/&gt;  \n                          &lt;/f:facet&gt;   \n\n                            &lt;h:outputText value=\"Login:\" /&gt;  \n                            &lt;h:outputText value=\"#{projectAdminisrationMB.selectedUserRow.lastName}\" /&gt;  \n\n                            &lt;h:outputText value=\"Name:\" /&gt;  \n                            &lt;h:outputText value=\"#{projectAdminisrationMB.selectedUserRow.lastName}\" /&gt;  \n\n                            &lt;h:outputText value=\"First Name:\" /&gt;  \n                            &lt;h:outputText value=\"#{projectAdminisrationMB.selectedUserRow.firstName}\" /&gt;  \n\n                            &lt;h:outputText value=\"Email:\" /&gt;  \n                            &lt;h:outputText value=\"#{projectAdminisrationMB.selectedUserRow.email}\" /&gt;  \n\n                            &lt;h:outputText value=\"Phone:\" /&gt;  \n                            &lt;h:outputText value=\"#{projectAdminisrationMB.selectedUserRow.phoneNumber}\" /&gt;  \n\n                      &lt;/h:panelGrid&gt;  \n\n           &lt;p:pickList id=\"pickList\" value=\"#{projectAdminisrationMB.selectedUserGroups}\" var=\"group\"   \n            itemLabel=\"#{group}\" itemValue=\"#{group}\" converter=\"groupConverter\" &gt; \n\n             &lt;f:facet name=\"sourceCaption\"&gt;Belong To&lt;/f:facet&gt;  \n             &lt;f:facet name=\"targetCaption\"&gt;Exclude From&lt;/f:facet&gt; \n\n              &lt;p:column style=\"width:25%\"&gt;  \n                    &lt;p:graphicImage value=\"/images/group/#{group.name}.gif\" /&gt;  \n               &lt;/p:column&gt;  \n\n             &lt;p:column style=\"width:75%;\"&gt;  \n                  #{group.name}  \n             &lt;/p:column&gt; \n              &lt;p:ajax event=\"transfer\" listener=\"#{projectAdminisrationMB.onTransferGroup}\" update=\":manageProjeUFform:growl\" /&gt;  \n             &lt;/p:pickList&gt;\n\n             &lt;p:commandButton id=\"saveGroupsBtn\" value=\"Save\"  update=\":manageProjeUFform:growl\" actionListener=\"#{projectAdminisrationMB.saveUserGroupsModif}\"/&gt;  \n\n\n\n          &lt;/h:panelGrid&gt;\n  &lt;/p:fieldset&gt;\n&lt;/h:form&gt;\n  &lt;/ui:define&gt;\n</code></pre>\n\n<p>Any help will be appreciated .</p>\n"},{"tags":["jquery","ajax","colorbox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13296014,"title":"How to refresh colorbox content for IE9","body":"<p>I have a one page \"Dashboard report\" with 6 reports in it. For every report, I add one link to open the content (a table or a graph) in a colorbox plugin with ajax. And this works fine! </p>\n\n<p>But I need to \"maximize\" this content inside the colorbox, and in IE9 it doesn't work. I checked in IE8 and it works fine, and in Chrome too. </p>\n\n<p>It looks like after the ajax content is load, in IE9 it needs a \"refresh\" to work, because if I resize the IE window, the content changes and resizes the graph.</p>\n\n<p>I tried to find some related questions for this issue but none work for me.</p>\n\n<p>Can anyone help me to solve this? How to \"refresh\" this content? </p>\n"},{"tags":["c#","jquery","ajax","asp.net-mvc","json"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13296229,"title":"How to pass a multi-dimensional array to ASP.NET MVC 3 JsonResult Controller","body":"<p>I have two javascript arrays that I need to pass into an MVC 3 controller and then input the values into a database. I have two lists of checkboxes and a change event for both list containers, to grab their checkbox id's and checked values and then add them to the arrays.</p>\n\n<pre><code>  @{\n        ViewBag.Title = \"JS Arrays in ASP.NET MVC 3\";\n    }\n\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $(\"#tabs\").tabs();\n    });\n&lt;/script&gt;\n&lt;p&gt;Use the form below to check items from the lists and save them to the database.&lt;/p&gt;\n\n&lt;div id=\"tabs\"&gt;\n    &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\"#tabs-1\"&gt;Pre-Accept&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#tabs-2\"&gt;Post-Accept&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;div id=\"tabs-1\"&gt;\n        &lt;div id=\"checklist1\"&gt;\n            &lt;table&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n\n                        &lt;td&gt;\n                            &lt;input type=\"checkbox\" id=\"StudentPreAccept.Transcripts\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;Transcripts\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"checkbox\" id=\"StudentPreAccept.BiographicalInfo\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;Biographical Info\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"checkbox\" id=\"StudentPreAccept.PersonalEssay\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;Personal Essay\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;br /&gt;\n        &lt;button id=\"savePreAccept\" onclick=\"saveAcceptList();\"&gt;Save Pre-Accept&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div id=\"tabs-2\"&gt;\n        &lt;div id=\"checklist2\"&gt;\n            &lt;table&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n\n                        &lt;td&gt;\n                            &lt;input type=\"checkbox\" id=\"StudentPostAccept.EnrollmentFee\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;Enrollment Fee\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"checkbox\" id=\"StudentPostAccept.Photo\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;Photo\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;\n                            &lt;input type=\"checkbox\" id=\"StudentPostAccept.TravelItinerary\" /&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt;Travel Itinerary\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;br /&gt;\n        &lt;button id=\"savePostAccept\" onclick=\"saveAcceptList();\"&gt;Save Post-Accept&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"results\"&gt;&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var preAcceptArray = { };\n    var postAcceptArray = { };\n\n    $(\" #checklist1 [type='checkbox']\").change(function() {                       \n        // add to the preAcceptArray\n        var id = $(this).attr('id');\n        var checked = $(this).is(':checked') ? 'True' : 'False';\n        preAcceptArray[id] = checked;\n\n        console.log(JSON.stringify(preAcceptArray));\n    });\n    $(\" #checklist2 [type='checkbox']\").change(function () {\n        // add to the postAcceptArray\n        var id = $(this).attr('id');\n        var checked = $(this).is(':checked') ? 'True' : 'False';\n        postAcceptArray[id] = checked;\n\n        console.log(JSON.stringify(postAcceptArray));\n    });\n\n    function saveAcceptList() {\n        $.post('/Home/UpdateLists', {\n                preAcceptList  : preAcceptArray,\n                postAcceptList : postAcceptArray\n            }, function(response) {\n                $(\"#results\").html(response);\n            }, \"json\");\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Then on the controller side of things I have a JsonResult action that takes two parameters as input.</p>\n\n<pre><code> [HttpPost]\n    public JsonResult UpdateLists(string[][] preAcceptList, string[][] postAcceptList)\n    {\n        // do something with the lists             \n\n\n        // return the result\n        return Json(\"List(s) updated successfully.\", JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n\n<p>The problem is no matter what type of parameter I pass-in, I can't get the values from the ajax post. Should I be passing them in as JSON and then just parsing the JSON?</p>\n\n<p>I know I'm missing something and any help would be appreciated.</p>\n"},{"tags":["javascript","jquery","ajax","table"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13295756,"title":"jquery load table from ajax and auto update","body":"<p>I've been searching for a solution to this problem on Google for a while, but\nI'm either looking for the wrong thing, or I can't find something that\naccomplishes my needs.</p>\n\n<p>I need a jQuery table plugin or the respective functionality that can accomplish\nthe following:</p>\n\n<ul>\n<li>Load table contents via AJAX</li>\n<li>Automatic pagination</li>\n<li>Column sorting</li>\n<li>Auto-update timeout (every so often, talk to AJAX and update ONLY the rows that have changed or need to be added) <strong>&lt;-- This is the most important.</strong></li>\n</ul>\n\n<p>I assume the implementation of it would be something similar to:</p>\n\n<pre><code>&lt;table class=\"autoTable\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Custom Row Name 1&lt;/th&gt;\n            &lt;th&gt;Custom Row Name 2&lt;/th&gt;\n            &lt;th&gt;Custom Row Name 3&lt;/th&gt;\n            &lt;th&gt;Custom Row Name 4&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>And something similar to:</p>\n\n<pre><code>$('.autoTable').each(function() {\n    $(this).autoTable({\n        timeout: 500\n        url:     \"ajax/test.json\"\n    });\n});\n</code></pre>\n\n<p>That uses an JSON value like:</p>\n\n<pre><code>[\n    {\n        \"row1\": \"Lorem\",\n        \"row2\": \"Ipsum\",\n        \"row3\": \"Dolor\",\n        \"row4\": \"Sit\"\n    },\n    {\n        \"row1\": \"Lorem\",\n        \"row2\": \"Ipsum\",\n        \"row3\": \"Dolor\",\n        \"row4\": \"Sit\"\n    },\n    {\n        \"row1\": \"Lorem\",\n        \"row2\": \"Ipsum\",\n        \"row3\": \"Dolor\",\n        \"row4\": \"Sit\"\n    },\n    {\n        \"row1\": \"Lorem\",\n        \"row2\": \"Ipsum\",\n        \"row3\": \"Dolor\",\n        \"row4\": \"Sit\"\n    },\n    {\n        \"row1\": \"Lorem\",\n        \"row2\": \"Ipsum\",\n        \"row3\": \"Dolor\",\n        \"row4\": \"Sit\"\n    },\n    {\n        \"row1\": \"Lorem\",\n        \"row2\": \"Ipsum\",\n        \"row3\": \"Dolor\",\n        \"row4\": \"Sit\"\n    },\n    {\n        \"row1\": \"Lorem\",\n        \"row2\": \"Ipsum\",\n        \"row3\": \"Dolor\",\n        \"row4\": \"Sit\"\n    }\n\n]\n</code></pre>\n\n<p>Hopefully you guys know of something.</p>\n"},{"tags":["ajax","json","arguments","subclass"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13295744,"title":"json passing a derived class argument to wcf service","body":"<p>I just need to make certain that it can work before I devote more time to this.  If my WCF service (it's working) accepts a BaseClassObject and I send it a DerivedFromBaseClassObject I don't get the properties of the derived class in the service despite my having set them on the client side call.  It seems the WCF service is convinced it is a base class object.</p>\n\n<p>I have KnownTypes set, etc. and it works if I don't use JSON so I suspect I've missed something important or it simply can't do that.  I just noticed that no __type information is being included could that be the problem and/or would that help?</p>\n"},{"tags":["ajax","wicket","timepicker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13291342,"title":"Wicket 1.5 - timePicker lost after Target Ajax","body":"<p>I have a TextField with \"timePicker\" as CSS class. Wicket change this input in a TimePicker (to select hour and minute).</p>\n\n<p>This input is inside a WebMarkupContaner. After a specific Ajax event, the entire container is Targeted </p>\n\n<pre><code>target.add(container);\n</code></pre>\n\n<p>and so the input inside it. Unfortunally, the input lost the timePicker utility becoming a simple textfield.</p>\n\n<p>I have tried, with Browser Javascript debug, to launch:</p>\n\n<pre><code>$(\"#inputId\").timePicker();\n</code></pre>\n\n<p>and the input return to be a TimePicker. I deduce that Wicket attach the behavior only at the first page rendering.</p>\n\n<p>How can I add the .timePicker() behavior after Ajax target?</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","jsf-2","primefaces","java-web-start","deployjava"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":13191111,"title":"Trouble to display deployJava button on ajax rerender","body":"<p>I'm having trouble displaying the deploy-java button on ajax rerender</p>\n\n<pre><code>&lt;h:form id=\"deployJavaForm\" rendered=\"#{myBean.shouldRender}\"&gt;\n&lt;h:outputScript library=\"js\" name=\"http://java.com/js/deployJava.js\" target=\"head\" /&gt;\n&lt;script type=\"text/javascript\"&gt;\n    deployJava.createWebStartLaunchButton('blah.jnlp', '1.7.0');\n&lt;/script&gt;\n&lt;/h:form&gt;\n</code></pre>\n\n<p>when</p>\n\n<pre><code>myBean.shouldRender == true\n</code></pre>\n\n<p>and the form is updated the only thing being displayed (on a white page) is the deployJava-button and the request is left hanging. if shouldRender is true on the initial request, page and button is displayed correctly.\nIm using primefaces in case it can help.</p>\n\n<p>What I want to do is to have the button to be displayed correctly regardless if its part of a ajax rerender or a complete initial request.</p>\n\n<p>Update:\nI did my homework and created a minimal example that still reproduces the problem. It seems I still get the same problems regardless if script declaration is in head or in body (I have copy of deployJava.js in resources/js)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n    xmlns:f=\"http://java.sun.com/jsf/core\"\n    xmlns:h=\"http://java.sun.com/jsf/html\"\n    xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n    xmlns:p=\"http://primefaces.org/ui\"&gt;\n&lt;h:head&gt;\n    &lt;!-- &lt;script type=\"text/javascript\" src=\"http://java.com/js/deployJava.js\" /&gt;--&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n    &lt;h:outputScript library=\"js\" name=\"deployJava.js\" target=\"head\" /&gt;\n    &lt;h:form id=\"djForm\"&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            deployJava.createWebStartLaunchButton(\n                    'test.jnlp', '1.7.0');\n        &lt;/script&gt;\n        &lt;p:commandButton value=\"update\" update=\"djForm\" /&gt;\n    &lt;/h:form&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>edit: (specialgems) \nbelow test give same problem as observed earlier.</p>\n\n<pre><code>&lt;h:outputScript&gt;\ndeployJava.createWebStartLaunchButton(\n                'test.jnlp', '1.7.0');\n&lt;/h:outputScript&gt;\n</code></pre>\n\n<p>edit: added picture<img src=\"http://i.stack.imgur.com/kVlt3.png\" alt=\"The problem looks like this\"></p>\n\n<p>after click of update button, only deployJava button is rendered and page is loading</p>\n\n<p>edit (daniel): both on success and oncomplete give same behaviour :(</p>\n\n<pre><code>&lt;h:form id=\"djForm\"&gt;\n    &lt;h:outputScript&gt;\n        function abcefg() {\n            deployJava.createWebStartLaunchButton('test.jnlp', '1.7.0');\n        }\n    &lt;/h:outputScript&gt;\n&lt;p:commandButton value=\"update\" update=\"djForm\" onsuccess=\"abcefg()\" /&gt;\n&lt;/h:form&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13295299,"title":"Refresh content of a div without ajax","body":"<p>I have a div with <code>id=mydiv</code> and inside of this div I have some content that I am grab it dynamically from database with a while.</p>\n\n<p>Is there any way to use a button to refresh or reload the content of my div without using <code>.load()</code> ajax method?</p>\n\n<pre><code>$(\"#mydiv\").load(\"index.html\")\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>&lt;div id=\"mydiv\"&gt;\n&lt;?php\n$trtyb = mysql_query (\"SELECT * FROM xxx WHERE xxx= '$getcat'\");\nwhile($fina = mysql_fetch_assoc($trtyb)) {\n  echo $fina['name'];\n  echo \"&lt;br&gt;\";\n}\n?&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","asp.net-mvc","jquery-ajax","unobtrusive-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13280026,"title":"Wiring up Ajax.BeginForm that didn't exist during doc.ready?","body":"<p>I have a MVC page that loads a Partial via a Ajax.ActionLink, which works, and then the loaded Partial contains a form that has Ajax.BeginForm.  This form is not getting wired up to unobtrusive ajax, and instead is performing a page refresh(I verified this in the Network log of the browser that shows the initiator when I click submit is the browser instead of jquery).</p>\n\n<p>What I believe is the issue is that since the form didn't exist when the page is loaded(but later is added via the Ajax.ActionLink), then unobtrusive ajax didn't see the data-ajax attributes on the newly added form and wire up the necessary events.  I'm assuming that only happens at document.ready, and the ajax form didn't exist then.</p>\n\n<p><strong>Is there something I can do to say \"hey Unobstrusive Ajax, please look at my page again now that I have some new elements that are marked with data-ajax and wire them up\"?</strong></p>\n\n<p>Thanks.</p>\n\n<p>Looking at the unobtrusive ajax source, it has this:</p>\n\n<pre><code>$(\"form[data-ajax=true]\").live(\"submit\", function (evt) {\n        var clickInfo = $(this).data(data_click) || [];\n        evt.preventDefault();\n...\n</code></pre>\n\n<p>The form tag generated looks like this:</p>\n\n<pre><code>&lt;form action=\"/Path/Create\" class=\"form-horizontal\" data-ajax=\"true\" data-ajax-method=\"post\" data-ajax-mode=\"replace\" data-ajax-update=\"#ParentContainer\" id=\"PathForm\" method=\"post\" novalidate=\"novalidate\"&gt;\n</code></pre>\n\n<p>As far as I can tell the selector on the .live event should be picking up on the new form when it's loaded onto the page.  The form is inside a bootstrap modal however, so I don't know if that would be preventing the event from bubbling up somehow.</p>\n\n<p>I can even run this in Chrome console:</p>\n\n<pre><code> $(\"form[data-ajax=true]\").live(\"submit\", function (evt) {\n            var clickInfo = $(this).data(data_click) || [];\n            evt.preventDefault(); });\n</code></pre>\n\n<p>And it returns the form element successfully, but when I click submit it still does a full page refresh.  I would expect it to at least do nothign since I wired it up to preventDefault.</p>\n"},{"tags":["ajax","xmlhttprequest"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13295661,"title":"How to stop One Ajax Request if there is another Ajax Request","body":"<p>my whole site is almost Ajax based.</p>\n\n<p>Page 1 = \nIn my page 1 there are are 5 divs when first divs renders i put Ajax request for second div after the response i put Ajax request for third and same for others divs.\ni have also other pages which is coming through Ajax.\nlets say  user clicks on page 1 and just after first click user click on page 2 now <strong>what i want to do is that i want to stop all the ajax requests that are on page 1 and process page 2 if user clicks on page 2 after page 1</strong>.</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13295349,"title":"jQuery ajax update value immediately using keyup()","body":"<p>I have a small jQuery function which I am using to capture the input of a text field as zipcode and then grab some relevant data from the db (snow fall and wind speed).</p>\n\n<p>The function:</p>\n\n<pre><code>$(document).ready(function(){\n    var zip = $('#id_zipcode');\n    zip.change(function() {\n      function updateEvnFactors(){\n        var selected = zip.val();\n        if (selected) {\n            $.getJSON(get_zip_factors_url, {zipcode: selected}, function(env_data, jqXHR){\n                $('#snow_fall').html(env_data[0].snow);\n                $('#wind_speed').html(env_data[0].wind);\n            });\n        }\n      }\n      updateEvnFactors();\n      $('#id_zipcode').keyup(updateEvnFactors);\n   });\n});\n</code></pre>\n\n<p>Where the element <code>#id_zipcode</code> is a text input. This works in a rudimentary way, but the html elements <code>#snow_fall</code> and <code>#wind_speed</code> are only updated when the user tabs onto another form field or clicks somewhere outside of the <code>#zip_code</code> input. </p>\n\n<p>What am I missing to make the html elements update as soon as there are valid values returned from the ajax call (i.e. a valid zipcode passed).</p>\n\n<p>As a bonus question - how can I limit my ajax to only being activated when there are >=5 digits in the input field?</p>\n\n<p>Any help will be much appreciated.</p>\n"},{"tags":["html","ajax",".htaccess","rewrite","hashtag"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13276402,"title":"how to redirect links without the hashtag # to the correct page with hashtag","body":"<p>On my site, I am loading content dynamically with Ajax, so the URLs are like www.internet.com/#/contact.php, or www.internet.com/#/home.php.</p>\n\n<p>I have many links/pages on my site, so I want to do that with .htaccess.  </p>\n\n<p>How can I check, if there is <strong>NO</strong> hashtag in the URL and add directly after the domain name, or the hashtag without removing the rest of the URL?</p>\n\n<p>So www.internet.com/home.php should be redirected to www.internet.com/#/home.php, for example.</p>\n"},{"tags":["php","ajax","wordpress","jquery-ajax","curl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":87,"score":3,"question_id":12959923,"title":"PHP/Curl/Wordpress Posting data without refreshing page, curl not working","body":"<p>I am writing code for a donation page and want to submit CC information without refreshing the page, and display the results using an overlay.  I have the overlay working correctly using jQuery, and using a php if statement, I can post back to the page I am on and get the variables correctly the the curl block for the CC transaction.  However I never get any results.  If I allow the page to POST/refresh it works fine, but it seems Wordpress will not allow me to run the curl from a page that is not directly run in the enviroment.  </p>\n\n<p>Any suggestions?</p>\n\n<pre><code>jQuery.post('sameurl', jQuery(\"#donateform\").serialize(), function(data) {\n  jQuery('#overlay_msg').html(data);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>        $ch = curl_init ();\n\n        curl_setopt ($ch, CURLOPT_URL,$hoststring);\n        curl_setopt ($ch, CURLOPT_POST, 1); \n        curl_setopt ($ch, CURLOPT_POSTFIELDS, $xml); # the string we built above\n        curl_setopt ($ch, CURLOPT_SSLCERT, $cert);\n        curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);\n        curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 0);\n        curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 0);\n        curl_setopt ($ch, CURLOPT_VERBOSE, 1);\n\n        $result = curl_exec ($ch);\n</code></pre>\n\n<p>I hard coded the $xml string as well trying to get it to work.  I'm new to php/curl/ajax but know a bit about coding in general.</p>\n\n<p>Thanks.</p>\n"},{"tags":["jquery","ajax","checkbox","pass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13294165,"title":"Pass checkbox through jquery ajax submit","body":"<p><strong>Problem solved</strong></p>\n\n<p>I've searched several sources of info for this kinda problems. But there's no solution exactly. The problem is I cannot pass the checkboxes value to div id with ajax. It keeps openning in a parent window. Here's my codes.</p>\n\n<p><strong>Javascript:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {  \n    $(\"#villa_submit\").click(function() {   \n        var action = $(\"#villa_choose\").attr('action');\n//var form_data = { 'vid[]' : []};$(\"input:checked\").each(function() {data['vid[]'].push($(this).val());});\nvar form_data = $('#villa_choose').serialize();  //suggested by Kev Price \n        $.ajax({\n            type: \"POST\",\n            url: action,\n            data: form_data,\n            beforeSend:function(){\n                $('#villa_result').html('&lt;center&gt;&lt;img src=\"/images/loading.gif\" alt=\"Loading...\" align=\"absmiddle\"/&gt; loading...&lt;/center&gt;');\n              },\n            success: function(data){\n                  $('#test_result').html(data);\n            }\n        });     \n        return false;\n    }); \n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;form name=\"villa_choose\" id=\"villa_choose\" method=\"post\" action=\"\"&gt;\n&lt;input type=\"checkbox\" name=\"vid[]\" id=\"vid1\" value=\"1\" /&gt;\n&lt;input type=\"checkbox\" name=\"vid[]\" id=\"vid2\" value=\"2\" /&gt;\n&lt;input type=\"checkbox\" name=\"vid[]\" id=\"vid3\" value=\"3\" /&gt;\n&lt;input type=\"checkbox\" name=\"vid[]\" id=\"vid4\" value=\"4\" /&gt;\n&lt;input type=\"checkbox\" name=\"vid[]\" id=\"vid5\" value=\"5\" /&gt;\n&lt;/form&gt;\n\n&lt;div id=\"test_result\"&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["android","jquery","ajax","phonegap"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":37,"score":4,"question_id":13289410,"title":"Ajax post not working - Jquery Phonegap Android","body":"<p>Hello everyone and thanx in advance.\nI am using Phonegap 2.1.0.\nIn whitelist everything is accepted..</p>\n\n<pre><code>**&lt;access uri=\"*\" subdomains=\"true\" /&gt;\n&lt;access origin=\".*\" subdomains=\"true\"/&gt;**\n</code></pre>\n\n<p>I am using this function to call a remote php file from my university web server:</p>\n\n<pre><code>var postData = $(this).serialize();             \n                $.ajax({\n                    type: 'POST',\n                    url: 'http://--/smartphone/login.php',\n                    dataType : 'json',\n                    data: postData,         \n                    success: function(data){\n                        alert(\"good\");\n                    },\n                    error: function(){\n                        alert('problem!');\n                    }\n                });\n</code></pre>\n\n<p>THE php file is just for debug reasons like this:</p>\n\n<pre><code>    &lt;?php\nheader('Content-Type: application/json');\n$sample = array(\n    'name'=&gt;'My Name',\n    'email'=&gt;'my_email@example.com'\n);\necho json_encode($sample);\n?&gt;\n</code></pre>\n\n<p>But ajax request is not happening.. in eclipse i keep getting this error when i click submit:</p>\n\n<pre><code>JSCallback Error: Request failed with status 0 at file:///android_asset/www/js/cordova-2.1.0.js:3743\n</code></pre>\n\n<p>what is more, I forgot to add, is that I can open the url as a link from the emulator.It works fine. </p>\n\n<p>*<strong><em>html code:</em>*</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n &lt;html lang=\"en\"&gt;\n &lt;head&gt;\n   &lt;meta charset=\"utf-8\"&gt;\n   &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/index.css\" /&gt;\n   &lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"js/cordova-2.1.0.js\"&gt;&lt;/script&gt;\n   &lt;script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n   &lt;script type=\"text/javascript\" src=\"js/index.js\"&gt;&lt;/script&gt;\n   &lt;title&gt;Smart Greenhouse&lt;/title&gt;\n &lt;/head&gt;\n &lt;body&gt;\n  &lt;div id=\"container\"&gt;\n      &lt;img src=\"css/images/smart_green_house.png\" class=\"logo\" alt=\"l1ogo\" /&gt;\n      &lt;form id=\"login_form\" class=\"first_display\" &gt;\n          &lt;label class=\"title\"&gt; E-mail:&lt;/label&gt;\n          &lt;input id=\"1\" type=\"email\" class=\"input\" size=\"45\" name=\"email\" /&gt;\n          &lt;label class=\"title\"&gt; password:&lt;/label&gt;\n          &lt;input id=\"2\" type=\"password\" class=\"input\" size=\"45\" name=\"password\" /&gt;\n          &lt;input id=\"3\" class=\"submit_type\" type=\"submit\" value=\"login\" /&gt;\n      &lt;/form&gt;\n  &lt;/div&gt;\n &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n\n<p>I have searched I think pretty much the whole web...2 days searching...everything has been tested..\nThanx a lot..</p>\n"},{"tags":["jquery","ajax","jquery-ajax","jquery-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13290478,"title":"How to run a consuming process before sending data with ajax and jquery on the background with the spinner running?","body":"<p>I am trying to send data to server using ajax, but the problem is that I have a consuming process before sending the data.</p>\n\n<p>The process takes about 5 seconds and the spinner has to run in the process.</p>\n\n<p>So in my code the spinner doesnt show until the ajax call starts (probably because the process is blocking everything)</p>\n\n<p>If I move the call \"consumingprocess\" into \"beforesend\",  then it doesnt work and I am not sure why.</p>\n\n<p>So the question is how to show the spinner, while everything is beeing called (the consumingprocess and the ajax call)</p>\n\n<p>Thanks</p>\n\n<p>This is my code:</p>\n\n<pre><code>$(\"#btnAccept\").bind(\"click\", function(event, ui) {\n          //start spinner, works fine but only shows after consumingprocess has finished\n          $.mobile.loading( 'show' );\n\n             console.log(\"btnAccept\");\n\n     var data =  consmuingprocess();\n       console.log(data);\n     // data is fine\n\n                                 $.ajax({\n                                           type : \"POST\",\n                                           url : url,\n                                           dataType : \"xml\",\n                                           contentType : \"text/xml;charset=UTF-8\",\n                                           data : data,\n                                           requestHeaders : {\n                                            Origin : '*'\n                                            },\n                                           crossDomain : true,\n                                           beforeSend : function(xhr) {\n                                            xhr.setRequestHeader(\"Authorization\", \"Basic xxxxxxxxxxxxxxx\");\n                                           console.log(\"beforeSend\");\n                                           },\n                                           error : errorAJAX,\n                                           success : parseXml\n                                           });\n\n            });\n\n        });\n</code></pre>\n"},{"tags":["php","ajax","xml-schema","result","output"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13294087,"title":"AJAX beginner code neither giving any result nor any error","body":"<p>I am new to AJAX. I have write this very basic AJAX code in which when a user clicks to  submit button a text \"HELLO\" appears on screen.\nI have write this code but its giving me neither any output nor any error. Kindly check this and tell me what is wrong in this code.</p>\n\n<pre><code>    &lt;html&gt;\n&lt;head&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    function load(){\n\n        if (window.XMLHttpRequest) {\n        xmlhttp= new XMLHttpRequest() ;\n            }\n            else {\n            xmlhttp= new ActiveXObject('Microsoft.XMLHTTP');\n\n                }\n\n    xmlhttp.onreadystatechange = function() {\n        if(xmlhttp.readystate==4  &amp;&amp; xmlhttp.status==200) {\n            document.getElementById('adiv').innerHTML=xmlhttp.responseText;\n\n        }\n    }\n\n    xmlhttp.open('GET', 'include.php', true);\n    xmlhttp.send(); \n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=\"submit\" value=\"SUbMit\"  onClick=\"load();\"&gt;\n&lt;div id= \"adiv\" &gt;&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks,\nTaha</p>\n"},{"tags":["php","ajax","json","installer","serial"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13294008,"title":"Checking serial number on installer","body":"<p>I have a little question:</p>\n\n<p>I have a web app and I would like to protect it by having a serial number system (this is all being dealt with via woocommerce and the software addon.) this then generates a serial number when purchasing the script.</p>\n\n<p>The only problem is how do I then check this from the web installer?</p>\n\n<blockquote>\n  <p>Example code A WooCommerce powered shop using the Software Add On is\n  listening for API requests via the wc-api request set to software-api.\n  All API requests can be called like this:</p>\n  \n  <p>$data = wp_remote_get(\n  'http://localhost/woocommerce/?wc-api=software-api&amp;request=request_key&amp;...');\n  All parameters can be added to the URL. The data that the API returns\n  will be stored in the $data variable and is in JSON format.</p>\n  \n  <p>activation The activation API call is used to activate a single use of\n  a licence. The call has to contain the email address of the licence,\n  the key of the licence and the product id linked to the licence.</p>\n  \n  <p>Required params:</p>\n  \n  <p>request = ‘activation’ email licence_key product_id</p>\n</blockquote>\n\n<p>the thing I dont understand is how to incorporate this into a text input on a form, and use ajax (maybe?) to check this step in the install? the example is for using a wordpress function wp_remote_get, but the installer will not have this.</p>\n"},{"tags":["jquery","ajax","post","header"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":2477,"score":4,"question_id":8538319,"title":"jquery $.ajax custom http headers issue","body":"<p>I'm querying a REST webservice which uses custom http headers for authentication.</p>\n\n<p>If I perform a POST without the headers I'm getting the expected error, but when I add the headers I get a 404 error instead of what I actually need.</p>\n\n<p>This is my code</p>\n\n<pre><code>$.ajax({\n  type: 'POST',\n  url: 'http://server.com/service',\n  beforeSend: function (xhr) { xhr.setRequestHeader('CUSTOM-HEADER-KEY', 'CUSTOM-HEADER-VALUE') },\n  success: function(data) {    \n    alert('success.');\n  }\n});\n</code></pre>\n\n<p>Here's the firebug headers output:</p>\n\n<blockquote>\n  <p><strong>OPTIONS</strong> /service HTTP/1.1\n  Host: server.com\n  User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0.1) Gecko/20100101 Firefox/8.0.1\n  Accept: text/html,application/xhtml+xml,application/xml;q=0.9,<em>/</em>;q=0.8\n  Accept-Language: en-us,en;q=0.5\n  Accept-Encoding: gzip, deflate\n  Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\n  Connection: keep-alive\n  Origin: null\n  Access-Control-Request-Method: POST\n  <strong>Access-Control-Request-Headers: custom-header-key</strong>\n  Pragma: no-cache\n  Cache-Control: no-cache</p>\n</blockquote>\n\n<p>and the smae headers when performing the post with poster, which returns desired result.</p>\n\n<blockquote>\n  <p><strong>POST</strong> /service HTTP/1.1\n  Host: server.com\n  User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0.1) Gecko/20100101 Firefox/8.0.1\n  Accept: text/html,application/xhtml+xml,application/xml;q=0.9,<em>/</em>;q=0.8\n  Accept-Language: en-us,en;q=0.5\n  Accept-Encoding: gzip, deflate\n  Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\n  Connection: keep-alive\n  <strong>CUSTOM-HEADER-KEY: CUSTOM-HEADER-VALUE</strong>\n  Pragma: no-cache\n  Cache-Control: no-cache\n  Content-Length: 0</p>\n</blockquote>\n\n<p>The difference is pretty obvious, but I don't know what I'm doing wrong in the jquery code.</p>\n\n<p>Could anyone help me please?</p>\n"},{"tags":["java","ajax","struts"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13293375,"title":"AJAX vs Form Submission","body":"<p>We pull data from server and for that If we are using Struts, then we can pull either by submitting a page which <strong>MVC Architecture</strong> or we cam make an <strong>AJAX call</strong> but conventions is of using forms and render response but we also face challenges to give rich user experience, so we compromise convention and start using excessive AJAX, so how we should make balance between two? </p>\n"},{"tags":["ajax","json","asynchronous","nested","synchronous"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":9,"score":2,"question_id":13293746,"title":"Multiple Nested async AJAX calls and order of returned data","body":"<p>First time poster here. I've found some great answers to other issues I've come across but this one has stumped me and I'm not sure the best way to go about it. I've done some searching but haven't found anything that looks like it is a solution. </p>\n\n<p>I am building a table that is a basic BOM display. The function takes the desired part ID and spaces (just used to indent the results for readability) and checks each result for any child parts by calling itself again and so on. </p>\n\n<p>This works great if I set ASYNC to <em>false</em> and I get the desired results but I thought there might be a way to make this asynchronous and achieve the same results in a shorter amount of time.</p>\n\n<p>And yes, I will modify it so it's not updating the DOM with each call. I will change it to a variable so there is only one call in the end!</p>\n\n<p>Any help appreciated. </p>\n\n<pre><code>/*******************************************************************\nFUNCTION -  Traverse the BOM     \n            Check each PID for child parts          \n********************************************************************/   \nfunction traverse_bom(search_term, spaces) {     \n    spaces += \"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\";\n    $.ajax({\n        //async: false, \n        url: 'spec_collector_ajax.php',\n        dataType: 'json',\n        data:  { data_retrieve: \"database_query\",\n                 table: \"Product_Structure\",\n                 order: \"ORDER BY COMPRT_02\",\n                 search: search_term},                 \n        success: function(data2) \n        {       \n            // If there is data, then print it out to a table     \n            if (data2 != 0) \n            {               \n                // Iterate through each entry and list the results\n                $.each(data2, function(i2,item2) \n                {      \n                    // print the BOM entry info\n                    $('#table_bom tbody:last').append( '&lt;tr&gt;&lt;td&gt;' + spaces + item2.COMPRT_02 + '&lt;/td&gt;&lt;td&gt;' + item2.QTYPER_02 + '&lt;/td&gt;&lt;/tr&gt;');\n\n                    // Check for children under this part\n                    traverse_bom(item2.COMPRT_02, spaces);                     \n                });\n            } \n\n            else\n            {\n            }\n        },\n        // Error handling\n        error: function (xhr, ajaxOptions, thrownError) {\n            // Print error message for debugging\n            alert(thrownError);\n        }\n    }); \n};\n</code></pre>\n"},{"tags":["jquery","ajax","asp.net-mvc","jquery-ajax","jquery-mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13293205,"title":"Need to bind list of days then list of times in MVC4 jquery mobile application","body":"<p>I have been wracking my brain on this, and cannot make any progress. I am fairly new to JQmobile, so perhaps there is something there that is making this not work, Here is my set up:</p>\n\n<p>MVC4 asp.net application\nDAL is EF 4.0.\nI am making calls to methods in the DAL to get the date and times (seperately) like this:</p>\n\n<pre><code>var days = Model.Staff.GetAvailabilityDays(Model.Service, DateTime.Now.ToString(\"yyyyM\"));\nvar times = Model.Staff.GetAvailabilityTimes(Model.Service, DateTime.Now.ToString(\"yyyyM\"), \"day\");\n</code></pre>\n\n<p>these are variables being set in the view, and in the markup I am doing this:</p>\n\n<pre><code>&lt;ul data-role=\"listview\"&gt;\n        @foreach (var day in days)\n        {\n            &lt;li class=\"availableDay\"&gt;@day\n                &lt;ul class=\"availableTimes\"&gt;\n                    @foreach (var time in times)\n                    {\n                        &lt;li&gt;@time&lt;/li&gt;\n                    }\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        }\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>This is what I am trying to accomplish:</strong> </p>\n\n<ol>\n<li>JQM listview brings up a list of days first (times are hidden)</li>\n<li>On click for one of the items, the day of that item is passed to the times method so it will only give me the times for that date.</li>\n</ol>\n\n<p>I figured that since I can't determine the day variable, setting the times variable the way I am will not really work. I made a view that calls this method that I have tried to hit view ajax:</p>\n\n<pre><code>    $(document).ready(function () {\n    var day = $(\".availableDays\").html();\n    $.ajax({\n        url: \"/availableTimes/\" + \"?='\" + day,\n        type: 'GET',\n        error: function () { document.title = 'error' },\n        success: function (data) {\n            var listItem = \"&lt;li&gt;\" + data.toString() + \"&lt;/li&gt;\";\n            $(\".availableTimes\").html(listItem);\n        }\n    })\n});\n</code></pre>\n\n<p>The view simply calls the method I want, like so:</p>\n\n<pre><code>public ActionResult AvailableTimes()\n{\n    var day = Request.Url.Query;\n    var availability = Wizard.Staff.GetAvailabilityTimes(Wizard.Service, DateTime.Now.ToString(\"yyyyM\"), day);\n    return Json(availability, JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n\n<p>NOTHING seems to be working. If i just hit the url's I get the json back, so I know it is the right place. If I just bind the days and get rid of my onReady scripts it will render the days in a list.</p>\n\n<p>Help!</p>\n"},{"tags":["javascript","jquery","ajax","function"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13086694,"title":"how to exit a function in jquery when an error happens in jquery.ajax","body":"<p>I'woul like to quit my function when an error happens in jquery ajax. for example: if i'm calling $.ajax with a function which has other instructions out of $.ajax and when it comes that my $.ajax call has an error, if i try to call return to end up the remaining instructions, those remaining instructions are executed.</p>\n\n<p>So, what i want is to end the whole function from the erro $.ajax parameter.</p>\n\n<pre><code>$.ajax({\n type: \"POST\",\n url: \"home.aspx/ReturnInfoAge\",\n data: \"{'dD':'\" + $('#dDate_wx').val() + \"','dM':'\" + $('#dMonth_wx').val() + \"','dY':'\" +   $('#dYear_wx').val() + \"'}\",\n contentType: \"application/json; charset=utf-8\",\n  dataType: \"json\",\n   success: function (msg) {\n    if (msg.d === true) {\n       prt.children('.tipCont').remove();\n     } else {\n       getTooltips(prt, 'criticalv', 'critical', msg.d);\n        showMessagingTiming('warning', msg.d, 'Vérification de la date de naissance', null, 5000);\n         return;\n          }\n    },\n     error: function (errorMsg) {\n       getTooltips(prt, 'criticalv', 'critical', \"Veuillez bien saisir la date de naissance.\");\n      showMessagingTiming('warning', 'Veuillez vérifier: certains champs n\\'ont pas les valeurs qu\\'il faut.', 'Vérification des champs', null, 5000);\n       return;\n     }\n })\n//other instructions \n</code></pre>\n\n<p>I just don't want, if an error happens in $.ajax error parameter to execute the other remaining instructions</p>\n"},{"tags":["iphone","ajax","asynchronous","phonegap"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":7153,"score":3,"question_id":4178604,"title":"PhoneGap - Approach to authenticate against a remote website?","body":"<p>I'm playing with PhoneGap for the first time.  I'd like to do the following:</p>\n\n<p>Create a login UI in the file index.html like so:</p>\n\n<pre><code>&lt;input id=\"email\"&gt;\n&lt;input id=\"password\"&gt;\n&lt;button id=\"login\"&gt;Login&lt;/button&gt;\n</code></pre>\n\n<p>The UI will appear on an iphone.  When user clicks the login button, I want to asychronously authenticate against the website <a href=\"http://mysite.com/login\" rel=\"nofollow\">http://mysite.com/login</a>.  If authentication fails, user stays on the index.html UI.  If authentication succeeds, user sees a new UI found in dashboard.html, which looks like this:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li&gt;task 1&lt;/li&gt;\n   &lt;li&gt;task 2&lt;/li&gt;\n   &lt;li&gt;task 3 etc... (asychronously retrieve data from http://mysite.com)&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>The user can perform asynchronous actions against the list in dashboard.html.  So to do this, the server-side scripts must always check to see if user has the appropriate permissions.</p>\n\n<p>SO my questions are:</p>\n\n<p><strong>1) I've outlined what I'd like to achieve, but i've also suggested web-development philsophy to solving the problem.   Is there a better overall approach?</strong></p>\n\n<p>2) Which asynchronous technology should I use? Ajax, webservice, something else?</p>\n\n<p>3) Can I still use SESSION on the server side to maintain user session data like user_id, roles, permissions etc...  That way the client machine doesn't have to transmit this data with every asynchronous call?</p>\n"},{"tags":["php","jquery","ajax","firefox","google-chrome"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13292087,"title":"JQuery Ajax - reload Image onClick works with chrome but not with firefox nor with IE","body":"<p>Ok this is very spooky....\nI'm trying to reload a CAPTCHA Image which is generated on the server side and I don't want to reload the whole page for that, hence I have to use AJAX.\nSo what I do is to first trigger a php file on server side (with AJAX), which updates all needed stuff so I can have a new CAPTCHA Image.\nThen when this is done I simply update the image src=\"\", to load the new image from that php file.\nHere the code:</p>\n\n<hr>\n\n<ul>\n<li><strong>File 1</strong></li>\n</ul>\n\n<p>HTML:</p>\n\n<pre><code>&lt;tr id=\"rowWithCaptcha\"&gt;\n                    &lt;td&gt;&lt;p&gt;&lt;img id=\"captchaImg\" src=\"./?&lt;?php echo session_name() ?&gt;=&lt;?php echo session_id() ?&gt;\"/&gt;&lt;/p&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>JQuery-Skript:</p>\n\n<pre><code>$(\"#reloadImg\").click(function(){\n           $.ajax({\n              url: 'getNewKCAPTCHA.php',\n              cache: false,\n              type: 'POST',  \n              async: false,\n              success: function(){\n                 $(\"#captchaImg\").attr(\"src\",\"http://localhost/Captcha2/TestPages/TestPage3Q/getNewKCAPTCHA.php?\");\n              }\n           });\n        });\n</code></pre>\n\n<hr>\n\n<ul>\n<li><strong>File two:</strong></li>\n</ul>\n\n<p>PHP:\nkcaptcha.php is where all the captcha magic happends :)\nso if you just open this php file in your browser, you'll get the captcha image itself.\nAnd if you reload the page the image changes every time.....</p>\n\n<pre><code>    &lt;?php include('kcaptcha.php'); session_start(); $captcha = new KCAPTCHA(); $_SESSION['captcha_keystring'] = $captcha-getKeyString(); echo TRUE; ?&gt;\n</code></pre>\n\n<hr>\n\n<p>So the weird thing now is that this whole thing (AJAX call and update of picture) is working just fine with the new chrome browser, but when I try it with FFOX or IE it works only one time and any further click doesnt change anything.....I think it has something to do with the JQuery part, but I just cant get it to work :///</p>\n\n<p>Every help is appreciated!!!\nThanx in advance!</p>\n"},{"tags":["ajax","variables","submit","uploader"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2,"score":0,"question_id":13292931,"title":"qq ajax file uploader - submit values with onSubmit","body":"<p>Does anybody know how to submit element values along with submitted uploaded AJAX file using qq AJAX file uploader? (http://valums.com/ajax-upload/).</p>\n\n<p>Options only support static binding, but I need to collect values just before submission of the file.</p>\n\n<p>For example, I have a checkbox id=ofield-delete-previous-pdf and I want to submit whether it is checked or not. Checkbox can be un/checked after qq javascript is loaded.</p>\n\n<p>Following code does not work for me:</p>\n\n<pre><code>'onSubmit'=&gt;'function(file, ext){\n    var delete=$(\"#ofield-delete-previous-pdf\").is(\":checked\") ? 1 : 0;\n    qq.FileUploaderBasic.prototype.setParams({ **&lt;-- not working**\n        \"paramDeletePrevious\":delete\n    });\n}'\n</code></pre>\n\n<p>How can I attach variable \"delete\" to qq object?</p>\n\n<p>Thank you in advance.\nLubos</p>\n"},{"tags":["javascript","ajax","asp.net-mvc-3","viewmodel","knockout.js"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":734,"score":1,"question_id":8509119,"title":"Populating MVC3 view model with a selected value from a JavaScript/Knockout dropdown?","body":"<p>I’m looking for advice on how to populate the viewmodel passed to the view after a list is retrieved and an item selected in a dropdown list.  Note that I also have a client side viewmodel that is used for the Ajax/Knockout client code but this is not the view model that I am trying to populate.  I may have to map from one view model to the other but I'm not sure if that is the correct solution.</p>\n\n<p><strong>View -  Form</strong> </p>\n\n<p>In my form I am using Knockout and JavaScript for my dropdowns.  How can I populate the view model m.VMResidencyWTCS.ScCountyCd field with the county code value that is selected?  Is it possible to also capture the desription?  If so, how would this be done as well?</p>\n\n<pre><code>@model Apps.Model.ViewModels.AVMApplicationInfo\n...\n@using (Html.BeginForm(\"ApplicationDetails\", \"PersonalInfo\"))\n{\n    &lt;fieldset&gt;\n        &lt;div class=\"appl-step\"&gt;\n      ...\n            &lt;div class=\"editor-label\"&gt;\n                &lt;span class=\"error\"&gt;*&lt;/span&gt;@Html.LabelFor(m =&gt; m.VMResidencyWTCS.ScCountyCd) \n            &lt;/div&gt;\n            &lt;div class=\"editor-field\"&gt;\n                &lt;select id='counties' \n                        data-bind='\n                            options: selectedResidencyState() ? counties : null, \n                            optionsValue : \"CountyCd\", \n                            optionsText: \"CountyDescr\", \n                            optionsCaption: \"[Please select a county]\", \n                            value: selectedCounty,\n                            visible: (counties() &amp;&amp; counties().length &gt; 0 )'&gt;\n                &lt;/select&gt;\n                &lt;span data-bind='\n                    template: {name: \"noInfoTemplate\"},\n                    visible: !(counties() &amp;&amp; counties().length &gt; 0)'&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p><strong>View -  JavaScript</strong> </p>\n\n<p>This is my script for calling back to the controller for the county dropdown list. Note that the county dropdown is populated when a state is selected in another dropdown.</p>\n\n<pre><code>&lt;script type='text/javascript'&gt;\n    $(document).ready(function () {\n    var residency = function () {\n        this.selectedResidencyState = ko.observable();\n        this.selectedCounty = ko.observable();\n                    ...\n        this.states = ko.observableArray();\n        this.counties = ko.observableArray();\n     ...\n\n        this.selectedResidencyState.subscribe(function (stateCd) {\n            this.selectedCounty(undefined);\n            this.counties(undefined);\n\n            if (stateCd != null) {\n                $.ajax({\n                    url: '@Url.Action( \"GetCounties\", \"PersonalInfo\")',\n                    data: { stateCd: stateCd },\n                    type: 'GET',\n                    success: function (data) {\n                        residencyViewModel.counties(data);\n                    }\n                });\n            }\n        } .bind(this));\n\n    };\n\n    var residencyViewModel = new residency();\n    ko.applyBindings(residencyViewModel);\n\n    //Load the states\n    $.ajax({\n        url: '@Url.Action( \"GetResidencyStates\", \"PersonalInfo\" )',\n        type: 'GET',\n        success: function (data) {\n            residencyViewModel.states(data);\n        }\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public class PersonalInfoController : Controller\n{\n…\n    [HttpGet]\n    public virtual ActionResult GetCounties(string stateCd)\n    {\n        var counties =\n            (\n                from county in this._countyRepository.All\n                where (county.CountryCd == \"USA\" &amp;&amp; county.ResidencyStateCd == stateCd)\n                select new\n                {\n                    CountyCd = county.CountyCd,\n                    CountyDescr = county.CountyDescr,\n                    StateCd = county.ResidencyStateCd,\n                    CountryCd = county.CountryCd // Added for populating model ?Needed?\n                }\n            ).ToList();\n\n        return Json(counties, JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n"},{"tags":["javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13291951,"title":"Using ajax with Hyperlinks","body":"<p>I've created a bookmark page that retrieves links from a database and displays it. I'm able to log in, add new links &amp; delete them. However, when I delete an entry it displays <em>delete.php</em> instead of loading the page onto itself (the query does work).</p>\n\n<p>I've most likely over-complicated my code at this point and am probably overlooking something simple, as I've used a lot of JavaScript for other elements of the page.</p>\n\n<p>The entries are added dynamically so this part of the HTML is being appended:</p>\n\n<pre><code>&lt;h2&gt;\n    &lt;a href=\"delete.php?URL='+url+'\"&gt;[x]&lt;/a&gt;\n&lt;/h2&gt;\n&lt;a href=\"'+url+'\" target=\"iFrame\" class=\"linkURL\"&gt;\n    &lt;div class=\"bookmark\"&gt;\n        &lt;h3 style=\"float: left;\"&gt;'+title+'&lt;/h3&gt;\n        &lt;br /&gt;\n        &lt;p&gt;'+desc+'&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>//  DELETE FUNCTION\n$(\"h2 a\").click(function() {\n    return false;\n    var action = $(this).attr('href');\n    var form_data = {\n        URL: $(\"#linkURL\").attr('href'),\n        is_ajax: 1\n    }; // form_data\n    $.ajax({\n        type: \"POST\",\n        url: action,\n        data: form_data,\n        success: function(response){\n            if(response == 'success') {\n                alert('Successful delete!');\n            } else { // if\n                alert('Delete failed.');\n            } // else\n        } // function(response)\n    }); // ajax\n    return false;\n}); // h2\n</code></pre>\n\n<p>The page is located here: <a href=\"http://samaradionne.com/links6/\" rel=\"nofollow\">http://samaradionne.com/links6/</a> if it is easier to view the whole thing. </p>\n"},{"tags":[".net","ajax","script"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13292249,"title":"Is there a way of setting a path for scripts?","body":"<p>I'm using a number of ajax utils that generate scripts. ModalPopupExtender being one of them.</p>\n\n<p>I've set up a static subdomain for all my css/js/images etc and I simply prepend the path.</p>\n\n<p>What i'd like to do is do the same with the ajax scripts - is this possible? In effect I'm wanting to bundle the scripts to me own CDN.</p>\n\n<p><img src=\"http://i.stack.imgur.com/37Tzw.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["asp.net","ajax","gridview","asp.net-ajax","updatepanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13053675,"title":"Force OnRowCommand for GridView inside of an UpdatePanel to cause a Full Postback","body":"<p>I have an UpdatePanel and inside of it is a GridView.  The GridView allows the user to sort and handles paging.  All of that I want to do a partial postback.  That is working just fine.  However, I have a ButtonField that has a CommandName set.  The GridView has an OnRowCommand set to call code-behind.  I need that request to do a full postback and not a partial postback.  I have tried adding a PostBackTrigger but that forces a full postback for everything in the GridView since you can't add a Event name.  The AsyncPostBackTrigger does not perform a full postback.  How can I have just the OnRowCommand do a full postback and everything else still do partial postbacks?</p>\n"},{"tags":["php","jquery","mysql","ajax","oop"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13288569,"title":"jQuery-Ajax retrieve function with PHP classes and functions","body":"<p>Hi all I am new to using jQuery and I want to use the AJAX function for the search function my website. However I am having a bit of difficulty learning this as I can only find examples of using non function related PHP. I am currently trying to learn from this youtube example <a href=\"http://www.youtube.com/watch?v=Yb3c-HljFro\" rel=\"nofollow\">jQuery Youtube Example</a> . However this seems difficult to implement. </p>\n\n<p>A little bit about what I am trying to achieve. I want to type in the postcode into my search bar and have it retrive all the relevant data fields that match using AJAX so that it is displayed in the div directly below the search bar. </p>\n\n<p>As I'm not very familiar with jQuery I'm not sure if I am going about this the right way, any input will be warmly welcomed. Thank you in advance!</p>\n\n<p>My code is as so</p>\n\n<p>index.php </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"js/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/ajax.js\"&gt;&lt;/script&gt;\n&lt;?php include(\"header.php\"); \n$houseobject = new House();\n$houseobject-&gt;search($_POST['term']);?&gt;\n&lt;div id=\"mainContent\"&gt;\n  &lt;div id=\"searchformWrap\"&gt;\n    &lt;br/&gt;&lt;h2&gt;Search for Accomodation&lt;/h2&gt;\n    &lt;div id=\"searchform\"&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;\n      &lt;form method=\"post\" action=\"index.php\" name=\"search\" id=\"search_form\"&gt;\n        &lt;div class=\"searchrow\"&gt;\n        &lt;div class=\"searchlabel\"&gt;Location&lt;/div&gt;\n        &lt;div class=\"searchinput\"&gt; \n        &lt;input type=\"text\" name=\"term\" id=\"term\" /&gt;\n        &lt;input type=\"submit\" name=\"submit\" id=\"searchsubmit\" value=\"Search\"/&gt;\n      &lt;/form&gt;\n      &lt;div class=\"help\"&gt;e.g. 'PO5' or 'Portsmouth'&lt;/div&gt;\n    &lt;/div&gt; &lt;!-- end input --&gt;\n  &lt;/div&gt; &lt;!-- end .row --&gt;\n  &lt;div id=\"searchquery\"&gt; &lt;/div&gt;\n&lt;/div&gt; &lt;!-- End maincontent --&gt;\n</code></pre>\n\n<p>classes/class.House.inc</p>\n\n<pre><code>&lt;?php \ninclude (\"connect.class.Database.inc\");\nclass House extends Database {\n\n  public function search ($term){\n    $query = \"SELECT * FROM houses \n      WHERE postcode like '%\".$this-&gt;mysqli-&gt;real_escape_string($term).\"%'\";\n    $result = $this-&gt;mysqli-&gt;query($query);\n    $num_result = $result-&gt;num_rows;\n    if($num_result &gt; 0){\n      while($rows =$result-&gt;fetch_assoc()) {        \n        $this-&gt;data[]=$rows;\n        //print_r($rows);\n      }      \n      return $this-&gt;data;\n    } else{\n       echo 'No Records Found';    \n    }\n    echo json_encode($data);\n  }\n\n}\n</code></pre>\n\n<p>js/ajax.js </p>\n\n<pre><code>  $('input#searchsubmit').on('click', function() {\n    if ($.trim(term) != '') {\n       $.post('classes/class.House.inc', {term: term}, function(data) {\n          $('div#searchquery').text(data);\n       });\n    }\n  });\n}\n</code></pre>\n\n<p>I have usually been grabbing results by pointing the form on index.php to...</p>\n\n<p>search.php </p>\n\n<pre><code>&lt;table width=\"500\" border=\"1\" cellpadding=\"5\"&gt;\n &lt;tr&gt;\n  &lt;th width=\"16\" scope=\"row\"&gt;id&lt;/th&gt;\n  &lt;td width=\"95\"&gt;bedrooms&lt;/td&gt;\n  &lt;td width=\"140\"&gt;description&lt;/td&gt;\n  &lt;td width=\"104\"&gt;roadname&lt;/td&gt;\n  &lt;td width=\"71\"&gt;postcode&lt;/td&gt;\n &lt;/tr&gt;\n &lt;?php\n require(\"classes/class.House.inc\");\n $obj = new House();\n if ($data = $obj-&gt;search($_POST['term']))\n {\n    foreach($obj-&gt;data as $val){\n      extract($val);\n    }\n }\n ?&gt;\n &lt;tr&gt;\n      &lt;td scope=\"row\"&gt;&lt;?php echo $id; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $bedrooms; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $description; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $roadname; ?&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;?php echo $postcode; ?&gt;&lt;/td&gt;\n &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","upgrade","form-for"],"answer_count":3,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":586,"score":2,"question_id":7044027,"title":"How to upgrade the :update=>'div_id' option of remote_form_for from Rails 2 to Rails 3?","body":"<p>I can't figure out how to upgrade this code from Rails 2 to Rails 3:</p>\n\n<pre><code>&lt;% remote_form_for(item, :update =&gt; 'div_id') do |f| %&gt;\n... \n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>&lt;%= form_for :item, :remote =&gt; true, :url =&gt; { :controller =&gt; \"items\", :action =&gt; \"create\" }, :update =&gt; 'div_id' do |f| %&gt;\n...\n</code></pre>\n\n<p>It creates the new item but <strong>it fails in updating the content</strong> within <code>&lt;div id=\"div_id\"&gt;&lt;/div&gt;</code> tags. It seems Rails 3 no longer supports the \"<code>:update</code>\" option for a remote <code>form_for</code>. Any suggestion?</p>\n"},{"tags":["javascript","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13291901,"title":"ReferenceError: ajaxCall is not defined","body":"<p>I'm a little bit lost... I have a site, which has a lot AJAX calls. I tried with some JavaScript textfield formatting, but that was too difficult to handle, so I decided to go back to normal without it. But right now none of my Ajax calls are working and I don't know why... All I got is this error:</p>\n\n<pre><code>ReferenceError: name-of-the-call is not defined\n</code></pre>\n\n<p>The calls are locating in the \"scripts.js\" file and this is included in the header from the very begining.</p>\n\n<p>This is my header right now with an uploadify script and an arrow key navigation between the input fields.</p>\n\n<pre><code>&lt;head&gt;\n&lt;title&gt;The title&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/scripts/uploadify.css\"&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/scripts/jquery.uploadify.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"scripts.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/scripts/ajaxsubmit.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        &lt;?php $timestamp = time();?&gt;\n        $(function() {\n            $('#file_upload').uploadify({\n                'formData'     : {\n                    'timestamp' : '&lt;?php echo $timestamp;?&gt;',\n                    'token'     : '&lt;?php echo md5('unique_salt' . $timestamp);?&gt;'\n                },\n                'height'   : 25,\n                'buttonText' : 'bla bla...',\n                'onUploadSuccess' : function(file, data, response) {\n                    document.getElementById(\"uploadedId\").innerHTML+='&lt;p style=\"margin: 0px;\"&gt;&lt;img width=\"25px\" src=\"/img/success.png\" /&gt;&lt;b&gt;' + data + '&lt;/b&gt;&lt;/p&gt;';\n                    var str = document.getElementById(\"uploadedFiles\").value;\n                    if(str == \"\"){\n                        document.getElementById(\"uploadedFiles\").value=data;\n                    }else{\n                        document.getElementById(\"uploadedFiles\").value+=',' + data;\n                    }\n                },\n                'swf'      : '/scripts/uploadify.swf',\n                'uploader' : '/scripts/uploadify.php'\n            });\n        });\n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function(){\n            $('body').on('keyup', 'input', function(e){\n                if(e.which==39)\n                    $(this).closest('td').next().find('input').focus();\n                else if(e.which==37)\n                    $(this).closest('td').prev().find('input').focus();\n                else if(e.which==40)\n                    $(this).closest('tr').next().find('td:eq('+$(this).closest('td').index()+')').find('input').focus();\n                else if(e.which==38)\n                    $(this).closest('tr').prev().find('td:eq('+$(this).closest('td').index()+')').find('input').focus();\n            });\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>Can someone help me out, what could be the problem here?</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["jquery","ajax","post","jax-rs"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13275318,"title":"Retrieving parameters using JAX-RS and jquery .ajax()","body":"<p>I'm writing a basic web service using jax-rs. I'm testing the application using the following JQuery. I can access the parameters fine using the GET parameters but when I use POST, it fails. I use the following JQuery to test both only switching \"POST\" to \"GET\". </p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"http://localhost:8080/MyWebService/\",\n    data: 'text=this is text',\n    dataType: 'jsonp',\n    success: function(data){\n\n        console.log(data);\n\n    },\n    error: function(){alert('failure');}\n});\n</code></pre>\n\n<p>The java end looks like the following. Please keep in mind I am not having any issues with the get portion.</p>\n\n<pre><code>@GET\npublic Response getWork(@QueryParam(\"callback\") String callbackName, @QueryParam(\"text\") String searchText,\n        @Context HttpServletResponse response, @Context HttpServletRequest request) throws JsonGenerationException,\n        JsonMappingException, IOException {\n            System.out.println(searchText);\n    return work(callbackName, searchText, response, request);\n}\n\n@POST\npublic Response postWork(@FormParam(\"callback\") String callbackName, @FormParam(\"text\") String searchText,\n        @Context HttpServletResponse response, @Context HttpServletRequest request) throws JsonGenerationException,\n        JsonMappingException, IOException {\n    System.out.println(searchText);\n    return work(callbackName, searchText, response, request);\n}\n</code></pre>\n\n<p>When using GET, it prints the text but when using POST, it prints null. What is needed to be able to access the parameters using the POST method? </p>\n"},{"tags":["ajax","rest","dojo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13283905,"title":"Retrieving XML data from a ReST service across domains with Dojo","body":"<p>I am trying to write a browser-based Javascript client for a ReST application which responds with XML (so it seems JSONP is out of the questions).</p>\n\n<p>I am trying to retrieve the data using <code>dojo.io.script.get</code> but the parameter that is passed to the callback function is an object from which it seems I cannot retrieve the XML data of the response.</p>\n\n<pre><code>dojo.io.script.get({url:\"http://enterpriseapp.enterprisedomain/path/to/rest/collection\",\n    load:function (data) {\n        // 'data' does not contain the actual response (which is XML)\n    }\n});\n</code></pre>\n\n<p>What is the correct way to retrieve this data?</p>\n"},{"tags":["javascript","jquery","ajax","django"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13290734,"title":"Get a whole div with a Jquery get Request. Django","body":"<p>On my django  app I display a list of the user's facebook friend, using django-facebook.\nThe friends are sorted depending on there \"activity\" (if they are active or not).</p>\n\n<p>I would like to refresh this list on my page without refreshing the whole page.</p>\n\n<p>Here is my view:</p>\n\n<pre><code>class fb_friend(request)\n    if request.user.userprofile.facebook_id:\n        # Get Friends \n\n        profile = request.user.get_profile()\n        idle_friends = profile.get_idle_facebook_friends()\n        active_friends = profile.get_active_facebook_friends()\n        offline_friends = profile.get_inactive_facebook_friends()\n        friend_groups = (active_friends, idle_friends,  offline_friends)\n</code></pre>\n\n<p>In my template:</p>\n\n<pre><code>     &lt;div&gt;\n    {% for group in friend_groups %}\n     {% for friend in group %}\n    &lt;p&gt;{{ friend.name }} ({{ friend.online_presence }})&lt;/p&gt;\n     {% endfor %}\n    {% endfor %}\n     &lt;/div&gt;\n</code></pre>\n\n<p>My idea would be to put the content of my view in an other view, and then use a JQuery request with a setInterval. \nBut the problem is that I only know how to get one element of a page with a JQuery request.</p>\n\n<p>So my question is how can I get the whole div with a JQuery get request and display it in my template?</p>\n\n<p>Thank you for your help!</p>\n"},{"tags":["php","ajax","mvc","controller"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":58,"score":1,"question_id":13289967,"title":"Good practice? PHP MVC Controller Ajax","body":"<p>Is this a good practice to handle normal and ajax calls with one controller:</p>\n\n<pre><code>&lt;?php\n\nclass SomeController extends Controller {\n\n    function index() {\n\n         if(!$this-&gt;input-&gt;is_ajax_request()) {\n             // load model\n             // create form\n             // pass data to view\n             // ...\n         } else {\n            // validate input\n            // load model\n            // write data to database\n            // return with some json string\n         }\n\n    }\n\n}\n</code></pre>\n\n<p>What are the advantages and disadvantages?</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":21,"score":0,"question_id":13289754,"title":"How to trim leading and trailing spaces from an ajax responseText?","body":"<p>I want to display in a javascript alert the return value of an ajax ( the responseText ). The problem is that there is an enormous trailing space in the alert ! So how to remove that space ?</p>\n"},{"tags":["ajax","echo","alert"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13290381,"title":"Echo an file content in ajax","body":"<p>Hello I have used such code, How to echo an 'load.php' contenton alert?</p>\n\n<p>\"alert(\\'Submitted: ech results of load file \\');\"</p>\n\n<pre><code>$.ajax({\n                url : \\'load.php\\',\n                data: \\'inputField\\',\n                data: \\'\\',\n                type: \\'GET\\',\n                cache: \\'false\\',\n                beforeSend: function () {\n                    link.addClass(\\'loading\\');                 \n                },\n                success: function () {\n                    link.removeClass(\\'loading\\');      \n                    alert(\\'Submitted\\');\n                }\n</code></pre>\n"},{"tags":["asp.net","ajax","wcf","https","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13290269,"title":"Secure Ajax Configuration WCF","body":"<p>I'm trying to create a WCF service that is consumed over a secure protocol. However, when trying to use the endpoint with the secure binding, I keep getting a 400 error.</p>\n\n<p>Here are my endpoints bindings, and behavior configurations:</p>\n\n<p>Endoints:</p>\n\n<pre><code>    &lt;endpoint address=\"script\" binding=\"webHttpBinding\"\n     behaviorConfiguration=\"AspNetAjaxBehavior\"\n     bindingConfiguration=\"AjaxBindingConfig\" name=\"AJAXEndPoint\"\n     contract=\"Service.MyService\" /&gt;\n    &lt;!--HTTPS--&gt;\n    &lt;endpoint address=\"sec\" binding=\"webHttpBinding\"\n     behaviorConfiguration=\"AspNetAjaxBehavior\"\n     bindingConfiguration=\"SecureAjaxBindingConfig\" name=\"secureAJAXEndPoint\"\n     contract=\"Service.MyService\"&gt;\n      &lt;identity&gt;\n        &lt;dns value=\"localhost\"/&gt;\n      &lt;/identity&gt;\n    &lt;/endpoint&gt;\n</code></pre>\n\n<p>Bindings:</p>\n\n<pre><code>  &lt;webHttpBinding&gt;\n    &lt;binding name=\"AjaxBindingConfig\" closeTimeout=\"00:15:00\" \n      openTimeout=\"00:15:00\" receiveTimeout=\"00:15:00\" sendTimeout=\"00:15:00\"\n      allowCookies=\"false\" bypassProxyOnLocal=\"false\"\n      hostNameComparisonMode=\"StrongWildcard\" maxBufferSize=\"524288\"\n      maxBufferPoolSize=\"524288\" maxReceivedMessageSize=\"524288\"\n      transferMode=\"Buffered\" useDefaultWebProxy=\"true\"\n      crossDomainScriptAccessEnabled=\"true\"&gt;\n      &lt;readerQuotas maxDepth=\"32\" maxStringContentLength=\"32768\"\n       maxArrayLength=\"32768\" maxBytesPerRead=\"4096\"\n       maxNameTableCharCount=\"32768\" /&gt;\n    &lt;/binding&gt;\n    &lt;!-- HTTPS --&gt;\n    &lt;binding name=\"SecureAjaxBindingConfig\" closeTimeout=\"00:15:00\"\n      openTimeout=\"00:15:00\" receiveTimeout=\"00:15:00\" sendTimeout=\"00:15:00\"\n      allowCookies=\"false\" bypassProxyOnLocal=\"false\"\n      hostNameComparisonMode=\"StrongWildcard\" maxBufferSize=\"524288\"\n      maxBufferPoolSize=\"524288\" maxReceivedMessageSize=\"524288\"\n      transferMode=\"Buffered\" useDefaultWebProxy=\"true\"\n      crossDomainScriptAccessEnabled=\"true\"&gt;\n      &lt;readerQuotas maxDepth=\"32\" maxStringContentLength=\"32768\"\n       maxArrayLength=\"32768\" maxBytesPerRead=\"4096\" \n       maxNameTableCharCount=\"32768\" /&gt;\n      &lt;security mode=\"Transport\" /&gt;\n    &lt;/binding&gt;\n    &lt;!-- END HTTPS --&gt;\n  &lt;/webHttpBinding&gt;\n</code></pre>\n\n<p>Behaviors:</p>\n\n<pre><code>    &lt;behavior name=\"AspNetAjaxBehavior\"&gt;\n      &lt;enableWebScript /&gt;\n    &lt;/behavior&gt;\n</code></pre>\n\n<p>Now, oddly enough, I can consume the endpoint <code>AJAXEndPoint</code>over HTTPS with no problems, but when I use <code>secureAJAXEndpoint</code>, I receive the 400 error.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","jquery","ajax","blueimp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13249578,"title":"How to call event jQuery-File-Upload in this function","body":"<p>I wanna check from api first before upload file</p>\n\n<pre><code>$('.file_upload_button_wrapper').live('click', function () {\n        // check here\n        $.ajax({\n            url: '/?app=files&amp;getfile=ajax%2Fupload.php',\n            dataType: \"json\",\n            success: function(data) {\n                //$('.result').html(data);\n\n                if (data.data.message ==\"DAT\"){\n\n                    $.confirm({\n                        'title'     : 'Lỗi',\n                        'message'   : 'Tài khoản đã hết hạn sử dụng. &lt;br /&gt;Bạn có muốn gia hạn để tiếp tục upload ?',\n                        'buttons'   : {\n                            'Yes'   : {\n                                'class' : 'blue',\n                                'action': function(){\n                                    window.location=\"http://id.kgp.vn\";\n\n                                }\n                            },\n                            'No'    : {\n                                'class' : 'gray',\n                                'action': function(){}  // Nothing to do in this case. You can as well omit the action property.\n                            }\n                        }\n\n                    });\n\n                }\n\n                else{\n\n                    $('.file_upload_start').trigger('click');\n                }\n\n            }\n\n        });\n // $('.file_upload_start').trigger('click');\nreturn false;\n    });\n</code></pre>\n\n<p>and I have function to open file and upload.</p>\n\n<pre><code>$(function () {\n        $('.file_upload_start').fileupload({\n            dropZone:$('#content'), // restrict dropZone to content div\n            add:function (e, data) {\n                var files = data.files;\n                var totalSize = 0;\n\n                if (files) {\n</code></pre>\n\n<p>....</p>\n\n<p>I have problem when call this function in ajax when it success </p>\n\n<p>because ajax check first and after that upload file.</p>\n\n<p><code>if I call  $('.file_upload_start').trigger('click');</code> in success ajax it don't work but I call in</p>\n\n<p><code>$('.file_upload_button_wrapper').live('click', function () { }</code>\nIt works.</p>\n\n<p>How to call this event in ajax.</p>\n\n<p>Thank for advance</p>\n"},{"tags":["c#","jquery",".net","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13288342,"title":"Ajax jquery C# .net JSON passing params into [webmethod] from javascript - internal server error","body":"<p>the javascript to pass params:</p>\n\n<pre><code>&lt;script&gt;    \n    var str = \"pears\"\n    $.ajax({\n        url: 'WebService.asmx/HelloWorld', //'/WebService.asmx/HelloWorld',\n        data: \"{outputtype:'\" + str + \"'}\",\n        type: \"POST\",\n        cache: false,\n        dataType: 'json',\n        contentType: \"application/json; charset=utf-8\",\n        success: function (msg) {\n            var response = msg.d;\n            alert(response);\n        },\n        error: function (xhr, status, error) {\n            alert(error + \"\\n\" + xhr + \"\\n\" + status); //do something if there is an error\n        }\n    });\n</code></pre>\n\n<p>and the webmethod:</p>\n\n<pre><code>[WebMethod]\npublic string HelloWorld(String str)\n{\n    return str;\n}\n</code></pre>\n\n<p>I've spent an entire day on this and tried out countless variations of passing params into this method but none work. I've tried on different machines and I've tried making the webmethod static and I've tried various ways of passing in the values from the javascript.</p>\n\n<p>It will however work if I DON'T pass params.</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13289348,"title":"need to append element on jquery ajax success $.Map","body":"<pre><code>var divComments = \"#divComments\" + id;\n                    $.ajax({\n                        type: \"POST\",\n                        url: \"Posts.aspx/Comments\",\n                        data: \"{'id': '\" + id + \"'}\",\n                        dataType: \"json\",\n                        contentType: \"application/json\",\n                        success: function (data) {\n                            response($.map(data.d, function (item) {\n                                return {\n                                    $(divComments).append(item.display)\n                                };\n                            }));\n                        }\n\n                    });\n</code></pre>\n\n<p>On return i need to add one by one value to divcomments, how could i do this ? what  i wrote here is getting me an error to write <code>:</code></p>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":1195,"score":2,"question_id":5175029,"title":"How to set ajax returned value as a variable","body":"<p>I have the following ajax call which executes successfully:</p>\n\n<pre><code>function fnFormatDetails ( oTable, nTr )\n   {\n            var aData = oTable.fnGetData( nTr );\n\n            var memberid = 'memberid='+ aData[6];\n\n            $.ajax({\n                type: \"POST\",\n                url: \"shout.php\",\n                data: memberid,\n                success: function(html) {\n                    //$(\"#shout\").html(html);   \n                    var sOut = html.returned_val;\n                }\n            });\n\n            return sOut;\n        }\n</code></pre>\n\n<p>If I remove the commented out line ($(\"shout\").html(html) and use a div on my page, the results display fine. However, there is a second function which would use the HTML results from sOut and display accordingly in the proper position.</p>\n\n<p>The PHP file in shout.php simply 'echos' HTML to the page (which is then returned and displayed accordingly.</p>\n\n<p>I am unfortunately unable to set the variable sOut currently based on the results of my ajax call. What am I missing?</p>\n"},{"tags":["javascript","jquery","ajax","internet-explorer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13289295,"title":"unterminated string constant Jquery","body":"<p>I know what \"Unterminated String Constant\" signifies. I have gone through all the relevant questions as well but could not find any solution in my case.</p>\n\n<p>I use jQuery 1.7 extensively on my web page. I have many javascript functions as well. I have installed my files in many different environments but never got this error. After debugging my javascript functions in IE Developer Tool, I see that the code does not break in any of my javsacript function. But when everything gets over, jQuery1.7.js is called and after executing all the internal functional calls I get this error.</p>\n\n<p>I have tried and monitored the jquery variables as well but cannot pin point any particular place where the code might break with such error. Does anyone have any idea where should I check my code? I think that when I make an ajax call, the error appears at the end, after the call is finished and after the success function is completed. But, I don't know why.</p>\n\n<p>I don't know any better words to convey my problem, let me know if you need any more info.</p>\n\n<p>thanksc</p>\n"},{"tags":["jquery","ajax"],"answer_count":5,"favorite_count":2,"up_vote_count":12,"down_vote_count":0,"view_count":7241,"score":12,"question_id":1434519,"title":"Cancel a jQuery AJAX call before it returns?","body":"<p>I have a jQuery dialog box that opens and then an AJAX call is made.  I would like to make it so that if the dialog box is closed or the cancel button is pressed the AJAX call is canceled and its callback function is not called.  I can think of some ways to do it with a variable like so:</p>\n\n<pre><code>  function doStuff(){\n    var doCallback = true;\n    $('#dialog').dialog({\n      title: 'Dialog Title',\n      modal: true,\n      buttons: {\n        Cancel: function() {\n          doCallback = false;\n          doSomethingElse();\n        }\n      }\n    });\n    $.get('url/url/url', function(data){\n      if(doCallback){\n        doTheSuccessThing(data);\n      }\n    });\n  }\n</code></pre>\n\n<p>But, somehow that feels dirty to me and it doesn't actually stop the AJAX call from completing.  Is there a built-in way to cancel an AJAX call in progress?</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13289137,"title":"delete old ajax request / create new on","body":"<p>I am new here and new in all this jquery stuff. So I got stuck at one point.\nI am having a function with an ajax request:</p>\n\n<pre><code>jQuery.fn.test = function() {\n\n$.ajax({\n url:\"https://flinc.org/api/v2/groups/1120/schedule.json?\" + new Date().getTime(),\n dataType: 'jsonp', // Notice! JSONP &lt;-- P (lowercase)\n cache: false,\n success:function(json){\n$.each(json.rides, function(i, item) {\n    if(json.rides[i].type == 'ride_search') {\n            var type = 'Mitfahrt';\n            var text = 'von ' + json.rides[i].user.firstname + ' ' + json.rides[i].user.lastname;\n    }else{\n            var type = 'Fahrt';\n            var text = '' + json.rides[i].user.firstname + ' ' + json.rides[i].user.lastname;\n    }\n\n    content = '&lt;tr&gt;&lt;td&gt;' + type + '&lt;/td&gt;';\n    content += '&lt;td&gt;&lt;img width=\"25\" src=\"' + json.rides[i].user.avatars.small + '\"&gt;&lt;/td&gt;';\n    content += '&lt;td&gt;' + json.rides[i].start.city + '&lt;/td&gt;';\n    content += '&lt;td&gt;' + json.rides[i].destination.city + '&lt;/td&gt;';\n    content += '&lt;td&gt;' + type + ' ' + text + '&lt;/td&gt;&lt;/tr&gt;';\n    $(content).appendTo(\"#body2\");\n\n});\n\n\n\n },\n error:function(){\n     alert(\"Error\");\n },\n\n\n\n  });\n };\n</code></pre>\n\n<p>this function is calles when the page is opened.\nNow I have a field for searching.\nwith every keypress I want to unload / remove the old request and start a news one.</p>\n\n<p>I already tryed things like</p>\n\n<pre><code>$('#search').keypress(function() {\n  $('body2').remove();\n  $(\"body2\").test();\n})\n</code></pre>\n\n<p>But somehow it adds the new request to the old one.</p>\n\n<p>I want to implement a search function so the user just sees the requests with the search string in it.\nIs this possible?\nI already red alot but somehow I cant figure out why the old request keeps beeing there.\nWith every Keypress the list gets longer and longer.</p>\n\n<p>Hopefully you can help me.</p>\n"},{"tags":["c#","ajax","visual-studio-2010",".net-4.0","reportviewer"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":19147,"score":6,"question_id":2795592,"title":"Microsoft ReportViewer Web Control Requiring a ScriptManager","body":"<p>I'm trying to render the report viewer programmatically within a custom Page placed in an IHttpHandler context</p>\n\n<pre><code>ReportViewer rv = new ReportViewer();\nReportDataSource rds = new ReportDataSource();\nrds.Name = \"Report\";\nrv.LocalReport.ReportPath = \"Report.rdlc\";\n\nrds.Value = SomeReportObject;\n\nrv.LocalReport.DataSources.Add(rds);\nrv.LocalReport.Refresh();\n\nScriptManager scriptHandler = new ScriptManager();\nMyPage p = new MyPage();\np.Controls.Add(scriptHandler);\np.Controls.Add(rv);\n\nusing (TextWriter myTextWriter = new StringWriter())\n        {\n            using (HtmlTextWriter myWriter = new HtmlTextWriter(myTextWriter))\n            {\n               p.RenderControl(myWriter);\n            }\n        }\n</code></pre>\n\n<p>Although I have the ScriptManager added to the page but the runtime complains that the ReportViewer needs one, it throws the following exception at p.RenderControl(myWriter) line</p>\n\n<p><strong>The Report Viewer Web Control requires a System.Web.UI.ScriptManager on the web form.</strong></p>\n\n<p>And this is the MyPage Class</p>\n\n<pre><code>public class MyPage : Page\n{\n\n    public override void VerifyRenderingInServerForm(Control control)\n    {\n        //Empty Method\n    }\n\n    public override bool EnableEventValidation\n    {\n        get { return false; }\n        set { /* Do nothing */}\n    }\n}\n</code></pre>\n\n<p>Any help would be very appreciated. This is done on .NET 4 and I'm using ReportViewer 2010.</p>\n"},{"tags":["jquery","ajax","jscrollpane"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13289093,"title":"Cannot reinitialise jScrollPane (using Ajax)","body":"<p>I'm using the following code in my page, in order to reinitialise jScrollPane, for a div that refreshes it's content via ajax:</p>\n\n<pre><code>&lt;script&gt;\n    var $j = jQuery.noConflict();\n    $j(document).ready(function() {\n\n        $j('#map_data').jScrollPane({\n               showArrows: true,\n               autoReinitialise: false\n        });\n\n        $j('.country .point').click(function () {\n            var point_id = $j(this).attr('id');\n            theCall(point_id);\n        });\n\n    });\n\n    function theCall(pointid) { \n        $j.ajax({\n            type: 'POST',\n            url: 'my_ajax_receiver.php',\n            data: {point_id: pointid}, \n            dataType: 'html',     \n\n            success: function(a) {\n                            $j(\"#map_data\").html(a);\n\n                            var api = $j(\"#map_data\").jScrollPane().data('jsp');\n                            api.getContentPane().html(a);\n                            api.reinitialise(); \n            }\n\n        });\n    }\n&lt;/script&gt; \n</code></pre>\n\n<p>I searched and tested many other solutions suggested about this issue, but nothing worked till now. I don't see anything wrong in this code. Could somebody help me?</p>\n"},{"tags":["php","jquery","ajax","pdf"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":62,"score":3,"question_id":13209897,"title":"using AJAX and Jquery to create pdf using FPDF","body":"<p>I am trying to create pdf file using FPDF. </p>\n\n<p>What I right now have is an HTML page with various lines of data and a print button next to it. When someone clicks Print, I am sending corresponding data using Jquery by making AJAX call..</p>\n\n<p>This is my JQUERY code:</p>\n\n<pre><code>$('.printbtn').live('click', function(){\n    var printdata = 'name=' + name_t + '&amp;address=' + address_t;        \n    $.post('print.php', printdata, function(){\n    });\n    return false;\n });\n</code></pre>\n\n<p>this is print.php\n    \n\n<pre><code> $name = $_POST['name'];\n $address = $_POST['address'];\n\n require (\"fpdf17/fpdf.php\");\n\n $pdf = new FPDF('P','mm',array(90,100));\n\n $pdf-&gt;AddPage();\n\n $pdf-&gt;SetFont('Arial','B',12);\n\n $pdf-&gt;Cell(0,10,'name: '.$name);\n $pdf-&gt;Cell(0,10,'address: '.$address);\n\n $pdf-&gt;Output();\n\n ?&gt;\n</code></pre>\n\n<p>But I am not getting PDF in return. Whats wrong?? In fact, nothings happening..\nI want to retreive the pdf file and send it to print</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13288727,"title":"Updating content to the database onclick event","body":"<p>I spent the last 2 days trying to make the following code work.<br />\nI have three forms with content in different languages. For each of them there is an Edit button which popup a text editor. What I would like to do is when I click the button \"Save and close\" the edited content would be updated in the database using javascript (AJAX) and PHP/SQL but it gives me the following error: <b>Uncaught ReferenceError: xmlHttp is not defined</b>. So here is the code I have so far.</p>\n\n<pre><code>$mvccont .=\n    \"&lt;form action='edit_language/\".ID.\".raw' method='post' target='pop' class='comparelist' style='clear: both' onsubmit='window.open(\\\"\\\", \\\"pop\\\", \\\"width=0,height=0,resizeable,scrollbars\\\");'&gt;\".\n        \"&lt;input type='hidden' name='keyword' value='\".$keyword.\"'&gt;\".\n        \"&lt;table style='width:100%; border-collapse: collapse;' &gt;\".\n        \"&lt;tr&gt;&lt;td width='20%' &gt;&lt;div class='info' style='width:100%; border:none;' &gt;\".\n            substr($keyword, 0, 20).\"&lt;a title='\".$keyword.\"'&gt;&lt;input type='submit' value='Save' class='BUYN'/&gt;&lt;/a&gt;\".\n            \"&lt;a href='edit_language/\".$keyword.\"/delete'&gt;&lt;input type='button' value='Delete' class='NONA'/&gt;&lt;/a&gt;\".\n        \"&lt;/div&gt;&lt;/td&gt;\";\n\n        foreach($lan as $lang=&gt;$lame) {\n            $idk = str_replace(\" \", \"\", $keyword).$lang;\n            $mvccont .=\n            \"&lt;td&gt;&lt;div class='number3'\".(($red[$keyword][$lang]=='')?\" style='background: #fcc;'\":\"\").\" style='border:none;' &gt;\".\n                \"&lt;input type='hidden' name='touch\".$lang.$keyword.\"'/&gt;\".\n                \"&lt;input type='text' id='s\".$idk.\"' name='a\".$lang.\"' value='\".htmlentities($lame, ENT_QUOTES, \"UTF-8\").\"' onchange=\\\"this.style.borderColor='#ff0000'; document.getElementsByName('touch\".$lang.$keyword.\"')[0].value='true'\\\"/&gt;&lt;a onclick='popbox(false, \".$idk.\", true); mce();'&gt;&lt;input type='button' value='Edit' class='BUYN'/&gt;&lt;/a&gt;\".\n                \"&lt;br /&gt;\".($red[$keyword][$lang]).\n                \"&lt;script&gt;\".\n                    \"function falaffel\".$idk.\"(step) {\".\n                        \"var l\".$idk.\"=document.getElementById('s\".$idk.\"').value;\".\n                        \"if(step==1) {\".\n                            \"return '&lt;textarea&gt;'+l\".$idk.\"+'&lt;/textarea&gt;&lt;input type=\\\"button\\\" value=\\\"Save &amp; close\\\" class=\\\"NONA\\\" onclick=\\\"'+\\\"document.getElementById('s\".$idk.\"').value=tinyMCE.activeEditor.getContent(); \".$idk.\"=falaffel\".$idk.\"(1); popboxremove(); document.getElementById('s\".$idk.\"').style.borderColor='#ff0000'; updateValue(); document.getElementsByName('touch\".$lang.$keyword.\"')[0].value='true' \\\"+'\\\"&gt;';\".\n                        \"}\".\n                        \"return l\".$idk.\";\".\n                    \"}\".\n                    \"var \".$idk.\" = falaffel\".$idk.\"(1); \".\n                \"&lt;/script&gt;\".\n            \"&lt;/div&gt;&lt;/td&gt;\";\n        }\n        $mvccont .=\n    \"&lt;/tr&gt;&lt;/table&gt;&lt;/form&gt;\";\n</code></pre>\n\n<p>Then here is the AJAX code:</p>\n\n<pre><code>function updateValue(){\nif (window.XMLHttpRequest){\n    xmlhttp=new XMLHttpRequest();\n}\n\nxmlhttp.onreadystatechange=function(){\n    if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n        document.getElementById('confirm').innerHTML=xmlhttp.responseText;\n    }\n}\nvar url = \"administrator/comp/update_lang.php\";\n\nxmlHttp.open('GET', url, true);\nxmlHttp.onreadystatechange = callbackFunction;\nxmlHttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\nxmlHttp.send();\n}\n</code></pre>\n\n<p>And finally the PHP code:</p>\n\n<pre><code>&lt;?php\nforeach(array(1=&gt;\"en\", 2=&gt;\"it\", 3=&gt;\"pl\") as $id=&gt;$lang) {\n    if($_POST[\"touch\".$id.$_POST[\"keyword\"]]==\"true\") {\n        $sql = \"UPDATE translat SET value='\".mysql_real_escape_string($_POST[\"a\".$id]).\"', date=\".NOWTIME.\" WHERE lang=\".$id.\" AND keyword='\".urldecode($_POST[\"keyword\"]).\"'\";\n        $insert = $db-&gt;query($sql);\n        $insert-&gt;execute();\n        @unlink(TEMP.\"lang_\".$lang.\".cache\");\n    }\n}\n$mvccont .=\n\"&lt;script&gt;\".\n    \"window.close();\".\n\"&lt;/script&gt;\";\ndie($mvccont);\n?&gt;\n</code></pre>\n\n<p>Thank you so much for your help.</p>\n"},{"tags":["jquery","ajax"],"answer_count":5,"favorite_count":11,"up_vote_count":41,"down_vote_count":1,"view_count":51032,"score":40,"question_id":755885,"title":"How do I make jQuery wait for an Ajax call to finish before it returns?","body":"<p>I have a  server side function that requires login. If the user is logged in the function will return 1 on success. If not, the function will return the login-page.</p>\n\n<p>I want to call the function using Ajax and jQuery. What I do is submit the request with an ordinary link, with a click-function applied on it. If the user is not logged in or the function fails, I want the Ajax-call to return true, so that the href triggers. </p>\n\n<p>However, when I use the following code, the function exits before the Ajax call is done.</p>\n\n<p>How can I redirect the user gracefully to the loginpage?</p>\n\n<pre><code>$(\".my_link\").click(\n    function(){\n    $.ajax({\n        url: $(this).attr('href'),\n        type: 'GET',\n        cache: false,\n        timeout: 30000,\n        error: function(){\n            return true;\n        },\n        success: function(msg){ \n            if (parseFloat(msg)){\n                return false;\n            } else {\n                return true;\n            }\n        }\n    });\n});\n</code></pre>\n"},{"tags":["php","ajax","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13288433,"title":"How to save uploaded file in qq file uploader using php?","body":"<p>I am using <a href=\"https://github.com/valums/file-uploader\" rel=\"nofollow\">https://github.com/valums/file-uploader</a> uploader script on my website. I am searching for solution to save uploaded file in qq file uploader using php server side script.\nI tried to request file using    <code>$_FILES['qqfile']['tmp_name']</code>   but didn't works. Can anyone tell me php example to request and save file in qq file uploader?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13287895,"title":"AJAX loading message","body":"<p>I want to display a loading message while retrieving results via AJAX, but I can't. Can anybody help please?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n$(function() {\n\n    $(\".search_button\").click(function() {\n        // getting the value that user typed\n        var searchString    = $(\"#search_box\").val();\n        // forming the queryString\n        var data            = 'search='+ searchString;\n\n        // if searchString is not empty\n        if(searchString) {\n            // ajax call\n            $.ajax({\n                type: \"POST\",\n                url: \"do_search.php\",\n                data: data,\n                beforeSend: function(html) { // this happens before actual call\n                    $(\"#results\").html('');\n                    $(\"#search_result_box\").show();\n                    $(\"#searchresults\").show();\n                    $(\".word\").html(searchString);\n               },\n               success: function(html){ // this happens after we get results\n                    $(\"#results\").show();\n                    $(\"#results\").append(html);\n              }\n            });   \n        }\n        return false;\n    });\n});\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","asp.net-mvc-3","fileresult"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":36,"score":0,"question_id":13287043,"title":"How to download file PDF using FileResult but \"only\" via $ajax request?","body":"<p>This is the web method definition:</p>\n\n<pre><code>[HttpPost]\npublic FileResult GenerateReport(string Id) {\n     //............Code .................//\n return File(response.ReportContents, \"application/pdf\");\n\n} \n</code></pre>\n\n<p>and here is my jQuery ajax call to web method:</p>\n\n<pre><code>$(\".ValuationReport\").bind('click', function () {\n        $.ajax({\n            url: \"https://localhost.com/Report/GenerateReport\n            type: \"POST\",\n            data: { Id: \"00AFCA2F-6809-4FF4-BA32-125EAEBB1321\" },\n            success: function (data) {\n\n            },\n            error: function () {\n                alert(\"error\");\n            }\n        });\n    });\n</code></pre>\n\n<p>Please help me.</p>\n"},{"tags":["javascript","jquery","xml","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13286177,"title":"After parsing xml I am getting undefined as a result","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13285770/keeps-saying-result-property-is-not-defined-why\">Keeps saying result property is not defined. Why?</a>  </p>\n</blockquote>\n\n\n\n<p>I am parsing xml and what I want is to return xml after parsing it. The problem is that in my <code>getResult()</code> function <code>result</code> has a value of <code>undefined</code>. Why and how can I make it work?</p>\n\n<p>Here is my code</p>\n\n<pre><code>var result  = '';\n\nvar Xml = {\nto      : null,\nfrom    : null,\nurl     : null,\n\ninit: function (fromaddress, toaddress, link) {\n    from    = fromaddress;\n    to      = toaddress;\n    url     = link;\n\n    this.requestXml();\n    return this;\n},\n\nrequestXml: function () {\n    $.ajax({\n        type: \"GET\",\n        url: url,\n        dataType: \"xml\",\n        success: this.parseXml\n    });\n},\n\nparseXml: function (xml) {\n    console.log('xml: ' + $(xml));\n    result = $(xml);\n},\n\ngetResult: function () {\n    console.log('Result: ' + Xml.result); //&lt;--- Here result has undefined value\n    return result;\n}\n};\n</code></pre>\n"},{"tags":["jquery","ajax","codeigniter","history.js"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13287685,"title":"How to integrate history.js to my ajax site?","body":"<p>I have left and right div in my website and with navigation buttons.\nLet's say button_1, button_2.</p>\n\n<p>When clicking on these button will change the right div content using ajax so means the left div do nothing.</p>\n\n<p>The above is what I have done but I have a problem here, the url doesn't change. And I found history.js is able to solve this issue but I cannot find any tutorial about history.js + ajax.</p>\n\n<p>Can anyone help me out?</p>\n\n<p>Thank in adv</p>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13285285,"title":"Required alert on wordpress form","body":"<p>The contact form it´s working, if you fill it all it sends the message. The problem if you don´t fill in the email box, the form doesn´t alert you about it, is there anyway that I can show a word or somekind of alert to the user?</p>\n\n<p>this is my markup:</p>\n\n<pre><code>&lt;div class=\"form\"&gt;\n        &lt;h2&gt;ESCRIBENOS&lt;/h2&gt;\n        &lt;form method=\"post\" action=\"process.php\"&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Nombre (obligatorio):&lt;/label&gt;&lt;br/&gt;\n            &lt;input type=\"text\" name=\"name\" class=\"text\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Email (obligatorio):&lt;/label&gt;&lt;br/&gt;\n            &lt;input type=\"text\" name=\"email\" class=\"text\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Telefono:&lt;/label&gt;&lt;br/&gt;\n            &lt;input type=\"text\" name=\"website\" class=\"text\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n            &lt;label&gt;Mensaje:&lt;/label&gt;&lt;br/&gt;\n            &lt;textarea name=\"comment\" class=\"text textarea\" /&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n        &lt;div class=\"element\"&gt;\n\n            &lt;input type=\"submit\" id=\"submit\"/&gt;\n            &lt;div class=\"loading\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>And this is my script:</p>\n\n<pre><code>$(document).ready(function() {\n\n//if submit button is clicked\n$('#submit').click(function () {        \n\n    //Get the data from all the fields\n    var name = $('input[name=name]');\n    var email = $('input[name=email]');\n    var website = $('input[name=website]');\n    var comment = $('textarea[name=comment]');\n\n    //Simple validation to make sure user entered something\n    //If error found, add hightlight class to the text field\n    if (name.val()=='') {\n        name.addClass('hightlight');\n        return false;\n    } else name.removeClass('hightlight');\n\n    if (email.val()=='') {\n        email.addClass('hightlight');\n        return false;\n    } else email.removeClass('hightlight');\n\n    if (comment.val()=='') {\n        comment.addClass('hightlight');\n        return false;\n    } else comment.removeClass('hightlight');\n\n    //organize the data properly\n    var data = 'name=' + name.val() + '&amp;email=' + email.val() + '&amp;website=' + \n    website.val() + '&amp;comment='  + encodeURIComponent(comment.val());\n\n    //disabled all the text fields\n    $('.text').attr('disabled','true');\n\n    //show the loading sign\n    $('.loading').show();\n\n    //start the ajax\n    $.ajax({\n        //this is the php file that processes the data and send mail\n        url: \"../process.php\",  \n\n        //GET method is used\n        type: \"GET\",\n\n        //pass the data         \n        data: data,     \n\n        //Do not cache the page\n        cache: false,\n\n        //success\n        success: function (html) {              \n            //if process.php returned 1/true (send mail success)\n            if (html==1) {                  \n                //hide the form\n                $('.form').fadeOut('slow');                 \n\n                //show the success message\n                $('.done').fadeIn('slow');\n\n            //if process.php returned 0/false (send mail failed)\n            } else alert('Sorry, unexpected error. Please try again later.');               \n        }       \n    });\n\n    //cancel the submit button default behaviours\n    return false;\n}); \n}); \n</code></pre>\n\n<p>Can someone help me out please?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","internet-explorer-8"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13278897,"title":"why would .load not work in IE8","body":"<p>I have this code, </p>\n\n<pre><code>    $(\".delete\").live(\"click\", function () {\n    alert(\"!\");\n    var self = $(this);\n    var loadUrl = $(this).attr('href');\n    var interestParents = self.parents('div:eq(4)').attr(\"id\");\n    $.ajax({\n        type: \"POST\",\n        url: loadUrl,\n        data: \"isAjax=1\"\n    }).done(function (msg) {\n        self.parent().parent().parent().parent().parent().fadeOut('fast', function () {\n            $(this).remove();\n        });\n        //console.log($(\"#\"+interestParents).load(site_url+\"my_profile/interests \" + \"#\" + interestParents).fadeIn('fast'));\n        //$(\"#UL_\" + msg + \"items\").load(site_url + \"my_profile/interests \" + \"#UL_\" + msg + \"items\").fadeIn('fast');\n        $(\"#large_buttons\").load(site_url + \"my_profile #large_buttons &gt; *\").show();\n\n    });\n    return false;\n});\n</code></pre>\n\n<p>and I cannot for life of me work out why the <code>.load</code> does not load the data into the large_buttons div, it definatly exists on the page, and it works in every other browser but IE8.</p>\n"},{"tags":["javascript","jquery","ajax","triggers","datatables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":697,"score":0,"question_id":11566463,"title":"how can I trigger jquery datatables fnServerData to update a table via AJAX when I click a button?","body":"<p>I'm using the datatables plugin with server-side data and am updating the table using AJAX. </p>\n\n<p>My dataTables setup looks like this:</p>\n\n<pre><code>tblOrders = parameters.table.dataTable( {\n    \"sDom\": '&lt;\"S\"f&gt;t&lt;\"E\"lp&gt;',\n    \"sAjaxSource\": \"../file.cfc\",\n    \"bServerSide\": true,\n    \"sPaginationType\": \"full_numbers\",  \n    \"bPaginate\": true,\n    \"bRetrieve\": true,\n    \"bLengthChange\": false,         \n    \"bAutoWidth\": false,\n    \"aaSorting\": [[ 10, \"desc\" ]],      \n    \"aoColumns\": [                      \n        ... columns \n                  ],\n    \"fnInitComplete\": function(oSettings, json) {\n        // trying to listen for updates\n        $(window).on('repaint_orders', function(){\n            $('.tbl_orders').fnServerData( sSource, aoData, fnCallback, oSettings );\n            });\n        },\n    \"fnServerData\": function ( sSource, aoData, fnCallback, oSettings ) {\n        var page = $(oSettings.nTable).closest('div:jqmData(wrapper=\"true\")')\n        aoData.push(\n            { \"name\": \"returnformat\", \"value\": \"plain\"},\n            { \"name\": \"s_status\", \"value\": page.find('input[name=\"s_status\"]').val() },\n            { \"name\": \"s_bestellnr\", \"value\": page.find('input[name=\"s_bestellnr\"]').val() },\n            { \"name\": \"form_submitted\", \"value\": \"dynaTable\" }\n            );\n        $.ajax({ \"dataType\": 'json', \"type\": \"POST\", \"url\": sSource, \"data\": aoData , \"success\": fnCallback });\n        }\n</code></pre>\n\n<p>I have some custom fields for filtering the data server-side, which i'm pushing along with the AJAX request. The problem is, I don't know how to trigger a JSON request from outside of the table. If the user types into the filter, fnServerData fires and updates the table. However, if the user picks a control outside of the table, I have no idea how to trigger the <strong>fnServerData</strong> function. </p>\n\n<p>Right now I'm trying with a custom event I'm firing and listening to in fnInitComplete. While I can detect the user picking a custom filtering criteria, I'm missing all parameters needed for fnServerData to trigger correctly. </p>\n\n<p><strong>Question</strong>:<br>\nIs there a way to trigger fnServerData from a button outside of the actual dataTables table?</p>\n\n<p>I guess I could try to add a space to the filter, but this is not really an option.</p>\n\n<p>Thanks for input!</p>\n\n<p><strong>Question</strong></p>\n"},{"tags":["javascript","jquery","ajax","encoding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13286999,"title":"JQuery .html method character encoding","body":"<p>I have a similar problem to this: <a href=\"http://stackoverflow.com/questions/553463/jquery-ajax-character-encoding-problem\">jQuery AJAX Character Encoding Problem</a> but any solution mentioned there works for me.</p>\n\n<p>I've made three easy files to show the problem: </p>\n\n<p><strong>PHP File:</strong></p>\n\n<pre><code>//prueba.php\necho \"nº one two € áéíóú\";\n</code></pre>\n\n<p><strong>JavaScript File (I use JQuery)</strong></p>\n\n<pre><code>//Javascript file\n    function prueba() {\n        $.ajax({\n            type: \"GET\",\n            contentType: \"application/x-www-form-urlencoded;charset=ISO-8859-1\",\n            url: \"prueba.php\",\n        }).done(function( data ) {\n            $(\"#prueba\").text(data); \n            //$(\"#prueba\").html(data); //It does the same encoding error \n        });\n    }\n</code></pre>\n\n<p>** HTML File:**</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;E-COMMERCE&lt;/title&gt;\n        &lt;meta content=\"text/html; charset=iso-8859-1\" http-equiv=Content-Type&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt;\n\n        &lt;script src=\"javascript/jquery.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n        &lt;script src=\"javascript/javascript.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;a href=\"javascript:prueba()\"&gt;Prueba&lt;/a&gt;\n        &lt;div id=\"prueba\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>And when you click the link Prueba it shows: </p>\n\n<pre><code>Prueba\nn� uno dos � �����\n</code></pre>\n\n<p>The current website works perfectly but it does not use ajax and it is in the same server where i am doing this, so How can I tell to jquery to return ISO-8859-1 instead of whatever it is returning? I know that the ideal is to use always utf-8 but changing to utf-8 it will give us some problems we cant afford right now.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-load","relative-url"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13286896,"title":"How to embed web page into another with relative addressed URLs?","body":"<p>Hy there,</p>\n\n<p>I have a working and running test app (let's call it <strong>TEST</strong>). This page is running on a server where nothing else is running nor should be running.\nNow, we've created a web page (<strong>WEB</strong>) on another server. <strong>TEST</strong> (html + js) shall be embedded on <strong>WEB</strong>.</p>\n\n<p>We solved the same-origin-problem by disabling web security in chrome. This will do, since the page will only be needed internally.</p>\n\n<p>My problem is that there is lots of relative URL addressing in <strong>TEST</strong>. When embedding the page scripts addressed like this <em>src='./js/script1.js'</em> won't be loaded correctly. \nInstead of loading <em>http://TESTserver/js/script1.js</em> it will load <em>http://WEBserver/js/script1.js</em>. This will obviously fail.</p>\n\n<p>I fixed that by creating a function that is loading the plain html body and crawling the html head for <em></em> and <em></em> tags and loading them separately via loop.</p>\n\n<p>That worked so far. But now there is the problem that <strong>TEST</strong> contains lots of URLs (also relative). And these will be constructed in the same false way as I mentioned above...</p>\n\n<p>Do you have any hints how to solve this?</p>\n\n<p>Short: I have page B that embeds page A. Page A contains loads of relative URLs that will now be added to B's root. Which is basically wrong and not desired.</p>\n\n<p>Btw: I work with jQuery.load();</p>\n"},{"tags":["php","ajax","json","magento"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13269057,"title":"AJAX & JSON not working, no error or success handlers","body":"<p>I have some code which I plan on adding into a Magento store, once I have made it work on a test page, but unfortunately it isn't working on the test page.</p>\n\n<p>The Javascript is as follows:</p>\n\n<pre><code>function plusAddToCart(qty_textbox_id, prodID, highlight_div_id){\nvar qty = document.getElementById(qty_textbox_id).value;\nqty = parseInt(qty) + 1;\ndocument.getElementById(qty_textbox_id).value = qty;\n if(qty==0){\n     $(highlight_div_id).style.backgroundColor = \"#f7e9f4\";\n }else{\n     $(highlight_div_id).style.backgroundColor = \"#ebcde5\";\n }\n\n $.ajax({                                      \n  url: \"addtocart.php\",\n  data: \"prodID=\"+prodID,\n  type: \"POST\",\n  dataType: 'json',\n  success: function(data) {\n    alert(\"DONE\");\n  }\n});\n}\n&lt;/script&gt;\n\n&lt;div style=\"width:70px; margin:9px auto 0 auto;\"&gt;\n   &lt;input type='button' name='plus' onclick='plusAddToCart(\"qty1\", \"693\", \"product_highlight_693\");' id=\"plus\" class=\"cart-plus-minus\" value='+'/&gt;\n   &lt;input name=\"qty\" type=\"text\" id=\"qty0\" readonly=\"readonly\" maxlength=\"5\" value=\"0\" class=\"quantity-box\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code> header(\"Content-Type: text/html\");\n\n require_once 'app/Mage.php'; \n Mage::app(\"default\"); \n Mage::getSingleton(\"core/session\", array(\"name\" =&gt; \"frontend\")); \n $session = Mage::getSingleton(\"customer/session\"); \n\n $userData=Mage::helper('customer')-&gt;getCustomer()-&gt;getData(); \n $cart = Mage::getSingleton('checkout/cart'); \n $yourProId = $_POST['prodID']; \n $qty=1; \n $params = array( 'product' =&gt; $yourProId, 'related_product' =&gt; null, 'qty' =&gt; $qty );\n $product = new Mage_Catalog_Model_Product(); \n $product-&gt;load($yourProId); \n $cart-&gt;addProduct($product, $params); \n $cart-&gt;save(); \n Mage::getSingleton('checkout/session')-&gt;setCartWasUpdated(true); \n $message = ('Your cart has been updated successfully.'); \n Mage::getSingleton('checkout/session')-&gt;addSuccess($message);                    \n</code></pre>\n\n<p>Can anybody see a reason why this wouldn't work??</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13286035,"title":"pound character(#) in jquery ajax","body":"<p>in below code; it gets a content of a \"div\" includes html codes, and it saves at ajsave.php. But when div html contents include \"#\" character, data is shorted after \"#\" like this: </p>\n\n<pre><code>$.ajax({ \n    type: \"GET\", \n    url: \"ajsave.php\", \n    data: \"usr=\"+id+\"&amp;divcontent=\"+cont, \n    success: function(msg){\n        $(\"#result\").html(msg); \n}});\n</code></pre>\n"},{"tags":["android","ajax","ssl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13285747,"title":"ajax always fails on android via self-signed SSL","body":"<p>I'm fetching some string to be shown on the page via ajax and keep on getting error result:</p>\n\n<pre><code>$.ajax({\nurl : '/myurl',\ndata : post_param,\ndataType : 'json',\ntype : 'POST',\nsuccess : function(data) {\n    //show data on the page\n}\nerror : function(XMLHttpRequest, textStatus, errorThrown) {\nconsole.log(XMLHttpRequest.text);\nconsole.log(textStatus);\nconsole.log(errorThrown);\n}\n});\n</code></pre>\n\n<p>In the console log,<br> \n XMLHttpRequest.text : undefined,<br> \n textStatus : error,<br> \n errorThrown : , (Just an empty string I think)<br> </p>\n\n<p>JQuery : 1.8.2<br>\nAndroid : 2.3<br>\nBy the way, the ajax request is sent via self-signed SSL and there are Unicode charactors in the POST parameter which may cause the problem.<br></p>\n\n<p>Any suggestions will be appreciated.</p>\n"},{"tags":["ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13285656,"title":"Make page not refresh during submit data to database using AJAX","body":"<p>I try to insert data into database by making page not refresh when I submit data.I used AJAX code as below:</p>\n\n<pre><code>(document).ready(function(){\n    $('.btnsave').live('click',function(e){\n    e.preventDefault();\n    var dataObj = $(this).closest('form').serialize();\n    //alert(dataObj)\n    $.ajax({\n        type: \"POST\",\n        url: 'generalForm.php',\n        data: dataObj,\n        cache: false,\n        success: function() {\n            //alert(idname)\n               $('#result').hide().fadeIn('slow').html(\"&lt;div class='message'&gt;Your information was successfully.&lt;/div&gt;\"); \n        },\n\n            \"error\": function (x, y, z) {\n                // callback to run if an error occurs\n                alert(\"An error has occured:\\n\" + x + \"\\n\" + y + \"\\n\" + z);\n            }\n    });\n    return false;\n});\n});\n</code></pre>\n\n<p><strong>Problem:</strong> \nIt really not refresh but all data is not insert to database,how I fix this? Anyone help me please,Thanks.</p>\n"},{"tags":["php","jquery","ajax","data","gd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13285601,"title":"how to display an image type in jquery ajax post returned via image.php as image/jpeg","body":"<p>jquery side code</p>\n\n<pre><code>function post(form)\n { loading(1); \n$.ajax({\n type: 'POST',\n url: 'collage.php', \ndataType:'image/jpeg',\n data: $('#'+form).serialize(),\n success: function(data)\n { $('#image').html('');\n\n     }\n});\nreturn false;\n} function loading(val) { if (val==1) { $('#image').html(''); } else { $('#image').html(''); } }\n</code></pre>\n\n<p>php side code</p>\n\n<pre><code> header('Content-Type: image/jpeg'); Imagejpeg($new);\n</code></pre>\n"},{"tags":["asp.net","ajax","updatepanel","scriptmanager"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13282006,"title":"Adding ScriptPath to <asp:scriptmanager refreshes the page. How to stop the page from refreshing?","body":"<p>I am using a dropdown inside updatepanel and the problems is, page refreshes on selecting the value from my dropdown. Initially update panel was working fine, until i added ScripPath to asp:scriptmanager. </p>\n\n<p>Even now, if i remove ScriptPath from scriptmanager the page doesn't refresh and the behaviour is as expected.</p>\n\n<p>The reason why i add the ScriptPath is, i want to execute abc.js everytime the value is changed in dropdown. As expected the abc.js is executed for every selected value of my dropdown, but i dont want the page to be refreshed. </p>\n\n<p>So, How to stop the page from refreshing even after adding scriptpath to asp:scriptmanager ?</p>\n\n<p>The below is my .aspx source. </p>\n\n<pre><code>&lt;asp:ScriptManager ScriptPath=\"abc.js\"  runat=\"server\"&gt;&lt;/asp:ScriptManager&gt; \n\n &lt;asp:UpdatePanel ID=\"UP_Social_Ddl\" runat=\"server\"&gt;\n                        &lt;ContentTemplate&gt;\n                            &lt;div class=\"styled-select\"&gt;\n                                &lt;asp:Label runat=\"server\" ID=\"Label2\" Font-Size=\"Small\" ToolTip=\"Social : 'ON' will post your activity on this page to your FaceBook Wall.\" Text=\"Social :\" Style=\"vertical-align: top;\" /&gt;\n                                &lt;asp:DropDownList ID=\"ddlSocialSwitch\" runat=\"server\" AutoPostBack=\"true\" Style=\"vertical-align: top;\" ToolTip=\"Social : ON will post your activity on this page to your FaceBook Wall.\" OnSelectedIndexChanged=\"ddlSocialSwitch_SelectedIndexChanged\"&gt;\n                                &lt;/asp:DropDownList&gt;\n                                &amp;nbsp;&lt;a valign=\"bottom\" onclick=\"logout_fb\" href=\"#\" id=\"auth-logoutlink\"&gt;&lt;img valign=\"bottom\" src=\"facebookLogOutButton.png\"/&gt;&lt;/a&gt;\n                                &lt;asp:Label ID=\"lbl\" Visible=\"false\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n                            &lt;/div&gt;\n                        &lt;/ContentTemplate&gt;\n                    &lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>//Get values from hidden field\nvar appid = document.getElementById(\"appid\").value;\nvar message = document.getElementById(\"message\").value;\nvar link = document.getElementById(\"link\").value;\nvar name = document.getElementById(\"name\").value;\nvar picture = document.getElementById(\"picture\").value;\nvar description = document.getElementById(\"description\").value;\n\nvar Authenticated = \"\";\n// Load the SDK Asynchronously\n(function (d) {\n    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];\n    if (d.getElementById(id)) { return; }\n    js = d.createElement('script'); js.id = id; js.async = true;\n    js.src = \"//connect.facebook.net/en_US/all.js\";\n    ref.parentNode.insertBefore(js, ref);\n} (document));\n\n//Init the SDK upon load\nwindow.fbAsyncInit = function () {\n    FB.init({\n        appId: appid, // App ID\n        channelUrl: '//' + window.location.hostname + '/channel', // Path to your Channel File\n        status: true, // check login status\n        cookie: true, // enable cookies to allow the server to access the session\n        xfbml: true  // parse XFBML \n    });\n    // listen for and handle auth.statusChange events\n    FB.Event.subscribe('auth.statusChange', function (response) {\n        if (response.authResponse) {\n            // user has auth'd your app and is logged into Facebook\n            var uid = \"http://graph.facebook.com/\" + response.authResponse.userID + \"/picture\";\n            FB.api('/me', function (me) {\n                document.getElementById('auth-displayname').innerHTML = me.name;\n                document.getElementById('profileImg').src = uid;\n            })\n            document.getElementById('auth-loggedout').style.display = 'none';\n            document.getElementById('auth-loggedin').style.display = 'block';\n\n            var e = document.getElementById(\"FB_ddlSocialSwitch\");\n            var Social_switch = e.options[e.selectedIndex].value;\n\n            if (Social_switch == \"on\") {\n                alert(Social_switch);\n            } \n\n            //_______________________________________________Post to FB_______________________________________________________\n            //    var opts = {\n            //        message: 'A good reference for APIs',\n            //        link: window.location.href,\n            //        name: 'API Reference',\n            //        picture: 'http://www.demo.lookmywebpage.com/publish-on-facebook-wall/Google-Twitter-Facebook.jpg',\n            //        description: 'Demo Facebook Post'\n            //    };\n            //  \n            //    FB.api('/me/feed', 'post', opts, function (response) {\n            //        if (!response || response.error) {\n            //            alert('Posting error occured');\n            //        }\n            //        else {\n            //            alert('Success - Post ID: ' + response.id);\n            //        }\n            //    });\n            //________________________________________________________________________________________________________________\n\n        } else {\n            // user has not auth'd your app, or is not logged into Facebook\n            document.getElementById('auth-loggedout').style.display = 'block';\n            document.getElementById('auth-loggedin').style.display = 'none';\n        }\n\n    });\n    $(\"#auth-logoutlink\").click(function () {\n        FB.logout(function () {\n            window.location.reload();\n        });\n    });\n} \n</code></pre>\n"},{"tags":["javascript","ajax","struts"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13192123,"title":"AJAX call to struts action not working","body":"<p>Hi i have a requirement in which i have to check something from struts action class and then send the result back to the browser using ajax call called in a JS fx'.The issue is im not able to hit the action class and console is throwing the following error:\n<strong>org.apache.struts.action.RequestProcessor processActionCreate No action instance for path /ChangePwdAjax could be created\n                                 java.lang.ClassNotFoundException:test.ChangePwdAjaxAction.java</strong></p>\n\n<p>The class is compiled and the package context is valid test.ChangePwdAjaxAction.java</p>\n\n<p>Any ideas what and where im doing it wrong?</p>\n\n<p>Here is what i have written so far.</p>\n\n<p>JS code</p>\n\n<pre><code>function checkError()\n{\nvar valuePassword=\"test\";\n\nvar url = \"/test/ChangePwdAjax.do?newPass=\"+valuePassword;\n        var xmlHTTP = getXMLHTTPRequest();\n\n\n        xmlHTTP.onreadystatechange = function() { \n        handleResponse(xmlHTTP); }\n\n        xmlHTTP.open(\"GET\",url,true);\n\n        xmlHTTP.send();\n\n\n}\n\nfunction handleResponse(xmlHTTP){\n    alert(\"handleResponse\");\n        if (xmlHTTP.readyState == 4 &amp;&amp; xmlHTTP.status == 200) {\n            alert(\"handleResponse\");\n            var xmlDoc = xmlHTTP.responseXML;\n\n            alert(xmlDoc.documentElement.getElementsByTagName(\"pwdFlag\")[0].text);\n\n        }       \n    }\n\nfunction getXMLHTTPRequest(){\n    alert(\"getXMLHTTPRequest\");\n        if (window.XMLHttpRequest) {\n            return new XMLHttpRequest();\n        }\n        // IE\n        else if (window.ActiveXObject) {\n            return new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n        else{\n        alert(\"XMLHttpRequest is not supported!\");\n        }\n    }\n</code></pre>\n\n<p>Action class code</p>\n\n<pre><code>public class ChangePwdAjaxAction extends Action {\n\n\n    public ActionForward execute(final ActionMapping mapping, final ActionForm form,\n            final HttpServletRequest request,final HttpServletResponse response)\n\n    {\n\n        System.out.println(\"----IN--AJAX ACTION----------\");\n        final HttpSession session= request.getSession(false);\n\n        if(session==null || session.getAttribute(\"user_id\")==null){\n\n            return mapping.findForward(\"sessionexpired\");\n        }\n\n\n        final String user_id=(String)session.getAttribute(\"user_id\");\n\n        try{\n\n\n            final BusinessDelegate busdel=new BusinessDelegate(user_id,session.getId());\n\n            String newpwd = (String)request.getParameter(\"newPass\");\n\n\n\n            boolean b=busdel.checkOldPWd(user_id, newpwd);\n            //checking return values from bus delegate\n            response.setContentType(\"text/xml\");\n            PrintWriter printwriter = response.getWriter();\n\n            printwriter.println(\"&lt;?xml version=\\\"1.0\\\"?&gt;\");\n            printwriter.println(\"&lt;Root&gt;\");\n\n            if(b)\n            {\n                System.err.println(\"----New password Failed--Y--------\");   \n            printwriter.println(\"&lt;pwdFlag&gt;\"+\"Y\"+\"&lt;/pwdFlag&gt;\");\n            }\n            else\n            {\n                System.out.println(\"----New password OK---N-------\");   \n                printwriter.println(\"&lt;pwdFlag&gt;\"+\"N\"+\"&lt;/pwdFlag&gt;\");\n            }\n\n\n            printwriter.println(\"&lt;/Root&gt;\");\n\n\n            }catch(Exception e){\n                logger.logCommon(\"Login Action : Login Process in Action : \", \"EXCEPTION\");\n                logger.logError(e);\n\n            }\n\n\n        return null;\n    }\n\n\n}\n</code></pre>\n\n<p>Struts-config entry</p>\n\n<pre><code>&lt;action path=\"/ChangePwdAjax\" type=\"test.ChangePwdAjaxAction.java\"/&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","json","graph"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13285416,"title":"Rickshaw only plots one point instead of series","body":"<p>I have a problem where I am passing data to a <a href=\"http://code.shutterstock.com/rickshaw/\" rel=\"nofollow\">Rickshaw</a> graph constructor and Rickshaw is only plotting one point.</p>\n\n<pre class=\"lang-js prettyprint-override\">\n$.getJSON('data.json', function(data) {\n  var points = [];\n\n  // the data needs to be modified to be an object with x & y properties\n  for (var i in data.originRequests) {\n    points.push({\"x\":data.originRequests[i][0], \"y\":data.originRequests[i][1]});\n  }\n\n  // just to make sure                                                                  \n  console.dir(points);\n  console.warn(points.length);\n\n  var graph = new Rickshaw.Graph({\n    element: document.querySelector('#chart'),\n    renderer: 'area',\n    height: 300,\n    width: 600,\n    stroke: true,\n    series: [ {\n            name: 'originRequests',\n            data: points,\n            color: 'steelblue'\n    } ]\n  });\n\n  // epoch seconds should convert automatically\n  var x_axis = new Rickshaw.Graph.Axis.Time( { graph: graph } );\n\n  var y_axis = new Rickshaw.Graph.Axis.Y( {\n            graph: graph,\n            tickFormat: Rickshaw.Fixtures.Number.formatKMBT\n  } );\n\n  // what reveals the lone point at the upper left of the graph\n  var hoverDetail = new Rickshaw.Graph.HoverDetail( { graph: graph } );\n\n  graph.render();\n\n  x_axis.render();\n  y_axis.render();\n\n\n});\n</pre>\n\n<p>Here is some of the JSON, as a sample.</p>\n\n<pre>\n{\"originRequests\":[[1352444700,38510],[1352358600,37913],[1352358900,39426],[1352359200,40044],[1352359500,40672],[1352359800,39467],[1352360100,39868],[1352360400,40201],[1352360700,38914],[1352361000,37453]]}\n</pre>\n\n<p>I'm currently using the latest version of <a href=\"http://code.shutterstock.com/rickshaw/\" rel=\"nofollow\">Rickshaw</a> from Github, and the most basic html template possible that includes all the necessary libraries and CSS.</p>\n\n<p>If I supply <code>data: [ points[0], points[1] ]</code>, two points are plotted. Maybe it's late or I'm just a little too new to javascript to catch whatever subtle error I'm making.</p>\n\n<p>Thanking the community in advance...if I can clarify or provide anything to help, please comment.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13284913,"title":"jQuery Ajax Issue - function to be executed when result returns only","body":"<p>Below is the jquery ajax call I make to the controller </p>\n\n<pre><code>jQuery.post('index.php',{\n                'option'    : 'com_test',\n                'controller': 'product',\n                'task'      : 'loadColors',\n                'format'    : 'raw',            \n                'design_id' : design_id,\n                    'collar_id' : collar_id                        \n        },function(result){            \n        }).success(function(result) { \n                alert(result); \n            }).error(function() { \n                jQuery('div#color_wrapper h1').text('ERROR WHILE LOADING COLORS');\n            }).complete(function(result) { \n                alert(result); \n            });\n</code></pre>\n\n<p>In my controller there is a function as below.</p>\n\n<pre><code>function loadColors()\n    {\n        die;\n    }\n</code></pre>\n\n<p>My problem is even I have used <code>die</code> in the loadColors(), success and complete functions are being executed. What I want is a function which runs if we return something from loadColors() ? How can I get it done?</p>\n"},{"tags":["javascript","ajax","ids","introduction"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13285160,"title":"How to keep IDs unique for Ajax-programming?","body":"<p>It seems to me, that most things in Ajax-programming are solved by \"inventing\" IDs. The problem that might occur is, to keep the IDs unique. How do you solve the problem (for example when managing a list of messages,..)? By generating long randomized strings?</p>\n"},{"tags":["php","ajax","caching"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":40,"score":4,"question_id":13246901,"title":"jQuery ajax not using browser cache for 2nd request","body":"<p>I want to cache the data in broswer so that broswer don't need to query the server in several minutes. I added php cache header but seems it doesn't work. Here is my ajax code and php code:\nAjax code:</p>\n\n<pre><code>function myAjax(name, callback) {\n    var url = './php/getJson.php?name=' + encodeURIComponent(name) + '&amp;callback=?';\n    jQuery.getJSON(url, function(data) {\n        callback(data);\n        jQuery.ajaxSetup({ cache: true });\n    });\n}\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>$seconds_to_cache = 3600;\n$ts = gmdate(\"D, d M Y H:i:s\", time() + $seconds_to_cache) . \" GMT\";\n$lm = gmdate(\"D, d M Y H:i:s\", time() - $seconds_to_cache/2) . \" GMT\";\nheader(\"Last-Modified: $lm\");\nheader(\"Expires: $ts\");\nheader(\"Pragma: cache\");\nheader(\"Cache-Control: public, max-age=$seconds_to_cache\");\n\ninclude_once('getData.php');\n\n$output = $_GET['name'];\n\necho $_GET['callback'].'('.$output.')';\n</code></pre>\n"},{"tags":["javascript","ajax","google"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13120717,"title":"what's the best fallback if google ajax api is not available (since google does not permit to install it locally)?","body":"<p>In my site I have:</p>\n\n<pre><code>...\n&lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n...\n</code></pre>\n\n<p>The script above is the google script to load up other resources dynamically.\n(eg google charts api) </p>\n\n<p>This works 99.99% of the time.\nHowever, I just got a client that for some reasons got his company restricting access to google.com.</p>\n\n<p>As a consequence of this my website simply threw a javascript error.</p>\n\n<p>Now I know how to handle that... and I can check if window.google exists... \nbut my question is</p>\n\n<p>\"what's the standard way to deal with this ???\"</p>\n\n<p>In other words if you embed 3rd party javascript how best do you deal with their js not available ???</p>\n\n<p>NOTE: VERY IMPORTANT </p>\n\n<p>you can not host the chart code locally or on an intranet. </p>\n\n<p>SEE FAQ from google: <a href=\"https://developers.google.com/chart/interactive/faq#localdownload\" rel=\"nofollow\">https://developers.google.com/chart/interactive/faq#localdownload</a></p>\n\n<p>Can I download and host the chart code locally, or on an intranet?\nSorry; our terms of service do not allow you to download and save or host the google.load or google.visualization code.</p>\n"},{"tags":["php","jquery","mysql","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13284073,"title":"Creating a table with mysql, php and ajax (with jquery)","body":"<p>For my new project i want the so modern approach of not needing to reload a page on every database request. :) I want the script to query the database and create a table with the query information. </p>\n\n<p>I have tried different scripts i have found on the internet. The one below was closest to my needs. </p>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'&gt;\n&lt;html xmlns='http://www.w3.org/1999/xhtml'&gt;\n&lt;head&gt;\n&lt;title&gt;Display Page&lt;/title&gt;\n&lt;meta http-equiv='Content-Type' content='text/html; charset=utf-8' /&gt;\n&lt;script language='JavaScript' type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;button type='button' name='getdata' id='getdata'&gt;Get Data.&lt;/button&gt;\n\n&lt;div id='result_table'&gt;\n\n&lt;/div&gt;\n\n&lt;script type='text/javascript' language='javascript'&gt;\n$('#getdata').click(function(){\n\n$.ajax({\n        url: 'getdata.php',\n        type:'POST',\n        dataType: 'json',\n        success: function(output_string){\n                $('#result_table').append(output_string);\n            } // End of success function of ajax form\n        }); // End of ajax call    \n\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>getdata.php</strong></p>\n\n<pre><code>&lt;?php\ninclude('conn.inc.php');\n//Query of facebook database\n$facebook = mysql_query('SELECT * FROM users')\nor die(mysql_error());\n\n//Output results\nif(!$facebook)\n{\n    mysql_close();\n    echo json_encode('There was an error running the query: ' . mysql_error());\n}\nelseif(!mysql_num_rows($facebook))\n{\n    mysql_close();\n    echo json_encode('No results returned');\n}\nelse\n{\n    $output_string = '';\n    $output_string .=  '&lt;table border=\"1\"&gt;';\n    while($row = mysql_fetch_assoc($facebook))\n    {\n        $output_string .= '&lt;tr&gt;';\n        foreach($row as $value)\n        {\n            $output_string .= '&lt;td&gt;{$value}&lt;/td&gt;';\n        }\n        $output_string .= '&lt;/tr&gt;';\n    }\n    $output_string .= '&lt;/table&gt;';\n}\n\nmysql_close();\n// This echo for jquery \necho json_encode($output_string);\n\n?&gt;\n</code></pre>\n\n<p>But i only get a table with a bunch of {$value} inside the table. I've tried with only $value but got a bunch of zeros. </p>\n\n<p>I tried a simple script</p>\n\n<pre><code>$query = \"SELECT users_name, users_password FROM users WHERE users_name = 'name'\";\n$result = mysql_query($query) or die(mysql_error());\n\n$row = mysql_fetch_array($result);\n\necho $row['users_name'];\n</code></pre>\n\n<p>And then i get som results but with this script i have to refresh the page on every search. To be clear i want to be able to create a table with the information from a mysql database and display it on screen with reloading the page. </p>\n\n<p>Any ideas?</p>\n"},{"tags":["javascript","jquery","html","ajax","fancybox"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":868,"score":0,"question_id":10769151,"title":"fancy box work with iframes in beforeShow function?","body":"<p>Im trying to dynamically set some values of my Fancybox object based on information stored in tags inside of an iframe which fancy box is loading. the problem is, the only time i can seem to get the CORRECT values out of the content (iv tried virtually every callback combo possible) is on the afterShow method. this causes a jumpy transition of the width and height which are reset after it is shown. </p>\n\n<pre>\n$('.fancybox').fancybox({\n            openEffect : 'elastic',\n            closeEffect : 'elastic',\n            autoSize:true,\n            afterShow : function() {\n                    var fancy = this;\n                    var h = $('.fancybox-iframe').contents().find('html').height();\n                    var w = $('.fancybox-iframe').contents().find('html').width();\n                    fancy.width = w;\n                    fancy.height = (h+50);\n            }\n        });\n</pre>\n\n<p>nothing outside of the afterShow method gives me correct results, even beforeShow(which is what I am going for). Is there any callback/jquery combo that can achieve this before showing the fancy box? Thanks!</p>\n"},{"tags":["java","javascript","ajax","struts"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":4082,"score":1,"question_id":2289544,"title":"How to call Struts1 Action from Ajax or JavaScript?","body":"<p>I need to call an action on load of a JSP. To keep track of number of users who visited that page.</p>\n\n<p>I hav an action VisitorCounterAction. Where il update the database.\nOn load of the JSP im calling an ajax function callCounter();</p>\n\n<pre><code>{\n\n        alert(\"callCounter\");\n        if (window.XMLHttpRequest)\n        {// code for IE7+, Firefox, Chrome, Opera, Safari\n        xmlhttp=new XMLHttpRequest();\n        }\n        else\n        {// code for IE6, IE5\n        xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n\n        // i need some correction here\n        xmlhttp.open(\"GET\",VisitorCounterAction,false);\n        xmlhttp.send(null);\n        alert(\"callCounter returned from Action\");\n        }\n</code></pre>\n\n<p>I am getting an exception as:</p>\n\n<pre>/web/guest/content?p_p_id=31&p_p_lifecycle=0&p_p_state=pop_up&p_p_mode=view&_31_struts_action=%2Fimage_gallery%2Fview_slide_show&_31_folderId=10605 generates exception: null</pre>\n\n<p>Please help me with this. Or any other way to call the Action. \nI can't reload the page as it'll call onload function again.</p>\n\n<p>Thanks,\nDj</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13283952,"title":"autocomplete textbox using jquery","body":"<p>This is my jquery code.</p>\n\n<pre><code>  $.ajax({\n       url: '/api/LLCReport/GetClientRegionsList',\n       async: true,\n       success: function (regionList) {\n          $(\"#txtSearchBox\").autocomplete(regionList);\n       }\n  });\n</code></pre>\n\n<p>and the regionlist is like</p>\n\n<pre><code>displaname     path\n-------------  ----------\nwestern        region-western\neastern        region-eastern\n</code></pre>\n\n<p>here my problem is autocomplete function not working. In search criteria i need to get like below</p>\n\n<pre><code> Eastern\n    reggion-eastern\n Western\n    region-eastern\n</code></pre>\n\n<p>means displayname first and its path followed.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["c#","jquery","asp.net","ajax","webmethod"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13282187,"title":"Jquery Ajax and asp.net WebMethod","body":"<p>I'm trying to call a webmethod in an aspx page using jquery ajax. The ajax code is callind the page but I can't go into the method although the Page_Load is been accesed after the ajax Post request. I've tried in many ways but I can't.</p>\n\n<p>I hope you can help me, I'm going crazy.</p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e)\n    {\n        string nombre = Request.QueryString[\"nombre\"];\n        if (!IsPostBack)\n        {\n            this.CargarDatosIniciales();                  \n        }\n    }\n\n    [WebMethod(enableSession:true)]\n    [ScriptMethod()]\n    public static void GuardarDatosFamilia(string nombre, string tipoDoc)\n    {\n        string nombrePersona = nombre;\n        string tipoDocumento = tipoDoc;\n    }\n\n\n    $.ajax({\n        type: \"POST\",\n        url: \"FRM_Caracterizacion.aspx/GuardarDatosFamilia\", //Direccion del servicio web segido de /Nombre del metodo a llamar\n        beforeSend: function () { alert('I am sending'); },\n        data: \"{'nombre':'\"+ nombre+\"','tipoDoc':'\"+ tipoDoc\"'}\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\" \n        });\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>This is what I get in Firebug:</p>\n\n<pre><code>     POST http://localhost:51620/FRM_Caracterizacion.aspx/GuardarDatosFamilia 200 OK    3.22s\n\n     Parámetros application/x-www-form-urlencoded\n     nombre Jhon Fredy\n     tipoDoc    1\n     Fuente\n     nombre=Jhon+Fredy&amp;tipoDoc=1\n</code></pre>\n\n<p>UPDATE 2:</p>\n\n<p>SOLUTION</p>\n\n<p>What I've done for my specific problem was:</p>\n\n<pre><code>     $.ajax({\n        type: \"POST\",\n        url: \"FRM_Caracterizacion.aspx\", //Direccion del servicio web segido de /Nombre del metodo a llamar\n        beforeSend: function () { alert('I am sending'); },\n        data: { metodo: 'AgregarDatosFamilia',\n        nombre:nombre,\n        tipoDoc:tipoDoc\n        },\n        dataType: \"json\" //Esto quiere decir que los datos nos llegaran como un objeto json\n    });\n\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n            if (Request.Form[\"metodo\"] == \"AgregarDatosFamilia\")\n            {\n                this.GuardarDatosFamilia();\n            }\n            this.CargarDatosIniciales();                  \n        }\n    }\n\n    public void GuardarDatosFamilia()\n    {\n        string nombre = Request.Form[\"nombre\"].ToString(),\n        string tipoDoc = Request.Form[\"tipoDoc\"].ToString()\n    }\n</code></pre>\n\n<p>Thanks everybody, I appreciate suggestions!</p>\n"}]}
{"total":48691,"page":2,"pagesize":100,"questions":[{"tags":["java","javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13283868,"title":"How to Image Upload Using Ajax and JQuery using File Path?(Spring Mvc, Java)","body":"<p>How to Image Upload Using Ajax and JQuery using File Path?</p>\n"},{"tags":["javascript","jquery","ruby-on-rails","ajax","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13283738,"title":"Pinging the server periodically with jQuery and Rails without a form, updating a table","body":"<p>I'm sort of a noob, so please bear with me!</p>\n\n<p>I'm trying to--when a user is signed in on the dashboard--have jQuery periodically ping the server every X seconds and update the user's 'heartbeat' with the current datetime and set 'online' to true.</p>\n\n<p>I'm probably missing some RESTful concepts and concepts involving communication between jQuery and Rails. Just finished Michael Hartl's Ruby on Rails Tutorial and am building off his sample app.</p>\n\n<p>I've done research, but answers mostly involve filling out a form; I want to do this without one.</p>\n\n<p>So I need to somehow pass into jQuery a :user_id and link it to the correct URI. I have a states controller and a states model that belongs_to a user (who has_one of them). Heartbeat and Online are in the states table.</p>\n\n<p>rake routes shows that: PUT    /states/:id(.:format)          states#update</p>\n\n<p><strong>states_controller.rb</strong></p>\n\n<pre><code>class StatesController &lt; ApplicationController\n  before_filter :signed_in_user, only: [:thump]\n  before_filter :correct_user,   only: [:thump]\n\n  def new\n  end\n  def update\n    @user = User.find(params[:id])\n    user.update_attributes(heartbeat: Time.now, online: true)\n\n    respond_to do |format|\n      format.js\n    end\n  end\nend\n</code></pre>\n\n<p><strong>application.js</strong></p>\n\n<pre><code>jQuery.ajaxSetup({ \n  'beforeSend': function(xhr) {xhr.setRequestHeader(\"Accept\", \"text/javascript\")}\n})\n\n// Periodically updates heartbeat\n$(function(){\n    setInterval (thump, 3000);\n    var js = '&lt;thump&gt; ';\n    function thump(){\n        console.log(js + 'Test');       \n        $.ajax({\n            url: 'states/update',\n            type: 'POST',\n            success: function(result) {\n                console.log(js + result);\n            }\n        });\n    }\n});\n</code></pre>\n\n<p>Thanks for the help.</p>\n"},{"tags":["ajax","validation","spring-webflow","spring-webflow-2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":134,"score":1,"question_id":12041906,"title":"Ajax validation with Spring Webflow 2","body":"<p>I wonder if anyone can help. I'm putting together a Spring Webflow app, and am trying to work out what to do for validation.</p>\n\n<p>As per the documentation <a href=\"http://static.springsource.org/spring-webflow/docs/2.0.x/reference/html/ch04s10.html\" rel=\"nofollow\">http://static.springsource.org/spring-webflow/docs/2.0.x/reference/html/ch04s10.html</a> I've created a validator class which conforms to the name pattern of ${model}Validator and with method names which conform to validate${state}</p>\n\n<pre><code>// validation method for About You\npublic void validateAboutYou(QB2MotorQuote p_quote, ValidationContext p_ctx) {\n    MessageContext messages = p_ctx.getMessageContext();\n\n    // mandatory checks ...\n    mandatoryChecks_AboutYou(p_quote, messages);\n\n    // field format/content validation checks ...\n    formatChecks_AboutYou(p_quote, messages);\n\n}\n</code></pre>\n\n<p>As shown in the above code, I call out to 2 methods to perform mandatory checks, then format checks.</p>\n\n<p>This works fine - when the page is submitted, SWF invokes the validation class - excellent :)</p>\n\n<p>What I would like to do now though is invoke the formatChecks_AboutYou(p_quote, messages) method via ajax. As the user blurs each field, I want to fire an ajax request to validate that field, thereby having all my validation code and rules serverside.</p>\n\n<p>I cant find anything written about how to do with with SWF. I've done something very similar with a standard Spring MVC app, where I had a request mapping on my controller specifically for ajax validation. The beauty of this is that the controller already had a reference to the validator, and the data had been bound to the form backing object.</p>\n\n<p>But I'm not sure how to go about this with SWF. I have tentatively played with the idea of writing a controller for ajax validations:</p>\n\n<pre><code>@Controller\npublic class AjaxController {\n\n@Autowired\nprivate QuoteValidator m_validator;\n\n@RequestMapping(value=\"/AjaxValidate\", method=RequestMethod.GET)\npublic String ajaxValidate(HttpServletRequest p_req, Model p_model) {\n\n    // controller has access to validate via autowired m_validate\n    // but the method signature I want to call is:\n    //   formatChecks_AboutYou(QB2MotorQuote p_quote, MessageContext p_messages)\n    // Don't know where to get a MessageContext from\n\n    return \"ajaValidate\";\n}\n}\n</code></pre>\n\n<p>I'll be able to call this from the client side no problem, but I doubt the data will be bound to the command object, and I'm not sure where I'll get the MessageContext object from.</p>\n\n<p>If anyone could help with this I'd be very grateful;\nCheers</p>\n\n<p>Nathan</p>\n"},{"tags":["java","ajax","jsf-2","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13281507,"title":"Prevent Double Submit on JSF Dialog AJAX CRUD","body":"<p>Just would like to know why do I encounter this behavior in my application.</p>\n\n<p>I used primefaces for the UI and almost all of my pages follows this pattern.  I heavily used AJAX in all of my CRUD\noperations and using dialogs to show it to the user.</p>\n\n<pre><code>&lt;ui:composition template=\"myTemplate.xhtml\"&gt;\n    &lt;ui:define name=\"content\"&gt;\n        &lt;ui:include\n            src=\"/pages/CreateDialog.xhtml\" /&gt;\n        &lt;ui:include\n            src=\"/pages/UpdateDialog.xhtml\" /&gt;\n        &lt;ui:include\n            src=\"/pages/DeleteDialog.xhtml\" /&gt;\n    &lt;/ui:define&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n\n<p>My only concern is that, after doing CRUD stuff in my dialogs and user accidentally clicks F5 or refresh on the browser,\nFF/Chrome and other browser always mentioned</p>\n\n<pre><code>To display this page, Firefox must send repeat action...\n</code></pre>\n\n<p>Obviously this will cause double submit.  Previously I used Post-Redirect-Get in this scenario in older apps but since this\nis AJAX JSF update then I cannot do this.</p>\n\n<p>What's the workaround for this and is this normal?  I thought AJAX actions should not trigger again during browser refresh.</p>\n\n<p>Help?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I am opening my dialog with this code</p>\n\n<pre><code>&lt;p:commandButton value=\"Add\" \n        onclick=\"createWidget.show();\"\n        update=\":CreateForm\"\n        action=\"#{MyBean.add}\" \n        /&gt;\n</code></pre>\n\n<p>My create dialog uses this</p>\n\n<pre><code>&lt;p:dialog  header=\"Create\"&gt;\n    &lt;h:form id=\"CreateForm\" prependId=\"false\"&gt;\n        &lt;p:commandButton value=\"Add\" icon=\"ui-icon-plus\"\n            actionListener=\"#{MyBean.add}\"\n            update=\":messageGrowl\" \n            oncomplete=\"closeDialogIfSucess(xhr, status, args, createWidget 'createDialogId')\"/&gt;\n    &lt;/h:form&gt;\n&lt;/p:dialog&gt;\n</code></pre>\n\n<p>I actually am following the pages from this site...<a href=\"http://uaihebert.com/?p=834\" rel=\"nofollow\">Full WebApplication JSF EJB JPA JAAS</a></p>\n"},{"tags":["jquery","ajax","user-interface"],"answer_count":4,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":313,"score":5,"question_id":2907099,"title":"Ajax updated User Interfaces and the Back Button","body":"<p><strong>Scenario:</strong></p>\n\n<ul>\n<li>A page is loaded with a complex UI on it.</li>\n<li>User does some actions which alter data via Ajax callbacks, changes are reflected on the UI by DOM manipulation (e.g. via jQuery).</li>\n<li>User clicks a link to go to another page (say a details page).</li>\n<li>User clicks the back button to go back to the original UI page.</li>\n<li><strong>User sees out-of-date information</strong> - <em>it looks like the changes he made (in step 2) never happened.</em></li>\n</ul>\n\n<p>How do you deal with this situation?</p>\n"},{"tags":["jquery","asp.net","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13282981,"title":"JQuery $.get() with asp.net gives 503 error on server","body":"<p>I am working on an application that is basically a registration page. I wanted to stop duplicate registration by checking existing email ids in the database. I used the JQuery $.get() method for querying to a page in the background and then get the result of existing or non exiting emails. The page runs perfect locally, but online, it returns <code>\"503\nService Unavailable\"</code> when the a duplicate email id is entered.</p>\n\n<p>The jQuery method follows:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n    $(\"#ctl00_ContentPlaceHolder1_tbEmail\").change(function () {\n        var emailReg = /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/;\n        var emailaddressVal = $(\"#ctl00_ContentPlaceHolder1_tbEmail\").val()\n        if(!emailReg.test(emailaddressVal)) {\n            $(\"#msgbox\").html('Invalid Email ID');\n        return;\n    }\n        $(\"#ctl00_ContentPlaceHolder1_hidYorN\").val(\"\")\n        $(\"#msgbox\").removeClass().addClass('messagebox').text('Checking...').fadeIn(\"slow\");\n        $.get(\"scripts/email_availibility.aspx\", { user_name: $(this).val() }, function (data) {\n            if (data == 'no') \n            {\n                $(\"#msgbox\").fadeTo(200, 0.1, function () \n                {\n                    $(this).html('This mail id is already registered!').addClass('messageboxerror').fadeTo(900, 1);\n                    $(\"#ctl00_ContentPlaceHolder1_hidYorN\").val(\"N\");\n                });\n            }\n            else {\n                $(\"#msgbox\").fadeTo(200, 0.1, function ()  \n                {\n                    $(this).html('You are welcome to register!').addClass('messageboxok').fadeTo(900, 1);\n                    $(\"#ctl00_ContentPlaceHolder1_hidYorN\").val(\"Y\");\n                });\n            }\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And my aspx page code (email_availibility.aspx):</p>\n\n<pre><code>string con = ConfigurationManager.ConnectionStrings[\"myDB\"].ConnectionString.ToString();\nprotected void Page_Load(object sender, EventArgs e)\n{\n    string data = \"no\";\n    OleDbConnection conn = new OleDbConnection(con);\n    string user_name = Request.QueryString[\"user_name\"];\n    string strQury = \"Select [EmailID] from [RegisterTable] where [EmailID]='\" + user_name + \"'\";\n    OleDbCommand cmds = new OleDbCommand(strQury, conn);\n    OleDbDataReader dr;\n    if (conn.State == ConnectionState.Closed)\n        conn.Open();\n    dr = cmds.ExecuteReader();\n    if (dr.HasRows)\n    {\n        data = \"no\";\n    }\n    else\n    {\n        data = \"yes\";\n    }\n    if (conn.State == ConnectionState.Open)\n        conn.Close();\n   Response.Write(data);\n}\n</code></pre>\n\n<p><strong>I am not quite much used to JQuery, and just started with that, so please answer it simple</strong></p>\n"},{"tags":["javascript","ajax","jsp","jquery-ajax","javascript-events"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13233305,"title":"How to Avoid Multiple JavaScript Function Calls in Infinite Scrolling","body":"<p>I'm using this Java Script functions to create a JSP page with Infinite Scroll feature.</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n\nvar count = 0;\n\nwindow.onload = loadSubPage;\n\n$(window).scroll(function(){\n    if  ($(window).scrollTop() == $(document).height() - $(window).height()){\n    alert(\"load appLeadershipSubView function calling\");\n        loadSubPage();\n    }\n});\n\nfunction loadSubPage()\n{\n    alert(\"load appLeadershipSubView called\");\n        $.ajax({\n        cache: false,\n        url: 'appLeadershipSubView.do?count=' + count,\n        async : true,\n        beforeSend: function(){\n        },\n        success: function(html){\n            alert(\"success event\");\n            $('#mainDiv').append(html);\n            count++;\n        },\n        complete: function(){\n        }\n    }\n    );\n} \n\n&lt;/script&gt; \n</code></pre>\n\n<hr>\n\n<p>As you can see\nI'm calling the <em>loadSubPage</em> function to append html content in the <em>'appLeadershipSubView'</em> page into the <em>'#mainDiv'</em>.\nAnd <em>loadSubPage</em> is also called at the page Load event also.</p>\n\n<p>The Problem is when i scroll down it makes multiple(2 sometimes 3) calls to the <em>loadSubPage</em> function and appends duplicate data into the div.</p>\n\n<p>Since i'm new to JSP and Javascript I couldn't figure out the problem here.\nCan you please point me out the problem here?</p>\n"},{"tags":["jquery","ajax","ruby-on-rails-3","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13283205,"title":"ajax:success callback doesn't work in rails","body":"<p>I have a small form on the page that looks like</p>\n\n<pre><code>&lt;div id=\"updater\"&gt;\n    &lt;%= form_for current_user,:remote=&gt;true do |f| %&gt;\n        please update your &lt;%= f.label @field %&gt;: \n        &lt;%= f.text_field @field %&gt;\n        &lt;%= f.submit %&gt;\n      &lt;% end %&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>This triggers the Users#update which has <code>respond_to format.js</code></p>\n\n<p>update.js.erb is</p>\n\n<pre><code>$(\"#updater\").bind(\"ajax:success\", function(xhr, data, status) {\n    $(\"#updater\").remove();\n});\n</code></pre>\n\n<p>so the form will disappear once the the field has been updated</p>\n\n<p>I see that the JS is sent on the network tab on the chrome inspect thingy and the field does update in the DB. yet the #updater doesn't disappear, not if I add <code>alert(\"updater\");</code> I don't see the alert.</p>\n\n<p>Am I not catching the ajax:success correctly?</p>\n"},{"tags":["jquery","ajax","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13245299,"title":"Dynamic Dropdowns with AJAX, Jquery, and Codeigniter Help: Firebug not showing errors","body":"<p>I am having trouble getting ajax to work with my \"dynamic combo box.\"  First here is the code:\nThe View:</p>\n\n<pre><code>&lt;?php echo form_open('control_form/add_all'); ?&gt;\n    &lt;label for=\"make\"&gt;State&lt;span class=\"red\"&gt;*&lt;/span&gt;&lt;/label&gt;\n    &lt;select id=\"make\" name=\"make\" &gt;\n        &lt;option value=\"\"&gt;&lt;/option&gt;\n        &lt;?php\n        foreach($makeOptions-&gt;result() as $make){\n            echo '&lt;option value=\"' . $make-&gt;make_id . '\"&gt;' . $make-&gt;make . '&lt;/option&gt;';\n        }\n        ?&gt;\n    &lt;/select&gt;\n    &lt;label for=\"model\"&gt;City&lt;span class=\"red\"&gt;*&lt;/span&gt;&lt;/label&gt;\n    &lt;!--this will be filled based on the tree selection above--&gt;\n    &lt;select id=\"model\" name=\"model\"&gt; \n        &lt;option value=\"\"&gt;&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;label for=\"f_membername\"&gt;Member Name&lt;span class=\"red\"&gt;*&lt;/span&gt;&lt;/label&gt;\n    &lt;!--&lt;input type=\"text\" name=\"f_membername\"/&gt;--&gt;\n    &lt;?php echo form_close(); ?&gt;\n</code></pre>\n\n<p>The View Controller:</p>\n\n<pre><code>    function dropDown(){\n         if ($this-&gt;ion_auth-&gt;requireAdmin())         \n        $data = array('title' =&gt; 'DropDown', 'main_content' =&gt;     'admin/dropDown');        \n        $data['makeOptions'] = $this-&gt;vehicle_model-&gt;getMake(Null, Null);\n        $data['modelOptions'] = $this-&gt;vehicle_model-&gt;getModel(Null, Null, NULL, Null);            \n        $this-&gt;load-&gt;view('admin/includes/template', $data);          \n}\n</code></pre>\n\n<p>The Ajax controller:</p>\n\n<pre><code>   function get_model($make){    \n    header('Content-Type: application/x-json; charset=utf-8');\n    echo(json_encode($this-&gt;vehicle_model-&gt;getModelByMake ($make)));\n} \n</code></pre>\n\n<p>The Jquery:</p>\n\n<pre><code>$('#model').hide();\n $('#make').change(function(){\nvar make_id = $('#make').val();\nif (make_id != \"\"){\n    var post_url = \"http://pulsedrivers.com/admin/get_model/\" + make_id;\n    $.ajax({\n        type: \"POST\",\n         url: post_url,\n         success: function(models) //we're calling the response json array 'cities'\n          {\n            $('#model').empty();\n            $('#model').show();\n               $.each(models,function(model_id,model) \n               {\n                var opt = $('&lt;option /&gt;'); // here we're creating a new select option for each group\n                  opt.val(model_id);\n                  opt.text(model);\n                  $('#model').append(opt); \n            });\n           } //end success\n     }); //end AJAX\n} else {\n    $('#model').empty();\n    $('#model').hide();\n}//end if\n}); //end change \n</code></pre>\n\n<p>The Model (used by get_model controller):</p>\n\n<pre><code>function getModelByMake ($make, $tree = null){\n    $this-&gt;db-&gt;select('model_id, model, make_id');\n\n    if($tree != NULL){\n        $this-&gt;db-&gt;where('make_id', $make);\n    }\n        $this-&gt;db-&gt;where('make_id', $make);\n    $query = $this-&gt;db-&gt;get('model');\n    $models = array();\n\n    if($query-&gt;result()){\n        foreach ($query-&gt;result() as $model) {\n            $models[$model-&gt;model_id] = $model-&gt;model;\n        }\n        return $models;\n    } else {\n        return FALSE;\n    }\n}\n</code></pre>\n\n<p>The view contains two dropdowns, one displays makes, the other the corresponding models.  The models are not showing up after a make is selected.  Firebug does not show any errors during the process.</p>\n\n<p>Things already checked: jquery works, the script loads.</p>\n\n<p>The controller get_models returns an array like this 1:Corvette, 2:Camaro so that seems its works correctly as well.</p>\n\n<p>Any help is gratefully appreciated, thanks!</p>\n"},{"tags":["asp.net","ajax","refresh","tabcontainer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13283015,"title":"refresh specific tab panel in asp.net","body":"<p>I have two ajax Tab Container in asp.net web page in which i have multiple tabs.Now I want to make auto refresh functionality on one tab container not on both.I short i have two tab container on a single web page and i want to auto refresh One tab container not both.Is there any idea to do this in asp.net or JavaScript or any other method which can do this. \nHere is my Tab Cotnainer example</p>\n\n<pre><code>&lt;aspaj:tabcontainer id=\"TabContainer1\" runat=\"server\" activetabindex=\"0\" width=\"100%\"&gt;\n    &lt;aspaj:TabPanel ID=\"TabPanel1\" runat=\"server\" HeaderText=\"TabPanel1\"&gt;\n        &lt;headertemplate&gt;\n                     SML I Jhang\n               &lt;/headertemplate&gt;\n        &lt;contenttemplate&gt;\n            My Contents\n&lt;/contenttemplate&gt;\n    &lt;/aspaj:TabPanel&gt;\n&lt;/aspaj:tabcontainer&gt;\n&lt;aspaj:tabcontainer id=\"TabContainer2\" runat=\"server\" activetabindex=\"0\" width=\"100%\"&gt;\n    &lt;aspaj:TabPanel ID=\"TabPanel1\" runat=\"server\" HeaderText=\"TabPanel1\"&gt;\n        &lt;headertemplate&gt;\n                    SML I Jhang\n           &lt;/headertemplate&gt;\n        &lt;contenttemplate&gt;\n    My Contents\n  &lt;/contenttemplate&gt;\n    &lt;/aspaj:TabPanel&gt;\n&lt;/aspaj:tabcontainer&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","asp.net-mvc-4","partial-views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":562,"score":0,"question_id":11741806,"title":"ASP.NET MVC 4 - Partial views and Ajax.Actionlink","body":"<p>I am trying to put on my homepage some link that render partial views - I want to display some info from the database when users click a link: the link should be replaced by text on the same page. I followed a tutorial but I cannot get it to work in my project. Here is what I have:</p>\n\n<p>My Home/Index view:</p>\n\n<pre><code>&lt;div id=\"NeZaman\"&gt;\n@Ajax.ActionLink(\"Ne Zaman Gelcekmiş?\", \"NeZaman\", new AjaxOptions {\n                                        UpdateTargetId=\"NeZaman\",\n                                        InsertionMode = InsertionMode.Replace,\n                                        HttpMethod=\"GET\" })\n&lt;/div&gt;\n</code></pre>\n\n<p>My HomeController:</p>\n\n<pre><code>    private CaglaContext db = new CaglaContext();\n\n    public PartialViewResult NeZaman()\n    {\n        var neZaman = db.Caglas.Where(c =&gt; c.Id == 1).Select(c =&gt; c.NeZamanGelcek).FirstOrDefault();\n        return PartialView(\"_NeZaman\", neZaman);\n    }\n</code></pre>\n\n<p>My partial view (_NeZaman.cshtml):</p>\n\n<pre><code>    @model caglageldimi.Models.Cagla\n\n&lt;p&gt;\n   @Model.NeZamanGelcek\n&lt;/p&gt;\n</code></pre>\n\n<p>My Model(Cagla.cs):</p>\n\n<pre><code>public class Cagla\n{\n    public int Id { get; set; }\n    public bool GeldiMi { get; set; }\n    public string NeZamanGelcek { get; set; }\n    public string Nerdeymis { get; set; }\n}\n</code></pre>\n\n<p>So I'm passing in a neZaman value that the partial view is supposed to use, but how? </p>\n"},{"tags":["php","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13282817,"title":"How To Get Variables Submitted by AJAX Using PHP Correctly?","body":"<p>I have this ajax/jquery code :</p>\n\n<pre><code>var headline = $(\"input#headline\").val();\nvar subheadline = $(\"textarea#subheadline\").val();\nvar pics = $(\"input#pics\").val();   \nvar dataString = 'headline='+ headline + '&amp;subheadline=' + subheadline + '&amp;pics=' + pics;\n\n$(\".save-notice\").hide();\n$.ajax({  \ntype: \"POST\",  \nurl: \"web-block/forms/process-001.php\",\ndata: dataString,\nsuccess: function() {             \n$(\".save-notice\").show();\n$(this).parents(\".manage-content-wrap\").next(\".ribbon-content\").fadeIn();\n}  \n});  \n</code></pre>\n\n<p>on the other side, I have this HTML form :</p>\n\n<pre><code>&lt;form action=\"\" id=\"select-block\" class=\"general-form\"&gt;\n&lt;div class=\"input-wrap\"&gt;\n    &lt;input class=\"clearme\" name=\"Headline\" value=\"&lt;?php echo $Headline;?&gt;\" id=\"headline\"/&gt;\n&lt;/div&gt;\n&lt;div class=\"input-wrap\"&gt;\n    &lt;textarea class=\"clearme\" name=\"Sub-Headline\" id=\"subheadline\"&gt;&lt;?php echo $SubHeadline;?&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;label&gt;Bottom Left Image&lt;/label&gt;\n&lt;div class=\"up-mask\"&gt;\n    &lt;span class=\"file-wrapper\"&gt;\n      &lt;input type=\"file\" name=\"Pics\" class=\"photo\" id=\"pics\" /&gt;\n      &lt;span class=\"button\"&gt;\n         &lt;span class=\"default-txt\"&gt;Upload Photo&lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/span&gt;\n&lt;/div&gt;&lt;!-- .up-mask --&gt;\n\n&lt;input type=\"hidden\" name=\"Key\" value=\"&lt;?php echo $Key;?&gt;\"/&gt;\n&lt;input type=\"submit\" class=\"submit-btn\" value=\"SAVE\" /&gt;\n&lt;span class=\"save-notice\"&gt;Your changed has been saved!&lt;/span&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>as you can see process-001.php is the file which process all variables from HTML form. but I have difficulties to 'catch' <code>$Headline</code> and <code>$SubHeadline</code> submitted by that form, which actually 'manipulates' by Ajax too...</p>\n\n<p>I tried using this code on process-001.php :</p>\n\n<pre><code>$Headline = $_POST['Headline'];\n$SubHeadline = $_POST['Sub-Headline'];\n</code></pre>\n\n<p>but seems that those variables are empty... how to get variables submitted by AJAX correctly?</p>\n"},{"tags":["ajax","internet-explorer","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":11935979,"title":"IE8: browser-cache and ajax","body":"<p>I developed a webapplication with ajax.</p>\n\n<p>its fine with firefox but under IE8 some of my ajax dynamics (e.g. changing a div after a button etc.) are not working. only if I disable the browser-cache (F12 - Cache - always reload from server).</p>\n\n<p>think IE doesnt check that a ajax-response has changed a part of the site or something else. \nany ideas i can handle this with this option on??</p>\n\n<p>I tried random-numbers in the request or timestamps in the response but didnt work.</p>\n\n<p>thanks!\nch</p>\n"},{"tags":["ajax","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":25,"score":0,"question_id":13279125,"title":"i tried to call servlet class by jquery ajax but i failed,and got this error","body":"<p>I tried to call servlet class by jquery ajax but i failed,and got this error. what should I do to fix it ??</p>\n\n<pre><code>POST http//localhost:8080/AkiDar/CpanelServlet 404 (Not Found) jquery-1.8.2.js:8416\nsend jquery-1.8.2.js:8416\njQuery.extend.ajax jquery-1.8.2.js:7968\nsendToServlet\nonclick\n</code></pre>\n\n<p>and this is jQuery Ajax</p>\n\n<pre><code>var mainDesID=document.staticForm.mainDesID.value;\n\nvar firstName=document.staticForm.firstName.value;\n\nvar lastName=document.staticForm.lastName.value;\nvar address=document.staticForm.address.value;\nvar xpoint=document.staticForm.xpoint.value;\nvar ypoint=document.staticForm.ypoint.value;\n\nvar xstreet=document.staticForm.xstreet.value;\n\nvar ystreet=document.staticForm.ystreet.value;\nvar phoneNumber=document.staticForm.phoneNumber.value;\nvar email=document.staticForm.email.value;\nvar url=document.staticForm.url.value;\nvar description=document.staticForm.description.value;\nvar details=document.staticForm.details.value;\nvar type=document.staticForm.type.value;\n\n\n\nvar json= {\n    'mainDesID':mainDesID , \n    'firstName':firstName,\n    'lastName':lastName,\n    'xpoint':xpoint,\n    'ypoint':ypoint,\n    'xstreet':xstreet,\n    'ystreet':ystreet,\n    'address':address,\n    'phoneNumber':phoneNumber,\n    'email':email,\n    'url':url,\n    'description':description,\n    'type':type,\n    'specialize':'dddd',\n    'details':details\n};\n\n\n\nconsole.log(json);\n$.ajax({\n    url:\"/AkiDar/CpanelServlet\",\n    type:\"POST\",\n    dataType:'json',\n    success:function(data){\n\n    },\n    data:json\n\n});\n</code></pre>\n\n<p>and web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \n    &lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns=\"http://java.sun.com/xml/ns/javaee\"\n        xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n        xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\"\n        version=\"2.5\"&gt;   \n        &lt;display-name&gt;AkiDar&lt;/display-name&gt;  \n        &lt;welcome-file-list&gt;\n            &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;   \n        &lt;/welcome-file-list&gt; \n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["jquery","css","ajax","dynamically-generated"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13280948,"title":"How to add css on elements created through ajax (jquery)?","body":"<p>I have a cart that’s graphically styled with a CSS file. However, when I update the cart through jQuery and AJAX, the reloaded version is not styled.</p>\n\n<p>Is there any jQuery function to apply already loaded styles to a dynamically generated element?</p>\n\n<p>I know I could use <code>.css()</code> function to add the style manually, but I’d rather avoid that and be able to load the existing properties automatically, so that it doesn’t become messy if I make changes.</p>\n\n<p>Thanks,\nkind regards.</p>\n\n<hr>\n\n<p>Sorry guy, I guess I’m a bit confused or something. It does work by itself and the css is automatically recognized without any special code. I’m not sure why it failed before, I’ve rewritten the code so I can’t tell, but I guess there was somewhere an error while declaring the class. </p>\n\n<p>Anyway: while using correctly classes in css and html this is not a problem and it just works. </p>\n"},{"tags":["php","ajax","forms","drop-down-menu","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13281836,"title":"Using Ajax with PHP to auto-select from drop down list","body":"<p>I'm using a drop down list to select an option that with fill in a form based on items that have been saved. All I'm trying to do is obtain a form id from a drop down, then query the database for the correct values to go in the fields. The Ajax request works correctly, however ,since the form is called from a function, when a value is selected that same function is called again so there are 2 forms generated. </p>\n\n<p>So the flow of information is.</p>\n\n<ol>\n<li><p>when the page loads, function create_event is called which displays a form.</p></li>\n<li><p>If an item is selected from a drop down (in create_event) to fill out some options, that same create_event function is called again via ajax, so that same form loads again.</p></li>\n</ol>\n\n<p>Here's where the form is called</p>\n\n<pre><code>if($_GET['form_id']){ //a value was selected from the drop down list\n    if(isset($my_username)){  //make sure the user is signed in\n        $form_id = $_GET['form_id']; \n        $event-&gt;create_event($form_id);\n    }\n}\nif($uri_2 == \"create\" AND !$_GET['form_id']){ //checks URI for create page and no form_id has been selected\n    if(isset($my_username)){  //make sure the user is signed in\n        $form_id = \"\";\n        $event-&gt;create_event($form_id);\n    }\n}\n</code></pre>\n\n<p>How can I work around this? I'm fine with the page re-loading, but I don't know how to do that  without passing something visually through the URL (which I'd like to avoid).</p>\n"},{"tags":["python","ajax","google","application","engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13262824,"title":"Ajax python how to post data","body":"<p>Sorry guys, maybe this has been asked before. But I googled around for several days and still cannot solve the problem. I am developing a chatting system using Google App Engine with Python. I would like the user to enter her/his message and click \"Submit\" button. That action will trigger an Ajax post function \"addMsg()\" to POST the message to class Chat (URL: \"/chat\"), which will add the message to datastore. There is another Ajax function \"updateMsg()\" which will update the message list periodically.</p>\n\n<p>The code works fine for message updating, however, I am not able to post the message correctly. Can anybody help me? Thanks. Here are my codes:</p>\n\n<h2>chat.html:</h2>\n\n<pre><code>    &lt;p&gt;\n    &lt;form method=\"\" action=\"\"&gt;\n    &lt;input type=\"text\" name=\"message\" size=\"60\" /&gt;&lt;br /&gt;\n    &lt;input type=\"button\" value=\"Submit\" onclick=\"addMsg('message')\" /&gt;\n    &lt;/form&gt;\n    &lt;/p&gt;\n    &lt;div id=\"chatcontent\"&gt; &lt;/div&gt;\n    &lt;script&gt;\n    function addMsg(message) {\n        $.ajax({\n            type: \"POST\",\n            url: \"/chat\",\n            data: {'message': message},\n            cache: false\n        });\n    }\n    &lt;/script&gt;\n\n    &lt;script&gt;\n    $(document).ready(function() {\n        function updateMsg() {\n            $.ajax({\n               url: \"/message\",\n               cache: false,\n               success: function(returndata){\n                    $(\"#chatcontent\").html(returndata);\n               }\n            });\n            setTimeout(updateMsg, 4000);\n        }\n        updateMsg();\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<h2>message.html:</h2>\n\n<pre><code>    {% for chat in chatlist %}\n    &lt;p&gt;\n      {{ chat.text }} ({{ chat.user.account }}) {{chat.created|date:\"D d M Y\" }}\n    &lt;/p&gt;\n    {% endfor %}\n</code></pre>\n\n<h2>chat.py:</h2>\n\n<pre><code>    # Called by URL \"/chat\"\n    class Chat(webapp2.RequestHandler):\n        def post(self):\n            message = self.request.get('message')\n            newchat = ChatMessage(user=self.session['userkey'], text=message, created=datetime.datetime.now())\n    newchat.put()\n\n    # Called by URL \"/message\"\n    class Message(webapp2.RequestHandler):\n        def get(self):\n            que = db.Query(ChatMessage).order('-created')\n            chatlist = que.fetch(limit=100)\n            render(self, 'message.html', {'chatlist': chatlist})\n            # Note: render() is a function to be imported, which is just a normal template rendering function. It works fine and is omitted here.\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13280927,"title":"Ruby on Rails - continually looping through the new/create action with AJAX","body":"<p>I have a Rails controller set up that when a user creates a new record, it will redirect again to the new action and populate the form with new data, and this can continue on in a loop, creating a new record and getting redirected to the new action.  What I am having trouble with is adding AJAX to this so that the user can stay in this loop without the page reloading.  Here is my code without AJAX:</p>\n\n<pre><code>class ResponsesController\n def new\n   @response = Response.new\n   @answer_a = Answer.find(rand(1..100))\n   @answer_b = Answer.find(rand(1..100))\n   @answer_c = Answer.find(rand(1..100))\n end\n\n def create\n   @response = current_user.responses.build(params[:response])\n   if @response.save\n      respond_to do |format|\n        format.html { redirect_to new_response_path }\n        format.js\n      end\n   else\n      render 'new'\n   end\n end\nend\n</code></pre>\n\n<p><strong>new.html.erb</strong></p>\n\n<pre><code> &lt;div id=\"response_form\"&gt;\n   &lt;%= render 'form' %&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p><strong>_form.html.erb</strong></p>\n\n<pre><code> &lt;%= form_for @response do |f| %&gt;   \n    &lt;%= f.radio_button :user_answer, @answer_a.id %&gt; \n    &lt;%= @answer_a.description %&gt;\n    &lt;%= f.radio_button :user_answer, @answer_b.id %&gt; \n    &lt;%= @answer_b.description %&gt;\n    &lt;%= f.radio_button :user_answer, @answer_c.id %&gt; \n    &lt;%= @answer_c.description %&gt;\n    &lt;%= f.submit \"Answer\" %&gt;                \n &lt;% end %&gt;\n</code></pre>\n\n<p>Below is my attempt to add AJAX.  However, it is going to the show action and doing an update.  How can I fix my code so that it keeps redirecting to the new action and the user can continue to create new records on an infinite loop?</p>\n\n<pre><code> def create\n   @answer_a = Answer.find(rand(1..100))\n   @answer_b = Answer.find(rand(1..100))\n   @answer_c = Answer.find(rand(1..100))\n   @response = current_user.responses.build(params[:response])\n   if @response.save\n      respond_to do |format|\n        format.html { redirect_to new_response_path }\n        format.js\n      end\n   else\n      render 'new'\n   end\n end\n</code></pre>\n\n<p><strong>_form.html.erb</strong></p>\n\n<pre><code> &lt;%= form_for @response, :remote =&gt; true do |f| %&gt;  \n    &lt;%= f.radio_button :user_answer, @answer_a.id %&gt; \n    &lt;%= @answer_a.description %&gt;\n    &lt;%= f.radio_button :user_answer, @answer_b.id %&gt; \n    &lt;%= @answer_b.description %&gt;\n    &lt;%= f.radio_button :user_answer, @answer_c.id %&gt; \n    &lt;%= @answer_c.description %&gt;\n    &lt;%= f.submit \"Answer\" %&gt;                \n &lt;% end %&gt;\n</code></pre>\n\n<p><strong>create.js.erb</strong></p>\n\n<pre><code> $('#response_form').html('&lt;%= j render(\"form\") %&gt;');\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","ajax","ujs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13281804,"title":"Re enable Rails UJS links after ajax event","body":"<p>I have a custom ajax method that replaces some content on the page with a partial. That partial has rails remote links in it. They don't function when they've been inserted by my script. Is there something I can trigger to rebind the rails UJS functionality to the links?</p>\n\n<p>Here's the basic setup (simplified):</p>\n\n<p>model/_my_partial.html.haml</p>\n\n<pre><code>%p Some nifty content is available here:\n%p= link_to 'page', page_path, :remote =&gt; true\n</code></pre>\n\n<p>model/show.html.haml</p>\n\n<pre><code>= link_to 'Reload some stuff', '#', :id =&gt; 'customAjax'\ndiv#my_partial= render 'my_partial'\n</code></pre>\n\n<p>controllers/model_controller.rb</p>\n\n<pre><code>partial = render_to_string 'my_partial'\nrespond_to do |format|\n  format.js { render :json =&gt; { :partial =&gt; partial }\nend\n</code></pre>\n\n<p>javascripts/my_ajax.js.coffee</p>\n\n<pre><code>$(a#customAjax).click -&gt;\n  event.PreventDefault()\n  $.ajax\n    ...\n    success: (data, status, xhr) -&gt;\n      $('div#my_partial').html( data.partial )\n</code></pre>\n\n<p>This functions as expected, and on the first page load any rails UJS links inside the partial work perfectly, but after they've been replaced via my custom ajax they quit working.</p>\n"},{"tags":["javascript","html","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13281632,"title":"Insert (with AJAX) float <li> element before other float <li>s without moving them","body":"<p>So i have a bunch of li elements looking like:</p>\n\n<pre><code>&lt;div id=\"previous_button\"&gt;\n    &lt;a href=\"javascript:void(0)\" id=\"previous\"&gt;Previous&lt;/a&gt;\n&lt;/div&gt;\n&lt;div id=\"slider-stage\"&gt;\n    &lt;ul id=\"slider-list\"&gt;\n        &lt;li&gt;First&lt;/li&gt;\n        &lt;li&gt;Second&lt;/li&gt;\n        &lt;li&gt;Third&lt;/li&gt;\n        &lt;li&gt;Fourth&lt;/li&gt;\n        &lt;li&gt;Fifth&lt;/li&gt;\n        &lt;li&gt;Sixth&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;div id=\"next_button\"&gt;\n    &lt;a href=\"javascript:void(0)\" id=\"next\"&gt;Next&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And CSS:</p>\n\n<pre><code>#slider-stage\n{\n    float: left;\n    width:825px;\n    overflow:auto;\n    overflow-x:hidden;\n    overflow-y:hidden;\n    height:235px;\n    margin:0 auto;\n}\n\n#slider-list\n{\n    width: 1200px;\n    border:0;\n    margin:0;\n    padding:0;\n}\n\n#slider-list li\n{\n    list-style:none;\n    margin:0;\n    padding:0;\n    border:0;\n    margin-right:15px;\n    background: grey;\n    background-size: 150px 235px;\n    float:left;\n    width:150px;\n    height:235px;\n}\n#previous_button\n{\n    float: left;\n    height: 235px;\n    margin-right: 15px;\n}\n#next_button\n{\n    float: left;\n    height: 235px;\n    margin-right: 15px;\n}\n</code></pre>\n\n<p>Whole slider-list moving when margin-left changes:</p>\n\n<pre><code>window.addEvent('domready', function()\n{ \n    var totIncrement = 0;\n    var increment = 165;\n    var maxRightIncrement = increment*(-2);\n    var fx = new Fx.Tween('slider-list',\n    {    \n        duration: '500',\n        property: 'margin-left'\n    });\n    // Previous Button\n    document.id('previous').addEvent\n    ('click', function(event)\n    { \n        if(totIncrement&lt;0)\n        { \n            totIncrement = totIncrement + increment;\n            fx.start(totIncrement);\n        }\n    }); \n    // Next Button\n    document.id('next').addEvent\n    ('click', function(event)\n    { \n        special = special + 1;\n        if(totIncrement&gt;maxRightIncrement)\n        { \n            totIncrement = totIncrement - increment;\n            fx.start(totIncrement);\n        }\n    });\n}); ​\n</code></pre>\n\n<p>No problems when new element added as last, and when I try to add it as first - slider-list moves. The reason is obvious, but is there any way to avoid this?</p>\n"},{"tags":["asp.net","ajax","updatepanel-progressbar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3369,"score":0,"question_id":1149488,"title":"Display updateprogress over updatepanel","body":"<p>What I'm trying to do is show a updateprogress over the updatepanel that I'm currently updating. Preferably I would like to show an animation of some kind of progress indicator and also disable the updatepanel under the updateprogress so that the user cannot reclick the controls that set of the update in the first place. The idea would be getting the indicator death center of the updatepanel.</p>\n\n<p>I know I could just simply position absolute the updateprogress, but that would only work if the updatepanel would always be in the same place. Unfortunately this is not the case. So in this case the updateprogress should be in the middle of the updatepanel regardless of the location of it.</p>\n\n<p>Does anyone have nice and clean solution for this?</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13281502,"title":"abort .ajax request and stop downloading files","body":"<p>I apologize if this is a re-post, I can't figure it out though.  I'm loading a page full of images, and I would like to stop the download if the user navigates away before the images are downloaded.  I have the abort() working I think, but the files continue to download. </p>\n\n<pre><code>$(document).ready(function(){\nvar jqXHR;\n$('.buttons li#stop').click(function(){\n    jqXHR.abort();\n    alert('aborted');\n}); \n$('.buttons li#start').click(function(){\n    jqXHR = $.ajax({\n    dataType:\"html\",\n    url:\"images.php\",\n    success: function(data){\n        $('.pageContent').html(data);\n    }\n    });         \n});     \n</code></pre>\n\n<p>});</p>\n"},{"tags":["javascript","jquery","ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13278350,"title":"Showing data from multiple elements using $.post","body":"<p>I have a script that echoes out the last dropped droppable element, I want to make it so when the last element is dropped all the elements dropped previous to the last one being dropped is echoed out. <a href=\"http://jsfiddle.net/Kxtvg/248/\" rel=\"nofollow\">This here</a> is a visual of the script minus the echoing out. Below is the javscript containing the issue.</p>\n\n<pre><code>$('#dropbox, #dropbox1').droppable({\n        accept: '.sort',\n        hoverClass: 'border',\n        tolerance: 'touch',\n        drop: function(e, ui) {\n    $(this).append(ui.draggable.html() + '&lt;br/&gt;');\n            $(\"#add_friend\").show().fadeOut(12000);\n            $(e.target).droppable(\"disable\");\n            $(e.target).append(\"&lt;input type='button' name='Sub' value='clear'/&gt;\").click(function() {\n            $(this).empty().droppable(\"enable\");\n            });\n        var dropbox = $('#dropbox').html();\n        var dropbox1 = $('#dropbox1').html();\n\n    if(dropbox &amp;&amp; dropbox1 !== ''){\n        $.post(\"account_main.php\", \n          {data: $(this).text()}, \n          function(data) {\n               //alert(\"Data saved.\");\n               $('#demo').html(data);\n          });       \n        }\n        }\n    });\n</code></pre>\n\n<p>I am pretty sure <code>{data:$this.text()}</code> is the issue, but I'm brainlocked on how I can echo the other dropped elements when the last droppable element is dropped. </p>\n"},{"tags":["ajax","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13278348,"title":"How to send a parameter and update an element using ajax in cakephp 2.x","body":"<p>I have an input field \"#PostTitle\" in which the user can enter a URL. </p>\n\n<p>I want to send the user's input (upon change or upon exiting the field) to an action in my Posts controller which returns an array. Without CakePHP I think this would look something like this:</p>\n\n<pre><code>$(document).ready(function(){\n $('#PostTitle').change(function(){\n    $.ajax({\n           type: 'POST',\n           url: '/posts/setPostImages',  \n           data: $(this).serialize(),\n           success: function(data){\n                do something;\n           },\n           error: function(message){\n                console.debug(message);\n           }\n      });\n return false;\n });\n});\n</code></pre>\n\n<p>The action in the Posts controller sets an array of links called $imageArray\n (I CURL the page and return an array of all the images on that page, if it's of any interest).</p>\n\n<p>Then, after I make the request, I would like to update an element which depends the contents of that array. The element contains the following code:</p>\n\n<pre><code>&lt;div id=\"slider-wrap\" class=\"boxframe\"&gt;\n    &lt;div class=\"coda-slider\" id=\"slider-id\"&gt;\n     &lt;?php foreach ($imageArray as $image): ?&gt;\n        &lt;div class=\"crop\"&gt;\n        &lt;?php echo $this-&gt;Html-&gt;image($image); ?&gt;\n        &lt;/div&gt;\n    &lt;?php endforeach; ?&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Any help is appreciated!</p>\n\n<p><strong>Edit:</strong> If I try this, the action isn't called at all:</p>\n\n<pre><code>echo $this-&gt;Js-&gt;link('update',\n      array('action' =&gt; 'setPostImages'),\n      array(\n         'update' =&gt; '#selectImage',\n         'data' =&gt; 'www.stackoverflow.com',\n         'async' =&gt; true,    \n         'dataExpression'=&gt;true,\n         'method' =&gt; 'POST'\n      )\n   );\n</code></pre>\n"},{"tags":["php","jquery","ajax","codeigniter","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13281159,"title":"Why, when uploading files via Ajax, is CodeIgniter throwing a \"no file uploaded\" error?","body":"<p>All I'm trying to do is upload files using ajax to my CodeIgniter based website.  But for some reason CodeIgniter keeps giving the \"no file uploaded\" error. How can I resolve this?</p>\n\n<p>Here is the JavaScript:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction updatebgimage()\n    {   \n        regexp = /^[^[\\]]+/;\n        var imgfile = document.getElementById(\"imagetoresize\"); \n        var fileInputName = regexp.exec( imgfile['name'] ); \n        formdata = new FormData(); \n        formdata.append(\"imagetoresize\",imgfile.files[0]);\n        $.ajax({  \n            url: \"&lt;?php echo site_url('uploadbgimage'); ?&gt;\",  \n            type: \"POST\",  \n            data: formdata,  \n            dataType: \"json\",\n            processData: false,  \n            contentType: false,  \n            success: function (data) {  \n                    alert(data.message); \n            }  \n        });  \n    } \n&lt;/script&gt;\n</code></pre>\n\n<p>Here is the CodeIgniter controller being called:</p>\n\n<pre><code>public function uploadbgimage()\n{\n    $config['upload_path'] = './images/stores/'.$memberid.'/'; \n    $config['file_name'] = 'main_bg_image.jpg'; \n    $config['allowed_types'] = 'jpg|png'; \n    $config['overwrite'] = true;       \n    $this-&gt;load-&gt;library('upload', $config);  \n    $data = array();\n    if (! $this-&gt;upload-&gt;do_upload(\"bgimage\"))\n    {\n        $data['result'] = 'fail';\n    $data['message'] = $this-&gt;upload-&gt;display_errors();  \n    } \n    else \n    {\n         $data['result'] = 'success';\n     $data['message'] = 'file was uploaded fine';  \n    }\n    echo json_encode($data);\n}\n</code></pre>\n\n<p>Here is the HTML:</p>\n\n<pre><code>&lt;form method=\"post\" enctype=\"multipart/form-data\"&gt;\n     &lt;input type=\"file\" id=\"imagetoresize\" name=\"imagetoresize\" value=\"\" class=\"field1\" /&gt; \n     &lt;input type=\"button\" onclick=\"updatebgimage()\" value=\"UploadBGImage\" /&gt; \n&lt;/form&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","html","ajax","django-templates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13280664,"title":"jquery siblings() seems to include selector if there are siblings but not if not","body":"<p>I have an ajax call with the following success function:</p>\n\n<pre><code>            success: function(response){\n                console.log($(response).siblings());\n                $(response).siblings().each(function(){\n                    alert(\"foo\");\n                    var thing_id = $(this).attr(\"id\").split(\"-\")[0];\n                    alert(thing_id);\n                    $(\"#\"+thing_id).append(this);\n                })\n</code></pre>\n\n<p>where response is rendered html using this django template (slightly anonymized):</p>\n\n<pre><code>{% for thing in things %}\n    &lt;div id=\"{{ thing.something.id }}-pc\"&gt;\n        &lt;div&gt;\n            &lt;span class=\"tablename\"&gt;Something Else&lt;/span&gt;\n            {% include '&lt;some template&gt;' with table=thing.something_else %}\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n{% endfor %}\n</code></pre>\n\n<p>the docs for sibling() state that the selector is not included, which is what I see if I only have one <code>thing in things</code> in my template, but if I have more than one, I get both top level divs alerted in the loop.</p>\n\n<p>What's going on?!</p>\n\n<p>EDIT (better question): why am I getting both top level divs when there are 2, but 0 when there is only 1, when I call <code>siblings()</code> on <code>$(response)</code>?  </p>\n\n<p>Seems like I'm misunderstanding what I'm selecting with <code>$(response)</code>. Can anyone clarify?</p>\n"},{"tags":["jquery","ajax","post"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13279550,"title":"large html form data being truncated using POST","body":"<p>I'm using jQuery AJAX to send a form form data to my webserver via POST.\nIt works most of the time, but today it erred when the form reached 1371 name/value pairs.\nIt looks like a timeout issue. \nThe form data was truncated about 3/4th of the way through.</p>\n\n<p>Any suggestions on how to overcome this?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","fullcalendar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13280759,"title":"Specify data for Fullcalendar's eventSources","body":"<p>I am using the jQuery Fullcalendar plugin. On the same page, I have a form with checkboxes which are used to filter the event data fetched from the server. The idea is that I want to pass those form values into the <code>eventSources</code> object, so that they get transmitted to the server together with the start/end timestamps.</p>\n\n<p><a href=\"http://arshaw.com/fullcalendar/docs/event_data/events_json_feed/\" rel=\"nofollow\">The docs</a> have a sample <code>eventSources</code> object like this:</p>\n\n<pre><code>$('#calendar').fullCalendar({\n   eventSources: [\n     // your event source\n      {\n        url: '/myfeed',\n        type: 'POST',\n        data: {\n          custom_param1: 'something',\n          custom_param2: 'somethingelse'\n        },\n      }\n      // other sources...\n   ]\n});\n</code></pre>\n\n<p>Which I modified to:</p>\n\n<pre><code>   eventSources: [\n   {\n     // ...as above\n     data: getFormAsObject(),\n     // as above...\n   }\n</code></pre>\n\n<p>I want the form's values to get passed into the the <code>data</code> object. In the <code>getFormAsObject()</code> function, I serialize the form and convert that to an associative array.</p>\n\n<p>All that is left is to hijack the form submission. So if the \"submit\" button is clicked, I cancel the default POST action, and call</p>\n\n<pre><code>calendar.fullCalendar(\"refetchEvents\");\n</code></pre>\n\n<p>BUT, this doesn't work, and the <code>getFormAsObject()</code> doesn't get called at all. <em>What am I doing wrong?</em></p>\n"},{"tags":["c#","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13280504,"title":"set focus on the first textbox on the page with ajax editor in .net","body":"<p>I a have a web form with few textboxes,dropdowns and finally towards the end of the page is 4 custom ajax editors. So on page load the focus is always inside the last editor and no way it comes to the first text box or top of page.On each page load the cursor goes inside the last editor control.How to bring the focus inside the first text box?\nBelow are the few methods i tried </p>\n\n<p><code>1.&lt;body onload=\"document.body.scrollTop = 0;\"&gt;</code></p>\n\n<pre><code>2.    void Page_Init(object sender, EventArgs e)\n{\n\n    SetFocus(txtReqtitle);\n\n\n}\n</code></pre>\n\n<p>for the above while loading the page i could see the focus goes to the desired text box and then it comes to the last custom control.</p>\n\n<pre><code>3.    if(!Page.ClientScript.IsStartupScriptRegistered(\"scrFocus\"))\n           {\n              string strScript=\"var txtBox=document.getElementById('\" + txtReqtitle.ClientID.ToString() +\"');txtBox.focus();\";\n               ClientScript.RegisterStartupScript(this.GetType(),\"scrFocus\", strScript,true);\n\n\n            }\n</code></pre>\n\n<p>4.</p>\n\n<pre><code>function setFocus() {\ndocument.getElementById(\"txtReqtitle\").focus();\n</code></pre>\n\n<p>}</p>\n\n<pre><code>5. ScriptManager.GetCurrent(this.Page).SetFocus(txtReqtitle);\n</code></pre>\n\n<p>Any ideas? Thanks..</p>\n"},{"tags":["ajax","size","response","max"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3256,"score":2,"question_id":1709854,"title":"What is max size of ajax response data?","body":"<p>I send request from asp.net page and then wait for response, calling GetCommand via SetInterval method:</p>\n\n<pre><code>    function GetCommand(id, sid) {\n\tgetCommandResponse = $.ajax({\n\t\ttype: \"POST\",\n\t\tasync: true,\n\t\turl: \"../WebServices/TSMConsole.asmx/GetCommand\",\n\t\tdata: \"{'param' : '\" + id + \"', 'sid' : '\" + sid + \"'}\",\n\t\tcontentType: \"application/json; charset=utf-8\",\n\t\tdataType: \"json\",\n\t\tsuccess: function(result, status) {\n\t\t\tAjaxFinishedGet(result, status);\n\t\t\tgetCommandResponse = null;\n\t\t},\n\t\terror: function(XMLHttpRequest, textStatus, errorThrown) {\n            AjaxFailedGet(XMLHttpRequest, textStatus, errorThrown);\n\t\t\tgetCommandResponse = null;\n\t\t}\n\t});\n}\n</code></pre>\n\n<p>In AjaxFinishedGet(result, status) I try to extract my data:</p>\n\n<pre><code>    function AjaxFinishedGet(xml, status) {\n\tendDate = new Date();\n\tif (xml.d.IsPending == 'false' || endDate - startDate &gt; timeoutMSec) {\n\t\tif (getCommand != null) {\n\t\t\twindow.clearInterval(getCommand);\n\t\t\tgetCommand = null;\n\t\t\tWriteGetCommand(xml.d.Text);\n\t\t\t$(\"#showajax\").fadeOut(\"fast\");\n\t\t}\n\t}\n}\n</code></pre>\n\n<p>However, if Text size is more than 102330 bytes - instead of AjaxFinishedGet, AjaxFailedGet is called :(</p>\n\n<p>I have not found any info neither about some limitation of ajax response data size nor about javascript variable size, at least such variable can hold 1MB without problems. Actually Text may contain 1MB of data...</p>\n\n<p>Where is the problem?</p>\n"},{"tags":["php","jquery","html","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13280053,"title":"Not Getting Expected Response When Using Ajax With JSONP","body":"<p>I am experimenting with jsonp.</p>\n\n<p>Currently I have an html page with ajax on it listed below, which contains a drop box form, along with a table. Only the headers are there initially and it depends on ajax getting a jsonp response in order to populate the other cells.</p>\n\n<p>I then have my response php also hosted, and I thought everything was correct, but obviously not. </p>\n\n<p>All my id's appear to be correct unless I\"ve overlooked one, so I really do not understand why all I\"m getting is the error response from the jsonp page.</p>\n\n<p>html page: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n        &lt;title&gt;Car Queries&lt;/title&gt;\n        &lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function()\n        {\n                $(\"#submitbutton\").click(function()\n                {\n                        $.ajax(\n                        {\n                                url: \"https://example.com/jsonServer.php\",\n                                type: \"GET\",\n                                dataType: \"jsonp\",\n                                jsonp: \"callback\",\n                                data: { car: $(\"#carselection\").val()},\n                                success: function(data)\n                                {\n                                        if(data.name == \"error\")\n                                        {\n                                                $(\"#outputcarname\").text(\"There is no such car available\"),\n                                                $(\"#price\").text(\" \"),\n                                                $(\"#mpg\").text(\" \");\n                                        }\n                                        else\n                                        {\n                                                $(\"#outputcarname\").text(\"data.name\"),\n                                                $(\"#price\").text(\"data.price\"),\n                                                $(\"#mpg\").text(\"data.mpg \");\n                                        }\n                                },\n                                error: function()\n                                {\n                                        $(\"#outputcarname\").text(\"There is a problem with the server\"),\n                                        $(\"#price\").text(\" \"),\n                                        $(\"#mpg\").text(\" \");\n                                }\n                        });\n                return false;\n                });\n        });\n        &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n        &lt;h1&gt;Cars Cars Cars!&lt;/h1&gt;\n        &lt;form action=\"\" method=\"POST\"&gt;\n\n        &lt;select id=\"carselection\"&gt;\n                &lt;option selected=\"selected\"&gt;Pick a Car&lt;/option&gt;\n                &lt;option value=\"Maxima\"&gt;Maxima&lt;/option&gt;\n                &lt;option value=\"Element\"&gt;Element&lt;/option&gt;\n                &lt;option value=\"Prius\"&gt;Prius&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;/br&gt;&lt;/br&gt;\n        &lt;input type=\"submit\" id=\"submitbutton\" value=\"Submit\"&gt;\n        &lt;/form&gt;\n        &lt;/br&gt;\n        &lt;center&gt;&lt;table&gt;\n                &lt;tr&gt;\n                        &lt;th&gt;Car Name&lt;/th&gt;\n                        &lt;th&gt;Price&lt;/th&gt;\n                        &lt;th&gt;MPG&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td id=\"outputcarname\"&gt;&lt;/td&gt;\n                        &lt;td id=\"price\"&gt;&lt;/td&gt;\n                        &lt;td id=\"mpg\"&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;/table&gt;&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Response JSONP/PHP:</p>\n\n<pre><code>&lt;?php\n\n$cars = array('Maxima' =&gt; array('price' =&gt; '$32,780', 'mpg' =&gt; '24'),\n              'Prius' =&gt; array('price' =&gt; '$25,565', 'mpg' =&gt; '49'),\n              'Element' =&gt; array('price' =&gt; '$22,075', 'mpg' =&gt; '22'));\n\nif(array_key_exists($_GET['carselection'], $cars))\n{\n        $carname = $_GET['carselection'];\n        $results = array('name' =&gt; $carname, 'price' =&gt; $cars[$carname]['price'], 'mpg' =&gt; $cars[$carname]['mpg']);\n}\nelse\n{\n        $results = array('name' =&gt; 'error');\n}\n\n$callback = htmlentities($_GET['callback'], ENT_QUOTES);\nprint $callback . '(' . json_encode($results) . ')';\n?&gt;\n</code></pre>\n"},{"tags":["ajax","wordpress","sharing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":4,"score":-1,"question_id":13280037,"title":"wordpress social plugin and Ajax Template","body":"<p>Hallo i have a theme in wordpress, with Ajax Portfolio.\nim not able to let any social plugin working, i would like to know if Facebook has enambled a Sharing function for this kind of theme or not. </p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13279896,"title":"Why wont this ajax script call the backend php using ajaxRequest.open?","body":"<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Loses&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nfunction ajaxFunction() {\n    var ajaxRequest;\n    try{\n        // Opera 8.0+, Firefox, Safari\n        ajaxRequest = new XMLHttpRequest();\n    }catch (e){\n        // Internet Explorer Browsers\n        try{\n            ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }catch (e){\n            try {\n                ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }catch (e){\n                // Something went wrong\n                alert(\"Your browser broke!\");\n                return false;\n            }\n        }\n    }\n\n    // Receive data from the server to update div\n    ajaxRequest.onreadystatechange = function(){\n        if(ajaxRequest.readyState == 4){\n            var ajaxDisplay = document.getElementById('ajaxDiv');\n            ajaxDisplay.value = ajaxRequest.responseText;\n        }\n    }\n\n    // Get the value from user.\n    if (!target) target = document.getElementById(\"name\");\n    var queryString = \"?name=\" + escape(target.value);\n\n    var url = \"db.php\" + queryString;\n\n    ajaxRequest.open(\"GET\", url, true);\n    ajaxRequest.send(null); \n}\n&lt;/script&gt;\n\n&lt;form name=\"myForm\"&gt;\n    Victim: &lt;input type=\"text\" id=\"name\" name=\"name\"/&gt; &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;input type=\"button\" onclick=\"getLoses()\" value=\"Show Loses\"/&gt;\n&lt;/form&gt;\n\n&lt;div id=\"ajaxDiv\"&gt;Results:&lt;/div&gt;\n&lt;br&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Why doesn't this do anything?</p>\n\n<p>I've tried it under apache and lightpd. I'm getting no complaints or errors, but it's just not doing anything.</p>\n\n<p>If I call the backend manually, db.php?name=Player1 it works. So it can't be anything in db.php. Something is wrong with the code above and I just don't know what's missing. Can anyone help me?</p>\n"},{"tags":["jquery","ajax","timeout","default-value"],"answer_count":3,"favorite_count":4,"up_vote_count":20,"down_vote_count":0,"view_count":9912,"score":20,"question_id":2507355,"title":"JQuery ajax call default timeout value","body":"<p>I got a bug report that I can't duplicate, but ajax-call timeout is the current best guess. </p>\n\n<p>So I'm trying to find out the default value for timeout of a jQuery $.ajax() call. Anybody have an idea? Couldn't find it in jQuery documentation.</p>\n\n<p>Thanks in advance, \nMarcus</p>\n"},{"tags":["javascript","jquery","ajax","json","jsonp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13253914,"title":"Cross domain javascript- ie 9 problems","body":"<p>This is my javascript code</p>\n\n<pre><code>jQuery.support.cors = true;\n    if ('XDomainRequest' in window &amp;&amp; window.XDomainRequest !== null) {\n\n        // override default jQuery transport\n        jQuery.ajaxSettings.xhr = function () {\n            try { return new XDomainRequest(); }\n            catch (e) { }\n        };\n\n        // also, override the support check\n        jQuery.support.cors = true;\n\n    }\n    var inputParameters = window.location.search.replace(\"?\", \"\");\n    var data = new Array();\n\n    $(\".question\").each(function () {\n\n        var question = $(this).text().trim();\n\n        var reference_to_answer = $(this).attr(\"data-ref\");\n        var answer = \"\";\n        if ($(\"#\" + reference_to_answer).attr(\"type\") == \"radio\") {\n            answer = $('input[name=' + reference_to_answer + ']:checked', 'form').val()\n        }\n        if ($(\"#\" + reference_to_answer).attr(\"type\") == \"text\" || $(\"#\" + reference_to_answer).prop('tagName') == 'TEXTAREA') {\n            answer = $(\"#\" + reference_to_answer).val();\n        }\n        data.push(new EnqueteLine(question, answer));\n\n    });\n\n    var _ToSubmitValues = { inputParams: inputParameters, EnqueteData: data };\n    var ToSubmitValues = jQuery.param(_ToSubmitValues);\n\n    //type: 'POST',\n                //ajax\n            $.ajax({\n\n                url: $(this).attr(\"action\"),\n                cache:false,\n                type: 'POST',\n                dataType:'json',\n                data: ToSubmitValues,\n                success: function (returned) {\n                    if ($(\"html\").attr(\"Lang\") == \"nl\") {\n                        alert(\"Bedankt voor uw medewerking!\");\n                    }\n                    if ($(\"html\").attr(\"Lang\") == 'fr') {\n                        alert(\"Merci pour votre collaboration!\");\n                    }\n                },\n                error: function (XMLHttpRequest, textStatus, errorThrown) {\n                    alert(errorThrown);\n                }\n                    });\n            //end-ajax\n    return false;\n\n});\n</code></pre>\n\n<p>});  </p>\n\n<pre><code> //what my webserver uses\n Public Class AllowCrossSiteJsonAttribute\n    Inherits ActionFilterAttribute\n    Public Overrides Sub OnActionExecuting(filterContext As ActionExecutingContext)\n        filterContext.RequestContext.HttpContext.Response.AddHeader(\"Access-Control-Allow-Origin\", \"*\")\n        MyBase.OnActionExecuting(filterContext)\n    End Sub\nEnd Class\n</code></pre>\n\n<p>When i try this code in localhost, it gives me the error: \"Access is denied\". When i put the website online and let it do it's cross domain data, it seems that my post is correct, but for some reason no data is submitted on my post action.</p>\n\n<p>This is the Fiddler part of the \"POST\".</p>\n\n<pre><code>POST http://omnisoftintern.adminonline.be/Enquete/ReceiveResults HTTP/1.1\nAccept: */*\nOrigin: http://hd.adminonline.be\nAccept-Language: nl-BE\nAccept-Encoding: gzip, deflate\nUser-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\nHost: omnisoftintern.**.be\nContent-Length: 891\nConnection: Keep-Alive\nPragma: no-cache\n\ninputParams=Name%3DJohan%2520Vanmarcke%26Email%3Dnico%40vanmarcke-software.be%26Lang%3Dnl&amp;EnqueteData%5B0%5D%5Bquestion%5D=Ik+kreeg+een+vriendelijk+ontvangst.&amp;EnqueteData%5B0%5D%5Banswer%5D=5&amp;EnqueteData%5B1%5D%5Bquestion%5D=Ik+kreeg+vlot+een+afspraak+bij+de+garage+en+ook+de+werken+aan+mijn+motorfiets+waren+snel+achter+de+rug.&amp;EnqueteData%5B1%5D%5Banswer%5D=4&amp;EnqueteData%5B2%5D%5Bquestion%5D=Het+resultaat+was+precies+wat+ik+gevraagd+had.&amp;EnqueteData%5B2%5D%5Banswer%5D=5&amp;EnqueteData%5B3%5D%5Bquestion%5D=Ik+was+tevreden+over+de+netheid+van+het+werk.&amp;EnqueteData%5B3%5D%5Banswer%5D=4&amp;EnqueteData%5B4%5D%5Bquestion%5D=De+factuur+was+duidelijk+en+correct.&amp;EnqueteData%5B4%5D%5Banswer%5D=5&amp;EnqueteData%5B5%5D%5Bquestion%5D=Ik+zou+deze+garage+aanraden.&amp;EnqueteData%5B5%5D%5Banswer%5D=4&amp;EnqueteData%5B6%5D%5Bquestion%5D=Heeft+u+nog+bijkomende+opmerkingen%3A&amp;EnqueteData%5B6%5D%5Banswer%5D=test\n</code></pre>\n\n<p>Can you see what's wrong? I suppose it has to be somewhere in the headers... Because i'm not able to receive any values at the webserver (side-note: i'm unable to test this though).</p>\n\n<p>Post (working = chrome)</p>\n\n<pre><code>POST http://omnisoftintern.adminonline.be/Enquete/ReceiveResults HTTP/1.1\nHost: omnisoftintern.adminonline.be\nConnection: keep-alive\nContent-Length: 898\nOrigin: http://hd.adminonline.be\nUser-Agent: Mozilla/5.0 (Windows NT 6.1) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.79 Safari/535.11\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\nAccept: application/json, text/javascript, */*; q=0.01\nReferer: http://hd.adminonline.be/Enquete1/Enquete1_NL.html?Name=Johan%20Vanmarcke&amp;Email=nico@vanmarcke-software.be&amp;Lang=nl\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: nl-NL,nl;q=0.8,en-US;q=0.6,en;q=0.4\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\n\ninputParams=Name%3DJohan%2520Vanmarcke%26Email%3Dnico%40vanmarcke-software.be%26Lang%3Dnl&amp;EnqueteData%5B0%5D%5Bquestion%5D=Ik+kreeg+een+vriendelijk+ontvangst.&amp;EnqueteData%5B0%5D%5Banswer%5D=5&amp;EnqueteData%5B1%5D%5Bquestion%5D=Ik+kreeg+vlot+een+afspraak+bij+de+garage+en+ook+de+werken+aan+mijn+motorfiets+waren+snel+achter+de+rug.&amp;EnqueteData%5B1%5D%5Banswer%5D=4&amp;EnqueteData%5B2%5D%5Bquestion%5D=Het+resultaat+was+precies+wat+ik+gevraagd+had.&amp;EnqueteData%5B2%5D%5Banswer%5D=5&amp;EnqueteData%5B3%5D%5Bquestion%5D=Ik+was+tevreden+over+de+netheid+van+het+werk.&amp;EnqueteData%5B3%5D%5Banswer%5D=4&amp;EnqueteData%5B4%5D%5Bquestion%5D=De+factuur+was+duidelijk+en+correct.&amp;EnqueteData%5B4%5D%5Banswer%5D=5&amp;EnqueteData%5B5%5D%5Bquestion%5D=Ik+zou+deze+garage+aanraden.&amp;EnqueteData%5B5%5D%5Banswer%5D=4&amp;EnqueteData%5B6%5D%5Bquestion%5D=Heeft+u+nog+bijkomende+opmerkingen%3A&amp;EnqueteData%5B6%5D%5Banswer%5D=test+chrome\n</code></pre>\n\n<p>Not working (again) Internet Explorer</p>\n\n<pre><code>POST http://omnisoftintern.adminonline.be/Enquete/ReceiveResults HTTP/1.1\nAccept: */*\nOrigin: http://hd.adminonline.be\nAccept-Language: nl-BE\nAccept-Encoding: gzip, deflate\nUser-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\nHost: omnisoftintern.adminonline.be\nContent-Length: 1036\nConnection: Keep-Alive\nPragma: no-cache\n\ninputParams=Name%3DNico%2520Sap%26Email%3Dnico%40vanmarcke-software.be%26Lang%3Dfr&amp;EnqueteData%5B0%5D%5Bquestion%5D=J%E2%80%99ai+%C3%A9t%C3%A9+tr%C3%A8s+bien+accueilli.&amp;EnqueteData%5B0%5D%5Banswer%5D=5&amp;EnqueteData%5B1%5D%5Bquestion%5D=J'ai+obtenu+un+rendez-vous+tr%C3%A8s+rapidement+chez+le+concessionnaire+et+les+travaux+sur+ma+moto+ont+%C3%A9galement+%C3%A9t%C3%A9+effectu%C3%A9s+rapidement.&amp;EnqueteData%5B1%5D%5Banswer%5D=4&amp;EnqueteData%5B2%5D%5Bquestion%5D=Le+r%C3%A9sultat+correspondait+exactement+%C3%A0+ce+que+j%E2%80%99avais+demand%C3%A9.&amp;EnqueteData%5B2%5D%5Banswer%5D=5&amp;EnqueteData%5B3%5D%5Bquestion%5D=J'ai+%C3%A9t%C3%A9+satisfait+par+la+propret%C3%A9+des+travaux+effectu%C3%A9s.&amp;EnqueteData%5B3%5D%5Banswer%5D=4&amp;EnqueteData%5B4%5D%5Bquestion%5D=La+facture+%C3%A9tait+juste+et+claire.&amp;EnqueteData%5B4%5D%5Banswer%5D=5&amp;EnqueteData%5B5%5D%5Bquestion%5D=Je+recommande+ce+garage.&amp;EnqueteData%5B5%5D%5Banswer%5D=4&amp;EnqueteData%5B6%5D%5Bquestion%5D=Avez-vous+des+remarques+suppl%C3%A9mentaires+%3A&amp;EnqueteData%5B6%5D%5Banswer%5D=test\n</code></pre>\n"},{"tags":["javascript","ajax","browser"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13267403,"title":"Open in new tab after ajax response in javascript","body":"<p>Open in new tab after ajax response in javascript is not working,</p>\n\n<p>tried with _newtab and _blank</p>\n\n<p>But none of them is working,</p>\n\n<p>I say,</p>\n\n<p>Is there any solution to get the answer ?</p>\n"},{"tags":["javascript","jquery","ajax","upload"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1466,"score":1,"question_id":6604622,"title":"File drag and drop event in jquery","body":"<p>I'm trying to find a way of letting users drag and drop individual files into an area on my page that can then get submitted along with all my other form data. </p>\n\n<p>In my research I've found multiple \"drag and drop\" upload scripts but they all do way, way too much. I want to handle the actual uploading myself and just provide a way for users to upload files without hitting the <em>browse</em> button. </p>\n\n<p>Is there an event in jquery (or something similar) that I should be looking for?</p>\n\n<p>Any help is much appreciated! </p>\n"},{"tags":["ajax","jsf-2","calendar","primefaces"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":531,"score":2,"question_id":7118408,"title":"Is it possible to pass Calendar new date in the bean without listener?","body":"<p>I am trying to pass new date from PrimeFaces p:calendar (placed in p:dataTable column) to the backing bean:</p>\n\n<pre><code>&lt;p:column &gt;\n    &lt;p:calendar value=\"#{bean.date}\"&gt;`\n        &lt;p:ajax /&gt;\n    &lt;/p:calendar&gt;\n&lt;/p:column&gt;\n</code></pre>\n\n<p>It does not update bean.date. Variants with </p>\n\n<pre><code>&lt;p:ajax update=\"@this\" event=\"change\"/&gt;\n&lt;p:ajax update=\"@this\" event=\"select\"/&gt;\n</code></pre>\n\n<p>do not update bean.date too. The only way I have found is using of listener. However, I suppose, there should be a way without listener implementation like for simple facelets:</p>\n\n<pre><code>&lt;p:column&gt;\n  &lt;h:inputText value=\"#{bean.note}\" &gt;\n      &lt;f:ajax/&gt;\n  &lt;/h:inputText&gt;\n&lt;/p:column&gt;\n</code></pre>\n\n<p>that works fine for me. Does anybody know how to get it working!?</p>\n"},{"tags":["java","html","ajax","wicket"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13279697,"title":"How to set anchor for wicket listview panel update with ajax","body":"<p>I have a ListView within a panel that has vertical scrolling enabled and absolute positioning using css.  When I select an IndicatingAjaxFallbackLink that was added to the listView it updates other panels on the page to provide futher information/options for the listItem.  It also refreshes the listView to add a css class to highlight the selected listItem.  I am trying to add an anchor to the listView so that it will render scrolled to display the selected listItem.</p>\n\n<p>Problem: When I select an item down the list the listView will reload scrolled to the top of the panel, instead of to selected item.  Is this possible without a url redirect &amp; full page reload?</p>\n\n<p>markup:</p>\n\n<pre><code>&lt;div wicket:id=\"psbContainer\" style=\"position: absolute; top: 325px; height: 300px; overflow-y: auto; left: 4px; right: 305px;\"&gt;\n    &lt;table width=\"100%\"&gt;\n        &lt;tr wicket:id=\"psbList\" valign=\"top\"&gt;\n            &lt;td&gt;&lt;a wicket:id=\"viewRelated\"&gt;&lt;span wicket:id=\"psbNum\"/&gt;&lt;/a&gt;&lt;/td&gt;\n            &lt;td wicket:id=\"summary\"/&gt;\n            &lt;td wicket:id=\"psbMilestone\"/&gt;\n            &lt;td wicket:id=\"dueDate\"/&gt;\n            &lt;td wicket:id=\"devCount\"/&gt;\n            &lt;td wicket:id=\"activeCount\"/&gt;\n            &lt;td wicket:id=\"ccCount\"/&gt;\n            &lt;td wicket:id=\"team\"/&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>java:</p>\n\n<pre><code>    psbListView = new ListView(\"psbList\", psbList) {\n        protected void populateItem(ListItem listItem) {\n            final Space psb = (Space) listItem.getModelObject();\n            if(psb.equals(psbSelected)) {\n                listItem.add(selected);\n            }\n            // viewRelated ========================================================\n            IndicatingAjaxFallbackLink viewRelated = new IndicatingAjaxFallbackLink(\"viewRelated\") {\n                public void onClick(AjaxRequestTarget target) {\n                    psbSelected = psb;\n                    target.addComponent(pslpContainer);\n                }\n            };\n            this.setOutputMarkupId(true);\n            this.setMarkupId(psb.getPsbNum());\n            viewRelated.setAnchor(this);\n            viewRelated.add(new Label(\"psbNum\", new Model(psb.getPsbNum())));\n            listItem.add(viewRelated);\n            ...\n</code></pre>\n"},{"tags":["php","jquery","ajax","post","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13278804,"title":"How do I make a POST AJAX call without using jquery?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8567114/how-to-make-an-ajax-call-without-jquery\">How to make an ajax call without jquery?</a>  </p>\n</blockquote>\n\n\n\n<p>I have a function where I need to make an update to my database using an ajax call. For speed reasons, I would prefer it if I didn't have to include the jquery source file on this page and therefore use the $.ajax function to perform my post request to the php file, although this would make performing the ajax call via POST a lot easier. </p>\n\n<p>I have seen on here how to do this using the GET method but have not found any help for doing a non-jquery ajax call using the POST method. Since this call will make changes to my database, I do not want to use the GET method. </p>\n\n<p>UPDATE:</p>\n\n<p>Going the jquery route:\nThe actual task performed is lower priority to loading the rest of the page. Is there any way I can guarantee that the ajax call (including loading jquery) is the very last javascript thing to go off as the page loads?</p>\n"},{"tags":["javascript","ajax","image","html5","base64"],"answer_count":4,"favorite_count":5,"up_vote_count":5,"down_vote_count":0,"view_count":6866,"score":5,"question_id":5363957,"title":"Retrieve an image from the server, store it in localStorage, and display it","body":"<p>This should be simple enough, but after wrestling with it for hours, I still can't get it to work. So far, all my attempts have resulted in the image becoming 'corrupted or truncated', according to firefox.</p>\n\n<p>Retrieve the image from the server with a jquery-ajax call:</p>\n\n<pre><code> $.ajax({\n                async: false,\n                url: db[key][\"DocumentLink\"],\n                success: function (result2) {\n</code></pre>\n\n<p><br>Base64 encode the image, and store it in localStore:<br>\nIn this example I'm using the jquery base64-encoding plugin, but I've tried several.</p>\n\n<pre><code>                        var dbKey = \"Doc \" + db[key][\"ID\"] + \" \" + db[key][\"Title\"];\n                        console.log(\"storing: \" + db[key][\"DocumentLink\"] + \" in \" + dbKey + \"\\n\");\n                        localStorage.removeItem(dbKey);\n                        var base64Image = $.base64Encode(result2);\n                        console.log(base64Image.length);\n                        localStorage.setItem(dbKey, base64Image);\n                       console.log(\"is stored: \" + db[key][\"DocumentLink\"] + \" in \" + dbKey + \"\\n\");\n                }\n})\n</code></pre>\n\n<p><br>Display the image with a data url:</p>\n\n<pre><code>function openImageFromDB(dbKey) {\n    console.log(\"Trying to display image with key \" + dbKey);\n    var base64Img = localStorage.getItem(dbKey);\n    document.getElementById(\"documentHolder\").src='data:image/jpeg;base64,' + base64Img;\n}\n</code></pre>\n\n<p><br>The corresponding img:</p>\n\n<pre><code> &lt;img id=\"documentHolder\" alt=\"Image view placeholder\" src=\"\" /&gt;\n</code></pre>\n\n<p><br>However, on every try, firefox displays:</p>\n\n<pre><code>Image corrupt or truncated: data:image/jpeg;base64,77+977+977+977+9a&lt;... much longer string&gt;\n</code></pre>\n\n<p><br>The Url: points to a valid jpeg image, and the base64Image.length and the error message show that the var / localStorage actually contain what seems to be base64 encoded data.</p>\n\n<p>Any ideas? </p>\n"},{"tags":["html","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1054,"score":0,"question_id":7777626,"title":"Implementation of History.js","body":"<p>I am trying to implement History.js for my ajax site so that I can use forward and back buttons and even bookmarks. However the example @ <a href=\"https://github.com/balupton/History.js/\" rel=\"nofollow\">https://github.com/balupton/History.js/</a> has me a bit confused as into how to implement it. Does anyone have a simple tutorial or example on how to use this. An example we can use to start the example is a navigation link such as </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nwindow.onload = function() \n{\nfunction1();\n};\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"javascript:function1()\"&gt;Function1&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"javascript:function2('param', 'param')\"&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","browser-history","history.js"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13278822,"title":"Is this a proper way to use History.js?","body":"<p>I was able to put together a simplified complete History.js example using three links to load fragments of content from a full page without updating the page and while updating the browser history.</p>\n\n<p>Here are the relevent code snippets - a complete working example is here <a href=\"http://jsfiddle.net/PT7qx/show\" rel=\"nofollow\">http://jsfiddle.net/PT7qx/show</a></p>\n\n<pre><code>&lt;a href=\"/page-header\"&gt;Page Header&lt;/a&gt;\n&lt;a href=\"/login-form\"&gt;Login Form&lt;/a&gt;\n&lt;a href=\"/nothing\"&gt;Nothing&lt;/a&gt;\n\n&lt;script&gt;\nvar History = window.History;\nif (!History.enabled) {\n    return false;\n}\n\nHistory.Adapter.bind(window, 'statechange', function() {\n    var State = History.getState();\n    History.log(State.data, State.title, State.url);\n\n    if (State.title == 'Page Header') {\n        $('#content').load('/user/login/ .pageHeader &gt; *');\n    }\n\n    if (State.title == 'Login Form') {\n        $('#content').load('/user/login/ #common-form &gt; *');\n    }\n\n    if (State.title == 'Nothing') {\n        $('#content').empty()\n    }\n});\n\n$('body').on('click', 'a', function(e) {\n\n    var urlPath = $(this).attr('href');\n    var Title = $(this).text();\n    History.pushState(null, Title, urlPath);\n\n    // prevents default click action of &lt;a ...&gt;\n    return false;\n});\n&lt;\\script&gt;\n</code></pre>\n\n<p>I would like to know if this is the correct usage.  The previous version had an ability to bind to an event using the # urls.  I have not seen any examples for binding events to urls with this latest version so I used the .on() click event to call History and sorted out what link was clicked in there.</p>\n\n<p>I am not sure if this is the best way to accomplish this for this example.</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13278469,"title":"Is it possible to get the response content from a jQuery ajax 4xx error?","body":"<p>I'm trying to parse HTML from a response that I'm triggering with jQuery (specifically I'm using jquery.pjax and I want to replace the HTML with the response from a failed login, which returns a 401).</p>\n\n<p>Unfortunately the error callback does not appear to include this data, just the XHR object, and the error text status, \"Unauthorized\" and the \"errorThrown\". I'm assuming it is possible to extract the response content from the XHR object, but I can't seem to find out how anywhere.</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":5945,"score":2,"question_id":2363511,"title":"Problem with jQuery AJAX requests: relative vs. absolute urls","body":"<p>I'm having a hard time getting my AJAX requests to work on a staging server. It all worked fine on my development machine, but as soon as I uploaded it, all my AJAX requests stopped working. I found out that, if I change the relative urls (eg. \"index.php\") to absolute urls (\"http://mydomain.com/index.php\") the requests work again, but I do not understand why.</p>\n\n<p>Example request:</p>\n\n<pre>\njQuery.post('index.php', {id: 1234, action: 1, step: 1}, function(data) { // something });\n</pre>\n\n<p>This does not work, I does not even show up in the firebug console. The success handler is called though, which is very confusing.</p>\n\n<p>This works just fine:</p>\n\n<pre>\njQuery.post('http://mydomain.com/index.php', {id: 1234, action: 1, step: 1}, function(data) { // something });\n</pre>\n\n<p>Can anybody explain why AJAX requests behave in this way? x_X</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13277412,"title":"Running Ajax From HTML list Issues","body":"<p>I am trying to run Ajax on a web application which is suppose to list associated data with HTML List from MySQL database using jQuery and PHP.I have two tables in MySQL database called Item and Items as below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/CiD22.png\" alt=\"enter image description here\"></p>\n\n<p>and I have to PHP file called index.php and result.php as:\n================================================================== index.php</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n &lt;?php\n  $mysqli = new mysqli('localhost', 'root', '', 'testdb');\n   if ($mysqli-&gt;connect_errno) \n   {\n     die('Unable to connect!');\n   }\n  else{\n$query = 'SELECT * FROM items';\nif ($result = $mysqli-&gt;query($query)) \n{\n    if ($result-&gt;num_rows &gt; 0) \n    {\n    ?&gt;  \n        &lt;p&gt;\n            Select a language\n            &lt;ul id=\"item\"&gt;\n      &lt;?php     \nwhile($row = $result-&gt;fetch_assoc()){\n?&gt;      \n&lt;li&gt;&lt;div id=\"selectLanguage\"&gt;&lt;?php echo $row['item']; ?&gt;&lt;/div&gt;&lt;/li&gt;     \n&lt;?php           \n        }\n ?&gt;\n            &lt;/ul&gt;\n    &lt;/p&gt;\n    &lt;p id=\"result\"&gt;&lt;/p&gt;\n  &lt;?php\n    }\n    else \n    {\n        echo 'No records found!';\n    }\n    $result-&gt;close();\n}\nelse \n{\n    echo 'Error in query: $query. '.$mysqli-&gt;error;\n}\n    }\n    $mysqli-&gt;close();\n    ?&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"     type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function()\n        {\n            $('#selectLanguage').click(function()\n            {\n            alert(\"hello\");\n                if($(this).val() == '') return;\n                $.get(\n                    'results.php',\n                    { id : $(this).val() },\n                    function(data)\n                    {\n                        $('#result').html(data);\n                    }\n                );\n            });\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and the result.php is\n====================================================================== result.php</p>\n\n<pre><code>&lt;?php\n$mysqli = new mysqli('localhost', 'root', '', 'testdb');\n$resultStr = '';\n $query = 'SELECT type FROM item where name='.$_GET['item'];\n if ($result = $mysqli-&gt;query($query)) \n {\nif ($result-&gt;num_rows &gt; 0) \n{\n    $resultStr.='&lt;ul&gt;';\n    while($row = $result-&gt;fetch_assoc())\n    {\n        $resultStr.= '&lt;li&gt;&lt;strong&gt;'.$row['id'].'&lt;/strong&gt; - '.$row['type'];\n    '&lt;/li&gt;';\n    }\n    $resultStr.= '&lt;/ul&gt;';\n}\nelse\n{\n    $resultStr = 'Nothing found';\n}\n     }\n    echo $resultStr;\n    ?&gt;\n</code></pre>\n\n<p>now the first part(index.php) is rendering the list base on the items table but I can't click at the second or third item besides none of them not returning any values to the page.\nCan you please let me know what I am doing wrong here?    </p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13278080,"title":"How do I transform this javascript ajax code into query ajax?","body":"<p>This code seems really long - but i dont fully understand the jquery .ajax function to convert this code - My main problem is i dont know how to implement the responseText-bit</p>\n\n<p>Any help is very much appreciated:</p>\n\n<pre><code>function getCategory(category){\n  if (window.XMLHttpRequest){\n    xmlhttp=new XMLHttpRequest();\n  }else{\n    xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\n  xmlhttp.onreadystatechange=function(){\n    if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n      document.getElementById(\"products\").innerHTML=xmlhttp.responseText;\n    }\n  }\n  xmlhttp.open(\"GET\",\"productlist.php?q=\"+category,true);\n  xmlhttp.send();\n}\n</code></pre>\n"},{"tags":["php","jquery","ajax","wordpress","html5-video"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":13080708,"title":"Initialize video.js after page/content loaded via ajax","body":"<p>I'm currently in the process of setting up <a href=\"http://www.infinite-scroll.com/\" rel=\"nofollow\">infinite scroll</a> on one of my wordpress sites which loads the next set of posts via ajax once you've scrolled to the bottom of the page. Because of this, I have been unable to get videojs working properly (readas: at all); so am hoping someone can help me with this.</p>\n\n<p>First and foremost, I'm using videojs code directly in my theme, which pulls data from a posts custom fields, and adds the post id to the video tags id attribute. Here's a sample of the template code:</p>\n\n<pre><code>&lt;video id=\"video_&lt;?php echo get_the_id(); ?&gt;\" class=\"video-js vjs-default-skin\"  \n  controls preload=\"auto\" width=\"640\" height=\"264\"  \n  poster=\"&lt;?php echo $poster; ?&gt;\"&gt;  \n &lt;source src=\"&lt;?php echo $mp4vid; ?&gt;\" type='video/mp4' /&gt;  \n&lt;/video&gt;\n</code></pre>\n\n<p>(To note, I'll add ogg/webm later)</p>\n\n<p>I've seen the docs page that says to add the following block:</p>\n\n<pre><code>_V_(\"example_video_1\", {}, function(){\n  // Player (this) is initialized and ready.\n});\n</code></pre>\n\n<p>but no matter where I add it (with the necessary attributes added), the player does not work. I mean, with the above I get standard html5 video player, but has none of the benefits of videojs.</p>\n\n<p>Anyone have a working solution for something like this?</p>\n"},{"tags":["jquery","ajax","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13236664,"title":"ajax not working in codeigniter","body":"<p>I'm trying to send a post request using the ajax jquery function and return some data into a window asynchronously. Here's what I have so far. It doesn't seem to be working.</p>\n\n<p>in the view:</p>\n\n<pre><code>$.ajax({\n          url: '/dashboard/presskits/media/get_video_link/',\n          type: 'POST',\n          dataType: 'json',\n          data: { encoded_link : encoded_link },\n          cache: false,\n          success: function(output_string){\n            // $('#edit_video_info').append(output_string);\n            alert(output_string.url_data);\n          } // End of success function of ajax form\n          }); // End of ajax call\n}); \n</code></pre>\n\n<p>in the controller:</p>\n\n<pre><code> public function get_video_link()\n{\n    $temp_url = $this-&gt;input-&gt;post('encoded_link');\n    $output_string = json_encode(array('url_data' =&gt; $temp_url));\n            return $output_string;\n    } \n</code></pre>\n"},{"tags":["javascript","jquery","ajax","scroll","infinite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":276,"score":1,"question_id":10462404,"title":"How to infinite scroll with waypoint.js?","body":"<p>So here is what's going on. I have an html doc called \"home.html\". It contains many divs, each of these divs is a single post. I also have an index.html and in the it there is a div #content. The content is empty in the index.html but it gets filled with the divs in home.html through .load() call. Also, using div:nth-child(-n + 10) in the .load call I can have it only load the first ten posts. How can I use waypoint.js to add infinite scrolling to this? So that once the scroll bar reaches 75% of the way to the bottom, it loads the next 10 divs from home.html. </p>\n"},{"tags":["jquery","ajax","expressionengine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13277320,"title":"Parsing ExpressionEngine Error Template with Ajax","body":"<p>I'm trying to add Ajax to my ExpressionEngine registration form with the <a href=\"http://www.malsup.com/jquery/form/\" rel=\"nofollow\">jQuery Form plugin</a>. Most of the form errors are handled with <a href=\"http://devot-ee.com/add-ons/profileedit\" rel=\"nofollow\">Profile:Edit</a> and returned in JSON, and I've had no major problems parsing those. The only error that isn't handled by Profile:Edit is when someone tries to re-register with an email address that is still \"pending\". For that, I get the <a href=\"https://gist.github.com/4033821\" rel=\"nofollow\">standard EE error template</a> in HTML.</p>\n\n<p>What I'd like to do is set up a jQuery <code>$.each()</code> loop and output the error list item(s). But when I try to parse the HTML I get weird data in the console. Even a really simple jQuery function doesn't work like I expect. For example, with this code, I expect to get back the content of the <code>#content</code> div:</p>\n\n<pre><code>$('.myForm').ajaxForm({\n    success: function(data){\n        var theContent = data.find('#content');\n        console.log(theContent);\n    }\n});\n</code></pre>\n\n<p>But I get this in the console:</p>\n\n<pre><code>Uncaught TypeError: Object\n&lt;!-- Full HTML of Error Template --&gt;\nhas no method 'find' \n</code></pre>\n\n<p>The same thing happens if I use <code>.filter()</code> instead of <code>.find()</code>.</p>\n\n<p>If I wrap <code>data</code> in selector syntax, like this:</p>\n\n<pre><code>$('.myForm').ajaxForm({\n    success: function(data){\n        var theContent = $(data).find('#content');\n        console.log(theContent);\n    }\n});\n</code></pre>\n\n<p>I get this in the console:</p>\n\n<pre><code>[prevObject: e.fn.e.init[9], context: undefined, selector: \"#content\"]\n    context: undefined\n    length: 0\n    prevObject: e.fn.e.init[9]\n        0: #text\n        1: &lt;title&gt;\n        2: #text\n        3: &lt;meta&gt;\n        4: #text\n        5: &lt;style&gt;\n        6: #text\n        7: &lt;div&gt;\n        8: #text\n        length: 9\n    __proto__: Object[0]\n    selector: \"#content\"\n    __proto__: Object[0]\n</code></pre>\n\n<p>Which is not what I expected, nor do I really know what to do with it.</p>\n\n<p>Setting the <code>dataType</code> as 'html' doesn't seem to make a difference.</p>\n\n<p>Any thoughts? This thing has aged me by years, it's so damn frustrating.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13246854,"title":"Passing values from client to server and back to client, asynchronously","body":"<p>I've been trying to figure this problem out for quite a while. I know JavaScript is client side scripting and PHP is server-side scripting, but is it possible to pass a browsers epoch time into a PHP script to run some calculations then return geoJSON data based on the results; all asynchronously?</p>\n\n<p>The function I want to pass to the PHP script is something like:</p>\n\n<pre><code>function retreiveUTC() {\n  var now = new Date().getTime();\n  var browserUTC = Math.floor(now)/1000.0;  // this returns epoch time of the browser\n}\n</code></pre>\n\n<p>Then I would like to take the epoch time that is generated from the function and pass it to a php script to determine what JSON file to return.</p>\n\n<p>For example I will have the following files residing on the server:</p>\n\n<pre>\n1352188536.JSON\n1352187536.JSON\n1352177536.JSON\n</pre>\n\n<p>And I want to retrieve the one that is closest to the browsers epoch results. Thank you in advance.</p>\n\n<p>Updated code below:</p>\n\n<p>not sure what I am doing wrong, but I am getting success from the ajax call but the return value is undefined.</p>\n\n<p>ajax stuff:</p>\n\n<pre><code>    $.post ('timezone.php',\n    {\n        epochTime: browserUTC\n    }, \n    function (result) {\n       //do someting to result\n    }, \"json\");\n\n    var browserUTC = new Date().getTime();\n\n    $.post ('timezone.php',\n    {\n        epochTime: browserUTC\n    }, \n    function (result,status) {\n   //display file name returned by PHP\n        alert(result.file + \"\\n\" + status);\n   //console.log('test');\n    });\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>    &lt;?php\n    $epochTime = round($_POST['epochTime'] / 1000);\n    $res= array();\n    $res['file'] = $epochTime . '.JSON';\n    return json_encode($res);\n    ?&gt;\n</code></pre>\n"},{"tags":["ajax","salesforce","apex-code","visualforce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13260529,"title":"Can you prevent a VisualForce component from rendering until it's contents become visible?","body":"<p>I have a VisualForce page that contains two components which are each inside of a tab, like this:</p>\n\n<pre><code>&lt;apex:tabpanel switchtype=\"ajax\" selectedTab=\"tab1\"&gt;\n    &lt;apex:tab label=\"First Tab\" name=\"tab1\" id=\"tab1\"&gt;\n     &lt;c:firstComponent /&gt; \n    &lt;/apex:tab&gt;\n    &lt;apex:tab label=\"Second Tab\" name=\"tab2\" id=\"tab2\"&gt;\n    &lt;c:secondComponent /&gt;\n    &lt;/apex:tab&gt;\n&lt;/apex:tabpanel&gt;   \n</code></pre>\n\n<p>Is it possible to prevent the page from running the code in secondComponent (contained in tab2) until the user actually clicks on the second tab?</p>\n\n<p>This is a specific case, of the more general question: is it possible to NOT run all of the code on a page when it first loads and only run it when the user takes a particular action.</p>\n\n<p>(One reason for wanting to do this is to reduce the number of queries on the page to avoid hitting the limit.)</p>\n"},{"tags":["javascript","ajax","draggable"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13269907,"title":"New dynamic created div is not becoming draggable","body":"<p>I am creating new div's in seating chart, but the will not become draggable after they have been inserted. </p>\n\n<p>Maybe someone can shine a light on it and make my new dynamically created div draggable.</p>\n\n<pre><code>$(document).ready(function() {\n\n$(\"#addSeat\").bind(\"click\", function(e){\n\n    $.getJSON(\"getrecord.php?format=raw&amp;ticketid=1\",\n\n    function(data){\n\n        $(\".seat-element\").clone(true).removeAttr(\"id\").attr(\"id\", data.id).appendTo(\"#glassbox\").html(data.seatid).css({ \"top\": \"10px\", \"left\": \"10px\"});      \n\n    });\n});\n</code></pre>\n\n<p>}); </p>\n\n<pre><code>Thanks Christopher, can you tell me how to do this? \n</code></pre>\n\n<p>This is my draggable code:</p>\n\n<pre><code> $(document).ready(function () {\n    $(\".seat-element\").draggable({ \n            containment: '#glassbox', \n            scroll: false\n     }).mousemove(function(){\n                    var coord = $(this).position();\n                    $(\"p:last\").text( \"left: \" + coord.left + \", top: \" + coord.top );\n     }).mouseup(function(){ \n        var coords=[];\n        var currentId = $(this).attr('id');\n        //alert(currentId);\n        var coord = $(this).position();\n        var item={ coordTop:  coord.left, coordLeft: coord.top, coordId: currentId };\n        coords.push(item);\n        var order = { coords: coords };\n        $.post('updatecoords.php', 'data='+$.toJSON(order), function(response){\n        if(response == \"success\")\n            $(\"#respond\").html('&lt;div class=\"success\"style=\"text-align:center;\"&gt;Seat Position has been saved to the database.&lt;/div&gt;').hide().fadeIn(1000);\n            setTimeout(function(){ $('#respond').fadeOut(2000); }, 2000);\n        }); \n    });\n});\n</code></pre>\n"},{"tags":["java","php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":57,"score":0,"question_id":13267228,"title":"Restrain page access to one user at the time","body":"<p>I have two user: X and Y. And one page: Page Z. To access page Z I have a link.</p>\n\n<p>If page Z is already open in user X browser I want the link to be disabled and denied the access to the page to user Y.</p>\n\n<ul>\n<li>How can I do that?</li>\n<li>Which language is the most apropriate to do that (jQuery, Php, etc)?</li>\n</ul>\n"},{"tags":["javascript","ajax","amplifyjs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13073685,"title":"Amplifyjs and status code","body":"<p>I'm trying to use \"Amplifyjs\" to handle AJAX requests as does John Papa in his Pluralsight course but I'm having problems with authentication.</p>\n\n<p>I am using form authentication. Everything works fine.</p>\n\n<p>My problem comes with the unauthenticated requests. I can not find a way to make \"amplifyjs\" give back to the error function the http code (401, 403 ...) to distinguish requests that failed because they were not authenticated from requests that failed because did not met the business logic.</p>\n\n<p>A request example would be:</p>\n\n<pre><code>amplify.request.define(\"products\", \"ajax\", {\n                url: \"/api/Products\",\n                datatype: \"json\",\n                type: \"GET\"\n            });\namplify.request({\n                    resourceId: \"products\",\n                    success: callbacks.success,\n                    error: function (datos, status) {\n                              //somecode\n                           }\n                });\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13275227,"title":"AJAX: PHP vs Javascript View - Dupliacte View Logic?","body":"<p>I am currently working on a small web application which includes a calendar displaying its entries. When the page gets loaded, the calendar gets generated through PHP.</p>\n\n<p>On the same page, there is a form which allows one to edit the entries. The command to change gets sent by AJAX, and then the calendar has to be reloaded in some way.</p>\n\n<p>What I am wondering about currently is the following:</p>\n\n<p>I have two possibilities of updating the Calendar through AJAX. </p>\n\n<ul>\n<li><strong>One is to send the Calendar's HTML Markup anew,</strong> whether it means reloading the entire calendar or the element of the calendar entry. <br>This is probably not optimal, since it requires quite a bit of (raw) data sent through the AJAX call. <br>On the other side, all it requires is for me to call the same PHP function which generates the markup again, return that and then replace the DOM Element on the clientside, so neccesary work is roughly 5 lines of code. <br>This is the way I am currently using since it feels \"easier\".</li>\n<li><strong>The other is to send the Data of the new Calendar entry JSON encoded</strong>, and then make the neccesary changes through a javascript function into the existing markup. <br>This also feels not optimal, since I would have to use a lot knowledge of the markup twice: Once in the PHP code and once in the JS Code. I can see this redundant code causing problems as soon as the markup would change in any way. <br>It also feels like a more 'complicated' solution, which includes easily 4-5 as much code considering I have to manipulate a good amount of fields (roughly 10+).<br>On the other hand, a lot less data gets transmitted since only the content gets sent.</li>\n</ul>\n\n<p><strong>Which is the better solution?</strong> Am I missing a third (or even fourth) option? </p>\n"},{"tags":["jquery","ajax","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13273489,"title":"jquery ajax success not work","body":"<p>I am trying to collect the response of a controller using ajax but I can not I have this code:</p>\n\n<pre><code>$.ajax({url: url,\n      success: function(data) {\n        alert(\"hi\"); //no work.\n  }\n });\n</code></pre>\n\n<p>and return it to the controller that:</p>\n\n<pre><code>return new Response($venta-&gt;getId());\n</code></pre>\n\n<p>the call at controller succefully return number de venta id.\nBut success does not come into the section.</p>\n"},{"tags":["java","ajax","jsf-2","primefaces"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13265399,"title":"Updating non-JSF form","body":"<p>I have a situation where I am suppose to submit a user's payment details to my payment gateway partner.</p>\n\n<p>For this I have a separate non JSF form with hidden values as parameters to be passed.</p>\n\n<pre><code>&lt;form id=\"hiddenForm\" action=\"#{checkoutBean.payuAction}\" method=\"post\" name=\"payuForm\"&gt;\n\n                        &lt;p:outputPanel id=\"hiddenPanel\"&gt;\n                        &lt;h:inputHidden id=\"hash\" value=\"#{checkoutBean.hash}\"/&gt;\n                        &lt;h:inputHidden id=\"txnid\" value=\"#{checkoutBean.txnid}\"/&gt;\n\n                        &lt;h:inputHidden id=\"amount\" value=\"#{checkoutBean.totoalAmount}\"/&gt;\n                        &lt;h:inputHidden id=\"firstname\" value=\"#{checkoutBean.firstname}\"/&gt;\n                        &lt;h:inputHidden id=\"email\" value=\"#{checkoutBean.email}\"/&gt;\n                        &lt;h:inputHidden id=\"phone\" value=\"#{checkoutBean.phone}\"/&gt;\n                        &lt;h:inputHidden id=\"productinfo\" value=\"#{checkoutBean.productInfo}\"/&gt;\n                        &lt;h:inputHidden id=\"surl\" value=\"#{checkoutBean.sURL}\" /&gt;\n                        &lt;h:inputHidden id=\"furl\" value=\"#{checkoutBean.fURL}\"/&gt;\n                        &lt;/p:outputPanel&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>The above hidden values are generated using ajax at the last step in a wizard (primefaces). The ajax call is happening but I am unable to update the non JSF form. The values are null.</p>\n\n<pre><code>&lt;p:commandButton value=\"Confirm\" actionListener=\"#{checkoutBean.initPayu}\" onsuccess=\"submitPayuForm()\" update=\":hiddenForm:hiddenPanel\" /&gt;\n</code></pre>\n\n<p>The above button is in a <code>&lt;h:form&gt;.</code></p>\n\n<p>Now i believe that it is not possible to update non JSF components from JSF components. But I just can't figure out how to tackle this scenario.</p>\n\n<p>Any ideas on how I can tackle this problem?</p>\n\n<p>Using : JSF 2 , Primefaces 3.3</p>\n\n<p><strong>Thanks a ton in advance.</strong></p>\n"},{"tags":["ajax","ruby-on-rails-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13273188,"title":"Conditions not working when rendering partial via ajax","body":"<p>In my <strong>index.js.erb</strong></p>\n\n<pre><code>$(\".div\").html(\"&lt;%= escape_javascript(render('something/some_form')) %&gt;\");\n</code></pre>\n\n<p>in <strong>some_form.htm.erb</strong> i have condition which is not working</p>\n\n<pre><code>&lt;% if @variable1 == @variable2 %&gt; \n   show something1\n&lt;% else %&gt;\n   show something2\n&lt;% end %&gt;\n</code></pre>\n\n<p>For some reason when my js.erb renders this partial i always have <em>show something2</em>. So &lt;% if @variable1 == @variable2 %> condition not working</p>\n\n<p>variable1 and variable2 defined in my controller</p>\n\n<p>How can i make this equal condition work?</p>\n"},{"tags":["ajax","hibernate","jsf","primefaces","ejb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13215335,"title":"Generate primefaces ajax tree on demand?","body":"<p>I have a project using JSF primefaces and EJB managed Beans with hibernate storage.\n <a href=\"http://www.primefaces.org/showcase/ui/treeAjax.jsf\" rel=\"nofollow\">http://www.primefaces.org/showcase/ui/treeAjax.jsf</a></p>\n\n<p>Question: I keep on getting a out of memory or stack overflow errors can you see a problem with my recursion?</p>\n\n<pre><code>@ManagedBean(name = \"categoryController\")\n@RequestScoped\npublic class CategoryController implements Serializable {\n    ...\n\n    @EJB\n    private CategoryFacade ejbFacade;\n    private TreeNode root;\n\n    public TreeNode getRoot() {\n        return root;\n    }\n\n    @PostConstruct\n    public void init() {\n        root = new DefaultTreeNode(\"Root\", null);\n        System.out.print(\"Facade value=\" + getFacade());\n        Category categoryRoot = getFacade().find(new Integer(1));\n        getSubcategories(categoryRoot, root);\n\n    }\n\n    private void getSubcategories(Category categoryRoot, TreeNode root) {\n        List&lt;Category&gt; list = getFacade().findByNamedQuery(\"Category.findByPCatid\", \"pcatid\", categoryRoot);\n        Iterator&lt;Category&gt; it = list.iterator();\n        while (it.hasNext()) {\n            Category subcategory = it.next();\n            TreeNode nextNode = new DefaultTreeNode(subcategory.getUcatid(), root);\n            getSubcategories(subcategory, nextNode);\n\n        }\n\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":["ajax","jquery-ajax","file-upload","portlet","liferay-6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13263384,"title":"How to get file name and other requested parameter in to serveResource method with ajax call?","body":"<p>I am using ajax to submit my jsp page data without refreshing the page in liferay custom portlet.</p>\n\n<p>I am facing two problems with that:</p>\n\n<ol>\n<li><p>When I am calling Ajax function to resource server method its getting all ajax data in that method but when everything is done then on success of that I can't get any data in return.\nSo how can I get some data in return after the Ajax function is successfully executed.</p></li>\n<li><p>I have used simple HTML file upload control in my form and when I am using simple submit method then am calling upload request to get all attribute of file\nand also uploading the file with the upload request, but in case of Ajax I have to do everything with resource action in my resource server method in action class \nand I am getting all <code>null</code> values with upload request so how can I solve this problem?</p></li>\n</ol>\n\n<p>I am providing my one sample Ajax call and my resource server method</p>\n\n<p>This is my simple ajax call in jsp page </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function addToDo(addToDo) {\n        var todo = document.getElementById('toDo').value;\n\n        alert(\"\");\n\n        var adv_name = document.getElementById('advertise_name').value;\n        var keywords = document.getElementById('keywords').value;\n        var adv_url = document.getElementById('adv_url').value;\n        var fileUpload = document.getElementById('fileUpload').value;\n\n        var mediatype= $('#mediatype option:selected').val();\n\n        $.ajax({\n            url :addToDo,            \n            data: {\n                \"todo\":todo,\n                \"adv_name\":adv_name,\n                \"mediatype\":mediatype,\n                \"keywords\":keywords,\n                \"adv_url\":adv_url,\n                \"fileUpload\":fileUpload,\n                \"CMD\":\"addToDo\"\n            },\n            type: \"GET\",\n            timeout: 20000,\n            dataType: \"text\",\n            success: function(data) {\n                alert(data);\n                //when i alert this data..its always null\n            }\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>following is my upload control:</p>\n\n<pre><code>&lt;label&gt;Browse&lt;/label&gt;\n&lt;input name=\"fileUpload\" id=\"fileUpload\" type=\"file\" /&gt;\n&lt;span id=\"restError2\" style=\"color: #C62626;\" class=\"help-block\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>on one button I am calling above ajax method and which redirects to the resorce server method as follows:</p>\n\n<pre><code>@Override\npublic void serveResource(ResourceRequest request, ResourceResponse response){\n    if(request.getParameter(\"CMD\").equals(\"addToDo\")) {\n        System.out.println(\"came here for add\");\n\n        // here am converting this resource request to uploadportletrequest because i have enctype=\"multipart/form-data\"\n        UploadPortletRequest uploadReq = PortalUtil.getUploadPortletRequest(request);\n\n        sourceFileName = uploadReq.getFileName(\"fileUpload\");// uploaded\n        // filename                 \n\n        advertise_name = uploadReq.getParameter(\"advertise_name\"); //this value getting null\n        adv_link = uploadReq.getParameter(\"adv_url\"); //this value getting null\n        keyword = uploadReq.getParameter(\"keywords\"); //this value getting null\n        String resourceID = request.getResourceID();\n\n        System.out.println(resourceID);\n    }\n}\n</code></pre>\n"},{"tags":["php","javascript","ajax","instagram"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13274948,"title":"Reload an array without reloading the page","body":"<p>Hey I have a little problem.... </p>\n\n<p>Im making a page that uses pictures from instagram as background. To display the pictures i use the jquery plugin <a href=\"http://www.buildinternet.com/project/supersized/\" rel=\"nofollow\">Supersized</a>. </p>\n\n<p>The pictures that i use is from a hashtag, so I would like the page to reload the array, where supersized gets the pictures from, so its updated seamless with the newest pictures.</p>\n\n<p>Its it enough just to reload the array every 5 mins, will the slideshow this work this way or shall I go another way with this? </p>\n\n<p>And can give me a little example on how to do this ?</p>\n"},{"tags":["php","javascript","jquery","ajax","xhtml"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":13261654,"title":"Finding multiple PHP generated inputs with Jquery/Javascript","body":"<p>I can't seem to figure this one out.. \nI am trying to use Javascript to select an input value. The problem is that the form is being looped through a php array that gets eve which makes every single form the same name and the inputs the name. The javascript will only let me get the value of the first form. I have tried putting the forms into arrays with <code>[]</code> but I cant't get it.. please help.</p>\n\n<pre><code>    $find = mysql_query(\"\n       SELECT `name`, `desc`, LEFT(`desc`, 80),`price`, `page`, `id`\n       FROM `bang` \n       ORDER BY id ASC LIMIT 2 \") or die(mysql_error());\n\n       while($resultt= mysql_fetch_array($find)){\n          echo '&lt;form id=\"linkcenter\" action=\"\"&gt;';\n          echo '&lt;input type=\"hidden\" value=\"'.$resultt['id'].'\" id=\"linkcenterr\" name=\"linkcenterr\"';\n          echo '&lt;input type=\"button\" name=\"butn\" value=\"Send\" onClick=\"loadInfoo()\"&gt;';\n          echo '&lt;/select&gt;';\n          echo '&lt;/form&gt;';\n    }\n</code></pre>\n\n<p>Javascript and jQuery in seperate file:</p>\n\n<pre><code>    function loadInfoo() {  \n       var id = document.getElementById('linkcenterr').value;\n       //ajax and more java bellow that i know is working..\n    } \n</code></pre>\n\n<p>All I am using the jquery for is to animate a box and then this input is going throught the javascript and sent to a php file which runs a sqlquery and echos all of the data from the database. </p>\n\n<p>I know all the other code is working the problem is I don't know how to format these forms into an array so that the javascript can get each ones values when its clicked.</p>\n"},{"tags":["php","ajax","ckeditor"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13263289,"title":"Attaching CKEditor in ajax page","body":"<p>I was try to attach the <em>ckeditor</em> to a textarea in php page, which is being called by ajax in a html page, but ckeditor is not appearing in textarea. Can any one have any idea, Why it is not happening, it just making me freak.</p>\n\n<p>TRY1.HTML\n\n</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n    function load()\n    {\n  if (window.XMLHttpRequest)\n      {// code for IE7+, Firefox, Chrome, Opera, Safari\n       xmlhttp=new XMLHttpRequest();\n      }\n   else\n      {// code for IE6, IE5\n          xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n       }\n     xmlhttp.onreadystatechange=function()\n      {\n        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n          {\n             document.getElementById(\"div_content\").innerHTML=xmlhttp.responseText;\n          }\n      }\n       xmlhttp.open(\"GET\",\"try2.php?\",true);\n       xmlhttp.send();\n      }\n     &lt;/script&gt;\n     &lt;!--end tinymcs--&gt;\n\n       &lt;/head&gt;\n       &lt;body&gt;\n       &lt;input type=\"button\" onclick=\"load()\"&gt;\n       &lt;div id=\"div_content\"&gt;\n\n       &lt;/div&gt;\n\n\n       &lt;/body&gt;\n       &lt;/html&gt;\n</code></pre>\n\n<p>TRY2.PHP</p>\n\n<pre><code>      &lt;textarea id=\"txt1\"&gt; &lt;/textarea&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":3,"view_count":135,"score":2,"question_id":12815108,"title":"How to properly retrieve a JSON string with PHP?","body":"<p>I am trying to send a JSON to my PHP script and for some reason is returning <code>null</code> in the alert message. </p>\n\n<p>I've searched throughout Stack Overflow and other forums and used other people's examples but somehow I keep getting it wrong. I checked in Firebug and the request is being sent. I am very new to handling JSON queries.</p>\n\n<p>Could anyone point at what I am doing wrong so that I can learn for the next time?</p>\n\n<p>My JQuery Code:</p>\n\n<pre><code>  var name = $('#formName').val();\n  var regno = $('#formRegNo').val();\n  var charityinfo = $('#formCharityInfo').val();\n  var searchimprove = $('#formSearchImprove').val();\n  var finantialaid = $('#formFinantialAid').val();\n  var contactname = $('#formContactName').val();\n  var contactphonenumber = $('#formContactPhoneNumber').val();\n  var contactfaxnumber = $('#formContactFaxNumber').val();\n  var contactemail = $('#formContactEmail').val();\n  var website = $('#formWebsite').val();\n  var address = $('#formAddress').val();\n  var postcode = $('#postCode').val();\n\n    var arrayData = {\"name\":name,\"regno\":regno,\"charityinfo\":charityinfo,\"searchimprove\":searchimprove,\"finantialaid\":finantialaid,\"contactname\":contactname,\"contactphonenumber\":contactphonenumber,\"contactfaxnumber\":contactfaxnumber,\"contactemail\":contactemail,\"website\":website,\"address\":address,\"postcode\":postcode};\n    console.log(name);\n\n    $.ajax({  \n  url: \"test.php\",  \n  type: \"POST\",  \n  dataType: \"json\",  \n  contentType: \"json\",  \n  async: false,\n  data: arrayData,\n success : function(response) {                            \n                    alert(response);            \n              },\n              error: function(){\n                    alert(\"error\");\n              }\n  }); //End AJAX\n</code></pre>\n\n<p>My PHP Code:</p>\n\n<pre><code>&lt;?php\n$return = $_POST;\necho json_decode($return);\n?&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13272187,"title":"Use JQUERY/JSON to auto fill select dropdown boxes","body":"<p>OK I spent spent a lot of time looking over examples but can't find one which helps me enough for my situation. I have a JSON file, simplified for this example:</p>\n\n<pre><code>{\n \"Company\":[\n    {\n        \"Position\": \"Manager\",\n        \"Name\": {\n                            \"11\": \"joe\",\n                            \"12\": \"bill\",\n                            \"166\": \"John\"\n                            }\n    },\n{\n\n        \"Position\": \"Tech\",\n        \"Name\": {\n                            \"11\": \"Bob\",\n                            \"12\": \"Cindy\",\n                            \"166\": \"Karl\"\n                            }\n    },\n{\n\n        \"Position\": \"Sales\",\n        \"Name\": {\n                            \"11\": \"Sam\",\n                            \"12\": \"Ron\",\n                            \"166\": \"Sara\"\n                            }\n    }\n]}\n</code></pre>\n\n<p>I am trying to create 2 select boxes. When the user selects the first box of positions, it will auto-fill the second with the attributes (names). So here is what I have so far:</p>\n\n<pre><code>&lt;select id=\"job\"&gt;&lt;/select&gt;\n&lt;select id=\"name\"&gt;&lt;/select&gt;\n</code></pre>\n\n<p>and the code:</p>\n\n<pre><code>$select = $('#job');\n$select2 = $('#name');\n\n$.ajax({\n    url: 'factors.json',\n    dataType: 'JSON',\n    success: function(data) {\n\n        $select.html('');\n        $.each(data.Company, function(key, val) {\n            $select.append('&lt;option id=\"' + key + '\"&gt;' + val.Position + '&lt;/option&gt;');\n\n\n\n            $(\"#job\").change(function() {\n                $.each(val.Name, function(key2, val2) {\n                    $select2.append('&lt;option id=\"' + key2 + '\"&gt;' + val2 + '&lt;/option&gt;');\n                })\n            })\n        })\n    },\n});​\n</code></pre>\n\n<p>This code will autofill the second box with ALL the names in every position. I jsut can't seem to figure out how to fill it with the names of each unique object. Thanks for any help!</p>\n"},{"tags":["jquery","ajax","web-config","http-status-code-500","webmethod"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":12750689,"title":"setting jsonSerialization maxJsonLength in ASP.net Web.Config gives 500 error","body":"<p>So, I keep getting the 500 - Internal server error page on my .net site when I set the maxJsonLength in my web.config.</p>\n\n<p>I'm modifying the .config because even though I use MaxJsonLength = Int32.MaxValue on my vb.net JavaScriptSerializer, I'm still getting InvalidOperationException for a large dictionary i'm trying to transmit even though it's well below the 4GB the MaxJsonLength @ Int32.MaxValue allows or even the supposed 4mb default limit.</p>\n\n<p>I'm using toolkitscriptmanager if that means anything.</p>\n\n<pre><code>  &lt;system.web.extensions&gt;\n&lt;scripting&gt;\n  &lt;webServices&gt;\n    &lt;jsonSerialization maxJsonLength=\"2147483647\"/&gt;\n  &lt;/webServices&gt;\n&lt;/scripting&gt;\n</code></pre>\n\n<p></p>\n\n<p>this didn't help (actually, it also gives 500 error without above code)</p>\n\n<pre><code>&lt;sectionGroup name=\"system.web.extensions\" type=\"System.Web.Extensions\"&gt;\n  &lt;sectionGroup name=\"scripting\" type=\"System.Web.Extensions\"&gt;\n    &lt;sectionGroup name=\"webServices\" type=\"System.Web.Extensions\"&gt;\n      &lt;section name=\"jsonSerialization\" type=\"System.Web.Extensions\"/&gt;\n    &lt;/sectionGroup&gt;\n  &lt;/sectionGroup&gt;\n&lt;/sectionGroup&gt;\n</code></pre>\n\n<p>heard this should help with InvalidOperationException, but it didn't.  I took it out, and still 500 error.</p>\n\n<pre><code>&lt;add key=\"aspnet:MaxJsonDeserializerMembers\" value=\"2147483647\" /&gt;\n</code></pre>\n\n<p>Many thanks in advance!</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Same problem, but his solution doesn't work for me.  The last code he added also gives 500 error.  <a href=\"http://stackoverflow.com/questions/3209192/problem-with-system-web-extensions-config-group-when-upgrading-to-net-4-0\">Problem with &lt;system.web.extensions&gt; config group when upgrading to .NET 4.0</a></p>\n"},{"tags":["jquery","ajax","dictionary","webmethod","invalidoperationexception"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12749229,"title":"InvalidOperationException despite MaxJsonLength = Int32.MaxValue","body":"<p>I don't think I'm exceeding the MaxJsonLength, but I'm still getting \"Error during serialization or deserialization using the JSON JavaScriptSerializer. The length of the string exceeds the value set on the maxJsonLength property\".</p>\n\n<p>I checked to see how long the result is, and it's 25,000 rows.  I checked the average length of each row by outputting a smaller result, and the average row is 48.5 characters long.</p>\n\n<p>25,000 * 48.5 characters = 1,224,140 characters.</p>\n\n<p>MS says that maxJsonLength is in terms of characters.  Int32.MaxValue is over 2 billion.  What gives?</p>\n\n<p>Note: I'm not using MVC, and this is a WebMethod written in VB 2010 talking to jQuery.  The results are organized using a dictionary array.  I get results for smaller sets just fine.  I confirmed that my serializer's maxJsonLength was set to max.</p>\n\n<p>Many thanks in advance!</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","opera"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13272724,"title":"Opera makes ajax requests twice when the page is loaded the first time","body":"<p>I'm facing a little problem in opera. I couldn't replicate this in other browsers.</p>\n\n<p>I have a page that is loading. Once the page is loaded, using javascript I make an ajax request to load some information in json format(I'm using jquery). \nThe problem is that opera makes the ajax request twice. I opera dragonfly it shows me that it was made only 1 request, but my http server says different. </p>\n\n<p>The requested page is something like this: =1352301441410\">http://localhost/session&amp;=1352301441410 where the last number is random.</p>\n\n<p>I also added the following response headers:</p>\n\n<pre><code>Expires: Mon, 26 Jul 1997 05:00:00 GMT\nLast-Modified: Wed, 07 Nov 2012 15:17:22 GMT\nCache-Control: no-store, no-cache, must-revalidate\nCache-Control: post-check=0, pre-check=0\nPragma: no-cache\n</code></pre>\n\n<p>I think the problem is something related with cache, since this occurs only when the page is loaded the first time, or when I clear the cache. \nI'm using the latest opera: Opera 12.10</p>\n\n<p>On other browsers everything is working ok.</p>\n"},{"tags":["ajax","joomla","mootools","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13266628,"title":"menu with mootols","body":"<p>I am using joomla 2.5 and I want to modified a <code>&lt;div&gt;</code> tag with <em>ajax</em> and <em>mootools</em></p>\n\n<p>in my <code>index.php</code> file I have this </p>\n\n<pre><code>&lt;div id=\"content\" class=\"column grid_16\"&gt;\n\n                    &lt;div id=\"content\" class=\"column grid_4\"&gt;\n                        &lt;jdoc:include type=\"modules\" name=\"menuHardware\" style=\"none\"/&gt;\n                        &lt;jdoc:include type=\"modules\" name=\"menuArq\" style=\"none\"/&gt;\n                    &lt;/div&gt;\n\n                    &lt;div id=\"content\" class=\"column grid_9\"&gt;\n                        &lt;jdoc:include type=\"modules\" name=\"mod_arq\" style=\"none\"/&gt;\n                    &lt;/div&gt;\n                    &lt;jdoc:include type=\"component\" /&gt;\n\n                    &lt;jdoc:include type=\"modules\" name=\"mod_fabricante\" style=\"none\"/&gt;\n                    &lt;jdoc:include type=\"modules\" name=\"mod_noticias\" style=\"none\"/&gt;\n                &lt;/div&gt;\n</code></pre>\n\n<p>this is my code  in <code>&lt;jdoc:include type=\"modules\" name=\"menuArq\" style=\"none\"/&gt;</code></p>\n\n<pre><code>&lt;div id=\"content\" class=\"column grid_4\"&gt;\n&lt;ul class=\"menu\"&gt;\n&lt;li class=\"item-129\"&gt;&lt;a href=\"index.php/descripcion\"&gt;Descripción&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"item-130\"&gt;&lt;a href=\"index.php/descripcion\"&gt;Descripción&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"item-131\"&gt;&lt;a href=\"index.php/descripcion\"&gt;Descripción&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"item-132\"&gt;&lt;a href=\"index.php/descripcion\"&gt;Descripción&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"item-133\"&gt;&lt;a href=\"index.php/descripcion\"&gt;Descripción&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and  my module <code>&lt;jdoc:include type=\"modules\" name=\"mod_arq\" style=\"none\"/&gt;</code> have this</p>\n\n<pre><code>&lt;div id=\"myDivTobeChanged\"&gt;some text for change&lt;/div&gt;\n</code></pre>\n\n<p>so finally my page is </p>\n\n<pre><code>&lt;div id=\"content\" class=\"column grid_16\"&gt;\n&lt;div id=\"content\" class=\"column grid_4\"&gt;\n&lt;ul class=\"menu\"&gt;\n&lt;li class=\"item-129\"&gt;\n&lt;a href=\"/index.php/descripcion\"&gt;Descripción&lt;/a&gt;\n&lt;/li&gt;\n&lt;li class=\"item-130\"&gt;\n&lt;li class=\"item-131\"&gt;\n&lt;li class=\"item-132\"&gt;\n&lt;li class=\"item-133\"&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;div id=\"content\" class=\"column grid_9\"&gt;\n&lt;div id=\"myDivTobeChanged\"&gt;some text for change&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>when I click here <code>&lt;li class=\"item-129\"&gt;&lt;a href=\"/index.php/descripcion\"&gt;Descripción&lt;/a&gt;&lt;/li&gt;</code> I want to change this</p>\n\n<pre><code>&lt;div id=\"myDivTobeChanged\"&gt;some text for change&lt;/div&gt;\n</code></pre>\n\n<p>this is my script to call ajax</p>\n\n<pre><code>         $$('.item-129').addEvent('click', function(event){\n            event.stop();\n            var req= new Request({\n                method: 'get',\n                url: '&lt;?php echo JURI::root()?&gt;index.php',\n                data: {'do': '1'},\n                onComplete: function(responseText){\n                    $('myDivTobeChanged').set('html', responseText);\n                }\n            }).send();\n        });\n</code></pre>\n\n<p>but this don´t work only change to description page but not inside the <code>&lt;div&gt;</code> tag</p>\n"},{"tags":["ajax","ruby-on-rails-3","remote-forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13256716,"title":"Rails remote form complete handler fires but success/failure don't","body":"<p>I am submitting a form through rails, and the response is coming backing with 200 OK headers.  My complete event fires, but neither success nor failure fire.  Any ideas?</p>\n\n<p>The JS:</p>\n\n<pre><code>$('form#booking-email').bind('ajax:complete',function(){\n    alert('complete');\n\n});\n\n$('form#booking-email').bind('ajax:success',function(){\n    alert('success');\n});\n\n$('form#booking-email').bind('ajax:failure',function(){\n    alert('failure');\n\n});\n</code></pre>\n\n<p>My Controller</p>\n\n<pre><code> respond_to do |format|\n    format.json { head :ok }\n  end\n</code></pre>\n\n<p>The Response:</p>\n\n<pre><code>Status: 200 OK\n\nCache-Control: max-age=0, private, must-revalidate\n\nConnection: Keep-Alive\n\nContent-Length: 1\n\nContent-Type: application/json; charset=utf-8\n\nDate: Sat, 03 Nov 2012 01:00:11 GMT\n\nEtag: \"7215ee9c7d9dc229d2921a40e899ec5f\"\n\nServer: WEBrick/1.3.1 (Ruby/1.9.2/2012-02-14)\n\nSet-Cookie: _myeasybnb_session=BAh7CEkiD3Nlc3Npb25faWQGOgZFRkkiJWQ3NTE2ODMzZjMyY2RhZTU1NjAwMzk3MWIyYjdhZDMzBjsAVEkiEF9jc3JmX3Rva2VuBjsARkkiMTFNN1hvWGhUdytSSjVRcCtrdWFLVTk5NnBEQWF5QXVxRlR2L1pwV1JjUmM9BjsARkkiGXdhcmRlbi51c2VyLnVzZXIua2V5BjsAVFsISSIJVXNlcgY7AEZbBmkGSSIiJDJhJDEwJEJ3Uy5lTzI3Ly4xY05xWlhGZzJ3cy4GOwBU--bd4de54c468e9cedc322949bba91adb5a60bb92f; path=/; HttpOnly\n\nX-Request-Id: 0bb75d4727fbe149b868214f39763030\n\nX-Runtime: 2.183082\n\nX-UA-Compatible: IE=Edge\n</code></pre>\n"},{"tags":["ajax","telerik","radwindow"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":240,"score":1,"question_id":10757644,"title":"How can i add RadWindow from ContentPage to RadWindowManager in MasterPage?","body":"<p>I have the RadWindowManager in MasterPage (MasterPage.aspx): </p>\n\n<pre><code>&lt;telerik:RadWindowManager ID=\"MasterRadWindowManager\" runat=\"server\" VisibleStatusbar=\"false\"\n        DestroyOnClose=\"false\"&gt;\n\n    &lt;/telerik:RadWindowManager&gt;\n</code></pre>\n\n<p>How can i add RadWindow from ContentPage (Default.aspx) to the RadWindowManager in MasterPage?</p>\n"},{"tags":["php","ajax","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":255,"score":0,"question_id":11912332,"title":"Can you refine my routes and ajax requests?(php/laravel)","body":"<p>I am a newbie laravel user and tried to write my code with tutorials and docs.\nWhen I try to open the site a loading animation occurs and after that, the menu and contentt split  into either side of the page.\nI want only to change content division   when I click menu buttons. </p>\n\n<p>These are my routes.php:</p>\n\n<pre><code>Route::controller(Controller::detect());\nRoute::get('articles', array('uses'=&gt;'articles@index'));\nRoute::get('articles/(:any)', array('as'=&gt;'article','uses'=&gt;'articles@view'));\nRoute::get('abouts', array('as'=&gt;'abouts','uses'=&gt;'abouts@index'));\n</code></pre>\n\n<p>This is my  default.blade.php menu part:</p>\n\n<pre><code>&lt;div id=\"sidebar-content\"&gt;\n   &lt;ul id=\"menu\"&gt;\n   &lt;li class=\"current\"&gt;&lt;a href=\"&lt;?php echo URL::to('articles'); ?&gt;\"&gt;ANASAYFA&lt;/a&gt;&lt;/li&gt;\n   &lt;li&gt;&lt;a href=\"&lt;?php echo URL::to('abouts'); ?&gt;\"&gt;HAKKIMIZDA&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Are the links correct here ?</p>\n\n<p>My ajax.js </p>\n\n<pre><code>$(document).ready( function() {\n$(\"#sidebar-content ul li a\").click( function(e){\n     e.preventDefault();\n     $('#content').load(this.href);\n     console.log('This href =='+this.href);\n     return false;\n});\n});\n</code></pre>\n\n<p>When I click links, I get a loading animation and the content is not shown.<br>\nThis is my articles controller :</p>\n\n<pre><code>class Articles_Controller extends Base_Controller {\n\n            public $restful = true;\n            public $layout = 'layouts.default';\n\n         public function get_index(){\n             $this-&gt;layout-&gt;title = \"Anasayfa\";\n             $this-&gt;layout-&gt;content = View::make('articles.index')\n             -&gt;with('articles',Article::order_by('id')-&gt;get());\n         }\n</code></pre>\n\n<p>These are the console.logs :</p>\n\n<pre><code>GET http://localhost/~ytsejam/laravel/public/index.php/abouts  jquery.min.js (line 4)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts   ajax.js (line 6)\nGET http://localhost/~ytsejam/laravel/public/js/basic.js?_=13446   jquery.min.js (line 4)\nGET http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 5)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts ajax.js (line 6)\nGET http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 5)\nThis href ==http://localhost/~ytsejam/laravel/public/index.php/abouts jquery.min.js (line 7)\n</code></pre>\n\n<p>Can you help me?</p>\n"},{"tags":["jquery","ajax","cakephp-2.1","helpers"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13199044,"title":"Built in this->js->submit cakephp runs twice","body":"<p>Fellow programmers.</p>\n\n<p>I only found <a href=\"http://stackoverflow.com/questions/4824859/ajax-form-submit-form-submitted-twice\">this reference</a> to my problem, which did not help.</p>\n\n<p>I am having trubble with cake phps built in <strong>$this->Js->submit</strong></p>\n\n<p><strong>What I want to do:</strong></p>\n\n<p>Site on which my logic starts contains a table with my data. On this site I also have several elements that contain forms and are opened by a modal window (jquery ui dialog)</p>\n\n<ol>\n<li>Insert an object to database. <em>(working)</em></li>\n<li>The form by which I insert is in a modal dialog window. <em>(working)</em></li>\n<li>The submit button is an image. <em>(working)</em></li>\n<li>Before the form is submitted, validation is fired <em>(working)</em></li>\n<li>After the form is submitted, close the modal and put new object on the first line of a table <em>(working)</em>.</li>\n</ol>\n\n<p><strong>So what is my problem?</strong></p>\n\n<p>Everything fires twice.</p>\n\n<p>** CODE **</p>\n\n<p>Since All my other code seems to be working I'm gonna paste only the <strong>$this->Js->submit</strong> part of my code, so you guys can focus on what seems to be the problem. </p>\n\n<p>If any other code is required, please write to me and I will be happy to paste some more in the edit section.</p>\n\n<pre><code>echo $this-&gt;Js-&gt;submit(' ', array (\n        'label' =&gt; 'Send',\n        'onsubmit'=&gt;\"event.returnValue = false; return false;\",\n        'div'   =&gt; array('class' =&gt; 'send_button'), //style submit to be an image\n        'url'   =&gt; array('controller' =&gt; 'csms', 'action' =&gt; 'append_new_csm'),\n        'type' =&gt; 'json',\n        'success' =&gt; '\n            if (data.success == true) {\n                $(\"#element_add\").dialog(\"close\");\n                var newLine = data.csmLine;\n                $(\"#content\").find(\"table tbody\").find(\"tr:first\").before(newLine);\n            }\n            else { \n                $(\"#element_add\").html(data.form);\n            }\n            ',\n        'buffer' =&gt; false, //true did not help (refreshes the whole web site)\n        'before' =&gt; '\n            if (!checkAdd()) { //validation (custom js function)\n                return false;\n            }\n        '\n    ));\n</code></pre>\n\n<p><strong>What I tried</strong></p>\n\n<ol>\n<li>Adding a return false line at the end of 'success' block of code.</li>\n<li>Adding an event.preventDefault() at the start of 'before' block of code.</li>\n</ol>\n\n<p><strong>EDIT1 HERE IS THE GENERATED HTML CODE</strong></p>\n\n<pre><code>    &lt;/script&gt;&lt;div class=\"send_button\"&gt;&lt;input  id=\"submit-1182269389\" type=\"submit\" value=\" \"/&gt;&lt;/div&gt;&lt;script type=\"text/javascript\"&gt;\n\n$(\"#submit-1182269389\").bind(\"click\", function (event) {$.ajax({beforeSend:function (XMLHttpRequest) {\n                if (!checkAdd()) {\n                    return false;\n                }\n            }, data:$(\"#submit-1182269389\").closest(\"form\").serialize(), dataType:\"json\", label:\"Send\", onsubmit:\"event.returnValue = false; return false;\", success:function (data, textStatus) {\n                if (data.success == true) {\n                    $(\"#element_add\").dialog(\"close\");\n                    var newLine = data.csmLine;\n                    $(\"#okno\").find(\"table tbody\").find(\"tr:first\").before(newLine);\n                }\n                else {\n                    $(\"#element_add\").html(data.form);\n                }\n                }, type:\"post\", url:\"\\/first_data\\/csms\\/append_new_csm\"});\nreturn false;});\n\n&lt;/script&gt;&lt;/form&gt;\n</code></pre>\n\n<p><strong>EDIT2 1. TRY THAT DID NOT WORK</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $('#addForm').submit(function(event) {\n        event.preventDefault();\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>So this blocks the whole ajax thing (the data are appended to the table after refreshing the page and still twice)</p>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","query","webhooks"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13272004,"title":"RnR: Long running query, Heroku timeouts: webhooks? Ajax?","body":"<p>So here's the issue, we have a data that the users want displayed.  The query, we optimized and indexed to be as fast as I think its going get.  We might shave off a second or two but with the amount of data, not much we can do.  </p>\n\n<p>Anyway, so the query runs great when limited to a day or two of data, however the users are running it for a week or two of data.  So the query for two or three weeks of data takes about 40 seconds, with a Heroku timeout of 30 seconds, that doesn't work.  So we need a solution.  </p>\n\n<p>So searching here and Google, I see comments that webhooks or Ajax would work as out solution.  However, I've been unable to find a real concrete example.  I also saw a comment where someone was saying we could send some kind of response that would \"reset the clock.\" But again sounded intriguing but couldn't find an example.  </p>\n\n<p>We're kind of under the gun, the users are unhappy, so we need a solution that is fast and simple.  Thanks in advance for your help! </p>\n"},{"tags":["c#","ajax","asp.net-mvc","asp.net-web-api"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13271804,"title":"ASP.net WebAPI return a file through ajax call","body":"<p>I am currently looking for a way to force a download of a file which is returned through a WebAPI controller.</p>\n\n<p>I was using <a href=\"http://www.shawnmclean.com/blog/2012/04/force-download-of-file-from-asp-net-webapi/\" rel=\"nofollow\">http://www.shawnmclean.com/blog/2012/04/force-download-of-file-from-asp-net-webapi/</a> as a reference.</p>\n\n<p>On my client I am using an ajax GET call to send up an ID of an object and try to download the file</p>\n\n<pre><code>    exportList: (foo, callback) =&gt;\n        path = '/api/export/id'\n        path = path.replace(\"id\", foo.id)\n        $.ajax(\n            url: path,\n            dataType: 'text',\n            success: (data) =&gt;\n                callback(data)\n            error: (data) =&gt;\n                callback(false)\n        )\n</code></pre>\n\n<p>On the server-side, I have the above URI routed to the method below</p>\n\n<pre><code>    [AcceptVerbs(\"GET\")]\n    public HttpResponseMessage ExportList(int id)\n    {\n        string file = fooService.ExportList(id);\n\n        if (file == null)\n        {\n            return Request.CreateResponse(HttpStatusCode.NoContent);\n        }\n        HttpResponseMessage result = new HttpResponseMessage(HttpStatusCode.OK);\n        result.Content = new StringContent(file);\n        result.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/octet-stream\");\n        result.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\");\n        result.Content.Headers.ContentDisposition.FileName = \"List.csv\";\n\n        return result;\n    }\n</code></pre>\n\n<p>The fooService.ExportList method simply creates a csv string. </p>\n\n<p>When watching the request come back to the client, the response does have the csv string in it, but the client is not prompted or forced to download it.  </p>\n\n<p>Is this the correct way to go about this?</p>\n"},{"tags":["jquery","ruby-on-rails","ruby","ajax","ruby-on-rails-3"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13247589,"title":"Rails Nested Resources - create and edit 2 levels away with form_for in partial","body":"<p>Really racking my brain on this one.  I'm relatively new to Rails and trying to do something that I'm sure is not too difficult.</p>\n\n<p>I have a model \"Trip\" which has many \"Days\" which has many \"Activities\"</p>\n\n<p>I am in the show.html.erb view of \"Trip\" and in this view, I am rendering a partial for a form that should allow me to create a new \"Activity\" to be associated with a \"Day\" or edit an existing \"Activity\" which already belongs to a \"Day\"</p>\n\n<p>How do I pass to the form_for in the form partial, the local variable of which \"Day\" I want to create the new \"Activity\" for.  And using that same form partial, how can I retrieve the \"Day\" that the \"Activity\" is associated with? Eventually these will be AJAX loaded objects.\nI've googled for the past several hours and can't find any examples similar to this.  I really appreciate the help.</p>\n\n<p><strong>routes.rb</strong></p>\n\n<pre><code>  resources :trips do\n    resources :days    \n  end\n\n  resources :days do\n    resources :activities\n  end \n</code></pre>\n\n<p><strong>show.html.erb for the Trip</strong></p>\n\n<pre><code>&lt;div id=\"activities_list\"&gt;\n  &lt;%= render :partial =&gt; \"activities\" %&gt;\n&lt;/div&gt; \n\n&lt;div id=\"activity_form\"&gt;\n  &lt;%= render :partial =&gt; \"/activities/form\", :locals =&gt; { :activity =&gt; @activity}  %&gt;\n&lt;/div&gt;\n\n&lt;div id=\"bottom\"&gt;\n&lt;%= link_to 'Edit', edit_trip_path(@trip) %&gt; |\n&lt;%= link_to 'Back', trips_path %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>_activities.html.erb partial</strong></p>\n\n<pre><code>&lt;h1&gt;&lt;%= @trip.title %&gt;&lt;/h1&gt;\n\n&lt;% @trip.days.each do |day| %&gt;\n&lt;div id=\"blech_&lt;%= day.id %&gt;\"&gt;\n  &lt;b&gt;&lt;%= day.summary %&gt;&lt;/b&gt;\n      &lt;% day.activities.each do |activity| %&gt;\n            &lt;li id=\"activity_&lt;%= activity.id %&gt;\"&gt;&lt;%= link_to activity.address, edit_day_activity_path(day, activity), :remote =&gt; true  %&gt;&lt;/li&gt;\n      &lt;% end %&gt;\n    &lt;% end %&gt;\n  &lt;%= link_to 'New Activity', new_day_activity_path(day), :remote =&gt; true %&gt;\n&lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>_form.html.erb partial</strong> I know that I need to be calling the day_activity_path with (@day,@activity) variables.  but I don't know how to get the @day variable in here</p>\n\n<pre><code>  &lt;%= form_for([@activity], :remote =&gt; true) do |f| %&gt;\n     &lt;fieldset&gt;\n       &lt;%= f.label :title, \"Activity\" %&gt;&lt;br /&gt;\n       &lt;%= f.text_field :title, :rows =&gt; 1 %&gt;&lt;br /&gt;\n     &lt;/fieldset&gt;\n\n    &lt;div class=\"actions\"&gt;\n      &lt;%= f.submit %&gt;\n    &lt;/div&gt;\n  &lt;% end %&gt;\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13271381,"title":"how to handle jQuery ajax URL changes?","body":"<p>I have a web service at:</p>\n\n<blockquote>\n  <p><strong>/localhost/portal/</strong> <em>WebServices/InformationNoticeUtility.asmx/InformationNoticesGet</em></p>\n</blockquote>\n\n<p>when user goes to another page for example:</p>\n\n<blockquote>\n  <p><strong>/localhost/portal/Reporting/</strong></p>\n</blockquote>\n\n<p>and tries to call this web service using jquery Ajax, it will fail because jquery replaces the url of the web service to the following url:</p>\n\n<blockquote>\n  <p><strong>/localhost/portal/Reporting/</strong> <em>WebServices/InformationNoticeUtility.asmx/InformationNoticesGet</em></p>\n</blockquote>\n\n<p>Is there any way I could pass in an object to overcome this error?</p>\n"},{"tags":["c#","jquery","asp.net","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":197,"score":0,"question_id":9426534,"title":"Inserting and selecting data using Jquery","body":"<p>I am working with visual studio 2010,4.0 frame work\nmy pages are like the following</p>\n\n<p>default.aspx contain a \ntextbox\nbutton</p>\n\n<p>on the click of button the data should insert into the sql database without the page being posted i.e. using jquery.</p>\n\n<p>How can it be done?</p>\n"},{"tags":["javascript","jquery","ajax","dojo","loaded"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13271303,"title":"determine AJAX.A4J has finished all requests in queue","body":"<p>Good day,</p>\n\n<p>I need to check if a website has loaded completed, including AJAX.</p>\n\n<p>For all other frameworks I found a way to verify it, except for A4J.AJAX.</p>\n\n<pre><code>// DOM\ndocument.readyState=='complete';\n// jQuery\njQuery.active==0;\n// Ajax\nAjax.activeRequestCount==0;\nreq.readyState==4;\n// Dojo\ndojo._inFlightCount==0;\n// A4J???\n...\n</code></pre>\n\n<p>Is there a similar way for A4J to determine its readiness? I googled about it\nbut had no success. I cannot use a finished method of A4J because I would like\nto use a javascript variable that has the boolean true or false to evaluate\nif the page's ajax has finished loading.</p>\n\n<p>Thanks :)</p>\n"},{"tags":["javascript","jquery","ruby","ajax","sinatra"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13263756,"title":"Sinatra not recognising javascript for session","body":"<p>I'm trying to log into a Sinatra app with jQuery, but Sinatra is just not seeming to recognise it at all for some reason, here is my code to see if the user is logged in:</p>\n\n<p>Sinatra app:</p>\n\n<pre><code>get '/logged_in' do\n    if session[:logged_in] == true\n         status 200\n         \"OK\"\n    else\n        status 200\n        \"False\"\n    end\nend\n</code></pre>\n\n<p>When I browse to <code>/logged_in</code> in my browser, I see <code>OK</code>, but when I execute the following Javascript, I get <code>False</code> printed to the console - seems bizarre to me.</p>\n\n<pre><code>var r = $.ajax({\n  type: \"GET\",\n  url: \"http://xxx-xxx.com/logged_in\"\n});\nr.success(function(msg) {\n    console.log(msg);\n});\n</code></pre>\n\n<p>Any insight would be appreicated!</p>\n"},{"tags":["php","ajax","google-charts","google-charts-api"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":857,"score":1,"question_id":8448372,"title":"Load a Google Chart from an asynchronous AJAX response","body":"<p>In the old Google Chart API it was possible to use PHP to render a chart, there was even a wrapper to do it:\n<a href=\"http://code.google.com/p/gchartphp/\" rel=\"nofollow\">http://code.google.com/p/gchartphp/</a></p>\n\n<p>But with the new Chart API\n<a href=\"http://code.google.com/apis/chart/\" rel=\"nofollow\">http://code.google.com/apis/chart/</a> \nwhich produces much fancier chart, but loads only with javascript in the browser.</p>\n\n<p>The effect I am trying to achieve is submitting a multiple choice form to the server via AJAX, have the PHP update the DB serverside, then return the updated chart.</p>\n\n<p>In the old API way I could have done this. But in the new way I would be returning javascript to the browser and appending it to the document in order to render the chart. It wouldn't execute because of this. I believe I could eval() this javascript but that is bad form isn't it because someone could do some nasty stuff with that couldn't they - eval()ing a serverside response?</p>\n\n<p>How can I overcome this? Is there a PHP wrapper to help this? Or is there another why which I have overlooked?</p>\n\n<p>Many thanks</p>\n"},{"tags":["javascript","jquery","ajax","json","datatables"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":13258161,"title":"Trying to insert JSON data into a datatable widget","body":"<p>I have a Java Web Project where I have a GET endpoint that I am hitting to retrieve JSON data. Firebug shows I am getting the JSON data in the form</p>\n\n<pre><code>[{\"id\":7,\"serial\":\"7bc530\",\"randomDouble\":0.0,\"randomDouble2\":0.0,\"randomDouble3\":0.0,\"date\":1352228474000,\"removed\":null},\n{\"id\":8,\"serial\":\"4a18d27\",\"randomDouble\":0.0,\"randomDouble2\":0.0,\"randomDouble3\":0.0,\"date\":1352228474000,\"removed\":null},\n{\"id\":9,\"serial\":\"f30ef\",\"randomDouble\":0.0,\"randomDouble2\":0.0,\"randomDouble3\":0.0,\"date\":1352228474000,\"removed\":null},\n{\"id\":10,\"serial\":\"9e6d\",\"randomDouble\":0.0,\"randomDouble2\":0.0,\"randomDouble3\":0.0,\"date\":1352228474000,\"removed\":null},\n{\"id\":11,\"serial\":\"4d8665a3\",\"randomDouble\":0.0,\"randomDouble2\":0.0,\"randomDouble3\":0.0,\"date\":1352228474000,\"removed\":null},\n{\"id\":12,\"serial\":\"4fe1457\",\"randomDouble\":0.0,\"randomDouble2\":0.0,\"randomDouble3\":0.0,\"date\":1352228474000,\"removed\":null}]\n</code></pre>\n\n<p>On the HTML side I have this,</p>\n\n<pre><code>&lt;table id=\"table_id\"&gt;\n   &lt;thead&gt;\n      &lt;tr&gt;\n      &lt;th&gt;id&lt;/th&gt;\n      &lt;th&gt;serial&lt;/th&gt;\n      &lt;th&gt;randomDouble&lt;/th&gt;\n      &lt;th&gt;randomDouble2&lt;/th&gt;\n      &lt;th&gt;randomDouble3&lt;/th&gt;\n      &lt;th&gt;date&lt;/th&gt;\n      &lt;th&gt;removed&lt;/th&gt;\n      &lt;/tr&gt;\n&lt;/thead&gt;\n &lt;tbody&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Here is what I have on the javascript side, I found another post from someone on here with this format that worked for them.</p>\n\n<pre><code>$(document).ready(function() {\n\n    var Table = $(\"#table_id\").dataTable({\n       \"bFilter\":false,\n       \"bPaginate\":false,\n       \"bProcessing\": true,\n       \"bServerSide\":true,\n       \"bInfo\":false,\n       \"sAjaxSource\": ApiUrl(),\n       \"fnServerData\": function (sSource, aoData, fnCallback){\n           $.ajax({\n            \"dataType\": 'json',\n               \"type\": \"GET\",\n               \"url\": sSource,\n               \"data\": aoData,\n               \"success\": fnCallback\n           }); \n       }\n    });\n</code></pre>\n\n<p>The table is displaying the columns, but it isn't pulling in the data. As I said, I did verify that the JSON data is getting sent to the webpage through Firebug -- through the GET request this is making.</p>\n\n<p>I find datatables to be extremely confusing and I can't get this JSON to actually populate...</p>\n\n<p>Any assistance would be very appreciated.</p>\n\n<p>Edit:</p>\n\n<p>I tried this,</p>\n\n<pre><code>var Table = $(\"#table_id\").dataTable({\n       \"bFilter\":false,\n       \"bPaginate\":false,\n       \"bProcessing\": true,\n       \"bServerSide\":true,\n       \"bInfo\":false,\n       \"sAjaxSource\": ApiUrl(),\n       \"sAjaxDataProp\": \"\"\n    });\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13271228,"title":"ajax request doesn't return anything on web server","body":"<p>I have an ajax call that work perfectly on my localhost but on a web server it won't return anything....it breaks right before function(raspuns)...Thank you in advance if you could help me</p>\n\n<pre><code>     function ajaxcall(inf1,inf, infoclick) {\n   var url= 'galerie.action';\n   var data = {data : inf};\n   var div=inf1;\n    alert(\"div\"+div);\n    alert(\"date \"+url+data);\n    $.get(url,data, function(raspuns){\n        alert(\"date \"+url+data);\n      $('#galerie'+div).html(raspuns);\n      alert(\"rasp:\"+raspuns);\n      $('#'+infoclick).trigger('click');\n       alert(\"ai dat click pe:\" + infoclick);\n\n    });  \n\n\n\n\n};\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax","browser"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":57,"score":-1,"question_id":13270407,"title":"Can we navigate to a different page if the user clicks on the back browser button?","body":"<p>I recieved a very helpful answer from Eric on how to display a confirmation is the user clicks on a browser back button, giving the user the choice if they want to go back or not.</p>\n\n<p>Below was his answer:</p>\n\n<p>You can use the <code>beforeunload</code> event to achieve this.</p>\n\n<pre><code>$(window).bind(\"beforeunload\", function() {\n    return \"HI\"; // Return whatever message you want\n});​\n</code></pre>\n\n<h2><a href=\"http://jsfiddle.net/CDSAF/\" rel=\"nofollow\">Fiddle</a></h2>\n\n<p><em>(To use the fiddle, just reload the page or navigate away or whatnot.)</em></p>\n\n<p>I would also suggest you unbind this upon someone leaving the page in the desired way (a cancel button?), or you may run into undesirable behavior.</p>\n\n<p>For example:</p>\n\n<pre><code>$(\"a\").click(function() {\n    $(window).unbind(\"beforeunload\");\n});\n</code></pre>\n\n<p><strong>QUESTION</strong></p>\n\n<p>Now below is something we discussed and we don't know if there is a clean way to do this but what I want to try and achieve is that if the user does confirm that they want to leave the page, then I want to navigate the user to a different script (Text4.php) and in this script it simply destroys the session and logs the user out. But I want to know if first of all if this is possible and second of all what is your ideas in order to answer this question?</p>\n"},{"tags":["jquery","asp.net","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13270495,"title":"how to make texbox to null after i got success in jquey AJAX method","body":"<p>i am strangling when i added my comments with AJAX method of jquery , after stressful, i want to make this texbox to null</p>\n\n<p>my Ajax method like this :</p>\n\n<pre><code>function AddComments() {\n            $(\".Comment input[type=text]\").keypress(function (e) {\n                if (e.which == 13) {\n                    var comment = $(\"#\" + this.id).val();\n                    var textId = \"#\" + this.id.replace(\"txt\", \"div\");\n                    $(textId).append(comment);\n                    $.ajax({\n                        type: \"POST\",\n                        url: \"Posts.aspx/AddComments\",\n                        data: \"{'id': '\" + this.id.replace(\"txt\", \"\") + \"','comments': '\" + comment + \"'}\",\n                        dataType: \"json\",\n                        contentType: \"application/json\",\n                        success: function (response) {\n                            $(\"#\" + this.id).val(\"\");\n                            //alert(response.d);\n                        }\n                    });\n                }\n            });\n        }\n</code></pre>\n\n<p>what i want is  on Success, i want make current textbox to NULL</p>\n\n<pre><code>$(\"#\" + this.id).val(\"\");\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13270167,"title":"jquery bind second ajax success","body":"<p>I have an ajax request which is showing data on success.\nAFTER this is done, I'd like to do something else, the problem is that I can not \ntouch the ajax code. I could have just done:</p>\n\n<p><code>$.ajax().success(bla).</code> But I can't touch this code.</p>\n\n<p>I'd have to bind the second function somewhere else and make sure it comes after the first onsuccess. Can it be done?</p>\n\n<p>is there maybe a global event AFTER the success event that I can use?</p>\n"},{"tags":["php","mysql","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13270086,"title":"How do I alert multiple results with ajax from json arrray","body":"<p>I have this query </p>\n\n<pre><code>$result = mysql_query(\"SELECT * FROM ship_data WHERE id = $ship\") or die(mysql_error());\n$rows = array();\nwhile($r = mysql_fetch_assoc($result)) {\n    $rows = $r; \necho json_encode($rows);\n}\n</code></pre>\n\n<p>And this bit of ajax to return the results</p>\n\n<pre><code> $.ajax({\n            type: \"POST\",\n            dataType: \"json\",\n            data: \"ship=\" + ship,\n            cache: false,\n            url: \"/getdata.php\",\n            success: function (data) {\n                alert(data.carrier);\n            }\n        });\n</code></pre>\n\n<p>If there is just one result in the array it works, if the array has multiple results in the array nothing is alerted.</p>\n"},{"tags":["php","ajax","tinymce"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13265316,"title":"TinyMce integration in ajax php page","body":"<p>I create an html page having 1 buttons clicking on the first will call a php file \"1.php\" via ajax where there is a tinymce editor attached with a text area.When after opening the page i'm pressing the button the editor is appearing on the screen but problem arrives when i press the button for the second time the editor just vanished and a simple text area took it's place.Any idea why this error is occurring,</p>\n\n<p>Also i tried to add a check portion before attaching the tiny editor for checking if there is already an editor attached then the older one will be removed and the newer one will took place.This code is running 100% successfully in google chrome but not in firefox / ie.This problem is just screwing me up,need ideas.</p>\n\n<hr>\n\n<p>FOR CHECKING THE PREVIOUS INTEGRATION OF TINYMCE AND REMOVE THE FOLLOWING CODE IS WORKING FINE</p>\n\n<pre><code> var oldEditor = tinyMCE.get('message');\n    if (oldEditor != undefined) {\n    tinymce.remove(oldEditor);\n   }\n    tinyMCE.execCommand('mceAddControl', false, 'message');\n     //MESSAGE IS THE NAME OF TEXT AREA ON WHICH TINYMCE IS GOING TO BE INTEGRATED\n</code></pre>\n"},{"tags":["jquery","ajax","div","struts","reload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":57,"score":-3,"question_id":13267321,"title":"Jquery: reload a div after a ajax call","body":"<p>I have two selections.</p>\n\n<p>If the user selects a value in the first selection, an ajax call fill the second one.</p>\n\n<pre><code>$('select[name=first]').change(function () {\n    var cod = $(this).val();\n    if (cod &gt; 0) {\n        $.ajax({\n            url: \"Load.do\",\n            data: \"cod=\"+cod,\n            success: function(response) {\n                $('select[name=second]').replaceWith(response);\n            },\n        });\n    }\n}); \n</code></pre>\n\n<p>I'm using struts and I wouldn't use the success callback, but put the Load action response in the request and use it in the second selection to fill it. </p>\n\n<p>The issue is that I don't succeed in reloading it after the ajax returns.</p>\n\n<p><strong>EDIT</strong>\nI try to explain better what I would to achieve.</p>\n\n<p>In the Action Load, I retrieve the values for the second selection according to the code passed via GET.</p>\n\n<p>I put these values in the request object, which I use to fill the second selection.</p>\n\n<p>The jquery is:</p>\n\n<pre><code>$('select[name=first]').change(function () {\n    var cod = $(this).val();\n    if (cod &gt; 0) {\n        $.ajax({\n            url: \"Load.do\",\n            data: \"cod=\"+cod,\n            success: function(response) {\n                // do nothing for the moment\n            },\n        });\n    }\n}); \n</code></pre>\n\n<p>The values are well retrieved and returned, but the first time they aren't displayed because the page isn't reloaded (and in consequence the select[name=second] element).</p>\n"},{"tags":["jquery","ajax","ruby-on-rails-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13268307,"title":"Difference between jquery form submission and remote form submission in Rails 3","body":"<p>I have seen some of applications, In ajax requests are two types </p>\n\n<ol>\n<li><code>link_to :remote =&gt;true</code> like ........</li>\n<li><code>$(ajax).save</code> button click function .......</li>\n</ol>\n\n<p>What is the difference between those? Which one is the best approach for rails?</p>\n"},{"tags":["ajax","json","spring-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":980,"score":3,"question_id":4069872,"title":"Spring MVC AJAX / JSON -> json.min.js - where can I get a newer version?","body":"<p>I am using this sample Spring MVC project with AJAX / JSON support:\n<a href=\"https://src.springframework.org/svn/spring-samples/mvc-ajax/\" rel=\"nofollow\">https://src.springframework.org/svn/spring-samples/mvc-ajax/</a></p>\n\n<p>There is a json.min.js file and I want to know what file this is. So where can I get a newer version of it? Where is this originally hosted?</p>\n\n<p>Link to json.min.js\n<a href=\"https://src.springframework.org/svn/spring-samples/mvc-ajax/trunk/src/main/webapp/resources/json.min.js\" rel=\"nofollow\">https://src.springframework.org/svn/spring-samples/mvc-ajax/trunk/src/main/webapp/resources/json.min.js</a></p>\n\n<p>Does anyone know?</p>\n"},{"tags":["asp.net","ajax","gauge"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":355,"score":1,"question_id":7902405,"title":"ASP.NET AJAX Gauges with Asynchronous Update and animation","body":"<p>I´m currently working on a dashboard styled project, where i need to have gauges to display current values. </p>\n\n<p>can someone point me to some commercial or open source asp.net ajax controls that include gauges with these capabilities?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","jquery","ajax","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13268884,"title":"Ajax sign-up form strange behaviour","body":"<p>I have this inexplicable issue with sign-up for newsletter ajax form on main page . If I open for the first time on <a href=\"http://bit.ly/LP3phc\" rel=\"nofollow\">http://bit.ly/LP3phc</a> and try to use sign-up form  on right bottom page , form not working . When I click on logo and the main page reload form works correctly .</p>\n\n<p>thank you in advance for any help !</p>\n"},{"tags":["javascript","jquery","ruby-on-rails","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":523,"score":3,"question_id":11406805,"title":"jQuery bind ajax:success not working in rails 3 app for newly created (ajax) items","body":"<p>**Edited this post because I found the problem is really in the inability of rails to bind to the ajax:success function.</p>\n\n<p>***Using rails 3.2.3</p>\n\n<p>Thanks for taking the time to read and try to help.</p>\n\n<p>I am adding a simple fade out function on the ajax:success of an item being deleted, as follows:</p>\n\n<pre><code>$(document).ready( jQuery(function($) {\n    $('.delete').bind('ajax:success', function() {\n        $(this).closest('div').fadeOut();\n    });\n}));\n#For some reason had to pass the $ into the function to get it to work,\n#not sure why this is necessary but doesn't work unless that is done.\n</code></pre>\n\n<p>After this, I wanted to create an object with unobtrusive jQuery when the user adds something, and have working delete buttons on those as well.  I made a create.js.erb file that is called after creating a new item - and the creation works fine, but the delete button cannot access the ajax:success event.</p>\n\n<p>It does delete the data from the db when clicked, but the .fadeOut is never bound to it, so it doesn't disappear.  The create.js.erb is as follows:</p>\n\n<pre><code>#$(\"div\").append(html) here, then call the function below to try and bind the ajax:success function\n$('.delete').bind('ajax:complete', function() {\n    $(this).closest('div').fadeOut();\n});\n</code></pre>\n\n<p>If I change this to bind to the click function, it works, but this doesn't account for a failed ajax call:</p>\n\n<pre><code>#$(\"div\").append(html) here, then call the function below to try and bind the ajax:success function\n    $('.delete').bind('click', function() {\n        $(this).closest('div').fadeOut();\n    });\n</code></pre>\n\n<p>So something must be up with binding to the ajax:success after the item is created.  You guys have any idea why this might be happening?  Do I need to do something special in rails to get the newly rendered item to recognize ajax events?  Any direction would be much appreciated!</p>\n\n<p>P.S. The controller for the delete method is below in case anyone might be able to detect a problem there:</p>\n\n<pre><code>def destroy\n    @user = User.find(params[:user_id])\n    @item = @user.item.find(params[:id])\n    @item.destroy\n\n    respond_to do |format|\n      format.html { redirect_to user_path(@user) }\n      format.json { head :no_content }\n      format.js { render :nothing =&gt; true }\n    end\nend\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax","json"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13268963,"title":"How can I retrieve my JSON output into a JavaScript variable?","body":"<p>I have my jsonOutput.php page like this :</p>\n\n<pre><code> $response['imgsrc'] =  $filename[1];\n echo json_encode($response);\n</code></pre>\n\n<p>It outputs a filename like <code>{\"imgsrc\":\"071112164139.jpg\"}</code></p>\n\n<p>Now my question is, how can I use jQuery in my index.php to get the filename into a variable using ajax ?</p>\n"},{"tags":["android","ajax","phonegap","sencha-touch-2","cordova"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13269020,"title":"Phonegap + Sencha touch 2 + Android first ajax request opens the browser","body":"<p>I have an Sencha Touch 2 application and I'm using PhoneGap (Cordova) to get it to work as an native application.</p>\n\n<p>I got plenty of Ext.Ajax requests in my application and they work fine on iOS (with XCode). But when I launch the application to my Android device thru Eclipse the first executed Ext.Ajax request seems to start and open the ordinary browser with a blank page open. The request still runs and works inside the application at the same time. \nThe upcoming requests do not do this, and I can close the ordinary browser, go back and run the same request that opened the browser the first time and it will not do it again, until I re-launch my application.</p>\n\n<p>I've tried to search for a solution for this issue but I have not found anything helpful yet, does any one got any ideas on how to solve this?</p>\n"},{"tags":["javascript","ajax","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13268376,"title":"JavaScript Comparision fails, when retrieving the values from the Servlet through ajax","body":"<p>Using the function <code>storeSessionId()</code> , I retrieved the value of storedSession and assigned to sessionId from the servlet using AJAX. </p>\n\n<pre><code>   var storedSession;\n   var sessionId;       \n\nfunction storeSessionId(){\n    try\n    {\n        xmlhttp.onreadystatechange=function()\n        {\n            if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n            {\n                storedSession = xmlhttp.responseText.toString();\n                sessionIdValue(storedSession);\n\n            }\n        };\n        xmlhttp.open(\"POST\",\"JoinAction?subject=\"+subject+\"&amp;userId=\"+userId+\"&amp;secureKey=\"+secureKey,true);\n        xmlhttp.send();\n    }\n    catch(err)\n    {\n        alert(err.description);\n    }\n}\n</code></pre>\n\n<p>When I compared the <code>sessionId!=null</code> only my div will be displayed else it cannot be  displayed.</p>\n\n<p>But even if I got <code>sessionId==null</code> also, my div was displayed. My div was displayed in both the condition.</p>\n\n<pre><code>function sessionIdValue(storedSession){\n    sessionId = storedSession;\n    if(sessionId != null &amp;&amp; sessionId != \"null\"){\n        document.getElementById(\"div\").style.display=\"inline\";\n    }\n}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","grails","datepicker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13267391,"title":"how to call controller action ononchange event of datepicker?","body":"<p>Hi I have custom datepicker and I want to calculate something on the onchange event of year.</p>\n\n<p>the code below does not work on onchange. I also tried onchange and call javasript function like this <code>onchange='toggleTextAreaForTypeOfDischarge(name);'</code> but the result is messed up. Like it calls the 'toggleTextAreaForTypeOfDischarge() on year drop down population. So if there's 100 years, it will call it 100 times and it will not call it upon actual selection of year.</p>\n\n<pre><code>&lt;g:icmDatePicker name=\"enteredIntoServiceDate\" precision=\"day\" default=\"none\" value=\"${activeReserveDutyServiceInstance?.enteredIntoServiceDate}\" noSelection=\"['': 'Select...']\"   years=\"${dateRange }\" yearSortOrder=\"desc\"onchange=\"${remoteFunction(action:'getCityAndState', controller:'postcode',params:'\\'zipcode=\\' + this.value, onSuccess:'getCityAndState(data,\\'i11\\',\\'i12\\')')}\"/&gt;\n</code></pre>\n\n<p>I was able to make the event work like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $(\"select[id ^= enteredIntoServiceDate_year], select[id ^= enteredIntoServiceDate_month], select[id ^= enteredIntoServiceDate_day]\").change(function (){\n       checkPeriodOfwarAccdgToDate()\n    });\n\n\n });\n\nfunction checkPeriodOfwarAccdgToDate()\n{\n    alert(\"test\")\n\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>but my problem is I need to call the controller and action from there so I can do the calcuation in the code behind, so I inserted this inside checkPeriodOfwarAccdgToDate function but does not work.</p>\n\n<pre><code>$.ajax({\n        alert(\"test\")\n           url: 'Postcode/GetCityAndState',\n           type: 'POST',\n           data: form,\n        dataType: \"text\",\n           success: function(obj){\n                    alert(obj);\n           }    \n        });\n</code></pre>\n\n<p>Can anyone point me to right dereiction how I can call an action from a controller in the event onchange of this datepicker. thanks. </p>\n"}]}
{"total":48691,"page":3,"pagesize":100,"questions":[{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13267917,"title":"Copy Ajax request function, that calls a php function, noob stuff","body":"<p>I found a JS-Jquery File what does almost what i need. If you click the checkbox it calls a php function. Now i wanna add another checkbox wich calls another php function. </p>\n\n<p>So i tried to copy the function. And change the values but that didn't work.</p>\n\n<p>I'm sure you will see the mistake in 1-2 seconds, so thanks for a short look in the <a href=\"http://jsfiddle.net/JszZ9/3/\" rel=\"nofollow\">JS-Fiddle</a>!</p>\n\n<p>This part i would like to copy, also see my tryings in the JS-Fiddle</p>\n\n<pre><code>$('input[name=\"ive-read-this\"]').change(function (evt) {\n    alert(\"markiere als gelesen.\");\n\n    // We can retrieve the ID of this post from the &lt;article&gt;'s ID. \n    // This will be required\n    // so that we can mark that the user has read this particular post and \n    // we can hide it.\n    var sArticleId, iPostId;\n\n    // Get the article ID and split it - the second index is always \n    // the post ID in twentyeleven\n    sArticleId = $(\"article\").attr('id');\n    iPostId = parseInt(sArticleId.split('-')[1]);\n\n    // Initial the request to mark this this particular post as read\n    $.post(ajaxurl, {        \n        action:  'mark_as_read',\n        post_id: iPostId      \n    }\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13268319,"title":"Repeating Javascript function execution with time delay","body":"<p>I'm about to make some JS functionality that will </p>\n\n<ul>\n<li>execute one function for previously predefined number of times\n(iterations)</li>\n<li><strong>make a delay after each function execution for previously predefined number of seconds</strong></li>\n</ul>\n\n<p>One big request is that solution must be Ajax compatibile.</p>\n\n<p>Say:</p>\n\n<pre><code>&lt;script&gt;\nfuncton my_function(numberoftimes, secondsdelay){\n//do ajax requests for numberoftimes, separeted by secondsdelay\n$.ajax(\n            {\n                type: \"GET/POST\",\n                url: \"exampleurl\",\n                data: \"key=value\",\n            }\n        )\n}\n&lt;script&gt;\n\n&lt;button onclick=\"my_function(3,1)\"&gt;Do it&lt;/button&gt;\n</code></pre>\n\n<p>how?</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","ajax","performance","google-chrome","heap"],"answer_count":0,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":71,"score":6,"question_id":13240866,"title":"JavaScript Heap Size and Chrome Increasing","body":"<p>I have a single web page application that is all JavaScript.  I noticed the JavaScript heap size goes up on each AJAX call that returns a new view.  Is there something I should be doing to clean up the older views?</p>\n"},{"tags":["php","ajax","file","upload","progress"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1488,"score":1,"question_id":10252309,"title":"AJAX/PHP based upload with progress bar for large files","body":"<p>I've been trying to create a non-flash upload panel which also shows a progress bar.\nOn our server we have PHP 5.3 (cannot upgrade to 5.4 for now, so the new upload progress feature cannot be used => <a href=\"http://php.net/manual/en/session.upload-progress.php\" rel=\"nofollow\">http://php.net/manual/en/session.upload-progress.php</a>).\nWe cannot use flash based solutions, extensions or similar. </p>\n\n<p>Hence I've tried using an XMLHttpRequest combined with AJAX.\nThe problem here is that I've only achieved partial success.</p>\n\n<p>I've managed to upload and save on the server a file of about 380 MB, however, when trying with a larger file like 4 GB, it won't be saved on the server (if I check with Firebug at one point it would say \"POST aborted\").</p>\n\n<p>Another strange thing is that with the same file the xhr.upload.loaded starts with the same dimension of xhr.upload.total and starts counting from there.</p>\n\n<p>Does anyone know how to solve this problem or has an alternative solution?</p>\n\n<p>The client code is: \n</p>\n\n<pre><code>&lt;script type=\"application/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"application/javascript\"&gt;\n\nfunction uploadToServer()\n{\n    fileField = document.getElementById(\"uploadedFile\");\n    var fileToUpload = fileField.files[0]; \n\n    var xhr = new XMLHttpRequest();\n    var uploadStatus = xhr.upload;\n\n    uploadStatus.addEventListener(\"progress\", function (ev) {\n            if (ev.lengthComputable) {\n                $(\"#uploadPercentage\").html((ev.loaded / ev.total) * 100 + \"%\");\n            }\n        }, false);\n\n    uploadStatus.addEventListener(\"error\", function (ev) {$(\"#error\").html(ev)}, false);\n    uploadStatus.addEventListener(\"load\", function (ev) {$(\"#error\").html(\"APPOSTO!\")}, false);\n\n    xhr.open(\n            \"POST\",\n            \"serverUpload.php\",\n            true\n            );\n        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n        xhr.setRequestHeader(\"Content-Type\", \"multipart/form-data\");\n        xhr.setRequestHeader(\"X-File-Name\", fileToUpload.fileName);\n        xhr.setRequestHeader(\"X-File-Size\", fileToUpload.fileSize);\n        xhr.setRequestHeader(\"X-File-Type\", fileToUpload.type);\n        //xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n        xhr.send(fileToUpload);\n}\n\n\n\n$(function(){\n\n    $(\"#uploadButton\").click(uploadToServer);\n\n});\n\n\n&lt;/script&gt;\n</code></pre>\n\n<p>HTML part:\n</p>\n\n<pre><code>&lt;form action=\"\" name=\"uploadForm\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n\n  &lt;input id=\"uploadedFile\" name=\"fileField\" type=\"file\" multiple /&gt;\n\n&lt;input id=\"uploadButton\" type=\"button\" value=\"Upload!\"&gt;\n\n&lt;/form&gt;\n\n&lt;div id=\"uploadPercentage\"&gt;&lt;/div&gt;\n&lt;div id=\"error\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Server side code:\n</p>\n\n<pre><code>&lt;?php\n\n$path = \"./\";\n$filename = $_SERVER['HTTP_X_FILE_NAME'];\n$filesize = $_SERVER['CONTENT_LENGTH'];\n\n\n$file = \"log.txt\";\n$fo= fopen($file, \"w\");\nfwrite($fo, $path . PHP_EOL);\nfwrite($fo, $filename . PHP_EOL);\nfwrite($fo, $filesize . PHP_EOL);\nfwrite($fo, $path . $filename . PHP_EOL);\n\nfile_put_contents($path . $filename, \nfile_get_contents('php://input')\n);\n\n?&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","hammer.js"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13267364,"title":"Using hammer.js on dynamically loaded content","body":"<p>I'm playing around with hammer.js for a web app.</p>\n\n<p>I can get it to work just fine, except on content loaded with ajax.</p>\n\n<p>I use the hammer.js special-events plugin for jquery.</p>\n\n<p>The following works fine:</p>\n\n<pre><code>$('#menu a').on(\"tap\", function(event) {\n //console.log(event);\n});\n</code></pre>\n\n<p>But when I use the jquery delegation syntax:</p>\n\n<pre><code>$('body').on(\"tap\", '#menu a', function(event) {\n //console.log(event);\n});\n</code></pre>\n\n<p>Nothing happens...</p>\n\n<p>What is the right syntax?</p>\n"},{"tags":["javascript","jquery","ajax","web-services","browser-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13266903,"title":"Avoid browser plugins to mess with code?","body":"<p>Since iv been working with javascript and ajax services I have noticed that there are some browser plugins that has tendency to mess with the contense of the code and values stored for services and scripts. Plugins like OpenScape and Skype for example can do some messing with phone numbers if any are found. And this can mess up quiet a bit when it comes to scripts and services.</p>\n\n<p>This can be noticed like for example, if you have a service-script on a page and you have a phone number on the page, OpenScape for example goes in to the code and modify the phone number and what should happened when now can click it. This can allso mess up the service variables because if you call these the values wont exist any more and be 'null'. Not OK.</p>\n\n<p><strong>Question:</strong>\nIs there some way to avoid browser plugins influence like this to make sure plugins dont mess with webpage contense?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13266551,"title":"json response text not parsing in mozilla","body":"<p>Hiii,</p>\n\n<p>Iam getting json response from webscript using jquery-ajax,Now i hav to parse that response into javascript array objects .To parse that content i used both eval and json.parse functions  it is working fine with chrome but not working in firefox showing syntax error for eval function and type error for json.parse function..Please help me how to resolve this issue..</p>\n\n<p>This is the piece of code i got stucked..</p>\n\n<pre><code>jQuery.ajax({\n    url: url,\n    success: function(data) {\n        var response;\n      try {\n    try{\n    //var response = eval('(' + data + ')');\n    response=JSON.parse(data);\n    //var response=data;\n    }catch(ex){alert(\"exception in evaluating json \"+ex);}\n    PATIENTS = response[\"PATIENTS\"];\n    SERIESES = response[\"SERIESES\"];\n    STUDIES = response[\"STUDIES\"];\n    //alert(JSON.stringify(PATIENTS));\n    //alert(JSON.stringify(INSTANCES));\n    INSTANCES = response[\"INSTANCES\"].sort(function(a,b){return a.SliceLocation-b.SliceLocation});\n\n\n      } catch(er) {\n    alert(\"eeee\" + er);\n\n      }\n\n    }\n  });\n</code></pre>\n\n<p>This is the json text iam using ,</p>\n\n<pre><code>{\n    \"PATIENTS\": [{\n        \"PatientBirthDate\": \"Mon Jan 01 00:00:40 IST 1940\",\n        \"PatientSex\": \"F\",\n        \"PatientId\": \"10031003\",\n        \"PatientName\": \"\"\n    }],\n    \"SERIESES\": [{\n        \"StudyInstanceUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612020943700000007\",\n        \"BodyPartExamined\": \"\",\n        \"SopClassUID\": \"1.2.840.10008.5.1.4.1.1.4\",\n        \"SeriesDescription\": \"Coronal Obl 2 mm\",\n        \"SeriesNo\": \"3\",\n        \"Modality\": \"MR\",\n        \"PatientId\": \"10031003\",\n        \"SeriesInstanceUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612024873400000716\",\n        \"NoOfSeriesRelatedInstances\": \"\"\n    }, {\n        \"StudyInstanceUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612020943700000007\",\n        \"BodyPartExamined\": \"\",\n        \"SopClassUID\": \"1.2.840.10008.5.1.4.1.1.4\",\n        \"SeriesDescription\": \"Cor 3D T1\",\n        \"SeriesNo\": \"4\",\n        \"Modality\": \"MR\",\n        \"PatientId\": \"10031003\",\n        \"SeriesInstanceUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612024873400000758\",\n        \"NoOfSeriesRelatedInstances\": \"\"\n    }],\n    \"INSTANCES\": [{\n        \"Columns\": \"256\",\n        \"SliceThickness\": \"2\",\n        \"Rows\": \"256\",\n        \"PixelSpacing\": \"0.625\\\\0.625\",\n        \"id\": \"workspace://SpacesStore/98269358-4fe3-4ea1-b16c-a4692b19142f\",\n        \"WindowWidth\": \"371\",\n        \"SopClassUID\": \"1.2.840.10008.5.1.4.1.1.4\",\n        \"SopUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612024873400000744\",\n        \"ImageOrientation\": \"\",\n        \"SliceLocation\": \"-32.99672658078\",\n        \"WindowCenter\": \"141\",\n        \"InstanceNo\": \"13\",\n        \"SeriesInstanceUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612024873400000716\"\n    }, {\n        \"Columns\": \"256\",\n        \"SliceThickness\": \"2\",\n        \"Rows\": \"256\",\n        \"PixelSpacing\": \"0.625\\\\0.625\",\n        \"id\": \"workspace://SpacesStore/f05e6853-64d1-4611-b152-b747e7681319\",\n        \"WindowWidth\": \"300\",\n        \"SopClassUID\": \"1.2.840.10008.5.1.4.1.1.4\",\n        \"SopUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612024873400000755\",\n        \"ImageOrientation\": \"\",\n        \"SliceLocation\": \"-10.99672658078\",\n        \"WindowCenter\": \"123\",\n        \"InstanceNo\": \"2\",\n        \"SeriesInstanceUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612024873400000716\"\n    }],\n    \"STUDIES\": [{\n        \"StudyInstanceUID\": \"1.3.12.2.1107.5.2.13.20507.30000006020612020943700000007\",\n        \"StudyDate\": \"Mon Feb 06 00:00:00 IST 2006\",\n        \"StudyDescription\": \"PfizerLong^SubseqVisit\",\n        \"NoOfInstances\": \"\",\n        \"NoOfSeries\": \"\",\n        \"ModalityInStudy\": \"MR\",\n        \"ReferringPhysicianName\": \"\",\n        \"PatientId\": \"10031003\",\n        \"AccessionNo\": \"anonymous\"\n    }]\n}\n</code></pre>\n"},{"tags":["ajax","cakephp","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13266211,"title":"Uploading file with jshelper in CakePHP 2.2.1","body":"<p>I am trying to made upload files with jshelper. </p>\n\n<p>In my view:</p>\n\n<pre><code>&lt;?php echo $this-&gt;Form-&gt;create('Form', array(\n    'inputDefaults' =&gt; array(\n    'format' =&gt; array('before', 'error', 'label', 'between', 'input', 'after'),),\n    'enctype' =&gt; 'multipart/form-data'\n)); \necho $this-&gt;Form-&gt;input('Form.file', array('type' =&gt; 'file', 'id'=&gt;'file'));\n$this-&gt;Js-&gt;get('#file')-&gt;event(\n    'update',\n    $this-&gt;Js-&gt;request(\n        array('controller' =&gt; 'ControllerForm','action' =&gt; 'actionForm'),\n        array(\n        'async' =&gt; true, \n        'method' =&gt; 'post', \n        'dataExpression'=&gt;true,\n        'data'=&gt; $this-&gt;Js-&gt;serializeForm(array(\n            'isForm' =&gt; false,\n            'inline' =&gt; true,\n            ))\n        )\n));\necho $this-&gt;Js-&gt;writeBuffer();\necho $this-&gt;Form-&gt;end(); \n?&gt;\n</code></pre>\n\n<p>In my controller:</p>\n\n<pre><code>public function actionForm(){\n    debugger::dump($this-&gt;data);\n}\n</code></pre>\n\n<p>But <code>debugger::dump</code> output empty array.</p>\n"},{"tags":["php","javascript","jquery","ajax","colorbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13058797,"title":"ajax in colorbox and array of html","body":"<p>I'm trying to force colorbox to work with array of htmls given by ajax response, but still it does not work. </p>\n\n<p>javascript code: </p>\n\n<pre><code>$.post($('#createForm').attr('action'),{\n        'id' : 1\n    },function(data){\n        var $trash = $('&lt;div&gt;').hide().appendTo('body');\n\n        $.each(data, function(i){\n            $(data[i]).appendTo($trash);\n            alert(data[i]);\n        });\n\n        $trash.find('div').colorbox({rel:'mygroup', open:true});\n    }, 'json');\n</code></pre>\n\n<p>php code:</p>\n\n<pre><code>    $content = '&lt;div class=\"page\" rel=\"mygroup\"&gt;&lt;p class=\"kkk\"&gt;item1&lt;/p&gt;&lt;/div&gt;';\n    $content2 = '&lt;div class=\"page\" rel=\"mygroup\"&gt;&lt;p class=\"kkk\"&gt;item2&lt;/p&gt;&lt;/div&gt;';\n    $return = json_encode(array($content, $content2));\n    return new Response($return);\n</code></pre>\n\n<p>response is correct, becouse alerts work correct. I need to present a html document consisting of multiple pages.</p>\n\n<p>I will be grateful for any help</p>\n"},{"tags":["jquery","ruby-on-rails","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":199,"score":2,"question_id":11322424,"title":"How Can I use Remotipart 1.0 with Rails 3.2 to save file upload","body":"<p>I have this form</p>\n\n<pre><code>&lt;%= form_for @post, :html =&gt; {:multipart =&gt; true , :class =&gt; 'form-horizontal' }, :remote =&gt; true do |f| %&gt;\n    &lt;%= f.text_field :title%&gt;\n    &lt;%= f.file_field :avatar%&gt;\n    &lt;%= f.submit nil%&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>and the <code>create</code> action as well     </p>\n\n<pre><code>def create\n        @post = Post.new(params[:post])\n        respond_to do |format|\n          if @post.save\n            format.js\n          end\n        end\n      end\n</code></pre>\n\n<p>whatever I write in <code>create.js.erb</code> it doesn't run, and the browser is redirected to white page!</p>\n\n<pre><code>$('body').html(\"&lt;h1&gt;Done!&lt;/h1&gt;\"); \n</code></pre>\n\n<p>Can anyone tell me what's the problem here?\nNote that I followed the documentation example steps on <a href=\"https://github.com/JangoSteve/remotipart\" rel=\"nofollow\">github</a></p>\n"},{"tags":["asp.net","html","ajax","asp.net-ajax","updatepanel"],"answer_count":7,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":6251,"score":5,"question_id":356796,"title":"Dynamically refreshing rows in an HTML table using an UpdatePanel","body":"<p>I have been using the ASP.NET AJAX UpdatePanel control a lot lately for some intranet apps I've been working on, and for the most part, I have been using it to dynamically refresh data or hide and show controls on a form based on the user's actions.</p>\n\n<p>There is one place where I have been having a bit of trouble, and I'm wondering if anyone has any advice.  My form is using a pretty typical table based layout where the table is used to display a grid of labels and fields for the user to fill out. (I already know table based layouts are eschewed by some people, and I understand the pros and cons. But that's the choice I've made, so please don't answer with \"Don't use a table based layout\".)</p>\n\n<p>Now my problem is that there are times when I would <em>like</em> to wrap an UpdatePanel around a set of rows so that I can hide and show them dynamically, but the UpdatePanel doesn't really let you do that.  The basic problem is that it wraps a div around them, and as far as I know, you cannot wrap a div around table rows. It is not valid HTML.</p>\n\n<p>So the way I have been dealing with it is to make my dynamic rows part of a whole new table entirely, which is OK, but then you have to deal with aligning all the columns manually with the table above it, and that is a real pain and pretty fragile.</p>\n\n<p>So, the question is... does anyone know of any technique for dynamically generating or refreshing rows using either an UpdatePanel or something similar? Hopefully, the solution would be almost as easy as dropping an UpdatePanel on the page, but even if not, I'd still like to hear it.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13265067,"title":"Replace a word multiple times from ajax response object?","body":"<p>I have a ajax response object say 'var data;' . <br/>\nIt contains html content. <br/>\nIn it there is table with id='table123'. <br/>\nI want to replace word say 'sample' with 'SAMPLE' form inside that table in variable 'data'. <br/>\nI want to replace all occurrence of the word 'sample'using javascript or jquery.</p>\n"},{"tags":["ajax","pdt","zend-debugger"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":11394068,"title":"Debugging PHP code of a AJAX project using Eclipse PDT and Zend Debugger","body":"<p>I'm not sure if I'm right or not but it seems that Eclipse PDT + Zend Debugger have problems when it comes to debugging Ajax projects. I'm working on a project in which all of the requests are passed through a single PHP file (even resource requests like downloading images). And when I want to start a debug session in Eclipse after the first request returns successfully, second forth requests return the following error message:</p>\n\n<blockquote>\n  <p>A communication error occurred with the Zend Studio debugger due\n  to an unfinished debug session. Uncaught SyntaxError: Unexpected token\n  &lt;</p>\n  \n  <p>To reload the page click Refresh</p>\n</blockquote>\n\n<p>It seems to me that since the first request is keeping the Zend Server busy, the second forth requests can not make a successful connection to it. It's in the case that I've configured the Eclipse so it won't stop at the first line of every page but still no luck.</p>\n\n<p>Does this mean that in PHP + Ajax projects which requests are sent freely, it is impossible to debug? Has anyone tested this and/or the xdebug in a similar scenario?</p>\n\n<p>Regards,</p>\n"},{"tags":["ruby-on-rails","ajax","upload"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":260,"score":1,"question_id":11954122,"title":"Rails AJAX upload form with Remotipart","body":"<p>I've been bashing my head trying to get an AJAX upload form working. I'm using Rails 3.2. I put <code>gem \"remotipart\", \"~&gt; 1.0\"</code> in my Gemfile, ran <code>bundle install</code> and it installed successfully.</p>\n\n<p>I previously had this non-ajax upload form, which I added <code>:remote =&gt; true</code> to as per the literature on the <a href=\"https://github.com/JangoSteve/remotipart\" rel=\"nofollow\">github page</a> :</p>\n\n<pre><code>&lt;%= form_tag \"/administration/data_imports\", :multipart =&gt; true, :remote =&gt; true %&gt;  \n    &lt;label for=\"file\"&gt;Input File&lt;/label&gt; &lt;%= file_field_tag \"file\" %&gt;\n    &lt;button type=\"submit\"&gt;Import Data&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and this in my <code>data_imports_controller</code> <code>create</code> action:</p>\n\n<pre><code>def create\n  file = params[:file]\n  filename = file.original_filename\nend\n</code></pre>\n\n<p>I added a javascript include on my page for <code>jquery.remotipart.js</code> because it felt essential, albeit there being no explicit instruction to do so..</p>\n\n<p>I tried it and it failed giving a server error:</p>\n\n<pre><code>Completed 500 Internal Server Error in 4ms\n\nNoMethodError (undefined method `original_filename' for nil:NilClass):\napp/controllers/data_imports_controller.rb:16:in `create'\n</code></pre>\n\n<p>It's clear I'm doing something fundamentally wrong, but I need a hand.</p>\n"},{"tags":["ajax","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13264704,"title":"I m not able to submit form, already exist or not in cakephp using ajax","body":"<p>I am checking user already exit using ajax in cakephp. everything is right, i got response ok </p>\n\n<p>but if user is not exit then i am not able to submit form following is my code:- problem is in else part, how to submit form.</p>\n\n<pre><code>function checku(email) {\n        var email=document.getElementById(\"check\").value;\n\n        var data='';\n        $.ajax({ \n            url: '&lt;?php echo BASE_PATH;?&gt;users/alreadyexist/'+email,    \n            type: 'POST',\n            data: data,     \n            cache: false,\n            success: function (html) { \n            var response=html;          \n            if(response==\"ok\")\n            {\n             alert('The user is already Exist');\n\n            }\n            else\n            {\n\n            alert(\"else\");\n\n            }\n\n        }\n\n        });\n    return false;\n\n}\n</code></pre>\n\n<p>And this following is button , I m calling function :</p>\n\n<pre><code>&lt;?php echo $this-&gt;Form-&gt;submit('ssad.png',array('onclick'=&gt;'return checku();'));?&gt;\n</code></pre>\n"},{"tags":["php","javascript","jquery","mysql","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":13238340,"title":"Jquery $.post is returning the wrong data","body":"<p>When my ajax is processed</p>\n\n<pre><code>$.post(\"main.php\", \n          {data: $(this).text()}, \n          function(data) {\n               //alert(\"Data saved.\");\n               $('#demo').html(data);\n          });   \n</code></pre>\n\n<p>instead of getting what I specified in the below query</p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\n\n    $query = mysql_query(\"SELECT * FROM tempusers\n    WHERE 'firstname' LIKE '%$data%' \n        OR 'lastname' LIKE '%$data%' \n        OR 'title' LIKE '%$data%'\");\n\n    while($row=mysql_fetch_assoc($query)){\n                $firstname=$row['firstname'];\n                $lastname=$row['lastname'];\n                $grade=$row['grade'];\n\n\n    echo $grade;\n</code></pre>\n\n<p>Instead I get all the elements in my page returned. So in other words in the div below</p>\n\n<pre><code> &lt;div id=\"demo\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I'm  returning my page. So it shows as a website within a website. It won't even show <code>echo $grade;</code> I thought it was my query acting up, but I tried commenting out the query and just <code>echo $data</code> <strong><em>see below</em></strong></p>\n\n<pre><code>if (isset($_POST['data'])){\n$data = $_POST['data'];\necho $data; \n</code></pre>\n\n<p>And doing so gave me the same result as stated previously \"echoing out the website within the website\" and also echoed the $data I wanted. I would be overjoyed to understand how this happened as well as what I can do to fix this problem and get my isset function/ajax corrected. Any other tips would be greatly appreciated. I know I need to change the query to PDO and plan on it. </p>\n"},{"tags":["jquery","ajax","image","gd"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13265537,"title":"how to display an image returned by jquery ajax call via image.php","body":"<p>On php side:</p>\n\n<pre><code>header('Content-Type: image/jpeg'); Imagejpeg($new);\n</code></pre>\n\n<p>jquery side:</p>\n\n<pre><code>function post(form)\n { loading(1); \n$.ajax({ type: 'POST', dataType: 'html', url: 'collage.php', data: $('#'+form).serialize(), success: function(data) \n{ $('#image').html('&lt;img src=\"'+data+'\"') } });\n return false; }\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13265363,"title":"Site Switching Automatically","body":"<p>I have 4 Websites that I want to <strong>loop</strong> and showcase sort of like a slideshow but without any extra framework/added styling.</p>\n\n<p>I just want to be able to go from Site 1 URL and then 5-10minutes later... it goes to Site 2, then 3 then 4 and then BACK to Site 1. In a never ending loop!</p>\n\n<p>Is this possible and what is the best way to do this smoothly and efficiently??</p>\n\n<p>Appreciate all the help guys.</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13264850,"title":"Input keyword & hit Enter key to get result from mysql","body":"<p>here is an idea to select ID from combo box &amp; then it will automatically print data in html form field so that the field can be edit easily. i have 2 files so far- index.html &amp; showData.php. here is the index.html file:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n\n    &lt;script&gt;\n\n        function showData(str)\n        {\n            if (str==\"\")\n            {\n                document.getElementById(\"ajax-content\").innerHTML=\"\";\n                return;\n            } \n\n            // Code for IE7+, Firefox, Chrome, Opera, Safari\n            if (window.XMLHttpRequest)\n            {\n                xmlhttp=new XMLHttpRequest();\n            }\n\n            // Code for IE6, IE5\n            else\n            {\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n\n            xmlhttp.onreadystatechange=function()\n            {\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n                {\n                    document.getElementById(\"ajax-content\").innerHTML=xmlhttp.responseText;\n                }\n            }\n\n            xmlhttp.open(\"GET\",\"showData.php?id=\"+str,true);\n\n            xmlhttp.send();\n        }\n\n    &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form&gt;\n\n&lt;select name=\"register\" onchange=\"showData(this.value)\"&gt;\n        &lt;option value=\"\"&gt;Select ID:&lt;/option&gt;\n        &lt;option value=\"001\"&gt;001&lt;/option&gt;\n        &lt;option value=\"002\"&gt;002&lt;/option&gt;\n        &lt;option value=\"003\"&gt;003&lt;/option&gt;\n    &lt;/select&gt;   \n\n&lt;/form&gt;\n\n&lt;div id=\"ajax-content\"&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>and here is my showData.php file:</p>\n\n<pre><code>&lt;?php\n\n    // Receive variable from URI\n    $id=$_GET[\"id\"];\n\n    // Connect to your database\n    $con = mysql_connect('localhost', 'root', '');\n    if (!$con)\n    {\n        die('Could not connect: ' . mysql_error());\n    }\n\n    // Select your database\n    mysql_select_db(\"test_01\", $con);\n\n    // Select all fields from your table\n    $sql=\"SELECT * FROM staffdetails WHERE id = '\".$id.\"'\";\n\n    $result = mysql_query($sql);\n\n    while($row = mysql_fetch_array($result))\n    {\n\n        echo \"Staff Name:\" . \"&lt;input type='text' value='\" . $row['name'] . \"'&gt;\";\n        echo \"&lt;/br&gt;\";\n        echo \"Contact No.:\" . \"&lt;input type='text' value='\" . $row['number'] . \"'&gt;\";\n    }\n\n    // Close the connection\n    mysql_close($con);\n\n?&gt;\n</code></pre>\n\n<p>now, what i'm trying to do is to type ID into form field (<em>rather than 'select from list'</em>) and press enter (<strong>without having any 'submit' button</strong>) to get the result on the form's field. anyone can help please?</p>\n"},{"tags":["jquery","ajax","jquery-ajax","jqplot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13263410,"title":"jQuery error - Uncaught Error: can't load XRegExp twice in the same frame","body":"<p>I have a button, onclick of which I'm doing an AJAX call to one of my pages (which contains jqplot elements).</p>\n\n<p>Now, the AJAX req/res works fine for the first click of the button.</p>\n\n<p>When I click my button for the second time, I get an exception saying,</p>\n\n<blockquote>\n  <p>Uncaught Error: can't load XRegExp twice in the same frame</p>\n</blockquote>\n\n<p>And it points to the jQuery-min file. Any idea on how I can solve this issue?</p>\n\n<p>I have tried <a href=\"http://stackoverflow.com/questions/6424633/chrome-uncaught-error-cant-load-xregexp-twice-in-the-same-frame\">this solution</a> and it does not work.</p>\n"},{"tags":["php","mysql","ajax","select"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13264965,"title":"Return value from select box","body":"<p>I have 3 select boxes drop_1,drop_2 and drop_3. The last 2 are added dynamically on the selection of the previous one. create_promo.php is the page that loads all the boxes. But i have used func.php to load dynamic select boxes.Hence I am not getting drop_2 and drop_3 values in my form processing page promo_process.php called by create_promo.php.I want to send back my drop_2 and drop_3 values back to my create_promo.php. </p>\n\n<p><strong>create_promo.php</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$('#wait_1').hide();\n$('#drop_1').change(function(){\n$('#wait_1').show();\n$('#result_1').hide();\n    $.get(\"func.php\", {\n    func: \"drop_1\",\n    drop_var: $('#drop_1').val()\n    }, function(response){\n    $('#result_1').fadeOut();\n        setTimeout(\"finishAjax('result_1', '\"+escape(response)+\"')\", 400);\n    });\nreturn false;\n});\n});\n\nfunction finishAjax(id, response) {\n    $('#wait_1').hide();\n    $('#'+id).html(unescape(response));\n    $('#'+id).fadeIn();\n}\nfunction finishAjax_tier_three(id, response) {\n    $('#wait_2').hide();\n    $('#'+id).html(unescape(response));\n    $('#'+id).fadeIn();\n}\n&lt;/script&gt;\n\n&lt;form action=\"promo_process.php\" method=\"post\"&gt;\n&lt;tr&gt;\n    &lt;td class=\"normalfont\"&gt;SELECTION 1&lt;/td&gt;\n    &lt;td&gt;\n        &lt;select name=\"drop_1\" id=\"drop_1\"&gt;\n        &lt;option value=\"\" selected=\"selected\" disabled=\"disabled\"&gt;Select 1&lt;/option&gt;\n        &lt;?php getTierOne(); ?&gt;\n        &lt;/select&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;    \n     &lt;td class=\"normalfont\"&gt;SELECTION 2&lt;/td&gt;    \n &lt;td&gt;\n     &lt;span id=\"wait_1\" style=\"display: none;\"&gt;\n     &lt;img alt=\"Please Wait\" src=\"images/ajax-loader.gif\"/&gt;\n     &lt;/span&gt;\n     &lt;span id=\"result_1\" style=\"display: none;\"&gt;&lt;/span&gt;\n     &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n     &lt;td class=\"normalfont\"&gt;SELECTION 3:&lt;/td&gt;\n &lt;td&gt;\n    &lt;span id=\"wait_2\" style=\"display: none;\"&gt;\n        &lt;img alt=\"Please Wait\" src=\"images/ajax-loader.gif\"/&gt;\n    &lt;/span&gt;\n    &lt;span id=\"result_2\" style=\"display: none;\"&gt;&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/form&gt;\n&lt;?php\n     include('connect.php');\n     function getTierOne()\n     {\n         $result = mysql_query(\"SELECT s_name FROM selection1\") or die(mysql_error());\n         while($tier = mysql_fetch_array( $result )) \n     {\n         echo '&lt;option value=\"'.$tier['s_name'].'\"&gt;'.$tier['s_name'].'&lt;/option&gt;';\n         }\n     }\n?&gt;\n</code></pre>\n\n<p><strong>func.php</strong></p>\n\n<pre><code>&lt;?php\n     include('connect.php');\n     if($_GET['func'] == \"drop_1\" &amp;&amp; isset($_GET['func'])) {\n          drop_1($_GET['drop_var']); \n     }\n     function drop_1($drop_var)\n     {\n          $result = mysql_query(\"SELECT DISTINCT a_name FROM select_2 WHERE s_id=(select s_id from s_name where s_name='$drop_var')\") or die(mysql_error());\n          echo '&lt;select name=\"drop_2\" id=\"drop_2\"&gt;\n                   &lt;option value=\" \" disabled=\"disabled\" selected=\"selected\"&gt;Select 2&lt;/option&gt;\n                   &lt;option value=\"ALL\" &gt;ALL&lt;/option&gt;';\n          while($drop_2 = mysql_fetch_array( $result ))\n          {\n              echo '&lt;option value=\"'.$drop_2['a_name'].'\"&gt;'.$drop_2['a_name'].'&lt;/option&gt;';\n          }\n      echo '&lt;/select&gt;';\n      echo \"&lt;script type=\\\"text/javascript\\\"&gt;\n       $('#wait_2').hide();\n       $('#drop_2').change(function(){\n       $('#wait_2').show();\n       $('#result_2').hide();\n               $.get(\\\"func.php\\\", {\n            func: \\\"drop_2\\\",\n            drop_var: $('#drop_2').val()\n               }, function(response){\n               $('#result_2').fadeOut();\n               setTimeout(\\\"finishAjax_tier_three('result_2', '\\\"+escape(response)+\\\"')\\\", 400);\n               });\n           return false;\n           });\n           &lt;/script&gt;\";\n   }\n   if($_GET['func'] == \"drop_2\" &amp;&amp; isset($_GET['func'])) {\n          drop_2($_GET['drop_var']);\n   }\n   function drop_2($drop_var)\n   {\n          if($drop_var==\"ALL\")\n              $result = mysql_query(\"SELECT DISTINCT h_name FROM select_3\")or die(mysql_error());\n      else  \n      $result = mysql_query(\"SELECT DISTINCT h_name FROM select_3 WHERE a_id=(select a_id from select_2 where a_name='$drop_var')\")or die(mysql_error());\n      echo '&lt;select name=\"drop_3\" id=\"drop_3\"&gt;\n                &lt;option value=\" \" disabled=\"disabled\" selected=\"selected\"&gt;Select 3&lt;/option&gt;\n            &lt;option value=\"ALL\"&gt;ALL&lt;/option&gt;';\n      while($drop_3 = mysql_fetch_array( $result ))\n     {\n    echo '&lt;option value=\"'.$drop_3['h_name'].'\"&gt;'.$drop_3['h_name'].'&lt;/option&gt;';\n         }\n     echo '&lt;/select&gt; ';\n   }\n\n?&gt;\n</code></pre>\n\n<p><strong>promo_process.php</strong></p>\n\n<pre><code>&lt;?php\ninclude 'connect.php';\n$errmsg = array(); //Array to store errors\n$errflag = false; //Error flag\n\n$drop = mysql_real_escape_string($_POST['drop_1']);\n$drop_2 = mysql_real_escape_string($_POST['drop_2']);\n$drop_3 = mysql_real_escape_string($_POST['drop_3']);\nif($drop== ' ' &amp;&amp; $drop_2== ' ' &amp;&amp; $drop_3==' ')\n{\n    $errmsg[] = 'SELECT PLEASE'; //Error\n    $errflag = true; //Set flag so it says theres an error\n}\n\nif($errflag) {\n    $_SESSION['ERRMSG'] = $errmsg; //Write errors\n    session_write_close(); //Close session\n    header(\"location: create_promo.php\"); //Rediect\n    exit(); //Block scripts\n}\n?&gt;\n</code></pre>\n\n<p>I'm getting error saying \"Undefined index drop_1 and drop_2\" in promo_process.php. How do i retain those values?</p>\n"},{"tags":["php","ajax","zend-framework","zend-form"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13263901,"title":"Zend form/subform partial render","body":"<p>I am building a form using Zend_Form ... i need to add some fields to the form dynamically (jquery/ajax) ... i created a subform for each set of fields that need to be created at runtime ...\nto get my elements in an array with correct names like <code>subform1[index][element]</code> , i added 2 more subform :\nsubform1 : a wrapper rendered as a field set \nsubform2 : a container that plays the <code>index</code> part of the names\nelements subform : this is main subform that holds the elements</p>\n\n<p>the subform2 and elements part gets repeated for each set of new elements ... </p>\n\n<p>now everything works fine when form is created and rendered in the view , i get the correct names (<code>subform1[index][element]</code>) ...</p>\n\n<p>but when i use ajax to generate new elements i don't know how to render the form and get the subform2 part with correct names ...</p>\n\n<p>this is the function that creates the subforms :</p>\n\n<pre><code>    private function makeSubForm($id, $legend)\n    {\n        $wrapper = new Zend_Form_SubForm();\n        $wrapper-&gt;setOptions(array('legend' =&gt; $legend, 'class' =&gt; 'ui-corner-all multi_value'))\n            -&gt;setIsArray(true);\n\n        $array = $this-&gt;_getArray($id);\n        //-------------------------LOOP--------------------------\n        $form_name = \"Application_Form_Employ_$id\";\n//        var_dump($array);\n        foreach ($array as $key =&gt; $value) {\n\n            $form = new $form_name();\n\n            $container = new Zend_Form_SubForm();\n            $container-&gt;setOptions(array('class' =&gt; 'subform'))\n                -&gt;setIsArray(true)\n                -&gt;addSubForm($form, 'xxxxx');\n\n            $wrapper-&gt;addSubForm($container, $key);\n        }\n        Zend_Registry::get('session')-&gt;{$id} = $array;\n        //----------------------------------------------------------\n\n        $this-&gt;addSubForm($wrapper, $id);\n    }\n</code></pre>\n\n<p>and this is my action method :</p>\n\n<pre><code>    public function newElementAction()\n    {\n        $this-&gt;_disableView();\n        $id = $this-&gt;getRequest()-&gt;getParam('id');\n        $form = new Application_Form_Employment();\n        $params = array();\n        $keys = Zend_Registry::get('session')-&gt;{$id};\n        $lastKey = end(array_keys($keys));\n        $keys[++$lastKey] = array();\n\n        $params[$id] = $keys;\n//        var_dump($params);\n        $form-&gt;create($params);\n//        $form-&gt;render();\n\n        $this-&gt;_response-&gt;appendBody($form-&gt;getSubForm($id)-&gt;getSubForm($lastKey));\n    }\n</code></pre>\n\n<p>with this code i get <code>subform2[element]</code> as my names ...\nbut if i uncomment <code>$form-&gt;render();</code> i get <code>subform1[subform2][subform1][subform2][element]</code></p>\n\n<p>so how can i get the second subform's HTML with correct names ?</p>\n\n<hr>\n\n<p>well i found a hack to get what i want but i am looking for a better way ...</p>\n\n<pre><code>public function newElementAction()\n{\n    $this-&gt;_disableView();\n    $id = $this-&gt;getRequest()-&gt;getParam('id');\n    $form = new Application_Form_Employment();\n    $params = array();\n    $keys = Zend_Registry::get('session')-&gt;{$id};\n    $lastKey = end(array_keys($keys));\n    $keys = array(++$lastKey =&gt; array());\n\n    $params[$id] = $keys;\n    $form-&gt;create($params, $id);\n\n    $this-&gt;_response-&gt;appendBody($form-&gt;{$id});\n}\n</code></pre>\n\n<p>i created only the last child and outputed the parent\nand in the client side removed the parents markup before inserting into page ...</p>\n\n<p>there has to be a solid way to just render the subform with its parents indexes intact !!??</p>\n"},{"tags":["ajax","jquery-ajax","liferay","portlet","liferay-6"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13246870,"title":"How to call specific method of portlet.java class rather then overide serveResource method?","body":"<p>I want some help in liferay with ajax.\nRight now I am calling the ajax method from my <code>view.jsp</code> page to submit some data.</p>\n\n<p>Here is sample code I am using in <code>view.jsp</code>:</p>\n\n<pre><code>&lt;%@ include file=\"/init.jsp\"%&gt;\n\n&lt;portlet:actionURL name=\"AddTest\" var=\"add1\" /&gt;\n&lt;portlet:resourceURL id=\"AddTest\" var=\"AddTest\"&gt;&lt;/portlet:resourceURL&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n    function addToDo(addToDo){\n        var todo =document.getElementById('toDo').value;\n        $.ajax({\n            url :addToDo,            \n              data: {\"todo\":todo,\"CMD\":\"addToDo\"},\n              type: \"GET\",\n              dataType: \"text\",\n            success: function(data) {              \n                  $(\"#toDoList\").html(data);\n            }\n        });\n    }\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n    &lt;portlet:resourceURL var=\"addToDo\" id=\"addToDo\"&gt;&lt;/portlet:resourceURL&gt;\n\n    &lt;form&gt;\n        &lt;input type=\"text\" name=\"toDo\" id=\"toDo\"&gt;\n        &lt;button name=\"Add\" type=\"button\" onclick=\"addToDo('&lt;%=addToDo%&gt;')\"&gt;Add&lt;/button&gt;\n        &lt;div id=\"toDoList\"&gt;\n\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>and in my <code>portlet.java</code> class there is one method which is called by this ajax call: </p>\n\n<pre><code>@Override\npublic void serveResource(ResourceRequest request, ResourceResponse response){\n    if(request.getParameter(\"CMD\").equals(\"addToDo\")) {\n\n        System.out.println(\"came here for add\");\n\n        mediatype userToDo = new mediatypeImpl();\n        //userToDo.setMediaId(12345);\n        try {\n            userToDo.setPrimaryKey((CounterLocalServiceUtil.increment()));\n            userToDo.setMedianame(request.getParameter(\"todo\"));\n            mediatypeLocalServiceUtil.addmediatype(userToDo);\n        }\n        catch (SystemException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>So my question is that right now it is just caling by default <code>@override</code> method from any ajax class.\nBut how can I call specific method of <code>portlet.java</code> class on ajax call?</p>\n\n<p>I am new bee in ajax. So please guide me anyways u can.....</p>\n\n<p>I got following error when calling ajax with url of following</p>\n\n<pre><code>&lt;portlet:actionURL name=\"ajax_AddAdvertise\" var=\"addToDo\" windowState=\"&lt;%= LiferayWindowState.EXCLUSIVE.toString()%&gt;\"&gt; &lt;/portlet:actionURL&gt;\n\n\n\n06:47:03,705 ERROR [http-bio-8080-exec-23][render_portlet_jsp:154] java.lang.NoSuchMethodException: emenu.advertise.portlet.RestaurantPortlet.ajax_AddAdvertise(javax.portlet.ActionRequest, javax.portlet.ActionResponse)\n    at java.lang.Class.getMethod(Class.java:1605)\n</code></pre>\n\n<p>my process action method as follows</p>\n\n<pre><code> @ProcessAction(name = \"ajax_AddAdvertise\")\n    public void ajax_AddAdvertise(ResourceRequest request,ResourceResponse response) {\n\n}\n</code></pre>\n"},{"tags":["python","ajax","django"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13263612,"title":"Issues with ajax in django","body":"<p>I'm using ajax in django first times .. I read some tutorials on the net and I'm trying to make a simple form which posts some information via ajax.</p>\n\n<p>Here is my html form</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nfunction send_request()\n{\n\n $.ajax({\n                            type:\"POST\",\n                            url:\"/ajaxredirect/\",\n\n\n       });\n\n}\n&lt;/script&gt;\n&lt;button type=\"button\" onclick=\"send_request();\"&gt;change content&lt;/button&gt;\n</code></pre>\n\n<p>and it is my view</p>\n\n<pre><code>def Ajaxquery(request):\n        if request.is_ajax():\n                return HttpResponse(\"ok\")\n        else:\n                return HttpResponse(\"error\")\n</code></pre>\n\n<p>it does nothing when i am click on change content button in browser.</p>\n\n<p>Any suggestions would be apperciated</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13263947,"title":"Passing a big string data from JavaScript to php","body":"<p>I have a very long string variable(2000+ characters) in JavaScript and I need to pass it to a <code>Php</code> page so that I can store it in a Database. Which would be The BEST technique to pass this string variable along with some other data from <code>JavaScript</code> to a <code>Php</code> page ?</p>\n"},{"tags":["jquery","ajax","internet-explorer","undefined"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13263923,"title":"jQuery get data returns undefined in IE","body":"<p>There is a problem in IE 9 returning <code>undefined</code> instead of data, when making an ajax request. It works on Firefox, Chrome, Opera. I tried to set some headers in get.php. But it didn't help. </p>\n\n<p>My code is below:</p>\n\n<pre><code>&lt;head&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-latest.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n       $(document).ready(function(){\n           $.ajax({\n               type : \"GET\",\n                url : \"get.php\",\n               data : \"id=1234&amp;lang=en\",\n           dataType : 'html', \n            success : function( msg ) {\n                         alert( \"Data Saved: \" + msg);\n                     }\n           });\n       });\n    &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n"},{"tags":["ajax","post","get","liferay"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":858,"score":0,"question_id":9891828,"title":"Requests with AJAX in a portlet (Liferay)","body":"<p>I have an issue with my portlet and I don't know exactly how to solve it.\nMy portlet adds or retrieves info from liferay's DB by inserting a name in 2 text fields.\nAfter pressing the submit button, I see the response from the server, a JSON response like this: </p>\n\n<pre><code>{\"id\":301,\"name\":\"Pepo\"}\n</code></pre>\n\n<p>If a user correctly inserted or if the search throws a good result. I have to go back in the browser to see the portal again. </p>\n\n<p>How can I use AJAX to pass the following URL dynamically from the portlet to the server without refreshing the page afterwards? </p>\n\n<blockquote>\n  <p>http://localhost:8080/c/portal/json_service?serviceClassName=com.liferay.test.service.TrabajadorServiceUtil&amp;serviceMethodName=findByName&amp;servletContextName=TrabajadorPlugin-portlet&amp;serviceParameters=[param1]&amp;param1=<strong>NameInsertedByUser</strong></p>\n</blockquote>\n\n<p>Now I'm using the <code>&lt;form&gt;</code> tag like this:</p>\n\n<pre><code>&lt;%\n//Shows \"New Employee\" in the text field when portlet is rendered, or gets the user input and pass it as a param to the URL\nPortletPreferences prefs = renderRequest.getPreferences(); \nString employee = (String)prefs.getValue(\"name\", \"New Employee\");  \n%&gt;\n\n&lt;form id=\"postForm\" method=\"post\" action=\"http://localhost:8080/c/portal/json_service\"&gt;\n    &lt;input name=\"serviceClassName\" type=\"hidden\" value=\"com.liferay.test.service.TrabajadorServiceUtil\" /&gt;\n    &lt;input name=\"serviceMethodName\" type=\"hidden\" value=\"create\" /&gt;\n    &lt;input name=\"servletContextName\" type=\"hidden\" value=\"TrabajadorPlugin-portlet\" /&gt;\n    &lt;input name=\"serviceParameters\" type=\"hidden\" value=\"[param]\" /&gt;\n    &lt;input name=\"param\" type=\"text\" value=\"&lt;%=employee%&gt;\" /&gt; \n    &lt;input type=\"submit\" value=\"Submit\"/&gt; \n&lt;/form&gt; \n</code></pre>\n\n<p>I understand how AJAX works, but I need some help to create my function in order to achieve the URL to be correctly sent to the server for both <code>GET</code> and <code>POST</code> requests. This is my first try with AJAX.</p>\n\n<p>Thank you very much, hope somebody understands my problem and could help me.</p>\n"},{"tags":["php","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":24,"score":-4,"question_id":13263213,"title":"ajax function doesn't return large amount of value","body":"<p>I have a php web site. I have used POST method. I have to fetch large amount of data from my Ajax page (ajax.php).  I.e. have to display a contact form, in which there is a country drop down and it contain 250 values... </p>\n\n<p>When I reduced the country count then my Ajax form returns the entire field. But when I wrote all the country it's again return partial form...</p>\n\n<p>I need complete form...</p>\n\n<p>Does anyone know this how I get all the fields...?</p>\n\n<p>Thanks in advance </p>\n\n<p>Ya\nI got the mistake. There was an extra symbol in my country list , so the ajax out put is stopped</p>\n"},{"tags":["php","jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":828,"score":0,"question_id":9780879,"title":"submit form using Jquery Ajax Form Plugin and php?","body":"<p>this a simple example in how to submit form using the Jquery form plugins and retrieving data using html format\nhtml Code</p>\n\n<pre><code>&lt;html&gt; \n&lt;head&gt; \n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js\"&gt;&lt;/script&gt; \n    &lt;script src=\"http://malsup.github.com/jquery.form.js\"&gt;&lt;/script&gt; \n\n    &lt;script&gt; \n // prepare the form when the DOM is ready \n    $(document).ready(function() { \n        // bind form using ajaxForm \n        $('#htmlForm').ajaxForm({ \n            // target identifies the element(s) to update with the server response \n            target: '#htmlExampleTarget', \n\n            // success identifies the function to invoke when the server response \n            // has been received; here we apply a fade-in effect to the new content \n            success: function() { \n                $('#htmlExampleTarget').fadeIn('slow'); \n            } \n        }); \n    });\n    &lt;/script&gt; \n&lt;/head&gt; \n&lt;body&gt;\n&lt;form id=\"htmlForm\" action=\"post.php\" method=\"post\"&gt; \n    Message: &lt;input type=\"text\" name=\"message\" value=\"Hello HTML\" /&gt; \n    &lt;input type=\"submit\" value=\"Echo as HTML\" /&gt; \n&lt;/form&gt;\n&lt;div id=\"htmlExampleTarget\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>PHP Code</p>\n\n<pre><code>&lt;?php \necho '&lt;div style=\"background-color:#ffa; padding:20px\"&gt;' . $_POST['message'] . '&lt;/div&gt;'; \n?&gt;\n</code></pre>\n\n<p>this just work fine\nwhat i need to know if what if i need to Serialize the form fields so how to pass this option through the JS function\nalso i want show a loading message while form processed\nhow should i do that too\nthank you </p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13263245,"title":"Button stops working after loading div via ajax","body":"<p>I have two divs on the page: main div and secondary, which loads a separate html page using ajax. All the links within the main div trigerred by a click event continue to work correctly and reference the appropriate content, but none of the jquery outside this div works (such as the navigation). </p>\n\n<p>Here's my jQuery:</p>\n\n<pre><code>    var url;\n    $('.main a').live('click',function() {\n        url = $(this).attr('href');\n        $('.secondary').load(url);\n    return false;\n    });\n</code></pre>\n\n<p>Can anyone help me why this isn't working? I think I am supposed to trigger a callback event but I am not sure how to do so. I know this question has been asked multiple times already (usually suggesting to use .live() or .on()), but none of those solutions seemed to work for me.</p>\n\n<p>Edit: Here's a short fiddle: <a href=\"http://jsfiddle.net/snDzF/\" rel=\"nofollow\">http://jsfiddle.net/snDzF/</a> \n So login is supposed to be a toggle bottle, Link 1, 2 and 3 load the html in the secondary right div. The login toggle button works up until I click one of the links to load the other page. </p>\n"},{"tags":["php","javascript","jquery","ajax","browser"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":77,"score":-1,"question_id":13263051,"title":"How to display confirmation if user clicks on a back browser button?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/136937/is-there-a-way-to-catch-the-back-button-event-in-javascript\">Is there a way to catch the back button event in javascript?</a>  </p>\n</blockquote>\n\n\n\n<p>In my application I want only a certain number of scripts (Text1.php, Text2.php and Text3.php) to contain a piece of code where that if the user clicks on the back browser button, it will display a confirmation box like the one below:</p>\n\n<pre><code>confirm(\"You have clicked on the browser's back button. If you confirm to go back via the browser back button, you will be logged out and lose your current assessment details.\" + \"\\n\" + \"\\n\" + \"Are you sure you want to go back and lose current assessment details?\" + \"\\n\" );\n</code></pre>\n\n<p>The requirments are the following:</p>\n\n<ol>\n<li>How to show the confirm if the user clicks on the back browser button?</li>\n<li>If user confirms the confirmation then navigate to Text4.php (This is where it logs out user)</li>\n<li>If user cancels confirmation then just close confirmation box so user can continue what they are doing (guessing this is something to do with <code>return false;</code></li>\n<li>Only want this to happen for scripts (Text1.php, Text2.php and Text3.php) </li>\n<li>Need it to work on all major browsers (IE, Chrome, Firefox, Safari, Opera)</li>\n</ol>\n\n<p>Thank you</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13262187,"title":"Jquery/PHP $.post not working with SheepIT fields","body":"<p>I'm trying to make a calculator using the <a href=\"http://www.mdelrosso.com/sheepit/index.php?sec=demo3&amp;lng=en_GB\" rel=\"nofollow\">Jquery SheepIT plugin</a>.</p>\n\n<p>SheepIT clones input fields, which I have working fine. After generating these fields I want to post a total of fields with JQUERY using something like this:</p>\n\n<pre><code>    [SheepIT generated fields with names and values]                \n\n    &lt;script&gt;\n    function calc() {\n        $.post('process/calculate-charges.php', $(\"form\").serialize(), function(data) { $('#result').html(data); });\n    }\n    &lt;/script&gt;\n\n    &lt;input type=\"button\" value=\"Calculate Total\" onclick=\"calc()\" /&gt;\n    &lt;div id=\"result\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>My problem is jquery will not $.post the fields that have been cloned/dynamically generated with SheepIt! It's only posting the fields that were there on the page when the page first loaded.</p>\n\n<p>When i manually put a form around the fields and submitted them straight to a php file the $_POST array contains all the fields (from SheepIT!) like I need it to. I just want Jquery to give me the same results as this does.</p>\n\n<p>Can anyone provide any advice or an example. Thank you. If you require any additional information please let me know.</p>\n"},{"tags":["php","ajax"],"answer_count":4,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":986,"score":4,"question_id":2126410,"title":"xajax alternative?","body":"<p>I really love the simplicity of xajax calls from PHP, however xajax project seems dead by now... Is there any nice alternative or equivalent to xajax which is actively in development?</p>\n"},{"tags":["php","jquery","ajax","return-value"],"answer_count":3,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":8972,"score":5,"question_id":4594265,"title":"multiple return values from PHP with jQuery AJAX","body":"<p>I'm using this jQuery code:</p>\n\n<pre><code>$.ajax\n({\n    type: \"POST\",\n    url: \"customerfilter.php\",\n    data: dataString,\n    cache: false,\n    success: function(html)\n    {\n        $(\".custName\").html(html);\n    }\n});\n</code></pre>\n\n<p>How can i do something like this: <code>$(\".projDesc\").html(html1);\n</code>\nSo i can split the returned results into two html elements?</p>\n\n<pre><code>echo \"&lt;p&gt;\" .$row['cust_name']. \"&lt;/p&gt;\";\n</code></pre>\n\n<p>thats the PHP i'm using and i want to echo another statement which i can put into another HTML element</p>\n\n<p>Does this make sense?</p>\n"},{"tags":["javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13262879,"title":"How to call MVC Api controllers HttpResponseMessage Post action using javascript as client?","body":"<p>I am calling this action of api from client. The client code also see below. </p>\n\n<p><strong>API Action:</strong></p>\n\n<pre><code>public class StudentTestController : ApiController\n    {\n        [HttpPost]\n        public HttpResponseMessage GetLessonInfo(int request)\n        {\n            HttpResponseMessage result = null;\n\n            result = Request.CreateResponse(HttpStatusCode.OK,StudentTest.GetLessonInfo(request));\n\n            return result;\n        }\n    }\n</code></pre>\n\n<p><strong>JavaScript client script:</strong></p>\n\n<pre><code>function SendRequest() {\n\n        var url = \"http://localhost:1938/api/StudentTest/GetLessonInfo\";\n\n        var data1 = \"request=293\";\n\n        $.ajax({\n            type: 'POST',\n            url: url,\n            data: data1,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'jsonp',\n            success: function (data) {\n                $('#txtResponce').val(JSON.stringify(data.Data));\n            },\n            error: function (xhr, status, error) {\n                var errorText = xhr.status + \"\\r\\n\" + status + \"\\r\\n\" + error;\n                $('#txtResponce').val(errorText);\n            }\n        });\n    }\n</code></pre>\n\n<p>When i am trying to call Action with the above snippet it will not calling the controller action. How to solve this?</p>\n"},{"tags":["javascript","html","ajax","dynamic","dhtml"],"answer_count":5,"favorite_count":22,"up_vote_count":25,"down_vote_count":0,"view_count":6074,"score":25,"question_id":220603,"title":"Is there a best practice for generating html with javascript","body":"<p>I'm calling a web service that returns an array of objects in JSON.</p>\n\n<p>I want to take those objects and populate a div with html.  Let's say each object contains a url and a name.</p>\n\n<p>If i wanted to generate the following html for each object:</p>\n\n<pre><code>    &lt;div&gt;&lt;img src=\"the url\" /&gt;the name&lt;/div&gt;\n</code></pre>\n\n<p>Is there a best practice for this? I can see three ways of doing it:</p>\n\n<ol>\n<li>Concatentate strings</li>\n<li>Create elements</li>\n<li><p>Use some sort of templating plugin like <a href=\"http://beebole.com/pure/\" rel=\"nofollow\">http://beebole.com/pure/</a> which seems like a cool yet immature technology</p></li>\n<li><p>UPDATE, a friend suggested the following: generate the html on the server, then serve up via json, this is faster and allows you to reuse the template on any server side stuff you are doing</p></li>\n</ol>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13260806,"title":"Is this crossdomain issue in jquery?","body":"<p>I'm not sure if this is crossdomain issue or not. I'm trying to use <code>$.ajax</code> to load file. But some file I get readyState=4 and some file I get readyState=1</p>\n\n<p>This is the path where I run my jasmine test\n<code>\nfile:///home/myname/development/path1/path2/src/test/java/javascript/jasmine/SpecRunner.html\n</code></p>\n\n<p>And in the code I used jQuery.pyte to require relevant file. But it's stuck at readyState:1 when the code comes to $.ajax</p>\n\n<p>if I do something like this, it returns readyState=4 correctly and print out the content inside SpecRunner.html</p>\n\n<pre>\n<code>\n$.ajax({url: 'file:///home/myname/development/path1/path2/src/test/java/javascript/jasmine/SpecRunner.html', async: false}).responseText\n</code>\n</pre>\n\n<p>but if I do something like this, I only get readyState=1 and nothing is returned. </p>\n\n<pre>\n<code>\n$.ajax({url: 'file:///home/myname/development/path1/path2/src/main/webapp/static/js/core/application/FileThatIWant.js', async: false}).responseText\n</code>\n</pre>\n"},{"tags":["php","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13259588,"title":"css not showing up in calender after adding ajax controls","body":"<p>I'm trying to make a calender in php, i have done the first part and have the layout and information, i am trying to add a previous and next month now and the css has gone for some reason. I am following a tutorial </p>\n\n<p>The only info that shows is the previous and next month button and the current month. I have all three files in the htdocs folder of xampp. I dont know whats wrong :(</p>\n\n<p>here is the file to view everything</p>\n\n<p>show_calendar.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>calendar_start.php</p>\n\n<pre><code>&lt;?php\n$showmonth = $_POST['showmonth'];\n$showyear = $_POST['showyear'];\n$showmonth = preg_replace('#[^0-9]#i', '', $showmonth);\n$showyear = preg_replace('#[^0-9]#i', '', $showyear);\n\n$day_count = cal_days_in_month(CAL_GREGORIAN, $showmonth, $showyear);\n$pre_days = date('w', mktime(0,0,0, $showmonth, 1, $showyear));\n$post_days = (6 - (date('w', mktime(0,0,0, $showmonth, $day_count,$showyear))));\n\necho '&lt;div id=\"calendar_wrap\"&gt;';\necho '&lt;div class=\"title_bar\"&gt;';\necho '&lt;div class=\"previous_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Previous Month\" onClick=\"javascript:last_month();\"&gt;&lt;/div';\necho '&lt;div class=\"show_month\"&gt;' . $showmonth . '/' . $showyear . '&lt;/div&gt;';\necho '&lt;div class=\"next_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Next Month\" onClick=\"javascript:next_month();\"&gt;&lt;/div';\necho '&lt;/div&gt;';\necho '&lt;div class=\"week_days\"&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Mon&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Tue&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Wed&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Thur&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Fri&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sat&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sun&lt;/div&gt;';\necho '&lt;div class=\"clear\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n/* Previous Month Filler Days */\nif ($pre_days != 0) {\nfor($i = 1 ; $i&lt;=$pre_days;$i++) {\necho '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\n\n/* Current Month */\nfor($i=1; $i&lt;= $day_count; $i++) {\necho '&lt;div class=\"cal_day\"&gt;';\necho '&lt;div class=\"day_heading\"&gt;' . $i . '&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n}\n/* Next Month Filler Days */\nif ($post_days != 0) {\nfor ($i=1; $i&lt;=$post_days; $i++) {\n echo '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\necho '&lt;/div&gt;';\n?&gt;\n</code></pre>\n\n<p>here is the css</p>\n\n<p>calCss.css</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n</code></pre>\n\n<p>Can anyone see anything? any help would be great, what errors do i need to show in the google developer tools?</p>\n"},{"tags":["javascript","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":120,"score":0,"question_id":6730923,"title":"Displaying an HTML popup using AJAX","body":"<p>I'm trying to make an HTML page that displays another html file in an alert; but it's not displaying when the triggering button is pressed.</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script&gt;\n\n        var xmlhttp=new XMLHttpRequest();\n\n        function pop() {\n            xmlhttp.open(\"GET\",\"content.html\",true);\n            xmlhttp.send();\n            xmlhttp.onreadystatechange=function() {\n                if(xmlhttp.readystate==4&amp;&amp;xmlhttp.status==200) {\n                    alert(xmlhttp.responseText);\n                }\n            }\n        }\n\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;input type=\"button\" name=\"test\" value=\"push\" onclick=\"pop()\"&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is the content of content.html</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        Hi!\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["ajax","file-upload","dojo","uploader"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13200051,"title":"Using Dojo Uploader with AJAX on select","body":"<p>I want to create a Dojo Uploader button.</p>\n\n<p>When the user finishes selecting a file, I want to upload the file to the server immediately (don't wait for a submit click).</p>\n\n<p>Here's my code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nrequire([\"dojo/parser\", \"dojox/form/Uploader\", \"dojox/form/uploader/plugins/IFrame\", \"dojox/form/uploader/FileList\", \"dojo/domReady!\"],\n   function(parser) {\n      parser.parse();\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>In the body of the HTML doc:</p>\n\n<pre><code>&lt;input name=\"restoreFile\" multiple=\"false\" type=\"file\" id=\"restoreBtn\"\n       data-dojo-type=\"dojox/form/Uploader\"\n       data-dojo-props='label: \"Upload\", \n                        url: \"&lt;s:url action=\"restore-backup\" /&gt;\", \n                        uploadOnSelect: \"true\"' /&gt;\n&lt;div id=\"fileList\" data-dojo-type=\"dojox/form/uploader/FileList\" \n     data-dojo-props='uploaderId: \"restoreBtn\"'&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I tried putting both of these tags into a form tag, but there was no change in behavior.</p>\n\n<p>When I click on the uploader, I see the file picker. \nWhen I select the file and click \"Open,\" the FileList shows the selected file, but nothing is sent to the server.</p>\n\n<p>I tried requiring all three of the uploader plugins, HTML5 (isn't supported in IE, but doesn't work as desired in Chrome either), IFrame, and Flash.</p>\n\n<p>An I misunderstanding how uploadOnSelect is supposed to work? Why is the uploader not uploading the file after it is selected?</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13261528,"title":"Why can't I send an array of data in jQuery ajax/post?","body":"<p>I have this JavaScript source:</p>\n\n<pre><code>var mydata = [];\n\n$('.myManyElements').each(function() {\n    mydata.push({\n        'id': $(this).data('id'),\n        'quantity': $(this).data('quantity'),\n        'price': $(this).data('price'),\n        'price_total': Order.getTotalPrice()\n    });\n});\n\n$.post('/archive', mydata, function(data) {\n    if(data.success) {\n        alert(data.response);\n    } else {\n        alert('Custom Error Report!');\n    }\n}, 'json');\n</code></pre>\n\n<p>And in my <code>/archive</code> request I have this sample PHP:</p>\n\n<pre><code>echo json_encode(array(\n    'success' =&gt; true,\n    'response' =&gt; print_r($_POST, true),\n));\n</code></pre>\n\n<p>When I check Firebug's NET panel for XHR, in the POST tab it says that I've sent this:</p>\n\n<pre><code>undefined=\n</code></pre>\n\n<p>When I get my response in my <code>alert</code> it outputs:</p>\n\n<pre><code>Array\n(\n    [undefined] =&gt; \n)\n</code></pre>\n\n<hr />\n\n<p><strong>Why can't I send an array of data for my POST request?</strong></p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":42,"score":-3,"question_id":13261398,"title":"How do I to redirect after form submission in PHP?","body":"<p>On my site, there is a mailing list form in a box. After the user enters their name &amp; email address, I want to change <em>JUST that box</em>, not the entire page, into a <code>div</code> the same size displaying a thank you message. Like an iFrame form redirect?</p>\n"},{"tags":["javascript","jquery","python","ajax","flask"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13261028,"title":"Have data automatically pushed to website? (Python/Flask + WSIG + jquery AJAX)","body":"<p>Can I have a value automatically pushed onto a website (using AJAX = JQuery?), when something is done on the server side and python is ready to send it, rather than just in a response to a request by the website.</p>\n\n<p>How do I make Jquery ready to accept this adhoc data?</p>\n\n<p>Tutorial I'm learning from:\n<a href=\"http://flask.pocoo.org/docs/patterns/jquery/#the-html\" rel=\"nofollow\">http://flask.pocoo.org/docs/patterns/jquery/#the-html</a></p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13261501,"title":"Cross-Domain AJAX workarounds without jQuery","body":"<p>I have custom AJAX code on a blog page that I set up to access my PHP files on my own domain, but oh no! I can't do that.</p>\n\n<p>I would use jQuery to work around this, but can't, because I cannot upload the apparently neccessary jQuery.js to the website, as it is not mine.</p>\n\n<p>Is there a way to access PHP requests by modifying HTML <b>only</b> on a page?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13261131,"title":"jQuery AJAX url can't be found","body":"<p>I am trying to have a form add a comment to the database with ajax. The problem I am having is that ajax cannot find the url because of how my current url is structured</p>\n\n<pre><code>url.com/thread/id\n</code></pre>\n\n<p>I am trying to have the ajax request sent to</p>\n\n<pre><code>url.com/ajax_comment\n</code></pre>\n\n<p>If I enter the whole URL it works correctly. However I need to avoid doing so as this script will be installable on multiple domains. So how can I accomplish this without hard coding the url in?</p>\n\n<p>Is there a structure in javascript, similar to PHP where you can do <code>include('./folder/file.php');</code> or there is another method to accomplish this?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13260879,"title":"How to solve this double ajax calls issue","body":"<p>I am trying to do 2 ajax function calls when a user clicks a button.</p>\n\n<p>I have</p>\n\n<pre><code>$('.test').on('click', function(){\n\n    code.getCode();\n        code.getText();\n})\n\ncode.prototype.getCode=function(){\n     var call=//call ajax\n     call.callback= function(data){\n          //parse return data\n    }\n}\n\n\ncode.prototype.getText=function(){\n     var call=//call ajax\n     call.callback= function(data){\n          //parse return data\n    }\n}\n</code></pre>\n\n<p>I can only do 1 ajax call and only 1 ajax call will return data. \nI am not sure how to solve this. Any ideas? Thanks a lot!</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13260956,"title":"Rewriting included div from another included div","body":"<p>I have a code sniplet edited from a tutorial, for rewriting a div from a file.\nThe file using this code is in a separate php document,\nand I use <code>include</code> to show it in the main document.\n(Reason for that is that's I'm rewriting part in it with php code, so it needs to refresh).</p>\n\n<pre><code>$(document).ready(function() {\n    $('#pl').click(function(){  \n        var toLoad = $(this).attr('href');\n        $('#pfun').hide('slow',loadContent);\n        $('#load').remove();\n        $('#dplay').append('&lt;span id=\"load\"&gt;&lt;/span&gt;');\n        $('#load').fadeIn('normal');\n        function loadContent() {$('#dplay').load(toLoad,'',showNewContent())}\n        function showNewContent() {$('#pfun').show('slow',hideLoader());}\n        function hideLoader() {$('#load').fadeOut('normal');}\n        return false;\n    });\n});\n</code></pre>\n\n<p>Everything works ok, but I can't figure out how to do something new:\nI have 2 divs (this included) both on the same page, which I want to rewrite to from documents. I'm trying to use the other one as an IFrame of sorts.\n(There's a reason I'm not using an IFRAME)</p>\n\n<p>What I need to know, is where can I add to/change this,\nto target another DIV named \"display\"?\nI'm still learning JS, so don't know many functions, like when/where to do .parent.\nso I am going to need an example, please.</p>\n\n<p>Also, when I use chgdir() in php, to change the root to a subdirectory, it shows the new correctly when I echo getcwd. However, all the links on the page still link to and show images from the starting directory. Any ideas why it would successfully echo the new dir, but not change where the links point to, and where the images load from?</p>\n\n<p>Reminder: These functions are called from <code>include</code>d divs.</p>\n\n<p>Thanks for any insight on either of these!</p>\n"},{"tags":["ajax","wordpress","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":273,"score":0,"question_id":9365385,"title":"Unable to get_the_content(); of a post in Wordpress via AJAX","body":"<p>I'm trying to ajaxify my Wordpress theme and I use the <a href=\"http://web-profile.com.ua/wordpress/dev/ajax-in-wordpress/\" rel=\"nofollow\">ajax-in-WordPress method</a> described <a href=\"http://web-profile.com.ua/wordpress/dev/ajax-in-wordpress/\" rel=\"nofollow\">here</a> and I'm now trying get_the_content of post via functions.php. Using jQuery, when I do alert(data) I get the 'title' echo but not the content of the existing post I want (returns 0).</p>\n\n<p>What am I doing wrong?</p>\n\n<p>The jQuery part</p>\n\n<pre><code>$('.ajaxed,.ajaxed a,.menu-item-home a,.menu-item-object-page a').live('click', function(event) {\n        event.preventDefault();\n        var link = $(this).attr('href');\n        var toRemove = MySettings.url;\n        var rewritepath = link.replace(toRemove,'');\n        var handler = function(data) {\n            $('title').html($('title', data).html());\n            $('#primary').html($('#primary', data).html());\n            $('#primary').hide().fadeIn('slow');\n            $.address.title(/&gt;([^&lt;]*)&lt;\\/title/.exec(data)[1]);\n        };\n        $.post(ajax_object.ajaxurl, {\n            action: 'ajax_action',\n            post_id: $(this).find('input.post_id').attr('value')\n        },function(data) {\n            alert(data.post_title);\n            alert(data.post_content);\n        });\n        /*$.ajax({\n            url: link,\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                handler(XMLHttpRequest.responseText);\n            },\n            success: function(data, textStatus, XMLHttpRequest) {\n                handler(data, function(){\n                });\n            }\n        });*/\n        $.address.state(MySettings.path).crawlable(true).value(rewritepath);\n        return false;\n    });\n</code></pre>\n\n<p>The functions.php part</p>\n\n<pre><code>&lt;?php\nfunction javascripts() {\n    if( !is_admin()){\n        $blogurl = get_bloginfo('url');\n        $thumbnail_width = get_option('thumbnail_size_w');\n        $thumbnail_height = get_option('thumbnail_size_h');\n        $path = parse_url(get_bloginfo('siteurl'), PHP_URL_PATH);\n        $url = 'http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js';\n        wp_deregister_script('jquery');\n        if (get_transient('google_jquery') == true) {       \n            wp_register_script('jquery', $url, array(), null, true);\n        } \n        else {\n            $resp = wp_remote_head($url);\n            if (!is_wp_error($resp) &amp;&amp; 200 == $resp['response']['code']) {\n                set_transient('google_jquery', true, 60 * 5);\n                wp_register_script('jquery', $url, array(), null, true);\n            } \n            else {\n                set_transient('google_jquery', false, 60 * 5);\n                $url = get_bloginfo('wpurl') . '/wp-includes/js/jquery/jquery.js';\n                wp_register_script('jquery', $url, array(), '1.7', true);\n            }\n        }\n        wp_enqueue_script('plugins.js', get_bloginfo('template_directory') . \"/js/plugins.js\" , array('jquery'));\n        wp_enqueue_script('ajax-script', get_bloginfo('template_directory') . \"/js/scripts.js\", array('jquery'));\n        wp_localize_script('ajax-script', 'ajax_object', array('ajaxurl' =&gt; admin_url( 'admin-ajax.php' )));\n        wp_localize_script('jquery', 'MySettings', array('width' =&gt; $thumbnail_width,'height' =&gt; $thumbnail_height,'url' =&gt; $blogurl,'path' =&gt; $path));\n    }\n}\nadd_action('wp_enqueue_scripts', 'javascripts');\nadd_action('wp_ajax_ajax_action', 'ajax_action_stuff'); // ajax for logged in users\nadd_action('wp_ajax_nopriv_ajax_action', 'ajax_action_stuff'); // ajax for not logged in users\nfunction ajax_action_stuff() {\n    $post_id = $_POST['post_id'];\n    update_post_meta($post_id, 'post_key', 'meta_value'); //not sure why you need this\n    $post_data = get_post($post_id);\n    echo json_encode($post_data);\n}\n?&gt;\n</code></pre>\n\n<p>What am I doing wrong? Thanks</p>\n"},{"tags":["jquery","ruby-on-rails","ajax","ruby-on-rails-3","jquery-ui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13241709,"title":"jQuery-UI Autocomplete Widget not binding to ajax loaded partial form in Rails","body":"<p>I have a form with a text field that uses jQuery-UI autocomplete widget. \nI'm loading this form as a partial using AJAX with Ruby on Rails <code>&lt;li id=\"activity_&lt;%= activity.id %&gt;\"&gt;&lt;%= link_to activity.address, edit_activity_path(activity), :remote =&gt; true  %&gt;&lt;/li&gt;</code> </p>\n\n<p>Since the form is being loaded after document.ready, the autocomplete jQuery widget is not binding to the DOM element.</p>\n\n<p>Since this isn't a jQuery AJAX call, I don't think that there is a success callback that I can use to bind the autocomplete widget with after the Ajax call. </p>\n\n<p>I'm not sure how to use the .on() function that I've seen around with the autocomplete Widget since the syntax is $('selector').autocomplete</p>\n\n<p>Can someone please help?</p>\n\n<p>This is the edit.js.erb file:</p>\n\n<pre><code>$(\"#activity_form\").html(\"&lt;%= escape_javascript(render(:partial =&gt; \"form\"))%&gt;\");\n</code></pre>\n\n<p>This is my jQuery code to bind the autocomplete widget to my text field.</p>\n\n<pre><code>jQuery -&gt;       \n$('[type=\"text\"][name*=\"[geocode_location]\"]').autocomplete\n  source: (request, response) -&gt;\n    $.ajax \n      url: \"http://ws.geonames.org/searchJSON\"\n      dataType: \"jsonp\"\n      data: \n        featureClass: \"P\"\n        style: \"full\"\n        maxRows: 12\n        name_startsWith: request.term\n\n      success: (data) -&gt;\n        response $.map(data.geonames, (item) -&gt;\n          label: item.name + ((if item.adminName1 then \", \" + item.adminName1 else \"\")) + \", \" + item.countryName\n          value: item.lat + \", \" + item.lng\n        )\n  minLength: 2\n\n  open: -&gt;\n    $(this).removeClass(\"ui-corner-all\").addClass \"ui-corner-top\"\n\n  close: -&gt;\n    $(this).removeClass(\"ui-corner-top\").addClass \"ui-corner-all\"\n  focus: (event, ui) -&gt;\n    event.preventDefault()\n    $(this).val ui.item.label      \n  select: (event, ui) -&gt;\n    event.preventDefault()\n    $(this).val ui.item.label\n    $(this).siblings('[name*=\"[geocode_ll]\"]').val ui.item.value\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","web","webserver"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":51,"score":3,"question_id":13260070,"title":"Read file on same server line by line using JavaScript/AJAX/jQuery?","body":"<p>I'm experimenting with dynamic(ish) server less sites, (no database, serversided languages, etc.) which is why I am hoping to only use JavaScript/AJAX/jQuery. I want to be able to serve a dynamic(ish) webpage with static files.</p>\n\n<p>One solution I came up with is to essentially use text files(json, xml) on the same server as the webpage to serve as a datastore. \nBut I could only find ways to load the entire file rather than specific parts of it. Which isn't really a big problem since the text files are small, however the text files could potentially grow to be large.</p>\n\n<p>If you could load the file line by line, the payload to the client would be faster, and the JavaScript parsing would be sped up significantly.</p>\n\n<p>If I am only interested in fresh data, I was hoping I could prepend the data to the top of the file when populating the file and read it in line by line (since I would only be interested in say 10 lines per page). Also access to the middle of a file would be incredibly useful. </p>\n\n<p>I just want to avoid having to send the entire file to a client(not for security but for space/time efficiency).</p>\n\n<p>Is there any way to do this in JavaScript? Or am I missing an obvious solution?</p>\n"},{"tags":["javascript",".net","ajax","div"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13260107,"title":"Change 2 Divs Content via Ajax/XML","body":"<p>I'm making an employee directory page for a website. The page will have about 2 dozen thumbnail photos of employees, and when clicked, 2 divs below the thumbs will change to show a larger photo, and the bio of the employee. I was told to look into using AJAX for this, since I don't want the page to refresh/change from one employee to another. The site is being built in .net using C#, and as of now, we haven't used JQuery or Mootools on this site, so we'd be open to using either one.</p>\n\n<p>So here's a snippet of my XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;employees&gt;\n    &lt;employee_01&gt;\n        &lt;name&gt;Employee J. Name&lt;/name&gt;\n        &lt;title&gt;Big Cheese&lt;/title&gt;\n        &lt;email&gt;email@email.com&lt;/email&gt;\n        &lt;phone&gt;(555) 333-4444&lt;/phone&gt;\n        &lt;bio&gt;&lt;p&gt;This is paragraph one of the bio. This could be several sentences long.&lt;/p&gt;\n\n&lt;p&gt;This is paragraph 2 for this bio. It may or may not be as long as the first one.&lt;/p&gt;&lt;/bio&gt;\n        &lt;photo_url&gt;employee_photo01.jpg&lt;/photo_url&gt;\n    &lt;/employee_01&gt;\n    &lt;employee_02&gt;\n        &lt;name&gt;&lt;/name&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;email&gt;&lt;/email&gt;\n        &lt;phone&gt;&lt;/phone&gt;\n        &lt;bio&gt;&lt;/bio&gt;\n        &lt;photo_url&gt;&lt;/photo_url&gt;\n    &lt;/employee_02&gt;\n&lt;/employees&gt;\n</code></pre>\n\n<p>Here is the Div structure that needs to be replaced with the xml data.</p>\n\n<pre><code> &lt;div id=\"employee_bio_container\"&gt;\n    &lt;div id=\"employee_photo\"&gt;&lt;img src=\"images/employee_photo01.jpg\" alt=\"Employee Name\" /&gt;&lt;/div&gt;\n    &lt;div id=\"employee_bio\"&gt;\n        &lt;h1&gt;Name&lt;/h1&gt;\n        &lt;h5&gt;title&lt;/h5&gt;\n        &lt;h5&gt;&lt;a href=\"mailto:email\"&gt;email&lt;/a&gt;&lt;br /&gt;\n        phone goes here&lt;/h5&gt;\n        &lt;hr /&gt;\n&lt;p&gt;This is the bio that will be replaced&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>So I need to change the src for the image in the \"employee_photo\" div, along with the alt text for it, and display the name, title, email address, phone, and bio in the \"employee_bio\" div, along with changing the URL of the mailto link.</p>\n\n<p>I've never touched AJAX before, and I'm having a hard time making sense of the tutorials I've found so far. Any tips or directions to point me?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":93,"score":-2,"question_id":13260102,"title":"$.get() Javascript","body":"<p>its my first try to do something with jquery/Ajax/php/webtech and I'm really stuck.</p>\n\n<p>I'm trying to  use a get() Jquery to execute a php script to do some sql things. I need to pass two variables to the php file. This isn't working, and I can't find the problem..</p>\n\n<pre><code>&lt;body&gt;\n&lt;script&gt;\nfunction addBeer (name,price)\n{\n$.get(\"beer.php\", { n: name, p:price });\nwindow.alert(link);\n} \n&lt;/script&gt;\n&lt;h1&gt;OG297 BIERLIJST&lt;/h1&gt;\n&lt;?php\n$price = 0.30;\n$con = mysql_connect('localhost', 'root', 'root');\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"Og297.Drinkers\", $con);\n\n$result = mysql_query(\"SELECT * FROM Og297.Drinkers\");\n\n\nwhile($row = mysql_fetch_array($result)){\n$picture = $row['Picture'];\n$name = $row['Name'];\necho \"&lt;div onclick= \\\"addBeer('$name','$price')\\\" class= 'thumbnail'&gt;&lt;img src= $picture                   height= '90' width= '90' alt= $name title= $name&gt;&lt;div class= 'overlay'&gt;&lt;/div&gt;&lt;/div&gt;\";}\n\nmysql_close($con);\n?&gt;\n</code></pre>\n\n<p>\nThe function that uses the $.get is addBeer and is called in the div.</p>\n\n<p>This is my php file:</p>\n\n<pre><code>&lt;?php\n\n   $name = $_GET[\"n\"];\n   $price =$_GET[\"p\"];\n$con = mysql_connect('localhost', 'root', 'root');\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"Og297.Bierlijst\", $con);\nmysql_query(\"INSERT INTO  `Og297`.`Bierlijst` (\n`Id` ,\n`Name` ,\n`Prijs` ,\n`Betaald` ,\n`Time`\n)\nVALUES (\nNULL ,  '$name',  '$price',  '0', \nCURRENT_TIMESTAMP\n);\");\nmysql_close($con);\n\n\n?&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":[".net","ajax","modalpopupextender","asyncfileupload"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":6335,"score":2,"question_id":1812251,"title":"how to clear the textbox value of asyncfileupload ..?","body":"<p>There is one button(MyButton).\nOnClick of this button a modalpopup(MyPopup) appears with one asyncfileupload ajax control, Ok button and Cancel button.</p>\n\n<p>The browse functionality of the asyncfileupload functionality is working fine, No problem.\nBut after postback, if I click the MyButton again, the popup appearing with the previous path in the asyncfileupload control's textbox.</p>\n\n<p>How to clear it ... !</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","javascript","jquery","ajax","jqgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13259003,"title":"jqGrid local data within ajax","body":"<p>Hello stackoverflow nation !\nI've such a snag. Trying to pass in jqGrid array data which is retrieved within ajax, but it doesn't work. lets take a look at script =></p>\n\n<pre><code>$(function(){ // this script works just fine (of course this array and jqGrid initialization script is in the same file)\nvar arr = [\n    {a:\"a\",b:\"b\"},\n    {a:\"c\",b:\"d\"}\n];\n$(\"#_tb\").jqGrid({\n    datatype: \"local\",\n    data: arr,\n    colNames: [\"ONE\",\"Two\"],\n    colModel: [\n        {name:\"a\",index:\"a\",align:\"center\"},\n    {name:\"b\",index:\"b\",align:\"center\"}\n    ],\n    pager: $(\"#_pager\"),\n    height: \"auto\"\n});\n});\n</code></pre>\n\n<p>here is my problem =></p>\n\n<pre><code>$.ajax({\n    url: \"../info.php\",\n    type: \"get\",\n    data: {},\n    success: function(r){\n        $(\"#_tb\").jqGrid({\n        datatype: \"local\",\n        data: r,\n        colNames: [\"ONE\",\"Two\"],\n        colModel: [\n            {name:\"a\",index:\"a\",align:\"center\"},\n            {name:\"b\",index:\"b\",align:\"center\"}\n        ],\n        pager: $(\"#_pager\"),\n        height: \"auto\"\n        });\n    }\n    });\n</code></pre>\n\n<p>this script doesn't work , but data is successfully retrieved within ajax into json format.\nhere is <code>info.php</code> script by the way too</p>\n\n<pre><code>// using PDO for connection\nforeach($con-&gt;query(\"SELECT * FROM tb\") as $row){\n    $info[] = array(\n        \"a\" =&gt; $row[\"a\"],\n        \"b\" =&gt; $row[\"b\"]\n    );\n}\necho json_encode($info);\n</code></pre>\n\n<p>PS. In my opinion my problem is connected to <strong>datatype</strong> , but can't made up my mind how to solve that despite of searching examples like that . \nAlso remarkable is that I want datatype to be local , because of searching and filtering data in jqGrid without any SQL where statements.\nWith any advice I'll be pleased , thanks :)</p>\n"},{"tags":["c#","javascript","ajax","mvc","web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13259774,"title":"How can I debug a 500 Internal Server Error when calling a WebApi from ajax?","body":"<p>I am receiving a 500 Internal Server Error in a MVC 4.5 WebApi project.  I can successfully call my webservice with a GET and a GET with an Id.  But, when I POST a file I am getting the error.  I can set a breakpoint in <code>Application_BeginRequest()</code> and confirm that I am receiving first an OPTIONS request and then the POST.  The method in the controller is not getting called and I have added an <code>Application_Error()</code> method to Global.asax.cs that does not get hit either.  The html page is doing a CORS but I have already handled that using <a href=\"http://nuget.org/packages/Thinktecture.IdentityModel\" rel=\"nofollow\">ThinkTecture.IdentityModel</a>.  I am following the code <a href=\"http://stackoverflow.com/questions/5392344/sending-multipart-formdata-with-jquery-ajax\">here</a> for the file upload.</p>\n\n<p>Any ideas?</p>\n\n<p>Here is the client code:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        var UploadDocument = function () {\n            var url = sessionStorage.getItem(\"url\");\n            var auth = sessionStorage.getItem(\"auth\");\n            var data = new FormData();\n\n            jQuery.each($('#fileToUpload')[0].files, function (i, file) {\n                data.append('file-' + i, file);\n            });\n\n            jQuery.support.cors = true;\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                data: data,\n                cache: false,\n                processData: false,\n                contentType: false,\n                //dataType: \"json\",\n                headers: { Authorization: 'Basic ' + auth },\n                crossDomain: true,\n                success: function (data, textStatus, jqXHR) {\n                    alert('Success');\n                },\n                error: function (jqXHR, textStatus, errorThrown) { alert('Error: ' + textStatus + ' ' + errorThrown.message); }\n            });\n        };\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>My controller code looks like this:</p>\n\n<pre><code>    public int Post(HttpPostedFileBase FileToUpload)\n    {\n        // Do stuff with the file\n    }\n</code></pre>\n\n<p>The request and response look like this:</p>\n\n<pre><code>Request URL:http://localhost:51234/api/TaxDocument\nRequest Method:POST\nStatus Code:500 Internal Server Error\n\nRequest Headers\nAccept:*/*\nAccept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nAuthorization:Basic YmNhbGxlbjpuZWxsYWM=\nConnection:keep-alive\nContent-Length:2054044\nContent-Type:multipart/form-data; boundary=----WebKitFormBoundaryIGzPKhvRVwFXbupu\nHost:localhost:51234\nOrigin:http://localhost:52386\nReferer:http://localhost:52386/Upload.html\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4\n\nResponse Headers:\nAccess-Control-Allow-Credentials:true\nAccess-Control-Allow-Origin:http://localhost:52386\nCache-Control:no-cache\nContent-Length:1133\nContent-Type:application/json; charset=utf-8\nDate:Tue, 06 Nov 2012 21:10:23 GMT\nExpires:-1\nPragma:no-cache\nServer:Microsoft-IIS/8.0\nX-AspNet-Version:4.0.30319\nX-Powered-By:ASP.NET\nX-SourceFiles:=?UTF-8?B?QzpccHJvamVjdHNcU2F2ZU15VzJcU2F2ZU15VzIuV2Vic2VydmljZVxhcGlcVGF4RG9jdW1lbnQ=?=\n</code></pre>\n"},{"tags":["jquery","ajax","variables","send"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13259271,"title":"Ajax doesn't send variable","body":"<p>I have trouble with Ajax. It doesn't send variable \"xxx\" to file id.php. Code:</p>\n\n<pre><code>var xxx;\n$.ajax({\n    url: \"id.php\",\n    success: function(result1) {\n        xxx = result1;\n    }\n});\n\n$.ajax({\n    url: \"check.php\", \n    data: \"ids=\"+xxx,\n    type: \"post\",\n    success: function (result) {\n        .........\n        .........\n    }\n});\n</code></pre>\n\n<p>Why it doesn't work?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":57,"score":-5,"question_id":13259157,"title":"Check if email exists via jquery/ajax","body":"<p>I have the following code that works perfect for adding an entry to my database. however, 2 issues.</p>\n\n<p>I'm new to sending things via ajax and i have a pretty good understanding of php, so i know the traditional way of checking etc. I just dont know how to incorporate the email check into my ajax code. Code is below:</p>\n\n<pre><code>$(document).ready(function(){\n$(\"#RegisterInterest\").submit(function(e) {\n    $.ajax({\n        type: \"POST\",\n        url: \"registerinterest.php\",\n        data: $(e.target).serialize(),\n        dataType: \"json\",\n        error: function(jqXHR, textStatus, errorThrown){\n            $('#FormHolder').fadeOut();\n            $('#FormFail').fadeIn();\n            //$('#error-output').html(errorThrown);\n        },\n        success: function(data){\n            $('#FormHolder').fadeOut();\n            $('#FormSuccess').fadeIn();\n            //$('#success-output').html(data);\n        }\n    });\n    return false;\n});\n});\n</code></pre>\n\n<p>Like i say, it inserts data fine. I just need to make it check for an empty field and throw up and error and not insert to database, and the same when the email already exists</p>\n"},{"tags":["php","ajax","path"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13247553,"title":"Path issue with autoload function to get files for use in Ajax","body":"<p>So my project uses an MVC framework and I have a page with an Ajax script I run to get content from the server.  When the PHP script is called in the Ajax script, I want to access the classes already in my library for use in the PHP script.  To do this, I use what I call an ajaxBootstrap to call the appropriate function that then instantiates the objects needed for that specific Ajax script.</p>\n\n<p>To load those classes from my library I have an autoload function in my ajaxBootstrap so I don't need to use a bunch of require and include statements.  My problem is those files aren't being loaded due to a path issue with the autoload function.  When I use a require statement with the same path, the classes load with no problems, its only when I try to load them using the autoload function that I get an 500 internal server error.</p>\n\n<p>Here is my ajaxBootstrap file:</p>\n\n<pre><code>// This file routes Ajax requests made in JS files and instantiates a specific object to carry out the actions needed for that particular Ajax operation \n\n// Autoload any classes that are required\nfunction autoLoad($classToLoad)\n{\n    if(file_exists('../library/' . $classToLoad . 'class.php')) // File in the library folder\n    {\n        require('../library/' . $classToLoad . '.class.php');\n   }\n    else if(file_exists('../../app/models/' . $classToLoad . 'class.php')) // File in the models folder\n    {\n        require('../../app/models/' . $classToLoad . '.class.php');\n    }\n}\n\nspl_autoload_register('autoLoad');\n\n// Determine which fucntion to call based on the url that's listed in the Ajax request\nswitch($_GET['action'])\n{\n    case 'pageOne':\n        pageOne();\n        break;\n    case 'pageTwo':\n        pageTwo();\n        break;\n}\n\nfunction pageOne()\n{\n    $test = new Test();\n    $test-&gt;funcThatReturnStuff();\n}\n\nfunction pageTwo()\n{\n    $test2 = new Test2();\n    $test2-&gt;funcThatReturnStuff();\n}\n</code></pre>\n\n<p>Like I mentioned eariler, if I use a require statement such as:</p>\n\n<pre><code>require('../library/Test.class.php');\n$test = new Test();\n$test-&gt;funcThatReturnStuff();\n</code></pre>\n\n<p>The class loads and works just fine.  But using the same path in the autoloader function throws an error.  The really odd thing is if I put an else if statement in the autoloader that loads a class from the folder where my ajaxBootstrap is it also works fine too...</p>\n\n<p>I know I could just use the require statements and be done with the problem but I want to be able to scale the project and not need to use loads of require statements in the future.  BTW, I use '../' to get from where my ajaxBootstrap file is to my other folders.</p>\n\n<p>Also, to add to my previous post, I've tried replacing the <code>../</code> with absolute paths using <code>define('ROOT', dirname(__FILE__) . '/')</code> and also <code>define('ROOT', $_SERVER['DOCUMENT_ROOT'] . '/path/to/folder/')</code> neither of which worked and still gave me the internal server error in Firebug.  In addition, I haven't received any errors in my error log either.</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["php","ajax","facebook","application","chat"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":39,"score":-5,"question_id":13258548,"title":"Needed my chat application to work like Facebook chat","body":"<p>I am working on chat application project using php+ajax. Its working fine but when i post  a message it takes more than 5-8 seconds for ajax to display even thought the ajax is refreshed for every 1 sec, but while comparing to facebook chat app user message will be posted immediately and seen on chat window. How is that done?  are they calling from database or its just temp message from jquery? </p>\n"},{"tags":["jquery","ajax","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13249208,"title":"Can't figure out how to get response from symfomy2 my controller in ajax","body":"<p>I've implemented a signin form that submits its values through ajax successfuly. When values match one of the database ones everything is setup and naturally when values don't match the user is not connected.</p>\n\n<p>The thing is, i am always getting a 200 status as a response from my controller and i can't tell if the process went right or wrong. </p>\n\n<p>I know php always returns 200 status when everything technically went right but how can i set and get the correct values from my controller i can read in my javascript code and be able to tell if things went ok or not?</p>\n\n<p>Here is some parts of my code :</p>\n\n<p>//Controller</p>\n\n<pre><code>[...]\nif ($logForm -&gt; isValid()) {\n            //Check user infos in database\n            [...]\n\n            if ( ! $user) {\n                //We set an error\n                $resp = array('responseCode' =&gt; 400, \"message\" =&gt; \"Bad authentification\");\n            } else {\n\n                $resp = array('responseCode' =&gt; 200, \"message\" =&gt; \"Good authentification\");\n            }\n\n            $resp = json_encode($resp);\n            return new Response($resp, 200, array('Content-Type'=&gt;'application/json'));\n        }\n[...]\n</code></pre>\n\n<p>//jQuery</p>\n\n<pre><code>$('#signInForm').submit(function(e) {\n    e.preventDefault();\n    var form = $(this).closest('form');\n    //console.log(form);\n\n    if(form) {\n        $.ajax({\n            type: \"POST\",\n            url: Routing.generate('ajax_sign_in'),\n            data: form.serialize(),\n            cache: false,\n            statusCode: {\n                200: function(v) {\n                    console.log(\"Success\");\n                },\n                400: function(e) {\n                    console.log(\"Error\");\n                }\n            },\n            dataType: 'json',\n        });\n    } else {\n        alert(\"Error submitting form\");\n    }\n})\n</code></pre>\n\n<p>Many thanks for the help!</p>\n"},{"tags":["php","css","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13258521,"title":"ajax post Calendar Controls in php. The css does not display","body":"<p>I am trying to make a calender in php, i have done the first part and have the layout and information, i am trying to add a previous and next month now and the css has gone for some reason. I am following a tutorial - <a href=\"http://www.youtube.com/watch?v=0v39T-9_cFM&amp;feature=plcp\" rel=\"nofollow\">http://www.youtube.com/watch?v=0v39T-9_cFM&amp;feature=plcp</a></p>\n\n<p>The only information that shows is the previous and next month button and the current month. I have all three files in the htdocs folder of xampp. I dunno whats wrong :(</p>\n\n<p>here is the file to view everything</p>\n\n<p>show_calendar.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showCalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>calendar_start.php</p>\n\n<pre><code>&lt;?php\n$showmonth = $_POST['showmonth'];\n$showyear = $_POST['showyear'];\n$showmonth = preg_replace('#[^0-9]#i', '', $showmonth);\n$showyear = preg_replace('#[^0-9]#i', '', $showyear);\n\n$day_count = cal_days_in_month(CAL_GREGORIAN, $showmonth, $showyear);\n$pre_days = date('w', mktime(0,0,0, $showmonth, 1, $showyear));\n$post_days = (6 - (date('w', mktime(0,0,0, $showmonth, $day_count,$showyear))));\n\necho '&lt;div id=\"calendar_wrap\"&gt;';\necho '&lt;div class=\"title_bar\"&gt;';\necho '&lt;div class=\"previous_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Previous Month\" onClick=\"javascript:last_month();\"&gt;&lt;/div';\necho '&lt;div class=\"show_month\"&gt;' . $showmonth . '/' . $showyear . '&lt;/div&gt;';\necho '&lt;div class=\"next_month\"&gt;&lt;input name=\"myBtn\" type=\"submit\" \nvalue=\"Next Month\" onClick=\"javascript:next_month();\"&gt;&lt;/div';\necho '&lt;/div&gt;';\necho '&lt;div class=\"week_days\"&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Mon&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Tue&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Wed&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Thur&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Fri&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sat&lt;/div&gt;';\necho '&lt;div class=\"days_of_the_week\"&gt;Sun&lt;/div&gt;';\necho '&lt;div class=\"clear\"&gt;&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n/* Previous Month Filler Days */\nif ($pre_days != 0) {\nfor($i = 1 ; $i&lt;=$pre_days;$i++) {\necho '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\n\n/* Current Month */\nfor($i=1; $i&lt;= $day_count; $i++) {\necho '&lt;div class=\"cal_day\"&gt;';\necho '&lt;div class=\"day_heading\"&gt;' . $i . '&lt;/div&gt;';\necho '&lt;/div&gt;';\n\n}\n/* Next Month Filler Days */\nif ($post_days != 0) {\nfor ($i=1; $i&lt;=$post_days; $i++) {\n echo '&lt;div class=\"non_cal_day\"&gt;&lt;/div&gt;';\n}\n}\necho '&lt;/div&gt;';\n?&gt;\n</code></pre>\n\n<p>here is the css</p>\n\n<p>calCss.css</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n</code></pre>\n\n<p>Can anyone see anything? any help would be great</p>\n"},{"tags":["javascript","ajax","javascript-events"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13254684,"title":"Multiple calls to ajax script not working","body":"<p>OK so I am very new (literally less than a few days) to all things ajax, but it is required for a form I am building for my employer.</p>\n\n<p>Basically, no matter what I do it just will not work for more than 1 function. To elaborate, I am trying to update 4 different parts of a page based on one drop down using \"onchange\". Now updating 1 part works fine, updating any more than that fails...but not only fails, it also fails if for example I do call to ajax part, then just a simple alert...but if I do it with the alert first it works, then falls over again if I put anything after the ajax call. I hope that makes sense. It also works if I do, for example. onchange, and onblur on the same element, it will execute twice. I'll post the code then hopefully it will make more sense instead of me babbling lol.</p>\n\n<pre><code>&lt;select name=\"pType\" id=\"ptype\" onchange=\"dostuff()\"&gt;\n</code></pre>\n\n<p>So that's the input element...</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction dostuff(){\najaxpage('adminincludes/popoptions.php?pID=&lt;?= $sql['pID']; ?&gt;&amp;pType=' + ptype.value,'options');\nalert('test');\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>...and thats the dostuff code, or an example anyway, ignore the php part as it fails regardless of that, that part works fine.</p>\n\n<p>now the rest of the code is within an external file and i believe that somewhere in there is where the problem lies...however I am new to ajax, and am not the greatest with js as I have never really had a major need for it so just learned what I needed, when i needed.</p>\n\n<pre><code>    var bustcachevar = 1 //bust potential caching of external pages after initial request? (1=yes, 0=no)\nvar loadedobjects = \"\"\nvar rootdomain = \"http://\" + window.location.hostname\nvar bustcacheparameter = \"\"\n\nfunction ajaxpage(url, containerid) {\n    var page_request = false\n    if (window.XMLHttpRequest) // if Mozilla, Safari etc\n    page_request = new XMLHttpRequest()\n    else if (window.ActiveXObject) { // if IE\n        try {\n            page_request = new ActiveXObject(\"Msxml2.XMLHTTP\")\n        } catch (e) {\n            try {\n                page_request = new ActiveXObject(\"Microsoft.XMLHTTP\")\n            } catch (e) {}\n        }\n    } else\n    return false\n    page_request.onreadystatechange = function () {\n        loadpage(page_request, containerid)\n    }\n    if (bustcachevar) //if bust caching of external page\n    bustcacheparameter = (url.indexOf(\"?\") != -1) ? \"&amp;\" + new Date().getTime() : \"?\" + new Date().getTime()\n    page_request.open('GET', url + bustcacheparameter, true)\n    page_request.send(null)\n    page_request.send(null)\n}\n\nfunction loadpage(page_request, containerid) {\n    if (page_request.readyState == 4 &amp;&amp; (page_request.status == 200 || window.location.href.indexOf(\"http\") == -1)) document.getElementById(containerid).innerHTML = page_request.responseText\n}\n\nfunction loadobjs() {\n    if (!document.getElementById) return\n    for (i = 0; i &lt; arguments.length; i++) {\n        var file = arguments[i]\n        var fileref = \"\"\n        if (loadedobjects.indexOf(file) == -1) { //Check to see if this object has not already been added to page before proceeding\n            if (file.indexOf(\".js\") != -1) { //If object is a js file\n                fileref = document.createElement('script')\n                fileref.setAttribute(\"type\", \"text/javascript\");\n                fileref.setAttribute(\"src\", file);\n            } else if (file.indexOf(\".css\") != -1) { //If object is a css file\n                fileref = document.createElement(\"link\")\n                fileref.setAttribute(\"rel\", \"stylesheet\");\n                fileref.setAttribute(\"type\", \"text/css\");\n                fileref.setAttribute(\"href\", file);\n            }\n        }\n        if (fileref != \"\") {\n            document.getElementsByTagName(\"head\").item(0).appendChild(fileref)\n            loadedobjects += file + \" \" //Remember this object as being already added to page\n        }\n    }\n}\n</code></pre>\n\n<p>Now like I said, the code works perfect when only calling ajaxpage() once, or multiple times via different events, it just will not work multiple times from one event, even when putting the multiple instances into the dostuff() function.</p>\n\n<p>Any help would be greatly appreciated as this is really starting to aggravate me. Thanks.</p>\n\n<p>UPDATE: This isn't as urgent now as i have done a \"workaround\" which uses multiple events such as mouseover, mouseout etc on an update link instead. which means it works as i need it to, however it is not elegant by any means and I am still intrigued why it won't work when called multiple times within 1 event?!</p>\n"},{"tags":["php","mysql","ajax","google-maps","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13252543,"title":"Save Google Maps Marker Properites to MySQL database","body":"<p>I am creating a website that on one end a user will be able to place a marker on a Google Map using the Google Maps API. I want a user on the other end to be able to load a Google Map and see the markers that were placed from the other person. Think of something like the game Battle Ship.</p>\n\n<p>The the first user's side, the following code shows an object with all the properties of the marker. I turn it into a JSON to be passed to my php script.</p>\n\n<pre><code>function packageMarker(){   \n        var markerObj = new Object();\n        markerObj.index = unitMarker.index;\n        markerObj.country = unitMarker.country;\n        markerObj.Type = unitMarker.type;\n        markerObj.Lat = unitMarker.Lat;\n        markerObj.Lng = unitMarker.Lng;\n        markerObj.Icon = unitMarker.icon;\n        markerObj.CallSign = unitMarker.labelContent;\n        markerObj.unitModel = unitMarker.unitModel;\n        markerObj.num = unitMarker.numOfUnit;\n        markerObj.package = unitMarker.packageType;\n        markerObj.cRadius = unitMarker.cRadius; //in meters\n        if(markerObj.country = \"America\"){\n            markerObj.cColor = \"Blue\";\n        }else{\n            markerObj.cColor = \"Red\";\n        }\n        markerObj.SLat = \"\";\n        markerObj.SLng = \"\";\n        markerObj.ELat = \"\";\n        markerObj.ELng = \"\";\n\n        var queryString = JSON.stringify(markerObj);\n</code></pre>\n\n<p>That all works fine.</p>\n\n<p>I now want to pass that over to my php script to place inside my MySQL database. This is were I get lost. I know I need to use an AJAX call. All the examples I find are for forum submissions but I am not doing that. Once a marker is placed (onClick Event), I want it to be added to the database.</p>\n\n<p>My php script should work. It reads in the variable, decodes it, and inserts into the database.</p>\n\n<p>In a more clear way of say what I want:<br>\nWhat a way to send my JSON object to a php script and have it return success or error not having a forum submission.</p>\n\n<p>Thank you for any help you give</p>\n"},{"tags":["ajax","spring","jaxb","spring-3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":12883523,"title":"Spring3 Unmarshalling XML to Java","body":"<p>I am having trouble connecting all the pieces that would allow xml sent from an ajax client to be unmarshalled into Java objects.  I am using Jquery for the ajax client, Spring3, and JAXB.  Here are the key components:</p>\n\n<p><strong>Ajax Client</strong></p>\n\n<pre><code>        function checkForNewActivities(activities) {\n            $j.ajax({\n                url: \"upload/checkForNewActivities\",\n                type: \"POST\",\n                async: true, \n                dataType: \"xml\",\n                data: ({activities:activities}),\n                contentType: \"application/xml\",\n\n                beforeSend: function() {\n                    alert(\"sending ajax\");\n                },\n                complete: function() {\n                    alert(\"ajax sent\");\n                },\n                success: function(data) {\n                    alert(\"success\");\n                },\n                error: function(jqXHR, textStatus, errorThrown) {\n                    alert(textStatus + errorThrown);\n                }\n            });\n        }\n</code></pre>\n\n<p><strong>Spring Config</strong></p>\n\n<pre><code>&lt;bean id=\"marshallingConverter\" class=\"org.springframework.http.converter.xml.MarshallingHttpMessageConverter\"&gt;\n          &lt;property name=\"marshaller\" ref=\"jaxbMarshaller\" /&gt;\n          &lt;property name=\"unmarshaller\" ref=\"jaxbMarshaller\" /&gt;\n          &lt;property name=\"supportedMediaTypes\" value=\"application/xml\"/&gt;\n    &lt;/bean&gt;\n\n&lt;bean id=\"jaxbMarshaller\" class=\"org.springframework.oxm.jaxb.Jaxb2Marshaller\"&gt;\n    &lt;property name=\"classesToBeBound\"&gt;\n        &lt;list&gt;\n           a bunch of java classes\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And here is the Spring Controller method that is the target:</p>\n\n<pre><code>  @RequestMapping(value=\"/checkForNewActivities\",headers=\"application/xml\", method=RequestMethod.POST)\n  public @ResponseBody String uploadMultipleWorkouts(@RequestBody String activities) {        \n      System.out.println(activities);\n      return \"\"; \n  }\n</code></pre>\n\n<p>With the headers=\"application/xml\" in the RequestMapping, this method never gets called.  If I remove the headers param, then the method is called and dumping the activities to the console shows the escaped xml.</p>\n\n<p>I am clearly missing how to connect this method to the spring config so that unmarshalling xml takes place.</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13257294,"title":"javascript: wait for a return","body":"<p>I have this problem.\nI have a function for example called functionA() that needs the results from another function called functionB().</p>\n\n<pre><code>var globalVar=\"\";\nfunction functionA(){\n    //...\n    functionB();\n    //here i have to use the global variable (that is empty because functionB isn't finished)\n}\nfunction functionB(){\n    //ajax request\n    globalVar=ajaxRequest.responseText;\n}\n</code></pre>\n\n<p>How can I do to let the functionB finish befor continue with the execution of functionA?\nThanks!</p>\n\n<p>This is the code:</p>\n\n<pre><code>var ingredientiEsistenti=\"\";\nfunction ShowInserisciCommerciale() {\n    getElementiEsistenti();\n    JSON.parse(ingredientiEsistenti);\n}\n\nfunction getElementiEsistenti(){\n\n// prendo gli ingredienti esistenti.\nvar url = \"http://127.0.0.1:8080/Tesi/Ingredienti\";\nvar xmlHttp = new XMLHttpRequest();\nxmlHttp.open(\"POST\", url, false);\nxmlHttp.send(null);\nxmlHttp.setRequestHeader(\"Content-type\",\n        \"application/x-www-form-urlencoded\");\nxmlHttp.onreadystatechange = function() {\n    if (xmlHttp.readyState == 4) // COMPLETED\n    {\n        if (xmlHttp.status == 200) // SUCCESSFUL\n        {\n            ingredientiEsistenti = xmlHttp.responseText;\n        } else {\n\n            alert(\"An error occurred while communicating with login server.\");\n        }\n    }\n};\n}\n</code></pre>\n"},{"tags":["android","ajax","jquery-ajax","phonegap","html-parsing"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":31,"score":3,"question_id":13092208,"title":"html parse with jquery.xdomainajax.js not working on PhoneGap","body":"<p>I am building a mobile app with Phonegap, using jquery.xdomainajax.js for parsing html elements from a url (another domain). The tutorial I'm following is <a href=\"http://usejquery.com/posts/the-jquery-cross-domain-ajax-guide\" rel=\"nofollow\">here</a>.</p>\n\n<p>My application runs well in a web browser, but when I try it on android device was not running. </p>\n\n<p>I've tried changing <strong>super.setIntegerProperty (\"loadUrlTimeoutValue\", 70000);</strong> from <strong>MyPhoneGapActivity.java</strong>, but still failed.</p>\n\n<p>and this my <strong>index.html</strong></p>\n\n<pre><code> &lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"cordova-1.9.0.js\"&gt;&lt;/script&gt;\n &lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"jquery.mobile/jquery-1.7.2.min\"&gt;&lt;/script&gt;\n &lt;script type=\"text/javascript\" src=\"js/jquery.xdomainajax.js\"&gt;&lt;/script&gt;\n &lt;script type=\"text/javascript\" src=\"js/main-link.js\"&gt;&lt;/script&gt;\n\n\n    &lt;ul id=\"jquery_snippets\"&gt;\n      &lt;li&gt;Gathering News...&lt;/li&gt;\n    &lt;/ul&gt;  \n</code></pre>\n\n<p>and this my <strong>main-link.js</strong></p>\n\n<blockquote>\n  <p>$(document).ready(function() {</p>\n  \n  <p>$.get('http://example.com', function(res) { \n    $(res.responseText).find('.art-block2 h3').each(function() { \n       var anchor = $(this).children('a:last');\n       jQuery('', { \n         html: jQuery('', { \n                 href: anchor.attr('href'),\n                 text: anchor.text() \n              })<br>\n       }).appendTo($('#jquery_snippets')); \n     });</p>\n  \n  <p>$('#jquery_snippets li:first').remove();\n   });\n  });</p>\n</blockquote>\n\n<p>What's the problem? (I'm using phoneGap 1.9.0)</p>\n"},{"tags":["java","jquery","html","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13257268,"title":"How to create Autocomplete textbox from database results in a html page using java servlet, jquery, json object by making an ajax call","body":"<p>I have tried different things but i am not able to do this.\nI am very new to jquery json and ajax. I wrote a servlet which connects to my databse and retrive user ids from the table. I wrote a jsp and which has a text box that takes input text and refines the results on each key press I want to do it in a html page using jquery ajax  by sending json object from my servlet. can someone give me an example for this scenario.</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["ajax","jquery-mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13257442,"title":"Getting sandboxed with ajax and jquery mobile","body":"<p>I need to pull some code from a desktop site to a mobile site but I am running into some errors\nHere is the error that I am getting</p>\n\n<p>XMLHttpRequest cannot load <a href=\"http://brunswickchurch.org/youth\" rel=\"nofollow\">http://brunswickchurch.org/youth</a>. Origin <a href=\"http://w5webdesigns.com\" rel=\"nofollow\">http://w5webdesigns.com</a> is not allowed by Access-Control-Allow-Origin.</p>\n\n<p>Here is the code</p>\n\n<pre><code>$.ajax({\n          url: \"http://brunswickchurch.org/youth\",\n          crossDomain: true,\n          success: function(data){\n                //console.log(data);\n                var content = $(\"#content-area\", data )[0]; /// returns the 0th element of an array with 1 element\n                //console.log(content);\n              $(content).find('img').remove();\n              $(content).find('hr').remove();\n              $(\"#doane\").html(content); // get that 1 element (the entire content-area div) and replace the doane div's content on this page\n         }\n      });\n</code></pre>\n\n<p>Here is the call in the HTML</p>\n\n<pre><code>&lt;div data-role=\"content\" data-theme=\"c\"&gt;\n        &lt;div id=\"doane\"&gt;kjgflguif\n        &lt;p&gt;listen to the current sermon&lt;/p&gt;\n        &lt;/div&gt;       \n    &lt;/div&gt;\n</code></pre>\n\n<p>I had this working on a mac with safari but I cannot seem to get it working on my windows or android for that matter, is there a better way. A more cross browser compatible way to pull this off?</p>\n"},{"tags":["jquery","ajax","internet-explorer","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13204839,"title":"Ajax only IE9 won't submit, no errors","body":"<p>This works in all browsers, I've seen similiar \"IE 9 is not working posts.\" This one is a bit difference I guess because I'm doing something pretty basic.</p>\n\n<p>Everything is working fine in all browsers except IE 9 which doesn't even send the data to my mail.php page.</p>\n\n<p>Help is greatly appreciated.</p>\n\n<p>Submit Code:</p>\n\n<pre><code>$(function() {  \n  $(\".submit\").click(function() {  \n    var name = $(\"input#name\").val();\n    var email = $(\"input#email\").val();\n    var topic = $(\"select#topic\").val();\n    var message = $(\"textarea#message\").val();\n    var dataString = 'name='+ name + '&amp;email=' + email + '&amp;topic=' + topic + '&amp;message=' + message;\n    $.ajax({  \n        type: \"POST\",  \n        url: \"http://***.***/***/mail.php\",  \n        data: dataString,  \n        success: function() {\n            $('.holder').hide();\n            $('#callback').show().append(\"Your feedback is appreciated, thank you!\");\n        },\n        error:function(){\n            alert(dataString);\n            $('.holder').hide();\n            $('#callback').show().append(\"There was an error processing your     request, we're very sorry please try again later.\");\n        }\n});  \nreturn false; \n\n\n  });  \n}); \n</code></pre>\n\n<p>Here is the HTML (I've used <em>*</em> to hide data):</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"contactable.css\" type=\"text/css\" /&gt;\n&lt;script src=\"jquery.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;div id=\"contactable\"&gt;\n&lt;div id=\"contactable_inner\"&gt;&lt;/div&gt;\n&lt;div id=\"carFeedbackForm\"&gt;\n&lt;div id=\"close\"&gt;&lt;u&gt;Close&lt;/u&gt;&lt;/div&gt;\n&lt;form id=\"contactForm\" action=\"\"&gt;\n&lt;div id=\"loading\"&gt;&lt;/div&gt;\n&lt;div id=\"callback\"&gt;&lt;/div&gt;\n&lt;div class=\"holder\"&gt;\n\n&lt;p&gt;&lt;label for=\"name\"&gt;Name&lt;span class=\"red\"&gt; * &lt;/span&gt;&lt;/label&gt;&lt;br /&gt;\n&lt;input id=\"name\" class=\"contact\" name=\"name\"/&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;label for=\"email\"&gt;Email &lt;span class=\"red\"&gt; * &lt;/span&gt;&lt;/label&gt;&lt;br /&gt;\n&lt;input id=\"email\" class=\"contact\" name=\"email\" /&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;label for=\"topic\"&gt;Topic&amp;nbsp&lt;/label&gt;&lt;select id=\"topic\" class=\"contact\" name=\"topic\"&gt;\n&lt;option&gt;I Like&lt;/option&gt;\n&lt;option&gt;I Dislike&lt;/option&gt;\n&lt;option&gt;Cannot login&lt;/option&gt;\n&lt;option&gt;***(R)&lt;/option&gt;\n&lt;option&gt;Broken Link&lt;/option&gt;\n&lt;option&gt;Other&lt;/option&gt;&lt;/select&gt;&lt;/p&gt;&lt;br /&gt;\n\n&lt;p&gt;&lt;label for=\"message\"&gt;Message &lt;span class=\"red\"&gt; * &lt;/span&gt;&lt;/label&gt;&lt;br /&gt;\n&lt;textarea id=\"message\" name=\"message\" class=\"message\" rows=\"4\" cols=\"30\" &gt;&lt;/textarea&gt;&lt;/p&gt;&lt;br&gt;\n\n&lt;p class=\"disclaimer\"&gt;We are always interested in hearing from you. \nYour feedback will help us improve your online experience.&lt;/p&gt;\n&lt;p&gt;&lt;input class=\"submit\" type=\"submit\" value=\"Send\"/&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;\n</code></pre>\n"},{"tags":["ajax","drupal","drupal-7"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":176,"score":1,"question_id":9607393,"title":"Drupal 7 ajax_command_* creates unwanted div","body":"<p>I'm populating a select box using an AJAX callback in Drupal 7. I've tried both ajax_command_append() and ajax_command_html() to set the new <code>&lt;option...&gt;</code> statements, but both these wrap the HTML that I create inside a <code>&lt;div&gt;</code>. This causes the <code>&lt;select&gt;</code> to not display any of the options.</p>\n\n<p>Is there a way to tell Drupal \"Hey stupid, this is exactly the HTML I want, don't mess with it\"?</p>\n\n<p>I can code some jQuery to remove the div I guess, but it would be a lot better if I can prevent it from being added in the first place.</p>\n"},{"tags":["javascript","ajax","struts","struts-1","apache-tiles"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13074117,"title":"AJAX Struts 1.x using tiles without jQuery","body":"<p>I faced with problem using tiles in struts 1/x.</p>\n\n<p>For example I have next files</p>\n\n<p>as <code>tiles-def.xml</code></p>\n\n\n\n<p></p>\n\n<p>\n    \n    \n        \n        \n        \n        \n        \n    </p>\n\n<pre><code>&lt;definition name=\"list.page\" extends=\"main.layout\"&gt;\n    &lt;put name=\"title\" value=\"List Page\" /&gt;\n    &lt;put name=\"body\" value=\"/pages/tiles/body/list.jsp\" /&gt;\n&lt;/definition&gt;\n\n\n&lt;definition name=\"view.page\" extends=\"main.layout\"&gt;\n    &lt;put name=\"title\" value=\"View Page\" /&gt;\n    &lt;put name=\"body\" value=\"/pages/tiles/body/ViewItem.jsp\" /&gt;\n&lt;/definition&gt;\n\n&lt;definition name=\"add.page\" extends=\"main.layout\"&gt;\n    &lt;put name=\"title\" value=\"Add and Edit Page\" /&gt;\n    &lt;put name=\"body\" value=\"/pages/tiles/body/AddItem.jsp\"&gt;&lt;/put&gt;\n&lt;/definition&gt;\n</code></pre>\n\n<p></p>\n\n<p>My   <code>struts-config.xml</code></p>\n\n<pre><code>&lt;action-mappings&gt;\n        &lt;action path=\"/items\" name=\"itemsForm\"\n            type=\"org.springframework.web.struts.DelegatingActionProxy\"\n            parameter=\"method\" validate=\"false\"&gt;\n            &lt;forward name=\"list\" path=\"list.page\" /&gt;\n            &lt;forward name=\"view\" path=\"view.page\" /&gt;\n            &lt;forward name=\"add\" path=\"add.page\" /&gt;          \n            &lt;forward name=\"delete\" path=\"/index.jsp\" /&gt;\n            &lt;forward name=\"edit\" path=\"add.page\" /&gt;         \n        &lt;/action&gt;\n///\n&lt;/action-mapping&gt;\n</code></pre>\n\n<p>And for example link on my list.jsp as</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"SendRequest('GET', 'news.do', 'method=view&amp;amp;newsMessage.id=${news.id}', null)\"&gt;&lt;bean:message key=\"link.view\" /&gt;&lt;/a&gt;\n</code></pre>\n\n<p>And JS for ajax</p>\n\n<pre><code>function CreateRequest() {\n  var Request = false;\n  if (window.XMLHttpRequest) {\n    // Gecko-compatible browsers\n    Request = new XMLHttpRequest();\n  } else if (window.ActiveXObject) {\n    // IE\n    try {\n      Request = new ActiveXObject(\"Msxml2.XMLHTTP\"); //Newer IE\n    } catch (CatchException) {          \n      Request = new ActiveXObject(\"Microsoft.XMLHTTP\"); //Older IE\n    }\n  }\n\n  if (!Request) {\n    alert(\"Impossible create XMLHTTPREquest\");\n  }\n  return Request;\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>/**\n * Function sending request to file on server\n * \n * r_method - type request GET or POST r_path - path to file r_args - args as\n * a1&amp;a2 r_handler - function handler response from server\n * \n */\nfunction SendRequest(r_method, r_path, r_args, r_handler) {\n\n    // Create Request\n    var Request = CreateRequest();\n\n    // Check existing request\n    if (!Request) {\n        return;\n    }\n\n    // Set user handler\n    Request.onreadystatechange = function() {\n        // If exchange data was finished\n        if (Request.readyState == 4) {\n\n            if (Request.status == 200) {\n                // Give management user handler\n\n                //r_handler(Request);\n                document.getElementById(\"content_container\").innerHTML = Request.responseText;\n\n            }\n        }\n    };\n\n    // Check if need to create GET-request\n    if (r_method.toLowerCase() == \"get\" &amp;&amp; r_args.length &gt; 0) {\n        r_path += \"?\" + r_args;\n    }\n\n    // Initialize connection\n    Request.open(r_method, r_path, true);\n\n    if (r_method.toLowerCase() == \"post\") {\n        // If this is POST\n        // Set header\n        Request.setRequestHeader(\"Content-Type\",\n                \"application/x-www-form-urlencoded\");\n        //Send request\n        Request.send(r_args);\n    }\n    else {\n        //If it's GET\n        //Send null-request\n        Request.send(null);\n    }\n}\n</code></pre>\n\n<p>And action on server</p>\n\n<pre><code>public ActionForward view(ActionMapping mapping, ActionForm form,\n            HttpServletRequest request, HttpServletResponse response)\n            throws Exception {\n\n        response.setContentType(RESP_CONTENT_TYPE);\n\n        //some operationss\n        if (itemsForView.getId() == null) {\n            //return mapping.findForward(ERROR_ACTION);\n            return new ActionForward(\"/pages/error.jsp\");\n        } else {\n            itemsForm.setItems(itemsForView);\n            //return mapping.findForward(VIEW_ACTION);          \n            return new ActionForward(\"/pages/tiles/body/View.jsp\");\n        }\n    }\n</code></pre>\n\n<p>I confused because I find next example <a href=\"http://www.createsoft.co.uk/blog/2008/05/using-ajax-with-struts-and-tiles/\" rel=\"nofollow\">Using AJAX With Struts and Tiles</a></p>\n\n<p>Please, give me explanation or links on good article.</p>\n"},{"tags":["jquery","ajax","internet-explorer","jsonp"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":250,"score":3,"question_id":12058632,"title":"Cross-domain AJAX requests with IE9","body":"<p>Cross-domain AJAX requests (made using jQuery 1.7.2) are not performed in IE9 unless the request dataType is set to \"jsonp\" or \"script\".</p>\n\n<p>I discovered this issue in framing a request where I did not care about the response and left dataType unspecified (yes, I know I should care about the response).</p>\n\n<p>So, for example, this will work:</p>\n\n<pre><code>$.ajax({\n    url: \"http://www.google.com\",\n    type: \"GET\", // or \"POST\"\n    dataType: 'jsonp'\n});\n</code></pre>\n\n<p>But this won't:</p>\n\n<pre><code>$.ajax({\n    url: \"http://www.google.com\",\n    type: \"GET\" // or \"POST\"\n});\n</code></pre>\n\n<p>By \"work\" I mean that I see an HTTP request made in Firebug or F12.</p>\n\n<p>Both requests work in other browsers. Setting <code>jQuery.support.cors = true;</code> does not affect success, nor does setting crossDomain to true nor cache to false (in the AJAX request).</p>\n\n<p>Why should the success of an AJAX request depend on the dataType requested in just IE? I can understand why it would affect my ability to work with any returned data; I also understand that some servers might reject all requests for a certain dataType (but that is apparently not the case here).</p>\n"},{"tags":["php","javascript","mysql","ajax","facebook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13257039,"title":"After Sharing a FB-link, insert into mysql not working","body":"<p>Hey I have a problem...</p>\n\n<p>I would like to when a user has shared a link from my facebook app, that i get his id into my db.</p>\n\n<p>The way i share the link is via the facebook dialog javascript example that i have modified</p>\n\n<p><strong>The sharing javascript code</strong></p>\n\n<pre><code>&lt;script&gt;\n      FB.init({appId: 'xxxx', channelUrl: 'xxxx', status: true, cookie: true});\n\n      function postToFeed() {\n\n        // calling the API ...\n        var obj = {\n          method: 'feed',\n          link: 'https://developers.facebook.com/docs/reference/dialogs/',\n          picture: 'http://fbrell.com/f8.jpg',\n          name: 'Facebook Dialogs',\n          caption: 'Reference Documentation',\n          description: 'Using Dialogs to interact with users.'\n        };\n\n        function callback(response) {\n            xmlhttp=new XMLHttpRequest();\n            xmlhttp.onreadystatechange=function(){\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n                    document.getElementById('msg').innerHTML = \"Post ID: \" + response['post_id'];\n                    document.getElementById('post').style.display = \"none\";\n                }\n            }\n            xmlhttp.open(\"POST\",\"shared.php\",true);\n            xmlhttp.send(\"id=xxx\");\n        }\n\n        FB.ui(obj, callback);\n      }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>The PHP Code</p>\n\n<pre><code>$con = mysqli_connect(\"xxxx\",\"xxx\",\"xxx\",\"xxx\");\n    if (!$con) {\n        die('Could not connect: ' . mysql_error());\n    };\n\n        mysqli_query($con, \"INSERT INTO xxx (fb-id) VALUES (\".$_POST['id'].\")\");\n\n    mysqli_close($con)\n</code></pre>\n\n<p>When I have shared the link I get the post_id, but the nothing in the db ?</p>\n\n<p>Can anybody tell whats wrong ?</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13256895,"title":"Populate two different tables","body":"<p>I need to populate two different tables on change of two different selectors, each one should point to the corresponding table. I have try different thing but i think I'm looking the wrong way. Any idea? Any hint?  </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script&gt;\n\nfunction showUser(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"txtHint\").innerHTML=\"\";\n  return;\n  }\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"txtHint\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"getuser.php?q=\"+str,true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form&gt;\n&lt;select name=\"users\" onchange=\"showUser(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a person:&lt;/option&gt;\n&lt;option value=\"1\"&gt;Peter Griffin&lt;/option&gt;\n&lt;option value=\"2\"&gt;Lois Griffin&lt;/option&gt;\n&lt;option value=\"3\"&gt;Glenn Quagmire&lt;/option&gt;\n&lt;option value=\"4\"&gt;Joseph Swanson&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n&lt;br /&gt;\n&lt;div id=\"txtHint\"&gt;&lt;b&gt;Person info will be listed here.&lt;/b&gt;&lt;/div&gt;\n\n&lt;form&gt;\n&lt;select name=\"users\" onchange=\"showUser(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a person:&lt;/option&gt;\n&lt;option value=\"1\"&gt;Peter Griffin&lt;/option&gt;\n&lt;option value=\"2\"&gt;Lois Griffin&lt;/option&gt;\n&lt;option value=\"3\"&gt;Glenn Quagmire&lt;/option&gt;\n&lt;option value=\"4\"&gt;Joseph Swanson&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n&lt;br /&gt;\n&lt;div id=\"txtHint2\"&gt;&lt;b&gt;Person info will be listed here.&lt;/b&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n"},{"tags":["ajax","json","security","html-entities"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13236415,"title":"Security benefits of encoding HTML special characters in JSON responses","body":"<p>I have recently received a recommendation, from a third party, to encode HTML special characters in all server responses \"for security reasons\". So:</p>\n\n<pre><code>' --&gt; &amp;#x27;\n&amp; --&gt; &amp;#x26;\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>{ \"id\": 1, \"name\": \"Miles O&amp;#x27;Brien\" }\n</code></pre>\n\n<p>Question: Is there a security gain in doing this, or is it just a paranoia?</p>\n"},{"tags":["ruby-on-rails","ruby","ajax","ruby-on-rails-3","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13240036,"title":"Why won't my textarea update through Ajax after entry has been re-saved to database?","body":"<p>I am updating a simple <code>text_area</code> in Rails using Ajax:</p>\n\n<p><strong>application.js</strong>:</p>\n\n<pre><code>$(\"#invoice_project_id\").change(function() {\n    var value=$(this).val();\n    $.get('/invoices/get_recipient', {project_id= : value}  function(response) {\n        $('#invoice_recipient').val(response);\n    })\n});​\n</code></pre>\n\n<p><strong>get_recipient.js</strong>:</p>\n\n<pre><code>$('#invoice_recipient').val(\"&lt;%= @recipient.to_s.gsub!(/\\n/, '\\n') %&gt;\");\n</code></pre>\n\n<p><strong>invoices_controller.rb</strong>:</p>\n\n<pre><code>def get_recipient\n  project = Project.find(params[:project_id])\n  @recipient = project.person.address\nend\n</code></pre>\n\n<p>The code works great and replaces the value of the <code>recipient</code> text_area with the correct address, depending on what <code>project</code> gets chosen in the select menu.</p>\n\n<p>The problem is that it works only with the <code>addresses</code> that already exist in the database. (I am using the <a href=\"http://faker.rubyforge.org\" rel=\"nofollow\"><strong>Rails Faker gem</strong></a> to populate my database.) The moment I <strong>re-save</strong> a <code>person</code>'s <code>address</code> manually in my Safari browser, the text_area won't get updated through Ajax anymore when I try to do so using the above code.</p>\n\n<p>How is this possible? </p>\n\n<p>I am already escaping the newline characters using the <code>gsub!</code> method above, so I can't think of anything else I could do.</p>\n\n<p>Can anybody help?</p>\n\n<p>Thanks...</p>\n"},{"tags":["jquery","ajax","internet-explorer-8","status","xmlhttprequest"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":172,"score":4,"question_id":6062451,"title":"What does an xhr.status of 8 mean in IE8?","body":"<p>i just want to know what is the meaning of the xhr.status 8 and what is the possible cause of that (because my ajax failed and its the status that is given to me).</p>\n\n<p>Thanks</p>\n\n<p>Edit : Just forget to specify that its only in IE, in Chrome or FireFox, it works (no error).</p>\n"},{"tags":["c#","asp.net","ajax","gridview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13256676,"title":"asp.net c# gridview sorting by an AJAX rating control","body":"<p>I have added an Ajax rating control to my Gridview as below:</p>\n\n<pre><code>  &lt;asp:BoundField DataField=\"Wrms_QueryId\" HeaderText=\"Warms_QueryId\" ReadOnly=\"True\" SortExpression=\"Wrms_QueryId\" /&gt;\n            &lt;asp:TemplateField HeaderText=\"Favourites\"&gt;\n                &lt;ItemTemplate&gt;\n                    &lt;asp:Rating ID=\"Rating1\" runat=\"server\" AutoPostBack=\"true\"  CurrentRating='&lt;%# Bind(\"num\") %&gt;' MaxRating=\"3\" RatingAlign=\"Horizontal\"\n                        RatingDirection=\"LeftToRightTopToBottom\" StarCssClass=\"ratingStar\" WaitingStarCssClass=\"savedRatingStar\"\n                        FilledStarCssClass=\"filledRatingStar\" EmptyStarCssClass=\"emptyRatingStar\" Tag='&lt;%# Bind(\"Wrms_QueryId\")%&gt;' OnChanged=\"Rating1_Changed\"&gt;\n                    &lt;/asp:Rating&gt;\n                &lt;/ItemTemplate&gt;\n            &lt;/asp:TemplateField&gt;\n</code></pre>\n\n<p>and in .cs</p>\n\n<pre><code> protected void Rating1_Changed(object sender, EventArgs e)\n{\n    Rating ra= (Rating)sender; \n    GridViewRow gr=(GridViewRow) ra.Parent.Parent;          \n\n    // table update required?\n\n    Rating r = sender as Rating;\n     int id = Convert.ToInt32(r.Tag);\n     int lf = Convert.ToInt32(r.CurrentRating);\n     string strSQL2 = \"UPDATE [dbo].[wrms_config_m] set QueryId = \" + lf + \" where  Wrms_QueryId = \" + id;\n     ExecuteSQLUpdate(strSQL2);\n\n\n}    \n</code></pre>\n\n<p>but I don't know how to add sorting to the rating column. Normally I would just add SortExpression=\"####\" but this doesn't seem to be supported for the rating column. </p>\n\n<p>I have looked through lots of forums and can't find an answer. any help would be gratefully received please.</p>\n\n<p>thanks </p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13242871,"title":"Using Appendo and Wordpress Media Uploader","body":"<p>Has anyone had trouble ever trying to implement this?</p>\n\n<p>I can't figure out why mine doesn't work. I can only get the first list element to work properly. If I try to add another upload button with Appendo it is not clickable. Any reason why this is?</p>\n\n<p>This is just a guess, but does jQuery know how many instances of a class there are when the page is loaded? If so, do I need to handle this with AJAX then? </p>\n\n<p>I understand this is a very vague question, but for sake of posting a bunch of code I thought I would see if someone had a similar problem with Appendo. Appreciate any help. </p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13255224,"title":"send array with jquery ajax","body":"<p>I have this jquery code:</p>\n\n<pre><code>        var myarr = [\"aa\",\"ss\",\"dd\"];\n\n        $.ajax({\n            url: \"proces.php\",\n            data: \"arr=\"+myarr,\n            type: \"POST\",\n            success: function () {\n                alert(\"data is send\");\n            }\n        });\n</code></pre>\n\n<p>I see message <code>data is send</code> but in <code>proces.php</code> file I have this code</p>\n\n<pre><code>$str = '';\nforeach ($_POST['arr'] as $k=&gt;$v) {\n    $str = $str.$v;\n}\n\n$hand = fopen(\"t.txt\",\"w+\");\nfwrite($hand,$str);\n</code></pre>\n\n<p>and in file <code>t.txt</code> nothing is written, please tell where I wrong ?</p>\n"},{"tags":["javascript","html","ajax","html5","url"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12328180,"title":"Limitations of popstate/pushstate and automatically running AJAX","body":"<p>From what I gathered, popstate/pushstate physically changes the url address whenever you click on an event. In the example page below, whenever you click on a link in the nav bar, the ajax is called and the url changes. However, if I was to copy the altered url address and enter that as the web address, it would send me to the homepage of the website. Is it possible for the user to go to that altered url and have the ajax automatically called that is related to the altered url address? If so, what function would I have to look for?</p>\n\n<p>Website Demo Homepage:\n<a href=\"http://html5.gingerhost.com/\" rel=\"nofollow\">http://html5.gingerhost.com/</a></p>\n\n<p>Altered website address that still leads to the homepage and not the section \"London\"\n<a href=\"http://html5.gingerhost.com/london\" rel=\"nofollow\">http://html5.gingerhost.com/london</a></p>\n\n<p>EDIT: I've found this helpful link but are there any other helpful tutorials or advice?\n<a href=\"http://fortuito.us/diveintohtml5/examples/history/pepper.html\" rel=\"nofollow\">http://fortuito.us/diveintohtml5/examples/history/pepper.html</a></p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13255945,"title":"what is ajaxOptions?","body":"<p>I found this in some javaScript code:</p>\n\n<pre><code>ajaxOptions = {\n    data: {},\n    success: function(data){\n       $('#revenue_paginator').html(data);\n    },\n    error: function(){},\n    complete: function(xhr){ \n        onCompleteCheck(xhr);\n        }\n    };\n</code></pre>\n\n<p>I just want know what it is. I originally thought it was jquery but there is nothing inside the jquery documentation about it. Google searches direct me to questions that involve ajaxOptions but nothing as simple as what ajaxOptions is.</p>\n"},{"tags":["ajax","spring","hibernate","jsp","jackson"],"answer_count":2,"favorite_count":7,"up_vote_count":8,"down_vote_count":0,"view_count":1314,"score":8,"question_id":11856005,"title":"Returning a java.util.List from a Spring MVC controller via Ajax using Jackson","body":"<p>Based on <a href=\"http://stackoverflow.com/q/11777153/1391249\">my question</a> posted a few days ago, I realized that <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/web/servlet/mvc/SimpleFormController.html\" rel=\"nofollow\"><code>SimpleFormController</code></a> is inappropriate for handling Ajax requests. Therefore, I'm migrating my application towards annotated controllers.</p>\n\n<p>I'm trying to return a <code>java.util.List</code> from Oracle database using Spring MVC 3.0.2 with Hibernate via Ajax using <a href=\"http://jackson.codehaus.org/1.9.8/jackson-all-1.9.8.jar\" rel=\"nofollow\">Jackson 1.9.8</a> (its download <a href=\"http://wiki.fasterxml.com/JacksonDownload\" rel=\"nofollow\">page</a>) but I haven't yet worked with JSON in any technology. I have read up some tutorials/articles but I couldn't get the idea of how to return such complex data structures and parse them using JSON in Spring. I'm trying to learn JSON-like concepts first.</p>\n\n<p>What basically I'm trying is when a country is selected from a country select box, the states corresponding to that country should be populated from the database via Ajax. I don't have precise idea about how to return a <code>java.util.List</code> over an Ajax response, how to parse it and again use it in Java code. I'm only upto the following level.</p>\n\n<p>JS code.</p>\n\n<pre><code>function getStates(countryId)\n{\n    $.ajax({\n        datatype:\"json\",\n        type: \"POST\",\n        url: \"/wagafashion/ajax/TempAjax.htm\",\n        data: \"countryId=\" + countryId,\n\n        success: function(response)\n        {\n            $('#msg').html(response);\n            $('#stateList').val('');\n        },\n        error: function(e)\n        {\n            alert('Error: ' + e);\n        }\n    });\n}\n</code></pre>\n\n<p>The method in the Spring controller class which is invoked when the Ajax request is made on the <code>onchange</code> event of the country select box.</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.POST, value=\"ajax/TempAjax\")\npublic @ResponseBody List&lt;StateTable&gt; getStateList(@ModelAttribute(\"tempBean\") TempBean tempBean, BindingResult error, Map model, HttpServletRequest request, HttpServletResponse response)\n{\n    Session session=NewHibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    List&lt;StateTable&gt;list=session.createQuery(\"from StateTable where country.countryId=:countryId order by stateId\").setParameter(\"countryId\", new BigDecimal(request.getParameter(\"countryId\"))).list();\n\n    session.flush();\n    session.getTransaction().commit();\n    return list;\n}\n</code></pre>\n\n<p>The state select box I need to populate with the list of states returned by the Ajax response using a <code>&lt;c:forEach&gt;&lt;/c:forEach&gt;</code> loop of EL.</p>\n\n<pre><code>&lt;form:select path=\"cmbState\" class=\"validate[required] text-input tooltip\" title=\"Mandatory select field.\"&gt;\n    &lt;form:option value=\"\"&gt;Select&lt;/form:option&gt;\n        &lt;c:forEach items=\"${stateList}\" var=\"row\"&gt;\n            &lt;c:choose&gt;\n                &lt;c:when test=\"${row.stateId==param['stateId'] and deselectCombo!=1}\"&gt;\n                    &lt;form:option value=\"${row.stateId}\" selected=\"selected\"&gt;${row.stateName}&lt;/form:option&gt;\n                &lt;/c:when&gt;\n                &lt;c:otherwise&gt;\n                    &lt;form:option value=\"${row.stateId}\"&gt;${row.stateName}&lt;/form:option&gt;\n                &lt;/c:otherwise&gt;\n            &lt;/c:choose&gt;\n        &lt;/c:forEach&gt;\n    &lt;/form:select&gt;\n\n    &lt;font style=\"color: red\"&gt;&lt;form:errors path=\"stateId\"/&gt;&lt;/font&gt;&lt;br/&gt;\n</code></pre>\n\n<p>I could only make Ajax request and response successfully. Nothing more I could understand from those tutorials found over the internet. More precisely, how can I use the Ajax response in the <code>items</code> attribute of the preceding <code>&lt;c:forEach&gt;&lt;c:forEach&gt;</code> loop such as <code>items=\"${stateList}\"</code>? </p>\n\n<p>Could you give me some hint/idea how can I return a list of data and use it in the preceding loop to populate the state select box? Could you please lead me some steps ahead from here?</p>\n\n<p>I'm using NetBeans 6.9.1 (not Eclipse). In some tutorials about Marvan projects in Eclipse, it was mentioned that the <code>pom.xml</code> file is required to configure to include <code>&lt;dependencies&gt;&lt;/dependencies&gt;</code> (Jackson dependency). There is no such thing like <code>pom.xml</code> in my project in NetBeans. Is it required to configure somewhere in some xml file in NetBeans such as the one mentioned <a href=\"http://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/\" rel=\"nofollow\">here</a>?</p>\n"},{"tags":["ajax","jquery-ui","autocomplete","cakephp-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13254617,"title":"Populating my jquery autocomplete with contents of an ajax call to cakephp","body":"<p>I have an input field that I'm turning into a jqueryUI autocomplete:</p>\n\n<pre><code>$( \"#autocomplete\" ).autocomplete({\n    autoFocus: true,\n    source: mylist\n });\n</code></pre>\n\n<p>The mylist variable is just a string in the array format <code>['Value1','Value2,'Blah']</code> which i originally just hardcoded into the script.</p>\n\n<p>Now I want the mylist variable to be the result of an ajax call to a function in my cakephp app. The function is basically as follows, it just grabs all the data as a list, and json encodes it.</p>\n\n<pre><code>public function source() {\n    $this-&gt;layout = 'ajax';\n    $countries=$this-&gt;Country-&gt;find('list',array('fields'=&gt;'Country.country'));\n    ChromePhp::log($countries);\n    echo json_encode($countries);\n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>{\"1\":\"Afghanistan\",\"2\":\"Albania \",\"3\":\"Algeria \",\"5.. \n</code></pre>\n\n<p>My issue is getting the output of this function, (which ends up in the ajax success callback as 'data') into the correct format to place into the options array of the autocomplete.</p>\n\n<p>I can get as far as console logging each value, but I'm stumped. Basically clutching at straws at the correct syntax.</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    dataType: \"json\",\n    url: \"/source/\",\n    success: function(data){\n        /*\n        magic array string creation code would go here instead of my code below...\n        */\n        $.each(data, function(i, item) {\n            console.log(item);\n        });\n        console.log('data',data);\n\n\n    }\n})\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13254947,"title":"Ajax array to PHP equals null","body":"<p>I have this ajax form, which at the end I have the values in an array. the code is below..but i keep getting null in my php response for these items. I think  I am doing this .ajax call wrong, any ideas would be greatly helpful. I also dont know what to write in the success section of the .ajax call. is that what I am missing? Please have a look below:</p>\n\n<pre><code>$('#submit_third').click(function(){\n    //update progress bar\n    $('#progress_text').html('100% Complete');\n    $('#progress').css('width','339px');\n    //prepare the fourth step\n\n   var fields = new Array(\n        $('#usernameReg').val(),\n        $('#passwordReg').val(),\n        $('#email').val(),\n        $('#firstname').val(), \n        $('#lastname').val(),\n        $('#city').val(),\n        $('#phone').val(),\n        categoryResult,\n        $(\"#msg\").val()                     \n    );\n\n    var tr = $('#fourth_step tr');\n    tr.each(function(){\n        //alert( fields[$(this).index()] )\n        $(this).children('td:nth-child(2)').html(fields[$(this).index()]);\n    });\n\n\n    //slide steps\n    $('#third_step').fadeOut(1000);\n    $('#fourth_step').delay(1000).fadeIn(1000);          \n\n    $('#submit_fourth').click(function(){\n        //send information to server\n        console.log(fields);\n       $.ajax({\n            type: \"POST\",\n            data: 'fields',\n            dataType: 'json',\n            url: \"php/postEngine.php\",\n            success: function(html){\n\n            }\n        });\n\n\n    });     \n});\n</code></pre>\n\n<p>php info (i am using flourish:\n    \n\n<pre><code>include_once($_SERVER['DOCUMENT_ROOT'] . '/../inc/init.php');\ninclude_once($_SERVER['DOCUMENT_ROOT'] . '/dev/form_data.php');\ninclude_once($_SERVER['DOCUMENT_ROOT'] . '/dev/db_handling.php');\nini_set('display_errors', 'On');\ntry {\n\n    $tbl_user   =   'tbl_users';\n\n    $statement = $db-&gt;prepare(\"INSERT INTO $tbl_user \n        (username,\n        email,\n        firstname,\n        lastname,\n        city,\n        phone)\n        VALUES \n        (%s,\n        %s,\n        %s,\n        %s,\n        %s,\n        %s\n        )\"\n    );\n\n    $db-&gt;query($statement,\n        $un,\n        $email,\n        $firstname,\n        $lastname,\n        $city,\n        $phone\n        );\n\n    //  Update of Email_Replied to 1\n\n    //$db-&gt;execute(\"UPDATE accommodation SET Email_Replied = '1' WHERE ID = %i\", $user_id); \n\n} catch (Exception $e) {\n    echo $error_msg;\n    echo $un;\n    echo $email;\n    echo $firstname;\n    echo $lastname;\n    echo $city;\n    echo $phone;\n    echo json_encode($un);\n    $error_msg = 'An error occured on postEngine.php';\n\n}\n</code></pre>\n\n<p>?> \n     \n\n<pre><code>$un         =   fRequest::get('fields[0]');\n$email      =   fRequest::get('fields[2]');\n$firstname  =   fRequest::get('fields[3]');\n$lastname   =   fRequest::get('fields[4]');\n$city       =   fRequest::get('fields[5]');\n$phone      =   fRequest::get('fields[6]');\n</code></pre>\n\n<p>?></p>\n"},{"tags":["c#",".net","ajax","gridview","modalpopupextender"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13241705,"title":"Open an ajax modalpopup with details from gridview cells","body":"<p>I've got a gridview with a appointment information in.  What I want to do is have a linkbutton in each cell (which will be created at runtime) and open a modal popup showing the details of the appointment. Any help would be greatly appreciated.</p>\n\n<p>So far I've got, but it won't fire the linkbutton</p>\n\n<pre><code>&lt;asp:GridView ID=\"Grd\" runat=\"server\" AutoGenerateColumns=\"true\" onrowdatabound=\"Grd_RowDataBound\"&gt;&lt;/asp:GridView&gt;&lt;asp:Button ID=\"btnShowPopup\" style=\"display:none\" runat=\"server\"  /&gt;\n&lt;ajaxToolkit:ModalPopupExtender\nID=\"ModalPopupExtender1\" runat=\"server\" TargetControlID=\"btnShowPopup\" PopupControlID=\"pnlpopup\" CancelControlID=\"ImgCancel\" &gt;&lt;/ajaxToolkit:ModalPopupExtender&gt;\n&lt;asp:Panel ID=\"pnlpopup\" runat=\"server\" Width=\"400px\" &gt;&lt;!--Show Details--!&gt;\n &lt;asp:ImageButton ID=\"imgCancel\"  AlternateText=\"cancel\"  Height=\"25\" Width=\"25\" runat=\"server\" ImageAlign=\"Right\" /&gt;\n&lt;/asp:Panel&gt;\n</code></pre>\n\n<p>code behind</p>\n\n<pre><code>protected void Grd_RowDataBound(object sender, GridViewRowEventArgs e)\n    {\n        if (e.Row.RowType == DataControlRowType.DataRow)\n        {\n            //Split out the visit details &amp; format\n            for (int i = 0; i &lt;= e.Row.Cells.Count - 1; i++)\n            {\n\n                LinkButton lnk = new LinkButton();\n                lnk.Text = \"Details for:\" + \"&lt;br /&gt;\" + e.Row.Cells[i].Text; \n\n                lnk.CommandName = \"ShowDetails\";\n                lnk.Command += LinkButton_Command;\n                e.Row.Cells[i].Controls.Add(lnk);\n\n\n            }\n\n\n\n        }\n    }\n    protected void LinkButton_Command(object sender, CommandEventArgs e)\n    {\n        if (e.CommandName == \"ShowDetails\")\n        {\n\n            LinkButton btndetails = sender as LinkButton;\n\n            GridViewRow gvrow = (GridViewRow)btndetails.NamingContainer;\n\n            this.ModalPopupExtender1.Show();\n\n\n        }\n    }\n</code></pre>\n"},{"tags":["ajax","jsf","primefaces"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13255142,"title":"Primefaces dataTable in composite component and rowUnselect event","body":"<h2>Implementation and Purpose:</h2>\n\n<p>I implemented a composite component with a primefaces p:dataTable in it. I also added p:ajax listeners to the table for rowSelect and rowUnselect events whose listeners can be defined by the actual page using the composite component.</p>\n\n<h2>Error situation:</h2>\n\n<p>For the rowSelect event and its listener this definition works just fine. In the case a row is unselected the unselect listener is called, however, an exception is thrown indicating that the composite component cannot be resolved in the using page by the EL expression (see the log) which is actually used in the composite component to dynamically lookup the passed listener. And it sounds totally correct to me that this cannot work. The exception's log entry is declared as a warning but the the jsf processing cycle is broken since the update definitions are not executed.</p>\n\n<h2>Question:</h2>\n\n<p>Am I missing something in my definition or is the primefaces p:ajax implementation doing something which is not intended? Why am I experiencing this behaviour for the primefaces unselectRow event but not for the selectRow event?</p>\n\n<p>My composite component is:</p>\n\n<pre><code>&lt;composite:interface&gt;\n    &lt;composite:attribute name=\"selectListener\" method-signature=\"void f()\" /&gt;\n    &lt;composite:attribute name=\"selectUpdate\" /&gt;\n    &lt;composite:attribute name=\"unselectListener\" method-signature=\"void f()\" /&gt;\n    &lt;composite:attribute name=\"unselectUpdate\" /&gt;\n  &lt;/composite:interface&gt;\n\n  &lt;composite:implementation&gt;\n    &lt;p:dataTable id=\"abnormalityTable\" var=\"abnormality\" value=\"#{abnormalityTableView.model}\" lazy=\"true\"\n      paginator=\"true\" rows=\"10\" rowsPerPageTemplate=\"5,10,15\" selection=\"#{abnormalityTableView.selectedRow}\"\n      selectionMode=\"single\"\n      paginatorTemplate=\"{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}\"&gt;\n\n      &lt;c:if test=\"#{!empty cc.getValueExpression('selectListener')}\"&gt;\n        &lt;p:ajax event=\"rowSelect\" listener=\"#{cc.attrs.selectListener}\" update=\"#{cc.attrs.selectUpdate}\" /&gt;\n      &lt;/c:if&gt;\n      &lt;c:if test=\"#{!empty cc.getValueExpression('unselectListener')}\"&gt;\n        &lt;p:ajax event=\"rowUnselect\" listener=\"#{cc.attrs.unselectListener}\" update=\"#{cc.attrs.unselectUpdate}\" /&gt;\n      &lt;/c:if&gt;\n\n      &lt;p:column headerText=\"#{docText['abnormality.name']}\" filterBy=\"#{name}\"&gt;\n        &lt;h:outputText value=\"some dummy output\" /&gt;\n      &lt;/p:column&gt;\n    &lt;/p:dataTable&gt;\n  &lt;/composite:implementation&gt;\n</code></pre>\n\n<p>And the stacktrace from the log is:</p>\n\n<pre><code>16:59:40,868 WARNUNG [javax.enterprise.resource.webcontainer.jsf.lifecycle] (http-localhost-127.0.0.1-8443-2) Unable to resolve composite component from using page using EL expression '#{cc.attrs.unselectListener}': javax.faces.FacesException: Unable to resolve composite component from using page using EL expression '#{cc.attrs.unselectListener}'\n    at com.sun.faces.facelets.tag.TagAttributeImpl$AttributeLookupMethodExpression.invoke(TagAttributeImpl.java:444) [jsf-impl-2.1.7-jbossorg-2.jar:]\n    at org.primefaces.component.behavior.ajax.AjaxBehaviorListenerImpl.processAjaxBehavior(AjaxBehaviorListenerImpl.java:44) [primefaces-3.5-SNAPSHOT.jar:]\n    at org.primefaces.event.UnselectEvent.processListener(UnselectEvent.java:40) [primefaces-3.5-SNAPSHOT.jar:]\n    at javax.faces.component.behavior.BehaviorBase.broadcast(BehaviorBase.java:106) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:760) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at javax.faces.component.UIData.broadcast(UIData.java:1071) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at javax.faces.component.UIData.broadcast(UIData.java:1093) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at javax.faces.component.UIData.broadcast(UIData.java:1093) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81) [jsf-impl-2.1.7-jbossorg-2.jar:]\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.1.7-jbossorg-2.jar:]\n    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118) [jsf-impl-2.1.7-jbossorg-2.jar:]\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at com.ocpsoft.pretty.PrettyFilter.doFilter(PrettyFilter.java:126) [prettyfaces-core-3.3.2.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:840) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:560) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:488) [jbossweb-7.0.13.Final.jar:]\n    at com.ocpsoft.pretty.PrettyFilter.doFilter(PrettyFilter.java:118) [prettyfaces-core-3.3.2.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.2.0.jar:1.2.0]\n    at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.2.0.jar:1.2.0]\n    at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:380) [shiro-core-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.0.jar:1.2.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_26]\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13254296,"title":"ajax split panel examples","body":"<p>Can anyone suggest a good tutorial or framework for ajax/php split panels. The idea is to create 2 panels and in panel 1 have a menu which when clicked opens content in panel 2. I have spent ages trying to find examples on google, but no luck. Thank you.</p>\n"},{"tags":["php","javascript","jquery","mysql","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":44,"score":-6,"question_id":13246124,"title":"What javascript engine/lib should i use?","body":"<p>i m going to create a dating web site. it's online game. there are will at first registration, chat and the game, where people can ask question and random users (3 boys to 3 girls) answer on each other at real time.</p>\n\n<p>at the end, people, if they want, they can choose a man.</p>\n\n<p>so, i know very good html, php, mysql. A little js, ajax, jQuery.\nwhat engine and how should i start to make this project?</p>\n\n<p>i read about Ajax Push Engine. Should i use it or search something else, another technology? Or maybe just write site on clear jQuery and mysql?</p>\n"},{"tags":["javascript","ajax","phonegap","mobile","dynamic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13254847,"title":"Common practice to pull dynamic content with phonegap?","body":"<p>So, I've recently been using phonegap to develop mobile applications across several platforms. I realize that to pull dynamic content, you'll have to use an AJAX call within JavaScript. </p>\n\n<p>I'm wondering, is this common practice among HTML5 apps? Is it considered poor practice to pull content dynamically from another server? (since it would require the phone to be running on wifi or some sort of data plan).</p>\n\n<p>Just wondering if it's good/bad practice in app development.</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ajax","div","struts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13253405,"title":"Show ajax response in a div according to the value of a selection","body":"<p>I have two selections. The second selection values depend on the first ones.\nWhen the user select a value in the first select, an Action is called to fill the second select.\nIt works only if the user submits the form and there are validation errors.</p>\n\n<p>how could I reload the div when the user selects a value in the first select?</p>\n\n<p>My jquery is:</p>\n\n<pre><code>$('select[name=select1]').change(function () {\n            var cod=$(this).val();\n            if (cod&gt;0) {\n                $.ajax({\n                    url:\"Load.do\",\n                    data: \"cod=\"+cod,\n                    });\n            }\n        });\n</code></pre>\n\n<p>In the struts-config.xml, I have:</p>\n\n<pre><code>&lt;action path=\"/Load\" scope=\"request\" type=\"mypackage.Load\"&gt;\n    &lt;forward name=\"Success\" path=\"/jsp/myForm.jsp\"/&gt;\n &lt;/action&gt;\n</code></pre>\n\n<p>The class Load is an Action:</p>\n\n<pre><code>public class Load extends Action {\npublic ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response)\n{\n    // TODO Auto-generated method stub\n\n    Connection con = null;\n    Statement stmt = null;\n    ResultSet rs = null;\n\n    try {\n        // get the connection \n        stmt = (Statement) con.createStatement();\n\n        String cod = request.getParameter(\"cod\");\n\n        String select = new String(\"Select firstCode, name from mytable where secondCode = '\");\n        select = select.concat(cod);\n        select = select.concat(\"';\");\n        rs = stmt.executeQuery(select);\n        ArrayList&lt;LabelValueBean&gt; arr = new ArrayList&lt;LabelValueBean&gt;();            \n        while (rs.next()) {\n            arr.add(new LabelValueBean(rs.getString(\"name\"),rs.getString(\"firstCode\")));\n        }\n\n        request.getSession().setAttribute(\"arr\", arr);\n\n        return mapping.findForward(\"Success\");\n    } catch (NamingException e) {\n        e.printStackTrace();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }  catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        if (rs != null) {\n              try { rs.close(); } catch (SQLException e) {}\n              rs = null;\n        }\n        if (stmt != null) {\n              try { stmt.close(); } catch (SQLException e) {}\n              stmt = null;\n        }\n        if (con != null) {\n              try { con.close(); } catch (SQLException e) {}\n              con = null;\n        }        \n    }\n\n    return mapping.findForward(\"Failure\");\n}\n }\n</code></pre>\n\n<p>In my myForm.jsp page, the select which I want fill is:</p>\n\n<pre><code> &lt;html:select property=\"prop1\"&gt;\n &lt;html:option value=\"0\"&gt;Choose:&lt;/html:option&gt;\n &lt;% if (request.getSession().getAttribute(\"arr\") != null) { %&gt;\n&lt;html:optionsCollection name=\"arr\" label=\"label\" value=\"value\"/&gt;\n&lt;% } %&gt;\n&lt;/html:select&gt;\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13254383,"title":"Passing input field form value to php script that should return that value and javascript to alert it end up with null","body":"<p>So, I have a form with one input text field(search_term) and a submit button.</p>\n\n<p>What I'm trying to do is type in a keyword into the input text field, press Submit, the keyword gets sent to a php script that will json_encode it and send it back to the form page where an alert box should appear and show the keyword.</p>\n\n<p>Instead I keep getting <code>null</code> shown in the alert box after pressing the submit.</p>\n\n<p>PHP script works fine if I actually type it out in the url with keyword passed too:</p>\n\n<p><code>localhost/filter.php?search_term=hey</code></p>\n\n<p><strong>JavaScript</strong> to submit the form and get the value back asynchroniously(<em>without reloading the page</em>):</p>\n\n<pre><code>$('#filter_form').on('submit', function(e){\n                    var filtered_data = null;\n\n                    e.preventDefault();\n\n\n                    $.ajax({\n                        type: 'GET',\n                        dataType: 'json',\n                        url: 'filter.php',\n                        async: false,\n                        success: function(json)\n                        {\n                            filtered_data = json;\n                        }\n                    });\n\n                    alert(filtered_data);\n                });\n</code></pre>\n\n<p><strong>filter.php</strong>:</p>\n\n<pre><code>$search_term = $_GET['search_term'];\n    echo json_encode($search_term);\n</code></pre>\n"},{"tags":["php","ajax","exec","progress"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":39,"score":1,"question_id":13251349,"title":"PHP Ajax Shell Exec() Progress","body":"<p>What I'm trying to do is quite simple.</p>\n\n<pre><code>echo \"doing a....\"\nStart progress bar\nthen exec(\"commandA\")\nstop progress bar\n\necho \"doing b....\"\nStart progress bar\nthen exec(\"commandA\")\nstop progress bar\n\necho \"doing c....\"\nStart progress bar\nthen exec(\"commandC\")\nstop progress bar\n</code></pre>\n\n<p>etc</p>\n\n<p>The progress bar doesn't need to be accurate, more of a comfort to show something is happening.</p>\n\n<p>I've read it can be done using jquery and php/ajax.. but I've no idea how.\nAnyone got a simple example I can try a work with ?</p>\n\n<p>Thanks :)</p>\n"},{"tags":["javascript","ajax","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13253956,"title":"Symfony2 authentication handle with Ajax","body":"<p>I have few questions about authentication with ajax (My questions are in bold)</p>\n\n<p>I have full frontend in JS, and I need to set up an authentication system for my app.</p>\n\n<p>− security.yml provide firewall. All is secured excepted /, /login and /login_check</p>\n\n<pre><code>firewalls:\n    dev:\n        pattern:  ^/(_(profiler|wdt)|css|images|js)/\n        security: false\n\n    login:\n        pattern:  ^/login$\n        security: false\n\n    secured_area:\n        pattern:    ^/.+\n        form_login:\n            login_path:  /login\n            check_path:  /login_check\n            success_handler: authentication_handler\n            failure_handler: authentication_handler\n        logout:\n            path:   /logout\n            target: /\n</code></pre>\n\n<p>− the / route does nothing, just call JS file.</p>\n\n<pre><code>/**\n * @Route(\"/\", name=\"home\")\n * @Template()\n */\npublic function homepageAction()\n{\n    return array();\n}\n</code></pre>\n\n<p>the JS launch the entire app if an user is connected, or the login form (always in JS). <strong>I think I have to call the server with ajax if an user is connected but how, which action ??</strong></p>\n\n<p>− Here the login action :</p>\n\n<pre><code>class SecuredController extends Controller\n{\n    /**\n     * @Route(\"/login\", name=\"login\")\n     *\n     */\n    public function loginAction()\n    {\n        if ($this-&gt;get('request')-&gt;attributes-&gt;has(SecurityContext::AUTHENTICATION_ERROR)) {\n            $error = $this-&gt;get('request')-&gt;attributes-&gt;get(SecurityContext::AUTHENTICATION_ERROR);\n        } else {\n            $error = $this-&gt;get('request')-&gt;getSession()-&gt;get(SecurityContext::AUTHENTICATION_ERROR);\n        }\n\n        $json = json_encode(array(\n            'username' =&gt; $this-&gt;get('request')-&gt;getSession()-&gt;get(SecurityContext::LAST_USERNAME),\n            'error'    =&gt; $error,\n        ));\n        $response = new Response($json);\n        $response-&gt;headers-&gt;set('Content-Type', 'application/json');\n\n        return $response;\n    }\n\n    /**\n     * @Route(\"/login_check\", name=\"security_check\")\n     */\n    public function securityCheckAction()\n    {\n        // The security layer will intercept this request\n    }\n\n    /**\n     * @Route(\"/logout\", name=\"logout\")\n     */\n    public function logoutAction()\n    {\n        // The security layer will intercept this request\n    }\n}\n</code></pre>\n\n<p>− I set up handler for AuthenticationSuccess or Failed :</p>\n\n<pre><code>class AuthenticationHandler implements AuthenticationSuccessHandlerInterface, AuthenticationFailureHandlerInterface\n{\n    public function onAuthenticationSuccess(Request $request, TokenInterface $token)\n    {\n        if ($request-&gt;isXmlHttpRequest()) {\n            $result = array('success' =&gt; true);\n            return new Response(json_encode($result));\n        }\n        else {\n            // Handle non XmlHttp request here\n        }\n    }\n\n    public function onAuthenticationFailure(Request $request, AuthenticationException $exception)\n    {\n        if ($request-&gt;isXmlHttpRequest()) {\n            $result = array('success' =&gt; false);\n            return new Response(json_encode($result));\n        }\n        else {\n        // Handle non XmlHttp request here\n        }\n    }\n}\n</code></pre>\n\n<p><strong>− I need to handle access denied actions, but how ??</strong></p>\n\n<p>thank you !</p>\n"},{"tags":["php","html","ajax","prototypejs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13251784,"title":"Filling a select dropdown based on previous selection using Ajax.Updater","body":"<p>I'm trying to automatically fill a select dropdown with options based on the output from a php page. </p>\n\n<p>I'm using the latest version of prototype and I've setup Ajax.Updater to get a php page with the correct parameters. I can easily display the result of this in a list, but how can I make this list become the options of a select box? </p>\n\n<pre><code>function get_second_list() {\nnew Ajax.Updater(\"second_list\", \"invBatchNumberFromProd.php?q=\"+$F(\"product\"),{method:\"get\"});\n}\n</code></pre>\n\n<p>And in my form I have </p>\n\n<pre><code>&lt;label&gt;Batch Number:&lt;/label&gt;&lt;select id=\"second_list\" name=\"batch\"&gt;\n    &lt;option&gt; \n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>I can't figure out what to do from this point. My php page outputs a text list, but I can just as easily make this output whatever anyone recommends.</p>\n\n<p>If I need to clarify anything at all then please let me know.</p>\n"},{"tags":["javascript","ajax","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13253081,"title":"Codeigniter trouble sending php var into javascript and .load content","body":"<p>Im having troubles sending a variable from php to javascript.</p>\n\n<p>I pull javascript (Ajax) trough this link.</p>\n\n<pre><code>&lt;script src=\"&lt;?php echo base_url().'assets/js/main.js' ?&gt;\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>In my <code>main.js</code> :</p>\n\n<pre><code>var base_url = '&lt;?php echo base_url(); ?&gt;';\nvar language = '&lt;?php echo $language; ?&gt;';\n</code></pre>\n\n<p>Im trying to load content dynamically without refresh webpage, by using ajax <code>.load</code> this way:</p>\n\n<pre><code>var addressValue = $(this).children('a').attr(\"href\");\n\n$('#conteudo').fadeOut(\"slow\").load(addressValue+'/index.php?idioma='+language+' #conteudo').hide().fadeIn(\"slow\")\n</code></pre>\n\n<p>I can load perfectly with the <code>addressValue</code> onyl.\nBut when i try the way above, my language won't echo.\nIf instead of using <code>language</code>  i put the language i want without variable e.g. portuguese it works like a charm.\nim working with multilanguage so i need to pull the content in the language the user did choose.</p>\n\n<p>This is how user can set language</p>\n\n<pre><code>&lt;ul class=\"nav pull-right language\" id=\"barra_de_idiomas\"&gt;\n    &lt;li&gt;&lt;?php echo anchor(($this-&gt;uri-&gt;uri_string()).\"?idioma=english\",'&amp;nbsp;', 'class=\"language\" id=\"en\"') ?&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;?php echo anchor(($this-&gt;uri-&gt;uri_string()).\"?idioma=portuguese\",'&amp;nbsp;', 'class=\"language\" id=\"pt\"') ?&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;?php echo anchor(($this-&gt;uri-&gt;uri_string()).\"?idioma=german\",'&amp;nbsp;', 'class=\"language\" id=\"de\"') ?&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;?php echo anchor(($this-&gt;uri-&gt;uri_string()).\"?idioma=french\",'&amp;nbsp;', 'class=\"language\" id=\"fr\"') ?&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>And my construct from controller:</p>\n\n<pre><code>    $this-&gt;load-&gt;library('user_agent');\n    if ($this-&gt;config-&gt;item('language') == '') {\n        if($this-&gt;input-&gt;get('idioma') == true) {\n            $this-&gt;config-&gt;set_item('language', $this-&gt;input-&gt;get('idioma'));\n        } elseif ($this-&gt;agent-&gt;accept_lang('en')) {\n            $this-&gt;config-&gt;set_item('language', 'english');\n        } elseif ($this-&gt;agent-&gt;accept_lang('de')) {\n            $this-&gt;config-&gt;set_item('language', 'german');\n        } elseif ($this-&gt;agent-&gt;accept_lang('pt')) {\n            $this-&gt;config-&gt;set_item('language', 'portuguese');\n        } else {\n            $this-&gt;config-&gt;set_item('language', 'portuguese');\n        }\n    }\n    $language = $this-&gt;config-&gt;item('language');\n    $data['language'] = $language;\n    $this-&gt;load-&gt;vars($data);\n</code></pre>\n"},{"tags":["java","jquery","ajax","servlets","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13251272,"title":"Ajax post to specific java method","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4112686/how-to-use-servlets-and-ajax\">How to use Servlets and Ajax?</a>  </p>\n</blockquote>\n\n\n\n<p>I have the following (part of) code:</p>\n\n<pre><code>$.ajax({\n           type: \"POST\",\n           url: \"Myclass.DOSOMETHING(PARAMETER???)\",\n           data: dataString,\n           dataType: \"json???\",\n</code></pre>\n\n<p>My question is: How can I send the post to a specific method of a Java servlet class (extension of HttpServlet)?\nFor example:\n    (OverviewServlet.java)</p>\n\n<pre><code>public void removeItem(int idItem) {\n    itemDAO.delete(idItem);\n}\n</code></pre>\n"},{"tags":["ajax","selenium"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3418,"score":0,"question_id":777204,"title":"Assert that no values are selected from dropdown list with selenium IDE","body":"<p>I have this scenario: simple html form that is being processed with Ajax with clear (reset that form) button. I want to test clear function, hence the question:  What is the right way to check that no values are selected from dropdown list with Selenium IDE?</p>\n\n<p>I've tried assertSelectedValue command, but didn't find a way to specify the unselected value. So i switched to assertValue command which works smooth with input fields and checkboxes. But is it right to use it for dropdown lists? Even though test passes with specified dropdown list id as target and blank field as a value, i still can't get rid of a feeling something is wrong.</p>\n\n<p>Any clarification is much appreciated.</p>\n"},{"tags":["ajax","jsf-2","cdi","myfaces","codi"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13252249,"title":"Does CDI @Inject in FacesConverter with CODI's @Advanced work with AJAX requests?","body":"<p>We use <code>FacesConverter</code>s and annotate them with <code>CODI</code>'s <code>@Advanced</code> annotation in order to be able to use <code>CDI</code> injection. This works with normal requests. But on <code>AJAX</code> requests the injected <code>CDI</code> beans are null. And the <code>FacesContext</code> parameter in </p>\n\n<pre><code>public Object getAsObject(FacesContext context, UIComponent component, String value)\n</code></pre>\n\n<p>is <code>org.apache.myfaces.context.servlet.FacesContextImpl</code> instead of <code>org.apache.myfaces.extensions.cdi.jsf2.impl.listener.request.CodiFacesContextWrapper</code> as it is on normal requests when injection works.</p>\n\n<p>Does anyone know how to make injection work in <code>FacesConverter</code>s with <code>AJAX</code> requests? Thanks.</p>\n"},{"tags":["jquery","ajax","pagination"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13240222,"title":"jQuery: Add Class to AJAX-loaded Pagination","body":"<pre><code>$(\".paginate li\").click(function(){\n    $(this).attr('class','current');    \n    $(\"#ajax_results\").load(\"test.php?page=\" + $(this).attr('rel')).fadeIn();\n});\n</code></pre>\n\n<p>The above code is for a pagination script.  When the user clicks the pagination &lt;li&gt; the AJAX script fires off a request based on the rel value.  The issue I am having is with:</p>\n\n<pre><code>$(this).attr('class','current');\n</code></pre>\n\n<p>It applies for a brief second and then vanishes.  Ideally it would apply a class of 'current' to the clicked &lt;li&gt; and remain.  I'm not sure why it is being removed immediately after being applied.</p>\n"}]}
{"total":48691,"page":4,"pagesize":100,"questions":[{"tags":["php","jquery","ajax","curl"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":13252394,"title":"jQuery $.ajax() to PHP CURL","body":"<p>I am looking to translate the following into PHP CURL.</p>\n\n<pre><code>$.ajax({\n  url:\"MY_URL\",\n  cache: false,\n  type: \"POST\",\n  data: \"\",\n  dataType: \"xml\",\n  success: function(data) { \n    alert('Eureka!')\n    }\n});\n</code></pre>\n\n<p>I'm particularly interested in figuring out how I have to alter the following to get the dataType set to xml. The following code is not working:</p>\n\n<pre><code>$ch = curl_init('MY_URL');\ncurl_setopt($ch, CURLOPT_HEADER, 0); // get the header \ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); \ncurl_setopt($ch, CURLOPT_FRESH_CONNECT, 1);\ncurl_setopt($ch,CURLOPT_HTTPHEADER,array (\n      \"Content-Type: xml; charset=utf-8\",\n      \"Expect: 100-continue\",\n      \"Accept: xml\"\n     ));\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["ajax","api","google","maps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":9,"score":-1,"question_id":13252278,"title":"Google Maps Api + PHP + Json","body":"<p>I'm searching a complete example (with tutorial) of Google Maps web application with that characteristics:</p>\n\n<ul>\n<li>Multi makers (json or xml) load with ajax</li>\n<li>List of result interactive near map</li>\n<li>Auto loading of result when maps is draggable.</li>\n</ul>\n\n<p>I found more examples but all are incomplete.</p>\n\n<p>Can you help me? </p>\n"},{"tags":["c#","javascript","jquery","asp.net","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":936,"score":0,"question_id":7625437,"title":"how to call a server-side ASP.NET event from the client-side","body":"<p>I have an asp.net button in the gridview footer , and i wanna to call the server-side ASP.NET button event in the client side (javascript).</p>\n\n<p>How to do this please code details if possible.</p>\n\n<p><strong>My .aspx:</strong></p>\n\n<pre><code>&lt;FooterTemplate&gt;\n     &lt;asp:ImageButton ID=\"ibtn_add\" ImageUrl=\"~/Images/accord_plus.png\" runat=\"server\"\n                                        OnClick=\"ibtn_add_Click\" /&gt;\n&lt;/FooterTemplate&gt;\n</code></pre>\n\n<p>I wanna to know how to call the <code>ibtn_add_Click</code> in the client side.</p>\n\n<p>in the following code:</p>\n\n<pre><code>var isShift = false;\ndocument.onkeyup = function(e)\n{ if (e.which == 16) isShift = false; }\ndocument.onkeydown = function(e) {\n    if (e.which == 16) isShift = true;\n    if (e.which == 13 &amp;&amp; isShift == true) {\n        //Here I wanna to call ibtn_add_Click\n        return false;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Note :</strong></p>\n\n<p>The gridview in an update panel ,and i execute  the javascript through:</p>\n\n<pre><code> &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\"&gt;\n        &lt;Scripts&gt;\n            &lt;asp:ScriptReference Path=\"~/Scripts/Shortcut.js\" /&gt;\n        &lt;/Scripts&gt;\n &lt;/asp:ScriptManager&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13250746,"title":"Process chain of functions without UI block","body":"<p>I need to perform several functions in my JavaScript/jQuery, but I want to avoid blocking the UI.</p>\n\n<p>AJAX is not a viable solution, because of the nature of the application, those functions will easily reach the thousands. Doing this asynchroniously will kill the browser.</p>\n\n<p>So, I need some way of chaining the functions the browser needs to process, and only send the next function after the first has finished.</p>\n\n<p>The algorithm is something like this</p>\n\n<blockquote>\n  <p>For steps from 2 to 15</p>\n  \n  <blockquote>\n    <p>HTTP:GET amount of items for current step (ranges somewhere from a couple of hundred to multiple thousands)</p>\n    \n    <blockquote>\n      <p>For every item, HTTP:GET the results</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>As you see, I have two GET-request-\"chains\" I somehow need to manage... Especially the innermost loop crashes the browser near to instantly, if it's done asynchroniously - but I'd still like the user to be able to operate the page, so a pure (blocking) synchronous way will not work.</p>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","validation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13242315,"title":"Rails remote forms validation","body":"<p>Just a simple question I have followed the railscast -> <a href=\"http://railscasts.com/episodes/136-jquery-ajax-revised\" rel=\"nofollow\">http://railscasts.com/episodes/136-jquery-ajax-revised</a></p>\n\n<p>Its nice how for remote true works, but how I cna validate the model ? </p>\n\n<p>I have this one</p>\n\n<pre><code>&lt;%= form_for [:admin,@course], remote: true  do |f| %&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= f.label :title, \"The title:\" %&gt;&lt;br /&gt;\n    &lt;%= f.text_field :title %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"field\"&gt;\n    &lt;%= f.label :description, \"Descripcion:\" %&gt;&lt;br /&gt;\n    &lt;%= f.text_area :description %&gt;\n &lt;/div&gt;\n &lt;div class=\"actions\"&gt;\n   &lt;%= f.submit \"Send\"%&gt;\n &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>How I handle te error ??</p>\n\n<pre><code>def create\n\n  @course = Course.new(params[:course])\n\n  respond_to do |format|\n    if @course.save\n      format.html { redirect_to admin_index_url, :notice=&gt; 'Done !!' }\n      format.js\n    else\n      format.html { flash.now[:alert] = \"Not done\" \n                    render \"new\"\n                  }\n      format.js\n    end\n  end        \nend\n</code></pre>\n\n<p>any ideas why this dont works ??</p>\n"},{"tags":["ajax","encoding","coldfusion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13235660,"title":"Escaping characters with ajax and cold fusion","body":"<p>Hello I've got an issue with an encode failing.  Can anyone spot where I'm going wrong?</p>\n\n<pre><code>&lt;form&gt;\n    &lt;table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"background-color:#ededed;padding:50px;\"&gt;\n        &lt;tr&gt;\n            &lt;td align=\"left\"&gt;&lt;b&gt;Screen? (eg. Index)&lt;/b&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td align=\"left\"&gt;&lt;input type=\"text\" name=\"strFeedbackScreen\" value=\"\" style=\"width:300px;\"&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td style=\"height:10px\"&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td align=\"left\"&gt;&lt;b&gt;Comments:&lt;/b&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td align=\"left\"&gt;&lt;textarea name=\"strFeedbackComments\" style=\"width:400px;height:150px;\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td style=\"height:10px\"&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td align=\"left\"&gt;&lt;b&gt;Thank you for your feedback.&lt;/b&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td style=\"height:10px\"&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;cfoutput&gt;\n\n            &lt;tr&gt;\n                &lt;td align=\"left\"&gt;&lt;input type=\"button\" value=\"Send\" class=\"button\" \n                    onMouseover=\"this.className = 'buttonover';\" \n                    onMousedown=\"this.className = 'buttonover';\" \n                    onMouseOut=\"this.className = 'button';\" \n                    onclick=\"sendfeedback('strFeedbackScreen='+escape(this.form.strFeedbackScreen.value)+',strFeedbackComments='+escape(this.form.strFeedbackComments.value),'send_feedback_action_ajax')\"&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n        &lt;/cfoutput&gt;\n\n    &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>is the form</p>\n\n<pre><code>&lt;cfoutput&gt;\n    &lt;cfmail to=\"feedback@example.com\" from=\"feedback@example.com\" subject=\"Feedback left\" type=\"html\"&gt;\n\n        &lt;table cellpadding=\"0\" cellspacing=\"0\" border=\"0\"&gt;\n            &lt;tr&gt;\n                &lt;td&gt;**** This email has been sent to all concerned ****&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td style=\"height:10px;\"&gt;&amp;nbsp;&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;cfif application.ds eq \"App1\"&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;This feedback has been left on App 1.&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;cfelseif application.ds eq \"App2\"&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;This feedback has been left on App 2.&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;cfelseif application.ds eq \"App3\"&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;This feedback has been left on App 3.&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/cfif&gt;\n\n            &lt;tr&gt;\n                &lt;td style=\"height:10px;\"&gt;&amp;nbsp;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;b&gt;From:&lt;/b&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;#session.stafffirstname# #session.staffsurname# - #session.staffemail#&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td style=\"height:10px;\"&gt;&amp;nbsp;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;b&gt;Screen:&lt;/b&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;#strFeedbackScreen#&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td style=\"height:10px;\"&gt;&amp;nbsp;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;b&gt;Comments:&lt;/b&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;#strFeedbackComments#&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n\n    &lt;/cfmail&gt;\n&lt;/cfoutput&gt;    \n</code></pre>\n\n<p>is the action.cfm</p>\n\n<p>and the javascript is</p>\n\n<pre><code>function sendfeedback(fields,action) { \n    turnLayeron('ajaxloading');\n    nocache = Math.random();\n    http.open('get', '/ajax.cfm?action='+action+'&amp;fields='+fields+'&amp;nocache='+nocache);\n    http.onreadystatechange = function() {\n    if(http.readyState == 4){\n        closepopout();  \n            turnLayeroff('ajaxloading');\n        }\n    };\n    http.send(null);\n}\n</code></pre>\n\n<p>I've been trying to get uriencode working, but it encodes my string before it gets emailed.  Any ideas?</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","hibernate","jsf","lazy-loading"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13251792,"title":"JSF2 + Ajax EL issue with Hibernate Lazy Loading","body":"<p>I am attempting to intergrate spring, JSF2 and hibernate into a new project, but I am having an issue with lazy-loaded collections.  Here is the summary of my issue, I am attempting to figure out how I can lazy load (from hibernate with fetch = Lazy) via an ajax/PPR request from EL(JSF).</p>\n\n<p>The problem is that my view is attempting to access a collection that should be lazy loaded via EL, but the object is detached because the request has finished (I am using opensessioninviewfilter).  So is there any way to lazy load data when using PPR with many short ajax-y requests?  </p>\n\n<p>In this instance I am attempting to list multiple domain objects, and in a partial page render, using a view scoped bean, I want to pick one of the objects and display details about it and potentially update it.  The typical flow of information in my application would be as follows:  </p>\n\n<p>*A list of domain objects is loaded and populated to a p:datatable. The domain objects are stored in a list in a backing bean that is View scoped.<br>\n*When the user clicks on an item to edit it, the item is loaded into a variable in the backing bean called workingItem using ajax/PPR with the viewscoped bean.<br>\n*Typically, then the item would be loaded into a dialog (typcially a Primefaces p:dialog), once again this would be done in ajax.\n*Here is where things break down.  If the domain object has a collection that is lazy loaded (maybe to populate a p:selectOneMenu) it always throws a LazyLoadingException.  </p>\n\n<p>So my question is, how can I get the a lazy loaded collection to be loaded when the proxy is accessed during an ajax call (where I wouldn’t have the opportunity to re-attached the detached object).  </p>\n\n<p>*I CAN NOT use a eager fetch to work around this, the object graph is very large and I need to replicate the session information to other servers.<br>\n*I am using Spring’s opensessioninviewfilter, but I don’t believe it can help me in this instance (right?)\n*My root problem is that I don’t know how to attach an domain object to a session to do the lazy-load when the UI attempting to pull a property on the domain object.  </p>\n\n<p>I am finding that lazy-loading (with hibernate) is very hard to do where ajax is used a lot.  Any recommendations, suggestions would be GREATLY appreciated!</p>\n\n<h1>Here is my backing bean (Generic):</h1>\n\n<pre><code>@Component\n@Scope(\"view\")\npublic abstract class CrudBean&lt;T extends DomainObject,U extends CrudService&gt; extends AgoraBean     implements Serializable\n{\nprivate static final Logger logger = LoggerFactory.getLogger(CrudBean.class);\n\nprotected U crudService;\n\nprotected T workingItem;\nprotected List&lt;T&gt; cachedItems;\nprotected List&lt;T&gt; filteredList;\n\npublic abstract String createWorkingItem();\n\npublic void setWorkingItem(T item)\n{\n    workingItem = item;\n}\n\npublic T getWorkingItem()\n{\n    return workingItem;\n}\n\n\npublic List&lt;T&gt; getAllItems()\n{\n    if ( cachedItems == null )\n    {\n        cachedItems = getCrudService().getAllItems();\n    }\n    return cachedItems;\n}\n\n/* Other crud-dy stuff removed */\n\n}\n</code></pre>\n\n<h1>Here is an example of one of my domain objects:</h1>\n\n<pre><code>@Entity\n@Table(name = \"sites\" )\npublic class Site implements Serializable, DomainObject {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(updatable = false, nullable = false)\nprivate Long id; \n\n@Version\nprivate Integer version;\n\n@Column(length=255,nullable=false)\nprivate String name;\n\n@Column(length=25)\nprivate String abbreviation;\n\n@Column(length=100)\nprivate String street;\n\n@Column(length=100)\nprivate String city;\n\n@Column(length=2)\nprivate String locationState;\n\n@Column(length=10)\nprivate String zip;\n\n@Column(length=20)\nprivate String phone;\n\n@Column(length=20)\nprivate String fax;\n\n@Column(length=50)\nprivate String contactEmail;\n\n@Index(name = \"idxSitePublished\")\nprivate boolean published;\n\n@Index(name = \"idxSiteDefault\")\nprivate boolean defaultSite;\n\n@ManyToOne\nprivate Header header;\n\n@ManyToMany\n@Fetch(FetchMode.SELECT)\n@BatchSize(size=5)\n@OrderBy(\"priority ASC\")\nprivate List&lt;Script&gt; scripts;\n\n@ManyToMany\n@BatchSize(size=5)\n@OrderBy(\"priority ASC\")\nprivate List&lt;Style&gt; styles;\n}\n</code></pre>\n\n<h1>And My Web.xml</h1>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;\n    &lt;param-value&gt;Development&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/application-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt;    \n&lt;context-param&gt;\n    &lt;param-name&gt;primefaces.THEME&lt;/param-name&gt;\n    &lt;param-value&gt;home&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.html&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;\n        60\n    &lt;/session-timeout&gt;\n&lt;/session-config&gt;\n\n\n&lt;!-- Listeners - Spring should come first because we need them for our listener --&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;net.dupage88.www.servlet.SiteServletContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n&lt;error-page&gt;\n    &lt;exception-type&gt;javax.faces.application.ViewExpiredException&lt;/exception-type&gt;\n    &lt;location&gt;/public/index.html&lt;/location&gt;\n&lt;/error-page&gt;\n&lt;!--&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/public/404.jsf&lt;/location&gt;\n&lt;/error-page&gt;\n&lt;error-page&gt;\n    &lt;error-code&gt;401&lt;/error-code&gt;\n    &lt;location&gt;/public/401.jsf&lt;/location&gt;\n&lt;/error-page&gt;\n&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/public/500.jsf&lt;/location&gt;\n&lt;/error-page&gt;--&gt;\n\n&lt;!-- For Lazy Loading --&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.orm.hibernate3.support.OpenSessionInViewFilter&lt;/filter-class&gt;\n&lt;/filter&gt; \n&lt;filter-mapping&gt; \n    &lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt; \n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;filter&gt;\n    &lt;filter-name&gt;RootRedirectFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;net.dupage88.www.filters.RootRedirectFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;RootRedirectFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/index.html&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n\n&lt;filter&gt;\n    &lt;filter-name&gt;ShiroFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.shiro.web.servlet.ShiroFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;ShiroFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n\n&lt;filter&gt;\n    &lt;filter-name&gt;PrimeFaces FileUpload Filter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.primefaces.webapp.filter.FileUploadFilter&lt;/filter-class&gt;\n&lt;/filter&gt;   \n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;PrimeFaces FileUpload Filter&lt;/filter-name&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n&lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Any help or guidance would be appreciated and thanks for any help you can provide in advance!</p>\n\n<p>Thanks,\nChuck</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13251117,"title":"Wait for Ajax call to finish","body":"<p>I have a situation where in I m doing a number of AJAX calls using jquery and in turn returning JSON data from those calls into some variables on my page. \nThe issue is that the Ajax call takes a little time to get processed and in the mean time my control shifts to next statement where I intend to use the output of AJAX call. \nSince the call takes time to return the data I am left with empty object that fails my function.\nis there any way where I can wait for the finish of AJAX call to happen and proceed only when the result is returned from the call???</p>\n\n<p>so this is my code where in I am trying to return transactionsAtError to some other jquery file where the control shifts to next statement before this call gets executed</p>\n\n<pre><code>this.GetTransactionAtErrors = function (callback) {\n        var transactionsAtError;\n        $.ajax({\n            url: ('/Management/GetTransactionsAtError'),\n            type: 'POST',\n            cache: false,\n            success: function (result) {\n                if (result &amp;&amp; callback) {\n                    transactionsAtError = (typeof (result) == \"object\") ? result : $.parseJSON(result);\n                }\n            }\n        });\n        return transactionsAtError;\n    }\n</code></pre>\n"},{"tags":["jquery","html","ajax","grails"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13251017,"title":"Grails jQuery Ajax request - URL not working","body":"<p>I searched the net and also here at stackoverflow, but I couldn't find any hint on this...</p>\n\n<p>I've got a Grails 2.1.1 project and I want to call a Controller function from jQuery with an Ajax request. So far, I come up with this:</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: \"${createLink(controller:'userSearch',action:'ajaxFindUser')}\",\n    dataType: 'json',\n    data: {\n        lastname: $('#searchLastName').val(),\n        firstname: $('#searchFirstName').val(),\n        zipcode: $('#searchZipCode').val(),\n        city: $('#searchCity').val()\n    },\n    success: function(data) {\n        $('#searchSubContainerBody').html(data);\n\n        $('#searchTable tr').draggable({\n           cursor: 'move',\n           helper: 'clone',\n           scope: 'drag-guests',\n            start: function(event, ui) {\n              searchCloneTableRow.tr = this;\n                searchCloneTableRow.helper = ui.helper;\n                searchCloneTableRow.cells = new Array();\n                $.each(this.cells, function(index, column) {\n                    searchCloneTableRow.cells.push(column.innerText);\n                });\n            },\n            connectWith: '#searchDetailContainerDropArea'\n        });\n\n        $('searchTable').dataTable({\n            'bJQueryUI':true\n        });\n\n    },\n    error: function(request, status, error) {\n        $(errorDialog).html(error);\n        $(errorDialog).dialog('open');\n        return false;\n    },\n    complete: function() {\n        //do something\n    }\n});\n</code></pre>\n\n<p>and when I click on the button to fire the Ajax request, the DevTools show the following error: </p>\n\n<pre><code>POST &gt; http://localhost:8080/GrailsTest001/authentication/$%7Bg.createLink(controller:'userSearch',action:'ajaxFindUser')%7D 404 (Not Found) \n</code></pre>\n\n<p>so, as you can see, the URL get's HTML encoded... how can I prevent Grails from encoding it?</p>\n\n<p>in <code>Config.groovy</code> the codec is set to <code>none</code>:</p>\n\n<pre><code>// The default codec used to encode data with ${}\ngrails.views.default.codec = \"none\" // none, html, base64\n</code></pre>\n\n<p>what am I doing wrong here? could you give me any hint (or better: a solution) for this? any help is greatly appreciated!</p>\n"},{"tags":["ajax","json","validation","struts2","struts-validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13234357,"title":"validation using ajax in struts2","body":"<p>I used ajax validation to validate the following</p>\n\n<pre><code>   &lt;tr&gt;\n      &lt;td width=\"20\" style='color: red'&gt;\n         &lt;img src=\"images/icon-star.png\" width=\"16\" height=\"16\" /&gt;\n      &lt;/td&gt;\n      &lt;td id=\"lblCustomBillNo\" style=\"width: 15%\" class=\"searchCriteriaCellLbl\"&gt;\n         The custom Bill Number\n      &lt;/td&gt;\n      &lt;td width=\"5\" class=\"searchCriteriaCellLbl\"&gt;:&lt;/td&gt;\n      &lt;td class=\"searchCriteriaCellVal\"&gt;\n          &lt;s:textfield id=\"customBillNo\" name=\"customBillNo\" size=\"20\" maxlength=\"24\" style=\"width: 200px\" /&gt;\n      &lt;/td&gt;\n      &lt;td class=\"errorFlag\" style=\"color: red\" valign=\"middle\"&gt;\n          &lt;s:fielderror fieldName=\"customBillNo\" /&gt;\n      &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n      &lt;td width=\"20\" style='color: red'&gt;\n        &lt;img src=\"images/icon-star.png\" width=\"16\" height=\"16\" /&gt;\n      &lt;/td&gt;\n      &lt;td id=\"lblBillNo\" style=\"width: 15%\" class=\"searchCriteriaCellLbl\"&gt;\n         &lt;s:property value=\"%{getText('billNo')}\" /&gt;\n      &lt;/td&gt;\n      &lt;td width=\"5\" class=\"searchCriteriaCellLbl\"&gt;:\n      &lt;/td&gt;\n      &lt;td class=\"searchCriteriaCellVal\"&gt;\n          &lt;s:textfield label=\"billNo\" id=\"billNo\" name=\"billNo\" size=\"20\" maxlength=\"24\" style=\"width: 200px\" /&gt;\n      &lt;/td&gt;\n      &lt;td class=\"errorFlag\" style=\"color: red\" valign=\"middle\"&gt;\n          &lt;s:fielderror fieldName=\"billNo\" /&gt;\n      &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n      &lt;td width=\"20\" style='color: red'&gt;\n        &lt;img src=\"images/icon-star.png\" width=\"16\" height=\"16\" /&gt;\n      &lt;/td&gt;\n     &lt;td id=\"lblCarrierNo\" style=\"width: 15%\" class=\"searchCriteriaCellLbl\"&gt;\n        The carrier Number\n     &lt;/td&gt;\n     &lt;td width=\"5\" class=\"searchCriteriaCellLbl\"&gt;:\n     &lt;/td&gt;\n     &lt;td class=\"searchCriteriaCellVal\"&gt;\n        &lt;s:textfield label=\"carrierNo\" id=\"carrierNo\" name=\"carrierNo\" size=\"20\" maxlength=\"24\" style=\"width: 200px\" /&gt;\n     &lt;/td&gt;\n     &lt;td class=\"errorFlag\" style=\"color: red\" valign=\"middle\"&gt;\n        &lt;s:fielderror fieldName=\"carrierNo\" /&gt;\n     &lt;/td&gt;\n &lt;/tr&gt;\n</code></pre>\n\n<p>I use the following internationalization for errors in golbal i18n file</p>\n\n<pre><code>errors.required=${getText(fieldName)} requireddd\n</code></pre>\n\n<p>and this validation file</p>\n\n<pre><code> &lt;validators&gt;      \n     &lt;field name=\"customBillNo\"&gt;\n        &lt;field-validator type=\"requiredstring\" short-circuit=\"true\"&gt;\n           &lt;param name=\"trim\"&gt;true&lt;/param&gt;\n           &lt;message key=\"errors.required\" /&gt;\n        &lt;/field-validator&gt;\n     &lt;/field&gt;\n     &lt;field name=\"billNo\"&gt;\n      &lt;field-validator type=\"required\" short-circuit=\"true\"&gt;\n        &lt;message key=\"errors.required\" /&gt;\n       &lt;/field-validator&gt;\n     &lt;/field&gt;\n     &lt;field name=\"carrierNo\"&gt;\n       &lt;field-validator type=\"required\" short-circuit=\"true\"&gt;\n          &lt;message key=\"errors.required\" /&gt;\n       &lt;/field-validator&gt;\n     &lt;/field&gt;\n   &lt;/validators&gt;\n</code></pre>\n\n<p>and i put this javascript to use ajax validation</p>\n\n<pre><code>      function validate(){\n\n            //document.all.loading.style.display = 'block';\n\n            var searchUrl = 'AddEnteringApproval_approval';\n\n            var params = '';\n\n            var elemArray = document.mainForm.elements;\n            for (var i = 0; i &lt; elemArray.length;i++)\n            {\n                var element = elemArray[i];\n\n                var elementName= element.name;\n                if(elementName=='formAction')\n                    continue;\n                params += '&amp;' + elementName+'='+ encodeURIComponent(element.value);\n            }\n\n            params += '&amp;struts.enableJSONValidation=true&amp;struts.validateOnly=true';\n\n            createXmlHttpObject(); // this is my function that prepare ajax\n\n            sendRequestPost(http_request,searchUrl,false,params);\n\n            postValidation();\n\n    }\n\n    function postValidation() {\n       var form = $('#mainForm');\n\n       var text = http_request.responseText;\n\n       //clear previous validation errors, if any\n       StrutsUtils.clearValidationErrors(form);\n       alert(text)\n       //get errors from response\n       //var text = request.responseText;\n       var errorsObject = StrutsUtils.getValidationErrors(text);\n\n       //show errors, if any\n       if(errorsObject.fieldErrors)\n       {\n         StrutsUtils.showValidationErrors(form, errorsObject);\n       }\n       else\n       {\n         //good to go, regular submit\n         form.submit();\n       }\n    }\n\n\n       /*  This is one of the functions that doesn't work using the simple theme, so I redefined it.\n        This can be changed to clear the previous errors, as it does in the commented example\n        cleaning the errors on divErrors.\n        As I am just showing the messages with alerts I don't need to clear anything,\n        but the method still need to be redefined, even if it is empty.\n     */\n\n   StrutsUtils.clearValidationErrors = function(form, errors) {\n        //clear the div errors\n        //$('#divErrors').empty();\n    }\n\n\n    /* This method is responsible to show the messages.\n       The original versions works with the xhrml and css-xhtml theme but doesn't work with the simple theme\n       so I override the method with another implementation that shows the messages using alerts.\n       You can change the implementation to show the messages as you want,\n       but as the previous method this has to be redefined.\n     */\n\n    StrutsUtils.showValidationErrors = function(form, errors) {\n\n        if(errors.fieldErrors)\n        {alert((errors.fieldErrors))\n             for(var fieldName in errors.fieldErrors)\n             { \n                 alert(\"errors.fieldErrors[fieldName]   \" + errors.fieldErrors[fieldName]);\n\n               for(var i = 0; i &lt; errors.fieldErrors[fieldName].length; i++)\n               {\n                   alert('Field -&gt;' + fieldName + '\\nError -&gt; ' + errors.fieldErrors[fieldName][i]);\n               }\n             }\n        }\n    };\n</code></pre>\n\n<hr>\n\n<p>but when i execute the code i get no organized JSON text i showed in alert message box, the field name is not like the one in the error message, the second field name is missing, the third field name is cut (i.e.  carrierNo becomes rNo ). </p>\n\n<p><strong>can you help me. i want the field name in the JSON error match the error message text</strong></p>\n\n<p><em><strong>I just figured out what is the problem, but i don't know why it happens and why.\nit always remove the first 6 characters. why this happens</em></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/tFpra.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":13250601,"title":"AJAX and PHP not functioning","body":"<p>Here is my code.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Patient Information Management&lt;/title&gt;\n&lt;!--showDate AJAX script --&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nfunction showDate(){\nvar ajaxRequest;  // The variable that makes Ajax possible!\ntry{\n    // Opera 8.0+, Firefox, Safari\n    ajaxRequest = new XMLHttpRequest();\n}catch (e){\n// Internet Explorer Browsers\ntry{\n  ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n}catch (e) {\n try{\n     ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }catch (e){\n     // Something went wrong\n     alert(\"Your browser broke!\");\n     return false;\n  }\n}\n}\n// Create a function that will receive data \n// sent from the server and will update\n// div section in the same page.\najaxRequest.onreadystatechange = function(){\nif(ajaxRequest.readyState == 4){\n  var ajaxDisplay = document.getElementById('ajaxDiv');\n  ajaxDisplay.value = ajaxRequest.responseText;\n }\n }\n// Now get the value from user and pass it to\n// server script.\nvar date = document.getElementByName('Date').value;\nvar queryString = \"?date=\" +date ;\najaxRequest.open(\"GET\", \"getappointmentdate.php\" +queryString, true);\najaxRequest.send(null); \n}\n&lt;/script&gt;\n&lt;!-- //Calender Script --&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"scripts/jsDatePick_ltr.min.css\"/&gt;\n\n&lt;!--JavaScript--&gt;\n&lt;script type=\"text/javascript\" src=\"scripts/jsDatePick.min.1.3.js\"&gt;&lt;/script&gt;\n\n&lt;!--For javascript Calendar--&gt;  \n&lt;script type=\"text/javascript\"&gt;\nwindow.onload = function(){\n    new JsDatePick({\n        useMode:2,\n        target:\"Date\",\n        cellColorScheme:\"orange\",\n        dateFormat:\"%d-%m-%Y\",\n    });\n\n};\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div class=\"wrapper\"&gt;\n&lt;?php include(\"include/header.php\"); ?&gt;\n&lt;div class=\"clear\"&gt;&lt;/div&gt;\n&lt;?php \n\n\n&lt;div class=\"clear\"&gt;&lt;/div&gt;\n\n\n\n&lt;/div&gt; &lt;!-- end of sidemenu div --&gt;\n&lt;/div&gt; &lt;!-- end of left div --&gt;\n\n&lt;div id=\"right\" &gt;\n\n&lt;h2&gt;anything&lt;/h2&gt;\n&lt;div class='grey_divider'&gt;&lt;/div&gt;\n\n&lt;p&gt;&amp;nbsp;&lt;/p&gt;\n&lt;div class='grey_divider'&gt;&lt;/div&gt;\n&lt;h3&gt;Make Appointment&lt;/h3&gt;\n&lt;form action=\"\"&gt; \n Date &amp;nbsp;:&amp;nbsp; &lt;input type=\"text\" size=\"20\" id=\"Date\"  name=\"Date\"/&gt;\n &lt;input type='button' onclick='showDate()' value='Submit'/&gt;\n &lt;/br&gt;\n &lt;/br&gt;\n\n &lt;/form&gt;\n\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I click button 'Submit' , it should be run the php document, but unfortunately, nothing happen, someone can help me please.\nI catch html date with getElementByName instead of getElementById because the 'id' has been use to catch the calender js .Would it affect? </p>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13250976,"title":"Write to div as data streams in","body":"<p>Consider an AJAX call that writes to a div:</p>\n\n<pre><code>recent_req=$.post('result.php', { d: data }, function(returnData) {\n    $('#content').html(returnData);\n});\n</code></pre>\n\n<p>The PHP script at <code>result.php</code> performs some functions that take time, about 5-20 seconds per step. I am using PHP's <code>flush()</code> function to get the info to the browser as soon as each step starts and ends, but how can I get the Javascript to write the data to the <code>#content</code> div as it comes in?</p>\n\n<p>Thanks.</p>\n"},{"tags":["ajax","typo3","backend"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":11,"score":-1,"question_id":13234785,"title":"Typo3 4.5 TCA BackEnd Form Ajax Updater: Categories for Keywords","body":"<p>I would like to add a dropdown box (displaying categories for keywords) with onchange event. The onchange event should update the keyword list in my backend form. How to do this? Any hint very much welcome!</p>\n\n<pre><code>\"keywordCategories\" =&gt; Array (\n\"exclude\" =&gt; 1,\n\"l10n_mode\" =&gt; \"mergeIfNotBlank\",\n\"label\" =&gt; \"Categories\",\n\"config\" =&gt; Array (\n            \"type\" =&gt; \"select\",\n            \"foreign_table\" =&gt; \"my_extension_categories\",\n        )\n)\n</code></pre>\n"},{"tags":["c#","asp.net","ajax","autocompleteextender"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13250674,"title":"Can I show hyperlinks in AutoCompleteExtender?","body":"<p>I'm able to create a List&lt;> of strings and show it in a AutoCompleteExtender, but how can I make these suggestions clickable links? I figured, I could create a List of HyperLink objects, but they just show up as [Object]  in the list. Any suggestions? </p>\n\n<p>In simple words, I want to be able to click suggestions from the AutoSuggest list.</p>\n\n<p>Will I need to use some kinda client side script?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":54,"score":-3,"question_id":13248591,"title":"window.location.hash is undefined for ajax loaded content","body":"<p>I'm loading content with ajax on a wordpress single page website. I'm trying to have the url changed each time an ajax post is loaded.</p>\n\n<p>Here is the code I use to modify the hash when an item is clicked. The load function is working so I don't add it to the code below for clarity reason (it simply takes the href of the clicked li and load the content in a div).</p>\n\n<pre><code>    $(document).ready(function() {\n        $.ajaxSetup({cache: false});\n\n        $('#portfolio-list li:not(#DrawerContainer)').click(function() {\n\n           window.location.hash = \"#!\" + this.pathname;\n           alert(window.location.hash);\n\n        //And here comes the loading part\n\n        return false;\n        });\n\n    return false;       \n    });\n</code></pre>\n\n<p>Unfortunately the only thing added to my url is <code>#!undefined</code>. And alerting <code>window.location.hash</code> or <code>this.pathname</code> give me the same result.</p>\n\n<p>What do I need to get the pathname returned as a hash in the address bar?</p>\n"},{"tags":["java","javascript","ajax","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13250189,"title":"Get value Parameter from onclick() text field in one and the same JSP","body":"<p>I'm writing on a Web Application (Crowdfunding Platform - Student Project) and my Problem is a JSP page where the user can back a Project. \nI have a form field for the User where he can type in the amount of his donation and after this the same JSP should display the associated rewards. Finally he can submit the action to the Servlet.</p>\n\n<pre><code>&lt;input type=\"text\" class=\"login_spende\" maxlength=\"10\" id=\"spendeBetrag\" name=\"spendeBetrag\" value=\"1 &amp;euro;\" onFocus=\"if(this.value=='1 &amp;euro;') this.value='';\" onBlur=\"if(this.value=='')this.value='1 &amp;euro;';\"&gt;\n\n&lt;input type=\"button\" value=\"Reward auswählen\" onclick=\"doSomething()\"&gt;\n</code></pre>\n\n<p>This is the code to get the associated rewards with reference to the donation</p>\n\n<pre><code>&lt;%\n        List&lt;RewardDAO&gt; rewards = RewardDB.getProjektRewardsByBetrag(spendeBetrag, projektid);\n            for (RewardDAO reward : rewards) {\n        %&gt;  \n        &lt;div class=\"rewards_spende_box\"&gt;\n            &lt;div&gt;\n\n            &lt;/div&gt;\n            &lt;div class=\"rewards_spende\" style=\"background-color:#BBBBBB;\" &gt;\n            &lt;input type=\"checkbox\" class=\"checkbox_spende\" name=\"spendeReward\" value=\"&lt;%= reward.getRewardID() %&gt;\" /&gt;\n            &lt;div class=\"betrag_spende\"&gt;&lt;%=reward.getBetrag()%&gt;&amp;euro;&lt;/div&gt;\n            &lt;div class=\"rewardtext_projektseite\"&gt;&lt;%=reward.getBeschreibung()%&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;  \n        &lt;%\n            }\n        %&gt;  \n</code></pre>\n\n<p>The Word \"spendeBetrag\" is german for \"donationValue\" ;)</p>\n\n<p>But how is it possible to load the reward list after the user confirmed his donation value because the paramater \"spendeBetrag\" in <code>getProjektRewardsByBetrag(spendeBetrag, projektid);</code> depends on the text field above.</p>\n\n<p>My idea was it to do this with JavaScript, the reward list is on display: none but when the user pushed the button with the donation it should be display: block; but I'm unable to paste the value \"spendeBetrag\" into the Java code.</p>\n\n<p>Another idea was it to paste this code in an extra Servlet but then I have to load the page twice and this is not what I want.</p>\n\n<p>I hope anyone has a better idea.\nThanks for helping :)</p>\n"},{"tags":["php","mysql","ajax","live"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13250199,"title":"How to change icon color when new row is added in database","body":"<p>I want to make a php page that shows three icons. (icon1, icon2, icon3). Each icon displays the current status of a switch that has 2 status (ON-OFF). When each one of the switch change its status I get one new row entry in the database.\nWhat I want is, to change one icon from green to red when the switch turns off and from red to green when the switch turns on. \nThese changes must be visible in realtime (if possible) and without refreshing the php page. I want to have the php site loaded in my browser once and when something new added to my MySQL the page must show the new status.\nCan someone help me with this?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13250060,"title":"Javascript /jQuery: How can I make this AJAX request run faster?","body":"<p>I have this AJAX request which connects to a <code>newsletter-signup.html</code> file, and then searches the returned <code>data</code> variable for the string \"form-success\". <em>This string is applied via the (Django) template within an <code>if</code> statement to flag that the form was successful.</em></p>\n\n<p>Here is the snippet that searches the whole data:</p>\n\n<pre><code>if (data.indexOf('form-success') &gt; 0) {\n</code></pre>\n\n<p>Is there a faster way to search this data? Or perhaps an althoteger much better way to determine if the returned data was a successful sign up?</p>\n\n<p>Thanks in advance for your help. Here is the full code:</p>\n\n<pre><code>    $.ajax({ url: '/newsletter-signup', type: 'GET', data: {email: emailVal},  async: false,\n        success: function(data){\n            // Returning 'form-success' in our data string indicates the sign up worked\n            if (data.indexOf('form-success') &gt; 0) {\n                // open the success message in a modal window\n                happyModal.open({ content: thankYouContent });\n            } else {\n                // if not successful re-load the contents, firing our standard error message\n                theBtn.removeClass('disabled');\n                $('.login-panel').load('/newsletter-signup','email=' + encodeURIComponent(emailVal), function () {\n                });\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","json","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13249923,"title":"Use and meaning of data: { get_param: 'value' } in jQuery ajax + JSON","body":"<p>I am parsing generated json with jquery $.ajax but there is one option that I dont understand. I saw it in some examples and tried to look for at jquery.com but still not sure about it:</p>\n\n<p>this option is:</p>\n\n<pre><code>data: { get_param: 'value' }\n</code></pre>\n\n<p>which is used like this:</p>\n\n<pre><code>$.ajax({ \n                type: 'GET', \n                url: 'http://example/functions.php', \n                data: { get_param: 'value' }, //why we shell use that in that case?\n                success: function (data) { \n                                    var names = data\n                    $('#cand').html(data);\n                }\n          });\n</code></pre>\n\n<p>I know that \"<strong>data:</strong>\" is what sent to the server but parsing JSON I thought i don't send but retrieve from server with GET type. And the next part \"<strong>get_param: 'value'</strong>\"\n does not make sense to me in that case either, could anyone please explain when and what for and in what cases it shell be used?</p>\n\n<p>thank you.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13249830,"title":"Remove All Same id tr in table","body":"<pre><code>&lt;table&gt;\n&lt;tr id=\"Name\"&gt;&lt;/tr&gt;\n&lt;tr id=\"Name\"&gt;&lt;/tr&gt;\n&lt;tr id=\"Name\"&gt;&lt;/tr&gt;\n&lt;tr id=\"Name\"&gt;&lt;/tr&gt;\n&lt;tr id=\"Name\"&gt;&lt;/tr&gt;\n&lt;tr id=\"address\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>This is my problem. I want to remove all <code>tr</code> whose <code>id</code> is <code>Name</code> without using any loop.</p>\n\n<p>Here is my code </p>\n\n<pre><code>jQuery('#Name').remove();\n</code></pre>\n"},{"tags":["jquery","ajax","closures"],"answer_count":3,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13249569,"title":"jquery $ajax closure","body":"<p>I have the following function that takes this frequency parameter and calls the api, but the parameter frequency is not defined inside the SUCCESS callback and I need it. How to pass that parameter to my callback?</p>\n\n<pre><code> init : function(frequency) {\n    $.ajax({\n        url: 'api/v1/dashboard',\n        type: \"GET\",\n        dataType: \"json\",\n        data : {username : \"demo\",frequency : frequency},\n        success: function(data) {\n            dashboard_hander.set_data(data.dashboard);\n                            //here frequency is undefined\n\n        }\n    });\n},\n</code></pre>\n\n<p>EDIT 2 =====</p>\n\n<p>It works by defining parameters = {username : \"demo\",frequency : frequency};\noutside of the $.ajax and passing as data object, or defining frequency in a higher scope, like:</p>\n\n<pre><code> var dashboard_hander = {\nfrequency : \"\",\ninit : function(frequency) {\n    this.frequency = frequency;\n\n       ...\n    }\n } \n</code></pre>\n"},{"tags":["php","mysql","ajax","long-polling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13249364,"title":"Is this a legitimate long polling approach?","body":"<p>Is this PhP script a legitimate approach to long polling or is this to heavy on the server?</p>\n\n<pre><code>$FoundNewContent = false;\n\n$tokens = array();\n\nwhile(!$FoundNewContent) {\n    usleep(300000);\n    clearstatcache();\n    $SQL1 = \"SELECT * FROM tokens WHERE  ID &gt; \".$_GET['tokenID'];\n    $result1 = mysql_query($SQL1);\n    while($row1 = mysql_fetch_array($result1, MYSQL_ASSOC)) {\n        array_push($tokens, $row1);\n        $FoundNewContent = true;\n    }\n}\n\n// Parse XML array    \n\nflush()\n</code></pre>\n\n<p>I am calling this script via Ajax.</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13249656,"title":"jQuery $.ajax running twice","body":"<p>I have a bit of ajax that runs <code>onClick</code> for check boxes of a certain class, but for some reason my ajax code is getting called twice, and it also seems to change the value of the check box in the call, yet not on the page.</p>\n\n<p>heres my html</p>\n\n<pre><code>&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Foo1\" id=\"Foo1\" type=\"checkbox\" value=\"1\"&gt;Foo1&lt;/label&gt;\n&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Bar2\" id=\"Bar2\" type=\"checkbox\" value=\"1\"&gt;Bar2&lt;/label&gt;\n&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Foo3\" id=\"Foo3\" type=\"checkbox\" value=\"1\"&gt;Foo3&lt;/label&gt;\n&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Bar4\" id=\"Bar4\" type=\"checkbox\" value=\"1\"&gt;Bar4&lt;/label&gt;\n&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Foo5\" id=\"Foo5\" type=\"checkbox\" value=\"1\"&gt;Foo5&lt;/label&gt;\n&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Bar6\" id=\"Bar6\" type=\"checkbox\" value=\"1\"&gt;Bar6&lt;/label&gt;\n&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Foo7\" id=\"Foo7\" type=\"checkbox\" value=\"1\"&gt;Foo7&lt;/label&gt;\n&lt;label class=\"facilities mainfac\"&gt;&lt;input name=\"Bar8\" id=\"Bar8\" type=\"checkbox\" value=\"1\"&gt;Bar8&lt;/label&gt;\n</code></pre>\n\n<p>then i use the following to run the ajax;</p>\n\n<pre><code>$(function() {\n\n    getCount();\n\n    $('.mainfac').on('click', function() {\n        getCount();\n    });\n\n});\n</code></pre>\n\n<p>and finally here's the functions involved in the ajax request</p>\n\n<pre><code>function urlStringFormChoices()\n{\n    var urlVars = '';\n\n    urlVas = urlVas + '&amp;Foo1=' + ($('#Foo1').is(':checked') ? '1' : '0');\n    urlVas = urlVas + '&amp;Bar2=' + ($('#Bar2').is(':checked') ? '1' : '0');\n    urlVas = urlVas + '&amp;Foo3=' + ($('#Foo3').is(':checked') ? '1' : '0');\n    urlVas = urlVas + '&amp;Bar4=' + ($('#Bar4').is(':checked') ? '1' : '0');\n    urlVas = urlVas + '&amp;Foo5=' + ($('#Foo5').is(':checked') ? '1' : '0');\n    urlVas = urlVas + '&amp;Bar6=' + ($('#Bar6').is(':checked') ? '1' : '0');\n    urlVas = urlVas + '&amp;Foo7=' + ($('#Foo7').is(':checked') ? '1' : '0');\n    urlVas = urlVas + '&amp;Bar8=' + ($('#Bar8').is(':checked') ? '1' : '0');\n\n    return urlVas;\n}\n\nfunction getCount()\n{\n    var data = urlStringFormChoices();\n    // show loading info to the user\n    $('#c-bookable').hide();\n    $('#c-loader').show();\n    $.ajax({\n        url:  '/inc/get-count.php',\n        data: data,\n        type: 'get'\n    }).done( function(count) {\n        $('#c-loader').hide();\n        if(count != \"n/a\")\n        {\n            if($('#bookable').is(':checked')) {\n                $('#c-bookable').html('&lt;span class=\"c-bookable-count\"&gt;' + count + '&lt;/span&gt; available').show();\n            } else {\n                $('#c-bookable').html('&lt;span class=\"c-bookable-count\"&gt;' + count + '&lt;/span&gt;')).show();\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>The php page with either return a number or \"n/a\".\nWhen clicking on one of the check boxes, for example Bar2, I see in the console two requests made something along these lines</p>\n\n<pre><code>.../get-count.php?Foo1=0&amp;Bar2=1&amp;Foo3=0&amp;Bar4=0&amp;Foo5=0&amp;Bar6=0&amp;Foo7=0&amp;Bar8=0.\n\n.../get-count.php?Foo1=0&amp;Bar2=0&amp;Foo3=0&amp;Bar4=0&amp;Foo5=0&amp;Bar6=0&amp;Foo7=0&amp;Bar8=0.\n</code></pre>\n\n<p>So the first request sent is correct, but the second request reverts the 1 to a 0 cancelling the change, therefore returning an incorrect number.</p>\n\n<p>The check box however acts no different, checking it keeps it checked and visa versa.</p>\n\n<p>There's other code dotted around, but nothing else calls the <code>getCount()</code> function.</p>\n\n<p>What could be causing this rather odd behaviour?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","deferred"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13249592,"title":"jQuery Deferred Ajax Calls and Returning Ajax Responses","body":"<p>I am making a synchronous AJAX call in jQuery now. Is there any way for a parent function to return an Ajax response while maintaining an async call. The only solution I was able to find out was using a call back function. I don’t really want to write a callback function as I intend to take this object in a variable.</p>\n\n<p>For example</p>\n\n<pre><code>var ajax = serviceinterface.rawServiceCall(“http://user.myservice.com/endpoint”, “post”, {name : “xyz”});\n</code></pre>\n\n<p>I might also want to use it like this</p>\n\n<pre><code>$.when(serviceinterface.rawServiceCall(endpoint1, “get”), serviceinterface.rawSCACall(endpoint2, ‘get’)).done(function(){\n    // do something here\n});\n</code></pre>\n\n<p>Here is my function code, synchronous call works absolutely fine but I want to make an asynchronous call.</p>\n\n<pre><code>rawServiceCall : function(endpoint, type, payload) {\n                     type = typeof type !== 'undefined' ? type : \"get\";\n                     payload = typeof type !== 'undefined' ? payload : null;\n\n                     return $.ajax({\n                           url : endpoint,\n                           type : type,\n                           data : payload,\n                           async : false,\n                           dataType : 'json',\n                           headers: {\n                                 accept : \"application/json\"\n                           },\n                           success : function(data){\n                                 return data;\n                           }\n                    });\n\n              }\n</code></pre>\n\n<p>P.S - I don’t want to waste CPU cycles or keep the other parts of the webpage waiting for this to load first. Or what’s the better approach for this?</p>\n"},{"tags":["java","ajax","url","ajax-request"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13218218,"title":"AJAX GET requests in Java","body":"<p>I'm trying to make a GET AJAX request on some site using java. </p>\n\n<p>My code is the following:</p>\n\n<pre><code>    String cookie = getRandomString(16); //Getting a random 32-symbol string\n\n    String url = \"https://e-kassa.org/core/ajax/stations_search.php?\"\n            + \"q=%D0%BE&amp;limit=10&amp;timestamp=1352028872503\";\n    HttpURLConnection conn = (HttpURLConnection) new URL(url).openConnection();\n\n    conn.setRequestProperty(\"Cookie\", \"PHPSESSID=\" + cookie);\n    InputStream is = conn.getInputStream();\n\n    int buffer;\n    while((buffer = is.read()) != -1)\n        System.out.print(buffer);\n\n    is.close();\n    conn.disconnect();\n</code></pre>\n\n<p>But the problem is that there's nothing to download from the InputStream is. But if I use my browser to do the same thing, I'll get a response, composed of text lines of the following format:</p>\n\n<blockquote>\n  <p>CITY_NAME|SOME_DIGITS</p>\n</blockquote>\n\n<p>So, can anybody tell me, how can I make such a request in an appropriate manner?</p>\n\n<p>UPD: without cookies I have the same behaviour (in the browser everything's fine, but not in Java).</p>\n"},{"tags":["ajax","jsf","jsf-2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13244620,"title":"How to pass value into Listener in selectOneMenu","body":"<p>I have 2 dropdowns: Type &amp; Code. I want the Code dropdown to change values depending on the Type dropdown if value = A or B or C. How can I pass value of A or B or C into listener so it can understand and process my List ?</p>\n\n<pre><code>     &lt;h:outputLabel value=\"Type\" for=\"idType\" /&gt;\n     &lt;h:selectOneMenu id=\"idType\" value=\"#{myController.type}\"&gt;\n         &lt;f:selectItem itemLabel=\"AAA\" itemValue=\"AAA\" /&gt;\n         &lt;f:selectItem itemLabel=\"BBB\" itemValue=\"BBB\" /&gt;\n         &lt;f:selectItem itemLabel=\"CCC\" itemValue=\"CCC\" /&gt;\n         &lt;f:ajax event=\"valueChange\" listener=\"#{myController.changeCodeList}\" render=\"idCode\" execute=\"@this\" /&gt;\n     &lt;/h:selectOneMenu&gt;\n     &lt;h:outputLabel value=\"Code\" for=\"idCode\" /&gt;\n     &lt;h:selectOneMenu id=\"idCode\" value=\"#{myController.code}\" &gt;\n         &lt;f:selectItem itemLabel=\"Select ...\" noSelectionOption=\"true\" /&gt;\n         &lt;f:selectItems value=\"#{myController.codeList}\" /&gt;\n     &lt;/h:selectOneMenu&gt;\n</code></pre>\n"},{"tags":["php","ajax","json","chat"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13248956,"title":"I need to show which users are online for my AJAX Chat","body":"<p>I have an inline chat application which I got from <a href=\"http://anantgarg.com/2009/05/13/gmail-facebook-style-jquery-chat/\" rel=\"nofollow\">Ajax Chat</a>, which is working brilliantly. The application allows a user to chat with users that are registered on the system. Ie: <img src=\"http://i.stack.imgur.com/QSCXd.png\" alt=\"Here is a list of the users\"></p>\n\n<p>Now I need to show if the user is online or offline. </p>\n\n<p>So my question is how do I show online users using PHP?</p>\n\n<p>Thank You</p>\n"},{"tags":["java","ajax","jsp","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":13240087,"title":"cascading dropdown with Multiselect using Ajax and JSP","body":"<p>I am sending multiselect dropdown values to a JSP PAGE. Below is the AJAX code that send the multiselect values. The JSP PAge includes SQL query to read from database and show its values in another dropdown. Below code only display cascading dropdown values based on on select and not multiselect. It appears that only one value is sent to apps.jsp and not all values. I tried few changes and it didn't work. Below is the best working code available with me. Any help to get second dropdown display values based on multiselect from first dropdown? Single dropdown works fine with below code. Thank you.</p>\n\n<pre><code>&lt;select multiple=\"multiple\" name=\"RequirementFor\" id=\"RequirementFor\" onchange=\"showState(this.value);\"&gt;\n\n &lt;option value=\"1\"&gt;Test1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Test2&lt;/option&gt;\n&lt;option value=\"3\"&gt;Test3&lt;/option&gt;\n&lt;option value=\"4\"&gt;Test4&lt;/option&gt;\n&lt;/select&gt;\n&lt;div id=\"plat\"&gt;&lt;select name=\"Platform\" id=\"Platform\"  multiple=\"multiple\"     onchange='showState2(this.value)'&gt;\n\n    &lt;/select&gt;&lt;/div&gt;\n//AJAX Code\nvar xmlHttp ; \nvar xmlHttp;\nfunction showState(str){\n\nif (typeof XMLHttpRequest != \"undefined\"){\nxmlHttp= new XMLHttpRequest();\n}\nelse if (window.ActiveXObject){\nxmlHttp= new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\nif (xmlHttp==null){\nalert(\"Browser does not support XMLHTTP Request\");\nreturn;\n} \nvar url=\"apps.jsp\";\nurl +=\"?value=\" +str;\nxmlHttp.onreadystatechange = stateChange;\nxmlHttp.open(\"GET\", url, true);\nxmlHttp.send(null);\n}\n\nfunction stateChange(){   \nif (xmlHttp.readyState==4 || xmlHttp.readyState==\"complete\"){   \ndocument.getElementById(\"plat\").innerHTML=xmlHttp.responseText   ;\n}\n}\n</code></pre>\n\n<p>below is code from JSP query(apps.jsp) page.</p>\n\n<pre><code>Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\").newInstance();\nConnection con = DriverManager.getConnection(\"jdbc:sqlserver://localhost\", \"username\", \"password\"); \nStatement stmt;\nResultSet rs;\nString[] funID=  request.getParameterValues(\"value\");  \nString conCat = \"\";\ntry{\nif(funID.length&gt;0)\n{\nfor(int i=0;i&lt;funID.length; i++)\n{\n    conCat =    funID[i] +\" \"+ \"OR\" + \" \"+ \"FU_DEPARTMENT_ID= \" + conCat;\n} \nconCat = conCat.substring(0, conCat.length() - 22);\n}\n}\n catch(Exception e)\n {out.println(e);}\n\n String buffer=\"&lt;select name='state' multiple='multiple'&gt;&lt;option value='-1'&gt;Select&lt;/option&gt;\";\n\n\n try\n {\n\n        String sqlSelect1=\"Select FU_ID, FU_NAME from UNIT where FU_DEPARTMENT_ID =\"+conCat+\" ORDER BY FU_NAME ASC\";\n\n  stmt = con.createStatement();  \n rs = stmt.executeQuery(sqlSelect1);  \n   while(rs.next()){\n   buffer=buffer+\"&lt;option value='\"+rs.getString(\"FU_ID\")+\"'&gt;\"+rs.getString(\"FU_NAME\")+\"&lt;/option&gt;\";  \n   }  \n buffer=buffer+\"&lt;/select&gt;\";  \n response.getWriter().println(buffer); \n stmt.close();\n rs.close();\n con.close();\n }\n catch(Exception e){\n     System.out.println(e);\n }\n</code></pre>\n"},{"tags":["php","jquery","ajax","json","deployment"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13239409,"title":"Empty php variable after ajax post","body":"<p>I have the following code in my script file:</p>\n\n<pre><code>$.ajax({\n    url: \"server.php?saveEvent\",\n    data: \"myEvent=\" + JSON.stringify(myEvent),\n    dataType: \"json\",\n    type: \"post\",\n    success: function (data) {\n        if (data) {\n            $(\"#log\").append(\"&lt;br /&gt;Evenement saved.\");\n        }\n    }\n});\n</code></pre>\n\n<p>In server.php I retrieve the variable using:</p>\n\n<pre><code>if (isset($_GET['saveEvent'])) {\n    if (isset($_POST['myEvent'])) {\n        $firephp-&gt;log(gettype($_POST['myEvent']));\n        $myEvent = json_decode($_POST['myEvent'], true);\n    }\n}\n</code></pre>\n\n<p>When I tested this on my localhost, everything went fine. Unfortunately, after deployment,\n    $myEvent\nwas empty.</p>\n\n<p>Using firephp, I tested what was in the variable, and I looked at the headers being sent. The object was sent to the server, but still somehow php see's it as being an empty variable.</p>\n\n<p>Any ideas on how this is possible? Is it a php version or json issue?</p>\n\n<p>EDIT: PHP ver= 5.2.17 / json enabled</p>\n\n<p>EDIT2: Changing te url to ?saveEvent=1 didnt change anything</p>\n\n<p>Edit3: I realize making a get and post is a bit strange, I'll try changing that, but get/post shouldn't be a problem I think</p>\n"},{"tags":["asp.net","css","ajax","ajaxcontroltoolkit","modalpopupextender"],"answer_count":6,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":9619,"score":4,"question_id":1347632,"title":"Positioning AJAX ModalPopupExtender in the center of the screen problem","body":"<p>I have problem with positioning ModalPopupExtender in the center of the screen when it's PopupDragHandleControlID property is set (without this property it works fine ).</p>\n\n<p>ModalPopupExtender is not positioned in the center of the screen.\nI thinks what causes the problem is the page's CSS layout cause when i disable it, popup positioned in the center of the screen (I don't understand why page's css affects ModalPopupExtender only when it's PopupDragHandleControlID property is set  )</p>\n\n<p>Thepage:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;Untitled Page&lt;/title&gt;\n    &lt;link href=\"layout.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;div&gt;\n    &lt;div id=\"header\"&gt;\n    &lt;/div&gt;\n\n     &lt;div id=\"container\"&gt;\n       &lt;div id=\"center\" class=\"column\"&gt;                    \n\n          &lt;div id=\"centercolcontent\" class=\"centercolcontent\"&gt;    \n            &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\"&gt;\n        &lt;/asp:ScriptManager&gt;\n\n\n        &lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\" &gt;\n            &lt;ContentTemplate&gt;\n                &lt;asp:Button ID=\"btnShowPopup\" runat=\"server\" Text=\"Open\" /&gt;   \n                &lt;asp:Panel ID=\"pnlUploader\" runat=\"server\" CssClass=\"pnlUploader\"   style=\"display: none;\"&gt;\n                    &lt;cc1:ModalPopupExtender ID=\"mdlPopup1\" runat=\"server\" TargetControlID=\"btnShowPopup\"\n                                PopupControlID=\"pnlUploader\" CancelControlID=\"btnCancel\"\n                                BackgroundCssClass=\"modalBackground\"\n                                PopupDragHandleControlID=\"pnlUploader\" RepositionMode=\"RepositionOnWindowResize\"   /&gt;\n                    &lt;div id=\"pnlDragMe\" class=\"pnlDragMe\"&gt;\n                        Image Uploader\n                     &lt;/div&gt;     \n\n                     &lt;div class=\"upload\" id=\"upload\"&gt;             \n                         &lt;div id=\"status\" class=\"info\"&gt;\n                           Please select a file to upload\n                         &lt;/div&gt;\n                        &lt;div class=\"commands\"&gt;      \n                         &lt;asp:Button ID=\"btnUpload\" runat=\"server\"  Text=\"Upload\" \n                             OnClientClick=\"javascript:onUploadClick()\" /&gt;\n                         &lt;asp:Button ID=\"btnCancel\" runat=\"server\" Text=\"Cancel\" /&gt;\n                      &lt;/div&gt;        \n                   &lt;/div&gt;                                      \n                &lt;/asp:Panel&gt;    \n\n            &lt;/ContentTemplate&gt;   \n         &lt;/asp:UpdatePanel&gt;\n          &lt;/div&gt;\n\n       &lt;/div&gt;\n\n      &lt;/div&gt;               \n      &lt;div id=\"left\" class=\"column\"&gt;\n      &lt;/div&gt;\n\n      &lt;div id=\"right\" class=\"column\"&gt;                        \n      &lt;/div&gt;          \n\n    &lt;div id=\"footer\"&gt;\n\n    &lt;/div&gt;\n\n\n\n\n    &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>The CSS:</p>\n\n<pre><code>body\n{\n    min-width: 630px; \n}\n\n#container\n{\n    padding-left: 200px; \n    padding-right: 150px; \n}\n\n#container .column\n{\n    position: relative;\n    float: left;\n}\n\n#center\n{\n    padding: 0px 0px; \n    width: 100%;\n}\n\n#left\n{\n    width: 200px; \n    padding: 0 0px 0 0; \n    right: 200px;\n    margin-left: -100%;\n}\n\n#right\n{\n    width: 130px;\n    padding: 0 10px; \n    margin-right: -100%;\n}\n\n#footer\n{\n    clear: both;\n}\n\n\n* html #left\n{\n    left: 150px; /* RC fullwidth */\n}\n\n/*** Equal-height Columns ***/\n\n#container\n{\n    overflow: hidden;\n}\n\n#container .column\n{\n    padding-bottom: 1001em; /* X + padding-bottom */\n    margin-bottom: -1000em; /* X */\n}\n\n\n\n* html body\n{\n    overflow: hidden;\n}\n\n* html #footer-wrapper\n{\n    float: left;\n    position: relative;\n    width: 100%;\n    padding-bottom: 10010px;\n    margin-bottom: -10000px;\n    background: #FFF; /*** Same as body background ***/\n}\n\n\n\nbody\n{\n    margin: 0;\n    padding: 0;\n}\n\n#header, #footer\n{\n    font-size: large;\n    text-align: center;\n    padding: 0.3em 0;\n}\n\n#left\n{\n    /*background: #66F;*/\n}\n\n#center\n{\n    background: #DDD;\n}\n\n\n\n.modalBackground\n{\n    background-color: Gray;\n    filter: alpha(opacity=70);\n    opacity: 0.7;\n}\n</code></pre>\n"},{"tags":["php","mysql","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13244528,"title":"display table columns with for loop based on user input","body":"<p>i am working on a college software and am stuck at a crucial point. i am running a query which will return studentid, names and rollno(s) and i need to display table columns with text boxes for assignment marks entry based on the teacher's input of number of assignments for a term. For instance, if user input is 3, i want to display 3 columns namely, Assignment 1, Assignment  2, Assignment 3 along with student name and rollno. the table rows will then have all students names with text boxes for entering marks for all three assignments. Also, i am displaying this table through ajax request which means php will have to create the output on the fly and display to user. I am assuming a nested loop will have to be used for this but am not sure how. Columns have to be created based on user input and rows should be based on mysql query result.</p>\n\n<p>My code is:</p>\n\n<pre><code>$userinput = 3; // hypothetical\n$q6 = mysql_query(\"select * from students\");\nwhile($row = mysql_fetch_array($q6)){\n$data[] = $row; \n}\n\necho \"&lt;table class='reglist' border='1' width='100%'&gt;\";\n// start i loop\nfor($i=1;$i&lt;=$userinput;$i++){\necho \"&lt;tr&gt;\n&lt;th style='font-size:14px;'&gt;S.No&lt;/th&gt;\n&lt;th style='font-size:14px;'&gt;Roll No&lt;/th&gt;\n&lt;th style='font-size:14px;'&gt;Name&lt;/th&gt;\n&lt;th style='font-size:14px;width:50px;'&gt;Assignment 1&lt;/th&gt; // THESE COLUMNS SHUD BE BASED         ON THE USER INPUT.  \n&lt;/tr&gt;\"; }\n</code></pre>\n\n<p>I am stuck here as to how to create table heads based on user input and then display rows according to the number of students returned by mysql.</p>\n\n<p>Please help.</p>\n"},{"tags":["ajax","optimization","prototypejs","updates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13013900,"title":"Updating gigantic HTML table with ajax","body":"<p>Have a table with 2000+ rows and I need to have a single div on each row updated periodically.  I hoped to update every 10 seconds, but the page becomes quite sluggish.  </p>\n\n<p>The server has 32gb RAM and my laptop has 8gb RAM, both have at least two quad cores.  </p>\n\n<p>Here's the div &amp; update call:</p>\n\n<pre><code>&lt;div id='div_$id' name='div_$id'&gt;&lt;/div&gt;\n\n&lt;script language='javascript'&gt;\n    new Ajax.PeriodicalUpdater('div_$id', 'upd.php',{ \n       method: 'post', \n       frequency: 10, \n       decay: 1, \n       parameters: {id:'$id'}}\n    );\n&lt;/script&gt;\n</code></pre>\n\n<p>I'm using the latest version of Prototype (1.7.0.0).   Is there a faster, better way of doing this, or am I going to be forced to roll back the frequency to a minute or more? </p>\n"},{"tags":["jquery","asp.net-mvc","ajax","jquery-ui","asp.net-mvc-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1063,"score":0,"question_id":4844824,"title":"asp.net MVC- How to get jQuery working after ajax calls","body":"<p>Ok getting my feet wet with mvc. I am trying to build a user profile type page. The page is made up of several sections, each loaded via a partial view.</p>\n\n<p>I want to be able to edit each section individually inside of an jQuery-UI modal dialog. I have this all working properly(incduding loading the Edit views via ajax into the modal and submitting the changes.)</p>\n\n<p>My problem is that after any ajax call my jQuery-UI dialogs stop working so I am unable to close or open a dialog. </p>\n\n<p>I can, of course, fix things like button clicsk with the .live method but I cant figure out the best way to get the jQuery-UI items to continue working.</p>\n\n<p>What is the best way to go about this? I guess I am confused as to what happens to previously loaded jQuery plugins after an ajax call. Should I be able to reference elements on my ajax loaded content from my main page?</p>\n\n<p><strong>EDIT:</strong>\nOk...heres some code to show whats happening....</p>\n\n<p>user click the edit button on the user info section</p>\n\n<pre><code>$('#editInfo').live(\"click\", function () {\n        dialogInit(450, 550, 'User Information');\n        $('#dialog').dialog('open')\n        $.ajax({\n            type: 'GET',\n            url: '../info/edit',\n            data: {},\n            success: function (response) {\n                $('#dialog').html(response); //loads the partial edit view into the dialog div...works fine to here.\n\n            }\n        });\n        return false;\n    });\n</code></pre>\n\n<p>After this happens I have a modal on the screen with a save button. When the save button is clicked I post my ajax form which calls this JS function on success...</p>\n\n<pre><code>function infoUpdate(response) {\n    dialogInit(450, 550, 'User Information');\n    $('#dialog').dialog('close');\n    $('#info').html(response);\n}\n</code></pre>\n\n<p>This loads the new User info partial view into the appropriate div on the main page...works fine...</p>\n\n<p>The problem here is that the dialog is not closed...so the reference to it seems to be lost even though I am reinitializing it with my dialogInit function...which looks like this...</p>\n\n<pre><code>function dialogInit(height, width, title) {\n    $('#dialog').dialog({\n        autoOpen: false,\n        modal: true,\n        draggable: false,\n        resizable: false,\n        height: height,\n        width: width,\n        title: title\n    });\n}\n</code></pre>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>The above code also causes my ajax form to be posted multiple times...an additional time every time I click the submit button...not good</p>\n"},{"tags":["php","ajax","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13247471,"title":"AJAX to get data from the server","body":"<p>A page is sending AJAX call to server and should get item info in response. The array to look-up/return is a rather big one and I can’t hold it in the PHP file to accept the request. So, as far as my knowledge and experience tell, there are 2 methods:</p>\n\n<ol>\n<li>Access database for each request.</li>\n<li>Store items in files (e.g. “item12.txt”) and send contents to the user.</li>\n</ol>\n\n<p>My C experience says that opening and closing a file takes much more system time than the rest of the program. How is it in PHP? What is the preferred method (most importantly, resource-wise) – <strong>file system or database</strong>? Is there any other way you would recommend (e.g. JavaScript directly loading the file with variable array from the server for each request)? <strong>Maybe there’s some innovative method lying around you’re aware of?</strong></p>\n\n<p><em>P.S. On the server-side a number only will be accepted, so no worries regarding someone trying to access files in the server or trying to do some fancy stuff on database.</em></p>\n"},{"tags":["jquery","ajax","fancybox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13235643,"title":"Update Lemonstand partial onClosed FancyBox","body":"<p>I'm using Lemonstand for a web shop, and I want to update a partial when I close a FancyBox. \nTo trigger an update for a partial on the same page, i.e. a button, I do this:</p>\n\n<pre><code>onClick=\"return $(this).getForm().sendRequest('foo', {update: {'foo_page': 'foo_partial'}})\"\n</code></pre>\n\n<p>But now I want to do this when closing the FancyBox. I know how to reload the entire parent page using the onClosed option in FancyBox. But I don't want reload the entire page, only the partial. </p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["ajax","jquery-ajax","liferay","portlet","liferay-6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13245661,"title":"how to call specific method rather then serveResource method in portlet.java class from ajax call in lfieray portlet?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13246870/how-to-call-specific-method-of-portlet-java-class-rather-then-overide-serveresou\">How to call specific method of portlet.java class rather then overide serveResource method?</a>  </p>\n</blockquote>\n\n\n\n<p>I have one confusion about calling the ajax method in liferay right now am doing this way </p>\n\n<p>This is my sample view.jsp in which am just calling one method of my portlet.java class</p>\n\n<pre><code>&lt;%@ include file=\"/init.jsp\"%&gt;\n&lt;portlet:actionURL name=\"AddTest\" var=\"add1\" /&gt;\n&lt;portlet:resourceURL id=\"AddTest\" var=\"AddTest\"&gt;&lt;/portlet:resourceURL&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n\n &lt;script type=\"text/javascript\"&gt;\nfunction addToDo(addToDo){\n    var todo =document.getElementById('toDo').value;\n    $.ajax({\n        url :addToDo,            \n          data: {\"todo\":todo,\"CMD\":\"addToDo\"},\n          type: \"GET\",\n          dataType: \"text\",\n        success: function(data) {              \n              $(\"#toDoList\").html(data);\n        }\n    });\n}\n &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;portlet:resourceURL var=\"addToDo\" id=\"addToDo\"&gt;&lt;/portlet:resourceURL&gt;\n&lt;form&gt;\n&lt;input type=\"text\" name=\"toDo\" id=\"toDo\"&gt;\n&lt;button name=\"Add\" type=\"button\" onclick=\"addToDo('&lt;%=addToDo%&gt;')\"&gt;Add&lt;/button&gt;\n&lt;div id=\"toDoList\"&gt;\n\n\n&lt;/div&gt;\n&lt;/form&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>now i have override  serveResource method in my portlet.java class</p>\n\n<pre><code>@Override\n     public void serveResource(ResourceRequest request, ResourceResponse response){\n            if(request.getParameter(\"CMD\").equals(\"addToDo\")){\n\n                System.out.println(\"came here for add\");\n                mediatype userToDo = new mediatypeImpl();\n                //userToDo.setMediaId(12345);\n                try {\n                    userToDo.setPrimaryKey((CounterLocalServiceUtil.increment()));\n                    userToDo.setMedianame(request.getParameter(\"todo\"));\n                    mediatypeLocalServiceUtil.addmediatype(userToDo);\n\n                }\n                catch (SystemException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        }\n</code></pre>\n\n<p>Now What i knew is from any Ajax call it will redirect to this method.\nbut how can i call specific method of my porltet.java class from Ajax call?is there anyway?\nam just new bee in this Ajax and need help of you people..if anyone can guide me</p>\n"},{"tags":["jquery","mysql","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":35,"score":-2,"question_id":13246558,"title":"store drag and drop elements with mysql","body":"<p>How to add the dropped elements in the cart to database using mysql.\nA row should be added to database as soon as an element is dropped to the cart without refreshing the web page.\nany AJAX query for adding such entry to database ??</p>\n"},{"tags":["php","javascript","jquery","ajax","arrays"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":58,"score":-2,"question_id":13246214,"title":"Get PHP data into Javascript Array","body":"<p>I am trying to return a series of arrays from PHP to javascript using AJAX.</p>\n\n<p>I have tried pre-formatting the email addresses as a JSON object and returning that to my JS script and then parsing it as JSON but no luck.</p>\n\n<p>I have a main array called emails, and I want these arrays returned from PHP and to be converted to a JS array, I have tried:</p>\n\n<pre><code>emails = $.makeArray($.parseJSON(email)) ;\n</code></pre>\n\n<p>But with no luck.</p>\n\n<p>How can I achieve what I want?</p>\n"},{"tags":["php","jquery","ajax","forms","file-upload"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":54,"score":3,"question_id":13245426,"title":"Upload Image Form and Another Fill-up Form","body":"<p>What I have is a form with details like name, address...and another separate upload profile pic form. And I want to get that (optional) uploaded picture when the \"parent\" (separate) form is submitted. <br><strong>Right now they work like this:</strong><br>\nUploaded pic is sent through <code>.ajaxSubmit()</code> to process_uploaded_image.php. Then it gets processed, resized, and the new picture is made within a \"dump/temp\" folder. I could return it in <code>success: function(data)</code>, in the form of data that could be the echoed <code>$image_path_and_name</code> or as an <code>&lt;img src=\"$image_path_and_name\"/&gt;</code>. I made it this way - that, is having a temp image - since <br>(1) I want to let the user view what he just uploaded (remember I already have it returned path or img element to jquery and I could place it anywhere I want), and <br>(2) the uploaded image isn't final, not until the \"parent\" form finalizes the registration. And it is still a temp image after all.<br><br>\nSo, <em>the problem is</em>: <strong>I want to access that uploaded image, and \"bring it along\"  with the \"parent\" form when it gets submitted</strong>...how can I do that exactly? Technically it isn't a parent form, since I know a form within form is not allowed. But it is tied up and under that parent form logically. I would be thankful for any help, but if possible, I would appreciate it even more if you could consider my present scenario so I won't have to start from scratch again. Thanks again.<br><br>\n<strong>My idea:</strong> (please let me know how feasible this is...and/or guideline on how I could do #1)<br>\n1. \"reconstruct\" or copy that file from ajax-jquery returned (data) of <code>$image_path_and_name</code> string or <code>&lt;img src=\"$image_path_and_name\"/&gt;</code>, place it in final upload folder.<strong>&lt;---THIS IS WHERE I'M STUMPED!</strong> I couldn't just use <code>move_uploaded_file()</code>, can I?<br>\n2. Since, from this point everything's final..I could save its file path to my database, along with other form info.<br> \n3. empty the dump/temp folder.</p>\n"},{"tags":["ajax","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13245723,"title":"How can I get the result of a form post within a partial view to stay within its enclosing div?","body":"<p>I have a partial view with a form in it that I place on to my page using an @ajax.ActionLinK</p>\n\n<pre><code>  @Ajax.ActionLink(\"Update File\", \"CreateFileVersion\", new AjaxOptions() { UpdateTargetId = \"CreateFileVersion\", InsertionMode = InsertionMode.Replace })\n</code></pre>\n\n<p>and here is my partial view</p>\n\n<pre><code>     @model CasWeb.Models.DataContext.FileVersion\n    @{\n        Layout = null;\n    }\n    &lt;h4&gt;Create File Version&lt;/h4&gt;\n    @using (Html.BeginForm())\n    {\n    @Html.ValidationSummary()\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;File Version&lt;/legend&gt;\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.VersionNumber)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.VersionNumber)\n            @Html.ValidationMessageFor(model =&gt; model.VersionNumber)\n        &lt;/div&gt;\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.ActivationTime)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(m =&gt; m.ActivationTime)\n            @Html.ValidationMessageFor(model =&gt; model.ActivationTime)\n        &lt;/div&gt;\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Create\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n</code></pre>\n\n<p>This all works great, the user clicks on the link and the form appears with the \"CreateFileVersion\" div. </p>\n\n<p>The problem comes with validation. When the user submits the form it goes to my controller which checks the data and returns the partial view back if it invalid. This partial view is no longer within the \"CreateFileVersion\" div, it now takes over the entire page. </p>\n\n<p>How can I keep the partial view returned from my contoller within the \"CreateFileVersion\" div after validation.</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net","ajax","asp.net-ajax","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":444,"score":1,"question_id":3541140,"title":"Autocomplete extender not firing","body":"<p>I have a ajax autocomplete extender and everything works fine. I mean sql procedure and others are fine but when I enter something to textbox nothing happened.\nWhy is that?</p>\n\n<p>Here is my codes.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Services;\nusing System.Configuration;\nusing System.Data;\nusing System.Data.Sql;\nusing System.Data.SqlClient;\n\n/// &lt;summary&gt;\n/// Summary description for WebService\n/// &lt;/summary&gt;\n[WebService(Namespace = \"http://tempuri.org/\")]\n[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n// To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line. \n// [System.Web.Script.Services.ScriptService]\npublic class WebService : System.Web.Services.WebService {\n\n    string[] arr;\n\n    public WebService () {\n\n        //Uncomment the following line if using designed components \n        //InitializeComponent(); \n    }\n\n    [WebMethod]\n    public string[] testing(string prefixText)\n    {\n        if (prefixText.Length &gt; 0)\n        {\n            string sql = \"Select * From titles Where title like @title\";\n\n            SqlDataAdapter da = new SqlDataAdapter(sql, \"myconnectionstring is here\");\n            da.SelectCommand.Parameters.Add(\"@title\", SqlDbType.VarChar, 50).Value = prefixText + \"%\";\n            DataTable dt = new DataTable();\n            da.Fill(dt);\n\n            string[] items = new string[dt.Rows.Count];\n\n            int i = 0;\n\n            foreach (DataRow dr in dt.Rows)\n            {\n                items.SetValue(dr[\"title\"].ToString(), i);\n                i++;\n            }\n\n            return items;\n        }\n\n        arr[0] = \"\";\n        return arr;\n    }\n}\n</code></pre>\n\n<p>Html side:</p>\n\n<pre><code>&lt;%@ Page Title=\"\" Language=\"C#\" MasterPageFile=\"~/adminpanel/adminpanel.master\" AutoEventWireup=\"true\" CodeFile=\"autocomplete.aspx.cs\" Inherits=\"adminpanel_autocomplete\" %&gt;\n&lt;%@ Register Assembly=\"AjaxControlToolkit\" Namespace=\"AjaxControlToolkit\" TagPrefix=\"asp\" %&gt;\n\n    &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\"&gt;&lt;/asp:ScriptManager&gt;\n    &lt;asp:AutoCompleteExtender ID=\"AutoCompleteExtender1\" runat=\"server\"\n        MinimumPrefixLength=\"1\" ServiceMethod=\"testing\" ServicePath=\"WebService.asmx\" TargetControlID=\"TextBox1\" Enabled=\"true\"&gt;\n    &lt;/asp:AutoCompleteExtender&gt;\n    &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n</code></pre>\n"},{"tags":["java","jquery","ajax","tomcat6","polling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13245257,"title":"Tomcat Ajax - Where to start reading?","body":"<p>Im trying to develop a simple web based chat program in java. Im using spring, tomcat, hibernate, javascript, ajax, and jquery. Im new to all of these technologies. I asked a question <a href=\"http://stackoverflow.com/questions/13226994/java-tomcat6-how-to-automatically-refresh-page-when-a-data-is-added\">here</a> on SO. I got alot of answers / suggestions. One suggestion is to use WebServerSocket but the problem is I think tomcat6 does not support it. For some reasons I have to stick to tomcat6. I got suggestion to learn about ajax polling. Im reading it right now and as I understand it has some intervals to fetch another query. Is there a way that I can have my program fetch query if the server notices that a client uploaded / posted data to the server? Another question is, does skype uses polling? If polling has interval in fetching of data will it cause traffic to my server? Please be patient in explaining to me because I believe there are alot of concepts that I misunderstood about polling. Please enlighten me. Im reading alot about polling, comet, jms and my brain is already very confused. I spent almost 8 hours and I can barely grasp the concepts. Please help and suggest where will I begin. Im such a novice. Thanks in advance.  </p>\n"},{"tags":["jquery","ajax","google-chrome"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1887,"score":4,"question_id":6351593,"title":"jQuery AJAX Custom Header","body":"<p>I'm trying to perform a request to the iContact API which required me to use a custom header for authentiation (http://developer.icontact.com/documentation/authenticate-requests). This is my code:</p>\n\n<pre><code>$.ajax({\n        type: \"GET\", \n        url: \"https://app.icontact.com/icp/a/\",\n        contentType: \"application/json\",\n        beforeSend: function(jqXHR, settings){\n                jqXHR.setRequestHeader(\"Accept\", \"application/json\");\n                jqXHR.setRequestHeader(\"Api-Version\", iContact_API_version);\n                jqXHR.setRequestHeader(\"Api-AppId\", iContact_appID);\n                jqXHR.setRequestHeader(\"Api-Username\", iContact_username);\n                jqXHR.setRequestHeader(\"API-Password\", iContact_appPassword);}\n});\n</code></pre>\n\n<p>For some reason the request doesn't go through. However, when I perform the same request manually (using Chrome REST console) it works just fine. If I take out the custom headers (API-*), the request goes through but of course the authentication fails and I get back a regular HTML page.</p>\n\n<p>I switched over to Firefox and checked Request/Response Headers:</p>\n\n<p>Request:</p>\n\n<pre><code>Host    app.icontact.com\nUser-Agent  Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.12) Gecko/20101026 Firefox/3.6.12\nAccept  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language en-us,en;q=0.5\nAccept-Encoding gzip,deflate\nAccept-Charset  ISO-8859-1,utf-8;q=0.7,*;q=0.7\nKeep-Alive  115\nConnection  keep-alive\nOrigin  http://184.72.61.244\nAccess-Control-Request-Me...    GET\nAccess-Control-Request-He...    api-appid,api-password,api-username,api-version\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>HTTP/1.1 302 Found\nDate: Tue, 14 Jun 2011 23:43:56 GMT\nServer: Apache/2.2.9 (Debian)\nSet-Cookie: intellicontact_phpsess=1c7ca333017b47f46edd893dae584781; path=/; domain=.icontact.com; secure; HttpOnly\nExpires: Thu, 19 Nov 1981 08:52:00 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nLocation: https://app.icontact.com/icp/login/sentry.php?relurl=https%3A%2F%2Fapp.icontact.com%2Ficp%2Fa%2F&amp;sess=\nVary: Accept-Encoding\nContent-Encoding: gzip\nContent-Length: 20\nConnection: close\nContent-Type: text/html; charset=utf-8\n</code></pre>\n\n<p>Any ideas what's going wrong here?</p>\n\n<p>Thanks!</p>\n"},{"tags":["ajax","file-upload","symfony-1.4"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":980,"score":1,"question_id":4246168,"title":"Ajax upload with symfony 1.4","body":"<p>I want to handle the image uploads with a multi uploader (uploadify or other plugins will do), but I couldn't make it work with symfony.</p>\n\n<p>I tried the swfuploader plugin, but it didn't work, there was an error with javascript.</p>\n\n<p>How can I handle an ajax upload with symfony?</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","prototype","grails-plugin","grails-2.0","grails-controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12772523,"title":"Plugin missing while using ajax prototype in Grails 2?","body":"<p>Hello..I'm using Grails 2 and tried to implement the ajax call from gsp page to my controller..At first library prototype was missing in grails 2 i solve this using command grails install-plugin prototype..Now that error is not coming but not working and different error is coming..</p>\n\n<p>Here by i attached the code..I'm trying simple update second select box if i change the first</p>\n\n<p>As well i added grails.views.javascript.library = \"prototype\" this line in Config.groovy</p>\n\n<pre><code>&lt;code&gt;\n     //Controller&lt;br&gt;\n        def ajaxgetStrudents() {\n\n            def college=College.get(params.id)\n            render college?.students as JSON\n\n        }\n        //GSP&lt;br&gt;\n        javascript library=\"prototype\" plugin=\"prototype\"&lt;br&gt;\n        &lt;g:select id=\"name\" name=\"name\" from=\"${collegeNames.name }\"  \n        onChange=\"${ remoteFunction(controller:'College', action:'ajaxgetStrudents', \n\n        , onComplete: 'updateStudent(e)',params   :'\\'id=\\'+this.value '        \n\n            )}\n`&lt;/code&gt;\n</code></pre>\n\n<p>And i wrote javascript code to fill student select box..This code is not working..In console error coming like this</p>\n\n<p><code>\n` Error 2012-10-08 01:16:57,933 [http-bio-8083-exec-6] ERROR [/SampleGrails].[default]  - Servlet.service() for servlet [default] in context with path [/SampleGrails] threw exception\nMessage: It looks like you are missing some calls to the r:layoutResources tag. After rendering your page the following have not been rendered: [defer]\n    Line | Method\n->> 1110 | runWorker in java.util.concurrent.ThreadPoolExecutor</p>\n\n<hr>\n\n<p>|    603 | run       in java.util.concurrent.ThreadPoolExecutor$Worker\n^    722 | run . . . in java.lang.Thread\n`</code></p>\n\n<p>First i want to make run of this code..??</p>\n\n<p>Next even though i installed the prototype plugin that was not added in my project plugin folder..but it was showing in grails list-plugin -installed command..why it is..??</p>\n\n<p>Thanks..,</p>\n"},{"tags":["javascript","html","ajax","iframe"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13244347,"title":"HTML, Javascript: difference between an ajax call and changing the source of an iframe","body":"<p>Context: I'm trying to code a javascript function to like a certain post on tumblr, based on this <a href=\"http://stackoverflow.com/questions/6970156/tumblr-like-heart-button-script-on-homepage\">link</a> . I tried using an ajax call instead of changing the source of an iframe, but it doesn't work. Of course, changing the source of an iframe works.</p>\n\n<p>So, what can be the difference that make this not work?</p>\n\n<pre><code>$baseUrl = 'http://tumblr.com/like/';\n\nfunction LikePost( $postID, $reblogUrl )\n{\n    /*\n    http://www.tumblr.com/&lt;command&gt;/&lt;oauthId&gt;?id=&lt;postId&gt;\n    &lt;command&gt;: like or unlike\n    &lt;oauthId&gt;: last eight characters of {ReblogURL}\n    &lt;postId&gt;: {PostID}\n\n     Exemple of Url\n     http://www.tumblr.com/like/fGKvAJgQ?id=16664837215\n\n    */\n    $oauthId = $reblogUrl.substring( $reblogUrl.length - 8, $reblogUrl.length);\n    $likeUrl = $baseUrl + $oauthId + '?id=' + $postID;\n\n    $.ajax({\n        url: $likeUrl,\n        type:'POST'            \n        });\n\n}\n</code></pre>\n"},{"tags":["ajax","eclipse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13243815,"title":"Empty AJAX Response when debugging with Eclipse","body":"<p>I am using Eclipse 3.7.2 for PHP web app development.</p>\n\n<p>When using the debugger (which I have setup to launch the application in Firefox), AJAX calls that are fired quickly contain a blank response when inspected with Firebug.  This is not a cross-domain problem as the AJAX calls are all to the same server.</p>\n\n<p>If I use Firebug to set a breakpoint just before the AJAX call in the JavaScript code, and then resume the execution, then the AJAX response will be loaded correctly.</p>\n\n<p>It seems this problem may be due to Eclipse not being able to handle simultaneous requests.  Is there any way to change Eclipse's settings to allow more requests?</p>\n"},{"tags":["php","javascript","ajax","xmlhttprequest","responsetext"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13244221,"title":"PHP script return responseText to AJAX From POST? Want To Return Message with Ajax POST","body":"<p>I am trying to make a scheme where Ajax calls upload.php and upload.php will return success or failure in a message. I tried using echo \"successs\" in the php script, hopeing that xhr.responseText would receive the message. But instead alert(xhr.responseText) is a blank line. Then it occured to me, does xhr.responseText only work with GET and not POST? If this is it, how can I have it to where the php script can return a custom message? I do not  want to use the HTTP status codes...I rather learn how to do custom messages if possible. </p>\n\n<p><strong>No Jquery please.</strong> </p>\n\n<pre><code>&lt;?php\n$tmp_name = $_FILES['file1']['tmp_name'];\n$path = \"/trunk\";\n$name = $path . DIRECTORY_SEPARATOR . $_FILES['file1']['name'];\n$success = move_uploaded_file($tmp_name, $name);\nif ($success) {\n    echo \"good\";\n} else {\n    echo \"bad\";\n}\n?&gt;\n}\n\nfunction uploadPHP() {\n    var xhr = new XMLHttpRequest(),\n       form = document.getElementById(\"uploadForm\");\n\n    xhr.open(\"POST\", \"php/upload.php\", true);\n    xhr.send(new FormData(form));\n    alert(xhr.responseText);\n}\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":36,"score":-5,"question_id":13243639,"title":"How to reload table row after button from its row is clicked?","body":"<p>Currently I am pulling data out of a database to build a table dynamically. After pulling the data, I want myself and or my users to be presented with an option (button) where if they click the button I can edit/remove this row from the table as well as from the database.</p>\n\n<p>I am new to jQuery so I am not sure what I should use for the <code>$.ajax()</code> functionality.\nThis is my php code:</p>\n\n<pre><code>foreach($stmt as $item){\n\n            echo '\n            &lt;/td&gt;\n            &lt;td&gt;'.$item['asin'].'&lt;/td&gt;\n            &lt;td&gt;'.$item['weight'].'&lt;/td&gt;\n            &lt;td&gt;'.$item['dimension'].'&lt;/td&gt;\n            &lt;td&gt;'.$item['category'].'&lt;/td&gt;\n            &lt;td&gt;';\n\n                    echo '&lt;button type=\"button\" class=\"btn\"&gt;Update Me!&lt;/button&gt;';\n\n            echo '\n            &lt;/td&gt;\n        &lt;/tr&gt;';\n    }\n    echo '&lt;/tbody&gt;\n    &lt;/table&gt;';\n</code></pre>\n\n<p>This is my jQuery code:</p>\n\n<pre><code>      $(document).on('click', '.btn', function() {\n    $.ajax({\n    //code here etc\n    success:function(){\n    //what to put here?\n    }\n\n});\n}\n</code></pre>\n"},{"tags":["c#","asp.net","ajax","repeater","news-ticker"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13241453,"title":"Binding Ajax ticker to List or Collection","body":"<p>I need to implement a News ticker like control and bind it to a result set (can be anything List, datatable). I need to display 3 rows at a time, pause for 4,5 seconds and display the other set of 3 rows.</p>\n\n<p>Is it possible to do this with Ajax ticker? I can implement something similar with a Repeater but not sure if I will be able to achieve the animation/fading effect and etc.</p>\n\n<p>Will appreciate your thoughts on this.</p>\n"},{"tags":["jquery","ajax","image","anchor","selector"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13243560,"title":"Unable to select \"a tag\" with \"img tag\" inside to run AJAX function","body":"<p>I am running an ajax function that calls an external page but am having trouble selecting an anchor tag that has an image inside of it. The function works when it is plain text but once there is an image inside it ceases to function (except when clicked outside of the image but within the anchor tag). </p>\n\n<p>The html is something like this.</p>\n\n<pre><code>    &lt;div id=\"add_content\"&gt;\n        &lt;a href=\"page_1.html\"&gt; Text works fine&lt;/a&gt;\n        &lt;a href=\"page_2.html\"&gt;&lt;img src=\"thumbnail.jpg\"/&gt;Image doesn't work&lt;/a&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"insert_here\"&gt; &lt;/div&gt;\n</code></pre>\n\n<p>An example external page is </p>\n\n<pre><code>    &lt;div id=\"thumbnails\"&gt;\n        &lt;img src=\"images/1.jpg\"/&gt;\n        &lt;img src=\"images/2.jpg\"/&gt;\n        &lt;img src=\"images/3.jpg\"/&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>The script that I am running is </p>\n\n<pre><code>       $(document).ready(function (){\n            $('#add_content a').click(function(e){\n                e.preventDefault();\n                $('#insert_here').load(e.target.href + '#thumbnails').hide().delay(100).fadeIn(500);\n            });\n       });\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","class"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13243516,"title":"Access class variable in jquery","body":"<p>I have a select in my html and would like to add the options via ajax when the page loads. The options values are in my DB and I get them via a call to ajax. To do so, I'm writing a class in javascript but I just can't get my data when it runs. Please take a look :</p>\n\n<p>--- Main.js ---</p>\n\n<pre><code>function MyLoader() {\n    this._clients = null;\n    this._code = null;\n}\n\nLoader.prototype = {\n\n    var context = this;\n\n    loadClients: function() {\n        $.ajax({\n            url: \"my/php/\",\n            type: \"POST\",\n            data: {...},\n            success: function(response) {\n                context._clients = response;\n            }\n        });\n    },\n\n    getCode: function() {...}\n};\n</code></pre>\n\n<p>Then I have the following :</p>\n\n<pre><code>$(document).ready(function() {\n    var loader = new Loader();\n    loader.loadClients();\n    alert(loader._clients);\n\n    //Here I want to add my options to the select\n});\n</code></pre>\n\n<p>My alert always returns null, and I don't understand why. I need to save my data in the class in order to access them anytime I need to.</p>\n\n<p>Can you point me to the right direction to make all my stuff work ? Thank you for your answers.</p>\n"},{"tags":["jquery","ajax","multipartform-data","apache-commons-fileupload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13240664,"title":"How to set a boundary on a multipart/form-data request while using jquery ajax FormData() with multiple files","body":"<p>I have an HTML form that needs to upload 3 parts to an existing REST API in a single request.  I can't seem to find documentation on how to set a boundary on a FormData submission.</p>\n\n<p>I've attempted to follow the examples given here:\n<a href=\"http://stackoverflow.com/questions/6974684/how-to-send-formdata-objects-with-ajax-requests-in-jquery\">How to send FormData objects with Ajax-requests in jQuery?</a></p>\n\n<p>However when I submit the data it gets rejected with the following stacktrace:</p>\n\n<pre><code>Caused by: org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found.\n</code></pre>\n\n<p>How can I set a boundary?</p>\n\n<p>Here is the HTML/Javascript:</p>\n\n<pre><code>   &lt;script type=\"text/javascript\"&gt;\n    function handleSubmit() {\n\n\n        var jsonString = \"{\" +\n                \"\\\"userId\\\":\\\"\" + document.formSubmit.userId.value + \"\\\"\" +\n                \",\\\"locale\\\":\\\"\" + document.formSubmit.locale.value + \"\\\"\" +\n                \"}\";\n\n        var data = new FormData();\n        data.append('Json',jsonString);\n        data.append('frontImage', document.formSubmit.frontImage.files[0]);\n        data.append('backImage', document.formSubmit.backImage.files[0]);\n\n        document.getElementById(\"sent\").innerHTML = jsonString;\n        document.getElementById(\"results\").innerHTML = \"\";\n        $.ajax({\n                   url:getFileSubmitUrl(),\n                   data:data,\n                   cache: false,\n                   processData: false,\n                   contentType: 'multipart/form-data',\n                   type:'POST',\n                   success:function (data, status, req) {\n                       handleResults(req);\n                   },\n                   error:function (req, status, error) {\n                       handleResults(req);\n                   }\n               });\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Here is the Form:</p>\n\n<pre><code>&lt;form name=\"formSubmit\" action=\"#\"&gt;\n    userId: &lt;input id=\"userId\" name=\"userId\" value=\"\"/&gt;&lt;br/&gt;\n    locale: &lt;input name=\"locale\" value=\"en_US\"/&gt;&lt;br/&gt;\n    front Image: &lt;input type=\"file\" name=\"frontImage\"/&gt;&lt;br/&gt;\n    back Image: &lt;input type=\"file\" name=\"backImage\"/&gt;&lt;br/&gt;\n    &lt;input type=\"button\" onclick=\"handleSubmit();\" value=\"Submit\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Thanks in advance for any help!</p>\n"},{"tags":["php","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13242711,"title":"refreshing table with jquery/Ajax -breaks links to database/javascript","body":"<p>I am amending some results tables that display rows from a mysql database to refresh automatically. I am new to this so have based it on\n<a href=\"http://stackoverflow.com/questions/5681380/refresh-a-table-with-jquery-ajax-ever-5-seconds\">Refresh a table with jQuery/Ajax ever 5 seconds</a></p>\n\n<p>This works fine and I have tested it by asking for making the request to the server display the time so i can see the change when the refresh occurs.</p>\n\n<p>My problem is that if i apply this to a table dislaying returned sql results (also using the jquery tablesorter). Both my sql and jquery fail unless I move all the files and code they are dependant upon to the php page i echo the table on. This is now making my pages a mess. So what is the best way to refresh and manage a results table with ajax and where should dependant files/code be located?</p>\n\n<p>cheers</p>\n"},{"tags":["javascript","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13242780,"title":"ajax post calender controls in php not working :(","body":"<p>I am following a tutorial to make a calender, i have made the first bit of the calender but after adding more code to make buttons to go the the previous and next month it is no longer working :(  </p>\n\n<p>I get this error on ie</p>\n\n<p>Webpage error details\nMessage: 'document.getElementById(...)' is null or not an object\nLine: 23\nChar: 4\nCode: 0 </p>\n\n<p>and it just shows processing instead of the calender.</p>\n\n<p>Here is the code if anyone could take a look thatd be great</p>\n\n<p>calendar_start.php - <a href=\"http://tinypic.com/r/sdo19t/6\" rel=\"nofollow\">http://tinypic.com/r/sdo19t/6</a> (sorry i had to upload a pic as it would not let me space it 4 lines to make it code in all places).</p>\n\n<p>show_calendar.php   (this is the file you should be able to view the calender on</p>\n\n<pre><code> &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"calCss.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\" /&gt;\n\n\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction initialCalendar(){\nvar hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar currentTime = new Date();\nvar month = currentTime.getMonth() + 1;\nvar year = currentTime.getFullYear();\nshowmonth = month;\nshowyear = year;\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showcalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n\n\n\n\n\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction next_month(){\nvar nextmonth = showmonth + 1;\nif (nextmonth &gt; 12) {\n   nextmonth = 1;\n   showyear = showyear + 1;\n }\n showmonth = nextmonth;\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showcalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n\n\n\n\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\nfunction last_month(){\n\nvar lastmonth = showmonth - 1;\nif (lastmonth &lt; 1) {\n   lastmonth = 12;\n   showyear = showyear - 1;\n }\n showmonth = lastmonth;\n\n var hr = new XMLHttpRequest();\nvar url = \"calendar_start.php\";\nvar vars = \"showmonth=\"+showmonth+\"&amp;showyear=\"+showyear;\nhr.open(\"POST\", url, true);\nhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhr.onreadystatechange = function() {\n    if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n        var return_data = hr.responseText;\n        document.getElementById(\"showcalendar\").innerHTML = return_data;\n    }\n}\nhr.send(vars);\ndocument.getElementById(\"showCalendar\").innerHTML = \"processing...\";\n}\n&lt;/script&gt;\n\n\n\n\n\n&lt;/head&gt;\n&lt;body onLoad=\"initialCalendar();\"&gt;\n&lt;div id=\"showCalendar\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>calCss.css    (this is fine i think, as it worked before)</p>\n\n<pre><code>#calendar_wrap {\nwidth: 924px;\nmargin-left: auto;\nmargin-right: auto;\noverflow: hidden;\n}\n.title_bar {\nwidth: 100%; \nheight: 30px;\n}\n.previous_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: left;\n}\n.show_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: center;\n}\n.next_month {\nfloat: left;\nwidth: 308px;\nheight: 30px;\ntext-align: right;\n}\n.week_days {\nwidth: 100%;\n}       \n.days_of_the_week  {\nfloat: left;\nwidth: 14%;\ntext-align: center;\n}      \n.cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #9C9;\n}\n.day_heading {\nposition: relative;\nfloat: left;\nwidth: 40px;\nheight: 16px;\npadding: 6px;\ncolor: #000;\nfont-family: Arial;\nfont-size: 14px;\n}    \n.openings {\nwidth: 100%;\nclear:left;\ntext-align: center;\n}\n.non_cal_day {\nposition: relative;\nfloat: left;\nmargin-right: 4px;\nmargin-bottom: 4px;\nwidth: 128px;\nheight: 95px;\nbackground-color: #CCC;\n}\n\n.clear {\nclear: both;\n}\n</code></pre>\n\n<p>Hopefully it is something simple, im very new at this, :)/:( it is not to do with the localhost</p>\n"},{"tags":["php","ajax","webmethod"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":12719170,"title":"AJAXed PHP call AJAXed PHP like WebMethod call WebMethod","body":"<p>So, now that I've escaped server-side tyranny and moved on to AJAX, I've found that I can use WebMethods like Subs; in other words, I can have one (VB) WebMethod function call another WebMethod function.  The WebMethod function that can be called by another WebMethod can of course be called by AJAX as a WebMethod and not just a public static WebMethod.</p>\n\n<p>How do I do this with PHP?  Can a PHP page post to another PHP?</p>\n\n<p>Many thanks in advance!</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":6219,"score":2,"question_id":2458363,"title":"Full page Slide with jQuery and ajax","body":"<p>Looking to implement a solution on a personal project but don't know if it is possible. Would love to have two buttons on left and right of page where if clicked would take you to new page or previous page.</p>\n\n<p><strong>Screenshot:</strong></p>\n\n<p><a href=\"http://img188.imageshack.us/img188/9294/conceptu.jpg\" rel=\"nofollow\">http://img188.imageshack.us/img188/9294/conceptu.jpg</a></p>\n\n<p>But here's the kicker, There will be fullscreen stretched bg's. and the two arrows will be positioned 100% full width of browser. </p>\n\n<p>Doe's anyone know of a solution to this problem?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":195,"score":-1,"question_id":11899054,"title":"increment variable each time jquery function is called","body":"<p>this is the code I have, I want to increment the value of the variable sfrom everytime the function is called, the function is triggered when someone scrolls to the bottom of the page.</p>\n\n<p>any idea please ?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nif (typeof sfrom==\"undefined\") {\n    var sfrom = 0;}\n$(function(){\n\n    $('.tainer').scrollPagination(\n    {\n        'contentPage': 'listitem.php', \n        'contentData': {startfrom:sfrom},  \n        'scrollTarget': $(window), \n        'heightOffset': 5, \n        'beforeLoad': function(){\n\n        },\n        'afterLoad': function(elementsLoaded){ \n             var i = 0;\n             $(elementsLoaded).fadeInWithDelay();\n\n        }\n    });   \n});\n</code></pre>\n\n<p></p>\n"},{"tags":["c#","ajax","json","javascriptserializer"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":514,"score":0,"question_id":5373540,"title":"JSON serializing an object with function parameter","body":"<p>I have this C# object:</p>\n\n<pre><code>var obj = new {\n    username = \"andrey\",\n    callback = \"function(self) { return function() {self.doSomething()} (this) }\"\n}\n</code></pre>\n\n<p>I need to JSON serialize it to pass to the browser in ajax call. I use JavascriptSerializer, but it serializes to the following JSON:</p>\n\n<pre><code>{\"username\":\"andrey\", \"callback\": \"function(self) { return function() {self.doSomething()} (this) }\"}\n</code></pre>\n\n<p>but what I need is:</p>\n\n<pre><code>{\"username\":\"andrey\", \"callback\": function(self) { return function() {self.doSomething()} (this) }}\n</code></pre>\n\n<ul>\n<li>no quotes around function definition.</li>\n</ul>\n\n<p>Right now, when the JSON object gets to the browser and is created, the 'callback' parameter is not a function but a string. Any idea how to fix it, preferably on the server side?</p>\n"},{"tags":["java","javascript","jquery","ajax","servlets"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13241668,"title":"how to send array to servlet using jQuery $.ajax?","body":"<p>I want to send java script array to servlet by using ajax.\nlike that.</p>\n\n<pre><code>var json=[1,2,3,4];\n$.ajax({\n            url:\"myUrl\",\n            type:\"POST\",\n            dataType:'json',\n            success:function(data){\n                // codes....\n            },\n            data:json\n\n        });\n</code></pre>\n\n<p>when I use</p>\n\n<pre><code>request.getParameterMap();\nrequest.getParameter(\"json\");\nrequest.getParameterValues(\"json\");\n</code></pre>\n\n<p>it's return null ..\nhow i can make it?\nthnx.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","coffeescript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13241882,"title":"jQuery Ajax Request 200 but status error","body":"<p>I'm testing out an Ajax form, and I'm getting behavior I wasn't expecting. The request returns http 200 OK, but the xhr status is 0, error. I'm testing this against <a href=\"http://requestb.in\" rel=\"nofollow\">requestb.in</a>.</p>\n\n<p>Here's my function (in coffeescript):</p>\n\n<pre><code>$.ajax\n  type: 'POST'\n  url: 'http://requestb.in/1fcyas71'\n  dataType: 'json'\n  data: { foo: \"bar\" }\n  error: (xhr, status, error) -&gt;\n    $('div#response').text(error).addClass('error')\n    console.log status\n    console.log xhr\n  success: (data, status, xhr) -&gt;\n    $('div#response').text(data).removeClass('error')\n    console.log status\n    console.log xhr\n</code></pre>\n\n<p>My understanding is requestb.in accepts any request, so why is this returning as an error?</p>\n"},{"tags":["jquery","sql-server","ajax","mobile","asp-classic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":12458855,"title":"JQuery Mobile and SQL Server for Hybrid Application","body":"<p>I'm interested to know if anyone has done any work in JQuery Mobile with classic ASP. It seems that PHP is a widely used server-side language with JQM but I can't seem to find anything with good ol' CLASP (I know it's old tech, but it's similarities to PHP are quite interesting). I have a long history with classic asp and would like to use that as opposed to learning PHP (if I avoid it).</p>\n\n<p>Here are the details ...</p>\n\n<p>I have an existing SQL database (on my server) with customer information that I want to simply list in JQM. It would be a three page app:\nPage1 - Logon (user authentication)\nPage2 - customer listing based on the customers associated (in the database) with the user's credentials\nPage3 - customer details - details of the selected customer from Page2</p>\n\n<p>When the user submits the logon form, the app goes to the server and gets credentials. Those credentials are then used on Page2 to list the customers that have the user's ID as the account manager. The user then clicks a customer, and the customerID is passed to the customer details page which is used to pull specific customer data from the database.</p>\n\n<p>The main difficulties I am having are -\n. the connection the SQL server database. How does javascript connect to the server-side and retrieve data? AJAX, JSON, web service?\n. how do I pass data from page to page? Credentials from the logon form, customer ID to the customer details page.</p>\n\n<p>My preference would be to use ASP, with AJAX/JSON calls to populate the server-side data but I don't know where to start. Any assistance would be much appreciated. I would be happy to give some advertising space on my blog to anyone who can give a well-detailed explanation.</p>\n\n<p>Thanks\nSteven\nw: <a href=\"http://www.stevenwoolston.com\" rel=\"nofollow\">http://www.stevenwoolston.com</a></p>\n"},{"tags":["php","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13241516,"title":"JQuery alternate div content and AJAX post url on each click","body":"<p>I have some JQuery handling a div click. If the div is clicked once it hides itself and shows another div (and posts to a php script in the background). If it is then clicked again, it's supposed to hide the new div, show the new one again, and post more data to a different script, and so on.</p>\n\n<p>It changes the first time (.f hides, .uf shows) but when I click '.uf' nothing happens. </p>\n\n<p>JQuery:</p>\n\n<pre><code>if($('.f').is(\":visible\")) {\n    $('#follow').click(function() {\n        var to_follow = $('.name').attr('id');\n        $.ajax({  \n            type: \"POST\",  \n            url: \"/bin/rel_p.php\",  \n            data: \"y=\" + to_follow,  \n            success: function() {  \n                $('.f').hide();\n                $('.uf').show();\n            }\n        });\n    });\n}\nelse {\n    $('#follow').click(function() {\n        var to_unfollow = $('.name').attr('id');\n        $.ajax({  \n            type: \"POST\",  \n            url: \"/bin/relu_p.php\",  \n            data: \"y=\" + to_follow,  \n            success: function() {  \n                $('.uf').hide();\n                $('.f').show();\n            }\n        });\n    });\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>            &lt;div id=\"follow\" class=\"f\"&gt;\n                &lt;img src=\"img/icons/Follow.png\"&gt;\n                &lt;h1&gt;Follow&lt;/h1&gt;\n            &lt;/div&gt;\n            &lt;div id=\"follow\" class=\"uf\" style=\"display:none;\"&gt;\n                &lt;img src=\"img/icons/Unfollow.png\"&gt;\n                &lt;h1&gt;Unfollow&lt;/h1&gt;\n            &lt;/div&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","internet-explorer"],"answer_count":8,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":190,"score":0,"question_id":13064257,"title":"this.value in IE issue","body":"<p>I have a problem with <code>this.value</code> in IE(7-9).\nI use this code:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n  $(document).ready(function(){\n    $(\".inputbox\").keyup(function(){\n      value = this.value;\n      $(\"#searchRe\").load(\"suggestionSearch.php?value=\" + value);\n    });\n});    \n&lt;/script&gt;\n</code></pre>\n\n<p>This works in Firefox and Chrome, but don't pass \"value\" to \"suggestionSearch.php\" in IE. I think <code>value = this.value</code> is problem. Please help me :)</p>\n\n<p>NOTE: <code>.inputbox</code> is a textbox.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13241069,"title":"js alternative to jquery load method","body":"<p>I'm trying to throw together a single js file that includes the functionality of jquery's .load(), as well as the methods, in an effort to link only to a single js file, rather than both jquery and the load methods.</p>\n\n<p>Instead of </p>\n\n<pre><code>&lt;script src=\"jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"load.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>this</p>\n\n<pre><code>&lt;script src=\"load_including-necessary-js-for-load-methods.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>So basically I'm trying to extract only the necessary code from within jquery that makes .load() work and include it in the file with the load methods.</p>\n"},{"tags":["javascript","ajax","wordpress","api","settings"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13241253,"title":"How can I pass multiple checkbox values to the Wordpress Settings API using AJAX?","body":"<p>I'm using the Wordpress Settings API and have managed to get it to work using PHP. I'd like to make it work over AJAX but I can't get PHP to update based on what I'm passing to to:</p>\n\n<p>HTML Form:</p>\n\n<pre><code>&lt;input name=\"wpbackitup[wp_backitup_settings_db]\" id=\"wp-backitup-settings-db\" type=\"checkbox\" value=\"1\" &lt;?php checked('1', $options['wp_backitup_settings_db']); ?&gt; /&gt; \n\n&lt;input name=\"wpbackitup[wp_backitup_settings_plugins]\" id=\"wp-backitup-settings-plugins\" type=\"checkbox\" value=\"1\" &lt;?php checked('1', $options['wp_backitup_settings_plugins']); ?&gt; /&gt;\n\n&lt;input name=\"wpbackitup[wp_backitup_settings_themes]\" id=\"wp-backitup-settings-themes\" type=\"checkbox\" value=\"1\" &lt;?php checked('1', $options['wp_backitup_settings_themes']); ?&gt; /\n\n&lt;input name=\"wpbackitup[wp_backitup_settings_uploads]\" id=\"wp-backitup-settings-uploads\" type=\"checkbox\" value=\"1\" &lt;?php checked('1', $options['wp_backitup_settings_uploads']); ?&gt; /&gt;\n</code></pre>\n\n<p>Based on another thread I found on Stack Overflow, I was told that its simply a case of posting to options.php and letting Wordpress handle the rest. I'd like the form to be posted whenever a user checks/unchecks a checkbox. Here is my JS:</p>\n\n<pre><code>$(\"#wp-backitup-options input\").change( function() {\n    $.post( 'options.php', { \n        'wpbackitup[wp_backitup_settings_db]' : $('#wp-backitup-settings-db').val(),\n        'wpbackitup[wp_backitup_settings_plugins]' : $('#wp-backitup-settings-plugins').val(),\n        'wpbackitup[wp_backitup_settings_themes]' : $('#wp-backitup-settings-themes').val(),\n        'wpbackitup[wp_backitup_settings_uploads]' : $('#wp-backitup-settings-uploads').val(),\n    } ).error( function() {\n        $(\"#wp-backitup-settings-status\").html('Updated');\n    }).success( function() {\n        $(\"#wp-backitup-settings-status\").html('Error'); \n    });\n    return false;    \n});\n</code></pre>\n\n<p>Two issues. Firstly, the .change() function only notices the first change of the checkbox. Secondly, 'Error' is displayed and the settings are not updated. As I said, this works with PHP just not using my current JS/AJAX setup.</p>\n"},{"tags":["jquery","ajax","browser-history","pushstate"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13240783,"title":"history.pushState breaking on browser back button","body":"<p>I'm working on a single page application where each section is loaded via ajax. The homepage is its own page, then you click 'About' and it takes you to the single page app. I've gotten the url to change on each section and the back and forward buttons on the browser to work with this snippet:</p>\n\n<pre><code>$('.down-button').on('click', function() {\n        var stateObj = { principles: \"about-principles\" };\n        history.pushState(stateObj, null, \"about-principles\");\n        $('#principles-wrap').scrollintoview({ duration: 1000 });\n    });\n</code></pre>\n\n<p>However, when you click all the way back to the homepage, the homepage does not refresh, you remain on the 'About' page. Or, if you click on a link back to the homepage, you get a 404 error. </p>\n\n<p>What am I missing?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is the rest of the code:</p>\n\n<pre><code>function button_scroll () {\n// Call scrollIntoView js file into this \n$.getScript(\"/js/jquery.scrollintoview.min.js\", function() {\n    $('.down-button').on('click', function() {\n        var stateObj = { principles: \"about-principles\" };\n        history.pushState(stateObj, null, \"about-principles\");\n        $('#principles-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.up-button-principles').on('click', function() {\n        var stateObj = { mission: \"about-mission\" };\n        history.pushState(stateObj, null, \"about-mission\");\n        $('#mission-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.down-button-principles').on('click', function() {\n        var stateObj = { snapshot: \"about-snapshot\" };\n        history.pushState(stateObj, null, \"about-snapshot\");\n        $('#snapshot-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.up-button-snapshot').on('click', function() {\n        var stateObj = { principles: \"about-principles\" };\n        history.pushState(stateObj, null, \"about-principles\");\n        $('#principles-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.down-button-snapshot').on('click', function() {\n        var stateObj = { people: \"about-people\" };\n        history.pushState(stateObj, null, \"about-people\");\n        $('#people-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.up-button-people').on('click', function() {\n        var stateObj = { snapshot: \"about-snapshot\" };\n        history.pushState(stateObj, null, \"about-snapshot\");\n        $('#snapshot-wrap').scrollintoview({ duration: 1000 });\n    });\n\n});\n</code></pre>\n\n<p>}</p>\n\n<pre><code>//Dropdown\n$(document).ready(function () {\n$(window).on('load resize', function () {\n    resize_mission();\n    resize_principles();\n    resize_snapshot();\n    resize_people();\n    button_scroll();\n});\nvar dropDown = $('.dropdown');\n$('h3.about').on('click', function() {\n    dropDown.slideDown('fast', function() {\n        var url = 'about2.php'\n        var stateObj = { mission: \"about-mission\" };\n        history.pushState(stateObj, null, \"about-mission\");\n        $.get(url, function(data) {\n            resize_mission();\n            resize_principles();\n            resize_snapshot();\n            resize_people();\n            button_scroll();\n        });\n    });\n});\n</code></pre>\n\n<p>});</p>\n\n<p>This is all I'm doing. No plugins.</p>\n"},{"tags":["javascript","jquery","ajax","browser","loading"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13240286,"title":"How do I add a load icon to a page that just processes javascript code?","body":"<p>I use Ajax load icons all the time for when I do ajax requests.</p>\n\n<p>I want to know if it's possible to accomplish the same thing with just regular javascript code. For example:</p>\n\n<pre><code>$('button').on('click', function(){\n    showLoadingBar();\n    longProcess();\n    hideLoadingBar();\n});\n</code></pre>\n\n<p>longProcess() is just a function that can take 1-3 seconds to process (it does a lot of calculations and manipulates the DOM but doesn't do any ajax requests).</p>\n\n<p>Right now, the browser halts/freezes during these 1-3 seconds, so what I would rather do is show a loading icon during this time. Is this possible? The code I have above pretty much ignores showLoadingBar().</p>\n"},{"tags":["ajax","data-binding","grid","telerik-mvc","kendo-ui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13235657,"title":"Is there a way to combine Server Binding and Ajax Binding to eliminate the extra request made in Ajax Binding on a Kendo grid?","body":"<p>By default the Kendo Grid for ASP.NET MVC will perform server side requests and load the page and grid on a single request. However, when configured for ajax binding the Kendo Grid for ASP.NET MVC will make ajax requests after the page is loaded which requires one extra request (one for the page and one extra for the data used by the grid). Is there a way to combine server binding and ajax binding to eliminate the extra request made in ajax binding alone? All I'm looking is to load the data for the page and grid at the same request (like Server Side Binding) for the first time and use ajax binding for subsequent requests. To disable the initial load on ajax binding we can disable the AutoBind Configuration Option (autoBind:false) of the grid. Now, I need a way to show the data on the grid while the autobind option is disabled. Any idea???? </p>\n"},{"tags":["php","javascript","ajax","upload","progress-bar"],"answer_count":5,"favorite_count":11,"up_vote_count":11,"down_vote_count":1,"view_count":1329,"score":10,"question_id":9878161,"title":"PHP Ajax Upload Progress Bar","body":"<pre><code>&lt;form enctype=\"multipart/form-data\" action=\"upload.php\" method=\"POST\"&gt;\n&lt;input name=\"uploaded\" type=\"file\" /&gt;\n&lt;input type=\"submit\" value=\"Upload\" /&gt;\n&lt;/form&gt;\n\n&lt;?php\nif(isset($_REQUEST['submit'])){\n   $target = \"data/\".basename( $_FILES['uploaded']['name']) ;\n   move_uploaded_file($_FILES['uploaded']['tmp_name'], $target);\n}\n?&gt;\n</code></pre>\n\n<p>I know Javascipt, AJAX and JQuery etc very well and i believe upload progress bar can be created using PHP, AJAX and Javascript etc.<br>\n <strong>I am surprised how to get the size of upload (Mean in each second i want to know, how much file is uploaded and how much is remaining, i think it should be possible using AJAX etc) file during upload is in process.</strong></p>\n\n<p>here is link to PHP manual but i didn't understand that<br>\n<a href=\"http://php.net/manual/en/session.upload-progress.php\">http://php.net/manual/en/session.upload-progress.php</a>  </p>\n\n<p>Any other method to show upload progress bar using PHP and AJAX but without use of any external extension of PHP. I don't have access to php.ini</p>\n"},{"tags":["c#","jquery","ajax","asp.net-mvc-3"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":13240128,"title":"Why is this value zero after ajax call finishes (asp.net mvc 3 and jQuery)?","body":"<p>Here is my ajax call:</p>\n\n<pre><code>  var totalCost = 0;\n    function GetTotalCost(start, end, rID) \n    {\n        $.ajax({\n            url: '@Url.Action(\"CalculateTotalcost\")',\n            type: 'POST',\n            data: JSON.stringify({ start:start, end:end, rID:rID}),\n            dataType: 'json',\n            processdata: false,\n            contentType: 'application/json; charset=utf-8',\n            success: function (data) { totalCost = data; }\n//            error: function (xhr, ajaxOptions, thrownError) { $('.datepicker1').datepicker(\"hide\"); },\n//            complete: function (x, y) { $('.datepicker1').datepicker(\"refresh\"); }\n        });\n    }\n</code></pre>\n\n<p>Here is my function from which I call ajax:</p>\n\n<pre><code> $('.datepicker2').datepicker({\n            dateFormat: 'dd/mm/yy',\n            firstDay: 1,\n            yearRange: '2012:2100',\n            beforeShowDay: function (date) {\n                var day = date.getDate();\n                if (day in alreadyTakenDays) {\n                    return [false, '', alreadyTakenDays[day]];\n                }\n                else return [true, 'IsActive'];\n            },\n            onChangeMonthYear: function (year, month, inst) {\n                alreadyTakenDays = {};\n                getEvents(month, year);\n            },\n\n            onSelect: function (dateText, inst) {\n                var end = dateText.substring(0, 2);\n                console.log(end);\n                var rID = $('#RoomID').val();\n                console.log(rID);\n                var startingHole = $('#DateOne').val();\n                var start = startingHole.substring(0, 2);\n                console.log(start);\n                GetTotalCost(start, end, rID);\n\n                document.getElementById('TotalCost').value = totalCost.toFixed(2);\n\n            }\n        });\n</code></pre>\n\n<p>After jQuery script is executed I always get <strong>0 for totalCount?</strong>\nWhy is this happening? What should I Do?\nI would like to appoint totalCount to Html.TextBoxFor in ASP.NET MVC 3, that is why I need totalCount. Please help.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":13238781,"title":"Ajax call to PHP is returning nothing","body":"<p>I'm trying to make my first ajax example working on my MAMP.\nmy ajax.html looks like:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script src='ajax.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload = 'ajax()'&gt;\n&lt;div id='test'&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>my ajax.js looks like:</p>\n\n<pre>\n\nfunction ajax()\n{\n>>var xmlhttp;<br>if (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5<br>\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.open(\"GET\",\"http://localhost:8888/ajax.php\",true);\nxmlhttp.send();\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 && xmlhttp.status==200)\n    {\n    document.getElementById(\"test\").innerHTML=xmlhttp.responseText;\n    }\n  }\n}\n</pre>\n\n<p>my ajax.php looks like:</p>\n\n<blockquote>\n  <p>echo 'hello world';</p>\n</blockquote>\n\n<p>I detected response header from firebug:</p>\n\n<blockquote>\n  <p>Response Headers<br>\n  Connection  Keep-Alive<br>\n  Content-Length  11<br>\n  Content-Type    text/html<br>\n  Date    Mon, 05 Nov 2012 18:57:46 GMT<br>\n  Keep-Alive  timeout=5, max=99<br>\n  Server  Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/0.9.8r DAV/2 PHP/5.4.4<br>\n  X-Pad   avoid browser bug<br>\n  X-Powered-By    PHP/5.4.4<br></p>\n</blockquote>\n\n<p>but nothing in response text and nothing changed in my html.</p>\n\n<p>Anyone could help me out please?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","javascript","jquery","ajax","vector"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13236257,"title":"Graphic SVG in html","body":"<p>I´m trying to put in my HTML a SVG vector graphic. </p>\n\n<p>This SVG: <a href=\"http://webkunst.comeze.com/graphic.svg\" rel=\"nofollow\">http://webkunst.comeze.com/graphic.svg</a></p>\n\n<p>I managed to load it thru like this:</p>\n\n<pre><code>&lt;embed src=\"images/grafica-2.svg\" type=\"image/svg+xml\"/&gt;\n</code></pre>\n\n<p>the problem is that it just loads the file, but I need that I can modify the percentages of each color. I mean, that I can control thru the html the data of the svg, not just importing the svg \"closed\".</p>\n\n<p>Is there anyway to do that?</p>\n"},{"tags":["jquery","ajax","browser-history","pushstate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13239786,"title":"Issues browsing back and forward on ajax site","body":"<p>My site, <a href=\"http://teneo.telegraphbranding.com/\" rel=\"nofollow\">http://teneo.telegraphbranding.com/</a>, is using a single page ajax application for the 'About' section.</p>\n\n<p>I have the browser back and forward buttons working within the 'About' section with this code:</p>\n\n<pre><code>var stateObj = { principles: \"about-principles\" };\nhistory.pushState(stateObj, null, \"about-principles\");\n</code></pre>\n\n<p>utilized throughout this function for each of the down and up buttons:</p>\n\n<pre><code>    function button_scroll () {\n// Call scrollIntoView js file into this \n$.getScript(\"/js/jquery.scrollintoview.min.js\", function() {\n    $('.down-button').on('click', function() {\n        var stateObj = { principles: \"about-principles\" };\n        history.pushState(stateObj, null, \"about-principles\");\n        $('#principles-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.up-button-principles').on('click', function() {\n        var stateObj = { mission: \"about-mission\" };\n        history.pushState(stateObj, null, \"about-mission\");\n        $('#mission-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.down-button-principles').on('click', function() {\n        var stateObj = { snapshot: \"about-snapshot\" };\n        history.pushState(stateObj, null, \"about-snapshot\");\n        $('#snapshot-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.up-button-snapshot').on('click', function() {\n        var stateObj = { principles: \"about-principles\" };\n        history.pushState(stateObj, null, \"about-principles\");\n        $('#principles-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.down-button-snapshot').on('click', function() {\n        var stateObj = { people: \"about-people\" };\n        history.pushState(stateObj, null, \"about-people\");\n        $('#people-wrap').scrollintoview({ duration: 1000 });\n    });\n    $('.up-button-people').on('click', function() {\n        var stateObj = { snapshot: \"about-snapshot\" };\n        history.pushState(stateObj, null, \"about-snapshot\");\n        $('#snapshot-wrap').scrollintoview({ duration: 1000 });\n    });\n\n});\n}\n</code></pre>\n\n<p>However, when you click all the way back to the homepage, teneo.telegraphbranding.com, the homepage doesn't reload, the browser remains on the About page. Or, when you click on the tree logo in the sidebar and go to the homepage, and then click back to go back to the 'About' section, I get a 404 error. </p>\n\n<p>I'm not sure what I'm missing from my script. Thank you for your help!</p>\n"},{"tags":["ajax","uiwebview","javascript-injection"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13239601,"title":"How to know ajax methods are called in UIWebview","body":"<p>I am working on app which is base on the MobileWebSite. I am handling few things on the app side based on the users interaction on the webSite. For this I have to detect the when the ajax methods are called. I am trying to inject a javascript in  </p>\n\n<p>-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType</p>\n\n<p>to detect ajax calls. But I am unable to catch ajax calls after pageload. \nPlease help if any one has done this. </p>\n\n<p>Thanks.....</p>\n"},{"tags":["jquery","ajax","c#-4.0","postback","asp.net-4.0"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13239587,"title":"diferences using ajax or post back to post actions","body":"<p>so my qustion is litle wierd , as i did not learn about it (ajax approach)</p>\n\n<p>i just reused original function i encounterd , renamed and tested function .</p>\n\n<p>this is the code </p>\n\n<pre><code> function AppsName_AjxUpdt(CurrentColumn, recNumSplited, newValue, TBX, ActionRequest, RecordNum) {\n        $.ajax({\n            type: 'POST',\n            url: 'YourPageNameHere.aspx',\n            data: {\n                'PostSentByAjax': \"true\",\n                'CurrentColumn': CurrentColumn,\n                'recNumSplited': recNumSplited,\n                'value': newValue,\n                'ActionRequest': ActionRequest\n            },\n            success: function (data) {\n                //alert(data);\n                if (type == \"UpdateUserID\") {\n                    TBX.setAttribute(defaultValue, newValue);\n\n                    refreshData();\n                }\n                if (type == \"reason\") {\n                    window.form1.submit();\n                }\n\n                if (type == \"delete\") {\n                    document.getElementById(\"row_\" + rowid).style.display = \"none\";\n                    document.getElementById(\"totalMins\").innerHTML = \"&lt;span style='text-decoration:underline;color:#A7C942;cursor:pointer;' onclick='refreshData();'&gt;Refresh Results&lt;/span&gt;\";\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>so how different is it Vs bynding a text box to  autopostback feature?\ni could just say what i have notest ,\nthe advantage i could see is :\nthat only  if you would like to create a dynamic table with embeded c# code inside the tags to generate id's' names and values properties of controls and in the same time you want that control to post back by it's own event(no postback property for html controls) , \nthen if you did apply c# codes within the scope of the tag it could not be while using an asp:TextBox only input type \"text\"  .</p>\n\n<p><strong>so in other different scenario</strong> (more common) :</p>\n\n<p>few <code>&lt;asp:TextBox&gt;</code> controls, one submit button . </p>\n\n<p>what is the advantege of Ajax now ? </p>\n"},{"tags":["jquery","ajax","mobile","dialog"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13239430,"title":"jQuery Mobile dialog won't close after ajax call","body":"<p>I have a simple JQM (V 1.1.0) listview with an ajax call attached to each item in the list. When the user taps one of the list items, the page behind the dialog is updated with the item they tapped.</p>\n\n<p>The problem is that the dialog doesn't close when the user taps a list item. If I use the (X) Close button in the dialog header, the dialog closes and the page behind the dialog has been updated as expected.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>$('body').on('tap', 'a.element', function(event) {\n\n//START LOADING ANIMATION\n$.mobile.showPageLoadingMsg();\n\n//GET URL FROM MARKUP\nbpm.url = $(this).attr('href');\n\n$.get(bpm.url, \n    function(data, result) {\n        if(result == 'success') {\n\n            //STOP LOADING ANIMATION\n            $.mobile.hidePageLoadingMsg();\n\n            bpm.dataStorage = $(bpm.remoteAppDivName).html(data);\n\n\n            bpm.dataStorage.trigger('create');\n\n\n        }    \n    },\n    'html'\n);\n\n//PREVENT DEFAULT BUTTON BEHAVIOR\nevent.preventDefault();\n\n});\n</code></pre>\n\n<p>Thanks in advance for any help on this!</p>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13234218,"title":"Process page after form data validation","body":"<p>I have a donation page I am working on. After filling out the form, submit it is pressed, sends data to a php page, and either returns html to be displayed in a modal, or uses javascript to allow the page to be submitted.  Because of the asyncronous nature of javascript, I'm not sure how to fix this.  When I click submit with valid data, it checks the data, switches the boolean to true, but does not submit as it was checked before the data was returned.</p>\n\n<p>This web page is also running in wordpress.</p>\n\n<p>Here is the code.</p>\n\n<pre><code>var check = 0;\nfunction noError(){\n    check = 1;\n}\n\njQuery('#donateform').submit(function() {\n    jQuery.post(\n        'validate.php', \n        jQuery(\"#donateform\").serialize(), \n        function(data) {\n            jQuery('#overlay_msg').html(data);\n        }\n    );\n\n    if(check != 1)\n        event.preventDefault();\n    else\n        self.submit();\n});\n</code></pre>\n\n<p>In <code>validate.php</code> it calls </p>\n\n<pre><code>function noError() {\n    check = 1;\n}\n</code></pre>\n\n<p>If the data is valid.</p>\n\n<p>I will keep looking into it.</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","mysql","ajax","jquery-ajax","logic"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13181220,"title":"Popup notification on table change?","body":"<p>I have a table for users Badges and Achievements. The default value for a Badge is written as <strong>locked</strong> in the field value for each badge.  Then when the user unlocks the badge the field value is updated to <strong>unlocked</strong>. How could I alert the user with a popup message that alerts them that they have just unlocked a new achievement based on the value change?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":34,"score":-2,"question_id":13238527,"title":"After pressing space key making ajax request with the word & replace it with response text","body":"<p>I need to translate the text in a <code>textarea</code>. when I press the <code>space</code> key, an ajax request is made with the text in that field &amp; then replaced by the response text.</p>\n\n<p>But It would be better if I could just make an ajax request with the single word just before that space &amp; then replace only that word by the response word. This way I could translate word by word &amp; that's exactly what I need.</p>\n\n<p>Any ideas? Please share if you have any.</p>\n"},{"tags":["ajax","wicket"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":557,"score":4,"question_id":5856698,"title":"Wicket: concurrent Ajax requests limited to one?","body":"<p><strong>Situation</strong></p>\n\n<p>In my Wicket application, I have a page which contains two tags.   Each time a tab is selected, its content is fetched via Ajax so that every time you switch to a different tab its content it loaded fresh from the server.</p>\n\n<p>On one of the tabs I have an input field which has an onblur event which saves the contents of the field via Ajax.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>If the focus is on the input field and I click to a blank area of the page, the Ajax request it fired and the data saved.</p>\n\n<p>If, instead of clicking on a blank area of the page, I click on the other tab, the Ajax request to save the input field is fired but not the Ajax request to switch tabs.</p>\n\n<p>Is the number of concurrent Ajax requests limited in Wicket to one?</p>\n"},{"tags":["ruby-on-rails","ajax","session","post","cookies"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13238097,"title":"How do I send a dropdown selection in Rails through a post and persist that choice in a session?","body":"<p>I am trying to add what should be a simple feature to a Rails site. There is to be a dropdown menu to select what timezone you want times to be displayed for. Once you have selected the timezone, that selection needs to now persist so during that session, any time values for that user that is displayed is in that timezone.</p>\n\n<p>I already have a nice function that my date formatting goes through in a helper module for the ApplicationController where I can apply the timezone and it is automatically applied to all dates displayed. However, a problem I am having is that while I need this data to be sent via POST, I also need to not be reliant on some kind of backend storage to make the select persist. The nature of the site I am doing this for is more or less just a frontend for multiple services so it has no databases of its own. It just makes service calls and displays the data received. This becomes a problem because most of the examples I've seen of session usage compares the session values to model values extended from ActiveRecord. On this site, ActiveRecord isn't even used.</p>\n\n<p>I realize the two things might be irrelevant, but it makes the learning process a bit harder when all the example code compares cookie data to model data when I effectively had no persistent model. Also I still don't quite understand the \"Rails Magic\" that determines what gets forwarded through in the params hash.</p>\n\n<p>So is there a simple way to have a dropdown selection that just stores the selection in a cookie and future renders for that user can be based on that cookie information without comparing the cookie data to some persistent model data?</p>\n\n<p>Edit: A commenter asked if there is a reason why AJAX can't be used. The answer is that there is no reason other than that I have never used AJAX before, so I would probably need some explanation to make it work. I thought AJAX was just a way to make queries without leaving the page, but the page needs to reload anyways after a selection is made, and more importantly it should re-render the same page that it was on previously with the new settings.</p>\n"},{"tags":["c#",".net","ajax","formview","scriptmanager"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10355,"score":1,"question_id":127283,"title":"ScriptManager.RegisterClientScript in a UserControl within a FormView inside an Async Panel","body":"<p>I'm having an annoying problem registering a javascript event from inside a user control within a formview in an Async panel. I go to my formview, and press a button to switch into insert mode. This doesn't do a full page postback. Within insert mode, my user control's page_load event  should then register a javascript event using ScriptManager.RegisterStartupScript:</p>\n\n<pre><code>ScriptManager.RegisterStartupScript(base.Page, this.GetType(), (\"dialogJavascript\" + this.ID), \"alert(\\\"Registered\\\");\", true);\n</code></pre>\n\n<p>However when I look at my HTML source, the event isn't there. Hence the alert box is never shown. This is the setup of my actual aspx file:</p>\n\n<pre><code>&lt;igmisc:WebAsyncRefreshPanel ID=\"WebAsyncRefreshPanel1\" runat=\"server\"&gt;\n    &lt;asp:FormView ID=\"FormView1\" runat=\"server\" DataSourceID=\"odsCurrentIncident\"&gt;\n        &lt;EditItemTemplate&gt;\n            &lt;uc1:SearchSEDUsers ID=\"SearchSEDUsers1\" runat=\"server\" /&gt;\n        &lt;/EditItemTemplate&gt;\n        &lt;ItemTemplate&gt;\n            Hello\n            &lt;asp:Button ID=\"Button1\" runat=\"server\" CommandName=\"Edit\" Text=\"Button\" /&gt;\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:FormView&gt;\n&lt;/igmisc:WebAsyncRefreshPanel&gt;\n</code></pre>\n\n<p>Does anyone have any idea what I might be missing here?</p>\n"},{"tags":["javascript","ajax","script","execute"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13236986,"title":"Execute referenced js after AJAX call","body":"<p>I want to execute a script added dynamically to the page (via <code>innerHTML</code>) I found this:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1496014/how-to-execute-ajax-output-script\">how to execute ajax output script</a></p>\n\n<p>Which is close, but no cigar. I'm getting one of these (along with other content) in my AJAX response: </p>\n\n<pre><code>&lt;link rel=StyleSheet href=\"/my/css/file.css\" type=\"text/css\"/&gt;\n&lt;h1&gt;Some header&lt;/h1&gt;\n&lt;div&gt;Some text&lt;/div&gt;\n&lt;ul&gt;&lt;li&gt;Some text&lt;/li&gt;&lt;li&gt;Some Text&lt;/li&gt;&lt;/ul&gt;\n&lt;script src='my/js/file.js'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And I'm attempting to eval it after it's appended to my container element (via <code>innerHTML</code>):</p>\n\n<pre><code>scripts = mycontainer.querySelectorAll('script');\nfor (k=0;k&lt;scripts.length;k++){\n    eval(scripts[k]);\n}\n</code></pre>\n\n<p>But to no avail. Any ideas? <strong>No</strong> libraries, please! (Don't need fallbacks either, only most modern browsers).</p>\n\n<p>CSS loads just fine. JS file exists and is correctly referenced. </p>\n"},{"tags":["ajax","json","file","external","jqplot"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":616,"score":2,"question_id":9189819,"title":"jqPlot: print pointLabels from json file","body":"<p>I'd like to render a chart from a <code>JSON</code> file with <code>jqPlot</code>.\nWith the help of some examples I came to the following code that work fine:</p>\n\n<pre><code>$(document).ready(function(){  \nvar ajaxDataRenderer = function(url, plot) {\n    var ret = null;\n    $.ajax({\n        // have to use synchronous here, else returns before data is fetched\n        async: false,\n        url: url,\n        dataType:'json',\n        success: function(data) {\n            ret = data;\n        }\n    });\n    return ret;\n};\n\nvar jsonurl = \"./json_3.json\";\n\nplo12 = $.jqplot('chart2', jsonurl,{\n    dataRenderer: ajaxDataRenderer,\n    title: 'User Activity Chart (AJAX JSON Data Renderer)',\n    legend: {show:true},\n    seriesDefaults: {\n        showMarker:true,\n        pointLabels: { show:true } \n    },\n    axes: {\n        xaxis: {\n            renderer:$.jqplot.DateAxisRenderer,\n            tickOptions: {\n                formatString:'%a %d %b %H:%M'\n            }\n        },\n        yaxis: {\n            tickOptions: {\n                show: false\n            },\n        }\n    }\n});\n});\n</code></pre>\n\n<p>And the <code>JSON</code> file looks like this:</p>\n\n<pre><code>[\n    [\n        [\"2012-02-07 10:00\", 10, \"start\"],\n        [\"2012-02-07 23:43\" ,10, \"end\"]\n    ],\n    [\n        [\"2012-02-07 01:45\", 20, \"start\"],\n        [\"2012-02-07 08:18\", 20, \"end\"]\n    ]\n ]\n</code></pre>\n\n<p>This way I can draw as many series as I want.\nThe only problem now is that the labels (start/end) are not printed on the chart and I can't understand why.\nI thought that this line of code was enough:</p>\n\n<pre><code>pointLabels: { show:true } \n</code></pre>\n\n<p>Any advice?</p>\n"},{"tags":["jquery","ajax","codeigniter","frameworks"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13237567,"title":"Jquery vs ajaxframework on codeigniter","body":"<p>I have a choice between two AJAX frameworks: jQuery (AJAX components) and AJAX framework built for CodeIgniter. I'd like to know which is easier to learn and which is faster?</p>\n"},{"tags":["php","jquery","ajax","json"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":1105,"score":-1,"question_id":4011572,"title":"How to load data using jQuery and JSON?","body":"<p>I want to load data from a MySQL database to a PHP page using jQuery and JSON. When the user choose the name from the select box, it loads the person's data into the text field.</p>\n\n<p>This is my HTML code (select)</p>\n\n<pre><code>&lt;select name='name' id='name'&gt;\n    &lt;option value='1'&gt;John&lt;/option&gt;\n    &lt;option value='2'&gt;Marco&lt;/option&gt;\n    &lt;option value='3'&gt;Charles&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>The text field that I want to populate with the person data:</p>\n\n<pre><code>&lt;input type='text' name='firstname' value='' id='firstname'/&gt;\n&lt;input type='text' name='phonenum' value='' id='phonenum'/&gt;\n</code></pre>\n\n<h3>getpersonData.php</h3>\n\n<pre><code>&lt;?php\n    include('dbconfig.php');\n    $id = $_POST['id'];\n    $query = \"select * from person where ID='$id'\";\n    $result = mysql_query($query);\n    $data = mysql_fetch_array($result);\n\n    echo json_encode($data);\n?&gt;\n</code></pre>\n\n<p>The Ajax call:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    async : false,\n    url: 'http://test.com/getpersonData.php',\n    dataType: 'json',\n    data : {\n        id : $(\"#id\").val(),\n    },\n    success : function(data) {\n        //What to insert here?        \n    },\n    error : function(XMLHttpRequest, textStatus, errorThrown) {\n        alert(XMLHttpRequest + \" : \" + textStatus + \" : \" + errorThrown);\n    }\n});\n</code></pre>\n\n<p>What code should I use for the <code>success</code> function?</p>\n"},{"tags":["ajax","asp.net-mvc","jquery-ui","unobtrusive-validation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13229509,"title":"An MVC helper for a validated AJAX form dialog loaded from another page?","body":"<p>I have a simple edit form. For a particular field, if the user doesn't see what they want, they can click a link, and a request form will pop-up in a new window. (FYI, we support mobile browsers.)</p>\n\n<p>If jQueryUI is available, progressive enhancement intercepts the click, opens a jQuery Dialog, the form is filled, validated, and submitted, where it displays the result and allows dialog close.</p>\n\n<p><strong>QUESTION</strong>: Is there an 'OEM' or 'Nugettable' MVC helper that implements this simple \"ancillary AJAX form\" interaction in a downlevel-compatible way?</p>\n\n<p>As far as I can tell, I have to build a whole lot of this from scratch and wire it all up manually, and ASP.NET MVC doesn't even support unobtrusive validation in this scenario. <a href=\"http://stackoverflow.com/questions/5146419/how-to-use-asp-net-mvc-3-jquery-validate-with-a-jquery-dialog-that-does-an-ajax\">How to use asp.net mvc 3 jquery validate with a jquery dialog that does an ajax submit?</a> Here is an example of building it from scratch for PHP: <a href=\"http://www.experts-exchange.com/Programming/Languages/Scripting/JavaScript/Jquery/A_2099-jQuery-AJAX-Enabled-Forms-in-Modal-Dialog.html\" rel=\"nofollow\">http://www.experts-exchange.com/Programming/Languages/Scripting/JavaScript/Jquery/A_2099-jQuery-AJAX-Enabled-Forms-in-Modal-Dialog.html</a></p>\n\n<p>For example, currently I think I'll need to do these things, and they seem very 'encapsulatable':</p>\n\n<ul>\n<li>Add an ActionLink with a { target = new }</li>\n<li>Wire a javascript event handler for the link</li>\n<li>Read the link target to set it as a jQuery dialog source</li>\n<li>Reinitialize page validation to overcome the unobtrusive limitation</li>\n<li>Wire the form submit to validation</li>\n<li>Read the form post destination to set it as a jQuery AJAX destination</li>\n<li>Wire form submit to jQuery's AJAX post method</li>\n<li>At the server, return special response for AJAX form posts</li>\n<li>Wire the submit success to an OK dialog</li>\n<li>Wire the submit failure to a dialog redraw</li>\n</ul>\n\n<p>Seems like a lot of effort for an everyday sort of need. Any hints are appreciated.</p>\n\n<p>Shannon</p>\n"},{"tags":["javascript","jquery","ajax","click","submit"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13237501,"title":"jquery on() not registering first click","body":"<p>I am having strange behaviour when using jquery.on(). </p>\n\n<p>Basically, just trying to create a newsletter signup form (can be dynamically generated and not there on initial DOM load) and pass the details through in Ajax but it is not registering the first click on the submit button meaning that to successfully submit, the user has to click twice (only seeing the success message and 'subscribe' post on 2nd click).</p>\n\n<p>The html:</p>\n\n<pre><code>&lt;div class=\"newsletter-widget grid-item masonry-brick\"&gt;\n    &lt;input name=\"Email\" type=\"email\" placeholder=\"Please enter your email\" required /&gt;\n    &lt;input type=\"submit\" value=\"Subscribe\" class=\"newslettersubmit\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>and the javascript (in document ready);</p>\n\n<pre><code>var newsletterFocus = $('.newsletter-widget').find('input[type=submit]');\n\n$(document).on('submit', newsletterFocus, function (e) {\n    e.preventDefault();\n    var newsletterLinks = newsletterFocus;\n    DD.newsletter.behavior(newsletterLinks);\n});\n</code></pre>\n\n<p>and the functions within an object that are called;</p>\n\n<pre><code>DD.newsletter = {\n\nbehavior: function (item) {\n    item.click(function (e) {\n        e.preventDefault();\n        var where = $('.newsletter-widget').find('input[type=submit]').parents('section').attr('id');\n        var email = $(this).siblings('[name$=Email]'),\n        emailVal = email.val();\n        DD.newsletter.subscribe(email, emailVal, where);\n    });\n},\n\nsubscribe: function (self, email, where) {\n    $.ajax({\n        type: \"POST\",\n        data: '{\"email\":\"' + email + '\", \"method\":\"' + where + '\"}',\n        url: '/Subscriber/Subscribe',\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function (response) {\n            self.val(response);\n        },\n        failure: function (msg) {\n            self.val(msg);\n        }\n    });\n},});\n</code></pre>\n\n<p>I've tried using 'click' as the action for on() but this registers an event on each click and i get thousands of forms submitted! </p>\n\n<p>Any help appreciated!</p>\n"},{"tags":["java","ajax","wicket"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13207701,"title":"Adding AjaxEventBehavior to form's button prevents form from submitting with Wicket 6.1 and 6.2","body":"<p>I have a simple <code>FormPage</code> derived from <code>WebPage</code> defined like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public FormPage() {\n\n    final FeedbackPanel feedback = new FeedbackPanel(\"feedback\");\n    add(feedback);\n\n    final TextField&lt;String&gt; entry = new TextField&lt;String&gt;(\"entry\");\n\n    final Button button = new Button(\"button\");\n    button.add(new AjaxEventBehavior(\"onclick\") {\n        @Override\n        protected void onEvent(final AjaxRequestTarget target) {\n            System.out.println(\"Event\");\n        }\n    });\n\n    Form&lt;DataModel&gt; form = new Form&lt;User&gt;(\"userForm\", new CompoundPropertyModel&lt;DataModel&gt;(dataModel)) { \n\n        @Override\n        protected void onValidate() {\n            System.out.println(\"Validate\");\n            String entryValue = entry.getValue();\n            if (entryValue == null || entryValue.length() == 0) {\n                error(\"entry value required\");\n            }\n        };\n\n        @Override\n        protected void onSubmit() {\n            System.out.println(\"Submit\");\n            if (!hasErrors()) {\n                String entryValue = entry.getValue();\n                if (!entryValue.equals(\"value\")) {\n                    error(\"entry has wrong value\");\n                }\n            }\n        };\n    };\n\n    form.add(entry);\n    form.add(button);\n    add(form);\n}\n</code></pre>\n\n<p>I'm trying to do something (in this example just printing to console) on form submission, so I've attached <code>AjaxEventBehavior</code> on button's <code>onclick</code> event. This works perfectly: action is performed on button click, but now the form is not being submitted.</p>\n\n<p>I also was experimenting with </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>form.add(new AjaxEventBehavior(\"onsubmit\")\n</code></pre>\n\n<p>and this event handler also prevents form submission.\nFor example,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>entry.add(new AjaxEventBehavior(\"onclick\")\n</code></pre>\n\n<p>allows form to be submitted, but the event is not related to submission.\nNow I'm puzzled how can I have my form submitted and perform some action on this event.</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13237391,"title":"AJAX async call will not update the control with data","body":"<p>If I ran the code below using a non async call the control jqStatusID is updated with data but if I use a Async call it won't update. Fiddler2 shows me that the data is coming okay. Why is that?\nDo i Need to do a refresh on the control or something?</p>\n\n<pre><code>$(document).ready(function ()\n{\n  //Function2(true); //no errors, data comes in but jqStatusID is NOT updated\n  Function2(false);  //works great\n});\n\nfunction Function2(async)\n{\n  $.ajax\n  ({\n    async: async\n    , url: \"svc/JobViewer.svc/JobViewer/GetStatusList\"\n    , cache: false\n    , dataType: \"json\"\n    , error: function (jqXHR, textStatus, errorThrown)\n    {\n      alert(\"Get Status List ajax error:\\r\\n\" + errorThrown)\n    }\n    , success: function (data, textStatus, jqXHR)\n    {\n      $.each(data, function (key, value)\n      {\n        $(jqStatusID).append($(\"&lt;option&gt;&lt;/option&gt;\").attr(\"value\", value.StatusID).text(value.Name));\n      });\n    }\n  });\n}\n</code></pre>\n\n<p>Any ideas? thank you!</p>\n"},{"tags":["php","javascript","ajax","html5","asyncfileupload"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13237158,"title":"HTML5 has replaced jquery progress bars? Or is there new development in this area?","body":"<p>I'm looking for a file uploader with a progress bar recently and I am having trouble finding one that is less than about two years old.</p>\n\n<ul>\n<li><a href=\"http://digitarald.de/project/fancyupload/3-0/showcase/photoqueue/\" rel=\"nofollow\">fancy upload</a> </li>\n<li><a href=\"http://www.webdice.org/uber_uploader/\" rel=\"nofollow\">über upload</a> </li>\n<li>and there are some others.</li>\n</ul>\n\n<p>There are lots of posts on stack about this from way back.</p>\n\n<p>Is there anything new out there? Are people using HTML5 uploaders nowadays and just falling back on these jquery mootools varieties for older browsers? </p>\n"},{"tags":["javascript","jquery","ruby","ajax","json"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":57,"score":-3,"question_id":13224151,"title":"how to access from javascript, my_ruby_obj.price sent to browser as my_ruby_obj.to_json?","body":"<p><strong>In ruby:</strong></p>\n\n<pre><code>class Obj\n  attr_accessor :price\nend\n\nmy_ruby_obj = Obj.new\n</code></pre>\n\n<p>puts my_ruby_obj.to_json</p>\n\n<pre><code>\"\\\"#&lt;Obj:0x1c9b018&gt;\\\"\"\n</code></pre>\n\n<p><strong>Server sends my_ruby_obj.to_json to browser</strong> (sinatra, with content_type :json) in response to a jquery ajax request (with $.get), which correctly defines a return type of json, and launches a callback function(data) which does:</p>\n\n<p><code>console.log(data);</code> </p>\n\n<p>which returns:</p>\n\n<pre><code>#&lt;Obj:0x1c9b018&gt;\n</code></pre>\n\n<p><strong>Now how do I access \"data.price\" attribute in javascript/jquery</strong> as I would normally do on a ruby object to access its attribute? (\"my_ruby_obj.price\")</p>\n\n<p>I tried with console.log(data.price);</p>\n\n<pre><code>&gt; Undefined\n</code></pre>\n\n<p>I feel I am missing a big piece here.. and I guess it has to do with how json works with objects..</p>\n\n<p>Any help ?\n<em>If possible</em>, I'm looking for a correct way to do it with jquery.</p>\n\n<p>Thanks</p>\n\n<p><strong>edit:</strong> \ntrying to understand what is going on, I tried this in the callback:</p>\n\n<pre><code>newdata = $.parseJSON(data);\n</code></pre>\n\n<p>but debug console halts on it showing:</p>\n\n<pre><code>&gt; uncaught exception: Invalid JSON: #&lt;Obj:0x1c9b018&gt;\n</code></pre>\n\n<p>I did call .to_json on the ruby object, so why it says so? ...</p>\n\n<p>[[<strong>new_edit:</strong>]]</p>\n\n<p>Seems like ruby json serialization for objects from custom classes is not working as I supposed:</p>\n\n<p>Quoting from here: <a href=\"http://stackoverflow.com/a/4464721/988591\">http://stackoverflow.com/a/4464721/988591</a></p>\n\n<blockquote>\n  <p>It will be a bit more difficult for objects from your own classes. For\n  the following class, to_json will produce something like\n  <code>\"\\\"#&lt;A:0xb76e5728&gt;\\\"\"</code>. This probably isn't desirable. To effectively\n  serialise your object as JSON, you should create your own to_json\n  method.</p>\n</blockquote>\n\n<p>and examples are following... \nBut.. wow... isn't there an easier way ?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13236115,"title":"Send javascript array to server","body":"<p>I have an array who's content I would like to get on my server. I have been wading through internet pages trying to find how to do this without succeeding yet.</p>\n\n<p>Let's imagine I have a server, and that I would like this array in my javascript to go into a file on my server, how would I do that?</p>\n\n<p>I have been going through internet pages looking for how to do this and I have come up with the following code:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;!-- installs jquery and ajax. --&gt;\n    &lt;link href=\"http://ajax.googleapis.com/ajax/libs/jqueryui/1.9/themes/base/jquery-ui.css\" rel=\"stylesheet\" type=\"text/css\"/&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        var arr = [\"one\",\"two\",\"three\"];\n        arr = JSON.stringify(arr);\n\n        $.ajax({\n            url: \"http://url_name_here.com\",\n            type: \"POST\",\n            data: {\n                myArray : arr\n            }\n        });\n\n        alert('hello');\n    &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","templates","mustache"],"answer_count":3,"favorite_count":5,"up_vote_count":24,"down_vote_count":0,"view_count":6310,"score":24,"question_id":6027525,"title":"How do I accomplish an if/else in mustache.js?","body":"<p>It seems rather odd that I can't figure how to do this in mustache. Is it supported?</p>\n\n<p>This is my sad attempt at trying:</p>\n\n<pre><code>    {{#author}}\n      {{#avatar}}\n        &lt;img src=\"{{avatar}}\"/&gt;\n      {{/avatar}}\n      {{#!avatar}}\n        &lt;img src=\"/images/default_avatar.png\" height=\"75\" width=\"75\" /&gt;\n      {{/avatar}}\n    {{/author}}\n</code></pre>\n\n<p>This obviously isn't right, but the documentation doesn't mention anything like this. The word \"else\" isn't even mentioned :(</p>\n\n<p>Also, why is mustache designed this way? Is this sort of thing considered bad? Is it trying to force me to set the default value in the model itself? What about the cases where that isn't possible?</p>\n"},{"tags":["php","jquery","ajax","json","webmethod"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12772689,"title":"Return object instead of json_encode","body":"<p>So, I found that making my WebMethod As Object, Return Dictionary rather than As String, Return JavaScriptSerializer.Serialized() reduces the size of the JSON by ~ 20%.</p>\n\n<p>Yeah, I know this isn't a big deal for traditional webapps where you're serving the consumer (in the past) and a few kb would be big, but it's HUGE for B2B where you're trying to serve up to your customers AJAXd jQuery pages with far less data transmission and greater speed when transmitting dynamic tables that could be potentially 100mb before dynamicization and id lists of about 1-2mb, but I digress.</p>\n\n<p>It looks like json_encode does the same thing adding more than necessary to the JSON, from what I've read on other posts.  Is there a way to simply output the array as an object or build an object from multiple arrays and export that?</p>\n\n<p>1) Is print (and its' family) the only way to output?</p>\n\n<p>2) Is json_encode (and its' family) necessary?  After all, I don't have to decode if I output properly at the jQuery level.</p>\n\n<p>I'm a big fan of speed &amp; efficiency.  As AJAX/jsLibs take over, and data becomes bigger while these hunkering server-side scripts go by the wayside, it looks like the next logical objective (aside from a standardized push to client) is to keep the size of the JSON as small as possible.</p>\n\n<p>How can I keep the garbage with AJAX/PHP down to a mininum?  How can I export arrays as object directly?</p>\n\n<p>Thanks for bearing with me.  I'm terrible with vocabulary.  I hope what I want to do is relatively clear enough.</p>\n\n<p>As always, thanks in advance, and thank you stack for being my brain!</p>\n"},{"tags":["php","jquery","ajax","firebug"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13236498,"title":"Ajax only works when resending from firebug","body":"<pre><code>$.post(\n    \"ajax.php\",\n    { action_do:\"Register\" },\n    function(data,status){\n        alert(data);\n    }\n);\n</code></pre>\n\n<p>This script is called when the form is submitted from a page, test.php. \najax.php just echo some text.</p>\n\n<p>The response body from firebug refers to test.asp ???</p>\n\n<p>If I right click on the resend inside of firebug, the ajax call works, and the response body is the text from ajax.php</p>\n\n<p>I am puzzled.</p>\n"},{"tags":["jquery","mysql","ajax","json","autocomplete"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13191457,"title":"Jquery UI Autocomplete from Database","body":"<p>I am trying to use jquerys autocomplete with my database but I can't figure out how to return the data from my php script as options for the autocomplete.</p>\n\n<p>Here is what I have at the moment based on another forum post:</p>\n\n<pre><code>$('input#transferto').autocomplete({\n                source: function(request, response)\n                {\n                    alert('{\"term\": \"'+request.term+'\", \"mode\": \"ENTITY_AUTOCOMPLETE\"}');\n                    $.ajax({\n                        url: SYSTEM_ROOT+'/assets/controllers/global.php',\n                        data: 'dataString={\"term\": \"'+request.term+'\", \"mode\": \"ENTITY_AUTOCOMPLETE\"}',\n                        success: function(data)\n                        {\n                            //alert(data);\n                            //data = $.parseJSON(data) ;\n                            response($.map(data, function(item) {\n                                return{\n                                    label: item.user_login_name,\n                                    value: item.user_id\n                                }\n                            }))\n                        }\n                    })\n                },\n                minLength: 3,\n                datatype: 'json',\n                cache: false,\n                delay: 500,\n</code></pre>\n\n<p>And in my php file:</p>\n\n<pre><code>if($mode == 'ENTITY_AUTOCOMPLETE')\n{\n    $query = trim(strip_tags($JSON-&gt;term));\n    $q = $query.'%' ;\n    $result = $dbh-&gt;prepare(\"SELECT id, name FROM entity_details WHERE name LIKE ?\") ;\n    $result-&gt;execute(array($q)) ;\n\n    //$data = '{' ;\n    //while($row = $result-&gt;fetch(PDO::FETCH_ASSOC)) {\n        //foreach($row as $key =&gt; $val)\n            //$data .= '\"'.$key.'\": \"'.rawurldecode($val).'\", ' ;\n    //}\n    //$data = substr($data, 0, strlen($data)-2).'}' ;\n    $data = $result-&gt;fetchAll(PDO::FETCH_ASSOC) ;\n    echo print_r($data) ;\n}\n</code></pre>\n\n<p>As you can see I have tried returning just an array and tried JSON but to no avail.</p>\n\n<p>How do I make it work?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13197774,"title":"Jquery ajax no response from php","body":"<p>I have a form that is in a modal dialog box.  When I submit the form I am not getting the response from php.  I know that the form and script is working because I can run them outside the dialog and everything works.</p>\n\n<p>Here is my form html code:</p>\n\n<pre><code> &lt;div id=\"add_user\"&gt;\n        &lt;form action=\"resetProcess.php\" method=\"post\"&gt;\n          &lt;input type=\"hidden\" name=\"action\" value=\"Reset Password\" /&gt;\n          &lt;table width=\"385\" border=\"0\" cellspacing=\"0\" cellpadding=\"3\"&gt;\n            &lt;tr&gt;\n              &lt;td colspan=\"3\"&gt;\n                &lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;td width=\"191\" align=\"right\"&gt;&lt;label for=\"firstname2\"&gt;First name *&lt;/label&gt;&lt;/td&gt;\n              &lt;td width=\"194\" colspan=\"2\"&gt;&lt;input type=\"text\" name=\"firstname\" id=\"firstname2\" value=\"\" /&gt;&lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;td align=\"right\"&gt;&lt;label for=\"lastname2\"&gt;Last name *&lt;/label&gt;&lt;/td&gt;\n              &lt;td colspan=\"2\"&gt;&lt;input type=\"text\" name=\"lastname\" id=\"lastname\" value=\"\" /&gt;&lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;td align=\"right\"&gt;&lt;label for=\"email2\"&gt;Email address *&lt;/label&gt;&lt;/td&gt;\n              &lt;td colspan=\"2\"&gt;&lt;input type=\"text\" name=\"email\" id=\"email\" value=\"\" /&gt;&lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;td colspan=\"3\" style=\"padding-top:20px;\"&gt;\n              &lt;input  type=\"submit\" name=\"action1\" id=\"requestButton\" value=\"Get Email\" /&gt;&lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/form&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the php process file.  Please remember this works fine in it is submitted in it's own browser window. </p>\n\n<pre><code>&lt;?php \n    // Required files\n    include(\"includes/common.inc.php\");\n    require_once( \"users.class.php\" );\n\n    session_start();\n\n// check if the reset password form has been submitted.\nif ( isset( $_POST[\"action1\"] ) and $_POST[\"action\"] == \"Reset Password\" ) {    \n\n      $user = new User( array(\n        \"firstname\" =&gt; isset( $_POST[\"firstname\"] ) ? preg_replace( \"/[^ \\-\\_a-zA-Z0-9]/\", \"\", $_POST[\"firstname\"] ) : \"\",                  \n        \"lastname\" =&gt; isset( $_POST[\"lastname\"] ) ? preg_replace( \"/[^ \\-\\_a-zA-Z0-9]/\", \"\", $_POST[\"lastname\"] ) : \"\",\n        \"email\" =&gt; isset( $_POST[\"email\"] ) ? preg_replace( \"/[^ \\-\\_a-zA-Z0-9]@/\", \"\", $_POST[\"email\"] ) : \"\",\n\n      ) );\n\n$existingUser = User::getByEmailAddress( $user-&gt;getValue( \"email\"));\n\n  if ($existingUser) {\n  var_dump($existingUser);\n  echo \"Success!!  Your Request has been sent!\";\n  } else {\n  echo \"That email address does not match anyone in our system.  Please go back and re-enter your information.\";\n  }\n}\n\n?&gt;\n</code></pre>\n\n<p>Here is the js code that is included in the header file:</p>\n\n<pre><code>         &lt;script&gt;\n// increase the default animation speed to exaggerate the effect\n$.fx.speeds._default = 1000;\n$(function() {\n    $( \"#dialog\" ).dialog({\n        autoOpen: false,\n        show: \"fade\",\n        hide: \"fade\",\n        width: \"400px\",\n    });\n\n    $( \"#reset-form\" ).click(function() {\n        $( \"#dialog\" ).dialog( \"open\" );\n        return false;\n\n    });\n\n    // Hide Form error labels\n    $('.error').hide();\n\n    $('#requestButton').click(function(e){\n        e.preventDefault();\n        var firstname = $('#firstname').val();\n        if (firstname == \"\") {\n            $('label#firstname_error').show();\n            $('label#firstname').focus();\n            return false;\n        }\n        var lastname = $('#lastname').val();\n        if (lastname == \"\") {\n            $('label#lastname_error').show();\n            $('label#lastname').focus();\n            return false;\n        }\n        var email = $('#email').val();\n        if (email == \"\") {\n            $('label#email_error').show();\n            $('label#email').focus();\n            return false;\n        }\n        var dataString = 'firstname=' + firstname + '&amp;lastname=' + lastname + '&amp;email=' + email;\n\n        // ajax call\n        $.ajax({\n            type: \"POST\",\n            url: \"resetProcess.php\",\n            data: dataString,\n            success: function(result){\n                //$(\"#passRequest\").fadeOut(500, function(){\n                    console.log(\"Result: \" + result);\n                //});\n            },\n        });    \n        return false;\n    });\n\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<p>and lastly I will include the query method from the class file:</p>\n\n<pre><code>              public static function getByEmailAddress( $email ) {\n            $conn = parent::connect();\n            $sql = \"SELECT * FROM \" . TBL_USERS . \" WHERE email = :email\";\n\n            try {\n              $st = $conn-&gt;prepare( $sql );\n              $st-&gt;bindValue( \":email\", $email, PDO::PARAM_STR );\n              $st-&gt;execute();\n              $row = $st-&gt;fetch();\n              parent::disconnect( $conn );\n              if ( $row ) return new User( $row );\n            } catch ( PDOException $e ) {\n              parent::disconnect( $conn );\n              die( \"Query failed: \" . $e-&gt;getMessage() );\n            }\n          }\n</code></pre>\n\n<p>Thank you for your help!!   </p>\n"},{"tags":["javascript","jquery","ajax","internet-explorer","xhtml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13235202,"title":"jQuery Ajax JSON response with <img /> tag breaks in IE","body":"<p>I'm having a problem with IE (I'm testing in IE9, but I believe it will behave the same way in the previous versions as well).</p>\n\n<p>The response I'm sending from PHP is as follow:</p>\n\n<pre><code>{\"success\":true,\"content\":\"&lt;img src=\\\"\\/media\\/page\\/1528484482.jpg\\\" width=\\\"140\\\" height=\\\"140\\\" alt=\\\"1528484482.jpg\\\" \\/&gt;\"}\n</code></pre>\n\n<p>It works absolutely fine in Firefox, Chrome, Safari, Opera etc. - but it doesn't work in IE.\nThe response is an empty object.</p>\n\n<p>When I change the response to the following it works fine - the only difference is the forward slash before the closing of the img tag:</p>\n\n<pre><code>{\"success\":true,\"content\":\"&lt;img src=\\\"\\/media\\/page\\/1528484482.jpg\\\" width=\\\"140\\\" height=\\\"140\\\" alt=\\\"1528484482.jpg\\\"&gt;\"}\n</code></pre>\n\n<p>Is there any way of parsing the 'content' response so that it doesn't break in IE?</p>\n"}]}
{"total":48691,"page":5,"pagesize":100,"questions":[{"tags":["php","jquery","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":33,"score":-2,"question_id":13235396,"title":"jquery slider from directory","body":"<p>I'm trying to find a jquery slider which can be set to load the photos from a directory. </p>\n\n<p>Can anyone recommend a slider capable to do this? Preferably with thumbnail enabled. </p>\n\n<p>Any help would be appreciated! </p>\n"},{"tags":["jquery","ajax","google","zoom"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":227,"score":1,"question_id":10269788,"title":"jquery lib in googleapis is causing error: Invalid value for property: zoom","body":"<p>Why is line 5 in the following code block giving me a \"Invalid value for property: zoom\" error? I am running it in Opera 11.62 and catching the error in Dragonfly.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      // google chart built here from JSON pulled through php call\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["php","javascript","ajax","dynamic","html.dropdownlist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13234860,"title":"dynamic drop down lists","body":"<p><strong>SOLUTION</strong>: <a href=\"http://stackoverflow.com/questions/11071562/remove-option-in-select\">Remove option in select</a></p>\n\n<p>I have a form where I would like users to rank their 'Top 3' from a list of 10 choices.</p>\n\n<p>To validate responses I'd like a drop down next to each of the ten items.  With the choices 1 to 3 - however, when a users selects '1' from anyone of the choices, all the drop downs get updated to show only options 2 and 3.</p>\n\n<p>Similarly, when a users chooses option 3 for any one of the ten, the remaining drop downs are updated to only show option 2 and when that is selected all remaining drop downs are updated to show nothing or disabled.</p>\n\n<p>I've used dynamic drop downs in the past via Javascript but not to this level of complexity - any thoughts or ideas, code examples or alternatives (Ajax etc.) welcomed!</p>\n\n<p>Thanks,</p>\n\n<p>H.</p>\n"},{"tags":["javascript","ajax","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":11871516,"title":"Getting PowerReviews to load properly with AJAX","body":"<p>We are using PowerReviews within our Magento store as an over-ride to the standard Magento review system. We have it set up for the Category, Product, and Review pages and has been working fine for some time now. </p>\n\n<p>Recently I added a module which brings AJAX reload functionality to the filtered navigation on the category page. i.e. I choose \"Red\" as a filter and the category page refreshes without reload with the proper products. This works fine when I have Power Reviews turned off. </p>\n\n<p>When Power Reviews is on, the AJAX begins to load but then the page goes white and only the PowerReviews <code>&lt;div&gt;</code> tags are shown. When I look at the PowerReviews code I think I can see the reason: </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  POWERREVIEWS.display.snippet(document, {\n       pr_page_id : '49DAF4', \n       pr_write_review :    '/review/product/list/id/1907/category/111/#review-form',\n       pr_read_review : txt, pr_snippet_min_reviews : 1});\n&lt;/script&gt;\n</code></pre>\n\n<p>Since the <code>POWERREVIEWS.display.snippet</code> is being called to 'document' what I think is happening is the AJAX load is happening, getting written to 'document' then the PowerReviews is happening and is also getting written to 'document'. Since this happens last, it hijacks the page instead of getting placed properly like it does on a normal load. </p>\n\n<p>If I change 'document' to something like <code>document.getelementbyid('PWR')</code> and add a <code>&lt;div id=\"PWR\"&gt;</code> the snippet will not show on page. Is there a way I can target the output of <code>POWERREVIEWS.display.snippet</code> to something other than 'document' so the two scripts don't interfere with each other?</p>\n"},{"tags":["c#","javascript","ajax","image","webmatrix"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13235666,"title":"Getting a Picture Preview in IE 9 and under using WebMatrix (C#) and JavaScript, jQuery and/or AJAX","body":"<p>In regards to trying to get picture previews without having to reload the page for use with input type \"file\",</p>\n\n<p>I have used the wonderfully simple code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function readURL(input) {\n        if (input.files &amp;&amp; input.files[0]) {\n            var reader = new FileReader();\n\n            reader.onload = function (e) {\n                $('#blah').attr('src', e.target.result);\n            }\n\n            reader.readAsDataURL(input.files[0]);\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>which I found in this post:  <a href=\"http://stackoverflow.com/questions/4459379/preview-an-image-before-it-is-uploaded\">Preview an image before it is uploaded</a></p>\n\n<p>And changed to fit my code.</p>\n\n<p>Of course, this doesn't work with IE 9 and under, so, my question is:</p>\n\n<p>What can I do to show a picture preview in IE 9 and under?</p>\n\n<p>I know that this is at least somehow possible. With JavaScript/jQuery, AJAX, JSON, something...</p>\n\n<p>I am very new to AJAX, but I have gotten it to work for me before with simple data, however, I am not sure if JavaScript would read an input type \"file\" and store it in a variable as binary data with IE or not.</p>\n\n<p>I have seen an article here:  <a href=\"http://www.nczonline.net/blog/2012/05/15/working-with-files-in-javascript-part-2/\" rel=\"nofollow\">http://www.nczonline.net/blog/2012/05/15/working-with-files-in-javascript-part-2/</a></p>\n\n<p>Which suggests that I can use the FileReader, much like I did above, only instead of using the security protected (in IE) readAsDataURL, I might use readAsArrayBuffer (readAsBinaryString is deprecated).</p>\n\n<p>Firstly, is the entire FileReader method 'blocked' (for lack of a better word) in IE, or is it pretty much just the readAsDataURL that doesn't work for IE?</p>\n\n<p>Currently I have just told users (as it is not a public site) that using IE means you don't get picture previews.  After all, you must not like perks if you're using IE anyway, imho...</p>\n\n<p>But, I would like to implement this if possible, and I am not scared of AJAX, but I would need to know how I should collect the image data (as binary data only) before passed to the server.</p>\n\n<p>Also, I'm not sure how I should put it back into the page.  That is, in the examples of using AJAX that I saw, it was usually put back into the page by displaying whatever the server-side page produced straight into an 'innerHTML' method using JavaScript. In this case, however, I would need to access the src of the image tag, right?  Could I just use:</p>\n\n<pre><code>$(\"#imgTag\").attr('src', binaryDataVariable)\n</code></pre>\n\n<p>And pass the binary data into the src attribute, or do I need to display it in a different way?</p>\n\n<p>Any help is much appreciated.</p>\n\n<p><em><strong></em>**<em>*</em>*</strong><em>ADDITIONAL INFO</em><strong><em>*</em>**<em>*</em>*</strong></p>\n\n<p>I have, in this site, included two additional scripts for the purposes of (with conditional comments for IE) using one non-IE and one IE specific .js file, so I can separate methods of showing picture preview based on whether they are using IE or not quite easily, if needed, although a cross-browser solution would work also.</p>\n"},{"tags":["java","ajax","struts2"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":81,"score":0,"question_id":13225664,"title":"AJAX is fancy but so hard to maintain","body":"<p>I am still quite new to web development.</p>\n\n<p>I participated some website projects using <code>struts2</code>, which <strong>heavily</strong> applies ajax calls(requesting information from server) on a single page, including searching/filtering/sorting/tooltip information/image/popup.....\nAnd I found that maintaining the page is really a nightmare. Every change I made is error-prone. Because it's impossible for me to remember all the possibilities/combinations. I have to store all the page status(I am using a div as datastore to store all page status and trying very hard to centralize every change to a single event handler, and dispatch each event to corresponding eventHandler in javascript) when users trigger any ajax calls. I don't think a page refresh is really so unacceptable for the users. </p>\n\n<p>Another problem is, no matter how the page change, the url remains the same. I don't think it's good when user is trying to bookmark/share the page. I know that I can add anchor to the url, but it's obviously tons of work to do.</p>\n\n<p>I am being asked to do in ajax, so I have no choice.</p>\n\n<p>Is there any design pattern that I could apply to prevent these maintain nightmare? Please save me from the hell.</p>\n"},{"tags":["jquery","ajax","jsf-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13234927,"title":"JSF 2 AJAX and Custom jQuery Components","body":"<p>I have purchased an HTML template with jQuery components (<a href=\"http://www.display-inline.fr/demo/developr/template/\" rel=\"nofollow\">http://www.display-inline.fr/demo/developr/template/</a>) and want to use them with JSF 2. All the components have their own AJAX and most of them works fine with the default JSF 2 components (like replacing the html inputs with h:inputText). However, some of the components are different (combo box and drop downs) from the default JSF 2 components (h:selectOneMenu).</p>\n\n<p>If I use f:ajax on a form that contains these jQuery components, the components are not updated when selecting a value.</p>\n\n<p>Is there a way to update the backing bean variables from the jQuery component listeners?</p>\n\n<p>How can I create my own JSF 2 components from these jQuery components?</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13234544,"title":"dynamic binding Jquery callback function","body":"<p>I am sure i am over thinking this...</p>\n\n<p>File A has an empty container div, button is clicked, loads data into that div...</p>\n\n<p>File A has  button that i want to bind a function to from the jquery return above.</p>\n\n<p>AJAX FILE</p>\n\n<pre><code>echo json_encode(array('callback' =&gt; 'javascriptFunction'));\n</code></pre>\n\n<p>\"javascriptFunction\" is a valid function that can be called. How or can i bind that function.</p>\n\n<p>JAVASCRIPT</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    dataType: 'json',\n    url: \"../ajax.php\",\n    data: '&amp;m=loadExternalData&amp;f='+ module,\n    success: function(resultData) {\n        $('#externalFieldsetTitle').html(resultData.title);\n        $('#externalSaveButton').bind('click', function() {\n            resultData.callback;\n        });\n    }\n}); \n</code></pre>\n\n<p>I am passing back more than just \"callback\", but for this example i dont think it is needed.</p>\n\n<p>Basically i load external modules into a div and want to allow them to specify their save function and pass it in so the core save button will work on the multiple external loaded files. I believe that makes sense?</p>\n"},{"tags":["javascript","ajax","d3.js","history.js"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13222379,"title":"Saving navigation history","body":"<p>I have a very big problem...\nI made a web site using the ajax technology and the d3 js library. \nin practice I have only one html page and using javascript, d3, ajax and java servlet I replace the content of the page at every click. \nnow, let me say that I was forced to work as well, was not for me I would never have done so.</p>\n\n<p>The problem is that if I decide, at a certain point of my navigation, to refresh the page or to go backward (with the buttons on the browser) I return to the home page.\nHow can I do?</p>\n\n<p>Thanks a lot! I hope I explained and sorry for the bad English!!</p>\n"},{"tags":["javascript","jquery","ajax","api","sinemacula"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12929748,"title":"Javascript (jQuery) module/library loading","body":"<p>As many of you will be aware, Google offers an API whereby you can load particular modules/libraries by calling a simple function:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"//www.google.com/jsapi\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    google.load(\"jquery\", \"1.7.1\");\n    google.load(\"jqueryui\", \"1.8.2\");\n&lt;/script&gt;\n</code></pre>\n\n<p>I am currently in the process of developing my own library of code of which I would like to distribute amongst my websites easily and efficiently and I cannot think of a better method than the one above.</p>\n\n<p>However, I am not too sure what the best way of writing the code for this is. Obviously my library will be an object, so will start with something like this (I think, correct me if I am wrong):</p>\n\n<pre><code>function company(){\n    this.load = function(modules){\n        // Modules is an array of modules to load\n        // Load the separate modules here\n        // from external files in their minified format\n    }\n}\n\nvar company = new company;\ncompany.load(['forms']);\n</code></pre>\n\n<p>Is the above method the right way to go? How do I then load in the modules from separate files?</p>\n"},{"tags":["php","javascript","ajax","symfony2","slideshow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13228891,"title":"How to redeclare variable upon ajax page refresh","body":"<p>I have a couple of different places in my page where I render this to set a variable like this</p>\n\n<pre><code>&lt;script&gt;\nvideoContent[{{ ordernumber }}]='video={{ c.data[0] }}&amp;height={{ c.data[1] }}&amp;width={{ c.data[2] }}&amp;codec={{ c.data[3] }}&amp;fullscreen={{ data5 }}';\n&lt;/script&gt;\n</code></pre>\n\n<p>My problem is that I refresh the whole body of the page with ajax, and when I do this piece of code is not executed again. I can't really set an id to the script block since many of these blocks will be looped out and I wouldn't know which one to call eval() on.</p>\n\n<p>Can I somehow append this declaration to a function or object like \"myDeclarationObject\" and then just call eval() on that object together with the page refresh?</p>\n\n<p>I know I could study up on the nuts and bolts of javascript but I am short on time, there are so many things you need to learn if you develop an app singlehandedly =)</p>\n\n<p>Some more sample code...</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN' 'http://www.w3.org/TR/html4/loose.dtd'&gt;\n&lt;head&gt;\n  &lt;title&gt;$title&lt;/title&gt;\n  &lt;meta content='text/html; charset=utf-8' http-equiv='Content-Type' /&gt;\n  &lt;script src=\"/symfony/web/script/jquery-1.8.2.min.js\" type='text/javascript'&gt;&lt;/script&gt;\n  &lt;script src=\"/symfony/web/script/slideshow.js\" type='text/javascript'&gt;&lt;/script&gt;\n  &lt;script type='text/javascript'&gt;\n  /* set globals */\n  var newContent = 'blank';\n  var currentUri = '/symfony/web/app.php/Screen/showContainer/39';\n  /* fire the slideshow from slide 1 once document is finished loading */\n  $(document).ready(function(){\n    console.log('start of slideshow');\n    slideshow(1);\n  &lt;/script&gt;\n&lt;/head&gt;\n&lt;body id=\"slideshow_body\"&gt;\n  &lt;script id='pauseTimesScript' type='text/javascript'&gt;\n  /* initialize the array to keep track of which slides have videocontent */\n  try {\n        videoContent=null;\n        videoContent=undefined;\n        videoContent = new Array();         \n        /*alert('satte först till null, deklarerade sedan om.');*/\n  } catch(e) {\n        videoContent = new Array();         \n        /*alert('deklarerade utan att först sätta null.');*/\n  }\n  /* Define pauseTimes (array holding duration of each slide) */\n  try {\n        pauseTimes=null;\n        pauseTimes=undefined;\n        pauseTimes = new Array();   \n        setPauseTimes();        \n        /*alert('satte först till null, deklarerade sedan om.');*/\n  } catch(e) {\n        pauseTimes = new Array();   \n        setPauseTimes();        \n        /*alert('deklarerade utan att först sätta null.');*/\n  }\n  /* This function sets pausetimes as well as initializes the array for videocontent */\n  function setPauseTimes() {  \n    pauseTimes[1]=2000;\n    videoContent[1]=null;\n    pauseTimes[2]=15000;\n    videoContent[2]=null;\n    pauseTimes[3]=2000;\n    videoContent[3]=null;\n    pauseTimes[4]=2000;\n    videoContent[4]=null;\n    pauseTimes[5]=1000;\n    videoContent[5]=null;\n    pauseTimes[6]=0;\n    videoContent[6]=null;\n  }\n  &lt;/script&gt;\n  &lt;div id=\"avbrott\"&gt;\n    Tillfälligt avbrott, visar cachelagrat innehåll sedan 2012-11-05 10:23:31\n  &lt;/div&gt;\n  &lt;div id=\"canvas\"&gt;\n    &lt;div class=\"slide\" id=\"slide1\"&gt;\n      &lt;div id=\"slide_bg\"&gt;\n      &lt;div id=\"preview_title\"&gt;\n        Egypt rocks!\n        &lt;/div&gt;\n        &lt;div&gt;&lt;/div&gt;\n        &lt;p id=\"preview_data_6\"&gt;Lorem ipsum\n        dolor sit amet, consectetur adipiscing elit. Suspendisse feugiat\n        pharetra eros, vitae ullamcorper tellus condimentum sit amet.\n        Pellentesque habitant morbi tristique senectus et netus et malesuada\n        fames ac turpis egestas. Suspendisse in leo erat. Aliquam interdum\n        molestie tortor, nec lacinia mauris viverra eget. Suspendisse aliquam\n        tempor scelerisque. Proin vel purus nunc. Pellentesque ut sapien\n        libero.&lt;br /&gt;&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"slide\" id=\"slide2\"&gt;\n      &lt;div id=\"slide_bg\"&gt;\n      &lt;img src=\"/symfony/web/style/images/ajax-loader3.gif\"  /&gt;&lt;/div&gt;\n      &lt;div id=\"no_preview_text\"&gt;&lt;/div&gt;\n            &lt;script id=\"videoContentScript2\"&gt;\n      videoContent[2]='video=video.avi&amp;height=800&amp;width=600&amp;codec=h264&amp;fullscreen=0';\n      &lt;/script&gt;\n    &lt;/div&gt;\n    &lt;div class=\"slide\" id=\"slide3\"&gt;\n      &lt;div id=\"slide_bg\"&gt;\n      &lt;div id=\"preview_title\"&gt;\n        info\n        &lt;/div&gt;\n        &lt;div&gt;&lt;/div&gt;\n        &lt;p id=\"preview_data_6\"&gt;In ornare\n        fringilla convallis. In cursus pellentesque elit a iaculis. Fusce\n        rutrum rutrum neque quis molestie. Fusce id lacus in est iaculis\n        eleifend venenatis eget ante. Sed eget augue sed nisl scelerisque\n        fermentum eget at arcu. Donec placerat turpis non sapien scelerisque\n        tempus. Etiam imperdiet urna sit amet nulla convallis a facilisis dui\n        scelerisque. Ut sed eros a velit venenatis lacinia ut id risus. Duis\n        aliquam augue in erat malesuada ut eleifend justo condimentum. Praesent\n        quis urna nisl. Vestibulum suscipit tincidunt nisl id tincidunt. Nunc\n        ac ante sed lectus scelerisque blandit. Fusce ultrices, nulla nec\n        porttitor dapibus, tellus libero fringilla odio, semper tincidunt\n        mauris velit eu augue. Duis ut massa sed nibh auctor malesuada id eget\n        ipsum.&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"slide\" id=\"slide4\"&gt;\n      &lt;div id=\"slide_bg\"&gt;\n      &lt;div id=\"preview_title\"&gt;\n        Lite lek\n        &lt;/div&gt;\n        &lt;div&gt;&lt;/div&gt;\n        &lt;p id=\"preview_data_6\"&gt;Morbi ac\n        rhoncus velit. Nunc blandit urna eu mi tempus volutpat. Quisque vel\n        eros tortor. Sed fringilla, magna sit amet luctus imperdiet, urna\n        libero dapibus nulla, in facilisis sapien ante nec ipsum. Maecenas\n        suscipit orci nec turpis iaculis porttitor. Proin blandit tortor a\n        magna porttitor malesuada. Sed porta quam sodales est sollicitudin\n        vitae mattis quam consequat. Cum sociis natoque penatibus et magnis dis\n        parturient montes, nascetur ridiculus mus. Ut eget accumsan ligula.\n        Fusce a urna in diam sollicitudin ullamcorper. Donec et tellus quis\n        justo scelerisque fermentum. Nunc molestie malesuada odio laoreet\n        fermentum. Proin vel vestibulum nunc. Aliquam odio sem, elementum vel\n        bibendum sit amet, ullamcorper quis tortor. Donec tempus massa\n        pellentesque metus ornare eget laoreet enim porta. Nullam facilisis\n        tempus neque vitae bibendum.&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"slide\" id=\"slide5\"&gt;\n      &lt;div id=\"slide_bg\"&gt;\n      &lt;div id=\"preview_title\"&gt;\n        Feel the rythm\n        &lt;/div&gt;\n        &lt;div&gt;&lt;/div&gt;\n        &lt;p id=\"preview_data_6\"&gt;&lt;br /&gt;\n        &lt;br /&gt;\n        &lt;br /&gt;\n        &lt;br /&gt;\n        The rythm of the night =p&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"slide\" id=\"slide6\"&gt;\n      &lt;div id=\"slide_bg\"&gt;\n      &lt;div id=\"preview_title\"&gt;\n        skipme\n        &lt;/div&gt;\n        &lt;div&gt;&lt;/div&gt;\n        &lt;p id=\"preview_data_6\"&gt;skipme&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>As you may notice, each div with id slide1, slide2 etc. are looped out according to a certain template. all slides except slide2 are of a template type that don't have this script block I am talking about, however slide2 does, and many more may have it.</p>\n\n<p>Is there a good way of putting this data in, instead of rendering a scriptblock like I do here?</p>\n\n<p>At the time I initialize the array videoContent and declare it with null values the page is not yet aware that it will populate number2 of the array with this value.</p>\n\n<p>Here is the slideshow and ajaxUpdate scripts:</p>\n\n<pre><code>/* The actual slideshow function (calling itself for each new slide) */\nfunction slideshow(slide) {\n\n    if(pauseTimes[slide]==null) {\n        console.log('no slide defined, so update the whole thing');\n        ajaxUpdate();\n    }\n    else if (pauseTimes[slide]==0) {\n        console.log('pauseTime is zero so move to next slide');\n        slideshow(slide+1);\n    }\n    else if (pauseTimes[slide]&gt;0) {\n        /* if there is another slide after the one currently showing... */\n        skip=0; //wheather to skip this slide\n        //check for video stuff\n        if(videoContent[slide] != null) {\n\n            if (parent.xPos) {\n                myXpos = Math.round(parent.xPos)\n            }\n            else {\n                myXpos = 0;\n            }\n\n            if (parent.yPos) {\n                myYpos = Math.round(parent.yPos)\n            }\n            else {\n                myYpos = 0;\n            }           \n\n            //These position variables are set by a script in screen_base.html.twig\n            positionString = '&amp;x=' + myXpos + '&amp;y=' + myYpos;\n\n            //the videoContent[slide] is populated from the template for the video slide\n            videoCallstring = 'http://127.0.0.1/index.php?' + videoContent[slide] + positionString;\n\n            //call by ajax:\n            window.skip=1;\n            jQuery.ajax({\n                 url:    videoCallstring,\n                 success: function(result) {\n                        window.skip=1;\n                             /*\n                              if(result.isOk == false) {\n                                  alert(result.message);\n                              }\n                              else {\n                                  alert(\"success =)\");\n                              }\n                              * */\n                        },\n                 async:   false\n            });             \n        }\n        else {\n            //do nothing\n        }       \n\n        if (skip == 1) {\n            slideshow(slide+1);\n        }\n        else {\n            $('#slide'+slide).\n            fadeIn(1500,function(){}).\n            delay(pauseTimes[slide]).\n            fadeOut(1500,function(){slideshow(slide+1);});\n        }\n    }\n}\n\n    /* The update routine at the end of each slideshow */\nfunction ajaxUpdate() {\n\n    //Load current uri again asynchroneously\n\n    var jqxhr = $.get(currentUri)\n      .success(function(data) {\n\n            newContent = data; \n\n            //make sure we got the end token (&lt;/body&gt;) so that our transmission wasn't interrupted in the middle of the request\n            endtoken_test = newContent.search('&lt;/body&gt;');\n\n            //strip of everything before starttoken (&lt;body&gt;)\n            newContent = newContent.substring(newContent.indexOf('&lt;body id=\"slideshow_body\"&gt;') +26 );\n\n            //strip of everything after endtoken (&lt;/body&gt;)\n            newContent = newContent.slice(0, newContent.lastIndexOf(\"&lt;/body&gt;\"));\n\n            if (endtoken_test != -1) {\n                //We found the endtoken which means the whole page was returned\n\n                //replace the innerHTML of body with the new stuff\n                document.getElementById('slideshow_body').innerHTML=newContent;\n\n                //Ta bort skylten om tillfälligt avbrott (om den visades)\n                document.getElementById('avbrott').style.display = 'none';\n\n                //update the pausetimes\n                ie_compatible_eval(document.getElementById('pauseTimesScript').innerHTML)\n\n                //update the videoContents\n                /* Loop out the scriptblocks in a try/catch way, loop until max number in pauseTimes is reached */\n\n\n                //run the slideshow anew\n                slideshow(1);\n            }\n            else {      \n                /* if no content (or at least not all of it) could not be downloaded from server */\n                document.getElementById('avbrott').style.display = 'block';\n                slideshow(1);\n            }\n\n      })\n      .error(function() {\n\n            newContent = 'blank'; \n\n            /* if no content (or at least not all of it) could not be downloaded from server */\n            document.getElementById('avbrott').style.display = 'block';\n            slideshow(1);\n\n      });   \n\n}\n\n\n\n/* eval() som även funkar i explorer, används för att uppdatera paustiderna */\n\nfunction ie_compatible_eval(code) {\n    var dj_global = this; // global scope reference\n\n    if (window.execScript) {\n        window.execScript(code); // eval in global scope for IE\n        return null; // execScript doesn’t return anything\n    }\n\n    return dj_global.eval ? dj_global.eval(code) : eval(code); //eval för andra browsers\n}\n</code></pre>\n\n<p>Servreside is a symfony2 app.</p>\n"},{"tags":["jquery","ajax","cross-domain","jsonp","response"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13206122,"title":"jsonp, crossDomain:true success undefined response","body":"<p>Again, I'm at the limits of my ability.</p>\n\n<p>I'm using jsonp in jQuery ajax to get around the unsecured/secured on the same page restriction.</p>\n\n<p>I've discovered that supplanting jsonpCallback for success fires what should be the success, but the : function(data) is returning undefined for data.</p>\n\n<p>How do I get the data?</p>\n\n<p>Many thanks in advance!</p>\n\n<p><strong>EDIT: code to help</strong></p>\n\n<pre><code>$.ajax({ \n    url: 'login.php',\n    type: 'GET',\n    crossDomain: true,\n    dataType: 'jsonp',\n    success: function(output) {\n        //this doesn't fire\n    }\n});\n</code></pre>\n"},{"tags":["asp.net","ajax","telerik","radgrid"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13067365,"title":"telrik radgrid cannot display the all records","body":"<p>I need to show the all record in telerik rad grid, but without  Pagesize it is takes the default only 10 records. How to solve this? code me please. Thank you </p>\n"},{"tags":["ajax","json","rest","spring-mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":13163135,"title":"Sending web pages and JSON from REST Spring MVC API","body":"<p>I have developed a REST API with Spring MVC and I can send JSON objects to a client.</p>\n\n<p>I would like to construct a Javascript/AJAX client that connects to my API but I don't know how to send the first HTML page (using JSP).\nI understand I should serve JSP pages with some embedded AJAX. This AJAX will send requests to my web services.</p>\n\n<p><strong>Update:</strong>\nThe requirement I am not able to achieve is to write the default URI (http://localhost:8084) in browser and see the HTML page I have written in JSP page (home.jsp).</p>\n\n<p>My approach is following:</p>\n\n<p>I have a <strong>Controller</strong> that sends the root JSP page </p>\n\n<pre><code>@Controller\npublic class SessionController {\n\n    @RequestMapping(value=\"/\", method=RequestMethod.GET)\n    public String homeScreen(){\n        return \"home\";\n    }\n}\n</code></pre>\n\n<p>But when I run the server I receive this warning</p>\n\n<pre><code>WARNING: No mapping found for HTTP request with URI [/home] in DispatcherServlet with name 'dispatcher'\n</code></pre>\n\n<p>and nothing is loaded in browser.</p>\n\n<p>Here is my <strong>application-context</strong> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n       http://www.springframework.org/schema/aop \n       http://www.springframework.org/schema/aop/spring-aop-3.1.xsd\n       http://www.springframework.org/schema/tx \n       http://www.springframework.org/schema/tx/spring-tx-3.1.xsd       \n       http://www.springframework.org/schema/mvc\n       http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd\n       http://www.springframework.org/schema/context       \n       http://www.springframework.org/schema/context/spring-context-3.1.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.powerelectronics.freesun.web\" /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>And <strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\" \n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee \n         http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Is my approach correct? Am I wrong at any basic concept?\nCan I modify something in my code to make it run?\nI would like to see the first page loaded in browser and keep going in that direction.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["jquery","ajax","http","embed","content-type"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13214211,"title":"Difference between jQuery and Chrome HTTP requests","body":"<p>I'm working on a script that posts simple commands to a web server embedded on a device. I'm not sure exactly what the server is (some flavor of Apache on embedded Linux, I believe) and it shouldn't matter for what I'm asking. </p>\n\n<p>The code on the server is reacting differently to a URL sent from jQuery's <code>$.ajax()</code> function and the exact same URL sent from Chrome. I'm trying to find a way to figure out what Chrome is doing with this request that jQuery is not in order to make my javascript work.</p>\n\n<p>Details:</p>\n\n<p>When I post to the device to send it a command, I do it like this:</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url: urlPrefix+'/setsetting/'+name+'='+value,\n    success: function(r) {\n        //command was sent\n    },\n    error: function(e) {\n            //some http error\n    }\n});\n</code></pre>\n\n<p>When I make a request in which the value does not contain spaces, the server does its job properly. However, when I make a request where the value does contain spaces, the server doesn't do it's job. So there is obviously a problem with how the code on the server is handling spaces in the URL, right? Here's the weird thing: When I take a URL constructed with this code and put it directly into my browser window, the server does its job even if there is a space in the value. So this URL sent from my script:</p>\n\n<pre><code>http://[ip]/setsetting/setting1=value 1\n</code></pre>\n\n<p>does not work, but if I plug that same url into my browser (Chrome), it does work. Chrome will change the space to <code>%20</code>. I've tried formatting the value in my code to replace spaces with <code>%20</code> which doesn't help. I've tried adding the contentType attribute of <code>$.ajax()</code> to other things and none of that helped. </p>\n\n<p>Edit: I just noticed that the error function of $.ajax() is firing. e.responseText is an html page that says \"400 - Bad Request\". Hmmm?</p>\n"},{"tags":["ajax","firefox","file-upload","xmlhttprequest-level2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12566801,"title":"Firefox only fires XMLHttpRequest upload load and loadend events once *download* has finished","body":"<p>Can anyone else confirm this, or am I doing something wrong?</p>\n\n<p>In Firefox the XMLHttpRequest upload events load and loadend only fire once download has finished, not when upload has finished. Also the progress event doesn't get fired at the end of the upload.</p>\n\n<p>See this example: <a href=\"http://geotest.kitten-x.com/test/\" rel=\"nofollow\">http://geotest.kitten-x.com/test/</a></p>\n\n<p>I believe that Chrome behaves correctly in that the progress bar goes all the way across to 100% and then the load and loadend events are fired, and then once the script ends the result is posted. In Firefox the load and loadend events only fire once the script has finished.</p>\n"},{"tags":["c#","javascript","jquery","ajax","webmatrix"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13202395,"title":"Testing AJAX For the first time in WebMatrix (C#), Server returning internal error 500","body":"<p>This should be an easy one to solve, I've just never messed with AJAX before...</p>\n\n<p>I am having trouble testing AJAX for the first time.</p>\n\n<p>It looks to me like everything is right, and according to online examples, this should work, but apparently it is not so.</p>\n\n<p>(Keep in mind this is just a test to see if I can get this to work, I know using server-side for this simple of a computation is nonsensical).</p>\n\n<p>I am not going to include the html for the header, as it is in a different layout page and rendered, but I assure you the correct paths to the necessary files are there.</p>\n\n<p>Anyway, what I have setup is setup this way for future implementation and growth if needed (currently using these 4 different files):</p>\n\n<p><strong>The HTML (default.cshtml):</strong></p>\n\n<pre><code>    ///Simple AJAX test to multiply to user set numbers on server side\n    ///and return the result.\n\n    &lt;h1&gt;Welcome to Us&lt;/h1&gt; \n\n&lt;p&gt;\nLorem Ipsum Porem Lorem Ipsum Porem \n&lt;/p&gt;\n&lt;p&gt;\n    Choose a number from the first list,\n    then a number from the second list\n    and they will be multiplied together\n    using AJAX on the server side, then\n    updated on the page, all without having\n    to resubmit the form or reload the page!\n&lt;/p&gt;\n&lt;button id=\"btn1\" name=\"btn1\"&gt;1&lt;/button&gt;&lt;button id=\"btn2\" name=\"btn2\"&gt;2&lt;/button&gt;&lt;button id=\"btn3\" name=\"btn3\"&gt;3&lt;/button&gt;&lt;button id=\"btn4\" name=\"btn4\"&gt;4&lt;/button&gt;&lt;button id=\"btn5\" name=\"btn5\"&gt;5&lt;/button&gt;&lt;br/&gt;\n&lt;span&gt;First Number:&amp;nbsp;&lt;/span&gt;&lt;span id=\"firstNumber\" style=\"height: 20px; width: 20px; margin-bottom: 10px; color: #f00;\"&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;\n&lt;button id=\"2btn1\" name=\"2btn1\"&gt;1&lt;/button&gt;&lt;button id=\"2btn2\" name=\"2btn2\"&gt;2&lt;/button&gt;&lt;button id=\"2btn3\" name=\"2btn3\"&gt;3&lt;/button&gt;&lt;button id=\"2btn4\" name=\"2btn4\"&gt;4&lt;/button&gt;&lt;button id=\"2btn5\" name=\"2btn5\"&gt;5&lt;/button&gt;&lt;br/&gt;\n&lt;span&gt;Second Number:&amp;nbsp;&lt;/span&gt;&lt;span id=\"secondNumber\" style=\"height: 20px; width: 20px; margin-bottom: 10px; color: #f00;\"&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;\n&lt;button id=\"Compute\" name=\"Compute\"&gt;Compute&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;\n&lt;span&gt;Result:&amp;nbsp;&lt;/span&gt;&lt;span id=\"result\" style=\"height: 20px; width: 20px; margin-bottom: 10px; color: #2ba03a;\"&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;\n</code></pre>\n\n<p><strong>The first JavaScript file (Main.js):</strong></p>\n\n<pre><code>$(document).ready(function () {\n\n    /////////FIRST NUMBER/////////////\n    $(\"#btn1\").click(function () {\n        $(\"#firstNumber\").html(\"1\");\n    });\n    $(\"#btn2\").click(function () {\n        $(\"#firstNumber\").html(\"2\");\n    });\n    $(\"#btn3\").click(function () {\n        $(\"#firstNumber\").html(\"3\");\n    });\n    $(\"#btn4\").click(function () {\n        $(\"#firstNumber\").html(\"4\");\n    });\n    $(\"#btn5\").click(function () {\n        $(\"#firstNumber\").html(\"5\");\n    });\n\n    /////////SECOND NUMBER/////////////\n    $(\"#2btn1\").click(function () {\n        $(\"#secondNumber\").html(\"1\");\n    });\n    $(\"#2btn2\").click(function () {\n        $(\"#secondNumber\").html(\"2\");\n    });\n    $(\"#2btn3\").click(function () {\n        $(\"#secondNumber\").html(\"3\");\n    });\n    $(\"#2btn4\").click(function () {\n        $(\"#secondNumber\").html(\"4\");\n    });\n    $(\"#2btn5\").click(function () {\n        $(\"#secondNumber\").html(\"5\");\n    });\n\n    $(\"#Compute\").click(function () {\n        var num1 = $(\"#firstNumber\").text();\n        var num2 = $(\"#secondNumber\").text();\n\n        compute(num1, num2);\n    });\n});\n</code></pre>\n\n<p><strong>The Second JavaScript file (TestAjax.js):</strong></p>\n\n<pre><code>var xmlhttp;\nfunction loadXMLDoc (url, cfunc)\n{\n    if (window.XMLHttpRequest)\n    {// code for IE7+, Firefox, Chrome, Opera, Safari\n        xmlhttp = new XMLHttpRequest();\n    }\n    else\n    {// code for IE6, IE5\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n\n    xmlhttp.onreadystatechange = cfunc;\n    xmlhttp.open(\"GET\", url, true);\n    xmlhttp.send();\n}\nfunction compute(number1, number2)\n{\n    loadXMLDoc(\"/TestAjax.cshtml?numb1=\" + number1 + \"&amp;numb2=\" + number2, function () {\n        if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {\n            document.getElementById(\"result\").innerHTML = xmlhttp.responseText;\n        }\n    });\n}\n</code></pre>\n\n<p><strong>And finally, the cshtml file on the server side (TestAjax.cshtml):</strong></p>\n\n<pre><code>@{\n    int numb1 = Request[\"numb1\"];\n    int numb2 = Request[\"numb2\"];\n\n    int resultNumb = numb1 * numb2;\n\n    return(resultNumb);\n}\n</code></pre>\n\n<p><strong>If it helps any (I think it might), the server responds with:</strong></p>\n\n<pre><code>GET http://localhost:14950/TestAjax.cshtml?numb1=4&amp;numb2=2 500 (Internal Server Error) \n</code></pre>\n\n<p>I can see that the values make it into the query string here but...</p>\n\n<p>It errors on line 15 of the second JavaScript file (xmlhttp.send();), but all that means to me is that it didn't like some of the data it was given (or that line's syntax is bad, which I doubt, but I am new to AJAX, so...).  Anyway, should be something simple I am overlooking, but I can't find what it is.</p>\n\n<p>Thanks for any help!  I'd really like to start adding some AJAX to my programmer's toolbox.</p>\n"},{"tags":["javascript","ajax"],"answer_count":4,"favorite_count":2,"up_vote_count":2,"down_vote_count":1,"view_count":601,"score":1,"question_id":8988861,"title":"How can i stop ajax request (don't wait untill response come)?","body":"<p>If I use Ajax to send request and this request take long time ..... if I want to send anther request what should I do?</p>\n\n<p><em>the current behaviour</em> the second request (I did) waiting until the first request get with response.</p>\n\n<p><strong>NOTE :</strong>\ni want to do this behaviour on whole application (any new request execute immediately not wait the old one to be finished firstly)\nMy application using (Ajax + PHP + jQuery + Symfony)</p>\n\n<p>Assume that is the first request take long time:</p>\n\n<pre><code>$.ajax\n({\n    type: \"GET\",\n    url: url1,\n    success: function (html)\n    {\n       // do some thing  \n    }\n});\n</code></pre>\n\n<p>In any time I want this request to execute and terminate the first one. </p>\n\n<pre><code>$.ajax\n({\n    type: \"POST\",\n    url: url,\n    success: function (html)\n    {\n       // do some thing else \n    }\n});\n</code></pre>\n\n<hr>\n\n<pre><code>var xhrReq;\nxhrReq = $.ajax(...);\n\n// then if you want to stop the rqest and exit use :\n\n xhrReq.abort();\n</code></pre>\n"},{"tags":["jquery","ajax","jquery-ajax","jquery-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13222284,"title":"Form submitted via dialog opens dialog again","body":"<p>I have a form in a jquerymobile dialog box that I am submitting via jQuery Ajax.</p>\n\n<p>Currently my problem is that once the form is submitted the same dialog box is opened again on top of the original dialogbox.</p>\n\n<p>So that my url reads before submission:</p>\n\n<pre><code>url/index.php#&amp;ui-state=dialog\n</code></pre>\n\n<p>and then after submission:</p>\n\n<pre><code>url/index.php#&amp;ui-state=dialog#&amp;ui-state=dialog&amp;ui-state=dialog\n</code></pre>\n\n<p>Has anyone ever encountered something like this before?</p>\n\n<p>[edit added code example]</p>\n\n<pre><code>$(function(){\n    $(\"#form\").submit(function(e){\n        e.preventDefault();\n        var dataString = $(\"#form\").serialize();\n        alert(\"login_form submitted\");\n        $.ajax({\n            type: \"GET\",\n            url: \"formHandler.php\",\n            data: dataString,\n        dataType: \"text\",\n            success: function(data){\n                $(\".ui-dialog\").dialog(\"close\");\n                location.href=\"index.php\";\n            },\n            error:function (xhr, ajaxOptions, thrownError){\n                alert(thrownError);\n            }\n        });\n    });\n});\n</code></pre>\n"},{"tags":["ajax","jsf-2","primefaces","seam3"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1616,"score":1,"question_id":10175371,"title":"Primefaces p:calendar with p:ajax value not updated (one step delay)","body":"<p>I want to call a bean after a date is selected in a <code>p:calendar</code>. In my setup I have a <code>@Named @ViewScoped</code> Bean, the class <code>ObWithDate</code> is a <code>@Entity</code> with a date field <em>validFrom</em>.</p>\n\n<pre><code>&lt;h:form id=\"fUser\"&gt;\n  &lt;p:dataTable id=\"dt\" var=\"cum\" value=\"#{myBean.listObWithDates}\"&gt;\n    &lt;p:column&gt;\n      &lt;p:calendar id=\"cValidFrom\" value=\"#{cum.validFrom}\"&gt;  \n        &lt;p:ajax event=\"dateSelect\" listener=\"#{myBean.update(cum)}\"\n                update=\":fUser:dt\"/&gt;  \n      &lt;/p:calendar&gt;  \n    &lt;/p:column&gt;\n  &lt;/p:dataTable&gt;\n&lt;/h:form&gt;\n</code></pre>\n\n<p>The good thing is, that the bean method <code>update(ObWithDate myO)</code> is called with the correct object each time I select a date. The bad thing is, that <code>myO.validFrom</code> does not have the correct value. It's always <em>one step behind</em>:</p>\n\n<ul>\n<li>Field initialized with 2012-01-01</li>\n<li>GUI change to 2012-01-05, bean method debugs to 2012-01-01</li>\n<li>GUI change to 2012-01-15, bean method debugs to 2012-01-05</li>\n</ul>\n\n<p>This issue drives me crazy, I've found several issues with not correctly updated values and also some about <code>p:calendar</code>. Most of them suggest using the attribute <code>selectListener=\"#{calendarBean.handleDateSelect}\"</code> with a  <code>handleDateSelect(DateSelectEvent event)</code> method. But I want to call my method since I want to pass the current instance of the variable.</p>\n\n<ul>\n<li>Firebug verifies, that the correct updated values are transmitted in a POST request</li>\n<li>I'm using Primefaces 3.2 and JBoss-7.1.1-Final</li>\n<li>Even without the <code>p:dataTable</code> and only using <code>p:calendar</code> the issue is still the same.</li>\n<li>The <em>wrong</em> value of the debug output can be observed for the method-Object <code>update(ObWithDate myO)</code> as well for the corresponding entry in <code>myBean.listObWithDates</code>.</li>\n<li><code>&lt;p:ajax immediate=\"true\" .../&gt;</code> does not solve this issue.</li>\n</ul>\n\n<p><strong>Update</strong> MattHandy helped me a lot, the resulting question <em>How to get the corresponding list item in the ajax call inside the beans method?</em> is formulated in the followup <a href=\"http://stackoverflow.com/questions/10276602\">JSF p:calendar in p:dataTable: How to get the row of p:ajax dateSelect event</a>.</p>\n"},{"tags":["jquery","ajax","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13232807,"title":"retrieve more than json with ajax","body":"<p>how I can retrieve more than 1000 of the database table row with ajax . </p>\n\n<p>Status Code 500 on AJAX</p>\n\n<pre><code>    $.ajax({\n        type: \"POST\",\n        url: \"http://10.0.2.2:1998/bYzance_web_service/get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        async: false,\n        success:function (data)\n        {\n            alert(\"Succes, des retirer les données PhrasesTypes\");\n            var result = $.parseJSON(data.d);\n            //////alert(\"les données\"+result);\n            callback(result);\n        },\n        error: function(xhr, ajaxOptions, thrownError) \n        {\n            alert(\"Statu: \"+xhr.status);\n            alert(\"Throw: \"+thrownError);\n        }\n    });\n\n},\n</code></pre>\n"},{"tags":["ajax","ruby-on-rails-3","image"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":18,"score":0,"question_id":13232540,"title":"Loading images with ajax (in rails)","body":"<p>Is there a way to either:</p>\n\n<p>load images via an ajax request </p>\n\n<p>or </p>\n\n<p>put a loading icon instead of where the image should be (or some other placeholder) until the image is fully loaded?</p>\n"},{"tags":["ajax","firefox","browser","login"],"answer_count":10,"favorite_count":7,"up_vote_count":17,"down_vote_count":0,"view_count":9181,"score":17,"question_id":2382329,"title":"How can I get browser to prompt to save password?","body":"<p>Hey, I'm working on a web app that has a login dialog that works like this:</p>\n\n<ol>\n<li>User clicks \"login\"</li>\n<li>Login form HTML is loaded with AJAX and displayed in DIV on page</li>\n<li>User enters user/pass in fields and clicks submit. It's NOT a <code>&lt;form&gt;</code> -- user/pass are submitted via AJAX</li>\n<li>If user/pass are okay, page reloads with user logged in.</li>\n<li>If user/pass are bad, page does NOT reload but error message appears in DIV and user gets to try again.</li>\n</ol>\n\n<p>Here's the problem: the browser never offers the usual \"Save this password? Yes / Never / Not Now\" prompt that it does for other sites.</p>\n\n<p>I tried wrapping the <code>&lt;div&gt;</code> in <code>&lt;form&gt;</code> tags with \"autocomplete='on'\" but that made no difference.</p>\n\n<p>Is it possible to get the browser to offer to store the password without a major rework of my login flow?</p>\n\n<p>thanks\nEric</p>\n\n<p>p.s. to add to my question, I'm definitely working with browers that store passwords, and I've never clicked \"never for this site\" ...this is a technical issue with the browser not detecting that it's a login form, not operator error :-)</p>\n"},{"tags":["php","jquery","ajax","joomla","virtuemart"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13231727,"title":"Get subcategory and category on same page in virtuemart","body":"<p>I have a question about virtuemart.\nI want to get a category and subcategory on one page.\nSomething like this:\n<a href=\"http://www.jbportfolio.nl/projecten/parallax/\" rel=\"nofollow\">http://www.jbportfolio.nl/projecten/parallax/</a></p>\n\n<p>If you click on the blacked-out person it will show a image of a shirt, trousers and shoes.\nIf you click on the shirt is will show all shirts as a product.</p>\n\n<p>I want to know if this is possible without changing the page?</p>\n\n<p>I know I will have to use jQuery to hide and fadeIn the different pages but how can I load all the information on ID and not on the url?</p>\n"},{"tags":["php","jquery","ajax","onclick"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13230408,"title":"Onclick jQuery is not working","body":"<p>I have a situation i am generating dynamic html using jQuery like </p>\n\n<pre><code>var list_of_addressbook_entries = {};\nvar filter = []\nfunction save(){\n    var user = $(\"#addressbook_user\").val();\n    var desg = $(\"#desg\").val();\n    var ahtml='&lt;div  id =\"user_'+user+'\"  class=\"addr_list\" style=\" font-size: 30px;display:block; background: none repeat scroll 0% 0% peachpuff;margin:1px 1px 1px 1px ;\"&gt;'\n    ahtml = ahtml + '&lt;span style=\"display: block; float: left; font-size: 30px; margin: 2px 24px 2px 21px;\" &gt;'+user+'&lt;/span&gt;'\n    if(desg == 'M'){\n        ahtml = ahtml + '&lt;span style=\"display: block; float: left; font-size: 30px; margin: 2px 24px 2px 21px;\"&gt;Moderator&lt;/span&gt;'\n    }\n    else{\n        ahtml = ahtml + '&lt;span style=\"display: block; float: left; font-size: 30px; margin: 2px 24px 2px 21px;\"&gt;Attendee&lt;/span&gt;'\n    }\n    ahtml = ahtml + '&lt;div  onclick=\"remove_video(\\''+user+'\\')\"&gt;&lt;span &gt;&lt;img src=\"/UI/user/img/delet.jpeg\" alt=\"Smiley face\" height=\"42\" width=\"42\"  /&gt; &lt;/span&gt;&lt;/div&gt;&lt;/div&gt;'\n    var ua = \"'\"+user+\"'\"; \n    filter.push(ua);\n    $.ajax({ \n        type: \"GET\",  \n        url: \"&lt;?php echo SITE_URL;?&gt;/UI/user/filterbox.php\",  \n        data: \"list=\"+ filter+\"&amp;Where=addressbook\" ,\n        success: function(json){ \n               $('#addorguser').html(json);\n              // if(!json.error) location.reload(true);\n        },\n        error: function (xhr, textStatus, errorThrown) {\n\n            alert(json);\n        }\n\n    });\n\n\n\n\n\n    $(\"#organization\").append(ahtml);\n\n\n\n}\n    function remove_video(user){\n        alert(user);\n        $(\"#user_\"+user).hide();\n    }\n</code></pre>\n\n<p>After calling the save() i am appending dynamically generated html to a div there is a remove_video function i also defined in the dynamic html .</p>\n\n<p>But when i am clicking on dynamic div to remove the div the remove_video function is not getting called .</p>\n\n<p>I am also not getting any error .</p>\n\n<p>Help me plz .</p>\n\n<p>*<em>Updated Html *</em></p>\n\n<pre><code>    &lt;div id=\"organization\" name=\"organization\"&gt;\n    &lt;/div&gt;\n\n                 &lt;div&gt;Address Book&lt;/div&gt;&lt;br&gt;\n\n                &lt;div id=\"box1\"&gt;\n                        &lt;?php\n                        if (isset($_SESSION[\"user_name\"])){\n                            $get_user_name = $_SESSION[\"user_name\"];\n                            ?&gt;\n                &lt;div id=\"addorguser\" style=\"display: block; float: left;\"&gt;\n                        &lt;select  id =\"addressbook_user\" name=\"addressboook_user\"&gt;\n                        &lt;?php \n\n                            $asql = \"SELECT *  from demo_addressbook WHERE user_created_id IN(SELECT id FROM demo_user WHERE user_name = '$get_user_name') AND type = 1 \";                      \n                        //  $result = mysql_query($query);\n                        //  mysql_real_escape_string($asql);\n                            $aresult    = mysql_query($asql) or die (mysql_error());\n                            while($arow_list=mysql_fetch_assoc($aresult)){\n                                ?&gt;                      \n                                &lt;option value=\"&lt;?php echo $arow_list['guest_name']; ?&gt;\"&gt;&lt;?php echo $arow_list['guest_name']; ?&gt;&lt;/option&gt;\n                                &lt;?php                                   \n                            }\n                                ?&gt;\n                            &lt;/select&gt;\n\n                    &lt;/div&gt;      \n                            &lt;select name=\"desg\" id=\"desg\"&gt;\n                            &lt;option value=\"A\"&gt;Attendee&lt;/option&gt;\n                            &lt;option value=\"M\"&gt;Moderator&lt;/option&gt;\n\n                            &lt;/select&gt;\n                            &lt;input type=\"button\" id =\"aadd\" onclick=\"save()\" name=\"button\" value=\"Add\"/&gt;\n                &lt;/div&gt;\n\n                &lt;?php \n                        }\n                ?&gt;\n</code></pre>\n"},{"tags":["ajax","http","post","get","request"],"answer_count":3,"favorite_count":3,"up_vote_count":4,"down_vote_count":2,"view_count":1360,"score":2,"question_id":506286,"title":"HTTP GET and POST","body":"<p>Whats the use of HTTP GET method if POST can handle many of the issues of GET?</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13231199,"title":"jQuery mCustomScrollbar not working on ajax content","body":"<pre><code>    $(window).load(function(){\n                $(\"#content_1\").mCustomScrollbar({\n                    scrollButtons:{\n                        enable:true\n                    }\n                });\n\n// ajax code\nfunction beauty_of_ceylon() {\n  $('.content-text').html('&lt;p style=\"position:absolute;\"&gt;&lt;img src=\"images/ajax-loader.gif\" /&gt;&lt;/p&gt;');\n  $('.content-text').load(\"packages/beauty-of-ceylon.php\");\n}\n</code></pre>\n"},{"tags":["javascript","jquery","xml","ajax","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13230576,"title":"inserting into a XML file by Javascript, Jquery or Ajax","body":"<p>Is there any way to insert some data into XML file??\nFor example, if there is a XML code like this\n<code>&lt;charlist&gt; \n&lt;list&gt; \n&lt;title&gt;gb&lt;/title&gt; \n&lt;chr&gt;Goodbye&lt;/chr&gt;</code> \n<code>`&lt;/list&gt; \n&lt;list&gt; \n&lt;title&gt;ttyl&lt;/title&gt; \n&lt;chr&gt;talk to you later&lt;/chr&gt;</code> \n<code>&lt;/list&gt; \n&lt;/charlist&gt;</code>\nHow can i insert more data like \"\" into XML file.\nI used \"append\" to add more data into a XML file, but it did not work.\nDo I need to use Ajax or the others???</p>\n"},{"tags":["c#","jquery","ajax","asp.net-mvc-3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13230603,"title":"How to pick two values from two datepicker in jQuery and calculate diference in a new button on the same view (ASP.NET MVC 3)?","body":"<p>all\nI have completed code for two textboxes that should act as two datepicker jQuery. Here is the code:</p>\n\n<pre><code>&lt;script  type=\"text/javascript\"&gt;\n\n    var alreadyTakenDays = {};\n    function getEvents(month, year) {\n        $.ajax({\n            url: '@Url.Action(\"GetTakenDates\")',\n            type: 'POST',\n            data: JSON.stringify({ month: month, year: year }),\n            dataType: 'json',\n            processdata: false,\n            contentType: 'application/json; charset=utf-8',\n            success: function (data) { alreadyTakenDays = data; },\n            error: function (xhr, ajaxOptions, thrownError) { $('.datepicker1').datepicker(\"hide\"); },\n            complete: function (x, y) { $('.datepicker1').datepicker(\"refresh\"); }\n        });\n    }\n    $(function () {\n\n        $('.datepicker1').datepicker({\n            dateFormat: 'dd/mm/yy',\n            firstDay: 1,\n            minDate: new Date(),\n            yearRange: '2012:2100',\n            beforeShowDay: function (date) \n            {\n                var day = date.getDate();\n                if (day in alreadyTakenDays) \n                {\n                return [false,'',alreadyTakenDays[day]];\n                }\n                else return[true,'IsActive'];\n            },\n             onChangeMonthYear: function (year, month, inst) {\n                alreadyTakenDays = {};\n                getEvents(month, year);\n            },\n            onSelect: \n            function(dateText, inst) {\n                  var d = dateText.substring(0,2);\n                  var m = dateText.substring(3,5);\n                  var y = dateText.substring(6,10);\n                  var newDate = new Date(y,m-1,d);\n                  $('.datepicker2').val(\"\");\n                  $('.datepicker2').datepicker(\"option\",\"minDate\", newDate);\n          }\n        });\n\n          var calendarDate = $('.datepicker1').datepicker(\"getDate\");\n          getEvents(calendarDate.getMonth() + 1, calendarDate.getFullYear());\n\n        $('.datepicker2').datepicker({\n            dateFormat: 'dd/mm/yy',\n            firstDay: 1,\n            yearRange: '2012:2100'\n        });\n\n        $('.datepicker1').val(\"\");\n        $('.datepicker2').val(\"\");\n    });\n&lt;/script&gt; \n</code></pre>\n\n<p>After the first datepicker is selected another one will have the selected value as minimum allowed date. Also, every time a month is shifted in datepicker, an ajax call is made to check are there already booked days for a particular room.\nAbove explination is for those interested what the code does.\nHere is the View code for rendering two datepickers in MVC 3 using razor:</p>\n\n<pre><code> &lt;br /&gt;\n            &lt;br /&gt;\n            &lt;p&gt;\n                From: @Html.TextBoxFor(m=&gt;m.DateOne, new {@class=\"datepicker1\", @readonly=\"readonly\" }) \n                To: @Html.TextBoxFor(m =&gt; m.DateTwo, new { @class = \"datepicker2\", @readonly = \"readonly\" })\n            &lt;/p&gt;\n            &lt;p&gt;\n</code></pre>\n\n<p><strong>How do I make a calculation from difference of two datepickers and store it in another textbox that says the amount of selected days along with the cost for selected period (all <em>on the same view)?</em></strong></p>\n"},{"tags":["jquery","ajax","database","sqlite","phonegap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13230575,"title":"synchronizing a database using PhoneGap","body":"<p>I am trying to synchronize database with PhoneGap.</p>\n\n<p>the problem is as follows:</p>\n\n<p>when I select 30 line  from the database, $. ajax (using web service) all goes well, but when i select  300 line I got no line.</p>\n\n<blockquote>\n  <p>$.ajax({\n                 type: \"POST\",\n                   url: \"http://10.0.2.2:1998/bYzance_web_service/get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\",\n                   contentType: \"application/json; charset=utf-8\",\n                   dataType: \"json\",\n                   async_PhrasesTypes : false,\n                   success:function (data)\n                {\n                     ////alert(\"Succes, des retirer les données PhrasesTypes\");\n                     var result = $.parseJSON(data.d);\n                     //////alert(\"les données\"+result);\n                     callback(result);\n                  },\n                  error: function(model, response) \n                {\n                      ////alert(\"pas des données\");\n                  }\n              });</p>\n\n<pre><code>    }\n</code></pre>\n</blockquote>\n\n<p>sorry if the code is not clear.</p>\n"},{"tags":["javascript","jquery","html","css","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":54,"score":1,"question_id":13228850,"title":"Switch between tabs without reloading","body":"<p>I have two tabs in the content: <em>Comerciales - Legales</em></p>\n\n<p>Each of these tabs should display a list of files, like the ones that are now displayed. </p>\n\n<p>I want to make that if the user clicks on <strong>Legales</strong> it hides the files of <strong>Comerciales</strong> tab and the tab becomes active (getting the active class and removing it from <strong>Comerciales</strong>) and displaying only the files that belong to Legales.</p>\n\n<p>I have tried with hide and fade in but I couldn't get the active class to the current tab. Can someone help me out?</p>\n\n<p>Here it's my markup: </p>\n\n<pre><code>        &lt;ul class=\"pdf_documents clearfix\"&gt;\n            &lt;li class=\"active\"&gt;&lt;a href=\"javascript:void(0)\"&gt;Comerciales&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"javascript:void(0)\"&gt;Legales&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;div class=\"pdf_box\"&gt;\n            &lt;div class=\"pdf_file\"&gt;\n                &lt;img src=\"images/pdf.png\" alt=\"pdf\" width=\"70\" height=\"70\"&gt;\n                &lt;p&gt;Ficha Técnica&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"pdf_file\"&gt;\n                &lt;img src=\"images/pdf.png\" alt=\"pdf\" width=\"70\" height=\"70\"&gt;\n                &lt;p&gt;Ficha Descriptiva&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"pdf_file\"&gt;\n                &lt;img src=\"images/pdf.png\" alt=\"pdf\" width=\"70\" height=\"70\"&gt;\n                &lt;p&gt;Último informe&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"pdf_file\"&gt;\n                &lt;img src=\"images/pdf.png\" alt=\"pdf\" width=\"70\" height=\"70\"&gt;\n                &lt;p&gt;Informes anteriores&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"pdf_file\"&gt;\n                &lt;img src=\"images/pdf.png\" alt=\"pdf\" width=\"70\" height=\"70\"&gt;\n                &lt;p&gt;Folleto completo&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","jquery-ajax","ruby-on-rails-3.2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13206406,"title":"Rails: How to get ajax to refresh index after edit/update?","body":"<p><strong>CRUD</strong> from Index page.</p>\n\n<p>I know there are gems to make this easy, but would like to avoid if possible.</p>\n\n<p>On Index.html.erb<br>\n- Rendering _newsfeeds partial into &lt; ul id=\"feedsNews\" > on index.html.erb<br>\n- partial form ( :Create and :Edit are using same form )<br>\n- When user clicks 'Edit' btn on newsfeed, I'm appending partial form to newsfeed</p>\n\n<p>Problems<br>\nEdit/update changes are being made ...UNFORTUNATELY, I can't seem to get the ajax:success to reload the _newsfeeds partial on index.html.erb. If it's something silly, I apologize...</p>\n\n<p><strong>NEWSFEEDS_CONTROLLER</strong></p>\n\n<pre><code>    def index\n      @newsfeeds = Newsfeed.all\n      @newsfeed = Newsfeed.new\n      @newsfeeds = Newsfeed.order(\"position\") #for Sortable\n\n      respond_to do |format|\n        format.html # index.html.erb\n        format.json { render json: @newsfeeds }\n        format.js\n      end\n    end\n\n    def update\n      @newsfeed = Newsfeed.find(params[:id])\n\n      respond_to do |format|\n        if @newsfeed.update_attributes(params[:newsfeed])\n          format.html { redirect_to newsfeeds_url, notice: 'Updated' }\n          format.json { head :no_content }\n        else\n          format.html { render action: \"edit\" }\n          format.json { render json: @newsfeed.errors, status: :unprocessable_entity }\n        end\n      end\n    end\n</code></pre>\n\n<p><strong>index.html.erb</strong> </p>\n\n<pre><code>    &lt;div&gt;\n        &lt;div id=\"spinner\" style=\"display:none;\"&gt;&lt;/div&gt;\n        &lt;ul id=\"feedsNews\" class=\"showList\" data-update-url=\"&lt;%= sort_newsfeeds_url %&gt;\" &gt;\n            &lt;%= render :partial =&gt; @newsfeeds %&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>index.js.erb</strong></p>\n\n<pre><code>    $('#&lt;%= dom_id(@newsfeed, :edit) %&gt;')\n        .bind('ajax:send', function(){\n           $('#spinner').show();\n        })\n        .bind('ajax:success', function() {\n           $('#spinner').hide();\n           $('#feedsNews').innerHTML ('&lt;%= escape_javascript(render(@newsfeeds)) %&gt;')\n        })\n</code></pre>\n\n<p>Any help would be much appreciated.  </p>\n\n<p><strong>----------------UPDATE--------------------</strong></p>\n\n<p>Changed it to this, which works... sorta... the index.js.erb seems like it's firing before the redirect from the update action, so the firebug is giving me an endless 'spinner' for the index.js.erb GET request  </p>\n\n<pre><code>    $.ajax({\n    complete: function() {\n    $('#feedsNews').html('&lt;%= escape_javascript(render :partial =&gt; @newsfeeds) %&gt;');\n    alert('Changes Saved!');\n}\n</code></pre>\n\n<p>});</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13226000,"title":"pagination for webGrid.GetHtml in MVC Razor partial view","body":"<p>I have two tabs on my page... For the first tab, I am loading the grid on page load; for the second, on click, I am using <code>Ajax.ActionLink</code> to load the grid using a partial View. </p>\n\n<p>I am using <code>webGrid.GetHtml()</code> to render the grid with default pagination in both the tabs. The pagination for the First tab is working very smoothly.  But for the grid under the second Tab, if I click on the page number, it will open the entire partial View in a new window with the second page selected.</p>\n\n<p>Any suggestion/solution will be highly appreciated.</p>\n"},{"tags":["ajax","node.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13227287,"title":"Problems with AJAX and node.js interaction","body":"<p>I am new to node.js and I am trying sending data from AJAX to Node.js server and getting back the things.My server side code is</p>\n\n<pre><code>var http = require('http');\nvar url=require('url');\nhttp.createServer(function (req, res) {\n    console.log(req.url);\n     var url_parts = url.parse(req.url, true);\n    switch(url_parts.pathname)\n    {\n        case '/':\n        res.writeHead(302,{'location':'http://localhost/testajax/index.html'});\n        res.end();\n        break;\n        case '/test':\n    console.log('request received');\n    res.writeHead(200, {'Content-Type': 'text/html'});\n    console.log(url_parts.query[\"page\"]);\n    res.end(url_parts.query[\"page\"]);\n    break;\n}\n}).listen(8124);\n</code></pre>\n\n<p>And that running on client side is</p>\n\n<pre><code>   &lt;script type=\"text/javascript\"&gt;\n\n   $(document).ready(function() {\n    $('a').click(function(){\n\n            $.get('http://localhost:8124/test', {'page':$(this).text()}, function(data){\n            alert(data);\n                $('#content').html(data);\n\n            });                       \n\n        });\n\n    });\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>The content is in the <code>&lt;div&gt;</code> but that doesnt show up neither does it alert anything.On consoling the browser I get this error.</p>\n\n<pre><code>XMLHttpRequest cannot load http://localhost:8124/test?page=ProfilePage. Origin http://localhost is not allowed by Access-Control-Allow-Origin.\n</code></pre>\n\n<p>Is this a wrong way of doing things?Please help.</p>\n"},{"tags":["javascript","ajax","firefox","xmlhttprequest"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13228835,"title":"Passing \"#\" hash symbol in request parameter of url not working in Firefox","body":"<p>I am hitting a struts action using AJAX, everything is fine but there is problem with Firefox , when i am passing the parameter in URL as a request parameter and if that parameter, contains hash(#) symbol in the end, then firefox strips everything after that symbol and send that parameter to action without it.</p>\n\n<p>For example, if im passing test123#abcd in Firefox, then i am getting only test123 in action class as opposed to test123#abcd which is undesirable for my requirement.For IE it is working perfectly.Is there any way by which i can extract the full parameter including the # symbol in Firefox.</p>\n\n<p>please let me know if i need to post the java action code also,thanks.</p>\n\n<p>JS snippet</p>\n\n<pre><code>var valuePassword=test123#abcd;\n\n    var url = \"/test/ChangePwdAjax.do?newPass=\"+valuePassword;\n            var xmlHTTP = getXMLHTTPRequest();\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","text-files","clientside"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13229145,"title":"Reading textfile on server, clientside (JS, Ajax?)","body":"<p>I want to read a specific character in a textfile, so I basically want a function where if I write <code>function getLetter(3)</code>, it will return the third letter, can anyone help me out?</p>\n"},{"tags":["php","ajax","json"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1098,"score":2,"question_id":6325695,"title":"Creating JSON data using PHP and parsing it using jQuery","body":"<p>I am using a PHP script to create JSON data. It looks like this:</p>\n\n<pre><code>{\"Id\":0}\n</code></pre>\n\n<p>Now if I put that into a file and then load it using ajax it's fine. But if I request this from the PHP script I get </p>\n\n<blockquote>\n  <p>parsererror | SyntaxError: Unexpected token ILLEGAL</p>\n</blockquote>\n\n<p>Here is the code that I am using to load the JSON from the PHP:</p>\n\n<pre><code>$.ajax({\n                    url: 'check.php',\n                    data: {\n                        username: 'LOL',\n                        password: '1234'\n                    },\n                    dataType: 'json',\n                    type: 'POST',\n                    success: function(data) {\n                        $('#result').html('#Id=' + data.Id);\n                    },\n                    error: function(jqXHR, textStatus, errorThrown) {\n                        $('#result').html(textStatus + ' | ' + errorThrown);\n                    }\n                });\n</code></pre>\n\n<p>Here is the PHP code:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;?php\n\n    echo '{\"Id\":0}';\n\n?&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["javascript","jquery","ajax","validation"],"answer_count":7,"favorite_count":5,"up_vote_count":12,"down_vote_count":0,"view_count":16605,"score":12,"question_id":137872,"title":"Can JQuery.Validate plugin prevent submission of an Ajax form","body":"<p>I am using the JQuery form plugin (<a href=\"http://malsup.com/jquery/form/\" rel=\"nofollow\">http://malsup.com/jquery/form/</a>) to handle the ajax submission of a form. I also have JQuery.Validate (<a href=\"http://docs.jquery.com/Plugins/Validation\" rel=\"nofollow\">http://docs.jquery.com/Plugins/Validation</a>) plugged in for my client side validation.</p>\n\n<p>What I am seeing is that the validation fails when I expect it to however it does not stop the form from submitting. When I was using a traditional form (i.e. non-ajax) the validation failing prevented the form for submitting at all.... which is my desired behaviour.</p>\n\n<p>I know that the validation is hooked up correctly as the validation messages still appear after the ajax submit has happened.</p>\n\n<p>So what I am I missing that is preventing my desired behaviour? Sample code below....</p>\n\n<pre><code>&lt;form id=\"searchForm\" method=\"post\" action=\"/User/GetDetails\"&gt;\n        &lt;input id=\"username\" name=\"username\" type=\"text\" value=\"user.name\" /&gt;  \n        &lt;input id=\"submit\" name=\"submit\" type=\"submit\" value=\"Search\" /&gt;   \n&lt;/form&gt;\n&lt;div id=\"detailsView\"&gt;\n&lt;/div&gt;  \n\n&lt;script type=\"text/javascript\"&gt;\n    var options = {\n        target: '#detailsView'\n    };\n    $('#searchForm').ajaxForm(options);\n\n    $('#searchForm').validate({\n    rules: {\n    username: {required:true}},\n    messages: {\n    username: {required:\"Username is a required field.\"}}\n    });\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","jquery","mysql","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13212223,"title":"Data for Json in php jquery","body":"<p>I cant get my values from the database to go into the jquery tags plugin, any help would be great:</p>\n\n<p>PHP:</p>\n\n<pre><code>case 'get_tags':\n        $id         = (isset($_GET['id'])) ? intval($_GET['id']) : 0;\n        $query      = \"SELECT description FROM `tags` WHERE page_id = '?';\";\n        $query_p    = $db-&gt;prep_query($query,array($id));\n        $results    = $db-&gt;queryMakearray($query_p);\n\n        $tags = array_values($results);\n        $response   = json_encode($results);\nbreak;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>$(document).ready(function()\n{\n    var _id = parseInt($.url_param('id'), 10);\n    var _tag_items = $.get('inc/ajax.php?type=get_tags&amp;id='+_id);\n    $('#tags')\n        .textext({\n        plugins : 'tags',\n        tagsItems: _tag_items\n    });\n});\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>\"[{\\\"description\\\":\\\"test\\\"},{\\\"description\\\":\\\"test2\\\"},{\\\"description\\\":\\\"test3\\\"}]\"\n</code></pre>\n\n<p>I need it to look like this:</p>\n\n<pre><code>[\"test\",\"test2\",\"test3\"]\n</code></pre>\n\n<p><em><strong>Edit</em></strong> </p>\n\n<p>PHP:</p>\n\n<pre><code>$id         = (isset($_GET['id'])) ? intval($_GET['id']) : 0;\n        $query      = \"SELECT description FROM `tags` WHERE page_id = '?';\";\n        $query_p    = $db-&gt;prep_query($query,array($id));\n        $results    = $db-&gt;query2array($query_p);\n\n        $tags   = array_values($results);\n        $response = sanitize_output($tags);\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13228485,"title":"Update select contents without reloading form","body":"<p>I have quite a long form which has many HTML form selects pulling data from MySQL tables - quite often a client will be mid way through filling in the form when they realise that the value they want for department, for example, has not yet been entered into the system so is not in the list.</p>\n\n<p>I have added a link to a simplified popup for adding departments but after it is added it does not appear in the select list as the contents of that select are based on what was available on the load of the page when the initial query ran - how can I get the select to update without having to submit and then edit, without the page refreshing/reloading and without the client losing the data they have currently added?</p>\n\n<p>Thanks</p>\n"},{"tags":["jquery","asp.net","asp.net-mvc","ajax","json"],"answer_count":28,"favorite_count":179,"up_vote_count":544,"down_vote_count":1,"view_count":158738,"score":543,"question_id":206384,"title":"How to format a JSON date?","body":"<p>I'm taking my first crack at Ajax with jQuery. I'm getting my data onto my page, but I'm having some trouble with the JSON data that is returned for Date data types. Basically, I'm getting a string back that looks like this:</p>\n\n<pre><code>/Date(1224043200000)/\n</code></pre>\n\n<p>From someone totally new to JSON - How do I format this to a short date format? Should this be handled somewhere in the jQuery code? I've tried the <code>jQuery.UI.datepicker</code> plugin using <code>$.datepicker.formatDate()</code> without any success.</p>\n\n<p>FYI: Here's the solution I came up with using a combination of the answers here:</p>\n\n<pre><code>function getMismatch(id) {\n  $.getJSON(\"Main.aspx?Callback=GetMismatch\", \n    { MismatchId: id },\n\n    function (result) {\n      $(\"#AuthMerchId\").text(result.AuthorizationMerchantId);\n      $(\"#SttlMerchId\").text(result.SettlementMerchantId);\n      $(\"#CreateDate\").text(formatJSONDate(Date(result.AppendDts)));\n      $(\"#ExpireDate\").text(formatJSONDate(Date(result.ExpiresDts)));\n      $(\"#LastUpdate\").text(formatJSONDate(Date(result.LastUpdateDts)));\n      $(\"#LastUpdatedBy\").text(result.LastUpdateNt);\n      $(\"#ProcessIn\").text(result.ProcessIn);\n    }\n  );\n\n  return false;\n}\n\nfunction formatJSONDate(jsonDate) {\n  var newDate = dateFormat(jsonDate, \"mm/dd/yyyy\");\n  return newDate;\n}\n</code></pre>\n\n<p>This solution got my object from the callback method and displayed the dates on the page properly using the date format library.</p>\n"},{"tags":["jquery","ajax","internet-explorer-9"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13227728,"title":"Jquery ajax post not firing in IE9","body":"<p>I have a simple ajax request that works for most of my users.  However, for one user, no ajax request is sent when he clicks the button.  The ajax request fails silently -  no error message.  No network traffic to mydomain.</p>\n\n<p>Here is a simplified version of the problem that still has the error in it.  (i.e. when my user clicks the button nothing happens).  When I click the button, it works.</p>\n\n<p>The javascript:</p>\n\n<pre><code>$(document).ready(function() { \n\n$(\"#message\").html(\"&lt;p&gt;GOT HERE&lt;/p&gt;\");\n\n\n$(\"#analyzebutton\").click(function() {\n\n    $.ajax({\n    url: 'http://www.mydomain.com/myrequest.php' ,\n    type: \"POST\",\n    data: {custclass: 'testclass', text: 'this is a test'},\n    dataType: 'json',\n    success: function(data, textStatus, jqXHR){ var tempp = '&lt;p&gt;SUCCESS!&lt;/p&gt;'; $('#message').html(tempp);\n    },\n    error: function(jqXHR, textStatus, errorThrown) {\n        var tempp = '&lt;p&gt;ERROR!&lt;/p&gt;' +textStatus;\n\n        $('#message').html(tempp);\n    }\n    });\n})\n});\n\nThe relevant HTML is: \n&lt;a href=\"#\" id=\"analyzebutton\"&gt;BUTTON-CLICK THIS TEXT&lt;/a&gt;\n&lt;div id=\"message\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>As extra information:  the real application that I have extracted this from is much more complex than this.  However, on the real page, if my user presses F5 and then clicks the button, the ajax call actually happens correctly.</p>\n\n<p>Both he and I use IE9. It all works for me but not for him.</p>\n\n<p>Any ideas what the difference may be?  My site used to work for him when he had IE8. Now that he has come back a few months later, he is having this problem.</p>\n\n<p>He has no other browsers on his computer, so I don't know how the ajax behaves on another browser.</p>\n"},{"tags":["javascript","jquery","ajax","partial-views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13226479,"title":"Ajax return Partial View lost Javascript","body":"<p>I have a main view which has master layout contains all javascripts, ie jQuery DatePicker control, etc.</p>\n\n<p>Inside this main view, I use Ajax.BeginForm(.....) which contains a partial view. And in my controller, if validation fails it returns that partial view. (also the UpdateTargetId in Ajax has been set the Id of the section contains that partial view.)</p>\n\n<p>My error bullets display correctly. However I found I seems to loose the javascript after that. For example my calender/date picker stops working and it comes a normal input box.</p>\n\n<p>What could be the reason?</p>\n\n<p>Thanks a lot!!</p>\n\n<p><strong>Here is the code:</strong></p>\n\n<p>My main view contains one Ajax form. And inside there are 2 partial views. The 2nd one has datepicker inputs.</p>\n\n<pre><code>@using (Ajax.BeginForm(\"ActionXXX\", \"ControllerYYY\", new AjaxOptions\n{\n    HttpMethod = \"POST\",\n    UpdateTargetId = \"main\"        \n}))\n{\n     &lt;section id=\"main\" class=\".....\" data-section=\".....\" data-step=\"\"&gt;  \n\n            @Html.Partial(\"ValidationSummary\") \n\n            @Html.Partial(\"SharedPartialView\", Model, new ViewDataDictionary {.....})          \n\n     &lt;/section&gt; \n\n}\n</code></pre>\n\n<p>And JS is included in master file. (Main view has Layout for this)</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;   \n\n    $('input.date').watermark('dd/mm/yyyy');\n\n    $('input.date').datepicker({\n        dateFormat: \"dd/mm/yy\",\n        maxDate: 0, \n        onClose: function () { $(this).valid(); } \n    });    \n\n    $('input.time').watermark('hh:mm');\n    $('input.time').timeEntry();\n\n&lt;/script&gt;\n</code></pre>\n\n<p>The controller is just: when validation fails, return partial view (\"SharedPartialView\")</p>\n\n<pre><code>if (Request.IsAjaxRequest())\n    return PartialView(\"SharedPartialView\", ciShareModel); //model\n</code></pre>\n\n<p>These datepicker and watermark jquery do work when page initially loaded.... </p>\n"},{"tags":["jquery","ruby-on-rails","ajax","jquery-ui","jquery-ui-sortable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13214454,"title":"Formatting Parameters for Ajax POST request to Rails Controller - for jQuery-UI sortable list","body":"<p>I'm using the jQuery-UI Sortable Connected Lists.  I'm saving the order of the connected lists to a Rails server.</p>\n\n<p>My approach is to grab the list ID, column ID and index position of each list item. I want to then wrap this into an object that can be passed as a parameter back to the Rails Controller to be saved into the database. So ideally i'm looking to format the parameter like this: <code>Parameters: {\"Activity\"=&gt;[{id:1,column:2,position:1},{id:2,column:2,position:2} ,...]}</code></p>\n\n<p>How do I properly format my parameters to be passed in this Ajax POST request?\nRight now, with the approach below, I'm passing on  <code>Parameters: {\"undefined\"=&gt;\"\"}</code></p>\n\n<p>This is my current jQuery code (Coffeescript) which doesn't work:</p>\n\n<pre><code>jQuery -&gt;\n  $('[id*=\"day\"]').sortable(\n    connectWith: \".day\"\n    placeholder: \"ui-state-highlight\"\n    update: (event, ui) -&gt;\n      neworder = new Array()\n      $('[id*=\"day\"] &gt; li').each -&gt;\n        column = $(this).attr(\"id\")\n        index = ui.item.index() + 1\n        id = $(\"#\" + column + \" li:nth-child(\" + index + \") \").attr('id')\n        passObject={}\n        passObject.id = id\n        passObject.column = column\n        passObject.index = index\n        neworder.push(passObject)\n      alert neworder\n      $.ajax\n        url: \"sort\"\n        type: \"POST\"\n        data: neworder\n    ).disableSelection()\n</code></pre>\n\n<p>My apologies because this seems like a really amateur question but I'm just getting started with programming jQuery and Javascript.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13226548,"title":"Wierd delay in retrieving dom element","body":"<p>I have created a loading screen plugin. The scenario is that i am doing page navigation using ajax loading. So before loading a page using ajax, i would show an loading screen using the code <code>$('body).loadingMask('show')</code> and once the page is loaded completely loaded, i would remove the loading screen using the code <code>$('body').loadingMask('hide)</code>.</p>\n\n<p>The problem is that, there is some delay in retrieving the target dom element inside the plugin.</p>\n\n<p>This is the general structure of the code</p>\n\n<pre><code>$('body').loadingMask('show');\n$.ajax({\nurl : 'views/next.html',\n    async : false,\nsuccess : function(content, textStatus, jqXHR) {\n$('body').append(content);\n},\nerror : function(content, textStatus, jqXHR) {\nthrow \"Unable to load template. Please check the path and name of the template\"\n}\n});\n$('body').loadingMask('hide');\n</code></pre>\n\n<p>The problem is that , inside the show function of the loadingMask plugin, There is a delay in retrieving the target dom element(i.e body) . So pratically, the code <code>$('body).loadingMask('show')</code> runs only after the ajax page is finished loading. </p>\n\n<p>In order to make it work , i have added a time delay. Which seems to work fine.</p>\n\n<p>This is the modified code</p>\n\n<pre><code>$('body').loadingMask('show');\nsetTimeout(function(){\n$.ajax({\nurl : 'views/next.html',\n    async : false,\nsuccess : function(content, textStatus, jqXHR) {\n$('body').append(content);\n},\nerror : function(content, textStatus, jqXHR) {\nthrow \"Unable to load template. Please check the path and name of the template\"\n}\n});\n},500);\n$('body').loadingMask('hide');\n</code></pre>\n\n<p>Now i can see the loading screen, while the page loads. </p>\n"},{"tags":["ajax","asp.net-mvc-3","form-validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13190778,"title":"MVC3 Ajax.BeginForm doesn't show ValidationMessage","body":"<p>I am using MVC3 + Razor. Now I have a form which contains Ajax.BeginForm(...). I following exact what \"Maxim\" said in this post:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3388700/asp-net-mvc-ajax-with-html-validationmessagefor\">ASP.NET MVC AJAX with HTML.ValidationMessageFor</a></p>\n\n<p>And my validation rule is defined like:</p>\n\n<pre><code>ModelState.AddModelError(\"ControlName\", \"error message\");\n</code></pre>\n\n<p>However my </p>\n\n<pre><code>@Html.ValidationMessageFor(model =&gt; Model.OneProperty[0].AnotherProperty) \n</code></pre>\n\n<p>didn't give me anything.</p>\n\n<p>I also put these code into partial-view for \"error summary\" as well. I could see code run through the \"ValidationSummary\" PV, but it just doesn't display.</p>\n\n<pre><code> if (!ViewData.ModelState.IsValid)\n {\n    &lt;div id=\"errorMessage\" class=\"notificationArea\"&gt;\n             @Html.Partial(\"ValidationSummary\")\n    &lt;/div&gt;\n  }\n</code></pre>\n\n<hr>\n\n<p>In short, my main view is this:</p>\n\n<pre><code>@using (Ajax.BeginForm(\"SaveFromMainView\", null, new AjaxOptions\n{\n    HttpMethod = \"POST\",\n    UpdateTargetId = \"myForm\"   \n}, \n    new { id = \"myForm\" }))\n{           \n\n    @Html.Partial(\"SamTest1\")\n}\n</code></pre>\n\n<p>And within this \"SamTest1\" partial-view, there is another \"ValidationSummary\" partial-view to display bullets of error message.</p>\n\n<p>And my action method fianlly:</p>\n\n<pre><code>return PartialView(\"SamTest1\"); \n</code></pre>\n\n<p>Thanks heaps in advance!</p>\n"},{"tags":["ajax","codeigniter","jquery-ajax","uploadify"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13139509,"title":"why i get HTTP Error when try to upload with uploadify","body":"<p>i chosse gallerycms to build my own gallery but when i try to make it as module into my codeigniter cms i get this error  HTTP Error i dont know why i see this error although i was copy all controllers ,models,views,core files ,,and i still see this error </p>\n\n<p>NOTICE: uploadify work good with Gallerycms bu when i want to add it into my cms as module i see this error</p>\n\n<p><img src=\"http://i.stack.imgur.com/b1rMN.png\" alt=\"error capture\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/dlIRk.png\" alt=\"error from chrome console\">\nfirebug code</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$('.btn-group &gt; a').tooltip();\n$('#upload-btn').hide();\n$('#new-images').hide();\n$('a.img-fancy').fancybox();\n$('.image-delete-btn').click(function() {\ndeleteUrl = $(this).attr('action');\n});\n$('#image-modal').on('show', function() {\n$('#image-modal-delete-btn').attr('href', deleteUrl);\n});\n$(\"#sortable\").sortable({\nhandle : '.drag-handle',\nupdate : function () {\nvar order = $('#sortable').sortable('serialize', { key : 'order_num[]' });\n$.ajax({\nurl : 'http://localhost/gallery/album/reorder?' + order,\ntype : 'GET',\ncache : false,\nsuccess : function(response) {\n$('#reorder-feedback').show();\n$('#reorder-feedback').html('&lt;a class=\"close\" data-dismiss=\"alert\"&gt;x&lt;/a&gt;&lt;strong&gt;Changed image order successfully.&lt;/strong&gt;');\n},\nerror : function(jqXHR, textStatus, errorThrown) {\nalert('An error occured when ordering the images.');\n}\n});\n}\n});\n$( \"#sortable\" ).disableSelection();\n$('#file_upload').uploadify({\n'uploader' : 'http://localhost/gallery/webroot/flash/uploadify.swf',\n'script' : 'http://localhost/gallery/api/upload/3',\n'cancelImg' : 'http://localhost/gallery/webroot/images/cancel.png',\n'folder' : '/webroot/uploads',\n'auto' : false,\n'multi' : true,\n'fileExt' : '*.jpg;*.jpeg;*.gif;*.png',\n'fileDesc' : 'Image files',\n'sizeLimit' : 2097152, // 2MB\n'wmode' : 'opaque',\n'onSelect' : function(event, ID, fileObj) {\n$('#upload-btn').show();\n},\n'onCancel' : function(event, ID, fileObj) {\n$('#upload-btn').hide();\n},\n'onError' : function(event, ID, fileObj, errorObj) {\n},\n'onComplete' : function(event, ID, fileObj, response, data) {\nvar fileName = response;\n$('#upload-btn').hide();\n$('#new-images').show();\n$.ajax({\nurl : 'http://localhost/gallery/album/resize/3/' + response,\ntype : 'POST',\ncache : false,\nsuccess : function(response) {\nif (response !== 'failure') {\nvar new_image = '&lt;li&gt;&lt;img src=\"http://localhost/gallery/webroot/uploads/' + response + '\" /&gt;&lt;br /&gt;' + response + '&lt;/li&gt;';\n$('#new-image-list').append(new_image);\n} else {\nvar fail_message = '&lt;li&gt;Thumbnail creation failed for: ' + fileObj.name + '&lt;/li&gt;';\n$('#new-image-list').append(fail_message);\n}\n},\nerror : function(jqXHR, textStatus, errorThrown) {\nalert('Error occurred when generating thumbnails.');\n}\n});\n}\n});\n});\n&lt;/script&gt; \n</code></pre>\n\n<p>api controller</p>\n\n<p>/**\n   * Handles image uploads.\n   *\n   * @param type $album_id \n   */</p>\n\n<pre><code>  public function upload($album_id)\n  {\n    $config = array();\n    $config['upload_path']    = './webroot/uploads/';\n    $config['allowed_types']  = 'gif|jpg|png';\n    $config['max_size']       = '2048'; // 2MB\n    $config['remove_spaces']  = TRUE;\n    $config['encrypt_name']   = TRUE;\n    $config['overwrite']      = FALSE;\n    $this-&gt;load-&gt;library('upload', $config);\n    if ( ! $this-&gt;upload-&gt;do_upload('Filedata'))\n    {\n      header('HTTP/1.1 500 Internal Server Error');\n      exit();\n    }\n    else\n    {\n      $upload_info = $this-&gt;upload-&gt;data();\n\n      $album_config = $this-&gt;config_model-&gt;get_by_album_id($album_id);\n\n      // Insert file information into database\n      $now = date('Y-m-d H:i:s');\n      $order_num = $this-&gt;image_model-&gt;get_last_order_num($album_id);\n      if (empty($order_num))\n      {\n        $order_num = 0;\n      }\n      $order_num++;\n      $image_data = array(\n      'album_id'       =&gt; $album_id,\n      'uuid'           =&gt; $this-&gt;create_uuid(),\n      'name'           =&gt; $upload_info['file_name'],\n      'order_num'      =&gt; $order_num,\n      'caption'        =&gt; '',\n      'raw_name'       =&gt; $upload_info['raw_name'],\n      'file_type'      =&gt; $upload_info['file_type'],\n      'file_name'      =&gt; $upload_info['file_name'],\n      'file_ext'       =&gt; $upload_info['file_ext'],\n      'file_size'      =&gt; $upload_info['file_size'],\n      'path'           =&gt; $config['upload_path'],\n      'full_path'      =&gt; $upload_info['full_path'],\n      'published'      =&gt; $album_config-&gt;auto_publish,\n      'created_at'     =&gt; $now,\n      'updated_at'     =&gt; $now,\n      );\n\n      $image_id = $this-&gt;image_model-&gt;create($image_data);\n\n\n      $this-&gt;album_model-&gt;update(array('updated_at' =&gt; $now), $album_id);\n\n      echo $image_id;\n    }\n  }\n\n\n\n\n}\n</code></pre>\n\n<p>views/images.php</p>\n\n<pre><code>&lt;?php\n$includes = array(\n    'js' =&gt; array('jquery-ui-1.8.18.custom.min.js', 'swfobject.js', 'jquery.uploadify.v2.1.4.min.js', 'fancybox/jquery.fancybox-1.3.4.pack.js'), \n    'css' =&gt; array('uploadify.css', 'fancybox/jquery.fancybox-1.3.4.css'));\n?&gt;\n&lt;?php $this-&gt;load-&gt;view('album/inc/header', $includes); ?&gt;\n\n&lt;?php if (isset($flash)): ?&gt;\n&lt;div class=\"alert alert-success\"&gt;&lt;a class=\"close\" data-dismiss=\"alert\"&gt;x&lt;/a&gt;&lt;strong&gt;&lt;?php echo $flash; ?&gt;&lt;/strong&gt;&lt;/div&gt;\n&lt;?php endif; ?&gt;\n\n&lt;div class=\"w100\" style=\"margin-bottom: 10px;\"&gt;\n\n  &lt;ul class=\"pager\"&gt;\n    &lt;li class=\"previous\"&gt;\n        &lt;a href=\"&lt;?php echo base_url('album'); ?&gt;\"&gt;&amp;larr; Back to albums&lt;/a&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;div class=\"well\"&gt;\n    &lt;h4 style=\"margin-bottom: 10px;\"&gt;Upload images for album: &lt;?php echo $album-&gt;name; ?&gt;&lt;/h4&gt;\n    &lt;input id=\"file_upload\" type=\"file\" name=\"file_upload\" /&gt;\n    &lt;p id=\"upload-btn\" style=\"margin:10px 0;\"&gt;\n      &lt;a href=\"javascript:$('#file_upload').uploadifyUpload()\" class=\"btn btn-primary btn-large\"&gt;Upload Files&lt;/a&gt;\n    &lt;/p&gt;\n    &lt;div id=\"new-images\"&gt;\n      &lt;h4&gt;Uploaded Images&lt;/h4&gt;\n      &lt;p&gt;&lt;a class=\"btn\" href=\"&lt;?php echo site_url(\"album/images/$album-&gt;id\"); ?&gt;\" style=\"margin: 10px 0;\"&gt;&lt;i class=\"icon-refresh\"&gt;&lt;/i&gt; Refresh&lt;/a&gt;&lt;/p&gt;\n      &lt;ul id=\"new-image-list\"&gt;&lt;/ul&gt;\n      &lt;div class=\"clear\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div id=\"reorder-feedback\" class=\"alert alert-success\" style=\"display: none;\"&gt;&lt;/div&gt;\n\n&lt;span class=\"left w75\"&gt;\n  &lt;?php \n  $total_file_size = 0;\n  $total_images = 0;\n  $img_url = '';\n  ?&gt;\n  &lt;?php if (isset($images)): ?&gt;\n  &lt;ul id=\"sortable\"&gt;\n    &lt;?php foreach ($images as $image): ?&gt;\n    &lt;?php \n    $total_file_size += $image-&gt;file_size; \n    $total_images++;\n    $img_url = base_url() . 'webroot/uploads/' . $image-&gt;file_name;\n    ?&gt;\n    &lt;li id=\"image_&lt;?php echo $image-&gt;id; ?&gt;\" class=\"ui-state-default\" style=\"height: &lt;?php echo $config-&gt;thumb_height + 10; ?&gt;px\"&gt;\n      &lt;div class=\"drag-handle\" style=\"height: &lt;?php echo $config-&gt;thumb_height + 5; ?&gt;px\"&gt;&lt;/div&gt;\n      &lt;div class=\"image-container\"&gt;\n        &lt;a class=\"album-images img-fancy thumbnail\" href=\"&lt;?php echo $img_url; ?&gt;\" title=\"&lt;?php echo $image-&gt;caption; ?&gt;\"&gt;\n          &lt;img src=\"&lt;?php echo base_url() . 'webroot/uploads/' . $image-&gt;raw_name . '_thumb' . $image-&gt;file_ext . '?r=' . rand(); ?&gt;\" alt=\"&lt;?php echo $image-&gt;caption; ?&gt;\" /&gt;\n        &lt;/a&gt;\n      &lt;/div&gt;\n      &lt;div class=\"info\" style=\"left: &lt;?php echo $config-&gt;thumb_width + 50; ?&gt;px\"&gt;\n        File name: &lt;?php echo $image-&gt;name; ?&gt;&lt;br /&gt;\n        Caption: \n          &lt;?php if (empty($image-&gt;caption)): ?&gt;\n            &lt;a href=\"&lt;?php echo site_url(\"image/edit/$album-&gt;id/$image-&gt;id\"); ?&gt;\"&gt;Create one&lt;/a&gt;\n          &lt;?php else: ?&gt;\n            &lt;?php echo $image-&gt;caption; ?&gt; \n          &lt;?php endif; ?&gt;\n          &lt;br /&gt;\n        &lt;?php /* Comments: &lt;?php echo $image-&gt;comments; ?&gt;&lt;br /&gt; */ ?&gt;\n        File size: &lt;?php echo $image-&gt;file_size; ?&gt; KB&lt;br /&gt;\n      &lt;/div&gt;\n      &lt;div class=\"btn-group\"&gt;\n        &lt;a href=\"&lt;?php echo $img_url; ?&gt;\" class=\"btn img-fancy\" rel=\"tooltip\" data-original-title=\"Preview\"&gt;&lt;i class=\"icon-zoom-in\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;a href=\"&lt;?php echo site_url(\"image/download/$image-&gt;id\"); ?&gt;\" class=\"btn\" title=\"Download\" rel=\"tooltip\" data-original-title=\"Download\"&gt;&lt;i class=\"icon-download-alt\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;a href=\"&lt;?php echo site_url(\"image/edit/$album-&gt;id/$image-&gt;id\"); ?&gt;\" class=\"btn\" title=\"Edit\" rel=\"tooltip\" data-original-title=\"Edit\"&gt;&lt;i class=\"icon-pencil\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;?php /* &lt;a href=\"&lt;?php echo site_url(\"image/comments/$album-&gt;id/$image-&gt;id\"); ?&gt;\" class=\"btn\" title=\"Comments\" rel=\"tooltip\" data-original-title=\"Comments\"&gt;&lt;i class=\"icon-comment\"&gt;&lt;/i&gt;&lt;/a&gt; */ ?&gt;\n        &lt;?php if ($image-&gt;published == 1): ?&gt;\n        &lt;a href=\"&lt;?php echo site_url(\"image/unpublish/$album-&gt;id/$image-&gt;id\"); ?&gt;\" class=\"btn btn-success\" title=\"Published\" rel=\"tooltip\" data-original-title=\"Published\"&gt;&lt;i class=\"icon-ok icon-white\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;?php else: ?&gt;\n        &lt;a href=\"&lt;?php echo site_url(\"image/publish/$album-&gt;id/$image-&gt;id\"); ?&gt;\" class=\"btn\" title=\"Unpublished\" rel=\"tooltip\" data-original-title=\"Unpublished\"&gt;&lt;i class=\"icon-ok\"&gt;&lt;/i&gt;&lt;/a&gt;\n        &lt;?php endif; ?&gt;\n        &lt;a href=\"#image-modal\" class=\"btn btn-danger image-delete-btn\" title=\"Delete\" rel=\"tooltip\" action=\"&lt;?php echo site_url(\"image/remove/$album-&gt;id/$image-&gt;id\"); ?&gt;\" data-toggle=\"modal\" data-original-title=\"Delete\"&gt;&lt;i class=\"icon-remove icon-white\"&gt;&lt;/i&gt;&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/li&gt;\n    &lt;?php endforeach; ?&gt;\n  &lt;/ul&gt;\n  &lt;?php endif; ?&gt;\n&lt;/span&gt;\n&lt;span class=\"right w20\"&gt;\n  &lt;div class=\"well sidebar-nav\"&gt;\n    &lt;ul class=\"nav nav-list\"&gt;\n      &lt;li class=\"nav-header\"&gt;&lt;?php echo $album-&gt;name; ?&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"&lt;?php echo site_url(\"album/edit/$album-&gt;id\"); ?&gt;\"&gt;&lt;i class=\"icon-pencil\"&gt;&lt;/i&gt;Rename&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"&lt;?php echo site_url(\"album/configure/$album-&gt;id\"); ?&gt;\"&gt;&lt;i class=\"icon-cog\"&gt;&lt;/i&gt;Configure&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=\"nav-header\"&gt;Info&lt;/li&gt;\n      &lt;li&gt;Images: &lt;?php echo $total_images; ?&gt;&lt;/li&gt;\n      &lt;li&gt;Album file size: &lt;?php echo round($total_file_size / 1024, 2); ?&gt; MB&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/span&gt;\n&lt;div class=\"clear\"&gt;&lt;/div&gt;\n\n&lt;div class=\"modal hide fade\" id=\"image-modal\"&gt;\n  &lt;div class=\"modal-header\"&gt;\n    &lt;a class=\"close\" data-dismiss=\"modal\"&gt;×&lt;/a&gt;\n    &lt;h3&gt;Delete Image&lt;/h3&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-body\"&gt;\n    &lt;p&gt;&lt;strong&gt;Are you sure you want to delete this image?&lt;/strong&gt;&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n    &lt;a id=\"image-modal-delete-btn\" href=\"#\" class=\"btn btn-danger\"&gt;Delete&lt;/a&gt;\n    &lt;a href=\"#\" class=\"btn\" data-dismiss=\"modal\"&gt;Cancel&lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n  $('.btn-group &gt; a').tooltip();\n  $('#upload-btn').hide();\n  $('#new-images').hide();\n\n  $('a.img-fancy').fancybox();\n\n  $('.image-delete-btn').click(function() {\n    deleteUrl = $(this).attr('action');\n  });\n\n  $('#image-modal').on('show', function() {\n    $('#image-modal-delete-btn').attr('href', deleteUrl);\n  });\n\n  $(\"#sortable\").sortable({\n    handle : '.drag-handle',\n    update : function () { \n      var order = $('#sortable').sortable('serialize', { key : 'order_num[]' }); \n      $.ajax({\n        url          : '&lt;?php echo base_url(); ?&gt;album/reorder?' + order,\n        type         : 'GET',\n        cache        : false,\n        success      : function(response) {\n          $('#reorder-feedback').show();\n          $('#reorder-feedback').html('&lt;a class=\"close\" data-dismiss=\"alert\"&gt;x&lt;/a&gt;&lt;strong&gt;Changed image order successfully.&lt;/strong&gt;');\n        },\n        error        : function(jqXHR, textStatus, errorThrown) {\n          alert('An error occured when ordering the images.');\n        }\n      });\n    }\n  });\n\n  $( \"#sortable\" ).disableSelection();\n\n\n  $('#file_upload').uploadify({\n    'uploader'       : '&lt;?php echo base_url(); ?&gt;webroot/flash/uploadify.swf',\n    'script'         : '&lt;?php echo base_url(); ?&gt;album/api/upload/&lt;?php echo $album-&gt;id;  ?&gt;',\n    'cancelImg'      : '&lt;?php echo base_url(); ?&gt;webroot/images/cancel.png',\n    'folder'         : '/webroot/uploads',\n    'auto'           : false,\n    'multi'          : true,\n    'fileExt'        : '*.jpg;*.jpeg;*.gif;*.png',\n    'fileDesc'       : 'Image files',\n    'sizeLimit'      : 2097152, // 2MB\n    'wmode'          : 'opaque',\n    'onSelect'       : function(event, ID, fileObj) {\n      $('#upload-btn').show();\n    },\n    'onCancel'       : function(event, ID, fileObj) {\n      $('#upload-btn').hide();\n    },\n    'onError'        : function(event, ID, fileObj, errorObj) {\n\n    },\n    'onComplete'     : function(event, ID, fileObj, response, data) {\n      var fileName = response;\n      $('#upload-btn').hide();\n      $('#new-images').show();\n      $.ajax({\n        url          : '&lt;?php echo base_url(); ?&gt;album/resize/&lt;?php echo $album-&gt;id; ?&gt;/' + response,\n        type         : 'POST',\n        cache        : false,\n        success      : function(response) {\n          if (response !== 'failure') {\n            var new_image = '&lt;li&gt;&lt;img src=\"&lt;?php echo base_url(); ?&gt;webroot/uploads/' + response + '\" /&gt;&lt;br /&gt;' + response + '&lt;/li&gt;';\n            $('#new-image-list').append(new_image);\n          } else {\n            var fail_message = '&lt;li&gt;Thumbnail creation failed for: ' + fileObj.name + '&lt;/li&gt;';\n            $('#new-image-list').append(fail_message);\n          }\n        },\n        error        : function(jqXHR, textStatus, errorThrown) {\n          alert('Error occurred when generating thumbnails.');\n        }\n      });\n    }\n  });\n});\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","javascript","jquery","ajax","jqgrid"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":550,"score":0,"question_id":9092132,"title":"External Paging for JqGrid-Jquery in Java","body":"<p>I have developed code as below</p>\n\n<pre><code>jQuery(document).ready(function(){\n               jQuery(\"#records\").jqGrid({\n                height:350,\n                datatype: 'local',\n                colNames:['Policy Name','Policy Type', 'Time allowed (HH:mm)','Expiration Duration (days)','Session Pulse(minutes)','Description'],\n                colModel :[ \n                    {name:'pName', index:'pName', editable:true,sorttype:'text',width:150,editoptions:{size:10},formatter:'showlink',formatoptions:{baseLinkUrl:'javascript:' , showAction: \"GetAndShowUserData(jQuery('#list2'),'\",addParam: \"');\"}},\n                    {name:'pType', index:'pType', sorttype:'text',editable:true,width:150,editoptions:{size:10}},\n                    {name:'timeAllowed', index:'timeAllowed', sorttype:'text',editable:true,width:200, align:\"right\",editoptions:{size:10}},\n                    {name:'expDuration', index:'expDuration',  sorttype:'text',editable:true,width:200, align:\"right\",editoptions:{size:10}},       \n                    {name:'sessionPulse', index:'sessionPulse',sorttype:'int',editable:true,width:200, align:\"right\",editoptions:{size:10}},        \n                    {name:'description', index:'description', sortable:false,editable:true,width:200,editoptions:{size:10}}],\n                pager:jQuery('#pager'),\n                rowNum:10,\n                sortname: 'pName',\n                autowidth:true,\n                altRows:true,\n                drag:true,\n                sortorder: \"asc\",\n                rowList:[2,5,10,20],\n                viewrecords: true,\n                loadonce:false,\n                multiselect: true,\n        /*\n                onSelectRow: function(id){\n                    var gr = jQuery(\"#records\").jqGrid('getGridParam','selrow');\n                    if( gr != null ) jQuery(\"#records\").jqGrid('editGridRow',gr,{height:280,reloadAfterSubmit:false});\n                    else alert(\"Please Select Row\");\n                },\n                editurl: \"server.php\",\n        */\n                caption:'Manage Policy'\n              }); \n            });\n</code></pre>\n\n<p>Now, my question is I want to call ajax request to Servlet for next recods when user press >> (next) button of the JQgrid. I have searched much on internet but I found many code in PHP, but I can not understand that PHP, I want to develop that thing in Java. So how can I do that please suggest me.</p>\n"},{"tags":["ajax","postgresql","npgsql"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":13207000,"title":"Connect to PostgreSQL using VB.NET, AJAX and NPGSQL","body":"<p>I am trying to write a script in VB.NET and/or .asp that will connect to my PostgreSQL database using the NPGSQL data provider. </p>\n\n<p>This function uses AJAX to get a value (selectedFT) and send that value to the helloWorld.asp script.  This part works fine. </p>\n\n<pre><code>function ajaxyThing (selectedFT) {\n\nvar xmlhttp; //CREATE THE VARIABLE TO HOLD THE XMLHTTPRequest OBJEcT\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari THESE BROWSERS SUPPORT THE   XMLHTTPRequest OBJECT\n  xmlhttp=new XMLHttpRequest();  //CREATE THE XMLHTTPRequest OBJECT\n  }\nelse\n {// code for IE6, IE5 THESE BROWSERS DO NOT SUPPORT THE XMLHTTPRequest OBJECT AND NEED    AND ACTIVEXOBJECT\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\"); //CREATE THE ActiveXObject\n  }\n//When using Async = true specify a function to execute when the reponse is ready in     the onreadystatechange event\nxmlhttp.onreadystatechange = function () {\nif (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {\n    document.getElementById(\"responseText\").innerHTML = xmlhttp.responseText;\n}\n}\n\n//TO SEND A REQUEST TO A SERVER, WE USE THE open() AND send() METHODS OF THE     XMLHttpRequest object\nxmlhttp.open(\"GET\", \"helloWorld.asp?q=\"+ selectedFT, true);\nxmlhttp.send();\n}\n</code></pre>\n\n<p>Next I need the ASP script (or an .aspx, or an .ashx. I don't know what is the best way) to use the selectedFT value to query my PostgreSQL database. This is where I run into trouble. I know I need to do the following things but I don't know how to put it all together:</p>\n\n<p>1) Get the value from the AJAX http request. For example I should probably use:</p>\n\n<pre><code>response.expires=-1\nq= request.querystring(\"q\")\n</code></pre>\n\n<p>2) Then I need to establish the connection to the PostgreSQL database. I use the following code (taken from this website <a href=\"http://www.techrepublic.com/article/easily-integrate-postgresql-with-net/6102826\" rel=\"nofollow\">http://www.techrepublic.com/article/easily-integrate-postgresql-with-net/6102826</a>) to run in the PageLoad of a standard .aspx page and it works fine to bind the data to a gridview. But what I really need is not to connect the result set to a gridview but have my connection script stand alone so I can use the output to do many different things.   I am not sure how to implement this code in an .asp script (or .aspx, or .ashx) and make it run when I call the .asp script (or .aspx or .ashx) from my AJAX function.</p>\n\n<pre><code> Private Sub Page_Load(ByVal sender As System.Object, ByVal e As System.EventArgs)Handles MyBase.Load\n\n    Dim pgConnection As NpgsqlConnection = New NpgsqlConnection\n    Dim pgCommand As NpgsqlCommand = New NpgsqlCommand\n    Dim pgConnectionString As String\n    Dim sda As NpgsqlDataAdapter\n\n    Dim ds As DataSet\n    ds = New DataSet\n\n    pgConnectionString = \"Server=localhost;Port=5432;Userid=myUserId;Database=myDatabaseName;password=myPassword;Protocol=3;SSL=false;Pooling=true;MinPoolSize=1;MaxPoolSize=20;Encoding=UNICODE;Timeout=15;SslMode=Disable\"\n    pgConnection.ConnectionString = pgConnectionString\n    pgConnection.Open()\n    pgCommand.Connection = pgConnection\n    pgCommand.CommandType = CommandType.Text\n\n    pgCommand.CommandText = \"SELECT * FROM \"\"myTable\"\";\"\n\n    If pgConnection.FullState = ConnectionState.Open Then\n        MsgBox(\"Connection To PostGres is open\", MsgBoxStyle.MsgBoxSetForeground)\n    End If\n\n    sda = New NpgsqlDataAdapter(pgCommand)\n    sda.Fill(ds)\n    GridView1.DataSource = ds\n    GridView1.DataBind()\n\n    pgConnection.Close()\nEnd sub\n</code></pre>\n\n<p>Any suggestions would be greatly appreciated. Thanks! </p>\n"},{"tags":["javascript","ajax","web-services","dictionaries","wiktionary"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11528268,"title":"Does a free word reference (dictionary) web service exist?","body":"<p>In a educational site, I need to search for the definition of a selected word in a dictionary (preferably a Spanish dictionary). The dictionary service can be a web service or something that can be accesed by Ajax.</p>\n\n<p>Edit: not a translating dictonary, a monolingual dictionary (ie. Spanish-Spanish)</p>\n"},{"tags":["php","jquery","ajax","time","response"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":723,"score":2,"question_id":5728833,"title":"AJAX response time","body":"<p>How I can calculate AJAX response time? I need this in script, because I get back the server timestamp, but if the request take more than 1 second I need to add 1 second to the timestamp!</p>\n"},{"tags":["jquery","ruby-on-rails","ajax","ruby-on-rails-3","jquery-ui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13225523,"title":"jQuery AJAX POST to Rails Controller. Error when doing each_with_index (TypeError can't convert Symbol into Integer)","body":"<p>I'm trying to save the position of a jQuery-UI sortable connected list to a Rails backend. I'm having trouble with the Rails Controller action when trying to save the parameters to database.  The error that I am getting is <code>TypeError (can't convert Symbol into Integer):</code></p>\n\n<p>The parameter from the Ajax POST request that I'm sending in looks like this which looks fine:</p>\n\n<pre><code>Activity:[{\"id\":\"65\",\"column\":\"48\"},{\"id\":\"65\",\"column\":\"48\"},{\"id\":\"67\",\"column\":\"48\"}]\n</code></pre>\n\n<p>My Rails controller action is this (I'm trying to update an Activity with an id of 'id' and updating the attributes position with 'position' and day_id with 'column':</p>\n\n<pre><code>  def sort\n    JSON.parse(params[:Activity]).each_with_index do |x, index|\n      id = x[\"id\"]\n      position = index+1\n      column = x[\"column\"]\n      Activity.update_all(position = position, day_id = column, id = id)\n    end\n    render nothing: true\n  end\n</code></pre>\n\n<p>I'm getting this error in  Terminal:</p>\n\n<pre><code>    Started POST \"/trips/sort\" for 10.0.2.2 at 2012-11-04 23:52:30 +0000\nProcessing by TripsController#sort as */*\n  Parameters: {\"Activity\"=&gt;\"[{\\\"id\\\":\\\"66\\\",\\\"column\\\":\\\"49\\\"},{\\\"id\\\":\\\"66\\\",\\\"column\\\":\\\"49\\\"},{\\\"id\\\":\\\"67\\\",\\\"column\\\":\\\"49\\\"}]\"}\nCompleted 500 Internal Server Error in 1ms\n\nTypeError (can't convert Symbol into Integer):\n</code></pre>\n\n<p>This is my jQuery AJAX call if helpful:</p>\n\n<pre><code>    jQuery -&gt;\n  $('[id*=\"day\"]').sortable(\n    connectWith: \".day\"\n    placeholder: \"ui-state-highlight\"\n    update: (event, ui) -&gt;\n      neworder = new Array()\n      $(this).children().each -&gt;\n        column = $(this).parent().attr(\"id\").match(/\\d+/)[0]\n        id = $(this).attr(\"id\").match(/\\d+/)[0]\n        neworder.push(\n          id: id\n          column: column\n        )\n      alert neworder\n      $.ajax\n        url: \"sort\"\n        type: \"POST\"\n        data: { Activity: JSON.stringify(neworder) }\n    ).disableSelection()\n</code></pre>\n\n<p>I've spent the past few hours on this and just can't figure it out.  I really appreciate the time and help.</p>\n"},{"tags":["ajax","jquery-ui","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13175268,"title":"AJAX content in a jQuery UI Tooltip Widget","body":"<p>There is a new Tooltip Widget in jQuery UI 1.9, whose <a href=\"http://api.jqueryui.com/tooltip/\" rel=\"nofollow\">API docs</a> hint that AJAX content can be displayed in it, but without any further details. I guess I can accomplish something like that with a synchronous and blocking request, but this isn't what I want.</p>\n\n<p>How do I make it display any content that was retrieved with an asynchronous AJAX request?</p>\n"},{"tags":["php","mysql","ajax","authorization","sessionid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12682923,"title":"Store PHP session_id in MySQL for AJAX authorization?","body":"<p>Not too clear on how to authorize PHP AJAX calls with session_id or against any $_SESSION variables actually.</p>\n\n<p>Should it be stored in the database upon login and referenced against a $_SESSION storage on each AJAX call?</p>\n\n<p>I know these subjects have probably been discussed ad infinitum, but I can't seem to find a clear answer.</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>Revelation</strong></p>\n\n<p>Wow, so authorization is limited to whether or not there's a session?  Scary.  Makes me wonder if that's all that .net's web.config's deny=\"?\" is doing.  Thanks all for your help!</p>\n"},{"tags":["ajax","json","dojo","amd"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13215705,"title":"pass info from one Dojo AMD module to another","body":"<p>I am playing with modules in Dojo 1.8 and I have a module defined like this:</p>\n\n<pre><code>define([\"dojo/request/xhr\", \"dojo/json\"],\n  function(xhr, JSON) {\n\n  var url = \"server/provider.php\";\n\n  return {\n    files: {},\n\n    getDirList: function() {\n      var self = this;\n      xhr(url).then(function(response) {\n        response = JSON.parse(response);\n        // would love to return the JSON for use here\n      }, function(err) {\n        console.error(err);\n      });\n    }\n  };\n\n});\n</code></pre>\n\n<p>I have another module in which I'd love to call that method and then use it:</p>\n\n<pre><code>define([\"dojo/dom\",\n        \"dojo/dom-construct\",\n        \"dojo/_base/array\",\n        \"afm/utils\"\n        ],\nfunction(dom,domConst,array, utils) {\n  return {\n    produceHtml: function() {\n      var json = utils.getDirList(); //this returns undefined\n      var dirLength = json.length;\n      console.log(json);\n      for (var i = 0; i &lt; json.length; i++) {\n        if(i % 2 === 0) {\n          domConst.place('&lt;tr class=\"even\"&gt;&lt;td&gt;' + json[i].name + '&lt;/td&gt;&lt;/tr&gt;', 'output');\n        } else {\n          domConst.place('&lt;tr&gt;&lt;td&gt;' + json[i].name + '&lt;/td&gt;&lt;/tr&gt;', 'output');\n        }\n      }\n\n    }\n  };\n});\n</code></pre>\n\n<p>Naturally I could just put the DOM creation code INTO the util module, but that is mixing view logic where it shouldn't be. And it's hideous if I want to reuse the util.getDirList method.</p>\n\n<p>How can I use the JSON that gets returned by that method? Is anyone else doing this?</p>\n"},{"tags":["ajax","api","codeigniter","session"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13222169,"title":"where should i set the session api and client","body":"<p>Here is the situation, I have setup 2 codeigniter installation.</p>\n\n<p>One will be a client and one will be an api. Further improvement of this will be</p>\n\n<ol>\n<li>The client will no longer be made from CI, since I wasn't using it's functionality. I just wanted to start out from a mvc framework right on.</li>\n</ol>\n\n<p>My question would be where should I be storing sessions? during logins.</p>\n\n<p>Below is how I did it, but I think I did it wrong.</p>\n\n<ol>\n<li>I created a Login from the <strong>client</strong>. This one sends the login credentials to the <strong>api</strong> and then validated these information sent by the <strong>client</strong> and will return a <em>message/response</em> whethere the login credentials were valid or not.</li>\n</ol>\n\n<p>If the login details were valid, the <strong>api</strong> will set a session in it's controller like this</p>\n\n<pre><code>if(true) {\n    $this-&gt;session-&gt;set_userdata($array);\n}\n</code></pre>\n\n<p>This is in the <code>login_controller</code> I created. Is this the proper way of setting sessions for a <strong>client</strong> of a api? </p>\n"},{"tags":["php","jquery","ajax","session"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13224197,"title":"Handling PHP sessions with Jquery and Ajax","body":"<p>So im trying to figure out whats wrong here!</p>\n\n<p>Im using Ajax to log users in and out and refresh some part of the document as they do. Everything is working fine but when i log out i have to click my link twice in order to see the changes.</p>\n\n<p>It look like im destroying the session after all the instruction have been completed.</p>\n\n<p>Here is how it work (or almost!)</p>\n\n<p>The document html/php</p>\n\n<pre><code>   &lt;div id=\"top\"&gt;  \n&lt;?php \n$top = new top();\n$top-&gt;display();\n?&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So im just calling a class that make the content of the top of the document and this is working fine.</p>\n\n<p>In the top when your logged in you have the logout option and the following jquery/ajax call</p>\n\n<pre><code> $(\"#unlog\").live(\"click\",function(){\n     req_content(\"top\",\"user\",\"logout\",\"goodbye\");\n       });\n</code></pre>\n\n<p>So when i click logout i run req_content() function and this is all working well</p>\n\n<p>Now when i click it y run my kinda ajax_query responder</p>\n\n<pre><code>if($ajax_action=='logout'){\n\n     unset($_SESSION['user']);\n     session_destroy();\n\nrequire('class.php');\n\n$top=new top();\n$top-&gt;display();\n\n }\n</code></pre>\n\n<p>Now what happend is that i run the query but the page kinda refresh before the session var is actualy destroyed. If i click it a second time it is working as expected becuse the session is already destroyed.</p>\n\n<p>Anyone can explain this? The process is the same with my login and it is working fine.</p>\n\n<p>The req_content() function</p>\n\n<pre><code>function req_content(box,user,action,query) {\n\n    var xhr = getXMLHttpRequest();\n    document.getElementById(box).innerHTML=\"&lt;img src='img/load.gif' alt'Loading....'&gt;\";\n    xhr.onreadystatechange = function() {\n\n        if (xhr.readyState == 4 &amp;&amp; (xhr.status == 200 || xhr.status == 0)) {\n            document.getElementById(box).innerHTML=xhr.responseText;\n        }\n\n\n\n\n\n    };\n\n    var sVar1 = encodeURIComponent(box);     /* Endroit ou on demande le contenu*/\n    var sVar2 = encodeURIComponent(user);    /* Qui demande le contenu(facultatif)*/\n    var sVar3 = encodeURIComponent(action);  /* Quel action veut-on effectuer*/\n    var sVar4 = encodeURIComponent(query);   /* La requete pour efectuer l'action*/\n\n    xhr.open(\"GET\", \"ajax_http.php?box=\" + sVar1 + \"&amp;user=\" + sVar2 + \"&amp;action=\" + sVar3 +\"&amp;query=\" + sVar4, true);\n    xhr.send(null);\n\n}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","firefox","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13095105,"title":"JS: Cross Browser Compatibility - my JS works in chrome, not in FF","body":"<p>I've got some JS which works in Chrome, but not in FireFox, and I'm too inexperienced in JS to be able to troubleshoot this without some assistance.</p>\n\n<p>I tested it from <code>localhost</code> on my dev machine <strong><em>and</em></strong> from its deployed location (on our internal intranet) ... same results in both cases.</p>\n\n<p>In chrome, it does exactly what I expect. It asynchronously catches a JSON object from the API and splashes it for the user.<br>\nIn FF, it takes the user to the target API URL. No <em>\"asynchronisity\"</em>.</p>\n\n<p>What tweaks can I do to support FF too??<br>\n(fortunately, FF &amp; Chm are the only two I <em><strong>need</strong></em> to code against).</p>\n\n<p>Any and all help will be greatly appreciated.</p>\n\n<pre><code>var submit_map_url = 'blahblah';  // dynamically generated by PHP\n$('#mapper_form').submit(function() { \n    event.preventDefault();\n    $.ajax({\n        type:'POST',\n        url: submit_map_url, \n        data:$('#mapper_form').serialize(),\n        success: function(response) {\n            var response = $.parseJSON(response);\n\n\n            if(response.status == 'failure'){\n                alert(response.message); \n            }else{\n                var doRedirect = true;\n\n                $('#splash').fadeIn(800, function() {  // fade in\n                    window.setTimeout ( function() {  // start a timer for auto redirect\n                        $('#splash').fadeOut(1000, function() {  // fade out\n                            if(doRedirect) window.location = redirect_target;  // then redirect\n                        }) }\n                    , 4000);  // \n                 });\n\n                $('#splash').click(function(){  // on click\n                    doRedirect = false;  // cancel the redirect request\n                     $(this).fadeOut(700,function() {});  // and fade out\n                 });\n\n                 $('#countdown').countdown({until: +5, format: 'S'});\n\n            }  // end IF/ELSE\n        }  // end success:\n    });  // ajax\n    return false;\n});\n</code></pre>\n"},{"tags":["jquery","ajax","coldfusion","svg","batik"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13212838,"title":"Trouble using SVG retrieved from database (UTF-8 error)","body":"<p>I'm getting an error \"Invalid byte 2 of 3 byte UTF-8 sequence\" when I try to use SVG code retrieved from a SQL table in a Batik transcoding.</p>\n\n<p>A svg drawing pulled from the DOM by jQuery and is sent to a cfc via jQuery Ajax where it is updated into a SQL table. On another separate page the SVG code is queried from the table and I attempt to use Batik to transcode it into a PNG file. At that point I'm getting the Invalid UTF-8 Sequence error.</p>\n\n<p>Code to save the data:</p>\n\n<pre><code>var lclSVG = $('#holderDiv')[0].innerHTML;\n$.ajax({ \ntype: \"POST\",\nurl: \"dbNIS.cfc?method=saveSketch\", \ndata: ({orderID: ordID, sketch_svg: lclSVG}),\ndataType: \"json\",\nsuccess: function(saveData) {alert(saveData.CODE);}\n});\n</code></pre>\n\n<p>Code from CFC where SVG code is saved into table:</p>\n\n<pre><code>&lt;cffunction name=\"saveSketch\" access=\"remote\" output=\"no\" returntype=\"struct\" returnFormat=\"JSON\"&gt;\n&lt;cfargument name=\"orderID\" type=\"string\" default=\"\" required=\"Yes\" hint=\"Order ID\"&gt;\n&lt;cfargument name=\"sketch_svg\"  type=\"string\" default=\"\" required=\"Yes\" hint=\"Sketch SVG Data\"&gt;\n&lt;CFQUERY NAME=\"updateSketch\"&gt;\n  UPDATE sketch\n  SET sketch_svg = '#arguments.sketch_svg#'\n  WHERE  ordID = #arguments.orderID#\n&lt;/CFQUERY&gt;\n&lt;/cffunction&gt;\n</code></pre>\n\n<p>Code where SVG is retrieved from table and used in transcoding to PNG:</p>\n\n<pre><code>&lt;CFQUERY NAME=\"getSketch\"&gt;\n  SELECT sketch_svg AS svg\n  FROM sketch\n  WHERE  ordID = 1\n&lt;/CFQUERY&gt;\n&lt;cfscript&gt;\n  transcoder = createObject(\"java\", \"org.apache.batik.transcoder.image.PNGTranscoder\").init();\n  inputStream = createObject(\"java\", \"java.io.StringBufferInputStream\").init(getSketch.svg);\n  input = createObject(\"java\", \"org.apache.batik.transcoder.TranscoderInput\").init(inputStream);\n  OutFile = expandPath(\"myTest.png\");\n  outputStream=CreateObject(\"java\", \"java.io.FileOutputStream\").init(OutFile);\n  output=CreateObject(\"java\", \"org.apache.batik.transcoder.TranscoderOutput\").init(outputStream);\n  transcoder.transcode(input, output);\n  outputStream.close();\n&lt;/cfscript&gt;\n</code></pre>\n\n<p>NOTE: I've instead tried sending the svg to an action page where I update it into a table, immediately retrieve it from that table, and then transcode it which works fine. So it seems to me that I must be doing something wrong with the charset when sending through ajax, or when updating/retrieving from the table. Please help if you can...</p>\n\n<p>I've narrowed it down some more. When I enter the svg directly into the table then the third section works fine... So it must be a problem with the way the data is being sent in the ajax call where the svg is sent to the cfc to be stored in the table. </p>\n"},{"tags":["jquery","ajax","coldfusion","svg","batik"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13216397,"title":"jQuery ajax seems to alter SVG data sent to coldfusion server","body":"<p>I'm using $.ajax() to send a string to a coldfusion server where it is stored in a table. When I later query and try to use that data I get an error; \"null Enclosed Exception: Invalid byte 2 of 3-byte UTF-8 sequence\".</p>\n\n<p>First I grab the SVG from the DOM and send it to an action page. It should just be a string, right?</p>\n\n<pre><code>var lclSVG = $('#myDiv')[0].innerHTML; // SVG Code (XML?)\n$.ajax({\n  url: \"myAction.cfm\",\n  type: \"POST\",\n  data: ({myInfo: lclSVG}),\n});\n</code></pre>\n\n<p>On the myAction.cfm page I update the data into a table.</p>\n\n<pre><code>&lt;CFQUERY NAME=\"postSVG\"&gt;\n  UPDATE myTable\n  SET svg = '#form.myInfo#' \n  WHERE  ID = 1\n&lt;/CFQUERY&gt;\n</code></pre>\n\n<p>SVG2PNG.cfm: When I attempt to query and use the svg data I get an error \"Invalid byte 2 of 3-byte UTF-8 sequence\". The error occurs on the .transcode line.</p>\n\n<pre><code>&lt;CFQUERY NAME=\"getSVG\"&gt;\n  SELECT svg\n  FROM myTable\n  WHERE  ordID = 1\n&lt;/CFQUERY&gt;\n&lt;cfset svg = getSVG.svg&gt;\n&lt;cfscript&gt;\n  transcoder = createObject(\"java\", \"org.apache.batik.transcoder.image.PNGTranscoder\").init();\n  inputStream = createObject(\"java\", \"java.io.StringBufferInputStream\").init(svg);\n  input = createObject(\"java\", \"org.apache.batik.transcoder.TranscoderInput\").init(inputStream);\n  OutFile = expandPath(\"myTest2.png\");\n  outputStream=CreateObject(\"java\", \"java.io.FileOutputStream\").init(OutFile);\n  output=CreateObject(\"java\", \"org.apache.batik.transcoder.TranscoderOutput\").init(outputStream);\n  transcoder.transcode(input, output);\n  outputStream.close();\n&lt;/cfscript&gt;\n</code></pre>\n\n<p>I've used jQuery's ajax method several times without much difficulty. I'm doing something wrong here and I can't seem to get a handle on it...</p>\n"},{"tags":["javascript","html","ajax","eclipse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13222905,"title":"AJAX Request code working in Eclipse but not browser","body":"<p>I am writing a simple AJAX code as a way to learn the basics and introduce myself to the concepts. The following code grabs the contents of a textfile located on the server and passes to a variable, popping into an alert box.</p>\n\n<p>My problem is that the code runs perfectly in the Eclipse IDE 'Open with Web Browser' but nowhere else.</p>\n\n<pre><code>var http = createRequestObject();\nvar responseContent;\n\nfunction createRequestObject() {\n   var objAjax;\n   var browser = navigator.appName;\n   if(browser == \"Microsoft Internet Explorer\"){\n       objAjax = new ActiveXObject(\"Microsoft.XMLHTTP\");\n   }else{\n       objAjax = new XMLHttpRequest();\n   }\n   return objAjax;\n }\n\nfunction getContent(name){\n   http.open('get', name);\n   http.onreadystatechange = function() {\n       if (http.readyState == 4) {\n          responseContent = http.responseText;\n       }\n   };\n   http.send(null);\n }   \n\n $(document).ready(function() {\n   getContent('newcontent.txt');\n   alert(responseContent);\n });\n</code></pre>\n\n<p>Does anyone know why this might be? Is there a problem with the code? If so, why would it work fine in eclipse but not elsewhere?</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13223679,"title":"Should you redirect or rewrite the ?_escaped_fragment_= URL?","body":"<p>Does anyone know what the correct method of redirection handling the AJAX indexing with Google/Bing when dealing with the ?_escaped_fragment_= querystring value? Is it best to redirect the URL (and if so should this be a 302 redirect)? Or is it best to mask the URL with a rewrite to your static content (the URL would stay the same, but your application would route it behind the scenes).</p>\n\n<p>Any ideas?</p>\n"},{"tags":["javascript","ruby-on-rails","ajax","json","params"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":29,"score":-1,"question_id":13178909,"title":"use JSON object with rails scoped","body":"<p>I want to the following thing to happen:</p>\n\n<p>When I select a selectbox I want it to send a JSON object through AJAX to my controller like so : </p>\n\n<pre><code>        var encoded = $.param(data);            \n        jQuery.ajax ({\n            url: '/trips',\n            type: 'GET',\n            data: {'toSearch' : encoded},\n            success: function (response) {\n                //succes\n                console.log(encoded);\n            }\n        });\n</code></pre>\n\n<p>and use these as params for my query like so </p>\n\n<pre><code>respond_to :json, :html\n\n  def index\n    @trips = Trip.scoped\n    @trips.where(\"category_id = ?\", params[:category_ids]) if params[:category_ids] # category_ids = array; select * from trips where category_id IN [1,3,4]\n\n\n    respond_with @trips\n  end\n</code></pre>\n\n<p>How do I do this? and what is the best way to serialize my JSON object?</p>\n"},{"tags":["jquery","ajax","solr"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13223219,"title":"showing images dynamically in ajaxsolr example","body":"<p>I have certain documents which are figure descriptors. The schema is:\n1. figure location: location of the figure on disk.\n2. figure caption: caption of the figure.</p>\n\n<p>I have indexed these documents in solr, now I am using ajaxsolr to build an interface. I have changed the reuters.theme.js as follows:</p>\n\n<pre><code>AjaxSolr.theme.prototype.result = function (doc, snippet) {\n  var figrl=doc.imagelocation;\n  var output = '&lt;div&gt; &lt;h2&gt;' + doc.caption+'&lt;/h2&gt;';\n  var figlink='&lt;a href=\"\" onclick=\"show_figure\\('+'\\''+figrl+'\\''+'\\)\"&gt; &lt;p&gt; See Figure &lt;/a&gt;'\n  output+=figlink;\n  output += '&lt;p&gt;' + snippet + '&lt;/p&gt;&lt;/div&gt;';\n  return output;\n};\n</code></pre>\n\n<p>As you can see, I am creating a link called \"See figure\" with each search result. I want to display the image when someone clicks that link. For that, I have made certain modifications:\n1. Changed the tag cloud div to accommodate the image</p>\n\n<pre><code> &lt;div class=\"figuredisplay\"&gt;&lt;/div&gt; \n</code></pre>\n\n<p>and </p>\n\n<pre><code>.figuredisplay {\n width:350px;\n height:600px;\n padding:10px;\n border:5px solid gray; \n}\n</code></pre>\n\n<p>2. Have defined a show_figure function (when some one clicks the \"Show figure\" link, this function is triggered, where location of the image on disk is passed as an argument) as </p>\n\n<pre><code> show_figure= function(figrlocation){\n  $('.figuredisplay').empty();\n  var figrhtmlcode='&lt;img src=\"' + figrlocation + '\" width=\"300\" height=\"300\"&gt;';\n $('.figuredisplay').append(figrhtmlcode);\n</code></pre>\n\n<p>}\nBut, no image is being displayed. But when I do  </p>\n\n<pre><code> $('.figuredisplay').append(figrlocation); \n</code></pre>\n\n<p>it displays the location of the image on disk properly. </p>\n\n<p>Can anyone please help me with this?</p>\n"},{"tags":["php","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13223316,"title":"AJAX request fail in php","body":"<p>I have a two php page.</p>\n\n<ol>\n<li>Which shows the calender when you select the month.</li>\n<li>Other is the file which pops the calender into the 1st page.</li>\n</ol>\n\n<p>I'm using XMLHttRequest to send the month value and get the days of that month.</p>\n\n<p><strong>1st PHP Page</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction showMonth(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"txtHint\").innerHTML=\"\";\n  return;\n  } \nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"txtHint\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"showmonthCalender.php?month=\"+str,true);\nxmlhttp.send();\n}\n&lt;/script&gt;  \n&lt;/head&gt;\n&lt;body&gt;\n&lt;form&gt;\n                        &lt;select name=\"month\" class=\"default\" tabindex=\"2\" onChange=\"showMonth(this.value)\"&gt;\n                                    &lt;option value=\"01\"&gt;JANUARY&lt;/option&gt;\n                                    &lt;option value=\"02\"&gt;FEBRUARY&lt;/option&gt;\n                                    &lt;option value=\"03\"&gt;MARCH&lt;/option&gt;\n                                    &lt;option value=\"04\"&gt;APRIL&lt;/option&gt;\n                                    &lt;option value=\"05\"&gt;MAY&lt;/option&gt;\n                                    &lt;option value=\"06\"&gt;JUNE&lt;/option&gt;\n                                    &lt;option value=\"07\"&gt;JULY&lt;/option&gt;\n                                    &lt;option value=\"08\"&gt;AUGUST&lt;/option&gt;\n                                    &lt;option value=\"09\"&gt;SEPTEMBER&lt;/option&gt;\n                                    &lt;option value=\"10\"&gt;OCTOBER&lt;/option&gt;\n                                    &lt;option value=\"11\"&gt;NOVEMBER&lt;/option&gt;\n                                    &lt;option value=\"12\"&gt;DECEMBER&lt;/option&gt;\n                        &lt;/select&gt;\n                        &lt;/form&gt;\n\n&lt;div id=\"txtHint\"&gt;display here&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>2nd PHP File (showmonthCalender.php)</strong></p>\n\n<pre><code>&lt;?php\n$monthfetch = $_GET['month'];\n$carry = \"&lt;div class='clear'&gt;&lt;/div&gt;\";\nif ($monthfetch == '01' || $monthfetch == '03' || $monthfetch == '05' || $monthfetch == '07' || $monthfetch == '08' || $monthfetch == '10' || $monthfetch == '12')\n    {\n        for($i=01; $i&lt;32; $i++)\n        {\n            $d = $i;\n            $y = date('Y');\n            $theDate = $y.'-'.$monthfetch.'-'.$d;\n            $day = date(\"l\", mktime(0, 0, 0, $monthfetch, $d, $y));\n            $carry = $carry . \"&lt;div class='dateHolder'&gt;\n                        &lt;div class='date'&gt;\n                            &lt;div class='valueHoliday'&gt;\n                                $d\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class='day'&gt;\n                            &lt;div class='valueHoliday'&gt;\n                                $day\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class='clear'&gt;&lt;/div&gt;\";\n        }\n        echo \"$carry\";\n    }\n?&gt;\n</code></pre>\n\n<p>For testing purpose i'm only selecting months which have 31 days. But when I select a month from the 1st php file, nothing gets displayed. I'm unable to solve the issue.</p>\n\n<p>Help is needed.</p>\n"},{"tags":["javascript","jquery","ajax","html5","html-select"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13221461,"title":"I want to change content using javascript or jquery","body":"<p><strong>Select Course</strong></p>\n\n<pre><code>&lt;select&gt;\n    &lt;option value=\"b.a\"&gt;B.A&lt;/option&gt;\n    &lt;option value=\"b.com\"&gt;B.Com&lt;/option&gt;\n    &lt;option value=\"b.b.a\"&gt;B.B.A&lt;/option&gt;\n&lt;/select&gt; \n</code></pre>\n\n<p><strong>Select Semester</strong></p>\n\n<pre><code>&lt;option value=\"1\"&gt;1st&lt;/option&gt;\n&lt;option value=\"2\"&gt;2nd&lt;/option&gt;\n&lt;option value=\"3\"&gt;3rd&lt;/option&gt;\n</code></pre>\n\n<p>Now what i want is that when i select first course i.e. <code>b.a</code>. then no. of semesters shud be only one displayed in \"Select Semester\" list and for b.com these shud be 2 and forr b.b.a these shud be 3,i.e. once the course is selected page shud automatically refresh and the number of semesters shud change accor to the subject chosen,regarding this how can i accomplish this using js or jquery or ajax,kindly help me by providing some example or tutorial.</p>\n"},{"tags":["ajax","caching","symfony1"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":878,"score":0,"question_id":5261864,"title":"Symfony 1.4: How do I get caching working with ajax requests?","body":"<p>I have some actions that are meant to be used in ajax requests.</p>\n\n<p>If I view the page in the browser, the response is cached as it should be.  However, in ajax requests it's not.</p>\n\n<p>The request method is GET and without GET params.</p>\n\n<p>sfViewCacheManager doesn't even call isXMLHttpRequest() so it's quite confusing why this isn't working...</p>\n\n<p>Is there a setting somewhere for enabling cached ajax requests?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","gmail"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":13214801,"title":"Ajax parsexml without jquery","body":"<p>I have a piece of code to get the unread count of Gmail. It is using jQuery, and I would like to know how to do it without a Javascript library, just with Javascript.</p>\n\n<pre><code>$.ajax({\n  type: \"GET\",\n  url: \"https://mail.google.com/mail/feed/atom\",\n  dataType: \"xml\",\n  success: parseXml\n});\n\nfunction parseXml(xml)\n{\n  var result = $(xml).find(\"fullcount\").text();\n  alert(\"count:\" + result);\n}\n</code></pre>\n"},{"tags":["javascript","html","css","ajax","xmlhttprequest"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":14,"score":2,"question_id":13222502,"title":"Windows sidebar gadget - receiving list from webhost","body":"<p>I'm looking for a way to display a list of info from webhost to windows sidebar gadget. \nI can see a solution using iframe, but i know it's really not a smart idea to actually use it.\nI've read that there is a way to do this with some kind of javascript ajax (XmlHttpRequest) thingy. And also a refreshing function could be nice.</p>\n"},{"tags":["xml","ajax","json","definition"],"answer_count":10,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1113,"score":4,"question_id":549316,"title":"Ajax: Definition vs Implementation? (XML vs JSON vs Other)","body":"<p>AJAX actually means Asynchronous Javascript And XML.  This term was derived because (as I know the story) the first people who started this process transferred data from the server to the client via XML.  Lately (well ever since I've started using it actually), JSON has been around and appears to be a real alternative to XML.  From my (possibly meager) tests and experience, JSON is smaller, easier, and better for transmitting data.</p>\n\n<p>So my question is this: which do you use to talk to and from the server/client (and possibly why)?  Or, what are the \"best practices\" that you have heard of (and why)?</p>\n\n<p>Thanks all!</p>\n"},{"tags":["c#","javascript","asp.net","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":107,"score":1,"question_id":12553066,"title":"Instant search asp.net","body":"<p>I want to do an instant search(on key down make the search) for my website and I don't really know any good way to do it. Until now I did my search on 'enter' key.</p>\n\n<p>I have this code:</p>\n\n<pre><code>&lt;div id=\"mainsearch\" class=\"search\"&gt;\n       &lt;input class=\"text-input\" value=\"SEARCH\" style=\"color:#aaa\" type=\"text\" id=\"searchbox\" onkeydown=\"if (event.keyCode == 13){document.getElementById('searchLink').click();return false;}\" maxlength=\"50\" runat=\"server\" /&gt;\n       &amp;nbsp;&amp;nbsp;\n       &lt;asp:LinkButton ID=\"searchLink\" runat=\"server\" onclick=\"searchLink_Click\"&gt;Search&lt;/asp:LinkButton&gt;\n\n\n\n       &lt;div id=\"results\" visible=\"false\" class=\"ac_results\" style=\"position: absolute; width: 298px;\" runat=\"server\"&gt;\n             &lt;asp:Literal ID=\"litActiveSearch\" runat=\"server\"&gt;&lt;/asp:Literal&gt;\n       &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and on my code behind:</p>\n\n<pre><code>    protected void searchLink_Click(object sender, EventArgs e)\n    {\n        results.Visible = true;\n            litActiveSearch.Text = SearchResults(searchbox.Value);\n    }\n\n    private string SearchResults(string searchString = \"\")\n    {\n\n        SqlCommand projectCom = new SqlCommand();\n      ....\n        countCom.CommandText = \"SELECT count(ID_PROJECT) FROM PROJECT WHERE TITLE LIKE '%\" + searchString + \"%' AND DELETE_BIT = 'False' \";\n\n\n        countCom.CommandType = CommandType.Text;\n        //int projectRowCount=0,actorRowCount=0,mediaRowCount = 0;\n\n        int RowCount = 0;\n        RowCount = Convert.ToInt32(countCom.ExecuteScalar());\n\n        /*str += \"&lt;div class=\\\"ac_results\\\" style=\\\"position: absolute; width: 251px; top: 110.4444465637207px;\" +\n            \"left: 1010.8776870117188px;\\\"&gt;\";*/\n\n        str += \"&lt;ul&gt;\";\n\n        str += \" &lt;li class=\\\"ac_even ac_over\\\"&gt;&lt;a href=\\\" ../search/search.aspx?q=\" + searchString + \" \\\" class=\\\"startsearch\\\"&gt;St&lt;strong&gt;a&lt;/strong&gt;rt &lt;strong&gt;\" +\n                    \"a&lt;/strong&gt; full se&lt;strong&gt;a&lt;/strong&gt;rch &amp;gt;&lt;/a&gt;\" +\n                \"&lt;/li&gt;\";\n\n\n        str += \" &lt;li class=\\\"ac_odd\\\"&gt;\" +\n                    \"&lt;span class=\\\"category\\\"&gt;\" +\n                        \"Projects&lt;a class=\\\"more\\\" href=\\\" ../search/searchProjects.aspx?q=\" + searchString + \" \\\" &gt;\" + RowCount.ToString() + \" results &amp;gt;&lt;/a&gt;\" +\n                    \"&lt;/span&gt;\" +\n                \"&lt;/li&gt;\";\n\n    //************ Now show the results ************//\n        projectCom.CommandText = \"SELECT TOP 3 ID_PROJECT,TITLE,COUNTRY FROM PROJECT WHERE TITLE LIKE '%\" + searchString + \"%' AND DELETE_BIT = 'False'\";\n....\n}    \n</code></pre>\n\n<p>on <code>SearchResults()</code> method I run my query which makes a connection with my database in order to get the results on the screen.</p>\n\n<p>It is my first time doing a website, so I don't really know anything.</p>\n"},{"tags":["jquery","ajax","comments","toggle"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13221033,"title":"jQuery Ajax Loader/Spinner","body":"<p>At the moment I have the following jQuery/Ajax in order to load the comments when a user clicks on a div:</p>\n\n<pre><code>                function showComments(post_id) {\n                    $(\"#comment-\"+post_id).toggle();\n                    $.ajax({ \n                         dataType: 'html',\n                         cache: false,\n                         url: 'ajax.php',\n                         type: 'POST',\n                         data: {comments: post_id}\n                    }).done(function(html) { \n                        $('#comment-'+post_id).html(html)\n                    });\n                }\n</code></pre>\n\n<p>This all works fine, as the default div has the spinner in it, which is shown until the content has loaded. However, if a user clicks on it again to hide it, then clicks to show again the spinner doesn't appear because the content isn't being reset obviously. So I tried to use .toggles mouse event handler:</p>\n\n<pre><code>                function showComments(post_id) {\n                    $(\"#comment-\"+post_id).toggle(function() {\n                        $('#comment-'+post_id).show();\n                        $.ajax({ \n                            dataType: 'html',\n                            cache: false,\n                            url: 'ajax.php',\n                            type: 'POST',\n                            data: {comments: post_id}\n                        }).done(function(html) { \n                            $('#comment-'+post_id).html(html)\n                        });   \n                    }, function() {\n                        $('#comment-'+post_id).hide();\n                        $('#comment-'+post_id).html('&lt;img src=\"/loader.gif\" /&gt;')\n                    });\n                }\n</code></pre>\n\n<p>However, this time, nothing works, the div doesn't show, or hide, and the Ajax isn't called. Any ideas what I've perhaps done wrong?</p>\n\n<p>EDIT: </p>\n\n<p>Here's the HTML/PHP:</p>\n\n<pre><code>                           &lt;div class=\"comments right\" title=\"Click to view comments\" onclick=\"showComments('.$post['id'].')\"&gt;'.$post['comments_cache'].'&lt;/div&gt;\n                            &lt;div style=\"display:none\" id=\"comment-'.$post['id'].'\" class=\"top-15\"&gt;&lt;img src=\"/loader.gif\" /&gt;&lt;/div&gt;\n</code></pre>\n\n<p>There's nothing wrong with the above, it works fine with the first function I showed you.</p>\n"},{"tags":["php","jquery","ajax","post"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":53,"score":0,"question_id":13221200,"title":"AJAX post to database","body":"<p>I have looked at other questions and cannot find the answer to why this isn't working. I am following a tutorial online. Here is my code:</p>\n\n<p>HTML file:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;AJAX Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h4&gt;Enter an Item&lt;/h4&gt;\n&lt;input type=\"text\" id=\"item\" /&gt;&lt;br /&gt;\n&lt;input type=\"button\" id=\"button\" value=\"Submit\" /&gt;&lt;br /&gt;\n&lt;div id=\"content\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\" scr=\"ajax.js\"&gt;&lt;/script&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>JS file:</p>\n\n<pre><code>$('#button').click(function() {\nvar item = $('#item').val();\n\n$('#content').text('Loading...');\n\n$.post('ajax.php', { item: item }, function(data) {\n    $('#content').text(data);\n    });\n});\n</code></pre>\n\n<p>PHP file:</p>\n\n<pre><code>&lt;?php\ninclude 'db.php';\n\nif (isset($_POST['item'])) {\n    $item = $_POST['item'];\n    $sql = mysql_query(\"INSERT INTO items(item)VALUES('$item')\");\n    if ($sql === true) {\n        echo \"Inserted into database\";\n    } elseif ($sql ==== false) {\n        echo \"Error inserting into database\";\n    }\n }\n ?&gt;\n</code></pre>\n\n<p>I don't see what I'm doing wrong. The tutorial has the same code. Thanks for your help.</p>\n"},{"tags":["jquery","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13220753,"title":"do upload file to access a web page? my code is bad?","body":"<p>The idea is simple, when you access the same page web you should upload a different file according to the click on <code>&lt;a&gt;</code> elements : tracks or sets.</p>\n\n<p>But my code does not work, some idea?</p>\n\n<p>html in page web</p>\n\n<pre><code>&lt;li id=\"sets\"&gt;&lt;a href=\"producciones.html\" onclick=\"cargar('tracks.txt', '#p1')\"&gt;Tracks&lt;/a&gt;&lt;/li&gt;\n&lt;li id=\"sets\"&gt;&lt;a href=\"producciones.html\" onclick=\"cargar('sets.txt', '#p1')\"&gt;Sets&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>JQuery+AJAX in script js.</p>\n\n<pre><code>function cargar(arch, id){\n    $.ajax({\n        url:arch,\n        success:function(result){\n            $(id).html(result);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["jquery","ajax","google-chrome","request"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13220200,"title":"Async ajax request w/ jQuery freezes Chrome","body":"<p>So I'm doing a pretty basic ajax request, but I can't make it non-blocking in chrome. Is there anything wrong with this request? IE handles it well, but chrome freezes completely for seconds. The timeout event is fired after chrome stops freezing.</p>\n\n<pre><code>    setTimeout(this.onExtendedSaveTimeCallback, 1000);\n\n    this.isSaving = true;\n    this.request = $.ajax({\n        url:      'http://same-origin.com',\n        type:     'POST',\n        dataType: 'html',\n        data:      data,\n        async:     true,\n    });\n\n    this.request.done(function(response) {\n        self.isSaving = false;\n        self.$rootElement.find('.save').removeClass('saving');\n        if(response != \"SUCCESS\")\n        {\n            // The input did not pass validation\n            // Show the error message\n            self.$rootElement.find('.edit-mode-content').prepend(response);\n            self.$rootElement.find('.error').slideDown(200);\n            self.$rootElement.find('.save').html('Spara');\n            self.unblockRowInput();\n        }\n        else\n            self.close(true);\n    });\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","associations"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":21,"score":0,"question_id":13220746,"title":"Ajax form submit to add to favourites posts","body":"<p>I wanna to make ajax button \"Add to favourites\" in every post that will submit form and add record to posting table with fields(user_id, post_id)\nI have app with Posts and Users through Postings. </p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  has_many :postings, :dependent =&gt; :destroy\nend\n\nclass Posting &lt; ActiveRecord::Base\n  attr_accessible :post_id, :user_id\n  belongs_to :post\n  belongs_to :user\nend\n\nclass User &lt; ActiveRecord::Base\n  has_many :posts, :through =&gt; :postings\n  has_many :postings, :dependent =&gt; :destroy\nend\n</code></pre>\n\n<p>How would look like the form to submit data to create posting</p>\n"},{"tags":["asp.net","ajax","telerik-grid"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":342,"score":0,"question_id":6289110,"title":"fetch dropdownlist selected value in NeedDatasource event of radgrid in asp.net ajax web application","body":"<p>I want to fetch value from dropdownlist when selected. On that selection of value I am firing a simple select query ie.</p>\n\n<p>\"select * from Category where cat_name ='\" + dropdownlistselectedvalue + \"'\"</p>\n\n<p>here is the code of needDatasource</p>\n\n<p>protected void rdgridview_NeedDataSource(object sender, Telerik.Web.UI.GridNeedDataSourceEventArgs e)\n    {\n        if (!e.IsFromDetailTable)\n        {<br>\n                //I want to fetch the dropdownlist selected value here ie</p>\n\n<pre><code>          string dpvalue = DropDownList1.SelectedValue.ToString();\n\n      string strqry = \"select * from Categories where Category_Name = '\"+ dpvalue +\"'\";\n\n        rdgridview.DataSource = getDataTable(strqry);            \n    }\n}\n</code></pre>\n\n<p>But I am not able to fetch the value from the dropdownlist selected value in needDatasource method. How shall I fetch the value or fire any event of dropdownlist control?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["ajax","spring-mvc","xmlhttprequest","portlet"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2693,"score":0,"question_id":4498266,"title":"Spring-portlet POST ajax xmlHttpRequest","body":"<p>Could please anybody who has experiences with processing post xmlHttpRequests with Spring DispatcherPortlet, tell me what is the best way to do it ? I'm using YUI io module and Jackson Object Mapper as an example :</p>\n\n<pre><code>@ResourceMapping(value=\"stuff\")\npublic void method(ResourceResponse response){\n   Person person = new Person();\n   person.setWeight(150);\n   ObjectMapper mapper = new ObjectMapper();\n   try{\n      mapper.writeValue(response.getWriter(), person);\n      }\n   ...\n  }\n</code></pre>\n\n<p>Ajax:</p>\n\n<pre><code>function() {\n\n   var A = AUI();\n\n   A.io(\"&lt;portlet:resourceURL id=\"stuff\" /&gt;\", {\n      method: 'POST',\n      data: {\n        description: 'value'\n      }\n   });\n     }\n</code></pre>\n\n<p><a href=\"https://jira.springframework.org/browse/SPR-7344\" rel=\"nofollow\"><strong>This</strong></a> is the issue where you can vote up that spring-portlet environment will have the same support that common spring-mvc has. Which is @ResponseBody, data conversion to JSON etc. Now AFAIK one has to do it manually...</p>\n\n<p>EDITED: Figured out the solution</p>\n\n<p>PLEASE: Take a look at this issue which is better formulated <a href=\"http://stackoverflow.com/questions/4782971/handling-ajax-requests-with-spring-portlet\">Handling Ajax requests with Spring portlet</a></p>\n"},{"tags":["ajax","spring","spring-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13218491,"title":"Spring MVC reload parts of the page","body":"<p>My current MVC application in Spring is a classical one - controller returns view name to render, then *.jsp file is rendered to the browser. Simple and bullet-proof :)</p>\n\n<p>What I want to do now is to update parts of the page using AJAX.</p>\n\n<p>Part of the page should be handled by method in controller, something like \"taskList\" would render readty-to-include html with list of tasks.</p>\n\n<p>It's all fine and dandy with ajax itself - I just create holding div in page and populate it with html from that request.</p>\n\n<p>Now the question:\nIs there a way to include that html in page on server side?\nSomething like (warning: pseudocode :))</p>\n\n<pre><code>&lt;div id=\"taskListHolder\"&gt;\n    &lt;someSpringtag:include 'taskList' /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Basically I want to include html from one controller response in another.\nSo in case of first page load no AJAX is necessary and it would also work when JS is disabled.</p>\n\n<p>What are the best practices to do such a thing?</p>\n\n<p>Thanks!\nLeonti</p>\n"},{"tags":["javascript","ajax","apache","shell"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13220082,"title":"javascript,ajax to control shell","body":"<p>I want to write a html page which embed a youtube video and has javascript script.\nIn the script, I will use youtube api\nand embed a youtube video\nthe youtube api will test whether the video has been downloaded fully</p>\n\n<p>I set up a apache server with mysql and php on the local machine, and put the html page in the apache server</p>\n\n<p>I will use shell script to open firefox with this html page, and use ps -ef|grep \"firefox\" to get its process id\nlike</p>\n\n<pre><code>firefox http://localhost/test.html\n</code></pre>\n\n<p>when the youtube api detect that the video has been downloaded fully, I hope it can send a signal to the shell and kill the firefox process\nso I think it is not possible for javascript to send a signal to shell on the client\nbut since the client and the server are on the same machine, when the youtube api detect that the video has been downloaded fully, ajax can inform the server, like write something the a file or mysql databse on the server. </p>\n\n<p>But I don't know how to link the ajax to sending a signal to shell</p>\n\n<p>does anyone have idea on this? thanks!</p>\n"},{"tags":["javascript","ajax","flash","internet-explorer"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2902,"score":0,"question_id":1237551,"title":"Open Flash Chart 2 IE doesn't load new data for chart","body":"<p>I have OFC2 chart in my page and when user selectes choice, then it will make another request to server with parameters and OFC2 should load new data from server, but IE won't load new data, but it shos old data instead. It works well in other browsers, but not in IE. What could be the problem here, and how can I solve it?</p>\n"},{"tags":["ajax","spring","spring-mvc","spring-3","valums-file-uploader"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13212666,"title":"valums file-uploader IE and @Responsebody. IE Launches download dialog.","body":"<p>I am using valums file-uploader to upload files. This works great if my Spring controller returns void. If I add a @Responsebody Object to my controller IE things that I am about to download instead of uploading a file and launches a dialog. </p>\n\n<p>The reason I would like to have a @Responsebody Object and not void is for error handling. How can I trick IE in this case?</p>\n"},{"tags":["php","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13219886,"title":"Check if both strings are empty not working","body":"<p>I have a conditional if check on a webform on which ajax (and php) is doing the submit work.</p>\n\n<pre><code>if(empty($name) or empty($message))\n{\ndo something\n}\n</code></pre>\n\n<p>The above is working if one of the 2 strings is empty.I want to add to the above </p>\n\n<pre><code>  or (empty($name) and empty($message))\n</code></pre>\n\n<p>for checking if both strings are empty but in someway its not working!I want to make sure all 3 senarios are covered,Name empty or Message empty or both empty.\nAny ideas?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13219495,"title":"Forcing Script To Run In AJAX Loaded Page","body":"<p>So I am using an AJAX loader on my WP installation and one of the pages I am loading has a script in it.</p>\n\n<pre><code>&lt;div id=\"register-form\"&gt;\n    &lt;div id=\"register-one\"&gt;&lt;/div&gt;\n    &lt;div style=\"text-align:center;padding-top:10px;\"&gt;&lt;/div&gt; \n    &lt;div class=\"horizontal-rule\"&gt;&lt;/div&gt;\n    &lt;div id='register'&gt;\n        &lt;div id=\"register-character\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"post\"&gt;  \n        &lt;form action=\"\" method=\"post\" id=\"register-form\" &gt;\n        What's your Name:\n            &lt;input class=in id='register_name' name=\"register_name\" onkeydown='register_step1_keydown();' onkeyup='register_step1_keyup();'&gt;\n            &lt;input class=\"next-submit-button\" type=\"submit\" id=\"register-step-one\" value=\"\" /&gt;\n            &lt;input type=\"hidden\" name=\"submit\" /&gt;\n        &lt;/form&gt;  \n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n$(\"#register-step-one\").click(function() {\n    $.ajax({\n      type: \"POST\",\n      success: function() {\n        $('#register-form').html(\"Test\");\n      }\n     });\n    return false;\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>The issue is however, when the page is loaded through the AJAX, the script doesn't work. Yet if I refresh the page the script works. Obviously the script doesn't like running from an AJAX call. </p>\n\n<p>Is there a way to make the script work when it is loaded through an AJAX call? I know I could put the script in to the main page's footer or something but I was hoping I could get around this as I will end up with a ton of scripts in the main page.</p>\n"},{"tags":["php","ajax","div"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":33,"score":-2,"question_id":13211517,"title":"How to get the elements of a div which is loaded by ajax and php","body":"<p>I have loaded a div of a page by ajax and php. Now how can get the different kinds of elements  (buttons, hyperlinks, labels) in the div in different arrays.</p>\n"},{"tags":["javascript","ajax","firefox","firefox-addon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13216903,"title":"Get binary data with XMLHttpRequest in a Firefox extension","body":"<p>I'm trying to download some binary data from my Firefox extension. When I try to set a created XMLHttpRequest to arraybuffer mode:</p>\n\n<pre><code>oHTTP = new XMLHttpRequest();   \noHTTP.responseType = \"arraybuffer\";\n</code></pre>\n\n<p>The error</p>\n\n<pre><code>InvalidStateErr\nAn attempt was made to use an object that is not, or is no longer, usable\n</code></pre>\n\n<p>is thrown.</p>\n\n<p>Is there another way to download binary data in a Firefox extension?</p>\n"},{"tags":["ajax","web2.0","animated-gif"],"answer_count":7,"favorite_count":10,"up_vote_count":9,"down_vote_count":0,"view_count":17370,"score":9,"question_id":193826,"title":"Where can I find a large AJAX loader .gif?","body":"<p>I searched the Web, but the most I was able to find was 180x180 pixels. I'm looking for a ajax loader .gif animation that is at least 400x400 pixels. File size is not very important, it's for intranet application.</p>\n\n<p>UPDATE: solution must be free as in beer. I don't own a copy of Photoshop, for example.</p>\n"},{"tags":["javascript","jquery","ajax","servlets"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":493,"score":1,"question_id":10557632,"title":"refresh table using jquery without communicating database","body":"<p>I am using <a href=\"http://datatables.net/api\" rel=\"nofollow\">DataTable</a> jquery api for gridview. My sample is here under:</p>\n\n<p><img src=\"http://i.stack.imgur.com/SMeEx.png\" alt=\"enter image description here\"></p>\n\n<p>It shows the total numbers of entries in the following form at bottom</p>\n\n<pre><code>Showing 1 to 10 of 10 entries\n</code></pre>\n\n<p>My Delete code/script for this gridview using jquery is as follow:</p>\n\n<pre><code>$(document).ready(function()\n{\n    $('table#example td a.delete').click(function()\n    {\n        if (confirm(\"Are you sure you want to delete this row?\"))\n        {\n            $getCode = $(this).parent().parent().attr('id');\n            var parent = $(this).parent().parent();\n            $.post(\"DeleteDepartment\", {\n                depID:$getCode                   \n            }, function(data) {\n                if(data.result &gt;0){\n                    parent.fadeOut('slow', function() {$(this).remove();});\n                }else{\n                    alert(\"Operation Fail\");\n                }\n            });\n        }\n        else{\n            $('div#feedback').html('&lt;div class=\"cancel\"&gt;&lt;b&gt;Operation Cancel&lt;/b&gt;&lt;/div&gt;');\n\n        }\n    });\n});\n</code></pre>\n\n<p>the above code successfully remove the record from the grid-view. but it does not shows the actual total no. of entries, after deletion.</p>\n\n<p>for example, there are currently 10 records in the table , it shows in the bottom in the following format:</p>\n\n<pre><code>Showing 1 to 10 of 10 entries\n</code></pre>\n\n<p>when I remove the one entry , it must show the new total of entries</p>\n\n<pre><code>Showing 1 to 9 of 9 entries (total entry decrease by one, on every deletion )\n</code></pre>\n\n<p><strong>how can I refresh the table , without communicating Database</strong> that reset total number of entries, showing left side of bottom, on every deletion  </p>\n"},{"tags":["ajax","asp.net-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13216414,"title":"AJAX postback response different than model data","body":"<p>I have a partial view that has textfields in it and is bound to a List set up, so essentially there is a row of textfields that the user can add another row to or remove a row from. I build the view by looping through the list like this:</p>\n\n<pre><code>@model PricingRequestWebApp.Web.Models.PricingRequestModel\n\n&lt;div id=\"shiplocation-wrapper\"&gt;\n    &lt;table class=\"shipinfoprtable\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;@Html.LabelFor(m =&gt; m.ShippingLocationsModel[0].Address)&lt;span class=\"formRed\"&gt;*&lt;/span&gt;&lt;/th&gt;\n                &lt;th&gt;@Html.LabelFor(m =&gt; m.ShippingLocationsModel[0].City)&lt;span class=\"formRed\"&gt;*&lt;/span&gt;&lt;/th&gt;\n                &lt;th&gt;@Html.LabelFor(m =&gt; m.ShippingLocationsModel[0].State)&lt;span class=\"formRed\"&gt;*&lt;/span&gt;&lt;/th&gt;\n                &lt;th&gt;@Html.LabelFor(m =&gt; m.ShippingLocationsModel[0].Zip)&lt;span class=\"formRed\"&gt;*&lt;/span&gt;&lt;/th&gt;\n                &lt;th&gt;@Html.LabelFor(m =&gt; m.ShippingLocationsModel[0].PFreight)&lt;span class=\"formRed\"&gt;*&lt;/span&gt;&lt;/th&gt;\n                &lt;th&gt;@Html.LabelFor(m =&gt; m.ShippingLocationsModel[0].FreightType)&lt;span class=\"formRed\"&gt;*&lt;/span&gt;&lt;/th&gt;\n                &lt;td&gt;&lt;span class=\"link\" id=\"addlocation\" onclick=\"AddShippingLocation()\"&gt;Add&lt;/span&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            @for (int i = 0; i &lt; Model.ShippingLocationsModel.Count; i++)\n            {\n                &lt;tr&gt;\n                    &lt;td&gt;@Html.TextBoxFor(m =&gt; m.ShippingLocationsModel[i].Address, new { @style = \"width: 200px\" })&lt;/td&gt;\n                    &lt;td&gt;@Html.TextBoxFor(m =&gt; m.ShippingLocationsModel[i].City, new { @style = \"width: 150px\" })&lt;/td&gt;\n                    &lt;td&gt;@Html.TextBoxFor(m =&gt; m.ShippingLocationsModel[i].State, new { @size = 3 })&lt;/td&gt;\n                    &lt;td&gt;@Html.TextBoxFor(m =&gt; m.ShippingLocationsModel[i].Zip, new { @style = \"width: 80px\" })&lt;/td&gt;\n                    &lt;td&gt;@Html.TextBoxFor(m =&gt; m.ShippingLocationsModel[i].PFreight, new { @style = \"width: 80px\" })&lt;/td&gt;\n                    &lt;td&gt;@Html.TextBoxFor(m =&gt; m.ShippingLocationsModel[i].FreightType, new { @style = \"width: 200px\" })&lt;/td&gt;\n                    @if (Model.ShippingLocationsModel.Count &gt; 1)\n                    {\n                        &lt;td&gt;&lt;span class=\"link\" id=\"removelocation\" onclick=\"RemoveShippingLocation(@i);\"&gt;Remove&lt;/span&gt;&lt;/td&gt;\n                    }\n                &lt;/tr&gt;\n            }\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My controller methods look like so:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult AddShippingLocation(PricingRequestModel model)\n    {\n        model.ShippingLocationsModel.Add(new ShippingLocationsModel());    \n\n        return PartialView(\"shiplocationsPartial\", model);\n    }\n\n    [HttpPost]\n    public ActionResult RemoveShippingLocation(PricingRequestModel model)\n    {\n        model.ShippingLocationsModel.RemoveAt(StaticItems.id);\n\n        return PartialView(\"shiplocationsPartial\", model);\n    }\n</code></pre>\n\n<p>And my Jquery function that posts the data and returns the view:</p>\n\n<pre><code>function AddShippingLocation() {\n    $.ajax({\n        data: $('#shippinginfoform').serialize(),\n        type: \"POST\",\n        url: \"/PricingRequest/AddShippingLocation\",\n        success: function (response) {\n            $('#shiplocation-wrapper').html(response);\n        }\n    })\n}\n\nfunction RemoveShippingLocation(id) {\n    $.ajax({\n        data: { id: id },\n        type: \"POST\",\n        url: \"/PricingRequest/SaveID\",\n        complete: function () {\n            $.ajax({\n                data: $('#shippinginfoform').serialize(),\n                cache: false,\n                type: \"POST\",\n                url: \"/PricingRequest/RemoveShippingLocation\",\n                success: function (response) {\n                    $('#shiplocation-wrapper').html(response);\n                }\n            })\n        }\n    })\n}\n</code></pre>\n\n<p>Now, lets say I have 4 items created in the user view. I click on item 2 to remove it and it passes in i as an id. I then remove that from the model list and pass back the view with the updated model. I have debugged this at least 50 times now and the controller method looks exactly as it should and the data in the view as well. Inexplicably though the response on the ajax shows differently than what I'm seeing while debugging. Clicking on remove item 2 removes item 4. If I have 5 items, item 5 will be removed no matter what item I click to remove. It's always the last item that is removed. I know I must be missing something here but I can't see what. Any ideas? Thanks.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13218621,"title":"POST to foreign server with jQuery","body":"<p>Im trying to build a counter for my links in many website I have. so every click on my links on other websites, my database will count them..</p>\n\n<p>(every website is in another server..)</p>\n\n<p>I tried to build some script in Jquery on every page that I want to make this happened:</p>\n\n<pre><code>$(document).ready(function() {\n\n    attach();\n});\n\n\nfunction attach() {\n\n    var name;\n    var classCounter = $('.counterStrike');\n\n    classCounter.bind('click', function() {\n\n        var name = $(this).attr('name');\n\n        var url = \"http://XXXXX.######.XX/XXX/XXXX/Handler/Handler.aspx\";\n        var op = \"1\";\n        var fromLocation;\n\n        $.post(url, {\n            name: name,\n            op: op\n        }, function(result) {\n            alert(1);\n            $(\"#result\").html(result);\n\n        });\n\n\n    });\n\n\n}\n</code></pre>\n\n<p>this worked fine in the same server, so I guess I have some cross browser problem ? right?\nis there a way to manipulate it ?</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ajax","fancybox"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13214944,"title":"fancybox is not requesting the proper page using ajax","body":"<pre><code>$(document).ready(function() {\n        $(\".modalbox\").fancybox({\n\n  type: 'ajax',\n  ajax : {\n        type    : \"GET\",\n        URL: 'requestajax.php',\n        data    : {cid:'3'},\n        error: function(){\n    alert('failure');\n  }\n    }\n});\n</code></pre>\n\n<p>so this is my code, when I use firebug I see that the data is being passed (under parameters)\nbut the url requested is the same file index.php instead it should say requestajax.php?cid=3\nany ideas ? I think I am doing something wrong.\nthe modal box is loaded with the index.php content instead of requestajax.php. thats issue</p>\n"},{"tags":["php","javascript","jquery","ajax","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13218573,"title":"yandex address book retvial php","body":"<p>I am writing web application, that will send emails to everyone in address books in different mail systems. \nSo i find <a href=\"http://openinviter.com\" rel=\"nofollow\">openInviter</a>. But the problemm is that url for retrieving yandex address book was changed and I need to figure out, how to get it from new url via my php application. Any suggestion?</p>\n"},{"tags":["jquery","ajax","internet-explorer","internet-explorer-8","crossrider"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":77,"score":-1,"question_id":13095903,"title":"IE Browser Extension Issue (jQuery & Crossrider)","body":"<p>So IE is at it again...</p>\n\n<p>We've developed a plugin through Crossrider which works beautifully on 100% of standards-compliant browsers and just about anything which isn't built upon a giant foundation of manure</p>\n\n<p>The following error is happening immediately upon execution of the plugin in IE8 and below, and happens before any of our code is executed.</p>\n\n<p>I'm assuming it has something to do with either the Crossrider appAPI request, or jQuery AJAX transport module (essentially the same thing as CR extends jQuery).</p>\n\n<p>Here is the error:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9PoSC.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13217158,"title":"PHP and jQuery AJAX $_SESSION Bug","body":"<p>I spent many days to fix this problem and i can't find a solution.\nAfter i login using my ajax form + php backend, the page where user is redirected show the \"Missing session\" message and if i try dumping $_SESSION it looks like empty. Then, if i go back and i do the same login it will work correctly. This happen in different browser (usually when they have cookie and cache clear) and in different hosting providers.</p>\n\n<p>This is my ajax code:</p>\n\n<pre><code>\n$(document).ready(function(){\n $('#loginbtn').click(function(){\n\nif($('#username').val() == \"\" || $('#password').val() == \"\"){\n            return false;   \n        }\n        else\n        {\n\n            $.ajax\n            ({\n                type: 'POST',\n                url: 'ajax_login.php',\n                cache: false,\n                dataType: 'json',\n                data:\n                {\n                    username: $('#username').val(),\n                    password: $('#password').val()\n                },\n                success:function(data)\n                {\n\n\n                if(data.error === true){\n\nalert(\"Failed to login: \"+data.message)\n\n                    }\n                    else\n                    {\n\n\n        setTimeout(function() \n        { \nwindow.location = 'http://www.mywebsite.com/dashboard.php';\n        },2000);  \n\n                    }\n                },\n                error:function(XMLHttpRequest,textStatus,errorThrown){\n            alert(\"An error occured!\");\n\n                }\n            });\n            return false;\n        }\n\n   });    \n\n   });\n\n</code></pre>\n\n<p>This is the PHP Login Backend: </p>\n\n<pre><code>&lt;?php\ninclude \"config.php\"; // start session and connect to mysql db, also contain functions sanitize(), getip()\n\n$username = sanitize(htmlspecialchars($_POST['username'],ENT_QUOTES));\n$pass = sanitize($_POST['password']);\n\n\n // FUNCTION TO LOGIN\n$sql = mysql_query(\"SELECT * FROM members WHERE username = '$username' AND password = '$pass'\"); \n$array = mysql_fetch_array($sql);\n\nif(mysql_num_rows($sql) === 0){\n$message['error'] = true;\n$message['message'] = \"Wrong username or password.\";    \necho json_encode($message); \nexit;\n}\n\n\n$_SESSION['username'] = ucwords(strtolower($username)); \n$_SESSION['points'] = $array['points'];\n$_SESSION['ip'] = getip(); \n$_SESSION['welcome'] = true;\n\n\n$message['error'] = false;\n$message['message'] = \"Completato.\";    \n\necho json_encode($message); \nexit;\n</code></pre>\n\n<p>And finally this is dashboard.php check session code:</p>\n\n<pre><code>&lt;?php\n\ninclude \"config.php\";\nif (substr_count($_SERVER['HTTP_ACCEPT_ENCODING'], 'gzip')) ob_start(\"ob_gzhandler\"); else ob_start(); \n\nif($_SESSION['username'] == \"\") {\nheader(\"Location: index.php?nosession\");\nexit;\n}\n</code></pre>\n\n<p>Edit: This is what's inside config.php</p>\n\n<pre><code>&lt;?\nsession_start();\ndate_default_timezone_set(\"Europe/Rome\");\n$hostname = \"\"; //hostname \n$data_username = \"dbxxxxxxxx\"; //database username\n$data_password = \"xxxxx\"; //database password\n$data_basename = \"dbxxxxxxx\"; //database name\n$conn = mysql_connect(\"\".$hostname.\"\",\"\".$data_username.\"\",\"\".$data_password.\"\");  \nmysql_select_db(\"\".$data_basename.\"\") or die(mysql_error()); \n\nfunction sanitize($text) { // funzione che pulisce le stringe per prevenire exploit;\nif(get_magic_quotes_gpc() == 0) {\n$text = addslashes($text);\n}\n$text = htmlentities($text);\n$text = strip_tags($text);\n$escape = mysql_real_escape_string($text);\n$arraydangerous = array('SELECT *', 'LOAD_FILE', 'DELETE', 'TRUNCATE', '\\' OR', '&lt;javascript&gt;', 'src=', '&lt;?', '?&gt;', 'document.cookie', 'http://', 'www.'); \n$text = str_replace($arraydangerous, \"\", $text);\nreturn $text;\n}\n\nfunction getip()\n{\n    return filtra($_SERVER['HTTP_CF_CONNECTING_IP']);   // I use CloudFlare ,so i must use this way :)\n}\n</code></pre>\n\n<p>How can i fix this? Thanks</p>\n"},{"tags":["jquery","ajax","fadein","fadeout","image-rotation"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1242,"score":2,"question_id":4916992,"title":"Jquery fadeIn cause a scroll top, how can i solve?","body":"<p>i have a problem with jQuery fadeIn(or fadeOut) method.\ni build an article rotator , all works fine \nbut there is a problem when the page is scrolled bottom and the article rotate,\nThe fadeIn (or fadeOut) method causes a scroll to the article position.\nI think that these methods ,changes the css top property of body,\nbut I do not know how to avoid this!\nAny idea???</p>\n\n<p>here the code</p>\n\n<pre><code>    function rotate(direction)\n{\n    if($('articles &gt; article:visible:first') == 'undefined')\n        $currentArticle = $('articles &gt; article:first');\n    else\n        $currentArticle = $('articles &gt; article:visible:first');\n\n    if($currentArticle.attr('id') == $('articles &gt; article:last').attr('id'))\n        $next = $('articles &gt; article:first');\n    else\n        $next = $currentArticle.next();\n\n    if($currentArticle.attr('id') == $('articles &gt; article:first').attr('id'))\n        $prev = $('articles &gt; article:last');\n    else\n        $prev = $currentArticle.prev();\n\n    if($do_animation)\n    {\n        $currentArticle.fadeOut(1000,function(){\n                switch(direction)\n                {\n                    case 1:\n                        $next.fadeIn(1000);\n                        break;\n                    case -1:\n                        $prev.fadeIn(1000);\n                        break;\n                }\n                if($('.rotate_show'))\n                    $('.rotate_show').removeClass('rotate_show');\n                $('article_number &gt; btn[id|=\"'+$next.attr('id')+'\"]').addClass('rotate_show');\n                });\n    }\n    else\n        return false;\n}\n</code></pre>\n\n<p>ok here the site <a href=\"http://kario91.altervista.org/ultimate\" rel=\"nofollow\">http://kario91.altervista.org/ultimate</a> the text is from joomla this is the complete site! the variables work fine, there's no problem.. try to reduce the browser window and scroll bottom</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":13192644,"title":"Ajax Chained Select Boxes Are Not refreshing","body":"<p>Ok so i have created a Javascript/PHP/Ajax application. I have a sequence of 6 select boxes. The first is hardcoded in HTML. When you change the selection it sends a variable via Ajax to PHP which uses the variable to query the database. When the second box changes it then sends the 2 variables from the previous select boxes.</p>\n\n<p>Each time a select box is changes it adds another variable to send. In the end there is a total of 5 or 6 variables which is all good, everything is functioning well and almost doing what i want it to do.</p>\n\n<p>My problems occur with select boxes 3 and 6.</p>\n\n<p>Initially they work fine. But when you go back to change select box 2, number 3 does not refresh. The values stay the same as before. The same with number 6, when i change number 3, box 4 changes and in sequence box 5 changes, however box 6 remains the same as the previous query. All Ajax code used is identical with just variable names and relevant Elements changed.</p>\n\n<p>Can anybody help? i will post the link to the application and the ajax code in question.</p>\n\n<p>Just so you know only select box 1 is visible initially, the rest are generated by php/ajax onchange.</p>\n\n<p>Heres the code in question</p>\n\n<pre><code>function getHTTPObject(){\n if (window.ActiveXObject) \n   return new ActiveXObject(\"Microsoft.XMLHTTP\");\n else if (window.XMLHttpRequest) \n   return new XMLHttpRequest();\n else {\n  alert(\"Your browser does not support AJAX.\");\n  return null;\n }\n }\n\nfunction doWork(){ \nvar selectBox = document.getElementById(\"SelectManufacturer\"); // get  HTML select box by id\nhttpObject = getHTTPObject();\n\n    httpObject.open(\"GET\", \"http://4udev.refixstudios.co.uk/wp-content/martTest/bNbAjax.php?inputText=\"\n        +selectBox.options[selectBox.selectedIndex].text , true);\n\n    httpObject.onreadystatechange=function()\n            {\n            if (httpObject.readyState==4 &amp;&amp; httpObject.status==200)\n                    {\n                    document.getElementById('selectModel').innerHTML =  httpObject.responseText;;\n                    }\n}\nhttpObject.send()\n}\n\n\nfunction networkSelector()\n{ \nvar selectBox2 = document.getElementById(\"SelectManufacturer\"); // get  HTML select box by id\nvar selectModel = document.getElementById(\"modelSelector\");\nhttpObject2 = getHTTPObject();\n\nhttpObject2.open(\"GET\", \"http://4udev.refixstudios.co.uk/wp-content/martTest/NetworkAjax.php?inputText2=\" +selectBox2.options[selectBox2.selectedIndex].text +\"&amp;modelText2=\"+selectModel.options[selectModel.selectedIndex].text, true); \n\n    httpObject2.onreadystatechange = function()\n{\n\nif(httpObject2.readyState == 4 &amp;&amp; httpObject2.status==200){\n\n\n  document.getElementById(\"networkSelect\").innerHTML = httpObject2.responseText;\n}\n\n\n}\nhttpObject2.send();\n}\n\nfunction minuteSelector(){ \n    var selectBox3 = document.getElementById(\"SelectManufacturer\"); // get  HTML select box by id\n    var selectModel3 = document.getElementById(\"modelSelector\");\n    var NetworkSelect3 = document.getElementById(\"networkSelector\");\n\n    httpObject3 = getHTTPObject();\n\n    httpObject3.open(\"GET\", \"http://4udev.refixstudios.co.uk/wp-content/martTest/minuteAjax.php?inputText3=\"+selectBox3.options[selectBox3.selectedIndex].text+\"&amp;modelText3=\"+selectModel3.options[selectModel3.selectedIndex].text+\"&amp;networkText3=\"+NetworkSelect3.options[NetworkSelect3.selectedIndex].text, true);\n\n    httpObject3.onreadystatechange = function(){\n\nif(httpObject3.readyState == 4 &amp;&amp; httpObject3.status==200){\n\n    document.getElementById(\"minuteSelect\").innerHTML =httpObject3.responseText;\n}\n\n\n}\nhttpObject3.send();\n}\n\nfunction textSelector(){ \n    var selectBox4 = document.getElementById(\"SelectManufacturer\"); // get  HTML select box by id\n    var selectModel4 = document.getElementById(\"modelSelector\");\n    var networkSelect4 = document.getElementById(\"networkSelector\");\n    var minuteSelect4 = document.getElementById(\"minutesSelector\");\n\n    httpObject4 = getHTTPObject();\n\n    httpObject4.open(\"GET\", \"http://4udev.refixstudios.co.uk/wp-content/martTest/textAjax.php?inputText4=\" +selectBox4.options[selectBox4.selectedIndex].text+\"&amp;modelText4=\"+selectModel4.options[selectModel4.selectedIndex].text+\"&amp;networkText4=\"+networkSelect4.options[networkSelect4.selectedIndex].text +\"&amp;minuteText4=\"+minuteSelect4.options[minuteSelect4.selectedIndex].text, true);\n\n    httpObject4.onreadystatechange = function(){\n\nif(httpObject4.readyState == 4 &amp;&amp; httpObject4.status==200){\n\n    document.getElementById(\"textSelect\").innerHTML =httpObject4.responseText;\n}\n\n\n}\nhttpObject4.send();\n}\n\nfunction dataSelector(){ \n    var selectBox5 = document.getElementById(\"SelectManufacturer\"); // get  HTML select box by id\n    var selectModel5 = document.getElementById(\"modelSelector\");\n    var networkSelect5 = document.getElementById(\"networkSelector\");\n    var minuteSelect5 = document.getElementById(\"minutesSelector\");\n    var textsSelector5 = document.getElementById(\"textsSelector\");\n\n    httpObject5 = getHTTPObjectAgainB();\n\n    httpObject5.open(\"GET\", \"http://4udev.refixstudios.co.uk/wp-content/martTest/dataAjax.php?inputText5=\"+selectBox5.options[selectBox5.selectedIndex].text+\"&amp;modelText5=\"+selectModel5.options[selectModel5.selectedIndex].text+\"&amp;networkText5=\"+networkSelect5.options[networkSelect5.selectedIndex].text +\"&amp;minuteText5=\"+minuteSelect5.options[minuteSelect5.selectedIndex].text+\"&amp;textText5=\"+textsSelector5.options[textsSelector5.selectedIndex].text, true);\n\n    httpObject5.onreadystatechange = function (){\n\nif(httpObject5.readyState == 4){\n\n    document.getElementById(\"dataSelect\").innerHTML = httpObject5.responseText;\n}\n\n\n}\nhttpObject5.send()\n}\n</code></pre>\n\n<p>Here is the link to the application <a href=\"http://4udev.refixstudios.co.uk/csv-test/\" rel=\"nofollow\">http://4udev.refixstudios.co.uk/csv-test/</a></p>\n\n<p>The best way to test is buy selecting any manufacturer and model then network, after that select Apple---The New Ipad 4G, this is how you notice that it does not change. This selection should only bring back Orange as network</p>\n\n<p>And Heres the PHP that it calls</p>\n\n<pre><code>&lt;?php\n\n\nif (isset($_GET['inputText2'])) \n{\n    $manufacturer = ($_GET['inputText2']);\n\n    if (isset ($_GET['modelText2']))\n    {\n\n        $model = ($_GET['modelText2']);\n\n\n\n    }\n\n}\n\n\n$conA = mysql_connect(\"localhost\",\"****\",\"*****\");\nif (!$conA)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\nmysql_select_db(\"refixstu_4udev\", $conA);\n$selectApplea = mysql_query(\"SELECT DISTINCT network FROM wp_selector_apple WHERE model = '$model' \");\n$selectBlackberry = mysql_query(\"SELECT DISTINCT network FROM wp_selector_blackberry    WHERE model = '$model'\");\n$selectDoro = mysql_query(\"SELECT DISTINCT network FROM wp_selector_doro WHERE model = '$model'\");\n$selectHTC = mysql_query(\"SELECT DISTINCT network FROM wp_selector_htc WHERE model = '$model'\");\n$selectLG = mysql_query(\"SELECT DISTINCT network FROM wp_selector_lg WHERE model = '$model'\");\n$selectMotorola = mysql_query(\"SELECT DISTINCT network FROM wp_selector_motorola WHERE model = '$model'\");\n$selectNokia = mysql_query(\"SELECT DISTINCT network FROM wp_selector_nokia WHERE model = '$model'\");\n$selectSamsung = mysql_query(\"SELECT DISTINCT network FROM wp_selector_samsung WHERE model = '$model'\");\n$selectSony = mysql_query(\"SELECT DISTINCT network FROM wp_selector_sony WHERE model = '$model'\");\n$selectSonyE = mysql_query(\"SELECT DISTINCT network FROM wp_selector_sonyericsson WHERE model = '$model'\");\n$selectZte = mysql_query(\"SELECT DISTINCT network FROM wp_selector_ZTE WHERE model = '$model'\");\n\n?&gt;\n\n&lt;select id=\"networkSelector\" style=\"width:100px;\" align=\"right\"  onchange=\"minuteSelector()\"&gt; \n&lt;option&gt; Select Network &lt;/option&gt;\n&lt;?php\n\n                        // Start Apple Testing\n\n                        if($manufacturer == \"Apple\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectApplea))\n\n                                    { \n                                            foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n                        else if($manufacturer == \"BlackBerry\")\n                        {                           \n                            while($rowa = mysql_fetch_array($selectBlackberry))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n                        }\n                        else if($manufacturer == \"Doro\")\n                        {                           \n                            while($rowa = mysql_fetch_array($selectDoro))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n                        }\n                        else if($manufacturer == \"HTC\")\n                        {                           \n                            while($rowa = mysql_fetch_array($selectHTC))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n                        }\n                        else if($manufacturer == \"LG\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectLG))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n                        else if($manufacturer == \"Motorola\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectMotorola))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n                        else if($manufacturer == \"Nokia\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectNokia))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n                        else if($manufacturer == \"Samsung\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectSamsung))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n                        else if($manufacturer == \"Sony\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectSony))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n                        else if($manufacturer == \"Sone Ericsson\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectSonyE))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n                        else if($manufacturer == \"Zte\")\n                        {\n\n                                    while($rowa = mysql_fetch_array($selectLG))\n\n                                    { \n                                        foreach(array_unique($rowa) as $model)\n                                        {\n                                            echo\"&lt;option&gt;\"; echo $rowa['network']; echo\"&lt;/option&gt;\";\n\n                                        }\n\n                                    }\n\n                        }\n\n\n                        mysql_close($conA);\n                        ?&gt;\n\n\n                        &lt;/select&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","forms","svg"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13216574,"title":"Is it possible to make jQuery Ajax() emulate HTML FORM accept-charset parameter?","body":"<p>I'm posting SVG data to an action page using \"accept-charset='utf-8'\". On the action page I'm inserting that data into a table. Later, in another page, I query that data out of the table and run it through Batik to transcode it into a PNG file. It works well.</p>\n\n<pre><code>&lt;form action=\"test_action.cfm\" method=\"post\" target=\"_blank\" accept-charset=\"utf-8\"&gt;\n</code></pre>\n\n<p>If I remove the accept-charset=\"utf-8\" from the form tag then later (on the transcode page) I get an \"Invalid byte 2 of 3-byte UTF-8 sequence\" error (when attempting to transcode).</p>\n\n<p>Further I get the very same error every which way I attempt to use jQuery's .ajax() to attempt to handle the action page in the background. Using 'accept-charset=\"utf-8\"' makes it all work.</p>\n\n<p>Attempt at using $.ajax() to send the SVG to the action page in the background:</p>\n\n<pre><code>var lclSVG = $('#myDiv')[0].innerHTML;\n$.ajax({\n  url: \"myAction.cfm\",\n  type: \"POST\",\n  data: ({myInfo: lclSVG}),\n});\n</code></pre>\n\n<p>Is there some way to post this data via $.ajax() while forcing .ajax() to do something like 'accept-charset=\"utf-8\"'? </p>\n"},{"tags":["javascript","ajax","null","undefined","typeof"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13217264,"title":"How to ensure that ajax response is an object?","body":"<p>So, I have a jQuery ajax call, and I want to make sure that the response is an object.</p>\n\n<p>my first thought was <code>if(typeof response === \"object\")</code> but there is a problem, if the ajax request returns nothing (but it is hit with a 200 header) then <code>response</code> is <code>null</code>.</p>\n\n<p>The issue here is that <code>typeof null === \"object\"</code>.</p>\n\n<p>So how can I know that the response is actually a <code>{}</code> object?</p>\n\n<p>I guess I could do <code>if(typeof response === \"object\" &amp;&amp; response !== null)</code></p>\n\n<p>But this really seems redundant...</p>\n"},{"tags":["ajax","jsf-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13217424,"title":"What does ajax do to JSF inputtext?","body":"<p>I have an input textbox that accept a name, process the name in reverse order, and then output it to another textbox. Whenever I input the value and click anywhere on the page (means lost focus from textbox), the output textbox will get update automatically.</p>\n\n<p>When I open up the source code I found something like code below, may I know what does the ajax thing do to the inputtext component?</p>\n\n<pre><code>&lt;h:inputText id=\"name\" value=\"#{helloBean.name}\"&gt;\n  &lt;f:ajax render=\"printMyName\"/&gt;\n&lt;/h:inputText&gt;\n\n&lt;h:outputText id=\"printMyName\" value=\"#{helloBean.reverseName}\"/&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","soap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13216225,"title":"Multiple ajax jquery request issue","body":"<p>The application has to request a web service by <strong>$.ajax</strong>, but the times would be multiple, and it depends on the user. Since it's dynamic, it seems that <a href=\"http://api.jquery.com/jQuery.when/\" rel=\"nofollow\">$.when</a> can't work for it.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>var increase=0;\n    var test_use_upload_file_name= t2_image_path+ increase;\nvar soap_add_new_story_image=\n    '&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;' +\n    '&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" ' + \n            'xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" '+\n            'xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;'+\n                '&lt;soap:Body&gt;'+\n                    '&lt;AddNewStoryImage xmlns=\"http://x.x.x.x/StoryForMac/\"&gt;'+\n                        '&lt;StoryID&gt;'+story_id+'&lt;/StoryID&gt;'+\n                        '&lt;UserName&gt;'+User_Name+'&lt;/UserName&gt;'+\n                        '&lt;DragNumber&gt;'+Drag_Number+'&lt;/DragNumber&gt;'+\n                        '&lt;ImagePath&gt;'+test_use_upload_file_name+'&lt;/ImagePath&gt;'+\n                    '&lt;/AddNewStoryImage&gt;'+\n                '&lt;/soap:Body&gt;'+\n            '&lt;/soap:Envelope&gt;';   \n\n\n//multiple ajax request\nvar start= 0;\nfor(;start&lt; **USER_Decide**;start++)\n{\n    $.ajax({\n        type: \"POST\",\n        url: webServiceAddNewStoryImgUrl,\n        contentType: \"text/xml\",\n        dataType: \"xml\",\n        data: soap_add_new_story_image,     \n        success: process_add_new_img_Success,\n        error: process_add_new_img_Error        \n    }); \n    increase++;\n    test_use_upload_file_name= t2_image_path+ increase; \n}\n</code></pre>\n\n<p>Since I don't know how much pic the user will draw, I have to update the file name each time(increase++). \n<br>Please any kind of suggestion~ Thanks!\n<br>\n<br><strong>UPDATE</strong>:\nSorry for my poor expression. This code WON\"T WORK. My problem is similar to this <a href=\"http://stackoverflow.com/questions/4368946/javascript-callback-for-multiple-ajax-calls\">Please take a look.</a> But the difference is that I don't know how many times I have to call the ajax request, because the user will determine it. \nThus, I can't use the method <strong>$.when</strong> provided <a href=\"http://api.jquery.com/jQuery.when/\" rel=\"nofollow\">here</a>. \nIs it clear?...</p>\n"}]}
{"total":48691,"page":6,"pagesize":100,"questions":[{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13216795,"title":".ajax and params and how to get them to look like this?","body":"<p>I tried posting a previous question, but i believe it was convoluted.</p>\n\n<p>Basically, i was told \"can you make the data come thru like this?\" - keep in mind that this data is not derived from a form, but but by data that is driven via a search on the client side.</p>\n\n<p>This is what is suppose to be sent to the server. So if you dumped the error_log, it would look this. This is all dynamic, so the object below will be that format BUT the data will change.</p>\n\n<pre><code>{\n  \"matchedItems\" :\n  [\n    { \"itemID1\" :\n      { \"Cost\" : \"12\",\n        \"Size\" : \"small\",\n        \"Colors\" : [ \"blue\", \"red\" ]\n      }\n    },\n    { \"itemdID2\" :\n      { \"Cost\" : \"33\",\n        \"Size\" : \"large\",\n        \"Colors\" : [ \"yellow\" ]\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>so, I run thru the some things on the page and bundle up the data and return data sets, thus the hashes within the array.</p>\n\n<p>BUT for the life of me, I can't get anything to look good in the actual .ajax post. When I console.log the data out, it looks good. Its an array of hashes. etc... looks fine. BUT the following is what is actually sent when I look at the params of the request. So below is what I am actually sending. It did some weird merging and such, it looks like.</p>\n\n<pre><code>{\n  'matchedItems[0][itemid1][Color]' =&gt; 'Blue',\n  'matchedItems[0][itemid1][Size]' =&gt; 'small',\n  'matchedItems[0][itemid1][Cost]' =&gt; '33.90',\n  'matchedItems[1][itemid2][Color][]' =&gt; ['Silver'],\n  'matchedItems[1][itemid2][Size]' =&gt; 'small',\n  'matchedItems[1][itemid2][Cost]' =&gt; '44',\n  'matchedItems[2][itemid3][Color][]' =&gt; ['blue','Red'],\n  'matchedItems[2][itemid3][Size]' =&gt; 'large',\n  'matchedItems[2][itemid3][Cost]' =&gt; '23'\n};\n</code></pre>\n\n<p>I tried to $.params the data, no luck. I tried various data settings in dataType, no luck. I am at a loss on how to format the data I send that mimics what I posted first.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["ajax","asp.net-mvc-3","jquery-ajax","asp.net-ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3855,"score":3,"question_id":8827706,"title":"mvc3 - ajax form submit and server side validation","body":"<p>I am sure this has been asked already, but I have been trying all the solutions given, but none of the given solution is solving my problem. Probably, I am not implementing it right.</p>\n\n<p>I am using MVC3, razor, jQuery.</p>\n\n<p>I have a new user registration form. Once registration is successful, I want to display the successful message (different on type of registration) in a dialog box.</p>\n\n<p>If there is any error with ModelState, means ModelState.IsValid == false, I want to display errors in ValidationSummary.</p>\n\n<p>View\n    </p>\n\n<pre><code>function OnBegin () { alert('begin'); return $('form').validate().form(); }\nfunction OnSuccess () { alert('success'); DisplaySucess()}\nfunction OnFailure () { alert('failure'); }\nfunction DisplaySuccess() {\n    var typeOfRegistration = $('input:radio[name=RegistrationType]:checked').val();\n    var msg;\n    if (typeOfRegistration == 0) {\n        msg = \"You are successfully enrolled for Algebra classes.\";\n    }\n    if (typeOfRegistration == 1) {\n        msg = \"You are registered with your email address. Someone would contact you with an email.\";\n    }\n    if (typeOfRegistration == 2) {\n        msg = \"Thank you for filling up this form. One welcome packet would be delivered with in next 15 days\";\n    }\n\n    msg = msg.replace(/\\n/g, '&lt;br /&gt;');\n    $('#dialog').html(msg);\n    $('#dialog').dialog('open');\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>@model Models.RegistrationModel\n@using (Ajax.BeginForm(\"NewRegistration\", \"Account\", new AjaxOptions() { OnBegin=\"OnBegin\", OnSuccess = \"OnSuccess\", OnFailure = \"OnFailure\" }))\n{ \n  @Html.ValidationSummary()\n    &lt;div&gt;\n    Register&lt;br /&gt;\n    @Html.RadioButton(\"RegistrationType \", \"0\", true) New Algebra class&lt;br /&gt;\n    @Html.RadioButton(\"RegistrationType \", \"1\") New user registration by email&lt;br /&gt;\n    @Html.RadioButton(\"RegistrationType \", \"2\") New user registration by mailing address&lt;br/&gt;\n   ..some more types\n&lt;/div&gt;\n&lt;div&gt;\n    …here I display/hide controls based on Registration type selected.\n        &lt;div&gt;\n    @Html.LabelFor(\"UserName\")\n    @Html.TextBox(\"UserName\")&lt;/div&gt;\n}\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>public ActionResult NewRegistration(RegistrationModel model)\n{\n\n         if (Request.IsAjaxRequest())\n         {\n             if (!ModelState.IsValid) { \n        //Ques: How do I display this in ValidationSummary. \n        return Json(new object[] { false, \"Contains Email Address\", ModelState.GetAllErrors() }); \n        }\n             else { \n        if (UserNameIsTaken){ \n            //Ques: This does not show in ValidationSummary\n            ModelState.AddModelError(\"_FORM\", \"This username is already taken. Please pick a different username.\");\n        }\n       }\n    }\n         else if (!ModelState.IsValid) { return View(model); }\n\n}\n</code></pre>\n\n<p>Model</p>\n\n<pre><code>public class RegistrationModel: IValidatableObject\n{\n[Required] //this gets displayed in ValidationSummary as Client-side validation\n    public string UserName { get; set; }\n    .. and all fields here\n}\npublic IEnumerable&lt;ValidationResult&gt; Validate(ValidationContext context)\n{\n        if (!string.IsNullOrEmpty(UserName) &amp;&amp; UserName.Contains(EmailAddress)) {\n            yield return new ValidationResult(\"Username cannot contain email address\", new[] { \"UserName\" });\n        }\n    }\n</code></pre>\n\n<p>Web.config has </p>\n\n<blockquote>\n  <p>UnobtrusiveJavaScriptEnabled=\"true\" and ClientValidationEnabled=\"true\"</p>\n</blockquote>\n\n<p>.js files included are</p>\n\n<blockquote>\n  <p>script src=\"@Url.Content(\"~/Scripts/jquery-1.7.1.min.js\")\" type=\"text/javascript\"></p>\n  \n  <p>script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"></p>\n  \n  <p>script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"></p>\n  \n  <p>script src=\"@Url.Content(\"~/Scripts/jquery.unobtrusive-ajax.min.js\")\" type=\"text/javascript\"></p>\n</blockquote>\n\n<p>What am I missing here? Any alternative?\nThanks in advance.</p>\n"},{"tags":["java","javascript","jquery","ajax","spring-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13209673,"title":"using Spring MVC and ajax to handle list of objects","body":"<p><strong>using AJAX and spring MVC , How to return List of objects from Spring Controller and using Jquery display them .</strong></p>\n\n<p>making Ajax request below:</p>\n\n<pre><code>$.ajax({\n                    type: \"POST\",\n                    url: \"allUser.html\",\n                    dataType:'json',\n\n                    data: \"select=\" + selectedCheckboxArray,\n                    success: function(data){\n                        var userListContent=\"\";\n                         var json =data.message;\n                        $.each(json, function(i, obj) {\n\n\n                            userListContent=userListContent+\"&lt;tr&gt;\";\n                            userListContent=userListContent+\"&lt;td&gt;&lt;input type='checkbox' value='\"+obj.id+\"'  id='select' name='select'/&gt;&lt;/td&gt; \";\n                            userListContent=userListContent+\"&lt;td id='NameColumn'&gt;\"+obj.firstName+\" \"+obj.lastName +\"&lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;td id='genderColumn'&gt;\"+ obj.gender +\"&lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;td id='userNameColumn'&gt;\"+ obj.userName +\" &lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;td id='userTypeColumn'&gt; \"+ obj.userType +\"&lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;td id='statusColumn'&gt;\"+ obj.status +\"&lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;td id='emailIdColumn'&gt;\"+ obj.emailId +\"&lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;td id='addressColumn'&gt;\"+ obj.address +\"&lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;td id='contactnoColumn'&gt;\"+ obj.contactNo +\"&lt;/td&gt;\";\n                            userListContent=userListContent+\"&lt;/tr&gt;\";\n\n                            });\n\n                        $('#rounded-corner tbody').html(userListContent);\n\n                        //console.log(userListContent);\n\n\n\n                    },\n                    error: function(e){\n\n\n                    alert('Error: ' + e.responseText);\n                    }\n                    });\n</code></pre>\n\n<p><strong>MVC Contrller</strong></p>\n\n<pre><code> @RequestMapping(value=\"/deleteUser\",method= RequestMethod.POST)\n     public @ResponseBody Map&lt;String, Object&gt; deleteUser(UserDetails user,HttpServletRequest request,HttpServletResponse response )throws ServletException,IOException\n     {\n         System.out.println(\"Ajax Request Received for delete User...............\");\n         Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;(); \n\n      JsonResponse js=new JsonResponse();\n      js.setResult(\"pass\");\n      js.setStatus(\"active\");\n    // String operation=request.getParameter(\"operation\");\n     String[] selectedUserIdParameter = request.getParameterValues(\"select\");\n    System.out.println(\"Length:\"+selectedUserIdParameter.length);\n     /* Code Description:\n      * Array \"selectedUserIdParameter\" above  has ID like {1,2,3,.....}, \n      * we need to use  array like {1 2 3 4 } without (,).so first we must convert.\n      * Following code doing the same.\n      * After Conversion Array  \"selectedUserId\" will have ID like {1 2 3 4 }\n      * If You Know PHP explode()\" function ,following is doing something like what explode() function does .\n      */\n\n\n     String msg=\"hello\";\n     List&lt;UserDetails&gt; usersList = userService.getAllUser();\n     int no=usersList.size();\n     System.out.println(\"Size:\"+no);\n     model.put(\"message\", usersList);\n     model.put(\"jso\", js);\n\n     return model;\n\n }\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby","ajax","ruby-on-rails-3","random"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":90,"score":4,"question_id":13204634,"title":"Freeze a random number in Ruby","body":"<p>I'm trying to build something that will randomly pick two objects from a list in Ruby (using Rails) and then perform basic operations on those objects. My current set up involves randomly picking numbers at the start - using these numbers to get objects from the database and then rendering those objects to index. However, now I'm trying to edit these objects using AJAX I'm running into a problem.</p>\n\n<p>It seems that, when I click on a link that the random number in being recalculated and is causing my AJAX function not to work.</p>\n\n<p>I've included (what I believe is) all relevant code below but let me know if you need to see anything else to get to the bottom of this. I'm looking to get the titles of the old animals and (ideally their previous ratings and) their new ratings to appear at the bottom of the page.</p>\n\n<p>Thanks,</p>\n\n<p>Matt</p>\n\n<p><code>controllers/static_pages.rb</code></p>\n\n<pre><code>class StaticPagesController &lt; ApplicationController\nrespond_to :html, :js\nbefore_filter :pickanimals\n\ndef pickanimals\n    @allAnimals = Animal.all\n    @random_no = rand(@allAnimals.length)\n    @animal = @allAnimals[@random_no]\n    @allAnimals.delete_at(@random_no)\n    @newRandom = rand(@allAnimals.length)\n    @animal2 = @allAnimals[@newRandom]\nend\n\n  def index\n    respond_to do |format|\n        format.html\n        format.js\n    end\nend\n\n  def help\n  end\n\n  def about\n  end\n\n  def contact\n  end\n\ndef league\nend\n\ndef voting\n    @votedAnimal = Animal.find(params[:id])\n    if @votedAnimal == @animal\n        @animal.rating += 1\n        @animal2.rating -= 1\n    else\n        @animal.rating -= 1\n        @animal2.rating += 1    \n    end\n    Animal.transaction do\n        @animal.save!\n        @animal2.save!\n    end\n    respond_to do |format|\n        format.html { redirect_to root_path }\n        format.js  \n    end\nend\nend\n</code></pre>\n\n<p><code>app/views/static_pages/index.html.erb</code></p>\n\n<pre><code>&lt;div class=\"center hero-unit\"&gt;\n&lt;h1&gt;Animal Attack&lt;/h1&gt;\n&lt;p&gt; Who will win when nature collides? &lt;/p&gt;\n&lt;div class=\"animalcontainerright\"&gt;\n&lt;h2&gt; &lt;%= @animal.name %&gt; &lt;/h2&gt; \n&lt;%= link_to image_tag(@animal.attachment.url(:large)), voting_path(@animal.id), :remote =&gt; true, :confirm =&gt; \"Rating:  \"+@animal.rating.to_s  %&gt;\n&lt;/div&gt;\n&lt;div class=\"animalcontainerleft\"&gt;\n&lt;h2&gt; &lt;%= @animal2.name %&gt; &lt;/h2&gt;\n&lt;%= link_to image_tag(@animal2.attachment.url(:large)), voting_path(@animal2.id), :remote =&gt; true, :confirm =&gt; \"Rating:  \"+@animal2.rating.to_s  %&gt;\n&lt;/div&gt;\n&lt;div id=\"animalfacts\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p><code>routes.rb</code></p>\n\n<pre><code>AnimalAttack::Application.routes.draw do\n\nresources :animals\n\nroot to: 'static_pages#index'\nmatch '/help' =&gt; 'static_pages#help'\nmatch '/about' =&gt; 'static_pages#about'\nmatch '/contact' =&gt; 'static_pages#contact'\nmatch '/league' =&gt; 'static_pages#league'\nmatch '/voting/:id' =&gt; 'static_pages#voting'\n\nend\n</code></pre>\n\n<p><code>rake routes</code></p>\n\n<pre><code>    animals GET    /animals(.:format)          animals#index\n        POST   /animals(.:format)          animals#create\n new_animal GET    /animals/new(.:format)      animals#new\nedit_animal GET    /animals/:id/edit(.:format) animals#edit\n animal GET    /animals/:id(.:format)      animals#show\n        PUT    /animals/:id(.:format)      animals#update\n        DELETE /animals/:id(.:format)      animals#destroy\n   root        /                           static_pages#index\n   help        /help(.:format)             static_pages#help\n  about        /about(.:format)            static_pages#about\ncontact        /contact(.:format)          static_pages#contact\n league        /league(.:format)           static_pages#league\n               /animals(.:format)          animals#new\n               /voting/:id(.:format)       static_pages#voting\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13215584,"title":"jQuery and my passed data to ajax is not at all what I intend","body":"<p>I am not sure what is going on. I've done exhausted searching for an answer. I thought it was processData but the ajax won't fire off in that case. I can't for the life of me figure out what is going on.</p>\n\n<p>I am trying to send data via POST, ajax. </p>\n\n<p>Because of how my data is set up, in page, I can actually create a hash and push it into an array. So I have something like.</p>\n\n<p>The data I am forming looks like this:</p>\n\n<p>in my init func, I set up some vars.</p>\n\n<pre><code>this.dataHolder = [];\n</code></pre>\n\n<p>in a method in my plugin:</p>\n\n<pre><code>            _acceptData:function(){\n                var item = {};\n                item[this.schema.itemId] =\n                          {\n                             \"Color\" : this.schema.color,\n                             \"Size\" : this.schema.size,\n                              \"Cost\"    : this.schema.cost\n\n                          }\n               return item;\n            },\n</code></pre>\n\n<p>basically I have some other methods and such, but the jist is that that data structure above gets put into: this.dataHolder</p>\n\n<p>when I dump the data, looks like it should. Various console.logs thruout the code shows me the data is well formed etc.. BUT when I pass it into the ajax data.. it does wonky things.</p>\n\n<p>When I have my ajax.. ala:</p>\n\n<pre><code> var self = this;\n.ajax({\n  type: \"POST\",\n  data : {matchedItems : self.dataHolder},\n  dataType: json,\n  url : /some/path/\n</code></pre>\n\n<p>I tried soo many different things, and in all cases the data is either undefined (when I Post it) OR its in a weird format, like: (in logs)</p>\n\n<pre><code>  $VAR1 = {\n\n      'matchedItems[0][itemid1][Color]' =&gt; 'Blue',\n      'matchedItems[0][itemid1][Size]' =&gt; '11',\n      'matchedItems[0][itemid1][Cost]' =&gt; '33.90',\n      'matchedItems[1][itemid2][Color][]' =&gt; 'Silver',\n      'matchedItems[1][itemid2][Size]' =&gt; '13',\n      'matchedItems[1][itemid2][Cost]' =&gt; '44',\n      'matchedItems[2][itemid3][Color][]' =&gt; 'Red',\n      'matchedItems[2][itemid3][Size]' =&gt; '9',\n      'matchedItems[2][itemid3][Cost]' =&gt; '23'\n    };\n</code></pre>\n\n<p>or different permutations</p>\n\n<pre><code>data : MatchedItems : {self.dataHolder}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>data : {MatchedItems : {self.dataHolder}}\n</code></pre>\n\n<p>etc.. doesn't matter, the POST always gets some really odd formatting.</p>\n\n<p>This is the way it should look when I send it and how they receive it.</p>\n\n<pre><code>matchedIeds = {\n          itemId1 :\n            {\n              Color : Red,\n              Size : 11,\n              Cost    : 44\n            },\n          itemId2 :\n            {\n              Color : Blue,\n              Size : 8,\n              Cost    : 12\n            },\n          itemId3 :\n            {\n              Color : Blue,\n              Size : 19,\n              Cost    : 88.09\n            }\n          }\n</code></pre>\n\n<p>I mean, I am setting up my data like that so I can't see what is wrong.</p>\n\n<p>Note: I tried processData : false, but that didn't help at all.</p>\n\n<p><strong>EDIT:</strong>\nHere is the code console.log'd out write before I pass it into the .ajax method.\n<strong>Console.log</strong></p>\n\n<pre><code>[Object { itemid1={...}}, Object { itemid2={...}}, Object { itemid3={...}}]\n</code></pre>\n\n<p><strong>Here it is in the params of the post:</strong>\n    jquery.js (line 641)\nPOST <a href=\"http://www.myurl/to/test\" rel=\"nofollow\">http://www.myurl/to/test</a></p>\n\n<p>200 OK\n        79ms<br>\njquery.js (line 7829)</p>\n\n<p>HeadersPostResponseJSONCookies</p>\n\n<pre><code>Parametersapplication/x-www-form-urlencoded\nundefined   undefined\nundefined   undefined\nundefined   undefined\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13215191,"title":"Radio buttons always providing same value regardless of selection","body":"<p>Hoping somebody can help me with this. For some reason, the following form code always gives the 'route' radio button value as being 'm', even when the the option with value 's' is selected.</p>\n\n<pre><code>echo \"&lt;b&gt;&lt;u&gt;Route Information&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;\";\n\necho \"Select Route Name: &lt;input type='radio' name='route' id='route1' value='s' onclick='switchRoute();' CHECKED&gt;&lt;br&gt;\";\necho \"&lt;div id='txtLocation'&gt;&lt;select name='route_name' id='route_name'&gt;\n    &lt;option value='0000'&gt;... select a location ...&lt;/option&gt;\";\necho \"&lt;/select&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;\";\n\necho \"Or enter a new route (select the radio button for this option):&lt;input type='radio' name='route' id='route2' value='m' onclick='switchRoute();'&gt;&lt;br&gt;\";\necho \"&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbspRoute Name:&lt;br&gt;&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&lt;input name='new_route_name' size='50' disabled='true' class='input-xlarge'&gt;&lt;br&gt;&lt;br&gt;\";\necho \"&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbspRoute Grade:&lt;br&gt;&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&lt;input type='number' name='route_grade'  class='input-mini' disabled='true'&gt;&lt;br&gt;&lt;br&gt;\";\necho \"&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbspRoute Description &lt;i&gt;(optional)&lt;/i&gt;:&lt;br&gt;&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&lt;textarea name='route_description' class='input-xxlarge' rows='3' disabled='true'&gt;&lt;/textarea&gt;&lt;br&gt;&lt;br&gt;\";\n</code></pre>\n\n<p>The route_name select is filled out with the follwing ajax code:</p>\n\n<pre><code>function showUser(str)\n{\n    if (str==\"\")\n      {\n      document.getElementById(\"txtLocation\").innerHTML=\"\";\n      return;\n      } \n    if (window.XMLHttpRequest)\n      {// code for IE7+, Firefox, Chrome, Opera, Safari\n      xmlhttp=new XMLHttpRequest();\n      }\n    else\n      {// code for IE6, IE5\n      xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }\n      xmlhttp.onreadystatechange=function()\n      {\n      var output = '';\n      if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n        {\n        output = xmlhttp.responseText;\n        document.getElementById(\"txtLocation\").innerHTML=output;\n        }\n      }\n    xmlhttp.open(\"GET\",\"../model/selected_loc.php?l=\"+str,true);\n    xmlhttp.send();\n}\n</code></pre>\n\n<p>Which is called by this PHP code:</p>\n\n<pre><code>echo \"&lt;b&gt;&lt;u&gt;Location Information&lt;/u&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;\";\necho \"&lt;select name='loc_id' id='loc_id' onchange='showUser(this.value)'&gt;&lt;option value='0000'&gt;... select a location ...&lt;/option&gt;\";\n$result = mysql_query(\"SELECT loc_id, name FROM location ORDER BY name\");\n\nwhile ($row = mysql_fetch_array($result))\n{\n    $id = $row['loc_id'];\n    $name = $row['name'];\n    echo \"&lt;option value='{$id}'&gt;{$name}&lt;/option&gt;\";\n}\necho \"&lt;/select&gt;&lt;br&gt;&lt;br&gt;\";\n</code></pre>\n\n<p>There is also this javascript code acting on the form.</p>\n\n<pre><code>function switchRoute()\n{\n    if (document.getElementById('route2').checked)\n    {\n        document.submitroute.route_name.disabled=true;\n        document.submitroute.new_route_name.disabled=false;\n        document.submitroute.route_grade.disabled=false;\n        document.submitroute.route_description.disabled=false;\n\n    }\n    else if (document.getElementById('route1').checked)\n    {\n        document.submitroute.route_name.disabled=false;\n        document.submitroute.new_route_name.disabled=true;\n        document.submitroute.route_grade.disabled=true;\n        document.submitroute.route_description.disabled=true;\n    }\n}\n</code></pre>\n\n<p>Thanks for any assistance you can give me.</p>\n"},{"tags":["html","ajax","onchange"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13215548,"title":"HTML select onchange multiple events not working","body":"<p>I have two functions defined that are basically supposed to get a value from drop down menu and depending on what was selected, throw up a table and form using AJAX. </p>\n\n<p>Here are my 2 functions:</p>\n\n<pre><code>function showParts(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"partvalues\").innerHTML=\"\";\n  return;\n  }\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"partvalues\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"getparts.php?q=\"+str,true);\nxmlhttp.send();\n}\n\nfunction showOrders(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"otherparts\").innerHTML=\"\";\n  return;\n  }\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"otherparts\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"formOrder.php?q=\"+str,true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>I tested those 2 functions and they both work properly. I have 2 PHP pages which have a query to retrieve the appropriate values. But the problem is, when I try to run both of them as onchange events, neither of them work.</p>\n\n<pre><code>echo \"&lt;select name = finishgood_list onchange = showParts(this.value); showOrders(this.value)&gt;\";\n        while ($row = mysql_fetch_array($result))\n        {\n            echo \"&lt;option value='\" . $row['fg_id'] . \"'&gt;\" . $row['fg_id'] . \"&lt;/option&gt;\";\n        }\n</code></pre>\n\n<p>If I try and nest the functions within parenthesis, neither of them work when I change values in my drop down menu. I tested them individually and they both work fine but I cannot get them both to work at the same time.Only the first function is executing so If I change those around the showOrder will work but not the other. </p>\n\n<p>Are there any problems here? If I can't do it this way, is there another way to retrieve the appropriate values dynamically when selecting a value from a drop down menu?</p>\n"},{"tags":["ajax","phonegap","jsonp","zepto"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13070274,"title":"First ajax call on Phonegap + Zepto returns undefined even after device ready","body":"<p>I'm doing a jsonp call in my mobile app at startup to connect to my server. I'm using Phonegap 2.1 and Zepto 1.0-rc1. At the bottom of my html page, I do the init stuff on DOM ready.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nif (!$) {$ = Zepto};\n$(init);\ndocument.addEventListener('deviceready', Perksea.deviceReady);\n&lt;/script&gt;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>function init() {\n    var router = new Backbone.Router();\n    ...\n}\nfunction deviceReady() {\n    isConnected();\n    isConnected();\n}\nfunction isConnected() {\n    $.ajaxJSONP({\n        url: 'http://localhost/isconnected',\n        success: function(response) {\n            console.log('response is ' + response);\n        }\n    });\n}\n</code></pre>\n\n<p>The first JSONP call will print \"response is undefined\" but the second JSONP call works. I've even tried putting the JSONP call in a setTimeout(isConnected, 5000) with the same result. Have already checked that the url is correct etc.</p>\n\n<p>Has anyone seen something like this?</p>\n\n<p>Thanks\nSteve</p>\n"},{"tags":["asp.net","ajax","control","toolkit"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3483,"score":2,"question_id":1111085,"title":"Ajax Control Toolkit TabContainer - how can I determine which tab was clicked?","body":"<p>I am stuck working with the TabContainer control of the Ajax Contol Toolkit.</p>\n\n<p>When a user clicks a tab, I am trying to capture which tab was clicked (like the index).</p>\n\n<p>Anyone out there know if this is possible?  </p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13187615,"title":"ajax like/unlike button not switching back","body":"<p>I am trying to make a like button on a page and cant seem to get it to work right. Basically there are three function that use ajax to send the data to a php page that updates the database. Ive checked the db and all three update correctly. If the user doesnt originally like and clicks, it correctly shows the unlike button but then, if you click unlike it doesnt switch back (although it does update the database).</p>\n\n<p>Is this the correct way to set this up? Im pretty new to ajax and am not sure if this is the right approach. THanks in advance\nSteve</p>\n\n<pre><code>public function likesScript($p){?&gt;\n    &lt;script&gt;\n\n//display list of people who like this\n    function getLikes(){\n    $.ajax({\n        type: \"POST\",\n        url: \"likelist.php\",\n        data: { p: \"&lt;?php echo $_GET['p']?&gt;\"}\n    }).success(function(res) {\n\n\n         //check to see if current user likes this   \n        if($('li#&lt;?PHP echo $_SESSION['userId']; ?&gt;').length){\n            $(\".Like\").addClass('hidden');\n\n            $(\".UnLike\").removeClass('hidden');\n        }\n        else{  \n            $(\".UnLike\").addClass('hidden');\n            $(\".Like\").removeClass('hidden');\n\n        }\n\n        $(\"#likedBy\").append(res); \n        console.log(res);\n\n    });\n}\n\n\nfunction removeLike() {\n    $.ajax({\n        type: \"POST\",\n        url: \"likedata.php\",\n        data: { arg1: \"&lt;?php echo $_SESSION['userId']?&gt;\", arg2: \"&lt;?php echo $p;?&gt;\", arg3: \"0\" }\n    })\n\n    getLikes();\n\n\n    return false; \n}\n\n\nfunction addLike() {\n\n\n    $.ajax({\n        type: \"POST\",\n        url: \"likedata.php\",\n        data: { arg1: \"&lt;?php echo $_SESSION['userId']?&gt;\", arg2: \"&lt;?php echo $p;?&gt;\", arg3: \"1\" }\n    })\n\n\n    getLikes();\n\n\n    return false; \n}\n\n\n\n$(document).ready(function() {   getLikes();\n $(\".UnLike\").live('click',removeLike);\n $(\".Like\").live('click',addLike);\n\n\n});\n\n\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>likelist.php:</p>\n\n<pre><code>&lt;?php\nrequire $_SERVER['DOCUMENT_ROOT'].'/view.class.php';\n\n$view = new view();\ninclude $_SERVER['DOCUMENT_ROOT'].'/profile.class.php';\ninclude $_SERVER['DOCUMENT_ROOT'].'/init.php';  \n\n$profile = new profile($dbh);\n\nif(isset($_POST)){\n$p = $_POST['p'];\n\n\n$view-&gt;printLikes($profile-&gt;getLikes($p));\n\n\n}\n</code></pre>\n\n<p>likedata.php:</p>\n\n<pre><code>&lt;?php\ninclude $_SERVER['DOCUMENT_ROOT'].'/profile.class.php';\ninclude $_SERVER['DOCUMENT_ROOT'].'/init.php';  \n\n$profile = new profile($dbh);\n\nif(isset($_POST)){\n$liker = $_POST['arg1'];\n$likee = $_POST['arg2'];\n$likeYesNo = $_POST['arg3'];\n\n$profile-&gt;insertLikes($liker, $likee, $likeYesNo);\n\n\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13211442,"title":"how to insert multiple checkbox value in the url","body":"<p>I have a form that contain a multiple checkbox \ni want to insert the values of checkbox into the url like this</p>\n\n<pre><code>var a=encodeURIComponent(document.getElementById(\"idofcheckbox\").value)\nxmlhttp.open(\"GET\",\"InsertPHPData.php?q=\"+a+,true); xmlhttp.send();\n</code></pre>\n\n\nChoix1 <br>\nchoix2 <br> \n"},{"tags":["ajax","zend-framework","add","subform"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":570,"score":6,"question_id":8069046,"title":"Add a subform to a form with ajax on submit","body":"<p>I read this article:\n<a href=\"http://www.jeremykendall.net/2009/01/19/dynamically-adding-elements-to-zend-form/\" rel=\"nofollow\">http://www.jeremykendall.net/2009/01/19/dynamically-adding-elements-to-zend-form/</a></p>\n\n<p>That was very interesting and it works fine.</p>\n\n<p>I need to do the same but with a SubForm. I mean that when a user presses a button, I call, via ajax, an action that adds, attaches and displays a subform to my existing form.</p>\n\n<p>For example:<br>\nI have a form where a user must fill in the name and surname of his children, so there is a button \"Add Child\". When the user presses that button a SubForm should be added to my existing form and displayed. On submit it will validate exactly like the example in that article.  The only difference is that in there he just adds a single field. I need to add a SubForm, but in exactly the same way.</p>\n\n<p>I tried the following in my action ( called by Ajax ):</p>\n\n<pre><code>public function clonerecursivegroupAction()\n{\n    $this-&gt;_helper-&gt;layout-&gt;disableLayout();\n    $ajaxContext = $this-&gt;_helper-&gt;getHelper('AjaxContext');\n    $ajaxContext-&gt;addActionContext('clonerecursivegroup', 'html')-&gt;initContext();\n\n    $id = $this-&gt;_getParam('id', null);\n\n    $subform1 = new Zend_Form_SubForm();\n\n    $Element1 = $subform1-&gt;createElement('text', 'text1');\n    $Element1-&gt;setLabel('text1')-&gt;setRequired(true);\n    $Element2 = $subform1-&gt;createElement('text', 'text2');\n    $Element2-&gt;setLabel('text2')-&gt;setRequired(false);\n\n    $subform1-&gt;addElement($Element1);\n    $subform1-&gt;addElement($Element2);\n\n    $this-&gt;view-&gt;field = $subform1-&gt;__toString();\n}\n</code></pre>\n\n<p>This almost works.<br>\nThe view of this action returns the html code of the SubForm, so on success of my ajax call I just display it.</p>\n\n<p>The problem is that on submit it validates the form but it has lost the new subform just added. That does not happen in the article with just one element. I think I just need to add the SubForm to the existing Form, but how?</p>\n"},{"tags":["javascript","jquery","mysql","ajax","handlebars.js"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1544,"score":2,"question_id":10330129,"title":"Jquery / Handlebars error message - Uncaught TypeError: Object [object Object] has no method 'match'","body":"<p>i am working on a little learning project and have run into an issue that i cant work out.</p>\n\n<p>I get the following error message on google chromes dev console :-</p>\n\n<pre><code>Uncaught TypeError: Object [object Object] has no method 'match'\nlexer.nexthandlebars-1.0.0.beta.6.js:364\nlexhandlebars-1.0.0.beta.6.js:392\nlexhandlebars-1.0.0.beta.6.js:214\nparsehandlebars-1.0.0.beta.6.js:227\nHandlebars.parsehandlebars-1.0.0.beta.6.js:507\ncompilehandlebars-1.0.0.beta.6.js:1472\n(anonymous function)handlebars-1.0.0.beta.6.js:1481\n(anonymous function)scripts.js:103\njQuery.Callbacks.firejquery.js:1046\njQuery.Callbacks.self.fireWithjquery.js:1164\ndonejquery.js:7399\njQuery.ajaxTransport.send.callback\n</code></pre>\n\n<p>Now this shows up at an error with the following code in the handlebars scrips </p>\n\n<pre><code>match = this._input.match(this.rules[rules[i]]);\nUncaught TypeError: Object [object Object] has no method 'match'\n</code></pre>\n\n<p>So what i take from this is that there must be an issue with my code and not the handlebar code even though it is in beta. </p>\n\n<p>Here is the section of code that kicked it all off.</p>\n\n<pre><code>displayJobInfo: function( e ) {\n    var self = Actors;\n\n    self.config.jobInfo.slideUp( 300 );\n    var jobnum = $(this).data( 'job_id' );\n    $.ajax({\n        data: { job_id: jobnum }\n\n    }).then(function( results ) {\n        self.config.jobInfo.html( self.config.JobInfoTemplate( { jobs: results, job_id: jobnum }) ).slideDown(300);\n    });\n    console.log($(this).data( 'job_id' ));\n    e.preventDefault();\n}\n</code></pre>\n\n<p>I have spent hours trying to work this one out myself and have got almost the same section of code working in another part of my site.</p>\n\n<p>Little  bit of background - i am using php to pull a database from mysql and then to query the database based on as users input and jquery to overlay the fields back onto the page.</p>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13214051,"title":"Removing dynamically created row from array","body":"<p>I have two textboxes and an add button. When you click add it generates a table below the textboxes with each row having a Remove button. When you click remove it removes the table row but doesn't remove the contents from within the array (at least i don't think).</p>\n\n<p>How do I get it to remove the contents as well? Currently when I click add and then remove a few it messes up my database table by inserting the first one fine but then messing up the rest by either not inserting it, or just adding 1 column.... If i don't remove any it works perfectly fine. </p>\n\n<pre><code> var $tdRemoveRow = $('&lt;td&gt;').appendTo($tr);\n    $('&lt;a&gt;').attr({\n        'href': '#',\n    'id': 'submit-button'\n    }).text(\"Remove\").click(function() {\n        $tr.remove();\n        return false;\n    }).appendTo($tdRemoveRow);\n</code></pre>\n\n<p>The error must be in the above code somewhere. Does anyone see an issue?</p>\n\n<pre><code> var locations = [];   \n$(\"#add\").click(function() {\n    var address = $(\"#address\").val();\n    var city = $(\"#city\").val();\n\n    if (address ==\"\" || city ==\"\") {\n    $(\"#locationDeals\").text('*Please enter an address and city');\n    return false;\n} \nelse {\ncodeAddress();\n        var $tr = $('&lt;tr&gt;').css({\n            'padding': '4px',\n            'background-color': '#ddd'\n        }).appendTo('#locationDeals');\n\n        var location = [\n            address,\n            city                \n        ];\n        locations.push(location);\n\n        for (i = 0; i &lt; 2; i++) {\n            var $td = $('&lt;td&gt;').appendTo($tr);\n            $('&lt;span&gt;').text(location[i]).appendTo($td);\n            $('&lt;input type=\"hidden\"&gt;').attr({\n                'name': 'loc[' + ctr + '][' + i + ']',\n                'value': location[i]\n            }).appendTo($td);\n        }\n\n        var $tdRemoveRow = $('&lt;td&gt;').appendTo($tr);\n        $('&lt;a&gt;').attr({\n            'href': '#',\n        'id': 'submit-button'\n        }).text(\"Remove\").click(function() {\n            $tr.remove();\n            return false;\n        }).appendTo($tdRemoveRow);\n\n        ctr++;\n\n        $(\"#locationtext\").text('');\n        return false;\n    } \n});\n</code></pre>\n"},{"tags":["jquery","mysql","ajax","codeigniter","laravel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13203711,"title":"Implementing non framework code into a framework such as laravel or codeigniter","body":"<p>I'm trying to implement <strong>AJAX Booking Calendar Pro</strong> into my Laravel application. <em>(It was purchased from CodeCanyon)</em> I've implemented most of the plugin, I just need to figure out how to connect it to the database so I can save and display the information. I'm using the controller approach. The start of the js file looks like this..</p>\n\n<pre><code>(function($)\n{\n    $.fn.DOPBookingCalendar = function(options)\n    {\n        var Data = {'Type':'BackEnd',\n                'DataURL':'/php/load.php',\n                'SaveURL':'/php/save.php',\n                'DayNames':['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n                'MonthNames':['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n                'AvailableText':'AVAILABLE', // The available text.\n                'BookedText':'BOOKED', // The Booked text.\n                'UnavailableText':'NOT AVAILABLE', // The unavailable text.\n                'DateType':1, // 1: american style; 2: european style;\n                'PopupDisplayTime':300, // The time for the Pop-Up to Show/Hide\n                'StatusLabel':'Status', // The text for Availability label.\n                'PriceLabel':'Price', // The text for Price label.\n                'Currency':'$', // The currency.\n                'SubmitBtnText':'Submit', // The text for Submit button.\n                'ResetBtnText':'Reset', // The text for Reset button.\n                'ExitBtnText':'Exit', // The text for Exit button.\n                'InvalidPriceText':'Error! Please enter a number for the price.' // The text for Invalid Price Warning.\n               },\n</code></pre>\n\n<p>It seems to me that I it could be something as simple as setting the DataURL and SaveURL to a controller/model ... but how would I connect the database, and how do I know what fields the table would have? Hopefully someone will have experience with this.</p>\n\n<pre><code>//This is the save query\n\nif (isset($_POST['dop_booking_calendar'])){\n    require_once 'opendb.php';\n    mysql_query('UPDATE schedule SET data=\"'.$_POST['dop_booking_calendar'].'\" WHERE id=1');\n}\n\n//this is the load query\n\nrequire_once 'opendb.php';\n\n$query = mysql_query('SELECT * FROM schedule WHERE id=1');\n\nwhile ($result=mysql_fetch_array($query)){\n    echo $result['data'];\n}\n</code></pre>\n"},{"tags":["jquery","ajax","history","history.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13211558,"title":"history.js jquery is there something as a removestate","body":"<p>As the documentation for history.js is hard to find, seemingly non existent except for the demo's on github. Well I need to remove the last added stat. eg:</p>\n\n<p>I have an Url which is called site/Random which calls a php for getting an random entry. Of course if I push the button for calling the url a pushstate will be added with this url...</p>\n\n<p>So in the document itself I do another pushstate for the real url of the entry eg. /site/nobody. So I need to remove the last added pushstate.</p>\n\n<p>Any Ideas?</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":31,"score":-3,"question_id":13214117,"title":"reference error on javascript function using ajax","body":"<p>i´m using ajax to use a keyword search on a mysql database, and when results are coming i want to show options as href with an onclick function, the search works fine, but when i click on any option i get a reference error on my firebug, this is the code:\nindex.php</p>\n\n<pre><code> &lt;html&gt;\n\n&lt;body&gt;\n    &lt;style&gt;\n        #displayDiv {\n            background-color: #ffeeaa;\n            width: 200;\n        }\n    &lt;/style&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        function aca(esto) {\n            var esta = esto;\n            alert(esta);\n        }\n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        function ajaxFunction(str) {\n            var httpxml;\n            try {\n                // Firefox, Opera 8.0+, Safari\n                httpxml = new XMLHttpRequest();\n            } catch (e) {\n                // Internet Explorer\n                try {\n                    httpxml = new ActiveXObject(\"Msxml2.XMLHTTP\");\n                } catch (e) {\n                    try {\n                        httpxml = new ActiveXObject(\"Microsoft.XMLHTTP\");\n                    } catch (e) {\n                        alert(\"Your browser does not support AJAX!\");\n                        return false;\n                    }\n                }\n            }\n\n            function stateChanged() {\n                if (httpxml.readyState == 4) {\n                    document.getElementById(\"displayDiv\").innerHTML = httpxml.responseText;\n\n                }\n            }\n            var url = \"search.php\";\n            url = url + \"?txt=\" + str;\n            url = url + \"&amp;sid=\" + Math.random();\n            httpxml.onreadystatechange = stateChanged;\n            httpxml.open(\"GET\", url, true);\n            httpxml.send(null);\n        }\n    &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;form name=\"myForm\"&gt;\n            &lt;input type=\"text\" onkeyup=\"ajaxFunction(this.value);\" name=\"username\"\n            /&gt;\n            &lt;div id=\"displayDiv\"&gt;&lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>And this is the search.php</p>\n\n<pre><code>&lt;?php\ninclude (\"dbinfo.php\");\n$in = $_GET['txt'];\n$msg = \"\";\nif (strlen($in) &gt; 0 and strlen($in) &lt; 20) {\n    $t = mysql_query(\"select RubroId, RubroDisp from rubros where KeyWords like '$in%'\");\n    while ($nt = mysql_fetch_array($t)) {\n        $valor = $nt[RubroDisp];\n        $valorCodificado = str_replace(\" \", \"_\", $valor);\n        echo \"&lt;a href='#' onclick='aca($valorCodificado);'&gt;$valor&lt;/a&gt;&lt;br /&gt;\";\n\n                                        }\n                                          }\n?&gt;\n</code></pre>\n\n<p>You can see the working page at <a href=\"http://www.gsilvainc.com/buscador\" rel=\"nofollow\">this url</a></p>\n\n<p>Can you please tell me how to solve it? or what i am doing wrong?</p>\n\n<p>thanks</p>\n"},{"tags":["ruby-on-rails","ajax","controller","best-in-place"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13213293,"title":"best_in_place gem, view not displaying updated edit without page reload","body":"<p>I added the best_in_place gem to my project and the update does NOT take effect until a page reload has happened. I can see it flash in my show view but it requires a page reload. Why is this?</p>\n\n<p>My Lists controller:</p>\n\n<pre><code> respond_to :html, :xml, :js\n\n\n  def update\n    @list = List.find(params[:id])\n    @list.update_attributes(params[:list])  \n    respond_with(@list, :location =&gt; list_url(@list))\n  end\n</code></pre>\n\n<p>My Lists show view-</p>\n\n<pre><code>  &lt;h2 class=\"page-header\"&gt;&lt;%= best_in_place @list, :name %&gt;&lt;/h2&gt;\n  &lt;h2 class=\"lead\"&gt;&lt;%= best_in_place @list, :description %&gt;&lt;/h2&gt;\n</code></pre>\n\n<p>My gemfile- </p>\n\n<pre><code>group :assets do\n  gem 'sass-rails',   '~&gt; 3.2.3'\n  gem 'coffee-rails', '~&gt; 3.2.1'\n  gem 'best_in_place'\n\n  # See https://github.com/sstephenson/execjs#readme for more supported runtimes\n  # gem 'therubyracer', :platforms =&gt; :ruby\n  gem 'jquery-ui-rails'\n  gem 'uglifier', '&gt;= 1.0.3'\nend\n</code></pre>\n\n<p>My application js manifest -</p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require jquery.ui.datepicker\n//= require justgage\n//= require raphael.min\n//= require jquery.purr\n//= require best_in_place\n//= require_tree .\n</code></pre>\n\n<p>My lists coffee-</p>\n\n<pre><code>jQuery -&gt;\n  $('#task_due_date').datepicker\n    dateFormat: 'mm/dd/yy'\n\njQuery -&gt;\n  $('.best_in_place').best_in_place()\n</code></pre>\n\n<p>Could it be the order of my manifest js files?  What am I overlooking here to get the update to take without a page reload? Thanks for your attention.</p>\n"},{"tags":["javascript","ajax","internet-explorer"],"answer_count":8,"favorite_count":3,"up_vote_count":11,"down_vote_count":0,"view_count":5092,"score":11,"question_id":244918,"title":"Internet Explorer 7 Ajax links only load once","body":"<p>I'm writing an application and I'm trying to tie simple AJAX functionality in. It works well in Mozilla Firefox, but there's an interesting bug in Internet Explorer: Each of the links can only be clicked once. The browser must be completely restarted, simply reloading the page won't work. I've written a <a href=\"http://static.stillinbeta.com/page/\" rel=\"nofollow\">very simple example application</a> that demonstrates this.</p>\n\n<p>Javascript reproduced below:</p>\n\n<pre><code>var xmlHttp = new XMLHttpRequest();\n\n/*\nitem: the object clicked on\ntype: the type of action to perform (one of 'image','text' or 'blurb'\n*/\nfunction select(item,type)\n{\n\n\t//Deselect the previously selected 'selected' object\n\tif(document.getElementById('selected')!=null)\n\t{\n\t\tdocument.getElementById('selected').id = '';\n\t}\n\t//reselect the new selcted object\n\titem.id = 'selected';\n\n\t//get the appropriate page\n\tif(type=='image')\n\t\txmlHttp.open(\"GET\",\"image.php\");\n\telse if (type=='text')\n\t\txmlHttp.open(\"GET\",\"textbox.php\");\n\telse if(type=='blurb')\n\t\txmlHttp.open(\"GET\",\"blurb.php\");\n\n\txmlHttp.send(null);\n\txmlHttp.onreadystatechange = catchResponse;\n\n\treturn false;\n\n}\nfunction catchResponse()\n{\n\tif(xmlHttp.readyState == 4)\n\t{\n\t\tdocument.getElementById(\"page\").innerHTML=xmlHttp.responseText;\n\t}\n\n\treturn false;\n}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["php","jquery","html","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":328,"score":1,"question_id":7012224,"title":"Is there a method for jQuery .tmpl() completed event handling?","body":"<p>I'd like to ask, how can i make a $.tmpl ready function?</p>\n\n<p>In my code I pass the ajax json to my createForm function.</p>\n\n<pre><code>var doFunction = {\nnew: function() { \n    $.ajax({\n      url: 'index.php?...',\n      success: function(data) {\n        createForm(data).appendTo($(\"#whitespace\"));\n        $(\"#whitespace\").click(function(){\n            $(this).empty().hide();\n        });\n        $(\"#popup\").click(function(e){\n            e.stopPropagation();\n        });\n        $(\"#whitespace\").show();\n      }\n    });\n},\n</code></pre>\n\n<p>The createForm function</p>\n\n<pre><code>function createForm(data) {\nvar $container = $('&lt;div id=\"popup\"&gt;&lt;/div&gt;');\nvar $content = $('&lt;article&gt;&lt;/article&gt;');\n$.get('mydomain.com/formcreator.htm', function(template) {\n  $.tmpl(template, data).appendTo($content);\n});\n$content.appendTo($container);\nreturn $container;\n}\n</code></pre>\n\n<p>But if I tell the <code>$container</code> to <code>$container.find(\".tabs\").tabs();</code> - it contains an <code>&lt;div class=\"tabs&gt;...etc...&lt;/div&gt;</code>.</p>\n\n<p>I think the problem is I did not catched the $.tmpl finish event.<br>\nIs there a success event of the $.tmpl?</p>\n\n<p>Please help me in this.</p>\n"},{"tags":["php","html","ajax","httpwebrequest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13213682,"title":"HTTPRequest not working","body":"<p>I have the following code but my <code>&lt;a onclick=\"meldaan()\"&gt;Aanmelden&lt;/a&gt;</code> isn't working. The function doesn't get called.</p>\n\n<p>This is the function:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction meldaan()\n{\n    var voornaam = document.getElementById('voornaam').value;\n    var achternaam = document.getElementById('achternaam').value;\n    var email = document.getElementById('email').value;\n    var password = document.getElementById('password').value;\n\n    if (window.XMLHttpRequest)\n      {// code for IE7+, Firefox, Chrome, Opera, Safari\n      xmlhttp=new XMLHttpRequest();\n      }\n    else\n      {// code for IE6, IE5\n      xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }\n    xmlhttp.onreadystatechange=function()\n      {\n      if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n        {\n        document.getElementById(\"results\").innerHTML=xmlhttp.responseText;\n        }\n      }\n    xmlhttp.open(\"GET\",\"aanmelden.php?naam=\" + encodeURIComponent(voornaam) + \"&amp;achternaam=\" + encodeURIComponent(achternaam) + \"&amp;email=\" + encodeURIComponent(email) + \"&amp;password=\" \n    + encodeURIComponent(password),true);\n    xmlhttp.send();\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>I have the function placed in my header.php file which is included in the footer.php (the place where <code>&lt;a onclick=\"meldaan()\"&gt;Aanmelden&lt;/a&gt;</code> is located.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>The results are properly deliverd to my page because I tried echoing something and it did show up, so it must be in this code.</p>\n\n<p>Thanks for your time!</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13213629,"title":"JS code within html returned via ajax not executing","body":"<p>For instance say I run an ajax call and the returned data is something like:</p>\n\n<pre><code>&lt;article&gt;\n    &lt;h2&gt;Howdy&lt;/h2&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        alert('hi');\n        posts[23] = 'this wont get added into the posts array';\n    &lt;/script&gt;\n&lt;/article&gt;\n</code></pre>\n\n<p>I then insert this returned data straight into a div already on the page. None of the javascript will execute. How do I do this correctly and make it work?\nI don't have much control of what gets returned so returning json isn't an option. </p>\n\n<p>Thanks!</p>\n"},{"tags":["javascript","jquery","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13213018,"title":"Javascript indexof not working with json","body":"<p>Basically what I am trying to achieve with this section of code is to search with a term on twitter, and then see if the second term is included in any of the search results. tally those up and graph them with the Google charts api. it seems indexOf, is not working because when i declare term and term2 to be both \"test\" It still only adds to notcontains. </p>\n\n<pre><code>$.ajax({\n    url: 'http://search.twitter.com/search.json?q=' + term2 + '&amp;lang=en&amp;callback=?',\n    dataType: \"json\",\n    async: false,\n    success: function(data) {\n        var data = data.results;\n        var addhtml = \"&lt;ul&gt;\";\n        for (var i = 0; i &lt; data.length; i++) {\n            addhtml += \"&lt;li&gt;&lt;a href='http://twitter.com/\" + data[i].from_user + \"'&gt;@\" + data[i].from_user + \"&lt;/a&gt;: \" + data[i].text + \"&lt;/li&gt;\";\n            compare = JSON.stringify(data[i].from_user);\n            if (compare.indexOf(term) &gt;= 0) contains += 1;\n            else notcontains += 1;\n        }\n        addhtml += \"&lt;/ul&gt;\"\n        html += addhtml;\n        drawChart()\n        $('.content').html(html);\n        $('.counts').html(contains + \" \" + notcontains);\n    }\n});\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13213361,"title":"Getting undefined response from jQuery AJAX form post","body":"<pre><code>$(document).ready(function() {\n    $('#pricingEngine').change(function() {\n         var query = $(\"#pricingEngine\").serialize();\n         $('#price').fadeOut(500).addClass('ajax-loading');\n         $.ajax({\n             type: \"POST\",\n             url: \"index.php/welcome/PricingEngine\",\n             data: query,\n             dataType: 'json',\n             success: function(data)\n             {\n               $('#price').removeClass('ajax-loading').html('$' + data.F_PRICE).fadeIn(500);\n               $('#sku').attr('value') = (data.businesscards_id);\n             }\n         });\n    return false;\n   });\n});\n</code></pre>\n\n<p>Need to set #sku as value of a hidden form field (not sure if i am doing that correctly in the above jQuery code.</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"sku\" id=\"sku\" value=\"*/PUT VAR VALUE HERE/*\" /&gt;\n</code></pre>\n\n<p>Also need to pass the <code>F_PRICE</code> to the <code>#price div</code>.</p>\n\n<p>Console in Chrome shows the JSON response as:</p>\n\n<pre><code>[\n {\n  \"businesscards_id\":\"12\",\n  \"X_SIZE\":\"1.75x3\",\n  \"X_PAPER\":\"14ptGlossCoatedCoverwithUV(C2S)\",\n  \"X_COLOR\":\"1002\",\n  \"X_QTY\":\"250\",\n  \"O_RC\":\"NO\",\n  \"F_PRICE\":\"12490\",\n  \"UPS_GROUND\":\"12000\",\n  \"UPS_TWODAY\":\"24000\",\n  \"UPS_OVERNIGHT\":\"36000\"\n }\n]\n</code></pre>\n\n<p>Yet I only get 'undefined' in the price box. What is the reason here?</p>\n"},{"tags":["javascript","ajax","forms","dojo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13178088,"title":"How to submit multiple forms with dojo xhr?","body":"<p>I'm trying to find a way how to submit multiple forms with ajax in one xhr.post call with dojo.\nThe documentation at the bottom of <a href=\"http://dojotoolkit.org/reference-guide/1.7/dojo/_base/xhr.html#example-1-dojo-xhrget-and-form-submission\" rel=\"nofollow\">this page</a> says:</p>\n\n<blockquote>\n  <p>In fact, the attribute “form:” could be set on each node, not only on\n  form nodes. If your page contains more than one form and these forms\n  are enclosed with a div- or span-tag, then you’re able to submit all\n  these forms, if you set “form:” to the surrounding div- or span-tag.</p>\n</blockquote>\n\n<p>Specifiying the id of e.g. a div that contains multiple forms as the \"form\" attribute in an xhr call does not work:</p>\n\n<pre><code>xhr.post({\n    form: \"idOfDivThatSurroundsManyForms\",\n    ...\n});\n</code></pre>\n\n<p>It fails in domForm.formToObject, that really expects a form node (or id) which contains an elements attribute.</p>\n\n<p>Is this part of the documentation just wrong or am do I miss something?</p>\n\n<p>Do you have any ideas how to easily combine multiple forms into one xhr call in other ways?</p>\n"},{"tags":["php","mysql","ajax","forms","autocomplete"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2993,"score":0,"question_id":10856305,"title":"autocomplete form from database PHP MYSQL AJAX","body":"<p>I hope that someone can point me in the right direction, then I should be able to figure this out and get it working...</p>\n\n<p>Basically, I have a database of locations such as:</p>\n\n<pre><code>ID   City/Town    County\n1    Newbury      Berkshire\n2    Preston      Merseyside\n</code></pre>\n\n<p>Now my website has a form that the user fills in to indicate their address, within a section I have two input fields 'city' and 'county'. Here I would like three things to happen. </p>\n\n<p>1) When the user begins to enter their city it auto completes based on results from the database (this would include their city and county, the county is just for identification so when selected would just input the city). </p>\n\n<p>2) Once the user selects their city it auto completes the county field from the database.</p>\n\n<p>3) With all this done I would like the ID from the city and county result to be entered into a hidden input element.</p>\n\n<p>I have been looking all over the internet and found plenty of auto complete scripts:\n<a href=\"http://ajaxdump.com/2010/08/11/10-cool-auto-complete-scripts-using-ajaxjquerymootoolsprototype/\" rel=\"nofollow\">http://ajaxdump.com/2010/08/11/10-cool-auto-complete-scripts-using-ajaxjquerymootoolsprototype/</a>\nhttp://www.jqueryrain.com/2012/03/35-best-ajax-jquery-autocomplete-tutorial-plugin-with-examples/</p>\n\n<p>and I have found various posts on form filling such as:\n<a href=\"http://stackoverflow.com/questions/7410091/jquery-autocomplete-and-php-populating-input-field-with-data-from-mysql-databas\">Jquery autocomplete and PHP: populating input field with data from mySQL database based on selected option in autocomplete field</a></p>\n\n<p>but I just can't seem to get them to work together. I am trying to stick with PHP, MYSQL and JavaScript. I am happy to use AJAX if needed, anything else is going beyond my knowledge of programming.</p>\n\n<p>I maybe going about this all wrong, but any feedback or information that can point me in the right direction will be very gratefully received.</p>\n\n<p>Many thanks</p>\n"},{"tags":["javascript","ajax","xmlhttprequest"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13204310,"title":"Ajax Function Only Working Part of the Time","body":"<p>I am using the following Ajax function format:</p>\n\n<pre><code>var xmlhttp;\n\nfunction addAddress(str)\n{\n if (window.XMLHttpRequest)\n  {\n    xmlhttp = new XMLHttpRequest();\n  }\n  else\n  {\n    xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\n  xmlhttp.onreadystatechange = function()\n  {\n     if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200)\n     {\n       //specific selection text\n       document.getElementById('info').innerHTML = xmlhttp.responseText; \n     }\n  }\n  var addAddress = \"add\";\n  xmlhttp.open(\"POST\", \"sys.php\", true);\n  xmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n  var queryString = \"&amp;addAddress=\" + addAddress;\n  xmlhttp.send(queryString);\n}\n\nfunction GetXmlHttpObject()\n{\n if (window.XMLHttpRequest)\n  {\n    return new XMLHttpRequest();\n  }\n if (windows.ActiveXObject)\n  {\n    return new ActiveXObject(\"Micorsoft.XMLHTTP\");\n  }\n return null;\n}\n</code></pre>\n\n<p>Up until now, all of my Ajax functions, like the one above, have been running fine.  However, now the function will work only sometimes.  Now, sometimes I will have to click the onclick event a couple times to execute the function or the function will just hang, and then after about 4 minutes it will execute.</p>\n\n<p>I tested parts of the function and found that the issue lies some where at the:</p>\n\n<pre><code>if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200)\n {\n    alert(xmlhttp.status);\n   //specific selection text\n   document.getElementById('info').innerHTML = xmlhttp.responseText; \n }\n</code></pre>\n\n<p>When the function works, I can alert(xmlhttp.status) and get 200.  However, when it's not working, the alert box doesn't even trigger.  In fact, nothing happens, not even an error.</p>\n\n<p>Could this be a server issue?  I am kind of thinking my website got hacked, but I cannot find any issues accept that the Ajax functions are not executing properly.</p>\n\n<p>Lastly, I do not get this problem on my localhost, it's only happening on the live website.</p>\n\n<p>Any help will be greatly appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["jquery","ajax","callback","scope"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13199231,"title":"Scope in an $.ajax callback function","body":"<p>If I am using this code why has the scope changed for the \"doStuff\" alert?  Is there a way that I can make sure that the scope is my object and not the Window object?</p>\n\n<p>Here is the same code in <a href=\"http://jsfiddle.net/RW4Ge/1/\" rel=\"nofollow\">jsfiddle</a>.</p>\n\n<pre><code>(function ($) {\n    var c$ = {};\n\n    c$.TestScope = function () {\n\n        this.doAjax = function (onComplete) {\n            var self = this;\n            $.ajax({\n                url: 'badurl',\n                complete: function (data) {\n                    alert('doAjax2 self === c$.oTestScope: ' + (self === c$.oTestScope).toString());\n                    onComplete(data);\n                }\n            });\n            alert('doAjax1 self === c$.oTestScope: ' + (self === c$.oTestScope).toString());  \n        };\n\n        this.doStuff = function (data) {\n            var self = this;\n            alert('doStuff self === c$.oTestScope: ' + (self === c$.oTestScope).toString());\n        }\n\n    };\n\n    c$.oTestScope = new c$.TestScope();\n    c$.oTestScope.doAjax(c$.oTestScope.doStuff);\n})(jQuery);​\n</code></pre>\n"},{"tags":["php","ajax","require-once"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13212777,"title":"Require_once is not executed on ajax call","body":"<p>This is my 'index.php' file (part of it):</p>\n\n<pre><code>&lt;?php\n\n// Require every .php file inside \"phpClasses\" folder\nforeach (glob(\"phpScripts/*.php\") as $filename) {\nrequire_once $filename;\n}\n\n// Create the $db object\n$db = Database::obtain(DB_SERVER, DB_USER, DB_PASS, DB_DATABASE); \n\n// Connect to the database\n$db-&gt;connect();\n\n// Instantiate the \"language\" and \"databaseQuery\" classes\n$lang = new language();     \n$dbQuery = new databaseQuery();     \n\n// Detect if the laguage has changed from the user and apply the new \"current language\"\nif(isset($_GET[\"change_lang\"])) {\n    $change_lang = $_GET[\"change_lang\"];\n    $cur_lang = $change_lang;\n} else {\n    $cur_lang = $lang-&gt;getCurLang();\n}\n?&gt;\n&lt;head&gt;\n...\n&lt;/head&gt;\n&lt;body&gt;        \n    &lt;div id=\"cur_content\" class=\"temp_content\" data-tempPos=\"0\"&gt;\n    &lt;?php \n        include 'pages/home.php'; \n    ?&gt;\n    &lt;/div&gt;  &lt;!-- #cur_content --&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Inside #cur_content I inject 'blog.php' via ajax call:</p>\n\n<p>'blog.php':</p>\n\n<pre><code>&lt;div id=\"blog_main_content\" class=\"temp_content\"&gt;\n    &lt;?php\n        include \"blog_list.php\";\n    ?&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>..and inside it, I include 'blog_list.php':\n    \n\n<pre><code>foreach (glob(\"phpScripts/*.php\") as $filename) {\n    require_once $filename;\n}\n\n// Create the $db object\n$db = Database::obtain(DB_SERVER, DB_USER, DB_PASS, DB_DATABASE); \n\n// Connect to the database\n$db-&gt;connect();\n\n$dbQuery = new databaseQuery();     \n\n// Get the language from loader.php\n$cur_lang = \"'\".$_SESSION['language'].\"'\";\n\n$dbQuery-&gt;getArticleList($cur_lang);\n\n ?&gt;\n</code></pre>\n\n<p>Inside #blog_main_content div, I inject 'articleLoader.php' via ajax call and works fine.\n'blog_list.php' is displayed just fine for the first time. \nWhen user returns to 'blog_list.php' via ajax call, I get the following error:</p>\n\n<p>Fatal error: Class 'Database' not found in        C:\\wamp\\www\\kapantzakis_2.14\\pages\\blog_list.php on line 8</p>\n\n<p>I think that php does not execute the require_once in 'blg_list.php' when ajax calls this file.</p>\n\n<p>I don't know if I explain well.</p>\n\n<p>Thanks for any help!</p>\n\n<p>edit#1</p>\n\n<p>Ajax call:</p>\n\n<pre><code>// Perform the ajax call\n        function getAjaxPage(method, content, currentOffset) {\n\n            var temp_content = $('.temp_content');                      \n                var temp_content_last = temp_content.filter(':last');\n\n            var blog_main_content = $('#blog_main_content');                    \n                var blog_main_content_first = blog_main_content.filter(':first');\n\n                // Insert the html data in to the first or last div depending on the movement of the page\n                if (method == 'next') {\n                    var insert_div = temp_content_last;\n                } else if (method == 'prev') {\n                    var insert_div = blog_main_content_first;\n                }\n\n                // Get article or the article list\n                if (content == 'article') {\n                    var page = 'articleLoader.php';\n                } else if (content == 'article_list') {\n                    var page = 'pages/blog_list.php';                       \n                }\n                /*\n                var lang = getCurLang();\n                var data = 'lang=' + lang + '&amp;art_id=' + art_id;*/\n\n                var tags_wrapper = $('#tags_wrapper');\n\n            $.ajax({\n                url: page,  \n                type: \"GET\",    \n                /*data: data,*/\n                cache: false,\n                success: function (html) {                          \n                    insert_div.html(html)\n                        .queue(function() {\n                            var return_to_list = $('#return_to_list');                              \n                            return_to_list.attr('data-offsetTop', currentOffset);   \n                            returnTopOffset();\n                            if (content == 'article') {\n                                tags_wrapper.fadeIn(800);\n                            } else if (content == 'article_list') {\n                                tags_wrapper.hide();\n                            }                               \n                            $(this).dequeue();\n                        });\n                }       \n            });\n            return $(this);\n        }\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13212971,"title":"Delay between status and response","body":"<p>I'm doing a ajax request using jQuery, but the behavior is erratic. </p>\n\n<p>Most of the time, this happens (using Chrome);<br>\nAjax POST request is sent<br>\n<em>~400ms wait time</em><br>\nThe request appears in Chrome's network logger with a 200 OK status<br>\nThe request's response appears in Chrome's response tab<br>\nMy callback function is called. All is good.</p>\n\n<p>However, completely randomly, this happens;<br>\nAjax POST request is sent<br>\n<em>~400ms wait time</em><br>\nThe request appears in Chrome's network logger with a 200 OK status<br>\n<em>~2000 - 10000ms wait time</em><br>\nThe request's response appears in Chrome's response tab<br>\nMy callback function is called.<br>\nBy now, the user has likely left the page because he thought it hung up.</p>\n\n<p>Why is this? What happens during that second wait time?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Edit:<br>\nThis is all happening on the same server<br>\nIf I visit the requested page manually it takes no more than 400ms to load, without any exceptions.</p>\n"},{"tags":["php","jquery","ajax","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13212882,"title":"How to return PHP variables on success AJAX/jQuery POST","body":"<p>How do I use AJAX to return a variable in PHP? I am currently using echo in my controller to display a price on <code>dropdown .change</code> in a <code>div</code> called price.</p>\n\n<p>However I have a hidden field which I need to return the row id to on change. How do I assign the return var in jQuery so that I can echo it in my hidden field?</p>\n\n<h1>jQuery</h1>\n\n<pre><code>$(document).ready(function() {\n    $('#pricingEngine').change(function() {\n         var query = $(\"#pricingEngine\").serialize();\n         $('#price').fadeOut(500).addClass('ajax-loading');\n         $.ajax({\n             type: \"POST\",\n             url: \"store/PricingEngine\",\n             data: query,\n             success: function(data)\n             {\n                  $('#price').removeClass('ajax-loading').html('$' + data).fadeIn(500);\n             }\n         });\n    return false;\n   });\n\n});\n</code></pre>\n\n<h1>Controller</h1>\n\n<pre><code>function PricingEngine()\n{\n    //print_r($_POST);\n    $this-&gt;load-&gt;model('M_Pricing');\n    $post_options = array(\n      'X_SIZE' =&gt; $this-&gt;input-&gt;post('X_SIZE'),\n      'X_PAPER' =&gt; $this-&gt;input-&gt;post('X_PAPER'),\n      'X_COLOR' =&gt; $this-&gt;input-&gt;post('X_COLOR'),\n      'X_QTY' =&gt; $this-&gt;input-&gt;post('X_QTY'),\n      'O_RC' =&gt; $this-&gt;input-&gt;post('O_RC')\n                          );\n\n    $data = $this-&gt;M_Pricing-&gt;ajax_price_engine($post_options);\n\n    foreach($data as $pData) {\n        echo number_format($pData-&gt;F_PRICE / 1000,2);\n        return $ProductById = $pData-&gt;businesscards_id;\n    }\n}\n</code></pre>\n\n<h1>View</h1>\n\n<p>Here is my hidden field I want to pass the VAR to every-time the form is changed.\n\" /></p>\n\n<p>Thanks for the help! </p>\n"},{"tags":["javascript","jquery","ruby","ajax","sinatra"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13209548,"title":"Jquery Ajax request to Sinatra app","body":"<p>I've been at this for a while, but am missing something. I've just set up a simple Sinatra app returning JSON:</p>\n\n<pre><code>get '/json' do\n  content_type :json\n  $data.to_json\nend\n</code></pre>\n\n<p>This is working fine, and then the javascript I'm using to do a cross domain request is </p>\n\n<pre><code>$.getJSON(\"http://domain.com/json?callback=?\", function(data) {\n   console.log(data);\n});\n</code></pre>\n\n<p>Unfortunately with this I just keep getting the error in the console <code>Uncaught SyntaxError: Unexpected token :</code> and although I've tried a just using the <code>$.ajax</code> method instead, I still get the same result. </p>\n\n<p>Is this an error on my server or client side code? any help appreciated. </p>\n"},{"tags":["javascript","jquery","ajax","web-services","object"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2641,"score":0,"question_id":4571281,"title":"Passing javascript object to webservice via Jquery ajax","body":"<p>I have a webservice that returns an object</p>\n\n<pre><code>[WebMethod]\n    public List&lt;User&gt; ContractorApprovals()\n</code></pre>\n\n<p>I also have a webservice that accepcts an object</p>\n\n<pre><code>[WebMethod]\n    public bool SaveContractor(Object u)\n</code></pre>\n\n<p>When I make my webservice calls via Jquery:</p>\n\n<pre><code>function ServiceCall(method, parameters, onSucess, onFailure) {\n    var parms = \"{\" + (($.isArray(parameters)) ? parameters.join(',') : parameters) + \"}\"; // to json\n    $.ajax({\n        type: \"POST\",\n        url: \"services/\"+method,\n        data: parms,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function(msg) {\n            if (typeof onSucess == 'function' || typeof onSucess == 'object')\n                onSucess(msg.d);\n        },\n            error: function(msg, err) {\n            $(\"#dialog-error\").dialog('open');}\n});\n</code></pre>\n\n<p>I can call the first one just fine. My onSucess function gets passed a javascript object exactly structured like my User object on the service.</p>\n\n<p>However, I am now having trouble getting the object back to the server.</p>\n\n<p>I'm accepting Object as a parameter on the server side so I can't inagine there is an issue there. So I'm thinking something is wrong with the parms on the client side but i'm not sure what...</p>\n\n<p>I am doing something to the effect</p>\n\n<pre><code>ServiceCall(\"AuthorizationManagerWorkManagement.asmx/ContractorApprovals\",\n      \"\",\n      function(data,args){$(\"#div\").data('user',data[0])},\n      null)\n</code></pre>\n\n<p>then</p>\n\n<pre><code>ServiceCall(\"AuthorizationManagerWorkManagement.asmx/SaveContractor\",\n      JSON.stringify({u: $(\"#div\").data(\"user\")}) //dont work $(\"#div\").data('user'), //These also do not work: \"{'u': ' + $(\"#div\").data(\"user\") + '}\", NOR JSON.stringify({u: userObject})\n      function(data,args){(alert(data)},\n      null)\n</code></pre>\n\n<p>I know the first service call works, I can get the data. The second one is causing the \"onFailure\" method to execute rather then \"OnSuccess\".</p>\n\n<p>Any ideas?</p>\n\n<p>UPDATE:</p>\n\n<p>I chaed my last code block to use : <code>JSON.stringify({u: $(\"#div\").data(\"user\")})</code></p>\n\n<p>I now get <code>Invalid object passed in, member name expected. (1):</code></p>\n\n<p>But I have no idea what the means... Google has turned up plenty of that error, but no problem like mine...</p>\n"},{"tags":["jquery","asp.net","ajax","mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2864,"score":2,"question_id":8045345,"title":"MVC Jquery Ajax updating your Partial View","body":"<p>I have an MVC 3 application that is calling a Web Service it consumes to call Sharepoints API. The call takes roughly 6 seconds regardless of your results, so i have decided to add a async call using JQuery to provide the user with a waiting indicator. I have it almost competed, but i am unable to get the view to update with the returned data. I have narrowed it down to the view as when i get to the partial view that has the data, i have a break point in the ForEach loop and there is data in there and it is what i am expecting, but when i get to the View itself in the browser, the table is not populated. Here is my AJAX call that is started when a input button is clicked, which triggers great:</p>\n\n<pre><code>$(function () {\n            $(\"#ajax-indicator\").hide();\n        });\n\n        function getData() {\n            $(\"#ajax-indicator\").show();\n\n            $.ajax({\n                type: \"POST\",\n                url: \"/Home/MakeCall\",\n                // the URL of the controller action method \n                data: null,\n                // optional data          \n                success: function (result) {\n                    // do something with result  \n                    $(\"#ajax-indicator\").toggle();\n                },\n                error: function (req, status, error) {\n                    // do something with error     \n                }\n            });\n\n        }\n</code></pre>\n\n<p>Here is within the same View, a the indicator div that gets hidden, the button and lastly the Render partial.</p>\n\n<pre><code> &lt;div id=\"ajax-indicator\"&gt;\n        &lt;img alt=\"AJAX Indicator\" src=\"&lt;%= Url.Content(\"../../images/ajax-loader.gif\") %&gt;\" /&gt;\n    &lt;/div&gt;\n    &lt;div id='button'&gt;\n        &lt;% using (Html.BeginForm())\n           { %&gt;\n               &lt;input type=\"submit\" name=\"submit\" value=\"Get Data\" onclick=\"getData();\" /&gt;\n           &lt;% } \n        %&gt;\n    &lt;/div&gt;\n\n\n    &lt;% Html.RenderPartial(\"MakeCall\", ViewData[\"viewModel\"]); %&gt;\n</code></pre>\n\n<p>The partial page looks like this:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" Inherits=\"System.Web.Mvc.ViewUserControl&lt;AsyncCallTest.Models.SharepointModel&gt;\" %&gt;\n&lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;td&gt;Folder Name&lt;/td&gt;\n&lt;td&gt;Link&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n\n&lt;% if (Model != null)\n   {\n       foreach (var item in Model.FolderList)\n       {\n       %&gt;\n    &lt;td&gt; FolderName: &lt;%: item.FolderName%&gt;&lt;/td&gt;\n       &lt;%\n       }\n   }\n\n     %&gt;\n     &lt;/tr&gt;\n     &lt;/table&gt;\n</code></pre>\n\n<p>When i look at the item.FolderName I have data there, but we are getting nada. i feel like i am missing something silly. Any ideas?</p>\n"},{"tags":["javascript","ajax","xmlhttprequest"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":934,"score":-3,"question_id":8114135,"title":"javascript not working after ajax call","body":"<p>I have a page.  In that page's header i have all of my javascript.  In the pages body i have a link that calls an ajax http request (i use long hand xhr not jquery) and that request pulls a php form on to my page.  </p>\n\n<p>That form has some select dropdowns that are formatted/styled using jquery.  The problem i am having is that when i put the form directly in the page the select is formated fine on page load.  But when i remove the form from the page and pull it in using ajax it is as if the javascript is not loading.</p>\n\n<p>So the javascript is loading when the page loads but when i pull in the php form onto the page via ajax the javascript is not working.  the select dropdown is not formated/styled.  It's almost like the javascript needs to reload or something.  </p>\n\n<p>I am not using jquery to make the call.  I am just using long hand ajax.   </p>\n\n<pre><code>function getPage(str)\n {\n if (str==\"\")\n   {\n   document.getElementById(\"center\").innerHTML=\"\";\n   return;\n   } \nif (window.XMLHttpRequest)\n   {// code for IE7+, Firefox, Chrome, Opera, Safari\n   xmlhttp=new XMLHttpRequest();\n   }\n else\n   {// code for IE6, IE5\n   xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n   }\n xmlhttp.onreadystatechange=function()\n   {\n   if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n     {\n     document.getElementById(\"center\").innerHTML=xmlhttp.responseText;\n     }\n   }\n xmlhttp.open(\"GET\",\"xhr_php/get_page.php?page=\"+str,true);\n xmlhttp.send();\n }\n</code></pre>\n"},{"tags":["jquery","html","ajax","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13211217,"title":"Jquery Ajax DataType 'html is not defined'","body":"<p>I am trying to get my jquery ajax working properly, but facing a <code>ReferenceError</code> when developing with Firebug:</p>\n\n<pre><code>jQuery(document).ready(function() {\n    jQuery('.my-div').click(function(e){\n    e.preventDefault();\n    var href = jQuery(this).attr('href');\n    jQuery.ajax({\n      type: \"POST\",\n      url:href,\n      dataType:html,\n      success: function(data, status, xhr){ $('#div_to_load_html').html(data); },\n      error: function(){ alert(\"Error\"); },\n    });\n    });\n})\n</code></pre>\n\n<p>html: </p>\n\n<pre><code>&lt;div class='my-div'&gt;&lt;a href='/place/to/go/'&gt;GO!&lt;/a&gt;&lt;/div&gt;\n</code></pre>\n\n<p>When I click 'my-div', Firebug returns: ReferenceError: html is not defined @ <a href=\"http://www.mydomain.com/:38\" rel=\"nofollow\">http://www.mydomain.com/:38</a>, which references the line from my jquery <code>dataType:html</code>.</p>\n\n<p>Thanks for your ideas!</p>\n"},{"tags":["c#","asp.net","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13211255,"title":"Ajax ModalPopup Redirect","body":"<p>I'm having an issue with the AJAX Modal Popup.  I've programmed it in a way that when I click on a button inside the modal popup that the user will be redirected to a certain page.  The modal popup will close after the click event however the modal popup shows up again for a brief/split second then closes again then the redirect happens.</p>\n\n<p>I've tried the solution here <a href=\"http://mattberseth.com/blog/2007/08/how_to_stop_the_modalpopup_fli.html\" rel=\"nofollow\">http://mattberseth.com/blog/2007/08/how_to_stop_the_modalpopup_fli.html</a> however it doesn't work half the time.  I've also styled the divs using style: none; as suggested on the link.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Code sample:</p>\n\n<pre><code>protected void btnCancel_Click(object sender, EventArgs e)\n    {\n        // Redirect to Home page\n        Response.Redirect(\"Home.aspx\");\n    }\n\nprotected void btnNext_Click(object sender, EventArgs e)\n    {\n        if (rbQuestionOneAnswers.Items[0].Selected)\n        {\n            // Redirect to a page\n            Response.Redirect(\"Example.aspx\");\n        }\n        else if (rbQuestionOneAnswers.Items[1].Selected || rbQuestionOneAnswers.Items[2].Selected)\n        {\n            // Redirect to different page\n        }\n\n    }\n\n&lt;asp:ModalPopupExtender \n                ID=\"modalPopupQuestion\" \n                runat=\"server\"\n                DropShadow=\"true\"\n                TargetControlID=\"hfQuestion\"\n                PopupControlID=\"pnlQuestion\" \n                BackgroundCssClass=\"modalBackground\" &gt;\n                    &lt;Animations&gt;\n                        &lt;OnShown&gt;&lt;Fadein Duration=\"0.50\" /&gt;&lt;/OnShown&gt;\n                        &lt;OnHiding&gt;&lt;Fadeout Duration=\"0.75\" /&gt;&lt;/OnHiding&gt;\n                    &lt;/Animations&gt;\n            &lt;/asp:ModalPopupExtender&gt;\n                &lt;div&gt;\n                    &lt;div&gt;\n                        &lt;asp:Label ID=\"lblQuestionOne\" runat=\"server\" Text=\"What are you appealing?\" \n                            Font-Bold=\"True\" ForeColor=\"Black\"&gt;&lt;/asp:Label&gt;\n                            &amp;nbsp;\n                        &lt;asp:RequiredFieldValidator ID=\"rvQuestionOne\" runat=\"server\" \n                            ErrorMessage=\"Please select an option.\" \n                            ControlToValidate=\"rbQuestionOneAnswers\" ForeColor=\"#CC0000\"&gt;*&lt;/asp:RequiredFieldValidator&gt;\n                        &lt;asp:ValidatorCalloutExtender ID=\"vceQuestionOne\" \n                            runat=\"server\" Enabled=\"True\" TargetControlID=\"rvQuestionOne\"&gt;\n                        &lt;/asp:ValidatorCalloutExtender&gt;\n                        &lt;br /&gt;\n                        &lt;br /&gt;\n                        &lt;asp:RadioButtonList ID=\"rbQuestionOneAnswers\" runat=\"server\" ForeColor=\"Black\"&gt;\n                            &lt;asp:ListItem&gt;Question One&lt;/asp:ListItem&gt;\n                            &lt;asp:ListItem&gt;Question Two&lt;/asp:ListItem&gt;\n                            &lt;asp:ListItem&gt;Question Three&lt;/asp:ListItem&gt;\n                        &lt;/asp:RadioButtonList&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"messageFooter\"&gt;\n                        &lt;asp:LinkButton ID=\"btnNext\" runat=\"server\" Text=\"Next\" \n                            CausesValidation=\"true\" onclick=\"btnNext_Click\" /&gt;\n                            &amp;nbsp;\n                        &lt;asp:LinkButton ID=\"btnCancel\" runat=\"server\" Text=\"Cancel\" \n                            CausesValidation=\"false\" onclick=\"btnCancel_Click\" /&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt; \n</code></pre>\n"},{"tags":["javascript","ajax","google-maps-api-3","geojson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13204808,"title":"ajax not retrieving new geoJSON data","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13149836/google-maps-api-real-time-updates-with-new-geojson-files\">google maps api real time updates with new geojson files</a>  </p>\n</blockquote>\n\n\n\n<p>For some reason when the polygons are regenerated they are still using json_template.json. I would like to refresh with json_template1.json. I think it has to do with my ajax.</p>\n\n<p>Any help is greatly appreciated.</p>\n\n<p>Thank you</p>\n\n<pre><code>    var map;\n\n    function initialize() { \n        var kansas_city = new google.maps.LatLng(39.316858,-94.963194);\n        var mapOptions = {\n        zoom: 13,\n        center: kansas_city,\n        mapTypeId: google.maps.MapTypeId.TERRAIN\n        };\n        map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);\n\n        google.maps.event.addListener(map, 'tilesloaded', function() {\n            setTimeout(function() { removeSectors() }, 1000);\n            setTimeout(function() { updateMap() }, 2000);\n            });     \n    }\n\n    function removeSectors() {\n        if ( allPolygons ) {\n            for ( i = 0; i &lt; allPolygons.length; i++ ) {\n                allPolygons[i].setMap(null);\n            }\n        allPolygons.length = 0;\n        }\n    }\n\n    var data;\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', 'json_template.json', true);\n    xhr.onload = function() {\n        data = JSON.parse(xhr.responseText)\n        sector_callback(data);\n    };\n    xhr.send();\n\n    function updateMap() {\n        var data;\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', 'json_template1.json', true);\n        xhr.onload = function(response) {\n            data = JSON.parse(response.responseText)\n            sector_callback(data);\n        };\n        xhr.send();\n    }\n\n    function createClickablePoly(poly, html) {\n    google.maps.event.addListener(poly, 'click', function(evt) {\n        infowindow.setContent(html);\n        infowindow.setPosition(evt.latLng);\n        infowindow.open(map);\n        });\n    }\n    var infowindow = new google.maps.InfoWindow({});        \n\n    function sector_callback() {\n        var bounds = new google.maps.LatLngBounds();        \n        for (var i = 0, len = data.features.length; i &lt; len; i++) {\n            var coords = data.features[i].geometry.coordinates[0];\n            siteNames = data.features[i].properties.Name; // added for site names\n            var path = [];\n        for ( var j = 0, len2 = coords.length; j &lt; len2; j++ ){ // pull out each     set of coords and create a map object\n            var pt = new google.maps.LatLng(coords[j][1], coords[j][0])\n            bounds.extend(pt);\n            path.push(pt);\n\n        }\n\n        var polygons = new google.maps.Polygon({\n        path: path,\n            strokeColor: \"#000000\",\n            strokeOpacity: 0.8,\n            strokeWeight: 1,\n            fillColor: \"#000000\",\n            fillOpacity: 0.35,\n        map: map\n        });\n        createClickablePoly(polygons, siteNames);\n        //console.debug(siteNames);\n\n        google.maps.event.addListener(polygons, 'mouseover', function() {\n        var currentPolygon = this;\n\n        currentPolygon.setOptions({ \n            fillOpacity: 0.45,\n            fillColor: \"#FF0000\"\n            })\n        });\n\n        google.maps.event.addListener(polygons, 'mouseout', function() {\n        var currentPolygon = this;\n        currentPolygon.setOptions({ \n            fillOpacity: 0.35,\n            fillColor: \"#000000\"\n            })\n        });\n\n        allPolygons.push(polygons);\n        }\n    }\n    var allPolygons = [];\n</code></pre>\n"},{"tags":["php","ajax","joomla","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":469,"score":2,"question_id":11961920,"title":"Joomla 2.5 JFactory::getSession(); seems to be caching in firefox","body":"<p>I have a php file in includes directory. It's usability is to display a captcha Image.\nIn that file I set a session variable like this:</p>\n\n<pre><code>$code = codegenerator();\n$session =&amp; JFactory::getSession();\n$session-&gt;set('security_code', $code);\n</code></pre>\n\n<p>This Session variable is set from an image <code>src</code> that calls that method from a controller.</p>\n\n<p>Then I call a controller to check that session that was set\n(this method is trigerd with ajax from an iframe) and in that method I do this</p>\n\n<pre><code>$session = JFactory::getSession();\n$seccode=$session-&gt;get('security_code');\necho $seccode.':'.rand();\n</code></pre>\n\n<p>The result is as expected the first time, the code that was set and a random number.\nIf I refresh that page the captcha image gets reset with a new code and gets displayed. \nBut when I triger the check event again, I get the previous code with a new random number.\nThat <code>rand()</code> there is a proof that <code>JFactory::getSession();</code> is cached because I get the new random number but the same previous code and not the new as supposed to. So it's not that ajax that is caching something here.</p>\n\n<p>How can I avoid <code>JFactory::getSession();</code> geting cached from firefox? \nThis happens only in firefox. Internet explorer and chrome seem to display the session code correctly. If I clear firefox cash and refresh the page it still doesn't work. It's like it's cached for ever. If I close firefox and open it again, then everything seems to work as the first time, but then I have the same issue again.</p>\n\n<p>Here is the code that generates the captcha</p>\n\n<pre><code>&lt;?php\n\ndefined('_JEXEC') or die('Restricted access');\nclass CaptchaSecurityImages {\n\n    var $font='monofont.ttf';\n\n\n    function generateCode($characters) {\n        /* list all possible characters, similar looking characters and vowels have been removed */\n        $possible = '23456789bcdfghjkmnpqrstvwxyz';\n        $code = '';\n        $i = 0;\n        while ($i &lt; $characters) { \n            $code .= substr($possible, mt_rand(0, strlen($possible)-1), 1);\n            $i++;\n        }\n        return $code;\n    }\n\n    function CaptchaSecurityImages($width='220',$height='40',$characters='6') {\n        $code = $this-&gt;generateCode($characters);\n\n        //$font='includes'.DS.'monofont.ttf';\n        $font='monofont.ttf';\n        $this-&gt;font=$font;\n\n        $session =&amp; JFactory::getSession();\n        $session-&gt;set('security_code', $code);\n\n\n        /* font size will be 75% of the image height */\n        $font_size = $height * 0.75;\n        $image = @imagecreate($width, $height) or die('Cannot initialize new GD image stream');\n\n        /* set the colours */\n        $background_color = imagecolorallocate($image, 255, 255, 255);\n        $text_color = imagecolorallocate($image, 20, 40, 100);\n        $noise_color = imagecolorallocate($image, 100, 120, 180);\n        /* generate random dots in background */\n        for( $i=0; $i&lt;($width*$height)/3; $i++ ) {\n            imagefilledellipse($image, mt_rand(0,$width), mt_rand(0,$height), 1, 1, $noise_color);\n        }\n        /* generate random lines in background */\n        for( $i=0; $i&lt;($width*$height)/150; $i++ ) {\n            imageline($image, mt_rand(0,$width), mt_rand(0,$height), mt_rand(0,$width), mt_rand(0,$height), $noise_color);\n        }\n        /* create textbox and add text */\n\n\n        $textbox = imagettfbbox($font_size, 0, $this-&gt;font, $code) or die('Error in imagettfbbox function');\n        $x = ($width - $textbox[4])/2;\n        $y = ($height - $textbox[5])/2;\n        imagettftext($image, $font_size, 0, $x, $y, $text_color, $this-&gt;font , $code) or die('Error in imagettftext function');\n        /* output captcha image to browser */\n\n        header('Content-Type: image/jpeg');\n        imagejpeg($image);\n        imagedestroy($image);\n\n    }\n\n}\n?&gt;\n</code></pre>\n\n<p>And here is the code that is called by the ajax </p>\n\n<pre><code>public function checkCaptchaSecurityCode(){\n        $securitycode = JRequest::getVar('securitycode');           \n        $session = JFactory::getSession();\n        $seccode=$session-&gt;get('security_code');        \n\n        echo $seccode.':'.rand();\n\n        die();\n    }   \n</code></pre>\n\n<p>and here is the ajax call</p>\n\n<pre><code>&lt;?php $checkCaptchaSecurityCode = JRoute::_('index.php?option=com_virtuemart&amp;view=participate&amp;task=checkCaptchaSecurityCode&amp;tmpl=component&amp;format=raw'); ?&gt;\n    jQuery.ajaxSetup({cache: false});\n            jQuery.ajax({\n                  type: \"POST\",\n                  url: \"&lt;?php echo $checkCaptchaSecurityCode ?&gt;\",\n                  cache: false,\n                  data: { securitycode: jQuery(\"#security_code\").val() }\n                }).done(function( msg ) {\n                  alert( msg );\n            });\n</code></pre>\n\n<p>please help        </p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13210205,"title":"jQuery .get and refresh on success","body":"<p>I have this code:</p>\n\n<pre><code>            $.get(\"lupdate.php\", {\n                data: forPost, \n                success: function() {\n                    window.location.reload(true);\n                }\n            }\n            );\n</code></pre>\n\n<p>Works perfectly in Opera, doesn't work for me in IE, works in Chrome at me but not at my costumer. If i remove the reload tag, it works everywhere.</p>\n\n<p>It's really a matter of time saving, instead of just live time updating with jQuery.</p>\n"},{"tags":["javascript","ajax","dom","browser","opera"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":272,"score":1,"question_id":8942814,"title":"does opera support Access-Control-Allow-Origin header?","body":"<p>I'm writing a greasemonkey script, using jquery $.ajax to get a json data and motify the DOM.</p>\n\n<p>I add a Access-Control-Allow-Origin:* head in my server script, it works fine in current version chrome and firefox, but not opera.</p>\n\n<p>Any idea?</p>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13204846,"title":"Remove dynamically created row from array when Remove is clicked","body":"<p>I have two textboxes and an add button. When you click add it generates a table below the textboxes with each row having a Remove button. When you click remove it removes the row but doesn't remove the contents from within the array.</p>\n\n<p>How do I get it to remove the contents from within the loc array no matter what row is clicked.</p>\n\n<p>Ex. populate 4 rows, delete row 2 and have the other 3 in tact.</p>\n\n<pre><code>    $(\"#locationadd\").click(function() {\n    var address = $(\"#address\").val();\n    var city = $(\"#city\").val();\n\n    if (address ==\"\" || city ==\"\") {\n    $(\"#locationDeals\").text('*Please enter an address and city');\n    return false;\n} \nelse {\ncodeAddress();\n        var $tr = $('&lt;tr&gt;').css({\n            'padding': '4px',\n            'background-color': '#ddd'\n        }).appendTo('#locationDeals');\n\n        var location = [\n            address,\n            city                \n        ];\n        locations.push(location);\n\n        for (i = 0; i &lt; 2; i++) {\n            var $td = $('&lt;td&gt;').appendTo($tr);\n            $('&lt;span&gt;').text(location[i]).appendTo($td);\n            $('&lt;input type=\"hidden\"&gt;').attr({\n                'name': 'loc[' + ctr + '][' + i + ']',\n                'value': location[i]\n            }).appendTo($td);\n        }\n\n        var $tdRemoveRow = $('&lt;td&gt;').appendTo($tr);\n        $('&lt;a&gt;').attr({\n            'href': '#',\n        'id': 'submit-button'\n        }).text(\"Remove\").click(function() {\n            $tr.remove();\n            return false;\n        }).appendTo($tdRemoveRow);\n\n        ctr++;\n\n        $(\"#locationtext\").text('');\n        return false;\n    } \n});\n</code></pre>\n"},{"tags":["ajax","node.js","asp.net-ajax","zombie.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13193205,"title":"Handle ajax response with node.js","body":"<p>I am trying to scrape information from a specified website. This site uses authentication first, thus a i use zombie.js:</p>\n\n<pre><code>var Browser = require(\"zombie\");\nvar browser = new Browser();\nbrowser.visit(\"https://*****login.aspx\", function(){\n    browser.fill('#user', '*****');\n    browser.fill('#pwd', '*****');\n    var button = browser.querySelector('#btnSubmit');\n    browser.fire('click', button, function(){\n    //scraping main.aspx\n    });\n});\n</code></pre>\n\n<p>It's working, i can scrape the main.aspx: there is a <code>&lt;table&gt;</code>, containig information about new messages(from, date, subject,), the problems comes here: the subject field is clickable, and clicking on it makes a new window appear with the actual message. However it is an ajaxgrid, and when i perform a click:</p>\n\n<pre><code>var field = browser.querySelector('#VeryLongIdOfTheField');\nbrowser.fire('click', field, function(){    \n    console.log(browser.querySelector('#VeryLongIdOfTheFieldContainingTheMessage').innerHTML);\n});\n</code></pre>\n\n<p>it returns an error message, saying that undefined has no innerHTML. I suppose its because this action handled with some ajax magic. I am new in this js/nodejs/jquery/.. world, some help needed to enlight me.</p>\n"},{"tags":["javascript","ajax","internet-explorer","hashtag","url-design"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":108,"score":7,"question_id":13203642,"title":"Should AJAX use hashtag /#!/ or not?","body":"<p>I've made a webpage that has the URL-form <a href=\"http://www.example.com/module/content\">http://www.example.com/module/content</a>\nIt's a very dynamic webpage, actually it is a web app.</p>\n\n<p>To make it as responsive as possible, I want to use AJAX instead of normal page requests. This is also enabling me to use JavaScript to add a layer to provide offline capabilities.</p>\n\n<p>My question is only: How should I make the URLs? Should they be <a href=\"http://www.example.com/module/content\">http://www.example.com/module/content</a> or <a href=\"http://www.example.com/#!/module/content\">http://www.example.com/#!/module/content</a>?</p>\n\n<p>Following is only my thoughts in both directions. You don't need to read it if you already have a clear thought about this.</p>\n\n<p>I want to use the first version because I want to support the new HTML5 standard. It is easy to use, and the URLs look pretty. But more importantly is that it allows me to do this:</p>\n\n<blockquote>\n  <p>If the user requests a page, it will get a full HTML page back.</p>\n  \n  <p>If the user then clicks a link, it will insert only the contents into the container div via AJAX.</p>\n</blockquote>\n\n<p>This will enable users without JavaScript to use my website, since it does not REQUIRE the use to have JavaScript, it will simply use the plain old \"click a link-request-get full html page back\"-approach.</p>\n\n<p>While this is great, the problem is of course Internet Explorer. Only the last version of IE supports History API, and to get this working in older versions, one needs to use a hashtag.  (50 % of my users will be using IE, so I need to support it...) So then I have to use /#!/ to get it working.</p>\n\n<p>If one uses both these URL-versions, the problem arises that if a IE user posts this link to a website, Google will send the server a _unescaped_string (or similar..) And it will index the page with the IE-version with the hashtag. And some pages will be without the hashtag.</p>\n\n<p>And as we remember, a non-hashtag is better on many different things. So, can this search engine problem be circumvented? Is it possible to tell the GoogleBot that if it's reaching for the hashtag-version of the website, it should be redirected to the non-hashtag-version of the webpage? This way, one could get all the benefits of a non-hashtag URL and still support IE6-IE9.</p>\n\n<p>What do you think is the best approach? Maybe you have tried it in practice yourself?\nThanks for your answer!</p>\n"},{"tags":["php","jquery","ajax","codeigniter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13209562,"title":"AJAX with Codeigniter - Form Post jQuery on change","body":"<pre><code>&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n $(document).ready(function() {\n      $(\"#pricingEngine\").change(function() {\n         $.post(\"pricingEngine.php\", $.(\"#pricingEngine\").serialize(), function(data) {\n            $(\"#result\").html(data);\n         });\n         return false;\n      });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Console is showing me the following error \"Uncaught SyntaxError: Unexpected token (\"</strong> The POST is not working. Can someone help me with this please? Thanks!</p>\n"},{"tags":["c#","asp.net","ajax","web-services"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13207931,"title":"jQuery autocomplete shows undefined values while WebService is returning correct data","body":"<p></p>\n\n<pre><code>$(function() {\n$(\".tb\").autocomplete({\n    source: function(request, response) {\n        $.ajax({\n        url: \"MyService.asmx/GetCompletionList\",\n        data: \"{ 'prefixText': '\" + request.term + \"' }\",\n            dataType: \"json\",\n            type: \"POST\",\n            contentType: \"application/json; charset=utf-8\",\n            dataFilter: function(data) { return data; },\n            success: function(data) {\n                response($.map(data.d, function(item) {\n                    return {\n                        value: item.Email\n                    }\n                }))\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n                alert(textStatus);\n            }\n        });\n    },\n    minLength: 1\n});\n</code></pre>\n\n<p>});\n   </p>\n\n<p>This is my jQuery code and <code>WebService</code> method. Can any one help me?. <code>GetCompletionList</code> <code>WebService</code> method returns list of string but autocomplete on <code>TextBox</code> shows <code>undefined</code> for all values   </p>\n\n<pre><code>public List&lt;string&gt; GetCompletionList(string prefixText)\n{\n    RegistrationBAL _rbal = new RegistrationBAL(SessionContext.SystemUser);\n    DataSet ds = new DataSet();\n    _rbal.LoadByContextSearch(ds, prefixText);\n\n    List&lt;string&gt; myList = new List&lt;string&gt;();\n    foreach (DataRow row in ds.Tables[0].Rows)\n    {\n        myList.Add((string)row[0]);\n    }\n    return myList.ToList();       \n}\n</code></pre>\n"},{"tags":["jquery","ajax","jquery-ui"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8405,"score":1,"question_id":1407086,"title":"jquery tabs load event","body":"<p>Below is jQuery's example of how to get links inside the tabs' panel to load within that panel.</p>\n\n<pre><code>$(function(){\n   $('#example').tabs({\n      load: function(event, ui) {\n          $('a', ui.panel).click(function() {\n              $(ui.panel).load(this.href);\n              return false;\n          });\n      }\n   });\n});\n</code></pre>\n\n<p>However, the line <code>$(ui.panel).load(this.href);</code> will not fire the tabs load event so after you load one link the rest are normal</p>\n\n<p>the reason i ask is cause i have a nested accordion inside my tabs and i want to paginate it via serverside pagination, but when i use the page links it won't remake the accordion.</p>\n\n<p>I want something like this</p>\n\n<pre><code>$(function(){\n   $('#example').tabs({\n      load: function(event, ui) {\n          $(\".products\", ui.panel).accordion();\n          $(\".product_link\", ui.panel).colorbox();\n\n          $('a', ui.panel).click(function() {\n              $(ui.panel).load(this.href);\n              return false;\n          });\n      }\n   });\n});\n</code></pre>\n\n<p>This seems to get me almost there, however <code>$(ui.panel).load(this.href)</code> only loads it into the first panel no matter what tab i am on</p>\n\n<pre><code>$(function(){\n   $('#example').tabs({\n      load: function(event, ui) {\n          $(\".products\", ui.panel).accordion();\n          $(\".product_link\", ui.panel).colorbox();\n\n          $('a', ui.panel).live('click',function() {\n              $(ui.panel).load(this.href,function(){\n                           $(\".products\").accordion();\n                           $(\".product_link\").colorbox();\n                        });\n              return false;\n          });\n      }\n   });\n})\n</code></pre>\n\n<p>any ideas?</p>\n"},{"tags":["ajax","winforms","c#-4.0","webbrowser-control"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13207862,"title":"How to detect request URL occured by AJAX?","body":"<p>in windows application i have one WebBrowser control when an webpage do an AJAX call i want to detect this call and also want request URL occured by AJAX call?</p>\n"},{"tags":["javascript","ajax","servlets","jboss"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13193368,"title":"AJAX 404 Not Found error","body":"<p>I am facing some problem while working on <strong>JBOSS 4.0.2</strong> .</p>\n\n<p>What I am trying to do is to make a simple AJAX call from a jsp file to a servlet class file which is stored in the <strong><code>WEB-INF/classes/servlet here</code></strong>. </p>\n\n<p>The hierarchy is like this:</p>\n\n<pre><code>server/ABC/deploy/xyz.war/customform/form/a.jsp\nserver/ABC/deploy/xyz.war/WEB-INF/classes/abc.class\n</code></pre>\n\n<p>added this manually in <strong>web.xml</strong></p>\n\n<p><code>&lt;servlet&gt;&lt;servlet-name&gt;abc&lt;/servlet-name&gt;&lt;servlet-class&gt;abc&lt;/servlet-class&gt;&lt;/servlet&gt;</code></p>\n\n<p><strong>....</strong></p>\n\n<p><code>&lt;servlet-mapping&gt;&lt;servlet-name&gt;abc&lt;/servlet-name&gt;&lt;url-pattern&gt;/abc&lt;/url-pattern&gt;&lt;/servlet-mapping&gt;</code></p>\n\n<p>URL in AJAX is same as given in the <strong><code>&lt;url-pattern&gt;</code></strong> </p>\n\n<p><strong>I get AJAX status \"404\" when send requset to the servlet.</strong></p>\n\n<p>Also, when I used alert box to show the status, it replied <strong>\"Unspecified error\"</strong> and after that <strong>status=404</strong> for  <strong>readyState=2</strong> , <strong>readyState=3</strong> , <strong>readyState=4</strong> </p>\n\n<p>I can't figure it out that why it is not able to call the servlet.</p>\n\n<p>Are there other steps required to be done for calling that servlet that I am missing,</p>\n\n<p><strong>or</strong></p>\n\n<p>If I went somewhere wrong, please point out the mistake.</p>\n\n<p>It would be a great help if someone posts the steps to be done for such a calling to the servlet. </p>\n"},{"tags":["ajax","hyperlink","window","wicket","modal"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13157818,"title":"wicket AjaxLink onclick not responding","body":"<p>I'm building a website with wicket. I have a modal window that opens from an ajaxlink from the main page. The problem is that when I added a CSS to my HTML code in order to make it more visible attractive, it stopped working. So now, when I click in the AjaxLink that opens the modal window, nothing happens and I can't figure out why. Any Ideas??</p>\n\n<p>This is the code of the AjaxLink:</p>\n\n<pre><code>AjaxLink privacyLink = new AjaxLink&lt;Void&gt;(\"privacylink\") {\n    @Override\n    public void onClick(AjaxRequestTarget target) {\n        // TODO Auto-generated method stub\n        modal2.show(target);\n    }\n}; \n</code></pre>\n\n<p>One more comment. This AjaxLink is introduced as a part of a ListView, so actually there are multiple AjaxLinks.</p>\n"},{"tags":["php","javascript","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13208249,"title":"How can I execute 2 separate queries using PDO and send back the resultant array to javascript","body":"<pre><code>$data = $dbh-&gt;prepare('SELECT workloadformula,coursecode FROM coursedetails WHERE coursecode = ' . $dbh-&gt;quote($coursecode) . ' ; select concat(firstname,\" \",lastname) as name from lecturerdetails where concat(firstname,\" \",lastname) = ' . $dbh-&gt;quote($name) . '');\n\n\n$data-&gt;execute();\ndo {\n    $result = $data-&gt;fetchAll();\n    $final  = var_dump($result);\n    echo \"$final\";\n} while\n(\n    $dbh-&gt;nextRowset()\n);\n</code></pre>\n"},{"tags":["php","mysql","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13207571,"title":"Calling a random record on pageload via PHP, dynamically displaying result via AJAX","body":"<p>this is something I've been stuck on for around 7 hours total over the last 3 days, and it is driving me absolutely insane. Any assistance you could lend me with be greatly appreciated.</p>\n\n<p>Basically I want to:</p>\n\n<ol>\n<li><p>Call a PHP function on pageload which randomly selects a record from\nmy MySQL database</p></li>\n<li><p>Dynamically display that record in a HTML page</p></li>\n</ol>\n\n<p>(Once I've got that down, I also want to be able to trigger that this process on the click of a button.)</p>\n\n<p>Before tackling this task, I put together a prototype which dynamically displays a specific record via a HTML dropdown menu: <a href=\"http://lrdondmt.com/week13/ajaxprototype1.html\" rel=\"nofollow\">http://lrdondmt.com/week13/ajaxprototype1.html</a></p>\n\n<p>I've been trying to modifications to this code to achieve the above. </p>\n\n<p>My PHP looks like this:</p>\n\n<pre><code>&lt;?php\n\n// connect to database\n\n    $username= \"**withheld**\"'\n    $password=\"**withheld**\";\n    $database=\"**withheld**\";\n    $table=\"banddb\";\n    mysql_connect(localhost,$username,$password);\n    @mysql_select_db($database) or die( \"Unable to select database\");\n\n// the query itself, selects random record from database\n\n    $sql=\"SELECT * FROM banddb WHERE id &gt;= (SELECT FLOOR( MAX(id) * RAND()) FROM quotes ) ORDER BY id LIMIT 1\";\n    $result = mysql_query($sql);\n\n// echo result\n\nwhile($row = mysql_fetch_array($result))\n  {\n    echo '&lt;b&gt;Band name:&lt;/b&gt;&amp;nbsp;' . $row['bandname'] . '&lt;/br&gt;&lt;/br&gt;';\n    echo '&lt;b&gt;Location:&lt;/b&gt;&amp;nbsp;' . $row['city'] . ',&amp;nbsp;' . $row['state'] . '&lt;/br&gt;&lt;/br&gt;';\n    echo '&lt;b&gt;Image:&lt;/b&gt; &lt;/br&gt;&lt;/br&gt;' . '&lt;img src=\"http://lrdondmt.com/discovermusic/images/' . $row['imgpath'] . '\" /&gt;' . '&lt;/br&gt;&lt;/br&gt;';\n    echo '&lt;b&gt;About the band: &lt;/b&gt;' . $row['abouttheband'] . '&lt;/br&gt;&lt;/br&gt;';\n    echo '&lt;a href=\"' . $row['bandcamplink'] .  '\"&gt;&lt;img src=\"http://www.lrdondmt.com/discovermusic/images/bandcamp-icon.png\" alt=\"Find on the band on Bandcamp\" /&gt;&lt;/a&gt;' . '&lt;/br&gt;&lt;/br&gt;';\n    echo '&lt;a href=\"' . $row['facebooklink'] .  '\"&gt;&lt;img src=\"http://www.lrdondmt.com/discovermusic/images/facebook-icon.png\" alt=\"Find on the band on Facebook\" /&gt;&lt;/a&gt;' . '&lt;/br&gt;&lt;/br&gt;';\n    echo '&lt;b&gt;Bandcamp player:&lt;/b&gt; &lt;/br&gt;&lt;/br&gt;' . '&lt;iframe width=\"300\" height=\"100\" id=bandcampplayer src=\"http://bandcamp.com/EmbeddedPlayer/v=2/album=' . $row['bandcampid'] . '/size=grande/bgcol=e9e9e9/linkcol=890101/\" allowtransparency=\"true\" frameborder=\"0\" &gt;' . '&lt;/br&gt;&lt;/br&gt;';\n  }\necho \"&lt;/table&gt;\";\n\n// close connection \n\nmysql_close();\n\n?&gt;\n</code></pre>\n\n<p>My HTML document looks like this:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n\n    &lt;title&gt;AJAX prototype 2&lt;/title&gt;\n\n&lt;script type=\"text/javascript\" &gt;    \n    function showRecord()\n    {\n          {\n          document.getElementById(\"txtHint\").innerHTML=\"\";\n          return;\n          }\n        if (window.XMLHttpRequest)\n          {// code for IE7+, Firefox, Chrome, Opera, Safari\n          xmlhttp=new XMLHttpRequest();\n      }\n        else\n          {// code for IE6, IE5\n          xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }\n      if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n        {\n        document.getElementById(\"txtHint\").innerHTML=xmlhttp.responseText;\n        }\n    xmlhttp.open(\"GET\",\"getmusic2.php\",true);\n    xmlhttp.send();\n    }\n    &lt;/script&gt;\n\n    &lt;script type=\"text/javascript\" &gt;\n        $(document).ready(function(showRecord))\n    &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div id=\"txtHint\"&gt;\n    &lt;em&gt;Your content should appear here.&lt;/em&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you need any further info, please just ask.</p>\n"},{"tags":["javascript","ajax","browser-history"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13207200,"title":"Why using #! instead of # in Ajax requests?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3009380/whats-the-shebang-hashbang-in-facebook-and-new-twitter-urls-for\">What’s the shebang/hashbang (#!) in Facebook and new Twitter URLs for?</a>  </p>\n</blockquote>\n\n\n\n<p>I see in several web-based application that uses Ajax request for loading pages, they use <code>#!</code> after urls instead of <code>#</code>. For instance: <code>/boo.php#!Projects</code> instead of <code>/boo.php#Projects</code>.</p>\n\n<p>I want to know, is there any technical reason for doing like that or not?</p>\n"},{"tags":["jquery","ruby-on-rails","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":256,"score":5,"question_id":12730754,"title":"Raw javascript rendered on back button click","body":"<p>Our team was recently presented an initially edge-case issue in which a User would be displayed raw javascript when clicking the browser's back button from a page that had some sort of javascript rendering (be it Ajax, tabs, etc.).  To re-create, we followed the following steps:</p>\n\n<ul>\n<li>Visit the users job applications index</li>\n<li>Click a button to the manage job posting page</li>\n<li>Click on a tab (using bettertabs gem)</li>\n<li>Click the browser's back button</li>\n</ul>\n\n<p>The previous steps would display:</p>\n\n<pre><code>(function() {\n\n  $(\".job_applications\").html(\"&lt;li class=\\\"job_posting_application\\\"&gt;\\n\n    ...\n    ...\n    ...\n    ...\n  );\n\n}).call(this);\n</code></pre>\n\n<p>In some hit-or-miss cases, you wouldn't need to click on a tab prior to going back to the previous page, yet it would still render the raw javascript. At the end of the day, it seems the last rendered template is being cached, which is normal and expected on the browser's part, but leads into what I believe to be a larger problem.</p>\n\n<p>The Rails Guides state in the section on <a href=\"http://guides.rubyonrails.org/layouts_and_rendering.html\"><strong>Layouts and Rendering</strong></a>, specifically regarding MIME type of the template:</p>\n\n<blockquote>\n  <p><em>By default, Rails will serve the results of a rendering operation with the MIME content-type of text/html (or application/json if you use the :json option, or application/xml for the :xml option.).</em></p>\n</blockquote>\n\n<p>Based on the Rails defaults, our controller's index action is expected to render our <code>index.html.slim</code> template. However, when making a non-remote call to that page (e.g., directly navigating to the page in the browser) while tailing the server logs, we notice that it actually renders <code>index.js.coffee</code>. Below is our controller action, and notice we are not explicitly responding to html or js formats, as we probably should considering the overlying features in this page:</p>\n\n<pre><code>def index\n  @company_id, @division_id, @job_posting_id = params[:company_id], params[:division_id], params[:job_posting_id]\n\n  # API requests are made here to instantiate @job_posting, et al.,\n  # but are not shown for brevity\n\n  authorize! :manage, @job_posting\n\n  @survey = @job_posting.survey\n  @job_applications = @job_posting.job_applications(sort_column, sort_direction)\nend\n</code></pre>\n\n<p>Given this setup, however, <code>index.html.slim</code> <em>should</em> be rendered based on Rails defaults. When adding a <code>respond_to</code> block, it seems the caching is still in effect and the controller could care less about the presence of a <code>respond_to</code> block:</p>\n\n<pre><code>def index\n  ...\n  ...\n  respond_to do |format|\n    format.html\n    format.js\n  end\nend\n</code></pre>\n\n<p>Even when explicitly, and albeit smelly, telling each format to render a different template, it seems the <code>js.coffee</code> template takes precedence over the <code>html.slim</code> template:</p>\n\n<pre><code>def index\n  ...\n  ...\n  respond_to do |format|\n    format.html { render template: \"users/job_posting_applications/index\" }\n    format.js { render template: \"users/job_posting_applications/ajax\" }\n  end\nend\n</code></pre>\n\n<p>In the above case, directly navigating to the page in the browser (in other words, not making a remote Ajax call), the server log would render <code>ajax.js.coffee</code>, even though the Rails default is html unless otherwise specified.</p>\n\n<p>All this being said, here are some other findings:</p>\n\n<pre><code>Started GET \"/users/companies/1/divisions/18/job_postings/349421/applications\" for 127.0.0.1 at 2012-10-03 19:55:26 -0400\nProcessing by Users::JobPostingApplicationsController#index as JSON\n</code></pre>\n\n<p>(<strong><em>you can reference the entire request shown above <a href=\"http://pastie.org/4905407\">in this pastie</a></em></strong>)</p>\n\n<p>Why it's processing as JSON is beyond me, considering we are not serving any JSON on this request, and have no specifications in routing for a default format of <code>:json</code> for this route.</p>\n\n<p>Additionally, when debugging the value of <code>request.format</code> within this action, it returns <code>application/json</code>.</p>\n\n<p>Another scenario that presented is within another controller (<code>users/company_admin_metrics#index</code>) that contains only an <code>index.html.slim</code> template.  When navigating to this page, the server log shows that it rendered <code>users/company_admin_metrics/index.html.slim</code> within <code>layouts/users</code>. When I create a blank js.coffee template:</p>\n\n<pre><code>$ touch app/views/users/company_admin_metrics/index.js.coffee\n</code></pre>\n\n<p>and directly navigate to that index page, the server log shows that it rendered <code>users/company_admin_metrics/index.js.coffee</code>, which further exposes a potential issue somewhere regarding template rendering precedence.</p>\n\n<p>Has anyone encountered a similar issue that may provide a potential fix for this?</p>\n\n<h2>Our stack</h2>\n\n<p>Below is a minute list of the basic players into this particular question:</p>\n\n<ul>\n<li>Rails 3.2.6</li>\n<li>Coffee-Rails 3.2.1</li>\n<li>Bettertabs 1.2.6</li>\n</ul>\n\n<p>This request depends on requests to our job posting API through a client gem that parses JSON and returns a Ruby object, but these are not coupled with this particular app in such a way that would conflict and cause <em>this</em> app to have a content-type of <code>application/json</code> for such a request as described above.</p>\n"},{"tags":["android","ajax","forms","jquery-mobile","phonegap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1042,"score":0,"question_id":11132245,"title":"Phonegap + Jquery Mobile Android App Form Submission","body":"<p>I am trying to submit a form in an Eclipse Android emulator using Phonegap and Jquery Mobile. I am looking to submit the form and have a message showing that the form was submitted successfully or not. If I submit the form on an internet browser, the php page works fine. However, trying to use the Android emulator, the form submission never gets to the php file.</p>\n\n<p>Below is the html form that I am using. I have included the phonegap and jquery scripts.</p>\n\n<pre><code>  &lt;form id=\"myForm\" &gt;\n                &lt;div data-role=\"fieldcontain\"&gt;\n                    &lt;fieldset data-role=\"controlgroup\" data-mini=\"true\"&gt;\n                        &lt;label for=\"textinput1\"&gt;\n                            Name\n                        &lt;/label&gt;\n                        &lt;input id=\"fullnameid\" name=\"fullname\" placeholder=\"\" value=\"\" type=\"text\" /&gt;\n                    &lt;/fieldset&gt;\n                &lt;/div&gt;\n                &lt;div data-role=\"fieldcontain\"&gt;\n                    &lt;fieldset data-role=\"controlgroup\" data-mini=\"true\"&gt;\n                        &lt;label for=\"textinput2\"&gt;\n                            E-Mail\n                        &lt;/label&gt;\n                        &lt;input id=\"emailid\" name=\"email\" placeholder=\"\" value=\"\" type=\"text\" /&gt;\n                    &lt;/fieldset&gt;\n                &lt;/div&gt;\n                &lt;div data-role=\"fieldcontain\"&gt;\n                    &lt;fieldset data-role=\"controlgroup\"&gt;\n                        &lt;label for=\"textarea1\"&gt;\n                            Message\n                        &lt;/label&gt;\n                        &lt;textarea id=\"commentid\" name=\"comment\" placeholder=\"\" data-mini=\"true\"&gt;&lt;/textarea&gt;\n                    &lt;/fieldset&gt;\n                &lt;/div&gt;\n                 &lt;h3 id=\"return\"&gt;&lt;/h3&gt;\n                &lt;button data-theme=\"b\" id=\"submitid\" data-icon=\"arrow-r\" data-iconpos=\"left\" name=\"submit\" type=\"submit\"&gt;Submit&lt;/button&gt;\n\n           &lt;/form&gt;\n</code></pre>\n\n<p>The javascript that I am using, which is an AJAX post is:</p>\n\n<pre><code>&lt;script&gt;\n function onSuccess(data, status)\n    {\n        data = $.trim(data);\n        $(\"#return\").text(data);\n    }\n\n    function onError(data, status)\n    {\n        // handle an error\n        alert(\"Error Submitting Form\");\n    }       \n\n    $(document).ready(function() {\n        $(\"#submitid\").click(function(){\n\n            var formData = $(\"#myForm\").serialize();\n\n            $.ajax({\n                type: \"POST\",\n                url: \"http://www.dowlingnetworks.com/app/contactscript.php\",\n                cache: false,\n                data: formData,\n                success: onSuccess,\n                error: onError\n            });\n\n            return false;\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","webgrid"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3003,"score":1,"question_id":8590177,"title":"ASP.NET MVC 3.0 WebGrid - Ajax Enabled","body":"<p>I'm encountering the following problem: \"A JQuery script reference is required in order to enable Ajax support in the \"WebGrid\" helper\"</p>\n\n<p>I want to make my WebGrid AJAX enabled. I got this code for the Partial View</p>\n\n<pre><code>@ModelType WebGrid\n\n@Model.GetHtml(tableStyle:=\"webgrid\", headerStyle:=\"webgrid-header\", footerStyle:=\"webgrid-footer\", alternatingRowStyle:=\"webgrid-alternating-row\", selectedRowStyle:=\"webgrid-selected-row\", rowStyle:=\"webgrid-row-style\",\n                       columns:=Model.Columns(Model.Column(\n                                             columnName:=GemeentePostColumnsEnum.NISCode.ToString()),\n                                Model.Column(columnName:=GemeentePostColumnsEnum.GemeenteNaam.ToString()),\n                                Model.Column(columnName:=GemeentePostColumnsEnum.DistrictNaam.ToString()),\n                                Model.Column(columnName:=GemeentePostColumnsEnum.PostCode.ToString()),\n                                Model.Column(columnName:=GemeentePostColumnsEnum.PostNaam.ToString()),\n                                Model.Column(\n                                    format:=@@&lt;text&gt;@Ajax.ActionLink(\"Edit\", \"AddEdit\", New With {.NISCode = item.NISCode}, New AjaxOptions With {.UpdateTargetId = \"formGemeentePost\", .InsertionMode = InsertionMode.Replace, .HttpMethod = \"GET\", .OnFailure = \"failure\"})&lt;/text&gt;)))\n</code></pre>\n\n<p>And this code for the controller:</p>\n\n<pre><code>Function SearchForm(searchModel As GemeentePostWebService.GemeentePostCriteria) As PartialViewResult\n            searchModel.Taalcode = \"nl\"\n\n\n           'Code to fill up Model\n\n                ViewBag.WebGrid = CreateGrid(viewModelList)\n                Return PartialView(\"Partial/_Grid\", ViewBag.WebGrid)\n            End If\n        End Function\n\n        Private Function CreateGrid(source As List(Of GemeentePostModel)) As WebGrid\n            Return New WebGrid(source:=source, rowsPerPage:=10, ajaxUpdateContainerId:=\"grid\", defaultSort:=GemeentePostColumnsEnum.GemeenteNaam)\n        End Function\n</code></pre>\n\n<p>When I enter some search values and submit the form, I get the following error:</p>\n\n<p>\"A JQuery script reference is required in order to enable Ajax support in the \"WebGrid\" helper\"</p>\n\n<p>With as result: I got the right filtered values, but my div (updatetargetid) isn't filled up.</p>\n\n<p>I already added the jQuery and unobtrusive scripts and included them in my header:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;X&lt;/title&gt;\n    &lt;link href=\"/X/Content/Site.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;link href=\"/X/Content/themes/base/jquery.ui.all.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;script src=\"/X/Scripts/jquery-1.5.1.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"/X/Scripts/jquery-ui-1.8.11.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"/X/Scripts/jquery.unobtrusive-ajax.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13171481,"title":"here i am trying to achieve infinite scrolling but what happens when i am scrolling too fast it fire multiple ajax request","body":"<p>here i am trying to achieve infinite scrolling but what happens when i am scrolling too fast it fire multiple ajax request with same parameter , which cause same data again n again. i have doubt in scroll function of scrollpagination.js here i am giving  you whole content so if any body can help me pls.</p>\n\n<pre><code>  index.php\n  `&lt;?php $actual_row_count = 400; ?&gt;\n   &lt;!doctype html&gt;\n   &lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt; \n        &lt;link type=\"text/css\" href=\"css/style.css\" rel=\"Stylesheet\" /&gt;  \n        &lt;script type=\"text/javascript\" src=\"js/jquery.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"js/scrollpagination.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            $(function(){\n\n                var actual_count = \"&lt;?php echo $actual_row_count; ?&gt;\";\n                $('#quepanel').scrollPagination({\n                    'contentPage': 'loadmore.php', // the url you are fetching the results\n                    'contentData': {},// { AlbumName: \"Dirty Deeds\", Entered: \"5/1/2012\" },// these are the variables you can pass to the request, for example: children().size() to know which page you are\n                    'scrollTarget': $(window), // who gonna scroll? in this example, the full window\n                    'heightOffset': 10, // it gonna request when scroll is 10 pixels before the page ends\n                    'beforeLoad': function(){ // before load function, you can display a preloader div\n                        $('#loadMore').fadeIn();                                            \n                    },\n                    'afterLoad': function(elementsLoaded){ // after loading content, you can use this function to animate your new elements\n                         $('#loadMore').fadeOut();\n\n                         //var i = 0;\n                         //$(elementsLoaded).fadeIn(1000);\n                        if ($('#quepanel').children().size() &gt; actual_count ){ // if more than 100 results already loaded, then stop pagination (only for testing)\n                            $('#loadMoreComments').fadeIn();\n                            $('#quepanel').stopScrollPagination();\n                         }\n                    }\n                });\n\n                // code for fade in element by element\n                $.fn.fadeInWithDelay = function(){\n                    var delay = 0;\n                    return this.each(function(){\n                        $(this).delay(delay).animate({opacity:1}, 200);\n                        delay += 100;\n                    });\n                };\n\n            });\n        &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div class = \"maindiv\"&gt;\n            &lt;div id = \"quepanel\" class = \"middle\"&gt;\n\n                &lt;?php\n                    $qno = 0;\n                    $limit = 30;                    \n                    for($i=0 ; $i&lt; $limit ; $i++)\n                    { ?&gt;&lt;div&gt;&lt;span class = \"srno\"&gt;&lt;?php echo ++$qno ;?&gt;&lt;/span&gt;&lt;span&gt;&lt;?php echo 'hello'.microtime() ;?&gt;&lt;/span&gt;&lt;/div&gt; \n                &lt;?php }?&gt;\n            &lt;/div&gt;\n        &lt;div id = \"loadMore\"  class = \"loadmorediv\"&gt;\n            &lt;center&gt;&lt;img src = \"https://www.google.com/images/loading.gif\" /&gt;&lt;/center&gt;\n        &lt;/div&gt;\n        &lt;div id = \"loadMoreComments\"  class = \"loadmorediv\"&gt;\n            &lt;center&gt;&lt;span&gt;No More Records&lt;/span&gt;&lt;/center&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n`\nloadmore.php\n`&lt;?php\n\n$requested_page = $_GET['iteration'];\n$limit = 20;\n$from = (($requested_page - 1) * $limit);\n$qno = $from ;\n\n            for($i=0 ; $i&lt; $limit ; $i++)\n            { ?&gt;\n                &lt;div&gt;&lt;span class = \"srno\"&gt;&lt;?php echo ++$qno ;?&gt;&lt;/span&gt;&lt;span&gt;&lt;?php echo 'hello'.microtime() ;?&gt;&lt;/span&gt;&lt;/div&gt; \n        &lt;?php }?&gt;\n`\nscrollpagination.js\n\n\n (function( $ ){\n     $.fn.scrollPagination = function(options) {\n\n        var opts = $.extend($.fn.scrollPagination.defaults, options);  \n        var target = opts.scrollTarget;\n        if (target == null){\n            target = obj; \n        }\n        opts.scrollTarget = target;\n\n        return this.each(function() {\n          $.fn.scrollPagination.init($(this), opts);\n        });\n\n  };\n\n  $.fn.stopScrollPagination = function(){\n      return this.each(function() {\n        $(this).attr('scrollPagination', 'disabled');\n      });\n\n  };\n\n  var itr = 2;\n  $.fn.scrollPagination.loadContent = function(obj, opts){\n     var target = opts.scrollTarget;\n     var mayLoadContent = $(target).scrollTop()+opts.heightOffset &gt;= $(document).height() - $(target).height();\n     if (mayLoadContent){\n         if (opts.beforeLoad != null){\n            opts.beforeLoad(); \n         }\n\n         $(obj).children().attr('rel', 'loaded');\n         $.ajax({\n              type: 'POST',\n              url: opts.contentPage+\"?iteration=\"+itr,\n              data: opts.contentData,\n              success: function(data){\n                itr++;\n                $(obj).append(data); \n                var objectsRendered = $(obj).children('[rel!=loaded]');\n\n                if (opts.afterLoad != null){\n                    opts.afterLoad(objectsRendered);    \n                }\n              }\n         });\n     }\n\n  };\n\n  $.fn.scrollPagination.init = function(obj, opts){\n     var target = opts.scrollTarget;\n     $(obj).attr('scrollPagination', 'enabled');\n\n     $(target).scroll(function(event){\n        if ($(obj).attr('scrollPagination') == 'enabled'){\n                $.fn.scrollPagination.loadContent(obj, opts);\n                //alert(event.isPropagationStopped());\n        }           \n            //event.stopPropagation();\n            //console.log(event.isPropagationStopped());\n            event.preventDefault();\n     });\n\n     //$.fn.scrollPagination.loadContent(obj, opts);\n\n };\n\n $.fn.scrollPagination.defaults = {\n         'contentPage' : null,\n         'contentData' : {},\n         'beforeLoad': null,\n         'afterLoad': null  ,\n         'scrollTarget': null,\n         'heightOffset': 0        \n }; \n})( jQuery );`\nstyle.css\n`@CHARSET \"ISO-8859-1\";\n\n    body{\n\n            font-family:Segoe UI Light,Segoe UI,Tahoma,Arial,Verdana,sans-serif;\n            font-style: normal;\n            color: #C76A6A;\n            color: #0099D2;\n            color : black ;\n        }\n\n    #loadMoreComments{\n\n        background-color : white;\n        font-weight: bold;\n        color : black;\n        border : solid 1px gray;\n        padding : 5px;\n        -webkit-border-radius: 1px; /* Saf3-4, iOS 1-3.2, Android ≤1.6 */\n        border-radius: 1px; /* Opera 10.5, IE9, Saf5, Chrome, FF4+, iOS 4, Android 2.1+ */\n        width : 500px;\n        margin : 10px auto;\n        display : none;     \n    }\n    #loadMore{\n\n        margin-left: auto;\n        margin-right: auto;\n        display:none;\n        z-index:2;\n    }\n\n    #quepanel{\n\n        padding-top : 10px;\n        margin-left : auto;\n        margin-right : auto ;\n        width: 600px;\n    }\n\n    .maindiv{\n\n        width: 960px;\n        height: auto;\n        border : red 2px;\n        margin-left: auto;\n        margin-right: auto;\n        background-color: #F8F8F8;\n        padding : 1px 10px 10px 10px ;\n    }\n\n\n    .middle{\n\n        margin-right : auto;\n        margin-left : auto;\n    }\n\n\n    .srno{\n\n        width  : 30px;\n        display : inline-block;\n        text-align: center;\n        -webkit-border-radius: 45px; /* Saf3-4, iOS 1-3.2, Android ≤1.6 */\n        border-radius: 45px; /* Opera 10.5, IE9, Saf5, Chrome, FF4+, iOS 4, Android 2.1+ */\n        background-color: rgb(180, 180, 180);\n        color: #15CFA3;\n        vertical-align: top;\n        padding : 5px 0 ;\n        color : white;\n        border :  1px gray;\n        margin-top: 5px;\n\n    }   \n    `\n</code></pre>\n"},{"tags":["ajax","asp.net-mvc","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13205334,"title":"Model Passed into MVC 4 Controller Null","body":"<p>I'm trying to serialize a form and pass it into a controller as a model. What I'm doing I've done in the past, but it's not working for some reason, so I suspect I am missing something stupid. Perhaps you can find it.</p>\n\n<p>In my controller I have a method:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult AddShippingLocation(PricingRequestModel model)\n    {\n        model.ShippingLocationsModel.Add(new ShippingLocationsModel());\n\n        return PartialView(\"shiplocationPartial\", model);\n    }\n</code></pre>\n\n<p>In my view I have a script that looks like this:</p>\n\n<pre><code>function AddShippingLocation() {\n    $.ajax({\n        data: { model: $('#shippinginfoform').serialize() },\n        type: \"POST\", \n        url: \"/PricingRequest/AddShippingLocation\", \n        success: function (response) {\n            $('#shiplocation-wrapper').html(response);\n        }\n    })\n}\n</code></pre>\n\n<p>This is called from a link that gets clicked. Also in the view I have a form that uses this:</p>\n\n<pre><code>@using (Html.BeginForm(\"AddShippingLocation\", \"PricingRequest\", FormMethod.Post, new { id = \"shippinginfoform\" }))\n</code></pre>\n\n<p>{</p>\n\n<p>I put the Addshippinglocation in as the method because I wanted to test to see if the model would be serialized using the built in helper. The model gets passed in properly using Html.BeginForm, it also gets passed in properly when using Ajax.BeginForm. When using jquery.serialize, though, it doesn't get passed in properly. On a side note, I'm using MVC 4. Any ideas? Thanks.</p>\n\n<p>EDIT: Here's the request headers. The top one is a successful post of the model to the method, the bottom is the .serialize() that passes in a null model. I examined the post strings and the are the exact same.</p>\n\n<pre><code>Accept  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Encoding gzip, deflate\nAccept-Language en-US,en;q=0.5\nConnection  keep-alive\nCookie  .ASPXAUTH=9F06BF2A7D03211E0D2ACEC26D7A568754C89F8A265EE61D9F8010BB8DF1D97670212F1E853FDE960E87AAC5DC7D364A251F670560448482517DA7C072864F62AC0C5C3E1EE8D375ACC1EA8F4D63CFC3C1DD28BBDCAC945155D15289DCDDA3B540756C0609611C13A438B5FF4CA747219290AFB51F58B8AD35AE40C01D3AFAF8B32ADD7E200148B1E1646400CAC0F116; ASP.NET_SessionId=v3qwt02dn1pd13posl5zzk3n\nHost    localhost:2652\nReferer http://localhost:2652/PricingRequest/custinfo\nUser-Agent  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\nRequest Headers From Upload Stream\nContent-Length  471\nContent-Type    application/x-www-form-urlencoded\n\nAccept  */*\nAccept-Encoding gzip, deflate\nAccept-Language en-US,en;q=0.5\nCache-Control   no-cache\nConnection  keep-alive\nContent-Length  555\nContent-Type    application/x-www-form-urlencoded; charset=UTF-8\nCookie  .ASPXAUTH=9F06BF2A7D03211E0D2ACEC26D7A568754C89F8A265EE61D9F8010BB8DF1D97670212F1E853FDE960E87AAC5DC7D364A251F670560448482517DA7C072864F62AC0C5C3E1EE8D375ACC1EA8F4D63CFC3C1DD28BBDCAC945155D15289DCDDA3B540756C0609611C13A438B5FF4CA747219290AFB51F58B8AD35AE40C01D3AFAF8B32ADD7E200148B1E1646400CAC0F116; ASP.NET_SessionId=v3qwt02dn1pd13posl5zzk3n\nHost    localhost:2652\nPragma  no-cache\nReferer http://localhost:2652/PricingRequest/custinfo\nUser-Agent  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\nX-Requested-With    XMLHttpRequest\n</code></pre>\n"},{"tags":["jquery","ajax","sharepoint","dom"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":306,"score":3,"question_id":7541788,"title":"Modify DOM with JQuery after any AJAX Call over which I don't have control","body":"<p>I'm working with SharePoint 2010, one of the aspx pages contains a Note Board web part which provides simple functionality to leave a comment on a given page.</p>\n\n<p>When the page is loaded the comments are retrieved by that web part using AJAX, I DO NOT have control over when that AJAX call is complete.</p>\n\n<p>I'm trying to insert a link or some text within each of the table data tags that the web part uses for the comments i.e. </p>\n\n<pre><code>&lt;td class=\"socialcomment\"&gt;Comment 1&lt;/td&gt; \n&lt;td class=\"socialcomment\"&gt;Comment 2&lt;/td&gt;\n&lt;td class=\"socialcomment\"&gt;Comment 3&lt;/td&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;td class=\"socialcomment\"&gt;Comment 1 &lt;a href=\"#\"&gt;Report inappropiate&lt;/a&gt;&lt;/td&gt; \n&lt;td class=\"socialcomment\"&gt;Comment 2 &lt;a href=\"#\"&gt;Report inappropiate&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"socialcomment\"&gt;Comment 3 &lt;a href=\"#\"&gt;Report inappropiate&lt;/a&gt;&lt;/td&gt;\n</code></pre>\n\n<p>using JQuery like this</p>\n\n<pre><code>$('td.socialcomment').append(' &lt;a href=\"#\"&gt;Report inappropiate&lt;/a&gt;');\n</code></pre>\n\n<p>I haven't been able to use the live() function of JQuery in the above scenario (worked for other scenarios I have), but I think that is because it was designed for events.\nI have also tried the .ajaxComplete() but it hasn't worked out at all I believe because I don't have control of the Ajax call or the Ajax call that SharePoint performs is not registered with JQuery.</p>\n\n<p>Any help or insight is much appreciated.\nThanks in advance!</p>\n"},{"tags":["php","ajax","post","escaping"],"answer_count":6,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":4159,"score":8,"question_id":2496455,"title":"Why are $_POST variables getting escaped in PHP?","body":"<p>When my PHP script receives data from an AJAX POST request, the <code>$_POST</code> variables are escaped. The really strange thing is that this only happens on my production server (running PHP 5.2.12 on Linux) and not on my local server (running PHP 5.3.1 on Windows).</p>\n\n<p>Here is the AJAX code:</p>\n\n<pre><code>var pageRequest = false;\nif(window.XMLHttpRequest)     pageRequest = new XMLHttpRequest();\nelse if(window.ActiveXObject) pageRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\npageRequest.onreadystatechange = function() { }\n\nvar q_str = 'data=' + \" ' \";\n\npageRequest.open('POST','unnamed_page.php',true);\n\npageRequest.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\npageRequest.setRequestHeader(\"Content-length\", q_str.length);\npageRequest.setRequestHeader(\"Connection\", \"close\");\n\npageRequest.send(q_str);\n</code></pre>\n\n<p>Is there any reason this is happening? And how should I fix this so that it works on both servers?</p>\n\n<p>Edit: I have the following settings for magic_quotes:</p>\n\n<pre><code>                     Local   Master\n\nmagic_quotes_gpc     On      On\nmagic_quotes_runtime Off     Off\nmagic_quotes_sybase  Off     Off\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2972,"score":1,"question_id":4505652,"title":"Invalid regular expression flag b on property list sending AJAX request","body":"<p>I am trying to run the code:</p>\n\n<pre><code>runrequest = function () {\n $.ajax({\n url: 'ajax.php',\n success: function(data) {\n  proccessrequest(true,eval(data));\n  },\n error: function(data) {\n  proccessrequest(false,eval(data));\n  }\n });\n }\n</code></pre>\n\n<p>For some reason whenever I run this code Firebug gives me the error:</p>\n\n<pre><code>invalid regular expression flag b\n},\n</code></pre>\n\n<p>This is referring to the }, after the success function. I am clueless of why this wouldn't work.</p>\n\n<p>EDIT: The return data is ajax is JSON. The json is wrapped in parentheses</p>\n"},{"tags":["jquery","ajax","json","cakephp","cakephp-2.1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12573016,"title":"Empty reponse for ajax call in CakePHP 2.1","body":"<p>On CakePHP 2.1, I have an ajax request that gets an empty response (checked with firebug) and also triggers the error callback.</p>\n\n<p>From my .js I'm calling a php from outside of cake -same server- to provide some database records I need:</p>\n\n<pre><code>function updateDiv() {\n    $.ajax({                                      \n        url: 'http://myserver/phpGenesi/api.php',\n        data: \"\",\n        dataType: 'json',\n        success: function(data)\n        {   \n            alert(data);\n        },\n        error: function(data)\n        {   \n            alert('error')\n        } \n    });        \n}\n</code></pre>\n\n<p>This is the PHP code on the server (it works well and is not CakePHP, simply PHP db data):</p>\n\n<pre><code>$result = mysql_query(\"SELECT * FROM $tableName where project_id = 101\"); \n$array = mysql_fetch_row($result);      \n\n\nif (mysql_num_rows($result) &gt; 0)  \n{  \n$responses = array();\nwhile($row = mysql_fetch_assoc($result)) {\n    $responses[] = array(  \n        'id' =&gt; $row['id'],  \n        'name' =&gt; $row['name'],  \n        'dir_description' =&gt; $row['dir_description'],\n        'project_id' =&gt; $row['project_id'],\n        'dir_notes' =&gt; $row['dir_notes'],\n        'dir_dataname' =&gt; $row['dir_dataname']\n    );  \n}\necho '{\"dirs\": ' . json_encode($responses) . '}';\n}\n</code></pre>\n\n<p>I get the results just fine when I access the same php from outside cake, for example:</p>\n\n<pre><code>http://myserver/phpGenesi/api.php\n</code></pre>\n\n<p>returns what i need:</p>\n\n<pre><code>{\"dirs\": [{\"id\":\"240\",\"name\":\"c\",\"dir_description\":\"Carlos Test c\",\"project_id\":\"101\",\"dir_notes\":\"c\",\"dir_dataname\":\"c\"},{\"id\":\"241\",\"name\":\"d\",\"dir_description\":\"Carlos Test d\",\"project_id\":\"101\",\"dir_notes\":\"d\",\"dir_dataname\":\"d\"}]}\n</code></pre>\n\n<p>Also works if called from any client document.</p>\n\n<p>The problem is when I call it from inside my cake document. Firebug shows empty response and my ajax error function is triggered.</p>\n\n<p>Any idea on what it's missing? How can I know what error is occurring that is triggering my error function?</p>\n"},{"tags":["php","javascript","jquery","ajax","cors"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":109,"score":2,"question_id":11838739,"title":"Setting PHPSESSID Cookie, CORS","body":"<p>I execute <code>$.ajax</code> call to query primary <em>host1</em> from <em>host2</em>. </p>\n\n<p><code>Access-Control-Allow-Origin: host2</code> header is sent on <em>host1</em>.</p>\n\n<p><strong>The problem</strong>: I need to be authenticated, but PHP Session is not set for <em>host1</em> because of CORS.</p>\n\n<p><strong>Question</strong>: Do I need to extract PHPSESSID Set-Cookie header returned from <em>host1</em> and set it back to the same host, <em>host1</em>?</p>\n\n<pre><code>// On Host2\n$.ajax({\n    url: 'http://Host1/User/Login/',\n    dataType: 'text',\n    type: 'POST',\n    data: {Id:Id,UserName:UserName},\n    success: function(data) {\n        $('#result').html(data);\n    }\n});\n</code></pre>\n"},{"tags":["php","javascript","html","ajax","codeigniter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":13205119,"title":"autocomplete value in textbox codeigniter","body":"<p>I have done to make control autocomplete, but I have a problem to post data with jquery.</p>\n\n<pre><code>&lt;input type=\"text\" id=\"matakuliah\" class=\"med\" name=\"matakuliah\"&gt;\n&lt;script type=\"text/javascript\"&gt;\n        $(this).ready( function() {\n            $(\"#matakuliah\").autocomplete({\n                minLength: 1,\n\n                source:\n                function(req, add){\n                    $.ajax({\n                        url: \"&lt;?php echo site_url('bahanAjar/lookup'); ?&gt;\",\n                        dataType: 'json',\n                        type: 'POST',\n                        data:req,\n                        success:   \n                        function(data){\n                            if(data.response ==\"true\"){\n                                add(data.message);\n                            }\n                        },\n                    });\n                },\n\n\n            });\n        });\n&lt;/script&gt;\n</code></pre>\n\n<p>on my controller</p>\n\n<pre><code>function lookup(){\n        // process posted form data (the requested items like province)\n        $keyword = $this-&gt;input-&gt;post('term');\n\n        $data['response'] = 'false'; //Set default response\n        $query = $this-&gt;matakuliah_model-&gt;lookup($keyword); //Search DB\n        if( ! empty($query) )\n        {\n            $data['response'] = 'true'; //Set response\n            $data['message'] = array(); //Create array\n            foreach( $query as $row )\n            {\n                $data['message'][] = array(\n                                        'id_matakuliah'=&gt;$row-&gt;id,\n                                        'value' =&gt; $row-&gt;matakuliah,\n                                        ''\n                                     );  //Add a row to array\n            }\n        }\n        if('IS_AJAX')\n        {\n            echo json_encode($data); //echo json string if ajax request\n\n        }\n        else\n        {\n           $this-&gt;load-&gt;view('admin/bahan_ajar/form_manage_file_view', $data); //Load html view of search results\n        }\n    }\n</code></pre>\n\n<p>The code work it well, but I want to add parameter to call database.</p>\n\n<pre><code> $query = $this-&gt;matakuliah_model-&gt;lookup($keyword, $id_matakuliah);\n</code></pre>\n\n<p>like this. how I can get </p>\n\n<pre><code>$this-&gt;input-&lt;post('id_matakuliah') \n</code></pre>\n\n<p>from jquery before.;</p>\n\n<p>and I have another textbox for fill value of autocomplete from textbox matakuliah.</p>\n\n<pre><code>`&lt;input type=\"hidden\" id=\"matakuliah_post\" class=\"med\" name=\"matakuliah_post\"&gt;`\n</code></pre>\n\n<p>When I'm use autocomplete textbox automatic fill another textbox, please help me.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13204457,"title":"Transfer JavaScript Array to PHP array using ajax?","body":"<p>I am trying to transfer a list of data from a javascript array to a php array and I can't seem to get ajax to do the trick.  Can someone show me the code on how to do this?  So far here is what I have, which is just the array:</p>\n\n<strong>JAVASCRIPT</strong>\n\n<pre><code>var dates;\n// the dates array is then filled up here\n// it contains information in the form {'2012-01-01', '2012-03-12', ...}\n\n$.ajax({        \n   type: \"REQUEST\",\n   url: \"NAMEOFPHPFILE.php\",\n   data: { sendData1 : dates },\n   success: function() {\n        alert(\"Attempting to transfer array -&gt; AJAX\");        \n   }\n}); \n\nvar submissions;\n// the submissions array is then filled up here\n// it contains information in the form {int, int, ...}\n\n// ect ......... with 3 more arrays using { sendData2 : submissions },\n</code></pre>\n\n<strong>PHP</strong>\n\n<pre><code>&lt;?php\n$bDates = $_REQUEST['sendData1']; \n// need to set this array = to the JavaScript dates array\n$bSubmissions = $_REQUEST['sendData2'];\n// need to set this array = to the JavaScript submissions array\n?&gt;\n</code></pre>\n\n<p>I would prefer to use the REQUEST method to prevent information logging into the URL.  <strong>This code also doesn't work when trying POST instead of REQUEST</strong></p>\n\n<p>At the very end of the .php page, I am outputting a bunch of arrays onto a CSV page where I iterate through the arrays and place their elements in the file.  This already works, but I need to transfer some of these arrays from javascript to PHP so that I can spit out the data.  That looks like this:</p>\n\n<pre><code>&lt;?php\n\n\n$stringData = \"Dates, Number of Lines Changed, , Bug Dates, Arrivals, Fixed, Closed, Hold_\";\nfor($i = 0; $i &lt; sizeof($dataXAxis); $i++){\n        $date = substr($_REQUEST['Dates'][$i+1], 0, 24);\n        $stringData .= \"$date, $dataYAxis[$i], , $bDates[$i], $bSubmissions[$i], $bCompletions[$i], $bDones[$i], $bRejections[$i]_\";\n}\n\n\necho '&lt;BR&gt;&lt;BR&gt;&lt;a href=\"download_csv.php?csv=' . $stringData . '\" target=\"_blank\"&gt;Download Your CSV File&lt;/a&gt;';\n?&gt;\n</code></pre>\n\n<p>Why doesn't the AJAX work?  The arrays appear empty...</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":44,"score":3,"question_id":13203231,"title":"Is there any way to get jQuery ajax upload progress?","body":"<pre class=\"lang-js prettyprint-override\"><code>$.ajax({\n  xhr: function()\n  {\n    var xhr = new window.XMLHttpRequest();\n    //Upload progress\n    xhr.upload.addEventListener(\"progress\", function(evt){\n      if (evt.lengthComputable) {\n        var percentComplete = evt.loaded / evt.total;\n        //Do something with upload progress\n        console.log(percentComplete);\n      }\n    }, false);\n    //Download progress\n    xhr.addEventListener(\"progress\", function(evt){\n      if (evt.lengthComputable) {\n        var percentComplete = evt.loaded / evt.total;\n        //Do something with download progress\n        console.log(percentComplete);\n        }\n      }, false);\n    return xhr;\n  },\n  type: 'POST',\n  url: \"/\",\n  data: {},\n  success: function(data){\n    //Do something success-ish\n  }\n});\n</code></pre>\n\n<p>This does not work on jQuery 1.5+ because the xhr is replaced by the jqXHR (i.e. a high level version of the raw XHR.) Now the question is how to get it to work with jqXHR…\nAnyone know how to do it?</p>\n"},{"tags":["ajax","json","sencha-touch"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2601,"score":0,"question_id":6840883,"title":"Sencha Error XMLHttpRequest cannot load http://localhost.... Origin null is not allowed by Access-Control-Allow-Origin","body":"<p>I'm having a problem with loading a Sencha store. My store declaration is like this:</p>\n\n<pre><code>Ext.regModel('Car',{\n\n        idProperty: 'id', \n        fields: [\n                 //'id', 'company', 'driver', 'carType','xCoordinate','yCoordinate'                  \n                 {name: 'id', type: 'int'},\n                 {name:'company', type:'string'} ,\n                 {name:'driver', type:'string'},\n                 {name:'carType', type:'string'},\n                 {name:'xCoordinate', type:'int'},\n                 {name:'yCoordinate', type:'int'}\n\n                 ]                                   \n\n    });\n\nvar strr= new Ext.regStore({\n\n        id:'carStore',\n        model:'Car',    //configuration option is the cars\n\n        proxy: {\n             type: 'ajax',\n              url: 'http://localhost:8080/A/carStore.html&amp;callback=?',\n              reader: {\n                type: 'json',\n                root: 'carss'\n              },\n        },\n        autoLoad: true\n});\n</code></pre>\n\n<p>And I'm keeping the store in a list:</p>\n\n<pre><code>CarManagementSystem.views.carList = new Ext.List({\n        id: 'carList',\n        store: 'carStore',\n\n        onItemDisclosure: function (record) {\n\n            var selectedCar = record;\n            CarManagementSystem.views.addNewCar.load(selectedCar);\n            CarManagementSystem.views.viewport.setActiveItem('addNewCar', { type: 'slide', direction: 'left' });\n        },\n       itemTpl: '&lt;div class=\"list-item-id\"&gt;{id}&lt;/div&gt;' +'&lt;div class=\"list-item-driver\"&gt;{driver}&lt;/div&gt;'\n    });\n</code></pre>\n\n<p>However, when I try to load the list with my JSON file, I get this error:</p>\n\n<p>XMLHttpRequest cannot load <a href=\"http://localhost:8080/A/carStore.html&amp;callback=?&amp;_dc=1311751412006&amp;limit=25\" rel=\"nofollow\">http://localhost:8080/A/carStore.html&amp;callback=?&amp;_dc=1311751412006&amp;limit=25</a>. Origin null is not allowed by Access-Control-Allow-Origin.\nsencha-touch-debug.js:7212</p>\n\n<p>Uncaught TypeError: Cannot read property 'length' of undefined</p>\n\n<p>I'm keeping my JSON file in an html format and it is kept in the server. I'd appreciate any help.</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ajax","jquery-ajax","httpresponse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13204065,"title":"jQuery ajax - outputting files from an ajax request","body":"<p>is it possible to output a file as a response from a ajax call? \ni've wrote a function for outputting zip files using an ajax call, this is the code: </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    $(document).ready(function () {\n\n        $(\".ziplink\").click(function (e) {\n            e.preventDefault();\n            var url = $(this).attr('href');\n            var spinner = $(this).parent().children(\".spinnerbox\");\n            spinner.show();\n            $.ajax({\n                url:url,\n                type:\"GET\",\n                dataType:\"application/x-zip-compressed\",\n                success:function (data) {\n                    console.log('success');\n                    spinner.hide();\n\n                },\n                error:function () {\n                    console.log('ko');\n                    spinner.hide();\n                }\n\n            });\n        });\n\n    });\n&lt;/script&gt; \n</code></pre>\n\n<p>now, from the firebug console everything is ook, but i dont have file output. what is missing?</p>\n\n<p>Although this is fully functional in the non-ajax way (a simple link to the action), i'd like to have the spinner animation while server process the request.</p>\n\n<p>thanx - LuKe</p>\n"},{"tags":["javascript","asp.net","ajax","asp.net-mvc","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13203772,"title":"Is there a way to send an object as well as a separate variable in an ajax POST request","body":"<p>I have a post request I am doing like so:</p>\n\n<pre><code>var addProject = function (project, id) {\n            return $.ajax(projectUrl, {\n            type: \"POST\",\n            data: { project: project, id: id }\n    });\n};\n</code></pre>\n\n<p>This is all fine, and it send up my project object (in JSON) with no problem. What i want to do is this request but also add in a key (that does not belong in the project object) that I can pass to the server controller. Any idea if I can do this, or what is a good way to do this. I really don't want to have to go back and change my object models to account for a key that I will only need every once in awhile.</p>\n\n<p>This is an ASP.NET MVC4 project, and it is going back to a web api controller if that matters.</p>\n\n<p>EDIT: here is my server side stuff</p>\n\n<pre><code>    public HttpResponseMessage PostNew(Project project, int id)\n    {\n        //TODO grab the client to add the project to\n        Uow.Projects.Add(project);\n        Uow.Commit();\n\n        HttpResponseMessage response = Request.CreateResponse(HttpStatusCode.Created, project);\n        //response.Headers.Location = new Uri(Url.Link(\"ApiControllerAction\", new { id = client.ID }));\n        return response;\n    }\n</code></pre>\n\n<p>Maybe I am not being clear enough. I want to pass in the project object, and then just an int variable. Passing project alone works, but if I try to pass the int it gives me a 400 error</p>\n"},{"tags":["jquery","ajax","django","celery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13203549,"title":"jQuery AJAX chained calls + Celery in Django","body":"<p>Currently clicking one of the links in my application, triggers AJAX call (GET) that - if succeeds - triggers the second one and this second one - if succeeds - calls the third one.</p>\n\n<p>This way user can be informed which part of process started when clicking the link is currently ongoing.</p>\n\n<p>So in the template file in Django project, click callback body for link mentioned looks like below:</p>\n\n<pre><code>$(\"#the-link\").click(function(item)) {\n    // CALL 1\n    $.ajax({\n        url: {% url ajax_call_1 %},\n        data: {\n            // something\n        }\n    })\n    .done(function(call1Result) {\n\n        // CALL 2\n        $.ajax({\n            url: {% url ajax_call_1 %},\n            data: {\n                // call1Result passed here to CALL 2\n            }\n        })\n        .done(function(call2Result) {\n\n            // CALL 3\n            $.ajax({\n                url: {%url ajax_call_3 %},\n                data: {\n                    // call2Result passed here to CALL 3\n                }\n            })\n            .done(function(call3Result) { // expected result if everything went fine\n                console.log(\"wow, it worked!\");\n                console.log(call3Result);\n            })\n            .fail(function(errorObject) {\n                console.log(\"call3 failed\");\n                console.log(errorObject);\n            }\n        })\n        .fail(function(errorObject)) {\n            console.log(\"call2 failed\");\n            console.log(errorObject);\n        }\n    })\n    .fail(function(errorObject) {\n        console.log(\"call1 failed\");\n        console.log(errorObject);\n    });\n});\n</code></pre>\n\n<p>This works fine for me. The thing is, I'd like to <strong>prevent interrupting</strong> the following calls <strong>if the user closes the browser</strong> and the calls are not finished (as it will take some time to finish all three), as there is some additional logic in Django view functions called in each GET request.</p>\n\n<p>For example, if user clicks the link and closes the browser during CALL 1, is it possible to somehow go on with the following CALL 2 and CALL 3?</p>\n\n<p>I know that normally I'd be able to use Celery Task to process the function but is it still possible here with the chained calls mentioned?</p>\n\n<p>Any help is much appreciated!</p>\n"},{"tags":["javascript","ajax","javascript-events","plupload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":11667286,"title":"plupload add file function","body":"<p>I have draged'n'dropped a file on the textarea. I have the file object in javascript. So now I would like to call a function to add it to the pluploadQueue. </p>\n\n<p>How do I do that? </p>\n\n<p>I assumed that would be a function like:  pluploadQueue.addFile( File ) or uploader.addFile( File ) But I can't find it anywhere.</p>\n\n<p>Any ideas ?</p>\n"},{"tags":["php","jquery","mysql","ajax","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13203998,"title":"Convert Static PHP/MYSQL Query to Dynamic One Using Ajax/jQuery","body":"<p>I have a counter that takes a sum from a database column and updates on every page load. I need to convert this to a live counter that updates without page load.</p>\n\n<p>It's on a WordPress site, and I'm hoping not to have to create a separate page outside of WP in order to send the JSON array.</p>\n\n<p>1) Is there any way to use the current page to submit/receive the POST data?\n2) What's the best process for converting a simple 'SELECT * FROM' to something dynamic. Is ajax/jQuery the right choice?</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13203053,"title":"subpage loaded through ajax is killing jquery functionality","body":"<p>I'm working on a site, <a href=\"http://teneo.telegraphbranding.com/\" rel=\"nofollow\">http://teneo.telegraphbranding.com/</a>, and I am hoping to load the pages via ajax so that the sidebar and its animation remain consistent.</p>\n\n<p>When the 'About' link is clicked I need it to load about2.php via a jquery ajax function. But I'm not having any luck. When I can get the page to load via ajax it kills all the jquery functionality on the page. From what I've read I think I need to call the jquery upon successful completion of the ajax call. </p>\n\n<p>I've tried everything it seems and can't get it work. What I need is about2.php to load when the link is clicked and the jquery to dynamically size the divs, like it does on the homepage.\nI tried this, but it won't even load the page:</p>\n\n<pre><code>//Dropdown\n$(document).ready(function () {\nvar dropDown = $('.dropdown');\n$('h3.about').on('click', function() {\n    dropDown.slideDown('fast', function() {\n        var url = 'about2.php'\n\n        $.get(url, function(data) {\n\n        //anything in this block runs after the ajax call\n\n            var missionWrap = $('#mission-wrap');\n            var w = $(window);\n            w.on('load resize',function() {\n                missionWrap.css({ width:w.width(), height:w.height()});\n            });\n            var missionContent = $('#mission-content');\n            var w = $(window);\n            w.on('load resize',function() {\n                missionContent.css({ width:w.width() - 205 });\n            });\n        });\n    });\n});\n</code></pre>\n\n<p>});</p>\n\n<p>And then this loads the page, but kills all the jQuery associated with it:</p>\n\n<pre><code>var dropDown = $('.dropdown');\n$('h3.about').on('click', function() {\n    dropDown.slideDown('fast', function() {\n        $('#index-wrap').load('/about2.php');\n    });\n});\n</code></pre>\n\n<p>Thank you very much. </p>\n\n<p>I also tried this and it just broke everything:</p>\n\n<pre><code>$(document).ready(function () {\nvar dropDown = $('.dropdown');\n$('h3.about').on('click', function () {\n    dropDown.slideDown('fast', function () {\n        $.ajax({\n            type: 'GET',\n            url: 'about2.php',\n            success: function () {\n                var missionWrap = $('#mission-wrap');\n                var w = $(window);\n                w.on('load resize', function () {\n                    missionWrap.css({\n                        width: w.width(),\n                        height: w.height()\n                    });\n                });\n                var missionContent = $('#mission-content');\n                var w = $(window);\n                w.on('load resize', function () {\n                    missionContent.css({\n                        width: w.width() - 205\n                    });\n                });\n            };\n        });\n    });\n});\n</code></pre>\n\n<p>});</p>\n"},{"tags":["ajax","google-analytics","xmlhttprequest","web-analytics"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13203660,"title":"Why a 1x1 GIF instead of XHR?","body":"<p>Simple question: why do client-side scripts (like <code>ga.js</code> from Google Analytics) send data to the server in the form of query params embedded in a 1x1 GIF request? Why not use XMLHttpRequest?</p>\n\n<p>Is it just to achieve cross-browser compatibility? Or are there other reasons?</p>\n"},{"tags":["jquery","ajax","validation","form-validation"],"answer_count":2,"favorite_count":5,"up_vote_count":8,"down_vote_count":0,"view_count":5641,"score":8,"question_id":2628413,"title":"jQuery validator and a custom rule that uses AJAX","body":"<p>I read your reply regarding the jQuery validator where you outline a method to check a username against a value in a database.</p>\n\n<p>Ive tried implementing this method but no matter what is returned from the PHP file I always get the message that the username is already taken.</p>\n\n<p>Here is ths custom method...</p>\n\n<pre><code>$.validator.addMethod(\"uniqueUserName\", function(value, element) {\n  $.ajax({\n      type: \"POST\",\n       url: \"php/get_save_status.php\",\n      data: \"checkUsername=\"+value,\n      dataType:\"html\",\n   success: function(msg)\n   {\n      // if the user exists, it returns a string \"true\"\n      if(msg == \"true\")\n         return false;  // already exists\n      return true;      // username is free to use\n   }\n })}, \"Username is Already Taken\");\n</code></pre>\n\n<p>And here is the validate code...</p>\n\n<pre><code>username: {\nrequired: true,\nuniqueUserName: true\n</code></pre>\n\n<p>},</p>\n\n<p>Is there a specific way i am supposed to return the message from php.</p>\n\n<p>Thanks</p>\n\n<p>A</p>\n"},{"tags":["php","ajax","node.js","livechat"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13203676,"title":"Is using websockets for a webchat possible using a webhost?","body":"<p>I'm an inexperienced PHP programmer and I am making a website using Codeigniter which runs on a server of a webhost. This website should, among other functionality, contain multiple chatrooms where medium-sized groups (+/- 25 people) could have real-time chat sessions. The number of chatrooms depends on the popularity of the site, so the chat functionality should be scalable and I want to be prepared to host hundreds or thousands of chatrooms.</p>\n\n<p>I've found that one way to do this, is using short-polling with ajax, i.e. saving every message in the database and polling the database every second. I thought this approach would not scale well (as it seems very intensive for the database), so I thought it would be better to use a long-polling approach, e.g. websockets with node.js. </p>\n\n<p>I'm not experienced with using sockets and as far as I've seen, node.js requires you to use your own server (e.g. localhost). Ideally, I want to integrate the functionality of node.js in my website so that every upcoming message is pushed to all the other chat-users, and that the messages are once in a while (e.g. every 10 minutes) sent to the database, so that chat history could later be reviewed.</p>\n\n<p>This doesn't seem possible as node.js needs to independently run on your own server. What could I do to make my chat work with websockets, while using the server of the webhost? Is this possible? Should I use a different webserver instead of a webhost, or should I stick to short polling? Many thanks in advance.</p>\n"},{"tags":["c#","asp.net","ajax","telerik"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13200657,"title":"asp.net ajax server side error handling","body":"<p>I am using Telerik ajax controls in VS2010 asp.net web project. \nI am only targetting IE v8 browser.</p>\n\n<p>When I encounter server side code exception, I get an error dialog box \"There was an error in the call back.\"</p>\n\n<p>When I click okay, nothing happens at the server side and code stops executing. </p>\n\n<p><strong>I exactly know where the error is.. I just want it to bubble up to Global.asax Application_Error.</strong></p>\n\n<p>In this web application, there is no try catch exception handling any where. All the exception bubble up to Application_Error in global.asax.\nIn this specific case, how can I bubble up the exception to Global.asax?</p>\n\n<p>The following post accurately describe what I am trying to achieve. Back in 2009 it was not possible. </p>\n\n<p><a href=\"http://www.telerik.com/community/forums/aspnet-ajax/combobox/load-on-demand-and-exception-handling.aspx#2359140\" rel=\"nofollow\">http://www.telerik.com/community/forums/aspnet-ajax/combobox/load-on-demand-and-exception-handling.aspx#2359140</a></p>\n\n<p>Is it possible now?</p>\n\n<p>Please help.</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13201549,"title":".ajaxStart() and .ajaxStop() not firing after first time","body":"<p>here's what I have:</p>\n\n<pre><code>$(document).ready(function(){\n    //stuff\n}).ajaxSend(function() {\n    $('.overlay').show();\n}).ajaxStop(function() {\n    $('.overlay').fadeOut();\n});\n</code></pre>\n\n<p>The problem I am having is that the first time I trigger an ajax action it works perfectly, but not any time after that.  I have to reload the page for the ajaxSend/Stop to work again.  So say I load a page, click 'load more' to ajax load content, the overlay shows up no problem.  but then I click it a second time, everything works fine except the modal doesn't show up this time or any time after.</p>\n\n<p>any ideas?</p>\n"},{"tags":["jquery","ajax","json","syntax-error"],"answer_count":3,"favorite_count":8,"up_vote_count":8,"down_vote_count":0,"view_count":8501,"score":8,"question_id":7936610,"title":"json Uncaught SyntaxError: Unexpected token :","body":"<p>Trying to make a call and retrieve a very simple, one line, JSON file.</p>\n\n<pre><code>$(document).ready(function() {\n\n    jQuery.ajax({ \n        type: 'GET',\n        url: 'http://wncrunners.com/admin/colors.json' ,\n        dataType: 'jsonp', \n        success: function(data) { \n            alert('success');\n        }\n    });\n\n\n  });//end document.ready\n</code></pre>\n\n<p>Here's the RAW Request:</p>\n\n<pre><code>GET http://wncrunners.com/admin/colors.json?callback=jQuery16406345664265099913_1319854793396&amp;_=1319854793399 HTTP/1.1\nHost: wncrunners.com\nConnection: keep-alive\nCache-Control: max-age=0\nUser-Agent: Mozilla/5.0 (Windows NT 6.1) AppleWebKit/535.2 (KHTML, like Gecko) Chrome/15.0.874.106 Safari/535.2\nAccept: */*\nReferer: http://localhost:8888/jquery/Test.html\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\n</code></pre>\n\n<p>Here's the RAW Response:</p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Sat, 29 Oct 2011 02:21:24 GMT\nServer: Apache/1.3.33 (Unix) mod_ssl/2.8.22 OpenSSL/0.9.7d SE/0.5.3\nLast-Modified: Fri, 28 Oct 2011 17:48:47 GMT\nETag: \"166a2402-10-4eaaeaff\"\nAccept-Ranges: bytes\nContent-Length: 16\nContent-Type: text/plain\nConnection: close\n\n{\"red\" : \"#f00\"}\n</code></pre>\n\n<p>The JSON is coming back in the response (red : #f00), but Chrome reports <strong>Uncaught SyntaxError: Unexpected token :    colors.json:1</strong></p>\n\n<p>If I navigate directly to url itself, the JSON is returned and is displayed in the browser.</p>\n\n<p>If I paste the contents of colors.json into JSLINT, the json validates.</p>\n\n<p>Any ideas why I can't get this error and I never make it to the success callback?</p>\n\n<p><strong>EDIT</strong> - the jQuery.ajax() call above runs perfect at jsfiddle.net, and returns the alert 'success' as expected.  </p>\n\n<p><strong>EDIT 2</strong> - this URL works fine 'http://api.wunderground.com/api/8ac447ee36aa2505/geolookup/conditions/q/IA/Cedar_Rapids.json'  I noticed that it returned as TYPE: text/javascript and Chrome did not throw the Unexpected Token.  I've tested several other url's and the ONLY one that does not throw the Unexptected Token is the wunderground that is returned as TYPE: text/javascript.   </p>\n\n<p>Streams returned as text/plain and application/json are not being parsed correctly.</p>\n"},{"tags":["ruby-on-rails","ruby","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13201351,"title":"Rails render javascript shows text","body":"<p>I'm not sure if this behavior is normal or not, but when I do:</p>\n\n<pre>\nrender js: \"window.location.pathname = '#{new_user_session_path}';\"\n</pre>\n\n<p>in my controller, it briefly displays the text <code>window.location.pathname = '/user/sign_in';</code> before executing the line and redirecting successfully.</p>\n\n<p>Here's the full controller action:</p>\n\n<pre>\ndef vote_down\n    if user_signed_in?\n      current_user.vote_exclusively_against(@deal = Deal.find(params[:id]))\n\n      render :partial => 'deals/partials/interaction', \n        :locals => {:deal => @deal, :votes_for => @deal.votes_for, :votes_against => @deal.votes_against}\n    else\n      render js: \"window.location.pathname = '#{new_user_session_path}';\"\n      flash[:error] = 'Please sign in to vote.'\n    end\n  end\n</pre>\n\n<p>How do I prevent this from happening and directly render that template?</p>\n"},{"tags":["jquery","ajax","tabs","history","tools"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13202681,"title":"Using jQuery Tools Tabs with Ajax and History and trying to link to content in a tab","body":"<p>I'm using jQuery Tools Tabs ability to load content onto my page with Ajax.  I've also got a drop down menu that needs to connect in the content when it loads.  Everything about the tabs utility is working correctly.  However, does anyone have an idea of how to go to a particular anchor or div tag when the content loads?  Typically your tabs have buttons that go with their corresponding documents and that's how they load, but could you therotically do something like this:  </p>\n\n<pre><code>$(function() {\nvar initab = 0;\nvar initab2 = 0;\nvar lhash = window.location.hash;\nif (lhash) { \n    lhash.match(/^#(\\d+)-(\\d+)/);\n    initab = RegExp.$1 - 1;\n    initab2 = RegExp.$2 - 1;\n}\n\n$(\"ul.tabs\").tabs(\"&gt; .pane\",{initialIndex:initab});\n$(\"ul.tabs2\").tabs(\"&gt; .pane2\",{initialIndex:initab2});    \n$('ul li a').click(function () {location.hash = $(this).attr('href');});\n</code></pre>\n\n<p>});</p>\n\n<p>This activates a different set of tabs and supports history between the 2 tabs to create a reusable url for users to bookmark with.  I'd like to do a similar thing, but rather than a 2nd set of tabs, I'm trying to connect to an anchor or dive tag in the content.  I appreciate any advice.  Thanks</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13202538,"title":"Looping an ajax function with javascript","body":"<p>I have an array that is looping and each one of them needs to go through a ajax/php function. However this doesn't seem to be working. Can you show me a correct way of doing this?</p>\n\n<pre><code>for (var i = 0; i &lt; arr.length; i++) {\n    $.ajax({\n        type: \"POST\",\n        data: \"data=\" + arr[i],\n        url: \"proxy.php\",\n        success: function(msg){\n            $(\"#test\").html(msg+msg);\n        }\n    });\n}\n</code></pre>\n\n<p>The id \"test\" needs to contain all the vals gotten from php.</p>\n"},{"tags":["jquery","ajax","callback","reuse","jqxhr"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13202466,"title":"reusing jquery jqXHR ajax success callback on error","body":"<p>I'm looking to re use the success/done function that was used for a jquery ajax call inside of it's error/fail function.</p>\n\n<p>The scenario I need to handle is when a user tries to do something their account doesn't have permission to do the web server returns with an error, all of the errors are run through the same error handling function which has a special case for permission errors. When the user tries to access something that they don't have permission to access/modify it creates a popup  where they can enter login information and run their previous request over again, I have the previous request stored so all of the information they sent is stored. The problem I'm running into is sending the request over again and making sure the response gets routed back to the appropriate callback functions.</p>\n\n<p>The error function has access to the jqXHR object associated with the request and I was wondering if it's possible to take the callback functions associated with that jqXHR and attach them to the new request.</p>\n"},{"tags":["javascript","ajax","node.js","gzip","http-compression"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13202399,"title":"Decompress in browser a JSON datafile served as static file from Node.js","body":"<p>Similar to <a href=\"http://stackoverflow.com/questions/8350749/gzipped-json-file-not-decompressing\">this post</a> need to send a large 30MB JSON file to the browser, which compresses to 3MB.  (yes, yes, it's big and intensive to decompress, but better to serve it once as a static file than as, say, 150 separate AJAX calls to a REST API, and a bit of upfront load time is okay here).</p>\n\n<p>Also like the original post, it's a static file, so can compress it ahead of time (so the server doesn't need to compress it on each request).  Further, can serve it from the public directory on the server, which in  Node.js / Express.js I have marked as static:</p>\n\n<p><code>app.use(express.static(__dirname + \"/public\"));</code></p>\n\n<p>One commenter replied:</p>\n\n<p><em>\"It is also possible to precompress your JSON and then just tell Apache to serve the files with the appropriate headers to avoid having to recompress all the time.\"</em></p>\n\n<p><strong>Question 1:</strong>  How might I do that in Node/Express, i.e. tell Node to tell the browser the file is in gzip format, so that the browser automatically uncompresses it?</p>\n\n<p>Another answer remarks <em>\"...but do check that the browser supports compression \"</em>, which raises another question?</p>\n\n<p><strong>Question 2:</strong> Do ~most~ modern browsers have the ability to decompress content?  Or am I better off just including a javascript library for decompression, get the data via Ajax as a binary text, and always decompress it in my own code rather than browser's native utility?  </p>\n\n<p>(For my purpose, it's okay to exclude some old browsers, e.g. dropping IE6 would be okay, dropping support for IE9 would not)</p>\n"},{"tags":["jquery","ajax","popup"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13201584,"title":"Ajax Jquery Popup While Page Open","body":"<p>I want to add popup while page open. Like facebook like box or group sale site's email request popups while first load in page.</p>\n\n<p>How can I add ajax-jquery popup box to web site while open web page first time?</p>\n"},{"tags":["jquery","css","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13201993,"title":"Loading dynamically sized page with ajax","body":"<p>I have a site that is utilizing full width background images as well as dynamically sized divs for single page smooth scrolling.</p>\n\n<p>The link is <a href=\"http://teneo.telegraphbranding.com/\" rel=\"nofollow\">http://teneo.telegraphbranding.com/</a>.</p>\n\n<p>I want to load about.php via ajax so that the sidebar doesn't have to reload, but I'm not having any luck.</p>\n\n<p>When you click on 'About' in the sidebar the about page is not rendering correctly. It seems like the containers are ignoring the jquery. They should butt up next to the side bar but not go past it, except for the underlying background image.</p>\n\n<p>Im loading the page with this script:</p>\n\n<pre><code>$(document).ready(function () {\nvar dropDown = $('.dropdown');\n$('h3.about').on('click', function() {\n    dropDown.slideDown('fast', function() {\n        $('#index-wrap').load('about2.php');\n    });\n});\n});\n</code></pre>\n\n<p>Also, it isn't loading a couple of divs that don't have any content but have background images and are supposed to fill the screen.</p>\n\n<pre><code>$(document).ready(function () {\nvar snapshotWrap = $('#snapshot-wrap');\nvar w = $(window);\nw.bind('load resize',function() {\n    snapshotWrap.css({ width:w.width(), height:w.height()});\n});\n</code></pre>\n\n<p>});</p>\n\n<pre><code>$(document).ready(function () {\nvar snapshotContent = $('#snapshot-content');\nvar w = $(window);\nw.bind('load resize',function() {\n    snapshotContent.css({ width:w.width() - 205 });\n});\n</code></pre>\n\n<p>});</p>\n\n<p>Am I correctly using jquery/ajax to load the page?</p>\n"},{"tags":["asp.net","ajax","updatepanel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13202199,"title":"How come this PRM always fails on first ajax return?","body":"<p>So basically on top of my aspx page, I have a Page request manager to observe the finish time of ajax calls...</p>\n\n<pre><code>  &lt;script&gt;\n    function pageLoad() { \n\n    var prm = Sys.WebForms.PageRequestManager.getInstance();\n        prm.add_pageLoaded(panelLoaded);\n    }\n\n    function panelLoaded(sender, args) {\n    receiver();\n    }\n\n    function receiver()\n    {\n    alert(\"Ajax Done!\");\n    Sys.WebForms.PageRequestManager.getInstance().remove_pageLoaded(panelLoaded);\n    }\n  &lt;/script&gt;\n</code></pre>\n\n<p>Therefore, at the initial load of the aspx page, the window prompts \"Ajax Done!\", which is normal since there is a fresh page load. Then I clicked on the button of my Ajax function. The function did return the correct value, but \"Ajax Done!\" did not pop up! If I click the ajax button again to run some code behind, after it finishes, it pops up the prompt \"Ajax Done!\" back again. </p>\n\n<p>So it seems only my first run of the ajax does not trigger the panelLoaded() function. Could anyone shed some light on this?</p>\n\n<p>By the way here is the UpdataPanel and code behind in case you need for reference:</p>\n\n<p>Update Panel:</p>\n\n<pre><code> &lt;div id=\"AjaxPanel\" style=\"width:0%; display:block;\"&gt;\n\n        &lt;form runat=\"server\"&gt;\n            &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\" &gt;\n            &lt;/asp:ScriptManager&gt; \n            &lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\" ChildrenAsTriggers=\"True\" UpdateMode=\"Always\"&gt; \n            &lt;ContentTemplate&gt; \n                &lt;div id=\"thethetext\"&gt;\n                &lt;br&gt;&lt;/br&gt;\n                &lt;asp:Label ID=\"thetext\" runat=\"server\"&gt;&lt;/asp:Label&gt;\n                &lt;/div&gt;\n            &lt;/ContentTemplate&gt; \n            &lt;Triggers&gt;\n            &lt;asp:AsyncPostBackTrigger ControlID=\"myButton\" EventName=\"Click\"/&gt;\n            &lt;/Triggers&gt;\n            &lt;/asp:UpdatePanel&gt;\n\n            &lt;asp:HiddenField ID=\"hfield\" runat=\"server\" value=\"Initial Value\"&gt;&lt;/asp:HiddenField&gt;\n\n            &lt;div style=\"display:block;\"&gt;\n            &lt;asp:Button ID=\"myButton\" Text=\"Check In All\" OnClick=\"AjaxPerm\" runat=\"server\"&gt;&lt;/asp:Button&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;  \n</code></pre>\n\n<p>Code-behind:</p>\n\n<pre><code>Protected Sub AjaxPerm\n\n    Dim permInfo As String = \"Success!\"\n\n    thetext.Text =  thetext.Text &amp; permInfo\n\nEnd Sub\n</code></pre>\n"},{"tags":["ajax","typo3","frontend"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13194083,"title":"TYPO3 4.7 with ext: getcontentbyajax","body":"<p>The json output is not generated by Ext <a href=\"http://typo3.org/extensions/repository/view/getcontentbyajax\" rel=\"nofollow\"><code>getcontentbyajax</code></a> in TYPO3 ver. 4.7. It invokes an 500 Internal server error. In the serverlog i found the error is in line 42 of /lib/class.tx_getcontentbyajax.php. \n<code>switch(t3lib_div::_GP('todo')){</code>\nI found a 4.7 issue on:\n<a href=\"http://lists.typo3.org/pipermail/typo3-german/2012-September/087865.html\" rel=\"nofollow\">http://lists.typo3.org/pipermail/typo3-german/2012-September/087865.html</a></p>\n\n<p><code>t3lib_div::GPvar()</code> changes to <code>t3lib_div::_GP()</code></p>\n\n<p>When you change all GPvar's to _GP the extension works fine.</p>\n\n<p>Here the changed method main() form /lib/class.tx_getcontentbyajax.php of getcontentbyajax extension:</p>\n\n<pre><code>public function main(){\n\n    switch(t3lib_div::_GP('todo')){ \n        case 'pagebrowser':\n            $href = str_replace(t3lib_div::getIndpEnv('TYPO3_SITE_URL'), '', t3lib_div::_GP('href')); // IE6 has problems\n            $requestedPage = file_get_contents(urldecode(t3lib_div::getIndpEnv('TYPO3_SITE_URL') . $href));\n            /*preg_match('/&lt;div.*?id\\=[\\\"]{0,1}' . t3lib_div::GPvar('part') . '[\\\"]{0,1}.*?&gt;[\\r\\n]{0,2}&lt;!--ajaxreplace--&gt;[\\s]{0,}(.*?)[\\s]{0,}&lt;!--ajaxreplace--&gt;[\\r\\n]{0,2}&lt;\\/div&gt;/s', $requestedPage, $matches);*/\n            preg_match('/&lt;!--ajaxreplace--&gt;(.*?)&lt;!--ajaxreplace--&gt;/s', $requestedPage, $matchesContent);\n            preg_match('/&lt;title&gt;(.*?)&lt;\\/title&gt;/s', $requestedPage, $matchesTitle);\n\n            if(array_key_exists(1, $matchesContent)){\n                if(array_key_exists(1, $matchesTitle)){\n                    $this-&gt;data['title'] = $matchesTitle[1];\n                }\n                $this-&gt;data['content'] = $matchesContent[1];\n                $this-&gt;data['success'] = true;\n            } else {\n                $this-&gt;data['content'] = 'An error occured, please reload the site or &lt;a href=\"' . t3lib_div::_GP('href') . '\" class=\"no-ajax\"&gt;click this link&lt;/a&gt; to load your desired page.';\n                $this-&gt;data['success'] = false;\n            }\n\n            // hook\n            if (is_array($GLOBALS['TYPO3_CONF_VARS']['EXTCONF']['getcontentbyajax']['mainHook'])){\n                foreach ($GLOBALS['TYPO3_CONF_VARS']['EXTCONF']['getcontentbyajax']['mainHook'] as $_classRef){\n                    $_procObj = &amp; t3lib_div::getUserObj($_classRef);\n                    $this-&gt;data = $_procObj-&gt;extraGlobalMarkerProcessor($this, $this-&gt;data);\n                }\n            }\n        break;\n    }\n    echo json_encode($this-&gt;data);\n}\n</code></pre>\n"},{"tags":["ajax","jquery-ajax","symfony2"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13198233,"title":"AJAX avoid repeated code","body":"<p>I'm using Symfony2.1 with Doctrine2.1</p>\n\n<p>I'd like to use AJAX for many features on my site , editing a title , rate an article , create an entity on the fly , etc.</p>\n\n<p>My question is simple :</p>\n\n<p>Do I need to create a JQuery function for each functionnality , like this :</p>\n\n<pre><code>$('#specific-functionality').bind('click', function(e){\n\n    var element = $(this);\n    e.preventDefault();\n\n    // the call\n    $.ajax({\n      url: element.attr('href'),\n      cache: false,\n      dataType: 'json',\n      success: function(data){        \n\n        // some custom stuff : remove a loader , show some value, change some css\n\n      }\n    });\n  });\n</code></pre>\n\n<p>It sounds very heavy to me, so I was wondering if there's any framework on JS side, or a specific method I can use to avoid this. I was thinking about regrouping items by type of response (html_content , boolean, integer) but maybe something already exists to handle it nicely !</p>\n"},{"tags":["jquery","ajax","wordpress"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13201402,"title":"Obtain permalink for post via AJAX","body":"<p>I'm currently working on a Wordpress website for the first time, in one of my views I load content dynamically via AJAX, but this information doesn't include the permalink for the posts I load. I wanted to know how I can get the permalink for a post via AJAX by providing the post ID.</p>\n"},{"tags":["ajax","json","object"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13196523,"title":"Handling json object, ajax response","body":"<p>I have this json object :</p>\n\n<pre><code>[\n    {\n        \"company_name\": \"Spix Clothing Co.\"\n    },\n    {\n        \"company_name\": \"spixel\"\n    },\n    {\n        \"company_name\": \"WebNiJose Co.\"\n    }\n]\n</code></pre>\n\n<p>As you can see, its an object without a name, and has 3 objects within it.</p>\n\n<p>I wonder if how am I suppose to handle this. I want each one to be in appended in <code>&lt;ul&gt;&lt;/ul&gt;</code>.</p>\n\n<p>By the way, that is a response from an ajax call, like this:</p>\n\n<pre><code>success : function(output) {\n     console.log(output);\n}\n</code></pre>\n\n<p>And the <strong>php</strong> file fire that like this:</p>\n\n<pre><code>echo json_encode($result);\n</code></pre>\n\n<p>How do you think is the best way to handle that?</p>\n"},{"tags":["jquery","ruby-on-rails","ajax","ruby-on-rails-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12981749,"title":"How can I use JSON data to feed two different views?","body":"<p>I have rails application that has two view ports that uses the same data. I can get the data in JSON format like this:</p>\n\n<pre><code>$.read(\n    '/en/search/fetch_companies',\n    { current_location_lat: 72, current_location_lng: 10, bounding_box: 10 },\n    function (response) {\n        for (var i = 0; i &lt; response.length; i++) {\n            var markerPosition = new google.maps.LatLng(response[i].latitude, response[i].longitude);\n            var marker = new google.maps.Marker({\n                position:markerPosition,\n                map:map,\n                title:\"AJAX!\"\n                });\n        }\n    }\n);\n</code></pre>\n\n<p>This code above creates Markers on a Google Maps. The second view port is a simple table. </p>\n\n<pre><code>  &lt;% @companies.each do |company| %&gt;\n    &lt;tr&gt;\n      &lt;td&gt;\n        &lt;address&gt;\n          &lt;strong&gt;&lt;%= company.name %&gt;&lt;/strong&gt;&lt;br&gt;\n          &lt;%= company.address %&gt;\n          &lt;br&gt;\n          &lt;%= company.city %&gt;,&lt;%= company.province %&gt;\n          &lt;br&gt;\n          &lt;%= company.postalcode %&gt;\n        &lt;/address&gt;\n      &lt;/td&gt;\n      &lt;td&gt;\n        &lt;%= link_to book_appointment_path(:choose_service, :company_id =&gt; company.id), :class =&gt; \"btn btn-info btn-center-col\" do %&gt;\n          &lt;i class=\"icon-time icon-white\"&gt;&lt;/i&gt; Book Appointment\n        &lt;% end %&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>For now I've been sending two requests to get the JSON data. One for the table view and one for the Map. This is not acceptable for me. The Map and the Table need to be fed the same data at once, but since Rails is resolved on the server I cannot fill the table with the JSON data.</p>\n\n<p>Do anyone knows about some a table that plays nicely with Rails, Ajax and pagination?</p>\n"},{"tags":["asp.net","ajax","telerik","scriptmanager","toolkit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13201053,"title":"Problems Using (AjaxControlToolkit)ASP.NET AJAX Control Toolkit and Telerik RadControls for ASP.NET AJAX","body":"<p>I am using (AjaxControlToolkit)ASP.NET AJAX Control Toolkit which is an open-source project built on top of the Microsoft ASP.NET AJAX framework.</p>\n\n<p>Also, I am using the Telerik RadControls for ASP.NET AJAX</p>\n\n<p>In order to use the (AjaxControlToolkit)ASP.NET AJAX Control Toolkit, I have to declare the asp:ScriptManager  in my aspx page.</p>\n\n<p>In order to use the Telerik RadControls for ASP.NET AJAX, I have to declare the telerik:RadScriptManager in my aspx page.</p>\n\n<p>Sadly, I get the following error:</p>\n\n<p>Only one instance of a ScriptManager can be added to the page.\nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.</p>\n\n<p>Exception Details: System.InvalidOperationException: Only one instance of a ScriptManager can be added to the page.</p>\n\n<p>Source Error:</p>\n\n<p>An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.</p>\n\n<p>Could someone please tell me how I can use both technologies?</p>\n\n<p>Thanks,</p>\n\n<p>New</p>\n"},{"tags":["ajax","ruby-on-rails-3","file-upload","carrierwave"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13195546,"title":"remove image from model with rails 3 and carrierwave and jquery","body":"<p>I'm using Carrierwave to add and upload an image to Amazon S3.  this works ok, and once the form is saved I display the image and an x box to remove it.</p>\n\n<p>I would like to use ajax to handle the click event on the 'x' image'  on click I would like to remove the image and clear the field on the form so that the input field is once again displayed</p>\n\n<p>The image field is an attribute of the model class i am editing in the form.</p>\n\n<pre><code>Person &lt; ActiveRecord\n attr_accessible: image\n</code></pre>\n\n<p>the partial for this part of my form shows the image if it exists, otherwise the input file_field if it does not exists</p>\n\n<pre><code>&lt;div class=\"field\"&gt;\n    &lt;%= image_tag @pass.background_image_url(:thumb) if @pass.background_image? %&gt;\n    &lt;%= f.file_field :background_image if @pass.background_image.to_s == '' %&gt;\n    &lt;%= content_tag :div, '', class: \"delete_image_fields\" if @pass.background_image? %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have some jquery which i can sccessful hide the image field.</p>\n\n<pre><code>jQuery -&gt;\n\n  $('.field .delete_image_fields').click -&gt;\n  $(this).parent().find('img').hide()\n  event.preventDefault()\n</code></pre>\n\n<p>The image field gets hidden no problem</p>\n\n<p>What i would like to happen is </p>\n\n<p>a)  clear the input field from the pass object\nb)  submit the change (remotely)\nc) delete the remote image on S3\ne) re-display the file_input field for the image so it can re-selected if required</p>\n\n<p>Any help or pointers would be appreciated</p>\n\n<p>UPDATE</p>\n\n<p>I've got this partially working to display corect fields and adjust the input link.  but i'm not sure how to actually delete the file from the models attribute</p>\n\n<p>I've updated the partial to the following which dispalsy either the image ro the create file button</p>\n\n<pre><code>&lt;div class=\"field\"&gt;\n  &lt;%= f.label :background_image %&gt;&lt;br /&gt;\n  &lt;% if @pass.background_image?%&gt;\n     &lt;%= image_tag @pass.background_image_url(:thumb)  %&gt;\n     &lt;%= f.file_field :background_image , style: \"display:none\"%&gt;\n     &lt;%= content_tag :div, '', class: \"delete_image_fields\" %&gt; \n  &lt;% else %&gt;\n     &lt;%= f.file_field :background_image%&gt;       \n  &lt;% end %&gt;\n</code></pre>\n\n<p></p>\n\n<p>and updated my jquery to this</p>\n\n<pre><code>$('.field .delete_image_fields').click -&gt;\n  $(this).parent().find('img').hide()\n  $(this).hide()\n  $(this).parent().find('input').val('')\n  $(this).parent().find('input').show()\n  event.preventDefault()\n</code></pre>\n"},{"tags":["php","javascript","jquery","sql","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13200690,"title":"Paginate records","body":"<p>I am generating records through PHP/SQL. The code displays 5 records. I'm trying to program so that when the next button is pressed, the next 5 records will show.</p>\n\n<p>The code:</p>\n\n<pre><code>function show(qstring,qtype)\n{\n $(\"#vsdiv\").show();\n var myurl=\"scripts/searchpage.php\"; \n $.ajax({url: myurl, \n         dataType:'json',  \n         data:{querystring:qstring,querytype:qtype},\n         success: function(member)\n         {\n            $(\"#results\").append('&lt;tr class=\"me\"&gt;'+'&lt;th&gt;#REC&lt;/th&gt; &lt;th&gt;name&lt;/th&gt;&lt;th&gt;surname&lt;/th&gt;');\n            var j=0;\n            var totrecs=1;\n            for(var i=0;i&lt;5;i++)\n            {\n                $(\"#results\").append('&lt;tr class=\"rows'+j+'\"&gt;'+'\n                                      &lt;td class=\"ids\" id=\"z'+i+'\"&gt;'+totrecs+'&lt;/td&gt;'+'\n                                      &lt;td&gt;'+name[i].bdate+'&lt;/td&gt;'+'\n                                      &lt;td class=\"users\" id=\"username'+i+'\"&gt;'+member[i].username+'&lt;/td&gt;'+'\n                                      &lt;td id=\"contact'+i+'\"&gt;'+member[i].fname+' '+member[i].lname+'&lt;/td&gt;'+'\n                                      &lt;td&gt;&lt;input type=\"checkbox\" name=\"whome\" id=\"showMe'+i+'\"'+'\n                                      class=\"boxes\" onclick=\"getMe('+i+')\" /&gt;&lt;/td&gt;&lt;/tr&gt;');  \n                totrecs++;\n                j++;\n            }\n         }\n       });\n}\n</code></pre>\n\n<p>And for the HTML button:</p>\n\n<pre><code>&lt;input type=\"button\" id=\"next5\" title=\"Next 5 Records\" disabled=\"disabled\" value=\"Next 5&gt;&gt;\" /&gt;\n</code></pre>\n"},{"tags":["asp.net","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15581,"score":0,"question_id":2175101,"title":"ASP.NET AJAX Calendar extender date format","body":"<pre><code>    &lt;asp:TextBox runat=\"server\" ID=\"TextBox3\"/&gt;\n&lt;asp:CalendarExtender runat=\"server\" ID=\"TextBox3_CalendarExtender\" TargetControlID=\"TextBox3\" \n                        Enabled=\"True\" PopupPosition=\"BottomLeft\" FirstDayOfWeek=\"Monday\" /&gt;\n</code></pre>\n\n<p>output calendar Format : <strong>2/1/2010</strong>\nI need : <strong>01.02.2010</strong></p>\n\n<p>like here : <a href=\"http://www.asp.net/AJAX/AjaxControlToolkit/Samples/Calendar/Calendar.aspx\" rel=\"nofollow\">ajax calendar</a></p>\n\n<p>how to setup this format ?..</p>\n"},{"tags":["jquery","ajax","asp.net-mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":57,"score":-1,"question_id":13194742,"title":"How update html dom model from ajax?","body":"<p>I have not valide html:</p>\n\n<pre><code>...\n&lt;form&gt;\n&lt;tbody&gt;...&lt;/tbody&gt;\n&lt;tbody&gt;Dynamic content&lt;/tbody&gt;\n&lt;tbody&gt;...&lt;/tbody&gt;\n&lt;/form&gt;\n...\n</code></pre>\n\n<p>in code:</p>\n\n<pre><code>using (Ajax.BeginForm(\"UpdateAjax\", \"Group\", null, new AjaxOptions { HttpMethod = \"POST\", UpdateTargetId = \"updateTargetID\" }, new { @class = \"modal_form_ajax\" }))\n{\n            &lt;tbody&gt;&lt;tr style=\"height: 10px\" /&gt;more tr-s&lt;/tbody&gt;\n            &lt;tbody id=\"updateTargetID\"&gt;&lt;/tbody&gt;\n            &lt;tbody&gt;&lt;tr style=\"height: 10px\" /&gt;more tr-s&lt;/tbody&gt;\n}\n</code></pre>\n\n<p>form not see inputs in tbody[id=updateTargetID].</p>\n\n<p>If I just load the dynamic content, all normally sees.</p>\n\n<p>How to get it to a loaded html?</p>\n\n<p><strong>update</strong>. worked only IE</p>\n"},{"tags":["javascript","jquery","ajax","jqgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13199532,"title":"In a jqGrid, how can I get the row that another element is in?","body":"<p>I have a <code>jqGrid</code> which has a column called \"Actions\".  In this column, each row has a number of buttons which are supposed to perform various functions on the data in that row.</p>\n\n<p>Unfortunately, the only grid parameter I've found that remotely matches what I want to do is <code>selrow</code>.  This gets the <em>selected</em> row.  But if the user clicks one of the action buttons, this doesn't necessarily mean that row is \"selected\" (i.e., the user has clicked on it previously).</p>\n\n<p>Is there a way I can get the row of the button the user presses?  Or does it not make sense to have buttons inside of the <code>jqGrid</code> to begin with?</p>\n"},{"tags":["ajax","wicket","wicket-1.6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13199505,"title":"How to get extra parameter from AjaxRequest wicket 6","body":"<p>Hi all wicket pros out there,</p>\n\n<p>I would like to get extra parameter I added to the AjaxRequest in the respond(AjaxRequestTarget target) method of a AbstractDefaultAjaxBehaviour.</p>\n\n<p>I build the Wicket.Ajax.get(...) call by myself and I could manage that the respond(AjaxRequestTarget target) method of the AbstractDefaultAjaxBehaviour is invoked, but I get stock in how to get the extra parameters I added in my js call.</p>\n\n<p>So here the code what I'm doing:</p>\n\n<p>js that is called onSelect:</p>\n\n<pre><code>Wicket.ajax.get({'u':'callbackUrl','c':'componetId', 'ep':{'objectId':'OBJECT_ID'}});\n</code></pre>\n\n<p>java snippet of the AbstractDefaultAjaxBehaviour:</p>\n\n<pre><code>onSelectBehavior = new AbstractDefaultAjaxBehavior(){\n        @Override\n        protected void respond(AjaxRequestTarget target) {\n            //here I want to get the OBJECT_ID I added in the Wicket.Ajax.get call above\n        }\n};\n</code></pre>\n\n<p>The respond() method is invoked as expected, but I don't know how to get the OBJECT_ID.\nActually I'm not sure at all if I added the extra parameter in the right way to the wicket.ajax.get call.</p>\n\n<p>In Wicket 1.4 I added the extra parameters as a url query string like <code>ajaxCallUrl...?objectId=OBJECT_ID</code> and in respond() I got them back from the RequestCycle <code>RequestCycle().get().getRequest().getParameter('objectId')</code></p>\n\n<p>If anyone could give me a hint, I would appreciate it :)\nThanks in advance,\nRonny</p>\n"},{"tags":["ajax","get","size"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":13200477,"title":"Get size of sended data with Ajax","body":"<p>Sorry For My Bad English.\nI need to get the size of data sent of Ajax request.\nI look httpfoks shows such data. \nHow get value sended bytes while live request?\n<a href=\"http://forum.jquery.com/topic/ajax-sended\" rel=\"nofollow\">enter link description here</a></p>\n"}]}
{"total":48691,"page":7,"pagesize":100,"questions":[{"tags":["ajax","internet-explorer-8"],"answer_count":8,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":18918,"score":3,"question_id":1482177,"title":"Ajax app works in some browers, not others","body":"<p>My ajax app works fine in Firefox, but not in IE8.  Specifically, the ajax functionality doesn't work.  </p>\n\n<p>Here's the code I'm using:</p>\n\n<pre><code>function createXMLHttpRequest()\n{\n  if (window.XMLHttpRequest)\n  {\n    // code for IE7+, Firefox, Chrome, Opera, Safari\n    return new XMLHttpRequest();\n  }\n\n  if (window.ActiveXObject)\n  {\n    // code for IE6, IE5\n    return new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\n\n  return null;\n}\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre><code>Object doesn't support this property or method\najax.js\nCode:0\nLine : 6\nChar : 5\n</code></pre>\n\n<p>It works perfect in Firefox.</p>\n\n<p>What is the problem with my code ?</p>\n"},{"tags":["jquery","ajax","backbone.js","brunch","chaplinjs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13196555,"title":"jQuery ajax parsererror with valid dataTypes and 200 response","body":"<p>I am sending and ajax request (<code>backbone.model</code> save) to my API built with ExpressJS. This is a cross domain request and everything works in that regards. The problem is that I receive a 200 response but a parsererror from the ajax call causing my error callback to always be called. I have looked into why this is happening and the following is what I have determined.</p>\n\n<p>In the jQuery <code>ajaxConvert</code> method, it receives two parameters. The first parameter is called <code>s</code> and the second is the response from the request. The response is correct but inspecting what this method does I found out that the s parameter (which is an object) contains an attribute dataTypes. It uses this to determine how to convert the response correctly. The dataTypes attribute is an array and contains 3 items for me.</p>\n\n<pre><code>s.dataTypes = [\"text\", \"http://localhost/1/user\", \"json\"];\n</code></pre>\n\n<p>Since the second value in the datatypes array is the URL I sent the request to, the <code>ajaxConvert</code> generates and parsererror and causes the error callback to be called for the request even though the request was successful (<code>200 OK</code>) and sent the correct data. </p>\n\n<p>I want to point out that normally the <code>s.dataTypes</code> is like the following:</p>\n\n<pre><code>s.dataTypes = [\"text\", \"json\"];\n</code></pre>\n\n<p>I found this out inspecting another application I wrote which returns and parses the data correctly. (notice the omitted URL)</p>\n\n<p>My question is rather does anyone know why this might be happening?</p>\n\n<p>My web app stack is the following:</p>\n\n<ul>\n<li>Brunch.io for building HTML5 App</li>\n<li>Backbone.js + Chaplin.js for client side app written in coffee script.</li>\n<li>ExpressJS used to write API portion with MongoDB for the database.</li>\n</ul>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["javascript","jquery","ajax","datatables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13200043,"title":"AJAX async : false not working properly","body":"<p>I'm having trouble with setting async : false, and getting it to work. Here is the function I'm using:</p>\n\n<pre><code>function deleteRecord(deleteURL, iid){\n    var didDelete = false;\n    jQuery.ajax({\n            type: \"POST\",\n            url: deleteURL,\n            dataType:\"html\",\n            data:\"recordID=\"+iid,\n            async : false,\n            success:function(response){\n                didDelete = true;\n                oTable.fnDraw(true);\n                selected = [];\n                selectedRecord = [];\n                enableButtons(selected);\n            },\n            error:function (xhr, ajaxOptions, thrownError){\n                &lt;%-- is the message in a range we can handle? --%&gt;\n                if ((xhr.status &gt;=400) &amp;&amp; (xhr.status &lt; 500)) {\n                    alert(xhr.responseText);\n                }\n                else {\n                    alert('&lt;spring:message arguments=\"\" text=\"Internal Server Error\" code=\"ajax.internal.server.error\"/&gt;');\n                }\n            }    \n        });\n\n    return didDelete;\n}\n</code></pre>\n\n<p>and here is the function I'm calling it in:</p>\n\n<pre><code> function fnDelete(elem){\n    if (selected.length&gt;0) {\n        var c;\n        c = confirm('Are you sure you want to delete the selected ${displayTableName}?');\n        if (c) {\n            // Create delete url from editor url...\n            var deleteURL = (urlstr.substring(0, urlstr.lastIndexOf('/') + 1)) + \"delete.do\";\n            deleteRecord(deleteURL,selected[0]);\n            if ( $('.tableViewer tbody tr:visible').length === 1) {\n                oTable.fnPageChange('last');\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>As of now, I can only get fn.PageChange to work if I set a timeout around it or place an alert before it. Can someone help me find why this isn't working? I can't figure it out and am banging my head against the wall!</p>\n"},{"tags":["java","javascript","ajax","wicket","wicket-1.5"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":168,"score":3,"question_id":10366903,"title":"how can I know if the user has left the page in wicket?","body":"<p>I am searching for a way to know when the user leaves the page and has not saved the changes then show wicket's modal(preferable but could be a confirmation box).  </p>\n\n<p>Additional info:\nthe solution should have  minimal effects in  code, because I have about 30 pages that will have the behavior, actually all my web pages extends from one called LayoutPage, something similar to <a href=\"http://wicket.apache.org/learn/examples/markupinheritance.html\" rel=\"nofollow\">this</a></p>\n\n<p>I tried with pure JavaScript solution like in <a href=\"http://stackoverflow.com/questions/276660/how-can-i-override-the-onbeforeunload-dialog-and-replace-it-with-my-own\">this</a> question, but the application send a lot of data via AJAX requests, so I couldn't determine a nice way to know if the data has been sent to the server</p>\n\n<p>Ihen I start to look in the source code of the <code>Form.class</code> of Wicket. It has a nice method called <code>isSubmitted()</code>; I could use it if I was able to know from wicket if the user is about to quit the page.</p>\n\n<p>I don't want to write a validation for each page in the system. </p>\n"},{"tags":["php","javascript","ajax","canvas","html5-canvas"],"answer_count":2,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":116,"score":8,"question_id":13198131,"title":"How to save a HTML5 Canvas as Image on a server","body":"<p>I'm working on a generative art project where I would like to allow users to save the resulting images from an algorithm.  The general idea is:</p>\n\n<p>*create an image on HTML5 Canvas using generative algorithm\n*when the image is completed, allow user to save the canvas as an image file to server\n*Allow the user to either download the image or add it to a gallery of pieces of produced using the algorithm.</p>\n\n<p>However, I'm stuck on the second step :(  I just started javascript programming in the last month and have very little experience with php/AJAX, but thought that (perhaps) this was a reasonable project to learn them through.</p>\n\n<p>After some help from google, I found this blog post, which seemed to be exactly what I wanted:</p>\n\n<p><a href=\"http://permadi.com/blog/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/\" rel=\"nofollow\">http://permadi.com/blog/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/</a></p>\n\n<p>Which led to the javscript code:</p>\n\n<pre><code>function saveImage() {\n    var canvasData = canvas.toDataURL(\"image/png\");\n    var ajax = new XMLHttpRequest();\n    ajax.open(\"POST\",'testSave.php',false);\n    ajax.onreadystatechange = function() {\n        console.log(ajax.responseText);\n    }\n    ajax.setRequestHeader('Content-Type', 'application/upload');\n    ajax.send(\"imgData=\"+canvasData);\n\n}\n</code></pre>\n\n<p>and corresponding php (testSave.php):</p>\n\n<pre><code>&lt;?php\nif (isset($GLOBALS[\"HTTP_RAW_POST_DATA\"])) {\n  $imageData=$GLOBALS['HTTP_RAW_POST_DATA'];\n  $filteredData=substr($imageData, strpos($imageData, \",\")+1);\n  $unencodedData=base64_decode($filteredData);\n  $fp = fopen('/path/to/file.png', 'wb' );\n  fwrite( $fp, $unencodedData);\n  fclose( $fp );\n}\n?&gt;\n</code></pre>\n\n<p>But this doesn't seem to do anything at all :(</p>\n\n<p>More googling turns up this blog post:</p>\n\n<p><a href=\"http://www.kevinsookocheff.com/2011/07/27/saving-canvas-data-to-an-image-file-with-javascript-and-php/\" rel=\"nofollow\">http://www.kevinsookocheff.com/2011/07/27/saving-canvas-data-to-an-image-file-with-javascript-and-php/</a></p>\n\n<p>Which is based off of the previous tutorial.  Not very different, but perhaps worth a try:</p>\n\n<pre><code>&lt;?php\n$data = $_POST['imgData'];\n\n$file = \"/path/to/file.png\";\n\n$uri =  substr($data,strpos($data,\",\")+1);\n\nfile_put_contents($file, base64_decode($uri));\n\necho $file;\n?&gt;\n</code></pre>\n\n<p>This one creates a file (yay!) but its corrupted and doesn't seem to contain anything.  It also appears to be empty (file size of 0)...</p>\n\n<p>Is there anything really obvious that I'm doing wrong?  The path where I'm storing my file is writable, so that isn't an issue... but nothing seems to be happening and I'm not really sure how to debug this.</p>\n\n<p>Thanks!</p>\n\n<p>EDIT:</p>\n\n<p>Following Salvidor Dali's link I changed the ajax request to be:</p>\n\n<pre><code>function saveImage() {\n    var canvasData = canvas.toDataURL(\"image/png\");\n    var xmlHttpReq = false;       \n    if (window.XMLHttpRequest) {\n        ajax = new XMLHttpRequest();\n    }\n\n    else if (window.ActiveXObject) {\n        ajax = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n   ajax.open('POST', 'testSave.php', false);\n   ajax.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n   ajax.onreadystatechange = function() {\n        console.log(ajax.responseText);\n    }\n   ajax.send(\"imgData=\"+canvasData);\n}\n</code></pre>\n\n<p>And now the image file is created and isn't empty!  It seems as if the content type matters and that changing it to x-www-form-urlencoded allowed the image data to be sent.</p>\n\n<p>The console returns the (rather large) string of base64 code and the datafile is ~140 kB.  However, I still can't open it and it seems to not be formatted as an image :(</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":33,"score":-4,"question_id":13199316,"title":"how to Insert data in mysql Data base","body":"<pre><code>$('#wizard').smartWizard({\n    transitionEffect: 'slideleft',\n    onLeaveStep: leaveAStepCallback,\n    onFinish: onFinishCallback,\n    enableFinishButton: false\n});\n\n\nfunction onFinishCallback() {\n\n    if (validateAllSteps()) {\n\n\n        //I want to insert data in Mysql DAta base (here I need a ajax code)\n    }\n}\n</code></pre>\n"},{"tags":["c#","asp.net","ajax","visual-studio-2010"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13187148,"title":"Display Error Stack trace information in Custom Error page","body":"<p>I am using VS2010. </p>\n\n<p>I log my exception in Application_Error and then get automatically redirected to Custom Error page. </p>\n\n<p>On Custom Error page, I would like to display stack track of the error. </p>\n\n<p>I can not implement the approach in following article because I am\n    using ajax controls in all the pages and I get ajax errors if I use\n    the solution in following article. </p>\n\n<p>I updated the web.config as follows:</p>\n\n<pre><code>&lt;customErrors defaultRedirect=\"~/CustomError.aspx\" mode=\"On\" redirectMode=\"ResponseRewrite\" /&gt;\n</code></pre>\n\n<p>The ajax error for the web.config is as follows:</p>\n\n<p><strong>Microsoft JScript runtime error: Sys.WebForms.PageRequestManagerParserErrorException: The message received from the server could not be parsed. Common causes for this error are when the response is modified by calls to Response.Write(), response filters, HttpModules, or server trace is enabled.\nDetails: Error parsing near '\n</strong></p>\n\n<p><a href=\"http://stackoverflow.com/questions/343014/asp-net-custom-error-page-server-getlasterror-is-null\">ASP.NET custom error page - Server.GetLastError() is null</a></p>\n\n<p>I can not use the following approach because I am being told to stay\n    away from session and application level storage.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/11425032/asp-net-4-0-how-to-get-exception-details-in-custom-error-page\">Asp.net 4.0 : How to get exception details in custom error page?</a></p>\n\n<p>So what are my options?? is there any other way to store Error information in Application_Error and  recover the error stack trace on Custom Error page? This page is automatically being rerouted by asp.net engine. </p>\n\n<p>Please help!!! </p>\n\n<p>thanks</p>\n"},{"tags":["javascript","jquery","ajax","cross-domain"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12405459,"title":"How to do AJAX POST cross-domain with custom headers","body":"<p>I have been looking around all over and I cannot find a definitive answer to this.</p>\n\n<p>I need to be able to perform an AJAX POST and send up custom headers. I have full control of both the client side script and the server side service, so if I have to make any tweaks to either side to make this work, I am able to make those changes.</p>\n\n<p>I am currently using jQuery, however if jQuery is unable to do this and I need to use another library that is not a problem at all either. Ideally I would prefer to stick to a single library (jQuery) but am more than happy to use a second if it solves my problem.</p>\n\n<p>Currently my code looks like this:</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: 'http://localhost:65079/TestHandler',\n    crossDomain: true,\n    data: myVariableOfData,\n    dataType: 'json',\n    beforeSend: function(xhr) {\n        xhr.setRequestHeader('MessageId', 'abc123');\n    },\n    success: function(responseData, textStatus, messageId) {\n        console.log(\"success\");\n    },\n    error: function(responseData, textStatus, errorThrown) {\n        console.log(textStatus);\n        console.log(responseData);\n        console.log(errorThrown);\n    }\n});\n</code></pre>\n\n<p>and unfortunately jQuery does not even attempt to send the request to the server, however as soon as I remove the headers, it sends the request. I really need these headers though, so any help would be highly appreciated.</p>\n\n<p>Please ask me any questions that may help resolve this issue and I will respond as fast and as I best as I can.</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13198950,"title":"Load page/change url without disrupting sidebar","body":"<p>I know this question has been asked several times before but I haven't been able to find anything that specifically touches on what I'm trying to do. </p>\n\n<p>At <a href=\"http://teneo.telegraphbranding.com/\" rel=\"nofollow\">http://teneo.telegraphbranding.com/</a> I have the main content and then a sidebar off to the right. When 'About' is clicked a jquery slidedown menu animates and the about.php page loads, thus changing the url to <a href=\"http://teneo.telegraphbranding.com/about.php\" rel=\"nofollow\">http://teneo.telegraphbranding.com/about.php</a>.</p>\n\n<p>I was able to rig the sidebar with css to make it look like the jquery animation wasn't disrupted but I figure there's a real way to do this with ajax. I want to load the about page without the sidebar changing at all. Then I hope that when 'Story' or another link on the sidebar is clicked, that page will load and the about drop down menu will slide up without reloading.</p>\n\n<p>I appreciate any help at all. Thanks.</p>\n"},{"tags":["javascript","ajax","google-maps-api-3","geojson"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13188474,"title":"clear polygons with setMap(null) before updating with new geojson","body":"<p>I'm trying to clear all my polygon objects before I import new geoJSON data and create new objects. I can't seem to get the setMap(null) function to work correctly. Hopefully someone can kindly let me know where I am failing.</p>\n\n<p>Thank you</p>\n\n<pre><code>var map;\nfunction removeAllMarkers(){// removes all markers from map\n//console.log(data);\nfor( var i = 0; i &lt; data.length; i++ ){\ndelpolygon = new google.maps.Poly({\n    position: data[i]\n})\ndelpoly.setMap(null)\n}   \ndata.length = 0;\n//markersInfoArray.length = 0;\n};\n\n// ajax request to load json data\nvar data;\nfunction pullNewData () {\nvar newRequest = new XMLHttpRequest();\nnewRequest.open('GET', 'json_template.json', true);\nnewRequest.onload = function() {\n//data = eval(\"(\" + xhr.responseText + \")\")\ndata = JSON.parse(newRequest.responseText)\n\nconsole.log(data);\nsector_callback(data);\nremoveAllMarkers(data);\n};\nnewRequest.send();\n};\n\n//setInterval(pullNewData,5000);\n\n// function to load map into body when page loads\nfunction initialize() { \nvar kansas_city = new google.maps.LatLng(39.316858,-94.963194);\nvar mapOptions = {\nzoom: 13,\ncenter: kansas_city,\nmapTypeId: google.maps.MapTypeId.TERRAIN\n};\n\nmap = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);\n}\n\n// ajax request to load json data\nvar data;\nvar xhr = new XMLHttpRequest();\nxhr.open('GET', 'json_template.json', true);\nxhr.onload = function() {\n//data = eval(\"(\" + xhr.responseText + \")\")\ndata = JSON.parse(xhr.responseText)\n//console.log(data);\nsector_callback(data);\n};\nxhr.send();\n\nfunction createClickablePoly(poly, html) {\ngoogle.maps.event.addListener(poly, 'click', function(evt) {\n    infowindow.setContent(html);\n    infowindow.setPosition(evt.latLng);\n    infowindow.open(map);\n});\n}\nvar infowindow = new google.maps.InfoWindow({});        \n\nvar allPolygons = [];\nfunction sector_callback() {\nvar bounds = new google.maps.LatLngBounds();        \nfor (var i = 0, len = data.features.length; i &lt; len; i++) {\n    var coords = data.features[i].geometry.coordinates[0];\n    siteNames = data.features[i].properties.Name; // added for site names\n    var path = [];\n            //console.log(siteNames);\n            //console.log(coords);\n    for ( var j = 0, len2 = coords.length; j &lt; len2; j++ ){ // pull out each     set of coords and create a map object\n        var pt = new google.maps.LatLng(coords[j][1], coords[j][0])\n        bounds.extend(pt);\n        path.push(pt);\n\n        //path.push(new google.maps.LatLng(coords[j][1], coords[j][0]));\n    }\n\n    var polygons = new google.maps.Polygon({\n    path: path,\n        strokeColor: \"#000000\",\n        strokeOpacity: 0.8,\n        strokeWeight: 1,\n        fillColor: \"#000000\",\n        fillOpacity: 0.35,\n    map: map\n    });\n    createClickablePoly(polygons, siteNames);\n\n    google.maps.event.addListener(polygons, 'mouseover', function() {\n    var currentPolygon = this;\n\n    currentPolygon.setOptions({ // setOptions is a method and properties below\n        fillOpacity: 0.45,\n        fillColor: \"#FF0000\"\n        })\n    });\n\n    google.maps.event.addListener(polygons, 'mouseout', function() {\n    var currentPolygon = this;\n    currentPolygon.setOptions({ \n        fillOpacity: 0.35,\n        fillColor: \"#000000\"\n        })\n    });\n    allPolygons.push(polygons); \n  }\n\n}\nconsole.log(allPolygons);\n</code></pre>\n"},{"tags":["c#","ajax","json","jquery-ajax","webmethod"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13198241,"title":"Ajax Request to Web Method Returning document object instead of text or JSON","body":"<p>I have an ajax call to a web service which I'd like to return some JSON back to the view. Right now, though, if I alert the result of the call, I get \"object Document\". I tried changing the content type around but no dice. Here is the ajax call in its current state:</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url: \"services/offerService.asmx/getUploadedDocs\",\n    contentType: 'text/html',\n    data: {offerID : offerId},\n    success: function(result) {\n        $.each(result, function(index) {\n        alert(result.toString());\n        $(element).closest('ul.uploadedDocs').append('&lt;li id=\"uploadedDoc-'+(index+\"\") + '\" class = \"uploadedDocument\"&gt;&lt;span id=\"uploadedDocTitle\"&gt;Title: '+ result[\"title\"] + '&lt;/span&gt;&lt;span id=\"uploadedDocUploadedBy&gt;Uploaded By: ' + result[\"uploadedBy\"] + '&lt;/span&gt;&lt;/li&gt;');\n        });                     \n    }\n});\n</code></pre>\n\n<p>And here's the web method:</p>\n\n<pre><code>[WebMethod]\npublic object getUploadedDocs(string offerID)\n{\n    string sql = \"SELECT * FROM [dbo].[uploaded_documents] WHERE primary_offer_id = @offerId\";\n    IList&lt;UploadedDocument&gt; uploadedDocs = new List&lt;UploadedDocument&gt;();\n    using (SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"production\"].ToString()))\n    {\n        SqlCommand cmd = new SqlCommand(sql, conn);\n        cmd.Parameters.Add(\"@offerId\", SqlDbType.Int);\n        cmd.Parameters[\"@offerId\"].Value = offerID;\n        DataTable dt = new DataTable();\n        SqlDataAdapter adapter = new SqlDataAdapter(cmd);\n        adapter.Fill(dt);\n        adapter.Dispose();\n        uploadedDocs = dt.ToList&lt;UploadedDocument&gt;();\n    }\n\n    StringBuilder json = new StringBuilder();\n    json.Append(\"{\");\n    int count = 1;\n    foreach (UploadedDocument doc in uploadedDocs)\n    {\n        json.Append(\"{doc\"+count.ToString()+\":\"+\"{\\\"title\\\": \" + doc.docTitle + \", \\\"uploadedBy\\\": \" + doc.uploadedBy + \", \\\"uploadDate\\\": \" + doc.uploadDate.ToLongDateString() + \"},\");\n    }\n    if(json.ToString().Contains(\",\"))\n        json = json.Remove(json.ToString().LastIndexOf(','), 1);\n    json.Append(\"}\");\n    return json.ToString();\n}\n</code></pre>\n\n<p>I could send it back as a <code>object()</code>, probably, but I'd much rather leave it as a string and have it be parsed as JSON. Any ideas? </p>\n"},{"tags":["jquery","ajax","jquery-ui-autocomplete"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13198097,"title":"jQuery Autocomplete selected value always has trailing comma","body":"<p>I am using jQuery autocomplete with MVC3 and Razor engine and it is able to retrieve my list from my actionResult. However when I click on an item in the autocomplete list there is always a comma at the end.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"editor-field\"&gt;\n    @Html.EditorFor(model =&gt; Model.group_name, new { ID = \"group_name\" })\n    @Html.ValidationMessageFor(model =&gt; Model.group_name)\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $(\"#group_name\").autocomplete('@Url.Action(\"LookUpGroupName\")', // Call LookUpGroupName ActionResult in UserManager Controller\n        {\n        dataType: 'json',\n        parse: function (data) {\n            var rows = new Array();\n            for (var i = 0; i &lt; data.length; i++) {\n                rows[i] = {\n                    data: data[i],\n                    value: data[i].group,\n                    result: data[i].group\n                }\n            }\n            return rows;\n        },\n        formatItem: function (row, i, max) {\n            return row.group\n        },\n        width: 300,\n        highlight: false,\n        multiple: true\n        //        multipleseparator: \",\"\n    }); // End of autocomplete\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Response body of my request from typing the letter a</p>\n\n<pre><code>[{\"group\":\"A Tout France\"},{\"group\":\"Abba Blinds\"},{\"group\":\"Aberdeen Journals\"},{\"group\":\"Account suspended South West Media Group\"},{\"group\":\"Acumen Marketing Communications\"},{\"group\":\"Acumen Partners\"},{\"group\":\"adz media ltd\"},{\"group\":\"Aka Ltd\"},{\"group\":\"AL Marketing Communications\"},{\"group\":\"Alchemy Direct Media\"}]\n</code></pre>\n\n<p>If I select A Tout France from using my autocomplete the value in the textbox will be:</p>\n\n<p>A Tout France,</p>\n\n<p>Any idea how to get rid of the trailing comma?</p>\n"},{"tags":["asp.net","ajax","accordion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13183449,"title":"Ajax Accordian collapses when GridView events fire","body":"<p>I have two Ajax Accordions in an EditSite.aspx.  Each accordion has about six panes.  In each pane, I have an asp:GridView control that allows the site admin to perform various tasks, maintaining data. It looks nice and works beautifully, but...</p>\n\n<p>With each update, insert, etc. in the GridView control, the accordion collapses and the default pane opens.  I suspect this is because the page reloads on a postback event.  This is a major annoyance.  I have read that the accordion is supposed to be able to retain the index of the open pane and return to that pane, but with the GridView update this is not happening.</p>\n\n<p>Any idea how I can get the GridView to submit its insert, update, delete, etc. and keep that accordion pane open?</p>\n"},{"tags":["android","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":19,"score":0,"question_id":13198306,"title":"Hitting Android back button while Ajax is working (Jquery/PhoneGap)","body":"<p>Let´s say i start a Ajax request as soon as the page loads. If i quickly press the back button before the Ajax has finished. The \"error\" event will fire off. Like it should.</p>\n\n<p>But how can i know that the error was \"valid\" and not induced by the user hitting the back button on the android phone? Is this possible?</p>\n\n<p>I´m using Jquery/PhoneGap.</p>\n"},{"tags":["javascript","ajax","xmlhttprequest"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13197998,"title":"onreadystatechange is never getting called","body":"<p>I have created XHR and I am also getting response from server correctly.\nBut for some reason the callback is not happening. Please help.</p>\n\n<pre><code>function uploadDr(){\n    var url = \"UploadExcelServlet\";     \n    if (req != null) {\n        try {\n            req.open(\"GET\", url, true);\n        } catch (e) {\n            alert(e);\n        }\n        req.onreadystatechange = callBk;\n        req.setRequestHeader(\"Content-Type\", \"multipart/form-data\");\n        req.send();\n    } else {\n        alert(\"Null Request\");\n    }\n}\n\n\nfunction callBk(){\n    if (req.readyState == 4){\n        if (req.status == 200){\n            alert(req.responseXml);\n        } else {\n            alert(req.statusText);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","internet-explorer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13197187,"title":"Ajax request failing only in IE","body":"<p>The following Ajax call fails only in IE. I have already tried setting the cache to false and setting the contentType. The call always results in the error function in IE.</p>\n\n<pre><code> $.ajax({\n        type:\"GET\",\n        cache: false,\n        url: 'http://where.yahooapis.com/geocode?location='+address+'&amp;flags=J&amp;appid=dj0yJmk9Y1VON011hMQ',\n        dataType:'jsonp',\n        success: function(data) {\n         var quality = parseInt(data.ResultSet.Quality);\n         if(quality &gt; 50){                   \n             var result = data.ResultSet.Results[0];\n             if(result.line1 == streetString &amp;&amp; result.city == cityString &amp;&amp; result.statecode == stateString &amp;&amp; result.uzip == zipString)\n                 form.submit();\n             else if(result.line1 == \"\"){\n                 $(errorElement).html(\"Could not find street\");\n                 $(form).find(\"input[type='submit']\").removeAttr(\"disabled\"); \n             }                  \n             else{      \n                    var foundAddress = \"....Found Address Text....\"                                     \n                    addressDialog.dialog({\n                        modal: true,\n                        width:400,\n                        resizable:false,\n                        title: \"Confirm Address\",\n                        buttons:[\n                             {\n                                 text:\"Confirm\",\n                                 click:function(){\n                                    street.val(result.line1);\n                                    city.val(result.city);\n                                    state.val(result.statecode);\n                                    zip.val(result.uzip);\n                                    form.submit();\n                                 }\n                             },\n                             {\n                                 text:\"Cancel\",\n                                 click:function(){\n                                     addressDialog.dialog(\"close\");\n                                 }\n                             }\n                        ],\n                        close:function(event,ui){\n                            $(form).find(\"input[type='submit']\").removeAttr(\"disabled\"); \n                        }                       \n                    });\n                    addressDialog.dialog(\"open\");\n             }       \n         }else{\n             $(form).find(\"input[type='submit']\").removeAttr(\"disabled\");\n             $(errorElement).html(\"Invalid Address\");\n         }\n        },\n        error:function(){\n            alert(jqXHR.status);\n            alert(textStatus);\n            alert(errorThrown);\n        }\n      });\n</code></pre>\n\n<p>errorElement is just a span which i print the error out too. </p>\n\n<p>When i specify the dataType as \"json\" alerts come out as </p>\n\n<p>0 , error , No Transport</p>\n\n<p>When i change it to \"jsonp\" alerts show</p>\n\n<p>200,parseerror, Error:jquery1720949182345742317_1351868503283 was not called</p>\n"},{"tags":["javascript","ajax","hash","links"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13197423,"title":"ajax and hash urls","body":"<p>I have a webpage designed to reload data with ajax. All of my ajax works well but I now realize that I want to keep track of where you are on the page and also be able to link people to specific pages on the site. </p>\n\n<p>Here is the site I am talking about:</p>\n\n<p>www.stevenlebel.com</p>\n\n<p>As you can see, the page is made up of a tv that loads new content into the screen. The videos page uses embedded Vimeo code, the music page uses Soundcloud and images use an Imugr gallery. The reason I built it this way was to allow my friend to update his page without my help.</p>\n\n<p>So my question is, how do I add hash links to the URLS - I would also like to be able to link to a certain video, song or image on the page but am not sure whether this is possible using Vimeo/Soundcloud/Imgur.</p>\n\n<p>Does anyone have any experience with this?</p>\n\n<p>Thanks a lot,</p>\n\n<p>katie</p>\n\n<p>A bonus questions:  Does anyone know how to remove the .html so when I use hash links the page would say x/x/#whatever instead of x/x.html#whatever?</p>\n"},{"tags":["ajax","wysiwyg","devtools"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":11621562,"title":"WYSIWYG-ish AJAX dev tools?","body":"<p>I'm working with someone who's an experienced system programmer, but is taking on web programming for the first time. What good tools are there to facilitate features like click-to-sort columns in tables, drag-and-drop fields to rearrange ordered values in a table, and other AJAX functionality? I myself am a past Domino developer, and it seems some open source equivalent of the form creation process in Domino would be most useful to him.</p>\n\n<p>Any thoughts? Am I barking up the right tree and are there any useful products on the branches?</p>\n"},{"tags":["asp.net","ajax","wcf","identity","wif"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":729,"score":1,"question_id":6761404,"title":"Using Identity Foundation with a WCF Web Api","body":"<p>I have a bunch of websites that are setup identically to use a WIF identity provider. I've recently moved the business logic out of the web applications and into a Web Api service application. This runs in a different virtual directory to the other sites. The idea being that browser will put the data into the page AJAXy.</p>\n\n<p>The issue I have is with securing the web API. It seems that WIF single sign-on works okay with traditional sites. The user can access one website, get redirected to the identity provider, login and get redirected back to the website they wanted. When they access another site they also get redirected back to the identity provider but needn't log in as a FEDAUTH cookie exists so they automatically get authenticated and redirected to the second site.</p>\n\n<p>This doesn't work for the Web Api scenario because when the browser perhaps makes a GET to it, the Api will return a redirect to the calling javascript when it should be expecting JSON.</p>\n\n<p>Is it even possible to secure Web Api with WIF?</p>\n"},{"tags":["javascript","ajax","xmlhttprequest"],"answer_count":2,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":65,"score":3,"question_id":3359883,"title":"Practical use cases for returning javascript from an XHR/Ajax request?","body":"<p>I've never really had to return javascript from an XHR request. In the times I've needed to apply behaviour to dynamically loaded content I could always do it within my script making the call.</p>\n\n<p>Could someone provide actual real world cases just so I'm aware, of when you'd actually <strong>need</strong> to do this ( not for convenience ), or some reasons of why in some cases it's better to return js along with the other content instead of building that functionality in your callback?</p>\n\n<p>The only scenario that's coming to my head is on a heavily customized site, if the site supports multiple languages for example and the functionality changes depending on the language, and ajax is used to pull in dynamic content and perhaps in some languages a certain behavior needs to happen while in others another needs to happen and it's more efficient returning js in script blocks instead of dumping all that logic into a callback.</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13196794,"title":"Disable multi click count on jquery ajax","body":"<p>Hi i am trying to fix a bug on this plugin for wordpress I am using. The functions looks like this </p>\n\n<pre><code>function alter_ul_post_values(obj, post_id, ul_type) {\n    jQuery(obj).find(\"span\").html(\"..\");\n    jQuery.ajax({\n        type: \"POST\",\n        url: \"&lt;?php  echo get_template_directory_uri() .\"/includes/ajax_counter.php\";?&gt;\",\n        data: \"post_id=\"+post_id+\"&amp;up_type=\"+ul_type,\n        success: function(msg) {\n            jQuery(obj).find(\"span\").html(msg);\n        }\n    });\n}\n</code></pre>\n\n<p>and to call the function and count the click comes this line!</p>\n\n<pre><code>&lt;span class='ul_dcont' onclick=\\\"alter_ul_post_values(this,'$post_id','wpt2_dislikes')\\\" &gt;\".$text.\"(&lt;span&gt;\".  $dislike_nr .\"&lt;/span&gt;)&lt;/span&gt;\n</code></pre>\n\n<p>Now if you click fast (multiclick) over the span it will count all clicks. I want to limit this to one click because the cookie is created after the click and doesn't allow any more clicks to be counted!</p>\n\n<p>Thank you!</p>\n"},{"tags":["javascript","jquery","html","css","ajax"],"answer_count":13,"favorite_count":34,"up_vote_count":64,"down_vote_count":1,"view_count":1298,"score":63,"question_id":12686331,"title":"Update the CSS of a Website without refreshing the Page","body":"<p>I create a page with CSS. so i must change from my editor to my browser and must refresh the full page to have a look at every little change. but I do not want to refresh the page, because I have some animations...</p>\n\n<p>so is there anything which I can use so that my site updates automatically after a CSS update? maybe with javascript, jQuery, Ajax or something?</p>\n"},{"tags":["php","javascript","jquery","ajax","fancybox-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13188974,"title":"Update a Select Box on Parent Page from FancyBox2","body":"<p>I'm trying to submit a form in a fancybox where users can add a company to a select box that exists on the modals parent page. Im doing this by submitting the modal information to a script that adds the company to my database. Then I run a query to to get all the updated companies as a group of  tags. Then I am trying to pass that group of tags to the parent page as a jquery update. Im not sure if this is the best approach or where I'm going wrong.</p>\n\n<p>I am attempting to use this post as a guide:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/10797270/find-element-on-site-from-a-fancybox-iframe\">Find element on site from a fancybox iframe</a></p>\n\n<p>But I have two problems with my code. \nOne: The fancybox is not closing\nTwo: The select box on the parent page is not updating</p>\n\n<p>I am not sure where I am going wrong with my success call. The code from the Modal page is:</p>\n\n<pre><code>$(\"#send-message\").click(function(){\n        $(this).closest('form').submit(function(){\n            return false;\n        });\n        var frm = $(this).closest('form');        \n         if($(frm).valid()){\n            $(\"#ajax-loading\").show();\n            var data = $(frm).serialize();\n            $(frm).find('textarea,select,input').attr('disabled', 'disabled');            \n            $.post( \n                    \"../forms/company_add.php\", \n                    data,                   \n                    function(data) {\n                      if (data.success) {\n                      // data.redirect contains the string URL to redirect to\n                      $('#companyselect', $(parent.document)).html(data.success);\n                      parent.$.fancybox.close();\n                      }\n                      else {\n                        $(\"#ajax-loading\").hide();\n                        $(frm).find('textarea,select,input').removeAttr('disabled');\n                        $(\"#send_message_frm\").append(data.error);\n                      }\n                    },\n                    \"json\"                  \n\n           );\n        }\n    });\n</code></pre>\n\n<p>The Code from company_add.php returns all the options tags like such:</p>\n\n<pre><code>if ($_POST) {\n        // Collect POST data from form\n        $name     = filter($_POST['name']);\n        $conmail  = filter($_POST['conmail']);\n        $addy     = filter($_POST['addy']);\n        $confax   = filter($_POST['confax']);\n        $city     = filter($_POST['city']);\n        $state    = filter($_POST['state']);\n        $con      = filter($_POST['con']);\n        $conphone = filter($_POST['phone']);\n        $zip      = filter($_POST['zip']);\n    }\n    $search1   = mysql_query(\"SELECT man_name FROM manufacturers WHERE man_name = '$name'\");\n    $outcome1  = mysql_fetch_row($search1);\n    $num_rows1 = mysql_num_rows($search1);\n    $imageid1  = $outcome1[0];\n    $imageid1  = filter($imageid1);\n    if ($num_rows1 &gt; 0) {\n        echo json_encode(array(\n            \"error\" =&gt; '&lt;div class=\"msg-error\"&gt;A company by that name already exists.&lt;/div&gt;'\n        ));\n    } else {\n        $stmnt = mysql_query(\"INSERT INTO manufacturers (manufacturer_id, man_name, man_address, man_city, man_state,man_zip, man_contact, man_phone, man_fax, man_mail) VALUES ('NULL', '\" . $name . \"', '\" . $addy . \"' ,'\" . $city . \"', '\" . $state . \"' , '\" . $zip . \"' , '\" . $con . \"' , '\" . $conphone . \"' , '\" . $confax . \"', '\" . $conmail . \"'  )\");\n        //echo \"Duplicate WAS found:\" . $answer1; \n        mysql_query($answer1);\n        //}\n        $resp['status'] = 'success';\n        if (empty($error)) {\n            $nada     = \"SELECT man_name FROM manufacturers ORDER BY man_name ASC\";\n            $resulter = mysql_query($nada);\n            $comp1    = '0';\n            //Spit out array of companys as select boxes\n            $select   = '&lt;option value=\"\"&gt;--Select one--&lt;/option&gt;';\n            while ($result59 = mysql_fetch_array($resulter))\n                $select .= '&lt;option value=\"' . $result59['man_name'] . '\"&gt;' . $result59['man_name'] . '&lt;/option&gt;';\n            echo json_encode(array(\n                \"success\" =&gt;$select\n            ));\n        } else {\n            echo json_encode(array(\n                \"error\" =&gt; '&lt;div class=\"msg-error\"&gt;Error: Unable to add your company at this time&lt;/div&gt;'\n            ));\n        }\n    }\n</code></pre>\n\n<p>I am new to programming and very new to Jquery so I'm hoping someone can see where I'm going wrong. I am using fancybox 2 and php.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13195949,"title":"Ajax call from PHP to execute seperate PHP; any dangers?","body":"<p>I'm trying to execute a php-script in the background, so the user doen't have to wait for the processing to be done.</p>\n\n<p>In PHP I can call a javascript:</p>\n\n<pre><code>?&gt;\n&lt;script&gt;\nwindow.top.hdReq();\n&lt;/script&gt;\n&lt;?\n</code></pre>\n\n<p>which calls a javascript XMLHttpRequest to trigger the php script. I'm not interested in any response from that script.</p>\n\n<p>I know it might be a bit of a workaround, but... it works like a charm, for now :-) And since I don't know on what kind of server the website ends up, I have to look for a way that works on all occasions.</p>\n\n<p>My question, before I write the entire php-script: might there be any dangers or problems involved in executing it this way? (Besides the user not allowing javascript, but in that case the entire website doen't work :-)</p>\n"},{"tags":["asp.net","ajax","file-upload","microsoft-bits","bits-service"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":518,"score":1,"question_id":3555292,"title":"ASP.NET Uploading files in the background (BITS/AJAX?)","body":"<p>I have a webpage where users can create a database record and select a file they want to upload to the database server. these files can be big, like 100mb.</p>\n\n<p>I dont want the user to wait, so I want the file to be uploaded in the background. So that they can continue with doing other stuff while the file is being uploaded.</p>\n\n<p>Is BITS the way to go for this? Or is that only for Fatclient development?  Any good tuterials \n? </p>\n\n<p>If BITS is not the way to go, what are my options? An ajax call to a services with the filelocation?</p>\n"},{"tags":["ajax","drupal-7","form-submit"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":491,"score":1,"question_id":6861308,"title":"rebuild drupal form in ajax-submit?","body":"<p>I'm trying to build an AJAX-submitted form in Drupal 7.7, which should submit its content and empty itself afterwards. Therefore I added an ajax-handler function to the submit button, which calls drupal_get_form() (with the same form-id) and returns the ajax commands to replace the whole form. But for some reason the drupal_get_form-call never returns and instead re-submits the form and redirects afterwards.</p>\n\n<p>Am I doing it wrong?</p>\n"},{"tags":["javascript","ajax","fancybox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13195524,"title":"Load content with AJAX and Fancybox","body":"<p>I'm trying to load some content into a fancybox.</p>\n\n<p>the code form HTML:</p>\n\n<pre><code>&lt;form name=\"setdomainMarso\" id=\"setdomainMarso\" action=\"domains.php\" href=\"#inline\" method=\"post\"&gt;\n    &lt;input type=\"text\" name=\"domain\" class=\"formwww\"/&gt;\n\n    &lt;span class=\"Allwww\" href=\"#inline\"&gt;\n        &lt;input type=\"submit\" value=\"Recherche\" class=\"submitwww\" href=\"#inline\"  /&gt;\n    &lt;/span&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>code AJAX is:</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: 'domains.php',\n    data: $(\"#setdomainMarso\").serialize(),\n    success: function(data) {\n        if(data == \"Domain name is FREE!\") {\n            $(\"#contact\").fadeOut(\"fast\", function(){\n                $(this).before(\"&lt;p&gt;&lt;strong&gt;Your domain is free&lt;/strong&gt;&lt;/p&gt;\");\n                setTimeout(\"$.fancybox.close()\", 1000);\n            });\n        }\n    }\n});\n</code></pre>\n\n<p>How can I load this content into my fancybox using AJAX?</p>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":72,"score":1,"question_id":13194586,"title":"Javascript : Allow the user to write to session when submitting a form but without reloading the page","body":"<p>As per requirement, I want to allow the user to write to session when submitting a form but without reloading the page, this is what i have done so far:</p>\n\n<p>Javascript function:</p>\n\n<pre><code>$(function() {\n$(\"#body\").submit(function(){\nvar name = $(\"#player_name\").val();\nvar dataString = 'player_name='+ name\nalert (dataString);return false; \n   $.ajax({\n      type: \"POST\",\n      url: \"session_update.php\",\n      data: dataString,\n      success: function(){\n        $('#body').html(\"&lt;div id='message'&gt;&lt;/div&gt;\");  \n        $('#message').html(\"&lt;h2&gt;Logged in!&lt;/h2&gt;\");\n      });\n   }\n});\n   return false;\n});\n</code></pre>\n\n<p>My form im trying to submit:</p>\n\n<pre><code>    &lt;div class=\"body\"&gt;\n&lt;div class=\"home\" id=\"home\" style=\"width:100%\"&gt;\n    &lt;form action=\"\" name=\"login\"&gt;\n    USERNAME: &lt;input type=\"text\" id=\"player_name\" name=\"player_name\"/&gt;\n          &lt;br&gt;\n      &lt;input type=\"submit\" name=\"submit\" class=\"button\" id=\"submit_btn\" value=\"Send\" /&gt;\n         &lt;/form&gt;\n&lt;? echo \"value=\". $_SESSION['player_name'];?&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>the php file its sending the data to:</p>\n\n<pre><code>&lt;?php\nstart_session();\n$_SESSION['player_name']= $_POST[\"player_name\"];\n?&gt;\n</code></pre>\n\n<p>any advice your be greatly appreciated, fairly new to this side of coding so it could be something obvious thats causing it but i just cant see it.</p>\n\n<p>For more information let me know.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Console showing\n?player_name=User&amp;send:75</p>\n"},{"tags":["ajax","forms","drupal","rendering","drupal-7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":501,"score":1,"question_id":6443492,"title":"Drupal 7 Ajax Forms","body":"<p>I am using Drupal 7, and I am building a web site, that has a contact form in the footer which should appear in every page. The requirements was to make this form work via Ajax, all examples I found on Internet was form that related to node. </p>\n\n<p>So when I tried to apply the same concept, I faced the problem of rendering the form, so I have passed it to the template as a parameter like this:</p>\n\n<pre><code>$vars['node']-&gt;contactForm = drupal_get_form('nilecode_form');\n</code></pre>\n\n<p>When I render the form by using <code>drupal_render_children($node-&gt;contactForm)</code>, all the fields were rendered but with no wrapping form tag.</p>\n\n<p>So after frustration, and not very useful IRC chats, I am thinking to do it by using normal Ajax request.</p>\n\n<p>Before doing so is there any solution, before doing it the bad way?</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","ajax","caching","safari","ios6"],"answer_count":18,"favorite_count":202,"up_vote_count":536,"down_vote_count":1,"view_count":67636,"score":535,"question_id":12506897,"title":"Is Safari on iOS 6 caching $.ajax results?","body":"<p>Since the upgrade to iOS 6, we are seeing Safari's web view take the liberty of caching <code>$.ajax</code> calls. This is in the context of a PhoneGap application so it is using the Safari WebView. Our <code>$.ajax</code> calls are <code>POST</code> methods and we have cache set to false <code>{cache:false}</code>, but still this is happening. We tried manually adding a timestamp to the headers but it did not help.</p>\n\n<p>We did more research and found that Safari is only returning cached results for web services that have a function signature that is static and does not change from call to call.  For instance, imagine a function called something like:</p>\n\n<pre><code>getNewRecordID(intRecordType)\n</code></pre>\n\n<p>This function receives the same input parameters over and over again, but the data it returns should be different every time.</p>\n\n<p>Must be in Apple's haste to make iOS 6 zip along impressively they got too happy with the cache settings.  Has anyone else seen this behavior on iOS 6? If so, what exactly is causing it?</p>\n\n<hr>\n\n<p>The workaround that we found was to modify the function signature to be something like this:</p>\n\n<pre><code>getNewRecordID(intRecordType, strTimestamp)\n</code></pre>\n\n<p>and then always pass in a timestamp parameter as well, and just discard that value on the server side.  This works around the issue.  I hope this helps some other poor soul who spends 15 hours on this issue like I did!</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13195013,"title":"Hot to add a row dynamically using ajax?","body":"<p>I have two text box which is storing in database using AJAX. But I want to return back the new added row in table structure.   </p>\n\n<p>I am using this concept in add product to sell . when I want to add an item then it will be display in a tabular grid format.  </p>\n\n<p>This is my AJAX code.  </p>\n\n<pre><code>    var xmlHttp\n    function newVendorGridInital()\n    {\n    //alert(\"HI\");\n    xmlHttp=GetXmlHttpObject()\n    if (xmlHttp==null)\n     {alert (\"Browser does not support HTTP Request\"); return } \n\n    var  item= document.getElementById('itemcode').value;\n    var url=\"ajax_NewVendorGrid.php\"\n    url=url+\"?itm=\"+item; // For multiple value send.\n\n    url=url+\"&amp;sid=\"+Math.random()\n\n    xmlHttp.onreadystatechange=newVendorGrid\n    xmlHttp.open(\"GET\",url,true)\n    xmlHttp.send(null)\n} \n\nfunction newVendorGrid() \n{ \nif (xmlHttp.readyState==4 || xmlHttp.readyState==\"complete\")\n {\n    document.getElementById(\"GridRuntimeData\").innerHTML=xmlHttp.responseText;\n           &gt; &gt; &gt; I didn't understand how to target the id field &gt; &gt; &gt; GridRuntimeData \n } \n}\n</code></pre>\n\n<p>In my html page I have created a table structure i.e. head part.</p>\n\n<p>In my PHP file I am returning the entire inserted row in a html row format using echo statement.  </p>\n\n<pre><code>    &lt;?php   \n     echo \"&lt;tr&gt;&lt;td&gt;\".$item.\"&lt;/td&gt;&lt;/tr&gt;\";\n    ?&gt;  \n</code></pre>\n\n<p>and my doubt is how to show that row in table. If I write entire table structure in php code then it will be working fine. But i don't want do all the time to return entire row.  </p>\n\n<p>Please Help me. </p>\n"},{"tags":["ajax","json","api","rest","shopify"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":146,"score":1,"question_id":11626592,"title":"Shopify API: Importing a JSON formatted list of products through a private app","body":"<p>Essentially I have a file with a list of products I would like to add to my shopify store, I'm fairly certain it's formatted correctly although if it isn't please tell me what to fix. I was wondering how using a POST request through a private app I could get these onto my store. The file looks like this: </p>\n\n<pre><code>{\n\"product\": {\n    \"title\": \"TITLE HERE\",\n    \"body_html\": \"DESCRIPTION HERE\",\n    \"vendor\": \"VENDOR HERE\",\n    \"product_type\": \"PRODUCT TYPE HERE\",\n    \"variants\": {\n        \"option1\": \"Default\",\n        \"price\": \"PRICE HERE\"\n    },\n    \"images\": {\n        \"src\": \"LINK TO IMAGE HERE\"\n    }\n},\n\"product\": {\n    \"title\": \"TITLE HERE\",\n    \"body_html\": \"DESCRIPTION HERE\",\n    \"vendor\": \"VENDOR HERE\",\n    \"product_type\": \"PRODUCT TYPE HERE\",\n    \"variants\": {\n        \"option1\": \"Default\",\n        \"price\": \"PRICE HERE\"\n    },\n    \"images\": {\n        \"src\": \"LINK TO IMAGE HERE\"\n    }\n},\n\"product\": {\n    \"title\": \"TITLE HERE\",\n    \"body_html\": \"DESCRIPTION HERE\",\n    \"vendor\": \"VENDOR HERE\",\n    \"product_type\": \"PRODUCT TYPE HERE\",\n    \"variants\": {\n        \"option1\": \"Default\",\n        \"price\": \"PRICE HERE\"\n    },\n    \"images\": {\n        \"src\": \"LINK TO IMAGE HERE\"\n    }\n},\n</code></pre>\n\n<p>and so on... \nThis file is named \"products.json\". Is there any POST request that would allow me to just submit this file, or would I have to process and break it down somehow and feed it to the API using PHP or Ruby...I spent the greater part of a day extracting all 500+ products out of a corrupted MySQL CMS backup and getting them all cleaned up in JSON (using PHP and some regex), so a pain free solution would be much appreciated. </p>\n"},{"tags":["jquery","ajax","post"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13194789,"title":"Why I can't access global variables within a returned function $.post - jquery?","body":"<pre><code>var strTest = '';\n\n$.post(\n    'test.php', \n    { post_test : 1 },\n    function(data) {\n        strTest = data.split('a');\n\n        $.post(\n            'test_2.php', \n            { post_test_2 : 2 },\n            function(sData) {\n                alert(strTest);\n            }\n        );\n    }\n);\n</code></pre>\n\n<p><code>strTest</code> - is empty! Why?</p>\n"},{"tags":["asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13194269,"title":"I can't set left and top style property on ajaxtoolkit htmleditorextender","body":"<p>I can't set left and top style property on ajaxtoolkit htmleditorextender..</p>\n\n<p>it refers to a TargetControlID like this:</p>\n\n<pre><code> &lt;asp:TextBox ID=\"TextBox2\"  style=\"position:relative;left:100px;top:80px\" runat=\"server\" Height=\"228px\" Width=\"483px\"&gt;&lt;/asp:TextBox&gt;\n</code></pre>\n\n<p>but once the extender is added </p>\n\n<p>\n        </p>\n\n<p>the textbox loses it's position</p>\n\n<p>thanks a lot.</p>\n"},{"tags":["ajax","primefaces"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3706,"score":2,"question_id":5951746,"title":"how does PrimeFaces' AjaxStatus work?","body":"<p>I am trying to understand PrimeFaces' AjaxStatus indicator.</p>\n\n<p>There are two facets - start and complete.</p>\n\n<p>Can anybody tell me, what really determines start and complete.</p>\n\n<p>I am just trying to make the indicator GIF image visible when user clicks a button and make it disappear when he click another button.</p>\n\n<p>If whatever I am trying to achieve does not make any sense, an explanation would be really helpful.</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","ajax","sqlite","phonegap"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":32,"score":-2,"question_id":13193198,"title":"who has an idea about PhoneGap storage","body":"<p>I am trying to develop an android application, and this script will copy a database table on my phone, but after the execution he displays this error below</p>\n\n<pre><code>//---------------Copier-------------------------    \n\n $.ajax({\n         type: \"POST\",\n         url: \"http://10.0.2.2:1998/bYzance_web_service/get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\",\n         contentType: \"application/json; charset=utf-8\",\n         dataType: \"json\",\n         async : false,\n         success: function (data)\n          {\n             alert(\"success: function (data)\");\n\n             var result = $.parseJSON(data.d); \n\n             alert(result[0].Phrase);\n\n             for (i = 0; i &lt; result.length; i++) \n             {                 \n                 tx.executeSql(\"INSERT INTO PhrasesTypes (idPhrase,idPhraseES,idRubrique,idTypeTravauxAffichage,Phrase,AidePhrase,AvertissementPhrase,OrdrePhrase,QuotationParDefaut,Published)\"\n+  \" VALUES ('\"+result[i].IdPhrase+\"',' \"+result[i].IdPhraseES+\" ',' \"+result[i].IdRubrique+\" ',' \"+result[i].IdTypeTravauxAffichage+\" ','\"+mysql_real_escape_string(result[i].Phrase)+\"',' \"+result[i].AidePhrase+\" ',' \"+result[i].AvertissementPhrase+\" ','\"+result[i].OrdrePhrase+\"','\"+result[i].QuotationParDefaut+\"','\"+result[i].Published+\" ')\");\n       console.log(i);\n    }\n\n         },\n         error: function (e)\n          {\n            alert(\"URL du web service:  \"+serviceURL+\"get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\");\n\n         }\n\n     });//fin Ajax\n</code></pre>\n\n<blockquote>\n  <p>sqlite returned : error code =1, msg near \"accunedifined\" : syntax\n  error</p>\n</blockquote>\n"},{"tags":["php","jquery","ajax","yii"],"answer_count":4,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":7668,"score":7,"question_id":6348581,"title":"Yii ajaxSubmitButton() with fields validation","body":"<p>I'm using Yii ajaxSubmitButton() to submit a form. Besides, I have set the 'enableAjaxValidation' parameter to true to validate the corresponding textboxes.</p>\n\n<p>What I am able to do:</p>\n\n<ol>\n<li>Validate the field when the focus leaves it, asynchronously.</li>\n<li>Invoke the server side method when the button is clicked, asynchronously.</li>\n</ol>\n\n<p>The problem is that I don't know how to perform the fields validation when the submit button is clicked and, if the model is validated, perform a partial rendering in client side.</p>\n\n<p>If I override the 'success' event in ajaxSubmitButton, I get the partial rendering, but I can't maintain the model validation..</p>\n\n<p>Any help?</p>\n\n<hr>\n\n<p>EDIT</p>\n\n<p>Thanks for the reply,</p>\n\n<p>The validateOnSubmit flag is already set and the model would be validated correctly if the 'success' event was not set.</p>\n\n<p>When the ajaxSubmitButton is like this:</p>\n\n<pre><code>&lt;?php echo CHtml::ajaxSubmitButton( 'Send',\n                                        CHtml::normalizeUrl(array('site/ajaxIndexSubmit')),\n                                        array(\n                                        'error'=&gt;'js:function(){\n                                            alert(\\'error\\');\n                                        }',\n                                        'beforeSend'=&gt;'js:function(){\n                                            alert(\\'beforeSend\\');\n                                        }',\n                                        'success'=&gt;'js:function(data){\n                                            alert(\\'success, data from server: \\'+data);\n                                        }',\n                                        'complete'=&gt;'js:function(){\n                                            alert(\\'complete\\');\n                                        }',\n                                        //'update'=&gt;'#where_to_put_the_response',\n                                        )\n                                    );\n    ?&gt;\n</code></pre>\n\n<p>the alert('success') will print the string corresponding to the model validation. Once I have that string, what logic must be invoken in client side?</p>\n\n<p>The reason to override the 'success' javascript handler is to receive a partial rendering from the server, different to the model validation. I want both things: validation and partial rendering.</p>\n"},{"tags":["javascript","jquery","ajax","datatables"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12404247,"title":"Code after ajax (code) block needs a delay","body":"<p>I had a long question along with my complete code but now it is shorter one.</p>\n\n<pre><code>  function showRecord(tbl) {\n    myDataTable.fnDestroy();\n    $.ajax(\n    {\n        data: \"tableName=\" + tbl,\n        url: \"showTable.php\",\n        dataType: \"html\",\n        success: function (data) { $(\"#example\").html(data); }\n    });\n    alert('I get desired output as long as I do not comment/remove this alert');\n    myDataTable = $('#example').dataTable();\n}\n</code></pre>\n\n<p><strong>BUT</strong> if i just comment the <code>alert</code> I do not get data from database</p>\n\n<p>If I do not use <code>$('#example').dataTable();</code> (a jquery plugin for pagination from <a href=\"http://datatables.net\" rel=\"nofollow\">datatables.net</a> ) then code works fine without alert.</p>\n\n<pre><code>function showRecord(tbl) {\n    //myDataTable.fnDestroy();\n    $.ajax(\n    {\n        data: \"tableName=\" + tbl,\n        url: \"showTable.php\",\n        dataType: \"html\",\n        success: function (data) { $(\"#example\").html(data); }\n    });\n  //alert('I get desired output as long as I do not comment/remove this alert');\n  //myDataTable = $('#example').dataTable();\n}\n</code></pre>\n\n<p>I need to know why alert is necessary in first sample of code. If it causes delay, why delay is necessary here and how to achieve this without using <code>alert</code></p>\n"},{"tags":["javascript","jquery","ajax","multithreading","asynchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":13175068,"title":"2 or more async requests in javascript to load image or do anything else","body":"<p>Single request and response model at one time do not utilizes full network/internet bandwidth, thus resulting in low performance. (benchmark is of half speed utilization)</p>\n\n<p><strong>how to make this code use 2 or 3 or more async requests instead of one.(ajax)</strong>\nor do i need multi threading? and is it possible in javascript?</p>\n\n<p>(<strong>this is for making a video out of an ip</strong> )\nevery time the image changes on request. and yes i need to be async with multiple fetch requests (not single as i explained above) or you recomend threads?</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;  &lt;script language=\"JavaScript\"&gt;\n    // Global vars\n    img = 'http://pastebin.com/i/t.gif';\n    timeout = 1000;\n    next = 0;\n\n    function onLoad( ) {\n        setTimeout( 'reloadImage( )', timeout );\n    }\n\n    // Reloader\n    function reloadImage( ) {\n        next = ( new Date( ) ).getTime( ) + timeout;\n        document.images.dv.src = img + \"?\" + next;\n    }\n    &lt;/script&gt;\n    &lt;/head&gt; \n\n    &lt;body&gt;\n    &lt;img src=\"img\" name=\"dv\" onLoad=\"onLoad( )\"&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\n\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div id=\"container\"&gt;&lt;/div&gt;\n\n&lt;script language=\"JavaScript\"&gt;\nvar canLoad = true;\nvar container = document.getElementById(\"container\");\nvar image = document.createElement(\"img\");\nimage.onload = function() {\n    canLoad = true;\n    console.log(\"Image reloaded.\");\n}\nvar imageUrl = \"http://url/snapshot.jpg\";\nvar fps = 2;\n\ncontainer.appendChild(image);\n\nfunction loadImage() {\n    if (canLoad) {\n    canLoad = false;\n    var str = new Date().getTime();\n    image.setAttribute(\"src\", imageUrl + \"?\" + str);\n    console.log(\"Reloaded now.\");\n    } else {\n    console.log(\"Can't reload now.\");\n    }\n}\n\nsetInterval(loadImage, fps); // 30 fps\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["ajax","jsf-2","primefaces"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":13157424,"title":"Primefaces commandButton calls action method on page refresh","body":"<p><strong>Completely edited:</strong>\nMaybe I was mixing problems and misinterpreted. After simplifying my code the question simplifies to: How can I prevent the <code>&lt;p:commandButton&gt;</code> from executing it's action method on page refresh (like when you hit F5 inside browser window)?</p>\n\n<p>JSF Code:  </p>\n\n<pre><code>   &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n        xmlns:h=\"http://java.sun.com/jsf/html\"\n        xmlns:f=\"http://java.sun.com/jsf/core\"\n        xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n        xmlns:p=\"http://primefaces.org/ui\"&gt;\n    &lt;h:body&gt;\n        &lt;h:form&gt;\n            &lt;h:outputText value=\"#{bugBean.number}\" /&gt;\n            &lt;h:outputText value=\"#{bugBean.isComplete()}\" /&gt;\n            &lt;p:commandButton id=\"entryCommand\" value=\"add\"\n                action=\"#{bugBean.increase()}\" update=\"@form\" oncomplete=\"#{bugBean.complete()}\"/&gt;\n        &lt;/h:form&gt;\n    &lt;/h:body&gt;\n    &lt;/html&gt; \n</code></pre>\n\n<p>backing bean code:  </p>\n\n<pre><code>  package huhu.main.managebean;\nimport java.io.Serializable;\nimport javax.enterprise.context.SessionScoped;\nimport javax.inject.Named;\n\n@Named\n@SessionScoped\npublic class BugBean implements Serializable {\n\n   private static final long serialVersionUID = 1L;\n   private int number;\n   private boolean isComplete = false;\n\n   public void increase(){\n      number++;\n   }\n\n   public void complete(){\n      isComplete = true;\n   }\n\n   public int getNumber() {\n      return number;\n   }\n\n   public void setNumber(int number) {\n      this.number = number;\n   }\n\n   public boolean isComplete() {\n      return isComplete;\n   }\n\n   public void setComplete(boolean isComplete) {\n      this.isComplete = isComplete;\n   }\n}\n</code></pre>\n\n<p><strong>Update:</strong>\nEven if I remove the <code>oncomplete</code> stuff like this an click the <code>&lt;p:commandButton&gt;</code> just once, the counter goes up on every page refresh.</p>\n\n<pre><code>&lt;h:form&gt;\n        &lt;h:outputText value=\"#{bugBean.number}\" /&gt;\n        &lt;p:commandButton id=\"entryCommand\" value=\"add\"\n            action=\"#{bugBean.increase()}\" update=\"@form\"/&gt;\n    &lt;/h:form&gt;\n</code></pre>\n"},{"tags":["android","ajax","json","phonegap","cross-domain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":572,"score":0,"question_id":11641442,"title":"phonegap jQuery .ajax cross domain requests work in browser, fail in Android SDK","body":"<p>I've been on this now for three days, and I've tried pretty much every piece of alternative code and fixes to no avail. </p>\n\n<p>Here's the code, taken from bog-standard jQuery examples:</p>\n\n<pre><code>    $.ajax({\n            url: \"http://api.wunderground.com/api/4213a68e7f20c998/geolookup/conditions/forecast/q/Australia/Noarlunga.json\",\n            dataType: \"jsonp\",\n            success: function(parsed_json) {\n               alert(\"YEP!\");\n               var loc = parsed_json['response'];\n               var weather = \"Location: \" + parsed_json.location.city + \"&lt;br /&gt;\";\n               weather += \"Wind: \" + parsed_json.current_observation.wind_dir + \" \";\n               weather += parsed_json.current_observation.wind_mph + \"-\" + parsed_json.current_observation.wind_gust_mph + \" knts\";\n               $(\"#info\").html(weather);\n           }    \n    });\n</code></pre>\n\n<p>and here's some config that lots of people suggested ( which did nothing )</p>\n\n<pre><code>    $( document ).bind( \"mobileinit\", function() {\n        // Make your jQuery Mobile framework configuration changes here!\n        $.mobile.allowCrossDomainPages = true;\n        $.mobile.ajaxEnabled = true;\n        $.mobile.pushStateEnabled = false;\n        $.mobile.allowCrossDomainPages = true;  \n    });\n</code></pre>\n\n<p>In addition, I have:</p>\n\n<ul>\n<li><p>added &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;   to the AndroidManifest.xml file</p></li>\n<li><p>tested the json request URL in the browser on the same target ( works fine )</p></li>\n<li>tested the page in FireFox / Chrome ( works fine )</li>\n<li>tried the app on my Galaxy s2 over 3G ( UI all works fine but ajax request STILL fails )</li>\n</ul>\n\n<p>Note this isn't the complete code, but it's just sitting in a standard phonegap deviceready listener event function wrapped in a standard .ready() function.</p>\n\n<p>The fact this fails on my phone AND the SDK would seem to indicate a phonegap / Eclipse issue, and not a connection / permission issue.</p>\n\n<p>I am trying to deploy to an Android 2.3 AVD, using the Android SDK. I haven't tried deploying to an Android 4 AVD yet.</p>\n\n<p>I'd love it if anyone knows what the problem is because I've run out of suggestions to try!</p>\n"},{"tags":["javascript","ajax","file-upload","apache-commons"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13192680,"title":"Pure JS Ajax based file upload using apache commons fileupload","body":"<p>I am in need of a XLS file upload program. The flow is like:</p>\n\n<ol>\n<li>User browse and selects file in a HTML page. Clicks Upload button.</li>\n<li>Ajax based request sends request (XHR) to Servlet for upload.</li>\n<li>Servlet uses Apache commons.fileupload API to upload the same.</li>\n<li>I need to process the file further after upload completion like Inserting data of XLS into database. I already have methods written for it.</li>\n<li>Send back a status i.e. number of inserts/fails.\n6 Display an alert in HTML with the status.</li>\n</ol>\n\n<p>Notes:\nI don't want to use jQuery or any other plugin. Just pure JS, HTML and Servlet.\nI don't need to show any progress of upload.\nI can even get rid of apache commons lib and use any possible simple Servlet solutions.</p>\n"},{"tags":["jquery","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":85,"score":-1,"question_id":13192217,"title":"jQuery .html doesn't work","body":"<p>I have a trouble with easy jQuery script, it doesn't load result. <br><br>\nScript:<br></p>\n\n<pre><code>$(document).ready(function() {\n$.ajax(\n{\n    type: 'POST',\n    data:\"id=10\", \n    url: \"logs.php\",\n    success: function(result) \n    {\n        $(\"#logs\").html(result);\n    }\n});\n</code></pre>\n\n<p>\n<br><br>\n What's the problem?</p>\n"},{"tags":["html","ajax","forms","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13191807,"title":"Yii Framework - render CActiveForm without the form tag","body":"<p>In my next application, I want to dynamically load CActiveForms into other CActiveForms with AJAX.</p>\n\n<p>Therefore, I create different form views like this:</p>\n\n<pre><code>$form = $this-&gt;beginWidget('CActiveForm', [...]\n</code></pre>\n\n<p>But it always renders the  tag. This results in nested forms:</p>\n\n<pre><code>&lt;form id=\"form1\"&gt;\n    &lt;form id=\"form2\"&gt;\n    &lt;/form&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>How do i prevent the CActiveForm from rendering the form tag for form2?</p>\n"},{"tags":["jquery","ajax","ipad","safari"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13191744,"title":"ajax not working on ipad","body":"<p>I have a form:</p>\n\n<pre><code>&lt;form id=\"orderForm\" onsubmit=\"return prepareOrder(this);\" action='@ConfigurationManager.AppSettings[\"EpayLogonUrl\"]' method=\"POST\"&gt;\n         &lt;input type=\"hidden\" name=\"Signed_Order_B64\" value=\"\"&gt;\n         &lt;input type=\"hidden\" name=\"email\" size=\"50\" maxlength=\"50\" value=\"@Model.Email\"&gt;\n         &lt;input type=\"hidden\" name=\"appendix\" value=\"@Model.AppendixInfo\"&gt;\n         &lt;button class=\"wiz_button\" type=\"submit\" disabled=\"disabled\"&gt;\n         &lt;span&gt;&lt;span id=\"buy_button_name\"&gt;Buy&lt;/span&gt;&lt;/span&gt;&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and a function PrepareOrder</p>\n\n<pre><code>function prepareOrder(form) {\n    var selectedPayWay = $('.pay_cont.selected').data('way');\n    var result;\n    $.ajax({\n        type: 'POST',\n        url: '/Pay/CreateOrder',\n        data: { payWay: selectedPayWay },\n        success: function (response) {\n            if (response.IsSuccess) {\n                switch (selectedPayWay) {\n                    case payWay.Terminal:\n                        showBookingInfo(response.BookingId, response.ExpiredDate);\n                        result = false;\n                        break;\n                    case payWay.Epay:\n                        $(\"input[type=hidden][name=Signed_Order_B64]\").val(response.SignedString);\n                        $(\"input[type=hidden][name=appendix]\").val(response.AppendixString);\n                        result = true;\n                        break;\n                }\n\n            } else {\n                toastr.options.timeOut = 10000;\n                toastr.info(response.Message);\n                result = false;\n            }\n        },\n        error: function () {\n            result = false;\n        },\n        async: false\n    });\n\n    return result;\n}\n</code></pre>\n\n<p>The problem is that on a new ipad (Safari) <code>CreateOrder</code> action is not called. On the desktop browser, it works fine. There are no errors in console. I tried to add an alert after:</p>\n\n<pre><code>success: function (response) {\n</code></pre>\n\n<p>like that:</p>\n\n<pre><code>success: function (response) {\nalert(response.IsSuccess)\n</code></pre>\n\n<p>and <code>alert</code> return me <code>true</code>. Why? if <code>CreateOrder</code> is not called. I also added logging to <code>CreateOrder</code> action and there are no output strings.</p>\n"},{"tags":["javascript","ajax","wordpress","url","hashchange"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":50,"score":3,"question_id":13163497,"title":"URL hashchange problems with ajax loading","body":"<p>I have a functional wordpress theme that loads content via ajax. One issue that I'm having though is that when pages are loaded directly the ajax script no longer works.  For example the link structure works as follows, while on www.example.com and the about page link is clicked then the link becomes www.example.com/#/about.  But when I directly load the standalone page www.example.com/about, the other links clicked from this page turn into www.example.com/about/#/otherlinks. I modified the code a little bit from this tutuorial <a href=\"http://www.deluxeblogtips.com/2010/05/how-to-ajaxify-wordpress-theme.html\" rel=\"nofollow\">http://www.deluxeblogtips.com/2010/05/how-to-ajaxify-wordpress-theme.html</a>. Here is my code. Thanks for the help.</p>\n\n<pre><code>jQuery(document).ready(function($) {\nvar $mainContent = $(\"#container\"),\n    siteUrl = \"http://\" + top.location.host.toString(),\n    url = ''; \n\n$(document).delegate(\"a[href^='\"+siteUrl+\"']:not([href*=/wp-admin/]):not([href*=/wp-login.php]):not([href$=/feed/]))\", \"click\", function() {\n    location.hash = this.pathname;\n    return false;\n}); \n\n$(window).bind('hashchange', function(){\n    url = window.location.hash.substring(1); \n\n    if (!url) {\n        return;\n    } \n\nurl = url + \" #ajaxContent\"; \n\n    $mainContent.fadeOut(function() {\n        $mainContent.load(url,function(){\n            $mainContent.fadeIn();\n        });        \n      });\n    });\n\n  $(window).trigger('hashchange');\n\n});\n</code></pre>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":72,"score":-1,"question_id":13159550,"title":"Using AJAX to require a specific php file","body":"<p>I have 3 clickable menu items on my page:</p>\n\n<blockquote>\n  <ul>\n  <li>option1</li>\n  <li>option2</li>\n  <li>option3</li>\n  </ul>\n</blockquote>\n\n<p>I also have 3 php files on my server:</p>\n\n<blockquote>\n  <ul>\n  <li>option1.php</li>\n  <li>option2.php</li>\n  <li>option3.php</li>\n  </ul>\n</blockquote>\n\n<p>To keep things simple, let's say option1.php echoes the number 1, option2.php echoes the number 2, etc.</p>\n\n<p>To avoid the page refreshing, I want to use AJAX, so when a user clicks option1, option1.php file will display the number 1. I hope I have made myself clear.</p>\n\n<p>What is a good way to do this?</p>\n\n<p><strong>EDIT:</strong> I've reviewed my question again and have come up with a solution.\nIn my php file that contains my menu items I added an update area div.</p>\n\n<pre><code>&lt;div id=\"update_area\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My external javascript file contains onclick events which call a function that sends the menu item number to be processed by my AJAX php file. This tests my</p>\n\n<pre><code>$_GET[sent_data]\n</code></pre>\n\n<p>and if (for example) it equals 1, then it uses</p>\n\n<pre><code>require \"option1.php\";\n</code></pre>\n\n<p>Now that the functionality is working I can independently edit my option?.php files.</p>\n\n<p>I've voted SomeKittens answer as the one that was most helpful.</p>\n"},{"tags":["php","ajax","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":29,"score":-5,"question_id":13181046,"title":"fill a table from a form","body":"<p>I actually have a form which the user selects an analyst and input a percentage to assign a set of alerts to an analyst for processing. would I retrieve the data in a table.\nWho can help me I'm really stuck\nThank you.</p>\n"},{"tags":["javascript","jquery","ajax","debugging","fancybox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13190846,"title":"Fancybox - \"The requested content cannot be loaded.\"","body":"<p>I'm experiencing a problem with Fancybox on my portfolio. It works on every page but one - <a href=\"http://pandadol.com/candyshop.html\" rel=\"nofollow\">http://pandadol.com/candyshop.html</a>.</p>\n\n<p>Images 7, 8, 9, 11, 12, 13, 23, 24, 25, 27 give me a \"requested content cannot be loaded error\", and opening them up in a new tab returns \"You don't have permission to access /pics/candyshop/7.jpg on this server. Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.\"</p>\n\n<p>All the images are definitely on the server. Here is the code -</p>\n\n<pre><code>&lt;script language=\"javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;script type='text/javascript'&gt;\n\n$(document).ready(function(){\n\n// iOS Hover Event Class Fix\nif((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || (navigator.userAgent.match(/iPad/i))) {\n$(\".menu\").click(function(){  // Update class to point at the head of the list\n});\n\n}\n\n});\n\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nvar _gaq = _gaq || [];\n_gaq.push(['_setAccount', 'UA-24042513-1']);\n_gaq.push(['_trackPageview']);\n\n(function() {\nvar ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\nga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\nvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n})();\n\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        !window.jQuery &amp;&amp; document.write('&lt;script src=\"jquery-1.4.3.min.js\"&gt;&lt;\\/script&gt;');\n    &lt;/script&gt;\n\n        &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;link rel=\"stylesheet\" href=\"/fancybox/jquery.fancybox.css\" type=\"text/css\" media=\"screen\" /&gt;\n        &lt;script type=\"text/javascript\" src=\"/fancybox/jquery.fancybox.pack.js\"&gt;&lt;/script&gt;\n&lt;/script&gt;\n\n\n\n\n    &lt;!-- Add jQuery library --&gt;\n    &lt;script type=\"text/javascript\" src=\"../lib/jquery-1.8.0.min.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Add mousewheel plugin (this is optional) --&gt;\n    &lt;script type=\"text/javascript\" src=\"../lib/jquery.mousewheel-3.0.6.pack.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Add fancyBox main JS and CSS files --&gt;\n    &lt;script type=\"text/javascript\" src=\"../source/jquery.fancybox.js?v=2.1.0\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../source/jquery.fancybox.css?v=2.1.0\" media=\"screen\" /&gt;\n\n    &lt;!-- Add Button helper (this is optional) --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../source/helpers/jquery.fancybox-buttons.css?v=1.0.3\" /&gt;\n    &lt;script type=\"text/javascript\" src=\"../source/helpers/jquery.fancybox-buttons.js?v=1.0.3\"&gt;&lt;/script&gt;\n\n    &lt;!-- Add Thumbnail helper (this is optional) --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../source/helpers/jquery.fancybox-thumbs.css?v=1.0.6\" /&gt;\n    &lt;script type=\"text/javascript\" src=\"../source/helpers/jquery.fancybox-thumbs.js?v=1.0.6\"&gt;&lt;/script&gt;\n\n    &lt;!-- Add Media helper (this is optional) --&gt;\n    &lt;script type=\"text/javascript\" src=\"../source/helpers/jquery.fancybox-media.js?v=1.0.3\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function() {\n            /*\n             *  Simple image gallery. Uses default settings\n             */\n\n            $('.fancybox').fancybox();\n\n            /*\n             *  Different effects\n             */\n\n            // Change title type, overlay closing speed\n            $(\".fancybox-effects-a\").fancybox({\n                helpers: {\n                    title : {\n                        type : 'outside'\n                    },\n                    overlay : {\n                        speedOut : 0\n                    }\n                }\n            });\n\n            // Disable opening and closing animations, change title type\n            $(\".fancybox-effects-b\").fancybox({\n                openEffect  : 'none',\n                closeEffect : 'none',\n\n                helpers : {\n                    title : {\n                        type : 'over'\n                    }\n                }\n            });\n\n            // Set custom style, close if clicked, change title type and overlay color\n            $(\".fancybox-effects-c\").fancybox({\n                wrapCSS    : 'fancybox-custom',\n                closeClick : true,\n\n                openEffect : 'none',\n\n                helpers : {\n                    title : {\n                        type : 'inside'\n                    },\n                    overlay : {\n                        css : {\n                            'background' : 'rgba(238,238,238,0.85)'\n                        }\n                    }\n                }\n            });\n\n            // Remove padding, set opening and closing animations, close if clicked and disable overlay\n            $(\".fancybox-effects-d\").fancybox({\n                padding: 0,\n\n                openEffect : 'elastic',\n                openSpeed  : 150,\n\n                closeEffect : 'elastic',\n                closeSpeed  : 150,\n\n                closeClick : true,\n\n                helpers : {\n                    overlay : null\n                }\n            });\n\n            /*\n             *  Button helper. Disable animations, hide close button, change title type and content\n             */\n\n            $('.fancybox-buttons').fancybox({\n                openEffect  : 'none',\n                closeEffect : 'none',\n\n                prevEffect : 'none',\n                nextEffect : 'none',\n\n                closeBtn  : false,\n\n                helpers : {\n                    title : {\n                        type : 'inside'\n                    },\n                    buttons : {}\n                },\n\n                afterLoad : function() {\n                    this.title = 'Image ' + (this.index + 1) + ' of ' + this.group.length + (this.title ? ' - ' + this.title : '');\n                }\n            });\n\n\n            /*\n             *  Thumbnail helper. Disable animations, hide close button, arrows and slide to next gallery item if clicked\n             */\n\n            $('.fancybox-thumbs').fancybox({\n                prevEffect : 'none',\n                nextEffect : 'none',\n\n                closeBtn  : false,\n                arrows    : false,\n                nextClick : true,\n\n                helpers : {\n                    thumbs : {\n                        width  : 50,\n                        height : 50\n                    }\n                }\n            });\n\n            /*\n             *  Media helper. Group items, disable animations, hide arrows, enable media and button helpers.\n            */\n            $('.fancybox-media')\n                .attr('rel', 'media-gallery')\n                .fancybox({\n                    openEffect : 'none',\n                    closeEffect : 'none',\n                    prevEffect : 'none',\n                    nextEffect : 'none',\n\n                    arrows : false,\n                    helpers : {\n                        media : {},\n                        buttons : {}\n                    }\n                });\n\n            /*\n             *  Open manually\n             */\n\n            $(\"#fancybox-manual-a\").click(function() {\n                $.fancybox.open('1_b.jpg');\n            });\n\n            $(\"#fancybox-manual-b\").click(function() {\n                $.fancybox.open({\n                    href : 'iframe.html',\n                    type : 'iframe',\n                    padding : 5\n                });\n            });\n\n            $(\"#fancybox-manual-c\").click(function() {\n                $.fancybox.open([\n                    {\n                        href : '1_b.jpg',\n                        title : 'My title'\n                    }, {\n                        href : '2_b.jpg',\n                        title : '2nd title'\n                    }, {\n                        href : '3_b.jpg'\n                    }\n                ], {\n                    helpers : {\n                        thumbs : {\n                            width: 75,\n                            height: 50\n                        }\n                    }\n                });\n            });\n\n\n        });\n    &lt;/script&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n        $(\".fancybox\").fancybox();\n    });\n&lt;/script&gt;\n\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n    &lt;div id=\"wrapper\"&gt;\n        &lt;div class=\"header clear\"&gt;\n\n            &lt;h1 class=\"title\"&gt;&lt;a href=\"http://pandadol.com/\"&gt;RACHEL SHI&lt;br&gt;&lt;/a&gt;&lt;/h1&gt;\n            &lt;h1 class=\"title\"&gt;DESIGN + ILLUSTRATION&lt;/h1&gt;\n\n\n            &lt;ul class=\"menu\"&gt;\n                &lt;li class=\"first\"&gt;Menu&lt;div class=\"droparrow\"&gt;&lt;/div&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"http://pandadol.com/info.html\"&gt;about&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"http://twitter.com/pandadol\"&gt;@pandadol&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"http://pandadol.tumblr.com\"&gt;pandadol.tumbl&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"http://pinterest.com/pandadol\"&gt;pinterest&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"http://instagrid.me/pandadol\"&gt;instagram&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/cv.pdf\"&gt;cv&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n\n        &lt;/div&gt;\n\n&lt;div class=\"content\"&gt;\n\n            &lt;div class=\"post-meta\"&gt;\n\n\n               &lt;h1&gt;The Candy Shop Project&lt;/h1&gt;\n               &lt;div class=\"post-date\"&gt; 2012&lt;P&gt;\n                                &lt;b&gt;Personal&lt;/b&gt;&lt;br&gt;\nFor 5 months I was a sales assistant at a candy shop. I took any lull in activity to draw customers. Here are the results.\n               &lt;/div&gt;\n            &lt;/div&gt;\n\n\n\n\n                &lt;div class=\"post-content\"&gt;\n\n    &lt;p&gt;\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/1.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/1.jpg\" alt=\"\" / width=\"600px\"&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/2.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/2_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/3.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/3_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/4.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/4_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/5.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/5_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/6.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/6_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/7.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/7_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/8.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/8_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/9.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/9_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/10.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/10_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/11.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/11_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/12.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/12_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/13.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/13_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/14.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/14_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/15.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/15_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/16.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/16_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/17.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/17_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/19.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/19_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/18.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/18_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/20.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/20_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/21.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/21_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/22.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/22_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/23.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/23_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/24.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/24_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/25.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/25_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/26.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/26_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/27.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/27_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n        &lt;a class=\"fancybox\" href=\"../pics/candyshop/28.jpg\" data-fancybox-group=\"gallery\"&gt;&lt;img src=\"../pics/candyshop/28_s.jpg\" alt=\"\" /&gt;&lt;/a&gt;\n\n\n\n    &lt;/p&gt;\n\n             &lt;/div&gt;\n</code></pre>\n\n<p>Any advice would be appreciated. Thank you!</p>\n"},{"tags":["jquery","asp.net","ajax","webforms","qtip2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":11004888,"title":"qTip2 and atlas ajax (or just general ajax partial refresh) causes orphaned qTips","body":"<p>Bit long winded but bear with me:</p>\n\n<p>asp.net updatepanel enclosing form with many qTip2, some ajax based some not.</p>\n\n<p>So if I hover a qTip2 immediately after causing postback (which fires async update and refresh) the javascript in qtip starts to fire and on return creates the qtip but either because the event originating element no longer exists the qip just stays open (display:block) and appears top left of the document (i guess some code tries to work out .position but the element no longer has any).</p>\n\n<p>You can see the error here: http:// www.matclad.co.uk/brick-slip-blends.aspx</p>\n\n<p>Try i.e. click a design then as soon as you have done so move over one to the left or right. The qTip will just stay there. You can also do it when adding bricks though that is more difficult to time</p>\n\n<p>The code that is creating the qTip is:</p>\n\n<p>//function trimmed for brevity</p>\n\n<pre><code>    var els = $('div.pallet li.item .photo &gt; input, div.lower li.chosen-item .photo &gt; input');\n    els.click(function(){els.each(function(){$(this).qtip('destroy')});})\n\n    $('div.pallet li.item .photo &gt; input, div.lower li.chosen-item .photo &gt; input')\n    .each(function(){\n                    var id = $(this).parent().attr('rel'); \n                    $(this).qtip({\n                            content: {  text:'Loading...', \n                                        ajax: { contentType: 'application/json; charset=utf-8', \n                                                dataType: 'json', \n                                                url: '/brick-slip-blends.aspx/GetDataForSlip',\n                                                data: '{Id:' + id + '}', type: 'POST',\n                                                beforeSend: function(jqXHR, settings){\n                                                                    return !Sys.WebForms.PageRequestManager.getInstance().get_isInAsyncPostBack();\n                                                },\n                                                success: function(data, status){\n                                                                    this.set('content.text', data.d);\n\n                                                }, \n                                                complete: function(){} \n                                                } \n                            },\n                            hide: { event: 'click mouseout' },\n                            show: { delay: 500 }\n                        });\n                    });\n    $('.qt').click(function(){$(this).qtip('destroy');});\n    $('.qt').qtip();\n</code></pre>\n\n<p>note that in trying to work around this issue I am destroying other qtips in the selector on click but this is not fully working (though it has fixed it partially) and I have also been trying to do some stuff in the PageRequestManager methods (atlas ajax API)</p>\n\n<p>What sort of strategy should I use to get round this issue? Possible ajax queuing issue? global switch to cancel the creation (in a function passed into qtip)?</p>\n\n<p>Help please I have been struggling with this and any help would be appreciated.</p>\n\n<p>Regards,</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13189491,"title":"Interact with website visitors in real-time?","body":"<p>I'm trying to set up a page where users can perform different actions on a webpage while chatting with me.  I need to be able to have a live view of a particular DIV on the user's page that has tabs.  When I click a tab, it should update on their screen and when they click a tab, it should reflect on my screen.</p>\n\n<p>Finding a chat script was easy enough, but I'm struggling to locate on Google and Stack Overflow a basic script or code snippets to acheive this.  Perhaps I'm not using the correct terms.  Could someone please point me in the right direction?</p>\n"},{"tags":["php","jquery","ajax","search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13191234,"title":"Pushing data to a html list for search using ajax, jquery and php, codeigniter","body":"<p>First I want to show you guys what I am trying to do.<br>\nI am trying to create a search functionality in my application using AJAX, jquery and php\nand as for the framework I am using Codeigniter, but it's not necessary to be CI, this could be similar to all(well I suppose).</p>\n\n<p>I have this piece of code to observe a <code>focus</code> and <code>blur</code> event.</p>\n\n<pre><code>$(\"#searchbox\").on({\n    keyup : debounce(function(){\n        MSI.Interface.search();\n        },350,false),\n    blur  : function(){\n        $(\"#search_results\").hide();\n        }\n});\n</code></pre>\n\n<p>I have not finished it yet that is why the <code>blur</code> event has only <code>.hide()</code> . I can't think of what other else to include, maybe reset the <code>html</code> of the <code>#search_results</code> to make it blank, but I don't know if that is reasonable.</p>\n\n<p><strong>1st question:</strong> What do you think is a more reasonable solution for that?</p>\n\n<p>As you can see in the previous code, i have the debounce function, just to prevent per character request on the server, I wonder if that is correct.</p>\n\n<p>Then I have this <code>search</code> function </p>\n\n<pre><code>search : function() {\n    var keyword = $(\"#searchbox\").val();\n    if (keyword == '') {\n    } else {\n        $.ajax({\n            url : MSI.variables.base_url + 'search',\n            type: 'POST',\n            data: {\n                keyword : keyword\n            },\n            dataType : 'json',\n            success: function(output) {\n                $.each(output, function() { \n                    $.each(this, function(key, value){\n                        $(\"#search_results\").show().prepend(\"&lt;p&gt;\"+value+\"&lt;/p&gt;\");\n                    });\n                });\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>With that code, the script will be able to add contents to the <code>#search_results div</code>. </p>\n\n<p><strong>2nd Question:</strong> What do you think is a better solution for this?</p>\n"},{"tags":["ajax","ruby-on-rails-3","mobile","jquery-mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":11408866,"title":"rails 3, jquery mobile: param lost in ajax call (remote => true)","body":"<p>In a rails3 application with jquery mobile I am having a problem when using a link_to with :remote => true because the parameters passed in the link are ignored. I have been looking around in the several posts discussing problems between remote => true and jquery mobile but they don't seem to be exactly the same problem.</p>\n\n<p>Here the code:</p>\n\n<pre><code>&lt;%= link_to _('mobile|contacts|Show next'), mobile_contacts_path(:page =&gt; @my_relations.next.number),\n    :data =&gt; { :role =&gt; 'button', :remote =&gt; true}, :class =&gt; compact' %&gt;\n</code></pre>\n\n<p>When clicking the link in the phone the call is actually working fine and the view is rendered, only thing is that the :page parameter is not passed (so the \"page\" one is rendered again and again).</p>\n\n<pre><code>Started GET \"/de_de/mobile/contacts\" for 10.0.173.62 at Tue Jul 10 09:13:00 +0200 2012\n2012.07.10 09:13:00 - INFO - #14570: Processing by Mobile::ContactsController#index as JS\n2012.07.10 09:13:00 - INFO - #14570:   Parameters: {\"locale\"=&gt;\"de_de\"}\n</code></pre>\n\n<p>On the other hand the link is working fine when trying it in the desktop computer browser:</p>\n\n<pre><code>Started GET \"/de_de/mobile/contacts?page=3\" for 127.0.0.1 at Tue Jul 10 09:12:03 +0200 2012\n2012.07.10 09:12:03 - INFO - #14570: Processing by Mobile::ContactsController#index as JS\n2012.07.10 09:12:03 - INFO - #14570:   Parameters: {\"page\"=&gt;\"3\", \"locale\"=&gt;\"de_de\"}\n</code></pre>\n\n<p>The parameter is also passed when removing :remote => true from the link_to.</p>\n\n<p>Any ideas? Thanks!</p>\n"},{"tags":["ajax","youtube","xmlhttprequest","source-code","file-get-contents"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13183710,"title":"Why file_get_contents and cURL give a different result when called via ajax to grab YouTube source code?","body":"<p>I'm facing a strange issue when I try to grab YouTube source code with file_get_contents (or cURL) using ajax...</p>\n\n<p>The PHP file that grab the source code (get_source.php):</p>\n\n<pre><code>&lt;?php\n\nif (isset($_GET['video_id'])) {\n    $opts = array('http' =&gt;\n        array(\n            'method' =&gt; 'GET',\n            'header' =&gt; array('Accept-Language: en-us,en;q=0.8,fr-fr;q=0.5,fr;q=0.3', 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'),\n            'user_agent' =&gt; 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0',\n            'follow_location' =&gt; 1\n        )\n    );\n    $context = stream_context_create($opts);\n    $_SESSION['source'] = @file_get_contents('http://www.youtube.com/watch?v='.$_GET['video_id'], false, $context);\n}\n\n?&gt;\n</code></pre>\n\n<p>The ajax part:</p>\n\n<pre><code>$.ajax({\n    url: 'get_source.php?video_id='+ videoID,\n    error: function(jqXHR, textStatus, errorThrown) {\n        /* code executed here... */\n    }\n    success: function(data) {\n        /* code executed here... */\n    }\n});\n</code></pre>\n\n<p>If I type <code>www.mysite.com/get_source.php?video_id=xxxxxx</code> in my browser, <code>$_SESSION['source']</code> contains a version of the source code that I can parse to extract video infos (this is the version I need)... but when I call <code>get_source.php?video_id=xxxxxx</code> with ajax, the <code>$_SESSION['source']</code> contains a different version of the source code that doesn't contain the data I need.</p>\n\n<p>I encounter the same issue with cURL...</p>\n\n<p>Why the source codes are differents when I use ajax to call <code>get_source.php</code>? I also tried with a simple XMLHttpRequest to call get_source.php but with no success...</p>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","client-side","unobtrusive-validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13190498,"title":"Newly added Form Elements doesn't get binded for client side validation in MVC 3","body":"<p>I have AJAX Form in MVC 3.</p>\n\n<p>In Index view:</p>\n\n<pre><code>&lt;div id=\"ajaxcontactform\"&gt;\n      &lt;% Html.RenderPartial(\"ContactForm\", Model); %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>AJAX form on ContactForm Partial View</p>\n\n<pre><code>&lt;% using (Ajax.BeginForm(\"Contact\", new AjaxOptions()\n{\n   UpdateTargetId = \"ajaxcontactform\",\n   OnBegin = \"ShowProcessing\",\n   OnComplete = \"HideProessing\",\n   InsertionMode = InsertionMode.Replace\n}))\n{%&gt;\n&lt;%: Html.ValidationSummary()%&gt;\n&lt;%: Html.TextBoxFor(m =&gt; m.Name, new { Class = \"contacttextform\" })%&gt;\n&lt;%}%&gt;\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code> [HttpPost]\n    public ActionResult Contact(ContactForm form)\n    {\n        if (Request.IsAjaxRequest())\n        {\n             // on error\n            if (!ModelState.IsValid)\n                return PartialView(\"ContactForm\", form);\n\n           // TODO: My data processing code here  \n\n           // return partial view on success\n             return PartialView(\"ContactForm\", new ContactFormModel());   \n         }\n   }\n</code></pre>\n\n<p>my client side custom validation JavaScript code:\nI just referenced this file in master page. This code runs once when DOM get loaded/created once.</p>\n\n<pre><code>    $.validator.addMethod(\"phonenumber\", function (value, element, params) {\n\n    if (!value)\n        return true;\n    var regex = /^[\\s\\d\\+\\(\\)]+$/;\n    return regex.test(value);\n   });\n   jQuery.validator.unobtrusive.adapters.addBool(\"phonenumber\");\n</code></pre>\n\n<p>My client side validation works fine when I first load my page. However, once i submit my form successfully and try to submit my form again . My client side validation doesn't work and my form validate it server side.</p>\n\n<p>I want to bind my client side validation again after adding new element or re-render my partial view. </p>\n\n<p>Also, how should I clear my form values once it submitted successfully.</p>\n\n<p>Thanks,</p>\n"},{"tags":["javascript","jquery","ajax","fancybox","fancybox-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13188352,"title":"Load content with AJAX and Fancybox 2.0.6","body":"<p>I'm trying to load some content into a fancybox.</p>\n\n<p>the code form HTML:</p>\n\n<pre><code>&lt;form name=\"setdomainMarso\" id=\"setdomainMarso\" action=\"domains.php\" href=\"#inline\" method=\"post\"&gt;\n&lt;input type=\"text\" name=\"domain\" class=\"formwww\"/&gt;\n&lt;span class=\"Allwww\" href=\"#inline\"&gt;\n&lt;input type=\"submit\" value=\"Recherche\" class=\"submitwww\" href=\"#inline\"  /&gt;\n&lt;/span&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and code AJAX is:</p>\n\n<pre><code>// check domainsS name :\n$.ajax({\ntype: 'POST',\nurl: 'domains.php',\ndata: $(\"#setdomainMarso\").serialize(),\nsuccess: function(data) {\nif(data == \"Domain name is FREE!\") {\n$(\"#contact\").fadeOut(\"fast\", function(){\n$(this).before(\"&lt;p&gt;&lt;strong&gt;Your domain is free&lt;/strong&gt;&lt;/p&gt;\");\nsetTimeout(\"$.fancybox.close()\", 1000);\n});\n}\n}\n});\n</code></pre>\n\n<p>How can I load this content into my fancybox using AJAX ?</p>\n\n<p>and Thank you.</p>\n"},{"tags":["jquery","ajax","cors"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13180779,"title":"jquery + cross domain + ajax + webservice call","body":"<p>My webservice url is <a href=\"http://www.webservicex.net/globalweather.asmx\" rel=\"nofollow\">http://www.webservicex.net/globalweather.asmx</a></p>\n\n<p>and the operation is GetCitiesByCountry </p>\n\n<pre><code>$.ajax({\n            type: 'POST',\n            url: \"http://www.webservicex.net/globalweather.asmx?op=GetCitiesByCountry\",\n             data: \"{'CountryName':'\" + user + \"'}\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"jsonp\",\n            crossDomain: true,\n            success: function (msg, status) {\n                alert(\"successful\");\n                console.log(msg.d);\n            },\n            error: function (msg, status) {\n                alert(\"failure\");\n                console.log(\"failure\");\n                console.log(msg);\n                $('#myplace').html(\"The status is \" + status + \" with msg= \" + msg + \" .&lt;br /&gt;\" + msg.statusText + \" .&lt;br /&gt;\" + msg.responseText + \" .&lt;br /&gt;\" + msg.status);\n            }\n        });\n</code></pre>\n\n<p>but i am getting the following error.</p>\n\n<pre><code>The status is parsererror with msg= [object Object] .\nsuccess .\nundefined .\n200\n</code></pre>\n\n<p>when i put \"india\" as as the input.</p>\n\n<p>How to solve this issue..thanks in advance</p>\n"},{"tags":["c#","asp.net",".net","ajax","asp.net-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13189187,"title":"Could not load file or assembly 'Microsoft.Scripting.ExtensionAttribute...' after .NET 2 to 4 migration","body":"<p>I am in the process of converting quite a few .NET 2 ASP.NET web apps to .NET 4. One of the problems I've encountered during this process is the following error message - </p>\n\n<pre><code>Could not load file or assembly 'Microsoft.Scripting.ExtensionAttribute, Version=0.9.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified. \n</code></pre>\n\n<p>The error also highlights the line of code which is the culprit, which for me, in my ScriptManager - </p>\n\n<pre><code>&lt;asp:ScriptManager ID=\"ScriptManager1\" EnablePartialRendering=\"true\" runat=\"server\"&gt;\n&lt;/asp:ScriptManager&gt;\n</code></pre>\n\n<p>The strange thing I've noticed is that this error simply disappears as soon as the page is refreshed, but will reappear if I recycle the application pool (and I'm guessing if I publish the web app again).</p>\n\n<p>Most of my research has lead to dead ends, which mostly point the finger of blame to Umbraco (which is not being used at all) and IronPython (which I admit, is used in another project in the same solution, but not the project in question).</p>\n\n<p>I can't really have these web apps breaking every time I make a change to the site, does anyone have any ideas?</p>\n"},{"tags":["ajax","image","google-app-engine","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13114748,"title":"AJAX Based Dynamic Image Serving - Google App Engine Python 2.7","body":"<p>The instructions from Google about dynamically serving images with GAE are here: <a href=\"https://developers.google.com/appengine/articles/python/serving_dynamic_images\" rel=\"nofollow\">https://developers.google.com/appengine/articles/python/serving_dynamic_images</a>\nThe only problem is that this method does not use AJAX, and I don't think it is as efficient as I would expect.</p>\n\n<p>I am trying to use AJAX with GAE Python 2.7 to serve multiple images dynamically, but I am focusing on serving one right now.</p>\n\n<p>Python Server Side Code:</p>\n\n<pre><code>class GetImage(webapp2.RequestHandler):\n    def get(self):\n        problem = Problem.all()[0]\n        if(problem and problem.prompt_image):\n            self.response.headers['Content-Type'] = \"image/png\"\n            self.response.out.write(problem.prompt_image)\n</code></pre>\n\n<p>Client Side AJAX Code:</p>\n\n<pre><code>$.ajax({\n    url: \"/img\",\n    type: \"POST\",\n    dataType: \"html\",\n    success: function(msg){\n        $(\"#right\").append(\"&lt;img&gt;\"+msg+\"&lt;/img&gt;\");\n    }\n});\n</code></pre>\n\n<p>The problem that I am facing is that I don't know how to serve the blobstore contents via AJAX to the DOM. Can anyone point me in the right direction?</p>\n\n<p>Thanks!</p>\n\n<p>Edit: voscausa's solution seems to be on the right track. However, it requires a blob_key. My model is as follows:</p>\n\n<pre><code>class Problem(db.Model):\n    prompt_image = db.BlobProperty()\n</code></pre>\n\n<p>I can't seem to figure out how to get the Blob Key from the db.BlobProperty. Is this possible?</p>\n"},{"tags":["java","ajax","httpresponse"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13189035,"title":"Java Check if HttpResponse is Still Alive","body":"<p>Is there a way from a java servlet to check if the httpresponse is still \"alive?\" For instance, in my situation I send an ajax request from the browser over to a servlet. In this case its a polling request so it may poll for up to 5 minutes, when the servlet is ready to respond with data i'd like to check if the user has closed the browser window, or moved to another page etc. In other words, check to see if sending the data to the response will actually do anything.</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13188973,"title":"Incorporating a PHP variable directly into AJAX script without need of form submission","body":"<p>I am a relative novice and have been unsuccessful in solving an AJAX coding problem, so I thought that I would submit this for your expert help:</p>\n\n<p><strong>Current Setup: (Date value submitted by form to AJAX script)</strong></p>\n\n<p>A selected value (which is a date) is submitted from a dropdown form on the main page via the onchange event which calls an Ajax script on that same page which in turn passes the value to a separate PHP file (getuser.php). Getuser.php gets this date value to return information from a MySQL database displaying it in a table. The table from the getuser.php is subsequently displayed back on the main page in a div tag (tab1) as part of a JavaScript “glider”. This works fine in its present form, but it is not what I am ultimately trying to accomplish.</p>\n\n<p><strong>Desired Setup: (Date value passed to Ajax script from predefined PHP variable on main page load, not from form)</strong></p>\n\n<p>On loading the main page, the desired date value is already assigned to a PHP variable ($mydate), so no separate form selection of a date or passing this selected form date is needed. All that needs to be done is to automatically pass the PHP variable $mydate to the AJAX script on page load which should incorporate this value into the URL and automatically send it to the getuser.php (on main page load) without having to go through a user defined form selection.</p>\n\n<p><strong>This is the current AJAX script on the main page (which works fine via the form submit method):</strong></p>\n\n<pre><code>&lt;script type=\"text/JavaScript\"&gt;\nfunction showUser(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"tab1\").innerHTML=\"\";\n  return;\n  }\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"tab1\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"getuser.php?q=\"+str,true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>This is the current form on the main page that currently selects the date and passes it to the AJAX script..:</strong>  </p>\n\n<pre><code>&lt;form&gt;\n\n&lt;SELECT NAME=\"\" onchange=\"showUser(this.value)\"&gt;\n\n&lt;option value=\"\"&gt;Select a date:&lt;/option&gt;\n\n&lt;option value=\"2012-09-26\"&gt;2012-09-26&lt;/option&gt;\n\n&lt;option value=\"2012-09-25\"&gt;2012-09-25&lt;/option&gt;\n\n&lt;option value=\"2012-09-07\"&gt;2012-09-07&lt;/option&gt;\n\n&lt;option value=\"2012-09-08\"&gt;2012-09-08&lt;/option&gt;\n\n&lt;option value=\"2012-08-01\"&gt;2012-08-01&lt;/option&gt;\n\n&lt;option value=\"2012-08-04\"&gt;2012-08-04&lt;/option&gt;\n\n&lt;/SELECT&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>..but the current date is already set on main page load in the php variable $mydate, so the form is not needed.</strong></p>\n\n<p>The secondary page getuser.php gets the value of the passed URL ($q=$_GET[\"q\"];) and uses it to display information from a MySQL database in a table. This table is displayed back on the main page in a div tag (Tab 1) in the form of a separate JavaScript “glider” :</p>\n\n<pre><code>&lt;div id=\"glider\"&gt;&lt;div class=\"controls\"&gt;\n&lt;a href=\"#tab1\"&gt;Tab 1&lt;/a&gt; | \n&lt;a href=\"#tab2\"&gt;Tab 2&lt;/a&gt; |\n&lt;a href=\"#tab3\"&gt;Tab 3&lt;/a&gt; |\n&lt;a href=\"#tab4\"&gt;Tab 4&lt;/a&gt;&lt;/div&gt;\n&lt;div class=\"scroller\"&gt;&lt;div class=\"content\"&gt;\n&lt;div class=\"section\" id=\"tab1\"&gt;Tab 1&lt;/div&gt;\n&lt;div class=\"section\" id=\"tab2\"&gt;Tab 2&lt;/div&gt;\n&lt;div class=\"section\" id=\"tab3\"&gt;&lt;img src=\" \"  \n/&gt;&lt;/div&gt;\n&lt;div class=\"section\" id=\"tab4\"&gt;Tab 4&lt;/div&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n\n&lt;script type=\"text/JavaScript\" charset=\"utf-8\"&gt;\n        new Glider('glider');\n&lt;/script&gt;\n</code></pre>\n\n<p>I have tried multiple variations on the AJAX script code trying to get $mydate directly into the AJAX script bypassing the form and for it to automatically function per above, but nothing works. There is probably an easy answer to this, and it may just be syntactical.</p>\n"},{"tags":["javascript","ajax","wcf","c#-4.0","rest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":11638934,"title":"Using WCF REST Template 4.0, How to consume JSON via AJAX","body":"<p>Using the WCF REST template 4, among cutting down on the amount of configuration needed, you no longer require an SVC file to host a REST Web Service.</p>\n\n<p>Previously I could use an asp:ScriptManager to create a JavaScript proxy that i could use to call my WCF Web Services using AJAX, I only had to provide the path to my SVC file.</p>\n\n<p>Now that there is no SVC file and the service factory is instantiated in the global.asax file, I am not sure how to call my operation contracts via JavaScript.</p>\n\n<p>Is there a way round this, or a best practice regarding doing this with WCF 4?\nAm I better using the old 3.5 model of svc files etc?</p>\n\n<p>EDIT : Or is my best option to use jQuery $Ajax calls?</p>\n\n<p>Thank you to anyone for your time.</p>\n"},{"tags":["javascript","ajax","asynchronous","cgi","response"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13188494,"title":"Javascript Functions Confusing AJAX Responses from CGI Request/Response","body":"<p>I have 3 Javascript functions called from the body onload in the HTML page. </p>\n\n<p>Each Javascript function is contained in it's own Javascript file. Each Javascript file corresponds to another CGI script on the server. </p>\n\n<p>The bodyonload.js looks like:</p>\n\n<pre><code>function bodyOnload() {\n getElementsA();\n getElementsB();\n getElementsC();\n}\n</code></pre>\n\n<p>Each getElements function simply calls a CGI script to get the contents for 3 different selectboxes. </p>\n\n<p>The problem is that as all 3 functions are called asynchronously the select boxes are getting the wrong results. It's almost like the 3 functions are stepping on each other and putting the CGI responses in the wrong selectbox. I know the CGI responses are correct. This works fine if I serially call each function from the others. Like calling the 2nd function from the first and the 3rd function from the second. The asynchronous nature of them running at the same time seems to cause the problem. </p>\n\n<p>This is the general code for each javascript file that contains the getElements functions. </p>\n\n<pre><code>function getElementsA() {\n    strURL = \"http://test.com/scriptA.cgi\";\n    var xmlHttpReq = false;\n    var self = this;\n\n    // Mozilla/Safari\n    if (window.XMLHttpRequest) {\n        self.xmlHttpReq = new XMLHttpRequest();\n    }\n    // IE\n    else if (window.ActiveXObject) {\n        self.xmlHttpReq = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    self.xmlHttpReq.open('POST', strURL, true);\n    self.xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    self.xmlHttpReq.onreadystatechange = function() {\n        if (self.xmlHttpReq.readyState == 4) {\n            fillselectboxA(self.xmlHttpReq.responseText);\n        }\n    }\n\n self.xmlHttpReq.send();\n\n}\n\nfunction fillselectboxA(str)\n {\n  document.getElementById(\"selectBoxA\").length=0;\n  var results = new Array();\n  results = str.split(/\\n/);\n  var size = results.length;\n  var select = document.getElementById(\"selectBoxA\");\n  for (x=0;x&lt;size;x++)\n   {\n    var element = results[x];\n    select.options.add(new Option(element, x))\n   }\n } \n\n-------------------\n\nfunction getElementsB() {\n    strURL = \"http://test.com/scriptB.cgi\";\n    var xmlHttpReq = false;\n    var self = this;\n\n    // Mozilla/Safari\n    if (window.XMLHttpRequest) {\n        self.xmlHttpReq = new XMLHttpRequest();\n    }\n    // IE\n    else if (window.ActiveXObject) {\n        self.xmlHttpReq = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    self.xmlHttpReq.open('POST', strURL, true);\n    self.xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-  urlencoded');\n    self.xmlHttpReq.onreadystatechange = function() {\n        if (self.xmlHttpReq.readyState == 4) {\n            fillselectboxB(self.xmlHttpReq.responseText);\n        }\n    }\n\n self.xmlHttpReq.send();\n\n}\n\nfunction fillselectboxB(str)\n {\n  document.getElementById(\"selectBoxB\").length=0;\n  var results = new Array();\n  results = str.split(/\\n/);\n  var size = results.length;\n  var select = document.getElementById(\"selectBoxB\");\n  for (x=0;x&lt;size;x++)\n   {\n    var element = results[x];\n    select.options.add(new Option(element, x))\n   }\n } \n\n------------------------\n\nfunction getElementsC() {\n    strURL = \"http://test.com/scriptC.cgi\";\n    var xmlHttpReq = false;\n    var self = this;\n\n    // Mozilla/Safari\n    if (window.XMLHttpRequest) {\n        self.xmlHttpReq = new XMLHttpRequest();\n    }\n    // IE\n    else if (window.ActiveXObject) {\n        self.xmlHttpReq = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    self.xmlHttpReq.open('POST', strURL, true);\n    self.xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    self.xmlHttpReq.onreadystatechange = function() {\n        if (self.xmlHttpReq.readyState == 4) {\n            fillselectboxC(self.xmlHttpReq.responseText);\n        }\n    }\n\n self.xmlHttpReq.send();\n\n}\n\nfunction fillselectboxC(str)\n {\n  document.getElementById(\"selectBoxC\").length=0;\n  var results = new Array();\n  results = str.split(/\\n/);\n  var size = results.length;\n  var select = document.getElementById(\"selectBoxC\");\n  for (x=0;x&lt;size;x++)\n   {\n    var element = results[x];\n    select.options.add(new Option(element, x))\n   }\n } \n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13188790,"title":"load seperate page in tab jquery using ajax","body":"<p>I'm trying to use tab jquery in my page. I want to upload another page in one of the tabs. I believe I should use Ajax. But, it gives me the external page in another page and not in the tab container! Can somebody help me with this please?\nhere is my code in the original page:</p>\n\n<pre><code> &lt;body&gt; \n           &lt;div id=\"container-5\"&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=\"#Summary\"&gt;&lt;span&gt;Summary&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"sequenceSearch.html\"&gt;&lt;span&gt;Sequence&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"#Library_Report\"&gt;&lt;span&gt;Library&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"#upload\"&gt;&lt;span&gt;Upload&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n               &lt;div id=\"ajax-content\"&gt;This is default text, which will be replaced&lt;/div&gt;\n\n               &lt;div id=\"Summary\"&gt;\n                &lt;p&gt; show some summary&lt;/p&gt;                       \n            &lt;/div&gt;\n            &lt;div id=\"Library_Report\"&gt;\n                &lt;u&gt;Library Summary&lt;/u&gt;            \n            &lt;/div&gt;\n            &lt;div id=\"upload\"&gt;\n                &lt;p&gt;upload some file &lt;/p&gt;                \n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;script type=\"text/javascript\"&gt;\n            $(document).ready(function(){\n                $('#container-5').tabs({\n                    ajaxOptions: {\n                        dataFilter: function(data, type){\n                            return $(data).filter('#Sequence_Query').html();\n                        }\n                    }\n                });\n            });\n\n        &lt;/script&gt;\n        &lt;h2 class=\"style5\"&gt;In Progress!&lt;/h2&gt;\n    &lt;/body&gt;\n</code></pre>\n\n<p>and here is my external page:</p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n    &lt;meta http-equiv=\"Content-Style-Type\" content=\"text/css\"&gt;\n    &lt;meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"Sequence_Query\"&gt;\n        &lt;p&gt; show some thing&lt;/p&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax","auto","complete"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":54,"score":-3,"question_id":13188616,"title":"Php & ajax urgent help needed","body":"<p>I am a newbie to ajax &amp; php</p>\n\n<pre><code>$('#country').autocomplete({\n\n  $.ajax({\n\n    url: \"unit1.php?mode=sql\",\n    data: Page1.button();\n  });\n});\n</code></pre>\n\n<p>I am using this ajax function that will load parameter <code>mode</code> to <code>unit1.php</code> and will call button function present in the <code>Page1</code> class.</p>\n\n<p>I have code in the button function of <code>Page1</code> class in <code>unit1.php</code> file that will retrieve autocomplete entry from mysql.\nBut how do I call it using jquery?</p>\n\n<p>Any help would be highly appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","jquery","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13183428,"title":"jquery ajax sending json to php error","body":"<p>Okay so here is my ajax request:</p>\n\n<pre><code>$(\"#scoreForm\").submit(function(e){\n    e.preventDefault();\n    var nickName = $('#nickName').val();\n    var gameScore = parseInt($('#gameScore').text());\n    var result = {  'result' : '{ \"nick\":\"'+nickName+'\", \"score\":'+gameScore+' }' };\n    //var result = { \"nick\":nickName, \"score\":gameScore };\n    $.ajax({\n        url: \"http://localhost:8888/snake/addScore.php\",\n        type: \"POST\",\n        data: result,\n        //dataType: \"jsonp\",\n        success: function(data){\n            alert(\"siker\");\n\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            alert(\"bukta \" + textStatus);\n            //console.log(data);\n        }\n    });\n    return false;\n});\n</code></pre>\n\n<p>and my php process code:</p>\n\n<pre><code>$json_decoded = json_decode($_POST['result'],true);\n//$nick = $_GET['nick'];\n//$score = $_GET['score'];\n\n$mysqli = new mysqli(\"localhost\", \"root\", \"root\", \"snake\",8889);\n//$mysqli-&gt;query(\"INSERT INTO scores(nickName,score) VALUES('\".$nick.\"', \".$score.\")\");\n$mysqli-&gt;query(\"INSERT INTO scores(nickName,score) VALUES('\".$json_decoded['nick'].\"', \".$json_decoded['score'].\")\");\n\necho \"true\";\n</code></pre>\n\n<p>Now i got the data inserted into the database, but ajax still firing error event. i read that if i set the dataType to jsonp it will go trough , but then i get parse error, how do i get past that?</p>\n"},{"tags":["ajax","wordpress","seo","hashbang"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13102962,"title":"Can I add custom titles to ajax powered website with hashbang (#!) URLs?","body":"<p>I'm using ajax powered WordPress theme which has hashbang URLs like www.example.com/#!/page. I'm wondering can I add custom titles and descriptions for each page because of SEO? The site isn't indexed yet so I cannot see how Google sees pages with hashbang URLs but I assume it will have the same title as the home page? Btw the website is www.jsomedia.com</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","jquery","ajax","codeigniter"],"answer_count":4,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":1659,"score":6,"question_id":4301150,"title":"How do I check if the request is made via AJAX with PHP?","body":"<p>How do I check if the request is an ajax? I am using codeigniter. I have a link that when it clicked, it'll open the pop-up dialog window this is done through ajax it requests to a controller name login_window().</p>\n\n<h3>CodeIgniter</h3>\n\n<pre><code>//Here is the controller name:\nfunction login_window(){\n    // request via ajax\n    $this-&gt;load-&gt;view(\"login_window\");\n}\n</code></pre>\n\n<h3>jQuery</h3>\n\n<pre><code>//here is the jquery code:\n//I am using a jquery plugin FACEBOX\n\n$('a[rel*=dialog]').facebox();\n\n&lt;a href=\"http://localhost/codeigniter/login_window\" rel=\"dialog\"&gt;Login&lt;/a&gt;\n</code></pre>\n\n<p>I want to check if it is an ajax request and if not, i will redirect them to homepage. so there's no way they can access the page that is intended only for ajax requests.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","jquery","ajax","jquery-ajax","cakephp-1.3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13182756,"title":"Returning just an array to the view target div using jquery AJAX in cakePHP 1.3","body":"<p>When using jQuery AJAX in cakePHP 1.3, the AJAX response includes the full layout rather than just the array with dataset from the model. How to I prevent this whole page from being rendered? I have tried to use $this->autoRender = false; and $this->layout = 'ajax', but this did not solve the problem. It actaully produced no response in the returned data.  </p>\n\n<p>My controller action is:</p>\n\n<pre><code>    public function search() {\n    if (empty($this-&gt;data)) {\n    } else {\n        // $this-&gt;autoRender = false;\n        // $this-&gt;layout = 'ajax';\n        $request = $this-&gt;data;\n        $this-&gt;set('data', $this-&gt;Event-&gt;search($request['Event']['search']), 'host');\n    }  \n}\n</code></pre>\n\n<p>And my view is:</p>\n\n<pre><code>      &lt;!-- app/views/events/search.ctp --&gt;\n\n&lt;h1&gt;Corporate Events&lt;/h1&gt; \n\n&lt;form method=\"post\" action=\"search\"&gt;\n    &lt;input type=\"text\" name=\"search\" id=\"search_box\" class='search_box'/&gt;\n    &lt;input type=\"submit\" value=\"Search\" class=\"search_button\" /&gt;&lt;br /&gt;\n&lt;/form&gt;\n\n&lt;p&gt;&lt;?php echo $html-&gt;link(\"Add Event\", \"/events/add\"); ?&gt; \n\n&lt;table&gt; \n    &lt;tr&gt; \n        &lt;th style='width:100px'&gt;Id&lt;/th&gt; \n        &lt;th style='width:100px'&gt;Title&lt;/th&gt; \n        &lt;th style='width:100px'&gt;Host&lt;/th&gt; \n        &lt;th style='width:100px'&gt;Description&lt;/th&gt; \n        &lt;th style='width:100px'&gt;Action&lt;/th&gt; \n    &lt;/tr&gt; \n\n&lt;div id= \"results\"&gt;&lt;/div&gt;\n\n&lt;?php foreach ($data as $event): ?&gt; \n    &lt;tr&gt; \n        &lt;td&gt;&lt;?php echo $event['id']; ?&gt;&lt;/td&gt; \n        &lt;td&gt; \n            &lt;?php echo $html-&gt;link($event['event_title'],'/events/view/'.$event['id']);?&gt; \n        &lt;/td&gt; \n        &lt;td&gt;&lt;?php echo $event['host']; ?&gt;&lt;/td&gt; \n        &lt;td&gt;&lt;?php echo $event['description']; ?&gt;&lt;/td&gt; \n        &lt;td&gt; \n            &lt;?php echo $html-&gt;link( \n                'Delete',  \n                \"/events/delete/{$event['id']}\",  \n                null,  \n                'Are you sure?' \n            )?&gt; \n            &lt;?php echo $html-&gt;link('Edit', '/events/edit/'.$event['id']);?&gt; \n        &lt;/td&gt; \n    &lt;/tr&gt; \n&lt;?php endforeach; ?&gt; \n\n&lt;/table&gt; \n\n&lt;script type=\"text/javascript\"&gt;\n\n$(function() {\n\n    $(\".search_button\").click(function() {\n        var searchString    = $(\"#search_box\").val();\n        var data = {'data[Event][search]':searchString};\n\n        if(searchString) {\n\n            $.ajax({\n                type: \"POST\",\n                url: \"/events/search\",\n                data: data,\n                beforeSend: function(html) { // this happens before actual call\n                    $(\"#results\").html('');\n                    $(\"#searchresults\").show();\n                    $(\".word\").html(searchString);\n                },\n                success: function(html){ // this happens after we get results\n                    $(\"#results\").show();\n                    $(\"#results\").append(html);\n                }\n            });    \n        }\n        return false;\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13188143,"title":"How to handle Live Ajax Table","body":"<ul>\n<li>If a page has results it shows a table.</li>\n<li>If it does not have results it shows a Alert Message that there is no\ndata (no table is rendered).</li>\n<li>The user can Add a New Record via Ajax...</li>\n</ul>\n\n<p>Now the Question is... Do i Add the Table via jQuery? or do i create the table before hand and make it Hidden and remove the Alert, Make the Table Visible when The First Record is Added via Ajax?</p>\n\n<p>Whats best practice?</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13187523,"title":"Using AJAX to send an email","body":"<p>I am attempting to make an AJAX contact form with Webscript (<a href=\"http://webscript.io\" rel=\"nofollow\">http://webscript.io</a>), but I am running into a problem. Without AJAX, the form worked well and the email was delivered. After trying to add AJAX functionality, I stopped receiving emails through the form, yet the AJAX appears to run successfully. Here is a JS Bin with my example code: <a href=\"http://jsbin.com/aqahok/1/edit\" rel=\"nofollow\">http://jsbin.com/aqahok/1/edit</a>. I have a feeling the problem doesn't lie in the Webscript (which I believe you cannot view) but in the JS since the form worked without AJAX.</p>\n\n<p>Thank you for taking a look at my problem and feel free to ask me any questions you may have.</p>\n"},{"tags":["javascript","ajax","reporting-services"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13187902,"title":"How to call SSRS URL request","body":"<p>Is there any way to make SSRS URL requests from my javascrip ajax code to get the list of folders?</p>\n\n<p>Thanks for help.</p>\n"},{"tags":["jquery","ajax","pjax"],"answer_count":6,"favorite_count":10,"up_vote_count":21,"down_vote_count":0,"view_count":6576,"score":21,"question_id":6148097,"title":"Is pjax the way to go for \"fluid\" navigation?","body":"<p>I've started playing with <a href=\"http://pjax.heroku.com/\">pjax</a>, as I want to provide a fast, fluid experience for my users without a lot of unnecessary HTTP requests and repeated rendering of unchanged HTML.</p>\n\n<p>I have it working fairly well on my site, and I must say it was surprisingly easy to get up and running, considering how much a difference it makes for the experience. </p>\n\n<p>However, I'm seeing very little support for <a href=\"http://stackoverflow.com/questions/tagged/pjax\">pjax</a> -- both on <a href=\"http://stackoverflow.com/search?q=pjax\">StackOverflow</a>, and on the web in general (a <a href=\"http://www.google.com/search?q=pjax\">google search</a> returns many results at the top <a href=\"http://www.transportweb.com/directory/290/24940/\">totally</a> <a href=\"http://www.youtube.com/user/PJax\">unrelated</a> to web development).</p>\n\n<p>But as impressed I am with it, even if it's not widely supported yet, I may still use it.  My main concern is running into big problems later when I've already invested my code in it without a lot of support.  So I wanted to make sure there wasn't something else out there.</p>\n\n<p>Are there alternatives for implementing the same functionality that pjax provides that I'm not aware of?  Or is it so new that not many people know about it yet?  Or, is it just a bad/problematic implementation?</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13187149,"title":"Storing jquery div id value into php variable","body":"<p>I have a problem and need a solution. I have a server sent event which gets updated to a div id everytime when there is a change in the database. Now my question is how to get the value from that div id and save it to a PHP variable.</p>\n\n<pre><code>&lt;script&gt;\n    if(typeof(EventSource)!==\"undefined\")\n    {\n        var source=new EventSource(\"bookcounterevent.php\");\n        source.onmessage=function(event)\n        {\n            document.getElementById(\"bookcounter\").innerHTML=event.data;\n        };\n    }\n    else\n    {\n    document.getElementById(\"bookcounter\").innerHTML=\"Please update your browser!!\";\n    }\n    &lt;/script&gt;\n    &lt;div id=\"bookcounter\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The above codes update the <code>&lt;div id=\"bookcounter\"&gt;&lt;/div&gt;</code>, I want the value which I receive at id <strong>bookcounter</strong>, I want to save it to a php variable say <code>$book</code>. How can that be done?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["jquery","asp.net","ajax","jquery-ajax","asp.net-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12618044,"title":"Jquery separate list items AJAX","body":"<pre><code> public class searchResult\n {\npublic int id;\npublic string name;\n}\n/// &lt;summary&gt;\n/// Summary description for WebService1\n/// &lt;/summary&gt;\n[WebService(Namespace = \"http://tempuri.org/\")]\n[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n[ToolboxItem(false)]\n[System.Web.Script.Services.GenerateScriptType(typeof(searchResult))]\n// To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment                    the following line.\n[System.Web.Script.Services.ScriptService]\npublic class WebService1 : System.Web.Services.WebService\n{\n\n[WebMethod]\npublic searchResult[] Search(int txtSearch)\n{\n//Semuler to slow internet connection\nSystem.Threading.Thread.Sleep(2000);\n\n//Declare collection of searchResult\nList&lt;searchResult&gt; resultList = new List&lt;searchResult&gt;();\nDataSet ds = Classes.getEmployeeDetailSet(\"SELECT [Employee ID],[First Name] FROM     [Employee$] WHERE [Employee ID] like '\" + txtSearch + \"%'\");\nDataTable dt = new DataTable();\ndt = ds.Tables[0];\nif (dt.Rows.Count &gt; 0)\n{\nsearchResult result = new searchResult();\nresult.id = int.Parse(dt.Rows[0][\"Employee ID\"].ToString());\nresult.name = dt.Rows[0][\"First Name\"].ToString();\nresultList.Add(result);\n}\nreturn resultList.ToArray();\n}\n</code></pre>\n\n<p>i have created a list like </p>\n\n<pre><code>      List&lt;searchResult&gt; resultList = new List&lt;searchResult&gt;(); this\n      and i have return that list\n      to call this i have use ajax code like this\n\n         $.ajax({ type: \"POST\",\n      url: \"WebService1.asmx/Search\", //function that in web service\n      data: \"{txtSearch:\" + $(\"#txtSearch\").val() + \"}\", // passing value of txtSearch input\n      contentType: \"application/json; charset=utf-8\",\n      dataType: \"json\",\n      success: function(response) {\n      var result = response.d;\n      var value = '';\n      $.each(result, function(index, res) {\n      value = value + res.id + res.name;\n      });\n\n      alert(value);\n      alert(\"Record was updated successfully,,\");\n      },\n      error: function(msg) {\n      alert(\"Error while calling web service,,\");\n      }\n      });\n</code></pre>\n\n<p>My problem is that I am getting only one element from the database </p>\n\n<p>I think I am not able to separate the list in the ajax response here</p>\n\n<pre><code>      $.each(result, function(index, res) {\n      value = value + res.id + res.name;\n      });\n</code></pre>\n\n<p>I want to create a array with use of this id+name</p>\n\n<p>please help</p>\n"},{"tags":["javascript","ajax","caching","safari","ios6"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13187002,"title":"Is the iOS 6 caching $.ajax results issue resolved in iOS 6.0.1?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12506897/is-safari-on-ios-6-caching-ajax-results\">Is Safari on iOS 6 caching $.ajax results?</a>  </p>\n</blockquote>\n\n\n\n<p>Does anyone know if the now infamous <a href=\"http://stackoverflow.com/questions/12506897/is-safari-on-ios-6-caching-ajax-results\">iOS 6 caching $.ajax results issue</a> resolved in iOS 6.0.1?</p>\n"},{"tags":["jquery","ajax","sharepoint2010","timeout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13186937,"title":"jQuery.ajax hangs when clicking a document link in Sharepoint 2010","body":"<p>I'm not sure if this is a bug of Sharepoint or jQuery.</p>\n\n<p>I have a Visual Web Part that runs a jQuery.ajax request every X seconds refreshing stuff. The problem is that if I click a document link (to open/download) while the request is being loaded, it hangs forever and doesn't do anything.</p>\n\n<p>If it's not possible to avoid the freeze, is there a way to set a timeout to the request so it can fail and the timer can execute it again?</p>\n\n<p>This is the code:</p>\n\n<pre><code> function inContextAjaxUpdate() {\n        try {\n                $.ajax({\n                    type: \"GET\",\n                    url: 'ServiceUrl/MethodName',\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: 'json',\n                    success: function(msg) {\n                        inContextSucceded(msg);\n                    },\n                    cache: false\n                });\n        }\n        catch (e) {\n            alert('error invoking service.get()' + e);\n        }\n    }\n</code></pre>\n\n<p>And then somewhere in the <code>inContextSucceded()</code> function I have this line:</p>\n\n<pre><code>// Auto-refresh\nsetTimeout(\"inContextAjaxUpdate()\", 3000);\n</code></pre>\n\n<p>As you can see, if the request doesn't succedeed, the setTimeout line doesn't get executed, ergo the update isn't triggered again.</p>\n"},{"tags":["javascript","ajax","google-chrome"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":371,"score":0,"question_id":11463637,"title":"Prevent Chrome from caching AJAX requests","body":"<p>I've setup an app and it works fantastic on Opera and Firefox, but on Google Chrome it caches the AJAX request and will give stale data!</p>\n\n<p><a href=\"http://gapps.qk.com.au/\" rel=\"nofollow\">http://gapps.qk.com.au</a> is the app. When ran in Chrome it doesn't even send the AJAX requests, but when tried in another browser it always does the AJAX request and returns data.</p>\n\n<p><strong>Is there any method (Apache/PHP/HTML/JS) to stop Chrome from doing this behavior?</strong> </p>\n\n<p>The AJAX call:</p>\n\n<pre><code>function sendAjax(action,domain,idelement) {\n\n                    //Create the variables\n                var xmlhttp,\n                    tmp,\n                    params = \"action=\" + action\n                             + \"&amp;domain=\" + encodeURIComponent(domain)\n\n                    xmlhttp = new XMLHttpRequest(); \n                //Check to see if AJAX request has been sent\n                xmlhttp.onreadystatechange = function () {\n                    if (xmlhttp.readyState === 4 &amp;&amp; xmlhttp.status === 200) {\n                        $('#'+idelement).html(xmlhttp.responseText);\n                    }\n                };\n                xmlhttp.open(\"GET\", \"ajax.php?\"+params, true);\n                xmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                //console.log(params);\n                xmlhttp.send(params);\n\n            }\nsendAjax('gapps','example.com','gapps');\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13184596,"title":"Jquery: Can't receive an answer using Ajax request","body":"<p>I'm trying to send an Ajax request to a script on my server to receive Json data.</p>\n\n<pre><code> $.ajax({\n        type: \"POST\",\n        url: \"http://www.mydomain.com/test.php\",\n        dataType: 'text',\n        data: {\n            request: my_request,\n            body: body.val(),\n            qid: qid\n        },\n        beforeSend: function(data) {\n        alert(data);\n          alert( body );\n          alert( body.val() );\n          alert( qid );\n        },\n        error: function() {\n          alert( \"error\" );\n        },\n        success: function(data){\n        alert(data);\n            loader.hide();\n        }\n    });\n</code></pre>\n\n<p>The code above is a test. The dataType is supposed to be \"json\" but I made a test.php file which writes \"this is a test\" no matter what the parameters are. The issue is when I use the real script (which returns some json) <em>data</em> is always <em>null</em>. When I try with the text, <em>data</em> is an empty string.</p>\n\n<p>This the test.php code :</p>\n\n<pre><code>        echo \"this is a test\";\n</code></pre>\n\n<p>And the \"real\" script does something like this:</p>\n\n<pre><code>    header('Content-type: application/json');\n    $array = array(\n        'error' =&gt; false,\n        'message' =&gt; 'message'\n    );\necho json_encode($array);\n</code></pre>\n\n<p>Please help me.\nThanks</p>\n"},{"tags":["ajax","asp.net-mvc-3","razor","partial-views"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13186130,"title":"MVC 3 Ajax returning partial view of area","body":"<p>I am trying to return a partial view via ajax. My code likes below and it works fine when partial view is not in an area. </p>\n\n<pre><code>[HttpPost]\npublic ActionResult SearchLogsAjax(string searchParams)\n{\n    // Do some searching\n    return PartialView(\"LogResults\", searchResults);\n}\n</code></pre>\n\n<p>Partial View is rendered when I first open the page. The problem occurs when I press the search button which makes an ajax call to the ActionMethod. If it is in Admin area I get the classic view not found error.</p>\n\n<pre><code>The partial view 'LogResults' was not found or no view engine supports the searched locations. The following locations were searched:\n\n~/Views/Log/LogResults.aspx \n~/Views/Log/LogResults.ascx \n~/Views/Shared/LogResults.aspx \n~/Views/Shared/LogResults.ascx \n~/Views/Log/LogResults.cshtml \n~/Views/Log/LogResults.vbhtml \n~/Views/Shared/LogResults.cshtml \n~/Views/Shared/LogResults.vbhtml\n</code></pre>\n\n<p>Why it is not looking under Admin area which is the current area?\nIs there any way for me to specify the area name I wanted, by something like <code>new { area = \"Admin\" }</code></p>\n\n<p>On the other hand when I move mouse over the partial view name in the code, ReSharper shows the view which i expected.</p>\n\n<p><img src=\"http://i.stack.imgur.com/GrJMG.png\" alt=\"enter image description here\"></p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13185821,"title":"Are you allowed to make an unlimited number of XMLHTTP request objects?","body":"<p>In regards to concurrent ajax requests, i have looked at this page:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/561046/how-many-concurrent-ajax-xmlhttprequest-requests-are-allowed-in-popular-browse\">How many concurrent AJAX (XmlHttpRequest) requests are allowed in popular browsers?</a></p>\n\n<p>But what if onload i have js script creating many http objects with the code:</p>\n\n<pre><code>// JavaScript Document\n//declare xmlhttp object\nvar xmlhttp = false;\nvar xmlhttp2 = false;\n\n\n\n//determine browser/connection type\n\nif (window.XMLHttpRequest)\n{\n    xmlhttp = new XMLHttpRequest(); \n    xmlhttp2 = new XMLHttpRequest(); \n}\nelse if (window.ActiveXObject)\n{\n    xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    xmlhttp2 = new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\n</code></pre>\n\n<p>I have about 6 different js scripts which are all tailored to perform slightly different ajax functions.</p>\n\n<p>My question is if i have 6-10 different xmlhttp objects being created on pageload, will it somehow be an issue?</p>\n\n<p>Furthermore, even if i have 20 different tailored ajax scripts, aside from what i mentioned above, as long as i dont have more than 3 running at the same time they can all exist toegther, as long as they use different global variables, correct?</p>\n"},{"tags":["jquery","ajax","django","url"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13186341,"title":"Catch dynamic URL in jQuery when using Ajax","body":"<p>I am trying to catch a dynamic URL in jQUery. Normally I can catch the path and then load it like so:</p>\n\n<pre><code>    $('a').click(function(ev) {\n        ev.preventDefault();\n        var pathname = window.location.pathname;\n        $('#Div2').load(pathname+'question/');\n    });\n</code></pre>\n\n<p>However, the path that I am attempting to catch is loaded into the main page via Ajax so the URL that I capture belongs to the main page rather than the loaded page.</p>\n\n<p>The URL it catches: localhost/home/</p>\n\n<p>The URL I am attempting to catch: localhost/home/loaded_page</p>\n\n<p>Any thoughts on how I can capture the path for the loaded page? its dynamic (home/1, home/2, etc) so I can't just type in the full URL</p>\n"},{"tags":["jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13185974,"title":"Extracting IP address from a text file in jquery and ajax","body":"<p>I have a text file which i read using ajax.. Now the problem is when there is two lines of string in my text file. I don't have problem when it's only one.</p>\n\n<p>Here's the string</p>\n\n<pre><code>New Connection from: 192.168.5.10\n</code></pre>\n\n<p>No problem extracting the ip there. but the problem is if there's two line or many more.</p>\n\n<pre><code>New Connection from: 192.168.5.10\nNew Connection from: 192.168.5.30\n</code></pre>\n\n<p>Here's how I do it. It works if there is only one line of string in a text file.</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url: url,\n    async: true,\n    cache: false,\n    dataType: \"JSON\",\n    success: function(data) {\n\n        lines = data.lines;\n        var ip;\n        var ipset;\n\n        $(\".dev\").empty();\n\n        for (var i = 0; i &lt; lines.length; i++) {\n\n            $(\".dev\").append(lines[i] + \"\\n\");\n\n            ip = lines[i];\n\n            console.log(getIP(ip));\n\n            ipset = getIP(ip);\n        }\n    }\n});​\n</code></pre>\n\n<p>The getIP function is:</p>\n\n<pre><code>function getIP(line) {\n    var out =line.split(\": \");\n    return out[1];\n}\n</code></pre>\n\n<p>How can I make it work getting only the IP from a string?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13186009,"title":"Getting value of a php variable from database after an ajax call for a successive ajax call","body":"<pre><code>var friendRequestURL = \"scripts_for_profile/request_as_friend.php\";\nfunction addAsFriend(a,b) {\n$(\"#add_friend_loader\").show();\n$.post(friendRequestURL,{ request: \"requestFriendship\", mem1: a, mem2: b,   thisWipit: thisRandNum } ,function(data) {\n$(\"#add_friend\").html(data).show().fadeOut(12000);\n$(\"#friends\").html('&lt;div id=\"land\"&gt;&lt;a href=\"#\" onclick=\"return false\" onmousedown=\"toggleInteractContainers(\\'cancel_request\\');\" &gt;Cancel Request&lt;/a&gt;&lt;/div&gt;').show();\n}); \n}\n\nfunction cancel_request(x) {\n$.post(friendRequestURL,{ request: \"cancel\", reqID: x, thisWipit: thisRandNum } ,function(data) {\n    $(\"#cancel_request\").html(data).show().fadeOut(12000);\n    $(\"#land\").html('&lt;div id=\"friends\"&gt;&lt;a href=\"#\" onclick=\"return false\"   onmousedown=\"javascript:toggleInteractContainers(\\'add_friend\\');\"&gt;Add as Friend&lt;/a&gt;&lt;/div&gt;').show();\n});\n}\n</code></pre>\n\n<p>This are functions which send friend requests to the people and when the request is sent the option of \"Add as Friend\" changes to \"Cancel Request\". </p>\n\n<pre><code>function toggleInteractContainers(x) {\n    if ($('#'+x).is(\":hidden\")) {\n        $('#'+x).slideDown(200);\n    } else {\n        $('#'+x).hide();\n    }\n    $('.interactContainers').hide();\n</code></pre>\n\n<p>}</p>\n\n<p>This function calls the toggle button like if user clicks on \"Add as friend\" then it asks for options \"Yes\" or \"Cancel\".</p>\n\n<p>The php code is </p>\n\n<pre><code>&lt;div id=\"land\"&gt;&lt;a href=\"#\" onclick=\"return false\" onmousedown=\"toggleInteractContainers(\\'cancel_request\\');\" &gt;Cancel Request&lt;/a&gt;&lt;/div&gt;\n\n&lt;div id=\"friends\"&gt;&lt;a href=\"#\" onclick=\"return false\" onmousedown=\"javascript:toggleInteractContainers(\\'add_friend\\');\"&gt;Add as Friend&lt;/a&gt;&lt;/div&gt;\n\n\n          &lt;div class=\"interactContainers\" id=\"add_friend\" style=\"float:right; margin-right:100px; margin-top:0px;\"&gt;\n           Really?\n            &lt;a href=\"#\" onClick=\"return false\" onMouseDown=\"javascript:addAsFriend(&lt;?php echo $logOptions_id; ?&gt;, &lt;?php echo $id; ?&gt;);\"&gt;Yes&lt;/a&gt;\n            &lt;a href=\"#\" onClick=\"return false\" onMouseDown=\"javascript:toggleInteractContainers('add_friend');\"&gt;cancel&lt;/a&gt; \n      &lt;/div&gt;\n\n          &lt;div class=\"interactContainers\" id=\"cancel_request\" style=\"float:right; margin-right:100px; margin-top:0px;\"&gt;\n           Really?\n            &lt;a href=\"#\" onClick=\"return false\" onMouseDown=\"javascript:cancel_request(&lt;?php echo $requestID ; ?&gt;)\"&gt;Yes&lt;/a&gt;\n            &lt;a href=\"#\" onClick=\"return false\" onMouseDown=\"javascript:toggleInteractContainers('cancel');\"&gt;cancel&lt;/a&gt; \n      &lt;/div&gt;\n</code></pre>\n\n<p>The php code is not at a single place but is scattered around the page. My problem is that the code works fine in the first place. Like if user clicks on \"Add as friend\" then it asks them \"Really\" or \"cancel\". Then if user click \"really\" then the \"Add as friend\" changes to \"Cancel Request\" and a request is sent to the user. Then if user clicks on \"Cancel Request\" without a page refresh then also it works fine and asks \"really\" or \"cancel\" and if user clicks on \"really\" then request is cancelled but if he clicks \"cancel\" then the request is not cancelled. </p>\n\n<p>So basically the problem is that if the request is sent and the page is not refreshed then the request id ` \nis not being updated and so we are not able to cancel the request.</p>\n\n<p><strong>Is there anyway that I can get back the value of the requestID without page refresh</strong></p>\n\n<p>In scripts_for_profile/request_as_friend.php the following is the code to insert the friend request in the database.</p>\n\n<pre><code>$sql = mysql_query(\"INSERT INTO friends_requests (mem1, mem2, timedate)     VALUES('$mem1','$mem2',now())\") or die (mysql_error(\"Friend Request Insertion Error\"));\n</code></pre>\n"},{"tags":["jquery","ajax","internet-explorer-8"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13185689,"title":"IE8 - how to run jquery code after content loads?","body":"<p>I have a situation where I load a parent web page (happens to be Java JSP) which has content I am loading using ajax (asynch) inside of a document ready function expecting the page to render whatever it can quickly then run the jquery code to perform asynch work after the page is displayed.</p>\n\n<p>It works just as expected in firefox - page renders quickly and then the jquery code runs ajax calls loading other elements.</p>\n\n<p>In IE8 it waits until everything is done, then renders the completed results. It does not honor my document ready attempt. It sits there loading the page while running my code in the document ready section, then finally the completed results of everything is plopped on the browser.</p>\n\n<p>Is there any workaround? Any way to get IE8 to behave like Firefox in this regard ... render the page ASAP and then run some jquery code/ajax calls AFTER rendering?</p>\n"},{"tags":["jquery","ajax","function","variables","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13185020,"title":"Getting JS-variable from AJAX loaded content?","body":"<p>I know it's not possible to call an jQuery Plugin within an <code>.ajax()</code> loaded page, the only way is to write a function in the parent page and call this function in the <code>function(data)</code> part of the AJAX request. This works in general, but I'm stuck because my function needs a variable from the loaded content to work correctly and whatever I'm trying, I can't get the variable from the loaded content into the parent function, see my example:</p>\n\n<p>This is my function:</p>\n\n<pre><code>function doPaginate(maxpage) {\n    jQuery(\"#demo5\").paginate({\n        count: maxpage\n    });\n}​\n</code></pre>\n\n<p>This is my <code>jQuery.ajax()</code> request:</p>\n\n<pre><code>function loadProfileTab(tab, ownerinfo) {\n    jQuery.post(\"./profile_ajax.php\", {\n        task: 'profiletab',\n        v: tab,\n        user_id: ownerinfo\n    }, function(data) {\n        jQuery(\"#profile_content_wrapper\").html(data);\n        doPaginate(maxpage);\n    });\n}​\n</code></pre>\n\n<p>What I'm trying is now to get the variable <code>maxpage</code> from the PHP loaded content into the function <code>doPaginate(maxpage)</code> <em>within the AJAX request</em>.</p>\n\n<p>I know some workarounds, in example start a request first to get the result of <code>$maxpage</code>, then start a request again to use this result in the new request, but it seems to be not the \"nicest\" solution.</p>\n\n<p>Can someone lead me to a better solution please? Or is it just impossible what I'm trying in my code example above?</p>\n\n<p>Best regards!</p>\n"},{"tags":["javascript","ruby-on-rails","ajax","sendfile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":204,"score":1,"question_id":11570331,"title":"Ruby On Rails: send_file through jquery/ajax request","body":"<p>I am having trouble downloading files from my rails server through ajax:</p>\n\n<p>I have a show action in my downloads controller that calls <code>send_file</code> if a parameter is passed to the show action.</p>\n\n<p>I then have a page where there is a <code>select</code> dropdown that shows a list of files that are on the server. When I select a value and click the download button, it issues an ajax request that sends a GET request which is processed by my downloads controller.</p>\n\n<p>Looking at my server logs, it seems that the ajax request is working and it says:</p>\n\n<pre><code>Started GET \"/download?file=test.txt\" for 127.0.0.1 at 2012-07-19 15:13:41 -0700\nProcessing by DownloadsController#show as HTML\n  Parameters: {\"file\"=&gt;\"test.txt\"}\nSent file /Users/Admin/Documents/rails_projects/test/public/data/test.txt (0.1ms)\nCompleted 200 OK in 0ms (ActiveRecord: 0.0ms)\n</code></pre>\n\n<p>However nothing is actually downloaded. When I actually visit the <code>show</code> page manually, the file is actually downloaded. What am I doing wrong? </p>\n\n<p>--</p>\n\n<p>Javascript</p>\n\n<pre><code> &lt;script type=\"text/javascript\"&gt;\n    $(function() {\n      $('#button').click(function() {\n        var s = $(\"select#dropdown_select\").val();\n               $.ajax({\n                      type: 'GET',\n                      url: 'http://localhost:3000/download?file=' + s,\n                      dataType: \"HTML\"\n                      });\n      })\n    });\n  &lt;/script&gt;\n</code></pre>\n\n<p>Downloads Controller</p>\n\n<pre><code>def show\n\n    filename = params[:dl]\n\n    if(filename.nil? == false)\n\n    path = Rails.root.join('public/data', filename)\n    send_file path, :x_sendfile =&gt; true\n\n    end\nend\n</code></pre>\n"},{"tags":["asp.net","ajax","asp.net-mvc","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13183794,"title":"How to return errors or notifications from JSON Action method to Ajax forms?","body":"<p>Let's say we have a standard Ajax form with the following Syntax:</p>\n\n<pre><code>  @using(Ajax.BeginForm(\"AddCityJson\", \"City\",new AjaxOptions\n        {\n            HttpMethod = \"post\",\n            OnSuccess = \"JScriptOnSuccess();\",\n            OnFailure = \"JScriptOnFailure\"\n        }))\n    {\n     ...form fields go here...   \n     }\n</code></pre>\n\n<p>A simple form that gathers some information about a city, submits and saves it.</p>\n\n<p>On the controller side we receive the info. If everything went well we return true in order for OnSuccess AjaxOption to trigger and if failed false is returned:</p>\n\n<pre><code>public JsonResult AddCityJson(Formcollection collection)\n{\n var city = new City\n {\n  ...populate city fields from passed in collection\n }\n var cityRepository = new CityRepository;\n city = cityRepository.SaveOrEdit(city);\n\n if(city==null)\n {return Json(false)} \n\n return Json(true);\n\n}\n</code></pre>\n\n<p>Inside of the controller AddCityJson method I need to add various checks. Possibly to check if the city name already exists or any other validation and if I ran into an Error or a Warning return it back to UI.</p>\n\n<p>How can I pass any error/warning messages up to UI if my Ajax form expects to get back ajax true or false and whether that post was successful?</p>\n\n<p>I would like to avoid using ViewData, ViewBags.\nThank you.</p>\n"},{"tags":["ajax",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":19,"score":3,"question_id":13182305,"title":"Use AJAX with .htaccess redirected subdomain","body":"<p>i am doing subdomain redirection with;</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^([^\\.]+)\\.domain\\.com$ [NC]\n\nRewriteCond %1 !^(www|ftp|mail)$ [NC]\n\nRewriteRule ^.*$ file.php?id=%1 [L]\n</code></pre>\n\n<p>This turns <strong>someid.domain.com</strong> to <strong>www.domain.com/file.php?id=someid</strong></p>\n\n<p>Everything is ok for now but i am having problem to use AJAX on the page which is posting variables to a file with </p>\n\n<pre><code>$.post('post.php', {ID: ID},\n</code></pre>\n\n<p>As you know AJAX wont let to use like <strong>www.domain.com/post.php</strong> but when i write <strong>post.php</strong> bec. of redirection it searches for <strong>someid.domain.com/post.php</strong></p>\n\n<p>This is what i want;</p>\n\n<p>1- Redirect <strong>someid.domain.com</strong> to <strong>www.domain.com/file.php?id=someid</strong></p>\n\n<p>2- Redirect <strong>someid.domain.com/post.php</strong> to <strong>www.domain.com/post.php</strong></p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":13182872,"title":"Cant make text appear with php/ajax code :(","body":"<p>First check this site: <a href=\"http://juicystudio.com/article/making-ajax-work-with-screen-readers.php#ajaxexample\" rel=\"nofollow\">check this first plz</a></p>\n\n<p>hi , Im from mexico and Im auto learning html, css, js and php, for personal purposes.</p>\n\n<p>IM trying to add that code to my testing page, the example is Example 3 — Random Fact Generator (form). When you click the random generaton button, it makes random text appear the problem is..WHERE IS IT COMMING FROM? and xml? php server?...I dont know..I checked in ALL the code and nothing :(, I can add random text with other methods like JS with a case and a random.math but I prefer like that page, any sugestions? thx a lotssss</p>\n"},{"tags":["jquery","html","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13184326,"title":"Javascript doesn't work when loading a page via ajax","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6173570/javascript-not-working-in-the-new-part-when-loading-a-new-part-using-jquery-and\">javascript not working in the new part when loading a new part using jquery and HTML 5</a>  </p>\n</blockquote>\n\n\n\n<p>I loaded another HTML page into a div of the main HTML page using Ajax. The page loaded fine, but when I try to apply jQUery to the loaded page, nothing works.</p>\n\n<pre><code>$('.mainDiv').click(function(ev) {\n    ev.preventDefault();\n    var url = $(this).attr('href');\n    $('.secondDiv').load('http://127.0.0.1:8000'+url);\n});\n</code></pre>\n\n<p>I tried using a simple alert function called on all links to see if it works, but the alert appears only on the main page links, even though the .js file is linked to both pages. </p>\n\n<pre><code>$('a').click(function(){\n    alert('hey');\n});\n</code></pre>\n\n<p>How can I fix this? Would using .live() or .on() instead of .load() fix the problem?</p>\n"},{"tags":["ajax","google-chrome","div","toggle"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13184581,"title":"Div hide/show toggle working fine in Chrome not in firefox or IE","body":"<p>This is my problem, the div (show/hide) toggle is working fine in Chrome but not at all in Firefox or IE, could you help me out?\nThis is what i have in de header</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction toggleDiv(divId) {\n    $(\"#\"+divId).toggle();   \n}\n&lt;/script&gt;\n</code></pre>\n\n<p>this is what's in the body</p>\n\n<pre><code>&lt;a href=\"javascript:toggleDiv('chat');\"&gt;&lt;img border=\"0\" src=\"images/icons/messaging.png\" alt=\"Live chat with user\" title=\"Live chat with user\"&gt;&lt;/a&gt;\n\n&lt;!-- chat div / standard not shown --&gt;\n&lt;div id=\"chat\" style=\"display:none; position: absolute; bottom: 20px; left: 20px; width: 70px; height: 300px;\"&gt;\n&lt;? include 'chat.php'; ?&gt;                       \n&lt;/div&gt;\n</code></pre>\n\n<p>Hope somebody can help me out.\nThanks                  </p>\n"},{"tags":["ajax","highcharts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13157693,"title":"HighCharts load data via ajax","body":"<p>I  have been encountering issues for the past few days with ajaxing in some sample json data from an api to populate a chart using the Highcharts library.</p>\n\n<p>I tried to chart.series[0].data = json and similar stuff in my ajax callback but nothing works.</p>\n\n<p>my json is an array of data for each day in the month.</p>\n\n<pre><code>\"{\"month_mentions_graphic\":[521,49,81,0,101,0,0,0,21,3071,0,0,0,0,0,1479,6124,2409,2608,0,0,3457,2057,2580,5876,4638,0,0,3337,3479,430]}\"\n</code></pre>\n\n<p>Here's my code:</p>\n\n<pre><code>var chart;\n\n$(document).ready(function() {\n\n    chart = new Highcharts.Chart({\n        chart: {\n            renderTo: 'container',\n            type: 'line',\n            marginRight: 130,\n            marginBottom: 25, \n            events: {\n                load: requestData\n            }\n        },\n        title: {\n            text: 'Menções Mensais',\n            x: -20 //center\n        },\n        xAxis: {\n            categories: [1,2,3,4,5]\n        },\n        yAxis: {\n            title: {\n                text: 'Menções'\n            },\n            plotLines: [{\n                value: 0,\n                width: 1,\n                color: '#808080'\n            }]\n        },\n        legend: {\n            layout: 'vertical',\n            align: 'right',\n            verticalAlign: 'top',\n            x: -10,\n            y: 100,\n            borderWidth: 0\n        },\n        series: [\n         {\n            name: 'mentions',\n            data: []\n          }\n        ]\n    });\n});\n\n\nfunction requestData() {\n    $.ajax({\n        url: 'api/v1/dashboard/month_mention_graphic',\n        type: \"GET\",\n        dataType: \"json\",\n        data : {username : \"demo\"},\n        success: function(data) {\n            chart.series[0].data = data;\n        },\n        cache: false\n    });\n}\n</code></pre>\n"},{"tags":["php","javascript","ajax","magento","jquery-forms-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13183426,"title":"Multiple AJAX forms with jQuery Form","body":"<p>Currently, I'm using the jQuery Form plugin to handle multiple AJAX forms on a Magento product listing via <code>.ajaxForm({});</code>. Now, the solution I'm using works, but it is super clunky and would love to know if there is a better way to approach this problem.</p>\n\n<p>I will shorten my code a bit for brevity: </p>\n\n<pre><code>&lt;?php foreach ($_productCollection as $_product): ?&gt;\n&lt;form action=\"&lt;?php echo $this-&gt;getSubmitUrl($_product) ?&gt;\" method=\"post\" class=\"derp\" id=\"derp-&lt;?php echo $_iterator; ?&gt;\"&gt;\n    &lt;div class=\"quanitybox\"&gt;\n        &lt;label for=\"qty\"&gt;&lt;?php echo $this-&gt;__('Quantity:') ?&gt;&lt;/label&gt;\n        &lt;input type=\"button\" class=\"quantity_box_button_down\" /&gt;         \n        &lt;input type=\"text\" name=\"qty\" maxlength=\"12\" value=\"1\" title=\"&lt;?php echo $this-&gt;__('Qty') ?&gt;\" class=\"input-text qty\" /&gt;\n        &lt;input type=\"button\" class=\"quantity_box_button_up\" /&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" title=\"Add to Cart\" class=\"button btn-cart\" &gt;&lt;span&gt;&lt;span&gt;Add to Cart&lt;/span&gt;&lt;/span&gt;&lt;/button&gt;\n &lt;/form&gt;\n\n &lt;script type=\"text/javascript\"&gt;\n    var productAddToCartForm = new VarienForm('derp-&lt;?php echo $_iterator ?&gt;');\n\n    jQuery('#derp-&lt;?php echo $_iterator ?&gt;').ajaxForm({\n                url: jQuery('#derp-&lt;?php echo $_iterator ?&gt;').attr('action').replace(\"checkout/cart\",\"ajax/index\"),\n                data: {'isAjax':1},\n                dataType: 'json',\n                beforeSubmit: function(){    \n                    if(productAddToCartForm.validator.validate()){\n                        windowOver.show();\n                        windowBox.show().css({\n                            backgroundImage: \"url('&lt;?php echo $this-&gt;getSkinUrl('images/loading.gif')?&gt;')\"\n                        });                    \n                    }else{\n                        return false;\n                    }\n                },\n                error: function(data){\n                    windowBox.css({\n                          backgroundImage: 'none'\n                    }).html('&lt;?php echo $this-&gt;__('Error') ?&gt;');                       \n                    windowOver.one('click',function(){\n                        hidewindow(windowBox,windowOver);                    \n                    });        \n\n                    jQuery('#hidewindow').click(function(){\n                        hidewindow(windowBox,windowOver);                    \n                    });\n                },\n                success : function(data,statusText,xhr ){\n                    if(data.status == 'SUCCESS'){\n                        if(jQuery('.block-cart')){\n                            jQuery('.block-cart').replaceWith(data.sidebar);\n                        }\n                        if(jQuery('.header .block-cart-header')){\n                            jQuery('.header .block-cart-header').replaceWith(data.topcart);\n                        }     \n                        msgHtml = '&lt;div class=\"added-content\"&gt;&lt;div style=\"float:left;\"&gt;' + productImg + '&lt;/div&gt;&lt;em&gt;' + titleForBox&lt;?php echo $_iterator ?&gt; + '&lt;/em&gt; &lt;?php echo $this-&gt;__('was successfully added to your shopping cart.') ?&gt;&lt;div style=\"clear:both;\"&gt;&lt;/div&gt;&lt;a id=\"hidewindow\" href=\"javascript:void(0);\"&gt;&lt;?php echo $this-&gt;__('Continue shopping') ?&gt;&lt;/a&gt;&amp;nbsp;&lt;a href=\"&lt;?php echo $this-&gt;getUrl('checkout/cart')?&gt;\"&gt;&lt;?php echo $this-&gt;__('View cart &amp; checkout') ?&gt;&lt;/a&gt;&lt;/div&gt;';             \n                    }else{\n                        msgHtml = '&lt;div class=\"added-content\"&gt;&lt;p class=\"error-msg\" style=\"margin-bottom:15px;\"&gt;' + data.message + '&lt;/p&gt;&lt;a id=\"hidewindow\" href=\"javascript:void(0);\"&gt;&lt;?php echo $this-&gt;__('Continue shopping') ?&gt;&lt;/a&gt;&amp;nbsp;&lt;a href=\"&lt;?php echo $this-&gt;getUrl('checkout/cart')?&gt;\"&gt;&lt;?php echo $this-&gt;__('View cart &amp; checkout') ?&gt;&lt;/a&gt;&lt;/div&gt;';\n                    }                      \n\n                    windowBox.css({\n                          backgroundImage: 'none'\n                    }).html(msgHtml);                      \n                    windowOver.one('click',function(){\n                        hidewindow(windowBox,windowOver);                    \n                    });        \n\n                    jQuery('#hidewindow').click(function(){\n                        hidewindow(windowBox,windowOver);                    \n                    });    \n                }\n            });\n&lt;/script&gt;\n&lt;?php endforeach; ?&gt;\n</code></pre>\n\n<p>The unfortunate part of this code is I'm generating a bunch of duplicate JavasScript at the bottom of each product. </p>\n\n<p>I don't really see a way around this because I need to generate a <code>new VarienForm()</code> for each product for validation, which only takes a form id (unless I'm mistaken). </p>\n\n<p>I'm doing this using the built in <code>$_iterator</code>, which increments per <code>foreach()</code> loop (ie: derp-1, derp-2, derp-3), and adding an incrementing id for each form.</p>\n\n<p>I know that I can target each form by using a class selector, such as <code>jQuery('.derp').ajaxForm({});</code> However I'd still need to be able to correlate this to a <code>VarienForm</code>.</p>\n\n<p>I tried to generate the <code>ajaxForm({});</code> on the fly based off of the submit button <code>.each( function({ jQuery(this).on('click', function({ //AJAX STUFF HERE }) ); }) );</code> but that did not work.</p>\n\n<p>Is there a more robust solution that will target each form independently, generate a <code>VarienForm</code>, grab any of that forms data I need, utilize the <code>ajaxForm({})</code> method, and keep it all together?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":5,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":4832,"score":7,"question_id":1846675,"title":"X-Requested-With header not set in jquery ajaxForm plugin","body":"<p>I'm using the <a href=\"http://jquery.malsup.com/form/\">jQuery ajaxForms plugin</a> to make an ajax submit to my CakePHP app.  </p>\n\n<p>Cake's RequestHandler detects ajax requests by looking at the \"X-Requested-With\" header, but the forms plugin does not seem to set it. Or jQuery does not set it when using the plugin.  </p>\n\n<p>I've tried several things,</p>\n\n<p>in the main onload function i added:</p>\n\n<pre><code>$.ajaxSetup({\n      headers: {\"X-Requested-With\":\"XMLHttpRequest\"}\n});\n</code></pre>\n\n<p>In the plugin code I added this right before the actual ajax call:</p>\n\n<pre><code>options.beforeSend = function(xhr) {\n    \txhr.setRequestHeader(\"X_REQUESTED_WITH\", \"XMLHttpRequest\");\n    };\n</code></pre>\n\n<p>Making a regular ajax call, does set the header...</p>\n\n<p>Can anyone tell me what's going on or most important, how can I fix this?</p>\n"},{"tags":["asp.net-mvc","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1038,"score":0,"question_id":2686073,"title":"Ajax.BeginForm return result and show data appropriate","body":"<p>I have a from on my page as follows:</p>\n\n<pre><code>    &lt;% using (Ajax.BeginForm(\"AddAnswer\",\"Marketplace\",new AjaxOptions() \n{HttpMethod = \"POST\" })){ %&gt;\n</code></pre>\n\n<p>AddAnswer action adds some data to db. What I want to do is: when answer has been successfully added, append #answers div with the current answer passed to controller. When answer has not been successfully added to db - I would like to display appropriate error in #errors div. How can I do this?</p>\n"},{"tags":["javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":25,"score":3,"question_id":13184058,"title":"image feed refresh with jQuery/ajax","body":"<p>I have an Axis camera which has multiple outputs, one of which is a jpg image. This image is a still taken from the camera at the time you load it up. I would like to implement a way for the image to reload (every 30 seconds) without having to reload the entire page, however, I would like for the code to fully download the image before updating it to avoid having a blank screen.</p>\n\n<p>I have been reading around and the closest thing I found was this post <a href=\"http://stackoverflow.com/questions/10920514/using-ajax-jquery-to-refresh-an-image\">Using AJAX / jQuery to refresh an image</a> but the difference is that the image feed I have is coming from the actual camera itself not a php file. I have tried a couple of ways to get this working with my url but I have failed due to the lack of javascript knowledge.</p>\n\n<p>The code I'm using right now to pull up the image is just a simple image tag... </p>\n\n<p><code>&lt;img src=\"[camera ip]/jpg/1/image.jpg\"&gt;</code></p>\n\n<p>and any time you refresh the browser window it gives you a snapshot of the current video stream.</p>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p>Regards,<br>\nJavier</p>\n"},{"tags":["jquery","ajax","json","jquery-mobile"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":4839,"score":2,"question_id":7961108,"title":"Dynamically Appending Elements to jQuery Mobile ListView","body":"<p>I want to dynamically append data received via an url in JSOn format to my listview. But i can't figure out how it works.</p>\n\n<p>The mobile website retrieve the object in the following format:</p>\n\n<pre><code>[\n    {\"id\":1, \"start\":\"2011-10-29T13:15:00.000+10:00\", \"end\":\"2011-10-29T14:15:00.000+10:00\", \"title\":\"Meeting\"}\n]\n</code></pre>\n\n<p>In the .html i have one listview and a function, where i try to append the received data. I show only the body.</p>\n\n<pre><code>&lt;body&gt;\n       &lt;div&gt;   \n            &lt;ul id=\"listview\"&gt;\n                &lt;script&gt;$.getJSON(\"url\",\n                function(data){\n                    $.each(data, function(i,data){\n                        i.title.appendTo(\"#listview\");\n                    });});&lt;/script&gt; \n            &lt;/ul&gt;\n        &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Probably it's very easy, but i'm new to web programming and i can't figure out how that i should append the retrieved data.</p>\n\n<p>Can anyone please help me out ?</p>\n"},{"tags":["javascript","jquery","ajax","image","webmatrix"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13183628,"title":"Get binary image data from input type \"file\" using JavaScript/jQuery for use with picture preview with AJAX in WebMatrix","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4459379/preview-an-image-before-it-is-uploaded\">Preview an image before it is uploaded</a>  </p>\n</blockquote>\n\n\n\n<p>I have had trouble when researching or otherwise trying to figure out how (if it's even possible) to get binary image data using JavaScript/jQuery from an html input element of type file.</p>\n\n<p>I'm using WebMatrix (C#), but it may not be necessary to know that, if the purposes of this question can be answered using JavaScript/jQuery alone.</p>\n\n<p>I can take the image, save it in the database (as binary data), then later show the pic on the page, from the binary data, after posting.  This does, however, leave me without a pic preview, before uploading, for which I am almost certain I must use AJAX.</p>\n\n<p>Again, this may not even be possible, but as long as I can get the binary image data, I believe I can push it to the server with AJAX and process the image the same way I would if I were taking it from a database (note that I don't save the image files themselves using GUID and all that,I just save the binary data).</p>\n\n<p>If there is an easier way to show a pic preview using the input element, that would work fine, too, of course, as the whole idea behind me trying to do this is to show a pic preview before they hit the submit form button (or at least create that illusion).</p>\n"},{"tags":["ajax","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":246,"score":-2,"question_id":964350,"title":"Using another Controller/view inside the One controller/view by ajax and CakePHP","body":"<p>I m having a three controllers in my app:</p>\n\n<ol>\n<li>Forms</li>\n<li>attributes</li>\n<li>Users</li>\n</ol>\n\n<p>In my /forms/designpage I'm posting the data as:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"./attributes/untitledfieldname\",\n    data: \"sequence_no = \" + counter + \" &amp; type = \" + type,                                     \n    success: function(msg){\n    }//success\n});//ajax\n</code></pre>\n\n<p>Since I am having my untitledfieldname action inside Users Controller, in the URl i gave as ./attributes/untitledfieldname. But this doesn't works.</p>\n\n<h2>Edit:</h2>\n\n<p>I have changed the URL .Actually my went like forms/attributes/untitledfieldname\nwhere forms is m base ctrller and attributes is my another ctrller. Now I put the Direct URL. Now it works.</p>\n"}]}
{"total":48691,"page":8,"pagesize":100,"questions":[{"tags":["php","javascript","ajax","iframe"],"answer_count":11,"favorite_count":15,"up_vote_count":43,"down_vote_count":1,"view_count":66426,"score":42,"question_id":525992,"title":"Resize iframe height according to content height in it","body":"<p>I am opening my blog page in my website. The problem is I can give a width to an iframe but the height should be dynamic so that there is no scrollbar in the iframe, and it looks like a single page...</p>\n\n<p>I have tried various JavaScript code to calculate the height of the content but all of them give an <em>access denied permission</em> error and is of no use.</p>\n\n<pre><code>&lt;iframe src=\"http://bagtheplanet.blogspot.com/\" name=\"ifrm\" id=\"ifrm\" width=\"1024px\" &gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>Can we use Ajax to calculate height or maybe using PHP?</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13181912,"title":"Mask whole page when execute jQuery post?","body":"<p>In jQuery, is there any way to mask whole page automatically when we execute each Ajax post (to prevent input from user or double submitting...)? I see this plugin: jQuery-blockUI (<a href=\"http://www.malsup.com/jquery/block/\" rel=\"nofollow\">http://www.malsup.com/jquery/block/</a>) but we still have to mask/unmask manually for each Ajax post.<br>\nAs I know in ExtJS, we can control this by implementing \"beforeAction\" function, because this event will be fired right before any action on form, but in jQuery I do not find out anything like that.<br>\nCould you please give me a solution for this? Thank you so much.</p>\n"},{"tags":["jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13182893,"title":"OnChange event succesfully completes but renders other elements useless","body":"<p>I have been trying to fix this issue for the past 2-3 hours but finally gave up. This is part of my javascript/jquery. </p>\n\n<pre><code>$(function() {  \n    $('#ob').change(function() {\n       var id = $(\"#ob\").val();  \n       var form_data = {\n           id: id,\n           OB: 3 \n       };\n\n       $.ajax({\n           url: \"changeinfo.php\",\n           type: 'POST',\n           data: form_data,\n           success: function(data) {\n               $(\"#finfoob3\").html(data);                             \n           }\n       });\n\n       return false; \n   });\n});  \n</code></pre>\n\n<p>The above successfully modifies a DIV element on change. </p>\n\n<p>However in that DIV element, there was a button with id=obt3 which doesn't work. Actually, it was overwriting it's name to something else. I sent another POST value OB to the AJAX call and concatenate it with obt so that it becomes obt3. I then put the id of the button to obt3 but it still wouldn't respond to a click event. </p>\n\n<p>I tried to inspect the element with google chrome and the element's id successfully changes to obt3 but wouldnt respond to it's click event. </p>\n"},{"tags":["php","jquery","ajax","codeigniter","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1258,"score":0,"question_id":9643236,"title":"Open Fpdf JSON response, in new window, to save PDF. - PHP","body":"<p>I'm trying to send a Json array over using an AJAX call to a controller function which processes the data using a FPDF library which is already implemented into Codeigniter. I can see the PDF data being returned, but how would I go about opening this PDF data in a new window so the PDF can be saved. It doesn't matter if the PDF cant be viewed i just need to save the generated file.</p>\n\n<p>Here's the code I have so far:</p>\n\n<p><strong>Jquery Code</strong></p>\n\n<pre><code>&lt;script defer=\"defer\" type=\"text/javascript\"&gt;\n$(document).ready(function() {\n    $('a#export').click(function(exportRecord) {    \n        var postData = {\n            'record_type'   : 1,\n            'title' : 'Some Title Here',\n            'content' : 'Some content here',\n        };\n        $.ajax({\n                url: \"&lt;?php echo base_url().'admin/pdf/createPDF';?&gt;\",\n                type:'POST',\n                data: postData,\n                dataType: 'json',\n                success: function(data){\n                        window.open(\n                            'data:application/pdf,'+encodeURIComponent(data),\n                            'Batch Print',\n                            'width=600,height=600,location=_newtab'\n                        );\n                    } // End of success function of ajax form\n        }); // End of ajax call\n        return false;\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>The Controller Function</strong></p>\n\n<pre><code>&lt;?php\n    function createPDF(){       \n            $content = $this-&gt;input-&gt;post('content');\n            $font_directory = './assets/fpdf_fonts/';\n            set_realpath($font_directory);\n            define('FPDF_FONTPATH',$font_directory);\n            $data = $this-&gt;fpdf-&gt;Open();\n            $data = $this-&gt;fpdf-&gt;AddPage();\n            $data = $this-&gt;fpdf-&gt;SetFont('Arial','',8);\n            $data = $this-&gt;fpdf-&gt;Cell(80);\n            $data = $this-&gt;fpdf-&gt;Cell(0,0,$content,0,1,'R');\n            $data = $this-&gt;fpdf-&gt;Output();\n    }\n</code></pre>\n\n<p><strong>The JSON Response</strong></p>\n\n<pre><code>%PDF-1.3\n3 0 obj\n&lt;&lt;/Type /Page\n/Parent 1 0 R\n/Resources 2 0 R\n/Contents 4 0 R&gt;&gt;\nendobj\n4 0 obj\n&lt;&lt;/Filter /FlateDecode /Length 72&gt;&gt;\nstream\nx�3R��2�35W(�r\nQ�w3T��30PISp\n��陛)X��(��(hx����+���i*�d�����F\nendstream\nendobj\n1 0 obj\n&lt;&lt;/Type /Pages\n/Kids [3 0 R ]\n/Count 1\n/MediaBox [0 0 595.28 841.89]\n&gt;&gt;\nendobj\n5 0 obj\n&lt;&lt;/Type /Font\n/BaseFont /Helvetica\n/Subtype /Type1\n/Encoding /WinAnsiEncoding\n&gt;&gt;\nendobj\n2 0 obj\n&lt;&lt;\n/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\n/Font &lt;&lt;\n/F1 5 0 R\n&gt;&gt;\n/XObject &lt;&lt;\n&gt;&gt;\n&gt;&gt;\nendobj\n6 0 obj\n&lt;&lt;\n/Producer (FPDF 1.7)\n/CreationDate (D:20120309201958)\n&gt;&gt;\nendobj\n7 0 obj\n&lt;&lt;\n/Type /Catalog\n/Pages 1 0 R\n&gt;&gt;\nendobj\nxref\n0 8\n0000000000 65535 f \n0000000228 00000 n \n0000000411 00000 n \n0000000009 00000 n \n0000000087 00000 n \n0000000315 00000 n \n0000000515 00000 n \n0000000590 00000 n \ntrailer\n&lt;&lt;\n/Size 8\n/Root 7 0 R\n/Info 6 0 R\n&gt;&gt;\nstartxref\n639\n%%EOF\n\"\"\n</code></pre>\n"},{"tags":["html","ajax","bing-maps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13158165,"title":"bing map control doesn't respect div","body":"<p>From this page <a href=\"http://www.bingmapsportal.com/isdk/ajaxv7#CreateMap1\" rel=\"nofollow\">http://www.bingmapsportal.com/isdk/ajaxv7#CreateMap1</a> I was able to create a map.\nThis is the html code:</p>\n\n<pre><code>&lt;div class=\"fluid-row\" style=\"height:300px;\"&gt;\n&lt;div class=\"span12\"&gt;\n    &lt;div id=\"prdmap\" class=\"map\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n\n    \n    \n    \n\n    \n    \n    \n\n\n<p>And the javascript:</p>\n\n<pre><code>var map = null;\n$(document).ready(function(){\n    map = new Microsoft.Maps.Map(document.getElementById('prdmap'), {\n        credentials: 'api_key',\n        enableSearchLogo: false,\n        enableClickableLogo: false\n    });\n    map.setView({mapTypeId : Microsoft.Maps.MapTypeId.road});\n});\n</code></pre>\n\n<p>But when the map loads it takes all the screen, not the height and with of its container.\nIs this possible to take the height and width of the container div?</p>\n"},{"tags":["asp.net","ajax","json","nullreferenceexception","pagemethods"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13160767,"title":"Passing JSON object to PageMethod works in DEV, not PROD","body":"<p>I have a PageMethod and an AJAX call to that method that passes an array of product SKUs and the number of requested SKUs. It works perfectly fine in DEV(IIS7), but returns a 500 error in PROD(IIS6):</p>\n\n<pre><code>Message: Object reference not set to an instance of an object. \nStackTrace: at ViewProduct.GetInventory(List`1 orderedSkus)\nExceptionType: System.NullReferenceException\n</code></pre>\n\n<p>Here is the relevant code. If you need specific snippets from my web.config, I can grab those, too, although I don't see anything there that would have any affect on anything.</p>\n\n<p>I have tried to use two different Object definitions in the PageMethod, orderedSkus As Object() and orderedSkus As List(Of Object). Same difference, but also same result... null reference.</p>\n\n<p><strong>AJAX:</strong></p>\n\n<pre><code>    var editedSkus = [];\n    function checkInventory() {\n        editedSkus.length = 0;\n        var textBoxes = $('input:text', '.table-orderMatrix');\n        if (formEdited(textBoxes)) {\n            var DTO = { 'orderedSkus': editedSkus };\n            $.ajax({\n                type: \"POST\",\n                url: BasePath + \"ViewProduct.aspx/GetInventory\",\n                data: JSON.stringify(DTO), \n                dataType: \"json\",\n                contentType: \"application/json; charset=utf-8\",\n                success: function (msg) {\n                    var skus = msg.d;\n                    $.each(skus, function () {\n                        //do stuff\n                    });\n                }\n            });\n        } else {\n            // Do other stuff\n        }\n    }\n\n    var formEdited = function (textBoxes) {\n        var edited = 0;\n        $.each(textBoxes, function (i) {\n            if (this.value &gt; 0) {\n                var sku = {};\n                sku.skuNumber = $(this).prev().val();\n                sku.orderAmount = this.value;\n                editedSkus.push(sku);\n                edited += 1;\n            }\n        });\n        return edited;\n    }\n</code></pre>\n\n<p><strong>PAGEMETHOD:</strong></p>\n\n<pre><code>    &lt;WebMethod()&gt; _\nPublic Shared Function GetInventory(orderedSkus As List(Of Object)) As List(Of Object)\n    Dim _skus As SKUCollection\n    Dim _sku As SKU = Nothing\n    Dim warnings As New List(Of Object)\n    Dim qty As Integer\n    _skus = CurrentStyle.SKUs\n\n    For Each _orderedSku As Object In orderedSkus\n        Dim dicValues As New Dictionary(Of String, Object)()\n        dicValues = DirectCast(_orderedSku, Dictionary(Of String, Object))\n        Dim orderedSkuNumber As String = dicValues(\"skuNumber\").ToString()\n        Dim orderAmount As String = CType(dicValues(\"orderAmount\"), Integer)\n\n        Try\n            'Stuff\n        Catch ex As Exception\n            'Health Monitoring\n        End Try\n    Next\n\n    Return warnings\n\nEnd Function\n</code></pre>\n\n<p>EDIT: Adding the \"minor detail\" that our DEV servers are running IIS7 (where the pagemethod works), while PROD is still under IIS6 (where it does not). I know... don't get me started. Adding this because I feel it may bear significance to the situation.</p>\n"},{"tags":["javascript","ajax","facebook","facebook-graph-api"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":34,"score":4,"question_id":13182496,"title":"Facebook comments plugin using GraphAPI","body":"<p>I've been searching for an answer but I find that is hard to find something conclusive about this in the docs (it's entirely possible that I have missed something).</p>\n\n<p><strong>Background</strong></p>\n\n<p>I'm using <a href=\"https://developers.facebook.com/docs/reference/plugins/comments/\" rel=\"nofollow\">this</a> plugin to display the comments on my site and I'm trying to add a \"realtime\" feature. I'm aware that Facebook doesn't provide a auto-refresh feature for the plugin by \"default\" like they do on their site, so I'm emulating that via ajax requests in a <code>setInterval()</code> function.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Is there a way to implement a long ajax pulling, push or another (better?) solution to get the comments information?, The multiple ajax request solution works fine, but it's a little consuming.</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["javascript","jquery","html","ajax","jstree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13134558,"title":"jstree infinite tree","body":"<p>Jstree code -</p>\n\n<pre><code>$(\"#jstree\").jstree({ \n   \"json_data\" : {\n       \"ajax\" : {\n           \"url\" : \"Servlet?action=view&amp;docId=100,\n       }\n   },\n});\n</code></pre>\n\n<p>Now, what is happening is when I expand any of the leaf node then the whole tree builds under that.</p>\n\n<p>The same problem is also observed here - <a href=\"http://www.jstree.com/documentation/json_data#demo2\" rel=\"nofollow\">http://www.jstree.com/documentation/json_data#demo2</a><br>\nTry to expand the \"Only Child\" node and the whole tree builds under that.</p>\n\n<p>Can I remove the ajax request from node expanding because in my case all the tree is loaded at once.</p>\n"},{"tags":["html","ajax","edit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":19,"score":-2,"question_id":13182382,"title":"Saving an editable HTML page","body":"<p>I have some webpages that users will be editing, possibly through the contenteditable property. I'd like to be able to save their changes to the server. From some quick searching it seems like AJAX might be the way to go with this. Since I know little to nothing about AJAX, I wanted to make sure I'm on the right track and see if anyone had anything useful they could point me to. </p>\n"},{"tags":["php","javascript","ajax","string","integer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13181964,"title":"Can't convert a string to an integer","body":"<p>I'm creating dynamically some tags like this:</p>\n\n<pre><code>$('#marker').before('&lt;div class =\"file_up\" id=\"bloc_3\"&gt;&lt;/div&gt;');\n</code></pre>\n\n<p>Then later, I get the number from the id:</p>\n\n<pre><code>$('.file_up').live(\"click\",function() \n{\n    var address  = $(this).att('id');\n    var substr  = address.split(\"_\");\n    var suffix = substr.pop(\"_\");\n\n    $.ajax({\n        url: \"xxxx.php\",\n        type: \"POST\",\n        data: \"suff=\"+parseInt(suffix),\n        cache: false,\n        success: function (res){ alert(res);}\n    })\n\n}\n</code></pre>\n\n<p>Then, in the php file, I do something like this:</p>\n\n<pre><code>&lt;?php\n\n$suff= intval($_POST['suff']);\n$x=4;\necho $suff+$x;\n\n?&gt;\n</code></pre>\n\n<p>Whatever I try, instead of getting a sum of 7, I get a concatenation of two strings like this: \"34\".</p>\n\n<p>Don't know what to do.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13179602,"title":"Modifying cloned html with jquery","body":"<p>I'm trying to open a nice popup for editing a domain object.</p>\n\n<p>For this I have a popup template hidden inside an invisible div on a page.\nWhen user clicks a button, I try to load the domain object with ajax, populate the template and show it.</p>\n\n<p>Trouble is that only first field inside template is populated.</p>\n\n<p>Template: </p>\n\n<pre><code> &lt;div class=\"popup\" id=\"addDriverPopup\"&gt;\n        &lt;div class=\"close\"&gt;&lt;/div&gt;\n\n        &lt;hr class=\"both\"/&gt;\n\n        &lt;div class=\"container  radius\"&gt;\n            &lt;form action=\"/driver/manageDriver\" method=\"post\" name=\"driverForm\" id=\"driverForm\" &gt;\n                &lt;input type=\"hidden\" name=\"id\" id=\"id\" value=\"\" /&gt;\n                &lt;div class=\"title\"&gt;&lt;span&gt;Uus autojuht &lt;/span&gt;&lt;hr class=\"line\"/&gt;&lt;/div&gt;\n                &lt;p class=\"name\"&gt;Nimi &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input type=\"text\" name=\"firstName\" id=\"firstName\" value=\"\" /&gt;&lt;/p&gt;\n\n                &lt;p class=\"name\"&gt;Perekonna nimi &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input type=\"text\" name=\"lastName\" id=\"lastName\" value=\"\" /&gt;&lt;/p&gt;\n                &lt;p class=\"name\"&gt;Isikukood &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input type=\"text\" name=\"personalId\" id=\"personalId\" value=\"\" /&gt;&lt;/p&gt;\n                &lt;p class=\"name\"&gt;Telefoni number &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input type=\"text\" name=\"phoneNumber\" id=\"phoneNumber\" value=\"\" /&gt;&lt;/p&gt;\n            &lt;/form&gt;\n\n        &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Javascript: </p>\n\n<pre><code> $jq.ajax({\n  url: 'show',\n  dataType: 'json',\n  data: {driverId: driverId},\n  success: function( data ) {\n        var popup = $jq('#addDriverPopup').clone();\n        popup.find(\"#id\").val(data.id);\n        popup.find(\"#firstName\").val(data.firstName);\n        popup.find(\"#lastName\").val(data.lastName);\n        popup.find(\"#personalId\").val(data.personalId);\n        popup.find(\"#phoneNumber\").val(data.phoneNumber);\n\n        alert(popup[0].innerHTML); // only id field is field in the template.\n\n\n  },\n  error: function(xhr, error) {\n      alert(error);\n      unblockUI();\n  }\n});\n</code></pre>\n\n<p>Output of alert():</p>\n\n<pre><code>        &lt;div class=\"close\"&gt;&lt;/div&gt;\n        &lt;hr class=\"both\"&gt;\n\n        &lt;div class=\"container  radius\"&gt;\n            &lt;form action=\"/driver/manageDriver\" method=\"post\" name=\"driverForm\" id=\"driverForm\"&gt;\n                &lt;input name=\"id\" id=\"id\" value=\"1271672\" type=\"hidden\"&gt;\n                &lt;div class=\"title\"&gt;&lt;span&gt;Uus autojuht &lt;/span&gt;&lt;hr class=\"line\"&gt;&lt;/div&gt;\n                &lt;p class=\"name\"&gt;Nimi &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input name=\"firstName\" id=\"firstName\" value=\"\" type=\"text\"&gt;&lt;/p&gt;\n                &lt;p class=\"name\"&gt;Perekonna nimi &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input name=\"lastName\" id=\"lastName\" value=\"\" type=\"text\"&gt;&lt;/p&gt;\n                &lt;p class=\"name\"&gt;Isikukood &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input name=\"personalId\" id=\"personalId\" value=\"\" type=\"text\"&gt;&lt;/p&gt;\n                &lt;p class=\"name\"&gt;Telefoni number &lt;/p&gt;\n                &lt;p class=\"input\"&gt;&lt;input name=\"phoneNumber\" id=\"phoneNumber\" value=\"\" type=\"text\"&gt;&lt;/p&gt;\n            &lt;/form&gt;\n        &lt;p&gt;&lt;/p&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>Data returned from the server:</p>\n\n<pre><code>{\"id\":1271745,\"firstName\":\"Burak\",\"lastName\":\"Torum\",\"personalId\":\"123456\",\"phoneNumber\":\"123456\"}\n</code></pre>\n\n<p>I double checked element ids for typos. Debug shows that the correct elements are found.</p>\n\n<p>What am I missing?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","ajax","struts","struts-1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13181565,"title":"mapping.findForward(jsp_page) and new ActionForward(jsp_page)","body":"<p>I am faced with a very strange problem. I have a simple struts application and I use AJAX. With ajax I can just change <code>div(body_content)</code> main layout. I know that the difference between <code>new ActionForward()</code> and <code>mapping.findForward()</code> in that <code>param</code> for <code>findForward</code> was searching in struts config by some outcome and in <code>new ActionForward()</code> I just hardcoded jsp name. But ...</p>\n\n<p>Why is that when I write <code>new ActionForward(\"/pages/page1.jsp\");</code> I haven't problem? and when I use <code>mapping.findForward(\"pag1\")</code> and in struts-config <code>&lt;forward name=\"pag1\" path=\"/pages/page1.jsp\"&gt;</code> I get an empty result in innerHTML? </p>\n"},{"tags":["php","ajax","zend-framework2"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":75,"score":3,"question_id":13178632,"title":"Zend Framework 2: Auto disable layout for ajax calls","body":"<p>An AJAX request to one of my controller actions currently returns the full page HTML.</p>\n\n<p>I only want it to return the HTML (.phtml contents) for that particular action.</p>\n\n<p>The following code poorly solves the problem by manually disabling the layout for the particular action:</p>\n\n<pre><code>    $viewModel = new ViewModel();\n    $viewModel-&gt;setTerminal(true);\n    return $viewModel;\n</code></pre>\n\n<p>How can I make my application automatically disable the layout when an AJAX request is detected? Do I need to write a custom strategy for this?  Any advice on how to do this is much appreciated.</p>\n\n<p>Additionally, I've tried the following code in my app Module.php - it is detecting AJAX correctly but the setTerminal() is not disabling the layout.</p>\n\n<pre><code>public function onBootstrap(EventInterface $e)\n{\n    $application = $e-&gt;getApplication();\n    $application-&gt;getEventManager()-&gt;attach('route', array($this, 'setLayout'), 100);\n\n    $this-&gt;setApplication($application);\n\n    $this-&gt;initPhpSettings($e);\n    $this-&gt;initSession($e);\n    $this-&gt;initTranslator($e);\n    $this-&gt;initAppDi($e);\n}\n\npublic function setLayout(EventInterface $e)\n{\n    $request = $e-&gt;getRequest();\n    $server  = $request-&gt;getServer();\n\n    if ($request-&gt;isXmlHttpRequest()) {\n        $view_model = $e-&gt;getViewModel();\n        $view_model-&gt;setTerminal(true);\n    }\n}\n</code></pre>\n\n<p>Thoughts?</p>\n"},{"tags":["asp.net","ajax","asynchronous","backgroundworker"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13165965,"title":"Using a background worker in ASP.NET with AJAX","body":"<p>I have the need to perform a background task that has a progress bar that shows percentage done and a cancel button. Task specifics aside, for now, I just want to get an example working, so I just have the three main event handlers (DoWork, ProgressChanged, and RunWorkerCompleted) and a loop that just increments a counter and sleeps for 50ms in DoWork. However, it doesn't update except for once at the end.</p>\n\n<p>In Windows Forms I use a Background worker and it functions correctly without any issues. I'd like to just use this same code. However, I have been seeing stuff that says ASP.NET must use AJAX to get the same functionality. So my questions are:</p>\n\n<p>1) Do I really need AJAX to use the background worker?</p>\n\n<p>2) <strong>If yes</strong>, I do need AJAX, what is the easiest, most simplest way a person that doesn't know a darn thing about AJAX could do to get the Background worker up and running on an ASP.NET webpage?</p>\n\n<p>3) <strong>If no</strong>, I don't need AJAX, can anyone point me to a working sample that doesn't use it? I am interested even if it uses some other threading method than background workers.</p>\n\n<p>Sorry for the multi-part question! If you can answer one or the other, it would be much appreciated. I don't really mind which method I end up using as long as it works.</p>\n\n<p>Code for reference from the .cs page:</p>\n\n<pre><code> protected void bwProcess_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)\n { \n     lblProgress.Text = \"Task Complete: \" + e.Result;\n }\n\n protected void bwProcess_ProgressChanged(object sender, ProgressChangedEventArgs e)\n {\n     lblProgress.Text = e.ProgressPercentage.ToString();\n }\n\n protected void bwProcess_DoWork(object sender, DoWorkEventArgs e)\n {\n     for (int i = 0; i &lt;= 100; i++)\n     {\n         if (bwProcess.CancellationPending)\n         {\n             lblProgress.Text = \"Task Cancelled.\";\n             e.Cancel = true;\n             return;\n         }\n         bwProcess.ReportProgress(i);\n         Thread.Sleep(50);\n     }\n     e.Result = \"100%\";\n}\n\nprotected void BWClick(object sender, EventArgs e)\n{\n    lblProgress.Text = \"Firing Process...\";\n    bwProcess = new BackgroundWorker();\n    bwProcess.WorkerReportsProgress = true;\n    bwProcess.WorkerSupportsCancellation = true;\n    bwProcess.DoWork += new DoWorkEventHandler(bwProcess_DoWork);\n    bwProcess.ProgressChanged += new ProgressChangedEventHandler(bwProcess_ProgressChanged);\n    bwProcess.RunWorkerCompleted += new RunWorkerCompletedEventHandler(bwProcess_RunWorkerCompleted);\n\n    if (bwProcess != null)\n    {\n        bwProcess.RunWorkerAsync(\"StartAsynchronousProcess\");\n    }\n}\n</code></pre>\n\n<p>Other notes: I have entered Async=\"True\" and EnableSessionState=\"ReadOnly\" into the @Page.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["jquery","ajax","d3.js"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13179650,"title":"JSON AJAX url wants more","body":"<p>I am using D3 to create some county data with their choropleth example. I am using the d3.json option vs. the jquery .ajax. I have a URL that when I use it just does not load. After some research I found that the web service requires an additional parameter: </p>\n\n<pre><code>   {'county': {'year': 2002,'stat': 'crime'}} \n</code></pre>\n\n<p>So the connection to this url keeps failing on me.</p>\n\n<p>I tried to add the additional required parameters for the web service as follows:</p>\n\n<pre><code>d3.json(\"http://url/states\", function (json) {\n    data = \"{'county': {'year': 2002,'stat': 'crime'}}\"\n    //basic d3 stuff from here below\n    counties.selectAll(\"path\")\n        .attr(\"class\", quantize);\n    dataType = json,\n        contentType = \"application/json; charset=utf-8\";\n});\n</code></pre>\n\n<p>I just cannot connect without those params in the call and I am not sure how to incorporate them.</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13181294,"title":"How to set an element's attribute with JQuery and AJAX?","body":"<p>I'm making a dictionary. A page contains each letter of the alphabet: </p>\n\n<pre><code>&lt;div class=\"letter\" id=\"letter-a\"&gt;\n&lt;h3&gt;&lt;a href=\"#\"&gt;A&lt;/a&gt;&lt;/h3&gt;\n&lt;/div&gt;\n&lt;div class=\"letter\" id=\"letter-b\"&gt;\n&lt;h3&gt;&lt;a href=\"#\"&gt;B&lt;/a&gt;&lt;/h3&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><em>etc.</em></p>\n\n<p>On hovering over a letter, I want a tooltip to popup with some examples of words that begin with that letter.</p>\n\n<p>The examples are stored in a seperate HTML file, like so:</p>\n\n<pre><code>&lt;div class=\"letter\" id=\"letter-a\"&gt;\nAbdication, Absolute, Acknowledge...\n&lt;/div&gt;\n&lt;div class=\"letter\" id=\"letter-b\"&gt;\nBacchus, Backbite, Beard...\n&lt;/div&gt;\n</code></pre>\n\n<p><em>etc.</em></p>\n\n<p>The quickest solution I can think of is to use a $.get call on a link's title attribute, like so:</p>\n\n<pre><code>$('.letter a').hover(function(){\n  var $this=$(this);\n  var letter='letter-'+$this.text();\n  letter=letter.toLowerCase();\n  var url='tooltip-content.html #'+letter;\n  $this.attr('title', $.get($(url).text()));\n}, function(){\n      //etc\n  });\n});\n</code></pre>\n\n<p>But this code just displays \"[object Object]\" in the tooltip instead of the example words.</p>\n\n<p>Does anyone know how to fix it or can suggest a more elegant solution?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","ajax","oop","user-interface"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13180906,"title":"User Interface Design Ajax: What works?","body":"<p>I have most recently started learning AJAX. I would like to know what others are doing for UI design with AJAX. Currently based on the links that are clicked I am injecting additional HTML into the the specific  tags that I want populated. I am a big PHP OOP guy. I have looked up resources on this topic. There is not much out there. I am curious on what is working for others?</p>\n\n<p>Any good resources; books, tutorials, examples would be much appreciated!</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13178533,"title":"My ajax request isn't working","body":"<p>I have an <code>&lt;ul id=\"keuze_lijst\"&gt;</code> , an input field with id <code>#sykje</code> and an button with class <code>.search</code> .</p>\n\n<p>Now when i press the button i would like to clear the UL and repopulate it with data, for this i currently got this .js file.</p>\n\n<pre><code>$(document).ready(function() {\n    $(\".search\").click(function(){\n        var searchValue = $(\"#sykje\").val();\n        $(\"#keuze_lijst\").empty();\n\n        $.ajax({\n            url: 'http://www.autive.nl/frysk/simulator/sim.php?action=getSongs&amp;search='+searchValue,\n            data: \"\",\n            dataType: 'json',\n            success: function(rows) {\n                for(var i in rows){\n                    var row = rows[i];\n                    var id = row[1];\n                    var titel = row[2];\n                    var artiest = row[9];\n\n                    $(\"#keuze_lijst\").append(\"&lt;li class='mag_droppen'&gt;\"+\n                                    \"&lt;div class='song_left'&gt;\"+\n                                    \"&lt;div class='titel'&gt;\"+titel+\"&lt;/div&gt;\"+\n                                    \"&lt;div class='artiest'&gt;\"+artiest+\"&lt;/div&gt;\"+\n                                    \"&lt;/div&gt;&lt;!-- .song_left --&gt;\"+\n                                    \"&lt;/li&gt;\");\n                }\n\n            }\n        });\n    });\n});\n</code></pre>\n\n<p>When i remove the ajax command and put something like <code>$(\"#keuze_lijst\").html(\"hello\");</code> it works fine. But the ajax command isn't working. Though the <code>var searchValue</code> does his work. (ajax uses the correct url). And when i enter that url the page echoes an fine json with multiple rows.</p>\n\n<p>But in my page the ajax script isn't adding the <code>&lt;li&gt;</code>.</p>\n\n<p>What am i doing wrong?</p>\n\n<p><strong>edit:</strong> added an jsfiddle -> <a href=\"http://jsfiddle.net/TVvKb/1/\" rel=\"nofollow\">http://jsfiddle.net/TVvKb/1/</a></p>\n"},{"tags":["javascript",".net","ajax","jquery-ajax","asp.net-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":11261918,"title":"uploading files from client side using jquery ajax using .net","body":"<p>I have a requirement of uploading files from client side using jquery ajax function to different server location instead of sending it to my application web server, this is to avoid anonymous/virus upload to application webserver. </p>\n\n<p>I have searched many sites, but all samples are done in php not in .net 2.0. </p>\n\n<p>Much appreciate if any of you could give me a lead or solution for the same.</p>\n\n<p>Many Thanks\nAnanda</p>\n"},{"tags":["jquery","ajax","prototypejs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13170178,"title":"Ajax deferreds with Prototype js","body":"<p>Is there an ajax deferreds concept in prototype js similar to what jQuery has?\n<a href=\"http://api.jquery.com/jQuery.when/\" rel=\"nofollow\">http://api.jquery.com/jQuery.when/</a></p>\n"},{"tags":["javascript","ajax","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":181,"score":0,"question_id":11667020,"title":"Delete a specific file from the list of uploads using valums ajax uploader","body":"<p>When uploaded files using <strong>valums ajax uploader</strong> we get the list of files with file name and file size. I wanted the list to come with <strong>file name, file size and a Delete link</strong> for the file. So that when the user clicks on delete the file should get out of the list that are displayed.\nI was successful on getting the delete link on each file but as i have less javascript knowledge was unable to process as i wanted. if anybody can help would be great.\nThis is what i have done uptil now.</p>\n\n<pre><code> function deleteme(id){\n //something like this\n     var item = this._getItemByFileId(id);                \n     qq.remove(this._find(item));\n }     \n\nfileTemplate:'&lt;li&gt;' +\n            '&lt;span class=\"qq-upload-file\"&gt;&lt;/span&gt;' +\n            '&lt;span class=\"qq-upload-spinner\"&gt;&lt;/span&gt;' +\n            '&lt;span class=\"qq-upload-size\"&gt;&lt;/span&gt;' +\n            '&lt;a class=\"qq-upload-cancel\" href=\"#\"&gt;Cancel&lt;/a&gt;' +\n            '&lt;span class=\"qq-upload-failed-text\"&gt;Failed&lt;/span&gt;' +\n            '&lt;a class=\"qq-upload-del-text\" href=\"javascript:deleteme(this.id);\"&gt;Delete&lt;/a&gt;' +\n            '&lt;/li&gt;',\n</code></pre>\n\n<p>thanks in advance.</p>\n"},{"tags":["ajax","json","struts2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":13175042,"title":"How can i get json in struts 2 action class through ajax call?","body":"<p>I have an application with struts 2 and i want to sensd a json using ajax call to action class.\n    My ajax looks like this:</p>\n\n<pre><code>var data = {{userName:\"userName\",password:\"password\",userId:\"userId\"},\n{userName:\"userName\",password:\"password\",userId:\"userId\"},\n{userName:\"userName\",password:\"password\",userId:\"userId\"}\n}\n var users= JSON.stringify(data);\n                            $.ajax({\n                                data: users,\n                                type: \"POST\", \n                                url: \"http://localhost:8080/Example_Project/Example.action\",\n                                contentType: \"application/json\",\n                                dataType: \"json\" \n\n                                 })\nAction.class\n\n\n\n\n\npublic class ExampleAction extends ActionSupport\n                {\n                private List&lt;User&gt; users;\n\n                 public List&lt;User&gt; getUsers() {\n                return users;\n            }\n             public void setUsers(List&lt;User&gt; users) {\n                this.users = users;\n            }\n\n            public String addUsers(){\n\n            //code to inser user list\n            return \"success\";\n            }\n                }\n\nUser.java       \n\n\n\n\n public class User{\n\n                private String ;//getters and setters for it\n                private String password;//getters and setters for it\n                private Integer userId;//getters and setters for it\n\n                }\n\nstruts.xml\n\n\n\n\n\n   &lt;struts&gt;\n        &lt;package name=\"default\" extends=\"struts-default,json-default\" &gt;\n            &lt;action name=\"Example\" class=\"com.json.action.ExampleAction\" method=\"addUsers\"&gt;\n                    &lt;result name=\"success\"&gt;/success.jsp&lt;/result&gt;\n            &lt;/action&gt;\n\n        &lt;/package&gt;\n    &lt;/struts&gt;\n</code></pre>\n\n<p>I am using struts2-core 2.3.1.2 ,struts2-json-plugin 2.3.1.2 and json-rpc 1.0.How can i get the users data in action class.With the above code i am getting null in users variable in the action class.Please help.</p>\n"},{"tags":["jquery","asp.net","ajax","webmethod"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13179831,"title":"jQuery AJAX not working on production server","body":"<p>This is my first post on here. Any help would be awesome. I'm trying to call a vb.NET subroutine from my aspx page using jQuery and AJAX. When I run the page from VS 2008 on my PC (Windows XP SP2), it works great. When I copy the site to the production server Windows Server 2008 , it doesn't do anything. No errors or anything. I've tried debugging with IE's script debugger. I've been trying to figure this out for days and am coming up with nothing.</p>\n\n<p>Here is the script:</p>\n\n<pre><code>&lt;script type = \"text/javascript\"&gt;\n    function AjaxTest() {\n        $.ajax({\n            type: 'POST',\n            url: \"Test.aspx/AjaxTestSub\",\n            data: \"{}\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: 'json',\n            async: true,\n            cache: false,\n            success: OnSuccess,\n            failure: function (response) {\n                alert(\"Didn't work!\");\n            }\n        });\n    }\n    function OnSuccess(response) {\n        alert(\"Worked!\");\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>And here is the simple subroutine:</p>\n\n<pre><code>&lt;WebMethod()&gt; Public Shared Sub AddPOToTrailer()\n    MsgBox(\"Made it to Subroutine!\")\nEnd Sub\n</code></pre>\n\n<p>I'm sure I left a bunch of information out, so please ask if you can think of anything that might help.</p>\n"},{"tags":["ajax","razor","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13019778,"title":"Make an AJAX request using $.ajax in MVC 4","body":"<p>I am trying to make an AJAX request using $.ajax in MVC 4 with Razor. I'm not sure how to implement it. </p>\n\n<p>Using <a href=\"http://www.youtube.com/watch?v=gLiWQkqUoVM\" rel=\"nofollow\">this video</a> I was able to successfully make a link-driven call that returned data, but I can't seem to do the same thing from inside a jquery function. I can't seem to find any basic examples of how to do this.\nThis is what I am working with:</p>\n\n<p><strong>HomeController.cs</strong></p>\n\n<pre><code>        public string test(){\n             return \"It works\";\n        }\n</code></pre>\n\n<p><strong>View.cshtml</strong></p>\n\n<pre><code>function inventory(dealerID) {\n    $.ajax({\n        url: '@Url.Action(\"HomeController\",\"test\")',\n        data: {dealerID: dealerID},\n        type: 'POST',\n        success: function(data) {\n            process(data);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","asp.net-mvc","silverlight"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13175751,"title":"Communication between browser of two application in different domain","body":"<p>I have one silverlight application hosted at www.abc.com</p>\n\n<p>I have one web application hosted at www.xyz.com</p>\n\n<p>I want to call the page of web application on button click of silverlight application and pass some parameters to it now silverlight application will show busy indicator until the transaction of the page of web application doesn't get completed. Now if the user has successfully done the transaction in the page or if he close the page of web application i want some parameters to pass to silverlight application so that it can know to stop the busy indicator and further process. I know there would be something in jquery or ajax which do such communication in cross domain but i am not getting it around.</p>\n\n<p>I would really appreciate if someone could help me out with this.</p>\n"},{"tags":["php","jquery","ajax","wordpress","contact-form-7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13178416,"title":"Adding action to Contact Form 7 submit w/ PHP hook","body":"<p>I'm having some trouble implementing a bit of custom functionality in the Contact Form 7 plugin for Wordpress.</p>\n\n<p>What I want to do is pretty straightforward.  The contact form in question is a normal contact inquiry form, so I need to retain the usual functionality (mailing the data).  However I also have a checkbox on the form that allows the sender to choose whether to subscribe to the client's mailing list in addition to mailing the contact inquiry.</p>\n\n<p>The client uses Bronto for their mass mailing (similar to CC or Mailchimp).  Bronto has a \"direct add\" feature (<a href=\"http://community.bronto.com/blog/how-to/adding-contacts-direct-add\" rel=\"nofollow\">more info here</a>) that allows you to send parameters to add contacts to the Bronto account by embedding an image whose url contains the requisite parameters (email address, list to subscribe to, etc).</p>\n\n<p>I can construct the image url with the contact form parameters no problem, but actually getting the image request sent is a different matter.  I am over my head both in PHP and JS here and not sure what course to take.</p>\n\n<p>Currently I'm using the <code>wpcf7_before_send_mail</code> php hook built into CF7 and this appears to allow me to collect the form data and build the URL.  However, since the plugin uses AJAX and doesn't actually redirect to another page on form submission it seems I can't successfully use any kind of php output (echo, alert, even error_log), presumably because the server doesn't know what it's supposed to write to.</p>\n\n<p>In functions.php:</p>\n\n<pre><code>add_action( 'wpcf7_before_send_mail', 'bronto_contact_add' );\nfunction bronto_contact_add( $cf7 ) {\n    $emailcf = $cf7-&gt;posted_data['email'];\n    echo $emailcf;\n}\n</code></pre>\n\n<p>This is just a test to see if echo works - it does not.  Instead the form just hangs on submission and I see the rotating loading gif forever.</p>\n\n<p>What I need to do is build the image url using parameters from the cf7 object (which I can do no problem) and then somehow send that image request to the Bronto server (this is the part I am confused about).  If this was a normal form that redirected to another php page upon submission I would have no problem doing this at all, but it uses AJAX which I don't know much about so I'm pretty lost now.</p>\n\n<p>Can anybody help shed some light on how the best way to accomplish this might be?</p>\n"},{"tags":["javascript","ajax","cross-domain","html2canvas"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13138298,"title":"Sending 'large' amount of data cross-origin","body":"<p>I have a javascript bookmarklet which creates a screenshot of an element and saves it as a base64 encoded string.</p>\n\n<p>Now, I need to send that image/string to my own server to save it. Only problem is that it's 6000+ characters long, or about 61 KB, making it unrealistic to <code>GET</code> it back to my server.</p>\n\n<p>Is there some sort of external service that would somehow retrieve it back on my server? How can I send this image to my server?</p>\n"},{"tags":["php","jquery","ajax","jquery-ajax","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13178907,"title":"PHP decodes the ajax sent varible wrong","body":"<p>I try to send a variable using jquery and ajax to php script. Then I want to use that variable in creating a file name but it fails. The file name is always \"0\" and does not locate at the dir \"redirect\".</p>\n\n<p>Here is the code:</p>\n\n<p>Ajax:</p>\n\n<pre><code>    var pageName=$('#movie').val();\n\n    $.ajax({\n        type: \"POST\",\n        url: \"phpstuff.php\",\n        data: { pageName: 'pageName'},\n        cache: false,\n        success: function()\n            {\n                alert(pageName);\n            }\n    });\n</code></pre>\n\n<p>the \"pageName\" variable gets the value from an input box with an id \"movie\"</p>\n\n<p>The php file</p>\n\n<pre><code>function createPage ($newPage){\n\n$file=fopen(\"redirect/\"+$newPage+\".php\",\"w\") or exit(\"Fail to create the page\");\n$data = \"some text I want to be in a file\";\nfwrite ($file, $data);\nfclose($file);\n}\n\n$newPage = $_POST[\"pageName\"];\ncreatePage($newPage);\n</code></pre>\n\n<p>I have searched the net for hours and still can't fix the problem.</p>\n"},{"tags":["jquery","xml","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13178977,"title":"Creating a slow information feed","body":"<p>I currently have a div on my website that fades in and out every 6 seconds or so with different information. Now previously I just hard coded in the separate divs then just made them fade in and out of each other.</p>\n\n<p>But that seems of a bit of a sloppy way of doing it especially as the data will be constantly updated, therefore I have made a XML document which I can easily update how and when I like.</p>\n\n<p>The problem I am facing is that I am unsure on how to use jQuery to load the XML document -> select first  -> wait 6 seconds -> load second item?</p>\n\n<p>So far I have this.</p>\n\n<pre><code>function load_news(){\n    $(\".news\").html(\"\");\n    $.ajax({\n        url:'news.xml',\n        dataType: 'xml',\n        success: function(data) {\n            $(data).find('news item').each(function() {\n                var news = $(this).find(\"body\").text();\n                var news_img = $(this).find(\"img\").text();\n                $(\".news\").append(\"&lt;div class='news'&gt;&lt;div class='wrap'&gt;&lt;div class='glare'&gt;&lt;/div&gt;&lt;img src='img/news/\"+news_img+\".jpg'/&gt;&lt;div class='name'&gt;\"+news+\"&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\");\n            });\n        },\n        error: function(){\n            alert(\"Did not Find XML file\");\n        }\n    });\n}\n</code></pre>\n\n<p>But as you can see I am stuck on how to make it loop through the data received?</p>\n"},{"tags":["asp.net","ajax","json","wcf","web-services"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13168149,"title":"Post strings to WCF service endpoint with jQuery.ajax (500)","body":"<p>This problem has been presented in a number of posts in similar ways without a viable solution to mine.</p>\n\n<p>My service endpoint in <code>ManagerDiscountService</code> looks like:</p>\n\n<pre><code>[ServiceBehavior]\n[ServiceContract(Namespace = \"Cart\")]\n[AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]\npublic class ManagerDiscountService : CartService\n\n    [OperationContract]\n    // also tried [WebInvoke(RequestFormat=WebMessageFormat.Json)]\n    // also tried [WebInvoke(RequestFormat=WebMessageFormat.Json, Method=\"POST\")]\n    public MyObject ToggleMode(string userId, string pwd, string domain)\n</code></pre>\n\n<p>web.config:</p>\n\n<pre><code>&lt;service name=\"Cart.ManagerDiscountService\"&gt;\n    &lt;endpoint address=\"\" behaviorConfiguration=\"Item.ItemAspNetAjaxBehavior\"\n     binding=\"webHttpBinding\" bindingConfiguration=\"wsSecureHttp\" \n     contract=\"Cart.ManagerDiscountService\" /&gt;\n&lt;/service&gt;\n&lt;!-- tried adding a similar wsHttp binding since the POST is not SSL, no luck --&gt;\n</code></pre>\n\n<p>I'm trying to post <code>userId</code>, <code>pwd</code> and <code>domain</code> to this endpoint, but all I see are 500's. <em>Why doesn't this method of posting work</em>? When I debug in Chrome, <code>error</code> is always the next execution in <code>$.ajax</code>:</p>\n\n<pre><code>params = { \"userId\": \"user\", \"pwd\": \"password\", \"domain\": \"mydomain\" };\n$.ajax({\n    type: \"POST\",\n    url: \"/Ajax/Cart/ManagerDiscountService.svc/ToggleMode\",\n    dataType: \"json\",\n    data: JSON.stringify(params, null, null),\n    contentType: \"application/json; charset=utf-8\",\n    success: function (data) {\n        // ...\n    },\n    error: function() {\n        // ...\n    }\n});\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13178523,"title":"Rails: Get remote page via ajax","body":"<p>I use Rails3 and I try to get remote page via ajax. (https://play.google.com/store/apps/details?id=).</p>\n\n<pre><code>$.ajax({\n      url: app_url,\n      type: 'GET',\n      data: \"id=&lt;id&gt;\",\n      crossDomain : true,\n      dataType: 'jsonp',\n      success: function ( code ) {\n        alert(\"Good.\");\n      }\n    });\n</code></pre>\n\n<p>When I run the script, the I see: \"Uncaught SyntaxError: Unexpected token &lt; \" error message.</p>\n\n<p>By the way, I tried do it as: </p>\n\n<pre><code>$.ajax({\n      url: app_url,\n      type: 'GET',\n      data: \"id=&lt;id&gt;\",\n      crossDomain : true,\n      dataType: 'jsonp',\n      success: function ( code ) {\n        alert(\"Good.\");\n      }\n    });\n</code></pre>\n\n<p>But I see \"Origin <a href=\"http://example.com:3000\" rel=\"nofollow\">http://example.com:3000</a> is not allowed by Access-Control-Allow-Origin.\" error message.</p>\n\n<p>How can I fix the error and get the page ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","javascript","jquery","ajax","browser"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":75,"score":3,"question_id":13178337,"title":"Which solution is best when the browser back button is hit","body":"<p>I have an application and the problem I have is with the back brower buttons, if the user cliks on a back browser, then it would mess things up in the application.</p>\n\n<p>So I want to do either 2 things:</p>\n\n<p>Solution 1: I have found a site where it shows the javascript code for disabling back buttons on all browsers. Obviously you need javascript enabled for this to work but my application won't work very well without javascript anyway so this won't be a problem (I include a warning in each page in my application stating javascript must be enabled in order to use the app)</p>\n\n<p>Solution 2: IF the user does click on the back button at any time, then it will navigate the user to the safety.php page where on this page it will inform the user that they can't use the browser back button, then it will destroy all of the sessions so that the user is logged out. If they want to use the app again then they will have to login again and use the app from the beginning.</p>\n\n<p>My question is that out of both solutions, which one would be better to use? My application is where a teacher creates an online assessment, creating the assessments detials (start time/ duration date etc) and creating the  questions and answers for each assesment (could be single or multiple assessments)</p>\n"},{"tags":["jquery","ajax","callback"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13168572,"title":"Call to jquery ajax - .fail vs. :error","body":"<p>Which one should I use?  </p>\n\n<p>Is there any reason to use one rather than the other?</p>\n\n<p>Is one better for error handling?</p>\n\n<pre><code>$.ajax({\n    url: url,\n    data: { start: start, end: end }\n}).done(data, textStatus, jqXHR) {\n    $('#myElement').append(data);\n}).fail(function() {\n    // report error    \n});\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>$.ajax({\n    url: url,\n    data: { start: start, end: end },\n    success: function(data, textStatus, jqXHR) {\n        $('#myElement').append(data);\n    },\n    error: function(jqXHR, textStatus, errorThrown) {\n        // report error\n    }\n});\n</code></pre>\n"},{"tags":["ajax","html5","firefox","autofocus"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":275,"score":2,"question_id":9955398,"title":"Autofocus Attribute of HTML5 does not work only in FireFox when <Form><input> are loaded via Ajax. WHY?","body":"<p>Below is the form which i loaded via ajax. When i run the form page directly then autofocus on c_name works in firefox but when loaded with ajax it doesn't! It works fine with opera/safari/chrome though!</p>\n\n<pre><code>&lt;form action=\"client_entry_action.php\" method=\"post\" id=\"client_entry_form\" name=\"client_entry_form\"&gt;\n\n&lt;fieldset id=\"client_info_1\"&gt;\n\n    &lt;label for=\"c_name\"&gt;Name:&lt;/label&gt; \n    &lt;input type=\"text\" name=\"c_name\" required placeholder=\"Name\" autofocus=\"autofocus\" /&gt;\n\n    &lt;label for=\"c_phone\"&gt;Phone Number:&lt;/label&gt; \n    &lt;input type=\"tel\" name=\"c_phone\" required placeholder=\"Mobile/Phone Number\" /&gt;\n\n    &lt;label for=\"c_email\"&gt;Email:&lt;/label&gt; \n    &lt;input type=\"email\" name=\"c_email\" required placeholder=\"email@example.com\" /&gt;\n\n    &lt;label for=\"c_address\"&gt;Address:&lt;/label&gt; \n    &lt;textarea name=\"c_address\" &gt;&lt;/textarea&gt;\n\n\n&lt;/fieldset&gt;\n\n&lt;fieldset id=\"client_info_2\"&gt;   \n\n    &lt;label for=\"c_info\"&gt;Additional notes:&lt;/label&gt; \n    &lt;textarea name=\"c_info\" &gt;&lt;/textarea&gt;\n\n    &lt;input type=\"submit\" name=\"add_client\" value=\"Add Client\" /&gt;\n\n&lt;/fieldset&gt;        \n\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["ajax","polling","wps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13177458,"title":"How to poll a specific HTTP POST","body":"<p>OK, so I am submitting an http POST like normal to a specific URL with parameters</p>\n\n<pre><code>var request = OpenLayers.Request.POST({\nurl: \"http://test/services\",\ndata: params\n</code></pre>\n\n<p>});</p>\n\n<p>The XML I get back from the server contains information on the % complete the (WPS) process is. Initially, when I send the POST, I get 0%, of course. I want to figure out how to retrieve the exact same XML so I can poll and create a progress bar. If I replicate the POST, it creates a brand new process. SO I won't get back that same process.</p>\n\n<p>So I just can't figure out how exactly to continue polling to get the XML how I need. Maybe I need to configure a GET somehow?</p>\n\n<p>Thanks! </p>\n"},{"tags":["javascript","jquery","html","css","ajax"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13177049,"title":"When this ajax jquery trigger I want a image that loads for 1 second","body":"<p>I have this code </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function () {\n        $(\".a\").live(\"click\", function () {\n            var $this = $(this),\n        ProductImageId = $this.data('ProductImageId');\n            $.ajax({\n                url: '/Home/AddToCart',\n                type: \"post\",\n                cache: false,\n                data: { ProductImageId: ProductImageId },\n                success: function (data) {\n                    data = eval(data);\n                    $this.addClass('productSelected');\n                },\n                error: function (result) {\n                    $(\".validation-summary-errors\").append(\"&lt;li&gt;Error connecting to server.&lt;/li&gt;\");\n                }\n\n            });\n        });\n</code></pre>\n\n<p>Every time someone click on this button I want a image to load for like 1 sec\nso the user knows that something happened..</p>\n\n<p>any kind of help is appreciated</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":3125662,"title":"How to access the text of a remotely loaded \"<script>\" element?","body":"<p>Well i am currently trying to write an ajax enabled Manga reader application for onemanga using greasemonkey (more precisely js / jquery)</p>\n\n<p>my problem is that i need to execute one of the inline scripts on their page to update the next page url. so what i attempted was the following:</p>\n\n<pre><code>$.get(nextPage,function(nxtHtm) // the variable nextPage already contains required url\n{\n  nxtImgUrl = $(nxtHtm).find(\".one-page img\").attr(\"src\");   // get next image url\n  $(\"body\").append(\"&lt;img id='dynamic' src='\"+nxtImgUrl+\"'/&gt;\");  // append next image\n  $(nxtHtm).find(\"script:last-1\").appendTo(\"body\"); // attempt to append script to body\n  alert(nextPage); // testing if script to change page url has been executed\n});\n</code></pre>\n\n<p>Howerver that only seems to work on the image part. the script has no effect whatsoever.\ni also tried to do an\n    alert($(nxtHtm).find(\"script:last-1\").html());\nand variants such as .text() or . val()\nthe .html() returns nothing (not \"null\", it just alerts a blank value) and the other two return null or undefined</p>\n\n<p>Does anyone have an idea of how i can append the remote script here? or alternatively capture the text in between the tags and just eval() it?</p>\n\n<p>thanks ^^</p>\n"},{"tags":["javascript","jquery","ajax","http","rest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13168569,"title":"Custom Headers in jQuery Ajax OPTIONS call","body":"<p>So I know that if I have custom headers in my Ajax calls browser does a preflight to ensure that the resource is available. My problem is that my REST service uses Http-Authorization for security, but in the OPTIONS call this header is not getting passed in, even though it's added through beforeSend(). </p>\n\n<p>Do I have to reply to OPTIONS unauthenticated? </p>\n"},{"tags":["c#","ajax","asp.net-mvc","drop-down-menu"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13175481,"title":"How to capture ajax drop down list value in MVC 3 view?","body":"<p>I have the following view that has tow dropdowns and one button:</p>\n\n<pre><code>@model RoomReservation.Webb.Models.HomeViewModel\n\n@{\n    ViewBag.Title = \"\";\n    Layout = \"~/Views/Shared/_Layout.cshtml\";\n}\n\n&lt;h2&gt;Index&lt;/h2&gt;\n\n&lt;fieldset&gt;\n    &lt;legend&gt;Select a city and a hotel&lt;/legend&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    @Html.DropDownListFor(x=&gt;x.City_DDL_ID, new SelectList(Model.AllCities, \"Value\", \"Text\"),\"...pick a city...\" )\n    &lt;br /&gt;\n    &lt;br /&gt;\n    @Html.DropDownListFor(x =&gt; x.Hotel_DDL_ID, Enumerable.Empty&lt;SelectListItem&gt;(), \"...pick a hotel...\", new { disabled = \"disabled\"})\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;input id=\"SearchButton\" type=\"submit\"  onclick=\"window.location.href='/Home/SearchForRooms'\" disabled=\"disabled\"/&gt; \n&lt;/fieldset&gt;\n\n&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n    $('#City_DDL_ID').change(function () {\n        var selectedCity = $(this).val();\n        if (selectedCity != null &amp;&amp; selectedCity != '-1') {\n            $.getJSON('@Url.Action(\"GetHotels\")', { id: selectedCity }, function (hotels) {\n                var hotelsSelect = $('#Hotel_DDL_ID');\n                hotelsSelect.empty();\n                $.each(hotels, function (index, hotel) {\n                    hotelsSelect.append($('&lt;option/&gt;',\n                    {\n                        value: hotel.Value,\n                        text: hotel.Text\n                    }));\n                });\n                $('#Hotel_DDL_ID').attr('disabled', false);\n                $('#SearchButton').attr('disabled', false);\n\n            });\n        }\n    });\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n function onsubmitclcik() {\n    var SecondDrpId = $('#Hotel_DDL_ID').val();\n    window.location.href = '/Home/SearchForRooms?parameter=' + SecondDrpId;\n</code></pre>\n\n<p>}\n    </p>\n\n<p>I would like to get a value from second dropdown so that I can give it as paramater to my method f**ired from the button atribute \"onclick\". It is now working (above script).\nBut my action still gets null parameter. Here is the code:</p>\n\n<pre><code>public ActionResult SearchForRooms(int SecondDrpId) \n    {\n        if (SecondDrpId &gt; -1)\n            return View(); //Here goes some model, not important\n        else\n            return RedirectToRoute(\"Home/Index\");\n    }\n</code></pre>\n\n<p>Here is the Chrome parameter:\nRequest URL:http://localhost:22191/Home/SearchForRooms?parameter=3\nRequest Method:GET \nthank you**</p>\n"},{"tags":["javascript","ajax","phantomjs","tor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13163422,"title":"Is there a way to request new Tor identity in PhantomJS?","body":"<p>I'm trying to use PhantomJS to scrape a website meanwhile using Tor to change my IP address. I'd like to know is there a way to request new Tor identities in Javascript. I've seen <a href=\"http://stackoverflow.com/questions/11585681/request-new-identify-from-tor-in-javascript\">this question</a> but cannot understand how to use AJAX to do it. </p>\n"},{"tags":["ajax","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13172020,"title":"SEO: Use #hash link in HREF or use a normal link for AJAX links?","body":"<p>My site relies heavily on AJAX. I'm using <code>#!</code> in URLs to maintain back button functionality and a different URL for each page.</p>\n\n<p>This is how my links look right now:</p>\n\n<pre><code>&lt;a href=\"#!/something\"&gt;\n</code></pre>\n\n<p>I'm considering this other approach, so that my links have regular hrefs:</p>\n\n<pre><code>&lt;a href=\"/something\" class=\"ajax\"&gt;\n\n$(\"a.ajax\").click(function (e) {\n    e.preventDefault();\n    window.location = '/#!' + $(this).attr('href');\n    });\n</code></pre>\n\n<p>The advantage would be that all pages would already have an http address and I'm considering doing a non-js version of the site so it would be easier to do it.</p>\n\n<p>Anyway I don't know what to choose, are there advantages (with SEO or others) on one over the other?</p>\n"},{"tags":["php","ajax","wordpress","forms","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":467,"score":0,"question_id":3545375,"title":"cForms Plugin Post-Processing","body":"<p>I have a cForms II contact form set up. It works perfectly if I just want the results emailed to myself (default behavior).</p>\n\n<p>I now have a custom PHP file that will take the POST data from the form and submit it to an external database for me. However, when I set the Alternative Form Action page to this PHP page, clicking the Submit button just causes the form to hang.</p>\n\n<p>How exactly do I pass the form data to my own PHP file while still keeping AJAX enabled (so form validation works)?</p>\n\n<p>Cheers!</p>\n"},{"tags":["ajax","asp.net-ajax","collapsiblepanelextender"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13175638,"title":"CollapsiblePanelExtender does not work with CollapsedSize=\"0\"","body":"<p>This \"CollapsiblePanelExtender\" works ok only if I use CollapsedSize=\"1\".\nWhen using CollapsedSize=\"0\" it collapses but does not show when clicked...\nAny ideas ?</p>\n\n<pre><code>        &lt;asp:CollapsiblePanelExtender \n            ID=\"CollapsiblePanelExtender1\" \n            runat=\"server\" \n                TargetControlID=\"pBody\"         \n                CollapseControlID=\"pHeader\" \n                ExpandControlID=\"pHeader\"   \n                Collapsed=\"false\" \n                TextLabelID=\"lblText\" \n                CollapsedText=\"Click to Show Content...\" \n                ExpandedText=\"Click to Hide Content...\" \n                CollapsedSize=\"1\"\n                AutoCollapse=\"False\"\n                AutoExpand=\"False\"\n                ScrollContents=\"True\"\n                ExpandDirection=\"Vertical\"\n                SuppressPostBack=\"true\" &gt;\n        &lt;/asp:CollapsiblePanelExtender&gt;\n</code></pre>\n"},{"tags":["c#","asp.net","css","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2311,"score":3,"question_id":6774936,"title":"Making Update Progress Panel in the center","body":"<p>I have a query regarding update progress panel.\nI want to fit update progress panel in the middle of my screen!\nCan anyone suggest me, what is the idea of making it so??</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13175317,"title":"Halt processing of a previous call when a new callback is triggered on an ajax call","body":"<p>I got an ajax call that upon successful call, triggers a callback ( a series of functions, ajax calls and other processing ). That ajax call is made on an event that requires constant user input, for example an ajax based search. </p>\n\n<p>What i want is, when that callback is triggered, all the processing of the previous callbacks should be terminated. </p>\n\n<p>For example, \nCallback for ajax call A triggers process A.\nCallback for ajax call B triggers process B.</p>\n\n<p>Process A and B are the different instances of the same process. The process contains multiple function and ajax calls. </p>\n\n<p>Call B is made before process A is finished, in this case, the process A should halt, and process B should start.</p>\n\n<p>Since these calls are the same, i tried to md5 the input and check on callbacks if it has changed, but since process A;B have multiple ajax calls, i end up doing md5 on each one. which is not good for performance i guess and makes the code complex</p>\n"},{"tags":["php","ajax","wordpress"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13174677,"title":"AJAX call cross domain issue","body":"<p>I am trying to login to my wordpress site using ajax call, which i asked in <a href=\"http://stackoverflow.com/questions/13134882/login-to-wordpress-site-from-my-site\">previous question</a>. It should not respond anything back. But whenever i call this ajax function, Firefox(firebug) is showing 200 OK in red. This must be a cross domain issue. Tried too many things but no luck so far. Here is the code:</p>\n\n<pre><code>$.ajax({\n         type: \"POST\",\n         url: \"http://path-to-wordpress/wp-login.php\",\n         data:myData\n         success: function(data){\n\n         },\n        error: function (xhr, ajaxOptions, thrownError) {\n\n        }   \n});\n</code></pre>\n\n<p>Any suggestion will be appreciated.</p>\n"},{"tags":["jquery","ajax","jquery-ajax","jquery-ui-datepicker"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13174828,"title":"JQuery datePicker not working for dynamically created input element","body":"<p>I am trying to integrate the jquery datepicker to an input field which i am creating dynamically using script..</p>\n\n<p>my script is like...</p>\n\n<pre><code>function getDate(id)\n{\n       $('.pop-up-link').show();\n        $.ajax({\n        url :   'gettartDate.jav',\n        data    :   'Id='+id,\n        success :   function(dateStr)\n                        {\n                             var htmlStr = 'Start Date : &lt;input type=\"text\" class=\"datepicker\" id=\"startDateId\" value=\"'+dateStr.StartDate+'\"/&gt;';\n                             $(\".pop-info\").html(htmlString);\n                             $('.datepicker').datepicker({ dateFormat: 'yy-mm-dd', changeMonth: true, changeYear: true});\n                        }\n}\n</code></pre>\n\n<p>I am calling this script when i need to edit the date in database and to add new entry to database. When i need to add new entry, im setting id as 0 and returning a blank string..</p>\n\n<p>Now my problem. the datepicker works perfectly for edit functionality.. But when i add a new entry, the datepicker ui comes.. But the date is not updating to that input field. Again, when i put an alert to display selected date,i noticed that only date is changing.. The year and month is not changing, even when i change it</p>\n"},{"tags":["php","javascript","ajax","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13173007,"title":"my Codeigniter form with ajax return all page","body":"<p>In my project I user ajax to process form. Now i want to get Post data to process. I use Javascript when Jquery is not allowed. But Ajax return whole page, how can I fix that.</p>\n\n<p>My controller :</p>\n\n<pre><code>class Form extends Controller {\n\n    function __construct() {\n        parent :: __construct();\n        $this-&gt;load-&gt;model('Form_model');\n    }\n\n    function index() {\n       $this-&gt;loadForm();\n\n    }\n\n    function loadForm() {\n        $this-&gt;load-&gt;view('form_view');\n    }\n\n    function ajax_add_form_content() {\n\n        if (isset($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;&amp; $_SERVER['HTTP_X_REQUESTED_WITH'] == \"XMLHttpRequest\") {\n            echo $_POST['fullname'] . '+' . $_POST['subject'];\n        } else {\n            echo '0';\n        }\n    }\n\n}\n</code></pre>\n\n<p>And my view :</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n    &lt;title&gt;Form view&lt;/title&gt;\n\n    &lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\n\n\n        function ajax_post(){\n\n            var hr = new XMLHttpRequest();\n\n            var url = \"&lt;?php echo base_url().'index.php/form/ajax_add_form_content'?&gt;\";\n            var fn = document.getElementById(\"txtFullName\").value;\n            var ln = document.getElementById(\"txtSubject\").value;\n            var vars = \"fullname=\"+fn+\"&amp;subject=\"+ln;\n            hr.open(\"POST\", url, true);\n\n            hr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n\n            hr.onreadystatechange = function() {\n                if(hr.readyState == 4 &amp;&amp; hr.status == 200) {\n                    var return_data = hr.responseText;\n                    document.getElementById(\"status\").innerHTML = return_data;\n                }\n            }\n\n            hr.send(vars); \n            document.getElementById(\"status\").innerHTML = \"processing...\";\n            return false;\n        }\n\n    &lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"form\"&gt;\n        &lt;span id='status' &gt;&lt;/span&gt;\n        &lt;form class=\"form\" method=\"post\"&gt;\n            &lt;p class=\"formName\"&gt;contact&lt;/p&gt;\n            &lt;p class=\"formDesc\"&gt;contact us&lt;/p&gt;\n            &lt;div class=\"form_elements\"&gt;\n                &lt;div class=\"textField\"&gt;\n                    &lt;label&gt;Full name&lt;/label&gt;\n                    &lt;input id=\"txtFullName\" class=\"inputText required\" type=\"text\" maxlength=\"255\" size=\"28\" name=\"txtFullName\"&gt;\n\n\n                &lt;/div&gt;\n\n                &lt;div class=\"textField\"&gt;\n                    &lt;label&gt;Subject&lt;/label&gt;\n                    &lt;input id=\"txtSubject\" class=\"inputText required\" type=\"text\" maxlength=\"255\" size=\"28\" name=\"txtSubject\"&gt;\n\n\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n            &lt;div class=\"form_submit\"&gt;\n                &lt;input id=\"btnSubmit\" type=\"submit\" value=\"Send\" name=\"btnSubmit\" onClick=\"javascript:ajax_post();\"&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n        &lt;div id='display'&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks for any help !</p>\n"},{"tags":["javascript","jquery","ajax","arrays","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13174220,"title":"How to put the Ajax call array(json) in to a global array?","body":"<p>I'm very confiused right know! :)</p>\n\n<p>I'm using the Ajax to get some date out of a mysql thru php.</p>\n\n<p>The JS:</p>\n\n<pre><code>function toDb2(datastr,callback){\n    $.ajax({    \n        type: \"POST\",\n        url: \"config.php\",\n        data: datastr,\n        cache: false,\n        success: function(datax){\n            if (callback &amp;&amp; typeof(callback) === \"function\") { \n                }\n                alert(datax);\n                callback();\n            };\n        }\n    });\n};\n</code></pre>\n\n<p>The PHP :</p>\n\n<pre><code>function hamtakl($valdaverktyg){\n     $con = mysql_connect(\"localhost\",\"r00t\",\"\");\n     if (!$con)\n     {\n     die('Could not connect: ' . mysql_error());\n     }\n     mysql_select_db(\"toolpool\", $con);\n    $visahamtat = mysql_query(\"SELECT * FROM level WHERE Verktyg='$valdaverktyg' OR Stang='ja' ORDER BY Datum\");\n    $p = array(); \n    while($row = mysql_fetch_assoc($visahamtat))\n      {\n        $p[] = $row['Datum']; \n      }\n      echo json_encode($p);\n      mysql_close($con);\n}\n</code></pre>\n\n<p>so far so good!\nthe output of ajax call looks like this:</p>\n\n<pre><code> [\"2012/11/26\",\"2012/11/27\",\"2012/11/05\"]\n</code></pre>\n\n<p>I thouth everything is ok, but i need to put the \"datax\" in to a global array.\nI tested </p>\n\n<pre><code>myglobalarray = datax ;\n</code></pre>\n\n<p>did not worked!\nthen I defined the array in the first line of my js like this:</p>\n\n<pre><code>var myglobalarray = new Array;\n//allso tested  var myglobalarray = [];\n</code></pre>\n\n<p>but i dont know how to push the \"datax\" in to arrays now.\nI think the problem is that the \"datax\" is not a array.</p>\n\n<p>Basicly i need to get the dates and later on use them in jquery datepicker to disable the dates.\nWhen I use datax = anotherGlobalVariable; and alert it out it's outputs </p>\n\n<pre><code> [\"2012/11/26\",\"2012/11/27\",\"2012/11/05\"]\n</code></pre>\n\n<p>Now I'm lost! have no idea what I have to do :D!</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":46,"score":-1,"question_id":13174076,"title":"Please review my code.Need Input","body":"<p>Im using the following code for records inserting into database field.I want to correct the following  if and else condition because when records are inserting in database it should echo 0 but it is giving 1.Im unable to figure out the problem.Please  i need correction in my code.</p>\n\n<pre><code>&lt;?php    /****************dbfile.php****/\n$data = $_REQUEST['columns_one'];\n$store_data = explode(\",\",$data);\n//print_r($store_data);\n$con = mysql_connect(\"localhost\",\"root\",\"\");\nmysql_select_db(\"formbuilder\",$con);\n\n$query = \"INSERT INTO record(form_id,form_structure) VALUES('1','value')\";\n$result = mysql_query($query);\n\nif(mysql_num_rows($result)&gt;0)\n{\n    echo 0;\n}\nelse\n{\n    echo 1;\n\n}\n\n?&gt;\n\n&lt;script&gt;   &lt;!--- ajax call-----&gt;\n$.post(\"dbfile.php\", {columns_one:columns_one },  \n            function(result){  \n                //if the result is 1  \n                if(result == 1){\n                alert('success');  \n\n                    return true;\n                }else{ \n                alert('fail'); \n\n                    return false;\n\n                }  \n&lt;/script&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13173336,"title":"How do you write to a span using jquery?","body":"<p>Hi i'm trying to populate a span on the page load with jquery.</p>\n\n<p>At the moment the value populated into the span is just an integer count.</p>\n\n<p>Here i have named my span userCount:</p>\n\n<pre><code>&lt;a href=\"#\" class=\"\"&gt;Users&lt;span id = \"userCount\"&gt;&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n\n<p>I am trying to write the value of the span with no success.</p>\n\n<pre><code>$(document).ready(function () {\n        $.post(\"Dashboard/UsersGet\", {}, function (dataset) {\n\n            var obj = jQuery.parseJSON(dataSet);\n            var table = obj.Table;\n\n            var countUsers\n\n            for (var i = 0, len = table.length; i &lt; len; i++) {\n                var array = table[i];\n                if (array.Active == 1) {\n                    var name = array.Name;\n                }\n                countUsers = i;\n            }\n            userCount.innerHTML = countUsers.toString();\n\n        });\n\n    });\n</code></pre>\n"},{"tags":["javascript","ajax","api","google-chrome-extension","google-plus"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":328,"score":2,"question_id":10499367,"title":"How to get Google Plus Notifications count?","body":"<p>I'm developing a Google Chrome extension and I want to retrieve Google+ notifications count for current user, in a script running in the background.\nIs it possible? I studied the Google+ APIs at <a href=\"https://developers.google.com/+/api/\" rel=\"nofollow\">https://developers.google.com/+/api/</a> but it seems not supported yet.</p>\n\n<p>How is it possible to retrieve the count value anyway? I tried with a (cross-domain permitted) AJAX request, but the notification value seems generated at runtime, in JavaScript.</p>\n"},{"tags":["c#","asp.net","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":291,"score":0,"question_id":10469452,"title":"AJAX with ASP.NET 4 - Using ajax to add to a ListItem","body":"<p>Firstly I'd like to point out that I am very new to working with the MS Ajax framework within ASP.NET so there might be something incredibly simple and fundamental that I am doing wrong... I am more than happy to accept that!</p>\n\n<p>Anyway, I am trying to add items to a listbox by sending a new serial number up to the server, validating it and then updating the listbox control from the server side. The first time I click on the button I get the desired result - the new serial number is sent to the server, added to the server's instance of the listbox class and then sent back to the client.\nSo far so good...</p>\n\n<p>Unfortunately, the next time I click on the add button I get an exception:</p>\n\n<blockquote>\n  <p>Unhandled exception at line 881, column 13 in <a href=\"http://ajax.aspnetcdn.com/ajax/4.5/3/MicrosoftAjaxWebForms.debug.js\" rel=\"nofollow\">http://ajax.aspnetcdn.com/ajax/4.5/3/MicrosoftAjaxWebForms.debug.js</a></p>\n  \n  <p>0x800a139e - Microsoft JScript runtime error: Sys.WebForms.PageRequestManagerServerErrorException: An item with the same key has already been added.</p>\n</blockquote>\n\n<p>This second command doesn't appear to be making it up to the server, the exception seems to be on the client side before it reaches the server (I verified this by placing a breakpoint and trace commands on the server on the button click event handler).</p>\n\n<p>I'm not sure what key it is referring to and I'm not familiar enough with the ajax framework to try and trace the problem through the nest of javascript!</p>\n\n<p>I know that the problem isn't anything to do with my usage of the listbox as the problem is still present when I only have the button and text box.</p>\n\n<p>I have included my ASP code and the code-behind or a very simple application that I can reproduce this problem on.\nIf anyone can shed any light on this exception I would greatly appreciate it - any searching that I've done so far has only come up with people using databinding and there genuinely being duplicate keys... I don't see where I am even using a key! I'm sure it is something being registered internally in the ajax framework.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"AjaxTest.aspx.cs\" Inherits=\"AjaxTest\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;div&gt;\n        &lt;asp:ScriptManager runat=\"server\" EnableCdn=\"true\" ID=\"ScriptManager\" /&gt;\n        &lt;asp:UpdatePanel ID=\"ListBoxPanel\" runat=\"server\"&gt;\n            &lt;ContentTemplate&gt;\n                &lt;asp:ListBox ID=\"lstSerialNumbers\" runat=\"server\" /&gt;&lt;br /&gt;\n                &lt;asp:TextBox ID=\"txtNewSn\" runat=\"server\" MaxLength=\"50\" /&gt;&lt;br /&gt;\n                &lt;asp:Button ID=\"btnAddSn\" runat=\"server\" OnClick=\"btnAddSn_Click\" Text=\"Add\"/&gt;\n            &lt;/ContentTemplate&gt;\n        &lt;/asp:UpdatePanel&gt;\n\n    &lt;/div&gt;\n   &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\n\nnamespace Test\n{\n    public partial class AjaxTest : System.Web.UI.Page\n    {\n        protected void Page_Load(object sender, EventArgs e)\n        {\n\n        }\n\n        protected void btnAddSn_Click(object sender, EventArgs e)\n        {\n            lstSerialNumbers.Items.Add(new ListItem(txtNewSn.Text));\n            txtNewSn.Text = \"\";\n        }\n    }\n}\n</code></pre>\n\n<p>Let me know if there is any additional information that I can provide.</p>\n\n<p>Regards,\nAnthony</p>\n"},{"tags":["javascript","ajax","asyncfileupload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13173364,"title":"Js Error ajaxToolkit AsyncFileUpload","body":"<p>im using the toolkit control asynchFileUpload , here's my case below :</p>\n\n<p>`</p>\n\n<pre><code>function uploadError(sender, args) {\n    document.getElementById('&lt;%=lblStatus.ClientID%&gt;').innerText = args.get_errorMessage();\n}\n\nfunction StartUpload(sender, args) {\n    if (document.getElementById(\"&lt;% = SaveControlClientId %&gt;\"))\n    { document.getElementById(\"&lt;% = SaveControlClientId %&gt;\").disabled = true; }\n\n    var filename = args.get_fileName();\n    var ext = filename.substring(filename.lastIndexOf(\".\") + 1);\n    if (\".jpg .jpeg .bmp .gif .png .doc .docx .xls .xlsx .pdf .bmp .tif\".indexOf(ext) == -1) {\n        //document.getElementById('&lt;%=lblStatus.ClientID%&gt;').innerText = 'Invalid File Type (Only .png)';\n        args.errorMessage = \"Invalid File Type , valid types are.jpg .jpeg .bmp .gif .png .doc .docx .xls .xlsx .pdf .bmp .tif\";\n        throw {\n            name: \"Invalid File Type , valid types are.jpg .jpeg .bmp .gif .png .doc .docx .xls .xlsx .pdf .bmp .tif\",\n            level: \"Error\",\n            message: \"Invalid File Type , valid types are.jpg .jpeg .bmp .gif .png .doc .docx .xls .xlsx .pdf .bmp .tif\",\n            htmlMessage: \"Invalid File Type , valid types are.jpg .jpeg .bmp .gif .png .doc .docx .xls .xlsx .pdf .bmp .tif\"\n        }\n        return false;\n    }\n    document.getElementById('&lt;%=lblStatus.ClientID%&gt;').innerText = 'Uploading Started.';\n    return true;\n}\n\nfunction UploadComplete(sender, args) {\n\n    var filename = args.get_fileName();\n    var contentType = args.get_contentType();\n    var text = \"Size of \" + filename + \" is \" + args.get_length() + \" bytes\";\n    if (contentType.length &gt; 0) {\n        text += \" and content type is '\" + contentType + \"'.\";\n    }\n    document.getElementById('&lt;%=lblStatus.ClientID%&gt;').innerText = text;\n\n    if (document.getElementById(\"&lt;% = SaveControlClientId %&gt;\"))\n    { document.getElementById(\"&lt;% = SaveControlClientId %&gt;\").disabled = false; }\n\n\n}\n</code></pre>\n\n<p></p>\n\n<p>`</p>\n\n<p>its working fine except this error when the upload complete , it says \"Function\" is undefined , in the \"Function._validateParams(arguments\" line below in the Scriptresource.axd, any idea ??</p>\n\n<pre><code> completed: function WebRequest$completed(eventArgs) {\n    /// &lt;summary locid=\"M:J#Sys.Net.WebRequest.completed\"&gt;The completed method should be called when the request is completed.&lt;/summary&gt;\n    /// &lt;param name=\"eventArgs\" type=\"Sys.EventArgs\"&gt;The event args to raise the event with.&lt;/param&gt;\n    var e = Function._validateParams(arguments, [\n        {name: \"eventArgs\", type: Sys.EventArgs}\n    ]);\n    if (e) throw e;\n    function raise(source, sender, eventName) {\n        var handler = Sys.Observer._getContext(source, true).events.getHandler(eventName);\n        if (handler) {\n            handler(sender, eventArgs);\n        }\n    }\n    raise(Sys.Net.WebRequestManager, this._executor, \"completedRequest\");\n    raise(this, this._executor, \"completed\");\n    Sys.Observer.clearEventHandlers(this, \"completed\");\n},\n</code></pre>\n"},{"tags":["ajax","ruby-on-rails-3","devise","ruby-on-rails-3.2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13161146,"title":"Missing template on Devise Registration Form (sign up)","body":"<p>I'm trying to understand as to who I get </p>\n\n<pre><code>Template is missing\n\nMissing template devise/registrations/create, devise/create, application/create with {:locale=&gt;[:en], :formats=&gt;[:js, :html], :handlers=&gt;[:erb, :builder, :coffee]}. Searched in: * \"C:/project/app/views\" * \"C:/Ruby193/lib/ruby/gems/1.9.1/gems/devise-2.1.2/app/views\"\n</code></pre>\n\n<p>if I try to send the registration information via :remote => true.</p>\n\n<p>As far as I understand, using remote true will ensure that the form is sent with an ajax post, but once I hit submit I see that the server returns the missing template error.</p>\n\n<p>I read somewhere that the registration controller is already using respond_with (I see in the code) which means that it should respond to the ajax. </p>\n\n<p>Can someone clarify that or if I am missing a piece in the puzzle?</p>\n"},{"tags":["javascript","ajax"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":7,"view_count":58,"score":-7,"question_id":12915946,"title":"Error when using AJAX in method with different parameters","body":"<p>I have this method that sends AJAX request and bring some variables.</p>\n\n<p>I call this method with different parameters in footer sometimes it runs ok and sometimes it gives error responseObj is null.</p>\n\n<pre><code>function getAmountAccordingToDate(dateValue, valueTosetTxt) {\n    var ajaxCall = new sack();\n    ajaxCall.requestFile = url;\n    ajaxCall.onCompletion = function() {\n        fillApplyAmountAccordingToDate(ajaxCall, valueTosetTxt);\n    };\n    ajaxCall.runAJAX();\n}\n\nfunction fillApplyAmountAccordingToDate(ajaxCall, valueTosetTxt) {\n    responseObj = eval(ajaxCall.response);\n    valueTosetTxt.value = responseObj.maximumAvailableAmount;\n}​\n</code></pre>\n"},{"tags":["jquery","ajax","div"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4327,"score":0,"question_id":5611746,"title":"jquery ajax load certain div","body":"<p>Hi\nmy question is very simple how can I retrieve certain div with jquery ajax comand </p>\n\n<pre><code>  $.ajax({\n  url: \"test.html\",\n  success: function(){\n  $(this).addClass(\"done\");\n  }\n});\n</code></pre>\n\n<p>like with load</p>\n\n<pre><code>$('#targetDiv').load('http://localhost/test.html #sourceDiv');\n</code></pre>\n"},{"tags":["ajax","flash","html5","html5-audio","fallback"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1065,"score":0,"question_id":4951914,"title":"Dynamic html5 audio flash player","body":"<p>Does there exist a library / program that can play mp3 files using flash as html5 fallback dynamically?</p>\n\n<p>By dynamically, I mean that the player can switch the current mp3 thats playing, even after dom has loaded. The problem I run into with most flash audio players is that they depend on the song being loaded when the dom loads, but my website loads songs through ajax.</p>\n\n<p>Thank you</p>\n"},{"tags":["javascript","jquery","ajax","autocomplete"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":610,"score":0,"question_id":9764351,"title":"Autocomplete using data attribute for source?","body":"<p>Can I use data attribute for the source of my autocomplete?</p>\n\n<p>for example</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;input type=\"text\" class=\"autocomplete\" data-source=\"/search.php\" /&gt;\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>  $(\".autocomplete\").autocomplete({\n        source :  $(this).data('source'),\n        minLength:1,\n        select: function( event, ui ) {\n            console.log( ui.item ?\n                \"Selected: \" + ui.item.value + \" aka \" + ui.item.id :\n                \"Nothing selected, input was \" + this.value );\n        }\n    });\n</code></pre>\n\n<p>I tried it but it always gives me an error.\nWhat's wrong with my code?</p>\n\n<p><em><strong><code>Uncaught TypeError: Property 'source' of object #&lt;Object&gt; is not a function</code></em></strong></p>\n"},{"tags":["asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13172222,"title":"AutoComplete not working","body":"<p>I am using ajax auto complete extender on a textbox and I am also using calender extender on  other two textboxes and a jquery Image slider.But my autocomplete extender is not working . But when i use same code in new project it works well. My code on search control  is :</p>\n\n<pre><code>&lt;asp:Label ID=\"Label1\" runat=\"server\" Text=\"Desired Location you want to Search?&amp;nbsp;\"&gt;&lt;/asp:Label&gt;&lt;/label&gt;\n        &lt;asp:TextBox ID=\"txtSearch\" runat=\"server\" onfocus=\"if(this.value=='Type Location Here !') this.value='';\"\n            onblur=\"if(this.value=='') this.value='Type Location Here !';\" CssClass=\"txtbox\"\n            Width=\"520px\"&gt;Type Location Here !&lt;/asp:TextBox&gt;\n              &lt;asp:AutoCompleteExtender  ID=\"autosearch\" runat=\"server\" TargetControlID=\"txtSearch\"\n            ServiceMethod=\"GetCompletionList\" CompletionSetCount=\"10\" UseContextKey=\"true\" ContextKey=\"SearchKey\"\n            Enabled=\"true\" EnableCaching=\"true\" MinimumPrefixLength=\"1\" CompletionInterval=\"100\"\n            CompletionListCssClass=\"autocomplete_list\" ScriptPath=\"SearchInputControl.ascx.cs\" \n            CompletionListItemCssClass=\"autocomplete_listItem\" CompletionListHighlightedItemCssClass=\"autocomplete_highlighted_listitem\" &gt;\n        &lt;/asp:AutoCompleteExtender&gt;\n</code></pre>\n\n<p>Javascript error:</p>\n\n<pre><code>Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3; .NET4.0C; .NET4.0E; AskTbTRL2/5.15.4.23821) Timestamp: Thu, 1 Nov 2012 06:59:14 UTC     \nMessage: Sys.ArgumentUndefinedException: Value cannot be undefined. \nParameter name: type Line: 4620 Char: 12 Code: 0 \n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13171680,"title":"loading content in div from other html file one by one","body":"<p>I want to divide my page in two parts. say <code>div 1</code> and <code>div 2</code>. I want to load first <code>div</code> when clicked on the page link. and when contents in <code>div 1</code> is fully loaded then I want to start load the content in <code>div 2</code>.</p>\n\n<p>Any possible solution that works fine in all major browsers.</p>\n\n<p>I also want the content in these <code>divs</code> from other html in the same directory. Below is the code what I tried to do the thing.</p>\n\n<pre><code>$(document).ready(function(){ \n    $('#div1').load('home/index.html', function() {\n        $(\"#div2\").load('home/index2.html');\n    });\n});\n</code></pre>\n\n<p>I want that when the content from 'home/index.html' is fully loaded in div1 then content from 'home/index2.html' start loading in div2.</p>\n\n<p>Below code is displaying contents in both <code>div</code> but I want to start loading in second <code>div</code> when my first <code>div</code> is completely loaded.</p>\n\n<pre><code>$(document).ready(function(){ \n    $('#div1').load('home/index.html');\n    $(\"#div2\").load('home/index2.html');\n});\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","file-upload","struts2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":740,"score":0,"question_id":11878312,"title":"file upload | without page refresh | struts2 | no flash |","body":"<p>Problem decription: I want to create a file upload screen using JSP. The screen will allow the user to select multiple files on the screen but there will be only one Upload button for all of them. On click of the upload button all the file objects should be obtained in the Action class.</p>\n\n<p>But the important thing is the page should not get refreshed after submitting. There will be other information displayed on the same screen which should not get changed during the file upload is in progress.</p>\n\n<p>My Attempts: I used the simple struts2 file upload feature which works fine. But it is refreshing the page on submitting. \nI used AJAX (JQuery) to resolve this. The problem I am facing with AJAX is that it is not setting the File object into the file property of Action class. Hence I am not able to obtain the file object in the Action class and process further.</p>\n\n<p>Can anyone please help me with this.</p>\n\n<p>I am attaching the code of whatever I have tried so far. </p>\n\n<p><strong>JSP</strong>:</p>\n\n<pre><code>&lt;s:form action=\"fileUpload\" method=\"post\" enctype=\"multipart/form-data\" &gt;\n&lt;s:file id=\"file\" name=\"userImage\" cssClass=\"fileUpload\" cssStyle=\"fileUpload\" /&gt;\n&lt;button id=\"px-submit\"&gt;Upload&lt;/button&gt;      \n&lt;/s:form&gt;\n\n&lt;script type=\"text/javascript\"&gt;\njQuery(function($){\n$('.fileUpload').fileUploader();\n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>JQuery Plugin</strong>:\n<a href=\"http://pixelcone.com/fileuploader/\" rel=\"nofollow\">This is the jquery plugin that I have used.</a></p>\n\n<p><strong>Action Class</strong>:</p>\n\n<pre><code>public class FileUploadAction extends ActionSupport{\n\nprivate File userImage;\n\npublic File getUserImage() {\n    return userImage;\n}\n\npublic void setUserImage(File userImage) {\n    this.userImage = userImage;\n}\n\npublic String execute()\n{\n    try\n    {\n        System.out.println(\"file name: \" + userImage.toString());\n\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n\n    return SUCCESS;\n}\n</code></pre>\n\n<p>EDIT: Here is my struts config file.</p>\n\n<p><strong>Struts.xml</strong></p>\n\n<pre><code>&lt;action name=\"commonDataImportAction_*\" class=\"xxx.Action\"&gt;\n&lt;result name=\"SUCCESS\" type=\"stream\"&gt;\n            &lt;param name=\"contentType\"&gt;text/html&lt;/param&gt;\n             &lt;param name=\"inputName\"&gt;inputStream&lt;/param&gt;\n        &lt;/result&gt;\n</code></pre>\n\n<p>I get a nullpointer here as the file object is not getting set.</p>\n\n<p>Please help.</p>\n\n<p>thanks in advance.\nGaurav</p>\n"},{"tags":["java","javascript","ajax","servlets","xmlhttprequest"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":11916255,"title":"What are the ways by which webpages are asynchronously updated?","body":"<p>Take for example \"gmail.com\" where new mails are displayed as and when they reach user's inbox. As I've understood, the trigger comes from database/web-server which updates user's inbox page. </p>\n\n<p>Can anyone suggest what will be the code to update dynamic web-pages [assuming Gmail account page is generated by Servlet like technology] without refreshing &amp; without making an explicit request from client side (please don't consider XHR sending request to server at fixed interval because that too will be from client's side). </p>\n\n<p>Can it be implemented by AJAX code involving XHR &amp; if yes,then how? </p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":26,"score":-3,"question_id":13167195,"title":"load second div when first div has fully loaded","body":"<p>i want to divide my page in two parts. say div 1 and div 2. I want to load first div when clicked on the page link. and when contents in div 1 is fully loaded then i want to start load the content in div 2.</p>\n\n<p>Any possible solution that works fine in all major browsers.</p>\n\n<p>EDIT: i also want the content in these divs from other html in the same directory.</p>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13171266,"title":"Ajax requests in Wordpress, can't get my custom function to execute","body":"<p>I am making ajax requests in wordpress to <code>admin-ajax.php</code> file using jQuery:</p>\n\n<pre><code>function ajaxSubmit() {\n    var FormData = jQuery(this).serialize();    \n    jQuery.ajax({\n        type: \"POST\",\n        url: \"/wp-admin/admin-ajax.php\",\n        data: FormData, \n        success: function(data) {\n            console.log(data);\n        }\n    });\n    return false;\n}\n$('#form').submit(ajaxSubmit);\n</code></pre>\n\n<p>here is the code from <code>functions.php</code> file:</p>\n\n<pre><code>function activitysubmitTeamMeetingPt(){\n    die(var_dump($_POST, $_GET));\n}\nadd_action( 'wp_ajax_activitysubmitTeamMeetingPt', 'activitysubmitTeamMeetingPt' );\nadd_action( 'wp_ajax_nopriv_activitysubmitTeamMeetingPt', 'activitysubmitTeamMeetingPt' );\n</code></pre>\n\n<p>Also, in the form I do have a hidden attribute for <code>action</code></p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"action\" value=\"submitTeamMeetingPt\" /&gt; \n</code></pre>\n\n<p>As per the code, all form data would be printed on the screen but that doesn't happen. And I have verifed from firebug that <code>Xhr</code> request to <code>admin-ajax.php</code> is being fired but for some reason <code>activitysubmitTeamMeetingPt()</code> doesn't get called/executed and ajax request just returns 0 with http statuscode 200. </p>\n\n<p>Now,I am wondering was why <code>activitysubmitTeamMeetingPt()</code> is not being executed?</p>\n"},{"tags":["jquery","ajax","ruby-on-rails-3","devise"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":248,"score":3,"question_id":11089315,"title":"How do I get my new registrations Devise form to be AJAXified?","body":"<p>What I want to happen is when the account is successfully created, the form that was submitted should disappear and a message should appear (depending on the status of the registration).</p>\n\n<p>If it was successful, they should see a simple \"Thank you. Please check your email.\"</p>\n\n<p>If it wasn't, then they should see an appropriate message - like \"Sorry, that email has already been taken.\"</p>\n\n<p>This is my form:</p>\n\n<pre><code>&lt;div class=\"nine columns offset-by-three sign-up-form\"&gt;\n  &lt;%= form_for(resource, :as =&gt; resource_name, :class =&gt; \"send-with-ajax\", :url =&gt; user_registration_path(resource), :validate =&gt; true, :html =&gt; { :id =&gt; 'user_new' }) do |f| %&gt;\n    &lt;div class=\"six columns alpha\"&gt; \n       &lt;%= f.text_field :email, :placeholder =&gt; \"your-email@address.com\", :input_html =&gt; {:autofocus =&gt; true}, :validate =&gt; true %&gt;\n    &lt;/div&gt;              \n    &lt;div class=\"three columns sign-up alpha\"&gt;\n      &lt;%= f.submit :label =&gt; \"Submit\", :value =&gt; \"Sign Me Up!\"  %&gt;\n      &lt;div class=\"ajax-response\"&gt;&lt;%= devise_error_messages! %&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;% end %&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my <code>create.js.erb</code>:</p>\n\n<pre><code>$(document).ready(function() {    \n  $('#user_new').submit(function() { \n    $(this).fadeOut(600).hide(); \n    $(this).append('&lt;h3&gt;Thank You. You should receive an email shortly.&lt;/h3&gt;').fadeIn(1000);\n  });    \n)}\n</code></pre>\n\n<p>But this doesn't work properly. For instance, when I press submit and the email address is already in the db - nothing happens.</p>\n\n<p>P.S. I know that if it were a 'regular' form, I would do <code>format.js</code> within the controller that is handling this form - and work out the status codes &amp; messages there - but Devise is a different beast and I don't want to generate new controllers and override functionality that I shouldn't, when I am not fully comfortable.</p>\n"},{"tags":["javascript","html","ajax","json","spotify"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13168069,"title":"Spotify fetching artist information - Error 503 Service","body":"<p>Spotify has a WEB API and it allows for you to query their database. I am trying to fetch the following link for example:\n<code>http://ws.spotify.com/search/1/artist.json?q=Nas</code>. Is this a server side issue or a problem on my side? \nOkay so I am having a really weird error all of a sudden it says:</p>\n\n<pre><code>Error 503 Service Unavailable\n\nService Unavailable\n\nGuru Meditation:\n\nXID: 333508029\n\nVarnish cache server\n</code></pre>\n\n<p>It worked fine a couple of hours ago and now all of a sudden it just won't work!</p>\n"},{"tags":["jquery","ajax","http-status-code-304"],"answer_count":3,"favorite_count":3,"up_vote_count":7,"down_vote_count":0,"view_count":3240,"score":7,"question_id":5502002,"title":"jQuery AJAX producing 304 responses when it shouldn't","body":"<p>This really has me scratching my head. Namely because it only happens in IE, not Firefox, and I was under the impression that jQuery was effectively browser neutral. I've been cracking at this thing for the past few hours and have nailed down, at least, what is happening.</p>\n\n<p>This jqGrid:</p>\n\n<pre><code>$(\"#DocumentListByPartRecordsGrid\").jqGrid(\n          {\n            datatype: 'local',            \n            colNames: ['&lt;b&gt;Id&lt;/b&gt;', '&lt;b&gt;Document Name&lt;/b&gt;', '&lt;b&gt;Document Type&lt;/b&gt;', '&lt;b&gt;Effective Date&lt;/b&gt;', '&lt;b&gt;Expiration Date&lt;/b&gt;', '&lt;b&gt;Delete&lt;/b&gt;'],\n            colModel: [\n                  { name: 'ASSOCIATION_ID', Index: 'ASSOCIATION_ID', resizable: true, align: 'left', hidden: true, sortable: false },\n                  { name: 'FILE_NAME', Index: 'FILE_NAME', resizable: true, align: 'left', sortable: false, width:'20%' },\n                  { name: 'DOCUMENT_TYPE', Index: 'DOCUMENT_TYPE', resizable: true, align: 'left', sortable: false, width:'20%' },\n                  { name: 'EFFECTIVE_DATE', Index: 'EFFECTIVE_DATE', resizable: true, align: 'left', sortable: false, width:'20%' },\n                  { name: 'EXPIRATION_DATE', Index: 'EXPIRATION_DATE', resizable: true, align: 'left', sortable: false, width:'20%' },\n                  { name: 'Delete', Index: 'Delete',resizable: true, align: 'center', sortable: false, width:'20%' },\n                  ],            \n            rowNum: 15,\n            rowList: [15, 50, 100],\n            imgpath: '/Drm/Content/jqGrid/steel/images',\n            viewrecords: true,            \n            height: 162,           \n            loadui: 'block',\n            forceFit: true\n        });\n</code></pre>\n\n<p>Filled by this function:</p>\n\n<pre><code>var mydata = '';    \n&lt;% if(!string.IsNullOrEmpty(Model.PCAssociatedDocuments)) { %&gt;        \n   var mydata = &lt;%= Model.PCAssociatedDocuments %&gt;;\n&lt;% } %&gt;\n\nfor (var i = 0; i &lt;= mydata.length; i++){\n        jQuery(\"#DocumentListByPartRecordsGrid\").addRowData(i, mydata[i], \"last\");\n        }\n</code></pre>\n\n<p>Which is cleanly populated from the model. This is not the issue. The issue arises when using the delete functionality, which is formatted back in the controller like so:</p>\n\n<pre><code>&lt;a class='deleteAttachment' style='cursor: pointer;' href='#' onclick='javascript:PCDocumentDelete(\" + s.AssociationId.ToString() + \", \" + pcId + \");'&gt;Delete&lt;/a&gt;\n</code></pre>\n\n<p>and calls this function</p>\n\n<pre><code>function PCDocumentDelete(id, pcid) {\nif (confirm(\"Are you sure you want to delete this document?\")) {\n    $.blockUI({\n        message: \"Working...\",\n        css: {\n            background: '#e7f2f7',\n            padding: 10\n        }\n    });\n    $.ajax(\n        {\n            url: '/DRM/Pc/DeleteAssociation?associationId=' + id + '&amp;pcid=' + pcid,\n            async: true,\n            dataType: \"json\",\n            success: function(result) {\n                if (result.Success == true) {\n                    //Reload grid                       \n                    $.ajax({ async: false });\n                    $(\"#DocumentListByPartRecordsGrid\").setGridParam({ url: \"/Drm/Pc/DeAssociatePartRecordsWithDocument?pcid=\" + pcid, datatype: 'json', myType: 'GET', page: 1 });\n                    $(\"#DocumentListByPartRecordsGrid\").trigger(\"reloadGrid\");\n                    $.unblockUI();\n                    $.showGlobalMessage('Specified document has been successfully disassociated from this part record.');\n                }\n                else {\n                    $.unblockUI();\n                    $.showGlobalMessage('An error occurred deleting the attachment.');\n                }\n            },\n            error: function(res, stat) {\n                alert(res.toString());\n                alert(stat.toString());\n            }\n        });\n    return false;\n}\nelse {\n    return false;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>(showGlobalMessage is an internal function that creates a particularly formatted blockUI)</p>\n\n<p>The ajax calls a method back in the controller, but the issue arises before we make it that far, so unless someone thinks it important, I'm not going to post that code. What happens is, often for inexplicable reasons, the first burst of ajax that calls PC/DeleteAssociation is coming back with a 304 (not modified) response. I know that happens on a get when nothing has changed that needs to be refreshed. But this isn't a get, it should be treated as a post, and I was under the impression that jquery.ajax was designed to, unless otherwise instructed, not generate 304 responses. I'm obviously missing something here and have been staring at it far too long to catch it myself. Anyone see what I missed? Thank you.</p>\n"},{"tags":["php","javascript","mysql","ajax","internet-explorer"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13170861,"title":"Getting 304 error for an ajax call with using IE browser","body":"<p>I wrote an ajax call but I have a problem with IE web browser because in Chrome, <code>ajaxFunction(1)</code> is working properly (it gets <code>200 OK</code> on network section of my browser while I am browsering). On the other hand same page with same actions with using IE, function returns <code>304 error</code>. I tried manually (<code>call.php?which=1</code>) with using IE, it is working. I could not find what is the problem in this case?</p>\n\n<p>PS. My codes are working in manual. I want to know what is my problem with IE browser. Which codes run different in browsers?</p>\n\n<p>Here is some codes:</p>\n\n<pre><code>function ajaxFunction(a)\n{\n    var ajaxRequest;\n    try {\n        ajaxRequest = new XMLHttpRequest();\n    } catch (e) {\n        try {\n            ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        } catch (e) {\n            try {\n                ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            } catch (e) {\n                alert(\"Your browser broke!\");\n                return false;\n            }\n        }\n    }\n    ajaxRequest.open(\"GET\",\"call.php?which=\"+a,true);\n    ajaxRequest.send(); \n}\n</code></pre>\n\n<p>Apart from that,</p>\n\n<pre><code>/* in call.php after connection codes */\n$came = $_GET['which'];\nmysql_query(\"UPDATE ...\");\n</code></pre>\n\n<p><strong>Updates</strong></p>\n\n<p>I am using IE 9.0 (update version 9.0.10)</p>\n\n<p>Also I added this code to call.php</p>\n\n<pre><code>header(\"Cache-Control: no-cache, must-revalidate\");\n</code></pre>\n\n<p><strong>Answer</strong></p>\n\n<p>After using cache-control and cache cleaning of browser it works good.</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":32,"score":-2,"question_id":13152288,"title":"Find the div li which contains an image or not","body":"<p>how can i find the div li is contain the image or not if it have then do some actions on it it i try many ways but i failed. \n    i upload the image by ajax like that way\n    i have a button which show the selected div but i put some action on when the this image    is append on the click event</p>\n\n<pre><code> &lt;div id=\"display_img4\" style=\"float: left; margin-left: 15px;\"&gt;&lt;li&gt;&lt;/li&gt;\n  &lt;/div&gt; \n but this code is useless             \n\n$(document).ready(function(){\n$('&lt;li&gt;&lt;/li&gt;').appendTo('#display_img4').html('&lt;img src=\"&lt;?php echo base_url();?&gt;apps/screen_shots/'+response+'\" alt=\"No image Found\" height=\"75\" width=\"75\"/&gt;').addClass('success');\n}\n&lt;script type=\"text/javascript\"&gt;\n\nvar img5= $('div#display_img4 &gt; li.success &gt; img');\nvar li  = $('div#display_img4 &gt; li');var li_img =$('div#display_img4 &gt; li').('img');if(li_img &gt; 0 ){\n            img.css(\"float\",\"right\");\n\n            }\n\n            else{ \n\n                    alert(\"not image\")\n             }\n\n\n&lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>now this is my whole scenario.</p>\n\n<pre><code>$(document).ready(function(){\n &lt;?php foreach($edit as $rows){ ?&gt;\n    &lt;?php foreach($screenshots as $inner_row){ ?&gt;\nvar btn_screenshot3    = $('#upload-sc3');\n    var status_screenshot3 = $('#status_screenshot3');\n    var screenshot3        = $('#display_img6');\n    var addbtn2         = $('#btn-add2');\n    var rembtn2         = $('#rem2');\n    var screentxt2      = $('#screen-txt2-admin');\n    var container3      = $('#container3');\n\n        var screenshot3=&lt;?php echo (file_exists('apps/'.$rows-&gt;application_id.'/sc_3'.$inner_row-&gt;screenshot3) ? \"true\" : \"false\" ); ?&gt;;\n        if(screenshot3 == true){\n            $('div#container3').css(\"display\",\"block\");\n            $('#rem5').css(\"display\",\"none\");\n            $('#rem4').css(\"display\",\"none\");\n            $('#rem3').css(\"display\",\"none\");\n            $('#rem2').css(\"display\",\"none\");\n            $('#rem1').css(\"display\",\"none\");\n            $('#upload-sc3').css(\"display\",\"none\");\n             $('#screen-txt2-admin').css(\"display\",\"none\");\n                $('&lt;li&gt;&lt;/li&gt;').appendTo('#display_img6').html('&lt;img src=\"&lt;?php echo base_url();?&gt;apps/&lt;?php echo $rows-&gt;application_id; ?&gt;/sc_3&lt;?php echo $inner_row-&gt;screenshot3; ?&gt;\" alt=\"No image Found\" height=\"75\" width=\"75\"/&gt;').addClass('success');\n\n        $('#screenshot3').html('&lt;input type=\"hidden\" value=\"&lt;?php echo     $inner_row-&gt;screenshot3; ?&gt;\" name=\"screenshot3\" id=\"screenshot3\" /&gt;&lt;img src=\"&lt;?php echo   base_url();?&gt;images/remove.jpg\" alt\"Remove btn\" onClick=deleteFileScreenshot3(\"sc_3&lt;?php echo $inner_row-&gt;screenshot3; ?&gt;\",\"apps/&lt;?php echo $rows-&gt;application_id; ?&gt;/\");&gt;');\n\n                btn_screenshot3.css(\"display\",\"none\");      \n\n                screentxt2.css('display', 'none');\n}else{\n\n        $('#btn_add_more').css(\"display\",\"block\");\n        $('#rem2').css(\"display\",\"block\");\n\n        }\n</code></pre>\n\n<p>this is my ajax call</p>\n\n<pre><code>$(function(){\n    var btn_screenshot3    = $('#upload-sc3');\n    var status_screenshot3 = $('#status_screenshot3');\n    var screenshot3        = $('#display_img6');\n    var comm_txt           = $('#screen-txt2');\n    new AjaxUpload(btn_screenshot3, {\n        action: '&lt;?php echo base_url();?&gt;index.php/apps/apps/add_screenshot3',\n        name:   'screenshot3_image',\n        onSubmit: function(file, ext){\n             if (! (ext &amp;&amp; /^(gif|jpg|png)$/.test(ext))){    \n                screenshot3.html('');\n                status_screenshot3.text('Only gif|jpg|png files are allowed');\n                status_screenshot3.css(\"color\",\"red\");\n                screenshot3.html('');\n                return false;\n            }               \n\n        },\n        onComplete: function(file, response){\n            &lt;!--status_screenshot3.text(file);--&gt;\n            screenshot3.html('');\n            status_screenshot3.css(\"color\",\"black\");\n            status_screenshot3.html('');\n            if(response!= \"\"){\n\n                $('&lt;li&gt;&lt;/li&gt;').appendTo('#display_img6').html('&lt;img src=\"&lt;?php echo base_url();?&gt;apps/screen_shots/'+response+'\" alt=\"No image Found\" height=\"75\" width=\"75\"/&gt;').addClass('success');\n\n                $('#screenshot3').html('&lt;input type=\"hidden\" value=\"'+response+'\" name=\"screenshot3\" id=\"screenshot3\" /&gt;&amp;nbsp;&amp;nbsp;&lt;img src=\"&lt;?php echo base_url();?&gt;images/remove.jpg\" style=\" margin-top:10px;\" title=\"Delete\" onClick=deleteFileScreenshot3(\"'+response+'\",\"apps/screen_shots/\");&gt;');\n                btn_screenshot3.css(\"display\",\"none\");\n\n                comm_txt.css(\"display\",\"none\");\n\n                $('#sc3').hide();\n\n    } else{\n                status_screenshot3.css(\"color\",\"red\");\n                status_screenshot3.css(\"margin-left\",\"190px\");\n                status_screenshot3.text('Images are allowed with dimension maximum 400 X 800  and minimum 250 X 500');\n\n            }\n        }\n    });     \n});\n</code></pre>\n\n<p>this is the HTMl code where i want to append the image</p>\n\n<pre><code>&lt;div id=\"display_img6\" style=\"float: left; margin-left: 15px;\"&gt;\n\n                           &lt;li&gt;&lt;/li&gt;\n\n                          &lt;/div&gt;\n</code></pre>\n\n<p>this code works fine,now how can i find the div li contain the image or not if contain then i do some more things on it. </p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":13170526,"title":"ajax code is not navigating me to url in background","body":"<p>I am trying to use ajax to navigate to a php script in the background so that it performs some commands but the problem is that it is not performing the commands, which tells me that my ajax is either incorrect or I am incorrectly doing something that it is not calling the ajax. Can yo please look at the code and state what I am doing wrong? I known the php script is suppose to navigate to <code>insertQuestion.php</code> does work because if I navigate to that page using the form action, then it performs the commands in that script, but when I try and use ajax to navigate to the script in the background, it just doesn't do it:</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($_SERVER['PHP_SELF']); ?&gt;\" method=\"post\" onsubmit=\"return myClickHandler()\"&gt;\n\n....\n\n&lt;/form&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code> function myClickHandler()\n    {\n        if (!validation())\n            return false;\n\n        if (!confirm(\"Make sure that your details are correct, once you proceed after this stage you would not be able to go back and change any details towards Questions, Options and Answers for your Assessment.\" + \"\\n\" + \"\\n\" + \"Are you sure you want to Proceed?\" + \"\\n\" ))\n            return false;\n\n        $.ajax({\n            url: \"insertQuestion.php\",\n            data: $(\"#QandA\").serialize(),\n            async: false\n        });\n\n        return true;\n    }\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>It is still not navigating to the insertQuestion.php page, also the problem now is that it is not checking for validation and not displaying confirm box in javascript function. Below I have included an update on what current code now looks like:</p>\n\n<pre><code>&lt;form id=\"QandA\" action=\"&lt;?php echo htmlentities($action); ?&gt;\" method=\"post\" onsubmit=\"return myClickHandler(); return false;\"&gt;\n\n....\n\n&lt;/form&gt;\n\n         &lt;script type=\"text/javascript\"&gt;\n\n    function myClickHandler()\n    {\n        if (!validation())\n            return false;\n\n        if (!confirm(\"Make sure that your details are correct, once you proceed after this stage you would not be able to go back and change any details towards Questions, Options and Answers for your Assessment.\" + \"\\n\" + \"\\n\" + \"Are you sure you want to Proceed?\" + \"\\n\" ))\n            return false;\n\n       $.ajax({\n            url: \"insertQuestion.php\",\n            data: $(\"#QandA\").serialize(),\n            async: false\n            type: \"POST\"\n        });\n\n        return true;\n    }\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":11588746,"title":"Continuous play throughout page loads","body":"<p>I am sure this question has been asked but I can't find anything that suits. </p>\n\n<p>I need continuous audio playback throughout page loads. I do not want to use flash or frames and I know this is possible due to the arise of the next soundcloud. Flash is a pain and frames would destroy my navigation buttons etc. You can't even take a look at soundclouds markup so I really have no idea how they've done it but it's impressive. </p>\n\n<p>I would like to know how soundcloud has done this or a way to do this? To be honest I am intrigued by the new soundcloud and would love to take a look at there code but I'm pretty sure that's not going to happen</p>\n"},{"tags":["ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":225,"score":1,"question_id":7676156,"title":"Disable open in new tab or control/middle click for certain links?","body":"<p>I'd like to stop certain links from opening in a new tab if the users tries to do so  (I think Gmail does this somehow). It is to stop people loading pages meant to be loaded by ajax on their own. </p>\n"},{"tags":["javascript","jquery","ajax","jquery-ui-tabs","jcarousel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13170069,"title":"jCarousel display nothing if only one item","body":"<p>I've developed one page using jCarousel within jQuery ui Tabs.\nFollowing page is what I got:\n<a href=\"http://knowledge.teldap.tw/knowledgeFB/my_creation/?fid=668330535\" rel=\"nofollow\">http://knowledge.teldap.tw/knowledgeFB/my_creation/?fid=668330535</a></p>\n\n<p>Problem is:\nIf you click the 3rd tab (only one item), you'll find nothing unless you click the left arrow to navigate. It's  weird because one the 1st tab ( more than one items) everything is normal and visible.</p>\n\n<p>Can anyone find out what I've missed? Because I've struggled on this for several hours. \nThanks!</p>\n"},{"tags":["asp.net","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6124,"score":0,"question_id":471111,"title":"ASP.net Modal Pop up extender and DropDownlist autopostback","body":"<p>I have a <code>GridView</code> control where if the user click on the auto-generated edit button. A window will pop up using modal pop-up extender with a drop down list for user to select. The problem is the <code>SelectedIndexChanged</code> event will not fire if <code>AutoPostBack</code> is set to false. </p>\n\n<p>But if I set the <code>AutoPostBack</code> to true the pop-up will go away without firing the <code>SelectedIndexChanged</code> event.</p>\n\n<p>Is it possible to have a control with <code>AutoPostBack</code> set to true inside the modal pop-up?</p>\n"},{"tags":["jquery","ajax","drupal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13159215,"title":"Drupal7 jQuery AJAX Load Content No Page Refresh","body":"<p>I am trying to get an AJAX script working on my page (working with Drupal 7). The content of the page should be loaded when clicking my menu links, but the page shouldn't be refreshed (this will interfere with a different script in jQuery that animates the banner)</p>\n\n<p>Here is the source code:</p>\n\n<pre><code>    (function ($, Drupal) {\n\n    jQuery.error = console.error;\n\n    $(\"&lt;link/&gt;\", {\n       rel: \"stylesheet\",\n       type: \"text/css\",\n       href: \"../css/pages.css\"\n    }).appendTo(\"head\");\n\n    $(document).ready(function()\n    {\n      $('.menu-704,.menu-797,.menu-359,.menu-796').click(function()\n      {\n         $('#main').load('linktopage.html');\n      });\n});\n\n    })(jQuery, Drupal);\n</code></pre>\n\n<p>Now, this does work, but I experience the following problems: </p>\n\n<ul>\n<li>Whenever I click on a navigation link, the whole div#main is moved down for some unknown reason</li>\n<li>Doing this duplicates the logo that I added via the Appearance settings in Drupal</li>\n</ul>\n"},{"tags":["javascript","jquery","ajax","class","if-statement"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13169790,"title":"Only load ajax if class name is == x","body":"<p>I have written the following code hoping that it would load ajax only if the content was not already loaded into the div. Basically when I load the content with ajax and give the content a class name depending on which content is currently loaded. If the current class name is the content that is already loaded in the div, then I don't load the ajax, otherwise load content with ajax.</p>\n\n<p>Right now the ajax request fires no matter what the class name of the div. Any idea why this isn't working?</p>\n\n<p>Here is the site:  (click the left eye)</p>\n\n<p><a href=\"http://www.uvm.edu/~areid/homesite/index.html\" rel=\"nofollow\">http://www.uvm.edu/~areid/homesite/index.html</a></p>\n\n<p>Here is the javascript function:</p>\n\n<pre><code>else if(id =='left-eye23')\n                    {       \n                        leftcontent = $(\"#left-content\");                       \n                        content = leftcontent.attr('class');\n                        if(content !== 'photos')\n                        {       \n                            alert(\"content is not photos\"); \n                            SlideOut(move);\n                            $(\"#relativeContainer\").css('z-index','-1');\n                            var leftcontent;\n                            $(\"#left\").bind(\"webkitTransitionEnd mozTransitionEnd oTransitionEnd msTransitionEnd transitionend\", \n                            function(){ \n                                $.ajax({\n                                url:'photos.php',\n                                beforeSend: function(){\n                                    leftcontent.html('&lt;img src=\"loading.gif\" /&gt; Now loding...');\n                                },\n                                }).done(function(data){\n                                    leftcontent.html(data);\n                                    leftcontent.addClass(\"photos\");\n                                }); \n                                });\n                            }\n                        else if(content == 'photos')\n                        {\n                            SlideOut(move); \n                            $(\"#relativeContainer\").css('z-index','-1');\n                            alert('content is photos');\n                        }\n\n                    }\n</code></pre>\n"},{"tags":["c#","asp.net","ajax","error-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13168841,"title":"asp.net suppress internet explorer error dialog box","body":"<p>This is only supposed to work on IE 8.0</p>\n\n<p>On my asp.net page, I press the save button and it goes through some server side code. Upon an error on server side code, on the web page, I get Internet Explorer Error dialog titled \"Errors on this webpage might cause it to work incorrectly\". I know exactly what is causing this error on server side. </p>\n\n<p>I do not have try catch handling in my webpages. I bubble up all my errors to Global.asax and log them in the event Application_Error.</p>\n\n<p>So.. my questions are </p>\n\n<p><strong>1. How do I suppress this pop up Internet Explorer Error dialog?</strong></p>\n\n<p><strong>2. How do I In Application_Error in Global.asax, redirect to another asp.net page called GenericErrPage.aspx where I display user friendly custom text message.</strong></p>\n\n<p>Please help. Thanks.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ndh2n.png\" alt=\"enter image description here\"></p>\n"},{"tags":["jquery","ajax","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13168115,"title":"loading Isotope content in Wordpress page with jquery","body":"<p>I'm working through loading content and have gotten nowhere over the past few days. I'm attempting to load the content on <a href=\"http://www.keyshot.com/items/\" rel=\"nofollow\">this page</a> similar to how the <a href=\"http://themetrust.com/demos/reveal/\" rel=\"nofollow\">Reveal theme</a> does it. I'm using this code adapted from <a href=\"http://www.deluxeblogtips.com/2010/05/how-to-ajaxify-wordpress-theme.html\" rel=\"nofollow\">a tutorial on the topic</a>. Any suggestions or insight into what I'm missing?</p>\n\n<pre><code>jQuery(document).ready(function($) {\n    var $mainContent = $(\"#projectHolder\"),\n        siteUrl = \"http://\" + top.location.host.toString(),\n        url = ''; \n\n    $(document).delegate(\"a[href^='\"+siteUrl+\"']:not([href*=/wp-admin/]):not([href*=/wp-login.php]):not([href$=/feed/])\", \"click\", function() {\n        location.hash = this.pathname;\n        return false;\n    }); \n\n    $(window).bind('hashchange', function(){\n        url = window.location.hash.substring(1); \n\n        if (!url) {\n            return;\n        } \n\n        url = url + \" #projectContent\"; \n\n        $mainContent.animate({opacity: \"0.1\"}).html('&lt;p&gt;Please wait...&lt;/&gt;').load(url, function() {\n            $mainContent.animate({opacity: \"1\"});\n        });\n    });\n\n    $(window).trigger('hashchange');\n});\n</code></pre>\n"},{"tags":["php","javascript","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13169412,"title":"How to pass information to and run a PHP script without reloading the page","body":"<p>I am trying to hit the API of a product from within a web interface without interrupting the user, refreshing the page, etc. The webpage runs on a separate server to the main machine, so unfortunately I have had to use PHP to send the command (although would much prefer it happen in JS if that is possible).</p>\n\n<p>Type of commands I am sending:</p>\n\n<pre><code>http://&lt;DEVICE IP&gt;/path/to/api?set&amp;variable=option\n</code></pre>\n\n<p>What I want to do is send some information to the PHP script and then have it run without changing the page, refreshing, etc. I am struggling to get this right though, I currently have the following:</p>\n\n<h3>To make the link:</h3>\n\n<pre><code>&lt;a href=\"JavaScript:void(0);\" onclick=\"function([would like to pass variables here])\"&gt;Show playback layout&lt;/a&gt;\n</code></pre>\n\n<h3>To send the API command in PHP</h3>\n\n<pre><code>$ch = curl_init('http://10.0.50.163:9000?layout=Slaves');\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$return = curl_exec($ch)\n</code></pre>\n\n<p>I would like to pass in variables here so I can limit how many times I need to repeat myself. For example, the layout name could be passed from the link being clicked, rather than hard coded into the URL.</p>\n\n<p>I obviously need to write some sort of JS/AJAX function to do this, but as I am a bit of a n00b when it comes to getting JS to do what I want, I am struggling to understand the process. Any help would be enormously appreciated!</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php","ajax","arrays","checkbox","radio-button"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13131949,"title":"Radio/Checkboxes not saving to db","body":"<p>I have this form in a foreach loop, so it shows multiple times on the same page.</p>\n\n<p>Everything submits fine in each form EXCEPT the radio buttons and checkboxes.  They don't save the values to the db.</p>\n\n<p><strong>EDIT: I've narrowed it down to the ajax causing the error but can't figure out how to correct it.</strong></p>\n\n<pre><code>&lt;form action=\"process.php\" method=\"post\" name=\"editInvoice'.$invoice_id.'\" id=\"editInvoiceForm'.$invoice_id.'\" class=\"editInvoiceForm edit_invoice_container\" enctype=\"multipart/form-data\"&gt;\n&lt;div class=\"form_item_row\"&gt;\n&lt;input type=\"radio\" value=\"Unsent\" '.$unsent.' name=\"status\"/&gt;&lt;span class=\"choice\"&gt;Unsent&lt;/span&gt;\n&lt;input type=\"radio\" value=\"Sent\" '.$sent.' name=\"status\"/&gt;&lt;span class=\"choice\"&gt;Sent&lt;/span&gt;\n&lt;input type=\"radio\" value=\"Paid\" '.$paid.' name=\"status\"/&gt;&lt;span class=\"choice\"&gt;Paid&lt;/span&gt;          \n&lt;/div&gt;          \n&lt;div class=\"form_item_row\"&gt;\n&lt;label for=\"include_timelog'.$invoice_id.'\"&gt;Include Time Log&lt;/label&gt;\n&lt;input type=\"checkbox\" value=\"true\" '.$include_timelog.' name=\"include_timelog\" id=\"include_timelog'.$invoice_id.'\" /&gt;\n&lt;/div&gt;\n&lt;div class=\"clear\"&gt;&lt;/div&gt;               \n&lt;div class=\"form_item_row_btns\"&gt;\n&lt;input type=\"hidden\" value=\"'.$invoice_id.'\" name=\"hiddenInvoiceID\"/&gt;\n&lt;input type=\"submit\" class=\"btn\" value=\"Update Invoice\" name=\"action\"/&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>$query = \"UPDATE invoices SET status = \".$db-&gt;prep($_POST['status']).\", include_timelog = \".$db-&gt;prep((isset($_POST['include_timelog'])?1:0)).\" WHERE invoice_id = \".$db-&gt;prep($invoice_id);\n</code></pre>\n\n<hr>\n\n<pre><code>$(document).ready(function()\n{       \n        var action = '';\n\n        $(\".due_date\").datepicker();\n\n        $('input[name=action]').click(function(){\n            action = $(this).val();\n        });\n\n        $(\".editInvoiceForm\").submit(function() {\n            $('.editInvoiceForm .form_message').html('&lt;img src=\"images/loadingAnimation.gif\" alt=\"loadingAnimation\" width=\"30\" height=\"8\"/&gt;');\n\n            var dataToSend = {};\n            $(this).find(':input').each(function (i,el) {\n                dataToSend[el.name] = $(el).val();\n            });\n\n            dataToSend.action = action;\n\n            $.ajax({\n                type: \"POST\",\n                url: \"process.php\",\n                data: dataToSend,\n                dataType: \"json\",\n                cache: false,\n                success: function(data){\n                    //console.log(data.status);\n                    if(data.status == 'error'){\n                        $('.editInvoiceForm .form_message').removeClass('status_green').addClass('status_red').html(data.message).append(data.script);\n                    }else{\n                        $('.editInvoiceForm .form_message').removeClass('status_red').addClass('status_green').html(data.message).append(data.script);\n\n                    }\n\n                }\n            });\n            return false;\n        });\n\n});\n</code></pre>\n"},{"tags":["jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":50,"score":3,"question_id":13168731,"title":"mark options as selected in multi select using json","body":"<p>I have an edit form in a jQuery modal dialog. It has a multi-select box populated straight from a db. The record I'm editing comes from the database using json. There's a field named <code>problemids</code> which has comma delimited ids.  </p>\n\n<p>The multiselect looks like this:</p>\n\n<pre><code>&lt;select name=\"Problems\" size=\"5\" multiple=\"multiple\" id=\"Problems\"&gt;\n    &lt;option value=\"26\"&gt;Backup battery error or cannot hold correct time.&lt;/option&gt;\n    &lt;option value=\"22\"&gt;Battery contacts damage&lt;/option&gt;\n    &lt;option value=\"20\"&gt;Belt clip damage&lt;/option&gt;\n    &lt;option value=\"31\"&gt;Cannot flash firmware&lt;/option&gt;\n    &lt;option value=\"32\"&gt;Cannot load task&lt;/option&gt;\n    &lt;option value=\"34\"&gt;Case damage&lt;/option&gt;\n    etc...  \n&lt;/select&gt;\n</code></pre>\n\n<p>And the json return looks like this:  </p>\n\n<pre><code>[{\n    \"ModelID\":33,\n    \"AccountID\":1,\n    \"RandomID\":\"lo9876yhgbvfdr54\",\n    \"ManID\":5,\n    \"Model\":\"5090\",\n    \"ProblemIDs\":\"22,26\",\n    \"Active\":true,\n    \"DateCreated\":\"2/27/2012 5:35:00 PM\",\n    \"DateUpdated\":\"10/26/2012 2:04:00 PM\",\n    \"UpdatedBy\":6998,\n    \"CreatedBy\":null\n}]  \n</code></pre>\n\n<p>And my ajax: </p>\n\n<pre><code>$.ajax({\n    url: \"ajax/edit-model.asp\",\n    cache: false,\n    data: { recordid: recordid, rid: rid, crud: crud },\n    type: 'GET',\n    dataType: \"json\",\n    error: function(xhr, textStatus, errorThrown) {\n        alert(\"An error occurrred! \" + errorThrown);\n    },\n    success: function(data, textStatus) {\n        $(\"#edit-dialogForm #RecordID\").val(data[0].ModelID);\n        $(\"#edit-dialogForm #RID\").val(data[0].RandomID);\n        $(\"#edit-dialogForm #ManID\").val(data[0].ManID);\n        $(\"#edit-dialogForm #Model\").val(data[0].Model);\n        if(data[0].Active){\n            $('#edit-dialogForm input[name=\"Active\"]:eq(0)').prop('checked', true);\n        }else{\n            $('#edit-dialogForm input[name=\"Active\"]:eq(1)').prop('checked', true);\n        }\n    }\n});\n</code></pre>\n\n<p>How can I mark items as \"selected\" in my multiselect?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13149846,"title":"Extracting the errorThrown from my ajax call","body":"<p>I haven't been able to retrieve the error message from my ajax call in order to figure out what the error is.</p>\n\n<p>I've seen this question: <a href=\"http://stackoverflow.com/questions/7865131/errorthrown-in-jquery-ajax-returns-undefined\">errorThrown in Jquery Ajax Returns Undefined?</a></p>\n\n<p>I copied that error call, but still no result.</p>\n\n<pre><code>grab_songs = function() {\n$.ajax({\n    type:'POST',\n    url: 'http://tangoalphatango.com/songs.php',\n    succss: function(data) {\n        $('#result').html('success');\n    },\n    error: function(x, textStatus, errorThrown){\n    alert(errorThrown);\n}\n});\n</code></pre>\n\n<p>}\n$('.song-title').click(grab_songs);​</p>\n\n<p><a href=\"http://jsfiddle.net/ms69K/2/\" rel=\"nofollow\">http://jsfiddle.net/ms69K/2/</a></p>\n\n<p>Why won't ajax give me an error message?</p>\n"},{"tags":["asp.net","css","ajax","asp.net-ajax","ajaxtoolkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13167351,"title":"Hiding Buttons in the HTML Editor Toolbar (AjaxControlToolkit)","body":"<p>I'm trying to hide the buttons that add color, see the picture. I've tried playing with the CSS and all I have managed to do is break the page and hide everything.</p>\n\n<p><a href=\"http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/HTMLEditor/HTMLEditor.aspx\" rel=\"nofollow\">http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/HTMLEditor/HTMLEditor.aspx</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/JZ8P4.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","ajax","forms","wordpress","nested-forms"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13168961,"title":"php ajax bypass nested forms issue","body":"<p>I'm using wordpress and try to create a plugin for uploading files.\nThe thing is that the plugin appears on the publish and edit page which are basically two giant forms.\nAs long as I put something in these pages, I'm inside these forms.</p>\n\n<p>So I'm stuck with nested forms.</p>\n\n<p>The only solutions I can think of are:</p>\n\n<ol>\n<li>have a form inside an iframe and get the $_FILES data from the public/edit page.</li>\n<li>Have an element (jquery?) which reacts as a file input but is not a file input in order not to have to use a form while having the ability to retrieve the $_FILES data.</li>\n<li>Keeping the nested forms and have a workaround to make them work and get the $_FILES data</li>\n</ol>\n\n<p>Whatever the option, I can't find anything about it over the internet.</p>\n\n<p>Any help?</p>\n\n<p>Thank you.</p>\n"},{"tags":["ajax","ruby-on-rails-3","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13167484,"title":"Remote Form Renders as HTML instead of JS","body":"<p>I have a simple form:</p>\n\n<pre><code>&lt;%= form_for [current_user, @bookcase], :id =&gt; \"shelf_update_form\", :remote =&gt; true, :html =&gt; { :multipart =&gt; true} do |f| %&gt;\n  &lt;input id=\"bookcase_image\" class=\"file\" type=\"file\" name=\"bookcase[image]\" size=\"13\"&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>That automatically uploads when a file has been selected:</p>\n\n<pre><code>$(\"#shelf_update_form\").change(function() {\n  $(\"#shelf_update_form\").submit();\n});\n</code></pre>\n\n<p>I want the update action to render js view, but by default it renders html instead. I try forcing it to render js like so:</p>\n\n<pre><code>respond_to do |format|\n  format.js\nend\n</code></pre>\n\n<p>But then I get this error:</p>\n\n<pre><code>NetworkError: 406 Not Acceptable\n</code></pre>\n\n<p>Even then, my log reports:</p>\n\n<pre><code>Processing by BookcasesController#update as HTML\n</code></pre>\n\n<p>How can I get it to process as JS instead?</p>\n\n<p>UPDATE:</p>\n\n<p>The view:</p>\n\n<pre><code>triggerAjaxHistory(\"&lt;%= @href %&gt;\", false);\n</code></pre>\n\n<p>I get the same results with a more generic view, too:</p>\n\n<pre><code>alert(\"I work now!\")\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","animation","addeventlistener"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13168616,"title":"How to add event listener to my javascript function","body":"<p>I have an animation on my page that slides a div into the screen, pushing the current div in the screen out. While it is animating, an ajax request is sent to grab a page and put it into the div.</p>\n\n<p>For some reason, my code works OK on Firefox but stutters using Chrome. </p>\n\n<p>Here is the page: (try clicking the left eye)</p>\n\n<p><a href=\"http://www.uvm.edu/~areid/homesite/index.html\" rel=\"nofollow\">http://www.uvm.edu/~areid/homesite/index.html</a></p>\n\n<p>What I want to do (as per recommendation of @jfriend00) is add an event listner to the slideOut() function to make it so the ajax request won't start until the slideOut() has finished. Separating the ajax call and the animation should lessen the load of the code and therefore prevent Chrome from stuttering as it does now.</p>\n\n<p>here is my slide out function:</p>\n\n<p>JAVASCRIPT:</p>\n\n<pre><code>            function SlideOut(element) {\n                var opened = $(\".opened\"),\n                    div = $(\"#\" + element),\n                    content = $(\"#content\");\n                opened.removeClass(\"opened\");\n                div.addClass(\"opened\");\n                content.removeClass().addClass(element);\n            }\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>    #content {\n        margin: 0 auto;\n        position:relative;\n        left:0;\n        -webkit-transition: all 0.9s ease;\n        -moz-transition: all 0.9s ease;\n        -o-transition: all 0.9s ease;\n        transition: all 0.9s ease;\n    }\n    #content.right {\n        left:-1150px;\n    }\n    #content.left {\n        left:1150px;\n    }\n    #content.bottom {\n        top:-300px;\n    }\n    #content.top {\n        top:1100px;\n    }\n\n    #content div {\n        cursor:pointer;\n    #left {\n        padding:0;\n        margin:0;\n        position:absolute;\n        top:0;\n        left:-1800px;\n        height:100%;\n        width:1750px;\n        -webkit-transition: all 0.9s ease;\n        -moz-transition: all 0.9s ease;\n        -o-transition: all 0.9s ease;\n        transition: all 0.9s ease;\n        background-color: #1a82f7;\n        /* Safari 4-5, Chrome 1-9 */\n        background: -webkit-gradient(linear, left top, right top, from(#C6421F), to(#2F2727));\n        /* Safari 5.1, Chrome 10+ */\n        background: -webkit-linear-gradient(right, #C6421F, black);\n        /* Firefox 3.6+ */\n        background: -moz-linear-gradient(right, #C6421F, black);\n        /* IE 10 */\n        background: -ms-linear-gradient(right, #C6421F, black);\n        /* Opera 11.10+ */\n        background: -o-linear-gradient(right, #C6421F, black);\n    }\n\n    #left.opened {\n        left:0;\n    }\n    #left-content{\n        margin-left:70px;\n        position:relative;\n        -webkit-transition: all 0.9s ease;\n        -moz-transition: all 0.9s ease;\n        -o-transition: all 0.9s ease;\n        transition: all 0.9s ease;\n    }\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;div id=\"fullContainer\"&gt;\n\n    &lt;div id=\"right\"&gt;\n        &lt;div class=\"return-right\"&gt;\n            &lt;p&gt;click me&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div id=\"resume\"&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n    &lt;div id=\"left\"&gt;\n\n            &lt;div class=\"return-left\"&gt;\n        &lt;p&gt;click me&lt;/p&gt;\n        &lt;/div&gt;\n            &lt;div id=\"left-content\"&gt;\n        &lt;/div&gt;\n\n\n    &lt;/div&gt;\n    &lt;div id=\"top\"&gt;\n            &lt;div class=\"return\"&gt;\n        &lt;p&gt;click me&lt;/p&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n    &lt;div id=\"bottom\"&gt;\n            &lt;div class=\"return\"&gt;\n        &lt;p&gt;click me&lt;/p&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"centerContainer\"&gt;\n    &lt;div id=\"relativeContainer\"&gt;\n        &lt;div id=\"content\" class=\"center\"&gt;\n  &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It might be best just to use firebug on the actual site.</p>\n\n<p>Thanks!</p>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":281,"score":0,"question_id":11780215,"title":"form_tag with :remote => true does not update div, skips to separate page","body":"<p>I am trying to update a div based on a form submit. I am on Rails 3.1.1. I am trying to adapt someone else's <a href=\"http://jmvidal.cse.sc.edu/talks/rubyonrails/form_remote_tag.html\" rel=\"nofollow\">recipe</a>. My code in the view is something like this in <code>main.html.erb</code>:</p>\n\n<pre><code>&lt;%= javascript_include_tag :defaults %&gt;\n&lt;div id='seq_search'&gt;\n  &lt;%= form_tag(:remote =&gt; true, :update =&gt; 'seq_select', :action =&gt; 'select')  do %&gt;\n    &lt;p&gt;\n      &lt;%= search_field_tag  :query, '', :size =&gt; 45 %&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n      &lt;%=submit_tag \"Submit\", :disable_wth =&gt; \"Adding ...\"%&gt;\n    &lt;/p&gt;\n   &lt;% end %&gt;\n&lt;/div&gt;\n\n&lt;div id='seq_select'&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>The controller looks like</p>\n\n<pre><code>class SearchAjaxController &lt; ApplicationController\n  def main\n  end\n  def select\n      render :text =&gt; '&lt;li&gt; '+params[:query] + ' &lt;/li&gt;'\n  end\nend\n</code></pre>\n\n<p>However, when I enter something in the text box and press submit, instead of updating the div, it goes off to another page rendering just the output of the <code>select</code> method of the controller.</p>\n\n<p>If I look at the page source of the form, it is something like this:</p>\n\n<pre><code>&lt;div id='seq_search'&gt;\n  &lt;form accept-charset=\"UTF-8\" action=\"/search_ajax/select?remote=true&amp;amp;update=seq_select\" method=\"post\"&gt;&lt;div style=\"margin:0;padding:0;display:inline\"&gt;&lt;input name=\"utf8\" type=\"hidden\" value=\"&amp;#x2713;\" /&gt;&lt;input name=\"authenticity_token\" type=\"hidden\" value=\"wlOm4H7GvZAQoIVpjxPLqHAQLOIpJ4V5r0WYEpvCCrQ=\" /&gt;&lt;/div&gt;\n    &lt;p&gt;\n      &lt;input id=\"query\" name=\"query\" size=\"45\" type=\"search\" value=\"\" /&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n      &lt;input disable_wth=\"Adding ...\" name=\"commit\" type=\"submit\" value=\"Submit\" /&gt;\n    &lt;/p&gt;\n&lt;/form&gt;&lt;/div&gt;\n\n&lt;div id='seq_select'&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>It seems that the form is simply passing <code>remote=true&amp;amp;update=seq_select</code> as arguments to the controller's method/function. Is this what is supposed to happen?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>So I tried to add to follow Mike Campbell's sugggestion and added the following code to my view (`.html.erb') file</p>\n\n<pre><code>&lt;SCRIPT type='text/Javascript'&gt; \n$(function(){\n  $('#form-id').bind('ajax:success', function(xhr, data, status){\n    $('#seq_select').html(data);\n  });\n}\n&lt;/SCRIPT&gt;\n</code></pre>\n\n<p>and also gave an id to the form:</p>\n\n<pre><code> &lt;%= form_tag(:remote =&gt; true, :update =&gt; 'seq_select', :action =&gt; 'select', :id =&gt; 'form-id')  do %&gt;\n</code></pre>\n\n<p>Submitting the form still doesn't update the page. It simply skips to a new rendered view as before. The generated HTML reads:</p>\n\n<pre><code>&lt;SCRIPT type='text/Javascript'&gt; \n$(function(){\n  $('#form-id').bind('ajax:success', function(xhr, data, status){\n    $('#seq_select').html(data);\n  });\n}\n&lt;/SCRIPT&gt;\n\n&lt;div id='seq_search'&gt;\n  &lt;form accept-charset=\"UTF-8\" action=\"/ajax_search/select/form-id?remote=true&amp;amp;update=seq_select\" method=\"post\"&gt;&lt;div style=\"margin:0;padding:0;display:inline\"&gt;&lt;input name=\"utf8\" type=\"hidden\" value=\"&amp;#x2713;\" /&gt;&lt;input name=\"authenticity_token\" type=\"hidden\" value=\"wlOm4H7GvZAQoIVpjxPLqHAQLOIpJ4V5r0WYEpvCCrQ=\" /&gt;&lt;/div&gt;\n    &lt;p&gt;\n      &lt;label&gt; Search by identifiers, accessions, and gene names.. &lt;/label&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n      &lt;input id=\"query\" name=\"query\" size=\"45\" type=\"search\" value=\"\" /&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n      &lt;input disable_wth=\"Adding ...\" name=\"commit\" type=\"submit\" value=\"Submit\" /&gt;\n    &lt;/p&gt;\n&lt;/form&gt;&lt;/div&gt;\n\n&lt;div id='seq_select'&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Update:</p>\n\n<p>It seems that the syntax for form_tag was wrong, and the first argument has to be the name of the action. I now have <code>&lt;%= form_tag( 'select', :remote =&gt; true, :id =&gt; 'form_id')  do %&gt;</code> which generates the associated HTML <code>&lt;form accept-charset=\"UTF-8\" action=\"select\" data-remote=\"true\" id=\"form_id\" method=\"post\"&gt;</code>. Which is better, but my Ajax is still not working.</p>\n"},{"tags":["php","jquery","ajax","cakephp-1.3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13168443,"title":"Using purely jQuery AJAX in cakePHP 1.3","body":"<p>I'm using cakePHP 1.3 and would like to use AJAX from my search view to the search action in my controller. I was using prototype and scriptaculous and it was working fine, but need to use purely jQuery. </p>\n\n<p>The search action basically looks as follows:</p>\n\n<pre><code>    public function search() {\n    if (empty($this-&gt;data)) {\n    } else {\n        $request = $this-&gt;data;\n        $this-&gt;set('data', $this-&gt;Event-&gt;search($request['Event']['search']));\n    }  \n}\n</code></pre>\n\n<p>The view currently looks like: </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n$(function() {\n\n    $(\".search_button\").click(function() {\n        var searchString    = $(\"#search_box\").val();\n        var data = searchString;\n\n        if(searchString) {\n\n            $.ajax({\n                type: \"POST\",\n                url: \"/events/search\",\n                data: data,\n                beforeSend: function(html) { // this happens before actual call\n                    $(\"#results\").html('');\n                    $(\"#searchresults\").show();\n                    $(\".word\").html(searchString);\n                },\n                success: function(html){ // this happens after we get results\n                    $(\"#results\").show();\n                    $(\"#results\").append(html);\n                }\n            });    \n        }\n        return false;\n    });\n});\n&lt;/script&gt;\n\n&lt;div id='container'&gt;\n&lt;h1&gt;Corporate Events&lt;/h1&gt; \n\n&lt;form method=\"post\" action=\"search\"&gt;\n    &lt;input type=\"text\" name=\"search\" id=\"search_box\" class='search_box'/&gt;\n    &lt;input type=\"submit\" value=\"Search\" class=\"search_button\" /&gt;&lt;br /&gt;\n&lt;/form&gt;\n&lt;div id=\"searchresults\"&gt;Search results :&lt;/div&gt;\n&lt;ul id=\"results\" class=\"update\"&gt;\n</code></pre>\n\n<p>What is the best way to make the 'data' variable available to $this->data in the controller? I checked the other threads with similar questions, but was unable to see how to do this. </p>\n\n<p>Thanks!</p>\n"},{"tags":["php","javascript","mysql","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13167438,"title":"update table in mysql when user loses focus of a textarea?","body":"<p>I want users of my site to be able to update their profile information by clicking into a textarea. When they type in some text and click out of the text area (on blur), I want this to update a table in my database called 'bio'.</p>\n\n<p>I have been working on this for several days, I'm ashamed to admit but I am really new to php and sql so I am learning as I go along. I have tried to make sense of a script but it's probably completely wrong. Can someone please advise me of what I need to do?</p>\n\n<p>Here's my code:</p>\n\n<pre><code> &lt;textarea id=\"bio\" style=\"width: 456px; \n    margin-top:3px;\n    text-align:left;\n    margin-left:-2px;\n    height: 120px;\n    resize: none; \n    border: hidden;\" textarea name=\"bio\" data-id=\"bio\"&gt;\n    &lt;?php echo $profile['bio'] ?&gt;\n  &lt;/textarea&gt;\n\n  &lt;script type=\"text/javascript\"&gt;\n\n    $('textarea').on('blur',function () {\n        var bioVal = $(this).val(), \n            id = $(this).data('id');        \n\n        $.ajax({\n             type: \"POST\",\n             url: \"includes/changebio.php\",\n             data: {bio:bioVal , id:id},\n             success: function(msg) {\n                 $('#bio-' + id).val(msg);\n             }\n       })\n    });\n\n  &lt;/script&gt;\n</code></pre>\n\n<p>Here's the url php file that should do the work:</p>\n\n<pre><code>function update_profilebio() {\n            global $connection;\n            global $profile_id;\n            $query = \"UPDATE ptb_profiles\n                      SET bio=''\n                        WHERE ptb_profiles.user_id = \\\"$profile_id\\\"\n                        AND ptb_profiles.user_id = ptb_users.id\";\n            $update_profilebio_set = mysql_query($query, $connection);\n            confirm_query($update_profilebio_set);\n            return $update_profilebio_set;\n\n            }\n</code></pre>\n"},{"tags":["javascript","ajax","knockout.js","ko.observablearray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13150287,"title":"knockout observable array not updating after ajax addition","body":"<p>I have an observable array of a complex object. The initial load is fine, and all the expected data looks fine. Now I am working on POSTing new items to that array. NOTE: The observable array is being loaded via ASP.NET ajax web api call.</p>\n\n<p>posting a new item works fine as far as saving it to the database, but my DOM is not getting updated with the new item and I don't know what I am missing.</p>\n\n<p>Here is the entire ViewModel</p>\n\n<pre><code>    function ClientList() {\n    //data\n    var self = this;\n    self.initialized = ko.observable(false);\n    self.clients = ko.observableArray();\n    self.userId = ko.observable(\"\");\n    self.name = ko.observable(\"\");\n    self.logo = ko.observable(\"\");\n    self.projects = ko.observableArray();\n    self.clientAddress = ko.observableArray();\n\n\n    self.addClient = function () {\n        var client = {\n            UserId: self.userId,\n            Name: self.name,\n            Logo: self.logo,\n        }\n        client = ko.toJSON(client);\n        lucidServer.addClient(client);\n        self.clients.push(client);\n    }.bind(self);\n\n    (function () {\n        $.ajax({\n            url: lucidServer.getClients(1),\n            success: function (data) {\n                ko.mapping.fromJS(data, {}, self.clients);\n                self.initialized(true);\n            }\n        });\n    })();\n};\n\nfunction IncompleteStoriesList() {\n    //data\n    var self = this;\n    self.initialized = ko.observable(false);\n    self.stories = ko.observableArray();\n    (function () {\n        $.ajax({\n            url: lucidServer.getIncompleteStory(1),\n            success: function (data) {\n                ko.mapping.fromJS(data, {}, self.stories);\n                self.initialized(true);\n            }\n        });\n    })();\n};\n\n\nfunction ViewModel() {\n    var self = this;\n    self.clientList = new ClientList();\n    self.storyList = new IncompleteStoriesList();\n}\n\nko.applyBindings(new ViewModel());\n</code></pre>\n\n<p>Here is the particular snippet where I am doing the POST (within the ClientList() function).</p>\n\n<pre><code>self.addClient = function () {\n        self.client = {\n        UserId: self.userId(),\n        Name: self.name(),\n        Logo: self.logo(),\n        }\n    //make client object to send to server\n    var client = ko.toJSON(self.client);\n    lucidServer.addClient(client);\n    //push the self.client to the observablearray of clients\n    self.clients.push(self.client);\n}.bind(self);\n</code></pre>\n\n<p>I verified it is JSON that is sitting inside the client variable, and no error messages are getting thrown, so I am confused. After I add an item and refresh the entire page, it will show up in the list.</p>\n\n<p>EDIT: here is the html associated:</p>\n\n<pre><code>&lt;form data-bind=\"submit: clientList.addClient\"&gt;\n    &lt;div&gt;\n        &lt;label&gt;userId&lt;/label&gt;\n        &lt;input type=\"text\" data-bind=\"value: clientList.userId\" /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;name&lt;/label&gt;\n        &lt;input type=\"text\" data-bind=\"value: clientList.name\" /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;logo&lt;/label&gt;\n        &lt;input type=\"text\" data-bind=\"value: clientList.logo\" /&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\"&gt;Add&lt;/button&gt;\n\n    &lt;/form&gt;\n\n    &lt;!-- ko ifnot: clientList.initialized --&gt;\n    &lt;span&gt;Loading...&lt;/span&gt;\n    &lt;!-- /ko --&gt;\n    &lt;ul data-bind=\"template:{name: 'clientList', foreach:clientList.clients}\"&gt;\n    &lt;/ul&gt;\n</code></pre>\n\n<p>And the external template looks like this:</p>\n\n<pre><code>&lt;div id=\"clientListOutput\"&gt;\n\n    &lt;li&gt;&lt;span data-bind=\"text: name\"&gt;&lt;/span&gt;\n        &lt;div data-bind=\"template: {foreach: clientAddress}\"&gt;\n            &lt;span data-bind=\"text: city\"&gt;&lt;/span&gt;\n            &lt;span data-bind=\"text: state\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;hr /&gt;\n        &lt;ul data-bind=\"template: {foreach: projects}\"&gt;\n            &lt;li&gt;\n                &lt;span data-bind=\"text: name\"&gt;&lt;/span&gt;\n                &lt;span data-bind=\"text: summary\"&gt;&lt;/span&gt;\n                &lt;span data-bind=\"text: description\"&gt;&lt;/span&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13167888,"title":"Ajax retaining information when opened in new tab or reloaded","body":"<p>I'm creating a website which i need to retain information when placed in another tab or page is refreshed.</p>\n\n<p>Here's the part of the code where i need to retain the information.</p>\n\n<pre><code>$(\".dev\").append(lines[i]+\"\\n\");\n</code></pre>\n\n<p>lines[i] are ip addresses that will be listed in my textarea.</p>\n\n<pre><code>&lt;textarea class='dev' cols='50' rows='10' readonly='readonly' style='resize:none;'&gt;\n</code></pre>\n\n<p>Now how can i retain the information from my textarea when opened in new tab or browser is refreshed? I've used memcache before but i don't wanna use that i need to do it in ajax or jquery.</p>\n"},{"tags":["ruby-on-rails","ajax","fancybox","gmaps4rails"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13104664,"title":"Gmaps4rails: map does not show through ajax with erb data feeding but does when hard coded","body":"<p>I would like to use the gmaps4rails gem to display a map of items in a fancybox.\nI followed carefully the remarks on the wiki concerning ajax call, i.e. scripts have to be included manually in the application layout, maps have to be loaded in a javascript (<a href=\"https://github.com/apneadiving/Google-Maps-for-Rails/wiki/Using-with-UJS\" rel=\"nofollow\">see gem wiki</a>).</p>\n\n<p>But I still not succeed completely to make the map displayed in the box.</p>\n\n<p>On the other hand as I hard code coordinates in the javascript it works fine, the map is displayed in the fancybox and the markers appear.</p>\n\n<p>Let me recap.</p>\n\n<p>In my index view, I have a ajax call to the items index action:</p>\n\n<pre><code>&lt;%= link_to \"Show Map\", items_path(:format =&gt; :js, :show_map =&gt; true), :remote =&gt; true, :class =&gt; 'fancybox' %&gt;\n</code></pre>\n\n<p>In the controller, I populate the map data:</p>\n\n<pre><code>def index\n   @items=Item.all\n\n   if params[:show_map]\n       @map= @items.to_gmaps4rails\n   end \n end \n</code></pre>\n\n<p>in the index.js.erb file, I put</p>\n\n<pre><code>&lt;% if params[:show_map] %&gt;\n    var content = \"&lt;%= escape_javascript( gmaps({:last_map =&gt; false})) %&gt;\";\n    $.fancybox({\n            'content': content,\n            'padding' : 20\n        }); \n    Gmaps.map = new Gmaps4RailsGoogle();\n    Gmaps.load_map = function() {\n               Gmaps.map.initialize();\n               Gmaps.map.markers = &lt;%=  @map %&gt;; \n               Gmaps.map.create_markers();\n               Gmaps.map.adjustMapToBounds();\n               Gmaps.map.callback();\n               };  \n    Gmaps.loadMaps(); \n&lt;% else %&gt;\n // blablabla\n&lt;% end %&gt;\n</code></pre>\n\n<p>Where the markers are provided in the map object.</p>\n\n<p>This does not work and instead of my map I got in the fancybox the code itself appearing.\nSomething like:</p>\n\n<pre><code>var content = \"\\n\n\\n\n&lt;\\/div&gt;\\n&lt;\\/div&gt;\\n\"; $.fancybox({ 'content': content, 'padding' : 20 }); Gmaps.map = new Gmaps4RailsGoogle(); Gmaps.load_map = function() {Gmaps.map.initialize(); \n//Gmaps.map.markers = [{\"lat\":50.294,\"lng\":5.857},{\"lat\":50.294,\"lng\":5.857},{\"lat\":50.548,\"lng\":4.918},{\"lat\":50.384,\"lng\":3.649},{\"lat\":50.384,\"lng\":3.649},{\"lat\":50.08,\"lng\":4.5760000000000005},{\"lat\":50.054,\"lng\":5.195}]; \nGmaps.map.markers = [{\"lat\":50.8483059,\"lng\":4.351783999999999},{\"lat\":50.496,\"lng\":5.066},{\"lat\":50.11,\"lng\":5.003},{\"lat\":50.11,\"lng\":5.003},{\"lat\":50.162,\"lng\":5.871},{\"lat\":50.08,\"lng\":4.5760000000000005},{\"lat\":50.08,\"lng\":4.5760000000000005},{\"lat\":50.08,\"lng\":4.5760000000000005}];\n Gmaps.map.create_markers(); Gmaps.map.adjustMapToBounds(); Gmaps.map.callback(); }; Gmaps.loadMaps(); \n</code></pre>\n\n<p>When instead of the erb <code>&lt;%= @map %&gt;</code>, I hard code the markers, for instance:</p>\n\n<pre><code>Gmaps.map.markers = [{\"lat\":50.294,\"lng\":5.857},\"lat\":50.294,\"lng\":5.857},{\"lat\":50.548,\"lng\":4.918}];\n</code></pre>\n\n<p>It works!</p>\n\n<p>Seems like I'm missing something in the json data type conversion. But I'm not expert to find what is going wrong.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["javascript","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13166898,"title":"Hashtag ajax not working consistently","body":"<p>I am following <a href=\"http://css-tricks.com/examples/DynamicPage/\" rel=\"nofollow\">this</a> page to make an ajax site. It's fairly straight-forward, but the problem I am running into is that the links, which are just </p>\n\n<pre><code>   &lt;a href=\"link.html\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<p>tend to go ignore the hashtag change and go straight to the link.html page causing a reload instead of using ajax to update the content. </p>\n\n<p>When I hit the back button, the ajax part works and then when I click links from there it works - any idea what's causing this behaviour when the page is first landed on? </p>\n\n<p>I am using a navigator menu from jQuery UI, if you need any more info, let me know and I'll post it asap.</p>\n\n<p>Thanks for the help!</p>\n\n<p>Here's the dynamic.js file that is controlling the ajax behaviour:</p>\n\n<pre><code>$(function() {\n\n    var newHash      = \"\",\n        $mainContent = $(\"#main-content\"),\n        $pageWrap    = $(\"#page-wrap\"),\n        baseHeight   = 0,\n        $el;\n\n    $pageWrap.height($pageWrap.height());\n    baseHeight = $pageWrap.height() - $mainContent.height();\n\n    $(\"nav\").delegate(\"a\", \"click\", function() {\n        window.location.hash = $(this).attr(\"href\");\n        return false;\n    });\n\n    $(window).bind('hashchange', function(){\n\n        newHash = window.location.hash.substring(1);\n\n        if (newHash) {\n            $mainContent\n                .find(\"#guts\")\n                .fadeOut(200, function() {\n                    $mainContent.hide().load(newHash + \" #guts\", function() {\n                        $mainContent.fadeIn(200, function() {\n                            $pageWrap.animate({\n                                height: baseHeight + $mainContent.height() + \"px\"\n                            });\n                        });\n                        $(\"nav a\").removeClass(\"current\");\n                        $(\"nav a[href='\"+newHash+\"']\").addClass(\"current\");\n                    });\n                });\n        };\n\n    });\n\n    $(window).trigger('hashchange');\n\n});\n</code></pre>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13166840,"title":"Using variable in a ajax function","body":"<p>I just want to use a variable from outside of the function, but I am not sure what I have to do for that...</p>\n\n<p>Is <code>var myRequest = a;</code> line enough to use this variable in the function?</p>\n\n<p>Because I saw such an example: <code>var myRequest = e.which;</code></p>\n\n<p>I am asking this because I did not get a succesful result for my request.</p>\n\n<p>I am think that it is not working as I expected because <code>ajaxFunction(3)</code> working diffirent than writing <code>send.php?goto=3</code> into address bar of my browser.</p>\n\n<p>You can see the following codes:</p>\n\n<pre><code>function ajaxFunction(a)\n{\n    var ajaxRequest;\n    try {\n        ajaxRequest = new XMLHttpRequest();\n    } catch (e) {\n        try {\n            ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        } catch (e) {\n            try {\n                ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            } catch (e) {\n                alert(\"Your browser broke!\");\n                return false;\n            }\n        }\n    }\n    ajaxRequest.open(\"GET\", \"send.php?goto=\" + a, true);\n    ajaxRequest.send(); \n}\n</code></pre>\n"},{"tags":["php","jquery","ajax","pagination","instagram"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":88,"score":4,"question_id":13166868,"title":"Ajax pagination for Instagram API tried to fix bug","body":"<p>I'm trying to fix Ajax pagination for Instagram API</p>\n\n<p>Shown only 20 photos. \"Load more\" button didn't work.</p>\n\n<p>In console: </p>\n\n<pre><code>Uncaught ReferenceError: maxid is not defined\n</code></pre>\n\n<p>Here is index.php:</p>\n\n<pre><code> &lt;script&gt;\n $(document).ready(function() {\n $('#more').click(function() {\n var max_id = $(this).data('nextid');\n\n\n $.ajax({\n type: 'GET',\n url: 'ajax.php',\n data: {\n max_id: maxid\n },\n dataType: 'json',\n cache: false,\n success: function(data) {\n // Output data\n $.each(data.images, function(i, src) {\n $('#photos').append('&lt;li&gt;&lt;img src=\"' + src + '\"&gt;&lt;/li&gt;');\n });\n\n // Store new maxid\n $('#more').data('maxid', data.next_id);\n }\n });\n });\n });\n&lt;/script&gt;\n\n&lt;?php\n\n\n require_once 'instagram.class.php';\n\n\n$instagram = new Instagram(array(\n  'apiKey' =&gt; '*****',\n  'apiSecret' =&gt; '*****',\n  'apiCallback' =&gt; '******'\n\n));\n\n// Receive OAuth code parameter\n$code = $_GET['code'];\n\nif (true === isset($code)) {\n\n$data = $instagram-&gt;getOAuthToken($code);\n\n$instagram-&gt;setAccessToken($data);\n\n\n$media = $instagram-&gt;getUserMedia();\n\n\n}\n?&gt;\n\n\n&lt;ul id=\"photos\"&gt;\n\n&lt;?php foreach( $media-&gt;data as $data ): ?&gt;\n&lt;li&gt;&lt;img src=\"&lt;?php echo $data-&gt;images-&gt;thumbnail-&gt;url ?&gt;\"&gt;&lt;/li&gt;\n&lt;?php endforeach; ?&gt;\n\n&lt;?php echo \"&lt;br&gt;&lt;button id=\\\"more\\\" data-maxid=\\\"{$media-&gt;pagination-&gt;next_max_id}\\\"&gt;Load more ...&lt;/button&gt;\"; ?&gt;\n</code></pre>\n\n<p>ajax.php:</p>\n\n<pre><code>require_once 'instagram.class.php';\n$instagram = new Instagram(array(\n  'apiKey' =&gt; '****',\n  'apiSecret' =&gt; '*****',\n  'apiCallback' =&gt; '*******'\n\n));\n\n// Receive OAuth code parameter\n$code = $_GET['code'];\n\nif (true === isset($code)) {\n\n$data = $instagram-&gt;getOAuthToken($code);\n\n // Initialize class for public requests\n $instagram-&gt;setAccessToken($data);\n\n$media = $instagram-&gt;getUserMedia();\n\n\n // Receive AJAX request and create call object\n $maxID = $_GET['next_max_id'];\n\n $clientID = $instagram-&gt;getApiKey();\n\n $call = new stdClass;\n $call-&gt;pagination-&gt;next_max_id = $maxID;\n $call-&gt;pagination-&gt;next_url = \"https://api.instagram.com/v1/users/self/media/recent?client_id={$clientID}&amp;max_id={$maxID}\";\n\n\n // Receive new data\n $media = $instagram-&gt;pagination($call);\n\n // Collect everything for json output\n $images = array();\n foreach ($media-&gt;data as $data) {\n $images[] = $data-&gt;images-&gt;thumbnail-&gt;url;\n  }\n echo json_encode(array(\n 'next_id' =&gt; $media-&gt;pagination-&gt;next_max_id,\n'max_id' =&gt; $media-&gt;pagination-&gt;max_id,\n 'images' =&gt; $images\n ));\n</code></pre>\n\n<p>I am using <a href=\"https://github.com/cosenary/Instagram-PHP-API\" rel=\"nofollow\">https://github.com/cosenary/Instagram-PHP-API</a></p>\n\n<p>Thank You!</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13166176,"title":"jQuery: Submit a form only if no AJAX is currently running on the page","body":"<p>When the city input field is blurred I get somnething via an ajax request and set that as the value of a hidden field in the same form that the city field resides in.</p>\n\n<pre><code>$('input#city').on('blur', function() {\n    $.ajax({\n        url: 'get/something?param=val',\n        success: function(response) {\n            $('input:hidden[name=\"something\"]').val(response);\n        }\n    });\n});\n</code></pre>\n\n<p>If the user submits the form immediately after blurring off the city field sometimes due to latency the hidden field is not populated because the SQL on the other end is taking too long.</p>\n\n<p>The form that both these fields are in is also submitted via ajax:</p>\n\n<pre><code>$('form#find-users').on('submit', function() {\n    if(NO_AJAX_CURRENTLY_RUNNING_ON_PAGE) {\n        // do stuff\n    }\n});\n</code></pre>\n\n<p><strong>How to detect if no ajax is running on the page?</strong> This will ensure that the city ajax was completed and the hidden field populated before the form is processed.</p>\n\n<h2>EDIT</h2>\n\n<p>Actually it won't, it will only prevent the form from being submitted. But if I can detect that then I can use a setInterval and keep trying to run that code until it runs because ajax is complete. Ideally there will be something in jQuery that waits until other ajax is complete and then submits.</p>\n"},{"tags":["php","ajax","highcharts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13156644,"title":"HighChart with datetime on a-axis","body":"<p>I don't know where I am making an error in this code.<br />What I need to do is to have a HighCharts drawing with the values from the data base. The values could change at anytime.<br />\n- The x-axis should be labeled like \" Nov 30 \" as the last point down to \" Oct 30 \" as the first point, that means 30 days ( I want to display the chart on 30 days only ). This is an example , the date can vary in time.\n- The JS is sending the request via ajax and the result is returned in json format. This is one of the row : <code>{\"time\":\"2012-08-07 21:15:05\",\"value_1\":\"1.241110\",\"value_2\":\"1.241103\"}</code>\nThe graph has two lines ( value_1 and value_2 ) and all correspond to the same Time on the x-axis.<br />I read somewhere that I have to convert the format of the date to UTC. This is the function <br /></p>\n\n<pre><code>function get_and_display_data(symbol_1,price_1,period_1,bars_1,constraints_1){\n\nvar highchartsOptions = Highcharts.setOptions(Highcharts.theme);\n\nvar options = {\n    chart: {\n        renderTo: 'graph',\n        type: 'line',\n        marginRight: 130,\n        marginBottom: 25,\n        reflow: false,\n        borderWidth: 0\n    },\n    title: {\n        text: 'Data',\n        x: -20 //center\n    },\n    xAxis: {\n        type:'datetime',\n        dateTimeLabelFormats: {\n            year: '%b \\'%y'\n        }\n    },\n    yAxis: {\n        title: {\n            text: 'This is a text !'\n        },\n        plotLines: [{\n            value: 0,\n            width: 1,\n            color: '#808080'\n        }]\n    },\n    tooltip: {\n        formatter: function() {\n            return '&lt;b&gt;'+ this.series.name +'&lt;/b&gt;&lt;br/&gt;'+\n            Highcharts.dateFormat ('%A, %b %e, %Y', this.point.x) +': '+ this.y;\n        }\n    },\n    legend: {\n        layout: 'vertical',\n        align: 'right',\n        verticalAlign: 'top',\n        x: -10,\n        y: 100,\n        borderWidth: 0\n    },\n    plotOptions: {\n        series: {\n            marker: {\n                enabled: false,\n                states: {\n                    hover: {\n                        enabled: true,\n                        radius: 3\n                    }\n                }\n            }\n        }\n    },\n    series: [{\n        name: ''\n        }, {\n        name: ''\n    }]\n}\n$.ajax({\n    url: url_base+\"show_page/graph_data.do\",\n    type: 'POST',\n    data: 'symbol='+symbol_1+\"&amp;price=\"+price_1+\"&amp;period=\"+period_1+\"&amp;bars=\"+bars_1+\"&amp;constraints=\"+constraints_1,\n    cache: false,\n    dataType: \"json\",\n    success: function(html) {\n        var data_array = [];\n        var data_1 = [];\n        var data_2 = [];\n        var i = 0;\n        var time_x_axis = [];\n        var sLegend = [];\n        try{\n            data_array = html;\n            sLegend = price_1.split(',');\n            if(html == null){\n                alert('No data was found. Try it again ');\n            }else{\n                for(i=0;i&lt;data_array.length;i++)\n                {\n                    time_x_axis[i] = data_array[i]['time'];\n                    data_1[i] = '['+Date.UTC(time_x_axis[i].substr(0, 4), time_x_axis[i].substr(5,2), time_x_axis[i].substr(8,2), time_x_axis[i].substr(11,2), time_x_axis[i].substr(14,2), time_x_axis[i].substr(17,2))+','+parseFloat(data_array[i]['value_1'])+']';\n                    data_2[i] = '['+Date.UTC(time_x_axis[i].substr(0, 4), time_x_axis[i].substr(5,2), time_x_axis[i].substr(8,2), time_x_axis[i].substr(11,2), time_x_axis[i].substr(14,2), time_x_axis[i].substr(17,2))+','+parseFloat(data_array[i]['value_2'])+']';                        \n                }\n            }\n        }catch(e){ }\n        options.series[0].data = '['+data_1+']';\n        options.series[0].name = sLegend[1];\n        options.series[1].data = data_2;\n        options.series[1].name = sLegend[2];\n        chart = new Highcharts.Chart(options);\n    }\n});}\n</code></pre>\n\n<p>Here I get result in html variable and affect them to Data_array[] . \nBecause the series data should be in the format <em>Data:[[],[],[]..[]]</em> , that is why I put *options.series[0].data = '['+data_1+']';* .<br />For *data_1[i]*, I have to substr the time to get the Year, Month, Day, Hour, Min and Sec.<br />\nWhat am I missing inside the code ?</p>\n"},{"tags":["javascript","jquery","html","ajax","dom"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13166546,"title":"Jquery doesnot bind events to ajax added dom","body":"<p>I have an ajax function that loads the content of 4 checkboxes as follows:</p>\n\n<pre><code>$.ajax({\nurl : some url..,\ndataType : 'json',\nsuccess : function(data) {\n    buildCheckboxes(data);\n    },\nerror : function(data) {\n            do something...\n    }\n});\n</code></pre>\n\n<p>build checkboxes methods does something like this:</p>\n\n<pre><code>function updateNotificationMethods(items) {\n    var html = [];\n    $.each(items, function(i, item) {\n        htmlBuilder = [];\n        htmlBuilder.push(\"&lt;input type='checkbox' class='checkbox-class' name='somename' value='\");\n        htmlBuilder.push(item.id);\n        htmlBuilder.push(\"'\");\n        htmlBuilder.push(\"/&gt;&amp;nbsp;\");\n        htmlBuilder.push(item.name);\n        htmlBuilder.push(\"&lt;br/&gt;&lt;br/&gt;\")\n        html.push(htmlBuilder.join(''));\n    });\n    $(\"#div\").html(html.join(''));\n}\n</code></pre>\n\n<p>i have also an event binder that should be triggered when checkbox value changes:</p>\n\n<pre><code>$(\".checkbox-class\").change(function() {\nalert(\"change\");\n });\n</code></pre>\n\n<p>it works if i have the checkboxes html in the source (i.e. static) as opposed to the set up i have here, where i dynamically load the data from server.</p>\n\n<p>is there something i can do so that binding take place timely?</p>\n\n<p>peace!</p>\n"},{"tags":["ios","ajax","phonegap","uiwebview","xmlhttprequest"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13166988,"title":"Editing response for synchronous ajax request in UIWebView","body":"<p>I know it's a long shot. if it was possible, it would probably be achievable using PhoneGap, but Is it possible to intercept a synchronous AJAX request executed by JS code (in html file) running on a <code>UIWebView</code>, perform some native calls and edit the response? similar to what PhoneGap does, but synchronously not asynchronously (instead of having to chain async PhoneGap callbacks to \"pyramids of death\" or use <a href=\"https://github.com/stackp/promisejs\" rel=\"nofollow\">Promises</a>).</p>\n\n<p>Maybe somehow using <code>NSURLProtocol</code> / <code>NSURCLCache</code>?</p>\n"}]}
{"total":48691,"page":9,"pagesize":100,"questions":[{"tags":["php","javascript","jquery","ajax","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13166609,"title":"Post a string as a file from javascript to PHP","body":"<p>I have a map that has about 50M, and I need to send it to my server in order to manipulate and return the process result. The problem is that my server only got 4MB so I'm trying to transform this data into a \"file\" and upload it.</p>\n\n<p>I've already tried to change the Content-Type to \"form-urlencoded\" by doing something  like this:</p>\n\n<p><code>\n    var obj = {};</p>\n\n<pre><code>obj.contentType = 'application/x-www-form-urlencoded';\nobj.url = 'testsStamps.php';\nobj.data = {'test':large_data};\nobj.dataType = 'text';\nobj.complete = function(jqXHR,textStatus){\n    console.log(jqXHR,textStatus);\n};\nobj.beforeSend = function(xhr){\n    xhr.overrideMimeType(\"application/x-www-form-urlencoded; charset=UTF-8\");\n    console.log(xhr);\n};\n$.ajax(obj).done(function(msg){$('#anchor').text(msg);});\n</code></pre>\n\n<p></code></p>\n\n<p>But at server side there are no \"$_FILES['test']\" defined.</p>\n\n<p>Besides that, the \".htaccess\" has setted the \"php_value post_max_size 100M\" and \" upload_max_filesize 100M\". Plus, the \"ini_set('memory_limit','250000M')\".</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13163604,"title":"Avoiding two simultaneous ajax calls with jQuery","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2872287/ajax-request-in-progress-jquery\">Ajax request in progress jQuery</a>  </p>\n</blockquote>\n\n\n\n<p>what I try to achieve is something like :</p>\n\n<pre><code>var calling = {};\nif(!calling[resourceId]){\n    $.ajax(...);\n    calling[resourceId] = true;\n}\n</code></pre>\n\n<p>Obviously, I want to avoid making two calls for the same resource at the same time. But I find it ugly to use a global variable across my scripts for this. I would like to know if you knew a nice way to handle this directly with jQuery ?</p>\n\n<p>The best solution that I can think of is a monkey patch on jQuery.ajax to provide it with some \"resourceId\" parameter, and before any call the jQuery.ajax() function itself would check if a call is already being made with that \"resourceId\". I could not find such an option in the $.ajax documentation and I wonder why !?</p>\n\n<p>Thank you.</p>\n\n<p><strong>UPDATE: I found exactly what I was looking for on in jQuery's Prefilters option, on the \"Extending Ajax\" documentation page. : <a href=\"http://api.jquery.com/extending-ajax/\" rel=\"nofollow\">http://api.jquery.com/extending-ajax/</a></strong></p>\n\n<p>Thanks for tips people :)</p>\n"},{"tags":["jquery","ajax","post","types"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13166358,"title":"JQuery Ajax-Call with type: \"POST\" is received as \"GET\" by server","body":"<p>I have trouble with my first server communication experience and hope for help.</p>\n\n<p>Following a tutorial I created an ajax-call for a webserver (cross-domain).  Everything went fine until i experimented with switching the type from \"GET\" to \"POST\": JQuery still sends get-requests (firebug-confirmed, server r_print() tested both $_POST and $_GET).</p>\n\n<p>So the big question for me is: How do i teach $.ajax to send POST? (Yes, a GET might do, but this code does not what i want it to do and that hurts my feelings)</p>\n\n<p>The PHP-side i checked with a simple HTML-form which sent a post with the expected results.</p>\n\n<p>I as well added the line:</p>\n\n<pre><code> jQuery.ajaxSetup({ jsonp: null, jsonpCallback: null});\n</code></pre>\n\n<p>Suggested in a similar answer without positive result.</p>\n\n<p><strong>Server code (PHP) consists of nothing but:</strong></p>\n\n<pre><code>echo(\"alert('\".print_r($_POST).\" -- + -- \".print_r($_GET)+\"');\");\n</code></pre>\n\n<p><strong>JQuery-side:</strong></p>\n\n<pre><code>function executeRequest() {\n$.ajax({\n    type: \"POST\",\n    url: \"http://server/script\",\n    data:  ({ username: \"test\" }),\n    dataType: \"jsonp\",\n    jsonp: \"jsonCallback\",\n    contentType: \"application/json\",\n    jsonCallback: \"jsonCallback\",\n});\n }\nfunction jsonCallback(data) {\nalert(data.username);\n }\n</code></pre>\n\n<p>executeRequest();</p>\n\n<p>Every help or hint - both on improving my search-patterns as well as the specific problem - is very appreceated :)</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ajax","expressionengine","jquery-forms-plugin"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":123,"score":2,"question_id":13131590,"title":"Ajax Comment Form Not Returning ExpressionEngine Success Template Content","body":"<p>So I have a basic comment form hooked up with the <a href=\"http://www.malsup.com/jquery/form/\" rel=\"nofollow\">jQuery Form plugin</a> (only members can post so no name/email fields):</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n\n  &lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/assets_site/js/jquery.form.min.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n    $(document).ready(function(){\n\n      function ajaxReturn(data) {\n        var messageContainer = $('.alert-box');\n        var messageBody = $(data);\n        messageContainer.html(messageBody);\n      }// ajaxReturn(data)\n\n      $('.member-review').ajaxForm({\n        success: ajaxReturn\n      });\n    });\n  &lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    {exp:channel:entries\n      channel='products'\n      limit='1'\n      disable='categories|member_data|pagination'\n    }\n      {exp:comment:form\n        channel='products'\n        form_class='member-review'\n        return='notifications/success'\n      }\n        &lt;div class=\"alert-box\"&gt;\n          {!-- Ajax Form Errors --}\n        &lt;/div&gt;&lt;!--.alert-box--&gt;\n\n        &lt;label for=\"comment\"&gt;Tell others what you think&lt;/label&gt;\n        &lt;textarea name=\"comment\" rows=\"8\" class=\"required\" id=\"comment\"&gt;&lt;/textarea&gt;\n\n        &lt;input type=\"submit\" value=\"Submit\"&gt;\n      {/exp:comment:form}\n    {/exp:channel:entries}\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>And, for the purposes of this demo, my success template could not be more simple:</p>\n\n<pre><code>&lt;p&gt;Sumission Successful!&lt;/p&gt; \n</code></pre>\n\n<p>Unfortunately when I submit a completed form, no data is returned. If I add <code>console.log($(data));</code> to the ajaxReturn function, I get an empty string. The comment is successfully submitted to the database, it’s just the return template that doesn't seem to make it.</p>\n\n<p>Really not sure why this is happening. It returns error messages correctly, just not the success template.</p>\n\n<p>EE v2.5.3</p>\n\n<p><strong>UPDATE:</strong> <a href=\"http://vimeo.com/12909760\" rel=\"nofollow\">Here's a video</a> that covers the basics of what I'm trying to do. I've successfully done it before on previous versions of EE, so I'm wondering if they changed something recently to make it not work anymore?</p>\n"},{"tags":["jquery","ajax","html5","css3","animation"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13166128,"title":"slide animation works well in firefox but stutters in chrome","body":"<p>I am building a website in which a center div if pushed out of the screen when you click a button by another div that is positioned either to the left, top or right of the page.</p>\n\n<p>The left, top and right divs will be loaded using jquery ajax and is animated using css3.</p>\n\n<p>Here is the page I am talking about:</p>\n\n<p><a href=\"http://www.uvm.edu/~areid/homesite/index.html\" rel=\"nofollow\">http://www.uvm.edu/~areid/homesite/index.html</a></p>\n\n<p>Try clicking the left eye in Chrome and Firefox. You will see that the animation is smooth in Firefox but stutters in chrome.</p>\n\n<p>Does anyone have any idea why this might be happening? </p>\n\n<p>I was also wondering if anyone knew how I could potentially speed up the website/make the transitions look smoother.</p>\n\n<p>thanks for any help you guys might have</p>\n\n<p>best,</p>\n\n<p>katie</p>\n"},{"tags":["java","jquery","ajax","encoding","struts2"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13165724,"title":"Encoding issue in httpheader result in struts 2","body":"<p>I am sending in an struts 2 application the message of a custom error in the heading. I've done it by adding to the struts.xml file a global result like:</p>\n\n<pre><code>&lt;global-results&gt;\n    &lt;result name=\"badDataError\" type=\"httpheader\"&gt;\n       &lt;param name=\"status\"&gt;500&lt;/param&gt;\n       &lt;param name=\"headers.errorMessage\"&gt;${exception.message}&lt;/param&gt;\n    &lt;/result&gt;\n&lt;/global-results&gt;\n\n&lt;global-exception-mappings&gt;\n    &lt;exception-mapping result=\"badDataError\" exception=\"mypackage.BadDataException\" /&gt;\n&lt;/global-exception-mappings&gt;\n</code></pre>\n\n<p>so when I throw an exception like </p>\n\n<pre><code>throw new BadDataException(\"my error message\");\n</code></pre>\n\n<p>then that message is included in the header of the file so it can be read in a json as an error:</p>\n\n<pre><code>$.ajax(\n    { \n        url: ...,\n        type: \"POST\",\n        data: ...,\n        success: function(data, textStatus) {\n            alert(\"save works\");\n        },\n        error: function (XMLHttpRequest, textStatus, errorThrown) {\n            var errorMessage = XMLHttpRequest.getResponseHeader('errorMessage'); \n            var message = \"There has been an error\";\n            if (errorMessage != null){\n                message = message + ':&lt;br/&gt;'+errorMessage;\n            }\n            alert(message);\n        },\n        dataType: \"json\"\n    }\n);    \n</code></pre>\n\n<p>This works, but whenever I send a message with any special character (e.g. á é ñ ...) it's not shown correctly neither in the alert or by displaying the variable with console.log(), though if I use firebug there the message is shown correctly, as if it wasn't using the correct encoding in javascript.</p>\n\n<p>I've tried to set in the ajax call</p>\n\n<pre><code>contenType: 'application/x-www-form-urlencoded; charset=UTF-8'\nor\ncontenType: 'application/x-www-form-urlencoded; charset=ISO-8859-1'\n</code></pre>\n\n<p>but without any success.</p>\n\n<p>How can I know which encoding it's being used for the error message and the header and being able to choose a different one for it?</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13165749,"title":"how to set attribute values from ajax return data","body":"<p>Hi I have a situation where I display a number of  tags from the data returned from ajax script. I have a another  tag already existing on the jsp which accepts values onClick of each link. \nThe problem is that the onclick attribute of the  is not getting set when tag is created by jquery append. </p>\n\n<p>here is the code:-</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"#getResults\").click(function(){\n\n     $.post(\"getRefineSearchResultsPath\", {bug:bug}, function(data) {\n\n    var value = \"&lt;div id='list' class='attachment'&gt;\";\n    value += \"&lt;ul class='unstyled'&gt;\";\n    $issue.find('attachment').each(function(){\n\n    var $attachment = $(this);\n    value += \"&lt;li&gt;\";\n    value += \"&lt;a href='#' onclick='document.f1.attachmentName.value='\" +$attachment.find('attachmentName').text(); \n    value += \"';document.f1.issueKey.value='\"+$attachment.find('attachmentissueKey').text();\n    value += \"';document.f1.digest.value='\"+$attachment.find('attachmentdigest').text();\n    value += \"';document.f1.submit();'&gt;\"+$attachment.find('attachmentName').text();\n                                value += \"&lt;/a&gt;\";\n                                value += \"&lt;/li&gt;\";\n    });\n\n    value +=\"&lt;/ul&gt;\";\n    value +=\"&lt;/div&gt;\";\n\n    $(\"#result\").append(value);\n    });\n    });\n\n});\n</code></pre>\n\n<p>My JSP is here:-</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;button id=\"getResults\" type=\"button\" class=\"btn\"&gt;Get&lt;/button&gt;\n\n&lt;form name=f1 action=\"fetchAttachments\" method=\"POST\"&gt;\n                    &lt;input name=attachmentName type=hidden value=undefined&gt; &lt;input\n                        name=issueKey type=hidden value=undefined&gt; &lt;input\n                        name=digest type=hidden value=undefined&gt;\n                &lt;/form&gt;\n\n&lt;div id=\"result\"&gt;\n&amp;nbsp;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So basically on each link click the form should get submitted. \nThis works fine if I use JSTL to render results on JSP \nBut doesn't work when i get data result via Ajax in the form of xml. \nIn all the onclick attribute is not getting set. \nAny idea what can be the reason?\nThanks</p>\n"},{"tags":["ajax","json","google-chrome","cors","web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13075799,"title":"Transport Error in Google Chrome","body":"<p>I am getting an error in Chrome when calling a webservice on my own box.  The error is:</p>\n\n<pre><code>Origin http://localhost:52386 is not allowed by Access-Control-Allow-Origin.\n</code></pre>\n\n<p>I have read other questions <a href=\"http://stackoverflow.com/questions/10143093/origin-is-not-allowed-by-access-control-allow-origin\" title=\"here\">here</a> and articles like this: <a href=\"http://www.cypressnorth.com/blog/programming/cross-domain-ajax-request-with-json-response-for-iefirefoxchrome-safari-jquery/\" rel=\"nofollow\">Cross Domain AJAX</a>; but they tend to deal with the problem of IE not working correctly and I have a problem with Chrome.</p>\n\n<p>I added the following to my webservice/Global.asax.cs:</p>\n\n<pre><code>protected void Application_BeginRequest(object sender, EventArgs e)\n{\n    //HttpContext.Current.Response.AddHeader(\"Access-Control-Allow-Origin\", \"*\");\n    // Changed to this:\n    HttpContext.Current.Response.AddHeader(\"Access-Control-Allow-Origin\", \"http://localhost:52386\");\n    HttpContext.Current.Response.AddHeader(\"Access-Control-Allow-Origin\", \"http://localhost:80\");\n\n}\n</code></pre>\n\n<p>Here is my HTML code (I need to keep this in plain HTML, no code behind):</p>\n\n<pre><code>    $(document).ready(function () {\n        var user = 'testuser';\n        var pwd = 'abc123';\n        var auth = 'Basic ' + Base64.encode(user + ':' + pwd);\n        if ($.browser.msie) {\n            jQuery.support.cors = true;\n            $.ajax({\n                type: \"GET\",\n                url: \"http://localhost/Website.Webservice/api/TaxDocument\",\n                data: \"{}\",\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"text json\",\n                headers: { Authorization: auth },\n                crossDomain: true,\n                success: function (data, textStatus, jqXHR) { ProcessOutput(data); },\n                error: function (jqXHR, textStatus, errorThrown) { alert('Error: ' + textStatus + ' ' + errorThrown); }\n            });\n        } else {\n            $.ajax({\n                type: \"GET\",\n                url: \"http://localhost/Website.Webservice/api/TaxDocument\",\n                data: \"{}\",\n                contentType: \"application/json; charset=utf-8\",\n                crossDomain: true,\n                dataType: \"json\",\n                headers: { Authorization: auth },\n                success: function (data, textStatus, jqXHR) { ProcessOutput(data); },\n                error: function (jqXHR, textStatus, errorThrown) { alert('Error: ' + textStatus + ' ' + errorThrown); }\n            });\n        }\n    })\n</code></pre>\n"},{"tags":["jquery","ajax","json","editor","wysiwyg"],"answer_count":2,"favorite_count":38,"up_vote_count":41,"down_vote_count":0,"view_count":15118,"score":41,"question_id":998832,"title":"GUI-based or Web-based JSON editor that works like property explorer","body":"<p><strong>Background:</strong> This is a request for something that may not exist yet, but I've been meaning to build one for a long time. First I will ask if anyone has seen anything like it yet. </p>\n\n<p>Suppose you have an arbitrary JSON structure like the following:</p>\n\n<pre><code>{\n    'str_title':'My Employee List'\n    ,'str_lastmod': '2009-June-15'\n    ,'arr_list':[\n        {'firstname':'john','lastname':'doe','age':'33',}\n        ,{'firstname':'jane','lastname':'doe','age':'34',}\n        ,{'firstname':'samuel','lastname':'doe','age':'35',}\n    ]\n}\n</code></pre>\n\n<p><strong>Question:</strong> Is there a web-based JSON editor that could take a structure like this, and automatically allow the user to modify this in a user-friendly GUI?</p>\n\n<p><strong>Example:</strong> Imagine an auto-generated HTML form that displays 2 input-type-text controls for both title and lastmod, and a table of input-type-text controls with three columns and three rows for arr_list ... with the ability to delete or add additional rows by clicking on a [+][X] next to each row in the table.</p>\n\n<p><strong>Big Idea:</strong> The \"big idea\" behind this is that the user would be able to specify any arbitrary (non-recursive) JSON structure and then also be able to edit the structure with a GUI-based interaction (this would be similar to the \"XML Editor Grid View\" in XML Spy).</p>\n"},{"tags":["php","javascript","mysql","ajax"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2129,"score":2,"question_id":4889944,"title":"PHP/MySQL > Update field when link is clicked","body":"<p>I need help with a simple code which will update a field (+1) in MySQL when a link on my website is clicked. This is for a \"Report\" button on my comments database.</p>\n\n<p>So I can see how many times a comment has been 'reported'. It's important that the script doesn't redirect or load a new page, just echos a message or a JS alert.</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["javascript","html","ajax","cross-browser"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13163201,"title":"Two functions in onclick - Ajax call in second (cross browser)","body":"<p>I have </p>\n\n<pre><code>&lt;a href=\"url\" onclick=\"var msg = confirm('Confirm?'); submit(msg, event);\"&gt;Click me&lt;/a&gt;\n</code></pre>\n\n<p>What I want to do is take the confirmation box result (true/false), pass it to the submit button, and then kill the href call if its false.</p>\n\n<p>I have it working in my development environment, but when I load this into a cross browser scenario, the second call isn't working:</p>\n\n<pre><code>function submit(msg, evt) {\n\n     if(msg == true) {\n         $.ajax({\n             type:\"POST\",\n             data:{answer:'Correct'},\n             url:'https://myurl/p'\n          });\n     }\n     else { evt.preventDefault(); return false; }\n}\n</code></pre>\n\n<p>The URL passed is just the URL and has no data to it (in production). This exact code works perfectly fine in my environment, but in the cross browser scenario it fails. If I remove the confirmation box, everything works perfectly.</p>\n\n<p>I have a feeling it's tied to the preventDefault call on the cancel of the confirmation box. Would that preventDefault disable the next call out with that same link?</p>\n"},{"tags":["php","jquery","ajax","smarty"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13150471,"title":"Jquery for submiting without refresh (no validation required)","body":"<p>I have a form for Tags that is working OK, with some server validation, I would like to add a Jquery to submit the content without refreshing:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"tags\"&gt;\n  &lt;div&gt;\n        &lt;input type=\"hidden\" name=\"id\" value=\"getId()\" /&gt;\n        &lt;input type=\"text\" name=\"tag\" /&gt;\n        &lt;input type=\"submit\" value=\"Add\" name=\"add\" /&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Any advice will be highly appreciated.</p>\n"},{"tags":["ajax","recursion"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13163152,"title":"ajax calls not executing","body":"<p>I am throwing an ajax call that downloads a few images.\nAt the same time, I need another loop that has to check if all the images have been downloaded (I know how many will be downloaded). I do it this way:</p>\n\n<pre><code>function check_download(){\n    ajax_call...\n    success: function(amount){if(amount &lt; 40) check_download()}\n}\n</code></pre>\n\n<p>call download_images(); // this starts the process of downloading images\ncall check_download();</p>\n\n<p>So I launch the download and I send an ajax call to check if it has downloaded the 40 images. If not, then I want to launch another ajax call to check again, and so on.</p>\n\n<p>But it only throws 2 ajax calls. The second one gets frozen and it does not return any value, so no loop is being done and I cannot check the progress of the download.</p>\n\n<p>Any idea on how to launch several ajax calls to achieve this?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":8,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13162696,"title":"Jquery and ajax on button click","body":"<p>I have this submit button without a form..</p>\n\n<pre><code>&lt;input type='submit' id='conx' name='X' value='TEST x'&gt;\n</code></pre>\n\n<p>Now when the button is clicked i need to execute this code.</p>\n\n<pre><code>$con = fopen(\"/tmp/myFIFO\", \"w\");\nfwrite($con, \"XcOn\");\nclose($con);\n</code></pre>\n\n<p>How can i execute it in jquery and ajax?.</p>\n\n<pre><code>$(\"#conx\").click(function(){\n\n//Execute this code\n//$con = fopen(\"/tmp/myFIFO\", \"w\");\n//fwrite($con, \"XcOn\");\n//close($con);\n\n});\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","jquery","ajax","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13123167,"title":"Jquery load is working till I restart Wampserver, and then not anymore","body":"<p>I try to have some content loaded on Wordpress thanks to Jquery <code>.load()</code>. Sometimes, when my code is OK, it's not working anymore the day after...</p>\n\n<p>I'm trying to narrow the causes. First I thought it was a syntax problem or a single/double quote mix up, but since it worked once, there is no reason syntax or error is involved.\nI thought about bad cache settings but shift+F5 won't break my working code.</p>\n\n<p>And now I just tried, with a perfectly working code, to close and restart WAMPserver. And Bingo, when I restart the server it's impossible to get my load function to work (the same from 1 min before...) !</p>\n\n<p><strong>EDIT:</strong> I just replaced the code (below) with the one I'm using now</p>\n\n<pre><code>$(document).ready(function(){\n    $.ajaxSetup({cache:false});\n    $(\"#portfolio-list li:not(#DrawerContainer)\").click(function(){\n        var post_link = $(this)\n             //.parentsUntil(\".ProjectWrap\") \n             //.parent()\n             .find('.mosaic-backdrop')\n             .attr(\"href\");\n    console.debug(post_link); //to get post_link info in the console\n    $('#DrawerContainer').remove(); // remove existing, if any\n    $('&lt;li/&gt;').attr('id', 'DrawerContainer').css({display: 'none'}).data('citem', this).html(\"loading...\").load(post_link + \" #container &gt; * \").insertAfter(LastInRow).slideDown(500);\n    return false; \n    });\n});\n</code></pre>\n\n<p>When the function isn't working, I try to remove the part <code>.load(post_link + \" #container &gt; * \");</code> and replace it with the part just after (a complete url). Usually it works and at least I can continue styling my page, but I have to fix the problem.</p>\n\n<p>What can cause this weird behavior? Can WAMPserver rewrite something while closing?\nIs there an option I could check?</p>\n"},{"tags":["javascript","jquery","ajax","internet-explorer-8"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13160684,"title":"dynamic ajax populated table not working in IE 8","body":"<p>Hi all I've an IE8 issure, here's the code:</p>\n\n<p>Html code:</p>\n\n<pre><code>  &lt;table id=\\\"myTable\\\" border=\"1\"&gt;\n</code></pre>\n\n<p>javascript function:</p>\n\n<pre><code>function loadTableContent() {\n\n$.ajax({\n    type : 'GET',\n    url : '/sohara/viewResults.do',\n    contentType : 'application/json; charset=utf-8',\n    success : function(response) {\n        result = response;\n\n        var html_Table = '';\n        html_Table += '&lt;tr&gt;&lt;th bgcolor=\"silver\"&gt;Type&lt;/th&gt;\n                    &lt;th bgcolor=\"silver\"&gt;Quantity A&lt;/th&gt;\n                    &lt;th bgcolor=\"silver\"&gt;Quantity B&lt;/th&gt;&lt;/tr&gt;';\n        for ( var i = 0; i &lt; result.length; i++) {\n            html_Table += '&lt;tr&gt;';\n            html_Table += '&lt;td&gt;'+result[i].description+'&lt;/td&gt;';\n            html_Table += '&lt;td&gt;'+result[i].quantityA+'&lt;/td&gt;';\n            html_Table += '&lt;td&gt;'+result[i].quantityB+'&lt;/td&gt;';\n            html_Table += '&lt;/tr&gt;';          \n        }   \n        html_Table += '&lt;/table&gt;';\n        $(\"#myTable\").append(html_Table);\n    },\n    error : function(response) {\n        alert(\"Error\");\n    }\n});\n}\n</code></pre>\n\n<p>Always is perfect in Firefox, Chrome and Opera but in IE8 nothing is displayed in the table. How can I manage that?</p>\n"},{"tags":["php","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13162018,"title":"can ajax success return string from php?","body":"<p>I want to compare two values (both are simple strings) on ajax success. Value1 is echo from php, value2 is javascript variable. But when I try something like:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: proccessPage,\n    data: dataString,\n    dataType: \"text\",\n    success:function(result){\n\n    alert (result);\n\n    }\n});\n</code></pre>\n\n<p>I will get message \"[object Object]\". When i try change <code>alert (result);</code> for </p>\n\n<pre><code>var response = $(result);\ndocument.getElementById(\"div1\").innerHTML = result;\n</code></pre>\n\n<p>then div with id \"div1\" has proper value. I know I can make the div hidden and use value from it, but is there some way to work with result directly? Or somehow convert result to string? Code in php:</p>\n\n<pre><code>if (isset($_POST['submit']) &amp;&amp; $_POST['submit']==\"true\")\necho \"string\";\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","ajax","web-applications","cross-browser","support"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":175,"score":2,"question_id":5787237,"title":"Is it acceptable to no longer support javascript-disabled or non-ajax browsers for secured applications?","body":"<p>I'm curious about the current trend these days for ajax-applications. Is it acceptable to simply build an ajax application the best you can make it and simply ignore browsers that don't support ajax (assuming this a secured part of the site... not the public part)?</p>\n\n<p>I am not talking about corporate intranets where you can reasonably control the browsers being used - but sites that people pay a monthly rate for. It's not quite public, but it's not controlled either.</p>\n\n<p>It seems that the more you make your ajax application \"kick ass\", the harder it is to support the old model of doing things. The two models diverge further and further apart from each other that you're basically writing 2 UIs/controllers for everything in your system. Maybe in some cases you are writing 2 views too.</p>\n\n<p>I'm the only developer working on this particular project. Having to double my efforts actually seems like a waste of time. I think I am better off building the product I want, and if it's successful, maybe go back and add the non-ajax stuff later (if at all).</p>\n\n<p>The project's unique selling point - it's core domain - has a lot to do with the way I'm going to incorporate ajax. Frankly, supporting the non-ajax stuff isn't really that important to me. The software that doesn't support ajax is basically going to be a copy of what people are already using. The reason people would use this software is because it's a lot easier to use and it's lot more fun to use. </p>\n\n<p>If people want the non-ajax version, there's already a lot of products out there that do that. I'm thinking it's smart to just say \"screw it... that's a market I'm just going to ignore... and I'm going to bank on the fact that my product might eventually overtake them anyway.\"</p>\n\n<p>Given this scenario, would it be reasonable to simply not support browsers with javascript disabled? If I did that, what things would I need to worry about, besides customers using older browsers and having problems?</p>\n"},{"tags":["ajax","post","wufoo"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13162128,"title":"Jquery POST 500 Internal Error ]when trying to submit a Wufoo form","body":"<p>I am trying to submit a wufoo form via AJAX. I am using jQuery $.post to achieve this and am getting a 500 (Internal Server Error) returned back from the php script. The javascript code is:</p>\n\n<pre><code>$('form#form20').submit(function(event){\n    event.preventDefault();\n    $.post('form_handler.php', $('form#form20').serialize(), function(response) {\n        console.log(response);\n    });\n});\n</code></pre>\n\n<p>The php code from the form_handler.php file is:</p>\n\n<pre><code>&lt;?php  \n    if (count($_POST) &gt; 0) {\n        $fieldErrors = initAPI($root);\n    }\n    $wufoo_query_vals = array(\n        'w_api_key' =&gt; 'xxxx-xxxx-xxxx-xxxx',\n        'w_form' =&gt; 'connect-with-us',\n        '1' =&gt; $_POST['Field1'],\n        '2' =&gt; $_POST['Field2'],\n        '3' =&gt; $_POST['Field3'],\n        '4' =&gt; $_POST['Field4'],\n        '5' =&gt; $_POST['Field5'],\n        '11' =&gt; $_POST['Field11'],\n        '14' =&gt; $_POST['Field14'],\n        '13' =&gt; $_POST['Field13'],\n        '8' =&gt; $_POST['Field8'],\n        '9' =&gt; $_POST['Field9']\n    );\n\n    foreach($wufoo_query_vals as $key =&gt; $value) {\n        $request .= $key.'='.urlencode($value).'&amp;';\n    }\n    $request = substr($request, 0, -1);\n    $ch = curl_init(\"http://defineyouredge.wufoo.com/api/insert/\"); \n    curl_setopt($ch, CURLOPT_HEADER, 0);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $request);\n    $response = curl_exec($ch);\n    curl_close ($ch);\n\n    echo $response;  \n?&gt;\n</code></pre>\n\n<p>I have removed the API key for obvious reasons, but I do have it correctly entered in the actual code. Also, I have not completed the functionality for handling the response. Currently, just logging the the response to the console for testing.</p>\n\n<p>Thank you very much for your support!</p>\n"},{"tags":["javascript","html","css","ajax","asynchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13160788,"title":"AJAX onchange behaviour changes after form submission","body":"<pre><code>     &lt;form   action=\"\" name=\"theForm\" method=\"post\"&gt;\n\n    ...code for dropdown menus initialized to empty...\n\n    &lt;td colspan=\"1\" width=\"250\"&gt;\n      &lt;input type=\"text\" id=\"CAPS_CODE\" name=\"CAPS_CODE\" value=\"\"  \n        onchange=\"setF('LALA', this.value)\" size=\"20\" maxlength=\"20\"/&gt;\n\n           &lt;div style=\"display:none;\" id=\"CAPS_CODE$err\"&gt;\n\n            &lt;span style=\"color: #FF0000; font-family: Arial, \n              Helvetica, sans-serif; font-size: 10px; \n               font-weight: bold; text-decoration: none;\"&gt;\n            &lt;/span&gt;\n           &lt;/div&gt;\n    &lt;/td&gt;\n\n    `....form submit button in HTML and function call here - legacy code that works...`\n\n    &lt;/form&gt;\n</code></pre>\n\n<p>Basically this is an input textbox. When i enter '<code>BMW</code>', and move the cursor click it outside the textbox, it will populate the dropdown menus to certain values. This is what i understand <code>onchange</code> does. I submit the form, and the page reloads. </p>\n\n<p>Now, when i try entering new values into the textbox, such as entering <code>A</code>, the value keeps being deleted. And this occurs <em>before</em> i click outside the textbox. Is this got to do with after form submission? </p>\n\n<p>NOTE: i am using AJAX as below in my JS function calls, if this is helpful..</p>\n\n<pre><code>var request = YAHOO.util.Connect.asyncRequest('POST', sUrl, capsCallback, postData);    \n</code></pre>\n\n<hr>\n\n<pre><code>function setF(group_id, caps){\n        var token = document.theForm.sessionToken.value;\n        getCarByAjax(token, group_id, caps);              \n    }   \n\n\nfunction getCarByAjax(sessionToken, group_id, caps){\n\n        top.currentDependencyGroup = group_id;\n\n        //alert(\"strs= \" + strs);\n        var entryPoint = '/DropDownList?';\n\n        // entryPoint is the base URL\n        if(top.ctx != null &amp;&amp; top.ctx != \"\"){       \n            entryPoint = top.ctx + '/DropDownList?';\n        }\n\n        var sUrl = entryPoint + encodeURI;\n\n        var postData = 'CAPSVEH=' + caps + '&amp;FROM=' + group_id + '&amp;sessionToken=' + sessionToken;   \n        var request = YAHOO.util.Connect.asyncRequest('POST', sUrl, capsCallback, postData);            \n    }\n</code></pre>\n"},{"tags":["php","jquery","ajax","post","get"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":58,"score":0,"question_id":13138950,"title":"Why does PHP ignore ajax POST?","body":"<p>The code: (<code>index.php</code>):</p>\n\n<pre><code>&lt;head&gt;\n\n&lt;?php\nif(isset($_GET['text1']))\n{\nsome_function();\n}\n?&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;form id=\"form\"&gt;\n&lt;input type=\"text\" id=\"text1\" name=\"text1\"/&gt;\n&lt;input type=\"text\" id=\"text2\" name=\"text2\"/&gt;\n&lt;input type=\"submit\" id=\"submit\" value=\"submit\"/&gt;\n&lt;/form&gt;\n\n&lt;script&gt;\n$(document).ready(function(){\n\n    $(\"#submit\").click(function(){\n            var dataString=$(\"form#form\").serialize();\n            var proccessPage=\"&lt;?php echo $_SERVER['PHP_SELF'] ?&gt;\";\n\n            alert(dataString);\n            $.ajax({\n                type: \"POST\", \n                url: proccessPage,\n                data: dataString,\n                });\n    return false;\n    });\n\n\n});\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Anyone know why <code>some_function();</code> call is not triggered? I don't know if the problem is in ajax, or php, or where. I have spent two days in trying to use <code>$.post</code>, or <code>$.ajax</code>, searching for possible errors in code etc, but I cant find anything wrong with it. </p>\n\n<p>Do you know something about it? Thanks for all answers.</p>\n"},{"tags":["ajax","asp.net-mvc-3","knockout.js","json.net","form-post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":13138778,"title":"dynamic form building with knockoutjs","body":"<p>I need to build a dynamic form from database. I have following Entity to define form fields on the fly:</p>\n\n<pre><code>    public class FormField {\n        public int ID { get; set; }\n        public string Name { get; set; }\n        public string Type { get; set; }    // Possible values are: 'Radio','Combo','Text'. A dropdown will be created for a Combo type of element, a radio set for Radio type of element and a text input for Text type of element.\n        public string Options { get; set; } // Only relevant in case of Radio/Combo type\n        public string Default { get; set; } // Default value in case of Type 'Text' and selected value in case of Type 'Radio/Combo'\n        public string Blankout { get; set; }// An expression to define when this field should be hidden \n    }\n\n    /* A sample JSON array (from the DB) to build the form would be:\n       [\n        { Name:\"Gender\", Type:\"radio\", Options:[\"Male\",\"Female\",\"Unknown\"], Default:\"Male\", Blankout:\"Never\" },\n        { Name:\"Age\", Type:\"text\", Options:\"None\", Default:15, Blankout:\"Never\" },\n        { Name:\"Neighbourhood\", Type:\"Combo\", Options:[\"Eastern\",\"Western\",\"Northern\",\"Southern\",\"Central\"], Default:\"Central\", Blankout:\"if (Age &lt; 40 or Voted='Obama')\" },\n        { Name:\"Voted\", Type:\"Combo\", Options:[\"Obama\",\"Romney\",\"Harry Potter\"], Default:\"Harry Potter\", Blankout:\"if ((Gender='Female' and Age &lt; 15) or Neighbourhood='Eastern'\" }\n       ]\n    */\n</code></pre>\n\n<p>I can build a dynamic form from the 'FormField' records in DB, BUT the problem is i need to track the changes in values of any form field, and when a change in value happens i need to send all the form data to server (asynchronously) in order to evaluate the 'Blankout' formula on Server. If i do this change tracking thing without KnockoutJS its not responsive and becomes very very complex.\nI have gone through several tutorials of KnockoutJS, but could not figure out how to organize my ViewModel for this particular problem.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>I have tried to post this form data to controller by using following code:</p>\n\n<pre><code>    $.ajax({\n            type: \"POST\",\n            url: \"/MyController/GetBlankoutElements\",\n            contentType: 'application/json',\n            dataType: 'json',\n            data: JSON.stringify(ko.toJSON(self)),\n            success: function(result) {\n                alert(result);\n                //self.HiddenElements(result.split(','));\n            }\n    });\n</code></pre>\n\n<p>In my controller i have tried following code:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult GetBlankoutElements(List&lt;MyFieldViewModel&gt; Fields)\n    {\n        return Json(Fields); // List, Fields is null here\n    }\n</code></pre>\n\n<p>Her is the what the MyFieldViewModel class looks like:</p>\n\n<pre><code>    public class MyFieldViewModel \n    {\n        public string Title { get; set; }\n        public string Name { get; set; }\n        public string Type { get; set; }\n        public string Default { get; set; }\n        public string[] Options { get; set; }\n    }\n</code></pre>\n\n<p>I have tried tips described at <a href=\"http://stackoverflow.com/questions/4789481/post-an-array-of-objects-via-json-to-asp-net-mvc3\">Post an Array of Objects via JSON to ASP.Net MVC3</a></p>\n\n<p>Following is the Json data that prints out when i execute <em>alert(ko.toJSON(self))</em></p>\n\n<pre><code>    {\"Fields\":\n        [{\"Title\":\"CCType\",\"Name\":\"CCType\",\"Type\":\"Radio\",\"Default\":\"Enterprise\",\"Options\":[\"Enterprise\",\"Express\",\"CVP\",\"PCCE\"]},{\"Title\":\"Industry\",\"Name\":\"Industry\",\"Type\":\"Combo\",\"Default\":\"Banks\",\"Options\":[\"Banks\",\"ServiceProvider\",\"Outsourcer\",\"Airlines\",\"Utilities\",\"Government\",\"Retail\"]},{\"Title\":\"Customer Lab\",\"Name\":\"CustomerLab\",\"Type\":\"Combo\",\"Default\":\"0\",\"Options\":[\"0\",\"1\"]},{\"Title\":\"No of Agents\",\"Name\":\"Agents\",\"Type\":\"Text\",\"Default\":\"if(c.CCType==\\\"CVP\\\") then 10 else 25\",\"Options\":[]},{\"Title\":\"ExpLicType\",\"Name\":\"ExpLicType\",\"Type\":\"Radio\",\"Default\":\"if(c.CCType==\\\"Express\\\") then \\\"Enhanced\\\" else \\\"None\\\"\",\"Options\":[\"None\",\"Premium\",\"Standard\",\"Enhanced\"]},{\"Title\":\"Multimedia\",\"Name\":\"Multimedia\",\"Type\":\"Combo\",\"Default\":\"WIM\",\"Options\":[\"None\",\"EIM\",\"WIM\",\"EIM&amp;WIM\",\"BSMediaRouting\",\"MCAL\"]}],\n     \"HiddenElements\":[]\n    }\n</code></pre>\n\n<p>What i need is just the field name and its selected value by the user, and i am confused even if i get this json data mapped to my <em>MyFieldViewModel</em> class, still how would i get the selected VALUES ?</p>\n\n<p><strong>Update 2</strong> <em>(JSON data Mapping worked)</em></p>\n\n<p>When i changed </p>\n\n<pre><code>    data: JSON.stringify(ko.toJSON(self))\n</code></pre>\n\n<p>with\n        data: ko.toJSON(self)</p>\n\n<p>Mapping worked perfectly on my controller, as you can see in the following screenshot:\n<img src=\"http://i.stack.imgur.com/8uHVq.png\" alt=\"Debug screenshot of Mapped list object from post json data\"></p>\n\n<p>Now, the problem remains, the whole point of posting form was to update server with user's input on the form i.e. values against every form field element. \n<strong>How do i post the current selected/typed values of form fields ?</strong>\nFor example, in above screenshot, i can see the Default but not the current selected value. </p>\n"},{"tags":["ruby-on-rails","ajax","forms","haml","rails-3-upgrade"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":4610,"score":6,"question_id":3890315,"title":"Rails 3: undefined method `remote_form_for'","body":"<p>I have a fairly simple Rails remote form in HAML in a partial under shared/users:</p>\n\n<pre><code>- remote_form_for :user, :url =&gt; { :controller =&gt; \"users\", :action =&gt; \"create\" } do |f|\n  .field\n    = f.label :name, t('name')\n    = f.text_field :name\n  .field\n    = f.label :email, t('email')\n    = f.text_field :email\n  .actions\n    = f.submit\n</code></pre>\n\n<p>No matter how much I fiddle with it, this just won't work. I alway get the following error:</p>\n\n<pre><code>undefined method `remote_form_for' for #&lt;#&lt;Class:0x1036e8e40&gt;:0x1036dfd90&gt;\n</code></pre>\n\n<p>Am I doing something stupid? It works perfectly with form_for.</p>\n"},{"tags":["javascript","ajax","function"],"answer_count":10,"favorite_count":7,"up_vote_count":19,"down_vote_count":0,"view_count":37970,"score":19,"question_id":510779,"title":"Calling a JavaScript function returned from a Ajax response","body":"<p>I have a system where I send an Ajax command, which returns a script block with a function in it. After this data is correctly inserted in the DIV, I want to be able to call this function to preform the required actions.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["javascript","ajax","security","same-origin-policy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13161092,"title":"Same origin policy causes Ajax requests to example.com from www.example.com to be denied?","body":"<p>If you visit a website at <a href=\"http://www.example.com/dir\" rel=\"nofollow\">http://www.example.com/dir</a> , then any ajax requests to <a href=\"http://example.com/dir/something.php\" rel=\"nofollow\">http://example.com/dir/something.php</a> (with the www missing) cause the following message to show up in google chrome's console:</p>\n\n<pre><code>XMLHttpRequest cannot load http://example.com/dir/something.php.\nOrigin http://www.example.com is not allowed by Access-Control-Allow-Origin.\n</code></pre>\n\n<p>What's up with this, and what can be done to fix this?</p>\n\n<p>Edit: It seems that any cookies set by example.com also disappear when you visit www.example.com ?</p>\n"},{"tags":["php","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13152911,"title":"receive ajax response in two steps","body":"<p>In my project, after user input, an AJAX call is sent to the server, but the process might take some seconds to finish and it's boring for users to wait for.  </p>\n\n<p>So I want to give response in two steps. first step will give back the more important data, and then the rest of process is done and finally the rest of data should be given back.  </p>\n\n<p>first I tried to make two ajax calls , but it makes some additional problems which makes it a bad idea.  </p>\n\n<p>Is this possible to give ajax response and update the page in two steps, or Is there some other type of technology to handle this job?  </p>\n\n<p>Thanks for your help</p>\n"},{"tags":["ajax","jquery-ajax","asp.net-web-api"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12807716,"title":"AJAX request fails when headers are set but succeeds without them","body":"<p>I have an ASP.NET Web API application running on my local instance of IIS. The web application is configured with CORS. The Web API method I am calling reads something like:</p>\n\n<pre><code>[POST(\"/API/{foo}/{bar}\")]\npublic String DoSomething(String foo, String bar)\n{\n    return \"Hello, World!\";\n}\n</code></pre>\n\n<p>Client side, I'm running the following request:</p>\n\n<pre><code>$.ajax({\n    url: \"http://machine/API/Foo/Bar\",\n    type: \"POST\",\n    success: function (data) {\n        console.log(\"Success: \" + data);\n    },\n    error: function (xhr, status, message) {\n        console.log(\"Failure: \" + status + \", \" + message);\n    }\n});\n</code></pre>\n\n<p>The corresponding console log within Firefox 15.0.1 reads as:</p>\n\n<pre><code>test.html (line 38)\nPOST http://machine/API/Foo/Bar\n\n200 OK\n        112ms   \njquery-1.7.2.js (line 8240)\n\nSuccess: \"Hello, World!\"\n</code></pre>\n\n<p>This works flawlessly when I'm accessing my local IIS server as well as when I have it accessing the corresponding URL for the IIS Express development instance within Visual Studio.</p>\n\n<p>When I add a single request header, anything at all, the following request fails when <strong>made against my local IIS server</strong>:</p>\n\n<pre><code>$.ajax({\n    url: \"http://machine/API/Foo/Bar\",\n    type: \"POST\",\n            onBeforeSend: function (xhr, settings) {\n                xhr.setRequestHeader(\"A\", \"B\");\n            },\n    success: function (data) {\n        console.log(\"Success: \" + data);\n    },\n    error: function (xhr, status, message) {\n        console.log(\"Failure: \" + status + \", \" + message);\n    }\n});\n</code></pre>\n\n<p>The ever so verbose log message I see is:</p>\n\n<pre><code>Failure: error, \n</code></pre>\n\n<p>The same <code>POST</code> request is successful when made against the IIS Express development instance within Visual Studio.</p>\n\n<p>In Fiddler, the previous two requests go through without failure regardless of whether I'm targeting the full IIS server or IIS Express within Visual Studio:</p>\n\n<pre><code>// Request\nPOST http://machine/Foo/Bar HTTP/1.1\nHost: machine\nContent-Length: 0\n\n// Response\nHTTP/1.1 200 OK\nCache-Control: no-cache\nPragma: no-cache\nContent-Length: 38\nContent-Type: application/json; charset=utf-8\nExpires: -1\nServer: Microsoft-IIS/7.5\nX-AspNet-Version: 4.0.30319\nX-Powered-By: ASP.NET\nDate: Tue, 09 Oct 2012 20:16:29 GMT\n\n\"Hello, World!\"\n</code></pre>\n\n<p>The permutations <code>{With Headers, Without Headers} x {Full IIS, IIS Express}</code> all produce identical output within Fiddler.</p>\n\n<p>In short: <strong>Why does having request headers set cause the AJAX call to fail against my local fully fledged IIS instance?</strong></p>\n\n<p>Furthermore, why does my requests succeed in Fiddler but not in my Javascript code? This is a serious deal breaker if I can't set request headers in a proper IIS instance.</p>\n"},{"tags":["c#","javascript","ajax","asp.net-mvc","asp.net-mvc-3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13160183,"title":"How can I remove a item from my session[\"cart\"] on a button click in my view?","body":"<p>These are the two actionresults I use for my cart:</p>\n\n<p>The first action I am adding the productids to my session cart by using ajax:</p>\n\n<pre><code>public ActionResult AddToCart(int ProductImageId)\n{\n    List&lt;int&gt; cart = (List&lt;int&gt;)Session[\"cart\"];\n    if (cart == null)\n    {\n        cart = new List&lt;int&gt;();\n    }\n    cart.Add(ProductImageId);\n\n    Session[\"cart\"] = cart;\n\n    return new JsonResult() { Data = new { Status = \"Success\" } };\n}\n</code></pre>\n\n<p>The second action I am filling it to my model so I can use it in my view:</p>\n\n<pre><code>public ActionResult ShoppingCart()\n        {\n        var cart = Session[\"cart\"] as List&lt;int&gt;;\n        var products = cart != null ? cart.Select(id =&gt; \n             {\n                 var productImage = repository.GetProductByID(id);\n                 return new ProductsViewModel\n                    {\n                        Name = productImage.Products.Name,\n                        Description = productImage.Products.Description.Substring(0, productImage.Products.Description.IndexOf(\".\") + 1),\n                        price = productImage.Products.Price,\n                        ProductId = productImage.Products.Id,\n                        Image = productImage.ImageUrl,\n                        ProductImageId = productImage.Id\n                    };\n             }) : new List&lt;ProductsViewModel&gt;();\n\n      return View(products);\n        }\n</code></pre>\n\n<p>Right now I have a view that is displaying the products in the shoppingcart view.</p>\n\n<p>Each product that is displayed have a button that says \"Delete\"</p>\n\n<p>My question is how can I delete the product from the session cart in the best way?</p>\n\n<p>How should the Actionresult look like?</p>\n\n<p>I have created an Ajax script to gets the ID of the product that needs to be deleted when someone click on the delete button here it is:</p>\n\n<pre><code> $(function () {\n            $(\".a\").live(\"click\", function () {\n                var $this = $(this),\n            ProductImageId = $this.data('ProductImageId');\n                $.ajax({\n                    url: '/Home/Action',  // &lt;- I have not created a actionresult yet\n                    type: \"post\",\n                    cache: false,\n                    data: { ProductImageId: ProductImageId },\n                    success: function (data) {\n                        data = eval(data);\n                        $this.addClass('productSelected');\n                    },\n                    error: function (result) {\n                        $(\".validation-summary-errors\").append(\"&lt;li&gt;Error connecting to server.&lt;/li&gt;\");\n                    }\n\n                });\n            });\n\n        });\n</code></pre>\n\n<p>If I am thinkin right with the javascript, how should the actionresult look like if I want delete the product by the ID I recieved?</p>\n\n<p>I guess It should look something like this:</p>\n\n<pre><code>public ActionResult DeleteProductFromCart(int ProductImageId)\n{\n // code..\n}\n</code></pre>\n\n<p>If I am still thinkin right how should I code inside the brackets on <code>DeleteProductFromCart</code>?</p>\n\n<p>Any kind of help is appreciated.</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":75,"score":3,"question_id":13148302,"title":"Javascript/AJAX ReferenceError: x is not defined","body":"<p>I have a jQuery function that takes the value from a PHP-generated check box and sends it over AJAX. The value is always a single word with nothing but letters by the way. Below is the script.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n        $(\"input:checkbox\").on(\"click\", function () {\n            step = this.value;\n            //document.getElementById(\"test\").innerHTML = step;\n            responseArray = [];\n\n            xmlhttp=new XMLHttpRequest();\n            xmlhttp.onreadystatechange=function() {\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n                    responseArray = eval(\"(\" + xmlhttp.responseText + \")\");\n                    document.getElementById(\"test\").innerHTML = responseArray;\n                }\n            }\n\n            xmlhttp.open(\"GET\", \"checkbox.php?step=\"+step, true);\n            xmlhttp.send();\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>The above code results in the \"ReferenceError: [this.value] is not defined\". [this.value] is the actual value though which changes based on the box that is checked. If you notice the 5th line in the above code, when I don't comment that line out it displays the correct value in \"test\" for the step variable, so it's something after that. Below is the checkbox.php file completely simplified down to basically nothing and it still causes the error.</p>\n\n<pre><code>&lt;?php       \n    $step = $_GET[\"step\"];\n    echo \"[\" . $step . \"]\";\n?&gt;\n</code></pre>\n"},{"tags":["html","css","ajax","internet-explorer-7"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13159992,"title":"conditional css styles not being applied to content loaded via ajax on ie7","body":"<p>I'm in the process of trying to fix some IE7 issues with Rails app I'm working on.  The issue is that it seems as though CSS styles added from a stylesheet applied with a conditional comment, in HAML using:</p>\n\n<pre><code>/[if IE 7]\n  = stylesheet_link_tag '/ie7.css'\n</code></pre>\n\n<p>The styles defined in this stylesheet are applied correctly, except to any content loaded in via ajax.  We are using $.ajax to load html content into an existing div.  I've tried using ie8.js and the html5shiv.js to fix this but it doesn't seem to have any effect.</p>\n\n<p>Any help would be much appreciated.  Thanks!</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13155872,"title":"Responsive Table not formatting after DIV Change/Load, until reszied","body":"<p><strong>Example</strong></p>\n\n<p>Div Page\n<a href=\"http://www.uller.com/dump/ajaxresponseissue/index.html\" rel=\"nofollow\">http://www.uller.com/dump/ajaxresponseissue/index.html</a></p>\n\n<p>Source code, works fine if go direct\n<a href=\"http://www.uller.com/dump/ajaxresponseissue/table.html\" rel=\"nofollow\">http://www.uller.com/dump/ajaxresponseissue/table.html</a></p>\n\n<p>Displaying a table dynamically into a Div table has responsive script, however when the div is loaded the Script will not run until the window is rezised.</p>\n\n<p>Trying to find a way to auto trigger the script on load of the div.</p>\n\n<p>Below is code examples from that link.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n&lt;title&gt;Ajax Response Issuet&lt;/title&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\" type=\"text/javascript\" language=\"javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"output\"&gt;&lt;/div&gt;\n    &lt;script&gt;\n    // Function called by Period select\n        $(document).ready(function () {\n            $(\"#output\").load(\"table.html #loadMeOnly\");$.getScript('responsibe-tables.js');$.getScript('jquery.js');\n        });\n    &lt;/script&gt;    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>called table js</strong></p>\n\n<pre><code>&lt;div id=\"loadMeOnly\"&gt;\n&lt;style type=\"text/css\"&gt;\n\ntable th { font-weight: bold; }\ntable td, table th { padding: 9px 10px; text-align: left; }\n\n/*  Mobile */\n@media only screen and (max-width: 979px) {\n\n    table.responsive { margin-bottom: 0; }\n\n    .pinned { position: absolute; left: 0; top: 0; background: #fff; width: 35%; overflow: hidden; overflow-x: scroll; border-right: 1px solid #ccc; border-left: 1px solid #ccc; }\n    .pinned table { border-right: none; border-left: none; width: 100%; }\n    .pinned table th, .pinned table td { white-space: nowrap; }\n    .pinned td:last-child { border-bottom: 0; }\n\n    div.table-wrapper { position: relative; margin-bottom: 20px; overflow: hidden; border-right: 1px solid #ccc; }\n    div.table-wrapper div.scrollable table { margin-left: 35%; }\n    div.table-wrapper div.scrollable { overflow: scroll; overflow-y: hidden; }  \n\n    table.responsive td, table.responsive th { position: relative; white-space: nowrap; overflow: hidden; }\n    table.responsive th:first-child, table.responsive td:first-child, table.responsive td:first-child, table.responsive.pinned td { display: none; }\n\n}\n&lt;/style&gt;\n\n&lt;table width='100%' class=\"responsive\"&gt;\n  &lt;tr&gt;\n    &lt;th scope='col'&gt;&amp;nbsp;&lt;/th&gt;\n    &lt;th colspan='3' scope='col'&gt;&lt;center&gt;\n        Invited\n      &lt;/center&gt;&lt;/th&gt;\n    &lt;th colspan='2' scope='col'&gt;&lt;center&gt;\n        Accepted\n      &lt;/center&gt;&lt;/th&gt;\n    &lt;th colspan='2' scope='col'&gt;&lt;center&gt;\n        Confirmed\n      &lt;/center&gt;&lt;/th&gt;\n    &lt;th colspan='2' scope='col'&gt;&lt;center&gt;\n        Attended\n      &lt;/center&gt;&lt;/th&gt;\n    &lt;th scope='col'&gt;&lt;center&gt;\n        Sold\n      &lt;/center&gt;&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th scope='col'&gt;Name&lt;/th&gt;\n    &lt;th scope='col'&gt;P&lt;/th&gt;\n    &lt;th scope='col'&gt;G&lt;/th&gt;\n    &lt;th scope='col'&gt;Total&lt;/th&gt;\n    &lt;th scope='col'&gt;##&lt;/th&gt;\n    &lt;th scope='col'&gt;%&lt;/th&gt;\n    &lt;th scope='col'&gt;##&lt;/th&gt;\n    &lt;th scope='col'&gt;%&lt;/th&gt;\n    &lt;th scope='col'&gt;##&lt;/th&gt;\n    &lt;th scope='col'&gt;%&lt;/th&gt;\n    &lt;th scope='col'&gt;##&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt; House&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=28&amp;Type=P\";' style='cursor:pointer;'&gt;&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=28&amp;Type=G\";' style='cursor:pointer;'&gt;1&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=28\";' style='cursor:pointer;'&gt;1&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;ss ss&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=68&amp;Type=P\";' style='cursor:pointer;'&gt;9&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=68&amp;Type=G\";' style='cursor:pointer;'&gt;32&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=68\";' style='cursor:pointer;'&gt;41&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;xx xx&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=70&amp;Type=P\";' style='cursor:pointer;'&gt;&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=70&amp;Type=G\";' style='cursor:pointer;'&gt;28&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=70\";' style='cursor:pointer;'&gt;28&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;vv vv&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=101&amp;Type=P\";' style='cursor:pointer;'&gt;1&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=101&amp;Type=G\";' style='cursor:pointer;'&gt;28&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=101\";' style='cursor:pointer;'&gt;29&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;yy  yy&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=136&amp;Type=P\";' style='cursor:pointer;'&gt;2&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=136&amp;Type=G\";' style='cursor:pointer;'&gt;19&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=136\";' style='cursor:pointer;'&gt;21&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;strong&gt;Total&lt;/strong&gt;&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=All&amp;Type=P\";' style='cursor:pointer;'&gt;12&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=All&amp;Type=G\";' style='cursor:pointer;'&gt;108&lt;/td&gt;\n    &lt;td onclick='document.location = \"?Databuild&amp;Account=All\";' style='cursor:pointer;'&gt;120&lt;/td&gt;\n    &lt;td&gt;0&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;0&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;0&lt;/td&gt;\n    &lt;td&gt;0%&lt;/td&gt;\n    &lt;td&gt;0&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13159151,"title":"Closures Can't Be Serialized, How To Do Callbacks via AJAX to PHP?","body":"<p><strong>Question</strong></p>\n\n<p>How can i implement a PHP callback being passed over AJAX with the PHP callback being called by the page requested by AJAX?</p>\n\n<p><strong>The Setup</strong></p>\n\n<p>Comments are posted via AJAX and the paramaters are passed serialized and encrypted (so they can't be changed in transit or carefully crafted AJAX requests to abuse the comments system). The problem is, i need the new total comments amount to update a field in a different mysql table (which will change in every place the comments are used) than what the comments are in themselves.</p>\n\n<p><strong>Example</strong></p>\n\n<p>Someone leaves a comment on a forum topic, that topic needs to know the total comments (without querying the comments table everytime this needs to be known). The problem is, when the comments are posted via AJAX we don't know what the table is to update, what fields, etc as well as having to execute additional code along with it (such as also logging all the members who have left comments on the specific topic).</p>\n\n<p><strong>Solution</strong></p>\n\n<p>I thought about adding two PHP callbacks using closures when declaring the comments widget. These two callbacks (onSuccess() onFailure()) would then be able to do what ever work is needed such as counting the total comments and updating the total comments count for the specific forum topic. Then serialize, encrypt it, pass it as a parameter over ajax, then PHP to decrypt and unserialize the callbacks and execute them.</p>\n\n<p><strong>Why The Solution Breaks</strong></p>\n\n<p>Because closures can't be serialized! Also, i am NOT using eval before anyone suggests it.</p>\n\n<p><strong>The Question Again</strong></p>\n\n<p>How can i implement a PHP callback being passed over AJAX with the PHP callback being called by the page requested by AJAX?</p>\n\n<p><strong>Update</strong></p>\n\n<p>It would appear that some of you are not reading the whole question and understanding that callbacks are to be done in PHP - NOT javascript (using the AJAX callbacks). AJAX is only used to transport the posted comment - not process it (that's what PHP does and that's where the callback comes in which is the problem).</p>\n"},{"tags":["javascript","jquery","ajax","json","codeigniter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13159842,"title":"jQuery dialog form submit to CodeIgniter form validation","body":"<p>I'm ajax post'ing form data from a jquery dialog modal to my CodeIgniter controller which performs its form validation. Everything works fine when using FireFox.  When using IE10, the form does not seem to submit to the controller. I found suggestions saying to add \"contentType: 'application/json; charset=utf-8' to my jquery .ajax - this seems to allow IE10 to start submitting the form, however CI form validation no longer seems to work for either browser. Remarking the contentType out (as per below) allows FireFox to work again.</p>\n\n<p>Any suggestions?</p>\n\n<p>Here's my javascript:</p>\n\n<pre><code>var dataObj = {type_id: tt_tid, rtype_id: tt_rtid, ref_id: tt_rid, time: tt_time, date: tt_date };\n\n$.ajax({\n    data: dataObj,\n    cache:false,\n    //contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    type: \"POST\",\n    url: '&lt;?php echo base_url();?&gt;task/tt_ajax_add',\n    success: function(data) {\n        //Clear the message\n        $(\"#modal_message\").html('').removeClass().css({'display' : 'none'});\n\n        if (data.success == true) {\n            $(\"#modal_message\").html(data.message).css({'display' : 'block'}); \n            clearForm('#m_timetrack_form');\n        }else{\n            $(\"#modal_message\").html(data.message).addClass('error').css({'display' : 'block'}); \n        }\n    }\n});\n</code></pre>\n\n<p>Here's my CI controller method</p>\n\n<pre><code>function tt_ajax_add()\n{\n    if ($this-&gt;input-&gt;is_ajax_request()){\n        $this-&gt;load-&gt;library('form_validation');\n        $validate_config = \"timetrack_add\";\n\n        //Check if the form is valid\n        if ($this-&gt;form_validation-&gt;run($validate_config) == FALSE ){\n            $result['success'] = FALSE;\n            $result['message'] = \"Please correct any errors below.\";\n            $result['message'] .= validation_errors();\n            //$result['message'] .= file_get_contents('php://input');\n\n        #Form data was valid\n        }else{\n            $result['success'] = TRUE;\n            $result['message'] = \"Submitted successfully.\";\n\n        }\n        exit(json_encode($result));\n    }\n    exit();\n}\n</code></pre>\n"},{"tags":["javascript","jquery","html","ajax","colorbox"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13159556,"title":"Colorbox: show only a portion of another html page","body":"<p>I have to open in a colorbox only one part of an external html page.</p>\n\n<p>I tried in this way, but it opens the whole page in the specified part (at div with id=\"content\"):</p>\n\n<pre><code>&lt;a class=\"iframe\" href=www.mypage.com #content\" /&gt; \n</code></pre>\n\n<p>How can I do? </p>\n"},{"tags":["javascript","ajax","cors","amd","js-amd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13159725,"title":"Loading remote AMD compatible modules via CORS?","body":"<p>I currently dont use AMD for any of my projects, but I do dynamically have to load LOTS of javascript files, as the user can load plugins at runtime which may be defined on a 3rd party site.</p>\n\n<p>I am however looking at how AMD can help me, as I currently load almost all resources dynamically using yepnope, which works fine and when I want to load a remote plugin I can dynamically tell yepnope to go fetch the descriptor and then the files required (this is a hand rolled plugin system so dont worry to much about that bit of it). So the scenario would be having lots of local modules which would be used, but also allowing new modules to be loaded dynamically.</p>\n\n<p>Now from my understanding as far as AMD goes you write your definitions in your files, then you include some AMD compatible loader and splatter your require methods wherever you want to access the underlying modules in your code (in the callback). Now the answer may end up becoming framework dependant as I believe the AMD compatible loader deals with the mapping the <code>require(\"some/module/name\")</code> to <code>some-module-name.js</code> or whatever it is, so I assume there is a base path which tells the loader where to look for the underlying files, so making an assumption that this is the case with all loaders, how can you cope with the use case of wanting to load modules which are remote to your default path?</p>\n\n<p>Again I apologize if this is framework specific, and am more than happy to change the question to be \"how do you do this with CURL etc\" but as I do not have a 100% understanding of it all I would guess it would fall into the AMD Compatible bubble.</p>\n"},{"tags":["jquery","ajax","ckeditor"],"answer_count":3,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":10042,"score":7,"question_id":3799317,"title":"How can i get content of CKEditor using JQuery?","body":"<p>I'm using CKEditor. I am saving the form values with ajax using page methods.</p>\n\n<p>But the content of CKEditor value cannot be saving into the table.</p>\n\n<p>I dont postback the page.</p>\n\n<p>What can i do for that?</p>\n"},{"tags":["java","ajax","jsf","primefaces","polling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13159301,"title":"ajax polling returns response late (jsf and primefaces)","body":"<p>I started using the poll component of Primefaces. Goal: refresh a confirmDialog window which acts as a progress bar. The xhtml:</p>\n\n<pre><code>&lt;h:form id=\"pbForm\" prependId=\"false\"&gt;\n    &lt;p:confirmDialog id =\"progressBar\" message= \"\"\n                     header=\"Retrieving information...\"\n                     widgetVar=\"pbar\"\n                     severity=\"info\"&gt;\n        &lt;h:outputText id=\"PBlaunch\" value=\"#{pBLaunchSearch.getLaius()}\"/&gt;\n        &lt;p:poll interval=\"1\" update=\"PBlaunch\" /&gt;\n    &lt;/p:confirmDialog&gt;\n&lt;/h:form&gt;\n</code></pre>\n\n<p>My bean for the progress bar:</p>\n\n<pre><code>@ManagedBean\n@RequestScoped\n\npublic class PBLaunchSearch {\n\n    private static StringBuilder sb = new StringBuilder();\n\n    public static void setLaius(String toAdd) {\n        sb.append(toAdd);\n        sb.append(\"&lt;br&gt;\");\n    }\n\n    public static String getLaius() {\n        return sb.toString();\n    }\n\n    public static void resetLaius() {\n        sb = new StringBuilder();\n    }\n}\n</code></pre>\n\n<p>The operation which takes time in the background is a few API calls. After each API call that finishes, I have this command:</p>\n\n<pre><code>PBLaunchSearch.setLaius(\"another API call returned\");\n</code></pre>\n\n<p>Problem: the confirmDialog remains empty (outputText id=\"PBlaunch\" remains empty) until all the API calls have been made, at which point all the messages appear at once (but too late...)</p>\n\n<p>Any clue as to why?</p>\n"},{"tags":["javascript","asp.net","ajax","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13158610,"title":"Get ActiveTabIndex from Ajax TabContainer using Javascript","body":"<p>How would I get the ActiveTabIndex from TabContainer when the user selects a tab?\nI've tried the following but does not work.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function TabChange() {\n        var tc = document.getElementById(\"TabContainer1\")\n        alert(tc.ActiveTabIndex);\n    }\n&lt;/script&gt;\n\n &lt;asp:TabContainer ID=\"TabContainer1\" runat=\"server\" ActiveTabIndex=\"0\" Height=\"300px\"\n        Width=\"300px\" CssClass=\"MyTabStyle\" OnClientActiveTabChanged=\"TabChange\"&gt;\n        &lt;asp:TabPanel runat=\"server\" HeaderText=\"First\" ID=\"TabPanel1\"&gt;\n            &lt;ContentTemplate&gt;\n                &lt;h1&gt;\n                    Tab 1\n                &lt;/h1&gt;\n            &lt;/ContentTemplate&gt;\n        &lt;/asp:TabPanel&gt;\n        &lt;asp:TabPanel ID=\"TabPanel2\" runat=\"server\" HeaderText=\"Second\"&gt;\n            &lt;ContentTemplate&gt;\n                &lt;h1&gt;\n                    Tab 2\n                &lt;/h1&gt;\n            &lt;/ContentTemplate&gt;\n        &lt;/asp:TabPanel&gt;\n &lt;/asp:TabContainer&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","internet-explorer-9"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13159219,"title":"Loading Local JSON file using Ajax, IE9 and Access denied","body":"<p>I'm trying to load in a local json file using the following ajax call through jquery</p>\n\n<pre><code>$.ajax({\n          url: langFile,\n          async: false,\n          dataType: 'json',\n          error: function(jqXHR, Status, ErrorThrown) {\n            alert(\"Could not load file: \" + ErrorThrown);  \n          },\n          success: function (response) {\n            // do stuff with response\n            localStrings = response;\n          }\n        });\n</code></pre>\n\n<p>It works as expected in firefox but when I try to load in the file in IE9 I just get \"Access denied\", I have tried everything I could find on google but have not managed to solve this issue. I tried to move over to JSONP but could not make this work because it kept giving me syntax errors :( The script should get the json from the local file and then put the content of the json into a variable called localStrings.</p>\n\n<p>The json file looks like this:</p>\n\n<pre><code>{\n\"Header1\": \"List1\",\n\"Header2\": \"List2\"\n}\n</code></pre>\n\n<p>Is there anyway to get this to work in IE9?</p>\n"},{"tags":["jquery","ajax","jquery-plugins","autocomplete"],"answer_count":2,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":3087,"score":6,"question_id":2649133,"title":"Multi-column Autocomplete for jQuery?","body":"<p>Is there an AJAX autocomplete for jQuery that supports multiple columns? I mean multiple columns like a database table, not just splitting a list up. It would search off the first column, but the rest would be visible in the dropdown.</p>\n\n<p>Does such a thing exist?</p>\n"},{"tags":["asp.net","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":247,"score":0,"question_id":10537522,"title":"ASP.Net Drop Down List not passing a value when updated using ajax","body":"<p>I have some jQuery that I'm using to open a pop-up window where a new consignor can be added to the database.  The original window has a dropdownlist of all of the current consignors.  When you add the new consignor in the pop-up window, that window closes and the original window then reloads the dropdownlist's data and selects the one just created.</p>\n\n<p>All of that works perfectly.  My issue is that when you fill out the rest of the form and submit it, it passes an empty string instead of the value of the selected item.  Is this because it's an ASP.Net script?  I don't know a lot about ASP.Net, but I've never had this issue with PHP.  Can someone explain how I would go about refreshing the dropdownlist without refreshing the entire page and still get the list to pass it's value upon form submission?</p>\n\n<p>My javascript code on the page that opens the pop-up and reloads the list is below:</p>\n\n<pre><code>function openConsignorAdd() {\n    var url;\n    url = \"/admin/consignor/csAdd.aspx\";\n    window.open(url, \"WizardWindow\", \"width=400,height=500,resizable=yes,scrollbars=yes\");\n}\n\nfunction loadNewAdded(fn, cs_txt_id) {\n    //    var pagePath = window.location.pathname;\n    var pagePath = \"/admin/getNewList.asp\";\n    var paramList = \"data=\";\n\n    //Call the page method\n    $.ajax({\n        type: \"POST\",\n        url: pagePath + \"?type=\" + fn + \"&amp;cs_txt_id=\" + cs_txt_id,\n        data: paramList,\n        success: function (data) {\n            //create jquery object from the response html\n            var $response = $(data);\n            //query the jq object for the values\n            var results = $response.filter('select#results').html();\n\n            if (fn == \"consignor\") {\n                $(\"select#&lt;%=itemConsigner.ClientID%&gt;\").html(results);\n            } else if (fn == \"cdr\") {\n                $(\"select#&lt;%=itemCDR.ClientID%&gt;\").html(results);\n            }\n        },\n        error: function () {\n            alert(\"Failed To Refresh!\\n\\nYou must manually refresh the page.\");\n        }\n    });\n}\n</code></pre>\n\n<p>My javascript code on the pop-up page to refresh the list is:</p>\n\n<pre><code>function refreshOpener(cs_txt_id) {\n    window.opener.loadNewAdded(\"consignor\", cs_txt_id);\n}\n</code></pre>\n\n<p>Those both work.  And to get the value of my dropdownlist, I simply use:</p>\n\n<pre><code>if (itemConsigner.SelectedValue.ToString() != string.Empty)\n{\n    itemCsTxtId = itemConsigner.SelectedValue.ToString();\n}\n</code></pre>\n\n<p>with my dropdownlist being:</p>\n\n<pre><code>&lt;asp:DropDownList ID=\"itemConsigner\" runat=\"server\" TabIndex=\"1\"&gt;&lt;/asp:DropDownList&gt;\n</code></pre>\n\n<p>If you need more info, just let me know.  Any help is appreciated.</p>\n"},{"tags":["jquery","asp.net","ajax","jquery-ui","asp.net-ajax"],"answer_count":2,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":4629,"score":8,"question_id":6072713,"title":"Using JQuery UI datepicker inside UpdatePanel","body":"<p>I'm trying to use UpdatePanel control and Jquery UI for date picker. But if date picker control (TextBox) is inside UpdatePanel's ContentTemplate, then date picker does not works.</p>\n\n<p>Here is the code:</p>\n\n<pre><code> &lt;script src=\"Scripts/jquery-1.4.1.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"Scripts/jqueryui/js/jquery-ui-1.8.8.custom.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;  \n\n     &lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n\n        $(function () {\n            var dates = $(\" #txtDatePicker\").datepicker(\n            {\n                firstDay: 1,\n                maxDate: '-1y',\n                minDate: '-1y',\n                dateFormat: 'dd/mm/yy',\n                changeMonth: true,\n                changeYear: true,\n                showAnim: \"drop\",\n                onSelect: function (selectedDate) {\n                    var option = this.id == \"txtDatePicker\" ? \"minDate\" : \"maxDate\",\n                    instance = $(this).data(\"datepicker\");\n                    date = $.datepicker.parseDate(\n                        instance.settings.dateFormat ||\n                        $.datepicker._defaults.dateFormat,\n                        selectedDate, instance.settings);\n                    dates.not(this).datepicker(\"option\", option, date);\n                }\n            }\n            );\n        });\n\n     &lt;/script&gt;\n\n\n\n   &lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\"&gt;\n    &lt;ContentTemplate&gt;\n    &lt;asp:TextBox ID=\"txtDatePicker\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n    &lt;/ContentTemplate&gt;\n    &lt;Triggers&gt;\n        &lt;asp:AsyncPostBackTrigger ControlID=\"btnSomeButton\" EventName=\"Click\" /&gt;\n    &lt;/Triggers&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>Is there any way to use JQuery UI datepicker inside UpdatePanel content?</p>\n"},{"tags":["jquery","ajax","dom","load"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12843964,"title":"jQuery load event fire when html code is appended","body":"<p>I am using jQuery's ajax function <code>$.get()</code> to download data from a page. I then cast that data to a jQuery object with <code>$(data)</code>, allowing it to construct a DOM tree. I then append this data using <code>append()</code></p>\n\n<p>Is there a way for jQuery to fire an event similar to <code>load</code> which would tell me when the data's iframes/images/videos are done loading? Either before or after the <code>append()</code>?</p>\n\n<p>According to the jQuery documentation, the <code>load</code> event only fires on specific objects:</p>\n\n<blockquote>\n  <p>This event can be sent to any element associated with a URL: images, scripts, frames, iframes, and the window object.</p>\n</blockquote>\n\n<p>I could loop through all of the data and attach a <code>load</code> listener to each of these objects, then count how many there are and have the <code>load</code> handler count how many have loaded (or have already been cached) until the number reaches the total. However I am looking for an alternative to this solution.</p>\n\n<p>I have tried to attach the <code>load</code> event to the <code>window</code> object through <code>load()</code> and <code>on()</code> but these only fire once when the active page is initially loaded.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>$.get(url_string, function(data) {\n    // Create DOM elements out of the downloaded html text 'data'\n    // and take a subset of the DOM elements, where the id is #content\n    var myContents = $(data).find(\"#content\");\n\n    // Insert DOM elements into the active page\n    $(\"#destination\").append(myContents);\n\n    // Check when all images/iframes/video elements have loaded\n    // Does not work\n    $(\"#destination\").load(function() {\n        alert(\"new stuff loaded\");\n    });\n\n    // Does not work either\n    myContents.load(function() {\n        alert(\"new stuff loaded\");\n    });\n});\n</code></pre>\n\n<p>This question is linked to </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/4625918/jquery-event-once-all-images-are-loaded-including-cached-images\">jquery event once all images are loaded (including cached images)?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/910727/jquery-event-for-images-loaded\">jQuery event for images loaded</a></li>\n<li><a href=\"http://stackoverflow.com/questions/4488874/jquery-event-for-when-ajax-loaded-content-is-all-loaded-including-images\">jquery: event for when ajax loaded content is all loaded (including images)</a></li>\n</ul>\n\n<p>but the solution offered in these are all the one I mentioned above, where I would have to count how many of the objects there are, then check when the total is reached.</p>\n"},{"tags":["javascript","jquery","ajax","performance"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":63,"score":4,"question_id":13144144,"title":"jQuery request a list of url while limit the max number of concurrent request","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4797566/queue-ajax-calls\">Queue AJAX calls</a>  </p>\n</blockquote>\n\n\n\n<p>I have a list of id:</p>\n\n<p><code>var ids = [3738, 75995, 927, ... ]; // length is about 2000</code></p>\n\n<p>I'd like to request the url <code>http://xx/ + id</code> with <code>$.getJSON</code>, like:</p>\n\n<pre><code>ids.forEach(function(id, index){\n    $.getJSON('http://xx/' + id, function(data){\n        // store the data in another array.\n    });\n});\n</code></pre>\n\n<p>However, this will make too much requests in one time, making the browser blocking for a while, so my question is, how could I limit the number of concurrent ajax request in jQuery? for example, I send 10 request and when each of them got the response I send another request.</p>\n"},{"tags":["javascript","ajax","facebook","facebook-graph-api"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":760,"score":0,"question_id":7298794,"title":"Problem with ajax calling from facebook app","body":"<p>I'm using the following code in order to make an ajax call to my server.<br>\nThe code makes the call to the server and in return, it gets a list of all the friends that use the same app.</p>\n\n<pre><code>FB.getLoginStatus(function(response) {\n  if (response.session) {\n        uid = response.session.uid;\n        access_token = response.session.access_token;\n        $.getJSON(serverLink+\"ajax.php?action=getFriendsApp\", {token:access_token}\n         ,function(data){\n         var temp = data;\n         if(true){\n                var container = $('#friends_part_main');\n                var fp = $('#friends_part');\n                fp.show();\n                var friends = data;\n                for(var i in friends){\n                    container.append('&lt;a target=\"_blank\" href=\"http://www.facebook.com/profile.php?id='+friends[i]+'\"&gt;\\n\\\n                    &lt;img src=\"https://graph.facebook.com/'+friends[i]+'/picture\" alt=\"friend\" /&gt;\\n\\\n                    &lt;/a&gt;');     \n                        }\n                    }\n                });\n            }\n</code></pre>\n\n<p>If I run this code directly from the browser (www.mydomain.com/app) it works.<br>\nBut when I run it from the canvas page (app.facebook.com) I get the foloowing error:  </p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load\n  <a href=\"http://www.mydomain.com/src/ajax.php?action=getFriendsApp&amp;token=AAAC0kxh1WAcBAHo3s0QaVy34mgdnCNGvrDZCvIQsZCBHZC8ovR9IuYEFlUKRqK0GgJosWAD6Embg8QrN07vivE6mOuAZAtxUD7WpySDL3wZDZD\" rel=\"nofollow\">http://www.mydomain.com/src/ajax.php?action=getFriendsApp&amp;token=AAAC0kxh1WAcBAHo3s0QaVy34mgdnCNGvrDZCvIQsZCBHZC8ovR9IuYEFlUKRqK0GgJosWAD6Embg8QrN07vivE6mOuAZAtxUD7WpySDL3wZDZD</a>.\n  Origin <a href=\"https://www.mydomain.com\" rel=\"nofollow\">https://www.mydomain.com</a> is not allowed by\n  Access-Control-Allow-Origin.</p>\n</blockquote>\n\n<p>Can you figure out why??</p>\n"},{"tags":["jquery","ajax","solr"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13155990,"title":"indexing solr using jquery AJAX","body":"<h1>Is is possible to index (add/update) solr using jquery AJAX?</h1>\n\n<p>There is no example in net and I have been trying but no success.\nBelow is my code</p>\n\n<pre><code> try {\n            $.ajax({\n                type: \"POST\",\n                url: \"http://192.168.10.113:8080/solr/update/json?commit=true\",\n                data: { \"add\": { \"doc\": { \"id\": \"222222\", \"name\": \"Ruby on Trails\"}} },\n                contentType: \"application/json\",\n                dataType: 'jsonp',\n                crossDomain: true,\n                jsonp: 'json.wrf',\n                success: function (data) { alert(data); },\n                failure: function (errMsg) {\n                    alert(errMsg);\n                }\n            });\n        }\n        catch (err) {\n            alert(err);\n        }\n</code></pre>\n\n<p>My tomcat server log is mentioned below.\n[<code>31/Oct/2012:15:56:24 +0530] \"GET /solr/update/json?commit=true&amp;json.wrf=jQuery1820996771614998579_1351662048057&amp;add%5Bdoc%5D%5Bid%5D=222222&amp;add%5Bdoc%5D%5Bname%5D=Ruby+on+Trails&amp;_=1351678643653 HTTP/1.1\" 200 159</code></p>\n\n<p>Though it says 200, the document is not added in solr. I have waited enough and repeated the process several times to remove the commit strategy of solr server being the culprit here. \nIn chrome browser it says Uncaught SyntaxError: Unexpected token &lt; But that's too generic to take any guess.\nIt is some other issue. Any help is appreciated. </p>\n"},{"tags":["asp.net","jquery","ajax","file-upload","swfupload"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":283,"score":0,"question_id":4738265,"title":"Ajax File uploader","body":"<p>I just wanted to ask a question about uploading files via AJAX. I have researched on the web and found many articles on doing this. I am using ASP.NET 2.0.</p>\n\n<p>I am probably going to go the jQuery route on this one, but I'm still unsure, I just need some feedback. Bacause my aim is to create an admin page for my client to add new products to his site when my client wishes to, so my client wants a simple file uploader and a multiple file uploader.</p>\n\n<p>The first question is which is the best AJAX File Uploader to use?</p>\n\n<p>The second question is how many files can you upload via AjAX, are there limits to how much you upload with different techniques ie. using jQuery or SWFUpload or using IHTTPHandler?</p>\n\n<p>I would be grateful for your feedback.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","jquery","ajax","json","session"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13156260,"title":"Sessions in PHP with JSON and AJAX","body":"<p>So, I'm trying to create a log in function for a web app.</p>\n\n<p>The login is handled by a JSON interface. The user enters a username and password which are checked, and if they are correct, the JSON interface sends back a token. This is where the session should start, I guess.</p>\n\n<pre><code>&lt;script&gt;  \n  $(document).ready(function(){\n   $(\"#loginForm\").validate({\n    rules: {\n      username: {\n        required: true,\n        digits: true\n      },\n      password: {\n        required: true\n      }\n    },\n\n    submitHandler: function(form) {\n      data = JSON.stringify({\n        \"jsonrpc\": \"2.0\",\n        \"method\": \"login\",\n        \"params\": {\n          \"params\": {\n            \"username\": $('#username').val(),\n            \"password\":  $('#password').val()\n          }\n        }\n      });\n\n      $.ajax({\n        url:\"http://domain.local:1234/trip\",\n        type:\"POST\",\n        crossDomain: true,\n        dataType: \"json\",\n        data : data,\n        headers: {\n          'Content-Type': \"application/json; charset=utf-8\"\n        },\n        success: function(data){\n          if(data.result.token != null) {\n            window.location.href = \"functions/login.php?token=\" + data.result.token;\n          }\n\n          else $(\"#result\").html(\"Invalid username and/or password.\"); \n        }\n      });\n      return false;\n      }\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>My <code>login.php</code> is where the session handling should occur (right?). If possible at all, I'd like not to use cookies. So far, this is the only thing I've got (this is my first attempt with sessions).</p>\n\n<pre><code>&lt;?php\n  session_start();\n  $token = $_POST['token'];\n?&gt;\n</code></pre>\n\n<p>When the user is logged in, I need them to be sent to overview.php. Should this be done from the <code>login.php</code> file when there's a token, or should it be done from <code>index.php</code> instead of heading to <code>login.php</code>?</p>\n\n<p>Also, how do I check if there's an active session on the pages the user visits? I need the token on every page to make new calls to the JSON interface.</p>\n\n<p>Lastly, I when the user needs to log out, I guess I would just head them to <code>logout.php</code> or something like that and end the session there?</p>\n\n<p>Thank you so much for your help!</p>\n"},{"tags":["ajax","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13154175,"title":"How to return ajax quired value in wordpress?","body":"<p>I have created a ajax call back but it returns an error value. The code is bellow which I'm using.\nI'm sending value from checkboxes when it checked. and want to return value from postedfile <code>listing_submit_demo.php</code></p>\n\n<pre><code>jQuery(function() { \n    jQuery('.list_category').bind('click',function() {\n        if(jQuery(this).is(':checked')) {\n            jQuery('#some_textarea').html(jQuery(this).val());\n            var id = jQuery(this).attr('id');\n            jQuery.ajax({\n                type:\"POST\",\n                data: {idvalue: id},\n                url: \"&lt;?php echo FRONTENDURL; ?&gt;listing_submit_demo.php\",\n                success:function(data){\n                    alert(data);\n                }\n            });\n        }\n    });                         \n});\n</code></pre>\n\n<p>In <code>listing_submit_demo.php</code> I'm getting checkbox id value and retrieving values from database and then returning the listed value but it returns value with debug error. So how to get proper value from it? The <code>listing_submit_demo.php</code> code is bellow: </p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n//error_reporting(0);\n$idvalue = $_POST['idvalue'];\nglobal $cfield_tbl_name;\nglobal $wpdb;\n$query = \"SELECT * FROM  $cfield_tbl_name\";\n$val = $wpdb-&gt;get_results($query);\nforeach($val as $x){\n    $cate = explode(',',$x-&gt;field_cate);   \n     if(in_array($idvalue, $cate)){\n          $y .= $x-&gt;f_var_nm . \",\";\n    }\n}\necho $y;\n//?&gt;\n</code></pre>\n\n<p>Any help will be thankful in advance. </p>\n"},{"tags":["c#","asp.net","ajax","jquery-ajax","updatepanel"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13136435,"title":"ASP updatepanels","body":"<p>I am implementing a shopping basket functionality(with common features) for a ASP.Net website and there are two buttons in each basket items(line items) which will increment/decrement the quantity and also a delete button. I need AJAX approach for my basket page. What is the best approach to accomplish my requirement? <strong>Is it a good idea to use ASP update panels?</strong> I am using a repeater to populate the basket. Any suggestions would be really appreciated..</p>\n\n<p>Thanks</p>\n\n<p><strong>EDIT</strong><br/>\nit seems people have found this question a bit senseless(sorry about that). I am using a user control for the basket that means that doesn't allow me to use Web Methods straight-away in the code-behind. I have voucher functionality + a post and package calculator in the same control, which needs to be updated based on user actions. </p>\n\n<p><strong>Solution</strong><br/>\nInitially got all this stuff to work as I expected by using asp AJAX updatepanels then realized it is <strong>NOT</strong> a good approach once I saw the response. The implemented a simple Web service to work with jQuery Ajax. I all fine now. happy days :) </p>\n"},{"tags":["c#","ajax","asp.net-mvc","asp.net-mvc-3","session"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13156287,"title":"Why is my session cart list empty?","body":"<p>When I debugg my actionresult AddToCart. My cart gets a value of a productId which is working perfectly here it is:</p>\n\n<pre><code>public ActionResult AddToCart(int productID)\n    {\n        List&lt;int&gt; cart = (List&lt;int&gt;)Session[\"cart\"];\n        if (cart == null){\n           cart = new List&lt;int&gt;();\n        }\n        cart.Add(productID);\n\n        return new JsonResult() { Data = new { Status = \"Success\" } };\n    }\n</code></pre>\n\n<p>And I am using ajax to get the productID:</p>\n\n<pre><code>$(function () {\n            $(\".a\").live(\"click\", function () {\n                var $this = $(this),\n            productID = $this.data('productID');\n                $.ajax({\n                    url: '/Home/AddToCart',\n                    type: \"post\",\n                    cache: false,\n                    data: { productID: productID },\n                    success: function (data) {\n                        data = eval(data);\n                        $this.addClass('productSelected');\n                    },\n                    error: function (result) {\n                        $(\".validation-summary-errors\").append(\"&lt;li&gt;Error connecting to server.&lt;/li&gt;\");\n                    }\n\n                });\n            });\n\n        });\n</code></pre>\n\n<p>But when I implemented this actionresult my cart is null:</p>\n\n<pre><code>public ActionResult ShoppingCart()\n{\n    var cart = Session[\"cart\"] as List&lt;int&gt;;\n\n    var products = cart != null ? cart.Select(id =&gt; \n             {\n                 var product = repository.GetProductById(id);\n                 return new ProductsViewModel\n                    {\n                       Name = product.Name,\n                       Description = product.Description,\n                       price = product.Price\n                    }\n             }) : new List&lt;ProductsViewModel&gt;();\n\n    return PartialView(products);\n}\n</code></pre>\n\n<p>What am I doing wrong? Why is actionresult Shoppingcart have null values how is this happenin? When I debugg AddToCart, Cart gets a value and it gets added.</p>\n"},{"tags":["jquery","ajax","forms","wordpress"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13156185,"title":"WordPress: Submit Form Without Refreshing","body":"<p>I'm currently working on an own WordPress template which has a function in the admin area that can upload a picture. Uploading, moving to a folder and displaying in the admin area works fine, however, I can't manage to delete them.</p>\n\n<p>Below the picture, I'd like to have an input button. When I click it, it should execute a PHP script (deleting the custom field in which the picture's URL is stored) and remove the picture above.</p>\n\n<p>The problem: I want this all to happen dynamically, that means without refreshing the page. I've found this script which does exactly this:</p>\n\n<pre><code>&lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.4.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function(){\n        $(\"#myform\").validate({\n            submitHandler: function(form) {\n                $.post('process.php', $(\"#myform\").serialize(), function(data) {\n                    $('#results').html(data);\n                });\n            }\n        });\n    });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;form name=\"myform\" id=\"myform\" action=\"\" method=\"POST\"&gt;\n    &lt;input type=\"submit\" class=\"button\" value=\"Delete\" /&gt;\n&lt;/form&gt;\n\n&lt;div id=\"results\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>When I click the \"Delete\" button, the process.php will be executed - in this case just a simple echo which is being displayed in the \"results\" div container.</p>\n\n<p>I can't make this script work in WordPress. I copied the form and added the jquery.validate.min.js via <code>wp_register_script</code> and <code>wp_enqueue_script</code>. I left out the script's jQuery because WordPress had loaded its own already. And when I replace WordPress' jQuery with the one from the script by deregistering and registering it again, it's not working either.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["javascript","jquery","ajax","arrays","object"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12576263,"title":"Send jQuery constructed array through jQuery ajax to PHP","body":"<p>I can't seem to get this object to pass through jQuery's ajax to my PHP file.</p>\n\n<pre><code>$(\"body\").on(\"submit\", \".upload-results-form\", function(){\n\n        var photosJSON = [];\n\n$(\".upload-result-wrapper .upload-results .photos li\").each(function(){\n\n    var photoID = $(this).attr(\"rel\");\n    var description = $(\".photo-upload-description\", this).val();\n    var source = $(\"img\", this).attr(\"src\");\n\n    photosJSON.push({photoID: photoID, description: description, source: source});\n\n});\n\nvar jsonData = JSON.stringify(photosJSON);\n\n\n    $.ajax({\n    type: \"POST\",\n    url: \"ajax/add/albums/photos_publish.php\",\ndata: \"photosJSON=\"+jsonData,\n    cache: false,\n    success: function(html){\n        alert(html);        \n    }\n    });\n\n}); \n</code></pre>\n\n<p>my jsonData looks like this:</p>\n\n<pre><code>[{\"photoID\":\"47\",\"description\":\"\",\"source\":\"photos/50611a8725cca_224.jpg\"},\n{\"photoID\":\"48\",\"description\":\"\",\"source\":\"photos/50611a8764881_224.jpg\"},\n{\"photoID\":\"49\",\"description\":\"\",\"source\":\"photos/50611a87aa508_224.jpg\"},\n{\"photoID\":\"50\",\"description\":\"\",\"source\":\"photos/50611a88dd34b_224.jpg\"}]\n</code></pre>\n\n<p>and my php file:</p>\n\n<pre><code>$photosJSON = json_decode($_POST['photosJSON']);\necho $photosJSON['photoID'];\n</code></pre>\n\n<p>however nothing is returned, it doesn't appear that anything is being sent through to php.</p>\n"},{"tags":["javascript","jquery","css","ajax","jquery-mobile"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":181,"score":0,"question_id":8705293,"title":"generate jquery mobile styling on ajax'd data-role","body":"<p>I am using jquery mobile...</p>\n\n<p>I have a button (data-role=\"button\") which calls a javascript function which executes some ajax. This ajax then adds some HTML to the page. The returned HTML has a data-role=\"button\" on it but it's not returning in the correct jquery mobile styling.</p>\n\n<p>any ideas how to get the ajax to return the jquery in the correct styling without actually staticly putting in the jquery classes? I would perfer to use data-role for consistency.</p>\n"},{"tags":["php","javascript","ajax","variables","echo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13154634,"title":"How to get echoed value from javascript to PHP variable?","body":"<p>On the following website <a href=\"http://www.e-domov.cz/oblozkove-zarubne\" rel=\"nofollow\">http://www.e-domov.cz/oblozkove-zarubne</a> when you look to table \"TYP\"(TYPE in English) and change the radio button to the second one the javasscript dynamicaly generate text which you can see on the right panel.</p>\n\n<p>It is happend by this part of code:</p>\n\n<p><strong>right3.php</strong></p>\n\n<pre><code>Typ: &lt;span id=\"zarubneStena\"&gt;&lt;?= $_SESSION['zarubneStena']; ?&gt;&lt;/span&gt;&lt;br&gt;\n</code></pre>\n\n<p><strong>script.js</strong></p>\n\n<pre><code>function nastavZarubneTyp2(value)\n {\n$('#zarubneStena').html(value);\n$.get(\"/C/AJAX/typZarubne2.php\", { zarubne: value});\n}\n</code></pre>\n\n<p><strong>typZarubne2.php</strong></p>\n\n<pre><code>&lt;?php\n     session_start();\n\n      $_SESSION['zarubneStena']=$_GET['zarubne']; \n?&gt;\n</code></pre>\n\n<p><strong>oblozkove-zarubne.php</strong></p>\n\n<pre><code>&lt;td&gt;&lt;input type=\"radio\" name=\"typ&lt;?php $uid=uniqid();echo $uid;?&gt;\" checked=\"checked\" onClick=\"nastavZarubneTyp2('Na stěnu')\"&gt;&lt;/td&gt;&lt;td&gt;Klasická obložková zárubeň&lt;/td&gt;\n\n&lt;td&gt;&lt;input type=\"radio\" name=\"typ&lt;?php echo $uid;?&gt;\" onClick=\"nastavZarubneTyp2('Do stavebního pouzdra');\"&gt;&lt;/td&gt;&lt;td&gt;Obložková zárubeň pro posuvné dveře do stavebního pouzdra&lt;/td&gt;\n</code></pre>\n\n<p>I don´t understand too much to this record:</p>\n\n<pre><code> Typ: &lt;span id=\"zarubneStena\"&gt;&lt;?= $_SESSION['zarubneStena']; ?&gt;&lt;/span&gt;&lt;br&gt;\n</code></pre>\n\n<p>So i want some advice how to dynamicaly get the value of $_SESSION['zarubneStena'] which is generated in real-time by javascript/AJAX. I know, it's difficult to understand what i want, but i hope, that somebody helps. Thanks too much.</p>\n"},{"tags":["javascript","ajax","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13154678,"title":"How to use ajax to get data from a server in phonegap?","body":"<p>Please pardon me asking this rudimentary question, but let me know if anyone knows about it.</p>\n\n<p>I'm developing a web application for smartphones, and want to make a native application of it for iOS, Android, and so on by PhoneGap.</p>\n\n<p>In my script I use Ajax in order to send and get data from a php file in a server.</p>\n\n<pre><code>$.ajax({\n\n   url: \"example.php\",\n\n   cache: false,\n\n   data: data,\n\n   success: function(result, dataType){\n\n    }\n\n});\n</code></pre>\n\n<p>If I change url: \"example.php\" in the above to, say, url: <a href=\"http://www.example.com/example.php\" rel=\"nofollow\">http://www.example.com/example.php</a>, will a native application send and get data from example.php in a server?</p>\n\n<p>I would appreciate if anyone who knows about it could help anserwing my question.</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","javascript","jquery","ajax","xul"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13153498,"title":"Is there any way to move a file from server to local directory using?","body":"<p>I search web for a function/command in php/javascript/xul which can transfer a file to local directory from a http server, but didn't find any sufficient answers.</p>\n\n<p>Is there any function/command avaliable to do this job, using any of PHP/Javascript/XUL?</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13154004,"title":"How can one trigger a function onchange of a div?","body":"<p>Here's a question which has proved very difficult to find an answer online for.</p>\n\n<p>Let's say a user runs an ajax function onclick to fill the contents of a div.</p>\n\n<p>But, what if the ajax output is php, and for that onclick, i want other divs on the page to change in a manner that is dependent on the contents of div1?</p>\n\n<p>This means I need to wait for div1 to actually change so i can use the ajax output of the php calculations to adjust div2 accordingly.</p>\n\n<p>After some testing i've found out that i cant add a call to a second ajax function at the end of the first because it seems to run before the div content from the first ajax call actually changes.</p>\n\n<p>So how can i trigger an ajax call onchange of the contents of a div?</p>\n"},{"tags":["java","ajax","wicket"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":13151978,"title":"Add tooltip on dropdown selection in wicket using ajax","body":"<p>I am using Wicket and ajax framework. Dropdown is populated through wicket and <code>onchnage</code> of dropdown is handled through <code>ajax</code>.<br>\nI want to add a dynamic <code>title</code> on dropdown when user select value from dropdown.<br>\nCode goes like this:</p>\n\n<pre><code>DropDownChoice attrDDC = new DropDownChoice(\"dropDownField\", \n    new PropertyModel(this, \"modelObject\"), \n    entityList, \n    new ChoiceRenderer(element.getEntity().getNameField()));\nattrDDC.setNullValid(true);\nattrDDC.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n\n    @Override\n    protected void onUpdate(AjaxRequestTarget target) {\n        if (getModelObject() != null)\n            nodeAttribute.setIdCodeValue(getModelObject().getId());\n        else\n            nodeAttribute.setIdCodeValue(null);\n        // thisDDC.add(new AttributeAppender(\"onmouseover\", \n                new Model(\"Tip('\" + ((WorkflowRules)getModelObject()).getRuleName() + \"');\"), \";\"));\n        // thisDDC.add(new AttributeModifier(\"title\", true, new Model(((WorkflowRules)getModelObject()).getRuleName())));\n        if (elmntIdDDCMap != null &amp;&amp; elmntIdDDCMap.containsKey(thisElmnt.getId()))\n        {\n            List&lt;DropDownChoicePanel&gt; ddcPanelList = elmntIdDDCMap.get(thisElmnt.getId());\n            for (DropDownChoicePanel ddcPanel : ddcPanelList)\n            {\n                ddcPanel.setEntityList(attributesList);\n                target.addComponent(ddcPanel.getThisDDC());\n            }\n        }\n\n    }\n\n});\nadd(attrDDC);\nthisDDC = attrDDC;\n</code></pre>\n\n<p><strong>PS:</strong> Commented lines are the one which I tried.</p>\n"},{"tags":["c#","ajax","forms-authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13153778,"title":"Authorize attribute to redirect to login page when ajax request","body":"<p>I've seen some solutions using custom Authorize attributes (haven't tested them though) but I was wondering if there's a simple solution for the following problem.</p>\n\n<p>In a view when the user clicks a button it should display a \"modal\", with a button in it that when clicked actually a method in the controller (just submit the form).</p>\n\n<p>So I've put the modal inside the view result of that method and via ajax callback I show it, and the method in the controller refreshes the page or just return as Json result to populate the modal and display it.</p>\n\n<p>The problem is that as I use the [Authorize] attribute, so when the user is not logged in and calls the method clicking the first button, which makes the ajax call nothing happens. It's not redirected to the login page.</p>\n\n<p>I can put them in two methods, making just the \"normal\" one Authorized, and letting the one which returns Json as available (in which case you'd only be prompted to login after trying to clik the modal which is not ideal but it's acceptable). But if someone could point me an easy solution to this I'd be very obliged.</p>\n\n<p>The method</p>\n\n<pre><code>[Authorize]\n[HttpPost]\npublic ActionResult ConfirmMaxBid(string button, BidOnAuctionViewModel model)\n{\n    if(Request.IsAjaxRequest())\n    {\n       //Code goes here and return Json result to populate a pop up\n       //with a button that calls this same method not using ajax\n       .....\n    }\n    //Code goes here to do the proper stuff\n</code></pre>\n\n<p>And the script referenced in the view is this</p>\n\n<pre><code>$(document).ready(onDocumentReady);\n\nfunction onDocumentReady() {\n$(\"#autobidButton\")\n    .unbind(\"click\", autoBidFunction)\n    .click(autoBidFunction);\n}\n\nfunction autoBidFunction(e) {\nvar model =\n    {\n        AuctionEventId: $('#AuctionEventId').val(),\n        AuctionId: $('#AuctionId').val(),\n        Amount: $('#Amount').val()\n    };\n$.ajax({\n    url: \"/Lot/ConfirmMaxBid\",\n    dataType: 'json',\n    type: \"POST\",\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(model),\n    success: function (data) {\n        var amount = \"$\" + data.AutobidAmount;\n        $('#returnedCorrectedAmount').html(amount);\n        $('#AutobidAmount').val(data.AutobidAmount);\n        $('#confirmationMessage').text(data.AutobidConfirmationMessage);\n        $('#autoBidConfirmation').show();\n    }\n});\ne.preventDefault();\n};\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","ajax","jsp","servlets"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13138456,"title":"form-login-config and ajax requests","body":"<p>I have setup my web.xml with a login page, however, I would like the server to return a 403 status for certain servlets that are used for async calls. </p>\n\n<p>Servlets requiring authentication are all mapped as /restricted/*</p>\n\n<p>I can only think of 2 options:</p>\n\n<ul>\n<li><p>mapping async servlets outside of \"restricted\" and checking for the roles in the servlets</p></li>\n<li><p>handling redirect to login page in servlets that forward to a page</p></li>\n</ul>\n\n<p>Is there any other way I can do this and whilst keeping access control consistent throughout?</p>\n"},{"tags":["jquery","ajax","json","web-services","rest"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":12653683,"title":"Access Java REST WebServices in HTML pages with JQuery","body":"<p>I have a big problem with RESTFul webservices.</p>\n\n<p>Here is my architecture :</p>\n\n<ul>\n<li>Server-side : I use EJB3 + RESTFul webservices.</li>\n<li>Client-side : I use bootstrap twitter + JQuery 1.8 and Ajax methods to access my webservices.</li>\n</ul>\n\n<p>I created a JSP on server-side to test my webservice before commiting it for client-side developpers. When I use this JSP all my webservices are working perfectly !\nThen I try to access these webservices from an html page (remotely) and my <code>$.ajax</code> request doesn't work. </p>\n\n<p>I rode a lot of posts about that, some people speaks about JSONP adding <code>callback=?</code> at the end of the URL or using <code>dataType='jsonp'</code></p>\n\n<p>The best I can do is seeing the object in my browser Resources but only error callback is called. \nI have an error like : <code>ParserError : Error: jQuery18207595316471997648_1348928429983 was not called.</code></p>\n\n<p>When I try to use <code>dataType='text json'</code> (as mentioned in some posts) nothing happens but the error callback is still called !</p>\n\n<p>The thing is that when I just put the GET url directly in my web browser I can see the string of the corresponding JSON object, so it doesn't seems to come from my webservices.</p>\n\n<p>here is an example of this JSON string : </p>\n\n<pre><code>{\"member1\":[{\"email\":\"romain@gmail.com\",\"firstname\":\"Romain\",\"idMember\":\"4\",\"lastname\":\"Dev\",\"login\":\"romain\",\"password\":\"5026bc63b5418ffdb54f238db245ec01\"},{\"email\":\"productowner@gmail.com\",\"firstname\":\"Product\",\"idMember\":\"7\",\"lastname\":\"Owner\",\"login\":\"prodowner\",\"password\":\"f5bf48aa40cad7891eb709fcf1fde128\"}]} \n</code></pre>\n\n<p>Here is an example of my ajax request : </p>\n\n<pre><code>$.ajax({\n    url:'http://localhost:8080/myresource/all',\n    type:'GET',     \n    success: function(reponse) {        \n        renderList(reponse);\n    },  \n    error:function (xhr, status, error){        \n        alert('Error :'+xhr.responseText+' ('+status+' - '+error+')');  \n    },  \n    dataType: 'json'\n\n  });\n</code></pre>\n\n<p>I use Glassfish server 3.1.2 and the only log I can see is :</p>\n\n<pre><code>INFO: Couldn't find JAX-B element for class javax.ws.rs.core.Response\n</code></pre>\n\n<p>But why would it work in my JSP and not in my HTML pages ??</p>\n\n<p>I'm really stuck, I really need your help ! :)</p>\n\n<p>Thank you very much in advance</p>\n"},{"tags":["ajax","facebook","json","facebook-graph-api","jsonp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12268496,"title":"Ajax Requests to Facebook graph not working on IE","body":"<p>I am developing a facebook app. I am trying to get the likes for urls as I am iterating through an array of urls and adding it to the div that should contain the likes. This is my ajax request:</p>\n\n<pre><code> $.ajax({\n                  type: \"GET\",\n                  cache: false,\n                  url: 'https://graph.facebook.com/?id='+videoUrl,\n                  dataType : \"json\",\n                  async: false,\n                  header: \"application/json\",\n                  success: function(data) {\n                      if(data.shares == null) {\n                          likeCount = 0;\n                      } else {\n                          likeCount = data.shares;\n                      }\n                  }\n          });\n</code></pre>\n\n<p>This works perfectly fine on Chrome, Firefox, Safari. It doesn't work on any IE. I thought it was a caching issue. Notice that I added cache: false to the request. I tried JSONP and I get the likes but I am unable to access it outside of the request. I also tried adding this to my php:</p>\n\n<pre><code>    header(\"Cache-Control: post-check=0, pre-check=0\", false);\n</code></pre>\n\n<p>It still doesn't work. Please help me!</p>\n"},{"tags":["php","jquery","ajax","variables","passing"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":13144849,"title":"Pass variable from Javascript/JQuery to PHP","body":"<p>I'm still new to JQuery and trying to learn how to submit form without page refresh...\nWhat I want is, when the form is submitted, the value of what I type on \"headline\" and \"subheadline\" can be passed into php variable (So I can echo/insert data to database, etc)</p>\n\n<p>So,  I put </p>\n\n<pre><code>\"&lt;? echo $_POST['headline']; ?&gt;\" \n</code></pre>\n\n<p>on </p>\n\n<pre><code>&lt;span class=\"save-notice\"&gt;Your change has been saved! &lt;? echo $_POST['headline']; ?&gt;&lt;/span&gt;\n</code></pre>\n\n<p>but when I fill the form and click the submit button, it only shows \"Your change has been saved!\". Which means, the variable can't be passed to PHP.</p>\n\n<p>The HTML and the JS is combined into 1 file. I left the URL method on .ajax because it is processed in the same file.</p>\n\n<p><strong>HTML FORM</strong></p>\n\n<pre><code>&lt;div id=\"submit-form\"&gt;\n&lt;form action=\"\" id=\"select-block\" class=\"general-form\"&gt;\n&lt;div class=\"input-wrap\"&gt;\n    &lt;input class=\"clearme\" name=\"Headline\" value=\"Your headline here\" id=\"headline\"/&gt;\n&lt;/div&gt;\n&lt;div class=\"input-wrap\"&gt;\n    &lt;textarea class=\"clearme\" name=\"Sub-Headline\" id=\"subheadline\"&gt;Sub Headline Here&lt;/textarea&gt;\n&lt;/div&gt;\n\n&lt;input type=\"submit\" class=\"submit-btn\" value=\"SAVE\" /&gt;\n&lt;span class=\"save-notice\"&gt;Your change has been saved! &lt;? echo $_POST['headline']; ?&gt;&lt;/span&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>And the JQUERY CODE</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n$(function() {  \n  $(\".save-notice\").hide();\n  $(\".submit-btn\").click(function() {  \n\n    var headline = $(\"input#headline\").val();\n    var subheadline = $(\"textarea#subheadline\").val();\n    var dataString = 'headline='+ headline + '&amp;subheadline=' + subheadline;\n    alert(dataString)\n\n\n        $(\".save-notice\").hide();\n        $.ajax({  \n        type: \"POST\",  \n        url: \"\",\n        data: dataString,\n        success: function() {  \n            $(\".save-notice\").show();\n        }  \n    });  \nreturn false;  \n  });  \n});  \n\n&lt;/script&gt;\n</code></pre>\n\n<p>I saw on several example/tutorial on the internet if it can be done like that. Can you advise?</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13151859,"title":"How can i change the contents of div x (with ajax) automatically when another ajax call is made changing the contents of div y?","body":"<p>I've been working on this for hours and having alot of difficulty- been unable to find a solution.</p>\n\n<p>I have two divs. div3 must change its contents accordingly whenever div2 changes. Div2 is changed via ajax, thus when this happens it must trigger another ajax call to change div3 as well.</p>\n\n<p><b>Here are the details:</b></p>\n\n<ol>\n<li>I have main.html, which contains several different clickable buttons. Onclick, each of these buttons will trigger an ajax function to load, which outputs a php file in div2.</li>\n<li><p>This php script outputs the results of a database query, which are different depending on which button in main.html was clicked.</p></li>\n<li><p>I have a div- div3, which is supposed to display the contents of a subsection of data of the current  div 3 output.</p></li>\n<li><p>Thus it logically follows that whenever div2 changes, div3 contents must change accordingly.</p></li>\n<li><p>Initially i thought i could just put the function call to the second ajax function at the end of the php file, that way it would always load right after the php file, but apparently java cannot be read from within an ajax output.</p></li>\n</ol>\n\n<p><b>Here's what i've tried:</b></p>\n\n<ol>\n<li>Tried putting a function call in javascript <code>&lt;script&gt;</code> tags at the end of the php file, but didnt work for above mentioned reasons.</li>\n<li>I tried to call the function as an <code>onload</code> event of the last div of the php file, but it doesnt work. </li>\n<li>I tried to add <code>onchange</code> to the div2 element so that whenever the contents is changed via ajax the second ajax script runs, but it didnt work.</li>\n<li>I tried to call my second ajax function from the very end of the first ajax function, but that prevented my first function from working properly.</li>\n<li>Strangely enough, if i attach the function to an <code>onclick</code> event in the php file, and click on it from div2 when the php has loaded, it works, and updates div3 contents.</li>\n</ol>\n\n<p>All i need to do is find a way to turn that <code>onclick</code> function call into something automatic whenever  either the php page loads, or when div2 contents change. </p>\n\n<p><b>Additional notes:</b>\n1. I'd like to stay away from <code>eval</code> if i can, because i tried to learn it but the methodology of developing an appropriate regex and all the other details seemed very complicated to me. It might take me hours to develop an appropriate approach and even then might not work....I'd prefer to stick with all the possible simple options i've overlooked or might not have implemented properly.\n2. I'll be watching this post like a hawk so if you need additional details feel free to request. I didnt post my code because it's fairly lengthy and hard to encapsulate the nature of the problem in a more brief example.</p>\n\n<p>Thanks!</p>\n"},{"tags":["javascript","jquery","ajax","jsp","autosave"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13152065,"title":"Hold the data with in the form when page refresh or back","body":"<p>I have a jsp form, which has textboxes,radio buttons,select and text areas. How can I persist/hold the data within the form even when I refresh the page or coming back to this page from the the next. I need an auto save functionality(don't need to save in to the database just holds the data). Can anybody suggest some information/links? Can I do it with jQuery or javascript?I don't have an idea to implement this.</p>\n"},{"tags":["ajax","xmlhttprequest"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13152142,"title":"Validating hxr rquests in php","body":"<p>How to extract apiid and apipassword from this request made and validate them in php.\nI am new to this xhr concept.</p>\n\n<pre><code>this.xhr.open(\"POST\", requesturl, false, this.apiid, this.apipassword);\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13152051,"title":"How to get rid of cunfliction?","body":"<p>Today i fetching data through ajax and there are some cunfliction in jquery.\nthere is \"select all\" field.when i click on select all that time only one field selected.\nother jqueries are working.\ni am sure there is cunfliction between jqueries \nhere is my code :</p>\n\n<pre><code>&lt;SCRIPT language=\"javascript\"&gt;\nvar j = jQuery.noConflict();\nj(function(){\n\n // add multiple select / deselect functionality\n j(\"#selectall\").click(function () {\n      j('.case').attr('checked', this.checked);\n});\n\n// if all checkbox are selected, check the selectall checkbox\n// and viceversa\nj(\".case\").click(function(){\nif(j(\".case\").length == j(\".case:checked\").length) {\n j(\"#selectall\").attr(\"checked\", \"checked\");\n    } else {\n    j(\"#selectall\").removeAttr(\"checked\");\n    }\n     });\n     });\n   &lt;/SCRIPT&gt;    \n</code></pre>\n"},{"tags":["jquery","mysql","ajax","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13151945,"title":"Jquery and ajax form submission to mysql double entries in database","body":"<p>I have this jquery ajax form submitting script which i wrote for creating and editing items in the DB.</p>\n\n<p>The issue is that whenever i create an item 2 items are created.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n        $('#new_item').on('hidden', function () {\n            $(\".alert\").hide();  // remove errors…when the modal form closes\n        });\n        $(\".showedit\").click(function(){\n            var edit = $(this).attr('id').split(\"_\");// get the edit id\n            var id = edit[1];\n\n            var values = $('#data_'+id+' td').map(function(_, td) {\n                return $(td).text();\n            }).get();\n            // populate the form with the database field\n            var name    = $(\"input[name=name]\").val(values[1]);\n            var model   = $(\"select[name=model]\").val(values[2]);\n            var brand   = $(\"select[name=brand]\").val(values[3]); \n            $('#new_item').modal();\n        });\n\n        $(\"#submit_button\").click(function( e ) {\n            e.preventDefault();\n\n            var name    = $(\"input[name=name]\").val();\n            var amount  = $(\"input[name=amount]\").val();\n            var model   = $(\"select[name=model]\").val();\n            var brand   = $(\"select[name=brand]\").val(); \n\n            $.ajax({            \n                    type: \"POST\",                   \n                    url: \"&lt;?=base_url()?&gt;items/create\",                 \n                    cache: false,\n                    dataType: \"json\",\n                    data: 'name='+name+'&amp;amount='+amount+'&amp;model='+model+'&amp;brand='+brand,\n                    success: function(result){\n                        if(result.error) {\n                            $(\".alert\").addClass('alert-error');\n                            $(\".alert\").fadeIn('slow').html(result.message);\n                          } \n                          else \n                          {                 \n                            $(\".alert\").addClass('alert-success');\n                            $(\".alert\").fadeIn('slow').html(result.message);\n                          }\n\n                    }\n            }); \n\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Please help me solve this. I will be greatful!!</p>\n"},{"tags":["javascript","jquery","ajax","mvc","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13151470,"title":"Override url and parse in Backbone collection","body":"<p>I want to override the collection for development purpose (return fake json results from a JSON var or JSON file). But I got error doing below with <code>url</code></p>\n\n<p><a href=\"http://jsfiddle.net/qhoc/uZhM8/\" rel=\"nofollow\">http://jsfiddle.net/qhoc/uZhM8/</a></p>\n\n<pre><code>GET http://fiddle.jshell.net/_display/[object%20Object],[object%20Object] 404 (NOT FOUND)\n</code></pre>\n\n<p>However, if I use <code>parse</code>, it seems the <code>parse</code> got executed right after <code>initialize</code> because of both my <code>console.log</code> results show the same thing</p>\n\n<p><a href=\"http://jsfiddle.net/qhoc/uZhM8/1/\" rel=\"nofollow\">http://jsfiddle.net/qhoc/uZhM8/1/</a></p>\n\n<p><strong>So how to override the <code>url</code> so that fetch can add another JSON at some point (in separate function)?</strong></p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13131424,"title":"Dynamic texbox modification with ajax/php/javascript","body":"<p>I have two tables. company_details and company_specials. Each company_details can have multiple specials. I display the company details at <a href=\"http://eurothermwindows.com/ed/admin.php\" rel=\"nofollow\">http://eurothermwindows.com/ed/admin.php</a></p>\n\n<p>The first row and fourth row that has the 0 in the active column is from company_details and the rows below are from company_specials.</p>\n\n<p>Currently the code allows for dynamic modification of the company_details rows as denoted by the compid in that table. However i would like to have the rows below it to be dynamically modified as well but it's using the same compid and i'm not sure how to separate them in the code.</p>\n\n<p>Code below is the code being generated for the company_specials. I need a way to uniquely identify each row and be able to modify it.<br>\n<a href=\"http://pastebin.com/RAe9iwAP\" rel=\"nofollow\">http://pastebin.com/RAe9iwAP</a></p>\n\n<p>Could somebody provide some guidance please? I'm thinking that i would probably need to uniquely identify each of the specials within the company_specials or set some sort of pointers?</p>\n"},{"tags":["jquery","xml","ajax","save"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13151774,"title":"save XML file with jquery","body":"<p>I want to save XML file in \"abbrxml.xml.\" I want to put the sentence like\"'Hello world'\" and then save XML. here is the code. when I try this, nothing happens. How can I save XML file with the sentence that I want to put in xml??</p>\n\n<p><code>type: 'button',</code></p>\n\n<pre><code>                   id: 'btnFind',\n                    align: 'left',\n                    style: 'width:100%',\n                    label: 'add',\n\n                    onClick: function () {\n\n                        $.ajax({\n                            type: \"get\",\n                            url: \"abbrxml.xml\",\n                            dataType: \"xml\",\n                            success: function (xml) {\n                                $(xml).find('root').each(function () {\n                                    var test = $(this).find(\"entry\").text();\n                                    var abbr = '&lt;xml&gt;&lt;message&gt;Hello world&lt;/message&gt;&lt;/xml&gt;';\n                                    $(\"test\").append(abbr);\n                                });\n                            }\n                        });\n</code></pre>\n"},{"tags":["php","jquery","html","css","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13151454,"title":"Dynamic webpage content","body":"<p>I have a website with a jQuery UI navigation, and I've got ajax working to dynamically change content between html files. I'm basically just replacing the contents of certain div ids with the contents of other div ids. \nThis still requires numerous HTML files and I was wondering if there was a way to have a single html file and load content into the main page from it instead? What about an xml file? </p>\n\n<p>Thanks for the tips and advice about best practices and possible solutions.</p>\n"},{"tags":["asp.net-mvc","ajax","asp.net-mvc-2","internet-explorer-8","innerhtml"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":551,"score":4,"question_id":3324474,"title":"asp.net mvc - MicrosoftMvcAjax.js throws javascript error when updating table elements in IE8","body":"<p>In IE8 or anything older, innerHTML is not supported on certain elements like TR &amp; TD. Unfortunately, the MicrosoftMvcAjax.js file included in the MVC 2 project uses innerHTML for the Ajax update method within the Ajax.BeginForm or Ajax.ActionLink.</p>\n"},{"tags":["javascript","jquery","ajax","json","xhtml"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13151113,"title":"How to get the closest or previous object independent of the structure of the document with jQuery?","body":"<p>Example 1:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li id=\"o1\" class=\"elem\"&gt;foo1&lt;/li&gt;\n   &lt;li id=\"o2\" class=\"elem\"&gt;foo2&lt;/li&gt;\n   &lt;li id=\"o3\" class=\"elem\"&gt;foo3&lt;/li&gt;\n&lt;/ul&gt;\n\n**$('#o2').exactly_previous('.elem') ----&gt; returns #o1**\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li id=\"o1\" class=\"elem\"&gt;foo1\n      &lt;ul&gt;\n         &lt;li id=\"o11\" class=\"elem\"&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n   &lt;/li&gt;\n   &lt;li id=\"o2\" class=\"elem\"&gt;foo2&lt;/li&gt;\n   &lt;li id=\"o3\" class=\"elem\"&gt;foo3&lt;/li&gt;\n&lt;/ul&gt;\n\n**$('#o2').exactly_previous('.elem') ----&gt; returns #o11\n$('#o11').exactly_previous('.elem') ----&gt; returns #o1**\n</code></pre>\n\n<p>Example 3:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li id=\"o1\" class=\"elem\"&gt;fooX&lt;/li&gt;\n&lt;/ul&gt;\n&lt;ul&gt;\n   &lt;li id=\"o2\" class=\"elem\"&gt;fooX&lt;/li&gt;\n&lt;/ul&gt;\n\n**$('#o2').exactly_previous('.elem') ----&gt; returns #o1**\n</code></pre>\n\n<p>Example 4:</p>\n\n<pre><code>&lt;a id=\"o1\" class=\"elem\"&gt;fooX&lt;/a&gt;\n&lt;ul&gt;\n   &lt;li id=\"o2\" class=\"elem\"&gt;fooX&lt;/li&gt;\n&lt;/ul&gt;\n\n**$('#o2').exactly_previous('.elem') ----&gt; returns #o1**\n</code></pre>\n\n<p>I hope you understand my question! Thanks.</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","session"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13131476,"title":"When storing session values in an AJAX call, they are lost when the next page is loaded","body":"<p>I am using MVC3, and I am trying to do a login page.  I am storing all my details in the session.  If I press 'login' again, it will show the values as being in the session.  When I load another page, or reload the login page, the session is empty.  I have made sure there's no code anywhere in my application that could be clearing the session.  I've found online articles about doing what I am doing, so it seems it should work ? I've set breakpoints in my session_start in app_config, and it's only called the once per session.</p>\n\n<p>Just to add, if I look at the session object, the session id is the same.  Two values are put in the session in the controller, and then 10 or so in the AJAX call.  When I reload the same page, only the 2 values are in the controller, but the AJAX call could see those two values. So, the AJAX call could see the existing session, but the values it adds, are visible if I make the same AJAX call over and over, but gone from a page load.</p>\n"},{"tags":["javascript","jquery","ajax","steam"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13150879,"title":"Steam API Get SteamID using Javascript","body":"<p>Been running into what appears to be the Same Origin Policy which is causing quite some headache!</p>\n\n<p>To cut to the chase, I am essentially trying to acquire a user's steam64id when only supplied their username.</p>\n\n<p>For example, my username: \"Emperor_Jordan\" I would go to:</p>\n\n<p><a href=\"http://steamcommunity.com/id/emperor_jordan?xml=1\" rel=\"nofollow\">http://steamcommunity.com/id/emperor_jordan?xml=1</a></p>\n\n<p>And the steamid I need is right at the top.  So I figured I would use JQuery Ajax to acquire this and parse out the id I need for later usage (steamapi usage requires the steam64id) as follows.  Here is a snippet of the code in question:</p>\n\n<pre><code>$.ajax({\nurl: \"http://steamcommunity.com/id/emperor_jordan/?xml=1\",\ndatatype: \"xml\",\ncomplete: function()\n{\n    alert(this.url)\n},\nsuccess: parse\n});\n\nfunction parse(xml)\n{\n    alert(\"parsing\");\n    _steamID = $(xml).find(\"steamID64\").text();\n}\n</code></pre>\n\n<p>The problem here is while I do get the alert for the completion, I never see \"parsing\".  Ever.  It never gets that callback, which leads me to believe I am running into the SOP (same origin policy).</p>\n\n<p>Am I approaching this the wrong way, is there a workaround?</p>\n\n<p>Thanks!</p>\n"},{"tags":["javascript","jquery","ajax","http","google-chrome"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13142132,"title":"Access file from JS running localy","body":"<p>I need to load a simple .CSV file from JS (That's not the problem here), but the \"script\" need to be portable (i will use it as the screen on a competition), and score data will be inserted in the CSV, and JS will be updating it's data based on the CSV.</p>\n\n<p>But my problem here is: I need to run it without apache or a server, because i cant make shure the people who will use it, will have apache and also Internet... It need to be opened from a folder (Just a HTML with JS, and a file in the same folder with the .CSV)</p>\n\n<p>When i try to access files from jQuery (<code>$.get(..., ..., \"jsonp\")</code>, and <code>$.get()</code>), Chrome output this error:</p>\n\n<p><code>XMLHttpRequest cannot load file:PATHTOTHEFILE Origin null is not allowed by Access-Control-Allow-Origin.</code></p>\n\n<p>This happens because the browser blocks it's content (for security reasons).</p>\n\n<p>How can i \"deal\" with this problem, or do you know a better solution, to save some simple data and read it from JS without secury problems?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13150408,"title":"search is showing all result","body":"<p>im trying to make a query wich will be triggered by ajax that will show result depending on what loan type is in the dropdown menu</p>\n\n<pre><code>&lt;div id=\"search-header\"&gt;\n            &lt;ul id=\"filter-by-list\"&gt;\n                &lt;li&gt; &amp;nbsp;&lt;label&gt;Loan Type: &lt;/label&gt;\n                    &lt;select name=\"loan_type\" id=\"loan-type\" &gt;\n                            &lt;option value=\"1\"&gt;Tuition Fee&lt;/option&gt;\n                            &lt;option value=\"2\"&gt;Salary&lt;/option&gt;\n                            &lt;option value=\"3\"&gt;SSS&lt;/option&gt;\n                            &lt;option value=\"4\"&gt;OFW&lt;/option&gt;\n                            &lt;option value=\"5\"&gt;Business&lt;/option&gt;\n                    &lt;/select&gt;\n                &lt;/li&gt;\n                &lt;li&gt; &amp;nbsp;&lt;label&gt;From Date: &lt;/label&gt;&lt;input type=\"text\" id=\"search-from-date\"    class=\"input datepicker\"&gt;&lt;/li&gt;\n                &lt;li&gt; &amp;nbsp;&lt;label&gt;To Date: &lt;/label&gt;&lt;input type=\"text\" id=\"search-to-date\" class=\"input datepicker\"&gt;&lt;/li&gt;\n                &lt;li&gt; &amp;nbsp;&lt;label&gt;Search: &lt;/label&gt;&lt;input type=\"text\" id=\"search-applicant-name\" class=\"input\"&gt;&lt;/li&gt;\n                &lt;li&gt;&amp;nbsp; &lt;input type=\"button\" id=\"search-button-applicant\" value=\"Search\"&gt;&lt;/li&gt;\n\n            &lt;/ul&gt;\n\n\n\n        &lt;/div&gt;\n</code></pre>\n\n<p>with an ajax of </p>\n\n<pre><code>$('#search-button-applicant').click(function (){\n             date_to = Date.parse($('#search-to-date').val());\n            date_from = Date.parse($('#search-from-date').val());\n\n            applicant_name = $('#search-applicant-name').val();\n\n\n\n\n             if($('#search-to-date').val() == \"\" &amp;&amp; $('#search-from-date').val() == \"\" &amp;&amp; applicant_name == \"\"  )\n            {\n                 alert(\"you can not search\");\n\n            }\n\n            else if($('#search-to-date').val() != \"\" &amp;&amp; $('#search-from-date').val() == \"\" || $('#search-to-date').val() == \"\" &amp;&amp; $('#search-from-date').val() != \"\"){\n\n                 alert(\"you can not search\");\n            }\n\n            else{\n                   var date_to_val = $('#search-to-date').val();\n                   var date_from_val = $('#search-to-date').val();\n                   var loan_type_val = $('#loan-type').val();\n                   var search_word_val = $('#search-applicant-name').val();\n\n\n\n                 $.ajax({\n                     type: \"post\",\n                     url: \"filter_search_window_get.php\",\n                     dataType:'json',\n                     cache:true,\n                     data:{'func_num':loan_type_val,'Date_To':date_to_val,'Date_From':date_from_val,'search_word':search_word_val},\n\n                     beforeSend: function(data) \n                            {\n                                 $('#search-table-content-list').html('');\n                            },\n                     success: function(data){\n                                 $('#search-table-content-list').show();\n                            $.each(data, function(i, item) {\n                               $('#search-table-content-list').append(\"&lt;tr&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Date Filled&lt;/label&gt;&lt;/td&gt;&lt;td style='width:9.5%;'&gt;&lt;label&gt;Date Released&lt;/label&gt;&lt;/td&gt;&lt;td style='width:8%;'&gt;&lt;label&gt;\"+data[i].form_typ+\"&lt;/label&gt;&lt;/td&gt;&lt;td style='width:25%;'&gt;&lt;label&gt;\"+data[i].last_name+\"&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Term&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Rate&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Principal&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Interest&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Total&lt;/label&gt;&lt;/td&gt;&lt;/tr&gt;\");\n\n\n                              });   \n\n                            }\n                     });\n            }\n        });\n</code></pre>\n\n<p>PHP </p>\n\n<pre><code>&lt;?php\nrequire_once('DBconnect.php');\n\n\n\n\n$loan_type =$_POST['func_num'];\n\n\nswitch ($loan_type){\n\ncase '1':\n\n    tuition_get();\n\nbreak;\n\ncase '2':\n    salary_get();\n\nbreak;\n\ncase '3':\n    sss_get();\n\nbreak;\n\ncase '4':\n    ofw_get();\n\nbreak;\n\ncase '5':\n    business_get();\n\nbreak;\n}\n\nfunction tuition_get(){\n$date_from = $_POST['Date_From'];\n$date_to = $_POST['Date_To'];\n$search_word = $_POST['search_word'];\n\n$query = \"  SELECT \n                                    a.applicant_id,\n                                    a.last_name,\n                                    a.first_name,\n                                    a.created_date,\n                                    b.form_type,\n                                    b.form_id,\n                                    c.stat,\n                                    d.release_date,\n                                    f.payment_term,\n                                    j.form_rate,\n                                    k.loan_amt,\n                                    k.interest_amt,\n                                    k.total_amt\n                        FROM \n                                    applicant a\n                        LEFT JOIN form_type b ON (a.form_id = b.form_id)\n                        LEFT JOIN form_status c ON (c.status_id  = a.status_id)\n                        LEFT JOIN applicant_loan_repayment d ON (d.applicant_id  = a.applicant_id)\n                        LEFT JOIN applicant_tuition_loan_dtl f ON (f.applicant_id  = a.applicant_id)    \n                        LEFT JOIN form_term j ON (j.form_id  = a.form_id)\n                        LEFT JOIN applicant_loan_repayment k ON (k.applicant_id  = a.applicant_id)\n\n                        WHERE b.form_type = 'Tuition fee'  AND a.last_name LIKE '%$search_word%' OR a.first_name LIKE '%$search_word%'  \";\n\n\n             $result=mysql_query($query)or die(mysql_error());\n\n\n\n            $data=array();\n            while ($row = mysql_fetch_array($result))\n            {\n                $data[] = array(\n                    'last_name'=&gt;$row['last_name'],\n                   'first_name'=&gt;$row['first_name'],\n                   'form_typ'=&gt;$row['form_type']\n                );\n            }\n\n\n\n\n        echo json_encode($data);\n\n\n}\n\nfunction salary_get(){\n\n$date_from = $_POST['Date_From'];\n$date_to = $_POST['Date_To'];\n$search_word = $_POST['search_word'];\n\n$query = \"SELECT \n                                    a.applicant_id,\n                                    a.last_name,\n                                    a.first_name,\n                                    a.created_date,\n                                    b.form_type,\n                                    b.form_id,\n                                    c.stat,\n                                    d.release_date,\n                                    f.payment_term,\n                                    j.form_rate,\n                                    k.loan_amt,\n                                   k.interest_amt,\n                                    k.total_amt\n                        FROM \n                                    applicant a\n                        LEFT JOIN form_type b ON (a.form_id = b.form_id)\n                        LEFT JOIN form_status c ON (c.status_id  = a.status_id)\n                        LEFT JOIN applicant_loan_repayment d ON (d.applicant_id  = a.applicant_id)\n                        LEFT JOIN applicant_tuition_loan_dtl f ON (f.applicant_id  = a.applicant_id)    \n                        LEFT JOIN form_term j ON (j.form_id  = a.form_id)\n                        LEFT JOIN applicant_loan_repayment k ON (k.applicant_id  = a.applicant_id)\n\n                        WHERE a.last_name LIKE '%$search_word%' OR  a.first_name LIKE '%$search_word%' AND b.form_type = 'Tuition Fee' \";\n\n\n             $result=mysql_query($query)or die(mysql_error());\n\n\n\n            $data=array();\n            while ($row = mysql_fetch_array($result))\n            {\n                $data[] = array(\n                    'last_name'=&gt;$row['last_name'],\n                   'first_name'=&gt;$row['first_name'],\n                   'form_typ'=&gt;$row['form_type']\n                );\n            }\n\n\n\n\n        echo json_encode($data);\n\n\n}\n\n\nfunction sss_get(){\n    $date_from = $_POST['date_from_val'];\n    $date_to = $_POST['date_to_val'];\n    $search_word = $_POST['search_word_val'];\n\n\n}\n\n\nfunction ofw_get(){\n    $date_from = $_POST['date_from_val'];\n    $date_to = $_POST['date_to_val'];\n    $search_word = $_POST['search_word_val'];\n\n\n}\n\n\nfunction business_get(){\n    $date_from = $_POST['date_from_val'];\n    $date_to = $_POST['date_to_val'];\n    $search_word = $_POST['search_word_val'];\n\n\n}\n\n\n?&gt;\n</code></pre>\n\n<p>but unfortunately it shows all result though i made a dropdown choice of tuition fee. \nthe search supposedly showing those result with a tuition fee form_type only.. \nhope you can help me</p>\n"},{"tags":["javascript","jquery","ajax","asp.net-mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":13150096,"title":"Using Javascript Ajax call to call MVC action to download object","body":"<p>Ive created a simple MVC controller action that creates a simple ics (calendar) item and sends it back through the controller action. As follows:</p>\n\n<pre><code>    public object GenerateICS(int myID)\n    {\n        iCalendar iCal = new iCalendar();            \n         Event evt = iCal.Create&lt;Event&gt;();\n        Uri eventLink = new Uri(\"http://localhost:\");\n        evt.IsAllDay = false;\n\n       evt.Start = new iCalDateTime(DateTime.Now);\n       evt.End = new iCalDateTime(DateTime.Now.AddDays(3));\n\n       evt.Summary = \"MySummary\";\n       evt.Url = eventLink;\n       evt.Description = \"You know it\";         \n\n      Response.ContentType = \"text/v-calendar\";\n      Response.AddHeader(\"content-disposition\", \"attachment; filename=\" + \"Event\" + \".ics\");\n      iCalendarSerializer serializer = new iCalendarSerializer(iCal);\n      string result = serializer.SerializeToString(iCal);\n      Response.Write(result);          \n        return Response;\n    }\n</code></pre>\n\n<p>So with the website running, if I go to:</p>\n\n<pre><code>http://localhost:21312/GenerateICS?myID=1 \n</code></pre>\n\n<p>This will generate the ics file server side and pass it back to the client, so your receive a \"Do you want to open blah.ics from localhost?\". This is perfectly what I want.</p>\n\n<p>My issue is how do I achieve exactly the same by executing it from javascript. I have the following ajax call:</p>\n\n<pre><code> $.ajax({\n                url: \"app/GenerateICS\",\n                data: { myID: 1 },\n                success: function (data) {\n                    //call is successfully completed and we got result in data\n                    alert(data);\n                },\n                error: function (xhr, ajaxOptions, thrownError) {\n                    //some errror, some show err msg to user and log the error  \n                    alert(xhr.responseText);\n\n                }\n            });\n</code></pre>\n\n<p>This executes the mvc controller perfectly. But it returns the ics response to the success function. How do I call the controller with ajax but have it so the file is downloaded as I describe how it does when you manually do it?</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","firefox","ssl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13148561,"title":"can an invalid ssl certificate cause some posts to fail via ajax in firefox?","body":"<p>I'm wondering if an invalid or expired SSL certificate could cause some ajax posts via Firefox to fail (not all ajax posts, some are successful)?  I'm trying to determine the cause of my ajax request via firefox to be aborted (and is not seen in other browsers).  If I'm using Fiddler, the post does work too.  </p>\n"},{"tags":["javascript","ruby-on-rails","ajax","data-binding","ember.js"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":13137722,"title":"Rails: Not ember, not JS responses, but something in-between","body":"<p>I am developing a standard rails application, and so far I haven't used any AJAX, just good ol' HTML. My plan is to iteratively add \"remote\" links and all that kind of stuff and support for JS responses, because I know that generating JS server side is very very evil, but I find it to be very handy as well, easy, fast and it makes the application snappy enough and i18n comes out-of-the-box.</p>\n\n<p>Using a pure JSON approach would be lighter, but needs lots of client-side coding.</p>\n\n<p>Now imagine that in this application users have a mailbox, and since the idea is that they will be able to do most or even all of the actions without reloading the page, the mailbox counter will never change unless they refresh the page manually.</p>\n\n<p>So, here comes the question: Which is the best way to handle this?</p>\n\n<ol>\n<li><p>I thought about using Ember (for data binding), and sharing views with rails, via some sort of handlebars implementation for ruby. That would be quite awesome, but not very transparent for the developer (me). Although I guess that I only need to write handlebars views that will be used by ember, the rest can still be written in their original format, no?</p></li>\n<li><p>Another option might be to use some sort of event system (EventSource maybe?), and just go with handy the JS views approach, and listen to those events. I guess those should be JSON objects, and the client must be coded to be able to handle them. This seems a bit cumbersome, and I need a solution for heroku (faye?), which is where my app is hosted. Any hints?</p></li>\n</ol>\n\n<p>I think that the ember approach is the more robust one, but seems to be quite complex as well, and I don't want to repeat myself server and client side.</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Cheers.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I have seen this: <a href=\"http://layervault.tumblr.com/post/30932219739/rails-in-realtime\" rel=\"nofollow\">http://layervault.tumblr.com/post/30932219739/rails-in-realtime</a>, which is more or less the option #2.</p>\n"},{"tags":["ruby-on-rails","ajax","omniauth"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13149952,"title":"Omniauth authorization call with Ajax","body":"<p>I have omniauth working fine in my Rails 3 app when using it as a link:</p>\n\n<pre><code>link_to(\"Connect Twitter\", \"/auth/twitter\", :id =&gt; \"connect-to-twitter\")\n</code></pre>\n\n<p>Now I want to call '/auth/twitter' through ajax. However, nothing is returned after the request phase. Here is the last log entry:</p>\n\n<pre><code>Started GET \"/auth/twitter\" for 127.0.0.1 at 2012-10-30 17:53:02 -0700\n(twitter) Request phase initiated.\n</code></pre>\n\n<p>Here is my ajax code (in Coffeescript):</p>\n\n<pre><code>$(\"#connect-to-twitter\").live(\"click\", -&gt;\n  alert('get twitter')\n  $.get('/auth/twitter', (data) -&gt;\n    alert(data)\n  )\n  return false\n)\n</code></pre>\n\n<p>(I know this question has been asked before here, but I haven't seen any real answer to it.)</p>\n"},{"tags":["ajax","grails","cross-domain"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13143773,"title":"Use Grails Controller to proxy an AJAX request","body":"<p>I have a Javascript component that when the DOM is loaded it needs to send a request out to our CDN, which <em>may</em> be in a different domain, to see if there is content for this component. If there is, the component will self-instantiate (its a link to open an embedded video in a modal), if not it will self destruct. My question is mainly about the Grails controller I am using to proxy the AJAX request. </p>\n\n<p>Here is the JS in pseudocode:</p>\n\n<pre><code>checkForVideoAssets: function(videoDataUrl){\n    Ajax.get(videoDataUrl, function(data){\n    if(data.responseText==='error'){\n    //tear down the component\n    }\n    else{\n    //if there is data for the video instantiate the component\n    }\n</code></pre>\n\n<p>Here is the Grails controller:</p>\n\n<pre><code>def checkForModalVideoAsset = {\n    def req = new URL(\"http://\" + params.videoUrl + \"/expense/videos/\")\n    def connection = req.openConnection()\n\n    if(connection.responseCode != 200){\n        render 'error'\n    }\n\n    if(connection.responseCode == 200){\n        render req.getText()\n    }\n}\n</code></pre>\n\n<p>So, to sum up, the JS grabs an attribute from the DOM that has part of a URL (that we define by convention), sends that URL to the controller, the controller attempts to connect to that URL (at our CDN) and then passes that response back to the AJAX success callback inside the responseText part of the XHR object. This feels less than ideal to me, is it possible to pass the actual response back up to the JS function?</p>\n"},{"tags":["asp.net","ajax"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":6638,"score":0,"question_id":2690979,"title":"The message received from the server could not be parsed","body":"<p>I am getting following error in asp.net webpage</p>\n\n<blockquote>\n  <p>Sys.WebForms.PageRequestManagerParserErrorException:\n  The message received from the server\n  could not be parsed. Common causes for\n  this error are when the response is\n  modified by calls to Response.Write(),\n  response filters, HttpModules, or\n  server trace is enabled.</p>\n</blockquote>\n\n<p>The scenario of my page is as following</p>\n\n<ol>\n<li>I have asp.net page implement Ajax</li>\n<li>User Control all code is inside update panel</li>\n<li>Model popup extender at aspx page for User Control.</li>\n</ol>\n\n<p>When i click button at aspx page popup appears, but further when i click button at user control for population of grid / click on radio button to fill dropdown list in both case above error comes.</p>\n\n<p>Please help. I have seen many post but error still appears</p>\n"},{"tags":["javascript","html","ajax","forms","loops"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":13149228,"title":"Disable Drop Down Options Once Chosen In Other Dropdown","body":"<p>I have 12 drop downs input areas, 1 for each of the months of the year. Each drop down has the choice of the same 24 options. </p>\n\n<p>I need to make it so that, for example, if in the January drop down box you chose option #4, that option #4 cannot be selected in any of the other drop down menus. It would still be in the drop down, but would just be disabled. </p>\n\n<p>This would have an ajax trigger to check the value against the other drop downs and dynamically change the other drop down menus.</p>\n\n<p>Is there a loop I can do to check and disable these values dynamically without having to make a lot of if statements?</p>\n"},{"tags":["php","jquery","ajax","pagination","laravel"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13149124,"title":"Laravel get specific page programmatically","body":"<p>I am trying to implement pagination with Laravel and jQuery ajax. </p>\n\n<p>I need to send page number to a post controller and get the results for that specific page. </p>\n\n<p>So my question is. Is there a way to get a specific page from the Paginator in Laravel, something like <code>$model-&gt;page(3)</code> for getting the third page from the paginated data as an array, so i can serialize it as JSON and send back as a response?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Thanks to the good people on Laravel's irc channel I found the answer. So i will write here as help for others. The magic is this:</p>\n\n<p><code>Input::merge(array(\"page\" =&gt; $page_number))</code></p>\n\n<p>you actually make Laravel's Paginator thinks that a \"page\" parameter is passed in the action. Neat huh :)</p>\n"},{"tags":["c#","javascript","jquery","asp.net","ajax"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":13148940,"title":"How to detect if client can access website in an iFrame?","body":"<p>I currently have a website that in some places uses an iFrame to load pages from our intranet (this is unavoidable). What I want to do is be able to detect if the client is able to access the intranet page from their current location. I have the following code, but obviously it only checks if the server can contact the intranet (spoiler alert: it totally can).</p>\n\n<pre><code>public bool IsAvailable()\n    {\n        HttpWebRequest httpReq = (HttpWebRequest)WebRequest.Create(\"http://localintranetsite/\");\n        httpReq.AllowAutoRedirect = false;\n\n        try\n        {\n            HttpWebResponse httpRes = (HttpWebResponse)httpReq.GetResponse();\n            if (httpRes.StatusCode == HttpStatusCode.NotFound)\n                return false;\n            else\n                return true;\n        }\n        catch\n        {\n            return false;\n        }\n    }\n</code></pre>\n\n<p>I would like to be able to do this without having to rely on detecting the ip Address of website users, if possible of course.</p>\n\n<p>My other option would be to do a custom 404 page when the intranet site cannot be contacted, but I'm not sure that I can do this (or if I can how I would).</p>\n\n<p>If it makes any difference the code that loads up the iFrame is in a web service that is called from javascript, so whilst an asp.net solution that goes in my web service is ideal, a javascript function would also work.</p>\n\n<p>My (not helpful) current solution tries to check if the intranet site can be accessed, but it can only check if the web server can access it, not the client.</p>\n\n<p>For those curious, this is the javascript (via jQuery) way (it doesn't work because it's cross-domain):</p>\n\n<pre><code>    $.ajax({\n        type: 'HEAD',\n        url: 'http://intranetsite/',\n        success: function () {\n            local = true;\n        },\n        error: function () {\n            local = false;\n        }\n    })\n</code></pre>\n"},{"tags":["php","javascript","mysql","ajax","video"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":6,"view_count":46,"score":-6,"question_id":13149469,"title":"I want to know How to make a website that allows users to create accounts and uploads videos","body":"<p>I don't have a programming question exactly. Rather I was hoping that someone would tell me how to approach this and maybe tell me a few websites were I can see some example.\nI want to create a website similar to Khan academy. I want to allow users to create an account as well as a profile. Then I want the user to be able to create topics and upload videos into them. for example if there is a calculus topic the user could then upload something on derivatives. And if there is no topic on the subject matter they want to post they can create it. Obviously I want users to be able to view the videos.</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13149396,"title":"Using jQuery to get several responses from PHP","body":"<p>I am looking to show on screen a text-based description of what a PHP script is doing. e.g. trigger the function and then the PHP script starts. The user then sees \"Step 1 started\" ... and then after a few seconds \"Step 2 started\" .. and so on. There could be hundreds of steps and I would like the user to see what is happening.</p>\n\n<p>My jQuery:</p>\n\n<pre><code>$(document).ready(function() {\n    $('#start').click(function() {\n        $.ajax({\n          url: \"do.php\",\n          success: function( html ) {\n              $(\"#results\").append(html);\n              return false;\n          }\n        });\n    });\n}); \n</code></pre>\n\n<p>And then my PHP (illustrating the problem, my actual code does a lot of work):</p>\n\n<pre><code>echo \"step 1 done\";\nsleep(2);\necho \"step 2 done\";\nsleep(2);\necho \"step 3 done\";\n</code></pre>\n\n<p>At the moment the \"result\" div just shows \"step 1 donestep 2 donestep 3 done\" all in one go after 4 seconds. I would like it to show \"step 1 done\" and then after 2 seconds \"step 2 done\" and then after another 2 seconds \"step 3 done\"</p>\n"},{"tags":["ajax","mootools","youtube-api"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13146803,"title":"YouTube API Browser-Based Upload with Ajax for Progress Bar","body":"<p>I am trying to use the YouTube API to perform a browser-based upload, but also use Ajax for the purpose of showing a progress bar.</p>\n\n<p>I started off here:\n<a href=\"https://developers.google.com/youtube/2.0/developers_guide_protocol_browser_based_uploading\" rel=\"nofollow\">https://developers.google.com/youtube/2.0/developers_guide_protocol_browser_based_uploading</a></p>\n\n<p>It works 100% if I just use the basic HTML form post.</p>\n\n<pre><code>    &lt;form id=\"frmYouTube\" enctype=\"multipart/form-data\" method=\"post\" action=\"https://uploads.gdata.youtube.com/action/FormDataUpload/YOUTUBE_URL_HERE?nexturl=https%3a%2f%2fdomain%2fpageafter%2fVideoUploadDone%3fid2%3dLOCAL_ID\"&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;input type=\"file\" name=\"file\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;input type=\"hidden\" name=\"token\" value=\"YOUTUBE_TOKEN_HERE\" /&gt;\n                &lt;input type=\"submit\" value=\"Upload\" /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>However if I try to add some Javascript I run into a problem. I'm also including MooTools and the Request.File class from <a href=\"http://mootools.net/forge/p/form_upload\" rel=\"nofollow\">http://mootools.net/forge/p/form_upload</a>.</p>\n\n<p>Here is a simplified version of the code:\n    </p>\n\n<pre><code>var yt = $('frmYouTube');\n\nvar ytDone = function () {\n\n     // Code to display: 'Video upload complete. Return to &lt;a href=\"/Acount\"&gt;your account&lt;/a&gt;.';\n};\n\nvar ytProgress = function (event, xhr) {\n\n    var loaded = event.loaded, total = event.total;\n\n    // Code to display: 'Uploading... ' + (parseInt(loaded / total * 100, 10)) + '%';\n};\n\nyt.addEvents({ 'submit': function (ev) {\n\n    ev.stop();\n\n    var rf = new Request.File({\n        url: yt.get('action'),\n        onProgress: ytProgress,\n        onFailure: function (xhr) {\n\n            ytError('Upload Failed (1).');\n        },\n        onCancel: function () {\n            ytError('Upload Canceled.');\n        },\n        onException: function () {\n            ytError('Upload Failed (2).');\n        },\n        onSuccess: ytDone\n    });\n\n    yt.getElements('input').each(function (field) {\n\n        if (field.files) {\n\n            rf.append(field.get('name'), field.files[0]);\n        } else {\n\n            rf.append(field.get('name'), field.get('value'));\n        }\n    });\n\n    rf.send();\n}\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>At this point the file gets uploaded successfully, and YouTube returns a 302 redirect to my \"nexturl,\" but because of cross-origin rules the redirect is not followed and I can not access the location header using Javascript.</p>\n\n<p>I've seen a few solutions that involved iframes, but that won't work if you want a progress bar. Has anyone come up with a work-around to do browser based uploads to YouTube and show a progress bar.</p>\n"},{"tags":["javascript","ajax","mule","cometd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13145235,"title":"Embedding a Mule Ajax endpoint in a remote server","body":"<p>Is it possible to embed the Mule Ajax stuff in a seperate webserver.</p>\n\n<p>I want mule to serve up live data to a dashboard running on a different tomcat.</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\" src=\"http://localhost:8081/services/gps/mule-resource/js/mule.js\" &gt;&lt;/script&gt;\n\n\n&lt;script language=\"javascript\" type=\"text/javascript\" &gt;\nfunction init()\n{\n    mule.subscribe(\"http://localhost:8081/services/gps/gpswalker\", callback);\n}\n\nfunction dispose()\n{\n    mule.unsubscribe(\"http://localhost:8081/services/gps/gpswalker\", callback);\n} \n\nfunction callback(coord)\n{\n    if (coord)\n    {\n        console.log(\"hello world\")\n    }\n} \n&lt;/script&gt;\n</code></pre>\n\n<p>As you can see I've had a go at porting the GPS walker stuff to get the framework in place.</p>\n\n<p>The mule.js script is called but then fails with:</p>\n\n<pre><code>Error: Could not load 'dojox.cometd'; last tried '../dojox/cometd.js'\n\n...pn=ref.parentNode;if(ref==pn.lastChild){pn.appendChild(node);}else{return _223(n...\n\ndojo.js Line 21\n</code></pre>\n\n<p>The mule ajax support page says that I need to set the serverUrl which is set.</p>\n\n<pre><code> &lt;ajax:connector name=\"ajaxServer\" serverUrl=\"http://localhost:8081/services/gps\" \n          resourceBase=\"${app.home}/docroot\" doc:name=\"Ajax\"/&gt;\n</code></pre>\n\n<p>Surely this should be possible? :)</p>\n\n<p>Thanks</p>\n\n<p>Tom</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13148813,"title":"One Javascript not able to read data generated by ajax script","body":"<p>I have a situation in which my Jquery Ajax script generates HTML table. And another script is meant to filter the table column by providing a dropdown comprising of unique values in that particular column. </p>\n\n<p>If i have static content in html page the filter script works fine. But is not able to read table content when it is generated via Ajax that is during runtime. </p>\n\n<p>Any idea what could be the reason. I also tried to align script in order. </p>\n\n<p>My Ajax script is here:-</p>\n\n<pre><code>$(document).ready(function() {\n\n\n    $(\"#getResults\").click(function(){ \n\n\n             bug = $(\"#bug\").val();\n             priority = $(\"#priority\").val();\n             component = $(\"#component\").val();\n             fixVersion = $(\"#fixVersion\").val();\n             dateType = $(\"#dateType\").val();\n             fromDate = $(\"#dp2\").val();\n             toDate = $(\"#dp3\").val();\n\n\n            $(\"#query\").empty();\n\n            $(\"tbody\").empty();\n\n\n            $.post(\"getRefineSearchResultsPath\", {bug:bug,priority:priority,component:component,\n                    fixVersion:fixVersion,dateType:dateType,fromDate:fromDate,toDate:toDate },\n                    function(data) {\n\n                // setting value for csv report button\n                //clear the value attribute for button first\n                $(\"#query_csv\").removeAttr(\"value\");\n\n                //setting new value to \"value\" attribute of the csv button\n                $(\"#query_csv\").attr(\"value\", function(){\n                    return $(data).find(\"query\").text();\n                });\n\n                $(\"#query\").append(\"&lt;p class='text-success'&gt;Query&lt;legend&gt;&lt;/legend&gt;&lt;small&gt;\" +$(data).find(\"query\").text() +\"&lt;/small&gt;&lt;/p&gt;\");\n\n                var count = 1;\n\n                $(data).find(\"issue\").each(function(){\n\n                    var $issue = $(this);\n\n                    var value = \"&lt;tr&gt;\";\n\n                    value += \"&lt;td&gt;\" +count +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('issueKey').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('type').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;&lt;div id='list' class='summary'&gt;\" +$issue.find('summary').text() +\"&lt;/div&gt;&lt;/td&gt;\";\n                    value += \"&lt;td&gt;&lt;div id='list' class='mousescroll'&gt;\" +$issue.find('description').text() +\"&lt;/div&gt;&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('priority').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('component').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('status').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('fixVersion').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('resolution').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('created').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('updated').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('os').text() +\"&lt;/td&gt;\";\n                    value += \"&lt;td&gt;\" +$issue.find('frequency').text() +\"&lt;/td&gt;\";\n\n                    value += \"&lt;td&gt;\";\n\n                    var number_of_attachement = $issue.find('attachment').size();\n\n                    if(number_of_attachement &gt; 0){\n\n                        value += \"&lt;div id='list' class='attachment'&gt;\";\n                        value += \"&lt;ul class='unstyled'&gt;\";\n\n                        $issue.find('attachment').each(function(){\n\n                            var $attachment = $(this);\n\n                            value += \"&lt;li&gt;\";\n                            value += \"&lt;a href='#' onclick='document.f1.attachmentName.value='\" +$attachment.find('attachmentName').text(); \n                            value += \"';document.f1.issueKey.value='\"+$attachment.find('attachmentissueKey').text();\n                            value += \"';document.f1.digest.value='\"+$attachment.find('attachmentdigest').text();\n                            value += \"';document.f1.submit();'&gt;\"+$attachment.find('attachmentName').text();\n                            value += \"&lt;/a&gt;\";\n                            value += \"&lt;/li&gt;\";\n                            value += \"&lt;br&gt;\";\n                        });\n\n                        value +=\"&lt;/ul&gt;\";\n                        value +=\"&lt;/div&gt;\";\n                    }\n\n                    value += \"&lt;/td&gt;\";\n                    value += \"&lt;/tr&gt;\";\n\n                    $(\"tbody\").append(value);\n\n                    count++;\n\n\n                }); \n\n            });\n\n\n        });\n\n});\n</code></pre>\n\n<p>And my script to filter table is here, I got this script from this link <a href=\"http://www.javascripttoolbox.com/lib/table/\" rel=\"nofollow\">http://www.javascripttoolbox.com/lib/table/</a></p>\n\n<p>My JSP page is here:-</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;table class=\"table table-bordered table-condensed table-hover example sort01 table-autosort:0 table-autofilter table-autopage:10 table-page-number:t1page table-page-count:t1pages table-filtered-rowcount:t1filtercount table-rowcount:t1allcount\"&gt;\n\n                    &lt;thead &gt;\n                    &lt;tr&gt;\n                        &lt;th class=\"table-sortable:numeric\" Style=\"width:3%;\"&gt;No.&lt;/th&gt;  \n                            &lt;th class=\"table-sortable:default\" Style=\"width:5.5%;\"&gt;Issue Key &lt;br&gt; \n                            &lt;/th&gt;\n\n                            &lt;th&gt;Type&lt;/th&gt;\n                            &lt;th Style=\"text-align: center;\"&gt;Summary&lt;/th&gt;\n                            &lt;th Style=\"text-align: center;\"&gt;Description&lt;/th&gt;\n\n                            &lt;th class=\"table-filterable table-sortable:default\" id =\"priorityColumn\" Style=\"width:5%\"&gt;Priority&lt;/th&gt;\n\n                            &lt;th class=\"table-filterable table-sortable:default\" &gt;Component&lt;/th&gt;\n                            &lt;th class=\"table-filterable table-sortable:default\" Style=\"width:5%\"&gt;Status&lt;/th&gt;\n                            &lt;th class=\"table-filterable table-sortable:default\"&gt;Fix Version&lt;/th&gt;\n                            &lt;th class=\"table-filterable table-sortable:default\" Style=\"width:6%\"&gt;Resolution&lt;/th&gt;\n                            &lt;th&gt;Created&lt;/th&gt;\n                            &lt;th&gt;Updated&lt;/th&gt;\n                            &lt;th&gt;OS&lt;/th&gt;\n                            &lt;th&gt;Frequency&lt;/th&gt;\n                            &lt;th&gt;Attachments&lt;/th&gt;\n                        &lt;/tr&gt;\n                    &lt;/thead&gt;\n\n                    &lt;tbody&gt;\n\n\n\n                    &lt;/tbody&gt;\n\n                    &lt;tfoot&gt;\n                        &lt;tr&gt;\n                            &lt;td class=\"table-page:previous\" style=\"cursor:pointer;\"&gt;&lt;img src=\"table/icons/previous.gif\" alt=\"Previous\"&gt;&lt;small&gt;Prev&lt;/small&gt;&lt;/td&gt;\n                            &lt;td colspan=\"13\" style=\"text-align:center;\"&gt;Page &lt;span id=\"t1page\"&gt;&lt;/span&gt;&amp;nbsp;of &lt;span id=\"t1pages\"&gt;&lt;/span&gt;&lt;/td&gt;\n                            &lt;td class=\"table-page:next\" style=\"cursor:pointer;\"&gt;Next &lt;img src=\"table/icons/next.gif\" alt=\"Previous\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr Style=\"background-color: #dddddd\"&gt;\n                            &lt;td colspan=\"15\"&gt;&lt;span id=\"t1filtercount\"&gt;&lt;/span&gt;&amp;nbsp;of &lt;span id=\"t1allcount\"&gt;&lt;/span&gt;&amp;nbsp;rows match filter(s)&lt;/td&gt;\n                        &lt;/tr&gt;   \n                        &lt;tr class=\"text-success\"&gt;\n                            &lt;td colspan=\"15\"&gt;Total Results : ${count}&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/tfoot&gt;\n            &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","google-chrome-extension","user-agent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13127522,"title":"How to Add a value to User-Agent header in a .ajax request?","body":"<p>I'm trying to do a Plugin for Chrome where I retrieve info from several pages, some of them they have a loadbalancer and need a specific user agent code to route me to the correct place.</p>\n\n<p>Now, I'm doing an .ajax() call, and I've tried a couple of things such as:</p>\n\n<pre><code>$.ajaxSetup({\n            beforeSend: function(request) {\n            request.setRequestHeader(\"User-Agent\",\"MyAgentCode\");\n            }\n    });\n</code></pre>\n\n<p>But <strong>it doesn't work</strong>.</p>\n\n<p>I also tried: </p>\n\n<pre><code>        $.ajax({ \n                url: \"http://blablabla.com/\",\n                dataType:'html', \n                beforeSend: function (req) {\n                    req.setRequestHeader('User-Agent', 'Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.83 Safari/537.1 MyAgentCode);\n                },\n                error: function() { alert(\"No data found\");},\n                success: parseResult\n    });\n</code></pre>\n\n<p>Not working either</p>\n\n<p>I only want to add a value to the UserAgent (keeping the rest as it is). This will allow me to get the correct information from the correct server.</p>\n\n<p>Thanks in advanced!! </p>\n"},{"tags":["javascript","ajax","streaming"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":13148262,"title":"Multiple AJAX Requests - Troublesome?","body":"<p>Right now I'm using AJAX to pull in a list of active streams (TwitchTV) and it's viewers and I'm requesting this every second. At time the list of streams to check can get quite lengthy so I plan on splitting the ajax requests into 2 or 3 parts:</p>\n\n<p>1) Get Number of Viewers for Current Stream (Check every 1 Second)</p>\n\n<p>2) Split Stream in Half and Check 1st Half of List for Active Streamers (Check every 5 Seconds)</p>\n\n<p>3) Check 2nd Half of List for Active Streamers (Check every 5 Seconds)</p>\n\n<p>so I would have 3 requests running simultaneously but I'm worried about what the load time will come down to. Since it is constantly pulling in data would it make the page slower? Would the user likely notice? Is it better to keep 1 ajax request for big amounts of data or is it better to use multiple ajax requests for smaller pieces of data? Is ajax really the best thing to pull in constantly changing live data?</p>\n"},{"tags":["javascript","jquery","ajax","asynchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13148431,"title":"Will an asynchronus-Ajax request be completed if I instantly reload or close my page after it's being sent to the server?","body":"<p>For example if I do this request with jQuery's Ajax:</p>\n\n<pre><code>$(document).ready(function() {\n    $('#some_button').click(function() {\n        $.ajax({\n            url: '/some/request',\n            type: 'POST',\n            data: [{my: 'dummy', data: 'lata'}],\n            dataType: 'json',\n            async: true,\n        });\n\n        window.location.href = '/my/parent/location';\n    });\n});\n</code></pre>\n\n<p>So I'm interested:</p>\n\n<blockquote>\n  <p><strong>Will my action be completed on the server nevermind if I'm refreshing the page just right after the initial request is sent?</strong></p>\n</blockquote>\n"},{"tags":["iphone","ajax","safari","apple"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13148240,"title":"What version of safari in iOS 6 breaks Web apps with aggressive caching","body":"<p>Referring to the problems experienced by the guys <a href=\"http://stackoverflow.com/questions/12506897/is-safari-on-ios-6-caching-ajax-results\">here</a>, and <a href=\"http://www.devthought.com/2012/09/22/understanding-the-ios6-ajax-bugs/\" rel=\"nofollow\">here</a> </p>\n\n<p>What version of safari does this affect? I am using JSONP and GET's with jQuery cache buster (?_=3242343242 etc). In IOS6 on my iPhone 4S the query is not cached. I can add stuff to my cart, which is what the JSONP request does. I'm getting reports on an iPhone 5 in IOS6 that safari is caching the request, and hence nothing is added to my cart. </p>\n\n<p>Does anyone know the specific safari version that started this bug, and if said version would be automatically updated onto all iphone's that get IOS6? (including 4S)</p>\n\n<p>Thank you</p>\n"},{"tags":["java","ajax","jsf","jsf-2","primefaces"],"answer_count":4,"favorite_count":6,"up_vote_count":5,"down_vote_count":0,"view_count":6107,"score":5,"question_id":8634156,"title":"How to reference components in JSF ajax? Cannot find component with identifier \"foo\" in view","body":"<p>The following code is inspired from Primefaces' DataGrid + DataTable Tutorials and put into a <code>p:tab</code> of a <code>p:tabView</code> residing in a <code>p:layoutUnit</code> of a <code>p:layout</code>.\nThe code stops working and gives the message: <code>Cannot find component with identifier \"insTable:display\" in view</code>. Here is the inner part of the code (starting from <code>p:tab</code> component); the outer part is trivial.</p>\n\n<pre><code>&lt;p:tab title=\"Search\"&gt;                        \n    &lt;h:form id=\"insTable\"&gt;\n\n        &lt;p:dataTable var=\"lndInstrument\" value=\"#{instrumentBean.instruments}\"&gt;\n            &lt;p:column&gt;\n                &lt;f:facet name=\"header\"&gt;\n                    &lt;h:outputText value=\"Name\" /&gt;\n                &lt;/f:facet&gt;\n                &lt;p:commandLink update=\"insTable:display\" oncomplete=\"dlg.show()\"&gt;\n                    &lt;f:setPropertyActionListener value=\"#{lndInstrument}\" \n                                    target=\"#{instrumentBean.selectedInstrument}\" /&gt;\n                    &lt;h:outputText value=\"#{lndInstrument.name}\" /&gt;\n                &lt;/p:commandLink&gt;                                    \n            &lt;/p:column&gt;\n        &lt;/p:dataTable&gt;\n\n        &lt;p:dialog modal=\"true\" widgetVar=\"dlg\"&gt;\n            &lt;h:panelGrid id=\"display\"&gt;\n                &lt;h:outputText value=\"Name:\" /&gt;\n                &lt;h:outputText value=\"#{instrumentBean.selectedInstrument.name}\" /&gt;\n            &lt;/h:panelGrid&gt;\n        &lt;/p:dialog&gt;                            \n    &lt;/h:form&gt;\n&lt;/p:tab&gt;\n</code></pre>\n\n<p>The error is quite understandable, because the id <code>insTable:display</code> was supposed to work out of the various components embedding my form.</p>\n\n<p>In order to grasp some concepts around the subject, I read some posts but all of them seemed to describe really complicated recepis. I would expect something simpler... \nHere what I have read up to now: <a href=\"http://stackoverflow.com/q/8168302/870122\">JSF component binding without bean property</a> ;</p>\n\n<p><a href=\"http://illegalargumentexception.blogspot.com/2009/10/jsf-working-with-component-identifiers.html\" rel=\"nofollow\">http://illegalargumentexception.blogspot.com/2009/10/jsf-working-with-component-identifiers.html</a> ;</p>\n\n<p><a href=\"http://stackoverflow.com/q/2580837/870122\">JSF don&#39;t find component in view root with the form id</a></p>\n\n<hr>\n\n<p>UPDATE:\nThanks to Daniel, I have moved the dialog out of the tabView, and also out of p:layout, and renamed the <code>update</code> attribute of the commandLink tag to \"display\". It works, but the message is still thrown: <code>INFO: Cannot find component with identifier \"display\" in view.</code>. The application server is GlassFish 3.1, and PrimeFaces version is 3.0RC2. Unfortunately I was not able to make the second solution working, yet. Am I missing something?</p>\n"},{"tags":["jquery","ajax","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13148020,"title":"Enable Enter Button OR Click Event on form using jQuery","body":"<p>Having trouble trying to get this simplified. Still somewhat new to jQuery so please forgive me if this is something simple I am missing.</p>\n\n<p>I have set up an AJAX request on the send of a form through a click event. However, I need the  'enter' key to work as well instead of just reloading the page when sending.</p>\n\n<p>This is what I am working with:</p>\n\n<pre><code>$('#submit').click(function() {\n     //Do AJAX Stuff\n});\n\n$('#submit').keydown(function (e){\nif(e.keyCode == 13){\n     //Do AJAX Stuff\n}\n})\n</code></pre>\n\n<p>So what I'm trying to say is can I combine these two functions for the same AJAX request?</p>\n"},{"tags":["php","mysql","ajax","rating"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13147776,"title":"Improving a star rating system","body":"<p>I made a star rating system for a school project and need some help improving it a bit. It's a fairly simple setup: index.php contains list-items (content is fetched from a DB) with an image and a div holding the stars for rating. Each star is a link that triggers a function which saves the rating in a database.</p>\n\n<p>Here's <a href=\"http://kristianmaar.dk/projekter/s3p2/v3/\" rel=\"nofollow\">the link</a>! for starters.</p>\n\n<p>If you click on any star, the first click will result in a green check mark on the first list-item. The idea is that this check mark will appear on each list-item when rated. That's where I need you guys to point me in the right direction. First of all I know I can't echo out multiple divs with the same id, but I had to in order for the ajax function to work (document.getElementById(\"rated\")). Any ideas on how to solve this?</p>\n\n<p><strong>CODE</strong></p>\n\n<p>insert_receive.php:</p>\n\n<pre><code>&lt;?php\n  session_start();\n  $sess = session_id();\n\n  $mysqli = new mysqli(\"\", \"\", \"\", \"\");\n  if (mysqli_connect_errno()) {\n  printf(\"Connect failed: %s\\n\", mysqli_connect_error());\n   exit();\n }\n\n$stmt = $mysqli-&gt;prepare(\"REPLACE INTO Ratings (projId_fkey, sessionId, rvalue) VALUES ('\".$_GET['projId'].\"','\".$sess.\"','\".$_GET['rating'].\"')\");\n$stmt-&gt;execute();\n\nprintf(\"✔\");\n?&gt;\n</code></pre>\n\n<p>ajax_framework.js:</p>\n\n<pre><code>function saveClick(rating,projId)\n{\n\nvar xmlhttp;\n\nif (window.XMLHttpRequest)\n{// code for IE7+, Firefox, Chrome, Opera, Safari\nxmlhttp=new XMLHttpRequest();\n}\nelse\n{// code for IE6, IE5\nxmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\nxmlhttp.onreadystatechange=function()\n{\nif (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n{\ndocument.getElementById(\"rated\").innerHTML=xmlhttp.responseText;\n}\n}\nxmlhttp.open(\"GET\",\"insert_receive.php?rating=\" + rating + \"&amp;projId=\" + projId,true);\nxmlhttp.send(\"\");\n}\n</code></pre>\n\n<p>index.php: (the part that matters)</p>\n\n<pre><code>&lt;?php\n\n$select = \"SELECT id, projName, location FROM Projects\";\n\nif($result = $mysqli-&gt;query($select))\n{\n    while($row = $result-&gt;fetch_assoc())\n    {\n        echo '&lt;li id=\"'.$row['id'].'\"&gt;';\n        echo '&lt;h1 class=\"header\"&gt;'.$row['projName'].\"&lt;/h1&gt;\";\n        echo '&lt;img src=\"'.$row['location'].'\" alt=\"\"/&gt;';\n        echo '&lt;div class=\"rating\"&gt;';\n        echo '&lt;a href=\"#\" onclick=\"saveClick(5, '.$row['id'].')\"&gt;'.★★★★★.\"&lt;/a&gt;\";\n        echo '&lt;a href=\"#\" onclick=\"saveClick(4, '.$row['id'].')\"&gt;'.★★★★.\"&lt;/a&gt;\";\n        echo '&lt;a href=\"#\" onclick=\"saveClick(3, '.$row['id'].')\"&gt;'.★★★.\"&lt;/a&gt;\";\n        echo '&lt;a href=\"#\" onclick=\"saveClick(2, '.$row['id'].')\"&gt;'.★★.\"&lt;/a&gt;\";\n        echo '&lt;a href=\"#\" onclick=\"saveClick(1, '.$row['id'].')\"&gt;'.★.\"&lt;/a&gt;\";\n        echo '&lt;div id=\"rated\"&gt;'.\"\".\"&lt;/div&gt;\";\n        echo \"&lt;/div&gt;\";\n        echo \"&lt;/li&gt;\";\n    }\n}\n?&gt;\n</code></pre>\n"}]}
{"total":48691,"page":10,"pagesize":100,"questions":[{"tags":["javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13147887,"title":"Better way of mimicking a real post from ajax?","body":"<p>When a post occurs from <code>$.ajax</code> the page remains the same. I am using this workaround:</p>\n\n<pre><code>var manyStrings = [];//could even be a large object graph\n$.ajax({\n url: \"url\",\n type: 'POST',\n traditional: true,\n data: { data: 1, strings: manyStrings},\n success: function (result) {\n   window.location = window.location;\n }\n});\n</code></pre>\n\n<p>Upon completion of the post, <code>window.location = window.location</code> has the same affect of reloading the page.</p>\n\n<p>Is there a different approach I could use here?</p>\n"},{"tags":["javascript","ajax","spring","jquery-ajax","spring-mvc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13146052,"title":"spring mvc 3 + jquery + AJAX + $.get - value not returned from controller to callback method","body":"<p>I am new to AJAX and currently learning to use it with Spring MVC. I am facing issues on the same. </p>\n\n<p>Before proceeding to the actual real time requirement that I am working on, I am testing out the whole AJAX+Spring MVC+jquery combination with something really basic to get my understanding right.</p>\n\n<p>I am having a search box+'submit' button on a page. I am sending a hard coded text to the Spring controller on submit using $.get. Then I am sending another text from that controller back to the callback function and trying to display the returned text in the callback function using an 'alert' box. This doesn't seem to work.</p>\n\n<p>I see that the call back function is being called(since the 'alert' inside the callback function is being fired) so I am kind of assuming that control is being transferred to the controller and back to the callback method but I am not able to figure out why the text that is returned from the controller is not showing up on the alert box in the call back method. Not sure what I am missing here to capture the return value in the call back method.</p>\n\n<p>Your response and help on this is really appreciated.</p>\n\n<p>Thanks.</p>\n\n<p>HTML for text box and submit button:</p>\n\n<pre><code>    &lt;div class = \"searchcontactform\"&gt;\n      &lt;form id = \"searchcontactform\" name=\"searchcontactform\" method=\"GET\"&gt;\n        &lt;input type = 'text' size='25' name = \"searchlastname\" id = \"searchlastname\" value='Enter Last Name to Search'/&gt;\n        &lt;input type = \"submit\" value=\"Find\"&gt;\n      &lt;/form&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p>JavaScript that triggers on submit of the above form:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\" src=\"${pageContext.request.contextPath}/resources/scripts/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n    $(document).ready(function( ) {\n    $('#searchcontactform').submit(function(){\n\n         $.get(\"ContactList-JPA/search\", {textsent : 'Hello Controller'},callback);\n\n         function callback(textreceived){\n               alert('In Callback. Text Received is: '+textreceived);\n         };\n    });\n    });\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>        @RequestMapping(value = \"/search\", method = RequestMethod.GET)\n        public @ResponseBody String searchcontact(@RequestParam(value=\"textsent\") String textsent){\n        return textsent;\n        }\n</code></pre>\n\n<p>Jackson Dependency in POM.xml:</p>\n\n<pre><code>           &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Annotation driven in servlet-context.xml and root-context.xml:</p>\n\n<pre><code>    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;annotation-driven /&gt;\n</code></pre>\n"},{"tags":["jquery","asp.net","ajax","json","checkboxlist"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13147506,"title":"Ajax json Selector for CheckBoxList get values","body":"<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n$(document).ready(function() {\n    $(\"#progressbar\").progressbar({\n        value: 0\n    });\n    $(\"#btnGetData\").click(function() {\n        updateProgress();\n        var intervalID = setInterval(updateProgress, 5000);\n        $(\"#progressbar\").progressbar({\n            value: 0\n        });\n        $(\"#result\").text(' ');\n        $.ajax({\n            type: \"POST\",\n            url: \"ListaInformes.aspx/GetText\",\n            data: \"{fechain: '\" + $('#txtFechaInicio').val() + \"', fechafin: '\" + $('#txtFechaFin').val() + \"', tiporeporte: '\" + $('#DDLTipoInforme').val() + \"', segmento:'\" + $('#DDLSegmento').val() + \"', categoria:'\" + $(\"#&lt;%=ddlCategorias.ClientID%&gt;\").val() + \"', area:'\" + $(\"#&lt;%=ddlarea.ClientID %&gt;\").val() + \"', idusuario:'&lt;%=Session(\"\n            IdUsuario \") %&gt;', tipofecha: '\" + $('#RBL_TipoFecha input:checked').val() + \"',regional:'\" + $(\"#&lt;% = CheckBoxRegional.ClientID %&gt; input:checkbox[checked=true]\").serializeArray() + \"'}\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            async: true,\n            success: function(msg) {\n                $(\"#progressbar\").progressbar(\"value\", 100);\n                $(\"#result\").html(msg.d);\n                clearInterval(intervalID);\n            }\n        });\n        return false;\n    });\n});\n\nfunction updateProgress() {\n    var value = $(\"#progressbar\").progressbar(\"option\", \"value\");\n    if (value &lt; 100) {\n        $(\"#progressbar\").progressbar(\"value\", value + 1);\n    }\n}​\n&lt;/script&gt;\n</code></pre>\n\n<p>I'm using JSON, jQuery and ASP.net to create a checkboxlist type control, which is filled by a database. The problem is that I create a selector to know if they are selected or not and also know that value.</p>\n\n<p>I need you in the region are stored variable check that assets and their values??  Are, so far only tells me which ones are active, but not its value.</p>\n\n<p>The application is as follows:</p>\n\n<p>Selector jquery para checkboxlist</p>\n\n<pre><code>&lt;div id=\"main\"&gt;\n  &lt;table width=\"100%\"&gt;\n    &lt;tr id=\"tr_fechausuario\" runat=\"server\" align=\"left\"&gt;\n      &lt;td colspan=\"2\"&gt;\n        &lt;table width=\"100%\"&gt;\n          &lt;tr&gt;\n            &lt;td width=\"50%\"&gt;Fecha de Inicio&amp;nbsp;&amp;nbsp;&amp;nbsp;\n              &lt;asp:TextBox ID=\"txtFechaInicio\" runat=\"server\"\n              CssClass=\"textbox\"&gt;&lt;/asp:TextBox&gt;\n            &lt;/td&gt;\n            &lt;td width=\"50%\"&gt;Fecha de Fin&amp;nbsp;&amp;nbsp;&amp;nbsp;\n              &lt;asp:TextBox ID=\"txtFechaFin\" runat=\"server\"\n              CssClass=\"textbox\"&gt;&lt;/asp:TextBox&gt;\n            &lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/table&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"tr2\" runat=\"server\" align=\"left\"&gt;\n      &lt;td colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"tr1\" runat=\"server\" align=\"left\"&gt;\n      &lt;td class=\"style3\"&gt;Seleccione el tipo de consulta&lt;/td&gt;\n      &lt;td class=\"style1\"&gt;\n        &lt;asp:RadioButtonList ID=\"RBL_TipoInforme\" runat=\"server\" CssClass=\"textbox\"\n        AutoPostBack=\"True\"&gt;\n          &lt;asp:ListItem Value=\"0\"&gt;Informe de Casos&lt;/asp:ListItem&gt;\n          &lt;asp:ListItem Value=\"1\"&gt;Informe Histórico&lt;/asp:ListItem&gt;\n        &lt;/asp:RadioButtonList&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"spacer1\" runat=\"server\" align=\"left\"&gt;\n      &lt;td colspan=\"2\" class=\"style6\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"tr_spacer\" runat=\"server\" align=\"left\"&gt;\n      &lt;td class=\"style7\"&gt;Seleccione el criterio de las fechas&lt;/td&gt;\n      &lt;td&gt;\n        &lt;asp:RadioButtonList ID=\"RBL_TipoFecha\" runat=\"server\"&gt;\n          &lt;asp:ListItem Selected=\"True\" Value=\"1\"&gt;Fecha de Creación&lt;/asp:ListItem&gt;\n          &lt;asp:ListItem Value=\"2\"&gt;Fecha de Vencimiento&lt;/asp:ListItem&gt;\n          &lt;asp:ListItem Value=\"3\"&gt;Fecha de Solución&lt;/asp:ListItem&gt;\n        &lt;/asp:RadioButtonList&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"spacer2\" runat=\"server\" align=\"left\" visible=\"True\"&gt;\n      &lt;td class=\"style5\"&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;td class=\"style5\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"tr_tipoinforme\" runat=\"server\" align=\"left\" visible=\"False\"&gt;\n      &lt;td class=\"style8\"&gt;Seleccione el tipo de informe&lt;/td&gt;\n      &lt;td class=\"style2\"&gt;\n        &lt;asp:DropDownList ID=\"DDLTipoInforme\" runat=\"server\" AutoPostBack=\"True\"\n        DataSourceID=\"SQLDS_Informes\" DataTextField=\"iet_NombreInforme\" DataValueField=\"iet_TipoInforme\"\n        Enabled=\"False\" CssClass=\"textbox\" Height=\"20px\" Width=\"548px\"&gt;&lt;/asp:DropDownList&gt;\n        &lt;asp:SqlDataSource ID=\"SQLDS_Informes\" runat=\"server\"\n        ConnectionString=\"&lt;%$ ConnectionStrings:bdcmp_EcopetrolCRMConnectionString %&gt;\"\n        SelectCommand=\"eco_spInformeEstadisticaConsulta\" SelectCommandType=\"StoredProcedure\"&gt;\n          &lt;SelectParameters&gt;\n            &lt;asp:Parameter DefaultValue=\"2\" Name=\"Donde_1\" Type=\"Int32\" /&gt;\n            &lt;asp:SessionParameter DefaultValue=\"96\" Name=\"IdUsuario_2\" SessionField=\"IdUsuario\"\n            Type=\"Int32\" /&gt;\n            &lt;asp:Parameter DefaultValue=\"0\" Name=\"TipoInforme_3\" Type=\"Int32\" /&gt;\n          &lt;/SelectParameters&gt;\n        &lt;/asp:SqlDataSource&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"spacer3\" runat=\"server\" align=\"left\" visible=\"True\"&gt;\n      &lt;td class=\"style4\" colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"tr_segmento\" runat=\"server\" align=\"left\" visible=\"false\"&gt;\n      &lt;td class=\"style7\"&gt;Seleccione el segmento&lt;/td&gt;\n      &lt;td&gt;\n        &lt;asp:DropDownList ID=\"DDLSegmento\" runat=\"server\" Width=\"200px\" CssClass=\"textbox\"\n        AutoPostBack=\"True\"&gt;&lt;/asp:DropDownList&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr id=\"Tr3\" runat=\"server\" align=\"left\" visible=\"True\"&gt;\n      &lt;td class=\"style4\" colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;%-- Se añade nuevo campos regional--%&gt;\n      &lt;tr id=\"tr_regional\" runat=\"server\" visible=\"False\"&gt;\n        &lt;td&gt;Selecciones la Regional&lt;/td&gt;\n        &lt;td&gt;\n          &lt;asp:CheckBoxList ID=\"CheckBoxRegional\" runat=\"server\" Font-Size=\"X-Small\"&gt;&lt;/asp:CheckBoxList&gt;\n          &lt;asp:DropDownList ID=\"DDLRegional\" runat=\"server\" Visible=\"False\"&gt;&lt;/asp:DropDownList&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr id=\"Tr7\"&gt;\n        &lt;td&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr id=\"tr_Categorias\" runat=\"server\" align=\"left\" visible=\"false\"&gt;\n        &lt;td class=\"style7\"&gt;Seleccione la Categoria&lt;/td&gt;\n        &lt;td&gt;\n          &lt;asp:DropDownList ID=\"ddlCategorias\" runat=\"server\" CssClass=\"textbox\"\n          Width=\"200px\" ToolTip=\"Seleccione la Categoria\"&gt;&lt;/asp:DropDownList&gt;&amp;nbsp;\n          &lt;asp:RequiredFieldValidator ID=\"Rv_Categoria\"\n          runat=\"server\" ControlToValidate=\"ddlCategorias\" Display=\"Dynamic\" ErrorMessage=\"*\"\n          InitialValue=\"0\" SetFocusOnError=\"True\" Visible=\"False\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr id=\"Tr4\" runat=\"server\" align=\"left\" visible=\"True\"&gt;\n        &lt;td class=\"style4\" colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr id=\"tr_Area\" runat=\"server\" align=\"left\" visible=\"false\"&gt;\n        &lt;td class=\"style7\"&gt;Seleccione el Area&lt;/td&gt;\n        &lt;td&gt;\n          &lt;asp:DropDownList ID=\"ddlarea\" runat=\"server\" Width=\"200px\" CssClass=\"textbox\"\n          AutoPostBack=\"False\"&gt;&lt;/asp:DropDownList&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n  &lt;/table&gt;\n  &lt;br /&gt;\n  &lt;div id=\"progressbar\"&gt;&lt;/div&gt;\n  &lt;div id=\"result\"&gt;&lt;/div&gt;\n  &lt;br /&gt;\n  &lt;center&gt;\n    &lt;asp:Button ID=\"btnGetData\" runat=\"server\" Text=\"Generar Informe\" CssClass=\"button\"\n    ForeColor=\"#336699\" Enabled=\"false\" /&gt;\n  &lt;/center&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["c#","asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13147081,"title":"Webpage is sometimes unresponsive to postback","body":"<p>I am working on an ASP.NET project on VS 2010 that is completely local as of now and a strange problem keeps popping up which I can't seem to explain.</p>\n\n<p>Essentially, sometimes when I perform an action that causes some sort of postback event (e.g. change the selection of a drop down list which repopulates a gridview based on the drop down list selection), the page will \"flicker\" like a normal postback but then result in a blank page.</p>\n\n<p>Since this occured rather infrequently I decided to ignore it for the time being and focus on other aspects of the project. However, after I implement partial postbacks using AJAX, I think I may have found out what is happening.</p>\n\n<p>With partial postbacks, the page now is not reloading every time a postback occurs, and I noticed that occasionally, performing an action that should cause a postback does absolutely nothing.</p>\n\n<p>So my hypothesis is that somehow, the event triggered causes a postback but then gets hung up somewhere? I'm rather new to web programming so I'm at a loss at this point.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["jquery","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13147300,"title":"jQuery JSON AJAX request fails","body":"<pre><code>$(document).ready(function() {\n    $.ajax({\n        type: 'GET',\n        url: \"http://www.google.com/ig/calculator?hl=en&amp;q=1GBP=?USD\",\n        dataType: \"json\"\n    }).done(function() {\n        alert(\"success\");\n    }).fail(function() {\n        alert('fail');\n    });\n});​\n</code></pre>\n\n<p>I'm new to this so please can someone tell me why does this fail? \nIn firebug I am getting '200 OK' for the request.</p>\n"},{"tags":["c#","ajax","serialization","asp.net-mvc-3"],"answer_count":5,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":1115,"score":3,"question_id":5861241,"title":"Can abstract class be a parameter in a controller's action?","body":"<p>I have an Action function inside of a Controller, which is being called with AJAX.  That Action is taking in 1 parameter.  Client side, I construct a JSON object which should serialize into that 1 parameter.  The problem I ran into is that the parameter class is declared as abstract.  Thus, it cannot be instantiated.  When AJAX hits that Action, I get the following:</p>\n\n<blockquote>\n  <p>Cannot create an abstract class.</p>\n  \n  <p>Stack Trace:</p>\n  \n  <p>[MissingMethodException: Cannot create\n  an abstract class.]<br>\n  System.RuntimeTypeHandle.CreateInstance(RuntimeType\n  type, Boolean publicOnly, Boolean\n  noCheck, Boolean&amp; canBeCached,\n  RuntimeMethodHandleInternal&amp; ctor,\n  Boolean&amp; bNeedSecurityCheck) +0<br>\n  System.RuntimeType.CreateInstanceSlow(Boolean\n  publicOnly, Boolean skipCheckThis,\n  Boolean fillCache) +98<br>\n  System.RuntimeType.CreateInstanceDefaultCtor(Boolean\n  publicOnly, Boolean\n  skipVisibilityChecks, Boolean\n  skipCheckThis, Boolean fillCache) +241\n  System.Activator.CreateInstance(Type\n  type, Boolean nonPublic) +69\n  ...............</p>\n</blockquote>\n\n<p>Is there any way to pull off such a scenario without creating a different parameter object, \"un-declaring\" the parameter object as abstract, or digging into mechanics of MVC?  Thanks.</p>\n\n<p>UPDATE:  I'm currently working with back-end developers to tweak their objects.  Either way, I think that would be the ultimate solution.  Thank you all for your answers.</p>\n"},{"tags":["ajax","ruby-on-rails-3","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13147070,"title":"Rails 3: redirect_to with :remote => true","body":"<p>I have a delete link that makes a remote call:</p>\n\n<pre><code>&lt;%= link_to image_tag(\"trash.png\"), [current_user, bookcase], method:  :delete, :remote =&gt; true, confirm: \"You sure?\", title:   bookcase.image %&gt;\n</code></pre>\n\n<p>In my controller, I end the delete function with a redirect:</p>\n\n<pre><code>def destroy\n  @bookcase.destroy\n  redirect_to current_user\nend\n</code></pre>\n\n<p>This works, except it's redirecting the user to the 'user/show.html.erb' file instead of the 'user/show.js.erb' file. How can I redirect the user, specifying which format to use?</p>\n"},{"tags":["jquery","ajax","asp.net-mvc","kendo-ui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":13146451,"title":".NET MVC 4 Kendo UI Grid and file upload","body":"<p>Is there a possibility to do smoething like this:</p>\n\n<ol>\n<li>I have a window with KendoGrid. DataSource is binded to model which contains a list of AttachmentDetails:\nFileName, Content, Description, etc.</li>\n<li>I have a button on top of the form to \"Save\" the modified/added/deleted list to database.</li>\n<li>I have a button to \"Add\" new Attachement. This opens a new window via javascript open.window.</li>\n<li>On that window I have a form with fields for model AttachmentDetails with input type \"file\" to get the Contents. </li>\n<li>When I click \"Save\" on that new window It should close itself, and add new item to Grid on the parent window.</li>\n</ol>\n\n<p>How can I do this kind of usabillity with Kendo?\nShould I use Session to store the list with Content? </p>\n"},{"tags":["jquery","ajax","preload","image-preloader"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13145122,"title":"Use jQuery to find all images on a (different) page via ajax for preloading","body":"<p>I'm building a app - converted from flash to html/js and using jQuery. Pages/scenes are pulled in via ajax and I have a 'loading' overlay in place until these are loaded however in addition I want to preload images for the next and previous pages. </p>\n\n<p>So I pull in page-5.php via ajax then I need to preload the images in the background for pages 4/6 to speed things up for the user. </p>\n\n<p>I have a preload function I can insert an array of images into - the tricky bit is using ajax to find the src of all images on page-6.php for example.</p>\n\n<p>So I need a call to:\n- find all images on page-6.php, grab their src's into an array. \npossible?</p>\n\n<p>I guess I could hide an array on each page containing the images and grab this but I'd rather keep it all dynamic.</p>\n\n<p>Any thoughts / help much appreciated.</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13142875,"title":"Transmit AJAX data after submit","body":"<p>I use the code below to submit my form without reloading the page, but when data.a=\"a\", or \"b\", etc. in the success part of AJAX, I still would like to submit the form as conventionally done by php without jQuery. </p>\n\n<p>So in this case, the aim is to transmit the AJAX data (\"data:myForm.serialize()+\"&amp;id_town=\"+id_town,\") to the url specified in the \"action\" html attribute of the form.</p>\n\n<p>Do you have any idea ?</p>\n\n<p>Html code:</p>\n\n<pre><code>&lt;form id=\"inscription_form_home\" action=\"index.php?module=membres&amp;action=inscription\" method=\"post\" &gt;\n...\n&lt;/form&gt;     \n</code></pre>\n\n<p>jQuery code:</p>\n\n<pre><code>$(\"#inscription_form_home\").submit(function() { \nvar myForm = $(this);\n\n$.ajax({\n    dataType: 'json',\n    type: \"POST\",\n    url: \"traitement_profil.php\",\n    data:myForm.serialize()+\"&amp;id_town=\"+id_town,\n    success: function(data){\n        if (data.a == \"a\" || data.a == \"b\" ){\n            // Transmit the data part to the form url\n        }else{                  \n            alert(\"Inscription OK.\");\n        }\n    }\n});\n\nreturn false;\n});\n</code></pre>\n"},{"tags":["ajax","spring-mvc","flot"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13146580,"title":"Retrieving Data From Spring MVC with AJAX for Flot","body":"<p>I want to have AJAX make a call to a Spring MVC controller to get data to be plotted in flot.</p>\n\n<p>Here is my JS function:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    // This function returns the data for the chart\n    function GetChartData() {\n        $.ajax({\n            url: 'ChartDataURL.html',\n            method: 'GET',              \n            data: ({arg1:\"arg1\", arg2:\"arg2\"}),\n            success: function(data) { Success(data); },\n            error: function(e) { Error(e); }\n        });\n\n        // Function to call if AJAX is successful...\n        function Success(data) {\n            alert(data);\n            return data;\n        }\n\n        // Function to call if AJAX is not successful...\n        function Error(e) {\n            alert(\"Error generating chart: \" + e);          \n        }\n    }\n    &lt;/script&gt;\n</code></pre>\n\n<p>This gets called by another function that plots the data in flot...</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function UpdateChart() {\n        var chart = $(\"#chart\");\n        var data = GetChartData();\n        var format = GetChartFormatting();                  \n        $.plot(chart, data, format);        \n    }\n    &lt;/script&gt;\n</code></pre>\n\n<p>Here is the Spring MVC function:</p>\n\n<pre><code>@RequestMapping(value = \"/ChartDataURL.html\", method = RequestMethod.GET)\n    public @ResponseBody String AjaxGetChartData(\n            @RequestParam String arg1,\n            @RequestParam String arg2) \n    {\n        String result = arg1 + arg2;\n        return result;\n    }\n</code></pre>\n\n<p>This works perfectly fine. I get the alert() function showing me the <code>arg1 + arg2</code> value.\nOf course, flot does not work since it is not numeric data.</p>\n\n<p>The problem I'm having is that I cannot change the java function to return anything other than a <code>String</code>. If I try to return int or double or anything else, it goes straight to the error function.</p>\n\n<p>How/what do I return so that I have data that can be successfully plotted in flot?</p>\n\n<p>By the way: The error I get is \"Error generating chart: [object Object]\"</p>\n"},{"tags":["ajax","jsf","primefaces","omnifaces"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13091742,"title":"How to use OmniFaces Ajax.updateColumn() or Ajax.updateRow() via p:ajax","body":"<p>I am attempting to use the Ajax.updateColumn() method of the OmniFaces 1.3 (SNAPSHOT) Ajax utility. More specifically, I want to replace the use p:ajax update=\":pageContentPanel\", which is an h:panelGroup (or p:outputPanel) which contains the following xhtml, with the use of Ajax.updateColumn(table, 1).</p>\n\n<pre><code>&lt;h:dataTable id=\"dt_tripDates\" style=\"width: 200px !important;\"\n             var=\"tripDate\" value=\"#{pf_ordersController.tripDates}\"&gt;\n\n    &lt;p:column style=\"text-align: right !important;\"&gt;\n        &lt;h:outputText id=\"rowNumber\" value=\"#{tripDate.rowNumber}\" /&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column style=\"text-align: center !important;\"&gt;\n        &lt;p:calendar id=\"tripDate\" value=\"#{tripDate.tripDate}\"\n                    size=\"16\" label=\"Trip Date\"\n                    pattern=\"MM/dd/yyyy\" navigator=\"true\"\n                    onchange=\"changeOthersOnDateChange(this);\"&gt;\n            &lt;p:ajax partialSubmit=\"false\" event=\"dateSelect\"\n                    listener=\"#{pf_ordersController.tripDateSelectedOnAddUsingTemplate}\"\n                    update=\":pageContentPanel\"/&gt;\n            &lt;f:convertDateTime pattern=\"MM/dd/yyyy\" /&gt;\n        &lt;/p:calendar&gt;\n    &lt;/p:column&gt;\n\n&lt;/h:dataTable&gt;\n</code></pre>\n\n<p>In the bean, I have the following, which is referenced by p:ajax listener=\"...\":</p>\n\n<pre><code>public void tripDateSelectedOnAddUsingTemplate(DateSelectEvent event) {\n    DateTime dt, today = DateTime.now(),\n             tripDateTime = new DateTime(event.getDate());\n    String clientId = event.getComponent().getClientId();\n    Integer pos = clientId.indexOf(\":tripDate\") - 1,\n            rowNumber = Integer.valueOf(clientId.substring(clientId.lastIndexOf(\":\", pos) + 1, pos + 1));\n    /*\n     * clientId = orderAddUsingTemplateForm:dt_tripDates:0:tripDate\n     * id = tripDate\n     */\n    /*\n     * if tripDates in the list, that follow the argument tripDate in the list,\n     * have today's Date, then set them to the argument\n     */\n    for (int i = rowNumber; i &lt; nbrOfTripDates; i++) {\n        tripDates.get(i).setTripDate(tripDateTime.toDate());\n    }\n    // OmniFaces Ajax utility to update UIData columns\n    Ajax.updateColumn(tripDatesDataTable, 1);\n}\n</code></pre>\n\n<p>While attempting to use Ajax.updateColumn(), I added \"HtmlDataTable tripDatesDataTable\" as an attribute to the bean.</p>\n\n<p>The bean is JSF @SessionScoped managed bean. Please let me know how I can call Ajax.updateColumn() when p:ajax (belonging to p:calendar in xhtml above) is executed. Thanks.</p>\n"},{"tags":["c#","asp.net","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13146146,"title":"Custom Validator for Checkbox List with Callout Extender","body":"<p>Having some difficulty with this.  The onServerValidate from code behind fires and sets the args.IsValid = false however the Custom Validator doesn't pop-up doesn't display the error on the client side.  I am also trying to extend it using the AJAX callout extender.</p>\n\n<pre><code>&lt;asp:CustomValidator ID=\"cvOffenceList\" runat=\"server\" \n            ErrorMessage=\"Please check at least one item on the offence list.\" \n            Display=\"None\" ForeColor=\"#CC0000\" \n            onservervalidate=\"cvOffenceList_ServerValidate\" \n            &gt;*&lt;/asp:CustomValidator&gt;\n        &lt;asp:ValidatorCalloutExtender ID=\"ValidatorCalloutExtender2\" runat=\"server\" \n            TargetControlID=\"cvOffenceList\"&gt;\n        &lt;/asp:ValidatorCalloutExtender&gt;\n        &lt;asp:CheckBoxList ID=\"cbOffenceList\" runat=\"server\" &gt;\n            &lt;asp:ListItem&gt;Items1&lt;/asp:ListItem&gt;\n            &lt;asp:ListItem&gt;Items2&lt;/asp:ListItem&gt;\n            &lt;asp:ListItem&gt;Items3&lt;/asp:ListItem&gt;\n        &lt;/asp:CheckBoxList&gt;\n\nprotected void cvOffenceList_ServerValidate(object source, ServerValidateEventArgs args)\n{\n    args.IsValid = false;\n    // Iterate through the Checkbox List and see if any items are checked\n    for (int j = 0; j &lt; cbOffenceList.Items.Count; j++)\n    {\n        if (cbOffenceList.Items[j].Selected)\n        {\n            // If any item is checked then validation is set to true\n            args.IsValid = true;\n        }\n    }\n}\n\nprotected void btnSubmitCase_Click(object sender, EventArgs e)\n{\n    if (Page.IsValid)\n    {\n        // Store Session Variables for further use\n\n        // Insert Case Info to Table\n\n        // Check if Image has a file\n    }\n}\n</code></pre>\n"},{"tags":["jquery","ajax","expressionengine"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":82,"score":6,"question_id":13138100,"title":"Loading entries in ExpressionEngine with AJAX","body":"<p>I am looking to load entries from ExpressionEngine in a popup modal with an ajax call using jQuery, the idea is when the user clicks on the entry title it will open show a modal with the full entry in it. I am then looking to have a next &amp; previous button on the modal which will allow me to move to the next and previous entries within the popup modal.\nI don’t know if it is best to load the template or a feed, i.e. JSON, or if there is another way I am happy to hear.</p>\n\n<p>Has anyone attempted this yet or know of a tut that maybe helpful. I have come across this article which sheds some light on it, <a href=\"http://spibey.com/blog/2011/11/using-partial-views-in-the-expressionengine-control-panel-for-ajax-requests-or-similar/\">http://spibey.com/blog/2011/11/using-partial-views-in-the-expressionengine-control-panel-for-ajax-requests-or-similar/</a></p>\n"},{"tags":["jquery","ajax","combobox","updatepanel"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":158,"score":0,"question_id":12536743,"title":"jQuery combobox and ASP.NET updatepanel","body":"<p><a href=\"http://jqueryui.com/demos/autocomplete/#combobox\" rel=\"nofollow\">I found a combobox here</a> and now I'm facing a problem when I try using the jQuery with my updatepanel. The combobox works great when I first open the page until a partial postback happens.  So if I was to change the DropdownList ddlTagLevel3_1, for example, then the dropdown ddlTagname1 doesn't show the jQuery combobox anymore.  Any ideas what I need to do?  Here is my code with some lines ommitted for simplicity (thanks):</p>\n\n<p>TagFilter.master:</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\" UpdateMode=\"Conditional\"&gt;\n&lt;ContentTemplate&gt;\n        &lt;div id=\"div1\" class=\"GridFilter\" runat=\"server\"&gt;\n                &lt;asp:Panel ID=\"Panel3\" CssClass=\"PanelGridContents\" runat=\"server\"&gt;\n            &lt;div id=\"divTagFilterTable\" runat=\"server\"&gt;\n                &lt;asp:table ID=\"Table2\" BorderWidth=\"0\" CellPadding=\"4\" runat=\"server\"&gt;\n                    &lt;asp:TableRow&gt;\n                        &lt;asp:TableCell&gt;\n                        &lt;asp:Table ID=\"tblTagGridFilter\" CellPadding=\"4\" runat=\"server\" CellSpacing=\"0\" BackColor=\"White\" CssClass=\"TagGridFilter\" BorderStyle=\"Solid\" BorderWidth=\"1\"&gt;\n                                                        &lt;asp:TableRow ID=\"tr1\" runat=\"server\"&gt;\n                                                            &lt;asp:TableCell CssClass=\"TagGridFilter2\" Wrap=\"false\"&gt;\n                                                                &lt;asp:ImageButton runat=\"server\" ID=\"ibAdd\" OnClick=\"ibAdd_Click\" ImageUrl=\"~/Images/add.gif\" Visible=\"true\"&gt;&lt;/asp:ImageButton&gt;\n                                                                &lt;asp:Image runat=\"server\" ID=\"ImageButton2\" ImageUrl=\"~/Images/noImage.gif\" Width=\"5px\" Visible=\"true\"&gt;&lt;/asp:Image&gt;\n                                                                &lt;asp:ImageButton runat=\"server\" ID=\"ibRemove\" OnClick=\"ibRemove_Click\" ImageUrl=\"~/Images/remove.gif\" Visible=\"true\"&gt;&lt;/asp:ImageButton&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell BorderWidth=\"1\" CssClass=\"TagGridFilter2\" Wrap=\"false\"&gt;\n                                                                &lt;asp:Button ID=\"btnGridSwap_1\" runat=\"server\" Text=\"M\" OnClick=\"bntGridSwap_1Click\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell ID=\"tcDisplayLevel_1\" ColumnSpan=\"3\" BorderWidth=\"1\" CssClass=\"TagGridFilter\" Visible=\"false\" Wrap=\"false\"&gt;\n                                                                &lt;asp:DropDownList ID=\"ddlDisplay1\" AutoPostBack=\"True\" OnSelectedIndexChanged=\"ddlDisplay1Changed\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell ID=\"tcTagLevel1_1\" BorderWidth=\"1\" CssClass=\"TagGridFilter\" Wrap=\"false\"&gt;\n                                                                &lt;asp:DropDownList ID=\"ddlTagLevel1_1\" AutoPostBack=\"True\" OnSelectedIndexChanged=\"ddlTagLevel1_1Changed\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell ID=\"tcTagLevel2_1\" BorderWidth=\"1\" CssClass=\"TagGridFilter\" Wrap=\"false\"&gt;\n                                                                &lt;asp:DropDownList ID=\"ddlTagLevel2_1\" AutoPostBack=\"True\" OnSelectedIndexChanged=\"ddlTagLevel2_1Changed\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell ID=\"tcTagLevel3_1\" BorderWidth=\"1\" CssClass=\"TagGridFilter\" Wrap=\"false\"&gt;\n                                                                &lt;asp:DropDownList ID=\"ddlTagLevel3_1\" AutoPostBack=\"True\" OnSelectedIndexChanged=\"ddlTagLevel3_1Changed\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell BorderWidth=\"1\" CssClass=\"TagGridFilter1\" Wrap=\"false\"&gt;\n                                                                &lt;asp:Label id=\"lblDevice1\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell BorderWidth=\"1\" CssClass=\"TagGridFilter\" Wrap=\"false\"&gt;\n                                                                &lt;asp:DropDownList ID=\"ddlTagname1\" AutoPostBack=\"True\" OnSelectedIndexChanged=\"ddlTagname_1Changed\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell BorderWidth=\"1\" CssClass=\"TagGridFilter1\" Wrap=\"false\"&gt;\n                                                                &lt;asp:Label id=\"lblDescription1\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell BorderWidth=\"1\" CssClass=\"TagGridFilter1\" Wrap=\"false\"&gt;\n                                                                &lt;asp:Label id=\"lblType1\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell BorderWidth=\"1\" CssClass=\"TagGridFilter1\" Wrap=\"false\"&gt;\n                                                                &lt;asp:Label id=\"lblUOM1\" runat=\"server\" /&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                                            &lt;asp:TableCell ID=\"tcNew1\" Visible=\"false\" BorderWidth=\"1\" CssClass=\"TagGridFilter\" Wrap=\"false\" HorizontalAlign=\"Center\"&gt;\n                                                                &lt;asp:ImageButton runat=\"server\" ID=\"ibNewRecord1\" OnClick=\"ibNewRecord1_Click\" ImageUrl=\"~/Images/new_tiny.gif\" Visible=\"false\"&gt;&lt;/asp:ImageButton&gt;\n                                                            &lt;/asp:TableCell&gt;\n                                    &lt;/asp:TableRow&gt;\n                    &lt;/asp:Table&gt;\n                    &lt;/asp:TableCell&gt;\n                                &lt;/asp:table&gt;\n                        &lt;/div&gt;\n                &lt;/asp:Panel&gt;\n        &lt;/div&gt;\n&lt;/ContentTemplate&gt;\n</code></pre>\n\n<p></p>\n\n<p>TagSummaryDetail.aspx.cs:</p>\n\n<pre><code>    protected new void Page_PreRender(object sender, EventArgs e)\n{\n    base.Page_PreRender(sender, e);\n\n    if (GridView_Summary.SelectedIndex &lt; 0 &amp;&amp; GridView_Summary.Rows.Count == 0)\n        ProcessSelection();\n\n    string style = @\"\n        &lt;style&gt;\n            .ui-combobox {\n                position: relative;\n                display: inline-block;\n                background: #ffffff;\n            }\n            .ui-combobox-toggle {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                margin-left: -1px;\n                padding: 0;\n                background: #ffffff\n                /* adjust styles for IE 6/7 */\n                *height: 1.7em;\n                *top: 0.1em;\n            }\n            .ui-combobox-input {\n                margin: 0;\n                padding: 0.2em;\n                background: #ffffff;\n                width: 20em;\n            }\n            .ui-button-icon-only .ui-button-text { background: #e6e6e6; } \n        &lt;/style&gt;\";\n    this.Page.ClientScript.RegisterStartupScript(this.GetType(), \"style\", style);\n\n    string script = @\"\n            &lt;script&gt;\n                (function ($) {\n                    $.widget(\"\"ui.combobox\"\", {\n                        _create: function () {\n                            var input,\n                        self = this,\n                        select = this.element.hide(),\n                        selected = select.children(\"\":selected\"\"),\n                        value = selected.val() ? selected.text() : \"\"\"\",\n                        wrapper = this.wrapper = $(\"\"&lt;span&gt;\"\")\n                            .addClass(\"\"ui-combobox\"\")\n                            .insertAfter(select);\n\n                            input = $(\"\"&lt;input&gt;\"\")\n                        .appendTo(wrapper)\n                        .val(value)\n                        .addClass(\"\"ui-state-default ui-combobox-input\"\")\n                        .autocomplete({\n                            delay: 0,\n                            minLength: 0,\n                            source: function (request, response) {\n                                var matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), \"\"i\"\");\n                                response(select.children(\"\"option\"\").map(function () {\n                                    var text = $(this).text();\n                                    if (this.value &amp;&amp; (!request.term || matcher.test(text)))\n                                        return {\n                                            label: text.replace(\n                                                new RegExp(\n                                                    \"\"(?![^&amp;;]+;)(?!&lt;[^&lt;&gt;]*)(\"\" +\n                                                    $.ui.autocomplete.escapeRegex(request.term) +\n                                                    \"\")(?![^&lt;&gt;]*&gt;)(?![^&amp;;]+;)\"\", \"\"gi\"\"\n                                                ), \"\"&lt;strong&gt;$1&lt;/strong&gt;\"\"),\n                                            value: text,\n                                            option: this\n                                        };\n                                }));\n                            },\n                            select: function (event, ui) {\n                                ui.item.option.selected = true;\n                                self._trigger(\"\"selected\"\", event, {\n                                    item: ui.item.option\n                                });\n                            },\n                            change: function (event, ui) {\n                                if (!ui.item) {\n                                    var matcher = new RegExp(\"\"^\"\" + $.ui.autocomplete.escapeRegex($(this).val()) + \"\"$\"\", \"\"i\"\"),\n                                        valid = false;\n                                    select.children(\"\"option\"\").each(function () {\n                                        if ($(this).text().match(matcher)) {\n                                            this.selected = valid = true;\n                                            return false;\n                                        }\n                                    });\n                                    if (!valid) {\n                                        // remove invalid value, as it didn't match anything\n                                        $(this).val(\"\"\"\");\n                                        select.val(\"\"\"\");\n                                        input.data(\"\"autocomplete\"\").term = \"\"\"\";\n                                        return false;\n                                    }\n                                }\n                            }\n                        })\n                        .addClass(\"\"ui-widget ui-widget-content ui-corner-left\"\");\n\n                            input.data(\"\"autocomplete\"\")._renderItem = function (ul, item) {\n                                return $(\"\"&lt;li&gt;&lt;/li&gt;\"\")\n                            .data(\"\"item.autocomplete\"\", item)\n                            .append(\"\"&lt;a&gt;\"\" + item.label + \"\"&lt;/a&gt;\"\")\n                            .appendTo(ul);\n                            };\n\n                            $(\"\"&lt;a&gt;\"\")\n                        .attr(\"\"tabIndex\"\", -1)\n                        .attr(\"\"title\"\", \"\"Show All Items\"\")\n                        .appendTo(wrapper)\n                        .button({\n                            icons: {\n                                primary: \"\"ui-icon-triangle-1-s\"\"\n                            },\n                            text: false\n                        })\n                        .removeClass(\"\"ui-corner-all\"\")\n                        .addClass(\"\"ui-corner-right ui-combobox-toggle\"\")\n                        .click(function () {\n                            // close if already visible\n                            if (input.autocomplete(\"\"widget\"\").is(\"\":visible\"\")) {\n                                input.autocomplete(\"\"close\"\");\n                                return;\n                            }\n\n                            // work around a bug (likely same cause as #5265)\n                            $(this).blur();\n\n                            // pass empty string as value to search for, displaying all results\n                            input.autocomplete(\"\"search\"\", \"\"\"\");\n                            input.focus();\n                        });\n                        },\n\n                        destroy: function () {\n                            this.wrapper.remove();\n                            this.element.show();\n                            $.Widget.prototype.destroy.call(this);\n                        }\n                    });\n                })(jQuery);\n\n                $(function () {\n                    $(\"\"#\" + Master.Tagname1.ClientID + @\"\"\").combobox();  //Tagname1 is ddlTagname1\n                    $(\"\"#toggle\"\").click(function () {\n                        $(\"\"#\" + Master.Tagname1.ClientID + @\"\"\").toggle();\n                    });\n                });\n            &lt;/script&gt;\";\n\n    this.Page.ClientScript.RegisterStartupScript(this.GetType(), \"jQuery\", script);\n</code></pre>\n"},{"tags":["jquery","ajax","xmlhttprequest","long-polling"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1085,"score":3,"question_id":6903318,"title":"Multiple AJAX requests delay each other","body":"<p>I have a long polling request on my page. The script on the server side is set to timeout after 20 seconds.</p>\n\n<p>So, when the long polling is \"idling\", and the user presses another button, the sending of that new request is delayed until the previous script times out.</p>\n\n<p>I can't see anything wrong with the code on jQuery side. Why is the onclick-event delayed?</p>\n\n<pre><code>function poll()\n{\n$.ajax({\n    url: \"/xhr/poll/1\",\n    data: {\n        user_id: app.user.id\n    },\n    type: \"POST\",\n    dataType: \"JSON\",\n    success: pollComplete,\n    error: function(response) {\n        console.log(response);\n    }\n});\n}\n\nfunction pollComplete()\n{\n    poll();\n}\n\nfunction joinRoom(user_id)\n{\n$.ajax({\n    url: \"/xhr/room/join\",\n    dataType: \"JSON\",\n    type: \"POST\",\n    data: {\n        user_id: app.user.id,\n        room_id: room.id\n    }\n});\n}\n\n&lt;button id=\"join\" onclick=\"javascript:joinRoom(2);\"&gt;Join&lt;/button&gt;\n\n############ PHP Controller on /xhr/poll\n\n$time = time();\nwhile ((time() - $time) &lt; 20)\n{\n    $updates = $db-&gt;getNewStuff();\n\n    foreach ($updates-&gt;getResult() as $update)\n        $response[] = $update-&gt;getResponse();\n\n    if (!empty($response))\n        return $response;\n    else\n        usleep(1 * 1000000);\n\n    return 'no-updates';\n}\n</code></pre>\n\n<p>Could the \"usleep\" be the problem?</p>\n\n<p><img src=\"http://i.stack.imgur.com/y6XJM.png\" alt=\"XHR Screenshot\"></p>\n"},{"tags":["javascript","jquery","ajax","couchdb","elasticsearch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13144794,"title":"AJAX Call with Elasticsearch Search","body":"<p>I've been trying to figure out how to correctly request data from elasticsearch using a jQuery AJAX call.  I either get an parsing error or I'll get every document in the index I'm searching under.</p>\n\n<pre><code>    $(document).ready(function() {\n\n    var timer = null;\n    function dicom_search() {\n        var box = $('#s_box').val();\n\n        $.ajax({\n            url: 'http://localhost:9200/dicoms/dicoms/_search',\n            type: 'POST',\n            //contentType: 'application/json; charset=UTF-8',\n            crossDomain: true,\n            dataType: 'json',\n            data: {\n                query:{match:{_all:$('#s_box').val()}},\n                pretty: true,\n                fields: '_id'\n            },\n            success: function(response) {\n                var data = response.hits.hits;\n                var doc_ids = [];\n                var source = null;\n                var content = '';\n\n                if (data.length &gt; 0) {\n                    for (var i = 0; i &lt; data.length; i++) {\n                        source = data[i].fields;\n                        doc_ids.push(source._id);\n                        content = content + ' ' + source._id + '&lt;br /&gt;';\n                    }\n\n                    $('#res').removeClass('text-error').addClass('text-success').html(content);\n                } else {\n                    $('#res').removeClass('text-success').addClass('text-error').html('No results found.');\n                }\n\n\n            }\n        });\n    }\n\n    $('#s_box').live('keyup', function() {\n\n        if (timer) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(dicom_search, 600);\n\n    });\n});\n</code></pre>\n\n<p>Here is my error:</p>\n\n<pre><code>{\n   \"error\":\"SearchPhaseExecutionException[Failed to execute phase [query], total failure; shardFailures {[GUiivW0TQVSNv2HQyxu8Vw][dicoms][0]: SearchParseException[[dicoms][0]: from[-1],size[-1]: Parse Failure [Failed to parse source [_na_]]]; nested: ElasticSearchParseException[Failed to derive xcontent from org.elasticsearch.common.bytes.ChannelBufferBytesReference@779479bb]; }{[GUiivW0TQVSNv2HQyxu8Vw][dicoms][3]: SearchParseException[[dicoms][3]: from[-1],size[-1]: Parse Failure [Failed to parse source [_na_]]]; nested: ElasticSearchParseException[Failed to derive xcontent from org.elasticsearch.common.bytes.ChannelBufferBytesReference@779479bb]; }{[GUiivW0TQVSNv2HQyxu8Vw][dicoms][1]: SearchParseException[[dicoms][1]: from[-1],size[-1]: Parse Failure [Failed to parse source [_na_]]]; nested: ElasticSearchParseException[Failed to derive xcontent from org.elasticsearch.common.bytes.ChannelBufferBytesReference@779479bb]; }{[GUiivW0TQVSNv2HQyxu8Vw][dicoms][4]: SearchParseException[[dicoms][4]: from[-1],size[-1]: Parse Failure [Failed to parse source [_na_]]]; nested: ElasticSearchParseException[Failed to derive xcontent from org.elasticsearch.common.bytes.ChannelBufferBytesReference@779479bb]; }{[GUiivW0TQVSNv2HQyxu8Vw][dicoms][2]: SearchParseException[[dicoms][2]: from[-1],size[-1]: Parse Failure [Failed to parse source [_na_]]]; nested: ElasticSearchParseException[Failed to derive xcontent from org.elasticsearch.common.bytes.ChannelBufferBytesReference@779479bb]; }]\",\n   \"status\":500\n}\n</code></pre>\n\n<p>EDIT: I figured it out: </p>\n\n<pre><code>var data = {\n            query: {\n                match: {\n                    _all: $('#s_box').val()\n                }\n            },\n            fields: '_id'\n        }; \n\n$.ajax({\n            url: 'http://localhost:9200/dicoms/dicoms/_search',\n            type: 'POST',\n            //contentType: 'application/json; charset=UTF-8',\n            crossDomain: true,\n            dataType: 'json',\n            data: JSON.stringify(data),\n            success: function(response) {\n                var data = response.hits.hits;\n                var doc_ids = [];\n                var source = null;\n                var content = '';\n\n                if (data.length &gt; 0) {\n                    for (var i = 0; i &lt; data.length; i++) {\n                        source = data[i].fields;\n                        doc_ids.push(source._id);\n                        content = content + ' ' + source._id + '&lt;br /&gt;';\n                    }\n\n                    $('#res').removeClass('text-error').addClass('text-success').html(content);\n                } else {\n                    $('#res').removeClass('text-success').addClass('text-error').html('No results found.');\n                }\n\n\n            },\n            error: function(jqXHR, textStatus, errorThrown) {\n                var jso = jQuery.parseJSON(jqXHR.responseText);\n                error_note('section', 'error', '(' + jqXHR.status + ') ' + errorThrown + ' --&lt;br /&gt;' + jso.error);\n            }\n        });\n</code></pre>\n"},{"tags":["jquery","ajax","asynchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13135688,"title":"JQuery .ajax with async=true always returns error","body":"<p>I try to make a jQuery.ajax call:</p>\n\n<pre><code>jQuery(\"#search_form\").live(\"submit\", function() {\n    search_nr = jQuery(\"#search_input\").val();\n    jQuery.ajax({\n        url: '/modules/mod_findarticle/process.php',\n        data: \"search_nr=\"+search_nr,\n        async: true,\n        'success':  function(data) {\n                        alert(data);\n                    },\n        'error': function(jqXHR, textStatus, errorThrown) {\n                  alert(jqXHR.status+\",  \" + jqXHR.statusText+\",  \"+textStatus+\",  \"+errorThrown);\n        }\n    });\n});\n</code></pre>\n\n<p>In return i always get an alert with <strong>\"0, error, error,\"</strong> message. Everything's fine with <strong>async=false</strong>.\nI know that with asynchronous call the script finish work before any actual data is recieved but what can be done to avoid this?</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13145217,"title":"Jquery .ajax() call too slow when retrieving data from a a mySql DB","body":"<p>im making a form using jquery modal forms,  the form has user info like Name, Last Name, etc.. im adding a new user via jquery .ajax and its working all fine, it adds the user to de db(mysql) and automatically adds it to a list of users that is being displayed, no problem at all here..</p>\n\n<p>my list of users has an edit button, and when i press the button a modal submit form pops up with the info of that user. here's where my question pops, its doing it all fine, but when i click the edit button, the modal form pops and after 1 or 2 seconds the info of the user displays on the text fields,, is this actually good enough? or does it has to do it instantly?  it kinda feels a little slow....</p>\n\n<p>here is my ajax call for editing users:</p>\n\n<pre><code>$('body').on('click', '#listaUsuariosOK a', function (e){\n    e.preventDefault();\n\n    var accion = $($('#accion').val('editUser')).val();\n    var id = $($('#id_user').val($(this).attr('href'))).val();\n\n    $('#agregarUsuario').dialog('open');\n\n    $.ajax({\n        cache:false,\n        type: \"POST\",\n        dataType:\"json\",\n        url: CI.base_url + 'admin/agregarUsuario',\n        data: \"&amp;id=\" + id + \"&amp;accion=\" + accion,\n        success: function(response){\n                if(response.respuesta == 'error'){\n                    //Display Error\n                }else{\n                    $('#text_nombre').val(response.nombre);\n                    $('#text_apellido').val(response.apellidos);\n                    $('#text_email').val(response.email);\n                    $('#depto').val(response.depto);\n                }\n        } //Success End\n    });//.ajax Ends\n});//$('body') call Ends\n</code></pre>\n\n<p>i make a post call sending the id of the user to edit, then on my php I make the query for that id and return the data via json_encode()</p>\n\n<p>How can i make the response time faster?\nthanks a lot in advance...  (im new to ajax btw hehe)</p>\n"},{"tags":["javascript","css","ajax","twitter","social-networking"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13144704,"title":"hiding auto incremented div id for twitter","body":"<p>I have a weird situation. I found the old none iframe version of the twitter profile embed, but was running into issues with it. The situation that I have is that I want to keep the 2 most recent tweets on the page, but hide the older ones (the code auto updates when a tweet has been posted). What happens is that there is a <code>tweet-id-1</code> and a <code>tweet-id-2</code>. When there is a new tweet it becomes <code>tweet-id-3</code> and another would be <code>tweet-id-4</code>. I'm trying to come up with a javascript based algorithm that swaps the css display style from displaying to hidden so I want to add the attribute <code>display:hidden</code> to the older tweets.</p>\n\n<p>The basic concept I'm looking for is: if 1,2 exist then I want them to display, but if 3 exists hide 1, if 4 exists hide 2, if 5 exists hide 3, etc. The end result is that at any given time I want to display only 2 tweets, and the id is auto incrementing based on if new tweets exist.</p>\n\n<p>If you know how to do this could you give me an explanation of how to do it in addition to code so that I can learn from this specific example? Thanks in advance for the help!</p>\n\n<p>The current javascript that I have is:</p>\n\n<pre><code>new TWTR.Widget({\n    version: 2,\n    type: 'profile',\n    rpp: 2,\n    interval: 6000,\n    width: 300,\n    theme: {\n        shell: {\n            background: 'transparent',\n            color: '#2E2E2E'\n        },\n    tweets: {\n        background: 'transparent',\n        color: '#AAA',\n        links: '#DFDDDE'\n    }\n},\nfeatures: {\n    scrollbar: false,\n    loop: false,\n    live: true,\n    hashtags: true,\n    timestamp: true,\n    avatars: true,\n    behavior: 'all'\n}\n}).render().setUser('user').start();\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>A live version of this can be found at <a href=\"https://eliasranzschleifer.com/beta\" rel=\"nofollow\">https://eliasranzschleifer.com/beta</a></p>\n"},{"tags":["javascript","ajax","checkbox","checkboxes","multibox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13145110,"title":"AJAX send array checkboxes (using just JS)","body":"<p>guys. I try to send array of ids using AJAX ( just javascript without JQuery)</p>\n\n<p>And I have next function</p>\n\n<pre><code>function deleteGroupItems(formId, r_path, action) {\n    var isValidForm = checkMultiboxForDeleting(formId);\n    if (isValidForm) {      \n        var r_args = [];\n        var checkbox_name = \"\";\n\n        var elem = formId.elements;\n        for ( var i = 0; i &lt; elem.length; i++) {\n            if (elem[i].type == \"checkbox\") {\n                if (elem[i].checked) {\n                    checkbox_name = elem[i].name;                   \n                    r_args.push(encodeURIComponent(elem[i].value));\n                }\n            }\n        }\n        SendRequest(\"post\", r_path,\n                (action + \"&amp;\" + checkbox_name + \"=\" + r_args), changeContent);      \n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>But I can delete just one item, instead of array. I can't understand why it's doesn't work.</p>\n"},{"tags":["php","javascript","ajax","json","zepto"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13144358,"title":"Ajax + JSON Decode + Slim PHP problems?","body":"<p>Ok I can't seem to decode the JSON from my ajax call, which posts user data to my api, which is built in slim php..</p>\n\n<p>This is my ajax..</p>\n\n<pre><code>var jsonData;\njsonData = [\n      {\n        username: \"user\",\n        password: \"pass\"\n      }\n    ];\n\n$.ajax({\n  type: \"POST\",\n  url: \"http://localhost/api/user/auth\",\n  data: {\n    user: JSON.stringify(jsonData)\n  },\n  contentType: \"application/json; charset=utf-8\",\n  dataType: \"json\",\n  success: function(data) {\n    alert(\"You are good!\");\n  },\n  error: function(xhr, type) {\n    alert(\"Y U NO WORK?\");\n  }\n});\n</code></pre>\n\n<p>This is my SLIM PHP code..</p>\n\n<pre><code>$app-&gt;post('/user/auth', function () use ($app) {\n    try {\n         $requestBody = $app-&gt;request()-&gt;getBody(); //This works\n\n         //RequestBody is: user=%5B%7B%22username%22%3A%22user%22%2C%22password%22%3A%22pass%22%7D%5D         \n\n         $json_a = json_decode($requestBody); //This doesn't work\n\n         print_r($json_a); //Has no output?\n\n         $username = $json_a['user']['username']; //Therefore this doesn't work?\n\n    } catch(Exception $e) {\n         echo '{\"error\":{\"text\": \"'. $e-&gt;getMessage() .'\"}}';\n    }\n});\n</code></pre>\n\n<p>As you can see in the comments, written in the code, requestBody equals:</p>\n\n<pre><code>user=%5B%7B%22username%22%3A%22user%22%2C%22password%22%3A%22pass%22%7D%5D  \n</code></pre>\n\n<p>However, I can't seem to decode it, as print_r($json_a) has no effect.</p>\n\n<p>Any help is much appreciated, thanks.  </p>\n"},{"tags":["php","ajax","cross-domain"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":10321029,"title":"Can't access a web service outside my domain in ajax with php","body":"<p>I know that I can bypass the same domain policy by creating an intermediary file call like this:</p>\n\n<pre><code>$.getJSON('service_facade.php', function(data) {\n\n        options.series = data;\n    // Create the chart\n    var chart = new Highcharts.Chart(options);\n});\n</code></pre>\n\n<p>the service_facade.php contents looks like this in php:</p>\n\n<pre><code>print_r($_GET[\"http://myservice.com/parameters\"]);\n</code></pre>\n\n<p>The problem is that the chart I am accessing is not rendering. Am I doing this wrong?</p>\n"},{"tags":["jquery","ajax","forms","submit"],"answer_count":4,"favorite_count":9,"up_vote_count":30,"down_vote_count":0,"view_count":42192,"score":30,"question_id":1960240,"title":"jQuery AJAX submit form","body":"<p>I have a form with name orderproductForm and an undefined number of inputs.</p>\n\n<p>I want to do some kind of jQuery.get or ajax or anything like that that would call a page through Ajax, and send along all the inputs of the form orderproductForm.</p>\n\n<p>I suppose one way would be to do something like</p>\n\n<pre><code>jQuery.get(\"myurl\",\n          {action : document.orderproductForm.action.value,\n           cartproductid : document.orderproductForm.cartproductid.value,\n           productid : document.orderproductForm.productid.value,\n           ...\n</code></pre>\n\n<p>However I do not know exactly all the form inputs. Is there a feature, function or something that would just send ALL the form inputs?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13144355,"title":"checkbox issue ( using post and onchange)","body":"<p>I have check boxes that get generated dynamically, when the check box is checked the onchange method works fine and my function is called also when the box is unchecked by user the onchange method calls my intended function the problem is when the box is checked a part of the page becomes active which is good but when the user un-checks the checkbox the that part of the page becomes active again, and the value of the checkbox \"checked \" stays yes after the first time it was checked. Is there way to detect when the user choose to un-check so the active part of the page becomes inactive.</p>\n\n<p>Could I send the check box status with out having submit in the form. Does it have to be submitted for post to work. Do I have to use Java script for this ?</p>\n\n\n\n\n<p>I tried this i'm having issues</p>\n\n\n\n\n<pre><code>&lt;script type=\"text/jscript\"&gt;\n//this funciton will be called when user checks a check box. \nfunction edit(){\n\n\n     //get selected category from the form \n    //var formName = 'choose';\n    //var Category = document[formName]['choose'].value;\n\n\n    //check if browser suports ajax\n    var xmlhttp = null;      \n    if(typeof XMLHttpRequest != 'udefined'){\n      xmlhttp = new XMLHttpRequest();\n    }\n\n    else if(typeof ActiveXObject != 'undefined'){\n        xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');\n    }\n\n    else \n        throw new Error('You browser doesn\\'t support ajax');\n\n\n    //open connection with activateImages.php to recieve the active images as an acho\n    xmlhttp.open(\"GET\", \"activateImages.php\",true);         \n\n    //echeck if ready to recieve        \n    xmlhttp.onreadystatechange = function (){\n\n    if(xmlhttp.readyState == 4)\n      window.activate(xmlhttp);\n    };\n\n    xmlhttp.send(null);\n    }\n\n    //recieve the active images then insert them in the specified location of the page. \n    function activate(xhr){\n\n        if(xhr.status == 200){\n            document.getElementById('images').innerHTML = xhr.responseText;\n\n        }\n        else \n            throw new Error('Server has encountered an error\\n'+\n            'Error code = '+xhr.status);\n\n}\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13143907,"title":"Jquery Wizard Plugin Ajax Submit - Check Result","body":"<p>Using this Wizard Plugin: <a href=\"http://thecodemine.org\" rel=\"nofollow\">jQuery Formwizard Plugin</a></p>\n\n<p>The problem is that the Form submit is using Ajax. I need to submit it to a specified url (e.g. test.php) and then the wizard needs to check the return (like: error, success, error_2)..</p>\n\n<p>If the response is error it should give a message alert with (for example) an error message. </p>\n\n<p>If the return is success it should give an alert with a success message.</p>\n\n<p>How can I submit it to a specified URL, and how can I check the return? </p>\n"},{"tags":["javascript","jquery","ajax","forms","submit"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13142244,"title":"Form submit through AJAX not working","body":"<p>My form will not submit through AJAX to show the return of the PHP page, 'myscript.php'.</p>\n\n<p>This is the HTML I'm using:</p>\n\n<pre><code>&lt;form name=\"myform\" id=\"myform\" method=\"post\" action=\"#\" enctype=\"multipart/form-data\" accept-charset=\"utf-8\" class=\"taxonomy-drilldown-dropdowns\"&gt;\n\n&lt;ul&gt;\n\n    &lt;li&gt;\n    &lt;label&gt;Destination:&lt;/label&gt;\n    &lt;select name=\"city\" id=\"city\"&gt;\n        &lt;option class=\"level-0\" value=\"atlanta\"&gt;Atlanta&lt;/option&gt;\n        &lt;option class=\"level-0\" value=\"miami\"&gt;Miami&lt;/option&gt;\n\n    &lt;/select&gt;\n    &lt;/li&gt;\n\n&lt;/ul&gt;\n\n&lt;input class=\"srch_btn\" type=\"button\" value=\"{{submit-text}}\" /&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Here is the javascript earlier in the page:</p>\n\n<pre><code>jQuery(document).ready(function($) {\n   $('#city').change(function() {\n  $(this).parents(\"form\").submit();\n   });\n$('#myform').submit(function() { \n  $.post(\n     'myscript.php',\n     $(this).serialize(),\n     function(data){\n        $(\"#mydiv\").html(data)\n     }\n  );\n  return false;   \n   });\n});\n</code></pre>\n\n<p>Here is the myscript.php:</p>\n\n<pre><code>&lt;?php\n   if ($_POST['city'] == \"atlanta\") {\n  echo \"Div contents 1\";\n   }\n   if ($_POST['city'] == \"miami\") {\n  echo \"Div contents 2\";\n   }\n?&gt;\n</code></pre>\n\n<p>The submit button won't respond at this point or make an attempt to access the 'myscript.php' file. Help is appreciated. Thanks in advance!</p>\n"},{"tags":["jquery","ajax","jquery-ui","dialog","datepicker"],"answer_count":8,"favorite_count":1,"up_vote_count":13,"down_vote_count":0,"view_count":10790,"score":13,"question_id":932420,"title":"jQuery UI datepicker opens automatically within dialog","body":"<p>I have a datepicker which is used within the jQuery dialog object. The source of the dialog's content is loaded using <code>.load()</code>. Within the dialog I created a script which creates a datepicker for the text input.</p>\n\n<pre><code>$(\"#date\").datepicker({ ... });\n</code></pre>\n\n<p>When I open the dialog for the first time - everything is okay, but if I close it and reopen again, the datepicker is triggered automatically (and there's no such an option like <code>autoOpen:false</code>)\nIs there any way of preventing this or what am I doing wrong?</p>\n"},{"tags":["javascript","ajax","loops","recursion","loopback"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13144095,"title":"AJAX loopback for getting a list of items - good idea?","body":"<p>I have a script <code>index.php</code> that dynamically via AJAX loads a list of items generated in <code>ajax.php</code>.</p>\n\n<p>The list may not contain all desired items if there are too many. In such case, I want to give user a button <em>Show all items</em> that would load <code>ajax.php</code> again but request all the items.</p>\n\n<p>I had an idea, that <code>ajax.php</code> would echo this button. When pressed, <code>ajax.php</code> would dynamically call itself but with a GET parameter for all items. Is it a good idea?</p>\n\n<p>Thanks!</p>\n\n<p>Here's simplified code:</p>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>&lt;div id=\"ajax-out\" /&gt;\n&lt;script&gt; \n    $.get(\"ajax.php\", function(out){\n        $(\"#ajax-out\").html(out);\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>ajax.php</strong></p>\n\n<pre><code>... list of items ...\n\n&lt;?php if the list isn't complete, print code below: ?&gt;\n\n    &lt;a id=\"show-all\"&gt;Show all items&lt;/a&gt;\n\n    &lt;script&gt;\n        $(\"#show-all\").click(function() {\n            $.get(\"ajax.php?show_all\", function(out){ // there's the loopback!\n                $(\"#ajax-out\").html(out);\n            });\n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>I just have another idea. <code>ajax.php</code> would return XML cointaining HTML code of the list and a parameter if the list is complete. Then <code>index.php</code> could print <em>Show all items</em> button and call <code>ajax.php?show_all</code> itself. What do you think? Who should be the caller?</p>\n"},{"tags":["php","ajax","linux"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13144066,"title":"IPC with ajax in linux","body":"<p>I need to monitor a file in linux which is a text file and the file is modified every event that occurs in linux which what my program does in linux..</p>\n\n<p>I did it in php but you can't do two, three things and so on, on php.. so i plan to use ajax to monitor the file and get the output of the file and print it in the web browser every changes made to the file and it must be continuous.</p>\n\n<p>When i got the output how can i use it to say compare it to a string?.</p>\n\n<p>Here's my sample code in php.</p>\n\n<pre><code>$process = proc_open($command, $descriptor, $pipes, $cwd, $env);\n</code></pre>\n\n<p>How can i do it in ajax?.. thanks a lot.</p>\n"},{"tags":["jquery","ajax","asp.net-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12311574,"title":"passing jquery array to asp.net mvc controller","body":"<p>how exactly should the 'myArray' array be passed to the mvc controller? I've tried everything but i can't seem to get anything to work</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>[HttpPost]\npublic ActionResult MyAction(MyModel model, List&lt;string&gt; myArray) {\n     //code...\n}\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>$('#dialog').dialog({\n        //...\n        buttons: {\n            \"Cancel\": function () {\n                $(this).dialog(\"close\");\n            },\n            \"Submit\": function () {\n                var arrCount= 0;\n                var myArray = new Array();\n\n                //grabs all the dropdownlists that begin with id 'dropdownlist' and adds it to 'myArray'\n                $('form').contents().find(\"select[id ^= 'dropdownlist'] option:selected\").each(function () {\n                    myArray[arrCount++] = $(this).text();\n                });\n\n                if ($('form').validate().form()) {\n                    $.ajax({\n                        url: \"MyController/MyAction\",\n                        type: 'POST',\n                        dataType: \"json\",\n                        traditional: true,\n                        data: { \n                           model: $(\"form\").serialize(),\n                           myArray: myArray\n                        },\n                        success: function (result) {\n                            alert(\"debug: complete\");\n                        }\n                    });\n                }\n            }\n        }\n    });\n</code></pre>\n\n<p>I know how to pass in the array by itself to the controller. But, once i add my existing model into the equation, i'm unsure as to how i would be able pass my array to the controller. Any thoughts?</p>\n"},{"tags":["ajax","solr","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":13143849,"title":"Angular.js - Filter in img src tag","body":"<p>We use Angular mainly for our search form, which is pretty complex. We use <strong>Solr</strong> as search framework and get our search results via <strong>AJAX/JSONP</strong>, which works perfectly.</p>\n\n<p>There should be an image in every search result, but it can happen that there is none. \nI use a filter to prevent nasty \"X\"s in the Internet Explorer when there is no img-URL in my search result. </p>\n\n<pre><code>angular.module('solr.filter', []).\n    filter('searchResultImg', function() {      \n        return function(input) {\n            if (typeof(input) == \"undefined\") {\n                return \"http://test.com/logo.png\";\n            } else { \n                return input;\n            }\n        };\n});\n</code></pre>\n\n<p>My linked image looks like this in the source code:</p>\n\n<pre><code>&lt;a href=\"{{doc.url}}\"&gt;&lt;img src=\"{{doc.image_url | searchResultImg}}\"/&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Like I said, the infos are delivered correctly, the \"problem\" I have is that Firebug sends a GET request with the Angular src like: </p>\n\n<pre><code>http://test.com/foldername/%7B%7Bdoc.image_url%20|%20searchResultImg%7D%7D\n</code></pre>\n\n<p>The link is edited, so it won't work. Else customer freak out ;) </p>\n\n<p>Does anyone have experience with this behaviour or knows a better way to set filters for src-tags?</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13143337,"title":"check box using onchange","body":"<p>I have check boxes that get generated dynamically, when the check box is checked the onchange  method works fine and my function is called also when the box is unchecked by user the onchange method calls my intended function the problem is when the box is checked  a part of the page becomes active which is good but when the user un-checks the checkbox the that part of the page becomes active again, and the value of the checkbox \"checked \" stays yes after the first time it was checked. Is there way to detect when the user choose to un-check so the active part of the page becomes inactive. </p>\n\n<p>her is my code     </p>\n\n<pre><code>echo  '&lt;table width=\"85%\" border=\"1\"  cellpadding=\"0\"; cellspacing=\"0\" align=\"center\"&gt;\n\n        &lt;tr&gt;        \n            &lt;th width=\"23%\" height=\"44\" scope=\"col\" align=\"left\"&gt; '.$query_rows['categoryTopic'].' &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/th&gt;\n            &lt;th width=\"24%\" scope=\"col\"&gt;'.$Count.'&lt;/th&gt;\n            &lt;th width=\"25%\" scope=\"col\"&gt; 0 &lt;/th&gt;\n            &lt;th width=\"28%\" scope=\"col\"&gt; &lt;form  name = \"choose\" method=\"post\" action=\"activateImages.php\"&gt;\n            &lt;input type=\"checkbox\" value= \"5\" onChange=\"window.edit()\" &lt;/form&gt;&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;';\n    }\n    ?&gt;\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>&lt;script type=\"text/jscript\"&gt;\n//this funciton will be called when user checks a check box. \nfunction edit(){\n\n\n     //get selected category from the form \n    //var formName = 'choose';\n    //var Category = document[formName]['choose'].value;\n\n\n    //check if browser suports ajax\n    var xmlhttp = null;      \n    if(typeof XMLHttpRequest != 'udefined'){\n      xmlhttp = new XMLHttpRequest();\n    }\n\n    else if(typeof ActiveXObject != 'undefined'){\n        xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');\n    }\n\n    else \n        throw new Error('You browser doesn\\'t support ajax');\n\n\n    //open connection with activateImages.php to recieve the active images as an acho\n    xmlhttp.open(\"GET\", \"activateImages.php\",true);         \n\n    //echeck if ready to recieve        \n    xmlhttp.onreadystatechange = function (){\n\n    if(xmlhttp.readyState == 4)\n      window.activate(xmlhttp);\n    };\n\n    xmlhttp.send(null);\n    }\n\n    //recieve the active images then insert them in the specified location of the page. \n    function activate(xhr){\n\n        if(xhr.status == 200){\n            document.getElementById('images').innerHTML = xhr.responseText;\n\n        }\n        else \n            throw new Error('Server has encountered an error\\n'+\n            'Error code = '+xhr.status);\n\n}\n\n&lt;/script&gt;\n</code></pre>\n\n\n"},{"tags":["php","ajax","url","joomla"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13143143,"title":"AJAX function call within Joomla Component","body":"<p>I have a good understanding of AJAX and normally would have no problems using it but I am relatively new to Joomla and have only recently started building components, etc.</p>\n\n<p>I have created a component (named directory) which is using the 'default' view. Within here I have the following code which is an AJAX call:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;                         \nvar url = \"index.php?option=com_directory&amp;view=directory&amp;task=clubFilter&amp;format=raw\";\njQuery(document).ready(function() {\n    jQuery('#city').change(function() {         \n\n        jQuery.ajax({\n            url: url,\n            type: \"POST\",\n            data: jQuery(\"#city\").serialize(),\n            dataType: 'json',\n            success: function(data) {\n                alert('data');\n            }\n        });\n    });\n});\n</code></pre>\n\n<p></p>\n\n<p>And within my 'views/directory/views.html' file I have created the following function which currently contains a die so I can confirm when it is working:</p>\n\n<pre><code>public function clubFilter() {\n        die(print_r('here_i_am'));\n    }\n</code></pre>\n\n<p>When I run the following code I ge the following error within Firebugs console..</p>\n\n<pre><code>'Error: 500 View not found [name, type, prefix]: directory, raw, directoryView'\n</code></pre>\n\n<p>I think it is because of the AJAX url var being incorrect but I have tried many different solutions from here nad other sources and just can't get the AJAX function working. Is my URL wrong?\nMany Thanks</p>\n"},{"tags":["php","jquery","ajax","variables"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13142693,"title":"jQuery AJAX return variable + value possible?","body":"<p>I'm submitting a form via jQuery.ajax()</p>\n\n<p>Now my <strong>PHP</strong> script is checking if a specific input field is empty, example:</p>\n\n<pre><code>$is_error = $user-&gt;is_error;\n\nif($is_error !=0)\n { \n    echo $is_error;\n }\n</code></pre>\n\n<p>Back to my jQuery.ajax() , I'd like to check if the value of $error was true or not, within the <em>sucess:</em> part of the jQuery.ajax() call.</p>\n\n<pre><code>   jQuery.ajax({\n           type: \"POST\",\n           url: \"edit.php\", \n           data: jQuery(\"#idForm\").serialize(),\n           success: function(data)\n       {   \n\n        // show response from the php script if there is an error message\n        // like:\n        //         if(is_error) {show specific error message}\n        //         else {show everything positive message}\n\n       }\n    });\n</code></pre>\n\n<p>Is it possible to check the PHP variable's value in there? Like if/else ?</p>\n\n<p>Best regards!</p>\n"},{"tags":["javascript","jquery","ajax","arrays","each"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13036504,"title":"Waiting ajax success before next iteration","body":"<p>I have to perform ajax requests for a specific Array and wait for the server response before proceeding to the next iteration in the loop.</p>\n\n<p>I currently have my iterations performed simultaneously. How do I proceed only after ensuring the success?</p>\n\n<p>Thanks for any advice.</p>\n\n<pre><code>myArray.each(function(val, index) {\n    new Ajax.Request(myUrl + val, {\n        onSuccess: function() {\n               responseFromServer();\n        }\n    });\n    void(0);\n});\n</code></pre>\n"},{"tags":["javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":29,"score":-6,"question_id":13142853,"title":"How does dynamic page load works?","body":"<p>I want to understand how the page is loaded dynamically using AJAX? In some websites the user scrolls down and page is appended with the new data.How this can be achieved?As in do i need to create new HTML element like div to append new data to existing page? Or how this can be done?</p>\n\n<p>Any help is greatly appreciated.</p>\n\n<p>Thanks </p>\n"},{"tags":["javascript","ajax","file-upload"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1861,"score":1,"question_id":4863286,"title":"How to upload and preview the uploaded image using AJAX","body":"<p>I have created the following web page: </p>\n\n<pre><code>...\n&lt;img alt=\"\" src=\"images/frame.png\" id=\"contact-image\" /&gt;\n&lt;form enctype=\"multipart/form-data\" action=\"PHPScripts/upload.php\" method=\"POST\"&gt;\n    &lt;input type=\"file\" id=\"browseContactImageButton\" name=\"image\"\n           accept=\"image/jpg,image/jpeg,image/png,image/gif\"\n           onchange=\"this.form.submit();\" /&gt;\n&lt;/form&gt;\n...\n</code></pre>\n\n<p>I want to be able to upload the the image to file system or database (haven't decided yet) and to be able to see the uploaded image in the <code>&lt;img id=\"contact-image\" /&gt;</code> immediately after the file has been uploaded, without reloading the page, i.e. using AJAX. </p>\n\n<p>Can you show me the concept that I should follow? I know that I am making a mistake by calling the <code>PHPScripts/upload.php</code> on form submitting. My guess is that I should call some javascript function instead, but where do I go from there and what should that function look like? Thanks. </p>\n"},{"tags":["asp.net","ajax","ajaxcontroltoolkit"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":8356,"score":0,"question_id":2138565,"title":"Drop Down List (in Update Panel) causing FULL PostBack!","body":"<p>I have a problem with my AJAX and ASP.NET 3.5 :(\nProblem is really weird, as I'm using the same thing on different page and it works fine in there, but on this specific page, this is not working.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>    &lt;asp:UpdatePanel ID=\"upMain\" runat=\"server\" UpdateMode=\"Conditional\" Visible=\"true\" RenderMode=\"Inline\"&gt;\n                &lt;ContentTemplate&gt;\n&lt;asp:DropDownList ID=\"ddlNewService_PortTelco\" runat=\"server\" Width=\"250\" CssClass=\"dropdown\" AutoPostBack=\"true\" OnSelectedIndexChanged=\"Provision_PortedTelcoChanged\"&gt;&lt;/asp:DropDownList&gt;\n&lt;/ContentTemplate&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>On the way before the DropDown there is one DIV (html one), and then few asp:Panels.\nI do not understand why this is causing a FULL POST BACK ?!</p>\n\n<p>Any ideas ? Thanks</p>\n"},{"tags":["jquery","ajax","twitter","jsonp"],"answer_count":2,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":4601,"score":10,"question_id":3996438,"title":"twitter search api with jquery error","body":"<p>I need to request a twitter search with jquery using twitter api. After read <a href=\"http://apiwiki.twitter.com/Twitter-Search-API-Method%3a-search\">documentation</a> I write this code:</p>\n\n<pre><code>  $.getJSON(\"http://search.twitter.com/search.json?callback=myFunction&amp;q=stackoverflow\");\n\n   function myFunction(r) {\n       console.log(r);\n    }\n</code></pre>\n\n<p>search.json Failed to load resource> When the page is executed, Google Chrome show this error on Console:</p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load\n  <a href=\"http://search.twitter.com/search.json?callback=myFunction&amp;q=stackoverflow\">http://search.twitter.com/search.json?callback=myFunction&amp;q=stackoverflow</a>.\n  Origin <a href=\"http://localhost/twitter\">http://localhost/twitter</a> is not\n  allowed by\n  Access-Control-Allow-Origin.\n  search.json Failed to load resource</p>\n</blockquote>\n\n<p>what is the problem?</p>\n"},{"tags":["jquery","ajax","post"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13142561,"title":"jquery ajax post never completes","body":"<p>One of Nine uses consistently does not fire, as in Firebug the break at \"return false;\" never catches a completed execution, on this one call. The best part, the exact same call (the jquery ajax) works fine in a stand alone web page. </p>\n\n<p>I have read many excellent suggestions and have gleaned a great deal from the collective talent out there. This particular issue has me perplexed and I'm hoping that someone out there has come across this, and specifically, I'm hoping that it turns out to be something truly simple.   </p>\n\n<p>The following function works on 8 out of 9 defined calls. The data used is consistent with the successful calls. The parameters for \"posturl\" and \"postdata\" are constructed prior to any of the calls.</p>\n\n<p>\"posturl\" contains a uri for an asp.net proxy and a uri destination.</p>\n\n<p>\"postdata\" has been used as both a reference object such as { Command : 1, ...}, or if your prefer { Command : \"1\", ...}, and as a string as in \"Command=1&amp;...\" - my preference is as a reference object (cleaner, simpler, ...). The \"Command\" element data is actually in the Web Services class as an int and it has been passed as both string and int successfully in other service calls. All other data elements are strings to the Services classes.</p>\n\n<pre><code>function PostTheCall(posturl, postdat) {\n\n    $.ajax({ url: posturl,\n        data: postdat,\n        type: 'POST',\n        contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n        cache: false,\n        dataType: 'json',\n        error: OnPostAccessError,\n        success: OnPostAccessSuccess,\n        complete: OnPostAccessComplete,\n        beforeSend: OnPostAccessBeforeSend\n    });\n\n    return false;\n};\n</code></pre>\n\n<p>In addition, I have also used the following without any effect on the nine service calls - just something else I have already tried:</p>\n\n<pre><code> accept: 'application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png;q=0.5,OPTIONS,POST',\n</code></pre>\n\n<p>So have at it folks, wake me from this weird journey into the rabbit hole...</p>\n\n<p>Thanks in advance, Chuck</p>\n"},{"tags":["jquery","ajax","ruby-on-rails-3","ruby-on-rails-3.2","erb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13142221,"title":"JSON::GeneratorError in a .js.erb file","body":"<p>I don't understand what I'm doing wrong..</p>\n\n<p>I am attempting to catch a 401 unauthorized and inserting a div with a message before the submit button using </p>\n\n<pre><code>$(function() {\n  return $(\"a\").ajaxError(function(event, jqXHR, ajaxSettings, thrownError) {\n    if (jqXHR.status === 401) {\n      $(\".submit\").before(&lt;%=j content_tag :div, \"Does not compute\" %&gt; );\n    }\n  });\n});\n</code></pre>\n\n<p>the name of the file is home.js.erb</p>\n\n<p>even before the page loads I get </p>\n\n<pre><code>JSON::GeneratorError in Pages#home\n\nShowing H:/project/app/views/layouts/application.html.erb where line #6 raised:\n\nonly generation of JSON objects or arrays allowed\n  (in H:/project/app/assets/javascripts/home.js.erb) \n</code></pre>\n\n<p>line #6 refers to </p>\n\n<pre><code>5:   &lt;%= stylesheet_link_tag    \"application.css\", :media =&gt; \"all\" %&gt;\n6:   &lt;%= javascript_include_tag \"application\" %&gt;\n</code></pre>\n\n<p>obviously something is wrong.. but what?</p>\n"},{"tags":["jquery","html","ajax","xcode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13141890,"title":"Xcode ajax call to a local resource","body":"<p>We have an xCode app with an <code>UIWebView</code> inside. In the webview there is the following JS code:</p>\n\n<pre><code>function ajaxCall(file)\n{\n    $.ajax({\n        url:'ajax/'+file,cahce:false,async:true,\n        success:function(data){$('#holder').html(data)}\n    });\n}\n</code></pre>\n\n<p>There is a <strong>local</strong> folder called <code>ajax</code> filled with HTML files and we're trying to load the asynchronously. When I run the html code from <code>127.0.0.1</code> everything is OK, when I run the code as a local HTML file on my laptop it says <code>'XMLHttpRequest cannot load file:///C:/xampp/htdocs/webroot/ajax/file.html. Origin null is not allowed by Access-Control-Allow-Origin.'</code>. On an iPhone device it is not working too.</p>\n\n<p>I cannot find the error on the iPhone. I've tried to debug it using <code>error:function(jqXHR, textStatus, errorThrown){alert(textStatus);}</code> but it says 'error' and nothing more. <code>errorThrown</code> is also empty.</p>\n\n<p>What is the correct way to create ajax calls to local files on the iPhone?</p>\n\n<p>FIX: is there a way to create a fake <code>Access-Control-Allow-Origin: *</code> for the HTML files inside <code>ajax</code> folder?</p>\n"},{"tags":["jquery","ajax","internet","explorer"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13130596,"title":"Jquery $.get or $.ajax not working in Internet Explorer","body":"<p>I've been running this code in IE 9 without luck. I've looked at all the posts about UTF-8 fixing and such but to no avail. Any thoughts?</p>\n\n<pre><code>$.get({\n  url: 'http://api.flickr.com/services/rest/?api_key={apikey}&amp;method=flickr.collections.getTree&amp;user_id=66970820%40N03&amp;collection_id=66947766-72157631850748939',\n  success: function(){ console.log('success!'); }\n}).done(function(){ \n  console.log('done');\n}).fail(function(){ \n  console.log('fail')\n});\n</code></pre>\n\n<p>It works just fine in Safari, FF and Chrome. When pasting the URL into IE, the response is fine.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","typescript"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":13141028,"title":"What arguments are supplied to the function inside an ajax .done?","body":"<p>I have the following:</p>\n\n<pre><code>    $.ajax(link.href,\n    {\n        cache: false,\n        dataType: 'html'\n    })\n        .done(onDialogDone)\n        .fail(onDialogFail);\n</code></pre>\n\n<p>This works fine and onDialogDone is called. However what arguments should I expect to see supplied to the onDialogDone and what should I expect to see for onDialogFail. </p>\n\n<p>The reason I am asking is because I use typescript and I want to supply the correct arguments when I define my onDialogDone and onDialogFail.</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":100,"score":3,"question_id":13090993,"title":"ajax very slow in IE 8 but very fast in firefox and chrome","body":"<p>There are a lot of similar posts but nothing quite fit my need. So I am forced create a post. </p>\n\n<p>List of names are displayed on a jsp page. When you hover over a name, I do an ajax call to display the details for that name in a tooltip popup. </p>\n\n<p>The users will be using IE8. It takes approximately about 5 seconds to do this simple thing in IE8 where as in Firefox and chrome it happens instantly. </p>\n\n<p>What I have also noticed is that as the numbers of name displayed increases or decreases, the response time also does the same in IE8. </p>\n\n<p>How can I make it faster in IE8? </p>\n\n<p>jsp page</p>\n\n<pre><code>&lt;td onmouseover =\"showDetails('${origin }')\"&gt;\n    &lt;a href=\"#\"&gt;&lt;c:out value=\"${origin}\"&gt;&lt;/c:out&gt;&lt;span id=\"info\"&gt;&lt;/span&gt;&lt;/a&gt; \n&lt;/td&gt;\n</code></pre>\n\n<p>javascript function</p>\n\n<pre><code>function showDetails(stop){\n    var xmlHttpRequest; \n    if(window.XMLHttpRequest){\n        xmlHttpRequest = new XMLHttpRequest();\n    }else{\n        xmlHttpRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlHttpRequest.onreadystatechange=function(){\n        if(xmlHttpRequest.readyState == 4 &amp;&amp; xmlHttpRequest.status == 200){\n            document.getElementById(\"info\").innerHTML = xmlHttpRequest.responseText;\n        }\n    }\n    xmlHttpRequest.open(\"GET\", \"showStopsInfoPopup.do?stop=\"+stop, true);\n    xmlHttpRequest.send();\n}\n</code></pre>\n"},{"tags":["jquery","ajax","cookies","httponly"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":348,"score":2,"question_id":9935734,"title":"jQuery redirects and HttpOnly cookies","body":"<p>We're using JQuery AJAX to login.  The login service issues a HTTP 302, with the location being the GET for the user logged in, or (in the case of a log in failure), a REST endpoint that always returns a not authorized HTTP status.  At the same time as the 302, we issue a set cookie for the JSESSIONID. The cookie is a HttpOnly cookie.</p>\n\n<p>When using a straight HTTP form post, the redirect works fine, and everything is set.  When using JQuery AJAX, the redirect to the GET /user/{userId} doesn't work as the cookie is not sent with the second call.  This failed second call should trigger yet another redirect to the auth-failed endpoint, but it actually doesn't.  Inspecting it, I see that the second call gets \n\"canceled\".  What does that mean, and how do I fix the problem in the first place?</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13140803,"title":"How do I do a Quicksearch or autocomplete on a selectbox populated from a database?","body":"<p>I have a select box populated a from a database and would like to do a quicksearch or a autocomplete to search the elements inside the select box. Below is my code:</p>\n\n<pre><code>    &lt;?\n           print(\"&lt;table&gt;\");\n        print(\"&lt;tr&gt;\");\n            print(\"&lt;td&gt;\");\n            //print(\"&lt;div id='searchable-form' &gt;\");  //\n            print(\"&lt;div id='searchable'&gt;Search: &lt;input type='text' id='searchFILE' size='33' autocomplete='off' /&gt;&lt;/div&gt;\");\n            print(\"&lt;select name='lktyp' id='lktypSearch' size='10' &gt;\");\n            //Create new SQL object\n            $db = new NSC_SQL($db2config);\n            $db-&gt;from($bllcust1,\"BCUST#,BNAME\");\n            $db-&gt;order(\"BCUST#\");\n            $db-&gt;select();\n            $results = $db-&gt;fetchAssoc();\n            $db-&gt;dspSQL();\n            foreach($results as $row)\n            {\n                $bcust = trim($row['BCUST#']);\n                $bname = trim($row['BNAME']);\n                print(\"&lt;option value='$bcust'&gt;$bcust ~ $bname&lt;/option&gt;\");\n            }\n            print(\"&lt;/select&gt;\");\n            print(\"&lt;/div&gt;\");\n            print(\"&lt;/td&gt;\");\n        print(\"&lt;/tr&gt;\");\n        print(\"&lt;tr&gt;\");\n            print(\"&lt;td colspan='2' align='center'&gt;\");\n            //print(\"&lt;input type='submit' name='search' value='Search'&gt;\");\n            print(\"&lt;input type='button' value='Select' onclick='lkp();'&gt;\");\n            print(\"&lt;input type='button' name='cancel' value='Cancel' onClick='parent.$.fancybox.close();'&gt;\");\n            print(\"&lt;/td&gt;\");\n        print(\"&lt;/tr&gt;\");\n    print(\"&lt;/table&gt;\");\n</code></pre>\n\n<p>?></p>\n"},{"tags":["ajax","forms","zend-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13126894,"title":"Zend Form: onchange select load another view content","body":"<p>In my application I have a form in controller/index that consists out of 3 select boxes. When all three boxes have a value selected I need to show additional html and extra form options in the same view based on those select values. The obvious solution seems to make an ajax call to another action that handles the database operation and creates a view and loading that view into the controller/index.phtml </p>\n\n<p>I have been able to load a view of another action in the index.phtml by using:</p>\n\n<pre><code>$('#select').change(function() {\n    event.preventDefault();\n    var id = $(this).attr('id');\n    $('#results').show();\n    $('#results').load('/controller/index/' + $(this).attr('value'));\n    return false;\n});\n</code></pre>\n\n<p>However I need to pass the variables of all three select boxes and for that I alternatively used:</p>\n\n<pre><code>$('#select1').change(function() {\nvar select1     = $('#select1').val();\nvar select2     = $('#select2').val();\nvar select3     = $('#select3').val();\n$.ajax({\n    type: 'POST',\n    dataType: 'json',\n    url: '/controller/index/',\n    data: { select1: select1, select2: select2, select3: select3},\n    success: function(result){\n                var return1 = result.return1;\n                var return2 = result.return2;\n         }\n    });\n\n});\n</code></pre>\n\n<p>The last method works in as far that I do see the variables passed in the headers and the response contains the view, but I cant fix it that just the content of the ajax view is placed within the index view. (Ofcourse by not using AjaxContent switching, the ajax view will load but that includes the complete layout as well.) Anything that I echo in the ajax action or ajax view do not show in the index view. Any pointer would be more than welcome</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>the ajax action now looks like</p>\n\n<pre><code>$this-&gt;view-&gt;layout()-&gt;disableLayout();\n$this-&gt;_helper-&gt;viewRenderer-&gt;setNoRender(true);\n\n$select1 = $this-&gt;_request-&gt;getParam('select1');\n$select2 = $this-&gt;_request-&gt;getParam('select2');\n$select3 = $this-&gt;_request-&gt;getParam('select3');\n\n// DO THE OTHER STUFF AND LOGIC HERE\n\n$results = array(\n 'return1' =&gt; 'value1',\n 'return2' =&gt; 'value2'\n);\n\n$this-&gt;_response-&gt;setBody(json_encode($results));\n</code></pre>\n\n<p>and the controller init</p>\n\n<pre><code>public function init() {\n$ajaxContext = $this-&gt;_helper-&gt;getHelper('AjaxContext');\n$ajaxContext-&gt;addActionContext('ajax', 'json')-&gt;initContext();\n}\n</code></pre>\n\n<p>So everything works, I can see the returned values in the response by using developer tool (network) in my browser, however I just do not know how I can use this to \"update\" the view</p>\n"},{"tags":["javascript","jquery","ajax","cross-domain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13139673,"title":"\"Security Err: Dom Exception\" thrown when nesting ajax calls","body":"<p>Here's the issue.  I'm extracting gmail contacts through an ajax call in javascript/jquery like this:</p>\n\n<pre><code>function getUserInfo() {\n  var xml_parse = \"\";\n  $.ajax({\n    url: SCOPE + '?max-results=9999&amp;access_token=' + acToken\n    data: null,\n    success: function (resp) {\n      xml_parse = $.parseXML(resp);\n      callGmailHelperWebService(xml_parse);\n    },\n    dataType: \"jsonp\"\n   });\n }\n\n function callGmailHelperWebService(xml_parse) {\n   GmailHelperService.ConvertXMLToList(xml_parse, onSuccess, onFailed, null);\n }\n</code></pre>\n\n<p>So, as you can see, if the initial ajax call is successful, i call a function which calls a web service that sits on the save server as my project (in fact, it's part of the project). </p>\n\n<p>My web service (GmailHelperService) is wired up correctly, as I can definitely call it in other places (like right after this ajax call, for example).  However, when I try to call it within the \"success\" portion of the ajax call, i get the following error:</p>\n\n<blockquote>\n  <p>Uncaught Error: SECURITY_ERR: DOM Exception 18 </p>\n</blockquote>\n\n<p>My theory is that this has something to do with cross-domain issues, but I can't understand why.  And I certainly can't figure out how to fix this. </p>\n\n<p>I'd appreciate any help.  </p>\n"},{"tags":["php","javascript","mysql","ajax","database"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":43,"score":-2,"question_id":13140764,"title":"Is there any code for saving characters automaticaly which are pressed by user to database -without send button-","body":"<p>It can be JavaScript, Ajax or PHP. A need a real code parts or good guide. Is there any link?</p>\n\n<p>Purpose of this: I am planning a keyboard game which is running with characters which are pressed by user. If user press the button a, I have to sent send this data to MySQL database. Is this possible? If yes, with which code?</p>\n"},{"tags":["php","javascript","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13140248,"title":"Dynamic textbox creation with db using ajax/javascript/php","body":"<p>I have two tables. company_details and company_specials. Each company_details can have multiple specials. I display the company details at <a href=\"http://eurothermwindows.com/ed/admin.php\" rel=\"nofollow\">http://eurothermwindows.com/ed/admin.php</a></p>\n\n<p>The first row and fourth row that has the 0 in the active column is from company_details and the rows below are from company_specials.</p>\n\n<p>Currently the code allows for dynamic modification of the company_details rows as denoted by the compid in that table. However i would like to have the rows below it to be dynamically modified as well but it's using the same compid and i'm not sure how to separate them in the code.</p>\n\n<p>Code below is the code being generated for the company_specials. I need a way to uniquely identify each row and be able to modify it.\n<a href=\"http://pastebin.com/RAe9iwAP\" rel=\"nofollow\">http://pastebin.com/RAe9iwAP</a></p>\n\n<p>Could somebody provide some guidance please? I'm thinking that i would probably need to uniquely identify each of the specials within the company_specials or set some sort of pointers?</p>\n"},{"tags":["jquery","ajax","google-chrome","animation","preloader"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13140033,"title":"CSS3 animation not working in webkit","body":"<p>I have an animation that works perfectly fine in all browsers but the webkit ones. In webkit it shows only 1 circle rotating, while others work fine with all 5 circles. The animation preview is here - <a href=\"http://cssload.net/windows8.html\" rel=\"nofollow\">http://cssload.net/windows8.html</a></p>\n\n<p>what is wrong with the code? please, help...</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13140454,"title":"Possible to call a parent javascript function from an ajax child?","body":"<p>I am using ajax to refresh the contents of a div.  Inside that ajax script, a new count, called myTasks, is created in a session variable (<code>$_SESSION['myTasks']</code>).</p>\n\n<p>Also within that ajax script, I'm checking the new value against the session value before reassigning the session value to the new value.  If the new value is greater than the one in the session variable, I would like to play a chime sound - which is about 2 seconds in length.  I have the following code to make the chime sound play:</p>\n\n<pre><code>&lt;audio src=\"./sounds/newTask.wav\" id=\"newTaskSound\" preload=\"auto\"&gt;&lt;/audio&gt;\n</code></pre>\n\n<p>This worked just fine in the sense that it started to play the sound.  However, my ajax timer is set to go off every second, thus the sound was being cut off (at best) half way through playing... more often then not, only a quarter of the chime was being played.</p>\n\n<p>What I would like to do is this: If the new myTasks count is greater than the session variable, call a javascript function in the main page (same one that contains the ajax call functions).</p>\n\n<p>My question is this:  How can I get the ajax \"child\" to call the html \"parent\" functions?  I've tried several things, such as: </p>\n\n<pre><code>&lt;script type='text/javascript'&gt;window.top.playNewTask.call();&lt;/script&gt;\n</code></pre>\n\n<p>but I can't get anything to work.</p>\n\n<p>Is there a way to call a javascript function from the ajax child?</p>\n"},{"tags":["java","javascript","ajax","web-applications","servlets"],"answer_count":3,"favorite_count":9,"up_vote_count":7,"down_vote_count":0,"view_count":12482,"score":7,"question_id":3028490,"title":"calling a java servlet from javascript","body":"<p>I am trying to create a web application using the MVC design pattern. For the GUI part I would like to use JavaScript. And for the controller Java Servlets.</p>\n\n<p>Now I have never really worked with JavaScript, so I'm having a hard time figuring out how to call a Java Servlet from JavaScript and how to get the response from the Servlet. </p>\n\n<p>Can anybody help me out?</p>\n"},{"tags":["jquery","ajax","forms","post","jquery-validate"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13140133,"title":"Cannot Submit Form with Ajax and jQuery Validate","body":"<p>I'll admit it, I'm new to AJAX, I've always just submitted forms the old school way with a post action on the form itself and that's been fine. Now I'm trying to work with submitting a form in jQuery via AJAX using the jQuery validate plugin. </p>\n\n<p>I haven't gotten into checking my server side validation yet, I just want to be sure that I can my client side information validated and submitted. I cannot find a single resource that puts it all together. I can find a lot of information on making the validation work and I've found information on posting via AJAX, but I cannot seem to string it all together.</p>\n\n<p>My submission code goes a little something like this:</p>\n\n<pre><code>$(function() {\n$(\"#contactForm .submit-button\").click(function() {\n    var Name = $(\"#Name\").val();\n    var Phone = $(\"#Phone\").val();\n    var Email = $(\"#Email\").val();\n    var Message = $(\"#Message\").val();\n    var dataString = 'Name=' + Name + '&amp;Phone=' + Phone + '&amp;Email=' + Email + '&amp;Message=' + Message;\n\n    $.ajax({\n    type: \"POST\",\n    url: \"scripts/contactengine.php\",\n    data: dataString,\n    success: function(){\n        $('#contactForm').fadeOut(1000);\n              $('.thanks').fadeIn(1000);\n    }\n    });\n    return false;\n\n}); \n</code></pre>\n\n<p>})</p>\n\n<p>However, it seems that I have to use the submit handler for jQuery validate:</p>\n\n<pre><code>$(\"#myForm\").validate({\nrules: {\n    command: 'required'\n},\n\nmessages: {\n    command: 'Please enter a command.'\n},\n\nsubmitHandler: function(form) {\n    $(form).ajaxSubmit({\n        success: function(data) { /* ... */ },\n        url: form.action,\n   });\n</code></pre>\n\n<p>My problem is that I've tried a few different ways of fitting my code together and I can't seem to make any magic... I've done some searching as well, but I'm just coming up with nothing at all.</p>\n\n<p>I'm hoping someone can help explain what I need to do to fit it together, also if anyone can recommend a good resource for doing server side validation in PHP using this method, I'd really appreciate it. </p>\n\n<p>Thank you!</p>\n"},{"tags":["php","jquery","html","mysql","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13139893,"title":"Jquery submit form with utf-8","body":"<p>i need help with a form submit.</p>\n\n<p>here is my code</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"js/jquery-1.7.2.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;  \n  $(document).ready(function(){  \n    $(\"#form\").submit(function(event) {  \n\n        /* stop form from submitting normally */  \n        event.preventDefault();   \n\n        $.post( \\'clase/app/add_meniu.php\\', $(\"#form\").serialize(),  \n          function( data ) {  \n              $(\"#status\").append(data);  \n          }  \n        );  \n      });  \n  });  \n&lt;/script&gt;  \n</code></pre>\n\n<p>and here is the html</p>\n\n<pre><code>&lt;form id=\"form\" method=\"post\" accept-charset=\"UTF-8\" &gt;\n         &lt;fieldset&gt;\n&lt;p&gt;\n        &lt;label&gt;Denumire&lt;/label&gt;\n        &lt;input class=\"text-input small-input\" type=\"text\" name=\"text\"   maxlength=\"200\" value=\"\"&gt;\n    &lt;/p&gt;\n&lt;p&gt;\n        &lt;label&gt;Link&lt;/label&gt;\n        &lt;input class=\"text-input small-input\" type=\"text\" name=\"link\"  maxlength=\"200\" value=\"\"&gt;\n    &lt;/p&gt;\n</code></pre>\n\n<p></p>\n\n<p>here is the add_meniu.php code</p>\n\n<pre><code>   require_once('../core/db.php');\n$text=$_POST['text'];\n    $link=$_POST['link'];\n    $limba=$_POST['limba'];\necho'&lt;div class=\"notification success png_bg\"&gt;\n                &lt;a href=\"#\" class=\"close\"&gt;&lt;img src=\"resources/images/icons/cross_grey_small.png\" title=\"Close this notification\" alt=\"close\" /&gt;&lt;/a&gt;\n                &lt;div&gt;\n                    Meniul '.$text.' a fost adaugat cu succes\n                &lt;/div&gt;\n            &lt;/div&gt;';\n\n$query = \"Insert into Meniu (Denumire,Link,ID_Limba)  VALUES ('\".$text.\"','\".$link.\"','\".$limba.\"')\";\n$result = mysql_query($query)\nor die(\"query failed: \" . mysql_error());\n</code></pre>\n\n<p>The thing is that in database when i insert info's from the external file \"add_meniu.php\" it doesnt insert it with UTF-8. I have my page, form and mysql table utf-8 , can you pls give me a solution?</p>\n"},{"tags":["jquery","ajax","url","url-routing","json.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12961848,"title":"request URL from browser or server","body":"<pre><code>$.ajax({\ntype: \"GET\",\nurl: \"/xyz.Web/Incls/ctrls/main/dtactrl/Data.aspx\",\n</code></pre>\n\n<p>now whenever I will push this on QA,DEV, OR PROD the xyz.Web is going to change but the remaining stream will remain same so is there a way to request the URI and paste it dynamically rather then hard coding the URL field??\n need some right direction to make it more efficient..thanks</p>\n"},{"tags":["ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":392,"score":0,"question_id":5808615,"title":"AJAX function(this.value)","body":"<p>Hey guys, i am learning ajax.</p>\n\n<p>I have this HTML:</p>\n\n<pre><code>&lt;form&gt;\n&lt;select name=\"1\" onchange=\"showUser(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a Country:&lt;/option&gt;\n&lt;option value=\"1\"&gt;Portugal&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n&lt;br /&gt;\n&lt;div id=\"txtHint\"&gt;&lt;b&gt;Person info will be listed here.&lt;/b&gt;&lt;/div&gt;\n</code></pre>\n\n<p>And this js:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction showUser(str)\n{\nif (str==\"\")\n  {\n  document.getElementById(\"txtHint\").innerHTML=\"\";\n  return;\n  } \nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"txtHint\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"getuser.php?q=\"+str,true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>And the PHP file:</p>\n\n<pre><code>&lt;?php\n\nif($_GET[\"q\"]==1){\n    echo \"hello world\";\n}\n\n\n?&gt;\n</code></pre>\n\n<p>Shouldn't this be enough to return a result?</p>\n\n<p>Thank you so much for your help.</p>\n"},{"tags":["jquery","ajax","multiple-select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":206,"score":0,"question_id":11515379,"title":"jQuery $.ajax POST Multiple Select Selections","body":"<p>I have a multipe select as part of my imput form and I would like to submit it's selected values via jQuery AJAX.</p>\n\n<p>I've tried to use the following syntax.</p>\n\n<pre><code>$('#multipleselect').val().join('|');\n</code></pre>\n\n<p>That works, bu the problem I am having is that the user is not required to select anything from the multiple select. If they don't I get an error because you cannot join a null object.</p>\n\n<p>Any Suggestions?</p>\n\n<p>Also keep in mind that there are other values being submitted. For example:</p>\n\n<pre><code>data: \"name=\" + $(\"#name\").val() + \"&amp;multipleselect=\" + $(\"#multipleselect\").val().join('|');\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":815,"score":0,"question_id":6991306,"title":"How do I debug a jQuery Ajax request?","body":"<p>My code is:</p>\n\n<pre><code>var test = \"it isn't working\";\nvar response = $.ajax({\n    type: 'GET',\n    url: 'jquerydemo.php', //This is in the same site as the page calling this request, so it's not a same-domain error.\n    success: function(){\n            test = \"it's working\";\n        },\n    error: function(){\n            alert(\"Error detected\");\n        }\n }).responseText;\nalert(test);\n</code></pre>\n\n<p>I tested the status code and it came out to a 200 and the error function never goes off, but neither does the success function.  Like I said in my comment, it isn't a same-origin policy error.  It just stays saying \"it isn't working\".  What's going on here?</p>\n"},{"tags":["ajax","asp.net-mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13138962,"title":"Ajax.BeginForm not working, and Response.IsAjaxRequest() is always false","body":"<p>I'm using MVC3\ni included the scripts</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"@Url.Content(\"~/Scripts/jquery-1.7.1.min.js\")\" &gt;&lt;/script&gt; \n&lt;script type=\"text/javascript\" src=\"@Url.Content(\"~/Scripts/jquery.unobtrusive-ajax.js\")\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>in web.config </p>\n\n<pre><code>&lt;add key=\"ClientValidationEnabled\" value=\"true\" /&gt;\n&lt;add key=\"UnobtrusiveJavaScriptEnabled\" value=\"true\" /&gt;\n</code></pre>\n\n<p>this is my simply view \n    <p></p>\n\n<pre><code>  @using (Ajax.BeginForm(\"AjaxLogOn\", \"Account\", null, new AjaxOptions { HttpMethod = \"POST\" }))\n    {        \n        &lt;label&gt;Login&lt;/label&gt;\n        @Html.TextBox(\"UserName\")\n        &lt;br /&gt;\n        &lt;label&gt;Password&lt;/label&gt;\n        @Html.Password(\"Password\")\n        &lt;br /&gt;\n        @Html.CheckBox(\"RememberMe\") &lt;text&gt;Remember me &lt;/text&gt; \n        &lt;br /&gt;\n        &lt;input type=\"submit\" value=\"LogOn\" id=\"login\" /&gt;\n        &lt;br /&gt;\n        &lt;span id=\"logOnMessage\"&gt;&lt;/span&gt;                  \n    }\n&lt;/p&gt;\n</code></pre>\n\n<p>and action </p>\n\n<pre><code> public ActionResult AjaxLogOn(string UserName, string Password, bool? RememberMe, string returnUrl)\n    {\n    if (Request.IsAjaxRequest())\n    {                                        \n    }\n    return Json(result);\n    }\n</code></pre>\n\n<p>in this action IsAjaxRequest() method always returns false. And there isn't X-Requested-With:XMLHttpRequest element in request headers.\nWhat is the problem?</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13138688,"title":"modified two div with ajax","body":"<p>Hi everyone I am very new in jquery and ajax</p>\n\n<p>I use a dialog to show a form, when when I submit the form I save the value in DDBB, and recall the same page again. I want to show the new result without call again the view.</p>\n\n<pre><code>$(\"a[rel^='valora']\").click(function(){\n            var idea= $(this).data('idea');\n            $(\"#valorar\").load('{{path('valorarIdea')}}',{idea: idea}).dialog({\n                height: 216,\n                width: 389,\n                modal: true\n            });\n        });\n    });\n</code></pre>\n\n<p>so first I modifierd #valora and second I have to modified other div\nany idea!!! </p>\n"},{"tags":["jquery","ajax","xmlhttprequest","firebug","google-chrome-devtools"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13129904,"title":"How do I debug Javascript which was loaded via AJAX (specifically jQuery)","body":"<p>I have changed my coding style with more complex projects to loading pages (And their embedded scripts) \"on demand\" recently. However, it is difficult to debug those scripts as when they are loaded like:</p>\n\n<pre><code>jQuery.get('/myModularPage', function(html){ /* insert the loaded page into the DOM */ });\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$('#some-container').load('/myOtherPage');\n</code></pre>\n\n<p>These scripts run perfectly, but if I'm debugging, how can I set breakpoints in these dynamically loaded pages and scripts?</p>\n"},{"tags":["javascript","jquery","ajax","asp.net-mvc-3","relative-path"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":500,"score":2,"question_id":10739783,"title":"Ajax, asp.net mvc3 routes and relative urls","body":"<p>I have an ASP.NET MVC3 application published to a url like this: </p>\n\n<pre><code>http://servername.com/Applications/ApplicationName/\n</code></pre>\n\n<p>In my code, I am using jquery ajax requests like this:</p>\n\n<pre><code>$.get(('a/b/c'), function (data) {}, \"json\");\n</code></pre>\n\n<p>When I run the application locally, the ajax request goes directly to the correct page (being an mvc route) because the local page ends with a \"/\" (<code>localhost/a/b/c</code>).</p>\n\n<p>However, when I publish to <code>http://servername.com/Applications/ApplicationName/</code>, the trailing \"/\" is not always present. The url could be <code>http://servername.com/Applications/ApplicationName</code>, which then causes the ajax request to try to load <code>http://servername.com/Applications/ApplicationNamea/b/c</code>, which fails for obvious reasons.</p>\n\n<p>I have already looked into rewriting the url to append a trailing slash, but A) It didn't work, and B) I feel like it's a poor solution to the problem, and that it would be better to configure the javascript urls to work properly regardless of the local folder setup.</p>\n\n<p>I did try \"../a/b/c\" and \"/a/b/c\", but neither seemed to work.</p>\n\n<p>Thanks in advance for the help!</p>\n"},{"tags":["php","ajax","database","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13137682,"title":"Joomla AJAX call losing Joomla database class","body":"<p>I am currently building some functionality into a <strong>Joomla</strong> build whereas results are returned from a database on a select box change.\nThe issue I am having is when I make the <code>Ajax</code> call I get a <code>Class JFactory</code> not found' error which I presume because the file where the php code is run is not considered to be inside the Joomla framework when the <code>AJAX</code> call is made?\nI have tried to solve this myself but am having trouble.\nCan anyone point me n the right direction as to where I am going wrong?</p>\n\n<p>The <code>Ajax</code> call (inside index.php):</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var url = \"&lt;?php echo $this-&gt;baseurl; ?&gt;/templates/&lt;?php echo $this-&gt;template; ?&gt;/directory_code.php\";\n    jQuery(document).ready(function() {\n        jQuery('#city').change(function() {         \n        jQuery.ajax({\n            url: url,\n            type: \"POST\",\n            data: jQuery(\"#city\").serialize(),\n            dataType: 'json',\n            success: function(data) {\n            alert('data');\n            }\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And the function (inside a file called directory_code.php):</p>\n\n<pre><code>if(isset($_POST)) {\n    if(isset($_POST['city'])) {\n        $city = $_POST['city'];\n        $suburbs = populateSuburbs($city);\n    }\n}   \n\nfunction populateSuburbs($city) {               \n    $db = JFactory::getDBO();\n    $query = \"SELECT DISTINCT suburb FROM vyj20_contact_details\";\n    $db-&gt;setQuery($query);\n    $results = $db-&gt;loadObjectList();\n    foreach($results as $key =&gt; $result) {\n        $data['suburb'][] = array(\n            $key =&gt; $result-&gt;suburb\n        );\n    }\n}\n</code></pre>\n\n<p>Many Thanks</p>\n"},{"tags":["c#","javascript","ajax","wcf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13078759,"title":"WCF Service Calls Javascript Code On Start After Removing the Code from the .ASPX Page","body":"<p>I have a C# .NET WCF project that consists of a JavaScript page that calls a service.  Upon start-up (in debug mode) it immediately calls the service, but I can not figure out why.  To attempt to troubleshoot the issue I have performed the standard things, such as cleaning and rebuilding.  I also have deleted the projects dll's under the Windows directory.  To further emphasize the point, I deleted all of the Javascript in the .aspx file, but it still appears to retain it.  I know this because the call stack is pulling the function call with the variables populated, even though they are not there.  </p>\n\n<p>What can cause this?  How should I go about clearing out the code, since it's no longer there?  I think it's a good place to start, as the other issue of calls at startup may be solved.</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13137805,"title":"Make Ajax call off hyperlink","body":"<p>Is there a way to make an Ajax call from a hyperlink?</p>\n\n<p>I'd like to change the inner html of a div element when someone clicks on a hyperlink using javascript.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13137467,"title":"get xml data from url using js code","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3595515/xmlhttprequest-error-origin-null-is-not-allowed-by-access-control-allow-origin\">XmlHttpRequest error: Origin null is not allowed by Access-Control-Allow-Origin</a>  </p>\n</blockquote>\n\n\n\n<p>I have tried different ways to read xml data from url using js,ajax,jquery but there is no use.</p>\n\n<p>The xml url is : <a href=\"http://api.simplyhired.com/a/jobs-api/xml-v2/q-java?pshid=46484&amp;ssty=2&amp;cflg=r&amp;jbd=nichehire.jobamatic.com&amp;clip=183.82.97.123\" rel=\"nofollow\">http://api.simplyhired.com/a/jobs-api/xml-v2/q-java?pshid=46484&amp;ssty=2&amp;cflg=r&amp;jbd=nichehire.jobamatic.com&amp;clip=183.82.97.123</a></p>\n\n<p>i got error which looks like this:</p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load \"http://api.simplyhired.com/a/jobs-api/xml-v2/q-java?pshid=46484&amp;ssty=2&amp;cflg=r&amp;jbd=nichehire.jobamatic.com&amp;clip=183.82.97.123.\" Origin <a href=\"http://www.nichehire.com\" rel=\"nofollow\">http://www.nichehire.com</a> is not allowed by Access-Control-Allow-Origin.  </p>\n</blockquote>\n\n<p>Do i need to add request headers while requesting the url.</p>\n\n<p>if so how can i add request header while requesting,</p>\n\n<p>Is there any procedure to follow for getting xml data from url.</p>\n\n<p>can some one plz try this url with your code to read xml data and let me know if possible</p>\n\n<p>i have tried below code</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\nurl: \"http://api.simplyhired.com/a/jobs-api/xml-v2/q-java?pshid=46484&amp;ssty=2&amp;cflg=r&amp;jbd=nichehire.jobamatic.com&amp;clip=183.82.97.123\",\ndataType: \"xml\",\nsuccess: function(xml) {\nalert(xml);\n}}); \n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13116243,"title":"error undefined method `remote_function' (how to make Ajax calls with Rails 3 using remote_function)","body":"<p>I found that this function (remote_function) was part of the Prototype helper which was removed from the framework with Rails 3.1 and how to change on ajax?</p>\n\n<pre><code>      country\n      %select#country{:name =&gt; \"country\", :onchange =&gt; remote_function(:update =&gt; 'region_city', :url =&gt; { :action =&gt; :get_regions_cities_for_country}, :with =&gt; 'Form.Element.serialize(this)')}\n        = options_for_select( Country.find(:all).map {|u| [u.name,u.id]})\n      %div{:id =&gt; \"region_city\"}\n        region\n        %select#region{:name =&gt; \"region\", :onchange =&gt; remote_function(:update =&gt; 'city', :url =&gt; { :action =&gt; :get_cities}, :with =&gt; 'Form.Element.serialize(this)')}\n          = options_for_select(Country.find(:first).regions.find(:all).map {|u| [u.name,u.id]})\n        city\n        #{select_tag(:city, options_for_select( Country.find(:first).regions.find(:first).cities.find(:all).map {|u| [u.name,u.id]} ))}\n</code></pre>\n"},{"tags":["jquery","ruby-on-rails","ajax","unobtrusive-javascript"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":353,"score":0,"question_id":850804,"title":"Update two different parts of the page using unobtrusive JS (in Rails w/jQuery)","body":"<p>When the user clicks a sorting link on my blog, I want to use AJAX to both pull in new posts and update the sorting link section. This would be easy using RJS, but I want to keep my JS unobtrusive and respond to AJAX requests with only data (and no code).</p>\n\n<p>Here's what I'm doing now:</p>\n\n<pre><code>  $('a.order_by').livequery('click', function() {\n    $.get(this.href, null, function(data) {\n      // The server returns a blob of HTML with a div#posts\n      // and a div#sorting\n      $(\"#posts\").partial_html(data, \"#posts\");\n      $(\"#sorting\").partial_html(data, \"#sorting\");\n    });\n    return false;\n  });\n</code></pre>\n\n<p>and here's the <code>partial_html()</code> function:</p>\n\n<pre><code>// Stolen from the jQuery source for $.load()\njQuery.fn.partial_html = function(data, selector) {\n    $(this).html($(\"&lt;div/&gt;\").append(data.replace(/&lt;script(.|\\s)*?\\/script&gt;/g, \"\")).find(selector));\n}\n</code></pre>\n\n<p>Obviously this is a bit disgusting -- what's the right way to do this? (It would be super-easy to use two <code>$.load()</code>'s, but that would require a superfluous HTTP request).</p>\n"},{"tags":["ajax","asp.net-mvc","menu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13116925,"title":"Avoid re-display of menu using MVC","body":"<p>My team is creating an MVC4 application which has an upper menu structure that contains menu items specific for the currently logged-in user, and displays the content for the selected menu item below. The menus are displayed in a partial view \"_MainMenu\" and the MainMenuController Index action is responsible for getting the menu data from the database and returning the menu partial view. The main layout \"_Layout\" renders the menu by calling @Html.Action(\"Index\", \"MainMenu\").</p>\n\n<p>We want to avoid hitting the database to get the menu structure data every time the page is refreshed, and we also ideally want to avoid any visible reload of the menu structure when a different menu item is selected.</p>\n\n<p>I've been looking into AJAX, and I've implemented something where selecting a new menu item will load the content for that item below the menu by replacing a div with ID=\"mainContent\" with the content as a partial view (this div lives on the loaded view \"MainContent\"). In this way, the menu is never re-loaded and the page never refreshes completely (only the different partial content views are swapped in and out as different menu items are selected).</p>\n\n<p>This solution works, but I'm not sure if it's really best practice, or if there's a better solution involving caching. One of the problems with the AJAX solution is the URL never changes from \"http://MySite/MainContent\". This means that clicking the Back button on the browser doesn't work as expected, and also hitting F5 to refresh the browser page loses the currently displayed page. The refresh issue can probably be resolved by remembering the selected menu item, but I'm still not convinced this isthe way AJAX was intended to be used.</p>\n\n<p>Can someone please tell me if they think caching would be a better solution for this scenario based on their experience.</p>\n"},{"tags":["jquery","ajax",".htaccess","request"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13136331,"title":"Limit access using ajax and .htaccess","body":"<p>I'va got a jquery file processing some mysql-data changes using ajax-calls (jQuery api) within php handler file.</p>\n\n<p>This is my javascript:</p>\n\n<pre><code>$('#control1').click(function() {\n    $('#control2').dialog({\n        show: \"blind\",\n        hide: \"explode\",\n        width: \"auto\",\n        draggable: false,\n        modal: true,\n        resizable: false,\n        buttons: [\n                  {\n                      text: \"Save\",\n                      click: function() {\n                          $.ajax({\n                             cache: false,\n                             type: 'POST',\n                             url: 'handler/some.handler.php',\n                             data: $('#Form1').serialize(),\n                             dataType: 'json',\n                             beforeSend: function() {\n                                 $('#Control3').fadeIn('fast');\n                             },\n                             success: function (data) {\n                                 if (data.success) {\n                                     alert(data.message);\n                                     $(this).dialog(\"close\");\n                                     location.reload();\n                                 } else {\n                                     alert(\"Error occurred: \" + data.message);\n                                 }\n                             },\n                             error: function(xhr, ajaxOptions, thrownError) {\n                                 alert(\"Error during process: \" + thrownError);\n                             },\n                             complete: function () {\n                                 $('#Control3').fadeOut('fast');\n                             }\n                          });\n                      }\n                  },\n                  {\n                      text: \"Cancel\",\n                      click: function() { $(this).dialog(\"close\"); }\n                  }\n                  ]\n    });\n});\n</code></pre>\n\n<p>Inside the handler directory i placed a .htaccess file for managing file access and limit exception:</p>\n\n<pre><code>&lt;LimitExcept GET POST HEAD&gt;\n    Order deny, allow\n    Deny from all\n&lt;/LimitExcept&gt;\n</code></pre>\n\n<p>But Apache always return <strong>500: Internal sever error</strong>. If I delete the .htaccess file everything works fine... How to configure the .htaccess file correctly?</p>\n\n<p>Thx!!!</p>\n"},{"tags":["c#","javascript","jquery","ajax","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13136621,"title":"Ajax Post return type instead of value c# mvc 4","body":"<p>i have this problem.</p>\n\n<p>my function is this</p>\n\n<pre><code>$.ajax({\n            type: \"POST\",\n            url: \"/controller/CreateList\",\n            contentType: \"application/json; charset=utf-8\",\n            traditional: true,\n            data: JSON.stringify(myvar),\n            success: function (returnArray) {\n            }\n.....\n</code></pre>\n\n<p>in my controller i have this action:</p>\n\n<pre><code>public int[] CreateList(List&lt;ERoleCommission&gt; erolecommission){\n        List&lt;int&gt; intList= new List&lt;int&gt;();\n        ...//populate the List\n        return  intList.ToArray();\n}\n</code></pre>\n\n<p>with debug i see that intList has filled with the right value, so it isn't a c# error,\nafter calling this action from controller the debug return to js function and returnArray = \"System.Int32[]\", it contains only type.\nwhy?\nthanks</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13136293,"title":"Why jquery is saying missing : after property id?","body":"<p>I wrote follwing jquery code for slider toggle box. When i execute it, jquery saying  missing : after property id.</p>\n\n<pre><code>function toggleBox(){\n     $(\".toggleLink\").toggle(                                         \n           function() {\n                $(this).parent('.toggleBoxContainer').find('.toggleBox').slideUp('slow');\n                var SlideStatus = $(this).parent('.toggleBoxContainer').find('.hiddenFilterID').text(); \n                $.get(window.location ,{ $(this).parent('.toggleBoxContainer').find('.hiddenFilterID').text() : SlideStatus} );\n                console.log($(this).parent('.toggleBoxContainer').find('.hiddenFilterID').text()); \n                }, function() {\n                $(this).parent('.toggleBoxContainer').find('.toggleBox').slideDown('slow');\n                $.get(window.location ,{ SlideStatus : null } );\n             });  \n}\n</code></pre>\n\n<p>Where i am doing wrong. Help will be greatly apprciated </p>\n"},{"tags":["php","jquery","ajax","yii","bootstrap"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":129,"score":3,"question_id":13102028,"title":"Update Bootstrap Thumbail Grid - ajax request","body":"<p><strong>Scenario:</strong> I have a view with a twitter bootstrap thumbnail grid that shows the countries. When the user clicks one image, it is supposed to show the cities related to that country, in the same grid (screen).</p>\n\n<p><strong>Tecnhical:</strong> First i fill the dataProvider with countries, and then i should send a ajax request with the country id to my controller where it queries the database for cities related to that country and sends the new dataProvider, back to the view where it updates the same thumbnail dataProvider with new data.</p>\n\n<p><strong>Question:</strong> How do i do this?</p>\n\n<p>Here is my code:</p>\n\n<p>view with thumbnail declaration (name of the view: _detail)</p>\n\n<pre><code>&lt;?php \n\n            $this-&gt;widget('bootstrap.widgets.TbThumbnails', array(\n            'id' =&gt; 'detailThumbnails',\n            'dataProvider' =&gt; $dataprov,\n            'template' =&gt; \"{items}\\n{pager}\",\n            'itemView' =&gt; '_thumb',\n            ));\n\n        ?&gt;\n</code></pre>\n\n<p>view called in thumbnail \"itemView\" property (name of the view: _thumb)</p>\n\n<pre><code>&lt;?php\n    require_once '_detail.php';\n?&gt;\n&lt;li class=\"span3\"&gt;\n    &lt;a href=\"#\" class=\"&lt;?php echo \"thumbnail\".$data['id']  ?&gt;\" rel=\"tooltip\" data-title=\" &lt;?php echo \"Clicar..\"; ?&gt;\"&gt;\n        &lt;img src=\"&lt;?php echo Yii::app()-&gt;getBaseUrl() . $data['photo'] ?&gt;\" alt=\"\"&gt;\n        &lt;a href=\n           \"\n           &lt;?php \n           echo $className;\n           echo $this-&gt;createUrl(get_class($data).'/view', array('id' =&gt; $data['id'])); \n\n           ?&gt;\n           \"\n           &gt;\n               &lt;?php \n\n               echo $data['name'].$data['id']; \n               ?&gt;\n        &lt;/a&gt;\n\n        &lt;?php\n\n        Yii::app()-&gt;clientScript-&gt;registerScript('thumbClick'.$data['id'],'\n                    $(\".thumbnail'.$data['id'].'\").click(function(){\n                        var request = $.ajax({\n                            data: {\n                                id : '.$data['id'].'\n                            },\n                            type: \"post\",\n                            url:\"'.Yii::app()-&gt;createAbsoluteUrl(\"tripDetail/getCities\").'\",\n                            error: function(response, error)\n                            {\n                                alert(\"Error: \" + response + \" : \" + error);\n                            },\n                        });\n                        $(\".thumbnail'.$data['id'].'\").ajaxSuccess(function() {\n                            $.fn.yiiListView.update(\"detailThumbnails\");\n                        });\n                    });\n                ');\n        ?&gt;\n    &lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>In case of success i need to update the same dataProvider, which is in the view named _detail, hence the require_once. What iam trying to do is pass the data from controller(below) in json and decode here. But i don't know how to build a new data provider from the json response, and dont know either if the encode is properly made. Is it???? </p>\n\n<p>controller (just some functions)</p>\n\n<pre><code>public function actionCreate()\n        {\n            $session = new CHttpSession;\n            $session-&gt;open();\n\n            if(isset($_SESSION['mySession']))\n            {\n                $data = $_SESSION['mySession'];\n\n                if ($data)\n                {\n                    if(!isset($_GET['ajax']))\n                    {\n                        $dataprov = new CActiveDataProvider(\"Country\");\n                        $this-&gt;render('create', \n                                array(\n                                    'dat'=&gt;$data,\n                                    'dataprov'=&gt;$dataprov\n                                    )\n                                );\n                    }\n\n                }\n            }\n        }\n\n        public function actionGetCities()\n        {\n\n            if(isset($_POST['id']))\n            {\n                $cityId = $_POST['id'];\n\n                $dataProvider = $this-&gt;getCitiesFromDb($cityId);\n\n                echo $this-&gt;renderPartial('_detail',array('dataprov'=&gt; $dataProvider),true,true);   \n            }\n        }\n\n        public function getCitiesFromDb($cityId)\n        {\n            $criteria = new CDbCriteria;  \n            $criteria-&gt;select = \"*\";\n            $criteria-&gt;condition = \"b4_Country_id = \" . $cityId;\n\n            $dataProv = new CActiveDataProvider('City', \n                    array('criteria'=&gt;$criteria));\n\n            return $dataProv;\n        }   \n</code></pre>\n\n<p><strong>If this is not the right way to do this, please let me know</strong></p>\n\n<p>**Please help me, i'm doing this for days now, and i cant just do it... :(</p>\n"},{"tags":["jquery","ajax","json","servlets","struts"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13136268,"title":"how to send data from servelt to html page using ajax","body":"<p>the scenario is the following \ni want to execute an action called by ajax and then return some data to my page \nwhat normaly i do is to forward this data to another jsp and  catch it and add it to my page \nas this : </p>\n\n<pre><code> $.ajax({\n               url: 'createPdf.do',\n               data: {doc: currentTab}}).done(function(html){\n               alert(html);\n           }); \n });\n</code></pre>\n\n<p>but i'm aware this not the appropriate way to do it because what really i need is the data itself not the html , so i did some research i found that   the solution is use json , but not found a good example </p>\n"},{"tags":["javascript","jquery","python","ajax","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13135469,"title":"Handling AJAX response with jQuery $.ajax in Django application","body":"<p>I'm making an ajax call to the server and want to receive an array for further processing. I'm a beginner and quite confused about what I'm really doing. Below is a snippet that I came up with so far. It works well until I try to process the returned data. I think my problem is that I don't really understand how to form a correct response and how to process it.</p>\n\n<p><strong>JAVASCRIPT/JQUERY:</strong></p>\n\n<pre><code>var shoppingList = {\n    // SOME CODE BEFORE\n\n    'foodIngredients' : function() {\n        // Send a list of food ids and receive an array of necessary ingredients. Make the returned array unique.\n        $.ajax({\n            url: 'http://localhost:8000/ingredients/',\n            // ingredients.html template:\n            // [{% for item in ingredients %}{% if forloop.last %}{{ item.id }}{% else %}{{ item.id }},{% endif %}{% endfor %}]\n            type: 'POST',\n            data: JSON.stringify(shoppingList.selectedFoods),\n            dataType: 'text',\n            cache: 'false',\n            success: function(result){\n                console.log(result); // [33,85,88,89,91]\n                shoppingList.returnedIngredients = result;\n                shoppingList.uniqueIngredients = _.unique(shoppingList.returnedIngredients);\n                console.log(shoppingList.uniqueIngredients); // [,3,,,8,5,9,1,] &lt;-- NOT OK; Expected [33,85,88,89,91]\n            }\n    });\n    },\n\n    // SOME CODE AFTER\n};\n</code></pre>\n\n<p><strong>INGREDIENTS VIEW:</strong></p>\n\n<pre><code>def ingredients(request):\n    if request.is_ajax():\n        ourid = json.loads(request.raw_post_data)\n        ingredients = Ingredience.objects.filter(food__id__in=ourid)\n        t = get_template('ingredients.html')\n        html = t.render(Context({'ingredients': ingredients,}))\n        return HttpResponse(html)\n    else:\n        html = '&lt;p&gt;This is not ajax&lt;/p&gt;'      \n        return HttpResponse(html)\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13135675,"title":"jquery ajax is returning findById and __proto__?","body":"<p>After updating jquery some responses from ajax is returning <code>findById</code> and <code>__proto__</code></p>\n\n<p>Why is that??</p>\n"},{"tags":["javascript","ajax","loops","for-loop","call"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13111612,"title":"Call Ajax inside for Loop","body":"<pre><code>for (var i = 0; i &lt; 5; i++) {\n    with (x = new XMLHttpRequest()) open(\"GET\",\"d.php?id=\" + i), send(null), onreadystatechange = function() {\n       if (x.readyState == 4 &amp;&amp; x.status == 200) alert(i);\n    }\n}\n</code></pre>\n\n<p>Now I want each time when <code>readyState = 4</code>, it should alert correct value of <code>i</code> for which URL was called. Currently, it alert only for once and output alert is <code>5</code>    </p>\n"},{"tags":["ruby-on-rails","ajax","twitter-bootstrap","modal"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":636,"score":0,"question_id":11010947,"title":"Changing Devise for Bootstrap modal","body":"<p>I found this link <a href=\"http://stackoverflow.com/questions/10318949/link-to-another-page-using-twitter-bootstrap-jquery-modal-in-rails\">Link to another page using Twitter Bootstrap jquery modal in rails</a> and here is completely what I need - registration and others using Bootstrap modal and Devise. \n<p> I made that steps, but it doesn't popup, but redirects me to another page and shows not proper page.\n<p> It behaves really strange, it opens NOT MINE form.\n<p>_new.html.erb</p>\n\n<pre><code>&lt;div class=\"modal hide fade in\" id=\"sign_up\"&gt;\n\n&lt;%= form_for resource, :as =&gt; resource_name, :url =&gt; registration_path(resource_name),do |f| %&gt;\n  &lt;%= devise_error_messages! %&gt;\n....\n &lt;% end %&gt;     \n</code></pre>\n\n<p></p>\n\n<p>Create new.js.erb:</p>\n\n<pre><code>      $(\"#main\").before(\"&lt;%= escape_javascript(render \"new\", :formats =&gt; [:html]) %&gt;\");\n      $(\"#sign_up\").modal();\n</code></pre>\n\n<p>and link_to :</p>\n\n<pre><code>       &lt;%= link_to \"Sign up\", new_user_registration_path, :remote =&gt; true %&gt;\n</code></pre>\n\n<p>and in application.html.erb:</p>\n\n<pre><code>    &lt;%= stylesheet_link_tag    \"application\", media: \"all\" %&gt;\n   &lt;%= javascript_include_tag 'http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js' %&gt;\n    &lt;%= csrf_meta_tags %&gt;\n</code></pre>\n\n<p><b> EDITED.</b>\n     In my logs: \n            Processing by Devise::RegistrationsController#new as JS\n           Rendered devise/registrations/new.js.erb (15.6ms)\n           Completed 500 Internal Server Error in 31ms</p>\n\n<pre><code>      ActionView::Template::Error (Missing partial devise/new with {:locale=&gt;[:en], :f\n       ormats=&gt;[:js, :html], :handlers=&gt;[:erb, :builder, :coffee, :rabl]}. Searched in:\n\n     * \"D:/print_it_green/app/views\"\n    * \"C:/Ruby192/lib/ruby/gems/1.9.1/gems/devise-2.1.0/app/views\"\n       ):\n        1: $(\"#sign_up\").before(\"&lt;%= escape_javascript(render \"devise/new\", :formats\n       =&gt; [:html]) %&gt;\");\n         2: $(\"#sign_up\").modal();\n      app/views/devise/registrations/new.js.erb:1:in `_app_views_devise_registration\n       s_new_js_erb___312569811_25856784'\n</code></pre>\n\n<p>Where is problem ? </p>\n"},{"tags":["php","jquery","mysql","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11043,"score":0,"question_id":9053853,"title":"Retrieving Data with Jquery, AJAX, and PHP from a MySQL Database","body":"<p>I am trying to figure out how to retrieve data from a MySQL database using an AJAX call to a PHP page.  I have been following this tutorial</p>\n\n<p><a href=\"http://www.ryancoughlin.com/2008/11/04/use-jquery-to-submit-form/\" rel=\"nofollow\">http://www.ryancoughlin.com/2008/11/04/use-jquery-to-submit-form/</a></p>\n\n<p>But i cant figure out how to get it to send back json data so that i can read it.</p>\n\n<p>Right now I have something like this:</p>\n\n<pre><code>$('h1').click(function() {\n            $.ajax({\n                type:\"POST\",\n                url: \"ajax.php\",\n                data: \"code=\"+ code,\n                datatype: \"xml\",\n                success: function() {\n\n                $(xml).find('site').each(function(){\n                    //do something\n                });\n            });\n\n\n        });\n</code></pre>\n\n<p>My PHP i guess will be something like this</p>\n\n<pre><code>    &lt;?php\n\n    include (\"../../inc/config.inc.php\");\n\n    // CLIENT INFORMATION\n\n    $code        = htmlspecialchars(trim($_POST['lname']));\n\n    $addClient  = \"select * from news where code=$code\";\n    mysql_query($addClient) or die(mysql_error());\n\n?&gt;\n</code></pre>\n\n<p>This tutorial only shows how to insert data into a table but i need to read data.  Can anyone point me in a good direction?</p>\n\n<p>Thanks,</p>\n\n<p>Craig</p>\n"},{"tags":["php","html","ajax","dynamic"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":247,"score":3,"question_id":8630453,"title":"dynamic database driven website with html pages","body":"<p>I have a small project about a <strong>dynamic database driven website</strong> which is users can post, comment, like,... on it.<br>\nand I was thinking about <strong>creating html pages instead of php pages</strong>.<br>\nfor example after someone posts sth a php code will create a html page for that post and people can comment on it. while submitting a comment, an ajax call to a php page will save comment data to database and write that comment to the html file.<br>\nI thought it could be a good way to reduce server load. and have advantages for SEO.<br>\n<strong>Does this technique have a name? and Does it have any more advantages or disadvantages?</strong><br>\nThanks in advance</p>\n"},{"tags":["php","ajax","json","datatables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13134309,"title":"Jquery Data Tables server side processing with php tutorial","body":"<p>I've been scouring the net looking for a good tutorial on how to use the server side processing feature of the jquery data tables plugin using php in vain and the plugin's site doesn't provide satisfactory documentation of the subject matter. Does anyone know any good tutorial on the net or any good site where I can get help on this issue? Also, I've been wondering how I'll generate the json that data tables uses to render the table using ajax because if you haven't noticed, it isn't standard json at all. Please if you have any info that could help me I'd appreciate it very much.</p>\n"},{"tags":["php","mysql","ajax","textfield"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13133664,"title":"Auto populate a textfield with the information of previous textfield","body":"<p>I have a form, which I'm using autofill using <code>jquery</code> in the first textfield. This textfield is called <strong>\"producto1\"</strong>.</p>\n\n<p>What I want is that when user write the information in <strong>\"producto1\"</strong> automatically load the content in <strong>\"marca1\"</strong>, the content in this field will be loaded from my database.</p>\n\n<p>This is my code:</p>\n\n<pre><code>&lt;table width=\"100%\" border=\"0\" align=\"center\" cellpadding=\"5\" cellspacing=\"0\"&gt;\n            &lt;tr&gt;\n              &lt;td width=\"545\"&gt;&lt;div align=\"center\"&gt;\n                &lt;input name=\"producto1\" type=\"text\" class=\"textfield4\" id=\"producto1\" value=\"\" size=\"65\" /&gt;\n              &lt;/div&gt;&lt;/td&gt;\n              &lt;td width=\"385\"&gt;&lt;div align=\"center\"&gt;\n                &lt;input name=\"marca1\" type=\"text\" class=\"textfield5\" id=\"marca1\" size=\"10\" maxlength=\"5\" onKeyPress=\"return handleEnter(event);\"&gt;\n              &lt;/div&gt;&lt;/td&gt;\n              &lt;td width=\"385\"&gt;&lt;input name=\"cantidad1\" type=\"text\" class=\"textfield5\" id=\"textfield2\" size=\"10\" maxlength=\"5\" onKeyPress=\"return handleEnter(event);\"&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>The information that will be displayed at the <strong>\"marca1\"</strong> field will be loaded from my database, but my problem is that I don't know how to populate automatically this second field using ajax.</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":200,"score":0,"question_id":10526293,"title":"Getting swipeJS to work with ajax loaded content","body":"<p>I am making a site currently being tested at <a href=\"http://test2.applicationcreations.net\" rel=\"nofollow\">test2.applicationcreations.net</a>. With an image gallery that dynamically changes the images. I'm using <a href=\"http://swipejs.com\" rel=\"nofollow\">swipeJS</a> for the slider.</p>\n\n<p>When you navigate to project gallery then to custom homes the new HTML with correct formatting loads in but the rotator does not work. I believe the problem is that swipeJS is not initialized on the new code. I have tried passing the new items to the object using <code>window.mySwipe = new Swipe(document.getElementById('slider'));</code> but I have had no luck.</p>\n\n<p>For some reason if I click on inspect element on Chrome 18 OS X the rotator works with the new content.</p>\n\n<p>Any help getting this working is greatly appreciated. Thank you. </p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13133404,"title":"access variable data outside of jquery ajax call","body":"<pre><code>$.post(\"http://openexchangerates.org/\", parameters,\n    function (data) {\n        var currencyData = eval('( '+data+')');\n        currency = currencyData[\"currency\"];\n    }\n);\n// I want to access currency here. But I am unable to access it.\n</code></pre>\n"},{"tags":["jquery","ajax","codeigniter","fancybox"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6959,"score":3,"question_id":4398740,"title":"How to close a jQuery fancybox from button click","body":"<p>I'm using <a href=\"http://fancybox.net/home\" rel=\"nofollow\">fancy box</a> to create a popup and load another page on it using an iframe. here is my code</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n\n    $('.calendar .day').click(function() {\n        day_num = $(this).find('.day_num').html();\n        day_data = prompt('Enter Stuff', $(this).find('.content').html());\n        if (day_data != null) {\n\n            $.ajax({\n                url: window.location,\n                type: 'POST',\n                data: {\n                    day: day_num,\n                    data: day_data\n                },\n                success: function(msg) {\n                    location.reload();\n                }                       \n            });\n            }\n        });\n    });\n$(document).ready(function(){\n    $(\"a.iframeFancybox1\").fancybox({\n    'width'           : 800,\n    'height'              : 650,\n    'overlayOpacity'     :  '0.4',\n    'overlayColor'       :  '#000',\n    'hideOnContentClick' :   false,\n    'autoScale'          :   false,\n    'transitionIn'       :   'elastic',\n    'transitionOut'  :   'elastic',\n    'type'           :   'iframe'\n    });\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>It loads the page successfully and does the stuff. But instead of closing the popup form, it loads the popup source form inside the popup itself. I want to close the popup form when the work is done and return to the main menu page from which the popup was generated. How do I achieve this on a button click of the popup form.</p>\n\n<p>Regards, Rangana</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":13132806,"title":"Passing Javascript value to PHP Variable using ajax","body":"<p>I am trying to use a Flash detection script to assess whether Flash Plugin is enabled in   the user browser so that a different page loads. The Flash detection script is as follows,   using jquery 1.8.2 and jquery.jqplugin 1.0.2  </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"jquery.jqplugin.1.0.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n    $(\"#withflash\").hide();\n    $(\"#noflash\").hide();\n    if ($.browser.flash == true)\n      $(\"#withflash\").show ();\n    else\n      $(\"#noflash\").show ();\n});\n&lt;/script&gt;\n&lt;div id=\"withflash\"&gt;Flash Supported&lt;/div&gt;\n&lt;div id=\"noflash\"&gt;Flash Not Supported&lt;/div&gt;\n</code></pre>\n\n<p>I get the display that \"Flash Supported\" if Flash Plugin is present.. I need to capture the value whether flash plugin value is true in a php variable <code>$hasFlashSupport</code> as below:</p>\n\n<pre><code>&lt;?php\necho \" $hasFlashSupport\";\nexit;\n?&gt;\n</code></pre>\n\n<p>I am aware that PHP is server based and Javascript is client based.. Hence Ajax would be a nice option to capture the javascript variable to my php variable. I am totally ignorant about Ajax syntax and how to achieve it. </p>\n\n<p>Request the experts here to help me out with the code on how this can be achieved...\nThanking all of you in advance..</p>\n"},{"tags":["php","jquery","ajax","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13115802,"title":"How to REF a PHP Codeigniter controller function inside of jQuery? (Populate a dropdown menu based on current selection))","body":"<p>The issue is how do I <code>POST</code> the value of the first dropdown selected to my Codeigniter <code>controller</code> using jQuery/AJAX. Here is an example of what I need to do <a href=\"http://css-tricks.com/examples/DynamicDropdown/\" rel=\"nofollow\">http://css-tricks.com/examples/DynamicDropdown/</a></p>\n\n<pre><code>$(\"#first-choice\").change(function() {\n    $(\"#second-choice\").load(\"getter.php?choice=\" + $(\"#first-choice\").val());\n});\n</code></pre>\n\n<p>In the <code>.load()</code> I want to be able to pass the value of <code>#first-choice</code> to my controller. </p>\n\n<p>How can I do that? Thanks!</p>\n"},{"tags":["jquery","ajax","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13132531,"title":"Django Jquery Ajax","body":"<p>After searching, I have yet to find the solution to my jquery-related question online. </p>\n\n<p>I have multiple <code>(div class='rate')</code> elements on a page that I would like to be updatable via ajax. index.html:</p>\n\n<pre><code>    {% for thing in thing_list %}\n    &lt;div class='rate'&gt;&lt;a href='{% url thing_rating %}'&gt;Rate&lt;/a&gt;&lt;/div&gt;\n    {% endfor %}\n</code></pre>\n\n<p>They reference a url kind of like: urls.py</p>\n\n<pre><code>url(r'^(?P&lt;object_id&gt;\\d+)/rate/(?P&lt;score&gt;[\\d\\-]+)/$', 'myview', name='thing_rating'),\n</code></pre>\n\n<p>I do check for <code>request.is_ajax()</code> in the view: view.py:</p>\n\n<pre><code>def myview(request):\n    if request.is_ajax():\n        // doing some other stuff here\n        return render_to_response('rate.html', context_instance=RequestContext(request))\n</code></pre>\n\n<p>My ajax needs help..:</p>\n\n<pre><code>$( document ).ready( function() {\n$('div#rate').click(function(){\n  $.ajax({\n  type: \"POST\",\n  url:\"/????/\",\n  data: { ????? },\n  success: function(data){ ????? },\n  error: function(){ alert(\"Error\"); },\n});\n}\n</code></pre>\n\n<p>How do I reference the url in the above jquery? Via the same regex as in my urls.py? </p>\n\n<p>What should I be passing as the data and success functions? All of the heavy lifting is done in my view..</p>\n\n<p>Thanks for your ideas!</p>\n"},{"tags":["jquery","ajax","google-chrome","http-status-code-302"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":13129694,"title":"What happens when an AJAX request gets a \"302 Moved\" response?","body":"<p>I'm trying to AJAXify an old website form without modifying the back end.  Originally, the backend would response with a \"302 Moved\" redirect to a \"thank you\" page after receiving the form.</p>\n\n<p>Now, when I try to submit the form using a jQuery $.ajax call, the form data gets submitted successfully, but the \"302 Moved\" redirect seems to get cancelled by the browser and jQuery doesn't know what's going on.</p>\n\n<p>My problem is that no matter what happens, the $.ajax call returns with an error and status = 0, so I have no way to distinguish between a successful submit and an error.</p>\n\n<p>Is there a way to prevent the browser from trying to follow the redirect, or at least getting back the proper response codes?  (I'm using Chrome.)</p>\n\n<p>Any ideas are appreciated!</p>\n"},{"tags":["c#","asp.net","ajax","updatepanel"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3657,"score":0,"question_id":539357,"title":"UpdateProgress with UpdatePanel not showing up in User control when page is loading","body":"<p>Is this typical behavior of the UpdateProgress for an ASP.Net UpdatePanel?  I have an update panel with the UpdateProgress control inside of a user control window on a page.  </p>\n\n<p>If I then make the page in the background do some loading and click a button in the user control update panel the UpdateProgress does not show up at all.  It's like the UpdatePanels refresh request is not even registered until after the actual page is done doing it's business.  It's worth noting that it will show up if nothing is happening in the background.</p>\n\n<p>The functionality I want is what you would expect.  I want to loader to show up if it has to wait for anything to get it's refresh done when after the button is clicked. </p>\n\n<p>I know I can get this functionality if I just use jquery ajax with a static web method, but you can't have static web methods inside of a user control.  I could have it in the page but it really doesn't belong there.  A full-blown wcf wouldn't really be worth it in this case either.  I'm trying to compromise with an UpdatePanel but these things always seem to cause me some kind of trouble.</p>\n\n<p>Maybe this is just the way it works?</p>\n\n<p><b>Edit:</b>So I'll clarify a bit what I'm doing.</p>\n\n<p>What's happening is I have a page and all it has on it are some tools on the side and a big map.  When the page initially loads it takes some time to load the map.  Now if while it's loading I open up the tool (a user control) that has the update panel in question in it and click the button on this user control that should refresh the update panel with new data and show the loading sign (in the updateprogress) then the UpdateProgress loading image does not show up.  However, the code run by the button click does run after the page is done loading (as expected) and The UpdateProgress will show up if nothing on the page containing the user control is loading.  </p>\n\n<p>I just want the loader to show up while the page is loading.</p>\n\n<p>I thought my problem was that perhaps the map loading is in an update panel and my UpdateProgress was only being associated with the update panel for the user control's update panel.  Hence, I would get no loading icon when the map was loading.  This is not the case though.</p>\n"},{"tags":["jquery","ajax","jqgrid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13132693,"title":"Prevent this page from creating Additional Dialogues in jquery button click","body":"<p>Hii Guys !!\n             I have two buttons to export jqgrid in excel and pdf .On export to excel button click data is exporting but on export to pdf button click jqgrid is unloading with alert message \"Prevent this page from creating Additional Dialogues in jquery button click\".</p>\n\n<p>Here is my relevant code..</p>\n\n<pre><code> $(document).ready(function() {\n        //var windowWidth = (document.documentElement.clientWidth - 100) /0.9;\n        var i=1;\n        $('#go').click(function(evt){\n            //alert('hi');\n            evt.preventDefault();\n            var fromdate=$('#fromdate').val();\n            var todate=$('#todate').val();\n            if(fromdate &amp;&amp; todate)\n            {\n\n                var URL='getGriddahico.jsp?fromdate='+$('#fromdate').val()+'&amp;todate='+$('#todate').val();\n\n                //jQuery(\"#gridUsuarios\").jqGrid('reload');\n                if(i==1){gridcall(URL);}\n                else{jQuery(\"#gridUsuarios\").jqGrid('GridUnload');gridcall(URL);}\n                i++;\n\n            }\n\n        });\n        $('#excel').click(function(){\n            var fromdate=$('#fromdate').val();\n            var todate=$('#todate').val();\n            if(fromdate &amp;&amp; todate)\n            {\n                var URL='excel.jsp?fromdate='+$('#fromdate').val()+'&amp;todate='+$('#todate').val();\n                $.ajax({\n                   url:URL,\n                   type:'GET',\n                   success:function(data){\n                       alert('Exported To Excel');\n                   }\n\n                });\n            }\n        });\n\n         $('#pdf').click(function(){\n            var fromdate=$('#fromdate').val();\n            var todate=$('#todate').val();\n            if(fromdate &amp;&amp; todate)\n            {\n                var URL='pdf.jsp?fromdate='+$('#fromdate').val()+'&amp;todate='+$('#todate').val();\n                $.ajax({\n                   url:URL,\n                   type:'GET',\n                   success:function(data){\n                       alert('Exported To Pdf');\n                   }\n\n                });\n            }\n        });\n</code></pre>\n\n<p>});</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13123983,"title":"how to install 'ajaxify a website with the html5 history api using history.js, jquery and scrollto'?","body":"<p><strong>background</strong></p>\n\n<p>initially i tried to implement the ajaxify jQuery plugin (<a href=\"http://max.jsrhost.com/ajaxify/\" rel=\"nofollow\">http://max.jsrhost.com/ajaxify/</a>) but i couldn't get that working and the latest update was 2008 so i thought perhaps it was outdated.  for references sake i also came across <a href=\"http://jnavigate.com/\" rel=\"nofollow\">http://jnavigate.com/</a>.  </p>\n\n<p>i then came across <a href=\"https://gist.github.com/854622\" rel=\"nofollow\">https://gist.github.com/854622</a> (ajaxify a website with the html5 history api using history.js, jquery and scrollto) which looks fantastic but as a relative newb i don't know how to get it running.  </p>\n\n<p><strong>aim</strong></p>\n\n<p>my aim is to load all #menu and #div_one links in the #content area and have a fade in effect occurring as the content loads (this seems to be the default behaviour for the script).  </p>\n\n<p><strong>what i've tried</strong></p>\n\n<p>i've uploaded the scripts (history.js, ajaxify-html5.js and jquery.scrollto.min.js) and linked to them (and jquery as well), </p>\n\n<p>in ajaxify-html5.js i've tried changing:</p>\n\n<pre><code>contentSelector = '#content,article:first,.article:first,.post:first'\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>contentSelector = '#content'\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>$menu = $('#menu,#nav,nav:first,.nav:first').filter(':first')\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>$menu = $('#menu, #div_one').filter(':first')\n</code></pre>\n\n<p>as that is the area where i want the content to load and the div's where my links are (note: #menu links are in ul > li > a and #div_one is within #content).  </p>\n\n<p>i've also read this article.  </p>\n\n<p><a href=\"http://blog.fraser-hart.co.uk/how-to-ajaxify-your-website-with-ajaxify-and-history-js/\" rel=\"nofollow\">http://blog.fraser-hart.co.uk/how-to-ajaxify-your-website-with-ajaxify-and-history-js/</a></p>\n\n<p>and checked that the paths to my scripts are correct.  </p>\n\n<p><strong>what my code looks like</strong></p>\n\n<p>this is what the variables section of my ajaxify-html5.js looks like:</p>\n\n<pre><code>// Prepare Variables\nvar\n/* Application Specific Variables */\ncontentSelector = '#content',\n$content = $(contentSelector).filter(':first'),\ncontentNode = $content.get(0),\n$menu = $('#menu, #div_one').filter(':first'),\nactiveClass = 'active selected current youarehere',\nactiveSelector = '.active,.selected,.current,.youarehere',\nmenuChildrenSelector = '&gt; li,&gt; ul &gt; li',\ncompletedEventName = 'statechangecomplete',\n/* Application Generic Variables */\n$window = $(window),\n$body = $(document.body),\nrootUrl = History.getRootUrl(),\nscrollOptions = {\nduration: 800,\neasing:'swing'\n};\n</code></pre>\n\n<p>i also changed:</p>\n\n<pre><code>// Update the content\n$content.stop(true,true);\n$content.html(contentHtml).ajaxify().css('opacity',100).show(); /* you could fade in here if you'd like */\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>// Update the content\n$content.stop(true,true);\n$content.html(contentHtml).ajaxify().fadeTo(2500,1); /* you could fade in here if you'd like */\n</code></pre>\n\n<p>to see if i could get a visually recognisable way to see that is was working (i'm not sure if that is correct code though).  </p>\n\n<p><strong>question</strong></p>\n\n<p>nothing seemed to change in the sites functionality in chrome or firefox after completing the above steps.  </p>\n\n<p>can anyone please tell me what needs to be modified to get this functionality working (and also perhaps once it is working how to tell that it is - i know the fade in should be obvious but perhaps if the content is already in the cache that effect won't appear)?</p>\n\n<p>thank you. </p>\n\n<p><strong>update to provide more info as requested</strong></p>\n\n<p>site structure:</p>\n\n<pre><code>public_html\n- sub_dir\n -- index.php\n -- includes\n ---- header.php\n ---- footer.php\n ---- page_one.php\n ---- page_two.php\n</code></pre>\n\n<p>the links are in header.php and index.php (in the divs #menu and #div_one resp.).  </p>\n\n<p>header.php code is:</p>\n\n<pre><code>&lt;div id=\"menu\"&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"http://path/to/page_one.php\"&gt;page one&lt;/a&gt;&lt;/li&gt;\n&lt;br&gt;\n&lt;li class=\"second_row_menu\"&gt;&lt;a href=\"http://path/to/page_two.php\"&gt;page two&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>index.php code is:</p>\n\n<pre><code>&lt;?php require( 'includes/header.php' ); ?&gt;\n\n&lt;!-- home page content --&gt;\n&lt;div id=\"content\"&gt;\n&lt;div id=\"div_one\"&gt;\n&lt;a href=\"http://path/to/page_one.php\"&gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;div id=\"div_two\"&gt;\n&lt;a href=\"#\"&gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;div id=\"div_three\"&gt;\n&lt;a href=\"#\"&gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- end home page content --&gt;\n\n&lt;?php require( 'includes/footer.php' ); ?&gt;\n</code></pre>\n\n<p>in answer to questions:</p>\n\n<ul>\n<li>this is running on live test site</li>\n<li>the pages have .php extensions and contain php requires</li>\n</ul>\n"},{"tags":["jquery","ajax","firefox","jquery-ajax","wysiwyg"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13132198,"title":"Firefox keeps giving error 0x80004005 with Redactor.min.js","body":"<p>When I am using redactor in Firefox(only Firefox).</p>\n\n<p>The console keeps giving me the error 0x80004005 for random script.</p>\n\n<p>For example, if I have facebook's sdk in my page, the error will from that jssdk,</p>\n\n<p>If i delete the sdk, the error will from the Redactor.min.js through...</p>\n\n<p>Here is all the ajax stuff I have in Redactor.min.js</p>\n\n<pre><code>handler: function()\n        {\n            $.ajax({\n                url: this.opts.handler,\n                type: 'post',\n                data: 'redactor=' + escape(encodeURIComponent(this.getCode())),\n                success: $.proxy(function(data)\n                {\n                    this.setCode(data);\n                    this.syncCode();\n\n                }, this)\n            });\n\n        },\n\n\n\n// dragupload\n                if ($('#redactor_file').size() !== 0)\n                {\n                    $('#redactor_file').dragupload(\n                    {\n                        url: this.opts.imageUpload,\n                        success: $.proxy(this.imageUploadCallback, this)\n                    });\n                }\n\n                // ajax upload\n                this.uploadInit('redactor_file', { auto: true, url: this.opts.imageUpload, success: $.proxy(this.imageUploadCallback, this)  });\n\n                $('#redactor_upload_btn').click($.proxy(this.imageUploadCallbackLink, this));\n\n            }, this);\n\n            this.modalInit(RLANG.image, this.opts.path + '/plugins/image.html', 570, handler, true);\n\n        },\n\n\n$.ajax({\n                dataType: 'html',\n                type: 'get',\n                url: url,\n                success: $.proxy(function(data)\n                {...\n</code></pre>\n"},{"tags":["php","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":69,"score":-1,"question_id":13132161,"title":"In finishing an jQuery-ajax-PHP tutorial, why is it broken?","body":"<p>I'm running through a tutorial that is a little dated, but I've tried to improve the code and make it up-to-date.  </p>\n\n<p>The code is well commented and easy to follow, but I saw use of things like the <code>&lt;b&gt;</code> tag, which I think it deprecated, making me think it was a bit old....  And I also wonder, why is <code>DB.php</code> included, when there's a connect command, already, in the php file?</p>\n\n<p>Please, have a look at the code and tell me why it isn't working?</p>\n\n<p>Here is the html:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n        \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"/javascript/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"phpmysql.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n  &lt;!-----------------------------------------------------------------------\n  1) Create some html content that can be accessed by jquery\n  ------------------------------------------------------------------------&gt;\n  &lt;h2&gt; Bookstore example &lt;/h2&gt;\n  &lt;h3&gt;Output: &lt;/h3&gt;\n  &lt;div id=\"output\"&gt;Will you look at some books?&lt;/div&gt;\n  &lt;button&gt;click&lt;/button&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And the js:</p>\n\n<pre><code>$(document).ready.(\n  function () \n  {\n    $(\"button\").click.(function()\n    {\n      //---------------------------------------------------------------------\n      // 2) Send a http request with AJAX http://api.jquery.com/jQuery.ajax/\n      //---------------------------------------------------------------------\n      $.ajax({                                      \n        url: 'form3.php',   //the script to call to get data          \n        data: \"\",       //you can insert url argumnets here to pass to api.php\n                        //for example \"id=5&amp;parent=6\"\n        dataType: 'json',                //data format      \n        success: function(data)          //on recieve of reply\n        {\n          var id = data[0];              //get id\n          var vname = data[1];           //get name\n          //------------------------------------------------------------------\n          // 3) Update html content\n          //------------------------------------------------------------------\n          $('#output').html(\"&lt;p&gt;Title: &lt;/p&gt;\"+id+\"&lt;p&gt; Content: &lt;/p&gt;\"+vname); //Set output element html\n        } \n      });\n    }); \n  });\n</code></pre>\n\n<p>And the php:</p>\n\n<pre><code>&lt;?php \n\n  //--------------------------------------------------------------------------\n  // Example php script for fetching data from mysql database\n  //--------------------------------------------------------------------------\n  $host = \"localhost\";\n  $user = \"username\";\n  $pass = \"password\";\n\n  $databaseName = \"auto_try\";\n  $tableName = \"books\";\n\n  //------------------------------------------------------------------------\n  // 1) Connect to mysql database\n  //------------------------------------------------------------------------\n  include 'DB.php';\n  $con = mysql_connect($host,$user,$pass);\n  $dbs = mysql_select_db($databaseName, $con);\n\n  //------------------------------------------------------------------------\n  // 2) Query database for data\n  //------------------------------------------------------------------------\n  $result = mysql_query(\"SELECT * FROM $tableName\");      //query\n  $array = mysql_fetch_row($result);                      //fetch result    \n\n  //------------------------------------------------------------------------\n  // 3) echo result as json \n  //------------------------------------------------------------------------\n  echo json_encode($array);\n</code></pre>\n"},{"tags":["ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13131802,"title":"prevent redirection on submit to form","body":"<p>I have the following code I am using to submit my form to a processing script. the form gets submitted but I am getting redirected to the response html from the server. I want to stay on the same page and run the callback function inside success: </p>\n\n<p>the response header is sending\nlocation:http://url-I-am-Redirected-to-and-don't-want-to-be.html</p>\n\n<p>I am working with third party and have no control over the server side code I am submitting to.</p>\n\n<pre><code>  $('#go').click (function () {\n\n        $.ajax ( {\n        type: 'POST',   \n        data: $('#newsletter form').serialize(),\n        url: $('#newsletter').attr('action'),\n        success: function(){\n        $('#image_container').hide (1000,\n\n       );\n      }\n     });\n\n    }\n</code></pre>\n"},{"tags":["php","ajax","header"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":13131993,"title":"Header message in PHP","body":"<p>I am using Ajax with PHP. I want to return error or success back to ajax to determine the result status from PHP. As my research PHP header:</p>\n\n<pre><code>header(\"HTTP/1.0 200 OK\");\nheader(\"HTTP/1.0 299 OK\");\nheader(\"Status: 404 Not Found\");\nheader(\"HTTP/1.1 503 Service Temporarily Unavailable\");\nheader(\"Status: 503 Service Temporarily Unavailable\");\nheader(\"HTTP/1.1 304 Not Modified\");\nheader(\"status: 204\"); \nheader(\"HTTP/1.0 204 No Response\");\n</code></pre>\n\n<p>This header send difference status.</p>\n\n<ul>\n<li>How can I know what type of header status exists in PHP?</li>\n<li>Can I create custom header status for my own website?</li>\n</ul>\n"},{"tags":["ajax","jsf","primefaces","omnifaces"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13128299,"title":"OmniFaces Ajax utility's updateColumn() not updating p:dataTable","body":"<p>Recently, my question about OmniFaces Ajax.updateColumn() was answered in the following:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/13091742/how-to-use-omnifaces-ajax-updatecolumn-or-ajax-updaterow-via-pajax\">How to use OmniFaces Ajax.updateColumn() or Ajax.updateRow() via p:ajax</a></p>\n\n<p>In that case, the dataTable was the JSF standard h:dataTable, and that worked great.</p>\n\n<p>Now, in this case, I am attempting to update a PrimeFaces p:dataTable when enduser selects a date via p:calendar component that exists outside of the p:dataTable. The p:dataTable xhtml is as follows:</p>\n\n<pre><code>&lt;p:dataTable id=\"flightDataTable\" var=\"flight\" \n             value=\"#{pf_flightController.flightsForOrder}\"&gt;\n\n    &lt;p:column headerText=\"Airport\" style=\"text-align: center !important;\"&gt;\n        &lt;p:inputText value=\"#{flight.airportTx}\" maxlength=\"25\" size=\"10\" label=\"Airport\"/&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Airline\" style=\"text-align: center !important;\"&gt;\n        &lt;p:inputText value=\"#{flight.airlineTx}\" maxlength=\"25\" size=\"10\" label=\"Airline\"/&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Flight Number\" style=\"text-align: center !important;\"&gt;\n        &lt;p:inputText value=\"#{flight.flightNumber}\" maxlength=\"8\" size=\"10\" label=\"Flight Number\"/&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Type\" style=\"text-align: center !important;\"&gt;\n        &lt;h:selectOneMenu value=\"#{flight.flightType}\" label=\"Flight Type\"&gt;\n            &lt;f:selectItem itemValue=\"#{bundle.DropdownOptionValueArrive}\" itemLabel=\"#{bundle.DropdownOptionLabelArrive}\"/&gt;\n            &lt;f:selectItem itemValue=\"#{bundle.DropdownOptionValueDepart}\" itemLabel=\"#{bundle.DropdownOptionLabelDepart}\"/&gt;\n        &lt;/h:selectOneMenu&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Date\" style=\"text-align: center !important;\"&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'N'}\"&gt;\n            &lt;p:calendar value=\"#{flight.flightDate}\" navigator=\"true\"\n                        label=\"Flight Date\"\n                        pattern=\"MM/dd/yyyy\" size=\"10\"&gt;\n                &lt;f:convertDateTime pattern=\"MM/dd/yyyy\" /&gt;\n            &lt;/p:calendar&gt;\n        &lt;/h:panelGroup&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'Y'}\"&gt;\n            &lt;p:inputText value=\"#{flight.flightDate}\"\n                         label=\"Flight Date\" type=\"date\"&gt;\n                &lt;f:convertDateTime pattern=\"yyyy-MM-dd\" /&gt;\n            &lt;/p:inputText&gt;\n        &lt;/h:panelGroup&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Time\" style=\"text-align: center !important;\"&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'N'}\"&gt;\n            &lt;pe:timePicker value=\"#{flight.flightTime}\"\n                           label=\"Flight Time\" mode=\"popup\"\n                           showPeriod=\"true\" style=\"width: 80px;\"&gt;\n                &lt;f:convertDateTime pattern=\"hh:mm a\" /&gt;\n            &lt;/pe:timePicker&gt;\n        &lt;/h:panelGroup&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'Y'}\"&gt;\n            &lt;p:inputText value=\"#{flight.flightTime}\"\n                         label=\"Flight Time\" type=\"time\"&gt;\n                &lt;f:convertDateTime pattern=\"HH:mm\" /&gt;\n            &lt;/p:inputText&gt;\n        &lt;/h:panelGroup&gt;\n    &lt;/p:column&gt;\n\n&lt;/p:dataTable&gt;\n</code></pre>\n\n<p>Originally and currently in production, the p:calendar p:ajax update=\"...\" updates the 'entire' flights p:dataTable, so the dates column in p:dataTable is updated, successfully. I know, i know, if it ain't broke, then don't fix it, but today I was modifying this code and xhtml, so I wanted to use OmniFaces Ajax utility's updateColumn() to update only 'one' column for all rows of this PrimeFaces p:dataTable.</p>\n\n<p>Below is the code fragment that is executed when enduser selects date via p:calendar; this is the code that calls OmniFaces Ajax utility's updateColumn().</p>\n\n<pre><code>private void updateFlightDateOnAdd() {\n    flightController.updateFlightDateOnAdd(current.getTripDateTime());\n\n    UIData flightsDataTable = null;\n    try {\n        flightsDataTable = (UIData) Components.findComponent(\":orderAddForm:flightDataTable\");\n    } catch (Exception e) {\n        System.out.println(\"pf_OrdersController.updateFlightDateOnAdd(): caught exception on Components.findComponent(...)\");\n    }\n    if (flightsDataTable != null) {\n        System.out.println(\"pf_OrdersController.updateFlightDateOnAdd(): Components.findComponent(...) found \" + flightsDataTable.getClientId());\n        Ajax.updateColumn(flightsDataTable, 4);\n    }\n    else {\n        System.out.println(\"pf_OrdersController.updateFlightDateOnAdd(): Components.findComponent(...) returned null\");\n    }\n}\n</code></pre>\n\n<p>Below is the POJO definition:</p>\n\n<pre><code>public class FlightForOrder {\n    private Integer flightId;\n    private String airportTx, airlineTx, flightNumber;\n    private Character flightType;\n    private Date flightDate, flightTime;\n\n    public FlightForOrder() {\n\n    }\n\n    public Integer getFlightId() {\n        return flightId;\n    }\n\n    public void setFlightId(Integer flightId) {\n        this.flightId = flightId;\n    }\n\n    public String getAirportTx() {\n        return airportTx;\n    }\n\n    public void setAirportTx(String airportTx) {\n        this.airportTx = airportTx;\n    }\n\n    public String getAirlineTx() {\n        return airlineTx;\n    }\n\n    public void setAirlineTx(String airlineTx) {\n        this.airlineTx = airlineTx;\n    }\n\n    public Date getFlightDate() {\n        return flightDate;\n    }\n\n    public void setFlightDate(Date flightDate) {\n        this.flightDate = flightDate;\n    }\n\n    public String getFlightNumber() {\n        return flightNumber;\n    }\n\n    public void setFlightNumber(String flightNumber) {\n        this.flightNumber = flightNumber;\n    }\n\n    public Date getFlightTime() {\n        return flightTime;\n    }\n\n    public void setFlightTime(Date flightTime) {\n        this.flightTime = flightTime;\n    }\n\n    public Character getFlightType() {\n        return flightType;\n    }\n\n    public void setFlightType(Character flightType) {\n        this.flightType = flightType;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 3;\n        hash = 97 * hash + Objects.hashCode(this.flightId);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        final FlightForOrder other = (FlightForOrder) obj;\n        if (!Objects.equals(this.flightId, other.flightId)) {\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>While testing, the following showed up in the server log:</p>\n\n<pre><code>INFO: pf_OrdersController.updateFlightDateOnAdd(): Components.findComponent(...) found orderAddForm:flightDataTable\n</code></pre>\n\n<p>So, that means that I obtained a good reference of the PrimeFaces p:dataTable, so I passed the component of type UIData to Ajax.updateColumn().</p>\n\n<p>The end result, the PrimeFaces dataTable was not updated by OmniFaces Ajax utility's updateColumn().</p>\n\n<p>I just commented out Ajax.updateColumn(...) and re-added the update=\"...\" to p:calendar p:ajax, and the PrimeFaces dataTable is updated, successfully.</p>\n\n<p>Please advise on what I may need to do to ensure that the PrimeFaces dataTable is updated via Ajax.updateColumn(...). Thanks.</p>\n"}]}
{"total":48692,"page":11,"pagesize":100,"questions":[{"tags":["ajax","jsf","primefaces","omnifaces"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13128299,"title":"OmniFaces Ajax utility's updateColumn() not updating p:dataTable","body":"<p>Recently, my question about OmniFaces Ajax.updateColumn() was answered in the following:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/13091742/how-to-use-omnifaces-ajax-updatecolumn-or-ajax-updaterow-via-pajax\">How to use OmniFaces Ajax.updateColumn() or Ajax.updateRow() via p:ajax</a></p>\n\n<p>In that case, the dataTable was the JSF standard h:dataTable, and that worked great.</p>\n\n<p>Now, in this case, I am attempting to update a PrimeFaces p:dataTable when enduser selects a date via p:calendar component that exists outside of the p:dataTable. The p:dataTable xhtml is as follows:</p>\n\n<pre><code>&lt;p:dataTable id=\"flightDataTable\" var=\"flight\" \n             value=\"#{pf_flightController.flightsForOrder}\"&gt;\n\n    &lt;p:column headerText=\"Airport\" style=\"text-align: center !important;\"&gt;\n        &lt;p:inputText value=\"#{flight.airportTx}\" maxlength=\"25\" size=\"10\" label=\"Airport\"/&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Airline\" style=\"text-align: center !important;\"&gt;\n        &lt;p:inputText value=\"#{flight.airlineTx}\" maxlength=\"25\" size=\"10\" label=\"Airline\"/&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Flight Number\" style=\"text-align: center !important;\"&gt;\n        &lt;p:inputText value=\"#{flight.flightNumber}\" maxlength=\"8\" size=\"10\" label=\"Flight Number\"/&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Type\" style=\"text-align: center !important;\"&gt;\n        &lt;h:selectOneMenu value=\"#{flight.flightType}\" label=\"Flight Type\"&gt;\n            &lt;f:selectItem itemValue=\"#{bundle.DropdownOptionValueArrive}\" itemLabel=\"#{bundle.DropdownOptionLabelArrive}\"/&gt;\n            &lt;f:selectItem itemValue=\"#{bundle.DropdownOptionValueDepart}\" itemLabel=\"#{bundle.DropdownOptionLabelDepart}\"/&gt;\n        &lt;/h:selectOneMenu&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Date\" style=\"text-align: center !important;\"&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'N'}\"&gt;\n            &lt;p:calendar value=\"#{flight.flightDate}\" navigator=\"true\"\n                        label=\"Flight Date\"\n                        pattern=\"MM/dd/yyyy\" size=\"10\"&gt;\n                &lt;f:convertDateTime pattern=\"MM/dd/yyyy\" /&gt;\n            &lt;/p:calendar&gt;\n        &lt;/h:panelGroup&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'Y'}\"&gt;\n            &lt;p:inputText value=\"#{flight.flightDate}\"\n                         label=\"Flight Date\" type=\"date\"&gt;\n                &lt;f:convertDateTime pattern=\"yyyy-MM-dd\" /&gt;\n            &lt;/p:inputText&gt;\n        &lt;/h:panelGroup&gt;\n    &lt;/p:column&gt;\n\n    &lt;p:column headerText=\"Time\" style=\"text-align: center !important;\"&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'N'}\"&gt;\n            &lt;pe:timePicker value=\"#{flight.flightTime}\"\n                           label=\"Flight Time\" mode=\"popup\"\n                           showPeriod=\"true\" style=\"width: 80px;\"&gt;\n                &lt;f:convertDateTime pattern=\"hh:mm a\" /&gt;\n            &lt;/pe:timePicker&gt;\n        &lt;/h:panelGroup&gt;\n        &lt;h:panelGroup rendered=\"#{pf_usersController.loggedInViaAndroid == 'Y'}\"&gt;\n            &lt;p:inputText value=\"#{flight.flightTime}\"\n                         label=\"Flight Time\" type=\"time\"&gt;\n                &lt;f:convertDateTime pattern=\"HH:mm\" /&gt;\n            &lt;/p:inputText&gt;\n        &lt;/h:panelGroup&gt;\n    &lt;/p:column&gt;\n\n&lt;/p:dataTable&gt;\n</code></pre>\n\n<p>Originally and currently in production, the p:calendar p:ajax update=\"...\" updates the 'entire' flights p:dataTable, so the dates column in p:dataTable is updated, successfully. I know, i know, if it ain't broke, then don't fix it, but today I was modifying this code and xhtml, so I wanted to use OmniFaces Ajax utility's updateColumn() to update only 'one' column for all rows of this PrimeFaces p:dataTable.</p>\n\n<p>Below is the code fragment that is executed when enduser selects date via p:calendar; this is the code that calls OmniFaces Ajax utility's updateColumn().</p>\n\n<pre><code>private void updateFlightDateOnAdd() {\n    flightController.updateFlightDateOnAdd(current.getTripDateTime());\n\n    UIData flightsDataTable = null;\n    try {\n        flightsDataTable = (UIData) Components.findComponent(\":orderAddForm:flightDataTable\");\n    } catch (Exception e) {\n        System.out.println(\"pf_OrdersController.updateFlightDateOnAdd(): caught exception on Components.findComponent(...)\");\n    }\n    if (flightsDataTable != null) {\n        System.out.println(\"pf_OrdersController.updateFlightDateOnAdd(): Components.findComponent(...) found \" + flightsDataTable.getClientId());\n        Ajax.updateColumn(flightsDataTable, 4);\n    }\n    else {\n        System.out.println(\"pf_OrdersController.updateFlightDateOnAdd(): Components.findComponent(...) returned null\");\n    }\n}\n</code></pre>\n\n<p>Below is the POJO definition:</p>\n\n<pre><code>public class FlightForOrder {\n    private Integer flightId;\n    private String airportTx, airlineTx, flightNumber;\n    private Character flightType;\n    private Date flightDate, flightTime;\n\n    public FlightForOrder() {\n\n    }\n\n    public Integer getFlightId() {\n        return flightId;\n    }\n\n    public void setFlightId(Integer flightId) {\n        this.flightId = flightId;\n    }\n\n    public String getAirportTx() {\n        return airportTx;\n    }\n\n    public void setAirportTx(String airportTx) {\n        this.airportTx = airportTx;\n    }\n\n    public String getAirlineTx() {\n        return airlineTx;\n    }\n\n    public void setAirlineTx(String airlineTx) {\n        this.airlineTx = airlineTx;\n    }\n\n    public Date getFlightDate() {\n        return flightDate;\n    }\n\n    public void setFlightDate(Date flightDate) {\n        this.flightDate = flightDate;\n    }\n\n    public String getFlightNumber() {\n        return flightNumber;\n    }\n\n    public void setFlightNumber(String flightNumber) {\n        this.flightNumber = flightNumber;\n    }\n\n    public Date getFlightTime() {\n        return flightTime;\n    }\n\n    public void setFlightTime(Date flightTime) {\n        this.flightTime = flightTime;\n    }\n\n    public Character getFlightType() {\n        return flightType;\n    }\n\n    public void setFlightType(Character flightType) {\n        this.flightType = flightType;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 3;\n        hash = 97 * hash + Objects.hashCode(this.flightId);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        final FlightForOrder other = (FlightForOrder) obj;\n        if (!Objects.equals(this.flightId, other.flightId)) {\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>While testing, the following showed up in the server log:</p>\n\n<pre><code>INFO: pf_OrdersController.updateFlightDateOnAdd(): Components.findComponent(...) found orderAddForm:flightDataTable\n</code></pre>\n\n<p>So, that means that I obtained a good reference of the PrimeFaces p:dataTable, so I passed the component of type UIData to Ajax.updateColumn().</p>\n\n<p>The end result, the PrimeFaces dataTable was not updated by OmniFaces Ajax utility's updateColumn().</p>\n\n<p>I just commented out Ajax.updateColumn(...) and re-added the update=\"...\" to p:calendar p:ajax, and the PrimeFaces dataTable is updated, successfully.</p>\n\n<p>Please advise on what I may need to do to ensure that the PrimeFaces dataTable is updated via Ajax.updateColumn(...). Thanks.</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13131560,"title":"jquery ajax passing more than one parameter","body":"<p>I am trying to pass two request parameters by ajax using jquery. The following is what I do:</p>\n\n<pre><code>function querySummary(){\n$.ajax({\n    type:\"POST\",\n    url:\"internalSummary.action\",\n    data:{starttime:$(\"#starttime\").val(),endtime:${\"#endtime\"}.val()},\n    success: function(data) {\n        $(\"#hello\").html( data );\n    }\n});\n</code></pre>\n\n<p>}</p>\n\n<p>I am trying to pass starttime and endtime two parameters, but get </p>\n\n<pre><code>Uncaught SyntaxError: Unexpected token ILLEGAL \n</code></pre>\n\n<p>Can anyone give some suggestions on how to solve this?</p>\n\n<p>Thanks alot!</p>\n"},{"tags":["ajax","asp.net-mvc","asp.net-mvc-3","model-binding","kendo-ui"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":127,"score":1,"question_id":13004986,"title":"Model binding the sort field from KendoUI Grid","body":"<p>I'm using KendoUI Grid to show data. I have server paging working like a charm. The each page change in the kendo grid is a new ajax request to the server and the server returns the correct page of data. I am now trying to do server-side sorting, but I'm having trouble getting model binding to bind to the sort values.</p>\n\n<p>This is what the request from the Kendo Grid looks like:</p>\n\n<p><img src=\"http://i.imgur.com/ltlSB.png\" alt=\"\"></p>\n\n<p>My action method looks like this:</p>\n\n<pre><code>public JsonResult GetReports(int pageSize, int skip, List&lt;KendoSort&gt; sort)\n{\n    // sort is not being populated with the right data.\n}\n</code></pre>\n\n<p>KendoSort is a custom class:</p>\n\n<pre><code>public class KendoSort\n{\n    public string Field { get; set; }\n    public string Dir { get; set; }\n}\n</code></pre>\n\n<p>I know I'm not doing this right. How should my action method look to correctly capture the data supplied for the sort? The screenshot shows only a single item in the sort collection, but the grid could pass more. For example, it could also have included an additional sort:</p>\n\n<pre><code>sort[1][field]: reportName\nsort[1][dir]: asc\n</code></pre>\n\n<p>Basically it would be saying \"sort by id in ascending order, then by reportName in ascending order\". How can I get this data into my action method without having to poke around in <code>Request</code> and manually parse the parameters?</p>\n"},{"tags":["c#","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13129984,"title":"Ajax function called twice when clicking a button","body":"<p>I've seen a couple of similar questions here but I couldn't fix this problem. It seems not be a bid deal because eventually it works, but trying to display a hidden div (imitating a popup) using Ajax when clicking a button if I debug I can see the controller in the method (ConfirmMaxBid) is called twice (even more I feel sometimes even more times, and mixing the flow through the code, i.e going back and forth).</p>\n\n<p>Here's the view</p>\n\n<pre><code>@model UI.Models.BidOnAuctionViewModel\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Content/js/BidAndMaxBidConfirmation.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n@{\n   var disableButton = Model.AuctionOpen ? \"\" : \"bid-btn-disabled\";     \n}\n\n@using (Html.BeginForm(\"ConfirmMaxBid\", \"Lot\"))\n{\n  &lt;fieldset&gt;\n    &lt;div class=\"lotdetail-maxbid-row\"&gt;\n        &lt;label&gt;Your Max Bid&lt;/label&gt;\n        @*&lt;input id=\"Amount\" class=\"radius2 text-box single-line valid\" type=\"text\" name=\"Amount\" data-val-required=\"The Amount field is required.\" data-val-number=\"The field Amount must be a number.\" data-val=\"true\"&gt;*@\n        @if (Model.AuctionOpen)\n        {\n            @Html.TextBoxFor(model =&gt; model.Amount, new {@class = \"radius2 text-box single-line valid\"})\n        }\n        else\n        {\n            @Html.TextBoxFor(model =&gt; model.Amount, new {@class = \"radius2 text-box single-line valid\", @disabled = \"disabled\"})\n        }\n    &lt;/div&gt;\n    &lt;input type=\"submit\" id=\"autobidButton\" value=\"Increase Max bid\" class=\"btn btn-level2 btn-maxbid @disableButton\" /&gt;\n  &lt;/fieldset&gt;\n\n  &lt;div id=\"autoBidConfirmation\" class=\"lotdetail-modal\" style=\"display: none;\"&gt; \n    @Html.HiddenFor(model =&gt; model.AuctionId)\n    @Html.HiddenFor(model =&gt; model.AutobidAmount)\n    @Html.HiddenFor(model =&gt; model.AuctionEventId)\n    &lt;h4 id=\"confirmationMessage\"&gt;&lt;/h4&gt;\n    &lt;span id=\"returnedCorrectedAmount\" class=\"lotdetail-modal-msg\"&gt;&lt;/span&gt;\n    &lt;input name=\"button\" value=\"Place bid\" type=\"submit\" class=\"btn btn-level2\" /&gt;\n    &lt;input id=\"cancelAutoBid\" name=\"button\" value=\"Cancel\" type=\"submit\" class=\"btn btn-level2 btn-cancel\" /&gt;\n  &lt;/div&gt;\n}\n</code></pre>\n\n<p>And here's the script's function called when document.ready</p>\n\n<pre><code>$('#autobidButton').click(function (e) {\n    e.preventDefault();\n    var model =\n        {\n            AuctionEventId: $('#AuctionEventId').val(),\n            AuctionId: $('#AuctionId').val(),\n            Amount: $('#Amount').val()\n        };\n    $.ajax({\n        url: \"/Lot/ConfirmMaxBid\",\n        dataType: 'json',\n        type: \"POST\",\n        contentType: 'application/json; charset=utf-8',\n        data: JSON.stringify(model),\n        success: function (data) {\n            var amount = \"$\" + data.AutobidAmount;\n            $('#returnedCorrectedAmount').html(amount);\n            $('#AutobidAmount').val(data.AutobidAmount);\n            $('#confirmationMessage').text(data.AutobidConfirmationMessage);\n            $('#autoBidConfirmation').show();\n        }\n    });\n});\n</code></pre>\n\n<p>And finally this is the method (the part is called twice at least, to avoid this question be too long)</p>\n\n<pre><code>public ActionResult ConfirmMaxBid(string button, BidOnAuctionViewModel model)\n    {\n        if(Request.IsAjaxRequest())\n        {\n            var confirmationMessage = \"Confirm your bid\";\n            var correctedAmount = model.Amount;\n            if (!CheckMaxBidFitsIncrementTier(model.Amount, model.AuctionEventId))\n            {\n                confirmationMessage = \"This bid can't be placed, do you want to place the following instead?\";\n                correctedAmount = CalculateNextBidAmountForWrongMaxAmount(model.Amount, model.AuctionEventId);\n            }\n\n            return Json(new\n            {\n                AutobidAmount = correctedAmount,\n                model.AuctionId,\n                model.AuctionEventId,\n                AutobidConfirmationMessage = confirmationMessage\n            });\n        }\n\n        if (button == \"Place bid\")\n        {\n          //Here's the code to do the stuff when confirming in the partial view\n</code></pre>\n\n<p>Any idea why this happens?</p>\n\n<p>Thanks in advance</p>\n\n<p>Update</p>\n\n<p>After placing some alerts (quite primitive way of debugging, I guess) I see that the method is called again just after the last line of the success function (after $('#autoBidConfirmation').show();)</p>\n"},{"tags":["jquery","asp.net","ajax","json","absolute-path"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13130705,"title":"Absolute URL when calling wcf method using ajax","body":"<p>This is probably very simple, but i've been stuck for a while.</p>\n\n<p>I have a user-control which is calling a method like this:</p>\n\n<pre><code> $(document).ready(function () {\n        $(\"#myabtags\").tagit({\n            tagSource: function (request, response) {\n                $.ajax({\n                    type: \"POST\",\n                    url: \"Services/ForumOperationService.svc/GetTags\",\n                    datatype: \"json\",\n                    contentType: \"application/json; charset=utf-8\",\n                    data: '{\"prefix\":\"' + request.term + '\"}',\n                    success: function (data) {\n                        response(data.GetTagsResult);\n                    }\n                });\n            }\n        });\n    });\n</code></pre>\n\n<p>However, this user control is used several places on my website. For instance at root, /Admin/ and several others.</p>\n\n<p>I would want to do something like:</p>\n\n<pre><code>url: \"~/Services/ForumOperationService.svc/GetTags\"\n</code></pre>\n\n<p>How do you do that in jQuery ?</p>\n\n<p><strong>Attemps</strong>:</p>\n\n<p>Putting slash in front, like </p>\n\n<pre><code>url: \"/Services/ForumOperationService.svc/GetTags\"\n</code></pre>\n\n<p>That doesn't work. I get a 404 error back: <code>http://localhost:16481/Services/ForumOperationService.svc/GetTags\" (gives 404)</code>. </p>\n\n<p>Instead it should be </p>\n\n<pre><code>http://localhost:16481/Client/Services/ForumOperationService.svc/GetTags\"\n</code></pre>\n"},{"tags":["php","javascript","ajax","html5"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13130924,"title":"Html5 drag & drop after an ajax call","body":"<p>How to have a working drag&amp;drop effect after an ajax call? I wasn't able to do it.\nConsidering this script:</p>\n\n<pre><code>function allowDrop(ev) {\n    ev.preventDefault();\n}\n\nfunction drag(ev) {\n    ev.dataTransfer.setData(\"Text\", ev.target.id);\n}\n\nfunction drop(ev) {\n    ev.preventDefault();\n    var data = ev.dataTransfer.getData(\"Text\");\n    ev.target.appendChild(document.getElementById(data));\n}​\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","will-paginate"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13116438,"title":"Rails: Will_paginate does not work properly after AJAX call","body":"<p>Sorry about the repetition, I could not find the answers to my questions after a lot of searches. The will_paginate does not work after the <code>Ajax</code> call. </p>\n\n<ol>\n<li>After delete action, It does not display the pages numbers at all (it simply returns  all results).</li>\n<li>After search action, the page number does not update, it shows more pages than what should actually be there.</li>\n</ol>\n\n<p>Here is the controller code. </p>\n\n<pre><code>class CitiesController &lt; ApplicationController\n\n def index\n     @cities = City.get_cities(params[:city_name],params[:city_population]).paginate(:page =&gt; params[:page])\n  respond_to do |format|\n    format.html \n    format.js\n  end\n\n end\n\n def create\n      @city = City.new(params[:city])\n\n  if @city.save\n       flash[:success] = \"City information saved successfully\"\n\n       redirect_to cities_path\n    else\n        render 'index'\n    end\n end\n\n\ndef new\n    @city = City.new\nend\n\n\n def destroy\n   @city = City.find(params[:id]).destroy\n   @city.destroy\n   @cities = City.all\n   respond_to do |format|\n      format.html {redirect_to cities_path}\n      format.js\n    end\n  end\n\n end\n</code></pre>\n\n<p>Here is the index view:</p>\n\n<pre><code> &lt;div class=\"row\"&gt;\n&lt;h1&gt;Search Cities or &lt;%= link_to \"Create New City\", new_city_path %&gt;&lt;/h1&gt;\n&lt;h3&gt;99 random city information are generated in the database &lt;/h2&gt;\n&lt;h3&gt;Simply type any letter or city population between 0 and 10 to filter out&lt;/h3&gt;\n&lt;%= form_tag \"/cities/index\", method: :get, remote: true do %&gt;\n  &lt;%= label_tag(:q, \"City Name:\") %&gt;\n  &lt;%= text_field_tag 'city_name' %&gt;\n  &lt;%= label_tag(:q, \"City Population greater than, in units of 1 million:\") %&gt;\n  &lt;%= text_field_tag 'city_population' %&gt;\n  &lt;label&gt;&lt;/label&gt;\n  &lt;%= button_tag(\"Search\", :class =&gt; \"btn\") %&gt;\n&lt;% end %&gt;\n&lt;% flash.each do |key, value| %&gt;\n   &lt;div class=\"alert alert-&lt;%= key %&gt;\"&gt;&lt;%= value %&gt;&lt;/div&gt;\n&lt;% end %&gt;\n\n\n&lt;div id='table' class=\"table table-striped\"&gt;\n    &lt;%= render 'table' %&gt; \n&lt;/div&gt;\n\n\n&lt;%=will_paginate @cities %&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>Here is the partial view of the table:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n&lt;h1&gt;Enter City descriptions or &lt;%= link_to \"Search Cities\", cities_path %&gt;&lt;/h1&gt;\n&lt;%= form_for @city, html: {multipart: true} do |f| %&gt;\n\n&lt;%= f.label :city_name %&gt;\n&lt;%= f.text_field :city_name %&gt;\n\n&lt;%= f.label :city_description %&gt;\n&lt;%= f.text_field :city_description %&gt;\n\n&lt;%= f.label :city_population_in_units_of_millions %&gt; \n&lt;%= f.text_field :city_population %&gt;\n&lt;label&gt;&lt;/label&gt;\n\n&lt;%= f.file_field :image%&gt;\n\n&lt;label&gt;&lt;/label&gt;\n&lt;%= f.submit \"Create new City\", :class =&gt; \"btn\"%&gt;\n&lt;% end %&gt;\n&lt;/div&gt;\n\nFinally two js.erb codes associated with index and delete actions:\n\nindex.js.erb:\n\n$('#table').html('&lt;%= escape_javascript(render('table')) %&gt;');\n\ndestroy.js.erb:\n\n$('#table').html('&lt;%= escape_javascript(render('table')) %&gt;');\n</code></pre>\n"},{"tags":["javascript","css","ajax","html5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13126846,"title":"XMLHTTPRequest Error From Sigma.js when trying to run it in Chrome [Seems to be unique to way it is run]","body":"<p>Issue I'm facing: there is no graph D: </p>\n\n<p>What I'm trying to do: Copy this locally run it. <a href=\"http://sigmajs.org/examples/gexf_example.html\" rel=\"nofollow\">http://sigmajs.org/examples/gexf_example.html</a></p>\n\n<p>What i'm getting when I try to emulate the webpage:\n<a href=\"http://i.imgur.com/q93z9.png\" rel=\"nofollow\">http://i.imgur.com/q93z9.png</a></p>\n\n<p>When I run it in Firefox I also get nothing, and I'm not sure why...</p>\n\n<p><strong>Similar questions:</strong></p>\n\n<p>This is a copy of <a href=\"http://stackoverflow.com/questions/11572429/sigma-parsegexf-js-got-xmlhttprequest-exception-error\">sigma.parseGexf.js got XMLHttpRequest Exception error</a> which did not recieve any answers :(</p>\n\n<p>there is this too but I don't understand what exactly he did ... <a href=\"http://stackoverflow.com/questions/10823134/javascript-sigma-js-visualization-way-over-my-head\">javascript sigma.js visualization - way over my head</a></p>\n\n<p>How can I fix this / will it only work on a web server? </p>\n\n<p>Thanks!</p>\n\n<p>I tried to use some solution and change  <code>gexfhttp.open('GET', gexfPath, false);</code> to  <code>gexfhttp.open('GET', gexfPath, true);</code>  but found no difference</p>\n\n<p>Relevant Code:</p>\n\n<p>Javascript (taken from sigma.js.org)\nsigma.parseGexf.js <a href=\"http://pastie.org/5133355\" rel=\"nofollow\">http://pastie.org/5133355</a> (modified with the 'solution' above)\nprettify.js: <a href=\"http://sigmajs.org/js/prettify.js\" rel=\"nofollow\">http://sigmajs.org/js/prettify.js</a>\nsigma.min: <a href=\"http://sigmajs.org/js/sigma.min.js\" rel=\"nofollow\">http://sigmajs.org/js/sigma.min.js</a></p>\n\n<p>CSS\n<a href=\"http://sigmajs.org/css/bootstrap.min.css\" rel=\"nofollow\">http://sigmajs.org/css/bootstrap.min.css</a>\nhttp://sigmajs.org/css/bootstrap-responsive.min.css\n<a href=\"http://sigmajs.org/css/style.css\" rel=\"nofollow\">http://sigmajs.org/css/style.css</a>\nhttp://sigmajs.org/css/prettify.css</p>\n\n<p>HTML File I'm running (from sigmajs.org again)\n<a href=\"http://pastie.org/5133367\" rel=\"nofollow\">http://pastie.org/5133367</a> also at <a href=\"http://sigmajs.org/examples/gexf_example.html\" rel=\"nofollow\">http://sigmajs.org/examples/gexf_example.html</a></p>\n"},{"tags":["javascript","ajax","csv"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13130496,"title":"Is it possible to access part of a file during loading in JavaScript?","body":"<p>Say I have a 10mb CSV file I want to load into a JavaScript app using AJAX (or other). Is it possible to read from it during the loading?</p>\n\n<p>So if 50% of it was loaded, is it possible to access that first 50% of the file?</p>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13130473,"title":"Loaded content brokes the submenu toggle","body":"<p>I'm working on a website that has a menu and a submenu on the header.</p>\n\n<p>I'm loading on the html the header this way (this script is in the bottom of the html file):</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        $('#header').load('includes/header.html', function(){\n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>The problem is that when I load the header that way, this script (that works if I have the header on the same html) stops working (this script is in the main.js file):</p>\n\n<pre><code>    function mainmenu(){\n    // hide submenu\n    $(\" ul#mainnav ul \").css({display: \"none\"});\n    // Defino que submenus deben estar visibles cuando se pasa el mouse por encima\n    $(\" ul#mainnav li\").hover(function(){\n        $(this).find('ul:first:hidden').css({visibility: \"visible\",display: \"none\"}).slideDown(400);\n        },function(){\n            $(this).find('ul:first').slideUp(400);\n        });\n    }\n    $(document).ready(function(){\n        mainmenu();\n    });\n</code></pre>\n\n<p>Why does it stops working when on a loaded html file?</p>\n"},{"tags":["javascript","jquery","ajax","windows","firefox"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13130060,"title":"ajaxing onbeforeunload in Firefox 15","body":"<p>I'm having issues with firefox 15.0.1 when I attempt to perform an ajax \"fire and forget\" call. Basically when the user closes the page or redirects, I want to perform an ajax call. In Chrome and IE, this appears to work fine when I view my requests in Charles. However, in FireFox, I'm not seeing my ajax call being made.</p>\n\n<pre><code>jQuery(window).on('beforeunload',function(){\n     jQuery.ajax({url:'some page', type: 'GET', dataType: 'script'});\n});\n</code></pre>\n\n<p>I know the event works when I include a console.log or an alert. There just doesn't seem like there's enough time allowed to perform this ajax call before unload. Anyone have any thoughts on this or have a workaround?</p>\n"},{"tags":["ajax","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13128711,"title":"CakePHP includes \"<!-- xxx.s -->\" in AJAX response?","body":"<p>Im just trying to send a simple jquery ajax request but always get the response like this:</p>\n\n<pre><code>\"\"ok\"\"&lt; !--\" 16.7154s \"--&gt;\"\n</code></pre>\n\n<p>Why: <code>&lt; !-- 16.7154s --&gt;</code>?</p>\n\n<p>My js:</p>\n\n<pre><code>jQuery.ajax({\n  type:\"POST\",\n  url: 'controller/action/' + $('#nickname').val() ,\n    success: function(data) {\n    alert( data ==='ok'  );\n\n  }\n}); return;\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>function verifynick(){    \n  $this-&gt;layout='ajax';    \n  $this-&gt;autoRender = false;    \n  return ('ok'); \n}    \n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["php","ajax","yii"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13129610,"title":"Yii Responding to ajax requests","body":"<p>I can't get my yii controller to respond to ajax requests and I'm growing frustrated. Here's my controller:</p>\n\n<pre><code>public function actionUpload () {\n    var_dump(Yii::app()-&gt;getRequest()-&gt;getIsAjaxRequest());\n    if (Yii::app()-&gt;getRequest()-&gt;getIsAjaxRequest() || Yii::app()-&gt;getRequest()-&gt;getIsPostRequest()) {\n        //I've also tried exit('data'); here with no response\n        echo CJavaScript::jsonEncode(array('data'));\n        Yii::app()-&gt;end();\n    }\n\n    if (is_numeric($this-&gt;request-&gt;getQuery('container'))) {\n        Yii::app()-&gt;session-&gt;add('container', $this-&gt;request-&gt;getQuery('container'));\n    }\n\n    $this-&gt;selectedStep = 2;\n\n    $this-&gt;includeUploadify();\n    $this-&gt;includeJs('template/upload');\n\n    $this-&gt;render('upload', array(\n        'container' =&gt; Container::model()-&gt;findByPk(Yii::app()-&gt;session-&gt;get('container'))\n    ));\n}\n</code></pre>\n\n<p>I've verified that the ajax request is going to the correct URL.  At this point I'm trying to see a response within the network tab of Chrome.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":11,"favorite_count":12,"up_vote_count":105,"down_vote_count":0,"view_count":29801,"score":105,"question_id":1256394,"title":"What exactly can cause an \"HIERARCHY_REQUEST_ERR: DOM Exception 3\"-Error?","body":"<p>And how exactly does it relate to jquery? I know the library uses native javascript functions internally, but what exactly is it trying to do whenever such a problem appears?</p>\n\n<p>Thx for any response in advance.</p>\n"},{"tags":["javascript","jquery","html","ajax","javascript-events"],"answer_count":4,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":348,"score":0,"question_id":7669996,"title":"Where is the best place to put JavaScript/Ajax in a document?","body":"<p>Apologies for the dumb sounding question, but I need the experts to clarify.</p>\n\n<p>Out of the three places to put Javascript, <code>head</code>, <code>$(document).ready</code>, or <code>body</code>, where would the best place be to put some ajax that uses a lot of <code>$GET</code> functions?</p>\n\n<p>For instance I am using a JavaScript function called <code>execute_send()</code> but I am unsure where the best place to put it would be. Below is the error:</p>\n\n<p><code>Problem at line 67 character 22: 'execute_send' was used before it was defined.\nfunction execute_send() {</code></p>\n\n<p>Also how does the placement affect the page loading time?</p>\n"},{"tags":["php","jquery","ajax","database","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13129052,"title":"Jquery/Ajax Post To Update Database","body":"<p>Newbie here... I have a small poll and wanted to avoid refreshing the page when the poll is submitted, so I have looked up some examples using Ajax/jQuery to handle this. I'm trying to \"debug\" my Post.php file which is called via Ajax as follows:</p>\n\n<pre><code>$.ajax(\n{\n  type: \"POST\",\n  url: \"Post.php\",\n  data: datastring,\n  success: function()\n  {\n    alert (\"Success\");\n  }\n});\n</code></pre>\n\n<p>Post.php for debugging purposes looks as follows:</p>\n\n<pre><code>&lt;?php\necho \"Hello World\";\n?&gt;\n</code></pre>\n\n<p>I see the \"Success\" message signifying that the Post.php file is being called successfully, however I do not see the \"Hello World\" message displayed. Is it not possible to echo text to the screen in the Post.php file called via Ajax?</p>\n"},{"tags":["php","javascript","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13127722,"title":"How do i make an ajax live search which tapers an already existing list instead of pulling new results?","body":"<p>I need to build an ajax search function which, as the user types, will narrow down a displayed list to show only exact matches.</p>\n\n<p>I'm not looking for someone to do my work for me, but some specific tips would be greatly appreciated.</p>\n\n<p>Specifically:\n-I've been trying to find a tutorial online, but all the examples i find involve pulling new search results as the user types, which isnt quite what i want. Does anyone know of any resources which would give me the information needed?\n-Also, Aside from basic ajax framework, like building the httprequest object, what is the general logic of what i would have to do to implement something like this?</p>\n\n<p>In detail, I have a dynamically displayed list of contents from a database. I have shoved the output into an array, which is displayed to the user. Thus, i have my list of contents that will need to be tapered.</p>\n\n<p>So i need to find a way to narrow down this specific outputted array as the user types.</p>\n\n<p>Sorry if I'm not being specific enough, i'm trying to give as much info as possible.</p>\n\n<p>Any advice will be appreciated!</p>\n"},{"tags":["javascript","asp.net","ajax","prototype"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":152,"score":3,"question_id":12482718,"title":"Prototype AJAX Post Parameters missing randomly","body":"<p>Alright, so i have a .NET application that uses the Prototype library to make AJAX calls to webmethods in the page-behind to retrieve data.  This application  has been up and running for quite awhile with no issues.  Recently a new user began using the application and experiencing some weird issues.</p>\n\n<p>Basically, what happens is he can use the application fine for awhile and then it just starts throwing errors on AJAX calls stating parameters are missing to the webmethod.  Here is the error:</p>\n\n<pre><code>System.InvalidOperationException - Unable to perform the requested action:  Invalid web service call, missing value for parameter: 'fleet'.\n   at System.Web.Script.Services.WebServiceMethodData.CallMethod(Object target, IDictionary'2 parameters)\n   at System.Web.Script.Services.WebServiceMethodData.CallMethodFromRawParams(Object target, IDictionary'2 parameters)\n   AT SYSTEM.WEB.SCRIPT.SERVICES.RESTHANDLER.INVOKEMETHOD(HTTPCONTEXT CONTEXT, WEBSERVICEMETHODDATA METHODDATA, IDICTIONARY`2 RAWPARAMS)\n   at System.Web.Script.Services.RestHandler.ExecuteWebServiceCall(HttpContext context, WebServiceMethodData methodData)\n</code></pre>\n\n<p>It isn't just one call that messes up but any ajax call randomnly and it always seems to be the first parameter in the webmethod that is called \"missing.\"  leading me to believe the post data isn't gettin back somehow?  (related?:  <a href=\"http://stackoverflow.com/questions/6941898/jquery-ajax-post-parameters-sometimes-not-sent-on-ie\">JQuery Ajax post parameters sometimes not sent on IE</a>).</p>\n\n<p>I have never been able to recreate this issue, nor has any other user experienced it.  This leads me to believe it is something specific on this users system that is causing the issue.  Unfortunately they are a rather important user so i need to attempt to solve this problem.  The user has IE8 as their browser.  Here is the code that makes the ajax call using prototype:</p>\n\n<pre><code>function gAjax(url, params, onSuccess, onError, onException, onComplete) {\n\n    new Ajax.Request(url,\n    {\n         method:'post',                                     //Post\n         contentType:\"application/json; charset=utf-8\",     //As JSON\n         postBody:Object.toJSON(params),                    //Post Body is JSON string\n         sanitizeJSON:true,                                 //Sanitize the JSON\n         onComplete:onComplete,                             //Set user on complete\n         onSuccess:onSuccess,                               //Set user on success\n         onFailure:onError,                                 //Set user on error\n         onException:onException                            //Set user on exception\n    });\n}\n</code></pre>\n\n<p>onComplete, onSuccess, onError, onException are function callbacks.  params is an object like the following:</p>\n\n<p>{'fleet':'fleetVal','bin':1234}</p>\n\n<p>Url is the method, such as Bin.aspx/LoadBinInfo.  This method is defined in the backend as follows:</p>\n\n<pre><code>    &lt;System.Web.Services.WebMethod()&gt; _\n    Public Shared Function LoadBinInfo(ByVal fleet As String, ByVal bin As Integer) As Dictionary(Of String, Object)\n\n        '.....\n        'Returns a dictionary of info\n    End Function\n</code></pre>\n\n<p>If anyone has any ideas as to what is happening i would greatly appreciate any input!  I can't seem to find any information in my research to lead me to the possible cause.  Again it seems to only happen to this one user, so maybe its a browser setting on his end (any ideas what setting?).  But then again its sporadic for him even, but once it starts happening it happens constantly until he closes out the browser and starts over.</p>\n"},{"tags":["php","jquery","ajax","design-patterns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13127931,"title":"Automatically refreshing chunks of data when an update is done with AJAX","body":"<p>I have only one page with distinct sections managed with AJAX.<br>\nIn one section (1) I add and edit company names.<br>\nIn the following section (2) I display these company names. (Please see attachment)<br>\nWhen I have edited a company name in section 1 (already coded) the new company name should be updated in the section 2.</p>\n\n<p><img src=\"http://i.stack.imgur.com/hTe6I.png\" alt=\"enter image description here\"></p>\n\n<p>Is there any AJAX <strong>pattern or strategy</strong> to achieve this? I use jQuery and PHP...<br>\nTHX.-</p>\n"},{"tags":["javascript","html","ajax","split"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13128614,"title":"Ajax array not working using 'split'","body":"<p>I am trying to create an array inside of an AJAX request using 'split'.  Here is what the variable 'myString' is equal to ...  </p>\n\n<pre><code>Call 1-877-968-7762 to initiate your leave._-30_0_through|You are eligible to receive 50% pay._0_365_through|Your leave will be unpaid._365_0_After|  \n</code></pre>\n\n<p>As you can see it is divided with 3 '|' symbols.  </p>\n\n<p>Here is the entire ajax function...</p>\n\n<pre><code>function AJAX_test (ajax_link, group_id) {\n  var main_header = group_id;\n  var radioValue = '';\n  if (document.getElementById('radio').innerHTML == '&amp;nbsp;') {\n    radioValue = main_header;\n    document.getElementById('array').innerHTML = main_header + radioValue;\n  } else {\n    for (var i=0; i &lt; document.radioform.bank.length; i++) {\n      if (document.radioform.bank[i].checked) {\n        radioValue = document.radioform.bank[i].value;\n        break;\n      }\n    }\n    document.getElementById('array').innerHTML = main_header + radioValue;\n  }\n\n  if (typeof XMLHttpRequest == 'undefined') {\n            XMLHttpRequest = function() {\n                try { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\"); } catch(e) {}\n                try { return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"); } catch(e) {}\n                try { return new ActiveXObject(\"Msxml2.XMLHTTP\"); }     catch(e) {}\n                try { return new ActiveXObject(\"Microsoft.XMLHTTP\"); }  catch(e) {}\n\n            throw new Error('This browser does not support XMLHttpRequest or XMLHTTP.');\n            };\n        }\n  var request = new XMLHttpRequest();\n  request.onreadystatechange = function() {\n    if (request.readyState == 4 &amp;&amp; request.status == 200) {\n      var myString = request.responseText;\n\n      var mySplitResult = myString.split(\"|\");\n    var testing = mySplitResult[1];\n      document.getElementById('ajax').innerHTML = myString;\n    }    \n  }\n\n  ajax_link = ajax_link + \"?test=\" + main_header + \"&amp;test2=\" + radioValue;\n  request.open('GET', ajax_link);\n  request.send(); \n}\n</code></pre>\n\n<p>When I call mySplitResult[0] it returns nothing at all.  When I call mySplitResult[1] it returns all of the javascript after the split (var mySplitResult = myString.split(\"|\");) , and also the correct first message.  mySplitResult[2], and mySplitResult[3] each return the correct messages alone.  And there is a mySplitResult[4] that returns nothing.  Does anyone know how to fix this, specifically mySplitResult[1] returning all of the Javascript code along with the message?  Please help if you can..</p>\n"},{"tags":["ajax","jsf","jsf-2","repeat"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1667,"score":0,"question_id":4660130,"title":"JSF 2.0: Re-rendering/updating a single item in ui:repeat using AJAX","body":"<p>My page consists of several areas which are created by iterating over a list of items using <code>&lt;ui:repeat&gt;</code>. Imagine this simplified example:</p>\n\n<pre><code>&lt;h:form id=\"form\"&gt;    \n    &lt;ui:repeat id=\"repeatContainer\" var=\"item\" value=\"#{testBean.items}\" varStatus=\"status\"&gt;\n        &lt;h:outputText value=\"#{item.title}: \"/&gt;\n\n        &lt;!-- I want to re-render only a single one of these fields --&gt;\n        &lt;h:outputText id=\"valueContainer\" value=\"#{item.value}\"/&gt;&lt;br/&gt;          \n    &lt;/ui:repeat&gt;\n&lt;/h:form&gt;\n</code></pre>\n\n<p>Now, I want to re-render (only) the <code>valueContainer</code> of a <strong>specific element</strong> within this list <strong>using AJAX</strong> (say, the element with index 1). I have already tried all of these combinations without any luck:</p>\n\n<pre><code>&lt;!-- Works, but renders all items: --&gt;\n&lt;f:ajax render=\":form\"/&gt;\n\n&lt;!-- This is what I actually want to achieve (does not work, comp. not found): --&gt;\n&lt;f:ajax render=\":form:repeatContainer:1:valueContainer\"/&gt;\n\n&lt;!-- Does not work (component not found): --&gt;\n&lt;f:ajax render=\":form:repeatContainer\"/&gt;\n\n&lt;!-- Does not work (component not found): --&gt;\n&lt;f:ajax render=\":form:repeatContainer:1\"/&gt;\n\n&lt;!-- Does not work (component not found): --&gt;\n&lt;f:ajax render=\":form:1\"/&gt;\n\n&lt;!-- Does not work (component not found): --&gt;\n&lt;f:ajax render=\":form:1:valueContainer\"/&gt;\n\n&lt;!-- Does not work (no error message, but does nothing): --&gt;\n&lt;f:ajax render=\":form:repeatContainer:valueContainer\"/&gt;\n</code></pre>\n\n<p>My requirements include:</p>\n\n<ul>\n<li>I need to identify the component to\nre-render with an <strong>absolute identifier\npath</strong>, because the button that\ntriggers the update is somewhere\ncompletely different in the component\ntree.</li>\n<li>Re-rendering the entire page or\nform (using <code>@all</code>/<code>@form</code>) is\nuseless to me, because that kind of\nputs into question why I am using JSF/AJAX\nat all...</li>\n<li>I need to achieve the same thing with PrimeFaces <code>&lt;p:dataGrid&gt;</code> cells (i.e. update only a specific sub-component of a specific cell), but I assume that this reduces to the same problem.</li>\n</ul>\n\n<p>I guess there must be an easy solution to this that I am currently overlooking?!</p>\n"},{"tags":["php","ajax","mvc","design-patterns"],"answer_count":9,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":2696,"score":7,"question_id":719040,"title":"Kohana - where do you put AJAX scripts?","body":"<p>I am using <a href=\"http://kohanaphp.com/\">Kohana</a> but this question applies to Rails, CI, or any other MVC web development framework. Where is the best place to stick one's server side AJAX scripts? </p>\n\n<p>I was <em>planning</em> on creating an Ajax_Controller and using a method/action per individual script.</p>\n\n<p>For example, a login form on the home page <strong><code>index.php/home</code></strong> would send an XMLHttpRequest to <strong><code>index.php/ajax/login</code></strong>, and the edit profile form <strong><code>index.php/profile/edit</code></strong> would send an XMLHttpRequest to <strong><code>index.php/ajax/editprofile</code></strong>. What's the best practice?</p>\n"},{"tags":["c#","javascript","html","ajax","webbrowser"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13127751,"title":"How do I manipulate webform elements?","body":"<p>On the left hand side there are some checkboxes to filter search results. In my code I want to check off some of them, and capture the HTML of the filtered result. How do I do it?</p>\n\n<p><a href=\"http://outlet.lenovo.com/SEUILibrary/controller/e/outlet_us/LenovoPortal/en_US/catalog.workflow%3aexpandcategory?current-catalog-id=A4A41B4CA13D4754AE2FB1EBF357&amp;current-category-id=908B184AED4F29502E6EB3E1E76AFC13&amp;menu-id=products&amp;ref-id=products#/?page-index=1&amp;page-size=10\" rel=\"nofollow\">Link</a></p>\n\n<p>I am new to javascript. I am working with C# <code>WebBroswer</code> class. I have examined the code of the webpage and found the code below. This looks like the javascript function that's invoked when there are checkbox actions. I've been trying to use <code>WebBrowser.InvokeScript</code> to work around it but <code>loadResults()</code> doesn't take in any input parameters so my hands are tied. </p>\n\n<pre><code>function loadResults()\n{\n    facetUpToDate = []\n    if( loadResultsInProgress )\n    {\n        loadResultsPending = true\n    }\n    else\n    {\n        loadResultsInProgress = true\n        wci.cfacets.showResultsLoader()\n        reqfacetParams = wci.cfacets.getReqFacetParams()\n\n        wci.ajax('/SEUILibrary/controller/e/outlet_us/LenovoPortal/en_US/catalog.workflow:GetCategoryFacetResults?q=1', reqfacetParams, function(data, status) \n        {\n            if( status == 'success' )\n            {\n                $('#'+targetElement).html(data)\n                $('#'+targetElement).css(\"height\", \"auto\");\n                $('#'+targetElement+' .itemDescription').textOverflow();\n                $('#'+targetElement+' .first-row').textOverflow();\n            }\n            loadResultsInProgress = false\n\n            wci.cfacets.hideResultsLoader()\n            if( loadResultsPending )\n            {\n                loadResultsPending = false\n                loadResults()   \n            }\n\n            if( wci.imageViewer )\n            {\n              wci.imageViewer.setupLazyLoad(\"item-image\", \"item-image-loaded\")\n              wci.imageViewer.doInitialLoad()\n            }\n\n        }, \"html\");\n\n    }\n}\n</code></pre>\n"},{"tags":["javascript","ajax","img"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":70,"score":6,"question_id":13126612,"title":"Load image if found, else load another image","body":"<p>what I need to do is simple to say but (for me) hard to do:</p>\n\n<p>using <strong>javascript</strong>, given an image name, ie \"image01.jpg\", I need to check if this image exists in a certain folder or path (local or on the web). If the image does not exist under that folder, I need to check if the same image exists in another folder.</p>\n\n<p>for example, with pseudo code</p>\n\n<pre><code>imageToFind = 'image01.jpg'\npath1 = 'users/john/images'\npath2 = 'users/mike/img'\n\nif path1+'/'+imageToFind exists\n    //do something\nelse\n    if path2+'/'+imageToFind exists\n        //do something\n    else\n        print('NOT FOUND')\n</code></pre>\n\n<p>what kind of approach do you suggest? I tryed to achieve this using ajax first, and then using javascript's Image() , but I failed in both these cases.</p>\n\n<p>Thanks in advance for any help, best regards</p>\n"},{"tags":["javascript","ajax","variables","xmlhttprequest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13127675,"title":"Why is a variable not being set after xmlhttp.responseText?","body":"<p>When validating a send-fax form, I'm checking to see if a fax has already been sent with our software fax package.  It's a simple query to a table performed by a script, which returns some text if a previous fax exists, or blank if not.  </p>\n\n<p>I'm finding that the flag_stop_fax variable is still set to zero, even when I have some response text (ex: \"A fax has already been sent.\").  </p>\n\n<pre><code>flag_stop_fax = 0;\nxmlhttp.onreadystatechange=function() \n{\n    if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) \n    {\n        var response = xmlhttp.responseText;\n        if (response!='')\n        {\n            flag_stop_fax = 1;\n            alert(response);\n        }\n    }\n}\n\nxmlhttp.open('GET','/check_for_active_fax.php?fax_number=' + fax_number + '&amp;t='+Math.random(),true);\nxmlhttp.send();\n\nalert(flag_stop_fax); // shows \"0\" even when I have a non-blank response from xmlhttp.responseText\n</code></pre>\n\n<p>There is some other validation bits that go along with this, but the script above hopefully illustrates the problem.   I don't use the 't' variable for anything - this is just a safeguard against browser caching.</p>\n\n<p>So why isn't my flag_stop_fax getting set to 0?  </p>\n"},{"tags":["jquery","ajax","image"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3146,"score":0,"question_id":2963897,"title":"displaying jpg image via jquery ajax call","body":"<p>I want to show images that are requested from a binary field (blob) out of a mysql database. They are retrieved by a PHP script and outputs a 'real' jpeg image i.e. header('Content-Type') = 'image/jpeg'. This is working.</p>\n\n<p>But how can i intercept this image that is being made by an ajax call ? </p>\n"},{"tags":["ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":11878438,"title":"Sending AJAX request fails with large amount of data","body":"<p>I am using AJAX to send requests to doPost method.</p>\n\n<p>When I add large amount of data to the request, I cannot get the request in the Servlet class.\nThe page just hangs without causing an error.</p>\n\n<p>If I send less data with AJAX request,its working fine.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["ajax","symfony2"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":178,"score":1,"question_id":11054864,"title":"Ajax not reciving data. Symfony2","body":"<p>The idea is when i click on a button it calls sendeRequest() and the controller receives the petition. But I'm not receiving anything.</p>\n\n<p>I wan't to send a request to the controller. (I have set a redirection in the controller, to check that I'm receiving the data). I've tried doing:</p>\n\n<pre><code>function sendRequest(){ \n $.ajax({\n   type: \"POST\",\n   url:  \"{{ path('login') }}\" ,\n   cache: \"false\",\n   dataType: \"html\",\n   success: function(result){ $(\"div#box\").append(result);}\n }); \n}\n</code></pre>\n\n<p>And in the controller </p>\n\n<pre><code>$request = $this-&gt;getRequest();   \nif($request-&gt;isXmlHttpRequest()){    \n         return $this-&gt;render('mainBundle:Register:register.html.twig');\n}\n</code></pre>\n\n<p>I'm using jquery 1.7.2</p>\n"},{"tags":["php","ajax","jquery-ajax","output-buffering"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":241,"score":0,"question_id":8107883,"title":"Output buffering and AJAX","body":"<p>When a user clicks a button on my site, a particular part of a page will be refreshed, but it takes a while to render the entire section. Is it possible to  display/output parts of the section in real time rather than wait for the entire section to finish? How would i do this if im sending it as an ajax request for html content? Thanks</p>\n"},{"tags":["ajax","jsf","jsonp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13125392,"title":"JSF update backing bean property before action-method","body":"<p>I fetch a value via JSONP to my webpage. Now I want to update a backing-bean-property with this value? How to handle this? Thanks in advance.</p>\n\n<p>UPDATE: \nOkay, my problem is that there are JavaScripts, JSF-Ajax-Calls and Webservices and I have to look, when which action got triggered. I guess I need to describe my situaton in more detail.</p>\n\n<p>My backing bean:</p>\n\n<pre><code>logger.debug(\"CaseController - save(): tempCaseId [ \" + tempIshCaseId + \"];\");\n</code></pre>\n\n<p>My xhtml-Page:</p>\n\n<pre><code>&lt;!-- JSONP-Wert in die Bean hieven --&gt;\n&lt;t:div id=\"tempIshCaseIdContainer\"&gt;\n    &lt;h:outputText id=\"setTempIshCaseId\" value=\"#{CaseController.tempIshCaseId}\" /&gt;\n&lt;/t:div&gt;\n&lt;a4j:commandLink id=\"preSaveCaseButton\" onclick=\"setTempIshCaseId();\" title=\"...\"\n    reRender=\"jsonpRemoteURLs,hNumberRemoteURL,eNumberRemoteURL,ishCaseRemoteURL,tempIshCaseIdContainer\" oncomplete=\"jQuery('a#form_saveCaseButton').click()\"&gt;\n&lt;/a4j:commandLink&gt;\n&lt;a4j:commandLink id=\"saveCaseButton\" title=\"...\" reRender=\"serverWarningsParent\"  action=\"#{CaseController.save}\" onclick=\"if (validateCaseFormEntries(){ closeCaseWarningsBox(); } else { return false; }\" oncomplete=\"if (#{CaseController.success}){ showCaseModalPanel(); patientConsistencyCheck(#{NavigationController.globalErrorState}, '#{PatientController.patienlistUrl}'); startJsonpSetters(); saveCase(); initializeFocusBlurEvents();} else { return false;}\"&gt;\n&lt;/a4j:commandLink&gt;\n&lt;a4j:commandLink id=\"postSaveCaseButton\" onclick=\"hideCaseModalPanel();\" reRender=\"caseContainer,modifiedContainer\"&gt;\n&lt;/a4j:commandLink&gt;\n</code></pre>\n\n<p>My Javascript-File:</p>\n\n<pre><code>function setTempIshCaseId(){// setze den Wert des a4j-value-Elements\nvar ishCaseId = jQuery('#form_ish').val();\njQuery('#form_setTempIshCaseId').text(ishCaseId);\n}\n</code></pre>\n\n<p>I got three stages after page-rendering. preSaveCaseButton should update all JSONP-Urls, that is necessary because otherwise the system will produce Token-Timeouts and exceptions will be thrown. saveCaseButton will trigger the bean-action and save the edited setTempIshCaseId to the database, if it is valid. Summing up, I thought I just need to make sure, that at time when preSaveCaseButton gets called I updated the bean, as you can see I tried to use 'process'-attribute. Right after saveCaseButton will be called and I can check the bean-value. Unfortunately my log4j-logging-message tells me that my backing bean has the value '' (tempIshCaseId = '') and was not updated.</p>\n\n<p>What to do know? </p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13126892,"title":"using jquery each to get values from form and send it as an ajax request","body":"<p>As every developer wants, I wanted to make my code short and simple. but makes sense.</p>\n\n<p>I have this edit profile field that have several fields, about 10 text box and 2 radio buttons.</p>\n\n<p>In a simple login form, i could just get the values of username and password like this:</p>\n\n<p><code>$(\"#username\")</code> and <code>$(\"#password\")</code>\nand assign them into a variable <code>username</code> <code>password</code> respectively,</p>\n\n<p>That will become like this: (in ajax)</p>\n\n<pre><code>$.ajax({\n    url : some_url,\n    data: {\n        username : username,\n        password : password\n    success : something\n    }\n});\n</code></pre>\n\n<p>but what if i have several fields, i don't want my code to be super messy, having all those  assignments.</p>\n\n<p>so i come up with an idea of having a key-value pairs that will be based on their input-id </p>\n\n<pre><code>var object;\n$(\"#formUpdate:input\").each(function(){\n      var key = $(this).attr('id');\n      var value = $(this).val();\n      object.key = value;\n});\n</code></pre>\n\n<p>question, what am i missing out, i can't make it work though, are there better ways to do it. Do you think hard-coding it is much better.</p>\n\n<p>Thanks much guys! It's my birthday today btw.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ui","jqgrid"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":961,"score":1,"question_id":9508882,"title":"jqGrid :: How to close cell-editor ..?","body":"<p>Using <a href=\"http://www.trirand.com/jqgridwiki/doku.php\" rel=\"nofollow\">jqGrid</a> I want to open a cell-editor on <em>double-click</em>, so my code includes this part:</p>\n\n<pre><code>  ondblClickRow: function(rowid, iRow, iCol, e)\n  {\n    jQuery('#jqGrid').setGridParam({cellEdit: true});\n    jQuery('#jqGrid').editCell(iRow, iCol, true);\n    jQuery('#jqGrid').setGridParam({cellEdit: false});\n  }\n</code></pre>\n\n<p>which works fine, but I don't know how to (auto-) close the cell-editor, when user click outside of the edit element, or press <em>ESC</em>, <em>TAB</em>, <em>ENTER</em>, etc...</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13127021,"title":"ajax data is a string not an array","body":"<p>Im using jquery ajax to send some data to a php file</p>\n\n<pre><code>$.ajax({\n            type: 'GET',\n            url: 'dosomething.php',\n            data: {list:orderNew}\n            });\n</code></pre>\n\n<p>Which is sending this to the php</p>\n\n<pre><code>$list = $_GET['list'];\n</code></pre>\n\n<p>print $list gives me this:</p>\n\n<pre><code>  list[4]=null&amp;list[1]=null&amp;list[2]=4&amp;list[12]=null&amp;list[11]=null&amp;list[3]=null\n</code></pre>\n\n<p>I was hoping to get it as an array so i could do this on my php file</p>\n\n<pre><code> foreach($list as $key =&gt; $value) {\n            if($value == \"null\"){\n                $value = 0;\n            }\n}\n</code></pre>\n\n<p>How can a send the list[] data as an actually array so php reads it as an array or turn the string into an array so i can do my foreach on my php page?</p>\n"},{"tags":["ajax","checkbox","jstree"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13126554,"title":"Jstree checkbox plugin doesn-t work on ajax load","body":"<p>I tried to load a jsTree object after dropdown's change. This is my code:</p>\n\n<pre><code>&lt;link rel=\"canonical\" href=\"http://www.jstree.com/documentation/checkbox\" /&gt;    &lt;link type=\"text/css\" rel=\"stylesheet\" href=\"http://static.jstree.com/v.1.0pre/_docs/syntax/!style.css\"/&gt;\n&lt;script type=\"text/javascript\" src=\"http://static.jstree.com/v.1.0pre/_docs/syntax/!script.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"http://static.jstree.com/v.1.0pre/_docs/!style.css\" /&gt;\n&lt;script type=\"text/javascript\" src=\"http://static.jstree.com/v.1.0pre/jquery.cookie.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://static.jstree.com/v.1.0pre/jquery.hotkeys.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://static.jstree.com/v.1.0pre/jquery.jstree.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $(\"#arbol\").jstree({\n            \"plugins\": [\"themes\", \"html_data\", \"checkbox\", \"ui\"],\n            two_state: true\n        });\n        $(\"#Roles\").change(function () {\n            if ($(this).val()) {\n                var id = $(this).val();\n                $.post(\"/AsignarRoles/ImprimirArbol\", { padre_id: 0, rolId: id }, function (j) {\n                    $(\"#arbol\").empty();\n                    $(\"#arbol\").html(j);\n                    $(\"#arbol\").jstree({\n                        \"plugins\": [\"themes\", \"html_data\", \"checkbox\", \"ui\"],\n                        two_state: true\n                    });\n                });\n            }\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>But it doesn't work. The tree is loaded, but the pre-checked elements are \"checked\". I check the Post data and checked nodes has \"jstree-checked\" class</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["ajax","internet-explorer-10"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":13101729,"title":"Jquery Ajax call works in all browser except ie 10","body":"<p>The following ajax call works in all browsers except IE10 (unless i set it to IE9 standards mode) \nI look at it with fiddler and it seems as if the paramater isn't being passed through in ie10 any ideas?</p>\n\n<pre><code>var paramArray = '{\"ID\":1}';   \n\n $.ajax({\n        type: 'POST',\n        contentType: 'application/json; charset=utf-8',\n        dataType: 'json',\n        url: '/assets/services/coreWebServices.svc/GetCategoriesWithoutColumns',\n        data: paramArray,\n        success: successFn,\n        error: errorFn\n    });\n</code></pre>\n\n<p>throws the following error</p>\n\n<pre><code>The OperationFormatter could not deserialize any information from the Message because the Message is empty (IsEmpty = true).\n    at System.ServiceModel.Dispatcher.PrimitiveOperationFormatter.DeserializeRequest(Message message, Object[] parameters)\n\nSystem.Runtime.Serialization.SerializationException: Error in deserializing body of request message for operation 'GetCategoriesWithoutColumns'. The OperationFormatter could not deserialize any information from the Message because the Message is empty (IsEmpty = true).\n    at System.ServiceModel.Dispatcher.PrimitiveOperationFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.DemultiplexingDispatchMessageFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.UriTemplateDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.CompositeDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.DispatchOperationRuntime.DeserializeInputs(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)\n\nSystem.ServiceModel.CommunicationException: Error in deserializing body of request message for operation 'GetCategoriesWithoutColumns'. The OperationFormatter could not deserialize any information from the Message because the Message is empty (IsEmpty = true).\n    at System.ServiceModel.Dispatcher.PrimitiveOperationFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.DemultiplexingDispatchMessageFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.UriTemplateDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.CompositeDispatchFormatter.DeserializeRequest(Message message, Object[] parameters)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.DispatchOperationRuntime.DeserializeInputs(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.DispatchOperationRuntime.InvokeBegin(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage5(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage1(MessageRpc&amp; rpc)\\u000d\\u000a\n    at System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet)\n</code></pre>\n"},{"tags":["php","jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13126024,"title":"jQuery json loop with ajax call for php function","body":"<p>I'm new to Javascript. The code for a jQuery-ajax-php-cooperation does strange things. It works - sometimes.</p>\n\n<p>This is what I want to do:</p>\n\n<ul>\n<li>make some settings in a form (works)</li>\n<li>read JSON-file after pressing submit-button (works)</li>\n<li><strong>loop the JSON-items, extract the values of each item and form a parameter-string (problem is here: loop is not (always) executed in the button-pressed-function)</strong></li>\n<li>send parameter-string built from each items values to PHP-file (works if loop is entered)</li>\n<li>receive the response from the PHP-file (html-tag) (works)</li>\n<li>update a form element with the response value (not yet implemented, actually show an alert with the PHP-response for debugging purposes)</li>\n</ul>\n\n<p>The JSON file is valid (tested).\nThe HTML-Page is valid HTML5 (tested).\nThe PHP-script works and returns a valid HTML-Image-Tag (tested).</p>\n\n<p>When I press the button, no responses from the PHP-file are displayed in the alert I implemented for debugging purposes. But this works:</p>\n\n<ul>\n<li>reload page</li>\n<li>open Firebug</li>\n<li>set breakpoint at loop-begin</li>\n<li>skip one statement forward</li>\n<li>reload page</li>\n<li>the loop is entered, all works fine</li>\n</ul>\n\n<p>I can close Firebug and the loop is performed properly.</p>\n\n<p>The javascript code</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n   //click event of submit button\n   $('#generator').click(function(){\n\n   // GET variables\n   var datafile = \"my.json\";\n   var logo = false;\n\n   // if checkbox is checked\n   if( $('#logo').attr('checked')){\n      logo = true;\n   };\n\n   // read data from json file\n   $.getJSON(datafile,function(data){\n\n   //iterate through the data-sets\n   for(var i=0; i &lt; data.length; i++) {\n\n    // get the response from server for each data-set\n    $.ajax({\n       type: 'POST',\n       async: false,\n       cache:false,\n       url: 'myfile.php',\n       data: 'param1='+data[i].field1+'&amp;param2='+data[i].field2+'&amp;logo='+logo,\n             success: function(response){\n\n              //$('#imgdisplay').html(response);\n              // alert only for debugging purposes\n              alert(response);}\n\n          }); // end of ajax-call\n       };  // end of for-loop\n   }  ); // end of getJSON\n }); // end of button.click\n }); // end of document.ready\n&lt;/script&gt;\n</code></pre>\n\n<p>(sorry for bad intented formatting)</p>\n\n<p>I use a for-loop, could not get an each()-loop to work properly.</p>\n\n<p>And this is the form:</p>\n\n<pre><code>&lt;form name=\"settings\"&gt;\n   &lt;label&gt;Source file&lt;/label&gt;\n   &lt;select id=\"datasource\" name=\"datasource\"&gt;\n      &lt;option value=\"extract\"&gt;Extract&lt;/option&gt; \n      &lt;option value=\"filter\"&gt;Filter&lt;/option&gt;\n   &lt;/select&gt;&lt;br /&gt;\n   &lt;label&gt;Logo&lt;/label&gt;\n   &lt;input type=\"checkbox\" id=\"logo\" name=\"logo\" value=\"ON\"/&gt;&lt;br /&gt;\n   &lt;p&gt;&amp;nbsp;&lt;/p&gt;\n   &lt;input type=\"submit\" value=\"Start Generator\" id=\"generator\" name=\"generator\" /&gt;\n&lt;/form&gt;\n&lt;div id=\"imgdisplay\" class=\"imgdisplay\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>What causes this strange behavior? How can I solve it?</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13126294,"title":"Injecting JavaScript after ajax call","body":"<p>I am looking for a way to have JavaScript dynamically loaded after an ajax call to load a dialog/pop up.</p>\n\n<p>I would like the dialog to load it's own JavaScript files  and any in-line JavaScript.</p>\n\n<p>I have seen examples that use a method to do an ajax call to load html into the DOM then have \"complete\" callbacks that the loading method will call after the html is loaded.</p>\n\n<p>However, using this approach prevents any JavaScript on the dialog from executing and requires that the initiating JS know details about the dialog in order for it to attach events, etc.</p>\n\n<p>Is the only way to accomplish this to have the dialog load the source of the document into an iframe so that it can run the JavaScript?</p>\n"},{"tags":["javascript","ajax","node.js","ip","scan"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13126255,"title":"Opensource IP checker like whoer.net","body":"<p>Is there any open source analogue of IP checker script like whoer.net ?</p>\n"},{"tags":["java","ajax","jsf-2","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13124083,"title":"JSF p:commandLink and p:ajax have different behavior in update","body":"<p>I have a menu with list items and a <code>p:commandLink</code> inside. While using this for different pages I realized that I have problems updating form with a <code>p:dataTable</code> and <code>p:columns</code> inside. After clicking on the link, <code>form2</code> which actually has some panels and the table inside should be updated. Now my problem: Only <em>most</em> of the content in  <code>form2</code> is updated correctly, but the <code>p:columns</code> have the <em>old</em> value. If I click again on the link, the correct values are shown.</p>\n\n<p>The bean method <code>public void selectProject(Project myProject)</code> is called correctly and the values are correctly processed.</p>\n\n<p>Now the strange thing: If I add a <code>h:graphicImage</code> with a <code>p:ajax</code> everything works fine!!</p>\n\n<pre><code>&lt;h:form id=\"form1\"&gt;\n  ...\n  &lt;li&gt;\n    &lt;p:commandLink update=\":form2\" actionListener=\"#{bean.selectProject(p)}\"&gt;  \n      &lt;h:outputText value=\"#{p.name}\" /&gt;\n    &lt;/p:commandLink&gt;\n    &lt;!-- Code below is for testing only, but works fine! --&gt;\n    &lt;h:graphicImage value=\"#{iconBean.icon(12,'clock')}\"&gt;\n      &lt;p:ajax event=\"click\" update=\":form2\" listener=\"#{bean.selectProject(p)}\"/&gt;\n    &lt;/h:graphicImage&gt;\n  &lt;/li&gt;\n  ...\n&lt;/h:form&gt;\n</code></pre>\n\n<p><strong>Update</strong> This does not seem to be related to <code>p:columns</code>, a simplified test case shows the expected behavior of <code>p:commandLink</code>. In the original (still failing) setting the menu is implemented as a composite component.</p>\n"},{"tags":["php","jquery","mysql","ajax","pdo"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":207,"score":3,"question_id":12767913,"title":"Need help changing code for successful file upload, and cancel file upload","body":"<p>I am having problem with my cancel button when trying to cancel my upload and I needs some help in probably changing the design of my code a little.</p>\n\n<p><strong>The problem:</strong></p>\n\n<p>The \"cancelaudio.php\" page does not have the information it needs until after the \"audioupload.php\" script has been run.  It's a cart and horse situation.  If the client clicks the cancel button during the HTTP request, the \"audioupload.php\" script (on the server side) never gets executed.  However the client-side activities in jQuery would still get run.</p>\n\n<p><strong>The solution I want to acheive:</strong></p>\n\n<p>Client fills in the form and submits it, resulting an a POST request, accompanied by the file.  The POST request may take several seconds to complete, depending on the size of the file, speed of the connections, etc.</p>\n\n<p>Only after the HTTP upload has completed for all of the files, will PHP gain control.  Your PHP \"action\" script on the server gets control via a POST-method request.  If any errors occurred during the upload, $_FILES['error'] will be loaded with the right code. At this point you can check for values in $_FILES, move_uploaded_file(), load the file name into the $_SESSION array, etc.</p>\n\n<p>So to sum up, if the human client clicks a \"cancel button\" while the POST request is in process (or before starting the upload), and this causes cancellation of the file upload, the PHP \"action\" script that handles the uploads never gets control.  The server never has an opportunity to move the uploaded file and load the variables into the database or session array.</p>\n\n<p>I just need help on coding the problem to be able to reach the solution. Can anybody help? Below are the necessary code:</p>\n\n<p>AUDIOUPLOAD.PHP</p>\n\n<pre><code>&lt;?php\nini_set('display_errors',1); \nerror_reporting(E_ALL);\n// connect to the database\ninclude('connect.php');\n\n/* check connection */\nif (mysqli_connect_errno()) {\nprintf(\"Connect failed: %s\\n\", mysqli_connect_error());\ndie();\n}\n\n$result = 0;\n\nif( file_exists(\"AudioFiles/\".$_FILES['fileAudio']['name'])) {\n$parts = explode(\".\",$_FILES['fileAudio']['name']);\n$ext = array_pop($parts);\n$base = implode(\".\",$parts);\n$n = 2;\n\nwhile( file_exists(\"AudioFiles/\".$base.\"_\".$n.\".\".$ext)) $n++;\n$_FILES['fileAudio']['name'] = $base.\"_\".$n.\".\".$ext;\n\nmove_uploaded_file($_FILES[\"fileAudio\"][\"tmp_name\"],\n\"AudioFiles/\" . $_FILES[\"fileAudio\"][\"name\"]);\n$result = 1;\n\n}\nelse\n{\nmove_uploaded_file($_FILES[\"fileAudio\"][\"tmp_name\"],\n\"AudioFiles/\" . $_FILES[\"fileAudio\"][\"name\"]);\n$result = 1;\n}\n\n$audiosql = \"INSERT INTO Audio (AudioFile) \nVALUES (?)\";\n\nif (!$insert = $mysqli-&gt;prepare($audiosql)) {\n// Handle errors with prepare operation here\n}\n\n//Dont pass data directly to bind_param store it in a variable\n$insert-&gt;bind_param(\"s\",$aud);\n\n//Assign the variable\n$aud = 'AudioFiles/'.$_FILES['fileAudio']['name'];\n\n$insert-&gt;execute();\n\nif ($insert-&gt;errno) {\n// Handle query error here\n}\n\n$insert-&gt;close();\n\n$lastAudioID = $mysqli-&gt;insert_id;   \n\n$_SESSION['lastAudioID'] = $lastAudioID; \n$_SESSION['AudioFile'] = $_FILES[\"fileAudio\"][\"name\"]; \n\n$audioquestionsql = \"INSERT INTO Audio_Question (AudioId, QuestionId)  \nVALUES (?, ?)\"; \n\nif (!$insertaudioquestion = $mysqli-&gt;prepare($audioquestionsql)) { \n// Handle errors with prepare operation here \necho \"Prepare statement err audioquestion\"; \n} \n\n$qnum = (int)$_POST['numaudio'];\n\n$insertaudioquestion-&gt;bind_param(\"ii\",$lastAudioID, $qnum); \n\n$insertaudioquestion-&gt;execute(); \n\nif ($insertaudioquestion-&gt;errno) { \n// Handle query error here \n} \n\n$insertaudioquestion-&gt;close(); \n\n\n\n?&gt;\n</code></pre>\n\n<p>CANCELAUDIO.PHP</p>\n\n<pre><code>&lt;?php\n\n // connect to the database\n include('connect.php');\n\n  /* check connection */\n  if (mysqli_connect_errno()) {\n    printf(\"Connect failed: %s\\n\", mysqli_connect_error());\n    die();\n  }\n\n  unlink(\"AudioFiles/\" . $_SESSION['AudioFile']);  \n\n$delete = $mysqli-&gt;prepare('DELETE FROM Audio WHERE AudioId = ?'); \n$delete-&gt;bind_param(\"i\",$_SESSION['lastAudioID']); \n$delete-&gt;execute(); \n\n$deleteaud = $mysqli-&gt;prepare('DELETE FROM Audio_Question WHERE AudioId = ?'); \n$deleteaud-&gt;bind_param(\"i\",$_SESSION['lastAudioID']); \n$deleteaud-&gt;execute(); \n\n\n?&gt;\n</code></pre>\n\n<p>HTML FORM CODE:</p>\n\n<pre><code>&lt;form action='audioupload.php' method='post' enctype='multipart/form-data' target='upload_target_audio' onsubmit='return audioClickHandler(this);' class='audiouploadform' &gt; \n\nAudio File: &lt;input name='fileAudio' type='file' class='fileAudio' /&gt;&lt;/label&gt;&lt;br/&gt;&lt;br/&gt;&lt;label class='audiolbl'&gt; \n\n&lt;input type='submit' name='submitAudioBtn' class='sbtnaudio' value='Upload' /&gt;&lt;/label&gt;\n\n&lt;input type='hidden' class='numaudio' name='numaudio' value='\" + GetFormAudioCount() + \"' /&gt;\n\n&lt;input type='reset' name='audioCancel' class='audioCancel' value='Cancel' /&gt;&lt;/label&gt;\n\n&lt;iframe class='upload_target_audio' name='upload_target_audio' src='#' style='width:300px;height:300px;border:0px;solid;#fff;'&gt;&lt;/iframe&gt;&lt;/form&gt;\n</code></pre>\n\n<p>JQUERY CODE:</p>\n\n<pre><code>function startAudioUpload(audiouploadform){\n  $(audiouploadform).find('.audiof1_upload_process').css('visibility','visible');\n  $(audiouploadform).find('.audiof1_cancel').css('visibility','visible');\n  $(audiouploadform).find('.audiof1_upload_form').css('visibility','hidden');\n  sourceAudioForm = audiouploadform;\n\n          $(audiouploadform).find(\".audioCancel\").on(\"click\", function(event) {\n              $('.upload_target_audio').get(0).contentwindow\n              $(\"iframe[name='upload_target_audio']\").attr(\"src\", \"cancelaudio.php\");\n          return stopAudioUpload(2);\n    });\n\n      return true;\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","error-handling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13090480,"title":".js.erb file available to all other views?","body":"<p>So, in my rails app I ajaxified the error messages on one of my pages. the process was (so everyone understands) first, in my 'edit' <code>link_to</code> I added <code>:remote =&gt; true</code> at the end of it thus having it send an ajax request. I then added the line <code>format.js</code> in my <code>respond_to do |format|</code> block. Then, I made an edit.js.erb file with the following line of code <code>$('#error').html(\"&lt;%= flash[:error] %&gt;\");</code>  which basically finds the error div in the current page and replaces the html in that div with the error flash message. This is cool right? No more annoying page refreshes in the event of an error.</p>\n\n<p>Question is, I want to do this for all my edit and destroy pages, but how without making an edit.js.erb and destroy.js.erb file for each view folder? seems pretty simple, and maybe im just missing an obvious answer because I'm exhausted, but I can't figure it out... so... help?????</p>\n\n<p>EDIT!</p>\n\n<p>this is my edit controller</p>\n\n<pre><code>def edit\nuser = User.find(session[:id])\n@table = Table.find(params[:id])\n\n\n\nif user.id != @table.created_by\n\n  flash[:error] = \"ERROR\"\n  respond_to do |format|\n    format.js {render :template =&gt; 'shared/show_error'}\n    format.html\n  end\nelse\n  flash[:error] = \"\"\n  respond_to do |format|\n    format.js {render :template =&gt; 'table/edit', :formats =&gt; :html}\n    format.html\n  end\n\nend\nend\n</code></pre>\n\n<p>Problem now is, it works fine for showing the errors but if there are no errors it doesnt action render the edit page... In the server window it shows it did, but it doesnt actually show on the screen... Any ideas?</p>\n"},{"tags":["asp.net","ajax","http-status-code-500"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23000,"score":0,"question_id":294299,"title":"ASP.NET Ajax ErrorSys.WebForms.PageRequestManagerServerErrorException: An unknown error occurred while processing the request on the server","body":"<p>I created an Ajax website in Visual Studio, added a simple page with a textbox and button, when I click the button once everything works, when I click it twice I get the error</p>\n\n<p>Sys.WebForms.PageRequestManagerServerErrorException: An unknown error occurred while processing the request on the server.  The status code returned from the server was: 500</p>\n\n<p>Here is my page</p>\n\n<pre><code>&lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\" /&gt;\n    &lt;div&gt;\n        &lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\"&gt;\n            &lt;ContentTemplate&gt;\n                &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n                &lt;asp:Button ID=\"Button1\" runat=\"server\" Text=\"Button\" OnClick=\"Button1_Click\" /&gt;\n            &lt;/ContentTemplate&gt;\n        &lt;/asp:UpdatePanel&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<pre>\n\n        Protected Sub Button1_Click(ByVal sender As Object, ByVal e As System.EventArgs)\n        TextBox1.Text = \"aaa\"\n    End Sub\n\n</pre>\n\n<p>Edit ~ I added a second button to the page, outside of the update panel and when I clicked the one inside the update panel and then the one outside of the panel I got the error</p>\n\n<p>Cannot open database \"ASPState\" requested by the login. The login failed.\nLogin failed for user 'server\\user'. \nDescription: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. </p>\n\n<p>Exception Details: System.Data.SqlClient.SqlException: Cannot open database \"ASPState\" requested by the login. The login failed.\nLogin failed for user 'server\\user'.</p>\n\n<p>Why is this?</p>\n\n<p>Edit ~ To resolve my issue I did</p>\n\n<pre><code>&lt;sessionState mode=\"StateServer\"\nstateConnectionString=\"tcpip=localhost:42424\"\ncookieless=\"false\"\ntimeout=\"20\"/&gt;\n</code></pre>\n"},{"tags":["ajax","json","scrapy"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13119724,"title":"Scraping an AJAX generated JSON feed","body":"<p>I'm trying to scrape a webpage which is generating pages via an AJAX call from a JSON response. This is the code on the page:</p>\n\n<pre><code>  var data = JSON.stringify({\n    organizationId: organizationId,\n    concertId: concertId,\n     })\n\n  $.ajax({\n    type: \"POST\",\n    url: \"/getdata\",\n    data: data,\n    dataType: \"json\",\n    contentType: \"application/json; charset=utf-8\",\n  });\n}\n</code></pre>\n\n<p>So,  I try to scrape this via a Request</p>\n\n<blockquote>\n  <p>data = '{\"organizationId\":\"1\",\"concertId\":\"8918\"}' </p>\n  \n  <p>url = 'http://www.domain.com/ajax/getdata' </p>\n  \n  <p>request = Request( url = url ,</p>\n  \n  <p>method='POST', </p>\n  \n  <p>body=data, </p>\n  \n  <p>headers={'Content-Type':'application/json'})</p>\n</blockquote>\n\n<p>But this doesn't work; the parse function is not called. Am i missing something?</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13119774,"title":"show empty dialog","body":"<p>I want to return a html by ajax, I have this</p>\n\n<pre><code>$(\"a[rel^='valora']\").click(function(){\n    var usuario= $(this).data('usuario');\n    var idea= $(this).data('idea');\n    $(\"#valorar\").load(\n            $.ajax({\n                url: '{{path('valorarIdea')}}',\n                data: {user: usuario, idea: idea},\n                type: 'POST',\n                dataType: 'html'\n            })\n    ).dialog()\n});\n</code></pre>\n\n<p>I have a this template a div to open de dialog</p>\n\n<pre><code>&lt;div id=\"valorar\" title=\"Valorar  una idea\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>this open de dialog but don´t showme any inside, \nmy html is a template html.twig with a form like this...</p>\n\n<pre><code>&lt;form action=\"{{ path('valorarIdea') }}\" method=\"post\" {{ form_enctype(form) }}&gt;\n    {{ form_widget(form) }}\n    &lt;/br&gt;\n    &lt;/br&gt;\n    &lt;input type=\"submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>if i change this by other thing like this</p>\n\n<pre><code>&lt;p&gt; hello! &lt;/p&gt;\n</code></pre>\n\n<p>don´t work too.</p>\n\n<p>Am I missing something?</p>\n\n<p>thanks.</p>\n"},{"tags":["c#","javascript","ajax","asp.net-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13123666,"title":"Call controller method with List<MyItem> parameter via ajax","body":"<p>I have this class in my c# code:</p>\n\n<pre><code>public class MyItem\n    {\n        public int LocationId { get; set; }\n        public int Value { get; set; }\n        public int ddlId { get; set; }\n    }\n</code></pre>\n\n<p>Here is my Js/Ajax code:</p>\n\n<pre><code>var array = new Array();\ngrid.forEachRow(function (id) {\n        var object = {\n            LocationId: id,\n            Value: someValue,\n            ddlId: otherValue\n        };\n        array.push(object);\n    });\n\n$.ajax({\n    type: \"POST\",\n    url: \"/MyController/SaveTheList\",\n    data: { myList: array },\n    success:function() { }\n });\n</code></pre>\n\n<p>And here is the method in the controller:</p>\n\n<pre><code> [HttpPost]\n public ActionResult SaveTheList(List&lt;MyItem&gt; myList)\n { }\n</code></pre>\n\n<p>The method gets hit, and myList has the exact length, but all the values in the objects are 0.</p>\n"},{"tags":["php","javascript","ajax","download"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":593,"score":1,"question_id":7721803,"title":"Force download after ajax call","body":"<p>I have a php script that is waiting for ajax calls at</p>\n\n<p>www.mydomain.com/file.php</p>\n\n<p>The ajax call contains some variables, that the file.php will use to generate some csv results,</p>\n\n<p>Would it be possible for the user to be able to download the csv content produced by file.php without having to save it somewhere on the server and stuff?</p>\n\n<p>I don't want to redirect the user to any other page either, I want them to click a button then see the download dialog, and let them download the csv file.</p>\n"},{"tags":["ajax","http","cookies"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13123740,"title":"Internet Explorer doesn't send cookie from an AJAX request","body":"<p>I have an HTML page which is making an AJAX request and getting a response with a cookie. The problem is that when I go to another page on the same domain, Firefox sends the cookie, but IE (9) does not. Is it related to its security configuration? I tried to play a bit with the cookie permissions, but to no avail.</p>\n"},{"tags":["jquery","ajax","asp.net-mvc","asp.net-mvc-3","asp.net-mvc-4"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":13092181,"title":"$.ajax call receives Resource not Found but the MVC debug says route is hit?","body":"<p>I'll try to explain in as much detail as possible my setup.</p>\n\n<p>1) I'm using an Area (MVC 4).  Here's the folder and file setup:\n<img src=\"http://i.stack.imgur.com/EyUH6.jpg\" alt=\"enter image description here\">\n2) I'm resolving by default straight to my Area (not a Home controller in the root views) on purpose (I don't really need the Home controller that's not related to this question, just some background info)\n3) My global.asax registration of routes looks like this:</p>\n\n<pre><code>   protected void Application_Start()\n    {\n        AreaRegistration.RegisterAllAreas();\n\n        RouteConfig.RegisterRoutes(RouteTable.Routes);\n\n        WebApiConfig.Register(GlobalConfiguration.Configuration);\n        FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);\n        BundleConfig.RegisterBundles(BundleTable.Bundles);\n    }\n</code></pre>\n\n<p>4) My route.config looks like this:</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n    // Purposely not going to use the Home Controller (just a convention I want in place)\n    routes.MapRoute(\"Default\", \"\", new { area = \"Search\", controller = \"Member\", action = \"Index\", id = UrlParameter.Optional }).DataTokens.Add(\"area\", \"Search\");\n}\n</code></pre>\n\n<p>5) My area's registration routing looks like this:</p>\n\n<pre><code>   public class MemberAreaRegistration : AreaRegistration\n    {\n\n        public override string AreaName\n        {\n            get { return \"Search\"; }\n        }\n\n\n        public override void RegisterArea(AreaRegistrationContext context)\n        {\n            context.MapRoute(\"Search_Member_GetMemberByContractNumber\", \"Search/Member/{id}\", defaults: new { controller = \"Member\", action = \"GetMemberByContractNumber\", id = UrlParameter.Optional });\n            context.MapRoute(\"Search_Default\", \"Search/{controller}/{action}/{id}\", defaults: new { controller = \"Member\", action = \"Index\", id=UrlParameter.Optional});\n        }\n\n    }\n</code></pre>\n\n<p>6) I have a controller with this action:</p>\n\n<pre><code>[HttpGet]\npublic JsonResult GetMemberByContractNumber(int contractNumber)\n{\n    Member memberDto = MemberCRUD.RetrieveMember(contractNumber);\n\n    JsonResult member = Json(memberDto, JsonRequestBehavior.AllowGet);\n\n    Json(JsonConvert.SerializeObject(member));\n\n    return member;\n} \n</code></pre>\n\n<p>7) I have a view that's trying to send an ajax request to that action:</p>\n\n<pre><code>// Get the results &amp; Bind to grid\n$(function () {\n    var members = [];\n    $.getJSON('Search/Member/26049', function (data) {\n        members = data;\n        grid = new Slick.Grid(\"#searchResults-Grid\", members, columns, options);\n    });\n});\n</code></pre>\n\n<p><strong>What works</strong>: I can run the site, it hits my Member's Index() action and loads the Member's Index View.  That's not the problem here.</p>\n\n<p><strong>What the problem is</strong>: I can't get this to resolve...it doesn't find my controller and action in the jQuery getJSON request 'Search/Member/26049'</p>\n\n<p>** The error I get in FireBug**:</p>\n\n<pre><code>http://localhost/OurappName/Search/Member/26049 404 Not Found\n        19ms\nin the response:\n&lt;b&gt; Requested URL: &lt;/b&gt;/ballysearch/Search/Member/26049&lt;br&gt;&lt;br&gt;\n</code></pre>\n\n<p><strong>What I've Tried</strong>: Originally in my area's route config, I had that first line at the end so tried moving it up.  I'm talking about the context.MapRoute(\"Search_Member_GetMemberByContractNumber\", \"Search/Member/{id}\"..I had that after my default route.  Then switched up cause I figured it's always going to obviously hit my default route..which should really just be a \"catch-all\" route at the end in this case instead.</p>\n\n<p>I have tried several variations of the url from the getJSON such as:\n'Member/26049'</p>\n\n<p>I'm <em>pretty sure</em> my controller's action is fine the way it's setup.</p>\n\n<p>I know it's probably a route issue but I do not see what it is.</p>\n\n<p>UPDATE:</p>\n\n<p>here's the route debug results</p>\n\n<p><img src=\"http://i.stack.imgur.com/4Rc6X.jpg\" alt=\"enter image description here\"></p>\n\n<p>UPDATE:</p>\n\n<p>Looks now like maybe I was thinking all along it was a route issue but at least now it's ok so not sure what this error means by \"Resource\"</p>\n\n<p>Here's the routes I have now that seem to be working in my MemberAreaRegistration.cs</p>\n\n<p><img src=\"http://i.stack.imgur.com/n9a6R.jpg\" alt=\"enter image description here\"></p>\n\n<p>context.MapRoute(\"Search_Member\", \"Search/Member/{contractNumber}\", new { controller = \"Member\", action = \"GetMemberByContractNumber\", contractNumber = UrlParameter.Optional });\n    context.MapRoute(\"Search_Default\", \"Search/{controller}/{action}/{id}\", new {controller=\"Member\", action = \"Index\", id = UrlParameter.Optional });</p>\n\n<p>now not sure why I'm getting this resource error.  In Firebug, there's some additional info but I still don't get what's wrong with my controller code if that's the case or my jQuery code if that's also an issue...I don't see it:</p>\n\n<pre><code>[HttpException]: The controller for path &amp;#39;/OurAppName/Search/Member/1234&amp;#39; was not found or does not implement IController.\n</code></pre>\n\n<p>Couple more views of the error from firebug still:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ByM2i.jpg\" alt=\"enter image description here\"><img src=\"http://i.stack.imgur.com/eEN1F.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>UPDATE -------------------------------------------</strong> 10/27/2012:</p>\n\n<p><strong>Want to post my current attempt detailed info to this point</strong></p>\n\n<p>My routes are setup like this in my <strong>Route.Config</strong>:</p>\n\n<pre><code>    public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n        routes.IgnoreRoute(\"favicon.ico\");\n        routes.IgnoreRoute(\"{*favicon}\", new { favicon = @\"(.*/)?favicon.ico(/.*)?\" });\n        routes.IgnoreRoute(\"{*staticfile}\", new { staticfile = @\".*\\.(css|js|gif|jpg)(/.*)?\" });\n        routes.IgnoreRoute(\"{*robotstxt}\", new { robotstxt = @\"(.*/)?robots.txt(/.*)?\" });\n\n        // Purposely not going to use the Home Controller, we don't need it so hence the DataTokens to tell MVC to go straight to my Area called Search to look for the member controller for the default route when you first hit the View\n        routes.MapRoute(\"Default\", \"\", new { area = \"Search\", controller = \"Member\", action = \"Index\", id = UrlParameter.Optional }).DataTokens.Add(\"area\", \"Search\");\n    }\n</code></pre>\n\n<p>My Area's registration routes:</p>\n\n<pre><code>namespace OurApp.Web.Areas.Search.Views.Member\n{\n    public class MemberAreaRegistration : AreaRegistration\n    {\n\n        public override string AreaName\n        {\n            get { return \"Search\"; }\n        }\n\n\n        public override void RegisterArea(AreaRegistrationContext context)\n        {\n\n\n            context.MapRoute(\"Search_Member\", \"Search/Member/{contractNumber}\", new { controller = \"Member\", action = \"GetMemberByContractNumber\", contractNumber = UrlParameter.Optional });\n            context.MapRoute(\"Search_Default\", \"Search/{controller}/{action}/{id}\", new {controller=\"Member\", action = \"Index\", id = UrlParameter.Optional });\n        }\n\n    }\n}\n</code></pre>\n\n<p>Finally my entire Controller Code:</p>\n\n<pre><code>namespace OurApp.Web.Areas.Search.Controllers\n{\n\n    public class MemberController : Controller\n    {\n\n        public ActionResult Index()\n        {\n            return View();\n        }\n\n\n        [HttpGet]\n        public JsonResult GetMemberByContractNumber(int contractNumber)\n        {\n            Member memberDto = MemberCRUD.RetrieveMember(contractNumber);\n\n            JsonResult member = Json(memberDto, JsonRequestBehavior.AllowGet);\n\n            return Json(member, JsonRequestBehavior.AllowGet);\n\n            return member;\n        }\n\n\n        [HttpGet]\n        public ActionResult TestTheRoute(int daveIdTest)\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>1)</strong> I have no begin form tag in my View.  That's because I'm only trying to just test this $.ajax() function out and later I'll add a form and invoke that call from some event.  So that should not matter, that I don't have a form element yet right?  I simply have $.ajax call at the top of my view in the open so it fires off on its own.</p>\n\n<p><strong>2)</strong> It seems like it's hitting my routes ok as you can see above.  I just wonder if it's how I'm forming my $.ajax() call in terms of the callback and maybe related to, my controller method is not fully correct?  I'm returning json from my action but it's ok to have how I have it I assume.  I don't know, unless I can try something different in my action method that's returning the json.  I don't know if my $.ajax call needs to specify the return type expected in the callback now that I just thought about it as I am typing this but I'll check that also.</p>\n\n<p>for example when I setup the $.ajax call like this (see below), I'm getting a response back so I think that tells me IIS is able to send a response after it hit my route and controller ok.  So I'm thinking it's my action method that's not returning a correct json object, not really sure but at this point, if the route debugger from Phil Haack shows it's definitely hitting my routes, then it can't be that...the ajax call IS hitting my route.  </p>\n\n<pre><code>   $.ajax({\n        url: 'OurApp/Search/Member/26049',\n        type: \"GET\",\n        dataType: \"json\",\n        success: function (response) \n        {\n            alert('we got a mother fing response!');\n            grid = new Slick.Grid(\"#memberSearchResults-Grid\", response.data, columns, options);\n        },\n        error: function (e) { alert('response error: '); }\n    });\n</code></pre>\n\n<p>so I get the alert for the error case above, it's hitting this.  I don't know if I will always get a response...probably I assume IIS would respond in a failed request AND successful route request...?</p>\n\n<p>I tried to attach to the worker process and then refresh the page after setting a debug point on the first line of that action method that's returning json in my controller but that line is never hit.  I don't know why.  I can't get any debug points hit, not </p>\n\n<p>Here's the request header from firebug just for additional info:</p>\n\n<pre><code>GET http://localhost/OurApp/Search/Member/26049 HTTP/1.1\nHost: localhost\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-US,en;q=0.5\nAccept-Encoding: gzip, deflate\nProxy-Connection: keep-alive\n</code></pre>\n\n<p>Here's some of the resopnse and what's interesting is even though it shows my route is being hit on my controller, this error says no, it isn't hitting your controller so I'm so dumbfounded at this point on wtf is going on and where:</p>\n\n<p>HeadersResponseCacheHTML</p>\n\n<p>\n    \n        The resource cannot be found.\n        \n         body {font-family:\"Verdana\";font-weight:normal;font-size: .7em;color:black;} \n         p {font-family:\"Verdana\";font-weight:normal;color:black;margin-top: -5px}\n         b {font-family:\"Verdana\";font-weight:bold;color:black;margin-top: -5px}\n         H1 { font-family:\"Verdana\";font-weight:normal;font-size:18pt;color:red }\n         H2 { font-family:\"Verdana\";font-weight:normal;font-size:14pt;color:maroon }\n         pre {font-family:\"Lucida Console\";font-size: .9em}\n         .marker {font-weight: bold; color: black;text-decoration: none;}\n         .version {color: gray;}\n         .error {margin-bottom: 10px;}\n         .expandable { text-decoration:underline; font-weight:bold; color:navy; cursor:hand; }\n        \n    </p>\n\n<pre><code>&lt;body bgcolor=\"white\"&gt;\n\n        &lt;span&gt;&lt;H1&gt;Server Error in '/OurApp' Application.&lt;hr width=100% size=1 color=silver&gt;&lt;/H1&gt;\n\n        &lt;h2&gt; &lt;i&gt;The resource cannot be found.&lt;/i&gt; &lt;/h2&gt;&lt;/span&gt;\n\n        &lt;font face=\"Arial, Helvetica, Geneva, SunSans-Regular, sans-serif \"&gt;\n\n        &lt;b&gt; Description: &lt;/b&gt;HTTP 404. The resource you are looking for (or one of its dependencies) could have been removed, had its name changed, or is temporarily unavailable. &amp;nbsp;Please review the following URL and make sure that it is spelled correctly.\n        &lt;br&gt;&lt;br&gt;\n\n        &lt;b&gt; Requested URL: &lt;/b&gt;/OurApp/Search/Member/26049&lt;br&gt;&lt;br&gt;\n\n        &lt;hr width=100% size=1 color=silver&gt;\n\n        &lt;b&gt;Version Information:&lt;/b&gt;&amp;nbsp;Microsoft .NET Framework Version:4.0.30319; ASP.NET Version:4.0.30319.272\n\n        &lt;/font&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>and related mvc route debugger result for this request:</p>\n\n<p><img src=\"http://i.stack.imgur.com/bBItP.jpg\" alt=\"enter image description here\"></p>\n\n<p>what gets me is that it shows \"The controller for path &#39;/OurApp/Search/Member/26049; was not found or does not implement IController.\"  But if the route debug is saying it is being hit, wtf?  I'm so lost.  Also again I can't debug it so that tells me it ISN'T hitting my controller or controller action.</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13122457,"title":"what type of global ajax setting needed for checking response text?","body":"<p>I want to configure global ajax setting means this apply to all ajax request which will be  fired after this statement.</p>\n\n<p>I want to check for all ajax responses text, is it possible?</p>\n\n<p>if in response I ll get 'bye', I want to redirect to other url means to login page.</p>\n\n<p>'bye' is sent through action.</p>\n\n<p>below is sample code which is not work properly.</p>\n\n<pre><code>$(document).ready(function () {\n\n     $(this).on('ajaxComplete',byebye);\n\n});\n\nfunction byebye(e, xhr, settings){\n        console.log('byebye()'+xhr.responseText);\n        if(xhr.responseText=='bye')\n        {\n            window.location('login.jsp');\n        }\n}\n</code></pre>\n\n<p>this prints bye keyword on console but it does not call to <code>byebye()</code>;</p>\n\n<p>Any solution for that?</p>\n\n<p>execution of byebye() done but no execution of window.location();</p>\n"},{"tags":["php","jquery","sql","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":10723725,"title":"How to generate a JSON based on form selections to build SQL statement by using a jQuery AJAX call to a PHP script","body":"<p>I have an HTML form(2 list-boxes and a check-box) which I want to use for filtering results on the page.</p>\n\n<p>How can I make it so when I press the <code>Submit</code> button(<code>.onclick(function(){})</code>) it would execute a jQuery AJAX call to a PHP script on my local server that will, firstly, check if anything was selected in the list-boxes and if the check-box was checked and then based on that build a SQL statement to query my database and retrieve the result as JSON.</p>\n\n<p>How would you do it, theoretically. I already have the PHP script to simply grab everything from my table and save it as JSON:</p>\n\n<pre><code>&lt;?php\n// databse connection info\nrequire(\"dbinfo.inc.php\");\n\n// try to open a connection to a MySQL server\n$connection=mysql_connect($host, $username, $password);\nif (!$connection) {\n  die('Not connected : ' . mysql_error());\n}\n\n// select the active MySQL database to work with\n$db_selected = mysql_select_db($database, $connection);\nif (!$db_selected) {\n  die ('Can\\'t use db : ' . mysql_error());\n}\n\n// grab data about every campus and which instituion they belong to\n$query = 'select statement to grab all the data from a table';\n$result = mysql_query($query);\n\n// check if $results has anything\nif (!$result) {\n  die('Invalid query: ' . mysql_error());\n}\n\n// time to start generating our huge XML\nwhile ($row = @mysql_fetch_assoc($result)){\n    $finalarray[] = $row;\n    $main_arr['products'] = $finalarray;\n}\n//  close connection to the database\nmysql_close($connection);\n\n//  echo, save and write the file\n// print json_encode($main_arr);\n\n$fp = fopen('results.json', 'w');\nfwrite($fp, json_encode($main_arr));\nfclose($fp);\n\n\n?&gt;\n</code></pre>\n"},{"tags":["ajax","session","google-chrome","icefaces","expired"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12734650,"title":"Session expired or invalidated in Chrome when using alias","body":"<p>I have a web application built using IceFaces 1.8.2 deployed on WebSphere 6.</p>\n\n<ol>\n<li>When I try to access it by using server IP address  or host-name  (for example by calling 10.250.46.80:8080/myApplication or host.domain.com:8080/myApplication), everything works OK.</li>\n<li>When I try to access it by alias (example www.myapplication.com) the application loads the welcome page, redirects to jspx page with no trouble but then I see it continues loading something for few seconds and than I get an http error 500 saying:</li>\n</ol>\n\n<pre><code>Error Message: javax.faces.FacesException: javax.faces.FacesException: Problem in renderResponse: User session has expired or it was invalidated.\nError Code: 500\nTarget Servlet: Persistent Faces Servlet\nError Stack:\njava.lang.Exception: javax.faces.FacesException: javax.faces.FacesException: Problem in renderResponse: User session has expired or it was invalidated.\n     at com.icesoft.faces.context.View.servePage(View.java:153)\n     at com.icesoft.faces.webapp.http.core.SingleViewServer.service(SingleViewServer.java:52)\n...\n...\n     at com.icesoft.faces.context.View$2$1.respond(View.java:49)\n     at com.icesoft.faces.webapp.http.servlet.ServletRequestResponse.respondWith(ServletRequestResponse.java:201)\n     at com.icesoft.faces.context.View$2.serve(View.java:78)\n     at com.icesoft.faces.context.View.servePage(View.java:150)\n     ... 44 more\n</code></pre>\n\n<p>I tried to turn on the synchronous update and the application doesn't crash anymore but I noticed none of the Ajax functionality is working like ValueChange listeners for example. When I change value in a dropdown list (partial submit), browser starts loading something and then I get the error 500 again.</p>\n\n<p>This only happens when using Google Chrome as the browser. It doesn't happen in IE, Opera, Firefox or Safari.</p>\n\n<p>I tried to manually invoke an Ajax request for send-recieve-updates in Chrome console but the response was &lt;session-expired/&gt; In Firefox I got normal content.</p>\n\n<p>I tried random stuff like align headers but since Chrome prevents modification of most headers I can't really try to align them with Firefox's ones to test it.</p>\n\n<p>Anyone experienced something similar? Any thoughts on this are very much appreciated. Thank you in advance for tips. </p>\n"},{"tags":["jquery","ajax","internet-explorer-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":6966972,"title":"jQuery ajax call error if only one data param in IE8?","body":"<p>I've got this javascript that works fine in Chrome but in IE the 'data' var passed in the Success function is always an empty string.  What's more my handler is not even hit!</p>\n\n<p>(jQuery 1.6.2)</p>\n\n<pre><code>$.ajax({\n    url: \"/rb.ashx\",\n            type: \"GET\",\n            data: ({ cmd: 'getpmcount' }),\n            async: true,\n            success: function (data) {\n                alert('unread [' + data + ']'); \n            }\n        });\n</code></pre>\n\n<p>if however I add a dummy param to the outgoing data:</p>\n\n<pre><code> $.ajax({\n    url: \"/rb.ashx\",\n            type: \"GET\",\n            data: ({ cmd: 'getpmcount', x:'x' }),\n            async: true,\n            success: function (data) {\n                alert('unread [' + data + ']'); \n            }\n        });\n</code></pre>\n\n<p>it works fine!!</p>\n\n<p>Can anyone explain why this might be the case?  I'd rather have it work properly than have this hack in place.</p>\n\n<p>Thanks.</p>\n"},{"tags":["jquery","ajax","jquery-callback"],"answer_count":4,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":410,"score":2,"question_id":3586600,"title":"How to execute jQuery callback before data?","body":"<p>I have a simple post, which executed the data returned as a script as such:</p>\n\n<pre><code>$.post(\"/home\", { foo: 'bar' }, function(){\n    //callback function\n}, \"script\");\n</code></pre>\n\n<p>Here's what happens:</p>\n\n<ol>\n<li>The request gets sent</li>\n<li>A piece of JS code is returned as a\nresponse and executed</li>\n<li>The callback is executed</li>\n</ol>\n\n<p>I need the callback to be executed <strong>before</strong> the returned JS is executed.\nIs there a way to achieve this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","javascript","jquery","asp.net","ajax"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":9814,"score":1,"question_id":7881470,"title":"Sys.WebForms.PageRequestManagerServerErrorException: An unknown error occurred while processing the request on the server.\"","body":"<p>I have couple of update panels and jquery tabs on page. And also I am loading couple user controls on update panels. After user waited for couple of minutes (not checked the time approx 40 mins). when user send request from submit button it is giving below error? </p>\n\n<pre><code>'Sys.WebForms.PageRequestManagerServerErrorException:\nSys.WebForms.PageRequestManagerServerErrorException: An unknown \nerror occurred while processing the request on the server. The status \ncode returned from the server was: 0' when calling method: \n[nsIDOMEventListener::handleEvent]\n</code></pre>\n\n<p>I am not able trace this issue to fix. But I am sure. This is causing by Ajax. Gurus, if you knows solution. Please let me know.</p>\n"},{"tags":["php","mysql","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":13105578,"title":"MySQL sort order issue in Ajax/PHP dropdown menu","body":"<p>Hoping someone can help me with a MySQL/PHP sort order issue.</p>\n\n<p>A brief outline of what I am doing is as follows:</p>\n\n<p>I have three (chained) selection boxes. The first box's output is \"fixed\" (it contains all the top-level categories in my store). The two subsequent boxes are populated depending on the choice made in the previous box... standard, straightforward stuff, I hear you say!</p>\n\n<p>It all works great, and the selection (string) from the last box is appended to a \"search results\" page -- exactly what I need. My problem comes when trying to organise the sort order of the second and third boxes though.</p>\n\n<p>Here is a sample of my code:</p>\n\n<pre><code>        public function ShowType()\n    {\n        $sql = \"SELECT categories.*, categories_description.categories_name FROM categories, categories_description WHERE categories.categories_id = categories_description.categories_id AND categories.parent_id = $_POST[category] ORDER BY categories_name\";\n        $res = mysql_query($sql,$this-&gt;conn);\n        $type = '&lt;option value=\"0\"&gt;Select...&lt;/option&gt;';\n        while($row = mysql_fetch_array($res))\n        {\n        $type .= '&lt;option value=\"' . $row['categories_name'] . '\"&gt;' . $row['categories_id'] . '&lt;/option&gt;';\n        }\n        return $type;\n    }\n</code></pre>\n\n<p>The Ajax replaces the (greyed out, non-clickable)</p>\n\n<pre><code>&lt;option value=\"0\"&gt;Select...&lt;/option&gt;\n</code></pre>\n\n<p>part to </p>\n\n<pre><code>&lt;option value=\"' . $row['categories_name'] . '\"&gt;' . $row['categories_id'] . '&lt;/option&gt;\n</code></pre>\n\n<p>once a selection (in the previous box) has been made.</p>\n\n<p>My problem is the array displayed once the box is activated is not in alphabetical order. I want to sort the output in the selection box by <code>categories_name</code> but no matter what I try in the MySQL query, it won't have it!</p>\n\n<p>Is the output to my \"dynamic\"  tag unsorted because of the way it's updated by Ajax? Do I need to re-sort the array with PHP, and if so, can someone point me to a beginner's level (I'd hate to call myself intermediate!) tutorial on how to go about it please?</p>\n\n<p>I hope I don't spark off any more arguments like I did last time! :-)</p>\n\n<p>Cheers,</p>\n\n<p>Andy.</p>\n"},{"tags":["c#","jquery","asp.net","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13117054,"title":"How to authenticate username password in Jquery with asp.net?","body":"<p>I have code of Jquery login control loke following using this into asp.net but but confused where and how I can simply authenticate username and password.</p>\n\n<p><code>Login.aspx</code></p>\n\n<pre><code>&lt;head&gt;\n    &lt;link href=\"css/style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;script src=\"Scripts/jquery-1.4.1.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"Scripts/login.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n &lt;div id=\"loginBox\"&gt;                \n                    &lt;form id=\"loginForm\"&gt;\n                        &lt;fieldset id=\"body\"&gt;\n                            &lt;fieldset&gt;\n                                &lt;label for=\"email\"&gt;Email Address&lt;/label&gt;\n                                &lt;input type=\"text\" name=\"email\" id=\"email\" /&gt;\n                            &lt;/fieldset&gt;\n                            &lt;fieldset&gt;\n                                &lt;label for=\"password\"&gt;Password&lt;/label&gt;\n                                &lt;input type=\"password\" name=\"password\" id=\"password\" /&gt;\n                            &lt;/fieldset&gt;\n                            &lt;input type=\"submit\" id=\"login\" value=\"Sign in\" /&gt;\n                            &lt;label for=\"checkbox\"&gt;&lt;input type=\"checkbox\" id=\"checkbox\" /&gt;Remember me&lt;/label&gt;\n                        &lt;/fieldset&gt;\n                        &lt;span&gt;&lt;a href=\"#\"&gt;Forgot your password?&lt;/a&gt;&lt;/span&gt;\n                    &lt;/form&gt;\n                &lt;/div&gt;\n\nLogin.js\n// Login Form\n\n$(function() {\n    var button = $('#loginButton');\n    var box = $('#loginBox');\n    var form = $('#loginForm');\n    button.removeAttr('href');\n    button.mouseup(function(login) {\n        box.toggle();\n        button.toggleClass('active');\n    });\n    form.mouseup(function() { \n        return false;\n    });\n    $(this).mouseup(function(login) {\n        if(!($(login.target).parent('#loginButton').length &gt; 0)) {\n            button.removeClass('active');\n            box.hide();\n        }\n    });\n});\n</code></pre>\n\n<p>Now How could I use my asp.net authentication with this Jquery code ?\nwhere and how to write c# authentication code?\ngive some threads also m new bie in jquery \nthanks</p>\n"},{"tags":["php","ajax","joomla","joomla2.5"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":683,"score":1,"question_id":11454226,"title":"joomla component development with Ajax queries","body":"<p>I have a PHP script used for AJAX queries, but I want them to be able to operate under the umbrella of Joomla's (2.5) framework so I can have session id's, user id's etc available to me.</p>\n\n<p>For example: </p>\n\n<pre><code>$(function () {\n $.ajax({                                     \n   url: 'ajax.php',   //the script to call to get data                     \n   dataType: 'json'        //data format     \n   ...\n });\n}); \n</code></pre>\n\n<p>Where ajax.php has code such as:</p>\n\n<pre><code>$user =&amp; JFactory::getUser();\n</code></pre>\n\n<p>From what I understand it's best to make your AJAX/JSON calls to a standard Joomla component. I don't know much about developing a MVC component but from what I can see it is way overkill for what I want to do.</p>\n\n<p>Is there something else I could be using?</p>\n"},{"tags":["php","jquery","ajax","chat"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13121098,"title":"Posting a form inside div with ajax","body":"<p>Ok so my problem is like this:</p>\n\n<p>i have feature in my site of PM. i want to make to more like \"FaceBook\".\ni encountered some problems that havent resolve yet</p>\n\n<p>i expalin the system:</p>\n\n<p>every user can send you a message and you can send him back once you started \"chatting\" in the panel of the mesages will apear only one row and once you open it you will see all your history (this pages loads into a div), and beside that div there is another div include a form for replying message, now this code runs in loop ofcourse to collect all the rows of messages you got from other users.\nto display a message you click on it and the div appear</p>\n\n<p>now the problem:</p>\n\n<p>i want the form to be submitted without the user leaving the page, and the same div that was open to still be open, itried using ajax but it doesnt give me any results its just adding to the db empty rows. </p>\n\n<pre><code>        &lt;div class=\"pmsowtext_area\" id =\"pmsowtext_area\"&gt;\n    &lt;form action=\"\" name=\"myform'.$info['from_user'].'\" id=\"myform'.$info['from_user'].'\" method=\"post\"&gt;\n    &lt;p align=\"left\"&gt;subject:&lt;input type=\"text\" name=\"subject\"  id=\"elem'.$info['from_user'].'\"/&gt;&lt;/p&gt;\n    &lt;textarea id=\"elm1'.$info['from_user'].'\" name=\"reply-content\" rows=\"15\" cols=\"80\" style=\"width: 80%\"&gt;\n\n    &lt;/textarea&gt;\n        &lt;br&gt;&lt;p align=\"left\"&gt;\n    &lt;input type=\"submit\" name=\"save\" value=\"replay\" /&gt;\n    &lt;input type=\"reset\" name=\"reset\" value=\"reset\" /&gt;&lt;/p&gt;\n    &lt;button onclick=\"sendME('.$info['from_user'].')\"&gt;save&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>so this is the form</p>\n\n<p>and this is the ajax i tried </p>\n\n<pre><code>function sendME(id){\n $.post(\"reply_pm.php?id=\"+id, $(\"#myform\"+id).serialize());\n\n reply_pm code as asked\n $files = glob('images/smilies/*.gif'); \n    $text = nl2br($_POST['reply-content']);\n    $count = count($files);\n    for ($i=0;$i&lt;$count;$i++)\n    {\n        $new_str = '[smiley]'.$i.'[smiley]';\n\n\n\n        $text = str_replace($new_str ,\"&lt;img src=$files[$i]&gt;\" , $text); \n\n    }   \n    $text = str_replace(\"[b]\" ,\"&lt;b&gt;\" , $text);\n    $text = str_replace(\"[/b]\" ,\"&lt;/b&gt;\" , $text);\n    //end of parser\n\n    if ($_POST['subject']==\"\")\n        $subject = \"No Subject\";\n    else\n        $subject =$_POST['subject'];\n    //a real user posted a real reply \n\n    $sql = \"INSERT INTO \n                pm(to_user_id, \n                      from_user, \n                      subject, \n                      text) \n            VALUES (\" . mysql_real_escape_string($_GET['id']) . \", \n                    \" . $_SESSION['user_id'] . \", \n                    '\" . $subject . \"', \n                    '\" . $_POST['reply-content'] . \"')\"; \n\n    $result = mysql_query($sql); \n\n\n\n    if(!$result) \n    { \n\n        echo 'Your comment did not save, Please try again later'; \n        echo mysql_error(); \n    } \n    else \n    { \n        echo 'the '. $_POST['subject'] .' has been sent to it destination '; \n    } \n\n\n\n\n\n\n} \n} \n</code></pre>\n\n<p>is there anything i do wrong with this??</p>\n\n<p>thanks in advance</p>\n"},{"tags":["c#","asp.net","ajax","updatepanel","autocompleteextender"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13112249,"title":"Autocompleteextender and button event not fire in updatepatel","body":"<p>Here In my code I create one user control. Put two textbox with autocompleteextender  and submit button. After access two textbox , submit button Click event not fire. What is wrong in code. Please help me.When I put the updatepanel after that it's not working. I need update panel because two textbox autopostback property is true. </p>\n\n<pre><code>&lt;asp:UpdatePanel runat=\"server\" ID=\"UpQuote\" UpdateMode=\"Always\"&gt;\n    &lt;ContentTemplate&gt;\n        &lt;div id=\"Quote\"&gt;\n            &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;td class=\"tbltdForQuote\"&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label runat=\"server\" ID=\"lblTitle\" Text=\"Get an instant quote\" CssClass=\"lblForQuote\"\n                            Font-Size=\"Large\"&gt;&lt;/asp:Label&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td class=\"tbltdForQuote\"&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label runat=\"server\" ID=\"lblTo\" Text=\"Pick-up Location e.g. Heathrow\" CssClass=\"lblForQuote\"&gt;&lt;/asp:Label&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        &lt;asp:TextBox runat=\"server\" ID=\"txtTo\" AutoPostBack=\"true\" autocomplete=\"off\" CssClass=\"txtBoxForQuote\" /&gt;\n                        &lt;ajaxToolkit:AutoCompleteExtender runat=\"server\" BehaviorID=\"AutoCompleteEx1\" ID=\"autoComplete1\"\n                            TargetControlID=\"txtTo\" ServicePath=\"AutoComplete.asmx\" ServiceMethod=\"GetCompletionList\"\n                            MinimumPrefixLength=\"1\" CompletionInterval=\"1000\" EnableCaching=\"true\" CompletionSetCount=\"20\"\n                            CompletionListCssClass=\"autocomplete_completionListElement\" CompletionListItemCssClass=\"autocomplete_listItem\"\n                            CompletionListHighlightedItemCssClass=\"autocomplete_highlightedListItem\" DelimiterCharacters=\";, :\"\n                            ShowOnlyCurrentWordInCompletionListItem=\"true\"&gt;\n                            &lt;Animations&gt;\n                    &lt;OnShow&gt;\n                        &lt;Sequence&gt;\n                            &lt;%-- Make the completion list transparent and then show it --%&gt;\n                            &lt;OpacityAction Opacity=\"0\" /&gt;\n                            &lt;HideAction Visible=\"true\" /&gt;\n\n                            &lt;%--Cache the original size of the completion list the first time\n                                the animation is played and then set it to zero --%&gt;\n                            &lt;ScriptAction Script=\"\n                                // Cache the size and setup the initial size\n                                var behavior = $find('AutoCompleteEx1');\n                                if (!behavior._height) {\n                                    var target = behavior.get_completionList();\n                                    behavior._height = target.offsetHeight - 2;\n                                    target.style.height = '0px';\n                                }\" /&gt;\n\n                            &lt;%-- Expand from 0px to the appropriate size while fading in --%&gt;\n                            &lt;Parallel Duration=\".2\"&gt;\n                                &lt;FadeIn /&gt;\n                                &lt;Length PropertyKey=\"height\" StartValue=\"0\" EndValueScript=\"$find('AutoCompleteEx1')._height\" /&gt;\n                            &lt;/Parallel&gt;\n                        &lt;/Sequence&gt;\n                    &lt;/OnShow&gt;\n                    &lt;OnHide&gt;\n                        &lt;%-- Collapse down to 0px and fade out --%&gt;\n                        &lt;Parallel Duration=\".4\"&gt;\n                            &lt;FadeOut /&gt;\n                            &lt;Length PropertyKey=\"height\" StartValueScript=\"$find('AutoCompleteEx1')._height\" EndValue=\"0\" /&gt;\n                        &lt;/Parallel&gt;\n                    &lt;/OnHide&gt;\n                            &lt;/Animations&gt;\n                        &lt;/ajaxToolkit:AutoCompleteExtender&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td class=\"tbltdForQuote\"&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label runat=\"server\" ID=\"lblFrom\" Text=\"Drop-off Location e.g.E1 (Postcode)\"\n                            CssClass=\"lblForQuote\"&gt;&lt;/asp:Label&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        &lt;asp:TextBox ID=\"txtFrom\" AutoPostBack=\"true\" runat=\"server\" autocomplete=\"off\" CssClass=\"txtBoxForQuote\" /&gt;\n                        &lt;ajaxToolkit:AutoCompleteExtender runat=\"server\" BehaviorID=\"AutoCompleteEx\" ID=\"AutoCompletetxtFrom\"\n                            TargetControlID=\"txtFrom\" ServicePath=\"AutoComplete.asmx\" ServiceMethod=\"GetCompletionList\"\n                            MinimumPrefixLength=\"1\" CompletionInterval=\"1000\" EnableCaching=\"true\" CompletionSetCount=\"20\"\n                            CompletionListCssClass=\"autocomplete_completionListElement\" CompletionListItemCssClass=\"autocomplete_listItem\"\n                            CompletionListHighlightedItemCssClass=\"autocomplete_highlightedListItem\" DelimiterCharacters=\";, :\"\n                            ShowOnlyCurrentWordInCompletionListItem=\"true\"&gt;\n                            &lt;Animations&gt;\n                    &lt;OnShow&gt;\n                        &lt;Sequence&gt;\n                            &lt;%-- Make the completion list transparent and then show it --%&gt;\n                            &lt;OpacityAction /&gt;\n                            &lt;HideAction Visible=\"true\" /&gt;\n\n                            &lt;%--Cache the original size of the completion list the first time\n                                the animation is played and then set it to zero --%&gt;\n                            &lt;ScriptAction Script=\"\n                                // Cache the size and setup the initial size\n                                var behavior = $find('AutoCompleteEx');\n                                if (!behavior._height) {\n                                    var target = behavior.get_completionList();\n                                    behavior._height = target.offsetHeight - 2;\n                                    target.style.height = '0px';\n                                }\" /&gt;\n\n                            &lt;%-- Expand from 0px to the appropriate size while fading in --%&gt;\n                            &lt;Parallel Duration=\".2\"&gt;\n                                &lt;FadeIn /&gt;\n                                &lt;Length PropertyKey=\"height\" StartValue=\"0\" EndValueScript=\"$find('AutoCompleteEx')._height\" /&gt;\n                            &lt;/Parallel&gt;\n                        &lt;/Sequence&gt;\n                    &lt;/OnShow&gt;\n                    &lt;OnHide&gt;\n                        &lt;%-- Collapse down to 0px and fade out --%&gt;\n                        &lt;Parallel Duration=\"1\"&gt;\n                            &lt;FadeOut /&gt;\n                            &lt;Length PropertyKey=\"hight\" StartValueScript=\"$find('AutoCompleteEx')._height\" EndValue=\"0\" /&gt;\n                        &lt;/Parallel&gt;\n                    &lt;/OnHide&gt;\n                            &lt;/Animations&gt;\n                        &lt;/ajaxToolkit:AutoCompleteExtender&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td class=\"tbltdForQuote\"&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        &lt;asp:Button runat=\"server\" ID=\"btnQuoteSubmit\" Text=\"Get Quote &gt;&gt;\" UseSubmitBehavior=\"false\"\n                            CssClass=\"QuoteButton\" OnClick=\"btnQuoteSubmit_Click\" CausesValidation=\"false\" /&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td style=\"float: right\"&gt;\n                        &lt;asp:HyperLink runat=\"server\" ID=\"HyLogin\" Text=\"Login to your account &gt;&gt;\"&gt;&lt;/asp:HyperLink&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/ContentTemplate&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13118624,"title":"Get error or success status in ajax with php","body":"<p>I am using jQuery Ajax with PHP. When I use post with jQuery Ajax, then it's send request to PHP (server). In my PHP code, I want to return status success or error. In case it error, send error code and error message, else, it success return success code and message.</p>\n\n<p>How can I do that in jQuery Ajax with PHP?</p>\n\n<p>Edit:</p>\n\n<pre><code>$.post(url, { id: id },\nfunction(data) {\n    // success code do here.\n});\n</code></pre>\n"},{"tags":["php","ajax","osqa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13120269,"title":"OSQA: Automating OSQA in php","body":"<p>I have one php page, from that I want to send the question and answer to that question entered in my page to the OSQA site. Is it possible through AJAX or OSQA supports any APIs.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["c#","jquery","asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13119469,"title":"how to create control for real time Edit in jquery + asp.net","body":"<p>i have one <code>&lt;li&gt;</code> element where i put Item1 and value and Edit button, when i click on Editbutton the small popup open with slider and numeric up and down</p>\n\n<p>problem is , i am wondering when i change the slider i want to change <code>&lt;li&gt;</code> background color and from numeric up and down i want to change values in <code>&lt;li&gt;</code> elements</p>\n\n<p>for example here, if i change slider value up , i want to make <code>&lt;li&gt;</code> background color something else and if i click numeric up i want 26  in <code>&lt;li&gt;</code> element</p>\n\n<p>it should be real time, means u click on up value should be 26 in li, No after close popup or something else</p>\n\n<p><img src=\"http://i.stack.imgur.com/s60cD.png\" alt=\"+\"></p>\n\n<p>Thanks :)</p>\n"},{"tags":["java","ajax","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13116474,"title":"Redirect to a AJAX URL","body":"<p>Have to redirect to the below URL:</p>\n\n<pre><code>AjaxView1?catalogId=12345&amp;storeId=67890&amp;List=123#AjaxView2?ListId=123&amp;storeId=67890&amp;catalogId=12345\n</code></pre>\n\n<p>I am passing this value as hidden prameter in form and redirecting from a java class. Somehow, the AJAX view is not being picked up. It is redirecting to the former <code>AJAXView1</code>.</p>\n\n<p>Can you please suggest what I need to change so that it gets redirected to a second AJAX view \"<code>Ajaxiew2</code>\".</p>\n\n<p>I would like to know, how will it handle the # symbol in the URLredirection.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have a form from where I am passing the hidden parameter value of URL.</p>\n\n<pre><code>&lt;form name =\"LogonList\" action=\"someActionCode\"  method=\"post\"&gt;\n&lt;input type=\"hidden\" name=\"storeId\" value=\"67890\"&gt;\n&lt;input type=\"hidden\" name=\"URL\" value=\"AjaxView1?catalogId=12345&amp;storeId=67890&amp;List=123#AjaxView2?ListId=123&amp;storeId=67890&amp;catalogId=12345 &gt;\n&lt;input type=\"submit\" value=\"Submit\"/&gt;\n</code></pre>\n\n<p>someActionCode will call a java class which will perform some business logic and after business logic gets executed, it will redirectURL to the URL passed as hidden parameter.</p>\n\n<p>I would like to know, how will it handle the # symbol in the <code>URLredirection</code>.</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":393,"score":0,"question_id":2290830,"title":"Passing a value using jQuery and php","body":"<p>I want to pass the value of the file to catch php using jQuery.\nIs there a way to pass the value of the file to catch.php, so that var_dump($_FILES) will output somthing?</p>\n\n<p>------index.php------------</p>\n\n<pre><code>&lt;p&gt;Name: &lt;input type=\"text\" name=\"name\" id=\"name\" /&gt;&lt;/p&gt;\n&lt;p&gt;Picture: &lt;input type=\"file\" name=\"pic\" id=\"pic\" /&gt;)&lt;/p&gt;\n&lt;p&gt;&lt;a href=\"#\" id=\"submit\" &gt;POST&lt;/a&gt;&lt;/p&gt;\n&lt;div id=\"result\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery-1.3.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(\"#submit\").click(function(){\n    $.post(\n       'catch.php',\n       {name: $('#name').val(), pic: $('#pic').val()},\n       function(result){\n           $(\"#result\").html(result);\n       },\n       \"html\"\n    );\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>----------catch.php-----------------</p>\n\n<pre><code>&lt;?php\nvar_dump($_POST);\n\nvar_dump($_FILES);\n?&gt;\n</code></pre>\n"},{"tags":["php","ajax","file-upload","image-uploading"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13118962,"title":"Ajax image uploading and displaying","body":"<p>I am using php mysql and uploading image using ajax( jquery). The image is being uploaded successfully but is not being dispalyed immediately, on reloding the page it displaying correctly.</p>\n\n<p>The upload and display are working when I am using this code..</p>\n\n<pre><code>&lt;?php\n// Set the upload folder path\n$target_path = \"uploads/\";\n// Set the new path with the file name\n$target_path = $target_path . basename( $_FILES['myfile']['name']); \n\n// Move the file to the upload folder\nif(move_uploaded_file($_FILES['myfile']['tmp_name'], $target_path)) {\n// print the new image path in the page, and this will recevie the javascripts 'response' variable\necho $target_path;\n} else{\n// Set default the image path if any error in upload.\necho \"default.jpg\";\n}\n\n?&gt;\n</code></pre>\n\n<p>But instead of uploading the image to upload directory with the original name of the image which is being uploaded I want to change the name on upload to image01.jpg and if the image with this name is present then I want it to get replaced with the new one. For this I use this code...</p>\n\n<pre><code>&lt;?php\n// Set the upload folder path\n$place_file=\"\";\n$target_path = \"1/\";\n$target_path1 = \"1/image01.jpg\";\n// Set the new path with the file name\n$target_path = $target_path .\"image01.jpg\"; \n// Move the file to the upload folder\n$place_file=move_uploaded_file($_FILES['myfile']['tmp_name'], $target_path1);\necho $target_path;\n?&gt;\n</code></pre>\n\n<p>The image is uploding fine but it is not being displayed immediately but gets displayed on page refresh. It displays the previous image only and I think the replacing of image is causing a problem.</p>\n\n<p>I am new in file uploading coding thats why having problem.</p>\n\n<p>This js code uploads the image</p>\n\n<pre><code>    new AjaxUpload(button,{\n    action: 'upload.php', \n    name: 'myfile',\n    onSubmit : function(file, ext){\n        spinner.css('display', 'block');\n        // you can disable upload button\n        this.disable();\n        },\n    onComplete: function(file, response){\n        button.stop(false,true).fadeOut(200);\n        spinner.css('display', 'none');\n        $('#profile_img').attr('src', response);\n        // enable upload button\n        this.enable();\n    }\n});\n</code></pre>\n\n<p>The above php code was upload.php</p>\n"},{"tags":["ajax","asp.net-mvc-3","bing-maps-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13118881,"title":"Bing Maps. Change scalebar from Imperial to Metric?","body":"<p>As title says... been looking on <a href=\"http://www.microsoft.com/maps/isdk/ajax/\" rel=\"nofollow\">Bing Maps API</a> and can´t find anything about how to change scalebar from Imperial to Metric... any suggestions anyone?\nAJAX v6.3</p>\n\n<p>To make the question a little bit more clear... Im asking for if there is some kind of solution programmaticly to show the scalebar in metric?\nOr if there is just a method to show only the metric scalebar.</p>\n\n<p>What I´ve read, the bing map read your local settings in the browser to see if you are in a country that uses Imperial or Metric system.</p>\n\n<p>And I´ve goggle:d it too... :P </p>\n"},{"tags":["jquery","ajax","jquery-ajax","cross-domain"],"answer_count":6,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":2819,"score":3,"question_id":7638773,"title":"Cross-Domain Requests with jQuery","body":"<p>For a project I need to get the source code of web page of different other domains.\nI have tried following code:</p>\n\n<pre><code>$('#container').load('http://google.com');\n\n$.ajax({\n    url: 'http://news.bbc.co.uk',\n    type: 'GET',\n    success: function(res) {\n        var headline = $(res.responseText).find('a.tsh').text();\n        alert(headline);\n    }\n});\n</code></pre>\n\n<p>Still I am not getting any results but just a blank alert box.</p>\n"},{"tags":["ajax","http","cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13118317,"title":"How can I get a cookie that came in a response from a different domain?","body":"<p>I'm sending an AJAX request to another domain, and it's sending me a response with a cookie, but document.cookie is empty. How can I make it visible? What permissions do I need? Thanks.</p>\n"},{"tags":["c#","asp.net","ajax","tabs","asp.net-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":13117629,"title":"Load contents to an ajax tab when the user clicks on it","body":"<p>I have a page(C#-asp.net application) with more than 5 ajax tabs that gets data on page load. Since it takes a long time, i want to populate the tab contents only when the user clicks on the tab.not able to find any event in tab panel. BTW i'm using an AJAX Tab container Please Advice me ASAP. </p>\n\n<p>Thanks in Advance. :) </p>\n"},{"tags":["ajax","jsf-2"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":958,"score":2,"question_id":6916936,"title":"JSF2 ajax events not triggered in dynamically included pages","body":"<p>I have a AdminHome.xhtml page which has a dynamic include as below: </p>\n\n<pre><code>&lt;h:form id=\"masterform\"&gt;  \n    &lt;table class=\"DEFTABLE\"&gt;                             \n    &lt;tbody&gt;  \n        &lt;tr&gt;  \n            &lt;td class=\"CREATESTYLE\"&gt;Create    \n            &lt;h:selectOneMenu styleClass=\"SELECTBOX\" id=\"createBox\" value=\"#{adminWindowController.actionSelection}\"&gt;  \n            &lt;f:ajax event=\"change\" execute=\":masterform:workspace\" listener=\"#{adminWindowController.invokeAction}\" render=\":masterform:workspace :masterform:taskbar createBox\"/&gt;  \n                &lt;f:selectItem itemValue=\"NONE\" itemLabel=\"Select one...\"/&gt;  \n                &lt;f:selectItem itemValue=\"CREATE_ENTITY_DEFINITION\" itemLabel=\"Entity Definition\"/&gt;  \n                &lt;f:selectItem itemValue=\"CREATE_ENTITY_GROUP\" itemLabel=\"Entity Group\" /&gt;  \n                &lt;f:selectItem itemValue=\"CREATE_USER\" itemLabel=\"User\" /&gt;  \n                &lt;f:selectItem itemValue=\"CREATE_USER_GROUP\" itemLabel=\"User Group\" /&gt;  \n            &lt;/h:selectOneMenu&gt;  \n            &lt;/td&gt;  \n        &lt;/tr&gt;  \n    &lt;/tbody&gt;  \n    &lt;/table&gt;  \n\n    &lt;h:panelGroup id=\"workspace\"&gt;  \n    &lt;table class=\"DEFTABLE\"&gt;  \n        &lt;tr&gt;  \n            &lt;td class=\"WSHEIGHT\" valign=\"top\"&gt;  \n                &lt;ui:include src=\"#{adminworkspace.workspaceContent}\"/&gt;  \n            &lt;/td&gt;  \n        &lt;/tr&gt;  \n    &lt;/table&gt;  \n    &lt;/h:panelGroup&gt;  \n&lt;/h:form&gt;\n</code></pre>\n\n<p>The above include will get page names dynamically during various ajax events triggered on AdminHome.xhtml page. </p>\n\n<p>Below is one of the dynamic pages that gets loaded when the selectOneMenu changes.</p>\n\n<pre><code>&lt;ui:composition&gt;  \n    &lt;h:form id=\"entdefcreateform\"&gt;  \n    &lt;h:panelGroup id=\"entdefpanel\"&gt;  \n        &lt;table&gt;  \n        &lt;/table&gt;  \n\n        &lt;table cellspacing=\"0\"&gt;      \n            &lt;tr&gt;  \n            &lt;ui:repeat value=\"#{adminEntityDefnController.entDefTabList}\" var=\"tab\"&gt;  \n                &lt;td class=\"#{tab == uIUtil.getRequestMapValue('activetab','General') ? 'TABBUTTONCTIVE' : 'TABBUTTON'} \"&gt;  \n                    &lt;h:commandLink action=\"#{adminWindowController.TabChange}\" style=\"border: none;\"&gt;  \n                    &lt;f:ajax execute=\":masterform:entdefcreateform:entdefpanel\" render=\":masterform:entdefcreateform:entdefpanel\"/&gt;  \n                        &lt;f:param name=\"activetab\" value=\"#{tab}\"/&gt;  \n                        &lt;h:outputText value=\"#{tab}\"/&gt;  \n                    &lt;/h:commandLink&gt;  \n                &lt;/td&gt;  \n            &lt;/ui:repeat&gt;  \n            &lt;/tr&gt;  \n        &lt;/table&gt;  \n        &lt;table class=\"TABCONTENTTABLE\"&gt;  \n            &lt;tr valign=\"top\"&gt;    \n                &lt;td class=\"TABCONTENT\"&gt;  \n                    &lt;ui:include src= \"#{adminEntityDefnController.entDefTabTable.get(uIUtil.getRequestMapValue('activetab','General'))}\"/&gt;  \n                &lt;/td&gt;  \n            &lt;/tr&gt;  \n        &lt;/table&gt;  \n    &lt;/h:panelGroup&gt;  \n    &lt;/h:form&gt;  \n&lt;/ui:composition&gt;  \n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":99,"score":0,"question_id":13118023,"title":"Loading Content using Ajax with PHP Include","body":"<p>I have a PHP page which has a div, the div has a PHP includes which includes this file:</p>\n\n<pre><code>&lt;?php   \n    include('mySql.php');\n    include('Classes.php');\n\n    $targetPage = \"blogOutput.php\";\n    $noOfPosts = getNumberOfPosts();\n    $adjacents = 3;\n?&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"Styles/Miniblog.css\" /&gt;\n&lt;script src=\"Scripts/jQuery.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var page = 1;\n    $(\".Button\").click(onClick());\n    $(document).ready(onClick());\n\n    function onClick() {\n        alert('called');\n        $(\"#posts\").load(\"miniBlog.php\", function(response, status, xhr) {\n            if (status == \"error\") {\n                var msg = \"Error!: \";\n                alert(msg);\n            }\n        });\n        page++;\n    }\n\n&lt;/script&gt;\n&lt;div class=\"PostTitle\"&gt;\n    &lt;h2&gt;What's New!?&lt;/h2&gt;\n&lt;/div&gt;\n&lt;div id=\"posts\"&gt;\n&lt;/div&gt;\n&lt;a class=\"BlogButton\" href=\"\"&gt;Next&lt;/a&gt;\n</code></pre>\n\n<p>I need the function \"onclick\" to be called without refreshing the page and resetting the \"page\" variable in javascript. So far, all I've been able to do is make it run the script once. I think that's wrong too, because it's not loading any content. Here's the page:</p>\n\n<pre><code>&lt;?php\n    echo \"I'm here!\";\n    if (isset($_POST['offset'])) {\n        $offset = $_POST['offset'];\n\n        $posts = getPosts($offset);\n    }\n?&gt;\n\n&lt;div class=\"BlogPost\"&gt;\n    &lt;h3&gt;&lt;?php echo $posts[0]-&gt;Title; ?&gt;&lt;/h3&gt;\n    &lt;p&gt;&lt;?php echo $posts[0]-&gt;Body; ?&gt;&lt;/p&gt;\n    &lt;p class=\"Date\"&gt;&lt;?php echo $posts[0]-&gt;Date; ?&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;div id=\"divider\"&gt;&lt;/div&gt;\n&lt;div class=\"BlogPost\"&gt;\n    &lt;h3&gt;&lt;?php echo $posts[1]-&gt;Title; ?&gt;&lt;/h3&gt;\n    &lt;p&gt;&lt;?php echo $posts[1]-&gt;Body; ?&gt;&lt;/p&gt;\n    &lt;p class=\"Date\"&gt;&lt;?php echo $posts[1]-&gt;Date; ?&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So, to clarify: I'm not sure why my ajax call isn't working, and I don't know how to load just the div content and not refresh the entire page. Thanks!</p>\n"},{"tags":["javascript","jquery","ajax","variable-scope","ajaxsetup"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":28,"score":3,"question_id":13118101,"title":"Limit jQuery.ajaxSetup scope to inside a specific object only","body":"<p>This might be strange, but what I am looking for is how would I make the scope of <code>jQuery.ajaxSetup()</code> inside a specific object only. Let me give you an example, I have two objects <code>obj_1</code> and <code>obj_2</code>. I want to write ajaxSetup in such a way that all my ajax calls inside an object will use one set of params and all my calls in second object will use other set of params.</p>\n\n<p>Eg</p>\n\n<pre><code>var obj_1 = {\n\n    my_func : function(){\n\n        $.ajax({\n            success : function(){\n                // do something\n                // all ajax calls in this object should use one set of params (type,dataType,headers etc)\n            }\n        })\n\n    }\n\n};\n\nvar obj_2 = {\n\n    my_func : function(){\n\n        $.ajax({\n            success : function(){\n                // do something\n                // all ajax calls in this object should use different params (type,dataType,headers etc)\n            }\n        })\n\n    }\n\n};\n</code></pre>\n\n<p>I want to do this so that I don't have to write all params in every ajax call.</p>\n"},{"tags":["asp.net","ajax","login-control","collapsiblepanelextender"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13084461,"title":"Login form in collapsible panel extender","body":"<p>I want to display login form on a collapsible panel extender for login a user.\nPlease help me for this Ajax problem.</p>\n"},{"tags":["javascript","jquery","ajax","screen-scraping"],"answer_count":7,"favorite_count":6,"up_vote_count":9,"down_vote_count":0,"view_count":10033,"score":9,"question_id":1936495,"title":"Website scraping using jquery and ajax","body":"<p>I want to be able to manipulate the html of a given url. Something like html scraping. I know this can be done using curl or some scraping library.But i would like to know if it is possible to use jquery to make a get request to the url using ajax and retrieve the html of the url, and run jquery code on the html returned ?</p>\n\n<p>Thank You</p>\n"},{"tags":["javascript","asp.net","ajax"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13116891,"title":"Does not work Google translator java Script used to text box in ajax update panel","body":"<p>I have used the text box for translating English to Gujarati using Google translation java script it works good,but when I used ajax update panel for text box it does not work.</p>\n\n<p>Below is the java script i used.</p>\n\n<p>Any idea?</p>\n\n<p>Thanks!</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        google.load(\"elements\", \"1\", {\n            packages: \"transliteration\"\n        });\n        function onLoad() {\n            var options = {\n                sourceLanguage:\n                google.elements.transliteration.LanguageCode.ENGLISH,\n                destinationLanguage:\n                google.elements.transliteration.LanguageCode.GUJARATI,\n\n                shortcutKey: 'ctrl+g',\n                transliterationEnabled: true\n            };\n            var control =\n            new google.elements.transliteration.TransliterationControl(options);\n            control.makeTransliteratable(['&lt;%=TextBox1.ClientID%&gt;']);\n        }\n        google.setOnLoadCallback(onLoad);\n\n        var finalString = \"\";\n        function Changed(textControl) {\n\n            var _txtUnicodeName = document.getElementById('&lt;%=TextBox1.ClientID%&gt;');\n\n            var _EnteredString = _txtUnicodeName.value;\n        }\n    &lt;/script&gt;\n\n    &lt;asp:UpdatePanel ID=\"Activistupdatepanel\" runat=\"server\"&gt;\n                    &lt;ContentTemplate&gt;\n                        &lt;div&gt;\n                            &lt;asp:Button ID=\"Button1\" runat=\"server\" Text=\"Button\" onclick=\"Button1_Click\" /&gt;\n                            &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;/div&gt;\n                    &lt;/ContentTemplate&gt;\n                &lt;/asp:UpdatePanel&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13117195,"title":"ajax script for change background not working in IE","body":"<p>I am facing a problem with ajax script. I am using the code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    $(document).ready(function() {\n        $('#savecolor').click(function(){     \n          var myVar = 'data='+$('#color').val();\n          $.ajax({\n            type: \"POST\",\n            url: \"addcolor.php\",\n            data: myVar,\n            success: function(msg){\n            //alert(myVar);\n            $('#message').html('Background color has been changed successfully.');\n            $(window.parent.document).find('#set').css('background', msg);\n             //$('#set').css('background', msg);\n              // window.parent.location.reload(); \n\n               }\n              });\n             });\n&lt;/script&gt;\n</code></pre>\n\n<p>This code is working fine but in IE this is not working, i am using jquery-1.7</p>\n\n<p>any one help me. </p>\n"},{"tags":["jquery","ajax","google-chrome","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":910,"score":0,"question_id":8537843,"title":"Chrome jquery ajax callback on success not firing","body":"<p>As far as I know, <code>$.ajax</code> has always worked pretty smoothly in every browser until now.\nI have a pretty simple function, called when a couple of actions from the user occur.\nIn Firefox, everything runs smoothly. But in Chrome, while the <code>$.ajax</code> request is launched, the callback on success doesn't fire.</p>\n\n<p>Here's the actual snippet:</p>\n\n<pre><code>    var form  = $(\"#templateCreator\"),\n    formType  = form.attr(\"method\"),\n    formData  = form.serialize(),\n    action    = form.attr('action');\n\n    $.ajax({\n        type: formType,\n        url: action,\n        data: formData,\n        success: function(){\n            console.log('Can\\'t see me in Chrome, but ok in firefox !')\n\n            // Handle all form submit events to form validator first\n            validator(form, targetInput);\n        }\n    });\n</code></pre>\n\n<p>What's puzzling is nothing seems wrong, data is serialized, and sent properly. Does anyone know what I missed?</p>\n"},{"tags":["javascript","jquery","html","ajax","regex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":13061389,"title":"How to call an element if its child contains some custom-filtered text?","body":"<p>Suppose we have a page that contains the following:</p>\n\n<pre><code>&lt;div data-search=\"type1\"&gt;\nany html\n&lt;!-- that is, .click is a child of any level --&gt;\n&lt;span class=\"click\" data-source=\"page1.html\"&gt;blue&lt;/span&gt;\n&lt;!-- let's call it \"click1\" --&gt;\n&lt;span class=\"click\" data-source=\"page1.html\"&gt;  blue &lt;span class=\"variable\"&gt;thing&lt;/span&gt;  &lt;/span&gt;\n&lt;!-- let's call it \"click2\" --&gt;\n&lt;span class=\"click\" data-source=\"page1.html\"&gt; blue&lt;span class=\"variable\"&gt;bell&lt;/span&gt;&lt;/span&gt;\n&lt;!-- let's call it \"click3\" --&gt;\nany html\n&lt;/div&gt;\n&lt;div id=\"content\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>page1.html:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;blue&lt;/span&gt;\nany html\n&lt;/div&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;blue &lt;span class=\"variable\"&gt;flower&lt;/span&gt;&lt;/span&gt;\nany html\n&lt;/div&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;  blue    &lt;span class=\"variable\"&gt;shirt&lt;/span&gt;&lt;/span&gt;\nany html\n&lt;/div&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;non-matching html&lt;/span&gt;\n&lt;!-- no match inside, skip this .container --&gt;\nany html\n&lt;/div&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type2\"&gt;blue&lt;/span&gt;\n&lt;!-- \"data-search\" attribute doesn't match a \"data-search\" attribute of the first \"data-search\"-attribute-containing element that we encounter when we traverse from .click up the DOM, so skip this .container --&gt;\nany html\n&lt;/div&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;blue&lt;span class=\"variable\"&gt;berry&lt;/span&gt;&lt;/span&gt;\n&lt;!-- no space after \"blue\", so \"berry\" is a part of the word --&gt;\nany html\n&lt;/div&gt;\n</code></pre>\n\n<p>After clicking the \".click\" element, I want to use <code>$.get</code> method.<br>\nFor \"click1\" element, I want #content to be</p>\n\n<pre><code>&lt;div id=\"content\"&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;blue&lt;/span&gt;\nany html\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>For \"click2\" element, I want #content to be</p>\n\n<pre><code>&lt;div id=\"content\"&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;blue &lt;span class=\"variable\"&gt;flower&lt;/span&gt;&lt;/span&gt;\nany html\n&lt;/div&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;  blue    &lt;span class=\"variable\"&gt;shirt&lt;/span&gt;&lt;/span&gt;\nany html\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>For \"click3\" element, I want #content to be</p>\n\n<pre><code>&lt;div id=\"content\"&gt;\n&lt;div class=\"container\"&gt;\nany html\n&lt;span data-search=\"type1\"&gt;blue&lt;span class=\"variable\"&gt;berry&lt;/span&gt;&lt;/span&gt;\n&lt;!-- no space after \"blue\", so \"berry\" is a part of the word --&gt;\nany html\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I don't know if it's tricky, but I have no such scripting skills and it's just very interesting to me, so please help me or tell me why the idea is bad. </p>\n\n<p><strong>EDIT: THE PREVIOUS VERSION OF MY QUESTION WAS INCORRECT, SO I REVISED IT.</strong><br>\nIf I'm supposed to show what have I tried I can show where I am now. This script doesn't work. \n(I'm simplifying the regex and just deleting the whole <code>.variable</code> element)</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function () {\n        $('.click').click(function () {\n            $(\"#content\").empty();\n            var search = $(this).html().replace(/&lt;span class=\\\"variable\\\"&gt;(.*?)&lt;\\/span&gt;/i, \"\");\n            var type = $(this).parents('[data-search]').first().attr('data-search');\n            var page = $(this).attr('data-source');\n            $.get(page, {}, function (data) {\n                var $response = $('&lt;div /&gt;').html(data);\n                var $content = $response.find('.container').filter(function (index) {\n                    return $(this).contents().filter(function (index) {\n                        return $(this).attr('data-search') == type &amp;&amp; $(this).html().replace(/&lt;span class=\\\"variable\\\"&gt;(.*?)&lt;\\/span&gt;/i, \"\") == search;\n                    }).length &gt; 0;\n                });\n                $('#content').append($content);\n            }, 'html');\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>But even if click <code>&lt;span class=\"click\" data-source=\"page1.html\"&gt;blue&lt;/span&gt;</code> and expect <code>&lt;div class=\"container\"&gt;any html&lt;span data-search=\"type1\"&gt;blue&lt;/span&gt;any html&lt;/div&gt;</code> to appear, nothing happens.\nThe problem is that I have no idea how to return all the containers with at least one element that matches this filter: <code>$(this).attr('data-search') == type &amp;&amp; $(this).html().replace(/&lt;span class=\\\"variable\\\"&gt;(.*?)&lt;\\/span&gt;/i, \"\") == search</code>.</p>\n\n<p>And I should clarify the logic for a regular expression.<br>\n1. The whole <code>.variable</code> element is replaced with one special symbol (say, asterisk);<br>\n2. whitespaces, tabs and linebreaks between the non-space characters are replaced with one space char;<br>\n3. whitespaces, tabs and linebreaks in the beginning and in the end of the <code>.click</code>/<code>[data-search]</code> element are removed.  </p>\n\n<p>For example, <code>.click</code>/<code>[data-search]</code> element of this structure:</p>\n\n<pre><code>&lt;span&gt;   match&lt;span class=\"variable\"&gt;variable1&lt;/span&gt;    &lt;span class=\"variable\"&gt;variable2&lt;/span&gt; match&lt;/span&gt;\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>&lt;span&gt;match* * match&lt;/span&gt;\n</code></pre>\n"},{"tags":["jquery","asp.net","ajax","simplemodal","customvalidator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":202,"score":0,"question_id":8024617,"title":"Simplemodal closing when I use CustomValidator server side validation in ASP.Net","body":"<p>I'am building an asp.net application that have a gridview inside an update pannel.</p>\n\n<p>In this grid, I added a command field that raise a server event to fill fields on my modal popup hiden div section, show the modal for the the user and wait.</p>\n\n<p>The user is editing the fields and click save.</p>\n\n<p>Linked to these fields I have several Validation control.  some are standard, same are custom.</p>\n\n<p>When my customValidator are using client side script, everything is goiing fine; if one field is invalide, the summary section is displayed and the modal for still visible.</p>\n\n<p>But ... (cause without a but I won't have to writte this question)</p>\n\n<p>When my CustomValidator is a server side validation, even if it fail, the modal form is closed and my save button even is raised.</p>\n\n<p>I use a CustomValidator because that validation need a real time database verification.</p>\n\n<p>my issue is : how may I make this server side validation keeping the modal popup open if it return false (e.isvalid = false) ?</p>\n\n<p>If this is not possible .. i tried to call the :  ScriptManager.RegisterStartupScript((Control)sender, sender.GetType(), Guid.NewGuid().ToString(), \"$('#basic-modal-content-province').modal({appendTo:'form', persist:true});\", true);</p>\n\n<p>but it did not work -> it say that $ is not defined</p>\n\n<p>I use <a href=\"http://www.ericmmartin.com/projects/simplemodal/\" rel=\"nofollow\">http://www.ericmmartin.com/projects/simplemodal/</a> </p>\n\n<p>I am totally new to JQuery and AJAX, thanks for your help</p>\n\n<p>Steph</p>\n"},{"tags":["ruby-on-rails","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13115477,"title":"Rails remotipart gem, how to bind to ajax \"progress\" event","body":"<p>I'm trying to implement a progress bar based on ajax events, which I have read about in a number of sources. My particular problem is that I don't know how to bind my custom event handlers into 'remotipart' gem's ajax events.</p>\n\n<p>here is a description of the kind of even hooking I want to do:</p>\n\n<p><a href=\"http://warp.byu.edu/site/content/1172\" rel=\"nofollow\">http://warp.byu.edu/site/content/1172</a></p>\n\n<p>or</p>\n\n<p><a href=\"http://www.centurion-project.org/articles/html5-multiple-file-upload-with-progress-bar\" rel=\"nofollow\">http://www.centurion-project.org/articles/html5-multiple-file-upload-with-progress-bar</a></p>\n\n<p>the remotipart gem i mentioned:</p>\n\n<p><a href=\"https://github.com/JangoSteve/remotipart\" rel=\"nofollow\">https://github.com/JangoSteve/remotipart</a></p>\n\n<p>I'm using rails 3, and jquery, with a <code>:remote =&gt; true</code> form.</p>\n"},{"tags":["ajax","checkout","zen-cart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13106502,"title":"Easy and fast ajax checkout for ZenCart 1.5","body":"<p>I have just used Fast and Easy Checkout for Zen Cart at <a href=\"http://www.zen-cart.com/downloads.php?do=file&amp;id=594\" rel=\"nofollow\">http://www.zen-cart.com/downloads.php?do=file&amp;id=594</a>. It says that it is compatible with zencart 1.5 but it is not. Also it is not structure similar to zencart 1.5 structure. I normally use Winmerge to modify files while installing zencart modules but for this i am not able to use it because there are complete files are different.</p>\n\n<p>Anyway i have modified files very carefully but i am getting now error in the checkout page which normally not comes in zencart 1.5. In Zencart 1.5 when i click on \"Checkout\" at that time redirects to \"mainpage='checkout_shipping'\" but now it redirects to \"main_page='checkout'\" and also it shows blank page after header and i have check log error in cache folder and it says \n\"[27-Oct-2012 09:01:13] PHP Warning: require(includes/templates/template_default/templates/tpl_checkout_default.php) [function.require]: failed to open stream: No such file or directory in K:\\kishan\\XAMPP-New\\xampp\\htdocs\\test\\talisman\\includes\\templates\\jewellery\\common\\tpl_main_page.php on line 87</p>\n\n<p>[27-Oct-2012 09:01:13] PHP Fatal error: require() [function.require]: Failed opening required 'includes/templates/template_default/templates/tpl_checkout_default.php' (include_path='.;K:\\kishan\\XAMPP-New\\xampp\\php\\PEAR') in K:\\kishan\\XAMPP-New\\xampp\\htdocs\\test\\talisman\\includes\\templates\\jewellery\\common\\tpl_main_page.php on line 87\".</p>\n\n<p>Please let me know if somebody have used this plugin and know how to figure it out or give me any other free or premium plugin to make one page checkout by using ajax.</p>\n\n<p>Best Regards\nKishan</p>\n"},{"tags":["jquery","ajax","serialization"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13096876,"title":"jquery function with Ajax failing in Chrome and Opera","body":"<p>I'm having difficulty with this one function.  It works fine in IE and in Firefox, but it fails in Opera and Chrome.</p>\n\n<p>basically I want to validate a form and then serialize the post variables.  I then send it to a php page that inserts a record in a database.</p>\n\n<p>From there, I change the html in the original div with html code that is sent back from the php page.</p>\n\n<p>Why would this be working in some browsers and not others?  Here is my code:</p>\n\n<pre><code>$(\"#newteamsubmit\").live('click', function() {\n\n    valid = $(\"#tcreate\").valid();\n                if(valid){\n\n    var teamform = document.forms[\"createteam\"];\n\nvar dataString = $(teamform).serialize();\n\n   $('#entryprocess').html('&lt;p align=\"center\"&gt;&lt;img src=\"loader.gif\" /&gt;&lt;/p&gt;').show();            \n\n    $.ajax({\n    type:'POST',\n    url:'joinprocess/entryform.php',\n    data: dataString,\n    success: function(data){            \n        $('#entryprocess').html($('#joinform' , data).html()).fadeIn;       \n\n\n    }\n    })\n                }\n\n    $('#enterhlm').validate();\n    }); \n</code></pre>\n\n<p>Any thoughts are greatly appreciated</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":27261,"score":9,"question_id":263962,"title":"Best way to pass parameters to jQuery's .load()","body":"<p>Is there a difference in passing parameters to <code>.load</code></p>\n\n<pre><code>$(\"#myDiv\").load(\"myScript.php?var=x&amp;var2=y&amp;var3=z\")\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>$(\"#myDiv\").load(\"myScript.php\", {var:x, var2:y, var3:z})\n</code></pre>\n\n<p>Also, is there a size limit to how much <code>.load</code> can handle? Can\n<code>myScript.php</code> return a couple hundred rows of data without issue?</p>\n"},{"tags":["ruby-on-rails","ruby","ajax","ruby-on-rails-3"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13115049,"title":"Rails: ajax submit form to an action with nested resources","body":"<p>This is a part of the <strong>show</strong> view of the <strong>exercise</strong> model:</p>\n\n<pre><code>&lt;div id=\"smoke_screen\" style=\"min-height:100px\"&gt;\n\n    &lt;% question =  @exercise.random_question %&gt;\n    &lt;b class=\"question\"&gt;&lt;%= question.name %&gt;&lt;/b&gt;\n\n    &lt;ul&gt;\n        &lt;% question.answers.each do |answer| %&gt;\n            &lt;li&gt;&lt;%= answer.content %&gt;&lt;/li&gt;\n\n        &lt;% end %&gt;\n    &lt;/ul&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>And it looks like this in the browser:</p>\n\n<p><img src=\"http://i.stack.imgur.com/QfzAh.png\" alt=\"enter image description here\"></p>\n\n<p>@answer and @question are nested models of exercise (exercise has_many questions, question has_many answers) and this is all viewed from the show view of the exercise model.</p>\n\n<p>I'm trying to add a radio button to each answer and make an ajax call to an action i'll create named \"save_answer\". This action will receive both the question and answer objects, save the answer and return another question that will replace the #smoke_screen using ajax.</p>\n\n<p>I'm new to rails, tried plenty of things with <code>form_to</code> with the attribute <code>:remote =&gt; true</code> without success. I will appreciate any direction on how to approach this</p>\n"},{"tags":["jquery","ajax","google-visualization","google-charts-api"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":495,"score":2,"question_id":6720595,"title":"Loading Google Visualisation page into div with jQuery .load()","body":"<p>I have a page which displays a Google Visualisation graph:</p>\n\n<p><strong>page1.html</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  google.load(\"visualization\", \"1\", {packages:[\"corechart\"]});\n  google.setOnLoadCallback(drawChart);\n  function drawChart() {\n    var data = new google.visualization.DataTable();\n    // Added data\n\n    var chart = new google.visualization.LineChart(document.getElementById('chart_div'));\n    chart.draw(data, {width: 900, height: 400});\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>I also have a second page:</p>\n\n<p><strong>page2.html</strong></p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>From <code>page2.html</code> I would like to use this:</p>\n\n<pre><code>$('#container').load(\"page1.html\");\n</code></pre>\n\n<p>But, this doesn't work. Which I expected. My question is: is this possible to achieve? Can you load into a <code>div</code>, using ajax, a page containing a graph generated by Google Charts?</p>\n\n<p>Cheers!</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":8427221,"title":"ajaxStop not on a DOM element","body":"<p>I have a program that, given an array of youtube video ids, calls the Youtube API and returns data about said videos.  I do this by calling: </p>\n\n<pre><code>$.getScript(\"http://gdata.youtube.com/feeds/api/videos/\"+encodeURIComponent(id)+\"?v=2&amp;alt=json-in-script&amp;callback=youtubeFeedCallback\");\n</code></pre>\n\n<p>This is done for each video id in the array.  Is there a way to use ajaxStop to then do something (in my case modifying the DOM) once all of these requests finish?  I am not doing this on any sort of .click or .mouseover or other such event, these requests are simply sent out when the page is loaded.  I tried to do:</p>\n\n<pre><code>$.ajaxStop(function () { (do something here) });\n</code></pre>\n\n<p>But I got the following error:  Uncaught TypeError: Object function (a,b){return new e.fn.init(a,b,h)} has no method 'ajaxStop'.  Also will this work if some of the requests return 403 Forbiddens?</p>\n\n<p>Edit: SOLVED</p>\n\n<p>Fixed it, although my solution is a bit hacky.  Instead of using $.getScript I instead just used the $.ajax function.  I then had a global counter variable, and using the \"error\" method of $.ajax, incremented the count on error or on success.  Then I just called what I wanted to when the count variable was equal to the length of my array.  Id still love to hear if there is a better way to do this.</p>\n"},{"tags":["javascript","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13093932,"title":"javascript parsing json","body":"<p>I have a problem with javascript, im calling an ajax method that returns this string: </p>\n\n<pre><code>{\n  \"ObjectResponse\": {\n    \"Operation\": \"OK\",\n    \"Response\": \"SUCCESS\",\n    \"Message\": \"List of AAA Found\",\n    \"List\": [\n      {\n        \"keySource\": \"gat\\/images\\/images_set\\/apple.jpg\",\n        \"idSiteKey\": \"1\",\n        \"text\": \"Apple\"\n      },\n      {\n        \"keySource\": \"gat\\/images\\/images_set\\/cat.jpg\",\n        \"idSiteKey\": \"2\",\n        \"text\": \"Cat\"\n      },\n      {\n        \"keySource\": \"gat\\/images\\/images_set\\/coffee.jpg\",\n        \"idSiteKey\": \"3\",\n        \"text\": \"Coffee\"\n      },\n      {\n        \"keySource\": \"gat\\/images\\/images_set\\/dog.jpg\",\n        \"idSiteKey\": \"4\",\n        \"text\": \"Dog\"\n      },\n      {\n        \"keySource\": \"gat\\/images\\/images_set\\/horse.jpg\",\n        \"idSiteKey\": \"5\",\n        \"text\": \"Horse\"\n      },\n      {\n        \"keySource\": \"gat\\/images\\/images_set\\/police.jpg\",\n        \"idSiteKey\": \"6\",\n        \"text\": \"Police\"\n      },\n      {\n        \"keySource\": \"gat\\/images\\/images_set\\/tree.jpg\",\n        \"idSiteKey\": \"7\",\n        \"text\": \"Tree\"\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>I assing the content in this way: </p>\n\n<pre><code>xhr.onreadystatechange = ensureReadiness; \n....\nresponseText = xhr.responseText;\n</code></pre>\n\n<p>If i try to parse it on javascript with:  </p>\n\n<pre><code>response = JSON.parse(responseText);\n</code></pre>\n\n<p>if I acces a property such <code>response.ObjectResponse.Operation</code> I do get the right content.. but when I try to access the List it allways brakes </p>\n\n<p>and if I try the same String but instead of calling the service I assign the content to a var it works I do can access the List </p>\n\n<pre><code>var myTemporalString ='{\"ObjectResponse\":{\"Operation\":\"OK\",\"Response\":\"SUCCESS\",\"Message\":\"List of Keys Found\",\"List\":...';\nresponse.JSON.parse(myTemporalString);\n</code></pre>\n\n<p>Any suggestion why this could be happening? </p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":322,"score":0,"question_id":4824608,"title":"How to prevent loading cursor during jQuery AJAX Get Requests?","body":"<p>I'm firing off two AJAX requests through jQuery on page load.  They are GET requests.</p>\n\n<p>In Chrome, I am finding that the page still indicates it is loading through cursor and status text in bottom left of the window until the AJAX requests have completed.</p>\n\n<p>Ideally, I would like the status text and cursor to not be effected by the AJAX requests at all.</p>\n\n<p>Does anyone know if there is a way to prevent this?</p>\n\n<pre><code>$.ajax({\n        url:'/createsite/CheckDnsKey?site_id='+site_id+'&amp;r='+Math.random(100000000),\n        success:function(data){updateDomainDisplay(KEY_INFO_COMPLETE,data)},\n        error:showDomainError\n});             \n$.ajax({\n        url:'/createsite/CheckDnsKeyStatus?site_id='+site_id+'&amp;r='+Math.random(100000000),\n        success:function(data){updateDomainDisplay(STATUS_COMPLETE,data)},\n        error:showDomainError\n});\n</code></pre>\n"},{"tags":["jquery","mysql","ajax","cakephp"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2491,"score":1,"question_id":6418973,"title":"How to use ajax to update mysql db when checkbox condition is changed?","body":"<p>I have a table of articles that displays in rows on client side. Each articles has a unique id and contains a checkbox to indicate if this article is checked as a favorite. If it is a favorite, then the checkbox is already checked. If not, it is unchecked. Now I need either js or jquery and ajax to update the table in the DB if and when the checkbox condition changes specific to each row. Another challenge is that I am working in cakePHP MVC environment.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"jquery-1.2.1.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n    function checkbox_click (id, favorite)\n    {\n        // see if checkbox is checked\n        if(favorite==1)\n        {\n            $.ajax({\n                type:'POST',\n                url:'check_favorite.php', // this external php file isn't connecting to mysql db\n                data:'id= ' + id + '&amp;amp;favorite=1',\n            });\n        }// if\n        // the checkbox was unchecked\n        else\n        {\n            $.ajax({\n                type:'POST',\n                url:'check_favorite.php', // this external php file isn't connecting to mysql db\n                data:'id= ' + id + '&amp;amp;favorite=0',\n            });\n        }//else\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>--html-- this is within a foreach loop.</p>\n\n<pre><code>echo \"&lt;input type='checkbox' id='$rowid;' name='favorite' checked='checked' onclick='checkbox_click('id','favorite',this();' /&gt;\";\n\n\nelse\necho \"&lt;input type='checkbox' id='$rowid;' name='favorite'  onclick='checkbox_click('id','favorite',this.checked);' /&gt;\";\n</code></pre>\n\n<p>--php file called by ajax--</p>\n\n<pre><code>&lt;?php\n//Database Variables - with the variables entered it doesn't connect\n$dbhost = 'localhost';   // usually localhost\n$dbuser = 'username';      // database username\n$dbpass = 'password';      // database password\n\n//Establish connection to MySQL database\n\n$con = @mysql_connect($dbhost, $dbuser, $dbpass);\nif (!$con)\ndie('Unable to connect.' . mysql_error());\n\nmysql_select_db('devcake', $con);\n\n// Get the variables.\n$query = \"UPDATE mytable SET favorite=\".$_POST['favorite'] . \"\nWHERE id=\".$_POST['id'] . \";\";\n\nmysql_query($query);\nmysql_close($con);\n?&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","return","alert","responsetext"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1259,"score":3,"question_id":3732258,"title":"Why can I not return responseText from an Ajax function?","body":"<p>Here is part of my Ajax function. For some reason that I cannot figure out, I am able to <em>alert()</em> responseText but not able to <em>return</em> responseText. Can anybody help? I need that value to be used in another function. </p>\n\n<pre><code>http.onreadystatechange = function(){\n    if( http.readyState == 4 &amp;&amp; http.status == 200 ){\n        return http.responseText;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","ajax","json","jquery-ajax","drupal-6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":9805316,"title":"Accessing drupal database using JSON web service","body":"<p>hi i m new to drupal(6) and please tell me,\n<strong>how to use node create from Services to access drupal database</strong> from my mobile app built using JS,AJAX,JQUERY MOBILE..</p>\n\n<p>i want to insert some data  like name,address,price into drupal table from my mobile app using node create service.</p>\n\n<p>Thanks..</p>\n"},{"tags":["php","jquery","ajax","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13114542,"title":"Can't seem to prevent the page refreshing after submitting this form","body":"<p>Well I have spent a while scouring the internet for what I'd seem to be a simple solution.\nI'll show you the code and the ajax template I have been looking at.</p>\n\n<pre><code>&lt;form style=\"padding:10px 2px;\" name=\"test\" class=\"searchform\" action=\"#\" method=\"GET\"&gt;\n&lt;input style=\"margin-top:22.5px;\" name=\"input_value\" type=\"text\" class=\"searchbx\" size=\"\" placeholder=\"Search songs...\" /&gt;\n&lt;select name=\"cbb\"&gt;\n&lt;?php\necho \"&lt;option value='artist'&gt;$Artist&lt;/option&gt;\";\necho \"&lt;option value='name'&gt;$Title&lt;/option&gt;\";\n?&gt;\n&lt;/select&gt;\n&lt;input id=\"sa\" style=\"position:absolute;margin-top:35px;width:90px;\" name=\"submit\" type=\"submit\" class=\"searchbutton\" value=\"OK\" /&gt;\n&lt;/form&gt;\n&lt;div id=\"sidebar-query-results\"&gt;\n         &lt;ul id=\"current-list\" style=\"list-style: none; padding: 0;\"&gt;\n&lt;?php\nif (isset($_GET['submit']))\n{\n// Execute this code if the submit button is pressed.\nif (empty($_GET['input_value'])) {\ndie();\n}\ninclude \"db_config.php\";\n\n$input_value = $_GET['input_value'];\n$combo_box_value = $_GET['cbb'];\necho $formvalue;\necho $cbbvalue;\n$query =  \"SELECT * FROM `links` WHERE `$combo_box_value` LIKE '%$input_value%' LIMIT 0, 20\" ;   \n$result = mysql_query($query);\nif($result) {\nwhile($row = mysql_fetch_assoc($result)){\n$cover = $row['cover'];\n$title = $row['title'];\n$name = $row['name'];\n$artist= $row['artist'];\n$url = $row['url'];\n</code></pre>\n\n<p>The rest of the script is simply printing the results etc.</p>\n\n<p>The script itself Works like a charm although I understand it's very \"scruffy\" but, functionality is all that I am really concerned about at the moment.</p>\n\n<p>Anyway here is the ajax template:</p>\n\n<pre><code> &lt;script&gt;\n $('form[name=\"test\"]').submit(function(e) {\n e.preventDefault();\n\n $.ajax({\n url : #.action,\n type : this.method,\n data : $(this).serialize(),\n success : function(response) {\n\n }\n });\n });\n &lt;/script&gt;\n</code></pre>\n\n<p>Either way it's just the ajax script that I can't get to work the php script I really don't want to have to alter, I have looked dozens of tutorials but, I am having a lot of trouble implementing them into my situation.</p>\n"},{"tags":["jquery",".net","ajax","asp.net-mvc"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13114457,"title":"Specific $.ajax url relative paths work in FF & IE but not in Chrome","body":"<p>This is strange.  I have a jQuery $.ajax call below.  In Firefox it'll only work if I take out MyAppName.  In Chrome it will only work if I include MyAppName in the url.  Not sure why</p>\n\n<p>I'm browsing to <code>http://localhost/MyAppName</code> when I test this.</p>\n\n<p><strong>This works in FireFox and in IE 9</strong></p>\n\n<pre><code>$.ajax({\n    url: '/MyAppName/Search/Member/260491',\n</code></pre>\n\n<p>This does not work in FireFox or IE:</p>\n\n<pre><code>  $.ajax({\n    url: 'Search/Member/260491',\n</code></pre>\n\n<p><strong>This works in Chrome</strong></p>\n\n<pre><code>$.ajax({\n    url: 'Search/Member/260491',\n</code></pre>\n\n<p>This does not work in Chrome:</p>\n\n<pre><code>  $.ajax({\n    url: '/MyAppName/Search/Member/260491',\n</code></pre>\n"},{"tags":["ajax","ruby-on-rails-3","forms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13113328,"title":"Disable-with in Rails 3.2 shows for a second then switches button back","body":"<p>I've used the data: {\"disable-with\" => \"Loading...\"} directive on a remote => true form button, but, while it used to work before a rails upgrade (i think rails 3.1) It now doesn't work as expected anymore.</p>\n\n<p>What happens is that after clicking the button, the copy switched briefly (almost too fast to notice) to the expected \"Loading...\" copy, but then switches back to the original state; while the form has clearly not finished processing the data.</p>\n\n<p>How can I fix this?</p>\n\n<h1>Update</h1>\n\n<p>I realize now the problem is due to using a rails gem \"remotipart\", which also handles ajax form submissions.</p>\n\n<p>Is there a possible work-around so both can work together as they used to?</p>\n"},{"tags":["ajax","facebook","overlay"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13097215,"title":"how to have a view 1 item as overlay in index items webpage?","body":"<p>I require two scenarios to work:</p>\n\n<p>Scenario 1:\nWhen my users click on <a href=\"http://example.com/items/3\" rel=\"nofollow\">http://example.com/items/3</a> or type the url into the url bar</p>\n\n<p>they will be directed to a webpage that has the item:id 3 shown in an overlay.</p>\n\n<p>When they click on the x in the overlay, they will either be shown /items index page (if they are logged in) OR the signup page (if they are not). </p>\n\n<p>When the item:id 3 is shown in overlay, the url in the bar will be /items/3\nWhen the /items is shown, the url will be /items</p>\n\n<p>Scenario 2:\nMy logged in user is now at /items index page.</p>\n\n<p>She clicks on a /items/3 link. Instead of redirecting, the item:id 3 is shown in an overlay.</p>\n\n<p>WHen she clicks on the x in the overlay, she is back at /items index page.</p>\n\n<p>When the item:id 3 is shown in overlay, the url in the bar will be /items/3\nWhen the /items is shown, the url will be /items</p>\n\n<p><strong>What I want to achieve:</strong></p>\n\n<p>Both scenarios have the same look and feel especially for logged in users. the only difference is the starting point of the flow.</p>\n\n<p>Scenario 1 starts from the /items/3. Scenario 2 starts from /items.</p>\n\n<p>Both scenarios require the url in the url bar to change depending on whether the overlay is turned on or off.</p>\n\n<p><strong>What I have already done:</strong></p>\n\n<p>I have made Scenario 2 to work using ajax to fetch the data to populate the overlay.</p>\n\n<p>However the url does not change regardless what is shown.</p>\n\n<p>Scenario 1 is totally not done at all. I do not even know how to begin.</p>\n\n<p><strong>An example I found that displays Scenario 1</strong></p>\n\n<p>In facebook feed, your url is typically www.facebook.com</p>\n\n<p>When you click on a photo, you will see an overlay with the photo and the url changes to something like\nphoto.php?fbid=10151124518657496&amp;set=a.10150255078032496.325973.527477495&amp;type=1&amp;theater</p>\n\n<p>When you close your overlay, you go back to your feed and the url changes back to www.facebook.com</p>\n\n<p><strong>My question</strong></p>\n\n<p>What is the basic architectural solution to achieve my objectives?</p>\n"},{"tags":["javascript","jquery","xml","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13112696,"title":"Normal AJAX to jquery conversion","body":"<pre><code>function func1(a,b) {\nvar xmlhttp;\nif (window.XMLHttpRequest) {\nxmlhttp=new XMLHttpRequest();\n}\n\nxmlhttp.onreadystatechange=function() {\nif (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n   document.getElementById(\"test\").innerHTML=xmlhttp.responseText;\n}\n}\nxmlhttp.open(\"GET\",\"includes/funkcije.php?min=\"+a+\"&amp;max=\"+b,true);\nxmlhttp.send();\n</code></pre>\n\n<p>I have tried to make something but it doesn't work. It just puts me at the top of the page</p>\n\n<pre><code>$('#page-01').ajax({\ntype: \"GET\",\nurl: \"includes/funkcije.php\",\ndata: \"min=0&amp;max=10\",\nsuccess: function(data) {\n    $('#test').text(data);\n}\n})\n$('#page-02').ajax({\nurl: \"includes/funkcije.php\",\ndata: \"min=10&amp;max=20\",\nsuccess: function(data) {\n    $('#test').text(data);\n}\n})\n</code></pre>\n\n<p>these are the links that I press to execute func1</p>\n\n<pre><code>&lt;li&gt;&lt;a id=\"page-01\" href=\"javascript:func1(0,10)\"&gt;1&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a id=\"page-02\" href=\"javascript:func1(10,20)\"&gt;2&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>This is made to list pages of posts on my site <a href=\"http://tristann.tk\" rel=\"nofollow\" title=\"tristann.tk\">Tristann.tk</a>.\nCan someone please help me with this or tell me a better way to make those pages?</p>\n\n<p>I fixed it with this code:</p>\n\n<pre><code>$(document).ready(function(){\n$('#page-01').on('click', function () {\n    $.ajax({\n        type: \"GET\",\n        url: \"includes/funkcije.php\",\n        data: \"min=0&amp;max=10\",\n        success: function(data) {\n            $('#test').html(data);\n        }\n    });\n});\n\n$('#page-02').on('click', function () {\n    $.ajax({\n        type: \"GET\",\n        url: \"includes/funkcije.php\",\n        data: \"min=10&amp;max=20\",\n        success: function(data) {\n            $('#test').html(data);\n        }\n    });\n});\n});\n</code></pre>\n\n<p>and the links are like this:</p>\n\n<pre><code>&lt;a id=\"page-01\" href=\"javascript:void(0)\"&gt;1&lt;/a&gt;\n&lt;a id=\"page-02\" href=\"javascript:void(0)\"&gt;2&lt;/a&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","json","heroku","playframework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13113873,"title":"Have a Web Application Design in mind but I don't know where to start","body":"<p>I am very new to webApp design and have entered this competition in school which requires me to submit a fully functional application in next 2 days. So here is my design that I am planning on implementing.  Assume there is  </p>\n\n<pre><code>A &lt;-----&gt; Application &lt;-----&gt; B\n</code></pre>\n\n<p>A can converse with B only through the application. A has its own database in which it stores some details and B has its own database in which it stores its personal info. However some of the fields of data in A and B might be same. So I would require to deploy this application to do the talking between A and B. I would require that the Application help perform update operation on A's database by querying B and matching corresponding fields. In general fetch data from B for A and help update A's database. </p>\n\n<p>Constraints: This application  needs to be developed using Java Play platform and has to  be deployed on heroku. Could you please help me to start off? I have seen and deployed the sample app from Java Play website. I am new to Json/javascript and Ajax (kind if what I should be using). So can someone point me to a sample code which does it or some tutorial which is learner friendly? May be some help on where to start etc? Any help would be very very much appreciated.  And btw it is not a homework and we are allowed to use ANY resource we want to. </p>\n"},{"tags":["ajax","json","asp.net-mvc-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13112930,"title":"Return a JSON result after deleting an item","body":"<p>I'm developing a web application with MVC 3 and want to return a message to the user after he has deleted an item successfully.</p>\n\n<p>MyWallController method looks like this:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult DeleteAlbum(Guid albumId)\n{\n    try\n    {\n        this.albumService.DeleteAlbum(albumId);\n        return Json(new { success = true, msg = \"Album successfully deleted\" }, JsonRequestBehavior.AllowGet);\n    }\n    catch (FPSException e)\n    {\n        return Json(new { success = false, msg = e.Message });\n    }\n    catch (Exception)\n    {\n        throw new HttpException(500, \"Error while deleting album\");\n    }\n}\n</code></pre>\n\n<p>The link:</p>\n\n<pre><code>&lt;a class=\"open-DeleteAlbumDialog\" href=\"http://localhost:2941/MyWall/DeleteAlbum?albumId=0f49b1ad-8ec1-4fca-b8e2-28bdbf47824e\"&gt;Delete&lt;/a&gt;\n</code></pre>\n\n<p>The JavaScript:</p>\n\n<pre><code>$(function () {\n    $(document).on('click', '.open-DeleteAlbumDialog', function () {\n    var answer = confirm('Are you sure you want to delete this album?')\n    if (answer) {\n        $.post(this.href, function (data) {\n            if (data.success) {\n                // do something\n            } else {\n                // do something else\n            }\n        });\n    }\n    else return false;\n});\n</code></pre>\n\n<p>However the function defined inside post is never called and what I get is a \"the resource cannot be found\". But the item has been deleted successfully.</p>\n\n<p>All kinds of help is appreciated.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13110331,"title":"onclick on image is not working","body":"<p>I am trying to display some info when a user clicks on an image. Here is the image tag</p>\n\n<pre><code>&lt;img src=\"&lt;? echo $list[image]; ?&gt;\" onclick=\"showUser(&lt;?php echo $list['id']; ?&gt;)\"&gt;\n</code></pre>\n\n<p>I am directly using the example from w3schools. Here is the <a href=\"http://www.w3schools.com/php/php_ajax_database.asp\" rel=\"nofollow\">link</a></p>\n\n<p>Is there something i am doing wrong? When I click the image nothing happens.</p>\n"},{"tags":["php","javascript","jquery","ajax","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":100,"score":-2,"question_id":13112424,"title":"Autocomplete using php, jquery, mysql","body":"<p>I am using this source code : <a href=\"http://www.htmlblog.us/jquery-autocomplete\" rel=\"nofollow\">http://www.htmlblog.us/jquery-autocomplete</a> in my project but I am not able to fetch the result when I type in the autocomplete textbox.</p>\n\n<p>Where am I going wrong ?</p>\n\n<p>I use the following code</p>\n\n<p><strong>Javascript :</strong> (I use a separate file for this javascript and checked if this calls using alert and I am able to generate alert messages at runtime.)</p>\n\n<pre><code>jQuery(document).ready\n (\n    function()\n        {\n                $('#CourseId').autocomplete( { url:'AutoComplete_Courses.php', minLength:2 } );                \n        }\n );\n</code></pre>\n\n<p><strong>Php:</strong> </p>\n\n<pre><code>&lt;?php\n\necho('Your password must be at least 8 characters long');\nif ( !isset($_REQUEST['term']) )\n    exit;\n\n$dblink = mysql_connect('localhost', 'root', '') or die( mysql_error() );\nmysql_select_db('mydatabase');\n\n$rs = mysql_query('select courseid, coursename, creditpoints from coursedetails where coursename like \"'. mysql_real_escape_string($_REQUEST['term']) .'%\" order by coursename asc limit 0,10', $dblink);\n\n$data = array();\nif ( $rs &amp;&amp; mysql_num_rows($rs) )\n{\n    while( $row = mysql_fetch_array($rs, MYSQL_ASSOC) )\n    {\n        $data[] = array(\n            'label' =&gt; $row['courseid'] .', '. $row['coursename'] .' '. $row['creditpoints'] ,\n            'value' =&gt; $row['courseid']\n        );\n    }\n}\n\necho json_encode($data);\nflush();\n</code></pre>\n"}]}
{"total":48692,"page":12,"pagesize":100,"questions":[{"tags":["php","ajax","apache","internet-explorer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13111381,"title":"'ModSecurity: Error reading request body' when an AJAX request is sent from IE","body":"<p>I'm sending an ajax request using jquery as follows:</p>\n\n<pre><code>        $.ajax({\n            url: \"lastMessageIndex.php\",\n            type: \"POST\",\n            data: {room: $(\"#room\").val()}\n        }).done(function(data){\n            lastMessageIndex = data;\n        });\n</code></pre>\n\n<p>I've tested this in my development environment and it works, I'm getting the expected response from the server, and the script goes on and the webapp works in general. But when I've uploaded it to my remote server, it doesn't, and in the apache2 error.log file I'm seeing the error:</p>\n\n<p><code>[Sun Oct 28 10:42:46 2012] [error] [client 44.46.23.50] ModSecurity: Error reading request body: Connection reset by peer [hostname \"www.mysite.com\"] [uri \"/ie/IEGetMessages.php\"] [unique_id \"UI1ujNBx6w4AACW5MkkAAAAF\"]</code></p>\n\n<p>This might not be the actual cause of the problem. I wouldn't mind having errors on the log if I'll be getting the response from the ajax I suppose to. It should be a number e.g. '4' and what I'm getting is a long string: \"warning: mysql_fetch_array(): supplied argument is not a valid MySQL result resource in /home/tom/mysite.com/lastMessageIndex.php on line 11\"</p>\n\n<hr>\n\n<p>OK, while I was editing this I solved my problem. it's stupid actually, in my dev env, the mySQL database name has a capital letter, on the prod. env it's all lower case.</p>\n\n<p>sorry for the unnecessary mess.</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13112159,"title":"ajax to php undefined index","body":"<p>Ive seen questions like this but none of the answers seem to work for me. Im trying to send POST data to a separate php file that would insert it into a database. I get a PHP notice: undefined index arg1 and arg2.....Here is the ajax:</p>\n\n<pre><code>function performAjaxSubmission() {\n        $.ajax({\n          url: 'likedata.php',\n          method: 'POST',\n          data: {\n            'action': 'save',\n            'arg1': '&lt;?php echo $_SESSION['userId'];?&gt;', \n            'arg2': '&lt;?php echo $p;?&gt;'\n\n          },\n          success: function() {\n            alert(\"success!\");\n          }\n        });\n        return false; // &lt;--- important, prevents the link's href (hash in this example) from executing.\n      }\n\n      jQuery(document).ready(function() {\n        $(\".icon-thumbs-up\").click(performAjaxSubmission);\n      });\n</code></pre>\n\n<p>and here is the likedata.php</p>\n\n<pre><code>if(isset($_POST)){\n$liker = $_POST['arg1'];\n$likee = $_POST['arg2'];\n\n$profile-&gt;insertLikes($liker, $likee);\n\n\n}\n</code></pre>\n\n<p>thanks!</p>\n"},{"tags":["php","mysql","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13112376,"title":"How to make cascading drop-down lists using mysql and php","body":"<p>I have to make a form with multiple drop-down menus that modify one another. The menus/database tables are:</p>\n\n<p>Categories, Styles, Types, and Mechanisms</p>\n\n<p>I have attempted to do this with my limited knowledge of Ajax, but can only seem to access MySQL once (on the initial page) to populate the Categories table without being able to then update the Styles table by querying for the next set of results. I receive an error that claims the database is empty. </p>\n\n<p>I also tried having the drop-down populated through an option group to handle both the Categories and Styles with a looped query, but only the Category headings show up with all of the Style sub-values showing up blank. My code is as follows:</p>\n\n<pre><code>                $query1=\"SELECT categories.category_id, categories.Category_Name \";\n                $query1.=\"FROM categories \";\n                $query1.=\"ORDER BY categories.Category_Name ASC\";\n                $category_result=mysql_query($query1, $connection);\n\n                if(!$category_result){\n                    die(\"Database query failed: \" . mysql_error());\n                }\n\n                $options=\"\";\n\n                $con=0;\n\n                while ($category_row=mysql_fetch_array($category_result)) {\n                    $category_name=$category_row[\"Category_Name\"];\n                    $CategoryID=$category_row[\"category_id\"];\n\n                    $options.=\"&lt;OPTGROUP LABEL=\\\"$category_name\\\"&gt; &lt;br /&gt;\";\n\n                    $query2=\"SELECT categories.category_id, categories.Category_Name, \";\n                    $query2.=\"styles.style_id, styles.Style_Name \";\n                    $query2.=\"FROM categories, styles \";\n                    $query2.=\"WHERE styles.Category_ID = $CategoryID \";\n                    $style_result=mysql_query($query2, $connection);\n\n                    if(!$style_result){\n                        die(\"Database query failed: \" . mysql_error());\n                    }\n\n                    while ($style_row=mysql_fetch_array($style_result)) {\n                        $style_name=$row[\"Style_Name\"];\n                        $id=$row[\"style_id\"];\n\n                        $options.=\"&lt;OPTION VALUE=\\\"$id\\\" &lt;a href=\\\"#\\\" onClick=\\\"javascript:swapContent('$style_name');\\\" &gt;\".$style_name.'&lt;/OPTION&gt;';\n                    }\n                    $options.='&lt;/OPTGROUP&gt; &lt;br /&gt;';\n                }\n            ?&gt;\n\n            &lt;SELECT NAME=\"category_id\"&gt;\n                &lt;OPTION VALUE=0&gt;&lt;/OPTION&gt;\n                &lt;?php echo $options ?&gt;choose\n            &lt;/SELECT&gt;\n</code></pre>\n\n<p>Any insight into what I am doing wrong would be greatly appreciated!</p>\n"},{"tags":["javascript","ajax","image","refresh"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":673,"score":2,"question_id":5355583,"title":"Programmatically check and update only if an image has changed","body":"<p>I have an application which updates an image from time to time.  The update interval is not predictable.  The image itself is updated atomically on the web server via <code>rename()</code>.  That is all this application does and there shall be no change on the Apache side such that the webserver can continue to only serve static files.</p>\n\n<p>There is some <code>AJAX</code> script which displays the content and updates this image when it is changed.  This is done using polling.  The naive JavaScript version used a counter and <strike>updated</strike> pulled the image each second or so by adding a query timestamp.  However 99% of the time this pulls the image unchanged.</p>\n\n<p>The current not so naive version uses <code>XMLHttpRequest</code> aka. <code>AJAX</code> to check the If-Modified-Since-header, and if a change is detected the update is invoked.</p>\n\n<p><strong>The question now is, is there a better way to archive this effect?</strong>  Perhaps look at the last paragraph of this text before you dive into this ;)</p>\n\n<p>Here are the core code snippets of the current version.  Please note that the code is edited for brevity, so <code>var</code> initialization left away and some lines removed which are not of interest.</p>\n\n<p>First the usual, slightly extended AJAX binding:</p>\n\n<pre><code>// partly stolen at http://snippets.dzone.com/posts/show/2025\nfunction $(e){if(typeof e=='string')e=document.getElementById(e);return e};\najax={};\najax.collect=function(a,f){var n=[];for(var i=0;i&lt;a.length;i++){var v=f(a[i]);if(v!=null)n.push(v)}return n};\najax.x=function(){try{return new XMLHttpRequest()}catch(e){try{return new ActiveXObject('Msxml2.XMLHTTP')}catch(e){return new ActiveXObject('Microsoft.XMLHTTP')}}};\najax.send=function(u,f,m,a,h){var x=ajax.x();x.open(m,u,true);x.onreadystatechange=function(){if(x.readyState==4)f(x.responseText,x,x.status==0?200:x.status,x.getResponseHeader(\"Last-Modified\"))};if(m=='POST')x.setRequestHeader('Content-type','application/x-www-form-urlencoded');if(h)h(x);x.send(a)};\najax.get=function(url,func){ajax.send(url,func,'GET')};\najax.update=function(u,f,lm){ajax.send(u,f,'GET',null,lm?function(x){x.setRequestHeader(\"If-Modified-Since\",lm)}:lm)};\najax.head=function(u,f,lm){ajax.send(u,f,'HEAD',null,lm?function(x){x.setRequestHeader(\"If-Modified-Since\",lm)}:lm)};\n</code></pre>\n\n<p>The basic HTML part, it includes 2 images which are flipped after loading, and a third one (not referenced in the code snippets) to display archived versions etc., which prevents flipping the updates as well:</p>\n\n<pre><code>&lt;/head&gt;&lt;body onload=\"init()\"&gt;\n&lt;div id=\"shower\"&gt;&lt;img id=\"show0\"/&gt;&lt;img id=\"show1\"/&gt;&lt;img id=\"show2\"/&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The initial part includes the timer.  It is a bit more to it, to compensate for network delays on slow links, reduce the polling rate etc.:</p>\n\n<pre><code>function init()\n{\nwindow.setInterval(timer,500);\nfor (var a=2; --a&gt;=0; )\n  {\n    var o=$(\"show\"+a);\n    o.onload  = loadi;\n  }\ndisp(0);\n}\n\nfunction disp(n)\n{\nshown=n;\nwindow.setTimeout(disp2,10);\n}\n\nfunction disp2()\n{\nhide(\"show0\");\nhide(\"show1\");\nhide(\"show2\");\nshow(\"show\"+shown);\n}\n\nfunction hide(s)            \n{                           \n$(s).style.display=\"none\";  \n}                           \nfunction show(s)            \n{                           \n$(s).style.display=\"inline\";\n}                           \n\nfunction timer(e)\n{\nif (waiti &amp;&amp; !--waiti)\n  dorefresh();\nnextrefresh();\n}\n\nfunction nextrefresh()\n{\nif (sleeps&lt;0)\n  sleeps = sleeper;\nif (!--sleeps)\n  pendi = true;\nif (pendi &amp;&amp; !waiti)\n  dorefresh();\n}\n</code></pre>\n\n<p>From time to time dorefresh() is called to pull the HEAD, tracking If-Modified-Since:</p>\n\n<pre><code>function dorefresh()\n{\nwaiti = 100; // allow 50s for this request to take\najax.head(\"test.jpg\",checkrefresh,lm);\n}\n\nfunction checkrefresh(e,x,s,l)\n{\nif(!l)\n  {\n    // not modified\n    lmc++;\n    waiti = 0;\n  }\nelse\n  {\n    lmc=0;\n    lm=l;\n\n    $(\"show\"+loadn).src = \"test.jpg?\"+stamp();\n\n    waiti=100;\n  }\npendi=false;\nsleeper++;\nif (sleeper&gt;maxsleep)\n  sleeper = maxsleep;\nsleeps=0;\nnextrefresh();\n}\n\nfunction stamp()\n{\nreturn new Date().getTime();\n}\n</code></pre>\n\n<p>When the image is loaded it is flipped into view. <code>shown</code> usually is 0 or 1:</p>\n\n<pre><code>function loadi()\n{\nwaiti=0;\n$(\"show\"+loadn).style.opacity=1;\nif (shown&lt;2)\n  disp(loadn);\nloadn=1-loadn;\n}\n</code></pre>\n\n<p>Please note that I only tested this code with Webkit based browsers yet.\nSorry, I cannot provide a working example, as my update source is non-public.\nAlso please excuse that the code is somewhat quick-n-dirty quality.</p>\n\n<p>Strictly speaking HEAD alone is enough, we could look at the Last-Modified header of course.\nBut this recipe here also works for <code>GET</code> requests in a non-image situation.</p>\n\n<p><code>AJAX</code> <code>GET</code> in combination with images makes less  sense, as this pulls the image as binary data.\nI could convert that into some inline image, of course, but on bigger images (like mine) this will exceed the maximum URL length.</p>\n\n<p>One thing which possibly can be done is using the browser cache.\nThat is pull the image using an <code>ajax.update</code> and then re-display the image from the cache.</p>\n\n<p>However this depends on the cache strategy of a browser.  On mobile devices the image might be too big to be cached, in that case it is transferred twice.  This is wrong as usually mobile devices have slow and more important expensive data links.</p>\n\n<p>We could use this method if the webserver would write a text file, like JSON or a JS snippet, which then is used to display the image.\nHowever the nice thing about this code here is, that you do not need to provide additional information.\nSo no race conditions, no new weird states like in disk full cases, just works.</p>\n\n<p>So one basic idea is to not alter the code on the webserver which generates the picture, just do it on the browser side.\nThis way all you need is a softlink from the web tree to the image and make sure, the image is atomically updated.</p>\n\n<p>The downside of <code>AJAX</code> is the same origin policy, so <code>AJAX</code> can only check the <code>HEAD</code> of resources from the host which provided the running <code>JavaScript</code> code.\nGreasemonkey or Scriptlets can circumvent that, but these cannot be deployed to a broad audience.\nSo foreign resources (images) sadly cannot be efficiently queried if they were updated or not.\nAt my side luclily both, the script and the image, originate from the same host.</p>\n\n<p>Having said this all, <strong>here are the problems with this code</strong>:</p>\n\n<p>The code above adds to the delay.  First the HEAD is checked and if this shows that something has changed the update is done.\nIt would be nice to do both in one request, such that the update of the image does not require an additional roundtrip.</p>\n\n<p><code>GET</code> can archive that with If-Modified-Since, and it works on my side, however I found no way to properly display the result as an inlined image.  It might work for some browsers, but not for all.</p>\n\n<p>The code also is way too complex for my taste.  You have to deal with possible network timeouts, not overwhelming limited bandwidth, trying to be friendly to the webserver, being compatible to as many browsers as possible, and so on.</p>\n\n<p>Also I would like to get rid of the hack to use a query parameter just to pull an updated image, as this slowly fills/flushes the cache.</p>\n\n<p>Perhaps there is an - unknown to me - way to \"re-trigger\" image refresh in the browser?\nThis way the browser could check with If-Modified-Since directly and update the image.\nWith JavaScript this could trigger a <code>.load</code> event then or similar.\nAt my side I even do not need that at all, all I want is to keep the image somewhat current.</p>\n\n<p>I did not experiment with <code>CANVAS</code> yet.  Perhaps somebody has an idea using that.</p>\n\n<p>So my question just is, is there any better way (another algorithm) than shown above, except from improving code quality?</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13108093,"title":"ajax call to php script not working","body":"<p>I am trying to call a PHP script using AJAX. I have put a simple echo alert in my deleteitem.php script to check whether it is getting called, but whatever I do, it does not get called. The PHP script is in the same folder as the js script that is calling it</p>\n\n<p>Can someone tell me why that would be? What are the possible causes?</p>\n\n<pre><code>$.ajax({\n    url: 'deleteitem.php?task=deleteArtwork&amp;id='+artworkObjectID,\n        type: \"POST\",\n        dataType: \"html\",\n        success: function(data)\n        {\n           //do something here\n        }\n});\n</code></pre>\n"},{"tags":["javascript","ajax","symfony-1.4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13111443,"title":"Ajax HTTP-request url not correct","body":"<p>Following javascript code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;      \n    function goForLogin() {\n        var xmlhttp;\n        xmlhttp=new XMLHttpRequest();\n        xmlhttp.open(\"POST\",\"/account/login\",true);\n        xmlhttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\n        xmlhttp.send(\"email=test%40test.com&amp;password=1\");\n            }\n&lt;/script&gt;\n</code></pre>\n\n<p>I run this code in module test/index - I have to!</p>\n\n<p>When I log the request with tampadata, the url is <code>http://dev.server.com/test/account/login</code>. How can I get rid of <code>test</code> in the url? Two times a different module. This is not correct!</p>\n\n<p>When I do in xmlhttp.open... \"dev.server.com/account/login/\" The output will be: <code>http://dev.server.com/test/dev.server.com/account/login/</code>.</p>\n"},{"tags":["jquery","ajax","firefox","jquery-ajax","httpfox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13085158,"title":"NS_Binding_Aborted error for ajax function","body":"<p>I have a link on click of which a request should go to web server and on successful execution a redirection should happen. I have used ajax for this but I am getting NS_Binding_Aborted error in HTTpFox.\nThe code:</p>\n\n<pre><code>&lt;a id=\"lnkredirect\" href=\"javascript:void(0);\" onclick=\"myfunction();\"&gt;Some text&lt;/a&gt;\n</code></pre>\n\n<p>The ajax code:</p>\n\n<pre><code>function myfunction(){\n $.ajax({\n       url: Web server Url,\n       type: 'POST',\n       datatype: 'JSON',\n       timeout: 20000,\n       data: null,\n       success: function{ $(\"#lnkredirect\").attr('href','redirection link...');},\n       error : function{ $(\"#lnkredirect\").attr('href','redirection link...');}\n )};\n return true;\n}\n</code></pre>\n\n<p>The redirection is happening but I am getting NS_Binding_Aborted error in Firefox. In both success and error scenario, the redirection should happen but why NS_Binding_Aborted is coming, I am not sure of this. NS_Binding_Aborted error should come only if one event is cancelling some prior running event but I have already suppressed href of the link and redirecting it once the ajax request is executed, so there should be only one server call and NS_Binding_Aborted should not come. Please let me know where am I going wrong?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13111741,"title":"Remove HTML that was added by AJAX","body":"<p>I have a page where I build orders. The page fully works with ajax to find products and add them to the page. </p>\n\n<p>Now, if you add an item and need to remove it, I was building functionality to do so:</p>\n\n<pre><code>$('.orderRemove').click(function() {\n    var removeID = $(this).attr(\"id\");\n    $(\"#item-\" + removeID).remove();\n    calculateTotal();\n});\n</code></pre>\n\n<p>But since .orderRemove is added by AJAX it doesn't work. </p>\n\n<p>How do I go about making this exact call work, removing the full block that was added by ajax. </p>\n\n<p>Thank you</p>\n"},{"tags":["ajax","json-encode"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13111161,"title":"Pass JSON encoded Array through AJAX as POST","body":"<p><strong>What I want</strong>:\nI want to pass a <em>PHP Array</em> to a <em>PHP</em> backend file through <em>AJAX POST</em> method.</p>\n\n<p><strong>What I am doing:</strong>\nI am encoding the array with <a href=\"http://php.net/manual/es/function.json-encode.php\" rel=\"nofollow\" title=\"json_encode&#40;&#41;\">json_encode()</a> and passing it as a <em>POST</em> element with the javascript <a href=\"http://www.w3schools.com/jsref/jsref_encodeuricomponent.asp\" rel=\"nofollow\" title=\"encodeURIComponent&#40;&#41;\">encodeURIElement()</a> function.</p>\n\n<p><strong>What I get:</strong>\nI get a JSON \"<em>array structure</em>\" where each word of my string becomes the key of the array with a NULL value, and this is obviously not working for me.</p>\n\n<p><strong>What I think:</strong>\nI think that the <a href=\"http://www.w3schools.com/jsref/jsref_encodeuricomponent.asp\" rel=\"nofollow\" title=\"encodeURIComponent&#40;&#41;\">encodeURIElement()</a> is not working fine with the large string, but how else can I send data via <em>AJAX POST</em> without character problems?</p>\n\n<p><em>Note for downvoters</em>: I already did RTFM method.</p>\n\n<p><strong>Some code:</strong></p>\n\n<pre><code>function printJS($action,$position){\nglobal $allPhrases;\n/* Tmp function to print the AJAX function which makes a POST, because it is gonna appear lot of times */\nreturn 'onClick=\"syncronPost(\\'/php/backend-checkPh.php\\',\\'idCont=' . $_POST['idCont'] . '&amp;jsonPh=\\'' . $allPhJSON . '\\'&amp;act=' . $action . '&amp;pos=' . $position . '\\',\\'AJXeditArt\\'); return false;\"';\n}\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13111405,"title":"Is there a way preview selected image before uploading in IE?","body":"<p>The problem is that IE does not support javascripts Filereader. I thought about sending the file via ajax to the server, which then would echo back the files content. Could it be done this way? I have little experience with dynamic web development</p>\n"},{"tags":["ajax","backbone.js","requirejs","fetch"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13109509,"title":"Backbone rendering view but only in Chrome","body":"<p>I'm a beginer in Backbone, so this is a very simple example  rendering a simple template.\nand I have a problem with rendering this template. It works only in Chrome. \nWhen I debuged this code  after 'this.collection.fetch()' in MasterView object is empty but in Chrome has a my collection. I don't know why it works in Chrome but not in other browsers.</p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>    &lt;div class=\"Presentation\"&gt;\n\n    &lt;/div&gt;\n\n    &lt;script id=\"slideTemplate\" type=\"text/template\"&gt;\n        &lt;h1&gt;&lt;%=slide_title %&gt;&lt;/h1&gt;\n        &lt;h2&gt;&lt;%=slide_subheading %&gt;&lt;/h2&gt;\n        &lt;div&gt; &lt;%=content %&gt; &lt;/div&gt;\n    &lt;/script&gt;\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>define(['backbone','underscore'],function(Backbone,_){\nvar linkModel = Backbone.Model.extend({\n        defaults: {\n                    slide_title: \"slide\", \n        slide_subheading: \"sub slide 1\",\n        content: \"bla bla bla\"\n         }\n     });\n\nreturn linkModel;\n    });\n</code></pre>\n\n<p><strong>Collection</strong></p>\n\n<pre><code>define(['backbone','underscore','models/link','libs/backbone-localstorage'],function(Backbone,_,link,storage){\nvar linkModels = Backbone.Collection.extend({\n    model: link,\n    localStorage: new storage('links')\n\n});\n\nreturn linkModels;\n    });\n</code></pre>\n\n<p><strong>SingleView</strong></p>\n\n<pre><code>define(['jquery','backbone','underscore'],function($,Backbone,_){\nvar linkView = Backbone.View.extend({\n    tagName: \"article\",\n    className: \"slide-container\",\n    template: $(\"#slideTemplate\").html(),\n    render: function(){\n        var tmpl = _.template(this.template);\n        this.$el.html(tmpl(this.model.toJSON()));\n        return this;\n    }\n});\n\nreturn linkView;\n    });\n</code></pre>\n\n<p><strong>MasterView</strong></p>\n\n<pre><code>define(['jquery',\n    'backbone',\n    'underscore',\n    'collections/links',\n    'views/linkView', 'views/data'], function($, Backbone,_,links,linksView,data){\nvar favsView = Backbone.View.extend({\n    el: $(\".Presentation\"),\n    initialize: function(){\n        var self = this;\n        this.collection = new links(slides);    \n        _.bindAll(this, 'renderLink', 'renderAll');         \n\n              this.collection.fetch();\n      this.renderAll();\n    },\n    renderAll: function(){\n        this.collection.each(\n            this.renderLink\n        );\n    },\n    renderLink: function(model){\n        var view = new linksView({model: model});\n        this.$el.append(view.render().el);\n        model.save();\n    },\n    render: function(){\n        console.log(\"Ready...\");\n    }\n});\n\nreturn new favsView;\n  });\n</code></pre>\n"},{"tags":["ajax","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13109836,"title":"How can i add upload image function inside a ajax function?","body":"<p>i have a dilema here im using if else inside an ajax function i have this code</p>\n\n<pre><code>function submitForm() {\n\n    offset  = jQuery('#email').offset();\n    xTop    = offset.top - $(window).height()/2 ;\n    posLeft = offset.left - ($(window).width()-765)/2 ;\n    posTop  = offset.top;\n    params = jQuery('#registration-form').serialize();\n    lytebox.show({message:'Please wait...', align: 'center', closeButton: false});\n    jQuery.post('ajax/register', params + '&amp;registered=' + isRegistered, function(data) {\n            data = eval('(' + data + ')');\n            if(data.error) {\n                    lytebox.close();\n                    $('#errorHolder').remove();\n                    error = data.remarks;\n                    error +='&lt;img src=\"images/ttip-arrow.png\" id=\"ttip-arrow\"/&gt;&lt;/div&gt;';\n                    var wrapper     = $('.wrapper');\n                    var errorHolder = $('&lt;div id=\"errorHolder\"&gt;')\n                                                      .html(error).appendTo(wrapper);;\n\n                    errorHolder.css({\n                                                            'left':posLeft,\n                                                            'top':posTop-$('#errorHolder').outerHeight()\n                                              })\n                                       .delay(5500)\n                                       .fadeOut(1000);\n\n                    //$(\"html, body\").animate({scrollTop : xTop},800,function(){me.focus()});\n                    FB.Canvas.scrollTo(0,posTop-100);\n                    jQuery('#email').focus();\n            } else {       \n                    lytebox.close();\n\n                    //how can i add upload image here and send email function with attach image\n                    $('.notification').remove();\n                    $('#errorHolder').remove();\n                    $('#registration-form').fadeOut(300);\n                    $('.get-started').fadeIn(300);\n                    $('.show-thank-you-register').fadeIn(300);\n\n\n            }\n    });\n</code></pre>\n\n<p>}</p>\n\n<p>i want to add upload image function and email send function at else part.. please do help me</p>\n"},{"tags":["php","javascript","database","ajax","mongodb"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":896,"score":2,"question_id":5365082,"title":"How to print_r in PHP a MongoDB Collection?","body":"<p>How can I view and \"do\" things with a MongoDB collection after <code>find()</code>ing my results? I.e.:</p>\n\n<pre><code>&lt;?php\n   $cursor = $collection-&gt;find();\n   json_encode($cursor);\n   //OR\n   print_r($cursor);\n?&gt;\n</code></pre>\n\n<p>etc. No matter what I do i get nothing, but if I loop it i can get the data out one by one i can get the data out (of course) but the issue is, I want to do things with it like encode the returned array as a whole to a JSON object for doing AJAX / JS stuff.</p>\n\n<p>So, how could I do this?</p>\n"},{"tags":["php","javascript","jquery","ajax","database"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12866307,"title":"how do i make the wookmark plugin preload images before creating the layout","body":"<p>I adapted this script from the wookmark plugin to load more items from a db when the users scrolls to the bottom of the page.</p>\n\n<p>Initially it pre loads the images and then creates the layout, however when the users scrolls to the bottom, the new items are loaded thru ajax but the images all overlap each other.</p>\n\n<p>I'm using the imagesloaded jquery plugin to get the images to display correctly when the page loads the first time but i cant get it to work when new items are added when the users scrolls to the bottom.</p>\n\n<p>here's my code:</p>\n\n<pre><code>  $(document).imagesLoaded(function() {\n     $(document).ready(new function() {\n\n       // Prepare layout options.\n       var options = {\n         autoResize: true, // This will auto-update the layout when the browser window is resized.\n         container: $('#main'), // Optional, used for some extra CSS styling\n         offset: 10, // Optional, the distance between grid items\n         itemWidth: 320 // Optional, the width of a grid item\n       };\n\n       // Get a reference to your grid items.\n       var handler = $('#tiles li');\n\n       // Call the layout function.\n       handler.wookmark(options);\n\n\n       // When scrolled all the way to the bottom, add more tiles.\n        var int = 10;\n\n        function onScroll(event) {\n          // Check if we're within 100 pixels of the bottom edge of the broser window.\n          var closeToBottom = ($(window).scrollTop() + $(window).height() &gt; $(document).height() - 100);\n\n          if(closeToBottom) {\n\n             // GET THE 10 NEXT ITEMS;\n              if (window.XMLHttpRequest)\n                 {// code for IE7+, Firefox, Chrome, Opera, Safari\n                 xmlhttp=new XMLHttpRequest();\n                 }\n               else\n                 {// code for IE6, IE5\n                 xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n                 }\n               xmlhttp.onreadystatechange=function()\n                 {\n                 if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n                   {\n                   //document.getElementById(\"tiles\").innerHTML=xmlhttp.responseText;\n\n\n\n                         $('#tiles').append(innerHTML=xmlhttp.responseText);\n                         int = int+10;\n                         // Clear our previous layout handler.\n                         if(handler) handler.wookmarkClear();\n\n                         // Create a new layout handler.\n                         handler = $('#tiles li');\n                         handler.wookmark(options);\n\n                   }\n                 }\n\n               $.extend({\n                    getUrlVars: function(){\n                      var vars = [], hash;\n                      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n                      for(var i = 0; i &lt; hashes.length; i++)\n                      {\n                        hash = hashes[i].split('=');\n                        vars.push(hash[0]);\n                        vars[hash[0]] = hash[1];\n                      }\n                      return vars;\n                    },\n                    getUrlVar: function(name){\n                      return $.getUrlVars()[name];\n                    }\n                  });\n\n                  var request = $.getUrlVar('item');\n\n                  if(request!=null){\n                    var allR = \"?int=\"+int+\"&amp;item=\"+request;\n                  } else {\n                    var allR = \"?int=\"+int;\n                  }\n\n               xmlhttp.open(\"GET\",\"tiles.php\"+allR,true);\n               xmlhttp.send();\n          }\n        };\n\n        $(document).ready(new function() {\n          // Capture scroll event.\n          $(document).bind('scroll', onScroll);\n\n          // Call the layout function.\n          handler = $('#tiles li');\n          handler.wookmark(options);\n        });      \n     });  \n   });  \n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13110719,"title":"Accessing information from a database using Ajax via dynamically created table using cell click event","body":"<p>I have a dynamically created table using html PHP and Mysql. I want to use Ajax to retrieve information  from the database. </p>\n\n<p>The nearest example I have found to what I want to do is \n<a href=\"http://www.w3schools.com/PHP/php_ajax_database.asp\" rel=\"nofollow\">http://www.w3schools.com/PHP/php_ajax_database.asp</a> but this uses a drop down list. </p>\n\n<p>Can anyone provide some info on how to do the the above but using a table, so you can click a cell and the cell which contains a name will be sent to the database to retrieve the specific data..</p>\n\n<pre><code>   &lt;?php\n$default = \"&lt;img src='http://localhost/on.png' width='24' height='24'/&gt;\";\n$default1 = \"&lt;img src='http://localhost/of.png' width='24' height='24'/&gt;\";\n$con = mysql_connect(\"*****\",\"*****\",\"****\");\nif (!$con){\ndie(\"Can not connect: \" . mysql_error());\n}\nmysql_select_db (\"****\",$con);\n$sql= \"select act.*\nfrom user_activity as act\n  inner join (\n  select user_id, max(timestamp) as max_ts\n  from user_activity\n  group by user_id) as a on act.user_id=a.user_id and act.timestamp=a.max_ts\";\n$mydata = mysql_query($sql,$con);\n\necho \"&lt;table id='tfhover',table border=0&gt;\n&lt;tr&gt;\n&lt;th&gt;Users&lt;/th&gt;\n&lt;th&gt;Status&lt;th&gt;\n&lt;/tr&gt;\";\nwhile($record = mysql_fetch_array($mydata)){\necho \"&lt;tr&gt;\";\necho \"&lt;td&gt;\" . $record['user_id'] . \"&lt;/td&gt;\";\nif (strtolower(trim($record['activity']))!=strtolower('LOGIN')){ \necho \"&lt;td&gt;\" . $default1  . \"&lt;/td&gt;\";\n}else{\n\necho \"&lt;td&gt;\" . $default  . \"&lt;/td&gt;\";\n\n}\n</code></pre>\n"},{"tags":["jquery","ajax",".each"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3112,"score":0,"question_id":3962496,"title":".ajax error - a is undefined a))();else c.error(\"Invalid JSON:","body":"<p>in the following code, why does it work:</p>\n\n<pre><code>var addresses = {\"2-avenue-bir-hakiem\": \"2 Avenue Bir Hakiem\", \"56-rue-marcel-pagnol\": \"56 rue Marcel Pagnol\"};\n</code></pre>\n\n<p>but</p>\n\n<pre><code>var addresses = json.val;\n</code></pre>\n\n<p>does not work</p>\n\n<p>my json output is valid!</p>\n\n<blockquote>\n  <p>{\"2-avenue-bir-hakiem\": \"2 Avenue Bir\n  Hakiem\", \"56-rue-marcel-pagnol\": \"56\n  rue Marcel Pagnol\"}</p>\n</blockquote>\n\n<p>the error i get is</p>\n\n<blockquote>\n  <p>a is undefined [Break on this error]\n  a))();else c.error(\"Invalid JSON:\n  \"+a)...f(d)if(i)for(f in\n  a){if(b.apply(a[f],</p>\n</blockquote>\n\n<pre><code>&lt;script&gt;\n$(function() {\n    function log( message ) {\n        $( \"&lt;div/&gt;\" ).text( message ).prependTo( \"#log\" );\n        $( \"#log\" ).attr( \"scrollTop\", 0 );\n    }\n\n    $( \"#companies\" ).autocomplete({\n        source: \";companies\",\n        minLength: 2,\n        select: function( event, ui ) {\n            log( ui.item ?\n                \"Selected: \" + ui.item.value + \" aka \" + ui.item.id :\n                \"Nothing selected, input was \" + this.value );\n            $(\"#address\").html(ui.item.id);\n            $.ajax({\n                type: 'GET',\n                url: ';addresses?company=' + ui.item.id,\n                dataType: 'json',\n                // process the addresses\n                success: function(json) {\n                    $('body').append('Response Value: ' + json.val);\n                    var opts = '';\n                    var addresses = {\"2-avenue-bir-hakiem\": \"2 Avenue Bir Hakiem\", \"56-rue-marcel-pagnol\": \"56 rue Marcel Pagnol\"};\n                    //var addresses = json.val;\n                    $.each(addresses, function(k, v) {\n                        opts += '&lt;option&gt;' + v + '&lt;/option&gt;';\n                    });\n                    $('#address').html(opts);\n                }\n            }); //end ajax\n        } // end select\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>what am i missing?</p>\n\n<p>thanks</p>\n"},{"tags":["mysql","ajax","coldfusion","real-time"],"answer_count":7,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":2037,"score":5,"question_id":6471879,"title":"Is there a way to 'listen' for a database event and update a page in real time?","body":"<p>I'm looking for a way to create a simple HTML table that can be updated in real-time upon a database change event; specifically a new record added.</p>\n\n<p>In other words, think of it like an executive dashboard.  If a sale is made and a new line is added in a database (MySQL in my case) then the web page should \"refresh\" the table with the new line.</p>\n\n<p>I have seen some information on the new using <code>EVENT GATEWAY</code> but all of the examples use Coldfusion as the \"pusher\" and not the \"consumer\".  I would like to have Coldfusion both update / push an event to the gateway and also consume the response.</p>\n\n<p>If this can be done using a combination of AJAX and CF please let me know! </p>\n\n<p>I'm really just looking to understand where to get started with real-time updating.</p>\n\n<p>Thank you in advance!!</p>\n\n<p><strong>EDIT / Explanation of selected answer:</strong></p>\n\n<p>I ended up going with @bpeterson76's answer because at the moment it was easiest to implement on a small scale.  I really like his Datatables suggestion, and that's what I am using to update in close to real time.</p>\n\n<p>As my site gets larger though (hopefully), I'm not sure if this will be a scalable solution as every user will be hitting a \"listener\" page and then subsequently querying my DB.  My query is relatively simple, but I'm still worried about performance in the future.</p>\n\n<p>In my opinion though, as HTML5 starts to become the web standard, the Web Sockets method suggested by @iKnowKungFoo is most likely the best approach.  Comet with long polling is also a great idea, but it's a little cumbersome to implement / also seems to have some scaling issues.</p>\n\n<p>So, let's hope web users start to adopt more modern browsers that support HTML5, because Web Sockets is a relatively easy and scalable way to get close to real time.</p>\n\n<p>If you feel that I made the wrong decision please leave a comment.</p>\n\n<p>Finally, here is some source code for it all:</p>\n\n<p><strong>Javascript:</strong></p>\n\n<p><strong>note, this is a very simple implementation.  It's only looking to see if the number of records in the current datatable has changed and if so update the table and throw an alert.  The production code is much longer and more involved.  This is just showing a simple way of getting a close to real-time update.</strong></p>\n\n<pre><code>&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n\nvar originalNumberOfRecsInDatatable = 0;\nvar oTable;\n\nvar setChecker = setInterval(checkIfNewRecordHasBeenAdded,5000); //5 second intervals\n\nfunction checkIfNewRecordHasBeenAdded() {\n\n        //json object to post to CFM page\n        var postData = {\n        numberOfRecords:  originalNumberOfRecsInDatatable \n        };\n\n        var ajaxResponse = $.ajax({\n        type: \"post\",\n        url: \"./tabs/checkIfNewItemIsAvailable.cfm\",\n        contentType: \"application/json\",\n        data: JSON.stringify( postData )\n        })\n\n        // When the response comes back, if update is available\n        //then re-draw the datatable and throw an alert to the user\n        ajaxResponse.then(\n        function( apiResponse ){\n\n         var obj = jQuery.parseJSON(apiResponse);\n\n         if (obj.isUpdateAvail == \"Yes\")\n         {              \n            oTable = $('#MY_DATATABLE_ID').dataTable();\n            oTable.fnDraw(false);\n\n            originalNumberOfRecsInDatatable = obj.recordcount;\n\n            alert('A new line has been added!');\n         }\n\n        }\n        );\n\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Coldfusion:</strong></p>\n\n<pre><code>&lt;cfset requestBody = toString( getHttpRequestData().content ) /&gt;\n\n&lt;!--- Double-check to make sure it's a JSON value. ---&gt;\n&lt;cfif isJSON( requestBody )&gt;\n\n&lt;cfset deserializedResult = deserializeJSON( requestBody )&gt;\n\n&lt;cfset numberOFRecords = #deserializedResult.originalNumberOfRecsInDatatable#&gt;\n\n\n&lt;cfquery  name=\"qCount\" datasource=\"#Application.DBdsn#\" username=\"#Application.DBusername#\" password=\"#Application.DBpw#\"&gt;\n    SELECT COUNT(ID) as total\n    FROM myTable\n&lt;/cfquery&gt;\n\n&lt;cfif #qCount.total# neq #variables.originalNumberOfRecsInDatatable#&gt;\n    {\"isUpdateAvail\": \"Yes\", \"recordcount\": &lt;cfoutput&gt;#qCount.total#&lt;/cfoutput&gt;}\n&lt;cfelse&gt;\n    {\"isUpdateAvail\": \"No\"}\n&lt;/cfif&gt;\n\n\n&lt;/cfif&gt;\n</code></pre>\n"},{"tags":["python","ajax","django"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":413,"score":0,"question_id":7704566,"title":"Why is my dajax-powered loading another page?","body":"<p>I'm working through the <a href=\"http://dajaxproject.com/random/\" rel=\"nofollow\">random machine example</a>, but I'm having trouble. I've installed Dajax and Dajaxice according to these two pages: <a href=\"https://github.com/jorgebastida/django-dajax/wiki/Installation\" rel=\"nofollow\">Dajax</a> and <a href=\"http://docs.dajaxproject.com/dajaxice/installation.html\" rel=\"nofollow\">Dajaxice</a>. My ajax.py file looks like this:</p>\n\n<pre><code>import random\nfrom dajax.core import Dajax\nfrom dajaxice.decorators import dajaxice_register\n\n@dajaxice_register\ndef randomize(request):\n    dajax = Dajax()\n    dajax.assign('#result','value',random.randint(1, 10))\n    return dajax.json()\n</code></pre>\n\n<p>Here's my views.py:</p>\n\n<pre><code>from django.shortcuts import render_to_response\nfrom django.template import RequestContext\n\ndef dajax(request):\n     return render_to_response( 'dajax.html', context_instance=RequestContext(request) )\n</code></pre>\n\n<p>Here's my urls.py:</p>\n\n<pre><code>from django.conf.urls.defaults import patterns, include, url\nfrom dajaxice.core import dajaxice_autodiscover\nfrom dajaxice import urls\nfrom django.conf import settings\nfrom Dajax.myapp.views import dajax\ndajaxice_autodiscover()\n\nurlpatterns = patterns('',\n    (r'^%s/' % (settings.DAJAXICE_MEDIA_PREFIX), include('dajaxice.urls')),\n    (r'^dajax/$', dajax),\n)\n</code></pre>\n\n<p>My html form tag looks like this:</p>\n\n<pre><code>&lt;form&gt;\n        &lt;input type=\"text\" name=\"result\" value=\"\" id=\"result\"&gt;\n        &lt;input type=\"button\" name=\"rand\" value=\"Let's Rand!\" id=\"rand\" onclick=\"Dajaxice.myapp.randomize(Dajax.process); return false;\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Here's what my head tag looks like:</p>\n\n<pre><code>&lt;head&gt;\n    &lt;title&gt;My base template&lt;/title&gt;\n    {% dajaxice_js_import %}\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js\" type=\"text/javascript\" charset=\"UTF-8\"&gt;&lt;/script&gt;\n    &lt;script src=\"{{ STATIC_URL }}js/jquery.dajax.core.js\" type=\"text/javascript\" charset=\"UTF-8\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>I added the following to my <strong>init</strong>.py file in my project dir:</p>\n\n<pre><code>from myapp.ajax import randomize\n</code></pre>\n\n<p>Also of note, my Django app's name is myapp.</p>\n\n<p>On my page, when I click on Let's Rand!, the page goes to <a href=\"http://localhost:8000/dajax/?result=2\" rel=\"nofollow\">http://localhost:8000/dajax/?result=2</a>, and no value shows up in the text input box. I checked the console in Chromium and there aren't any errors.</p>\n\n<p>Did I incorrectly install either Dajax or Dajaxice, or is there something wrong with my code above?</p>\n\n<p>My guess is that because I'm using jQuery instead of Prototype, there's something different I need to do.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13110059,"title":"json and line break","body":"<p>I hope, there is a solving of my question. But I can't find it.\nProblem: ajax return data with line break (\\n). The data must be insert into textarea and will be update from ajax.</p>\n\n<p>I can replace '\\n' when reading data (myJsonData.replace.() ... etc). The main problem: how to ready data for textarea to display in correct format with line break?</p>\n"},{"tags":["javascript","html","ajax","solr"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13110017,"title":"sending a new query to solr","body":"<p>im trying to make a site that uses solr.<br>\ni manged to send to send the server an initial query but i cant send a new query after the initial one.\nit always send the same query regardless of the input.</p>\n\n<p>the code for the text input:</p>\n\n<pre><code>&lt;input onKeyPress=\"{if (event.keyCode==13)runSearch()}\" type=\"text\" class=\"search-query\" id=\"query\" name=\"query\"/&gt;\n</code></pre>\n\n<p>the function it calls:</p>\n\n<pre><code> function runSearch(){\n    var userQuery;\n    userQuery = document.getElementById(\"query\").value;\n    Manager.store.addByValue('q', userQuery);\n    alert(Manager.store.string());\n    Manager.doRequest();\n    }\n</code></pre>\n\n<p>the manager init code:</p>\n\n<pre><code>(function ($) {\n\n  $(function () {\n    Manager = new AjaxSolr.Manager({\n      solrUrl: 'http://evolvingweb.ca/solr/reuters/'\n    });\n    Manager.addWidget(new AjaxSolr.ResultWidget({\n      id: 'result',\n      target: '#docs'\n    }));\n    Manager.addWidget(new AjaxSolr.PagerWidget({\n      id: 'pager',\n      target: '#pager',\n      prevLabel: '&amp;lt;',\n      nextLabel: '&amp;gt;',\n      innerWindow: 1,\n      renderHeader: function (perPage, offset, total) {\n        //$('#pager-header').html($('&lt;span/&gt;').text('displaying ' + Math.min(total, offset + 1) + ' to ' + Math.min(total, offset + perPage) + ' of ' + total));\n      }\n    }));\n    Manager.init();\n    Manager.store.addByValue('q', '*:*');\n    Manager.doRequest();\n  });\n\n})(jQuery);\n</code></pre>\n\n<p>the after request code in \nany idea why any query after the first one doesnt do any thing?</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13109180,"title":"How to dynamically pass data parameter in a jquery ajax call (multiple arrays of data)","body":"<p>I have this ajax code:</p>\n\n<pre><code>return $.ajax({\n        type: \"POST\",\n        url: \"somefile.php\",\n        cache:false,\n        data: { \"yfilter\": $(\"#yearFilter\").serializeArray(),\n            \"gfilter\": $(\"#genreFilter\").serializeArray() },\n        dataType:\"json\",\n        success: function(data){\n            alert(\"success\");\n        }\n</code></pre>\n\n<p>This works fine, but I need to pass the data parameter dynamically. For now I need the above data parameter content and a single string.</p>\n\n<p>How do I pass this dynamically? / How do I store it in a variable and pass it to the \"data:\" field?</p>\n\n<pre><code> { \"yfilter\": $(\"#yearFilter\").serializeArray(),\n    \"gfilter\": $(\"#genreFilter\").serializeArray() }\n</code></pre>\n\n<p>I tried JSON.stringify I I couldn't get it to work probably due to the data being an array.</p>\n\n<p>The year and genre arrays are coming directly from the jquery drop down menu. It is selected like by it's #id like so \"$(\"#yearFilter\")\". This is the select form element.</p>\n\n<pre><code>&lt;select multiple=\"multiple\" name=\"yearFilter[]\" class=\"filterChange\" id=\"yearFilter\"&gt;\n</code></pre>\n\n<p><strong>What I need at the base level is:</strong></p>\n\n<pre><code>var someData = \"\";\n\n\n    if(...){\n        someData = { \"yfilter\": $(\"#yearFilter\").serializeArray(),\n                \"gfilter\": $(\"#genreFilter\").serializeArray() };\n    }\n    else if(...){\n        someData = \"sampleString\";\n    }\n</code></pre>\n\n<p>And in ajax call:</p>\n\n<pre><code>...\ndata: someData,\n...\n</code></pre>\n"},{"tags":["jquery","ajax","data","live"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":13108697,"title":"my ajax don't work in live()","body":"<p>i have a link in may page and i wrote in it's onclick() event to show me a div that contain a date input text named \"datepicker0\" and also i have a div id =\"bContent\" below this input text.</p>\n\n<p>now i wrote below script and i want to apply date Filter on my data in \"bContent\".\nbut it doesn't work! appreciate any help please...  </p>\n\n<pre><code>$('#datepicker0').live('focus', function() {\n    $(this).datepicker().datepicker('show');\n    true;\n })\n $('#datepicker0').live('change', function() {\n    ShowMathesByDateFilter($(this).val());\n })\n</code></pre>\n\n<p>and ShowMathesByDateFilter() Function is :</p>\n\n<pre><code>function ShowMathesByDateFilter(Fdate)\n{\n\n  if (Fdate==\"\")\n  {\n  $(\"#bContent\").html('&lt;div class=\"bContent\" dir=\"rtl\"&gt; no result are fond! &lt;/div&gt;');\n      return;\n  }\n  else\n  {\n      $.ajax({\n          url:'/includes/GetMtch.php',\n          data:\"Fdate=\"+Fdate,\n          success: function(data){\n              //alert(data);    // this is work \n              $(\"#bContent\").html(data);   //but this line doesn't work.\n          }\n      })\n  }\n}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","json","jsonp"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13109022,"title":"Does this server jsonp response is a valid one?","body":"<p>I am the client guy who sends the server guy a request. My final goal is to send the request in <strong>jsonp</strong>.</p>\n\n<p>This is the server response I get when I send the request with <code>?accept=json</code> (and get an invalid session error because it is not jsonp)</p>\n\n<pre><code>{\"errorCode\":-15,\"errorDescription\":\"SessionNotFoundException - Session not found\",\"success\":false,\"payload\":null}\n</code></pre>\n\n<p>I can read it and it is fine.</p>\n\n<p><strong>However</strong>, this is the server response for <code>?accept=jsonp</code>:</p>\n\n<pre><code>jQuery171024326910870149732_1351429007451({\"action\":\"\", \"type\":\"\", \"callerId\":\"\"}, {\"errorCode\":0,\"errorDescription\":\"OK\",\"success\":true,\"payload\":null});\n</code></pre>\n\n<p>it is in the form of these 2 objects which I don't know how to read: <code>{a},{b}</code>.</p>\n\n<p>When I use jQuery ajax call \nthe output of the server's data is only the <code>{a}</code> part: </p>\n\n<p><code>Object {action: \"\", type: \"\", callerId: \"\"}</code></p>\n\n<p><strong>My 2 questions are:</strong></p>\n\n<ol>\n<li>Is a server response with 2 objects (<code>{a},{b}</code>) is valid or not? Does the server guy makes a mistake by sending that kind of object or it is valid?</li>\n<li>How do I read the jsonp object? what is wrong with my ajax call that I can't seem to be reading it right?</li>\n</ol>\n\n<p>This is the ajax call I use:</p>\n\n<pre><code>$.ajax({\n            url:url,\n            dataType:'jsonp',\n            success:function(data){\n                console.log(\"data is,\"data\")\n                //if the call was success\n                if (data.success) {\n\n                    //if errors\n                }   else {\n\n                }\n            }\n        } \n</code></pre>\n"},{"tags":["jquery","ajax","lightbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3048,"score":0,"question_id":5833589,"title":"Using JQuery Lightbox within AJAX loaded content","body":"<p>Hey. So this is probably a very noob problem but I'm not good enough to fix it. Basically... I have a gallery that I am loading into the page via AJAX. It looks simply like this:</p>\n\n<pre><code>    &lt;div id=\"gallery\"&gt;\n            &lt;a href=\"Image1.jpg\"&gt;&lt;img src=\"Image1Thumb.jpg\" /&gt;&lt;/a&gt;\n            &lt;a href=\"Image2.jpg\" title=\"\"&gt;&lt;img src=\"Image2Thumb.jpg\" /&gt;&lt;/a&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>But because it's being loaded in as AJAX content, JQuery/Lightbox is not working and I've no idea how can I get the script to run/recognise this newly loaded content. </p>\n\n<p>Thanks!</p>\n\n<p>[Note: The <a href=\"http://leandrovieira.com/projects/jquery/lightbox/\" rel=\"nofollow\">JQuery Lightbox</a> I am using.]</p>\n"},{"tags":["jquery","ajax","post","checkbox"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":55,"score":-1,"question_id":13108773,"title":"selected checkbox values not returned in ajax post","body":"<pre><code>var dataArray = $('input:checkbox:checked').map(function() {\n    return this.value;\n}).get();\n\n$.ajax({\n    type: 'POST',\n    url: 'showdata.php',\n    data: {data : dataArray},\n    success: function(data) {\n        //only the value of last selected checkbox value is returned ,\n// but when I alert the dataArray then it shows all values separated with commas.\n            alert('response data = ' + data);\n        }\n    });\n</code></pre>\n\n<p><strong>showdata.php</strong></p>\n\n<pre><code>$data = ''; \n\nif (isset($_POST['data']))\n{\n    $data = $_POST['data'];\n}\n\n\n\necho $data;\n</code></pre>\n"},{"tags":["jquery","ajax","jqgrid"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":9950,"score":2,"question_id":4497130,"title":"jqgrid - refresh a grid after an ajax file upload","body":"<p>How would I refresh a jqgrid based grid from outside of the grid itself? Within the code for a grid exists the option to call <code>reloadGrid</code>. However, I want to reload the grid after doing an ajax file upload, outside of the jqgrid code. How could I call <code>reloadGrid</code> in that context?</p>\n\n<p>I realize I can completely reload the entire page with something like: <code>location.reload();</code> but that reloads the whole lot and puts me back to the first page of results for a grid and kind of defeats the purpose of using ajax to upload a file in the first place.</p>\n\n<p><strong>Some code:</strong></p>\n\n<p>reloadGrid is called from within jqgrid as follows:</p>\n\n<p><code>$(\"#thegrid\").trigger(\"reloadGrid\");</code></p>\n\n<p>but it does nothing when called from within my ajaxupload:</p>\n\n<pre><code>        onComplete: function(file, response) {\n            if (response == 'success') {\n                        //location.reload();\n                        $(\"#thegrid\").trigger(\"reloadGrid\");\n                    }else if (response == 'error') {\n                        alert(\"Doh!\");\n                    }\n</code></pre>\n\n<p>If I uncomment <code>location.reload()</code>, the page reloads but with the trigger uncommented (as in the above example) nothing happens at all. So how do I reload this grid?</p>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":13108614,"title":"jQuery load() function doesn't load everything","body":"<p>I've been strugling with query for some time. I have a CMS that i want to use on my site, buy i cant use PHP includes so i decided to use jquery. I have made all the necesary includes and when i open the webpage it doesn't load all the files... Rarely does load() function load every file. Any ideas to solve the problem or alternatives? thanks.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){  \n// find element with ID of \"target\" and put file contents into it  \n$('#welcome-container').load('admin/data/blocks/Slider/Text.html');\n$('#slides').load('admin/data/blocks/Slider/Imagini.html');  \n$('#acasa-continut').load('admin/data/blocks/Acasa/Continut.html');  \n$('#sidebar').load('admin/data/blocks/Sidebar/Continut.html');  \n$('#sidebar-v1').load('admin/data/blocks/Sidebar/Video-1.html'); \n$('#sidebar-v2').load('admin/data/blocks/Sidebar/Video-2.html');\n$('#principii').load('admin/data/blocks/Despre/Principii.html');\n$('#echipa').load('admin/data/blocks/Despre/Echipa.html');\n$('#echipament').load('admin/data/blocks/Despre/Echipament.html');\n$('#contact-t').load('admin/data/blocks/Contact/Contact.html');\n}); \n&lt;/script&gt;\n</code></pre>\n\n<p>I have checked with deloper tools and it gives ,randomly on every refresh, 500 Internal Server Error on different elements</p>\n"},{"tags":["php","mysql","ajax","record","retrieve"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":34,"score":-5,"question_id":13108261,"title":"Retrieve record from mysql with the help of php and Ajax","body":"<p>I am new to php and ajax. I have a database name \"text\" and a table name \"users\". I want to retrieve all rows from the \"users\" table without refreshing my browser. How I do this ? I will be thankful to you. </p>\n"},{"tags":["ajax","grails"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13106193,"title":"How to invoke action method by ajax on blur of input element","body":"<p>I'm just starting to get my feet wet with Grails and I've started looking into using Ajax with Grails. I've looked at a couple of different examples but I'm still a bit unclear. Since I come from a JSF background I would like to pose a simple example in JSF and get the equivalent way of achieving the same thing with Grails.</p>\n\n<p>The following piece of JSF code will call the someAction method of the bean when the blur event is triggered from the input component.</p>\n\n<pre><code>&lt;h:inputText value=\"#{bean.someProperty}\"&gt;\n&lt;f:ajax event=\"blur\" action=\"#{bean.someAction}\" /&gt;\n&lt;/h:inputText&gt;\n</code></pre>\n\n<p>So what would be the simplest way to achieve the same behavior with Grails?</p>\n"},{"tags":["php","javascript","jquery","ajax","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":59,"score":-1,"question_id":13108370,"title":"Ajax request inside ajax request fails - reloads the whole page again","body":"<p>So, basicly what I'm trying to achieve:\nIn index.php\nI would enter products code to search for products information and it's images (that query is run in open_first.php, called via ajax post request).\nIt works just perfect..</p>\n\n<p>When open_first.php is loaded, it displays me some images I can select from (when I click on the image, it's relevant checkbox get's checked containing the image id).\nThis works too, just fine.</p>\n\n<p>BUT,\nIf I enter a code in the field: \"productCodeCopy\" and click on \"confirmCodeCopy\" -button it reloads the whole page, I mean index.php and everything I've entered is lost and I'm back in the starting point again. I don't understand why it does so. I suppose it has something to do with the fact, that the second ajax request is made from a dynamically created page (open_first.php)?? Do I miss something I should POST too?? Or what's the problem, this is really frustrating me since I've tried to fix this for hours now.</p>\n\n<p>Note:\nJquery is loaded in index.php, open_first.php and open_second.php, I've just ignored that to keep the code simpler.</p>\n\n<p>FILE: index.php (the \"starting point\")</p>\n\n<pre><code>&lt;!-- head --&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$(\"#confirmCode\").on('click', function(){\n    var productCode = $(\"#productCode\").val();\n    $.ajax({\n        url: 'open_first.php',\n        type: \"POST\",\n        data: ({code: productCode}),\n        success: function(data){\n            $(\"#found\").html(data);\n        },\n        error: _alertError\n    });\n    function _alertError() {\n        alert('error on request');\n    }\n    });\n});\n&lt;/script&gt;\n\n&lt;!-- body --&gt;\n&lt;input type=\"text\" class=\"textfields\" id=\"productCode\" name=\"productCode\" value=\"YT-6212\"&gt;\n&lt;input type=\"button\" class=\"admin-buttons green\" name=\"confirmCode\" id=\"confirmCode\" value=\"Search\"&gt;\n&lt;div id=\"found\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>FILE open_first.php</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        $(\"#foundImage\").on('click', function(){\n            $('#foundImage').toggleClass(\"foundImage-selected foundImage\");\n            var myID = $('#foundImage').data('image-id');\n            var checkBox = $('input[id=selectedImages-'+myID+']');\n            checkBox.prop(\"checked\", !checkBox.prop(\"checked\"));\n        });\n\n        $(\"#confirmCodeCopy\").on('click', function(){\n            var checkedItems = $('input:checkbox[name=\"selectedImages[]\"]:checked');                \n            // this code here reloads the whole page / view (as in \"index.php\")\n            $.ajax({\n                url: 'open_second.php',\n                type: \"POST\",\n                data: ({checked: checkedItems, copyTo: productCodeCopy, code: \"&lt;?php echo $_POST['code']; ?&gt;\"}),\n                success: function(data){\n                    $(\"#copyToProducts\").append(data);\n                },\n                error: _alertError\n            });\n            /*\n            // the code below runs just fine when I hit the button \"confirmCodeCopy\"\n            alert('Fuu');\n            return false;\n            */\n        });\n\n        function _alertError() {\n            alert('error');\n        }\n    });\n&lt;/script&gt;\n&lt;!--BODY--&gt;\n&lt;!-- these are dynamically generated from php, just to simplify we have checkbox that contains value \"1\" to be posted in ajax --&gt;\n&lt;div class=\"foundImage\" id=\"foundImage\" data-image-id=\"1\"&gt;&lt;img src=\"image.jpg\"&gt;&lt;input type=\"checkbox\" id=\"selectedImages-1\" name=\"selectedImages[]\" value=\"1\" style=\"display: none;\"&gt;&lt;/div&gt;\n&lt;label for=\"productCodeCopy\"&gt;Products code&lt;/label&gt;\n&lt;input type=\"text\" class=\"textfields\" id=\"productCodeCopy\" name=\"productCodeCopy\"&gt;\n&lt;br /&gt;&lt;br /&gt;\n&lt;label for=\"confirmCodeCopy\"&gt;&amp;nbsp;&lt;/label&gt;\n&lt;input type=\"button\" class=\"admin-buttons green\" name=\"confirmCodeCopy\" id=\"confirmCodeCopy\" value=\"Search\"&gt;\n&lt;div id=\"copyToProducts\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>open_second.php only prints out POST variables for now, so nothing special yet.</p>\n\n<p>SOLVED</p>\n\n<p>So ok, I solved it. With dumdum's help. </p>\n\n<p>I removed the line:</p>\n\n<pre><code>$('input:checkbox[name=\"selectedImages[]\"]:checked');\n</code></pre>\n\n<p>And added this:</p>\n\n<pre><code>var checkedItems = new Array();\nvar productToCopy = $('#productCodeCopy').val();\n$(\"input:checkbox[name=selectedImages[]]:checked\").each(function() {\n    checkedItems.push($(this).val());\n});\n</code></pre>\n\n<p>Since there was no form element present, it didn't get the field values unless \"manually retrieved\" via .val() -function.. Stupid me..</p>\n\n<p>I don't know how much this affected but I changed also:</p>\n\n<pre><code>data: ({checked: checkedItems, copyTo: productCodeCopy\"})\n</code></pre>\n\n<p>To</p>\n\n<pre><code>data: {\"checked\": checkedItems, \"copyTo\": productToCopy}\n</code></pre>\n\n<p>So now it's working just fine :) Cool!</p>\n"},{"tags":["php","javascript","ajax","sockets"],"answer_count":4,"favorite_count":5,"up_vote_count":18,"down_vote_count":0,"view_count":2954,"score":18,"question_id":5313641,"title":"Scaling a chat app - short polling vs. long polling (AJAX, PHP)","body":"<p>I run a website where users can chat with each other through the browser (think Facebook chat). What is the best way to handle the live interaction? (Right now I have a poll going every 30 seconds to update online users and new incoming messages, and another poll going on chat pages every second to get new messages.)</p>\n\n<p>Things I've considered:</p>\n\n<ul>\n<li>HTML5 Web Sockets: didn't use this because it doesn't work in all browsers (only chrome).</li>\n<li>Flash Sockets: didn't use this because I wanted to eventually support mobile web.</li>\n</ul>\n\n<p>Right now, I am using short polling because I don't know how scalable AJAX long polling would be. I'm running a VPS server from servint right now (running apache). Should I use long polling or short polling? I don't need absolutely immediate response times (just \"good enough\" for a chat app). Is short polling this often with a few hundred-thousand users going to kill my server? How do I scale this, please help!</p>\n"},{"tags":["jquery","ajax","post"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":424,"score":0,"question_id":5272983,"title":"jQuery.ajax stripping out spaces","body":"<pre><code>    &lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Untitled 1&lt;/title&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\" src=\"../js/jquery.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n$(document).ready(function() {\n    $(\"#usermsg\").keypress(function(e) {\n        if (e.keyCode == 13) {\n            var message = $(\"#usermsg\").val();\n            alert(\"sent :\" + message);\n            $.ajax({\n                type: \"POST\",\n                url: \"post1.asp?postchat=1\",\n                data: \"text=\" + message,\n                success: function(data) {\n                    alert(\"rcvd :\" + data);\n                }\n            });\n           $(\"#usermsg\").attr(\"value\", '');\n\n        }\n    });\n});&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form method=\"post\"&gt;\n    &lt;textarea id=\"usermsg\" name=\"TextArea1\"&gt;&lt;/textarea&gt;&lt;/form&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>I've run into a problem that I haven't seen before - on a very simple\n$.ajax{} powered form using POST, when the string pairs are passed to my\nprocessing page, somewhere along the line any spaces are being stripped\nout of the values. An alert(dataString); before the $.ajax{} call shows\nthat the spaces exist, but when it's submitted to the processing page\nthe strings have no spaces in them. Do I have to urlencode/decode the\nstrings somewhere, or is something else messing things up? Anyone come\nacross this before? </p>\n"},{"tags":["python","ajax","post","asynchronous","bottle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13107535,"title":"Using asynchronous POST requests with Python's Bottle?","body":"<p>I'm trying to create a turn-based strategy game (think Dominion) in Python. The core game objects and methods are Python classes with methods in them (just typical OO stuff). The UI is an HTML client using Bottle. I'm aiming for an entirely asynchronous approach. So the sole page's content is generated from the Python objects, and I want submits from the page to update those objects without ever leaving the page by going back through the bottle webserver (using jQuery AJAX for this).</p>\n\n<p>At the moment I'm working on a basic chat system that retrieves player-written messages and stores them as Chat objects (containing player and text data, nothing else). These objects are then written to a chat window using AJAX that updates the windows once every second. The HTML format of the chat lines is <code>&lt;div class=\"chatLine\"&gt;&lt;p&gt;Player &gt; &lt;/p&gt;&lt;p&gt;Text&lt;/p&gt;&lt;/div&gt;</code> Pretty standard stuff.</p>\n\n<p>This basic diagram might make it a little clearer, even though it isn't really technical, more conceptual:</p>\n\n<hr>\n\n<h2><img src=\"http://i.stack.imgur.com/oIPFQ.jpg\" alt=\"Communication cycle diagram\"></h2>\n\n<hr>\n\n<p>My BottleUI.py (this is what I run to start the server):</p>\n\n<pre><code>from Populate import *  # Everything in Populate can now be directly called.\n# NOTE: Populate allows access to \"bottle\" and \"Main\"\n\n# This ensures the css file is available\n@route('/theCSS')\ndef static():\n    return static_file('main.css', root='static')\n\n@route('/citadel/:game/:player')\ndef gamePage(game, player):\n    if not (game.isdigit()) or not (player.isdigit()):\n        return \"Invalid page.\"\n    game = int(game)\n    player = int(player)\n    if ((game &gt;= 0) and (game &lt; listOfGames.__len__())) and ((player &gt;= 0) and (player &lt; listOfGames[game].listOfPlayers.__len__())):\n\n        return '''\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/theCSS\"&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;!-- Sample AJAX script below, change as needed --&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function() {\n            $('#chatForm').submit(function(e) {\n                $.ajax({\n                    type: 'POST',\n                    url: \"/AddToChat/''' + str(game) + '''/''' + str(player) + '''\",\n                    success: function() {\n                        $('#chatInput').val(\"\");\n                    }\n                });\n                e.preventDefault();\n            });\n        });\n        setInterval(\"updateChat();\", 1000);\n        $(function() {\n            updateChat = function() {\n                $('#chatText').load('/GenerateChat/''' + str(game) + '''');\n            };\n        });\n    &lt;/script&gt;\n    &lt;!-- Script to scroll to bottom of divs - needs to be changed into called function --&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        window.onload = function () {\n             var objDiv = document.getElementById(\"gameFlow\");\n             objDiv.scrollTop = objDiv.scrollHeight;\n             objDiv = document.getElementById(\"chatText\");\n             objDiv.scrollTop = objDiv.scrollHeight;\n        };\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;!-- Make this have background-image with the game number displaying programmatically --&gt;\n        &lt;div id=\"banner\"&gt;\n            &lt;h1&gt;Citadel - Game ''' + str(game) + ''', Player ''' + str(player) + '''&lt;/h1&gt;\n        &lt;/div&gt;\n        &lt;div id=\"main\"&gt;\n            &lt;div id=\"leftPanel\"&gt;\n                &lt;div id=\"playerTotals\"&gt;\n                    &lt;h4&gt;Player Totals:&lt;/h4&gt;\n                    &lt;div id=\"totalsText\"&gt;\n                        &lt;p&gt;Money:&lt;/p&gt;\n                        &lt;p&gt;Population:&lt;/p&gt;\n                        &lt;p&gt;Troops:&lt;/p&gt;\n                        &lt;p&gt;Friend:&lt;/p&gt;\n                        &lt;p&gt;Enemy:&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;!-- Player totals go here (money, population/limit, troops, friend, enemy) --&gt;\n                    &lt;div id=\"totalsNums\"&gt;\n\n                    &lt;/div&gt;\n                    &lt;div class=\"clear\"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"leftSegment\"&gt;\n                    &lt;h4&gt;Troop Cards:&lt;/h4&gt;\n                    &lt;!-- Player's troopCards here --&gt;\n                    &lt;select size=2&gt;\n\n                    &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div class=\"leftSegment\"&gt;\n                    &lt;h4&gt;Territory Cards:&lt;/h4&gt;\n                    &lt;!-- Player's territoryCards here --&gt;\n                    &lt;select size=2&gt;\n\n                    &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div class=\"leftSegment\"&gt;\n                    &lt;h4&gt;Region Cards:&lt;/h4&gt;\n                    &lt;!-- Player's regionCards here --&gt;\n                    &lt;select size=2&gt;\n\n                    &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div class=\"leftSegment\"&gt;\n                    &lt;h4&gt;Resource Cards:&lt;/h4&gt;\n                    &lt;!-- Player's resourceCards here --&gt;\n                    &lt;select size=2&gt;\n\n                    &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div class=\"leftSegment\"&gt;\n                    &lt;h4&gt;Diplomacy Cards:&lt;/h4&gt;\n                    &lt;!-- Player's diplomacyCards here --&gt;\n                    &lt;select size=2&gt;\n\n                    &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div id=\"chatPane\"&gt;\n                    &lt;form id=\"chatForm\" method=\"POST\" action=\"/AddToChat/''' + str(game) + '''/''' + str(player) + '''\"&gt;\n                        &lt;textarea name=\"theChatText\" id=\"chatInput\"&gt;&lt;/textarea&gt;\n                        &lt;input id=\"chatSubmit\" class=\"button\" type=\"submit\" value=\"Send\" /&gt;\n                    &lt;/form&gt;\n                &lt;/div&gt;\n                &lt;div class=\"clear\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div id=\"rightPanel\"&gt;\n                &lt;!-- Game flow goes here (shows current player/phase, attacks with results, etc) --&gt;\n                &lt;div id=\"gameFlow\"&gt;\n\n                &lt;/div&gt;\n                &lt;!-- Player turn stuff goes here (changes depending on which phase, etc) --&gt;\n                &lt;div id=\"playerActions\"&gt;\n\n                &lt;/div&gt;\n                &lt;!-- Chat goes here (implement last) --&gt;\n                &lt;div id=\"chatText\"&gt;\n\n                &lt;/div&gt;\n                &lt;div class=\"clear\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n    '''\n\n    else:\n        return \"Invalid page.\"\n\nrun(host='localhost', port=8080)\n</code></pre>\n\n<hr>\n\n<p>And here's my Populate.py (this is where my AJAX @route methods are stored):</p>\n\n<pre><code>    \"\"\"\nThis module contains the bottle routs for AJAX population of the various parts\nof the game page.\n\"\"\"\n\nfrom bottle import route, run, template, static_file, request\nfrom Main import *  # Everything in Main can now be directly called.\n\nglobalBegin()\n\n@route('/AddToChat/:game/:player', method='POST')\ndef AddToChat(game, player):\n    theText = request.POST.get('theChatText', '').strip()\n    game = int(game)\n    player = int(player)\n    listOfGames[game].listOfPlayers[player].addChat(theText)\n\n@route('/GenerateChat/:game')\ndef GenerateChat(game):\n    chatText = \"\"\n    game = int(game)\n    for line in listOfGames[game].chatList:\n        chatText += '&lt;div class=\"chatLine\"&gt;&lt;p&gt;'\n        chatText += line.player.name\n        chatText += ' &gt; &lt;/p&gt;&lt;p&gt;'\n        chatText += line.text\n        chatText += '&lt;/p&gt;&lt;/div&gt;'\n    return chatText\n</code></pre>\n\n<hr>\n\n<p>The problem is, the 'chatForm' form isn't working as intended. <code>AddToChat()</code> seems to think that <code>request.POST.get('theChatText', '')</code> is a <code>NoneType</code> when I try to submit text.</p>\n\n<p>So yeah, I'm stumped as to why it's doing this. As far as I can see, <code>'theChatText'</code> should be a valid key in the POST dict.</p>\n\n<p>I'll also just state that all my core game logic works (even though it's pretty clear that isn't the problem here).</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["php","javascript","ajax","implementation"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2818,"score":2,"question_id":549427,"title":"Howto: PHP/Javascript communication","body":"<p>As I'm developing my <a href=\"http://stackoverflow.com/questions/521723/reflective-web-application\">WebIDE</a>, I keep coming up with questions that I cannot answer myself.  This is because the project is supposed to help others create what they would \"normally\" create, but faster (i.e. as automated as possible).  In this light, my question is how to you implement a PHP backend?</p>\n\n<p>Here is what I do.  I like to create \"functions\" that the client JavaScript can call.  Usually, I send (via POST and JSON) a variable called \"action\" which holds the name of the \"function\" I am calling (as well as any arguments I wish to send it).  The PHP code, then, looks something like this:</p>\n\n<pre><code>if(issset($_POST['action'])) {\n    //function foo(arg1,arg2)\n    if($_POST['action'] == 'foo') {\n        $arg1 = $_POST['arg1'];\n        $arg2 = $_POST['arg2'];\n        //do stuff\n    }\n}\n</code></pre>\n\n<p>I can still reference other real functions I create in PHP, but I find that this is a nice way to organize everything and easy to implement in both JavaScript and PHP.</p>\n\n<p>What do you do?</p>\n\n<p><strong>Edit 1:</strong>  Ok, based on the first two answers to this question, I do not think I am explaining myself well.</p>\n\n<p>I am asking how do you create a PHP back end.  The idea is that you have your AJAX client written in JavaScript (or maybe something else, it <em>doesn't matter</em>), and then it will call your backend PHP with POST or GET data.  Based on this data, your backend will do what it needs to do (maybe it will simply update the database, and maybe even return information, again: it <em>doesn't matter</em>).</p>\n\n<p>The question now is: how do you tell it what to do?  What do you send via POST/GET and how do you interpret it in your backend?</p>\n"},{"tags":["php","jquery","ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":42,"score":-2,"question_id":13107555,"title":"ajax post data not working nothing received in the php script file","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13100554/jquery-post-data-to-a-php-script-and-display-it-immediately-in-the-same-php-scri\">jquery post data to a php script and display it immediately in the same php script file</a>  </p>\n</blockquote>\n\n\n\n<pre><code>var dataArray = $('input:checkbox:checked').map(function() {\n    return this.value;\n}).get();\n\n$.ajax({\n    type: 'POST',\n    url: 'showdata.php',\n    data: dataArray,\n    success: function(data) {\n        //there is nothing displayed in the alert box\n        alert('response data = ' + data);\n    }\n});\n</code></pre>\n\n<p><strong>showdata.php</strong></p>\n\n<pre><code>$data = ''; \n\nif (isset($_POST['data']))\n{\n    $data = $_POST['data'];\n}\nelseif (isset($_GET['data']))\n{\n    $data = $_GET['data'];\n}\n\n\necho 'd='.$data;\n</code></pre>\n"},{"tags":["php","jquery","ajax","thickbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13106869,"title":"post data to a thickbox or a new window using ajax and display posted data","body":"<p>Can data be posted to a thickbox or a new window using ajax POST method and then display that posted data in that thickbox or a new window on a button click ? Please help with code.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/13100554/jquery-post-data-to-a-php-script-and-display-it-immediately-in-the-same-php-scri/13100632#13100632\">jquery post data to a php script and display it immediately in the same php script file</a></p>\n"},{"tags":["php","jquery","ajax","class"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":42,"score":-3,"question_id":13106936,"title":"Using AJAX with PHP classes","body":"<p>I am trying to code in an MVC-like style, but I am having issues with AJAX. I have a form which serializes the fields and sends it to my controller.</p>\n\n<p>I must be doing this wrong, so please help!</p>\n\n<p><strong>AJAX</strong></p>\n\n<pre><code>$.post('test.php', $('#form').serialize(), function(data){\n    $('#form').html(data);\n});\n</code></pre>\n\n<p><strong>My PHP class</strong></p>\n\n<pre><code>class test {\n\n    public $post_variable;\n\n    function __construct(){\n        require_once('../model/post_variable.php');\n        $psm_obj = new post_variable();\n        $this-&gt;post_variable = $_POST['master_name'];\n        $this-&gt;test();\n    }\n\n    function test() {\n        return $this-&gt;post_variable;\n    } \n\n}\n</code></pre>\n"},{"tags":["jquery","ajax","hover","jquery-animate","jquery-hover"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13105843,"title":"Ajax/jQuery show/hide .element on hover(): referring the hovered wrapper?","body":"<p>This is one of my first try in jQuery/ajax, and i have a jam.</p>\n\n<p>Here is my HTML code...</p>\n\n<pre><code>&lt;div id=\"level_1_description\" class=\"level_description wrapper\"&gt;\n    &lt;h2&gt;&lt;a href=\"#\"&gt;Food&lt;/a&gt;&lt;/h2&gt;\n    &lt;strong&gt;..to have a good taste&lt;/strong&gt;\n    &lt;p class=\"description\"&gt;&lt;span class=\"text\"&gt;You want to eat healthy food.&lt;/span&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>...and the script for animated hover action: show/hide the <em>.description</em> element in the <em>.level_description</em> container.</p>\n\n<pre><code>&lt;script&gt;\n$('.level_description').hover(function(){\n    $('.description').animate({height:$('.text').height()},100);\n  },\n  function () {\n    $('.description').animate({height:1},100);\n  }\n);\n\n&lt;/script&gt;\n</code></pre>\n\n<p>working fine, but i have no idea how can i separate from the second wrapper (#level_2_description), witch has the same element (.level_description, .description) </p>\n\n<p>i want to use something like this? : </p>\n\n<pre><code>...\n$(this.'.description').animate({\n  height:$(this.'.text').height()\n...\n</code></pre>\n"},{"tags":["jquery","ajax","timedelay"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":359,"score":2,"question_id":6384220,"title":"Ajax delay simulation","body":"<p>I have a small ajax jquery script which returns some XML for me. Whilst it is working and communicating with the server I am displaying a loader animation.</p>\n\n<p>The problem is I don't see the animation. Either I have done something wrong or the network conection is really quick.</p>\n\n<p>Does anyone know how I can introduce a delay to my ajax code to slow the process down and I can test the animation feature?</p>\n\n<p>Thank you.</p>\n\n<p>ps: ajax code is below, just incase</p>\n\n<pre><code>function fetchData($nodeid, $area){\n    if( $nodeid != $currentRoomId ){\n        popupBox($area);//$area, $roomInfo);\n    }\n\n        var $nid, $title, $classroom, $boardroom, $cabaret;\n        $.ajax({\n\n            url: \"/room/\" + $nodeid + \"/rss.xml\",\n            dataType: \"xml\",\n            success: function($xml){\n\n                $returnXML  =   $xml;\n                $($xml).find('node &gt; *').each(\n                    function(){\n\n                        switch( $(this).attr('name') ){\n                            case 'Nid':\n                                $nid    =   $(this).text();\n                            break;\n                            case 'Title':\n                                $title  =   $(this).text();\n                            break;\n                            case 'Classroom':\n                                $classroom  =   $(this).text();\n                            break;\n                            case 'Boardroom':\n                                $boardroom  =   $(this).text();\n                            break;\n                            case 'Cabaret':\n                                $cabaret    =   $(this).text();\n                            break;\n                            case 'Theatre':\n                                $theatre    =   $(this).text();\n                            break;\n                            case 'Notes':\n                                $notes  =   $(this).text();\n                            break;\n                            default:\n                            break;\n                        }//close switch statement\n                    }\n                );\n                $roomInfo   =   new Array();\n                $roomInfo.push('Title', $title);\n                $roomInfo.push('Classroom', $classroom);\n                $roomInfo.push('Boardroom', $boardroom);\n                $roomInfo.push('Cabaret', $cabaret);\n                $roomInfo.push('Theatre', $theatre);\n                $roomInfo.push('Notes', $notes);\n                highlightRow($nid);\n                popupBox($area, $roomInfo);\n            },\n            statusCode: {\n                200: function(){\n                    //alert('responding just fine!');\n                }\n            },\n            error: function(){\n                //alert('Ajax not responding!');\n            },\n            complete: function(){\n                //alert('completed!');\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["asp.net","ajax","web-applications","manos"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":8556412,"title":".net mvc and manos what's different?","body":"<p>i have interest in asp.net web app use html5 websocket, long polling.</p>\n\n<p>i've heard that for use websock, longpoll must need socket listening server process separately iis web server.</p>\n\n<p>i thought that node.js, tornado, misultin and etc... are having special factor for async communication but they are just web server program.</p>\n\n<p>.net has <a href=\"https://github.com/jacksonh/manos\" rel=\"nofollow\">manos</a> project, but i looked document, it is just framework same as mvc framework.</p>\n\n<p>my question is, i want to make lightweight webapp. then what do I need to use?</p>\n"},{"tags":["jquery","ajax","jquery-ajax","cufon"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4084,"score":2,"question_id":4585227,"title":"Reloading Cufon after Ajax load, please assist","body":"<p>I have been trying every possible combination of cufon.replace - Cufon.refresh and Cufon.reload but i just cant seem to get this working. when original page loads cufon does its job, but when Ajax loads new content the cufon is missing. here is my java hope this makes sense to anyone, Cufon fires first, followed by Ajax,</p>\n\n<pre><code>jQuery.noConflict();\n</code></pre>\n\n<p>/*\n  * TYPOGRAPHY\n*/</p>\n\n<p>Cufon.set('fontFamily', 'ColaborateLight');\nCufon.replace('h2, #main h3, h4, h5, h6, #slogan, .label', {\n    hover: true\n});</p>\n\n<p>Cufon.set('fontFamily', 'Colaborate-Medium');\nCufon.replace('#main_home h3', {\n    hover: true\n});</p>\n\n<p>jQuery(document).ready(function() {</p>\n\n<pre><code>var hash = window.location.hash.substr(1);\nvar href = jQuery('#nav2 li a').each(function(){\n    var href = jQuery(this).attr('href');\n    if(hash==href.substr(0,href.length-5)){\n        var toLoad = hash+'.html #content';\n        jQuery('#content').load(toLoad)\n    }                                           \n});\n\njQuery('#nav2 li a').click(function(){\njQuery(\"#nav2 li a\").addClass(\"current\").not(this).removeClass(\"current\");\n\n    var toLoad = jQuery(this).attr('href')+' #content';\n    jQuery('#content').hide('fast',loadContent);\n    jQuery('#load').remove();\n    jQuery('#wrapper').append('&lt;span id=\"load\"&gt;LOADING...&lt;/span&gt;');\n    jQuery('#load').fadeIn('normal');\n    window.location.hash = jQuery(this).attr('href').substr(0,jQuery(this).attr('href').length-5);\n    function loadContent() {\n        jQuery('#content').load(toLoad,'',showNewContent())\n    }\n    function showNewContent() {\n        jQuery('#content').show('normal',hideLoader());\n    }\n    function hideLoader() {\n        jQuery('#load').fadeOut('normal');\n    }\n    return false;\n\n});\n</code></pre>\n\n<p>});</p>\n\n<p>and this is the pages in question that im having trouble with.\n<a href=\"http://www.mywildcoast.com/wild-coast-climate.html\" rel=\"nofollow\">Climate Page</a>\nYou will see the Ajax loader at the bottom of the page with a secondary menu list.\nI'm desperate guys, please help...</p>\n"},{"tags":["jquery","ajax","onchange"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13105989,"title":"Age Verification with jQuery.AJAX using dropdown fields?","body":"<p>I'm setting up a registration page and looking for a clean solution to perform a jQuery age check using the AJAX method <strong><em>by the onChange event and already before submitting the form</em></strong>. I have a simple form (shortened):</p>\n\n<pre><code>&lt;form action=\"\" id=\"birthday_form\" name=\"birthday\"&gt;\n    &lt;select name=\"field_4_1\"&gt;\n    &lt;option value=\"0\"&gt;[ DAY ]&lt;/option&gt;\n    &lt;option value=\"1\"&gt;1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;2&lt;/option&gt;\n    &lt;option value=\"3\"&gt;3&lt;/option&gt;\n    &lt;option value=\"4\"&gt;4&lt;/option&gt;\n    &lt;option value=\"5\"&gt;5&lt;/option&gt;\n    &lt;option value=\"6\"&gt;6&lt;/option&gt;\n    &lt;option value=\"7\"&gt;7&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;select name=\"field_4_2\"&gt;\n    &lt;option value=\"0\"&gt;[ MONTH ]&lt;/option&gt;\n    &lt;option value=\"1\"&gt;January&lt;/option&gt;\n    &lt;option value=\"2\"&gt;February&lt;/option&gt;\n    &lt;option value=\"3\"&gt;March&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;select name=\"field_4_3\"&gt;\n    &lt;option value=\"0\"&gt;[ YEAR ]&lt;/option&gt;\n    &lt;option value=\"1982\"&gt;1982&lt;/option&gt;\n    &lt;option value=\"1981\"&gt;1981&lt;/option&gt;\n    &lt;option value=\"1980\"&gt;1980&lt;/option&gt;\n    &lt;/select&gt;\n\n&lt;div id=\"result_of_age\"&gt;&lt;/div&gt;\n\n&lt;input type=\"submit\" name=\"submit_birthday\" value=\"Send\" /&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>I know how to get the result into the prepared DIV with jQuery.ajax() + \"serialize\" when submitting the form, but I am looking for a solution to already show the result as soon as all 3 selection fields are set.\nI'm sure it's possible, but which way would be the best solution to solve this? </p>\n\n<p>Any ideas?</p>\n\n<p>Best regards.</p>\n"},{"tags":["php","javascript","html","ajax","synchronous"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":254,"score":2,"question_id":7831296,"title":"HTML / AJAX / PHP synchronous harmony? Could asynchronous ever work?","body":"<p>I've been working out the best way to bridge javascript to get data from php with Ajax.\nAnd all while trying to keep the lines of code to a minimum and with greatest speed.\nI've come up with a way to pass AJAX a value by Object so it can be altered as if it was passed by reference and then send it back. But so far, I can only do this synchronous as the data will not be available until AJAX completes. </p>\n\n<p>Point is:\nI've been looking for an easy way access all of my PHP content with javascript.\nBuild a simple javascript(GetSomePHPstuff) API  if you will.</p>\n\n<p>As I am a novice at web programming, I would love to hear some input and feedback on this.\nThis is what I have come up with.</p>\n\n<p><strong>In this example, I am sending a text value from html through javascript to ajax to php and php sends it back to ajax back to javascript back to my html page.</strong></p>\n\n<p>Here is our simple HTML type file.</p>\n\n<p><strong>TEST.html</strong></p>\n\n<pre><code>&lt;script language=\"javascript\" src=\"ajax.js\"&gt;&lt;/script&gt;\n\n&lt;input type=\"text\" id=\"text\"/&gt;\n&lt;input type=\"button\" value=\"Return Text\" \nonClick=\"alert(ajaxReturnText(document.getElementById('text').value));\"/&gt;\n</code></pre>\n\n<p>Here is the ajax/javascript file.</p>\n\n<p><strong>AJAX.js</strong></p>\n\n<pre><code>function ReturnText(input, output){\n    if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari\n    xmlhttp=new XMLHttpRequest();\n    }\n    else{// code for IE6, IE5\n        xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlhttp.onreadystatechange=function(){\n        if(xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n            output.value = xmlhttp.responseText;\n        }\n    }\n\n    xmlhttp.open(\"GET\",\"php.php?text=\"+input,false);\n    xmlhttp.send();\n}\n\nfunction ajaxReturnText(input){\n    var output = new Object();\n    ReturnText(input, output);\n    return output.value\n}\n</code></pre>\n\n<p>And here is the PHP file</p>\n\n<p><strong>php.php</strong></p>\n\n<pre><code>&lt;?php \nfunction ReturnText($text){\n    return $text;\n}\nif($text = $_GET[\"text\"]){\n    echo ReturnText($text);\n    die();\n}\n?&gt; \n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13106002,"title":"AJAX request, getting href attribute for multiple links with same class","body":"<p>I'm writing a piece of jQuery that says if .ajaxLink is clicked, then take it's URL and apply it to the ajax call, like so:</p>\n\n<pre><code>$(\".ajaxLink\").click(function (e) {\n    e.preventDefault();\n    removePreviousData(); // removes any div that might be loaded in #content\n    jQuery.ajax({\n        type: 'GET',\n        url: $(this).attr('href'),\n        success: function (data, textStatus) {\n            $(data).appendTo('#content');\n        },\n        error: function (XMLHttpRequest, textStatus, errorThrown) {},\n        complete: function (XMLHttpRequest, textStatus) {\n            loadedData() // applies some relative animations for loaded content\n        }\n    });\n    return false;\n});\n</code></pre>\n\n<p>This works fine for the first link that I click on, but since I have multiple links on the same page that use this class, when I click on the second link, it just loads the same data.  How do I get it to apply to each .ajaxLink ( assuming .each(), but can't get that to run ).</p>\n\n<p>Thanks!</p>\n"},{"tags":["asp.net","javascript","ajax","ids"],"answer_count":6,"favorite_count":5,"up_vote_count":24,"down_vote_count":1,"view_count":29066,"score":23,"question_id":641280,"title":"Reference asp.net control by ID in javascript?","body":"<p>When asp.net controls are rendered their ids sometimes change, like if they are in a naming container. Button1 may actually have an id of ctl00_ContentMain_Button1 when it is rendered, for example.</p>\n\n<p>I know that you can write your javascript as strings in your cs file, get the control's clientID and inject the script into your page using clientscript, but is there a way that you can reference a control directly from javascript using asp.net ajax?</p>\n\n<p>I have found that writing a function to parse the dom recursively and find a control that CONTAINS the id that I want is unreliable,so I was looking for a best practice rather than a work-around. </p>\n"},{"tags":["javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":113,"score":1,"question_id":7509534,"title":"Hook into the end of an asynchronous javascript call","body":"<p>I'm calling a javascript function provided by a third-party.  This function fires off a few ajax/asynchronous requests before returning, and (impolitely) neither allows me to pass a callback, nor returns any references to the asynchronous calls it is making.</p>\n\n<p>Is there any way I can trigger something when all of the calls it's making complete?\nIs there a way I can track 'calls' launched from a javascript function?  Forgive my terminology; I'm a javascript beginner.</p>\n"},{"tags":["asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2609,"score":0,"question_id":463146,"title":"ASP.net: Can you call ModalPopupExtender from GridView's edit button?","body":"<p>Can you call a modal pop-up from a <code>GridView</code> control's auto-generated Edit button? Can someone provide a link on how to do this?</p>\n"},{"tags":["jquery","ruby-on-rails","ruby","ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13096288,"title":"Rails 3 - Got \"Undefined local variable or method `f' \" when use ajax to execute remote javascript","body":"<p>I have a question on this:\nI have a partial named <code>_return_item.html.erb</code>, so I want to render it repeatedly and dynamically.</p>\n\n<pre><code>&lt;%= f.fields_for :return_items, return_item do |item_form| %&gt;\n  some_field_input_for_return_item\n&lt;%end%&gt;\n</code></pre>\n\n<p>The <code>index.html.erb</code> is like this:</p>\n\n<pre><code>&lt;%= form_for(@return_request) do |f| %&gt;\n  &lt;div id=\"contact\"&gt;\n    &lt;!-- some_field_input_for_request_contact_info --&gt;\n  &lt;/div&gt;\n  &lt;div id=\"itemlist\"&gt;\n    &lt;!-- This part is working--&gt;\n\n    &lt;% @return_request.return_items.each do |item| %&gt;\n      &lt;%= render :partial =&gt; \"return_items/return_items\", :locals =&gt; {:f =&gt; f, :return_item =&gt; item}%&gt;\n      &lt;!-- I_want_to_append_the_partial_here --&gt;\n    &lt;%end%&gt;\n\n  &lt;/div&gt;\n  &lt;%= button_tag(\"Add New Item\", :class=&gt;\"addItem\" )%&gt;\n&lt;%end%&gt;\n\n&lt;script&gt;\n  $(document).ready( function () {\n    $( '.addItem' ).click(function () {\n      $.ajax({\n        url: \"return_requests/request_new_item\",\n        data: {\n               item_num: ($( '#itemlist' ).children().length)\n              },\n        dataType: \"script\"\n      })\n      return false;\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>The <code>request_new_item</code> controller is like this:</p>\n\n<pre><code>def request_new_item\n  @return_item = ReturnItem.new \nend\n</code></pre>\n\n<p>and here is <code>request_new_item.js.erb</code> :</p>\n\n<pre><code> $(\"#itemlist\").append('&lt;%= j render :partial =&gt; \"return_items/return_items\", :locals =&gt; {:f =&gt; f, :return_item =&gt; item } %&gt;');\n</code></pre>\n\n<p>When I press the button <code>addItem</code>, I expect to generate a new partial, but actually, this doesn't work. The console provide an error:</p>\n\n<pre><code> ActionView::Template::Error (undefined local variable or method `f' for #&lt;#&lt;Class:0x007f5a302232b0&gt;:0x007f5a380afea8&gt;)\n</code></pre>\n\n<p>UPDATE:\nI forgot to post the model:\n<code>return_request.rb</code>:</p>\n\n<pre><code>class ReturnRequest &lt; ActiveRecord::Base\n    has_many :return_items, :class_name=&gt;'ReturnItem', :foreign_key=&gt;'RMA_Nmb', :primary_key=&gt;'RMA_Nmb'\n    accepts_nested_attributes_for :return_items\nend\n</code></pre>\n\n<p><code>return_item.rb</code>:</p>\n\n<pre><code>class ReturnItem &lt; ActiveRecord::Base\n  belongs_to :return_request, :class_name=&gt;\"ReturnRequest\"\nend\n</code></pre>\n\n<p>So, could anybody explain me how this happen, and how can I fix this? Thanks</p>\n"},{"tags":["jquery","ajax","this","jsonserializer"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13093969,"title":"Why are updated element values not being passed?","body":"<p>I currently check if an input/textarea/checkbox/select changes and if so then I want to initiate my function to search the database and update the 'results' div. Now this is what I have so far..</p>\n\n<p>It works on change no problem, the only issue is now when I change a form item, it detects it but the new values are not passed to the .php file. Suggestions?</p>\n\n<p><strong>Note</strong>: I tried to use the $(this).serialize(); but it didn't work for me. I simply want to pass ALL of the specified form variables to the PHP file.</p>\n\n<pre><code>$(document).ready(function() { \n\n    $(\"select,:checkbox\").change(function(){ inits(); });\n    $(\"input,textarea\").keystop(function(){ inits(); });\n\n    a = \"GET\";\n    b = \"#recipeSearch\";\n    c = $(b).attr('action') + '?r';\n    f = \"#searchResults\";\n\n    function inits(){\n\n        var values = {\n            'term' : $(\"input#searchterm\").val(),\n            'photos' : $(b + \" #requirephotos\").val(),\n            'prep' : $(b + \" #preptime\").val(),\n            'cook' : $(b + \" #cooktime\").val()\n        }\n\n        console.log('Search Init');\n\n        $.ajax({\n            url: c,\n            cache: false,\n            dataType: 'json',\n            data: values,  // $(b).serialize(); // this still didn't work\n            success: function(response) {\n                //decoded = JSON.stringify(response);\n\n                if (response) {\n                    $(f).html(response);\n                }\n\n                //$.each(r.items, function(i,data){} //usage later on \n            },\n            error: function(e, jqxhr, settings, exception) {\n                console.log('Error: ' + e.toString() + ' - ' + jqxhr);\n            }\n        });\n    }\n\n});\n</code></pre>\n\n<p>Any and all suggestions are appreciated. I don't have a jsfiddle for you since it uses another script for keystop.</p>\n\n<p><strong>Example JSON</strong></p>\n\n<pre><code>{\n\"items\": [\n        \"item 1\",\n        \"item 2\",\n        \"item 3\",\n        \"item 4\",\n        \"item 5\"\n        ]\n}\n</code></pre>\n"},{"tags":["ajax","imagick"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13104878,"title":"Update image through jQuery AJAX request","body":"<p>I have a PHP script that creates and image using the imagick PHP extension. I display the image on page load like so:</p>\n\n<pre><code>&lt;img id=\"myImage\" src=\"php/image-script.php\" /&gt;\n</code></pre>\n\n<p>The PHP script ends by echoing the imagick image object that is built in the script:</p>\n\n<pre><code>echo 'myImage';\n</code></pre>\n\n<p>This all works fine on page load. I have now added a jQuery AJAX request which is fired when tabbing out of an input box. The value of the input box is then passed through to the image-script.php via a query string like so:</p>\n\n<pre><code>    $('#inputHeight').on('blur', function(){\n\n    var $height = $('#inputHeight').val(); \n\n        $.ajax({ url: './php/preview-image.php?h=' + $height,\n             type: 'post',\n             success: function(output) {\n                $('#preview').attr('src', output);             \n             }\n\n        });\n\n    });\n</code></pre>\n\n<p>My problem comes in the success function of the AJAX request. Currently i'm updating the img src attribute with the output (as above). This is simply writing the raw string value of the image into the attribute and it is not updating. How would I go about updating the image correctly?</p>\n"},{"tags":["php","ajax","html5","div"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13104744,"title":"onclick on DIV, load content from database on other div","body":"<p>My concept is to load contents of a div on other div in html. In short I want to learn how the  new Facebook inbox works, when we click on a message on the right, the contents and fetched from the database and loaded in the center column. I know its done by some AJAX may be but unable to figure out how it is possible.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13066712,"title":"How to load a list of javascript files and call a callback after all of them are interpreted?","body":"<p>jQuery offers the getScript( file, callback) function that loads a script file, interprets it, and then calles a callback() - function. </p>\n\n<p>If multiple files need to be loaded before executing the callback,one might think of a solution like this one:</p>\n\n<pre><code>function loadOrdered(files, callback) {\n   $.getScript(files.shift(), files.length\n       ? function(){loadOrdered(files, callback);}\n       : callback\n   );\n}\n</code></pre>\n\n<p>However, this forces the files to be loaded in a very specific order, which means that the browser has to wait for the server to respond before loading the next script. This probably causes an unnecessary delay.</p>\n\n<p>How can I achieve the same effect as with the above code, without forcing the browser to load the scrips sequentially?</p>\n"},{"tags":["php","ajax","drop-down-menu","google-charts"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":152,"score":1,"question_id":13100390,"title":"updating google chart dynamically on dropdown using ajax and php","body":"<p>I have to display google chart according to dropdown value, which contains shop ids\ni am retrieving the data from mysql, no problem with values, i am retrieving the data according to shop id from ajax, and just confirming it in the input box it is also fine.</p>\n\n<p>but i dont know how to update that chart with those values, without reloading the page.\nhere is my google chart code with hardcoded values.</p>\n\n<pre><code> &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n    &lt;title&gt;newChart&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt; \n          google.load(\"visualization\", \"1\", {packages:[\"corechart\"]});\n          google.setOnLoadCallback(drawChart);\n          function drawChart()\n          {var data = google.visualization.arrayToDataTable([['Company &amp; Model', 'Views'],['Samsung Hero Music E1232B',5],['Samsung Galaxy Y S5360',7],['Samsung Galaxy Ace S5830',7],['Karbonn K 1212',2],]);      \n            var options = {\n              title: 'Most Popular Item ',\n              hAxis: {title: 'Brand', titleTextStyle: {color: 'red'}}};\n            var chart = new google.visualization.ColumnChart(document.getElementById('MPI_chart_div'));\n            chart.draw(data, options);\n          }\n          &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;h3&gt;COLUMN CHART FOR MOST POPULAR ITEM &lt;/h3&gt;\n        Select Shop  &lt;select id=\"MPI_selected_shop\" onchange=\"MPI_set_shop(this.value);\"&gt;           \n                &lt;option value=\"all_Shops\"&gt;All Shops&lt;/option&gt;\n                &lt;option value=\"1\"&gt;1&lt;/option&gt;\n                &lt;option value=\"2\"&gt;2&lt;/option&gt;\n                &lt;option value=\"3\"&gt;3&lt;/option&gt;\n                &lt;option value=\"4\"&gt;4&lt;/option&gt;\n                 &lt;/select&gt;\n&lt;input type=\"text\" id=\"sd\"  /&gt;\n\n        &lt;div id=\"MPI_chart_div\" style=\"width: 800px; height: 400px;\"&gt;&lt;/div&gt; \n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>here is my ajax code in the same page within script tag</p>\n\n<pre><code>var xmlHttp\n\n                function MPI_set_shop(str)\n                { \n                    alert(str);\n                    xmlHttp=GetXmlHttpObject();\n                    if (xmlHttp==null)\n                    {\n                      alert (\"Your browser does not support AJAX!\");\n                      return;\n                    } \n                    var url=\"chart.php\";\n                    url=url+\"?q=\"+str;\n                    alert(url);\n\n                    xmlHttp.onreadystatechange=stateChanged;\n                    xmlHttp.open(\"GET\",url,true);\n                    xmlHttp.send(null);\n                }\n\n                function stateChanged() \n                { \n                    if (xmlHttp.readyState==4)\n                    { \n                        document.getElementById(\"sd\").value=xmlHttp.responseText;\n\n                        $st=xmlHttp.responseText;\n\n                        alert($st);\n\n                    }\n                }\n</code></pre>\n\n<p>here is my chart.php from where i am getting the formatted data from mysql using ajax</p>\n\n<pre><code>&lt;?php\n $testid=0;\n$testid=$_REQUEST[\"q\"];\n//echo $testid;\n\n$con = mysql_connect(\"localhost\",\"root\",\"\");\n                if (!$con)\n                {\n                    die('Could not connect: ' . mysql_error());\n                }\n                // Select Database\n                mysql_select_db(\"mysql\", $con) or die('Could not connect: ' . mysql_error());;\n\n                                    $qMostPopularItem = \"SELECT t.pr_id,p.pdt_company_name,p.pdt_model_name,SUM(t.count) AS count FROM tmp AS t INNER JOIN product_mapping AS p ON t.pr_id = p.pr_id AND t.shop_id =$testid GROUP BY pr_id ORDER BY t.count DESC;\";\n\n                                        $mpi = mysql_query($qMostPopularItem,$con) or die('Could not fetch MPI: ' . mysql_error());\n\n                                      while($infoMPISW = mysql_fetch_assoc($mpi)) \n                                        { \n                                                echo \"['\".$infoMPISW['pdt_company_name'].\" \";\n                                                echo $infoMPISW['pdt_model_name'] .\"',\";\n                                                echo $infoMPISW['count'],\"],\";\n\n                                        }\n\n                      ?&gt;\n</code></pre>\n"},{"tags":["php","ajax","suggestions"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13104240,"title":"Update page for a specific user from executing a script","body":"<p>Im doing a little bit of research of how this functionality can work. I have a logged in user and that user will update something thru a script executed on his cellphone. This should result in updating a specific field in the logged in users web browser.</p>\n\n<p>How can I achieve this? I need to update the specific user session and noone else. I need after executing the script, check if user is logged in and if so, update, otherwise, it should do something else.</p>\n\n<p>Any suggestions?</p>\n\n<p>UPDATE:</p>\n\n<p>Let's say like this:</p>\n\n<p>User are logged in on my page with his computer. In the same time, user is using the cellphone to send some data to a script that accepts the data and returns it to a field on the users computers web browser. Since we have multiple users logged in, I need to make sure that this functionality is returning the data to the right persons web browser.</p>\n"},{"tags":["javascript","jquery","ajax","templates","symfony2"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1146,"score":3,"question_id":10587463,"title":"Symfony2 Ajax and Jquery","body":"<p>I am developing an application using Symfony2 and twig for the templates. I am also using ajax. This is part of my code in my controller:</p>\n\n<pre><code>    public function testuaanotatuAction(Request $request)\n    { \n      if ($request-&gt;isXmlHttpRequest())\n      {\n       return $this-&gt;forward('AnotatzaileaAnotatzaileaBundle:Page:Interpretatu');\n      }\n\n    // Some code.....\n            return $this-&gt;render('AnotatzaileaAnotatzaileaBundle:Page:AnotatuInterpretazio.html.twig',\n                                   array('Azpimarratu' =&gt; $Markagarria-&gt;getMarkIdent()));\n\n}\n\n\n    public function InterpretatuAction()\n    {\n      return $this-&gt;render('AnotatzaileaAnotatzaileaBundle:Page:FAQ.html.twig');\n    }\n</code></pre>\n\n<p>And then this is my code in AnotatuInterpretazio.html.twig' were I do the Ajax call using JQuery:</p>\n\n<pre><code>&lt;script type='text/javascript'&gt;\n          $(\"#ButtonId\").click(function () \n                             {\n                               $.ajax({\n                                        url: \"{{ path('AnotatzaileaAnotatzaileaBundle_testuaanotatu') }}\",\n                                        type: \"POST\"\n                                       });      \n                         });\n    &lt;/script&gt;\n</code></pre>\n\n<p>As you can see what I intend to do here is to call InterpretatuAction through the template AnotatuInterpretazio.html.twig. Then InterpretatuAction will call another template. It doesnt work, any idea?</p>\n"},{"tags":["javascript","jquery","ajax","pagination","increment"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":106,"score":1,"question_id":13079389,"title":"Multiple paginations and incremented values on a single page (Javascript)","body":"<p>I'm trying to increment values on button clicks. This is easy if there is only 1 button but I'm confused on how to keep track of the counts if there are <strong>multiple</strong> buttons. This seems even more challenging because I won't know prior to page load how many button counts I have to keep track of. The ultimate goal is to build multiple AJAX pagination schemes on a single page (load older list items from my database sequentially and specific to the item that was click).</p>\n\n<p>here's the JSFiddle (below is its JS and HTML) i've started to get at this: <a href=\"http://jsfiddle.net/trpeters1/menAX/6/\" rel=\"nofollow\">http://jsfiddle.net/trpeters1/menAX/6/</a></p>\n\n<p>JS:</p>\n\n<pre><code>var cnt=function(id){ //this code is incomplete but hopefully you'll get the idea of what i'm trying to do...\nvar j=0;\nfor(var i=0; i&gt;100; i++){\n    if(id[i]==i) j+=5;\n}\n    return j;\n};\n\n$('button').click(function(){  \n   var id=this.id;\n   var c=cnt(id); //something which will return the current increment value of the button that was clicked \n   $('#'+id+'div').append(c+'message'+id+'&lt;br&gt;');\n});​\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button type=\"button\" id=\"btn1\"&gt;1&lt;/button&gt;&lt;div id=\"btn1div\"&gt;&lt;/div&gt;\n&lt;button type=\"button\" id=\"btn2\"&gt;2&lt;/button&gt;&lt;div id=\"btn2div\"&gt;&lt;/div&gt;\n&lt;button type=\"button\" id=\"btn3\"&gt;3&lt;/button&gt;&lt;div id=\"btn3div\"&gt;&lt;/div&gt;  \n</code></pre>\n\n<p>The problem with this code is that clicking each of the buttons outputs the same message. Ideally, the code would be able to keep track of each button that was clicked. The way I was thinking this could work would be to tie each button's <code>id</code> with its own counter (would probably need multiple <code>j</code> counters?).</p>\n\n<p>thoughts?</p>\n"},{"tags":["ajax","google","seo","hashbang"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":302,"score":2,"question_id":11622346,"title":"Hashbang URLs make the website difficult to crawl by Google?","body":"<p>Our agency built a dynamic website that uses a lot of AJAX interactions and #! (hashbang) URLs: <a href=\"http://www.gunlawsbystate.com/\" rel=\"nofollow\">http://www.gunlawsbystate.com/</a></p>\n\n<p>It's a long book which you can scroll through and the URL in the address bar changes dynamically. We have to support IE so please don't advise using pushState — hansbang is the only option for us for now.</p>\n\n<p>There's a navigation in the left sidebar which contains links to all chapters in the book.</p>\n\n<p>An example of a link:\n<a href=\"http://www.gunlawsbystate.com/#!/federal-properety/national-parks-and-wildlife-refuges/\" rel=\"nofollow\">http://www.gunlawsbystate.com/#!/federal-properety/national-parks-and-wildlife-refuges/</a></p>\n\n<p>We are expecting google to crawl this:\nhttp:// www.gunlawsbystate.com/?_escaped_fragment_=/federal-properety/national-parks-and-wildlife-refuges/\nwhich is complete html snapshot of the section. (+ there are links to the subsections like www.gunlawsbystate.com/#!/federal-properety/national-parks-and-wildlife-refuges/ii-change-in-the-law/ => www.gunlawsbystate.com/?_escaped_fragment_=/federal-properety/national-parks-and-wildlife-refuges/ii-change-in-the-law/ ).</p>\n\n<p>It all looks to be complete according to the Google's specifications ( developers.google.com/webmasters/ajax-crawling/docs/specification ).\nThe site is run for about 3 months for now. The homepage is getting re-indexed every 10-15 days.</p>\n\n<p>The problem is that for some reason Google doesn't crawl hashbang URLs properly. It seems like Google just \"doesn't like\" those URLs.</p>\n\n<p>www.google.ru/search?&amp;q=site%3Agunlawsbystate.com :\nJust 67 pages are indexed. Notice that most of the pages Google indexed have \"normal\" URLs (mostly wordpress blog posts, categories and tags) and just 5-10% of result pages are hashbang URLs, although there are more than 400 book sections with unique content which Google should really like if it crawles it properly.</p>\n\n<p>Could someone give me an advise on this, why Google does not crawl our book pages properly? Any help will be appreciated.</p>\n\n<p><em>P.S. I'm sorry for not-clickable links — stackoverflow doesn't let me post more than 2.</em></p>\n\n<p><strong>UPD.</strong> The sitemap has been submitted to google a while ago. Google Webmaster Tools says that 518 URLs submitted and just 62 URLs indexed. Also, on the 'Index Status' page of the Webmaster Tools I see that there are 1196 pages <em>Ever crawled</em>; 1071 pages are <em>Not selected</em>. It clearly points to the fact that for some reason google doesn't index the #! pages that it visits frequently.</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13103220,"title":"Jquery ajax save button and save-exit button","body":"<p>New to jquery. How can I have a simple form with a Save button and a Save-Exit button?</p>\n\n<p>What I have right now does 'work' in a way. But when I post then click save-exit. Then go back to /messages. Use the form and click save-exit it posts and stays on the page. But then if I repeat then it will post and exit.</p>\n\n<p>JQUERY</p>\n\n<pre><code>var BASE = 'http://localhost/sym/messages';\n\n$('#xhrSave').submit(function() {\n\n    event.preventDefault();\n\n    $('[name=\"save_continue\"]').click(function() {\n        window.location = '#';\n    });\n\n    $('[name=\"save_exit\"]').click(function() {\n        window.location = BASE;\n    });\n\n    var url = $(this).attr('action');\n    var data = $(this).serialize();\n\n    $.ajax({\n        type: 'post',\n        url: url,\n        dataType: 'json',\n        data: data,\n        success: function(data) {\n\n            $('#message_list').append('&lt;div&gt;' + data.message + '&lt;a class=\"delete\" rel=\"'+ data.id +'\" href=\"#\"&gt;Delete&lt;/a&gt;&lt;/div&gt;');\n\n        }\n\n    });\n\n    // clear textbox\n    $('#form_message').val('');\n\n});\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;form action=\"&lt;?=URL::to('messages/xhrSave')?&gt;\" method=\"post\" id=\"xhrSave\"&gt;\n\n&lt;input type=\"text\" name=\"message\" value=\"\" id=\"form_message\" /&gt;\n\n&lt;button type=\"submit\" name=\"save_continue\" class=\"save_form\"&gt;Save&lt;/button&gt;\n&lt;button type=\"submit\" name=\"save_exit\" class=\"save_form\"&gt;Save-Exit&lt;/button&gt;\n</code></pre>\n\n<p></p>\n\n\n"},{"tags":["ajax","http"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13097670,"title":"AJAX Newbie , POSTing data on server","body":"<p>I started learning AJAX recently and am trying a very simple project which involves capturing some form data and sending it to two servers.</p>\n\n<p>The first server is the one which hosts the  website and server side php handling. This worls fine</p>\n\n<p>The second server is a python basic http server which handles only the POST operation request send from AJAX. This functionality works but is a bit weird.</p>\n\n<p>Let me explain</p>\n\n<p>Here is my AJAX code which is absolutely straight forward.</p>\n\n<pre><code>function xml_http_post(url, data) {\n    var req = false;\n    try {\n        // Firefox, Opera 8.0+, Safari\n        req = new XMLHttpRequest();\n    }\n    catch (e) {\n        // Internet Explorer\n        try {\n            req = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }\n        catch (e) {\n            try {\n                req = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n            catch (e) {\n                alert(\"Your browser does not support AJAX!\");\n                return false;\n            }\n        }\n    }\n\n    req.onreadystatechange = function() {\n        if (req.readyState == 4) {\n    //        callback(req);\n\n        }\n    }\n\n    req.open(\"POST\", url, true);\n    req.setRequestHeader(\"Content-type\",\"text/plain\");\n    req.send(data);\n}  \n</code></pre>\n\n<p>Since I do not intend to send back any response , my callback function on ready state change is empty.</p>\n\n<p>But when I execute this code ( triggered by onclick on a button) , the POST doesnt work and server doesnt seem to receive anything.</p>\n\n<p>But the most surprising thing is that if I keep a breakpoint at req.open( ) and then do a manual step execution then it works always. Which means , I guess that there is some timing issue which needs to be resolved.  </p>\n\n<p>It works fine without breakpoints if the third parameter \"async\" is set to false but that is anyway undesirable so I want to make it work with async = true.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks\nShyam</p>\n"},{"tags":["ajax","popup-balloons","extender"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1903,"score":0,"question_id":8286741,"title":"Hide/Show ajax cloud BalloonPopupExtender","body":"<p>I'm using the BalloonPopupExtender on a text box in order to say : \"Unknown input\"\nbecause its the only one that allows me to have a panel in which i can insert whatever controls i want.</p>\n\n<p>i want from a button push to show it and from a text change in the textbox to hide it.\ni noticed there is no visibility property for BalloonPopupExtender, only the DisplayOnFocus, DisplayOnClick.... properties. but no way to control it from another button or function.</p>\n\n<p>how can i hide/show the BalloonPopupExtender?</p>\n"},{"tags":["ajax","mootools","response"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12887502,"title":"Mixedup ajax response on mutliple Form.Request mootools","body":"<p>I have 2 Form.Request in 2 functions that are executed on 2 different buttons clicks</p>\n\n<p><strong>here is fiddle</strong>\n<a href=\"http://jsfiddle.net/RtxXe/38/\" rel=\"nofollow\">http://jsfiddle.net/RtxXe/38/</a></p>\n\n<p>seems like I did not set the events in right order in my functions since they are mixing up the responses.  if you hit <strong>Clear cache</strong> and than <strong>Send</strong> you still get response from clear cache and vice versa. Unless you reload the page and click again you cant get the right response for each button as it should be . </p>\n\n<p>Since this is not my original form and *<em>I can only change it with js *</em> , i added the clear cache button with new Element. I cant figure out as to why is this happening and any help is appreciated.</p>\n\n<p><strong>this is original html:</strong></p>\n\n<pre><code>&lt;div id=\"toolbar\"&gt;\n  &lt;ul&gt;\n    &lt;li id=\"adminsubmit\"&gt;&lt;a href=\"javascript:;\"&gt;Send&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n&lt;div id=\"response\"&gt;&lt;/div&gt;\n&lt;form action=\"http://www.scoobydoo.com/cgi-bin/scoobysnack\" method=\"post\" name=\"editform\" id=\"myform\"&gt;\n  &lt;fieldset&gt;\n    &lt;!-- form elements go here --&gt;\n  &lt;/fieldset&gt;\n  &lt;input type=\"hidden\" name=\"task\" value=\"\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>​ and here is js:</strong> </p>\n\n<pre><code>    var AdminForm = {\n    start: function() {\n        var toolbar = $$('#toolbar ul');\n        var addbtn2 = new Element('li', {\n            'id': 'cache',\n            'class': 'button',\n            html: '&lt;a href=\"javascript:;\"&gt;Clear Cache&lt;/a&gt;'\n        });\n        addbtn2.inject(toolbar[0], 'top');\n        var btn1  = $('adminsubmit').getElement('a');\n        var btn2  = $('cache').getElement('a');\n\n\n        btn1.addEvent('click', function(event) {\n            event.preventDefault ? event.preventDefault() : event.returnValue = false;\n            AdminForm.formChange();\n        });\n\n        btn2.addEvent('click', function(event) {\n            event.preventDefault ? event.preventDefault() : event.returnValue = false;\n            AdminForm.clearCache();\n        });\n    },\n    formChange: function() {\n\n        var adminform = $('myform');\n        var target = $('response');\n        var adminsend = new Form.Request(adminform, target, {\n            onSend: function() {\n                target.set('html', 'formChange sending');\n            },\n            onComplete: function() {\n                target.set('html', 'formChange sent');\n            }\n        });\n        adminsend.send();\n    },\n\n\n    clearCache: function() {\n\n        var adminform = $('myform');\n        var target = $('response');\n        var clearingcahe = new Form.Request(adminform, target, {\n            onSend: function() {\n                target.set('html', 'clearCache sending');\n            },\n            onComplete: function() {\n                target.set('html', 'clearCache sent');\n            }\n        });\n        clearingcahe.send();\n    }\n}\nwindow.addEvent('domready', AdminForm.start);​\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","w3c-validation"],"answer_count":5,"favorite_count":4,"up_vote_count":12,"down_vote_count":0,"view_count":17646,"score":12,"question_id":355043,"title":"How do I escape an ampersand in a javascript string so that the page will validate strict?","body":"<p>I am trying to pass a dataString to to an ajax call using JQuery.  In the call, I construct the get parameters and then send them to the php page on the receiving end.  The trouble is that the data string has ampersands in them and the HTML strict validator is chocking on it.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>$(document).ready(function(){\n\t$(\"input#email\").focus();\n\t$('#login_submit').submit(function(){\n\t\tvar username = $('input#email').val();\n\t\tvar password = $('input#password').val();\n\t\tvar remember = $('input#remember').attr(\"checked\");\n\t\tvar dataString = \"email=\"+username+\"&amp;password=\"+password+\"&amp;remember=\"+remember;\n\t\t$.post('login.php', dataString, function(data) {\n\t\t\tif (data == 'Login Succeeded.') {\n\t\t\t\tlocation.reload(true);\n\t\t\t} else {\n\t\t\t\t$(\"input#email\").focus();\n\t\t\t\t$(\"#login_msg\").html(data).effect(\"pulsate\", {times: 2}, 1000);\t\n\t\t\t}\n\t\t});\t\t\t\n\t\treturn false;\n\t});\n});\n</code></pre>\n\n<p>and here is an example of the validator message: cannot generate system identifier for general entity \"password\".</p>\n\n<pre><code>var dataString = \"email=\"+username+\"&amp;password=\"+password+\"&amp;remember=\"+rememb…\n</code></pre>\n\n<p>(in the validator the \"p\" after the first ampersand is marked red indicating the point of the failure).</p>\n"},{"tags":["jquery","ajax","jquery-mobile"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5786,"score":1,"question_id":6332174,"title":"jquery mobile - loading content into a div","body":"<p>Jquery Mobile works by “hijacking” a page and loading content and injecting it into the page.  </p>\n\n<p>It seems that this creates a problem when i try to inject other content into the page. </p>\n\n<p>I have my index.html and then a page2.html file. I'm setting up jquery mobile in the normal fashion wrapping the contents of each page in a div like so: </p>\n\n<pre><code>&lt;div id=\"container\" data-role=\"page\"&gt;\n   // my content\n&lt;a href=\"page2.html\"&gt;go to page 2&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>when the user taps go to page 2, it does the nice slide effect. The url in the location bar looks like this: index.html#page2.html</p>\n\n<p>jquery mobile inject the content of the page using the anchors and applies the transition. nice so everthing works great up to the next part.</p>\n\n<p>On page2.html, i have a section that is loading some external data and injecting it into a div.</p>\n\n<pre><code>&lt;a href=\"http://www.somedomain.com/myata.php\" class=\"ajaxtrigger\" data-role=\"none\"&gt;mydata&lt;/a&gt;\n&lt;div id=\"target\"&gt;&lt;/div&gt;\n&lt;script src=\"js/code.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/loader.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n     $('.ajaxtrigger').trigger('click');\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>The problem i am having is that when i enable the transitions in jquery mobile this script doesn't work. It won't load the data into the div. bummer. </p>\n\n<p>Anyone know what i need to do to get it to trigger and load the content into that div?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13102300,"title":"Smooth Div Scroll not correctly displaying","body":"<p>I am trying to implement smooth div scroll, the \"Clickable Logo Parade\" in particular: <a href=\"http://www.smoothdivscroll.com/clickableLogoParade.html\" rel=\"nofollow\">http://www.smoothdivscroll.com/clickableLogoParade.html</a></p>\n\n<p>And I got it working in a blank page perfectly exactly the way I want it to, but when I insert it in my current layout it doesnt work properly.. I am assuming something is interfering with it?</p>\n\n<p>Any help?</p>\n\n<p>This is what I added into my css:</p>\n\n<pre><code>#logoParade\n{\nwidth: 628px;\nheight: 75px;\nposition: relative;\n}\n\n#logoParade div.scrollableArea a\n{\ndisplay: block;\nfloat: left;\npadding-left: 10px;\n}\n</code></pre>\n\n<p>This is the jQuery I have added:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$(\"#logoParade\").smoothDivScroll({ \n    autoScrollingMode: \"always\", \n    autoScrollingDirection: \"endlessLoopRight\", \n    autoScrollingStep: 1, \n    autoScrollingInterval: 25 \n});\n\n// Logo parade event handlers\n$(\"#logoParade\").bind(\"mouseover\", function() {\n    $(this).smoothDivScroll(\"stopAutoScrolling\");\n}).bind(\"mouseout\", function() {\n    $(this).smoothDivScroll(\"startAutoScrolling\");\n});\n\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And these documents im including: </p>\n\n<pre><code>&lt;script src=\"js/jquery-ui-1.8.23.custom.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;!-- Latest version (3.0.6) of jQuery Mouse Wheel by Brandon Aaron\n     You will find it here: http://brandonaaron.net/code/mousewheel/demos --&gt;\n&lt;script src=\"js/jquery.mousewheel.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;!-- jQuery Kinectic (1.5) used for touch scrolling --&gt;\n&lt;script src=\"js/jquery.kinetic.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;!-- Smooth Div Scroll 1.3 minified--&gt;\n&lt;script src=\"js/jquery.smoothdivscroll-1.3-min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>As well as of course actual jquery..</p>\n\n<p>I uploaded me trying to implement it here you can have a look:\n<a href=\"http://www.mintystudios.co.uk/clients/naghmeh/\" rel=\"nofollow\">http://www.mintystudios.co.uk/clients/naghmeh/</a></p>\n\n<p>And here is working version in a blank page..:\n<a href=\"http://www.mintystudios.co.uk/clients/naghmeh/1/\" rel=\"nofollow\">http://www.mintystudios.co.uk/clients/naghmeh/1/</a></p>\n\n<p>Anyone know why it isnt working in the implemented version?</p>\n"},{"tags":["php","jquery","ajax","proxy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":11834000,"title":"php - how to be able to ajax post and return from this script?","body":"<p>I'm quite stuck in how to edit this script be able to take a request from jquery and return to me the value the script returns? Any help is most gratefully appreciated?</p>\n\n<p>I can use it to pass an xml file and url from the filesystem and get the return I expect but would really like to be able to use it as a proxy to a wsdl service.</p>\n\n<p>[edit] Due to environmental changes I'm wanting to use the below script to pass back to me the xml return from a wsdl service that I'm passing xml. It works fine when I do so from the command line - I'm just unsure how to be able to get the script to accept a post and then return the xml return from the service call.</p>\n\n<p>I'm using the script as follows from the command line:</p>\n\n<pre><code>php file.php theurl &lt;test.xml\n</code></pre>\n\n<p>^^ Which returns to me the xml I would like to then pass back to the frontend</p>\n\n<pre><code>&lt;?php\nini_set('display_errors', \"1\");\n\n$url= $argv[1];\n\necho \"url\\n$url\\n\";\n\npreg_match(\"/https?:\\/\\/([^\\/]*)(.*)/\", $url, $matches);\n$host=$matches[1];\n$request=$matches[2];\n\n$mxml=fread(STDIN,65536);\n$yt =curl_init();\n$header =   \"POST $request  HTTP/1.0\\r\\n\";\n$header .=  \"Host: $host\\r\\n\";\n$header .=  \"SoapAction:\";\n$header .=  \"Content-Type: text/xml\\r\\n\";\n$header .=  \"Content-Length: \".strlen($mxml).\"\\r\\n\";\n$header .=  \"Content-Transfer-Encoding: text\\r\\n\";\n$header .=  \"Connection-Close: close\\r\\n\\r\\n\";\n\necho \"header\\n$header\\n\";\n\n$header .=  $mxml;\n\ncurl_setopt($yt, CURLOPT_SSL_VERIFYPEER,0);\ncurl_setopt($yt, CURLOPT_URL, $url);\ncurl_setopt($yt, CURLOPT_CUSTOMREQUEST, $header);\ncurl_setopt($yt, CURLOPT_RETURNTRANSFER, true);\n\n$rxml=curl_exec($yt);\necho \"sent\\n$mxml\\n\";\necho \"received\\n$rxml\\n\";\n\necho curl_error($yt);\n?&gt;\n</code></pre>\n"},{"tags":["asp.net-mvc","ajax","file-upload"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":969,"score":0,"question_id":3497751,"title":"Using ASP.NET MVC & AJAX to do a file upload and preview image","body":"<p>I am doing what would take me less that 2 hours to do in old ASP.Net Web Forms but has left me stumped in how to implement in ASP.Net MVC.</p>\n\n<p>I am trying to put together a really basic admin site about musicians. a musician has an associated picture of themselves, then some details like name, age, home town alongside the profile picture.</p>\n\n<p>When an admin user creates a musician, the create view has a file upload, and onchange of the file upload, a preview image should appear. The create page also has the form fields for the other inputs.</p>\n\n<p>In the details view, the musician's profile picture should appear alongside the details.</p>\n\n<p>When in edit mode, again, the existing image should appear, and if the user chooses to change the picture, the picture again will change there on the spot, without reloading the page.</p>\n\n<p>This seems incredibly easy, but I am really struggling to see how the ASP.Net MVC architecture makes this possible without a great deal of work.</p>\n"},{"tags":["javascript","ajax","mobile","connection","emulation"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13046639,"title":"Emulate mobile connection","body":"<p>We have about 3-5 XHR requests on mobile page - and sometimes part of them not working, only on real devices, only on slow connection. I want to improve sustainability of our mobile web application. </p>\n\n<p>So my question is.. How to emulate edge connection, that randomly brokes? </p>\n\n<p>In emulators like MobiOne - connection speed limit work, but connection has desktop stability - so everything just work slowly. </p>\n"},{"tags":["javascript","ajax","knockout.js","asp.net-web-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13101376,"title":"how to call a method in the knockout $.getJSON()","body":"<p>I have this basic knockout script set up (still learning)</p>\n\n<pre><code>$.getJSON(clientUrl + \"/list/\" + 1, function (data) {\n\nvar viewModel = {\n    clients: ko.observableArray(data)\n};\n\nko.applyBindings(viewModel);\n});\n</code></pre>\n\n<p>The first argument 'lucidServer.getClients(1)' makes a call to this ajax request:</p>\n\n<pre><code>var getClients = function (id) {\n    return $.ajax(clientUrl + \"/list/\" + id)\n};\n</code></pre>\n\n<p>Now I am getting the json back, but it does not seem to be binding correctly the the template. Here is the json:</p>\n\n<pre><code>0: {iD:1, userId:1, name:CompanySoft, LLC.,…}\n1: {iD:2, userId:1, name:Widget Factory,…}\n2: {iD:3, userId:1, name:Jim's Consulting,…}\n</code></pre>\n\n<p>ANd the template is here:</p>\n\n<pre><code>&lt;div id=\"clientListOutput\"&gt;\n            &lt;ul \"template: { foreach: clients }\"&gt;\n                &lt;li&gt;&lt;span data-bind\"text: name\"&gt;&lt;/span&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n</code></pre>\n"},{"tags":["python","ajax","comet","long-polling","tornado"],"answer_count":4,"favorite_count":12,"up_vote_count":6,"down_vote_count":0,"view_count":4880,"score":6,"question_id":2317501,"title":"Asynchronous COMET query with Tornado and Prototype","body":"<p>I'm trying to write simple web application using Tornado and JS Prototype library. So, the client can execute long running job on server. I wish, that this job runs Asynchronously - so that others clients could view page and do some stuff there.</p>\n\n<p>Here what i've got:</p>\n\n<pre><code>#!/usr/bin/env/ pytthon\n\nimport tornado.httpserver\nimport tornado.ioloop\nimport tornado.options\nimport tornado.web\nfrom tornado.options import define, options\n\nimport os\nimport string\nfrom time import sleep\nfrom datetime import datetime\n\ndefine(\"port\", default=8888, help=\"run on the given port\", type=int)\n\nclass MainHandler(tornado.web.RequestHandler):\n    def get(self):\n        self.render(\"templates/index.html\", title=\"::Log watcher::\", c_time=datetime.now())\n\nclass LongHandler(tornado.web.RequestHandler):\n    @tornado.web.asynchronous\n    def get(self):\n        self.wait_for_smth(callback=self.async_callback(self.on_finish))\n        print(\"Exiting from async.\")\n        return\n\n    def wait_for_smth(self, callback):\n        t=0\n        while (t &lt; 10):\n            print \"Sleeping 2 second, t={0}\".format(t)\n            sleep(2)\n            t += 1\n        callback()\n\n    def on_finish(self):\n        print (\"inside finish\")\n        self.write(\"Long running job complete\")\n        self.finish()\n\n\n\ndef main():\n    tornado.options.parse_command_line()\n\n    settings = {\n        \"static_path\": os.path.join(os.path.dirname(__file__), \"static\"),\n        }\n\n    application = tornado.web.Application([\n        (r\"/\", MainHandler),\n        (r\"/longPolling\", LongHandler)\n        ], **settings\n    )\n    http_server = tornado.httpserver.HTTPServer(application)\n    http_server.listen(options.port)\n    tornado.ioloop.IOLoop.instance().start()\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>This is server part. It has main view (shows little greeting, current server time and url for ajax query, that executes long running job. If you press a button, a long running job executes. And server hangs :( I can't view no pages, while this job is running.\nHere is template page:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{{ title }}&lt;/title&gt;\n\n    &lt;script type=\"text/javascript\" language=\"JavaScript\" src=\"{{ static_url(\"js/prototype.js\")}}\"&gt;&lt;/script&gt;\n\n\n    &lt;script type='text/javascript' language='JavaScript'&gt;\n        offset=0\n        last_read=0\n\n        function test(){\n            new Ajax.Request(\"http://172.22.22.22:8888/longPolling\",\n            {\n                method:\"get\",\n                asynchronous:true,\n                onSuccess: function (transport){\n                    alert(transport.responseText);\n                }\n            })\n        }\n\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    Current time is {{c_time}}\n    &lt;br&gt;\n    &lt;input type=\"button\" value=\"Test\" onclick=\"test();\"/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>what am I doing wrong? How can implement long pooling, using Tornado and Prototype (or jQuery)</p>\n\n<p>PS: I have looked at Chat example, but it too complicated. Can't understand how it works :(</p>\n\n<p>PSS Download full <a href=\"http://www.mediafire.com/?ilgzdzrw24y\">example</a></p>\n"},{"tags":["ajax","json","linq","asp.net-mvc-4","kendo-ui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13090371,"title":"The specified type member is not supported in LINQ to Entities. using JSON, KendoUI, AJAX","body":"<p>Hi everyone thanks for the time to help me out.</p>\n\n<p>I'm testing KendoUI and I'm try to binding a Grid using AJAX but i get the error</p>\n\n<pre><code>The specified type member 'getFullName' is not supported in LINQ to Entities. Only initializers, entity members, and entity navigation properties are supported.\n</code></pre>\n\n<p>My Models looks like this</p>\n\n<p><strong>Proyectos Model</strong></p>\n\n<pre><code>public class Proyecto\n{\n\n    [Required]\n    [Key]\n    [Display(Name = \"Num. Proyecto\")]\n    public virtual String ProyectoID { get; set; }\n\n    [Required]\n    [Display(Name = \"ID Usuario\")]\n    public virtual int UserID { get; set; }\n\n    [Required]\n    [DisplayFormat(DataFormatString = \"{0:d}\", ApplyFormatInEditMode = true)]\n    [Display(Name = \"Fecha De Inicio\")]\n    public virtual DateTime FechaInicio { get; set; }\n\n    [Required]\n    [DisplayFormat(DataFormatString = \"{0:d}\", ApplyFormatInEditMode = true)]\n    [Display(Name = \"Fecha de Fin\")]\n    public virtual DateTime FechaFin { get; set; }\n\n    [Display(Name = \"Descripcion\")]\n    public virtual String Descripcion { get; set; }\n\n    [Required]\n    [Display(Name = \"Status\")]\n    public virtual int StatusID { get; set; }\n\n\n    public virtual ICollection&lt;Comentario&gt; Comentarios { get; set; }\n    public virtual ICollection&lt;Abono&gt; Abonos{ get; set; }\n    public virtual ICollection&lt;Cargo&gt; Cargos{ get; set; }\n    public virtual ICollection&lt;Status&gt; Status { get; set; }\n    public virtual Usuario Usuario { get; set; }\n\n}\n</code></pre>\n\n<p><strong>Usuario Model</strong></p>\n\n<pre><code>    public class Usuario\n{\n    [Required]\n    [Key]\n    [Display(Name = \"Id\")]\n    public virtual int UserID { get; set; }\n\n    [Required]\n    [Display(Name = \"Usuario\")]\n    public virtual String UserName { get; set; }\n\n    [Required]\n    [Display(Name = \"Password\")]\n    public virtual String Password{ get; set; }\n\n    [Required]\n    [Display(Name = \"Nombre\")]\n    public virtual String Nombre { get; set; }\n\n    [Display(Name = \"Apellidos\")]\n    public virtual String Apellidos{ get; set; }\n\n    [Display(Name = \"Email\")]\n    public virtual String Email { get; set; }\n\n    [Required]\n    [Display(Name = \"Nivel\")]\n    public virtual int Nivel { get; set; }\n\n    public virtual ICollection&lt;Proyecto&gt; Proyectos { get; set; }\n    public virtual ICollection&lt;Comentario&gt; Comentarios { get; set; }\n\n    [Display (Name=\"Responsable\")]\n    public virtual string getFullName\n    {\n        get {\n            return Nombre + \" \" + Apellidos;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>In the Proyecto Controller i have this method (where the error happens)</p>\n\n<pre><code> public ActionResult Proyectos_Read([DataSourceRequest]DataSourceRequest request)\n    {\n        db.Configuration.ProxyCreationEnabled = false;\n        var proyectos = from e in db.Proyectos.Include(c =&gt; c.Usuario) select e;\n\n\n        DataSourceResult result = proyectos.ToDataSourceResult(request, o =&gt; new\n        {\n            ProyectoID = o.ProyectoID,\n            OCCliente = o.OCCliente,\n            FullName = o.Usuario.getFullName,\n            Descripcion = o.Descripcion\n        });\n\n\n\n        return Json(result, JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n\n<p>and finally this is my View</p>\n\n<pre><code>  @(Html.Kendo().Grid&lt;NTSMvc.Models.Proyecto&gt;()\n                         .Name(\"Grid\")\n                         .Columns(columns =&gt;\n                             {\n                                 columns.Bound(p =&gt; p.ProyectoID).Filterable(true).Groupable(true);\n                                 columns.Bound(p =&gt; p.OCCliente);\n                                 columns.Bound(p =&gt; p.Usuario.getFullName);\n                                 columns.Bound(p =&gt; p.Descripcion);\n                             })\n                             .DataSource( datasource =&gt; datasource\n                                 .Ajax()\n                                 .Read(read =&gt; read.Action(\"Proyectos_Read\",\"Proyectos\"))\n                                 .PageSize(5)\n                             )\n                             .Filterable() \n                             .Groupable()                               \n                             .Pageable()                                   \n                     )            \n</code></pre>\n\n<p>How i need to change my linq query or my model to get the full name in the grid</p>\n\n<p>Thanks again for the time.</p>\n\n<p>Regards</p>\n"},{"tags":["php","jquery","ajax","codeigniter"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1937,"score":0,"question_id":5637539,"title":"CodeIgniter/jQuery - Ajax call returns full html page instead of my echo","body":"<p>In my view I have an ajax call:</p>\n\n<pre><code>    $(\".previous\").click(function() {\n        $.ajax({\n            type: \"POST\",\n            url: \"planner/get_cal\",\n            data: {current_month: current_month},\n            success: function(msg){\n                alert(msg);\n            }\n\n        });\n</code></pre>\n\n<p>the get_cal function in my Planner controller:</p>\n\n<pre><code>function get_cal()\n{\n    echo \"dinosaurs\";\n}\n</code></pre>\n\n<p>However, instead of returning \"dinosaurs\", it returns a full HTML page. I can't figure out why. Thoughts? Thanks a lot.</p>\n"},{"tags":["jquery","ajax","spring-webflow","thymeleaf"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":13052106,"title":"Ajax call to WebFlow","body":"<p>I am trying to make an Ajax call to my webflow and want to refresh only content part of my page for every view state. </p>\n\n<pre><code>(\"#myForm\").submit(function() { \n   $.ajax({\n      type: \"POST\",\n      data: $(\"#myForm\").serialize(),\n      url: $(\"#myForm\").attr(\"action\") + \"&amp;_eventId=nextpage\",\n      success: function(response) {\n         alert(\"success\" + response);\n         $('#content').html(response);\n      },\n      error: function(response) {\n      alert(\"error\" + response); \n      }  \n  });\n  return false;\n});\n</code></pre>\n\n<p>flow.xml</p>\n\n<pre><code>&lt;view-state id=\"firstPage\" view=\"template\" &gt;\n   &lt;transition on=\"nextpage\" to=\"proposedInsured\"/&gt; \n&lt;/view-state&gt; \n&lt;view-state id=\"proposedInsured\" model=\"policyBean\" view=\"template\"&gt;\n   &lt;binder&gt;\n     &lt;binding property=\"name\" /&gt;\n   &lt;/binder&gt;  \n   &lt;on-entry&gt;\n     &lt;evaluate expression=\"pocContent.getContent('proposedInsured',productId)\" result=\"flowScope.content\"/&gt;\n          &lt;render fragments=\"content\"/&gt;\n   &lt;/on-entry&gt;\n   &lt;transition on=\"nextpage\" to=\"address\" /&gt;\n &lt;/view-state&gt;\n &lt;subflow-state id=\"address\" subflow=\"address\"&gt;\n    &lt;transition on=\"saveAddress\" to=\"nextpage\"&gt;\n    &lt;evaluate expression=\"policyBean.setAddressDetail(currentEvent.attributes.addressDetail)\"/&gt;         \n    &lt;/transition&gt;\n&lt;/subflow-state&gt;`\n</code></pre>\n\n<p>On click event of NextPage submit button on firstpage, am firing my ajax script which makes call to my webFlow.</p>\n\n<p>firstPage (Using Thymeleaf2.0.12 for view part)</p>\n\n<pre><code> &lt;form id=\"myForm\" method=\"post\" th:action=\"${flowExecutionUrl}\"&gt;\n   &lt;input type=\"submit\" value=\"NextPage\" name=\"_eventId_nextPage\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>template.html</p>\n\n<pre><code>&lt;div id=\"page-container\"&gt;\n&lt;div id=\"header\" th:fragment=\"header\"&gt;\n...\n&lt;/div&gt;\n&lt;div id=\"content\" th:fragment=\"content\"&gt;\n    ....\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Issue: Getting whole page(header and content) both in response to my Ajax call. As per my understanding<br>\n<code>&lt;render fragment=\"content\"&gt;</code> should extract the content fragment from whole page and pass it to client. Not really getting what it is meant for. How am I supposed to handle this? </p>\n\n<p>Second thing I observed is it makes 2 calls to flow, one is Post which gets failed and the other one is Get which returns me the response. Can anyone please explain why is this happening?</p>\n"},{"tags":["javascript","jquery","ajax","internet-explorer"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":41,"score":3,"question_id":13100837,"title":"Ajax content not displaying on IE7 & 8 - WORKS on IE9 & FF","body":"<p>I'm trying to load some content (same domain) into a div. It works perfectly in FF and IE9, however, IE7 and 8 display nothing. After a couple of days of trial and error with all possible solutions found here and elsewhere, i really need some help. This is my code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-latest.min.js\" charset=\"utf-8\"&gt;\n&lt;/script&gt;\n\n&lt;div id=\"test\"&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $('#test').load('http://localhost/abc2012/competitie/team.php?teamID=3');\n&lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I would appreciate any help.</p>\n"},{"tags":["java","javascript","ajax","google-chrome","dojo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13072896,"title":"Dojo ajax call returns before Java code completes?","body":"<p>I have a problem with a Struts2 + dojo web application that I've inherited.  The application works in IE9 and Firefox but does not work in Chrome.</p>\n\n<p>Here is the submit button code:</p>\n\n<pre><code>&lt;button dojoType=\"dijit.form.Button\" \n        type=\"submit\" \n        onclick=\"sendRuleForm('requestSubmitForm', 'resultDiv', 'RequestSubmit.action');\"&gt;Submit&lt;/button&gt;\n</code></pre>\n\n<p>Here is the javascript code for the sendRuleForm function above:</p>\n\n<pre><code>function sendRuleForm(formId, id, actionNm) {\n    var bindArgs = {\n        url: actionNm,\n        form: document.getElementById(formId),\n        handleAs: \"text\",\n        load: function(data) {\n            document.getElementById(id).innerHTML = data;            \n        },\n        error: function(data) {\n            alert(data);\n            return;\n        }\n    }\n    dojo.xhrPost(bindArgs);\n    document.getElementById(id).innerHTML = ajaxLoader;\n}\n</code></pre>\n\n<p>I noticed that if I set breakpoints in my Java code, the web page returns with an error even <strong>before</strong> the action even completes.  </p>\n\n<p>Chrome Developer Tools indicate a status of cancelled for the action/request ( <a href=\"http://stackoverflow.com/questions/12009423/what-does-status-canceled-for-a-resource-mean-in-chrome-developer-tools\">What does status=canceled for a resource mean in Chrome Developer Tools?</a> ) </p>\n\n<p>I am using an older version of dojo 1.3.1 but updating it to the latest version did not fix the problem.  </p>\n\n<p>Can anyone explain this behavior and let me know how I can go about fixing this?</p>\n"},{"tags":["php","javascript","jquery","ajax","populate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13100122,"title":"Populating Many checkboxes in tree structure inside Dropdown","body":"<p>Guys Here is the checkboxes, where it displays in tree structure.  I need it to be displayed inside the dropdown.</p>\n\n<pre><code>&lt;html&gt;\n\n    &lt;head&gt;\n\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"&gt;&lt;/script&gt;\n\n        &lt;script type=\"text/javascript\"&gt;\n\n            $(document).ready(function(){\n\n                $('.team').on('click',function(){\n                    if($(this).is(':checked')){\n                        $(this).next().next().show();\n                    }else{\n                        $(this).next().next().hide();\n                    }\n                });\n            });\n\n\n        &lt;/script&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;form name=\"FootballClubs\"&gt;\n\n            &lt;input type=\"checkbox\" class=\"team\" value=\"RealMadrid\"/&gt;Real Madrid&lt;br /&gt;\n            &lt;div style=\"padding:10px 10px 10px 15px;display:none;\"&gt;     \n                &lt;input type=\"checkbox\" class=\"player\" value=\"CR\"/&gt;Cristiano Ronaldo&lt;br /&gt;\n                &lt;input type=\"checkbox\" class=\"player\" value=\"SA\"/&gt;Shabi Alanso&lt;br /&gt;\n                &lt;input type=\"checkbox\" class=\"player\" value=\"IC\"/&gt;Iker Casillias&lt;br /&gt;\n            &lt;/div&gt;  \n            &lt;input type=\"checkbox\" class=\"team\" value=\"ManCity\"/&gt;Man City&lt;br /&gt; \n            &lt;div style=\"padding:10px 10px 10px 15px;display:none;\"&gt;\n                &lt;input type=\"checkbox\" class=\"player\" value=\"SA\"/&gt;Sergio Aguero&lt;br /&gt;\n                &lt;input type=\"checkbox\" class=\"player\" value=\"SM\"/&gt;Super Mario&lt;br /&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>I am trying to populate inside a dropdown.  Help me.  </p>\n\n<p>Thanks in Advance.!!</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13100554,"title":"jquery post data to a php script and display it immediately in the same php script file","body":"<p>How to post data to a php script (showitemid.php) using ajax and open the same script (showitemid.php) immediately in a thickbox on a hyperlink click and display that posted data. Below is my code: </p>\n\n<p><strong>postitemid.php</strong></p>\n\n<p>This file consists of multiple check-boxes. The user will tick the checkboxes and click a hyperlink. On clicking the hyperlink all the selected check-box values would be posted to showitemid.php and then immediately showitemid.php would open in a thickbox and display the received values. But it isn't receiving any values in my code ? Need help.</p>\n\n<pre><code>$('#showitem).click(function()\n{\n    var data = $('input:checkbox:checked').map(function()   {\n        return this.value;\n    }).get();\n\n    $.ajax({type: 'POST', \n\n             url: 'showitemid.php',\n             data: data,success: success,dataType: dataType});\n        });\n</code></pre>\n\n<p><strong>showitemid.php</strong></p>\n\n<pre><code>$data = ''; \n\nif (isset($_POST['data']))\n{\n    $data = $_POST['data'];\n}\nelseif (isset($_GET['data']))\n{\n    $data = $_GET['data'];\n}\n\n\necho 'd='.$data;\n</code></pre>\n"},{"tags":["jquery","ajax","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13095782,"title":"jquery cannot get response from perl","body":"<p>I want to use jquery to implement ajax response from perl script on the server.But when I use such code, I got nothing. I can get the result from the url in a browser, so I don't know where is wrong.</p>\n\n<pre><code>$(document).ready(function(){\n$(\"button\").click(function(){\n\n$.ajax({\n  'type': 'GET',\n  'url': 'http://XXXX/cgi-bin/XXX.pl?title=dd',\n  'async': true,\n  'success': function(data) {\n        alert(data);\n  }\n});\n\n});\n});\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":376,"score":1,"question_id":4658459,"title":"compare string obtained via ajax","body":"<p>I am using jquery:</p>\n\n<pre><code>    $.get(URL, function(data){\n\n            if(data == 'no_credits'){\n                alert(\"no credits\");\n                return;\n            }\n            else{\n                // WHY HERE&gt;?!\n            }\n</code></pre>\n\n<p>and my problem is that url return 'no_credits' but code goes to <code>else</code> block code, please help!</p>\n\n<p>EDIT : <code>alert(data);</code> prints no_credits</p>\n"},{"tags":["javascript","ajax","svn","cron","same-origin-policy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13067543,"title":"Approach for fetching files from svn server using ajax","body":"<p>I am building a simple web page that will run on a computer connected to a large TV, displaying some relevant information for whomever passes it.</p>\n\n<p>The page will (somehow) fetch some text files which are located on a svn server and then render the them into html.</p>\n\n<p>So I have two choices how to do this:</p>\n\n<ol>\n<li><p>Set up a <code>cron</code> job that periodically checks the svn server for any changes, and if so updates the files from svn, and and (somehow) updates the page. This has the problem of violating the <a href=\"https://developer.mozilla.org/en-US/docs/HTTP_access_control\" rel=\"nofollow\">Access-Control-Allow-Origin policy</a>, since the files now exist locally, and what is a good way to refresh a page that runs in full screen mode?</p></li>\n<li><p>Make the javascript do the whole job: Set it up to periodically ajax request the files directly from the svn server, check for differences, and then render the page. This somehow does not seem as elegant.</p></li>\n</ol>\n\n<p><strong>Update</strong>\nThe <a href=\"https://developer.mozilla.org/en-US/docs/HTTP_access_control\" rel=\"nofollow\">Access-Control-Allow-Origin policy</a> doesn't seem to be a problem when running on a web server, even though the content is on the same domain..</p>\n"},{"tags":["asp.net","html","ajax","loading"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13099897,"title":"What kind of loading content is this?","body":"<p><a href=\"http://www.google.com/insidesearch/tipstricks/all.html\" rel=\"nofollow\">http://www.google.com/insidesearch/tipstricks/all.html</a>\nI have seen many site load its content this way. It loads all the resources first (very fast) and leaves the blank character if the text is not already loaded.\nI'm so sorry, my english is so bad but I really want to know what is this method's name and can I do that in asp.net.\nThanks in advance.</p>\n"},{"tags":["javascript","jquery","ajax","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13099749,"title":"How to export table to CSV, PDF and Excel using jQuery in Symfony2","body":"<p>I use jQuery in Symfony to display data in a table. I want to export this table in PDF, Excel, CSV. I followed this link <a href=\"http://datatables.net/extras/tabletools/\" rel=\"nofollow\">http://datatables.net/extras/tabletools/</a> but without positive response.</p>\n\n<p>Who could help me please, I'm really stuck!\n<br>Thanks</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13095272,"title":"JavaScript/jQuery: Use 'this' Object on Success","body":"<p>I have a somewhat annoying issue when it comes to sending an Ajax request to a server and then returning the data on the success function within an JavaScript object. I've searched for similar questions, but none were really of the same manner as mine.</p>\n\n<p>For example, I have the following code for sending a request within an object:</p>\n\n<pre><code>function SomeObject ( someVar )\n{\n    var someVar = someVar;\n}\n\nSomeObject.prototype.sendRequest = function ()\n{\n    $.ajax(\n    {\n        url  : \"somePage.php\",\n        type : \"POST\",\n        data :\n        {\n            someVar : someVar\n        },\n        success : this.parseSuccess\n    } );\n};\n\nSomeObject.prototype.parseSuccess = function ( data )\n{\n    if ( data === \"success\" )\n    {\n        this.proceed();  // Error\n    }\n    else\n    {\n        alert( \"Server failed request.\" );\n        this.proceed();\n    }\n};\n\nSomeObject.prototype.proceed = function ()\n{\n    // Do something else\n};\n</code></pre>\n\n<p>I know that <code>this.proceed()</code> will fail because <code>this</code> is not the <code>SomeObject</code> instance. </p>\n\n<p>Still, how can I efficiently refer back to the object after the request is complete?\nI found I could do the following to achieve what I want, but it does not feel proper, and I would like a better way to handle the Ajax calls:</p>\n\n<pre><code>SomeObject.prototype.sendRequest = function ()\n{\n    var me = this;\n\n    $.ajax(\n    {\n        url  : \"somePage.php\",\n        type : \"POST\",\n        data :\n        {\n            someVar : someVar\n        },\n        success : function ( data )\n        {\n            me.parseSuccess( data );  // Will work\n        }\n    } );\n};\n</code></pre>\n\n<p>Thanks for any help on the matter.</p>\n"},{"tags":["php","jquery","ajax","checkbox","thickbox"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":13099519,"title":"post data to a thickbox using ajax","body":"<p>I need to post data to a thick box using ajax and open it immediately and display the posted data. The user would click on a link/button and the data i.e. value of the selected checkboxes would be posted to my_thickbox.php and the thickbox (url : my_thickbox.php) would open with checkbox values displayed.</p>\n\n<pre><code>&lt;div id=\"showthickbox\" &gt;\n    &lt;a href=\"my_thickbox.php\" class=\"thickbox\"&gt;SUBMIT CHECKBOX VALUES&lt;/a&gt;\n&lt;/div&gt;\n\n\n$('#showthickbox').click(function()\n{\n    var data = $('input:checkbox:checked').map(function()   {\n        return this.value;\n    }).get();\n\n    $.ajax({type: 'POST', \n\n             url: 'my_thickbox.php',\n             data: data,success: success,dataType: dataType});\n        });\n</code></pre>\n\n<p>I don't want to use GET method. The thickbox is displaying nothing. What to do ?</p>\n"},{"tags":["jquery","ajax","loading"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13099484,"title":"Ajax call to return a task status? ( in progress OR finished)","body":"<p>I have a html table with tasks and the last column is called \"status\". I need to do a simple thing, to track the status of each task with the usual way of an animating gif icon if its in progress or an ok check if its done.</p>\n\n<p>I have done this in the past by calling a php script with $.ajax that it was refreshing itself every 1 minute. The script was a PHP script with one query that checked a boolean column. This approach was ok, but even then I knew that this was most probably the dumbest way to do something like this.</p>\n\n<p>I am looking for a more robust way to do this and while I was searching I found this snippet</p>\n\n<pre><code>    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$.ajaxSetup({ cache: false }); // This part addresses an IE bug.  without it, IE will only load the first number and will never refresh\nsetInterval(function() {\n$('#divToRefresh').load('/path/to/your/php/file/userCount.php');\n}, 3000); // the \"3000\" here refers to the time to refresh the div.  it is in milliseconds.\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Something like this could work but how do I stop this refresh if the task was actually finished? Something like \"Gaurav Sharma\" answer on this <a href=\"http://stackoverflow.com/questions/2872287/ajax-request-in-progress-jquery\">post</a> is the way to go?</p>\n\n<p>I am a newbie in Jquery so I would really love to know how would you do something like this, seems a common task so I hesitate to re-invent the wheel by writing 2 pages of code for something that can be done with 5 lines :-)</p>\n"},{"tags":["jquery","ajax","json","jquery-mobile","jquery-templates"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2535,"score":2,"question_id":6863773,"title":"How to use jQuery & jQuery templates to create nested list views based on nested JSON data.","body":"<p>I have an AJAX call returning the following JSON:</p>\n\n<pre><code>{\n\"categories\": [\n    {\n        \"active\": true,\n        \"name\": Cat1,\n        \"items\": [\n            {\n                \"active\": true,\n                \"id\": 1,\n    },\n            {\n        \"active\": true,\n                \"id\": 2,\n    }\n  ]\n},\n{\n    \"active\": true,\n        \"name\": Cat2,\n        \"items\": [\n            {\n                \"active\": true,\n                \"id\": 3,\n    },\n            {\n        \"active\": true,\n                \"id\": 4,\n    }\n  ]\n}\n]}\n</code></pre>\n\n<p>and what I want to happen is have the top level category names go to one list view and the bottom level item id's go into another list level once the parent category item is clicked.</p>\n\n<p>Currently, I have the code working to create the top level category listview, as follows (this is JQM):</p>\n\n<pre><code>&lt;div data-role=\"content\"&gt;\n  &lt;script id=\"Template-categories\" type=\"text/x-jquery-tmpl\"&gt;\n    &lt;li data-theme=\"a\" class=\"ui-btn ui-btn-icon-right ui-li ui-li-has-alt ui-btn-up-a\"&gt;\n      &lt;div class=\"ui-btn-inner ui-li ui-li-has-alt\"&gt;\n        &lt;div class=\"ui-btn-text\"&gt;\n          &lt;a href=\"#${name}\" class=\"ui-link-inherit\"&gt;\n              &lt;h3 class=\"ui-li-heading\"&gt;${name}&lt;/h3&gt;\n          &lt;/a&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;        \n    &lt;/li&gt;\n  &lt;/script&gt;\n  &lt;ul data-role=\"listview\" id=\"listview-categories\" data-theme=\"a\"&gt;\n\n  &lt;/ul&gt;\n</code></pre>\n\n<p>And this is the AJAX request:</p>\n\n<pre><code>&lt;script&gt; // JSONP for ALL\n  $(document).ready(function() {\n      $.ajax({\n                url: \"http://####.heroku.com/api/all_categories.json\",\n                data: \"format=json\",\n                cache: false,\n                dataType: \"jsonp\",\n                type: 'GET',\n                timeout: 5000,\n                success: function(data) {\n                  $.each(data, function() {\n                    $(\"#Template-categories\").tmpl(data.categories).appendTo(\"#listview-categories\");\n                  });\n                  $.each(data, function() {\n                    // THIS IS WHERE I GET LOST! How to then break down the category 1 items and category 2 items into their own listview dynamically!\n                  });\n                },\n                error: function()\n                  { alert('BOOOO Error');}\n    });\n});\n</code></pre>\n\n<p></p>\n\n<p>So: I have the top level working, I just need to get the second level (.items) in to list views that are subordinate to their parent item (categories). IF that is a complex problem, even telling me how I could manually do the each loop with an if statement for Category 1 (e.g. if name=Category 1 then loop through the items array) that would be helpful as I could just hard code it into the html for now.</p>\n\n<p>Thanks!</p>\n\n<p>EDIT:\nTried this code...</p>\n\n<p>I guess one thing I don't get is why this doesn't work...</p>\n\n<pre><code>success: function(data) {\n                  $.each(data, function() {\n                    $(\"#Template-categories\").tmpl(data.categories).appendTo(\"#listview-categories\");\n                  });\n                  $.each(data, function() {\n                    if(data.categories.name == \"Cat1\"){\n                      $(\"#Template-cat1\").tmpl(data.categories.items).appendTo(\"#listview-cat1\");\n                    }\n                  });\n</code></pre>\n\n<p>And then in my template just using the ${id} attribute and whatnot to display the values from the items array.</p>\n"},{"tags":["javascript","ajax","prototypejs","recaptcha"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":15874,"score":5,"question_id":593593,"title":"using reCAPTCHA with ajax....javascript loading problem","body":"<p>I trying to implement reCAPTCHA in one of my forms,...but i am using ajax as the submission. (More specifically the prototype ajax.updater)</p>\n\n<p>Once I submit and error check my form I try to load the reCAPCHTA widget thingy (in my updated div element) which basically just calls a javascript file like so:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://api.recaptcha.net/challenge?k=6Le6SwUAAAAAAIWm8wCRFd8SrI-H0R1Yx4Tkw2Ks\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>However the JS file is not being read?...and i've tried all combination of evalScripts:true and evalJS:'force' etc. in the ajax.updater.....however i don't think I have a very good understanding of why the js file isn't processing :(</p>\n\n<p>If anyone can shed some light on this issue I will be very appreciative.</p>\n\n<p>Thanks, Andrew</p>\n"},{"tags":["jquery","python","ajax","bottle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13098494,"title":"Using jQuery AJAX with Python's Bottle","body":"<p>I'm trying to figure out how to use jQuery AJAX with Python's Bottle module.</p>\n\n<p>Here is my initial attempt but it isn't working and I'm really hitting a wall (been programming all day and my brain is a bit fried):</p>\n\n<pre><code>    from bottle import route, request, run, get\n\n@route('/form')\ndef construct_form():\n    return '''\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function() {\n            $('form').submit(function(e) {\n                $.ajax({\n                    type: 'POST',\n                    url: '/ajax',\n                    data: $(this).serialize(),\n                    success: function(response) {\n                        $('#ajaxP').html(response);\n                    }\n                });\n                e.preventDefault();\n            });\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form method=\"POST\" action=\"/ajax\"&gt;\n        &lt;input id=\"ajaxTextbox\" name=\"text\" type\"text\" /&gt;\n        &lt;input id=\"ajaxButton\" type=\"button\" value=\"Submit\" /&gt;\n    &lt;/form&gt;\n    &lt;p id=\"ajaxP\"&gt;Nothing to see here.&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n    '''\n\n@route('/ajax', method='POST')\ndef ajaxtest():\n    theText = request.forms.text\n    if theText:\n        return theText\n    return \"You didn't type anything.\"\n\nrun(host = 'localhost', port = '8080')\n</code></pre>\n\n<p>Basically, what I want to be able to do is enter text into the textbox, click the button, and have the innerHTML of \"ajaxP\" change to the entered text.</p>\n\n<p>No errors, it just doesn't do anything when I push the button.</p>\n\n<p>Any help?</p>\n\n<hr>\n\n<h3><strong>SOLVED</strong>: The form button needs to be of type \"submit\", not \"button\". Facepalm.</h3>\n"},{"tags":["jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13098381,"title":"jquery handle ajax response outside of ajax object","body":"<p>I am working with jQuery and I need to handle the data gathered during an AJAX call outside of the AJAX object:</p>\n\n<pre><code>function getData(yt_url){\n$.ajax\n        ({\n            type: \"GET\",\n                        url: yt_url,\n                        dataType:\"jsonp\",success: function(response){\n                            //   Return response here //\n\n                        },error:function (request, status, error) {alert(status);}\n                    });}\n</code></pre>\n\n<p>I would like to call the function <code>getData</code> and receive the response object in the AJAX success function.</p>\n\n<p>I've tried adding some returns and then of course I realized it was an object.</p>\n"},{"tags":["c#","asp.net","ajax","twitter-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13063814,"title":"search api in c# asynchronous fetching of searched tweets","body":"<p>any one know about how to do the asynchronous fetching though already searched tweets like twitter shows \"x New Tweets\" on twitter searched result pane.\nThanks in advance.</p>\n"},{"tags":["php","ajax","captcha"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13098292,"title":"Recaptcha not showing with AJAX","body":"<p>I have a webpage in <strong>php</strong> that has a <code>div</code> in the center, where i'm using <strong><em>AJAX to load subpages</em></strong> into. For register page I have a <strong>php</strong> page that should load fields for registration including <code>reCaptcha</code> using </p>\n\n<pre><code>require_once(\"recaptchalib.php\");\n$publickey=\"mykey\";\necho recaptcha_get_html($publickey);\n</code></pre>\n\n<p>now the fields show up, however the <code>captcha</code> doesn't...in the <code>div</code> its placed in there is the script tag and a noscript tag, so aparently the code works fine, but simply doesn't show up...Please help!</p>\n"},{"tags":["ajax","pagination","cakephp-2.0","jquery-tabs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13098251,"title":"jQuery tab breaked when clicking cakephp pagination","body":"<p>I created a tab system in cakephp with jQuery, but have some mistakes.</p>\n\n<p>This my first view page:</p>\n\n<pre><code>&lt;?php echo $this-&gt;Html-&gt;script('jquery.min.js');?&gt;\n&lt;script type=\"text/javascript\"&gt;\n    // Wait until the DOM has loaded before querying the document\n    $(document).ready(function(){\n        memberid = $(\"#member_profile\").val();\n        load_member_profile(memberid);\n        $('ul.tabs').each(function(){\n            // For each set of tabs, we want to keep track of\n            // which tab is active and it's associated content\n            var $active, $content, $links = $(this).find('a');\n\n            // If the location.hash matches one of the links, use that as the active tab.\n            // If no match is found, use the first link as the initial active tab.\n            $active = $($links.filter('[href=\"'+location.hash+'\"]')[0] || $links[0]);\n            $active.addClass('active');\n            $content = $($active.attr('href'));\n\n            // Hide the remaining content\n            $links.not($active).each(function () {\n                $($(this).attr('href')).hide();\n            });\n\n            // Bind the click event handler\n            $(this).on('click', 'a', function(e){\n                // Make the old tab inactive.\n                $active.removeClass('active');\n                $content.hide();\n\n                // Update the variables with the new link and content\n                $active = $(this);\n                $content = $($(this).attr('href'));\n                var ref = $content['selector'];\n                if(ref == \"#mprofile\"){\n                    var memberid = $(this).find('input[type=\"hidden\"]').val();\n                    load_member_profile(memberid);\n                }else if(ref == \"#tinfo\"){\n                    var memberid = $(this).find('input[type=\"hidden\"]').val();\n                    load_ticket_info(memberid);\n                }else if(ref == \"#offers\"){\n                    var memberid = $(this).find('input[type=\"hidden\"]').val();\n                    load_offers_available(memberid);\n                }\n                // Make the tab active.\n                $active.addClass('active');\n                $content.show();\n\n                // Prevent the anchor's default click action\n                e.preventDefault();\n            });\n        });\n    });\nfunction load_member_profile(memberid = 0){\n    $.ajax({\n    method: 'POST',\n    url: 'http://localhost/test_site/Finance/memeber_profile/'+memberid,\n    success: function(msg){\n        if(msg){\n            $(\"#mprofile\").html(msg).show();\n        }\n    }\n    });\n}\nfunction load_ticket_info(memberid = 0){\n    $.ajax({\n    method: 'POST',\n    url: 'http://localhost/test_site/Finance/ticket_info/'+memberid,\n    success: function(msg){\n        //alert(msg);\n        if(msg){\n            $(\"#tinfo\").html(msg).show();\n        }\n    }\n    });\n}function load_offers_available(memberid = 0){\n    $.ajax({\n    method: 'POST',\n    url: 'http://localhost/test_site/Finance/offers_available/'+memberid,\n    success: function(msg){\n        //alert(msg);\n        if(msg){\n            $(\"#offers\").html(msg).show();\n        }\n    }\n    });\n}\n\n&lt;/script&gt;\n&lt;style&gt;\n    .tabs li {\n        list-style:none;\n        -moz-border-radius: 15px;\n        border-radius: 15px;\n        font-size:13px;\n        font-weight:bold;\n        color:#999999;\n        display:inline;\n    }\n\n    .tabs a {\n        padding:5px 10px;\n        display:inline-block;\n        background:#666;\n        color:#fff;\n        text-decoration:none;\n    }\n\n    .tabs a.active {\n        background:#fff;\n        color:#999999;\n    }\n\n&lt;/style&gt;\n\n&lt;div class=\"tabBody\"&gt;\n&lt;div class=\"addEmp\"&gt;\n    &lt;ul class='tabs'&gt;\n            &lt;li&gt;\n                &lt;a href='#mprofile'&gt;\n                    &lt;input type=\"hidden\" name=\"member_profile\" id=\"member_profile\" value=\"1\" /&gt;\n                    Member Profile\n                &lt;/a&gt;\n            &lt;/li&gt;\n            &lt;li&gt;\n                &lt;a href='#tinfo'&gt;\n                    &lt;input type=\"hidden\" name=\"ticket_info\" id=\"ticket_info\" value=\"1\" /&gt;\n                    Ticket Info\n                &lt;/a&gt;\n            &lt;/li&gt;\n            &lt;li&gt;\n                &lt;a href='#offers'&gt;\n                    &lt;input type=\"hidden\" name=\"offers_available\" id=\"offers_available\" value=\"1\" /&gt;\n                    Offers Available\n                &lt;/a&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;div id='mprofile'&gt;&lt;/div&gt;\n        &lt;div id='tinfo'&gt;&lt;/div&gt;\n        &lt;div id='offers'&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The 3 tabs worked perfectly. The <code>Member Profile</code> tab loaded the profile details successfully.  And <code>Offere Available</code> tab described its details.</p>\n\n<p>But in <code>Ticket Info</code> there have table listing of values.  There have pagination links.</p>\n\n<p>When I clicked on the links it will go to the <code>ticket info</code> page only, that means the tabs are not displayed.</p>\n\n<p>How can I solve this?</p>\n\n<p>This is the url :\n'http://localhost/test_site/Finance/ticket_info/page:2'</p>\n\n<p>This is the list before clicking pagination:\n<img src=\"http://i.stack.imgur.com/lM3du.png\" alt=\"enter image description here\"></p>\n\n<p>This is the list after clicking pagination:\n<img src=\"http://i.stack.imgur.com/18oDR.png\" alt=\"enter image description here\"></p>\n"},{"tags":["javascript","ajax","function","extjs"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":6828,"score":4,"question_id":6233071,"title":"EXT Js Synchronous ajax request","body":"<p>How can I make synchronous ajax reques in EXT JS.</p>\n\n<p>For example the code is</p>\n\n<pre><code>test1();\najaxRequest(); //Ajax Request\ntest2();\n</code></pre>\n\n<p>On calling the ajaxRequest function  which has got Ext.Ajax.request the test2 function is executed without even finishing execution of ajaxRequest().</p>\n\n<p>How can I make text2 to be executed only after the ajaxRequest function is executed</p>\n\n<p>I understand that one way of doing it is to call the test2 function in callback but I have some dependecies and there is a lot of code that has to be exectuted after the ajax request synchronusly.  Can you please help me wiht the best soloution.</p>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13097673,"title":"Checkbox inside Checkbox in a dropdownlist box","body":"<p>I was working on creating checkbox inside checkbox which all should appear inside a dropdownlist box.  I was succeeded in creating a couple of checkboxes inside a dropdownlist box.  follow the link <a href=\"http://vignesh.gvignesh.org/metroplots/drp/drpcheck.php\" rel=\"nofollow\">http://vignesh.gvignesh.org/metroplots/drp/drpcheck.php</a></p>\n\n<p>Now i am trying to create a checkbox which should appear once user clicks one checkbox.  For instance if user checks documents then a couple of checkbox should appear below that checkbox.  </p>\n\n<pre><code>Eg.  []Documents  (if user checks main,  the sub checkboxes should appear)\n           []Doc 1 \n           []Doc 2\n           []Doc 3\n     []Phots (if user checks) \n           []photo 1\n           []photo 2\n           []photo 3\n</code></pre>\n\n<p>How to attain this through javascript or jquery.   </p>\n\n<p>Thanks in Advance. !!</p>\n"},{"tags":["php","jquery","sql","ajax","json"],"answer_count":0,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13097842,"title":"How to apply knockout binding while developing application in mvc?","body":"<p>I want to apply binding on \"search\" button for data coming from database &amp; showing it into the table.</p>\n\n<p>In the view I have just applied some codes as....</p>\n\n<pre><code>&lt;div class=\"span7 datagrid\"&gt;\n    &lt;input type=\"search\" class=\"inputmargin\" name=\"search\" data-bind='value:search'/&gt;\n    &lt;button type=\"button\" class=\"btn search\"&gt;&lt;i class=\"icon-search\"&gt;&lt;/i&gt;Search&lt;/button&gt;\n    &lt;table name=\"camp\" class=\"table table-hover table-bordered\" id=\"targetTable\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;First Name&lt;/th&gt;\n                &lt;th&gt;Last Name&lt;/th&gt;\n                &lt;th&gt;Phone&lt;/th&gt;\n                &lt;th&gt;Email&lt;/th&gt;\n                &lt;th&gt;Company&lt;/th&gt;\n                &lt;th&gt;Role&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody data-bind=\"foreach: items\"&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;a href=\"#\" class=\"selectLink\" data-bind=\"attr: { value: id, title: fname},text : fname\"&gt;&lt;/a&gt;&lt;/td&gt;\n                &lt;td data-bind=\"text:lname\"&gt;&lt;/td&gt;\n                &lt;td data-bind=\"text:phone\"&gt;&lt;/td&gt;\n                &lt;td data-bind=\"text:email\"&gt;&lt;/td&gt;\n                &lt;td data-bind=\"text:company\"&gt;&lt;/td&gt;\n                &lt;td data-bind=\"text:role\"&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n\n$(function(){\n  $(\"#targetTable .search\").live('click',function(){\n          var $this = this;\n        $.ajax({\n            type: 'POST',\n            url: root+\"contacts/targets/\"+$(this).attr(\"value\")+\"?json\",\n            success: function(o){\n                ko.applyBindings(new DynamicModel(o.targets),document.getElementById(\"targetTable\"));\n            },\n            dataType: \"json\"\n        })\n        });   \n});\n</code></pre>\n\n<p>but after clicking on the search button the data in table gets cleared &amp; shows no data.....</p>\n\n<p>I want to show data in that table depends on the value inserted in  search box..</p>\n"},{"tags":["jquery","ajax","iframe","z-index","containers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13096748,"title":"jquery capturing data with .html() but its an iframe","body":"<p>I have jquery that gets data from another site:</p>\n\n<p><strong>get.php</strong></p>\n\n<pre><code>&lt;div&gt;\ndisplays a list of things\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>home.php</strong></p>\n\n<pre><code>$.ajax({\n    type:\"GET\",\n    url:\"get.php\",\n    data:\"fakedata=fakedata\"\n}).done(function(data){\n    $(\".container\").html(data);\n});\n</code></pre>\n\n<p>So it displays whatever is in get.php inside class container.</p>\n\n<p>However, if I wanted to add something to get.php</p>\n\n<pre><code>&lt;div&gt;\n&lt;div style=\"position:absolute;top:0;left:-50;\"&gt;\na box\n&lt;/div&gt;\ndisplays a list of things\n&lt;/div&gt;\n</code></pre>\n\n<p>if I'm trying to show a box to the left of the container, then it will be cut off as if its an iframe. It doesn't work even if I add z-index to it.</p>\n\n<p>Anyone know what I'm talking about?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13076234,"title":"PHP \"re-require\" files after ajax call","body":"<p>In my index.php file, I firstly require some files and make connection to the database with php..</p>\n\n<pre><code>&lt;?php\n\n// Require every .php file inside \"phpClasses\" folder\nforeach (glob(\"phpScripts/*.php\") as $filename) {\nrequire $filename;\n}\n\n// Create the $db object\n$db = Database::obtain(DB_SERVER, DB_USER, DB_PASS, DB_DATABASE); \n\n// Connect to the database\n$db-&gt;connect();\n\n// Instantiate the \"language\" and \"databaseQuery\" classes\n$lang = new language();     \n$dbQuery = new databaseQuery();     \n\n// Detect if the laguage has changed from the user and apply the new \"current language\"\nif(isset($_GET[\"change_lang\"])) {\n    $change_lang = $_GET[\"change_lang\"];\n    $cur_lang = $change_lang;\n} else {\n    $cur_lang = $lang-&gt;getCurLang();\n}\n?&gt;\n</code></pre>\n\n<p>In the same file, I include 'home.php' file to display database content..</p>\n\n<pre><code>&lt;div id=\"cur_content\" class=\"temp_content\" data-tempPos=\"0\"&gt;\n        &lt;?php \n            include 'pages/home.php'; \n        ?&gt;\n    &lt;/div&gt;  &lt;!-- #cur_content --&gt;\n</code></pre>\n\n<p>In the 'home.php' file I re-create $dbQuery class and call getText() function like this:</p>\n\n<pre><code>&lt;?php\n\n$dbQuery = new databaseQuery();         \n\n?&gt;\n\n&lt;div id=\"content_home\" class=\"cur_content_inner\"&gt; \n\n  &lt;?php\n$text_pos = 'home_inner_1';\n    $dbQuery-&gt;getText($text_pos, $cur_lang);\n  ?&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>'index.php' remains without refreshing and user navigates via ajax calls. New content is loaded inside #cur_content div, deleting the previous one.</p>\n\n<p>All works justs fine at the first loading of the page, but when 'home.php' is requested again (without index.php refreshing), I get php error because the initial 'require' is not happening.</p>\n\n<p>How can I require these files again, after the ajax call?</p>\n\n<p>Sorry, but I am new to this! ;)\nAppreciate every help!</p>\n\n<p>Problem solved -> <a href=\"http://codeigniter.com/forums/viewthread/59450/\" rel=\"nofollow\">http://codeigniter.com/forums/viewthread/59450/</a></p>\n\n<p>I used this:</p>\n\n<pre><code>if (isset($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;&amp; $_SERVER['HTTP_X_REQUESTED_WITH']==\"XMLHttpRequest\") {\n    foreach (glob(\"phpScripts/*.php\") as $filename) {\n        require_once $filename;\n    }\n\n    // Create the $db object\n    $db = Database::obtain(DB_SERVER, DB_USER, DB_PASS, DB_DATABASE); \n\n    // Connect to the database\n    $db-&gt;connect();\n}\n</code></pre>\n"},{"tags":["ajax","codeigniter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13097276,"title":"How would i Execute ajax validation in two database?one is API database and the other is a local one","body":"<p>I have this in my controller function in my view a typical username and password input form</p>\n\n<pre><code>public function login() {\n    $username = $_POST['username'];\n    $password = md5($_POST['password']);\n    //if user dont exist in the in the local database it will be validated thru the API\n    if(!$this-&gt;is_registered_email($_POST['username'])) {\n        $ret = file_get_contents('http://www.XXXXd48170846c1e937640ae7e9f6743089c3c2a9074/auth/{\"user\":\"' . $username . '\",\"pass\":\"' . $password . '\"}');\n        $ret = json_decode($ret);\n    } else {\n        //this is where if the user exist in the local database and in the API database\n        // and if the user input a wrong password\n\n    }\n    //this will return user details from the API if the user exists\n    $data = array('response' =&gt; $ret);\n\n}\n</code></pre>\n\n<p>i added the comment to the process</p>\n"},{"tags":["php","ajax","yii"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13097181,"title":"Complex 2-part user registration in Yii Framework","body":"<p>I'm new to Yii, and also frameworks in general. It's been very fun learning about it.</p>\n\n<p>I already have a Yii Skeleton application with the yii-user extension. I'm using this extension as a diving board - something to use as a guide to how things work, but at the same time I'm going to be turning it into something completely different to suit my needs. Granted, my needs are probably a little too complex for this to be my first project, but hey, where's the fun in printing \"Hellow World!\"?</p>\n\n<p>A bit of background: I play an online MMO called EVE Online. The developers of the game have released an API that can access character data in-game. I'm developing an application that takes that data and manipulated it in various ways. But it all starts with user registration.</p>\n\n<p>Please note that most of the database itself is managed by a 3rd party application, and I can't modify the tables of that, which is why some of my proposed tables are the way they are and not combined. </p>\n\n<p>I'm not looking for just a simple registration system. That would be too simple. My registration system needs to do the following:</p>\n\n<ol>\n<li><p>Take some general data, such as email and password (no usernames for this application - players will login with either their email or character name). This is the 'basic' registration. This information will go into a database table titled <code>users</code> (which also has fields for last login, etc)</p></li>\n<li><p>Have the user enter their API details. This is where it gets tricky: players can have multiple API keys, but they only need one to sign up. I can manage more of them at a later date. When they put in their API details, I need to fetch data from the EVE Online servers (specifically, which characters are on that account). This information will be entered into the <code>RegisteredKeys</code> table. This is one of those tables that I absolutely cannot modify</p></li>\n<li><p>Once the characters are fetched (can be up to 3 characters returned), the user will pick the default character. That character info will be put into another database table labeled <code>RegisteredChars</code>. Again, this is one of the tables that I absolutely cannot modify.</p></li>\n</ol>\n\n<p>There will also be a <code>user2api</code> table that links the <code>user</code> tables (the one that will store user info such as email and passwords) and the <code>RegisteredKeys</code> table (the one that I cannot modify). So, in total, registration will utilize 4 tables, 2 of which I cannot change the structure of, and one of which is a helper table. I'm sure relationships between the models will help me out a lot.</p>\n\n<p>Now, as you can see (hopefully, if I haven't lost you yet ), the registration is basically split into two parts: the initial info, and the info that is fetched after the user enters API info. I don't plan on making two separate forms if I don't have to - I would like to do this all on the page with AJAX. However, I am not sure how I would go about designing something like this. How should the controllers be laid out? Would it be possible to have Yii do an AJAX request with user input like this? Are there any classes in Yii that will help me a lot (I know the basics of things like CActiveForm, but the more advanced stuff I probably have not even touched yet.) Does anyone have any ideas that can point me in the right direction?</p>\n\n<p>Thanks for reading the wall of text.  </p>\n"},{"tags":["ruby-on-rails","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":6717683,"title":"how to create two ajax paginations on the same page","body":"<p>How can I create two separate ajax paginations on the same page using 'will_paginate' gem ? </p>\n\n<p>I created two paginations according to rails casts screen cast - <a href=\"http://railscasts.com/episodes/174-pagination-with-ajax\" rel=\"nofollow\">http://railscasts.com/episodes/174-pagination-with-ajax</a>. But it didnt seem to work well.</p>\n\n<p>How can I do it ?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","jquery","ajax","json"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13097063,"title":"returning results with Json_encode","body":"<p>I am using an AJAX call with Jquery to a PHP form:</p>\n\n<pre><code>$.ajax({\n    type : 'POST',\n    url : 'submit_form.php',\n    dataType : 'json',\n    data:  dataString ,\n</code></pre>\n\n<p>which encodes the results from the database using:</p>\n\n<pre><code>echo json_encode($results);\n</code></pre>\n\n<p>However it prints the data back to at the top of the page that made the AJAX call, this completely breaks functionality in IE because it returns the text string before <code>&lt;html&gt;</code> declaration.</p>\n\n<pre><code>{\"status\":false,\"msg\":\"Sorry The Queue is full\"}&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n</code></pre>\n\n<p>Is there anyway I can suppress this echo function on the page but still return the data array back to my page so I can use the results like ( data.msg ) </p>\n"}]}
{"total":48692,"page":13,"pagesize":100,"questions":[{"tags":["jquery","ajax","asp.net-mvc-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":525,"score":0,"question_id":8506547,"title":"Asynchronous JQuery TreeView with multiple levels of loading in MVC 3 not working","body":"<p>I am using MVC 3, jQuery, jquery.treeview.js, and jquery.treeview.async.js to load and create a treeview asynchronously.  It is a two level treeview with PartTypes being the top level and then Parts being the second level.  I have the following TreeViewNode class</p>\n\n<pre><code>public class TreeViewNode\n{\n    public TreeViewNode[] children { get; set; }\n\n    public string classes { get; set; }\n\n    public bool expanded { get; set; }\n\n    public bool hasChildren { get; set; }\n\n    public string id { get; set; }\n\n    public string text { get; set; }\n}\n</code></pre>\n\n<p>The controller is </p>\n\n<pre><code>public ActionResult PartTypes(string root)\n    {\n        var nodes = new List&lt;TreeViewNode&gt;();\n\n        if(root == \"source\")\n        {\n            var partTypes = ris.PartTypes.ToList().OrderBy(pt =&gt; pt.Name);\n\n            foreach (var partType in partTypes)\n            {\n                nodes.Add(new TreeViewNode {\n                        text = partType.Name,\n                        id = partType.Name,\n                        hasChildren = true\n                    });\n            }\n        }\n        else\n        {\n            var parts = ris.Parts.Where(p =&gt; p.PartType.Name == root).ToList();\n            foreach (var part in parts)\n            {\n                nodes.Add(new TreeViewNode {\n                        text = part.SerialNumber,\n                        id = part.SerialNumber\n                    });\n            }\n        }\n        return Json(nodes);\n    }\n</code></pre>\n\n<p>The jQuery code for loading is</p>\n\n<pre><code>$(document).ready(function() {\n$(\"#navigation\").treeview({\n    url: '/Parts/Part/PartTypes/',\n    ajax: {\n        type: 'post'\n    }\n    });\n}\n);\n</code></pre>\n\n<p>and the HTML is simply</p>\n\n<pre><code>&lt;ul id=\"navigation\" class=\"treeview\"/&gt;\n</code></pre>\n\n<p>When the page loads all the Part Types load and they load expanded.  No parts load even if you click the individual part type links.  How can I get the Part Types to load collapsed and then load the part names when you expand one of the part types.</p>\n"},{"tags":["ajax","asp.net-mvc","exchange","viewbag"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13096601,"title":"ViewBag change using ajax in ASP.NET MVC3","body":"<p>ViewBag, ViewData, TempData are called just once at the first time when I call the view?</p>\n\n<p>And never change if I don't refresh the page?</p>\n\n<p>Because I want to change using Ajax (every 10 sec, I call Ajax)</p>\n\n<p>Plz See below code,</p>\n\n<p>==================== in Controller... =======================</p>\n\n<pre><code> public ActionResult OriginView()\n {\n\n      ViewBag.IntData = 1;\n\n      return View();\n\n }\n\n\n public JsonResult ChangeViewBag(int CurrentInterval)\n {\n\n      ViewBag.IntData = CurrentInterval;\n\n      return Json(new{IntData=CurrentInterval},JsonRequestBehavior.AllowGet);\n\n }\n</code></pre>\n\n<p>================= in OriginView.cshtml... =======================</p>\n\n<pre><code> var CurrentInterval = 2\n\n $.getJSON('@Url.Action(\"ChangeViewBag\",\"Controller\")', {CurrentInterval:CurrentInterval},function(response){\n\n    @*CurrentInterval++ every ten sec, I want to use CHANGED ViewBag here!*@\n\n    alert(@ViewBag.IntData) @*but **Result is still 1**, unchanged!*@\n\n    alert(response.IntData) @*ofcourse I can use it in this way. *@\n\n    @* but I should use below ASP.NET CODE\n\n    @{\n       string TimeData = DateTime.Now.AddSeconds(**ViewBag.IntData**).ToString();\n    }\n\n    ***The position is impossible to javascript variable.*** right?*@\n });\n</code></pre>\n\n<p>.Net genius please!!!\nIf it's impossible, Any Idea?</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":97,"score":7,"question_id":13096541,"title":"Real time ajax comments","body":"<p>I plan to make this commenting system where comments can be posted and updated without refreshing the page ( you can see this on youtube) </p>\n\n<p>Posting comments is understandable ( post to php page from javascript and run SQL query on server side to import it, than return the comment and fetch in html ) </p>\n\n<p>Updating is the part I don't understand. How can I refresh the page automatically on certain intervals and add comments? Isn't that going to be a mess when multiple users try to comment at the same time? </p>\n\n<p>I was wondering if anyone can recommend a good way ( just like word of advice ) to achieve this and save me some time </p>\n"},{"tags":["ajax","cross-domain"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13096943,"title":"Making AJAX calls from HTML file","body":"<p>I'm developing an Android app with PhoneGap. What PhoneGap does, is to create a mini-browser, with nothing but the phone's back key, and let's you build static HTML files, which act as your app.</p>\n\n<p>Now my problem is, how do I make AJAX calls from a HTML file to a certain domain? Wouldn't the AJAX call fail because the domains are different? <code>JSONP</code> is not an option, because I also need to <code>POST</code> to the URL, and JSONP does only <code>GET</code>.</p>\n\n<p>Do I need to change something in Apache's (2.x) settings, like the \"allow origin\" (or something similar) header?</p>\n"},{"tags":["jquery","ajax","function","callback","arguments"],"answer_count":11,"favorite_count":32,"up_vote_count":72,"down_vote_count":0,"view_count":46927,"score":72,"question_id":939032,"title":"JQuery pass more parameters into callback","body":"<p>Is there a way to pass more data into a callback function in Jquery?</p>\n\n<p>I have two functions and I want the callback to the <code>$.post</code>, for example, to pass in both the resulting data of the AJAX call, as well as a few custom arguments</p>\n\n<pre><code>function clicked() {\n    var myDiv = $(\"#my-div\");\n    // ERROR: Says data not defined\n    $.post(\"someurl.php\",someData,doSomething(data, myDiv),\"json\"); \n    // ERROR: Would pass in myDiv as curData (wrong)\n    $.post(\"someurl.php\",someData,doSomething(data, myDiv),\"json\"); \n}\n\nfunction doSomething(curData, curDiv) {\n\n}\n</code></pre>\n\n<p>Sorry if this is hard to understand. Basically I just want to be able to pass in my own parameters to a callback, as well as the result returned from the AJAX call.</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13095914,"title":"auto update data from AJAX posting form","body":"<p>I am using an AJAX script to post data from a form and return the processed data from a php file. The script is below.</p>\n\n<pre><code>    function loadXmlDoc(hashtag){\n    var xmlhttp;\n    if (window.XMLHttpRequest){\n        xmlhttp = new XMLHttpRequest();\n    }\n    else{\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlhttp.onreadystatechange = function(){\n        if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200){\n            document.getElementById(\"ajaxify\").innerHTML = xmlhttp.responseText;\n        }\n    }\n    xmlhttp.open(\"POST\", \"demo_ajax3.php\", true);\n    xmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    xmlhttp.send(\"hashtag=\" + hashtag);\n    }\n</code></pre>\n\n<p>However I want to auto update the results. how would I get this to auto update so it checks for more data? Or what would be the best way? </p>\n\n<p>There seems to be nothing about getting AJAX forms to auto refresh from what I've seen so any help would be greatly apprecaited</p>\n"},{"tags":["php","jquery","ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13096467,"title":"Very simple jquery AJAX post issue","body":"<p>I've been trying to find the problem for the last couple of hours, but no solution.\nI'm having an issue with the following AJAX post request.</p>\n\n<pre><code>$(\"#about_button\").click(function(e)\n    {\n        var about = $(\"#input_about\").val();\n        $.ajax\n        ({\n          type: 'POST',\n          url: location.href,\n          data: {\n                    'about' : about,\n                },\n          success: function(message) \n          {\n\n          },\n          complete: function(message)\n          {\n              alert(about);\n          }\n        });\n        e.preventDefault();\n    });  \n</code></pre>\n\n<p>Here is the html part of the code;</p>\n\n<pre><code>&lt;textarea id=\"input_about\" name=\"input_about\"&gt;&lt;/textarea&gt;\n&lt;input type=\"button\" id=\"about_button\" class=\"button\" value=\"Update\" /&gt;\n</code></pre>\n\n<p>And finally the PHP part at the beggining of the file;</p>\n\n<pre><code>&lt;?php\nrequire_once(\"headers.php\");\nif(isset($POST[\"about\"]))\n{\n    $data= $POST[\"about\"];\n    $database-&gt;query(\"UPDATE hakkimizda set icerik='$data'\");\n    echo '&lt;script type=\"text/javascript\"&gt;alert(\"dsdsfdsdfsf\"); &lt;/script&gt;';\n}\n?&gt;\n</code></pre>\n\n<p>When I click the submit button, it goes into the complete function and alerts the data, but it looks like the page never receives the post message.\nI don't if its related with my issue, but I'm using WAMP on localhost.</p>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3","redirect"],"answer_count":4,"favorite_count":8,"up_vote_count":10,"down_vote_count":0,"view_count":5089,"score":10,"question_id":5454806,"title":"Rails 3: How to \"redirect_to\" in Ajax call?","body":"<p>The following <code>attempt_login</code> method is called using Ajax after a login form is submitted.</p>\n\n<pre><code>class AccessController &lt; ApplicationController\n  [...]\n  def attempt_login\n    authorized_user = User.authenticate(params[:username], params[:password])\n\n    if authorized_user\n      session[:user_id] = authorized_user.id\n      session[:username] = authorized_user.username\n      flash[:notice] = \"Hello #{authorized_user.name}.\"\n      redirect_to(:controller =&gt; 'jobs', :action =&gt; 'index')\n    else\n      [...]\n    end\n  end\nend\n</code></pre>\n\n<p>The problem is that <code>redirect_to</code> doesn't work.</p>\n\n<p>How would you solve this ?</p>\n"},{"tags":["ajax","append"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13096247,"title":"Why is this appending multiple times? AJAX","body":"<p>I have this ajax function.  It gets the value of a textarea, sets it as a variable, and then sends that off to instagram.  It works.  </p>\n\n<p>I want to append the text area value to a div to show the comment posted, without refreshing the page.  It's basically a temporary visible comment that will be replaced with the actual comment from instagram when the page is reloaded.</p>\n\n<p>First, ignore that what I am trying to do is in the error field of all of this.  Because I am working locally, success doesn't work, it's swapped.  Doesn't matter right now. </p>\n\n<p>The problem I am having is when I append the data from the text area, it appends it multiple times.  I am currently displayed 4 images from instagram on my page.  It will append the text area data 4 times, on each photo, not sending the data to isntagram, just appending the fake comment.  </p>\n\n<p>If i remove 2 images from instagram, it will append it two times, for each image...  Why is it doing this, and how can I make it so when you submit the form, it appends the image, once, to that div.  </p>\n\n<p>Here is my function for submitting comments. </p>\n\n<pre><code>function instaComment(){\n\n    $('.messageTextarea').keydown(function() {\n        if (event.keyCode == 13) {\n            this.form.submit();\n            return false;\n         }\n    });\n\n    $('.button').live('click', function(){\n\n\n        var name = $(this).siblings('.messageTextarea').val();\n        var dataString = name;\n\n        $.ajax({\n        dataType: 'json',\n          url: \"https://api.instagram.com/v1/media/\"+$(this).attr('data-the_id')+\"/comments?\"+hash,\n          type: \"POST\",\n          data: \"text=\"+dataString,\n          success: function(data) {\n              // finish load\n            console.log(data, dataString, 'succ');\n          },\n            error: function(data) {\n                for (i=0; i &lt; instadata[0].data.length; i++){\n                    var username = instadata[0].data[i].user.username;\n                    var profilepic = instadata[0].data[i].user.profile_picture;\n\n                    console.log(data, dataString, 'succ');\n                    $(this).each(function() {\n                        $('.messageComments').append('&lt;li&gt;&lt;img class=\"commentUserImg\" src=\"' + profilepic + '\"&gt;&lt;div class=\"commentUser\"&gt;' + username + '&lt;/div&gt;&lt;div class=\"commentText\"&gt;' + dataString + '&lt;/div&gt;&lt;/li&gt;');\n                    });\n\n\n                }\n        }\n    });\n    return false;\n});\n}\n</code></pre>\n"},{"tags":["jquery","ajax","post","file-upload"],"answer_count":7,"favorite_count":8,"up_vote_count":17,"down_vote_count":0,"view_count":36593,"score":17,"question_id":2320069,"title":"jQuery Ajax File Upload","body":"<p>Can I use this following jQuery code to perform file upload using post method of Ajax request ?</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    timeout: 50000,\n    url: url,\n    data: dataString,\n    success: function(data) { alert('success');return false;} });\n</code></pre>\n\n<p>if it is possible, do I need to fill \"data\" part? Is it the correct way? I only post the file to the server side.</p>\n\n<p>I have been Googling around, but what I found was plugin while in my plan I do not want to use it. At least for the moment.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["javascript","ajax","json"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13091809,"title":"JavaScript / jQuery access to newly loaded ajax data","body":"<p>I have a website like facebook. Every 10 seconds it checks posts to see if any new comments should be loaded. The code sort of looks like this:</p>\n\n<pre><code>&lt;div id=\"profile_entry_1\"&gt;\n  &lt;div id=\"posttext_id1\"&gt;Woot woot!&lt;/div&gt;\n  &lt;div id=\"comment_id15\" class=\"checkForNewComments\"&gt;This is the 15th comment in the database&lt;/comment&gt;\n  &lt;div id=\"more_wall_comments_div_1\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"profile_entry_2\"&gt;\n  &lt;div id=\"posttext_id2\"&gt;Woot woot!&lt;/div&gt;\n  &lt;div id=\"comment_id16\"&gt;This is the 16th comment in the database&lt;/comment&gt;\n  &lt;div id=\"comment_id17\"&gt;This is the 17th comment in the database&lt;/comment&gt;\n  &lt;div id=\"comment_id18\" class=\"checkForNewComments\"&gt;This is the 18th comment in the database&lt;/comment&gt;\n  &lt;div id=\"more_wall_comments_div_2\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So above there are two posts, the first two in the database, with comments on each. When the page first loads the PHP will look for the very last comment and assign it a certain class.</p>\n\n<p>It's assigned a class of \"checkForNewComments\" so my JavaScript can grab its comment_id ID.</p>\n\n<p>It sends that ID through to a new page to look for comments on that post that have a greater value, and it will load them through an Ajax call in jSon format. I parse it, and .append() it to the \"newComments\" section.</p>\n\n<p>So, if the code finds a new comment it will strip the posts' class of \"checkForNewComments\"</p>\n\n<pre><code>&lt;div id=\"profile_entry_2\"&gt;\n  &lt;div id=\"posttext_id2\"&gt;Woot woot!&lt;/div&gt;\n  &lt;div id=\"comment_id16\"&gt;This is the 16th comment in the database&lt;/comment&gt;\n  &lt;div id=\"comment_id17\"&gt;This is the 17th comment in the database&lt;/comment&gt;\n  &lt;div id=\"comment_id18\"&gt;This is the 18th comment in the database&lt;/comment&gt;\n  &lt;div id=\"more_wall_comments_div_2\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The post it loads, say, comment_id19 will now have the class of \"checkForNewComments\", so in 10 seconds when it looks for new comments it will look for a comment greater than 19.</p>\n\n<p>Here's the trouble, JavaScript cannot access newly loaded DIV and CLASS information.</p>\n\n<p>How do I go about this?</p>\n\n<hr>\n\n<h2>Here is my JavaScript</h2>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar loadedComments = true;\nfunction loadComRefresh(timeoutPeriod){ setTimeout(\"loadNewComs();\",timeoutPeriod); }\nfunction loadNewComs(){\n  if (loadedComments == true){\n    loadedComments = false;\n    var loadComString = \"\";\n    $('.loadNewComs').each(function() {\n    comLoad = this.id.substr(14);\n    testD = $(\"#more_wall_comments_div_\" + comLoad).find(\".commentDivID\").attr(\"id\");\n    if (testD != undefined){\n      addSub = \":\"+ testD +\"\";\n    } else { addSub = \"\"; }\n    loadComString = loadComString + comLoad + addSub + \",\";\n  });\n  $.ajax({\n    url: '../members/more_wall_comments_json.php',\n    data: \"loadComString=\" + loadComString,\n    dataType: \"json\",\n    cache: false,\n    success: function(data) { \n      loadedComments = true; \n      if (data != null){\n        for(var i=0; i&lt;data.loadComs.length;i++) {\n          $(\"#postnewcomment\" + data.loadComs[i].id).html(data.loadComs[i].script);\n        }\n      }\n    }\n  });\n  loadComRefresh(10000);\n}\n&lt;/script&gt;\n&lt;body onLoad=\"loadComRefresh(10000);\"&gt;\n</code></pre>\n\n<hr>\n\n<h2>Here is my PHP/HTML of the document</h2>\n\n<pre><code>&lt;?php\necho '\n&lt;div id=\"profile_entry_'. $recent_id .'\" class=\"loadNewComs\" '. $delete_mouse_over .'&gt;\n  &lt;table style=\"width:'. $table_width .'\"&gt;\n    &lt;tr&gt;\n      &lt;td style=\"width:50px;height:50px;padding:5px;vertical-align:top;\"&gt;\n        &lt;a href=\"'. $extralink .'viewmember.php?id='. $to_id .'\"&gt;&lt;img src=\"'. getMemberThumbnail($to_id) .'\" style=\"width:50px;height:50px;display:block;\" alt=\"\" /&gt;&lt;/a&gt;\n      &lt;/td&gt;\n      &lt;td style=\"padding:5px 5px 5px 0;vertical-align:top;width:100%;\"&gt;\n        &lt;a href=\"'. $extralink .'viewmember.php?id='. $to_id .'\"&gt;'. getName($to_id) .'&lt;/a&gt;\n        &lt;div style=\"margin:2px 0 0 0;\"&gt;'. getEmoticon(tagUserLinks(breakUp($change))) .'&lt;/div&gt;'\n        &lt;div id=\"more_wall_comments_div_'. $recent_id .'\"&gt;';\n\n$array = array();\n$q = mysql_query(\"SELECT t1.id_id,t1.to_id,t1.from_id,t1.message_id,t1.like_id,t1.date_id,t1.mobile_id,t1.mobiletype_id,t2.user_id,t2.avatar FROM status_comments AS t1 LEFT JOIN users AS t2 ON t1.from_id = t2.id_id WHERE recent_id='$recent_id'\") or die ('here!');\n$q_count = mysql_num_rows($q);\nwhile ($r = mysql_fetch_array($q)){ \n  $that_count = $that_count + 1;\n  $comment_id = $r['id_id'];\n  $to_id = $r['to_id'];\n  $from_id2 = $r['from_id'];\n  $message_id = $r['message_id'];\n  $like = $r['like_id'];\n  $date = $r['date_id'];\n  $mobile = $r['mobile_id'];\n  $mobiletype = $r['mobiletype_id'];\n  $fromname_id = $r['user_id'];\n  $thumbnail = '../media/members/thumbs/'. $r['avatar'];\n  $array[$comment_id]  = array($comment_id,$to_id,$from_id2,$message_id,$like,$date,$mobile,$mobiletype,$fromname_id,$thumbnail);\n}\n\nkrsort($array);\n$array = array_slice($array, 0, 3, true);\nksort($array);\n\n\nif ($q_count &gt; 0) {\n  foreach($array as $key =&gt; $value) {  \n    $that_count = $that_count + 1;\n    $comment_id = $value[0];\n    $to_id = $value[1];\n    $from_id2 = $value[2];\n    $message_id = $value[3];\n    $like = $value[4];\n    $roughdate = $value[5];\n    $mobile = $value[6];\n    $mobiletype = $value[7];\n    $fromname_id = $value[8];\n    $thumbnail = $value[9];\n\n\n    if ($that_count == 1 AND $recentlikecount == 0 AND $recentdislikecount == 0 AND $comments_topped != 'true') {\n      echo '\n          &lt;div id=\"'. $comment_id .'\" class=\"commentDivID\" style=\"width:'. $commentsize .';\" '. $delete_mouse_over_comment .'&gt;\n            &lt;div style=\"width:'. $commentsize .';height:11px;background-image:url(../lib/images/comment_top.gif);\"&gt;&lt;/div&gt;\n            &lt;table style=\"width:'. $commentsize .';background-color:#'. $_SESSION['BGCOLOR'] .';border-bottom:1px solid #ccd4d8;\"&gt;\n              &lt;tr&gt;\n                &lt;td style=\"width:35px;height:35px;padding:5px;vertical-align:top;\"&gt;\n                  &lt;a href=\"'. $extralink .'viewmember.php?id='. $from_id2 .'\"&gt;&lt;img src=\"'. $thumbnail .'\" style=\"width:35px;height:35px;display:block;\" /&gt;&lt;/a&gt;\n                &lt;/td&gt;\n                &lt;td style=\"padding:5px 5px 5px 0;vertical-align:top;\"&gt;\n                  &lt;a href=\"'. $extralink .'viewmember.php?id='. $from_id2 .'\"&gt;'. $fromname_id .'&lt;/a&gt; '. getEmoticon(tagUserLinks(breakUp($message_id))) .'&lt;br /&gt; \n                  '. $mobile .' &lt;span id=\"time'. $comment_id .'\" name=\"'. $roughdate .'\" class=\"loadTime\"&gt;'. roughDate($roughdate) .'&lt;/span&gt;&lt;/span&gt; '. $like_link .'\n                &lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/table&gt;\n          &lt;/div&gt;';\n  }\n}\necho '  &lt;/div&gt;';\n</code></pre>\n\n<p>Now I didn't put the code in here, but the last comment is assigned the class=\"commentDivID\" , not every comment.</p>\n\n<p>When the javascript does a call and finds a new comment to load it will strip the last comment of the class=\"commentDivID\" and place it in the new comment that is loaded, but javascript can't access newly loaded items so it's no longer able to find the class=\"commentDivID\" </p>\n"},{"tags":["ajax","forms","instagram"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13095883,"title":"Form submission with ajax","body":"<p>I am working with Instagram's API in submitting a comment.  Right now, the submission works when hitting the ENTER key and submits the form.  Though, as expected once it submits, it reloads the page, or reloads the page to submit.  </p>\n\n<p>What I'd like to do, is when you submit the form, ajax submits it in the background, without refreshing.  Then, after a submission is successful, it appends the comment, or form, to a div.  </p>\n\n<p>I'm new with AJAX and forms, so it's a bit confusing to wrap my head around.  If I could get help modifiy my current code, to submit without a refresh, and then append the form to a div, along with any learning comments, that would be awesome.</p>\n\n<p>Here is what I currently have, a function called instaComments();  It works as it should, but like I said, it refreshed the page.  </p>\n\n<pre><code>function instaComment(){\n\n    $('.text-input').keydown(function() {\n        if (event.keyCode == 13) {\n            this.form.submit();\n            return false;\n         }\n    });\n\n    $('.button').live('click', function(){\n\n\n        var name = $(this).siblings('.text-input').val();\n        var dataString = name;\n\n        $.ajax({\n        dataType: 'json',\n          url: \"https://api.instagram.com/v1/media/\"+$(this).attr('data-the_id')+\"/comments?\"+hash,\n          type: \"POST\",\n          data: \"text=\"+dataString,\n          success: function(data) {\n              // finish load\n          //  console.log(data, dataString, 'succ');\n          },\n            error: function(data) {\n           // console.log(data, dataString, 'fail');\n        }\n    });\n    return false;\n});\n}\n</code></pre>\n\n<p>Thanks for the help! </p>\n\n<p><strong>EDIT:  I lied, it works how it's suppose to... Sorta... I am having trouble appending the submitted message, but I guess I can figure that part out.</strong>  </p>\n"},{"tags":["php","ajax","xslt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13084848,"title":"Returning HTML using a combination AJAX, PHP, XSL + Firefox","body":"<p>I've got a weird problem that occurs when returning HTML (via AJAX) to Firefox.</p>\n\n<p>Here's the scenario:</p>\n\n<ol>\n<li>I have a ton of XML data on my server that I transform (via XSL) for a batch reporting system</li>\n<li>I am reusing both the XML and the XSL for a front-end system</li>\n<li>In the front-end I send an Ajax request to a PHP program that gathers XML docs, runs Xpath against it to produce a new (output) XML file</li>\n<li>I take new XML file and reuse my XSL to transform to HTML and send that result back to my front-end (browser).  I place the returned data into an iframe (div also worked, BTW)</li>\n</ol>\n\n<p>OK, here's the issue: in Chrome my output looks fine, as shown below, However, you will see in Firefox that it displays incorrectly (the characters are supposed to be spaces).</p>\n\n<p>Both my front-end process that makes request and my XSL that produces the output that gets loaded into the iframe include:</p>\n\n<pre><code>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n</code></pre>\n\n<p>Searched high and low for an answer to this.  Couple of sources suggested:</p>\n\n<ul>\n<li>htmlspecialchars — Convert special characters to HTML entities</li>\n<li>htmlentities — Convert all applicable characters to HTML entities</li>\n</ul>\n\n<p>No luck.</p>\n\n<p>Any ideas?  Have I provided enough info?</p>\n\n<p>Thanks.\nRob</p>\n\n<p><img src=\"http://i.stack.imgur.com/oUCic.jpg\" alt=\"Output on Chrome\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/PxzQK.jpg\" alt=\"Output on Firefox\"></p>\n\n<hr>\n\n<p>New comments:</p>\n\n<p>In my XSL I use <code>&amp;#160;</code> for spaces.  E.g. an empty TD would be</p>\n\n<pre><code>&lt;td valign=\"top\"&gt;&amp;#160;&lt;/td&gt;\n</code></pre>\n\n<p>My AJAX call looks like this: </p>\n\n<pre><code>$.post('pgm.php', formData,\nfunction(data) \n{\n    $(\"#mainFrame\").contents().find(\"html\").html(data); // replace iframe contents\n}, \n\"html\"\n);\n</code></pre>\n\n<p>AJAX returns full HTML document with <code>&lt;head&gt;</code> and all since I need the CSS links.  I replace the HTML within the iframe with the new HTML.</p>\n"},{"tags":["ajax","jsf","richfaces"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5131,"score":0,"question_id":4658853,"title":"JSF : How to refresh required field in ajax request","body":"<p>Ok, here you are the core problem. </p>\n\n<p>The page. I have two required \"input text\". \nA command button that changes the bean value and reRenderes the \"job\" object. </p>\n\n<pre><code>&lt;a4j:form id=\"pervForm\"&gt;  \n    SURNAME:&lt;h:inputText id=\"surname\" label=\"Surname\" value=\"#{prevManager.surname}\" required=\"true\" /&gt;  \n    &lt;br/&gt;               \n    JOB:&lt;h:inputText  value=\"#{prevManager.job}\"  id=\"job\"  maxlength=\"10\" size=\"10\"  label=\"#{msg.common_label_job}\" required=\"true\" /&gt;  \n    &lt;br/&gt;  \n\n    &lt;a4j:commandButton value=\"Set job to Programmer\" ajaxSingle=\"true\" reRender=\"job\"&gt;  \n        &lt;a4j:actionparam name=\"jVal\" value=\"Programmer\" assignTo=\"#{prevManager.job}\"/&gt;  \n    &lt;/a4j:commandButton&gt;  \n\n    &lt;h:commandButton id=\"save\" value=\"save\"  action=\"save\" class=\"HATSBUTTON\"/&gt;  \n\n&lt;/a4j:form&gt;  \n</code></pre>\n\n<p>Here the simple manager: </p>\n\n<pre><code>public class PrevManager   \n{  \n\n    private String surname;  \n    private String job;  \n\n    public String getSurname()  \n    {  \n        return surname;  \n    }  \n\n    public void setSurname(String surname)  \n    {  \n        this.surname = surname;  \n    }  \n\n    public String getJob()  \n    {  \n        return job;  \n    }  \n\n    public void setJob(String job)  \n    {  \n        this.job = job;  \n    }  \n\n    public String save()  \n    {  \n        //do something  \n    }  \n\n}  \n</code></pre>\n\n<p>Let's do this: </p>\n\n<p>Write something on the Job input text (such as \"teacher\"). \nLeave empty the surname. \nSave. \nValidation error appears (surname is mandatory). \nPress \"Set job to Programmer\": nothing happens. </p>\n\n<p>Checking the bean value, I discovered that it is correctly updated, indeed the component on the page is not updated! </p>\n\n<p>Well, according to the JBoss Docs I found: </p>\n\n<blockquote>\n  <p>Ajax region is a key ajax component.\n  It limits the part of the component\n  tree to be processed on the server\n  side when ajax request comes.\n  Processing means invocation during\n  Decode, Validation and Model Update\n  phase. Most common reasons to use a\n  region are: </p>\n  \n  <p>-avoiding the aborting of the JSF lifecycle processing during the\n  validation of other form input\n  unnecessary for given ajax request; \n  -defining the different strategies when events will be delivered\n  (immediate=\"true/false\") \n  -showing an individual indicator of an ajax status \n  -increasing the performance of the rendering processing\n  (selfRendered=\"true/false\",\n  renderRegionOnly=\"true/false\") </p>\n  \n  <p>The following two examples show the\n  situation when a validation error does\n  not allow to process an ajax input.\n  Type the name. The outputText\n  component should reappear after you.\n  However, in the first case, this\n  activity will be aborted because of\n  the other field with required=\"true\".\n  You will see only the error message\n  while the \"Job\" field is empty.</p>\n</blockquote>\n\n<p>Here you are the example: </p>\n\n<pre><code>&lt;ui:composition xmlns=\"http://www.w3.org/1999/xhtml\"  \n      xmlns:ui=\"http://java.sun.com/jsf/facelets\"  \n      xmlns:h=\"http://java.sun.com/jsf/html\"  \n      xmlns:f=\"http://java.sun.com/jsf/core\"  \n      xmlns:a4j=\"http://richfaces.org/a4j\"  \n      xmlns:rich=\"http://richfaces.org/rich\"&gt;  \n\n        &lt;style&gt;  \n            .outergridvalidationcolumn {  \n                padding: 0px 30px 10px 0px;  \n            }  \n        &lt;/style&gt;  \n\n    &lt;a4j:outputPanel ajaxRendered=\"true\"&gt;  \n        &lt;h:messages style=\"color:red\" /&gt;  \n    &lt;/a4j:outputPanel&gt;  \n    &lt;h:panelGrid columns=\"2\" columnClasses=\"outergridvalidationcolumn\"&gt;  \n\n        &lt;h:form id=\"form1\"&gt;  \n                &lt;h:panelGrid columns=\"2\"&gt;  \n                    &lt;h:outputText value=\"Name\" /&gt;  \n                    &lt;h:inputText value=\"#{userBean.name}\"&gt;  \n                        &lt;a4j:support event=\"onkeyup\" reRender=\"outname\" /&gt;  \n                    &lt;/h:inputText&gt;  \n                    &lt;h:outputText value=\"Job\" /&gt;  \n                    &lt;h:inputText  required=\"true\" id=\"job2\" value=\"#{userBean.job}\" /&gt;  \n                &lt;/h:panelGrid&gt;  \n        &lt;/h:form&gt;  \n\n        &lt;h:form id=\"form2\"&gt;  \n            &lt;h:panelGrid columns=\"2\"&gt;  \n                &lt;h:outputText value=\"Name\" /&gt;  \n                &lt;a4j:region&gt;  \n                    &lt;h:inputText value=\"#{userBean.name}\"&gt;  \n                        &lt;a4j:support event=\"onkeyup\" reRender=\"outname\" /&gt;  \n                    &lt;/h:inputText&gt;  \n                &lt;/a4j:region&gt;  \n                &lt;h:outputText value=\"Job\" /&gt;  \n                &lt;h:inputText   required=\"true\"  id=\"job1\"  value=\"#{userBean.job}\" /&gt;  \n            &lt;/h:panelGrid&gt;  \n        &lt;/h:form&gt;  \n\n    &lt;/h:panelGrid&gt;  \n    &lt;h:outputText id=\"outname\" style=\"font-weight:bold\" value=\"Typed Name: #{userBean.name}\" /&gt;  \n    &lt;br /&gt;  \n&lt;/ui:composition&gt;  \n</code></pre>\n\n<p>Form1: the behaviour is incorrect. I need to fill the job and then the name. \nForm2: the behaviour is correct. I do not need to fill the job to see the correct value. </p>\n\n<p>Unfortunately using Ajax region does not help (indeed I used it in a bad way ...) because my fields are both REQUIRED. That's the main different. </p>\n\n<p>Any idea? </p>\n\n<p>Many thanks. </p>\n"},{"tags":["ajax","json","wordpress","wordpress-plugin","cross-domain"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13095516,"title":"How do I do a cross domain GET of an XML feed in a WordPress plugin?","body":"<p>I would like to use AJAX to display dynamic content via my wordpress plugin. The data source is an xml feed from a remote domain (not owned by me).</p>\n\n<p>I have tried using JQuery plugins that use YQL to do cross domain Ajax calls; however, they are geared towards json and tend to return the data in a mangled state.</p>\n\n<p>My question is, is there a way of obtaining an xml feed using ajax from a remote domain?</p>\n"},{"tags":["javascript","html","ajax","function"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13093959,"title":"AJAX/Javascript function not working","body":"<p>Hi I am using an ajax call to a function called build_Array.  This function should break up myString which is \"Call 1-877-968-7762 to initiate your leave.,1,0,through;You are eligible to receive 50% pay.,1,365,through;Your leave will be unpaid.,1,0,After;\" \ninto sections divided by the commas into a 2d array.  But it is not working.  It says all of the values for the array are undefined.  Here is where I call the function inside the ajax...  (It works in the jsfiddle  <a href=\"http://jsfiddle.net/ChaZz/3/\" rel=\"nofollow\">http://jsfiddle.net/ChaZz/3/</a>)</p>\n\n<pre><code>var request = new XMLHttpRequest();\n  request.onreadystatechange = function() {\n    if (request.readyState == 4 &amp;&amp; request.status == 200) {\n      var myString = request.responseText;\n      myString = build_Array(myString);\n      document.getElementById('ajax').innerHTML = myString;\n    }\n  }\n</code></pre>\n\n<p>And here is the function build_Array...</p>\n\n<pre><code>function build_Array (myString) {\n  var mySplitResult = myString.split(';');\n  var myArray = new Array(mySplitResult.length);\n\n  //may need to get rid of -1\n  for(var i = 0; i &lt; mySplitResult.length -1; i++){\n    myArray[i] = new Array(4);\n    var mySplitResult2 = mySplitResult[i].split(',');\n\n    for(var z = 0; z &lt; mySplitResult2.length; z++) {\n        myArray[i][z] = mySplitResult2[z];\n    }\n  }\n  var final_message = myArray[1][1];\n  return final_message;\n}\n</code></pre>\n"},{"tags":["c#","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13094902,"title":"Input field not updated in ajax function","body":"<p>I'll try to explain the issue I'm facing the best way</p>\n\n<p>I've got a view, and inside it a partial view which basically displays an input field and a button. This partial view would look like this</p>\n\n<pre><code>&lt;fieldset&gt;\n    @Html.HiddenFor(model =&gt; model.AuctionId)\n    @Html.HiddenFor(model =&gt; model.AuctionEventId)\n     &lt;div class=\"lotdetail-maxbid-row\"&gt;\n        @Html.TextBoxFor(model =&gt; model.Amount, new { @class = \"radius2 text-box single-line valid\" })\n        @Html.ValidationMessageFor(model =&gt; model.Amount)\n    &lt;/div&gt;\n    &lt;input type=\"submit\" id=\"autobidButton\" value=\"Increase Max bid\" class=\"btn btn-level2 btn-maxbid @disableButton\" /&gt;\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>And inside this partial view, I've put this script</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n    $('#autobidButton').click(function () {\n        $.ajax({\n            url: \"/Lot/AutobidConfirmationPartial\",\n            data: {\n                amount: $(\"#Amount\").val(),\n                auctionEventId: $(\"#AuctionEventId\").val(),\n                auctionId: $(\"#AuctionId\").val()\n            },\n            success: function (result) {\n                $(\"#autobidConfirmation\").empty().append(result);\n            },\n            type: \"POST\"\n        });\n        return false;\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>With the intention of load the result, which is a partial view in a div in the parent page.</p>\n\n<p>The problem is that amount is always 0 (default value), and never gets updated when calling the function inside the script.</p>\n\n<p>Any idea of what to do or look?</p>\n\n<p>Thanks,</p>\n\n<p>Update: This is the generated html and controller method</p>\n\n<pre><code>&lt;fieldset&gt;\n   &lt;input id=\"AuctionId\" type=\"hidden\" value=\"3\" name=\"AuctionId\"&gt;\n   &lt;input id=\"AuctionEventId\" type=\"hidden\" value=\"1\" name=\"AuctionEventId\"&gt;\n   &lt;div class=\"lotdetail-maxbid-row\"&gt;\n      &lt;input id=\"Amount\" class=\"radius2 text-box single-line valid\" type=\"text\" value=\"0\" name=\"Amount\"&gt;\n   &lt;/div&gt;\n  &lt;input id=\"autobidButton\" class=\"btn btn-level2 btn-maxbid \" type=\"submit\" value=\"Increase Max bid\"&gt;\n&lt;/fieldset&gt;\n\npublic ActionResult AutobidConfirmationPartial(int auctionEventId, int auctionId, decimal amount)\n    {\n        var incorrectAmount = false;\n        var correctedAmount = amount;\n        if (!CheckMaxBidFitsIncrementTier(amount, auctionEventId))\n        {\n            incorrectAmount = true;\n            correctedAmount = CalculateNextBidAmountForWrongMaxAmount(amount, auctionEventId); ;\n        }\n\n        var model = new BidOnAuctionViewModel\n        {\n            AuctionEventId = auctionEventId,\n            AuctionId = auctionId,\n            Amount = correctedAmount,\n            IncorrectAmount = incorrectAmount,\n        };\n        //TotalPriceBreakdown(ref model, null);\n        return PartialView(\"BidConfirmationPartial\", model);\n}\n</code></pre>\n"},{"tags":["php","javascript","ajax","form-validation","success"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":528,"score":0,"question_id":9752217,"title":"Validating contactform using PHP, JS and Ajax","body":"<p>I have a little problem with the validation of the content entered into a contactform. First of all the actual form:</p>\n\n<pre><code>&lt;script src=\"http://malsup.github.com/jquery.form.js\"&gt;&lt;/script&gt; \n&lt;script&gt;\n$(document).ready(function(){ \n  $('#contact_messenbrinkeu').ajaxForm(\n     function(){ \n       alert(\"Your message has been send!\"); \n     }\n    )\n})\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;section id=\"page\"&gt;\n&lt;?php include(\"includes/header.php\"); ?&gt;\n\n&lt;section id=\"articles\"&gt;                \n&lt;article id=\"article1\"&gt;\n\n&lt;div id=\"contact-form\"&gt;    \n\n&lt;form id=\"contact_messenbrinkeu\" action=\"sendform.php\" method=\"post\"&gt;\n&lt;fieldset id=\"form\"&gt;\n\n    &lt;label for=\"name\"&gt;Name*&lt;/label&gt;&lt;br&gt;\n    &lt;input type=\"text\" name=\"name\" placeholder=\"Your Name\"title=\"enter your name\" class=\"alpha required\"&gt;&lt;br&gt;\n\n    &lt;label for=\"email\"&gt;E-mail*&lt;/label&gt;&lt;br&gt;\n    &lt;input type=\"email\" name=\"email\" placeholder=\"mail@example.com\" title=\"Enter your e-mail address\" class=\"mail required\"&gt;&lt;br&gt;\n\n    &lt;label for=\"phone\"&gt;Phone&lt;/label&gt;&lt;br&gt;\n    &lt;input type=\"text\" name=\"phone\" placeholder=\"00 45 12 34 56 78\" class=\"numeric\"&gt;&lt;br&gt;\n\n    &lt;label for=\"website\"&gt;Website&lt;/label&gt;&lt;br&gt;\n    &lt;input type=\"text\" name=\"website\" placeholder=\"www.example.com\" id=\"website\"&gt;&lt;br&gt;\n\n    &lt;label for=\"message\"&gt;Message*&lt;/label&gt;&lt;br id=\"message\"&gt;\n    &lt;textarea name=\"message\" class=\"required\"&gt;&lt;/textarea&gt;\n\n&lt;/fieldset&gt;\n&lt;fieldset id=\"button\"&gt;\n\n&lt;button type=\"submit\"&gt;&gt;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;Send&lt;/button&gt;\n&lt;button type=\"reset\"&gt;reset&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;&lt;&lt;/button&gt;\n\n&lt;/fieldset&gt;\n&lt;/form&gt;\n\n&lt;/div&gt;&lt;!-- /end #contact-form --&gt;\n\n&lt;/article&gt;&lt;!-- Article 1 end --&gt;\n&lt;/section&gt;\n\n&lt;?php include(\"includes/jquery.php\");?&gt;\n&lt;script type=\"text/javascript\"&gt;\n/*&lt;![CDATA[*/\njQuery.noConflict();\njQuery(document).ready(function($){\n    // when submit button is pressed\n    $(\"#contact_messenbrinkeu\").submit(function() {\n\n        var pass = true;\n\n        var errors = {\n            required    : 'this field is required',\n            email       : 'enter a valid email address',\n            numeric     : 'enter a number without spaces, dots or commas',\n            alpha       : 'this field accepts only letters &amp;amp; spaces'\n        };\n\n        var tests = {\n            email       : /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/,\n            numeric     : /^[0-9]+$/,\n            alpha       : /^[a-zA-Z ]+$/\n        };\n\n        // clear error messages\n        $(\".error\").removeClass();\n        $(\".error-message\").remove();\n\n        function displayError(el, type) {\n            $(el).parent().addClass(\"error\").find('label').append('&lt;span class=\\\"error-message\\\"&gt; &amp;#8211; ' + errors[type] + '&lt;/span&gt;');\n        }\n\n        $('.required, .email, .numeric, .alpha').each(function(){\n            var value       = $(this).val();\n            var valueExists = value.length === 0 ? false : true;\n\n            var required    = $(this).hasClass('required');\n            var email       = $(this).hasClass('email');\n            var numeric     = $(this).hasClass('numeric');\n            var alpha       = $(this).hasClass('alpha');\n\n            if (required &amp;&amp; value.length===0) {\n                displayError(this,'required');\n                pass=false;\n            }\n\n            else if (email &amp;&amp; valueExists &amp;&amp; !tests.email.test(value)) {\n                displayError(this,'email');\n                pass=false;\n            }\n\n            else if (numeric &amp;&amp; valueExists &amp;&amp; !tests.numeric.test(value)) {\n                displayError(this,'numeric');\n                pass=false;\n            }\n\n            else if (alpha &amp;&amp; valueExists &amp;&amp; !tests.alpha.test(value)) {\n                displayError(this,'alpha');\n                pass=false;\n            }\n        });\n        return pass;\n    });\n});\n/*]]&gt;*/\n&lt;/script&gt;\n</code></pre>\n\n<p>As well as the sendform.php which is called when submitting the form:</p>\n\n<pre><code>&lt;?php\n    ini_set(\"display_errors\", \"0\");\n    $post_data = filter_input_array( INPUT_POST );\n\n    $name = $post_data[\"name\"];\n    $email = $post_data[\"email\"];\n    $phone = $post_data[\"phone\"];\n    $website = $post_data[\"website\"];\n    $message = $post_data[\"message\"];\n\n\n\n    # select data that needs validation\n    $validate = array(\n        'required'  =&gt; array($name,$email,$message),\n        'validEmail'    =&gt; array($email),\n        'validNumber'   =&gt; array($phone),\n        'validAlpha'    =&gt; array($name)\n    );\n    $formcontent = \"Name: $name \\nE-Mail: $email \\nPhone: $phone \\nWebsite: $website \\nMessage: $message \\n\";\n    //*$formcontent = wordwrap($formcontent, 70, \"\\n\", true);\n\n    $recipient = \"mail@test.com\"; \n    $subject = \"Testmail\"; \n\n    /*$mailheader = \"From: $email \\r\\n\";**/\n\n    $mailheader .= \"Reply-To: $name &lt;$email&gt;\\r\\n\"; \n    $mailheader .= \"Return-Path: $name &lt;$email&gt;\\r\\n\"; \n    $mailheader .= \"Content-Type: text/plain\\r\\n\"; \n    $mailheader .= \"Organization: Sender Organization\\r\\n\";\n    $mailheader .= \"MIME-Version: 1.0\\r\\n\";\n    $mailheader .= \"Content-type: text/plain; charset=UTF-8\\r\\n\";\n    $mailheader .= \"X-Priority: 3\\r\\n\";\n    $mailheader .= \"X-Mailer: PHP\". phpversion() .\"\\r\\n\";\n    $mailheader .= \"From: $name &lt;$email&gt;\\r\\n\";  \n\n    function sendMail() {\n        global $formcontent, $recipient, $subject, $mailheader;\n        mail($recipient, $subject, $formcontent, $mailheader);\n    }\n\n    # error messages\n    $errorsMsgs = array(\n        'required'  =&gt; 'Please fill out all required fields.',\n        'validEmail'    =&gt; 'is an invalid email address.',\n        'validNumber'   =&gt; 'is an invalid number.',\n        'validAlpha'    =&gt; 'contains invalid characters. This field only accepts letters and spaces.'\n    );\n\n    $errorMarkup    = \"&lt;h1&gt;We found a few errors :-(&lt;/h1&gt;&lt;h2&gt;Please fix these errors and try again&lt;/h2&gt;&lt;ol&gt;\";\n    $errorMarkupEnd = \"&lt;/ol&gt;\";\n    $successMarkup  = \"&lt;h1&gt;Success!&lt;/h1&gt;&lt;h2&gt;Your form was sent successfully.&lt;/h2&gt;\";\n    $backMarkup     = \"&lt;a href=\\\"\" . $_SERVER['HTTP_REFERER'] . \"\\\"&gt;Back to form&lt;/a&gt;\";\n\n    # begin state\n    $valid = true;\n\n    # loop through fields of error types\n    foreach ($validate as $type =&gt; $fields) {\n        # loop through values of fields to be tested\n        foreach ($fields as $value) {\n            # throw error if value is required and not entered\n            if ($type === 'required' &amp;&amp; strlen($value) === 0) {\n                $errorMarkup .= \"&lt;li&gt;$errorsMsgs[$type]&lt;/li&gt;\";\n                $valid = false;\n                break;\n            }\n            else if (\n                $type === 'validEmail'  &amp;&amp; !filter_var($value, FILTER_VALIDATE_EMAIL) ||\n                $type === 'validNumber' &amp;&amp; !preg_match('/^[0-9 ]+$/', $value) ||\n                $type === 'validAlpha'  &amp;&amp; !preg_match('/^[a-zA-Z ]+$/', $value)\n            ) {\n                if (strlen($value) === 0) {break;} # skip check if value is not entered\n                $errorMarkup .= \"&lt;li&gt;\\\"$value\\\" $errorsMsgs[$type]&lt;/li&gt;\";\n                $valid = false;\n                continue;\n            }\n        }\n    }\n\n    function isUTF8($string){\n    return (utf8_encode(utf8_decode($string)) == $string);\n    }\n\n    if ($valid) {\n        //*isUTF8($subject);\n        //*isUTF8($formcontent);\n        sendMail();\n        $body = $successMarkup . $backMarkup;\n        $title = \"Form sent\";\n    } else {\n        $body = $errorMarkup . $errorMarkupEnd . $backMarkup;\n        $title = \"Form errors\";\n    }\n</code></pre>\n\n<p>There are two problems I am struggeling with at that point:</p>\n\n<ol>\n<li><p>If you enter invalid characters into the form it will not only return an error for the field with the invalid value, but for all of them.</p></li>\n<li><p>The popup which tells you that the form was successfully send appears wether or not the form was actually send - so I obviously need to put it behind the validation.</p></li>\n</ol>\n\n<p>I am rather new to php and js, so any help would be really appreciatet!</p>\n"},{"tags":["javascript","ajax","twitter-bootstrap","modal"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":134,"score":1,"question_id":12694410,"title":"twitter bootstrap modal not displaying remote image","body":"<p>I'm using twitter bootstrap's modal window to load a remote image </p>\n\n<pre><code>&lt;a href=\"assets/500x300.gif\" data-target=\"#image-preview\" data-toggle=\"modal\"&gt;&lt;img alt=\"250x150\" src=\"/assets/250x150.gif\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>I'm <a href=\"http://twitter.github.com/bootstrap/javascript.html#modals\" rel=\"nofollow\">following these docs</a></p>\n\n<p>The image is not rendering correctly in the modal.</p>\n\n<p>I get a load of jumbled data instead - </p>\n\n<p><img src=\"http://i.stack.imgur.com/4FBaY.png\" alt=\"twitter bootstrap is not great\"></p>\n\n<p>What's happening? How can I fix?</p>\n"},{"tags":["php","jquery","html","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13094302,"title":"AJAX Display Images","body":"<p>I have a page that shows whether a user has paid or not. If they haven't paid I need to show them an image of a big red <code>X</code> and display a payment button, and if they have paid display a big green check. I know how to do the code for the php script, lets call it <code>pay.php</code>, but I need to iron out the logic for the main page's ajax. So I'm thinking something like this:<br></p>\n\n<pre><code>&lt;div id=\"payment\"&gt;\n    &lt;div id=\"image\"&gt;&lt;/div&gt;\n    &lt;div id=\"pay_text&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n$(document).ready(function(e) {\n    if(&lt;?php echo $is_logged_in; ?&gt;) {\n        $('#payment').load(function() {\n            $.ajax({\n                data: $this.serialize(), // get the form data\n                type: \"POST\", // GET or POST\n                url: \"Scripts/pay.php\", // the file to call\n                complete: function(data) {\n                    if(data==\"Yes\") {\n                        $('#image') //do some jquery to make the correct image display here\n                        $('#pay_text').text(\"Yah you paid\");\n                    } else {\n                        $('#image') //do some jquery to make the correct image display here\n                        $('#pay_text').text(\"Sorry you didn't pay\");\n                    }\n                }\n            });\n        }\n    }\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>So basically the script would echo back <code>yes</code> or <code>no</code>. And I only want to evaluate this load after the user has logged in (i need to see if that specific user paid). So is my logic write or am I way off?</p>\n"},{"tags":["ajax","asp.net-mvc-3","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13093186,"title":"Displaying model state errors after ajax call on Razor views","body":"<p>I have razor view with @Html.ValidationMessageFor helpers and jquery unobtrusive validation setup.</p>\n\n<p>I want to call controller/action and to show eventual model state errors returned by action by using same validation logic that is already set in place.</p>\n\n<p>I've made some code that does it but I was wandering if there is already way to do it automatically, i.e. if I capture HTTP Bad Request as AJAX response, I want to take out model state errors from response body and plug them in to unobtrusive validation.</p>\n\n<p>I'm looking for complete recommended solution, not workarounds :)</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","jquery","html","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":52,"score":0,"question_id":13093135,"title":"jQuery AJAX InProgress","body":"<p>So I have a password recovery option setup on the main page of my website that uses swift mailer to email the user with their new password. The user enters in his/her email into a box and the main page sends an AJAX request to the php script. All of that works but when you hit send, it takes a while before the php script sends a response back saying <code>New password successfully sent to email</code>. I don't want the user clicking send again and again thinking the first click didn't go through. Is there a way to disable the send button along with displaying some sort of loading bar while ajax is waiting for the script's response? Thanks</p>\n"},{"tags":["php","javascript","mysql","ajax","cron"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13093997,"title":"it is possible to use ajax, jquery page with cron?","body":"<p>what my page do is:</p>\n\n<ol>\n<li>download an array from different server (first.php)</li>\n<li>php script parse values</li>\n<li>parsed values are sent with ajax call</li>\n<li>on the next (ajax called) page (second.php) there are some mysql queries</li>\n<li>if values pass condition, values are written to database</li>\n</ol>\n\n<p>.... So, when I run my first.php.. it loads second.php, everything's fine..\nbut what I want to know if it is possible to let it make by cron?</p>\n\n<p>If not, what should I do?\nThanks.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13094121,"title":"jQuery AJAX call not triggering correct callback","body":"<p>I've got an AJAX call that is supposed to trigger a designated callback for each HTTP return code I'm expecting. However, for some reason, when I send HTTP code 100 (named \"Continue\"), jQuery executes the callback for HTTP code 200 (named \"OK\"). Why does it execute the wrong callback?</p>\n\n<pre><code>var event_properties =\n{\n    // ... filled in properties.\n};\nvar ajax_post =\n{\n    \"data\": event_properties,\n    \"type\": \"POST\",\n    \"dataType\": \"json\",\n    \"statusCode\": { 100: get_reservation_configuration, 200: reservation_creation_success_callback }\n};\njQuery.ajax(\"/create_reservation/\", ajax_post).fail(reservation_creation_failure_callback);\n</code></pre>\n\n<p>And, on a side note, am I using anything that is deprecated in jQuery? I'm trying not to, but the documentation is a little unclear.</p>\n"},{"tags":["jquery","ajax","web-applications","web"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13092686,"title":"Ajax with fallback","body":"<p>I'm currently starting a new project and would like to use Ajax (through jQuery) for form submission.  What is the best way to handle situations if a user has javascript disabled?</p>\n\n<p>I know this is basic web knowledge so thanks in advance.</p>\n\n<p><strong>THANKS GUYS</strong></p>\n\n<p>Thanks for the help - I managed to find this in another post - sorry for the trouble.  I have started a vote to close the question.</p>\n"},{"tags":["jquery","css","ajax","callback","positioning"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":13087984,"title":"Jquery custom function not positioning divs on ajax loaded content","body":"<p>I have written a custom function that positions absolute divs inside a container calculating the top positions and heights:</p>\n\n<pre><code>$.fn.gridB = function() {\n    var o = $(this); //EDITED from var o = $(this[0]);\n    o.each(function() {\n        var a1top = o.find('.article1').position().top;\n        var a1height = o.find('.article1').height();\n        var a0top = o.find('.article0').position().top;\n        var a0height = o.find('.article0').height();\n        var a2top = o.find('.article2').position().top;\n        var a2height = o.find('.article2').height();\n        var a3height = o.find('.article3').height();\n        var a4height = o.find('.article4').height();\n        var a5height = o.find('.article5').height();\n        if (a0height &gt; a1height + a1top) {\n            $('.article3', o).css('top', a0top + a0height + 20);\n        } else if (a0height &lt; a1height + a1top) {\n            $('.article3', o).css('top', a1top + a1height + 20);\n        }\n        $('.article4', o).css('top', a2top + a2height + 20);\n        $('.article5', o).css('top', a2top + a2height + 20);\n        $('.article6', o).css('top', a2top + a2height + a5height + 40);\n        $('.article7', o).css('top', a2top + a2height + a5height + 40);\n        var lastChildPos = o.find('div:last-child').position().top;\n        var lastChildHeight = o.find('div:last-child').height();\n        o.height(lastChildPos + lastChildHeight + 20);\n    });\n};​\n</code></pre>\n\n<p>The container has a class \".fours\" and the srcipt works perfect on window load. But when it is called after an ajax infinite scroll load it fails to position the absolute divs correctly inside the next \".fours\" container:</p>\n\n<pre><code>function loadArticle(pageNumber) {\n    $('a#inifiniteLoader').fadeIn('fast');\n    $.ajax({\n        url: \"wp-admin/admin-ajax.php\",\n        type: 'POST',\n        data: \"action=infinite_scroll&amp;page_no=\" + pageNumber + '&amp;loop_file=loop',\n        success: function(html) {\n            $('a#inifiniteLoader').fadeOut('1000');\n            $(\"#content\").append(html); // This will be the div where our content will be loaded\n            $('.fours:last').preloader_index();\n            $('.fours').gridB(); // EDITED from $('.fours:last').gridB();\n            $('.article a').on({\n                mouseenter: function() {\n                    if (!$('.preloader', $(this).parent('.article')).length &gt; 0) {\n                        $(this).stop().css('opacity', '1');\n                    }\n                },\n                mouseleave: function() {\n                    if (!$('.preloader', $(this).parent('.article')).length &gt; 0) {\n                        $(this).stop().css('opacity', '0');\n                        $('.article-info', $(this).parent('.article')).stop().fadeTo(200, 0);\n                    }\n                }\n            });\n        }\n    });\n    return false;\n}​\n</code></pre>\n\n<p>There is something wrong but i'm pretty close. If i put .fours:last when i call the function gridB() after the success of ajax the script calculates only the top position of the divs ignoring the heights. If i remove :last the script does not calculate both top position and heights.</p>\n\n<p>Any help? </p>\n\n<p><strong>EDIT:</strong> Here is an example of the related HTML. Another div with class</p>\n\n<pre><code> &lt;div id=\"content\"&gt;\n&lt;div class=\"fours\"&gt;\n  &lt;div class=\"article article0\"&gt;\n     &lt;div&gt;&lt;img src=\"url\" /&gt;&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"article article1\"&gt;\n     &lt;div&gt;&lt;img src=\"url\" /&gt;&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"article article2\"&gt;\n     &lt;div&gt;&lt;img src=\"url\" /&gt;&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"article article3\"&gt;\n     &lt;div&gt;&lt;img src=\"url\" /&gt;&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;/div&gt;\n&lt;!-- Next \".fours\" div is loaded here with ajax function --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>EDIT 2</strong>: In the gridB function I changed the line var o = $(this[0]); to var o = $(this); and changed function call from $('.fours:last').gridB(); to $('.fours').gridB();. It worked but now the script positions all absolute div's inside the ajax loaded next sets with the values of the first set of articles. I think it's closer to the solution. There must be a way to target the container loaded by ajax. :last does not work.</p>\n"},{"tags":["html","ruby-on-rails","ruby","ajax","ruby-on-rails-3"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":41,"score":3,"question_id":13092800,"title":"Cycle through values in an Ruby Array on a HTML page","body":"<p>I am fetching some rows from the database in my controller with this query :</p>\n\n<pre><code>@main = connection.execute(\"select code_ver, result from mastertest;\")\n</code></pre>\n\n<p>Now in my html.erb, I am displaying the results in a table like this:</p>\n\n<pre><code>&lt;% @level1.each do |row1| %&gt;\n&lt;table id=\"tbl_main1\" name=\"tbl_main1\"&gt;\n    &lt;tr bgcolor=\"#D1D1D1\"&gt;\n        &lt;td width=\"60%\" &lt;%= row1[0] %&gt;&gt;&lt;/td&gt;\n        &lt;td width=\"20%\"&gt;&lt;%= row1[2] %&gt;&lt;/td&gt;\n        &lt;td width=\"20%\"&gt;&lt;%= row1[1] %&gt;&lt;/td&gt; \n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I am fetching a lot of rows here. But I want to show only say 15 results at once, and have some kind of buttons 'next' and 'previous' which would cycle through the results. How would I do that ?</p>\n"},{"tags":["jquery","ajax","html5","validation","asynchronous"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":761,"score":3,"question_id":11062803,"title":"How do I do a jQuery blocking AJAX call without async = false?","body":"<p>I have a page which does AJAX validation of an email before continuing on to the next page, using the HTML5 setCustomValidity() method [using the webshims library for older browsers].</p>\n\n<p>For this to work, I set the async option to false in the $.ajax() call to make it synchronous, blocking the page pending the AJAX response, as otherwise the form submits before the ajax call returns, rendering the validation ineffectual.</p>\n\n<pre><code>&lt;script&gt;\n  function validateEmailRegistered(input) {\n    if (input.setCustomValidity === undefined) return;\n    var err = 'Email address not found';\n    $.ajax({\n      url: 'email-is-registered.php', \n      data: { email: input.value }, \n      async: false, \n      success: function(data) {\n        var ok = data=='true';\n        input.setCustomValidity(ok ? '' : err)\n      }\n    });\n  }\n&lt;/script&gt;\n\n&lt;form method=\"get\" action=\"nextpage.php\"&gt;\n  &lt;input name=\"email\" id=\"email\" type=\"email\" required\n    onChange=\"validateEmailRegistered(this)\"&gt;\n  &lt;button type=\"submit\"&gt;go&lt;/button&gt;\n&lt;form&gt;\n</code></pre>\n\n<p>I see that the async option is to be deprecated as of jQuery 1.8.</p>\n\n<p>How can I achieve this blocking action without the async option?</p>\n"},{"tags":["java","jquery","ajax","servlets"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13090995,"title":"cannot use an AJAX response as a filename (not content)","body":"<p>I am sending a <code>$.post</code> request to a servlet, sending some data, which needs to be saved in a file. the servlet save the data then sends back the <strong>path</strong> to the file. I am trying to navigate to that path held by the <code>response</code> within the callback of the method but here's what's going on:</p>\n\n<pre><code>function saveData(){\n    var path;\n\n    $.post(\"SaveFileServlet\", {data : JSON.stringify(jsonPieces)}, function(response) {\n        path = response; // setting the path like this does NOT WORK - nothing happens           \n        //path=\"storing/csv_uploads/test.csv\"; // setting the path like this WORKS        \n\n        alert (path); // shows: storing/csv_uploads/filename.csv - e.g. WHAT IT SHOULD\n\n        $(\"body\").append(\"&lt;iframe src='\" + path + \"' style='display: none;' &gt;&lt;/iframe&gt;\");       \n    });        \n}   \n</code></pre>\n\n<p>How to make it work and why isn't it working?\nthanks.</p>\n\n<p><strong>even newer edit</strong> </p>\n\n<p>GOT IT!!!!!... it's the servlet: it's probably not creating the file : the real path is not <code>filename.csv</code> but a <code>System.currentTimeMillis()+\".csv\"</code> and then I write it to the server. but I am only sending the response after I'm creating the file (or am I?)...</p>\n\n<pre><code>    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n\n    response.setContentType(\"text/plain\");\n    response.setCharacterEncoding(\"UTF-8\");\n    String filename = \"storing/csv_uploads/\"+System.currentTimeMillis()+\".csv\";\n    //String filename = \"storing/csv_uploads/filename.csv\"; //this works since it was previously there\n    PrintWriter out = response.getWriter();\n\n    try {\n        Type type = new TypeToken&lt;List&lt;PieceFeeder&gt;&gt;(){}.getType();\n        ArrayList&lt;PieceFeeder&gt; pieceFeeders = new Gson().fromJson(request.getParameter(\"data\"), type);            \n\n        DataManager dm = new DataManager();\n        if (dm.exportPieces(pieceFeeders, filename)) {\n            System.out.println(\"in SaveFileServlet: after exportPieces\");\n            File f = new File(filename);\n            while (!f.exists()) {\n                //waiting...I NEVER GET IN HERE\n                System.out.println(\"in SaveFileServlet: waiting for file to exist\");\n            }\n            out.write(filename);\n        } else {\n            out.write(\"error at creating file\");\n        }\n    }...\n}\n</code></pre>\n\n<p>and the <code>DataManager.exportPieces</code>:</p>\n\n<pre><code>public void exportPieces(ArrayList&lt;PieceFeeder&gt; pieceFeeders, String filename) {\n    BufferedWriter bufferedWriter = null;\n    try {\n        bufferedWriter = new BufferedWriter(new FileWriter(filename));\n\n        //write first line without \"\\n\"\n        if (pieceFeeders.size() &gt; 0) {\n            PieceFeeder pf = pieceFeeders.get(0);\n            Piece p = pf.getPiece();\n            bufferedWriter.write(p.getDescription() + \",\"\n                    + pf.getStock() + \",\"\n                    + p.getLength() + \",\"\n                    + p.getWidth() + \",\"\n                    + p.getLengthEdges() + \",\"\n                    + p.getWidthEdges());\n        }\n        for (int i = 1; i &lt; pieceFeeders.size(); i++) {\n            PieceFeeder pf = pieceFeeders.get(i);\n            Piece p = pf.getPiece();\n            bufferedWriter.write(\"\\n\" + p.getDescription() + \",\"\n                    + pf.getStock() + \",\"\n                    + p.getLength() + \",\"\n                    + p.getWidth() + \",\"\n                    + p.getLengthEdges() + \",\"\n                    + p.getWidthEdges());\n        }\n        return true;\n    } catch (Exception ex) {\n        Logger.getLogger(DataManager.class.getName()).log(Level.SEVERE, null, ex);\n        return false;\n    } finally {\n        //Close the BufferedWriter\n        try {\n            if (bufferedWriter != null) {\n                bufferedWriter.flush();\n                bufferedWriter.close();\n                System.out.println(\"in exportPieces: finally\"); \n            }\n        } catch (IOException ex) {\n            Logger.getLogger(DataManager.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n\n<p>I always get </p>\n\n<p><code>\"in exportPieces: finally\"</code> </p>\n\n<p><code>\"in SaveFileServlet: after exportPieces\"</code></p>\n\n<p>and the <code>\"in SaveFileServlet: waiting for file to exist\"</code> never gets called \nso the file exists before the response is sent</p>\n\n<p>but if I send an old file *one that has not just been created), it works</p>\n\n<p><strong>newer edit</strong> </p>\n\n<p>just to make it clear: if I do:</p>\n\n<ul>\n<li><code>window.location = path</code></li>\n<li><code>$(\"body\").append(\"&lt;iframe src='\" + path + \"' &gt;&lt;/iframe&gt;\");</code> removed the <code>display:none</code>\nit give a <code>404 error</code>: <code>The requested resource () is not available.</code> but the header shows I'm trying to access : <code>http://localhost:8080/optimizerwithservlet/storing/csv_uploads/filename.csv</code> so it's there</li>\n</ul>\n\n<p><strong>EDIT</strong></p>\n\n<p>as users sugeested I installed Firebug, and here's what I got :</p>\n\n<pre><code>&lt;iframe style=\"display: none;\" src=\"storing/csv_uploads/filename.csv\"&gt;\n</code></pre>\n\n<p>meaning it works ! but why isn't it displayed...?</p>\n\n<p><strong>older edit:</strong></p>\n\n<p>in case this might matter, though I doubt it : here is the relevant piece of code from the servlet:</p>\n\n<pre><code>    response.setContentType(\"text/plain\");\n    response.setCharacterEncoding(\"UTF-8\");\n    String filename = \"storing/csv_uploads/filename.csv\";\n    PrintWriter out = response.getWriter();\n    out.write(filename);    \n</code></pre>\n"},{"tags":["ajax","jsf-2","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13088261,"title":"Changing the component type on an ajax update","body":"<p>I've got a component on my form (<em>id=\"theDocument\"</em>) that I want to render differently under certain circumstances. </p>\n\n<p>If '<em>myBean.theDocument</em>' exists, I want it to render as a <em>p:commandLink</em>, but if it doesn't exist, I want it to render as plain text e.g. <em>h:outputText</em>.</p>\n\n<p>This condition will change after a file upload (after the upload, <em>myBean.theDocument</em> will exist, so I want it to render as the <em>p:commandLink</em>).</p>\n\n<p>So on my <em>p:fileUpload</em>, I have this kind of thing: </p>\n\n<pre><code>&lt;p:fileUpload fileUploadListener=\"#{myBean.handleFileUpload}\" update=\"theDocument\"&gt;  \n</code></pre>\n\n<p>I've been using rendered=\"...\", and update works fine for refreshing the value of an existing component. But how do I change the <strong>type</strong> of the component after an ajax update (or do I need to refresh the whole page and make the decision to render as text or a link in a more general way?                              </p>\n\n<p>Thanks</p>\n"},{"tags":["jquery","ajax","backbone.js"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":54,"score":3,"question_id":13091783,"title":"How to make one AJAX request after a number of Backbone saves","body":"<p>I have a situation where I need to save a Backbone model and then on its success iterate through a collection and save those and then on each of those successes iterate through another collection and save those and then after all those are complete perform one AJAX request.  This is what I have:</p>\n\n<pre><code>backboneModel.save(\n    {},\n    {\n         wait: true,\n         success: function (model1, response1)\n         {\n              $.each(backboneCollection1.models, function () {\n                    this.save(\n                        {},\n                        {\n                             wait: true,\n                             success: function (model2, response2)\n                             {\n                                  $.each(backboneCollection2.models, function () {\n                                       this.save(\n                                           {},\n                                           {\n                                                wait: true,\n                                                success: function (model2, response2)\n                                                {\n                                                     //If i put the AJAX request here it will happen for every iteration which is not desired\n                                                }\n                                           });\n                                  });\n                              }\n                         });\n               });\n               //If i put the AJAX request here it will fire after one iteration of the first each even with async set to false on the AJAX request\n         }\n   });\n</code></pre>\n\n<p>Does anyone have any suggestions on where to perform this AJAX request so it only fires once after all of the backbone models have saved to the server?</p>\n"},{"tags":["ajax","wcf","web-services","pass-through"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4695,"score":0,"question_id":5738097,"title":"jQuery Ajax with Json call to WCF service pass-through to WCF service","body":"<p>I'm attempting to use jQuery Ajax call with Json to call a webservice which is a pass-through and calls another webservice.  This works if I don't use ajax, works as an ajax call to the backend service directly, but does not work as ajax call to pass-through service.  My question is how do I get an ajax to pass-through webservice to webservice to work?</p>\n\n<p>This is the code I have so far:</p>\n\n<pre><code>[ServiceContract]\npublic interface IService1\n{\n\n    [OperationContract]\n    [WebInvoke(Method = \"POST\", BodyStyle = WebMessageBodyStyle.WrappedRequest, ResponseFormat = WebMessageFormat.Json, RequestFormat = WebMessageFormat.Json)]\n    string GetData(int value);\n    }\n</code></pre>\n\n<p>Behind webservice:</p>\n\n<pre><code>[AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]\npublic class Service1 : IService1\n{\n    public string GetData(int value)\n    {\n        return string.Format(\"You entered: {0}\", value);\n    }\n}\n</code></pre>\n\n<p>Pass-through service:</p>\n\n<pre><code>[AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]\npublic class Service2 : IService1\n{\n    public string GetData(int value)\n    {\n       var service = new ServiceReference1.Service1Client(\"clientContractStuff\");\n       var testString = service.GetData(value);\n       return testString;\n    }\n}\n</code></pre>\n\n<p>Page code behind:</p>\n\n<pre><code>public partial class WebUserControl1 : System.Web.UI.UserControl\n{\n    protected void CodeBehindWcf(object sender, EventArgs e)\n    {\n        var service = new ServiceReference1.Service1Client(\"clientContractStuff\");\n        var testString = service.GetData(5);\n        TextBox1.Text = testString;\n    }\n\n    protected void CodeBehindWcfUsingService2(object sender, EventArgs e)\n    {\n        var service = new Service2();\n        var testString = service.GetData(5);\n        TextBox2.Text = testString;\n    }\n}\n</code></pre>\n\n<p>Javascript and Html:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"WebUserControl1.ascx.cs\"\n    Inherits=\"WcfService1.WebUserControl1\" %&gt;\n&lt;script type=\"text/javascript\" src=\"Scripts/jquery-1.4.4-vsdoc.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"Scripts/jquery-1.4.4.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function ajaxService2() {\n        serviceUrl = \"Service2.svc/GetData\";\n        $.ajax({\n            type: \"POST\",\n            url: serviceUrl,\n            data: \"{\\\"value\\\":\\\"1\\\"}\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            success: function (transport) {\n                var string = transport;\n                $(\"#Text2\").val(string);\n            }\n        });\n    }\n\n    function ajaxService1() {\n        serviceUrl = \"Service1.svc/GetData\";\n        $.ajax({\n            type: \"POST\",\n            url: serviceUrl,\n            data: \"{\\\"value\\\":\\\"2\\\"}\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            success: function (transport) {\n                var string = transport;\n                $(\"#Text1\").val(string);\n            }\n        });\n    }\n&lt;/script&gt;\n&lt;p&gt;\n    &lt;input id=\"Button1\" type=\"button\" value=\"Ajax call service 1\" onclick=\"ajaxService1()\" /&gt;\n    &lt;input id=\"Text1\" name=\"Text1\" type=\"text\" /&gt;&lt;/p&gt;\n&lt;p&gt;\n    &lt;input id=\"Button2\" type=\"button\" value=\"Ajax call service 2\" onclick=\"ajaxService2()\" /&gt;\n    &lt;input id=\"Text2\" name=\"Text2\" type=\"text\" /&gt;&lt;/p&gt;\n&lt;p&gt;\n    &lt;asp:Button ID=\"Button3\" runat=\"server\" Text=\"Code Behind\" OnClick=\"CodeBehindWcf\" /&gt;\n    &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;/p&gt;\n&lt;p&gt;\n    &lt;asp:Button ID=\"Button4\" runat=\"server\" Text=\"Code Behind Use Service 2\" OnClick=\"CodeBehindWcfUsingService2\" /&gt;\n    &lt;asp:TextBox ID=\"TextBox2\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;/p&gt;\n</code></pre>\n\n<p>Everything works except Button 2 and ajaxService2 function.  This throws an error: 'The remote server returned an unexpected response: (400) Bad Request.'</p>\n"},{"tags":["ruby-on-rails","ajax","forms","ruby-on-rails-3.2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13092356,"title":"Rails form_for is engulfing entire new.html","body":"<p>I'm trying to place a bootstrap modal to create a model inside another model's new page. The html follows:</p>\n\n<p>new.html:</p>\n\n<pre><code>&lt;div class=\"page-header\"&gt;\n  &lt;h1&gt;Novo Parceiro&lt;/h1&gt;\n&lt;/div&gt;\n\n&lt;%= render :partial =&gt; 'form' %&gt;\n\n&lt;%= render :partial =&gt; \"/contatos/form\" %&gt;\n</code></pre>\n\n<p>_form.html:</p>\n\n<pre><code>&lt;%= form_for @parceiro, :html =&gt; { :class =&gt; \"ketchup\" } do |f| %&gt;\n\n(fields and submit here...)\n\n&lt;% end %&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    // some javascript here OUTSIDE the form\n&lt;/script&gt;\n</code></pre>\n\n<p>But what happens when the page is loaded is that everything inside new.html, including the partial \"/contatos/form\" which is an ajax-able form for another model, is being rendered inside the  tag for @parceiro.</p>\n\n<p>Why does Rails do this, and how do I keep my second form outside the first? As it is, I can't use AJAX because nested forms don't work very well (in fact it's wrong even for the html specifications)</p>\n\n<p>[EDIT]: Issue solved, I had a div in the first form with a self closing tag (), so I changed that to a regular closing tag and it now works.</p>\n"},{"tags":["ajax","vb.net","usercontrols"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13088051,"title":"Null object reference when calling a sub in parent class via a user control","body":"<p>I have a user control containing a LinkButton that, when clicked, calls a sub in the parent class. The sub is being called OK when I click the LinkButton, but the objects referenced within that sub are all triggering null object reference errors. What am I doing wrong?</p>\n\n<p>To keep things as short as possible, I am showing only the relevant subs inside their classes.</p>\n\n<p>Here is the <strong>LinkClick</strong> sub of the user control:</p>\n\n<pre><code>Public Class Dashboard\n    Inherits System.Web.UI.UserControl\n\n        ...(Other code here)...\n\n        Private Sub LinkClick(sender As Object, e As CommandEventArgs)\n\n            Dim action = e.CommandArgument\n            Dim cls As New MainPage\n            cls.Dashboard_Clicked(action)\n\n        End Sub\nEnd Class\n</code></pre>\n\n<p>Here is the parent class with the sub being called via LinkClick:</p>\n\n<pre><code>Imports System.IO\n\nPublic Class MainPage\n    Inherits System.Web.UI.UserControl\n\n    ...(Other code here)...\n\n    Public Sub Dashboard_Clicked(action)\n\n        mpe.Show()\n\n    End Sub\n\nEnd Class\n</code></pre>\n\n<p>Here is the markup on the parent control, which shows the markup for the user control and the markup for the object I am unsuccessfully trying to reference in the sub:</p>\n\n<pre><code>&lt;%@ Control Language=\"vb\" AutoEventWireup=\"false\" CodeBehind=\"TSEnterHours.ascx.vb\"\nInherits=\"App.MainPage\" %&gt;\n&lt;%@ Register Assembly=\"AjaxControlToolkit\" Namespace=\"AjaxControlToolkit\" TagPrefix=\"asp\" %&gt;\n&lt;%@ Register Src=\"Dashboard.ascx\" TagName=\"Dashboard\" TagPrefix=\"uc\" %&gt;\n\n&lt;uc:Dashboard SourceProcName=\"Dashboard.QueryName\" runat=\"server\"&gt;\n    &lt;DashboardParameters&gt;\n        &lt;dashboardparameter name=\"aID\" useenvironmentvalue=\"aID\" /&gt;\n    &lt;/DashboardParameters&gt;\n    &lt;Items&gt;\n        &lt;item type=\"hyperlink\" Action=\"PTO_Clicked\" label=\"YTD PTO Taken\" field=\"TotalPTO\" /&gt;\n    &lt;/Items&gt;\n&lt;/uc:Dashboard&gt;\n\n&lt;!-- Other code... --&gt;\n\n&lt;asp:ModalPopupExtender ID=\"mpe\" runat=\"server\" TargetControlID=\"btnDummy\" PopupControlID=\"PTOPanel\"\nBackgroundCssClass=\"ModalPopupBG\" OkControlID=\"btnDummy\" CancelControlID=\"btnDummy\"\nBehaviorID=\"mpeBehavior_PTO\" /&gt;\n</code></pre>\n\n<p>By the way, the \"parent\" class is, itself, a user control operating inside a tab container. I don't think that makes a difference but thought I should mention it just in case.</p>\n"},{"tags":["javascript","jquery","ajax","couchdb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12836094,"title":"CouchDB document attachments via html form and jquery","body":"<p>I'm trying to create web form that, when submitted will create a couchdb document and add attachment(s) to the doc.  I've seen from tutorials/other forums that it's necessary to do this with a two stage process (as futon does).  I can get the document to upload, but can't seem to get the attachment to upload.  I've tried a number of ways, currently I do something like:</p>\n\n<p>html file with:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Document submission&lt;/title&gt;\n    &lt;style type=\"TEXT/CSS\" media=\"all\"&gt;\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;table&gt;\n      &lt;form id=\"form\" name=\"form\" action=\"\"&gt;\n        &lt;tr&gt;\n          &lt;td&gt;Field&lt;/td&gt;\n            &lt;td&gt;&lt;input type=\"text\" required=\"required\" name=\"field\"&gt;\n              &lt;span id=\"required\"&gt;*&lt;/span&gt;&lt;/td&gt;\n        &lt;/tr&gt;&lt;tr&gt;\n        &lt;/tr&gt;&lt;tr&gt;\n          &lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;button type=\"button\" id=\"submit\"&gt;Select Attachment&lt;/button&gt;&lt;td&gt;\n        &lt;/tr&gt;\n      &lt;/form&gt;\n    &lt;/table&gt;\n  &lt;/body&gt; \n  &lt;script src=\"/_utils/script/json2.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/_utils/script/jquery.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/_utils/script/jquery.couch.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/_utils/script/jquery.form.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/_utils/script/jquery.dialog.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"basic.js\"&gt;&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and then a file called basic.js with:</p>\n\n<pre><code>function create_document(){\n    var db_name = 'uploader';\n    var db = $.couch.db(db_name);\n    var data={}\n    data['fname']=document.form.field.value;\n    db.saveDoc(data, {\n        success: function (data) {\n            add_attachment(db,data);\n        },\n        error: function () {\n            alert(\"Cannot save the thread.\");\n        }\n    });\n}\n\nfunction add_attachment(db,data){\n    var docID = data.id;\n    var dbName = db.name;\n    var form = $(\"#upload-form\");\n    $.showDialog(\"dialogue.html\", {\n        load: function(elem) {\n            $(\"input[name='_rev']\", elem).val(data._rev);\n        },\n        submit: function(data, callback) {\n            if (!data._attachments || data._attachments.length == 0) {\n                callback({_attachments: \"Please select a file to upload.\"});\n                return;\n            }\n            var form = $(\"#upload-form\");\n            form.find(\"#progress\").css(\"visibility\", \"visible\");\n            form.ajaxSubmit({\n                url: db.uri + $.couch.encodeDocId(docID),\n                success: function(resp) {\n                    form.find(\"#progress\").css(\"visibility\", \"hidden\");\n                    location.href = \"?\" + encodeURIComponent(dbName) +\n                        \"/\" + $.couch.encodeDocId(docID);\n                }\n            });\n        }\n    });\n}\n\n\n$(document).ready(function() {\n    $(\"button#submit\").click(function(event) {\n        create_document();\n    });\n});           \n</code></pre>\n\n<p>This javascript is pretty much taken from the futon.browse.js uploadAttachment segment.  The dialogue.html file is also just straight copy of couchdb's www/dialog/_upload_attachment.html.  All files (the main html, basic.js and dialogue.html) are then uploaded to a CouchDB design document (in a database called uploader).</p>\n\n<p>The document is created fine, but no matter what I do, the attachment is never saved.  The various methods I've tried either result in an error about multi-part forms or, in this case, no discernible error at all.  </p>\n\n<p>Does anyone know what I'm doing wrong?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13092463,"title":"JQuery Ajax Not Sending Data to Php File or Running Success Function","body":"<p>I am having a problem with the jQuery Ajax function not sending the data to the corresponding php file, and then not running the success function. Here is my js:</p>\n\n<pre><code>function meetMember(empl_id) {\n\nvar member = {id: empl_id}\n\n$.ajax({\n    type: 'POST',\n    url: 'php/infocheck.php', \n    data: member, \n    dataType: 'json',\n    success: function(data) {\n        alert('hi');\n        console.log(data);\n        $('#member-info').append(data); \n    }   \n});\n}\n</code></pre>\n\n<p>And the infocheck.php code:</p>\n\n<pre><code>&lt;?php\n\nini_set('display_errors',1);\nerror_reporting(E_ALL);\n\ninclude('db-info.php');\n\n$id = $_POST['id'];\n\n    $q = \"SELECT * FROM team WHERE empl_id = $id LIMIT 1\";\n    $member = mysql_fetch_assoc(mysql_query($q));\n    $met = $member['ifmet'];\n\n    if($met != 1) {\n        mysql_query(\"UPDATE team SET ifmet = 1 WHERE empl_id = $id\");\n    }\n\n    echo \"&lt;img src=\\\"game/images/{$member['image']}\\\" alt='' style='padding:2px 10px 0px 0px; float:left;' /&gt;\";\n    echo \"&lt;h3&gt;{$member['name']}&lt;/h3&gt;\";\n    echo \"&lt;h4&gt;&lt;em&gt;{$member['title']}&lt;/em&gt;&lt;h4&gt;\";\n    echo \"&lt;p&gt;{$member['description']}&lt;/p&gt;\";\n\n?&gt;\n</code></pre>\n\n<p>When I view the php file in the browser, I get the errors: </p>\n\n<p>\"Notice: Undefined index: id in /Applications/MAMP/htdocs/Development/ETL24/php/infocheck.php on line 8</p>\n\n<p>Warning: mysql_fetch_assoc() expects parameter 1 to be resource, boolean given in /Applications/MAMP/htdocs/Development/ETL24/php/infocheck.php on line 12\"</p>\n\n<p>The console.log and alert in the success function do not run. I do not even get the echo in the console when I view the php file. Please let me know of any ideas or questions you might have. Thank you.</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13092104,"title":"jQuery ajax keeps getting into error instead of success function","body":"<p>I'm trying to perform an ajax-function when on a select-event. Basically I have a Google Maps API connection which gives me a dropdown list of places based on the given input. When a user selects a value from the resultlist the ajax-function must be executed. Basic task: find results in the database by the given coordinates from Google Maps API. </p>\n\n<p>For some reason I can't get this to work, while the script is reached, readyState becomes 4 and status is 200. Any suggestions?</p>\n\n<pre><code>$('#SearchIn').autocomplete({\n    source: // my google maps implementation (which works correctly),\n\n    select: function(event, ui){\n        $(this).autocomplete('close');\n        $(this).val(ui.item.value);\n\n        $.ajax({\n            url:        ABS_BASE + 'ajax/ajax-get-results-from-location.php?data=123',\n            success:    function(result) {\n                            console.log('success');\n                            console.log(result); \n                        },\n            error:      function(jqXHR, textStatus, errorThrown) {\n                            console.log(jqXHR);\n                            console.log(textStatus);\n                            console.log(errorThrown);\n                        }\n        });         \n    }\n});\n</code></pre>\n\n<p>Update; errorThrown is 'SyntaxError'. The textStatus = 'parseerror' But the only contents from the file are:</p>\n\n<pre><code>&lt;?php\n    include './ajax-base.php';\n\n    echo 'OK I\\'m here!';\n</code></pre>\n\n<p>The funny thing is, the responseText from jqXHR is the echo that is made.</p>\n"},{"tags":["jquery","ajax","each"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":29,"score":3,"question_id":13090561,"title":"ajax within each loop executing incorrectly","body":"<p>I have the following js snippet:</p>\n\n<pre><code>cat_images = $(\".category-description\").next().find(\"img\");\ncat_images.each(function () {\n    url = $(this).parent().attr(\"href\");\n    id = url.split(\"id=\");\n    id = id[1];\n    url = \"cat_url.php?i=\"+id;\n    this_image = this;\n\n    $.get (url, function (data) {\n        $(this_image).attr(\"src\", data);\n    });\n });\n</code></pre>\n\n<p>At the moment, only the last element iterated over by the each loop is being updated by the ajax.get section. I think it is something to do with the ajax interacting poorly with the loop as using <code>this</code> within the ajax function makes it fail entirely.</p>\n\n<p>Regardless, is there anyway to delay the loop while waiting for the ajax to finish in Jquery? (would prefer not mixing regular js in)</p>\n"},{"tags":["jquery","ios","ajax","safari"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13092359,"title":"Inconsistent AJAX Loader show/hide on iOS","body":"<p>I have a loading gif which I am showing and hiding with my AJAX calls.  I am loading a list on scroll, ad when the scroll reaches 95% I trigger the AJAX which shows the GIF, appends the fresh results &amp; hides the GIF.</p>\n\n<p>About 90% this works as expected, but the other 10% of the time the AJAX function will execute and append the fresh results, but the AJAX GIF will remain in the DOM.  I can then scroll down and load more results, the GIF will show, and remain.</p>\n\n<p>I have tested on Android 2.3.x, iOS 4/5/6, and Chrome for Windows, and the worst culprit with my Loading GIF is iOS (but Chrome and Android will have the issue, yet less frequesntly), which may or may not have to do with how iOS handles scrolling.</p>\n\n<pre><code>$.ajax({\n  beforeSend: function() {\n    $(\"&lt;div id=\\\"loading\\\"&gt;&lt;img src=\\\"/assets/img/loader.gif\\\"&gt;&lt;/div&gt;\").insertAfter(\".used-list li:last-child\");\n  },\n  url: \"process.inc.php\",\n  type: \"GET\",\n  contentType: \"application/json; charset=utf-8\",\n  dataType: \"json\",\n  success: function (data) {\n    ....\n  },\n  complete: function(){\n    $('#loading').remove();\n  },\n  error: function (jqXHR, textStatus, errorThrown) {\n    $(\"&lt;p&gt;There are no more results&lt;/p&gt;\").insertAfter(\".used-list li:last-child\");\n  }\n}); // end AJAX\n</code></pre>\n\n<p>For the record I have tried many different show/hide methods for this operation (many of which I found here on SO), and this option has so far provided me with the best results.</p>\n"},{"tags":["ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13092365,"title":"Jquery Annotate / PHP error by sending the object value","body":"<p>Send var annotation_id:</p>\n\n<pre><code>echo $json = json_encode(array('annotation_id'=&gt;$save[0]));\n</code></pre>\n\n<p>Get var annotation_id: </p>\n\n<pre><code>if (image.useAjax) {\n      $.ajax({\n           url: image.saveUrl,\n           data: form.serialize(),\n           error: function(e) { \n             alert(\"An error occured saving that note.\");\n           },\n           success: function(data) {\n                 if (data.annotation_id != undefined) {\n                     editable.note.id = data.annotation_id;                         \n                     alert(editable.note.id);\n                }\n          },\n          dataType: \"json\"\n       });\n }\n</code></pre>\n\n<p>So...what's wrong with my code ?\nNot getting the value of this variable.</p>\n"},{"tags":["jquery","ajax","jquery-ajax","jquery-plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12381768,"title":".ajaxform not working inside the validation submitHandler?","body":"<p>i use the jquery validation plugin to validate form before submit\nin submitHandler i use ajax request to post the form with ajax\nbefore i used .ajax to send the request but now the form have image and its so hard to \nserialize the file element through the normal ajax request and because of this i used this plugin\n<a href=\"http://www.malsup.com/jquery/form/\" rel=\"nofollow\">http://www.malsup.com/jquery/form/</a></p>\n\n<p>now after using the plugin the ajax request not working at it all don't know why\nthis the first example with the normal ajax call</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"#categoryForm\").validate({\n    submitHandler: function() {\n            $.ajax({\n                type:'POST', \n                url: 'actions/add-category.php', \n                data: $(\"#categoryForm\").serialize(), \n                success: function(response) {\n                     $('#status').html(response);\n                    }\n                });\n\n        return false;\n    }\n    });\n});\n</code></pre>\n\n<p>and this one after using the plugin</p>\n\n<pre><code>$(document).ready(function(){\n        $(\"#categoryForm\").validate({\n        submitHandler: function() {\n                $('#categoryForm').ajaxForm(function() {\n                alert('the form was successfully processed');\n            });\n\n            return false;\n        }\n        });\n    });\n</code></pre>\n\n<p>second one is not working</p>\n"},{"tags":["javascript","python","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13088775,"title":"Execute a program on python server and update results dynamically on the html webpage","body":"<p>I have classical python server.\nI made a CGI script. I would like from a click in the client side, execute a script in the server side and screen the result in the same page dynamically in the client side.</p>\n\n<p>I know how to update dynamically a page in the client side but I didn't find a way to do it from the server side.</p>\n\n<p>For instance my initial webpage:</p>\n\n<pre><code>print 'Content-type: text/html'# image/svg+xml'\nprint '''\n    &lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n    &lt;h1&gt;My PAGE&lt;/h1&gt;\n\n    &lt;a href=#1\" onclick=\"launcher(arg);\"&gt;Execute my program&lt;/a&gt;\n    &lt;div id=\"1\" style=\"display: none;\" name=\"resul1\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n    '''\n</code></pre>\n\n<p>I would like to execute a script in the server when we click like this kind of execution:</p>\n\n<pre><code>command = \"python myscriptinLocal.py -a %s\"%(arg)\nprocess = subprocess.Popen(command, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\nprocess.wait()\n</code></pre>\n\n<p>A result file is generated in the server, and I would like to screen the result in the current page without to generated a new page....</p>\n\n<p>Is it possible? Is there a way to do that with python or with another language? </p>\n"},{"tags":["java","jquery","ajax","jsp","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13090768,"title":"Can't debug Java Servlet using JQuery ajax call on NetBeans","body":"<p>I'm trying to debug my JAVA project.\nDuring which, I'm trying to call a JAVA servlet (running on Apache Tomcat) using JQuery's ajax function.\nHowever, although I ran the JAVA project in debug mode, I'm unable to access the servlet's ProcessRequest function in Debug mode.\nI've checked the javascript code, and I do seem to get to the line where the AJAX call is being made, so I'm guessing there's something I'm missing on the IDE side.</p>\n\n<p>Nothing happens on both the JSP and both the JAVA Servlet itself on the IDE side (Using Netbeans 7.2).</p>\n\n<p>Is there any special thing I need to enable when debugging AJAX calls?</p>\n\n<p>Is there anything I need to setup in the Tomcat side?</p>\n"},{"tags":["javascript","jquery","ajax","callback"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13090914,"title":"Possible to set the value of a javascript function parameter in a callback?","body":"<p>That title was a mouthful.  Here's what I'm trying to do in code below.  The callback in this case is in the jQuery $.get function.  </p>\n\n<pre><code>      function getMapMarkup(loadUrl, myVar) {\n        me = myVar;\n        $.get(\n            loadUrl,\n            { var1: \"hello\", var2: \"world\" },\n            function(responseText) {\n              me = responseText;\n              myVar = me; //doesn't work.  \n            },\n            \"html\"\n         );     \n        }\n</code></pre>\n\n<p>Is there a way to change the value of <code>myVar</code> in the <code>function(responseText)</code> callback, so I can use it in my program later on?  Or is there another (better) way to go about what I'm trying to do?</p>\n"},{"tags":["ajax","flash","sockets","applet","websocket"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":1289,"score":1,"question_id":8051516,"title":"How to establish a TCP Socket connection from a web browser (client side)?","body":"<p>I've read about <strong>WebSockets</strong> but they don't seem to be pure \"sockets\", because there is an application layer protocol over them. \"<em>ws:</em>\"</p>\n\n<p>Is there any way of doing a pure socket connection from a web browser, to enliven webpages?</p>\n\n<p>Here are my random stabs in the dark</p>\n\n<ul>\n<li>Applets sockets provided by Java (need java installed)</li>\n<li>Flash sockets provided by Flash (need flash installed)</li>\n</ul>\n\n<p>But about HTML5, Why are they called WebSockets if they aren't Sockets? </p>\n\n<p>Is the websocket protocol so simple to implement that it is \"almost\"-sockets?</p>\n"},{"tags":["jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":5581,"score":3,"question_id":2502828,"title":"jQuery: Execute function after all ajax .load() requests are finished","body":"<p>I have a page that has a tab set.  Each of the tabs is loaded by the jQuery <code>.load()</code> function.</p>\n\n<p>I want to display a loading animation that disappears when all of the ajax requests are finished.  However, <code>document.ready()</code> has only provided me with limited success.</p>\n\n<p>How can I ensure that all ajax requests are completed before executing the code to hide the loading animation?</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ajax"],"answer_count":11,"favorite_count":15,"up_vote_count":32,"down_vote_count":0,"view_count":26867,"score":32,"question_id":3709597,"title":"Wait until all jquery ajax request are done?","body":"<p>How do I make a function wait until all jquery ajax requests are done inside another function?</p>\n\n<p>In short, I need to wait for all ajax requests to be done before i execute the next. But how?</p>\n"},{"tags":["ajax","jsf-2","custom-component"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13090567,"title":"JSF Ajax addClientBehavior gives null.pointer.exception","body":"<p>I'm trying to add programatically an Ajax client behavior to a custom component but when I do I get a null.pointer.exception (as an Alert in the browser no error in the logs), if I add the behavior in the .xhtml it works fine but I really need to add them programatically (actually the component is going to be rendered dinamically from a top component (dashboard -> N columns -> N widgets per column all from a Database)</p>\n\n<p>I have tested this creating a simple DataList component</p>\n\n<p>Here is the relevant code...</p>\n\n<p>DataListRenderer</p>\n\n<pre><code>@Override\n    public void encodeEnd(FacesContext context, UIComponent component) throws IOException{\n        DataList datalist = (DataList)component;\n        ResponseWriter writer = context.getResponseWriter();\n\n        .. bunch of rendering options....\n\n        // If sortable then we add the sortable script.\n        // This basically ends up generating a call to jsf.ajax.request(source,event,params);\n        if (sortable != null &amp;&amp; sortable.equalsIgnoreCase(\"true\")) {\n            ScriptUtils.startScript(writer, clientId);\n            writer.write(\"$(function() {\");\n\n            writer.write(\"$(EasyFaces.escapeId('\" + clientId + \"')).sortable({\");\n            writer.write(\"update: function (event, ui) { \");\n\n            writer.write(new AjaxRequest().addEvent(StringUtils.addSingleQuotes(\"update\"))\n                                .addExecute(StringUtils.addSingleQuotes(datalist.getClientId()))\n                      .addSource(StringUtils.addSingleQuotes(datalist.getClientId()))\n                      .addOther(\"sourceId\", \"ui.item.attr('id')\")\n                      .addOther(\"dataValue\", \"ui.item.attr('data-value')\")\n                      .addOther(\"dropedPosition\", \"ui.item.index()\")\n                      .getAjaxCall());\n\n            writer.write(\" } \");\n            encodeClientBehaviors(context, datalist);\n            writer.write(\"});\");\n            writer.write(\"});\");\n            ScriptUtils.endScript(writer);\n\n        }\n\n         // This is where I add the behavior\n        AjaxBehavior ajaxBehavior = (AjaxBehavior) FacesContext.getCurrentInstance().getApplication().createBehavior(AjaxBehavior.BEHAVIOR_ID);\n        ajaxBehavior.setRender(Arrays.asList(\"@form\"));\n        ajaxBehavior.setExecute(Arrays.asList(\"@form\"));\n        MethodExpression listener = FacesContext.getCurrentInstance().getApplication()\n                .getExpressionFactory().createMethodExpression(context.getELContext(),\"#{dataListManager.updateModel}\", null,\n                        new Class[] { AjaxBehaviorEvent.class });\n        ajaxBehavior.addAjaxBehaviorListener(new AjaxBehaviorListenerImpl(listener));\n        datalist.addClientBehavior(datalist.getDefaultEventName(), ajaxBehavior);\n\n    }\n\n    ... rest of the code\n</code></pre>\n\n<p>Now the .xhtml is as follows:</p>\n\n<pre><code>...\n\n    h:form&gt;\n      &lt;et:dataList id=\"dl\" value=\"#{easyfacesBean.data}\" itemValue=\"foo\" var=\"xx\" sortable=\"true\"&gt;\n        &lt;h:outputText id=\"txt\" value=\"#{xx}\" /&gt;\n      &lt;/et:dataList&gt;\n    &lt;/h:form&gt;\n...\n</code></pre>\n\n<p>This renders the code Ok, the list actually can be ordered but when re-ordered it gives me the null.pointer.exception error</p>\n\n<p>This is what comes back from the server:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;partial-response&gt;&lt;error&gt;&lt;error-name&gt;class java.lang.NullPointerException&lt;/error-name&gt;&lt;error-message&gt;&lt;![CDATA[]]&gt;&lt;/error-message&gt;&lt;/error&gt;&lt;/partial-response&gt;\n</code></pre>\n\n<p>Now, If I comment this line</p>\n\n<pre><code>datalist.addClientBehavior(datalist.getDefaultEventName(), ajaxBehavior);\n</code></pre>\n\n<p>And simply add the  tag like so:</p>\n\n<pre><code>&lt;h:form&gt;\n      &lt;et:dataList id=\"dl\" value=\"#{easyfacesBean.data}\" itemValue=\"foo\" var=\"xx\" sortable=\"true\"&gt;\n      &lt;f:ajax /&gt;\n        &lt;h:outputText id=\"txt\" value=\"#{xx}\" /&gt;\n      &lt;/et:dataList&gt;\n    &lt;/h:form&gt;\n</code></pre>\n\n<p>Everything works fine.. any ideas? I would settle for a way to actually know where the null.point.exception is ..</p>\n\n<p>BTW if I don't comment the line that actually add's the behavior and add the &lt; f:ajax > tag the error changes to java.lang.IndexOutOfBoundsException</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;partial-response&gt;&lt;error&gt;&lt;error-name&gt;class java.lang.IndexOutOfBoundsException&lt;/error-name&gt;&lt;error-message&gt;&lt;![CDATA[Index: 1, Size: 1]]&gt;&lt;/error-message&gt;\n</code></pre>\n\n<p>Regards!</p>\n"},{"tags":["ajax","facebook","curl","firebug"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":35,"score":-3,"question_id":13090225,"title":"CURL and PHP to connect user with Facebook app","body":"<p>receiving the Facebook username and password of our users via SMS we want to connect them with our Facebook app by using PHP and CURL only. </p>\n\n<p>I got the CURL working to login the user and to navigates to the Facebook App Center. </p>\n\n<p>But now, can anyone help me I to make the ajax url call using cURL and setting the variables to their proper values? </p>\n\n<p>Many thanks in advance!</p>\n\n<p>I used Firebug to get the http request header(example):</p>\n\n<pre><code>Accept  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Encoding gzip, deflate\nAccept-Language de-de,de;q=0.8,en-us;q=0.5,en;q=0.3\nConnection  keep-alive\nCookie  datr=uwFOULplg04OUafUhiZ0HuH3;\nfr=01N5ffPgbtXUfTSbp.AWXd1IvmHVuGxr9GDRK9hpoYg\n7g.BQTgHg.-8.AWXCZ9aq; lu=Rg6On5bhniBKFnROJOb7OApg; locale=en_GB;\nc_user=100002533085804; csm=2; s=Aa5wBFIhYob4hVne.BQiowf;\nxs=61%3AaaoKTpJSVJO6PA%3A2%3A1351257119; act=1351265044404%2F0%3A2; p=6;\npresence=EM351265035EuserFA21B02533085804A2EstateFDsb2F0Et2F_5b_5dElm2\nFnullEuct2F1351256551BEtrFA2loadA2EtwF1590615573EatF1351264924097G3512\n65035755CEchFDp_5f1B02533085804F1CC; sub=34605056\nHost    apps.facebook.com\nReferer https://apps.facebook.com/thefind/?fb_source=search&amp;fb_appcenter=1\nUser-Agent  Mozilla/5.0 (Windows NT 5.1; rv:15.0) Gecko/20100101 Firefox/15.0.1\nX-SVN-Rev   656775\n</code></pre>\n\n<p>and the variables with their values:\n     __a    1\n    __user  100002533085804\n    filter[0]   app\n    filter[1]   page\n    filter[2]   group\n    filter[3]   friendlist\n    lazy    1\n    token   v7\n    viewer  100002533085804 </p>\n"},{"tags":["javascript","jquery","ajax","json","object"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13090022,"title":"Why is the jQuery extend method not copying my javascript object?","body":"<p>I've looked into the many posts here regarding cloning and copying javascript objects, notably, these two topics: </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/728360/copying-an-object-in-javascript\">Copying an Object in Javascript</a></li>\n<li><a href=\"http://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-clone-a-javascript-object\">What is the most efficient way to clone a JavaScript object?</a></li>\n</ul>\n\n<p>It seems like it's not working for me, though.</p>\n\n<p>Here is a snippet of code I'm using:</p>\n\n<pre><code>var copiedObject = {};\n\n$.getJSON(URL, null, function (data) {\n     copiedObject = jQuery.extend(true, {}, data);\n});\n\nconsole.log(JSON.stringify(copiedObject));\n</code></pre>\n\n<p>If I have my console log function within the JSON call, it outputs the proper values, but after the function, it's emptied out, and outputs <code>{}</code>.</p>\n\n<p>I've tried using <code>copiedObject = JSON.parse(JSON.stringify(data))</code>, as well as the <code>clone(obj)</code> function from the \"Copying an object in Javascript\" post, all to no avail.</p>\n\n<p>Am I missing something?</p>\n"},{"tags":["ajax","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13079254,"title":"Organizing AJAX calls in Zend","body":"<p>I wanted to do a nice organization of all my AJAX calls. I was thinking of having a folder called \"Ajax\" inside application folder, and inside have all the ajax files. </p>\n\n<p>So I want, say the IndexController, to have /ajax/IndexController/ or something like that. Basically, I want a whole set of controllers for the ajax, but all in the ajax folder.</p>\n\n<p>How do I accomplish this?! And how do I call them then?!</p>\n\n<p>Thanks!\nKousha</p>\n"},{"tags":["jquery","ajax","wordpress","syntax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12976057,"title":"Jquery load ins't working, is there a syntax error in my code?","body":"<p>I'm working on a wordpress portfolio and I'm trying to load posts content in a sliding drawer with ajax/jquery <code>.load()</code>. With the kind help of @techfoobar, I'm already able to open the drawer when I click on selected elements (thumbnails) of my page. But now I'm having the hardest time finding why my ajax content isn't loaded in this div... <br/> <br/>\nWhen I click on a thumbnail, the drawer is opened and then the browser continues to the url, instead of loading this url in the drawer. If I hit Esc to stop the browser, I can read \"loading...\" so the jQuery is working till that point.<br/> <br/>\n<strong>Can someone check this fiddle</strong> <a href=\"http://jsfiddle.net/RF6df/14/\" rel=\"nofollow\">http://jsfiddle.net/RF6df/14/</a> and tell me if I misplaced the load function, or if there is a major syntax problem preventing my content to load correctly? (I assume the load won't work on jsfiddle but at least you can check the code)</p>\n\n<p>FYI before that, when trying ajax for the first time, I use to load my content with this and it was working fine but my div was already in place in my php page (not loaded when a click is detected).<br/> Oh and please keep in mind that I'm a newbie in jquery, if you can comment/explain what you see or do, that would be invaluable!</p>\n\n<pre><code>$(document).ready(function(){\n    $.ajaxSetup({cache:false});\n    $(\".ProjectWrap,.mosaic-overlay,.mosaic-backdrop\").click(function(){\n        var post_link = $(this).attr(\"href\");\n        //$('#DrawerContainer').slideToggle(500);\n        $(\"#DrawerContainer\").html(\"loading...\");\n        $(\"#DrawerContainer\").load(post_link + \" #container &gt; * \");\n    return false;\n    });\n});\n$(document).ajaxSuccess(function() {  // refresh heading in ajax called element\nCufon('h1'); \n});\n</code></pre>\n\n<p><strong>EDIT:</strong> <br/> I just noticed that when I write <code>.load(\"http://localhost/youpiemonday_New/test4 #container &gt; * \")</code> the drawer fetch the content of test4 post. I still have to hit Esc to stop the browser, otherwise it's too quick.<br/>\nIf I write <code>.load(post_link + \" #container &gt; * \")</code> the only thing displayed is \"loading...\".\nSo I assume the load is working but the problem comes from the <code>post_link</code> part. The weird thing is that it use to work when my function was striclty limited to a load.</p>\n"},{"tags":["javascript","jquery","ajax","json","xmlhttprequest"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":38,"score":3,"question_id":13077607,"title":"How can I send an javascript object/array as key-value pairs via an AJAX post with easyXDM?","body":"<p>Recently I realized that I needed to use <a href=\"https://github.com/oyvindkinsey/easyXDM\" rel=\"nofollow\">easyXDM</a> instead of jQuery's <code>$.ajax</code> in order to make a cross domain post request. After getting easyXDM set up I see that the functions line up fairly closely:</p>\n\n<p>jQuery:</p>\n\n<pre><code>$.ajax({\n    url: \"/ajax/\",\n    method: \"POST\",\n    data: myData\n});\n</code></pre>\n\n<p>easyXDM:</p>\n\n<pre><code>xhr.request({\n    url: \"/ajax/\",\n    method: \"POST\",\n    dataType: 'json', // I added this trying to fix the problem, didn't work\n    data: myData\n});\n</code></pre>\n\n<p>myData is setup something like:</p>\n\n<pre><code>myData = {};\nmyData[1] = 'hello';\nmyData[2] = 'goodbye';\nmyData[3] = {};\nmyData[3][1] = 'sub1';\nmyData[3][2] = 'sub2';\nmyData[3][3] = 'sub3';\n</code></pre>\n\n<p>When I make the request with jQuery it handles the sub fields properly, but not with easyXDM.</p>\n\n<p>Here is how the POST request comes into the server with jQuery:</p>\n\n<p><img src=\"http://img37.imageshack.us/img37/4526/screenshotwithshadow.png\" alt=\"screenshot-with-shadow.png\" /></p>\n\n<p>And here is how it comes in with easyXDM:</p>\n\n<p><img src=\"http://img204.imageshack.us/img204/4526/screenshotwithshadow.png\" alt=\"screenshot-with-shadow.png\" /></p>\n\n<p>How can I send an javascript object/array of key-value pairs via an easyXDM / XHR request like jQuery does?</p>\n"},{"tags":["ajax","wcf","jquery-ajax","iis-7.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13089461,"title":"IIS Application Request Routing Issues with URL Rewrite","body":"<p>I am relatively new to web development. I have a number of WCF JSON service URLS in my internal environment. I am now attempting to have a website residing on a webserver in our DMZ access those service links in order to populate a number of Javascript/JQuery widgets with data. As I said, I am new to this, so I quickly learned that this was not possible without some extra work due to cross-domain policies with Ajax/XML, etc. </p>\n\n<p>After researching with Google and talking to a consultant, everyone seemed to agree that the most headache-free, robust solution was to set up a reverse-proxy on the external (DMZ) web server. I was then directed to this link by most of my searches, as well as some previously asked StackOverflow questions:</p>\n\n<p><a href=\"http://www.iis.net/learn/extensions/url-rewrite-module/reverse-proxy-with-url-rewrite-v2-and-application-request-routing\" rel=\"nofollow\">http://www.iis.net/learn/extensions/url-rewrite-module/reverse-proxy-with-url-rewrite-v2-and-application-request-routing</a></p>\n\n<p>So I began following the steps in the tutorial. However, I am afraid that after just a few steps, I am already not replicating what the author has going on. The example assumes you are going to be accessing internal web applications, whereas I am accessing service URLs, so I have updated the web.config as follows:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;location path=\"iisstart.htm\"&gt;\n        &lt;system.webServer&gt;\n            &lt;httpRedirect enabled=\"false\" destination=\"---------------\" /&gt;\n\n        &lt;rewrite&gt;\n        &lt;rules&gt;\n            &lt;rule name=\"Reverse Proxy to ServiceURL1\" stopProcessing=\"true\"&gt;\n            &lt;match url=\"Dashboard.mycompany.org/Service1\" /&gt;\n            &lt;action type=\"Rewrite\" url=\"http://datafeeds/Service1.svc/json\" /&gt;\n            &lt;/rule&gt;\n\n            &lt;rule name=\"Reverse Proxy to ServiceURL2\" stopProcessing=\"true\"&gt;\n            &lt;match url=\"Dashboard.mycompany.org/Service2\" /&gt;\n            &lt;action type=\"Rewrite\" url=\"http://datafeeds/Service2.svc/json\" /&gt;\n            &lt;/rule&gt;\n\n                        ...\n        &lt;/rules&gt;\n        &lt;/rewrite&gt;\n        &lt;/system.webServer&gt;\n    &lt;/location&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>At this point in the guide, I believe that while it should not work completely, that I should at least be able to see the redirect by attempting to browse to my fictitious URLs in a browser. By that I mean that if I attempt to browse to </p>\n\n<pre><code>Dashboard.mycompany.org/Service1\n</code></pre>\n\n<p>I should see the browser instead attempt to load</p>\n\n<pre><code>http://datafeeds/Service1.svc/json\n</code></pre>\n\n<p>based on the rewrite rule. (Am I not understanding how this works correctly, or is that the expected behaviour?)</p>\n\n<p>However, I do not see that happen. Instead, it attempts to load only </p>\n\n<pre><code>Dashboard.mycompany.org/Service1\n</code></pre>\n\n<p>and when it can't find it, returns a 404.0 - Not Found. Can anyone tell me what I am doing wrong?</p>\n"},{"tags":["javascript","jquery","ruby-on-rails","ruby","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":540,"score":6,"question_id":6659209,"title":"Rails: JS Controller Being Called Twice for Some Reason","body":"<p>For some reason when I click on a button, my controller and the resulting jquery function gets called twice. Since the js function being called is toggle, this is a problem as it causes the code to jump in and out of view.</p>\n\n<p>Here is the form:</p>\n\n<pre><code>Unseen Notifications: &lt;%=  current_user.notification_unseen %&gt; &lt;/div&gt;\n                &lt;%= button_to \"show\", {:action =&gt; \"seen\", :controller=&gt;\"notifications\"}, :remote =&gt; true %&gt;\n</code></pre>\n\n<p>Here is the controller:</p>\n\n<pre><code>def seen\n    respond_to do |format|\n      format.js \n    end\n  end\n</code></pre>\n\n<p>Here is the jquery:  </p>\n\n<pre><code>$(\"div#notifications\").toggle();\n$(\"div#count\").html(\"&lt;%= escape_javascript( render :partial =&gt; 'notifications/count')%&gt;\");\n</code></pre>\n\n<p>I am at a loss for why on earth this would possibly happen. I have been very careful not to double click and don't know how to prevent it. Any suggestions would be greatly appreicated.</p>\n"},{"tags":["javascript","ajax","http","netcat"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":134,"score":4,"question_id":12997447,"title":"How to answer to ajax request on server side?","body":"<p>I've following function:</p>\n\n<pre><code>$.ajax({url:\"http://127.0.0.1:8080\", data: \"123\",\n    success:\n    function(response, textStatus, jqXHR) \n    {\n        alert(response);\n    },\n    error:\n    function(jqXHR, textStatus, errorThrown)\n    {\n        alert(\"The following error occured: \" + textStatus + \" \" + errorThrown);\n    }\n});\n</code></pre>\n\n<p>It sends request and i intercept one with \"nc -l 8080\".\nIt looks like</p>\n\n<pre><code>GET /?123 HTTP/1.1\nHost: 127.0.0.1:8080\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:15.0) Gecko/20100101         Firefox/15.0.1\nAccept: */*\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip, deflate\nConnection: keep-alive\nOrigin: null\n</code></pre>\n\n<p>Then i answer with</p>\n\n<pre><code>HTTP/1.1 200 OK\nContent-Length: 3\n\nabc\n</code></pre>\n\n<p>The problem is i always get error (\"The following error occured: error\")\nWhat do you think could be wrong with it?</p>\n"},{"tags":["jquery","ajax","internet-explorer","success"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13077616,"title":"ajax success function not called in ie7","body":"<p>I'm sorry to post a question that's allready been posted many times. But I can't find the answer to my specific problem. I have a form that's being submitted through the jQuery ajax() method. It works perfectly in firofox and safari. But in internet explorer 7 the success function is not being executed. </p>\n\n<p>My javascript code looks like this:</p>\n\n<pre><code>/* FORM SCRIPT */\n$('#creactform').submit( submitForm ); \n\n$('a.vrzknoplink').click(function(){\n    alert('stap 1');\n    var contactForm = $('#creactform');\n    // Submit the form to the PHP script via Ajax\n    $('ul#vrzknop').fadeOut(function() {\n        $('p#wachttext').fadeIn();\n    });\n\n    // Actually send the forminfo to PHP script\n    $.ajax( {\n      url: contactForm.attr( 'action' ) + \"?ajax=true\",\n      type: contactForm.attr( 'method' ),\n      dataType: 'json',\n      data: contactForm.serialize(),\n      success: submitFinished   \n    } );\n\n    // Handle the Ajax response     \n    function submitFinished( response ) {\n        alert(response.Result);\n\n        if ( response.Result == \"OK\" ) {\n            $('div#formdiv').fadeOut(\"fast\",function() {\n                $('div#successmessage').show();\n                $('p#wachttext').fadeOut();\n            });\n            $('.formfields').val( \"\" );\n            $('.inputtextarea').val( \"\" );\n            $('div#successmessage').delay(6000).fadeOut(\"fast\",function() {\n                $('div#formdiv').show();\n                $('ul#vrzknop').show();\n            });                 \n        } \n        else if (response.Result == \"ERROR\" &amp;&amp; response.ErrorCode == \"missing_fields\") {\n            alert(\"De velden met een * zijn verplicht om de aanvraag te versturen.\");\n            $('ul#vrzknop').show();\n        }\n    };\n    return false;\n});\n\n\nfunction submitForm() {\n  return false;\n};\n</code></pre>\n\n<p>I've found posts with this question where the problem was a trailing comma,\nI've found posts where the solution was setting cache to false</p>\n\n<p>That didn't work for me. Any help would be much appreciated!</p>\n"},{"tags":["php","javascript","jquery","ajax","forms"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":439,"score":0,"question_id":5675009,"title":"How To Return A Variable From An AJAX Call?","body":"<p>Just a simple question (I think).</p>\n\n<p>Have a look at the code in this fiddle: <a href=\"http://jsfiddle.net/d9wdM/1/\" rel=\"nofollow\">http://jsfiddle.net/d9wdM/1/</a></p>\n\n<p>What I doing is creating a website as a personal project that let's the user enter any amount of names and e-mail addresses and once the form is submitted, a random name is selected from the names and an e-mail is sent to that person and also their name is outputted on the page.</p>\n\n<p>I can get the AJAX call to work but I don't know how to pass the name variable back from process.php to index.php as all it can return is a 1.</p>\n\n<p>I hope that makes sense, if it doens't please let me know and I will try and make it clearer.</p>\n\n<p>Thanks again,</p>\n\n<p>Martin</p>\n"},{"tags":["javascript","jquery","ajax","json","variables"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13088107,"title":"Can't set new value for varible","body":"<p>I'm possibly missing something that is very obvious, but I'm not getting nowhere with this problem.</p>\n\n<p>I'm simple trying to set a value of a variable after getting the value from a json feed.</p>\n\n<p>I'm using jquery to get a jsonp feed and then store the value in a variable that I can use later, but its not working and the value doesn't get stored. If I console.log the value it returns it.</p>\n\n<pre><code>jQuery(document).ready(function($){\n    serverip = \"&lt;?php echo $_SERVER['SERVER_ADDR']; ?&gt;\";\n    stream_domain = \"\";\n\n    $.ajax({url: 'http://load.cache.is/inspired.php?ip=' + serverip, dataType:'jsonp',\n      success:  function(data){\n        $.each(data, function(key, val) {\n            if (key == serverip){\n               stream_domain = val;\n               console.log(\"val: \" + val);\n            }\n        });\n      }\n    });\n\n    console.log(stream_domain);\n});\n</code></pre>\n\n<p>Here is the same code on <a href=\"http://jsfiddle.net/einar/vSmjZ/\" rel=\"nofollow\">jsfiddle.net</a></p>\n"},{"tags":["c#","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13081704,"title":"Create Dynamic Dragable images in ASP.NET c# using jquery","body":"<p>I am trying to create on the fly when i click a button in my ASPX page. I need to apply dragable property to the dynamically generated images. How can I go about it.? Jquery or AJAX.? How to apply the dragable property to every dynamically created images.  </p>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":33,"score":-2,"question_id":13088091,"title":"not to repeat the same record","body":"<p>How do I not to repeat the fields in the process of introducing the records, I do not repeat the same user history</p>\n\n<pre><code>$query=\"INSERT INTO `cashiers` ( `cashiers_CashierID` , `cashiers_CashierOpenDate` , `cashiers_User` , `cashiers_Status` , `cashiers_Delete`  ) VALUES ('', '$cashiers_CashierOpenDate', '$ausers_ID', '0','0');\";\n            mysql_query($query);\n</code></pre>\n"},{"tags":["ajax","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13087717,"title":"phonegap api call not working","body":"<p>I have a rails api running on localhost:3000. On my phonegap app i'm trying to login via api , but it give an error(\"error\") and don't reach to the api.\ncould be some problem with cross domain request, but is said that in the mobile there is no such thing. internet  is working .</p>\n\n<p>my ajax:</p>\n\n<pre><code>$.ajax({\n        url: 'localhost:3000/api/v1/login',\n        type: \"POST\",\n        dataType: \"json\",\n        data : {username:\"demo\",password:\"demo\"},\n        success: function(data) {\n           navigator.notification.alert(\"ok\");\n        },\n        error: function(xhr, textStatus, errorThrown) {\n              console.log(\"Error status \" + status);\n        }\n});    \n</code></pre>\n\n<p>EDIT 2 - solved</p>\n\n<p>You have to to use local ip eg. 192.168.2.2\nand add the host in the Cordova.plist in the ExternalHosts key.</p>\n"},{"tags":["jquery","ajax","json","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":38,"score":2,"question_id":13087614,"title":"Jquery autocomplete always suggests every option","body":"<p>It doesnt matter what i type into the textbox, always shows the whole list. Heres my code:</p>\n\n<pre><code>$(\"#tb_country\").autocomplete({\n  source: function(request, response) {\n    $.ajax({\n      url: \"/index.php/ajax_calls/select_countries\",\n      dataType: \"json\",\n      data:  request,\n      success: function(data) {\n        response(data);\n      }\n    });\n  },\n  minLength: 3\n});\n</code></pre>\n\n<p>The <b>select_countries</b> function returns JSON data in the right format for autocomplete i.e. <i>[{\"label\":\"United States\"},{\"label\":\"Canada\"}........]</i>\nPlease can someone tell me whats wrong with this, thanx</p>\n"},{"tags":["php","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13087305,"title":"submit a form via Ajax and update a result div","body":"<p>I was using a self submitting form to process the data but I now need to process it separately so now I need to submit a form, return the results and place it in a div. It seems using AJAX is a good way to do this to have the data return to the original page where the form is. I have had a look at alot of examples and I don't really understand how to do it or really how its working.</p>\n\n<p>Say I wanted to send this form data from \"index.php\" to my process page \"twitterprocess.php\" what do I need to do and get it to return to display the data processed.</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"twitterprocess.php\"&gt;\nHashtag:&lt;input type=\"text\" name=\"hashtag\" /&gt;&lt;br /&gt;\n&lt;input type=\"submit\" value=\"Submit hashtag!\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This is what I have been using to display the results.</p>\n\n<pre><code>&lt;?php foreach($results as $result) { \n$tweet_time = strtotime($result-&gt;created_at);?&gt;\n&lt;div&gt;\n&lt;div class=\"tweet\"&gt; &lt;?php echo displayTweet($result-&gt;text),\"\\r\\n\"; ?&gt;\n&lt;div class=\"user\"&gt;&lt;?php echo \"&lt;strong&gt;Posted &lt;/strong&gt;\" . date('j/n/y H:i:s ',$tweet_time) ?&gt;&lt;strong&gt; By &lt;/strong&gt;&lt;a rel=\"nofollow\" href=\"http://twitter.com/&lt;?php echo $result-&gt;from_user ?&gt;\"&gt;&lt;?php echo $result-&gt;from_user ?&gt;&lt;/a&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;br /&gt;\n&lt;? } ?&gt;\n</code></pre>\n\n<p>I'm new to AJAX but any guidance would be greatly appreciated</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":57,"score":0,"question_id":13087644,"title":"cannot send data by using ajax","body":"<p>i need in sert data by ajax , i have two pages, once is form that have icon that i click on it and send me to other page and insert new data</p>\n\n<p>here the ajax code </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(function() {\n  $(\"#dialog1\").click(function() {\n        $('#welcome').slideToggle('#loginhandle'); \n        $('#loginhandle').show(\"slow\");\n\n      var name = $(\"input#ausers_ID\").val();\n      var dataString = 'ausers_ID='+ ausers_ID  ;\n        $.ajax({\n               type: \"POST\",\n               url: \"OpenCashier.php\",\n               data: dataString,\n               success: function(msg) {\n                 $('#loginhandle').slideToggle('#msgreturn');\n                 $('#msgreturn').show(\"slow\");\n                 $('#msgreturn').html(msg)\n                .hide()\n                .fadeIn(1500, function() {\n        });\n      }\n     });\n    return false;\n    });\n\n\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>when i click this bottom</p>\n\n<pre><code>&lt;input type=\"submit\" id=\"dialog1\" name=\"dialog1\" value=\"Insert\" /&gt;  \n</code></pre>\n\n<p>we must call this page </p>\n\n<pre><code>&lt;? session_start();\ninclude(\"sec.php\");\ninclude(\"../include/connect.php\");\ninclude(\"../include/safe.php\");\n\n    if($_POST[\"dialog1\"]){\n\n            // Every thing is OK    \n            $ausers_ID=$_POST[\"ausers_ID\"];\n            $cashiers_CashierOpenDate=date('Y/m/d');\n            $query=\"INSERT INTO `cashiers` ( `cashiers_CashierID` , `cashiers_CashierOpenDate` , `cashiers_User` , `cashiers_Status` , `cashiers_Delete`  ) VALUES ('', '$cashiers_CashierOpenDate', '$ausers_ID', '0','0');\";\n            mysql_query($query);\n            $num=mysql_affected_rows();         \n            if($num==1)\n                $message=\"Account was added successfully\";\n            else                \n                $message=$_POST[\"dialog1\"].\" Account is already exists in database\";\n    }\n?&gt;\n</code></pre>\n\n<p>but data cannot insert why !!!</p>\n"},{"tags":["javascript","jquery","html","ajax","client-server"],"answer_count":1,"favorite_count":3,"up_vote_count":2,"down_vote_count":3,"view_count":39,"score":-1,"question_id":13074733,"title":"Which is better: MORE data from server, LESS client computation, or vice-versa","body":"<p>I have a client-server web app I'm working on. There's a point in the initial loading of the client-side where I need to process some JSON data from the server-side db to get it in the right format... Which essentially entails adding a bunch of empty JSON objects to it (thus making entire JSON array bigger). This formatting calculation is somewhat trivial (no need for a super-computer), so it can be done on either the client or the server.</p>\n\n<p>So the <strong>2 choices</strong> I have for implementation are:</p>\n\n<ol>\n<li><strong>Format JSON data on server, send MORE data to client</strong></li>\n<li><strong>Send LESS data to client, format JSON data on client</strong> (extra client computation)</li>\n</ol>\n\n<p>I can think of pros and cons for both choices...</p>\n\n<ul>\n<li>Choice #1, consistently compute the formatting, but increase number of packets that must be sent for initial load.</li>\n<li>Choice #2, minimize number of packets that must be sent, but add\nextra computation to clients with varying or unknown performance.</li>\n</ul>\n\n<p>Out of these 2 choices, is there a \"best-practices\" solution which I should typically lean towards?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-deferred"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13087568,"title":"Will $.when not bother with a deferred AJAX object if it doesn't exist?","body":"<p>Just wondering before I start hacking away with my code. For example:</p>\n\n<pre><code>if (blahblah) {\n  $.ajax(\"randomthingy1\");\n}\nif (blahblahblah) {\n  $.ajax(\"randomthingy2\");\n}\n// Use jQuery to test when they've both finished. Obviously they won't always both finish, as they might not both exist, and none of them might exist either.\n\n$.when($.ajax(\"randomthingy1\"), $.ajax(\"randomthingy2\"), function (stuff) {\n  // foo\n}\n\n// Might produce an error, as one might not exist. But will it move on and not bother?\n</code></pre>\n\n<p>Just wondering. And if it does bother to create an error and stop execution, is there a way to catch the error and continue?</p>\n"},{"tags":["c#","asp.net","html","ajax","webforms"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13068200,"title":"How to update a status label inside ajax request","body":"<p>I have this code :</p>\n\n<pre><code>&lt;div style=\"padding: 0px 12px 12px 12px;\"&gt;\n    &lt;asp:UpdatePanel runat=\"server\" ID=\"Panel\"&gt;\n        &lt;ContentTemplate&gt;\n            &lt;asp:Button ID=\"btnGenerate\" CssClass=\"button\" Style=\"float: right\" runat=\"server\"\n                Text=\"Go\" OnClick=\"btnGenerate_Click\" /&gt;\n        &lt;/ContentTemplate&gt;\n    &lt;/asp:UpdatePanel&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;asp:UpdateProgress runat=\"server\" ID=\"PageUpdateProgress\"&gt;\n        &lt;ProgressTemplate&gt;\n            &lt;img src=\"ajax-loader.gif\" /&gt;\n            &lt;asp:Label ID=\"lblStatus\" runat=\"server\" Text=\"Working...\" CssClass=\"label\" /&gt;\n        &lt;/ProgressTemplate&gt;\n    &lt;/asp:UpdateProgress&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When I click the button the animated gif shows... which is great, but the process takes over a minute and I would like to show the user (as long as the code is not complex) what is going on.</p>\n\n<p>So I put a label next to the image, and in the code behind when I try and do :</p>\n\n<pre><code>lblStatus.Text = \"Doing xyz\";\n</code></pre>\n\n<p>It gives some sort of namespace issue. Any ideas how I can acheive this?</p>\n\n<p>UPDATE :\nThe error is \"the type or namespace 'lblStatus' cannot be found\".</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":51,"score":4,"question_id":13087421,"title":"How to check if ajax call exists using jQuery?","body":"<p>I know my title isn't very clear.</p>\n\n<p>For example, this is the structure of my code:</p>\n\n<pre><code>if (foo == something) {\n  // Ajax call 1, let it be $.ajax(\"foo1.html\") and so on\n} else {\n  // Ajax call 2, let it be $.ajax(\"foo2.html\") and so on\n}\n</code></pre>\n\n<p>How would I test if <code>$.ajax(\"foo1.html\")</code> has actually been run?</p>\n\n<p>Please don't tell me to test if <code>foo == something</code> again. My actual code is much, much more complicated, so please answer the question from the view of the ajax call.</p>\n\n<p>Is this possible at all?</p>\n"},{"tags":["javascript","ajax","fileuploader"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1351,"score":1,"question_id":4804304,"title":"Valums Ajax file Upload handle the up. file?","body":"<p>Yes so I am using this, valums ajax fileupload:\n<a href=\"http://valums.com/ajax-upload/\" rel=\"nofollow\">http://valums.com/ajax-upload/</a></p>\n\n<p>With these settings:</p>\n\n<pre><code>function createUploader(){            \n    var uploader = new qq.FileUploader({\n        element: document.getElementById('file-uploader-demo1'),\n        action: 'photo.php?mode=upload',\n        debug: true\n    });           \n}\n</code></pre>\n\n<p>Not on photo.php?mode=upload, I tried to handle the file that are being uploaded, by </p>\n\n<pre><code>if(isset($_FILES['qqfile'])){\n$filename = $_FILES['qqfile']['name'];\n$imageSizeInfo = getimagesize($filename);\n}\n</code></pre>\n\n<p>It doesnt execute this, no $_FILES isset.. ? Have i forgotten anything to add in the script settings? And i tried to remove the if statement, then it just says getimagesize error needs parameter cannot be empty.</p>\n"},{"tags":["javascript","jquery","ruby","ajax","ruby-on-rails-3"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13087051,"title":"Download file data with AJAX request - ruby on rails 3","body":"<p>I recently learned that I can't download more than 1 file with a single HTTP request in ruby on rails except I do it with AJAX request. I'm now trying to figure out how to do that.</p>\n\n<p>(I'm using Prawn as PDF creator with Ruby on RAils 3)\nI have an action in my controller that render a PDF and use send_data</p>\n\n<pre><code>def download_quote          \npdf = QuotesPdf.new(params)\nsend_data pdf.render, filename: \"foo.pdf\",\n                    type: \"application/pdf\",\n                    disposition: \"download\"\nend\n</code></pre>\n\n<p>Then I have a button in my HTML view that has this working Jscript code</p>\n\n<pre><code>// AJAX, download\nfunction ajaxRequest(){\n    $.ajax({\n      type: 'POST',\n      url: '/download_quote/126',\n      success: function(data){\n        alert(data);\n      }\n    });\n    return false;\n  }\n\n  $(\"#mydownload\").click(ajaxRequest);\n</code></pre>\n\n<p>When I click \"#mydownload\" after few seconds took for rendering PDF, I receive a successful alertbox with inside data, I think, all the PDF file.</p>\n\n<p>Question is: How can I transform data in a pdf file and automatically download it?</p>\n"},{"tags":["php","jquery","ajax","json","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":65,"score":1,"question_id":13086779,"title":"Can't get properties from JavaScript object created from JSON data generated by PHP script","body":"<p>I have a PHP script that makes query to DB and returns the result as JSON data. This file contains some Codeigniter specific functions.</p>\n\n<p>This functions recieve id and returns back to the JS code some data from a table.</p>\n\n<pre><code>public function get_l($id){\n//$id is not empty variable\n$this-&gt;db-&gt;where('id',$id);\n$q=$this-&gt;db-&gt;get('news');\n\n$res = $q-&gt;result_array();\n\n$this-&gt;output-&gt;set_header(\"HTTP/1.0 200 OK\");\n$this-&gt;output-&gt;set_header(\"HTTP/1.1 200 OK\");\n$this-&gt;output-&gt;set_header(\"Cache-Control: no-store, no-cache, must-revalidate\");\n$this-&gt;output-&gt;set_header(\"Cache-Control: post-check=0, pre-check=0\");\n$this-&gt;output-&gt;set_header(\"Content-Type: application/json; charset=utf-8\");\n$this-&gt;output-&gt;set_header(\"Pragma: no-cache\");\n\n$out = json_encode($res);\n$this-&gt;output-&gt;set_output($out);\n}\n</code></pre>\n\n<p>And then I need to process that JSON with the next JS code:</p>\n\n<pre><code>function getContent(id){\n  $.post('/admin_ajax/news/get',\n  {\n    id: id\n\n  },\n  function(result)\n  {\n    alert(result+\"\\n\"+result.length);//this will output [object Object] 1\n    for (var key in result)\n    {\n      alert(key+':'+result[key]); //and this 0:[object Object]\n    }\n    alert(result.title); //here we are getting undefined\n  },\n  'json'\n);\n</code></pre>\n\n<p>I am not receiving errors or warnings in console. And in the firebug I see what was returned from the server.</p>\n\n<p>HTTP headers:</p>\n\n<pre><code>Server  nginx/1.1.19\nDate    Fri, 26 Oct 2012 11:59:12 GMT\nContent-Type    application/json; charset=utf-8\nContent-Length  85\nConnection  keep-alive\nX-Powered-By    PHP/5.3.10-1ubuntu3.4\nCache-Control   post-check=0, pre-check=0\nPragma  no-cache\n</code></pre>\n\n<p>And response:</p>\n\n<pre><code>[{\"id\":\"5\",\"title\":\"test\",\"alias\":\"test\",\"content\":\"tes\",\"date\":\"123\",\"type\":\"test\"}]\n</code></pre>\n\n<p>JSON:</p>\n\n<pre><code>alias  \"test\"\n\ncontent \"tes\"\n\ndate  \"123\"\n\nid \"5\"\n\ntitle \"test\"\n\ntype \"test\"\n</code></pre>\n\n<p>I found a similar question <a href=\"http://stackoverflow.com/questions/10800811/try-to-return-json-data-generated-with-sql-statement-from-php-script-to-js-webpa\">here</a> but it wasn't helpful.</p>\n"},{"tags":["java","jquery","ajax","jsp","struts"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13086958,"title":"Sumit a jsp Form using Ajax without reloading the page and meanwhile populate the struts bean","body":"<p>I want to make a jsp page with some textfields and a search button.\non the click of search button, the control should pass to an Action page and the form bean should get populated. \nThis will be an ajaz call and it should return a grid which is present on the other jsp page.</p>\n\n<p>When I try to make ajax call, then its not able to populate the bean, though it returns the grid on the same page.</p>\n\n<p>what can I do to perform it? should I use django or jquery for it?</p>\n"},{"tags":["ajax","asp.net-mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13081222,"title":"Custom Html Controls Ajax updation","body":"<p>I have customized grid control which generates table when we give coloumn and table name where there is a feature for searching also available which updates the record and show the updated result in grid  while searching through ajax i am getting records updating but not showing in main page</p>\n\n<pre><code>        SqlParameter[] sqlParameter = {new SqlParameter(\"@table\",tabelName),\n                                      new SqlParameter(\"@Column1\",coloumn1),\n                                      new SqlParameter (\"@Column2\",coloumn2),\n                                      new SqlParameter(\"@AliasName1\",aliasName1),\n                                      new SqlParameter(\"@AliasName2\",aliasName2)\n\n                                      };\n\n        string gridHtml;\n        if (!isFilterCondition)\n        {\n             gridHtml = GenerateHtmlGrid(sqlParameter);\n        }\n        else\n        {\n            gridHtml = GenerateHtmlGridonSearch();\n        }\n        StringBuilder sb = new StringBuilder();\n        //Opening For Main page Search Control\n        sb.AppendFormat(\"&lt;table&gt;\");\n        sb.AppendFormat(\"&lt;tr&gt;&lt;td&gt;\");\n        sb.AppendFormat(\"&lt;input id='txt_Search' type='text'  name='txt_Search'&gt;\");\n        sb.AppendFormat(\"&lt;input type='hidden' name='{0}' class='WorkItem'&gt;\", controlName);\n        sb.AppendFormat(\"&lt;/td&gt;&lt;td&gt;\");\n        sb.AppendFormat(\"&lt;a href='#' id='searchlink'&gt;&lt;img src='../../Content/themes/base/images/16px-Searchtool_right.png' /&gt;&lt;/a&gt;\");\n        sb.AppendFormat(\"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\");\n        //Closing For Main page Search Control\n\n        // Opening for the Dialog Box Div\n        sb.AppendFormat(\"&lt;div id='dialoggrid' title='{0}' &gt;\", popWindowTitle);\n        sb.AppendFormat(\"&lt;table&gt;\");\n        sb.AppendFormat(\"&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\");\n        sb.AppendFormat(\"&lt;select name='foo' id='foo'&gt;\");\n        sb.AppendFormat(\"&lt;option value=0&gt;{0}&lt;/option&gt;\", aliasName1);\n        sb.AppendFormat(\"&lt;option value=1&gt;{0}&lt;/option&gt;\", aliasName2);\n        sb.AppendFormat(\"&lt;/select&gt;\");\n        sb.AppendFormat(\"&lt;/td&gt;&lt;/tr&gt;\");\n        sb.AppendFormat(\"&lt;tr&gt;&lt;td&gt;\");\n        sb.AppendFormat(\"&lt;label&gt;Search&lt;/label&gt;\");\n        sb.AppendFormat(\"&lt;/td&gt;&lt;td&gt;\");\n        sb.AppendFormat(\"&lt;input id='txtGridSearch' type='text'  name='txtGridSearch'&gt;\");\n        //sb.AppendFormat(\"&lt;a href='#' id='SearchTree'&gt;&lt;img src='../../Content/themes/base/images/16px-Searchtool_right.png' /&gt;&lt;/a&gt;\");\n        sb.AppendFormat(\"&lt;/table&gt;\");\n\n        sb.AppendFormat(\"&lt;div id='div_grid'&gt;{0}&lt;/div&gt;\", gridHtml);\n        sb.AppendFormat(\"&lt;/div&gt;\");\n        // Closing  for the Dialog Box Div\n\n        //opening For Script Section \n        sb.AppendFormat(\"&lt;script type='text/javascript'&gt;\");\n\n        //Opening for Document Reddy\n        sb.AppendFormat(\"$(document).ready(function() {{ \");\n        sb.AppendFormat(\"$('#dialoggrid').dialog({{ autoOpen: false,modal: true,width: 350}});\");\n        //Function For SearchButton on Main Page Click \n        sb.AppendFormat(\"$('#searchlink').click(function() {{\");\n        sb.AppendFormat(\"$( '#dialoggrid').dialog('open');\");\n        sb.AppendFormat(\"}});\");\n        //Closing For SearchButton on Main Page Click \n\n        //opening For Textbox Search inside the Grid on Key Up Event\n        sb.AppendFormat(\"$('#txtGridSearch').keyup(function(){{\");\n        sb.AppendFormat(\"$.post('/CustomeControls/GridSearch')\");\n\n\n        sb.AppendFormat(\"}});\");\n        //Closeing For Textbox Search inside the Grid on Key Up Event\n\n        sb.AppendFormat(\"}});\");\n        //Closing For Document Reddy Function \n\n        sb.AppendFormat(\"&lt;/script&gt;\");\n        //Closing for Script Section \n\n\n        return new MvcHtmlString(sb.ToString());\n    }\n</code></pre>\n"},{"tags":["javascript","ajax","arrays","json","loops"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13086443,"title":"How do I build a javascript array from an ajax call that returns a json array?","body":"<p>I am making an ajax call that returns some json data. I need to take this data, loop through it and build a new javascript array. </p>\n\n<p>This is what the returned json looks like:</p>\n\n<pre><code>{\n    query: [ ],\n    products: \u2028[\n    \u2028{\n    title: \"title 1\",\n    price: \"6.00\",\n    magazine: \"magazine name 1\",\n    image: \"/p/c/pc_90_cover.jpg\",\n    type: \"Magazine\",\n    market: \"Technology\",\n    zinio: \"http:www.zinio.com\",\n    newsstand: \"http://www.link1.php\"\n    },\n\n    \u2028{\n    title: \"title 2\",\n    price: \"6.00\",\n    magazine: \"magazine name 2\",\n    image: \"/p/c/pc_90_cover.jpg\",\n    type: \"Magazine\",\n    market: \"Technology\",\n    zinio: \"http:www.zinio.com\",\n    newsstand: \"http://www.link2.php\"\n    },\n\n    \u2028{\n    title: \"title 3\",\n    price: \"6.00\",\n    magazine: \"magazine name 3\",\n    image: \"/p/c/pc_90_cover.jpg\",\n    type: \"Magazine\",\n    market: \"Technology\",\n    zinio: \"http:www.zinio.com\",\n    newsstand: \"http://www.link3.php\"\n    }\n    ]\n</code></pre>\n\n<p>}</p>\n\n<p>How do I loop through this data in javascript?  This is what I have so far but it is very wrong! - apologies my javascript is not my strongest skill!</p>\n\n<pre><code>                    var allProducts = $.get(\"http://localhost:8888/imagine-publishing/web/app_dev.php/api/v1/search/search.json?query=pho\", function(data) {\n\n\n                    var arrProducts = [\n                        for (var product in allProducts) {\n\n                            title  = product.title,\n                            url = product.url, \n                            label = product.title, \n                            magazine = product.magazine,\n                            image = product.imageThumb,\n                            newsstand = product.newsstand,\n                            googleplay = product.googleplay,\n                            kindle = product.kindle, \n                            barnesnoble = product.barnesnoble,\n                            zinio = product.zinio, \n                            kobo = product.kobo, \n                            waterstones = product.waterstones, \n                            type = product.type, \n                            brandurl = product.brandurl \n\n                            },\n\n                     ];\n\n                });\n\n                console.log(arrProducts);\n</code></pre>\n"},{"tags":["javascript","jquery","ruby","ajax","ruby-on-rails-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13081795,"title":"Page reload from controller rails 3?","body":"<p>I want to redirect a user to login page if his/her session is timeout. How can I redirect my user to login page if user click on any link of my web page. And link can be a ajax call or page reload call.  </p>\n"},{"tags":["jquery","ajax","navigation","mootools"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":2647,"score":5,"question_id":2196335,"title":"What is the best dropdown navigation alternative to Superfish?","body":"<p>I know superfish is amazing, but the terrible CMS we are using conflicts with it in IE6 (hovers break in IE6 when the CMS applies a selected class to the li). I don't know how, but feel free to look at <a href=\"http://valitics.com/test1\">valitics.com/test1</a>. It can be mootools, scriptaculous, whatever, I just need a good alternative to superfish.</p>\n"},{"tags":["asp.net","ajax","ajaxcontroltoolkit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":13080240,"title":"Returning data with AjaxControlToolkit's async AJAXFileUpload control in ASP.NET","body":"<p>I'm using the above control (note it's the ASP.NET one. I seem to see lots of people using a similarly named one written in javascript) to allow upload multiple uploads of files with a progress bar, drag-n-drop, etc. That part all works fine but I need to return two pieces of data along with the file. Specifically, it's a user entered latitude and longitude that comes from two text boxes. Since the upload control is async, the contents of the text boxes don't get posted back so I can't access them. There seems to be a property I can hook into, ContextKeys, which will send the data back to the server, but it's a static field and I don't know how to manipulate it dynamically. I've tried hooking the ontextchanged events from the textboxes and using those to set the context keys. The post back works and it seems to set the value, but when the user presses the upload button the ContextKeys value is empty.</p>\n\n<p>Does anyone how to programtically set the ContextKeys property, or another way to send data back with the upload?</p>\n\n<p>Here's the code:</p>\n\n<p>.ASPX</p>\n\n<pre><code>&lt;div style=\"float:left; width: 325px;\"&gt;\n    &lt;cc1:AjaxFileUpload ID=\"AjaxFileUpload1\" runat=\"server\" Width=\"325px\" \n         onuploadcomplete=\"UploadComplete\" ClientIDMode=\"Static\" /&gt;\n    &lt;cc1:DynamicPopulateExtender ID=\"AjaxFileUpload1_DynamicPopulateExtender\" \n        runat=\"server\" Enabled=\"True\" PopulateTriggerControlID=\"\" \n        TargetControlID=\"AjaxFileUpload1\"&gt;\n    &lt;/cc1:DynamicPopulateExtender&gt;\n&lt;/div&gt;\n&lt;div style=\"float:left\"&gt;Latitude:\n    &lt;asp:TextBox ID=\"tbUploaderLat\" runat=\"server\" \n        ontextchanged=\"tbUploaderLat_TextChanged\" AutoPostBack=\"True\"&gt;&lt;/asp:TextBox&gt;&lt;br /&gt;\n    Longitude:\n    &lt;asp:TextBox ID=\"tbUploaderLon\" runat=\"server\"\n        ontextchanged=\"tbUploaderLon_TextChanged\" AutoPostBack=\"True\"&gt;&lt;/asp:TextBox&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>code-behind:</p>\n\n<pre><code>protected void UpdateLatLon() //this is called from the two events above\n{\n    AjaxFileUpload1.ContextKeys = tbUploaderLat.Text + \"|\" + tbUploaderLon.Text;\n}\n</code></pre>\n"},{"tags":["c#","jquery","ajax","razor","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13084145,"title":"How can I update a Table without refresh the entire site razor","body":"<p>Hi I'm working on a table </p>\n\n<p>I cannot atm update the table without the site refreshing. \nI need a way to easily</p>\n\n<p>Add a row ,Delete a row, Modify a row in a table's content.</p>\n\n<p>my table is build like this.</p>\n\n<pre><code>{....}\n@using (Html.BeginForm())\n{\n&lt;fieldset&gt;\n    &lt;legend&gt;ShiftTypes&lt;/legend&gt;\n    &lt;table class=\"EditableTable\" id=\"EditableTableShiftTypes\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;\n                    #:\n                &lt;/th&gt;\n                &lt;th&gt;\n                    ShiftName:\n                &lt;/th&gt;\n                &lt;th&gt;\n                    ShiftCode:\n                &lt;/th&gt;\n                &lt;th&gt;\n                    Suplement:\n                &lt;/th&gt;\n                &lt;th&gt;\n                    ExtraSuplement:\n                &lt;/th&gt;\n                &lt;th&gt;\n                &lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            @foreach (BPOPortal.Domain.Models.ShiftTypeView type in Model.ShiftTypeList)\n            {\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        @type.ID\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @type.ShiftName\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @type.Name\n\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @type.Supplement\n\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        @type.OneTimePayment\n\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;button&gt;\n                            Delete&lt;/button&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            }\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;label&gt;\n                    &lt;/label&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.Editor(\"ShiftName\")\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.Editor(\"ShiftCode\")\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.Editor(\"Suplement\")\n                &lt;/td&gt;\n                &lt;td&gt;\n                    @Html.DropDownList(\"ExtraSuplement\", new SelectListItem[] { new SelectListItem() { Text = \"yes\", Value = \"true\", Selected = false }, new SelectListItem() { Text = \"No\", Value = \"false\", Selected = false } }, \"--Choose--\")\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;button id=\"AddButton\"&gt;\n                        Add&lt;/button&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;button type=\"submit\" id=\"Gem\"&gt;\n        Save&lt;/button&gt;\n&lt;/fieldset&gt;\n{....}\n</code></pre>\n\n<p>I've Tried to use Ajax in the following way but it refreshes the entire page.</p>\n\n<pre><code>{....}\n        var ID= 2;\n        $(\"#AddButton\").click(function(){\n            var ShiftName= $('#ShiftName').attr('value');\n            var ShiftCode= $('#ShiftCode').attr('value');\n            var Suplement= $('#Suplement').attr('value');\n            var ExtraSuplement= $('#ExtraSuplement').attr('value');\n\n\n            $.ajax({\n                url: '@Url.Action(\"AddData\", \"ShiftTypesConfiguration\")',\n                data: { ID: ID.toString(), ShiftName: $('#ShiftName').attr('value'), ShiftCode: $('#ShiftCode').attr('value'), Suplement: $('#Suplement').attr('value'), ExtraSuplement: $('#ExtraSuplement').attr('value') },\n                type: 'POST',\n                //                contentType: 'application/json; charset=utf-8;',\n                dataType: 'json',\n                success: function (response)\n                {\n                   function fnClickAddRow() {                       \n                      $('#EditableTableShiftTypes').dataTable().fnAddData([\n                     response.ID,\n                     response.ShiftName,\n                     response.ShiftCode,\n                     response.Suplement,\n                         response.ExtraSuplement,\n                         \"&lt;button&gt;Delete&lt;/button&gt;\"]); } \n                    }\n            });\n            ID++;\n        });\n{....}\n\n\n&lt;/script&gt;\n</code></pre>\n\n<p>My Method in the Controller that should handle the request.</p>\n\n<pre><code>public JsonResult AddData(string ID, string ShiftName, string ShiftCode, string Suplement, string ExtraSuplement)\n    {\n        TableViewModel tableViewModel = new TableViewModel();\n        tableViewModel.ID = ID;\n        tableViewModel.ShiftName= ShiftName;\n        tableViewModel.ShiftCode= ShiftCode;\n        tableViewModel.Suplement= Suplement;\n        tableViewModel.ExtraSuplement= ExtraSuplement;\n\n\n        return Json(tableViewModel);\n    }\n</code></pre>\n\n<p>However it doesn't seem to work Now I'm asking For Ideas and ways to make this better/easier/Working </p>\n\n<p><strong>Edit</strong>:saw a copy past Error</p>\n\n<p><strong>EDIT2:</strong> I've now changed it slightly I found that I had a error in how my script was running this is the latest. there are still problems but at least now I can see and describe the error.</p>\n\n<p>this is what I changed the script is now </p>\n\n<pre><code> $(\"#AddButton\").click(function (event) {\n    event.preventDefault();\n    var ShiftName = $('#ShiftName').attr('value');\n    var ShiftCode = $('#ShiftCode').attr('value');\n    var Suplement = $('#Suplement').attr('value');\n    var ExtraSuplement = $('#ExtraSuplement').attr('value');\n\n\n    $.ajax({\n        url: '@Url.Action(\"AddData\", \"ShiftTypesConfiguration\")',\n        data: { ID: ID.toString(), ShiftName: ShiftName, ShiftCode: ShiftCode, Suplement: Suplement, ExtraSuplement: ExtraSuplement },\n        type: 'POST',\n        //                contentType: 'application/json; charset=utf-8;',\n        dataType: 'json',\n        success: function (response) {\n            function fnClickAddRow() {\n                $('#EditableTableShiftTypes').dataTable().fnAddData([\n                 response.ID,\n                 response.ShiftName,\n                 response.ShiftCode,\n                 response.Suplement,\n                 response.ExtraSuplement,\n                 \"&lt;button&gt;Delete&lt;/button&gt;\"]);\n            }\n        }\n    });\n    ID++;\n});\n</code></pre>\n\n<p>now with the help of firebug I've seen that the values are back on the page but before I can see them the page is refreshed.</p>\n"},{"tags":["php","ajax","mysqli","chat"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13085888,"title":"Getting the last inserted messages from ajax chat","body":"<p>I'm building a chat application and having some issues. First of all I want the chat starts loading from database  once the the user logs in. </p>\n\n<p>function that gets the whole chat from db which is called by ajax</p>\n\n<pre><code>function getChatData(){\n    global $mysqli;\n    //echo $lastinseted= $mysqli-&gt;insert_id();\n    $sql = \"SELECT `chat`.`message`,\n        `users`. `username`,\n        `chat`.`timestamp`\n        from `chat` JOIN `users` ON (`chat`.`user_id`=`users`.`user_id`) \n        ORDER BY `chat`.`timestamp` DESC limit 15\";\n    try{\n        if($stmt=$mysqli-&gt;prepare($sql)){\n            echo returnJson($stmt);\n            $stmt-&gt;close();\n            $mysqli-&gt;close();\n        }else{\n            throw new Exception(\"An error occured while fetching record data\");\n        }\n    }catch(Exception $e){\n        log_error($e, $sql, null);\n        echo 'fail';\n    }\n}\n</code></pre>\n\n<p>here is the callback function:</p>\n\n<pre><code>function getChatCallback(data){\n    var h='';\n    for(var i=0, l=data.length;i&lt;l;i++){\n        h+=data[i].username+' says: '+data[i].message+'&lt;span style=\"color:gray\"&gt; at the time '+data[i].timestamp+'&lt;/span&gt;&lt;br/&gt;';\n    }\n    $('.messages').html(h);\n    setTimeout(getChat,1500);\n }\n</code></pre>\n\n<p>this is the function that will insert the new messages to the database which is called once the user hits enter and it is called also by ajax call:</p>\n\n<pre><code>function putChatData($message,$room,$user_id){\n    global $mysqli;\n    $sql = \"INSERT INTO `chat`\n    (`message`,`timestamp`,`room`,`user_id`)\n    VALUES (?,?,?,?)\";\n    $timestamp = gmdate(\"Y-m-d H:i:s\");\n\n\n    try{\n        if($stmt=$mysqli-&gt;prepare($sql)){\n             $stmt-&gt;bind_param('ssii',$message,$timestamp,$room,$user_id);\n\n            $stmt-&gt;execute();\n\n            $stmt-&gt;close();\n            $mysqli-&gt;close();\n\n        }else{  \n            throw new Exception(\"An error occured while fetching record data\");\n        }\n    }catch(Exception $e){\n        log_error($e, $sql, null);\n        echo 'fail';\n    }\n\n}\n</code></pre>\n\n<p>the problem now is that I could insert the new messages to the db, but the first function the gets the chat, brings all that chat including the old ones before the user logs in.  I tried to use timestamp or the last insert id but didn't work with me.</p>\n"},{"tags":["jquery","ajax","forms","success"],"answer_count":10,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":385,"score":2,"question_id":12017823,"title":"Form not submitting inside $.ajax success function","body":"<p>I'm validating for duplicate names by using jquery+Ajax. Everything is working fine except that the form is not submitting once everything returns true</p>\n\n<p><strong>What's Happening</strong></p>\n\n<ul>\n<li>If no name is entered, alert box is showing up stating name is\nrequired --> No problem here</li>\n<li>If duplicate name is found, alert box is showing up stating name\nalready exists and form does not submit --> No problem here</li>\n<li>If duplicate name is not found, alert box is showing up (to prove the\n<strong><code>else</code></strong> part of the condition is working), but the <strong>form does not\nsubmit</strong>. I want the form to go ahead and submit itself in this <strong><code>else</code></strong>\npart</li>\n</ul>\n\n<p><strong>jQuery Code</strong></p>\n\n<pre><code>$('#form1').submit(function(){\n\n    var name = $('#shelf_name').val();\n\n    if(name == '')\n    {\n        alert('Shelf name is required');\n        $('#shelf_name').focus();\n    }\n    else\n    {                   \n        $.ajax({\n            type:'post',\n            url:'check-duplicate-shelf-name.php',\n            data:{'name':name},\n            context:this,\n            success:function(data)\n            {\n                if(data == 'stop')\n                {\n                    alert('Shelf name already exists'); // working if duplicate name is found\n                }\n                else\n                {   \n                    alert('else working?'); // alert box is showing up if name is not duplicate                                         \n                    this.submit(); // but after alert, this line not executing\n                }\n            }\n        });\n    }\n\n\n    return false;\n\n});\n</code></pre>\n\n<p><strong>HTML Form Tag</strong></p>\n\n<pre><code>&lt;form action=\"add-shelf-post.php\" method=\"post\" id=\"form1\"&gt;\n</code></pre>\n\n<p><strong>check-duplicate-shelf-name.php</strong> Page</p>\n\n<pre><code>&lt;?php\n\ninclude 'confignew.php';\n\n$name = $_POST['name'];\n\n// peforming database operations\n.\n.\n.\n\n// and then\n\nif($db-&gt;num_rows($q) == 0)\n{\n    echo 'go';\n}\nelse\n{\n    echo 'stop';\n}\n</code></pre>\n\n<p>I'm missing something very obvious. Hopefully someone here can point that out.</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After checking with Firebug in Firefox, I indeed got an error. It didn't show up when I was testing with Chrome. Here is the screenshot.</p>\n\n<p><img src=\"http://i.stack.imgur.com/rQ75s.png\" alt=\"Firebug Error\"></p>\n"},{"tags":["asp.net","ajax","web-services"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13085885,"title":"Get notification to the currently logged users","body":"<p>I want to add a notifications to my asp.net application. when place an order to order table,automatically popup should come to the currently logged users such as facebook notification. \nplease help with sample codes \nThanks. </p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13085183,"title":"error to try to pass parameter in ajax jquery","body":"<p>I am using ajax to call a function in my controller, I think than I pass correctly  the parameters but I obtain an error.</p>\n\n<p>this is my funtion in Jquery</p>\n\n<pre><code>var usuario= $(this).data('usuario');\n            var idea= $(this).data('idea');\n            // llamada ajax\n            $.ajax({\n                url: '{{path('votarIdea')}}',\n                data: {user: usuario, idea: idea},\n                type: 'POST',\n                dataType: 'html'\n                //success: change(),\n                //error: noChange()\n            });\n</code></pre>\n\n<p>in my url param I try to put this</p>\n\n<pre><code>url: '{{path('votarIdea',{'user': usuario, 'idea': idea} )}}',\n</code></pre>\n\n<p>in this case the error is that they don´t found the variable idea.</p>\n\n<p>In the controller, the function is..</p>\n\n<pre><code>public function votarIdeaAction($user, $idea){\n$em= $this-&gt;getDoctrine()-&gt;getEntityManager();\n...\n}\n</code></pre>\n\n<p>the error is this</p>\n\n<pre><code>Controller \"Arca\\PuenteBundle\\Controller\\DefaultController::votarIdeaAction()\" requires that you provide a value for the \"$user\" argument (because there is no default value or because there is a non optional argument after this one). (uncaught exception)\n</code></pre>\n\n<p>any idea!</p>\n"},{"tags":["php","jquery","ajax","tinymce","google-docs"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13083398,"title":"Google Docs style Autosave using TinyMCE","body":"<p>I have a form using the TinyMCE Editor running on a LAMP system.  I wish to create an autosave feature similar to Google Docs.  I have thought of two scenarios however, both will produce an overhead on the server.</p>\n\n<ol>\n<li>Post an Ajax request on keyup</li>\n<li>Post an Ajax request every 60s</li>\n</ol>\n\n<p>Obviously the first point is not feasible.  Can anyone suggest a better solution to point two?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>Ok, so a third option could be a combination of Thariama's answer and my second point.</p>\n\n<p>3) Post an Ajax request every 60s if there is signifcant change eg 10 chars or more</p>\n\n<p>Any advances on this would be much appreciated.</p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>Ok I have prototyped my solution based on point 3.  In case anyone is interested my code flows like this:</p>\n\n<p>I am using JQuery.  I have a form with a textarea with TinyMCE attached to it and a hidden field to store a count of keystrokes.</p>\n\n<pre><code>tinyMCE.init({\n  ...\n  // Callback for counting keystrokes in TinyMCE\n  handle_event_callback : \"keyCount\"\n});\n\n$(function() {\n  autoSaveContent();\n});\n\n// Callback function - Get count, increment it and then set it\nfunction keyCount(e) {\n  if(e.type == \"keypress\") {\n    var count = parseInt($(\"#keyCount\").val());\n    count++;\n    $(\"#keyCount\").val(count);\n  }\n}\n\n// Autosave every 10s if there have been over 30 keystrokes\nfunction autoSaveContent() {\n  var keyCount = parseInt($(\"#keyCount\").val());\n  if(keyCount &gt; 30) {\n    tinyMCE.triggerSave();\n    var formData = $(\"#programmedItineraryForm\").serialize();\n    $.post(\"/path/to/save.php\", formData, function(data,textStatus) {\n      if(data.success) {\n        $(\"#keyCount\").val(0);\n      }\n    });\n  }\n  setTimeout('autoSaveContent()',10000);\n}\n</code></pre>\n"},{"tags":["javascript","ajax","jsp","asp-classic","peoplesoft"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13073383,"title":"AJAX and Javascript not working","body":"<p>NO JQUERY.  I am using peoplecode which is similar to JSP, ASP, and ZXZ.  The ajax request is triggered am I am trying to pull the text 'Hello World' from this script...</p>\n\n<pre><code>Function IScript_AJAX_Test()  \n   %Response.Write(\"&lt;div id='hello'&gt;Hello World&lt;/div&gt;\");  \nEnd-Function;\n</code></pre>\n\n<p>My javascript function that makes the ajax call looks like this...</p>\n\n<pre><code>function AJAX_test (ajax_link) {\n\n  if (typeof XMLHttpRequest == 'undefined') {\n            XMLHttpRequest = function() {\n                try { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\"); } catch(e) {}\n                try { return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"); } catch(e) {}\n                try { return new ActiveXObject(\"Msxml2.XMLHTTP\"); }     catch(e) {}\n                try { return new ActiveXObject(\"Microsoft.XMLHTTP\"); }  catch(e) {}\n\n            throw new Error('This browser does not support XMLHttpRequest or XMLHTTP.');\n            };\n        }\n  var request = new XMLHttpRequest();\n  request.onreadystatechange = function() {\n    if (request.readyState == 4 &amp;&amp; request.status == 200) {\n\n      document.getElementById('ajax').innerHTML = request.responseText.document.getElementById('hello').innerHTML;\n      //document.getElementById('ajax').innerHTML = 'Testing';\n    }  \n  }\n  request.open('GET', ajax_link, true);\n  request.send(); \n\n  //document.getElementById('ajax').innerHTML = ajax_link;\n}\n</code></pre>\n\n<p>As you can see in this line..</p>\n\n<pre><code>document.getElementById('ajax').innerHTML = request.responseText.document.getElementById('hello').innerHTML;\n</code></pre>\n\n<p>...I am trying to grab the text by getting the innerHTML from the id.  This isn't working though.  When I click the button nothing happens.  </p>\n\n<p>I tried using the line below, but it returns an entire new page where the id would be (probably because of Peoplesoft)...</p>\n\n<pre><code>document.getElementById('ajax').innerHTML = request.responseText;\n</code></pre>\n\n<p>Can someone help me achieve this...</p>\n"},{"tags":["javascript","ajax","sharepoint2010"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":112,"score":1,"question_id":13070228,"title":"Sharepoint 2010 XsltListViewWebPart on an application page","body":"<p>I'm trying to add an XsltListViewWebPart control to a sharepoint application dynamically.\nWhen I run ShowDocumentList(pnlAdminCurrentDocuments) on Page_Load everything works fine.</p>\n\n<p>However, if i call the same function on a ajax request, the control loads, but none of the events get fired (i.e. sorting, expanding tree view etc)</p>\n\n<pre><code>XsltListViewWebPart wp;\n\n    private void ShowDocumentList(Panel panel)\n    {\n        try\n        {\n            ShowMessage(\"&lt;p&gt;No documents to show&lt;/p&gt;\");\n\n            string meetingURL = \"http://rl01/sites/nmc/FullMonty\";\n            string meetingId = \"6d39de81-a7f7-4cff-9c94-5d2893526dc5\";\n\n            if (!string.IsNullOrEmpty(meetingURL) &amp;&amp; !string.IsNullOrEmpty(meetingId))\n            {\n                using (SPSite site = new SPSite(meetingURL))\n                {\n                    using (SPWeb web = site.OpenWeb())\n                    {\n                        SPList list = web.Lists.TryGetList(\"Meeting Documents\");\n\n                        if (list == null)\n                            return;\n\n                        SPView view = null;\n\n                        try\n                        {\n                            view = list.Views[\"Submitted\"];\n                            //view = list.Views[0];\n                        }\n                        catch { }\n\n                        if (view == null)\n                        {\n                            //todo - replace with toolbx message\n                            ShowMessage(\"Cannot view documents\");\n                        }\n                        else\n                        {\n\n                            wp = new XsltListViewWebPart();\n                            wp.ChromeType = PartChromeType.None;\n                            wp.ListId = list.ID;\n                            wp.ViewGuid = view.ID.ToString();\n                            wp.WebId = web.ID;\n\n\n                            wp.XmlDefinition = view.GetViewXml();\n                            wp.XmlDefinition = wp.XmlDefinition.Replace(\"MEETING_ID\", meetingId);\n\n                            //SetToolbarContext(web);\n\n                            panel.Controls.Clear();\n                            panel.Controls.Add(wp);\n                        }\n                    }\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            ShowMessage(\"\");\n        }\n    }\n</code></pre>\n\n<p>The function actually gets the data and does everything but none of the client side functionality on the list view doesn't work. Throws a javascript error even when I mouse over the column names. If I add the control with a full postback without using ajax, everything works as expected.</p>\n\n<pre><code>protected void radAjaxMgr_AjaxRequest(object sender, Telerik.Web.UI.AjaxRequestEventArgs e)\n    {\n        ShowDocumentList(pnlAdminCurrentDocuments);\n    }\n</code></pre>\n\n<p>HTML markup is as follows</p>\n\n<pre><code>&lt;telerik:RadAjaxManager ID=\"radAjaxMgr\" runat=\"server\" OnAjaxRequest=\"radAjaxMgr_AjaxRequest\"&gt;\n&lt;/telerik:RadAjaxManager&gt;\n&lt;asp:UpdatePanel runat=\"server\" ID=\"pnl1\"&gt;\n                                    &lt;ContentTemplate&gt;\n                                        &lt;asp:Panel ID=\"pnlAdminCurrentDocuments\" runat=\"server\" CssClass=\"i3q_DocumentListHldr submittedDocsPanel\"&gt;\n                                        &lt;/asp:Panel&gt;\n                                    &lt;/ContentTemplate&gt;\n                                &lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>Javascript function to raise the ajax call    </p>\n\n<pre><code>function test()\n    {\n        var ajaxMgr = $find(\"&lt;%= RadAjaxManager.GetCurrent(this).ClientID %&gt;\");\n\n        if (ajaxMgr)\n        {\n            ajaxMgr.ajaxRequest(\"Name1;Value1\");\n        }\n    }\n</code></pre>\n\n<p>Thanks in advance :-)</p>\n"},{"tags":["php","ajax","codeigniter","google-chrome"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13084534,"title":"Codeignator Session lost in Chrome","body":"<p>I have two domains abc.com and xyz.com both are in same server. Same code is running in both domains. But when i use xyz.com session lost in chrome. No issues in other browsers its work fine. In abc,com works fine in all browsers. Please help me</p>\n"},{"tags":["jquery","ajax","django","django-views"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13084204,"title":"Make redirect url work with ajax","body":"<p>I want to know how can i make my request work with ajax in my views, while i want to redirect user to other page. I mean for example, when user sends his/her email successfully and I want to redirect him/her to other page. What should I do to make this request work with ajax?</p>\n\n<p>I have this function in views.py:</p>\n\n<pre><code>def compose(request, recipient=None, success_url=None, recipient_filter=None):\n    if request.is_ajax():         \n        if request.method == \"POST\":\n            sender = request.user\n            form = compose_form(request.POST, recipient_filter=recipient_filter)\n            if form.is_valid():\n               // do some processing\n               if success_url is None:\n                   success_url = reverse('messages_inbox')\n               if request.GET.has_key('next'):\n                   success_url = request.GET['next']\n               return HttpResponseRedirect(success_url)\n    else: //rest of function\n</code></pre>\n\n<p>And I check in, for example 'messages_inbox', the request to be passed with ajax. so what's the way?</p>\n"},{"tags":["jquery","ajax","facebook"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2519,"score":0,"question_id":5167759,"title":"use jquery and ajax to add facebook meta tag","body":"<p>I use ajax to render a content page with a \"facebook like\" in it.</p>\n\n<p>The problem is that facebook like will extract meta info but I don't know how to assign the meta with ajax.</p>\n\n<p>I tried use append to head int FB.init but it seems not work.</p>\n\n<p>$('head').append(\"');</p>\n\n<p>please help, thanks!</p>\n"},{"tags":["javascript","ajax","json","get"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13083919,"title":"javascript json request with some parameters","body":"<p>So a simple question:</p>\n\n<p>JavaScript needs to send to server that request: </p>\n\n<blockquote>\n  <p>myserver/scipt.php?LANG=EN&amp;AGENT={\"Login\":{\"name\":\"user\",\"pass\":\"user\"}}</p>\n</blockquote>\n\n<p>How I need to form url and data in Ajax?</p>\n\n<p>Is this right?</p>\n\n<pre><code>var formData = {\n            \"login\":$(\"#field1\").val(),\n            \"pass\":$(\"#field2\").val()\n               };\n\n$.ajax({\n    url:'http://myserver/scipt.php?LANG=EN&amp;',\n    type:'GET',\n    data:'AGENT=' + $.toJSON(formData),\n    success: function(res) {\n                        alert(res);\n                           }\n      });\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["javascript","jquery","ajax","redirect","window.location"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":53,"score":3,"question_id":13083451,"title":"AjaxSubmit with window.location on response","body":"<p>I have a problem with ajaxSubmit... The problem is that, when I submit a form and get a response from PHP that have a script with <strong>window.location</strong>, the page doesn't change at all...</p>\n\n<p>My PHP script just returns a script with window.location when the form is submitted correctly, otherwise, it returns a JSON that is parsed on the success function.</p>\n\n<p>Using the tools of Chrome, I see that it loads the window.location URL on the Network Tab but, it doesn't show it to the user...</p>\n\n<p>Here's the code I have:</p>\n\n<pre><code>$(\"form\").submit(function(e) {\n    e.preventDefault();\n    $(\"form\").ajaxSubmit({\n        success: function(resp){\n            try{\n                resp=JSON.parse(resp);\n                alert(resp[\"error\"]);\n            } catch(e){\n                $(\"&lt;div&gt;&lt;/div&gt;\").html(resp);\n            }\n\n        }\n    });\n    return false;\n});\n</code></pre>\n\n<p>How do I need to do to make it work? Is there any property of options parameter of AjaxSubmit that could solve that?</p>\n"},{"tags":["ajax","jsonp","spellchecking"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13083207,"title":"Are there any pure client-side AJAX/javascript Spellchecker plugins?","body":"<p>Spellify works like a charm, but it entails 2 hops - once to your own server, which then creates a web request and calls out the google API. Expensive - considering it occurs every time any user types a space in one of one's forms.</p>\n\n<p>I am yet to find a pure client-side version that manges to create the 3rd-party request client side (presumably because it is a post and you have x-origin issues) - are there any JSONP / GET solutions out there?</p>\n"},{"tags":["jquery","xml","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13082682,"title":"Reading xml from url using js","body":"<p>I was trying to read xml data provided by the url</p>\n\n<p>url: <a href=\"http://api.simplyhired.co.in/a/jobs-api/xml-v2/q-java/l-hyderabad/ws-10?pshid=46408&amp;ssty=3&amp;cflg=r\" rel=\"nofollow\">http://api.simplyhired.co.in/a/jobs-api/xml-v2/q-java/l-hyderabad/ws-10?pshid=46408&amp;ssty=3&amp;cflg=r</a></p>\n\n<p>but I am not getting any response data from the url. I tried below code:</p>\n\n<pre><code>var url = \"http://api.simplyhired.co.in/a/jobs-api/xml-v2/q-java/l-hyderabad/ws-10?pshid=46408&amp;ssty=3&amp;cflg=r\";\n\n$.ajax({\n    url: url,\n    complete: function(data) {\n        alert(data.responseText);\n    }\n});​\n</code></pre>\n\n<p>When I open url in the browser it shows data in xml format. The problem exists even after encoding the url.</p>\n\n<p>Is there any better way of doing this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["c#","ajax","asp.net-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":13082375,"title":"Sending data from ajax to controller in C#","body":"<p>I'm creating an object in javascript with LocationId and id.</p>\n\n<p>I have a class MyClass in C# with those two variables.</p>\n\n<p>I have an ajax call which calls a method in my controller:</p>\n\n<pre><code>MyMethod(List&lt;MyClass&gt; myObject, int user_id)\n</code></pre>\n\n<p>I use:</p>\n\n<pre><code>traditional: true\n</code></pre>\n\n<p>in the ajax call.</p>\n\n<p>The method gets called, myObject has the correct length, but LocationId and id are all 0. Why is this happening and how to solve it?</p>\n\n<pre><code>public class MyClass {\n     public int LocationId {get; set;}\n     public int id {get; set;}\n}\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>var myArray = new Array();\nvar object = new {\n    LocationId: 1;\n    id: 2;\n}\nmyArray.push(object);\n</code></pre>\n\n<p>Ajax:</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url: \"correctUrl\",\n    traditional: true,\n    data: { user_id: 1, myObject: myArray}\n});\n</code></pre>\n"},{"tags":["javascript","html","ajax","meta-tags"],"answer_count":5,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":4085,"score":9,"question_id":3252743,"title":"Using Javascript to override or disable meta refresh tag","body":"<p>I have a website, where I am trying to use Ajax to update some stuff on the page without reloading it. However, there is a good chance that many of my users will be using mobile browsers that don't support Javascript so I am trying to design the page with meta refresh tags, that somehow work only for users without Javascript. Is there any way to do this?</p>\n\n<p>I tried putting the tag within a noscript element, but my primitive cell phone browser wouldn't acknowledge it. I am thinking of maybe setting a cookie to remember if the user's browser supports Javascript, or having one version of the page that works without Javascript, and tries to use Javascript to redirect the user to a more sophisticated version, but I am wondering if there is a more elegant way to do it. Does anyone have any ideas?</p>\n"},{"tags":["jquery","asp.net","ajax","asp.net-mvc","asp.net-mvc-3"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":430,"score":0,"question_id":9607164,"title":"Request.IsAjaxRequest never returns true in MVC3","body":"<p>I am using Asp.net MVC3 and trying to do a simple Ajax post to the server which returns a partial view and updates my list of items during a search.</p>\n\n<pre><code>    @using (Ajax.BeginForm(\"PartialUpdate\", \"Listing\"\n        , new  AjaxOptions { \n                UpdateTargetId = \"ListPartialDiv\",\n                HttpMethod = \"GET\",\n                InsertionMode = InsertionMode.Replace,\n\n        }))\n    {\n        &lt;!-- Search Boxes and buttons here --&gt;\n    }\n\n    &lt;div id = \"ListPartialDiv\"&gt;\n        @{\n            Html.RenderPartial(\"_ListPartial\", Model);\n         }\n    &lt;/div&gt;\n</code></pre>\n\n<p>The ajax successfully makes a call to the server and the server responds by sending a partial view. But the partial view always renders in a new page. I found out that this is because it doesn't know that it is an ajax call coming and so it renders a new page. I HAVE included the correct jquery-ubobtrusive-ajax.min.js scripts and added the key as follows according to <a href=\"http://stackoverflow.com/questions/5164540/why-doesnt-request-isajaxrequest-work-in-asp-net-mvc-3\">This Question</a></p>\n\n<pre><code>    &lt;script src=\"@Url.Content(\"~/Scripts/jquery.unobtrusive-ajax.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"@Url.Content(\"~/Scripts/jquery-1.7.1.min.js\")\" type=\"text/javascript\"&gt; \n</code></pre>\n\n<p></p>\n\n<p>My controller code is very simple:</p>\n\n<pre><code>      if (Request.IsAjaxRequest())\n          return PartialView(\"_ListPartial\", list);\n\n      return View(\"Index\", list);\n</code></pre>\n\n<p>But Request.IsAjaxRequest() always returns false no matter what.\nI have also used fiddler and firebug according to <a href=\"http://stackoverflow.com/questions/1702837/request-isajaxrequest-returns-false\">This Question</a> and don't see the X-Requested-With header but I can't really figure out what that means or how to change it. The only thing I can think of is that every other example I see uses an older version of jquery. Does that have anything to do with it? Thanks for any help. </p>\n"},{"tags":["jquery","ajax","iframe","file-upload","cross-browser"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":10259,"score":2,"question_id":2108417,"title":"jQuery AJAX Fileupload crossbrowser support","body":"<p>I'm currently working on an AJAX file upload script, which works like a charm in Firefox but doesn't work in IE.</p>\n\n<p>this is the basic HTML I'm using:</p>\n\n<pre><code>&lt;form &gt;\n    &lt;input type=\"file\" name=\"FileFields\" id=\"FileFields\"/&gt;\n    &lt;button type=\"button\" onclick=\"uploadFile();\" id=\"uploadButton\"&gt;Upload&lt;/button&gt;\n    &lt;ul id=\"files\"/&gt;\n    ... other form elements ...\n&lt;/form&gt;\n\n&lt;div id=\"fileUploadDiv\"/&gt;\n</code></pre>\n\n<p>this is the uploadFile function:</p>\n\n<pre><code>function uploadFile()\n{\n    //we don't want more then 5 files uploaded\n    if($('#files li').size() &gt;= 5)\n    {\n        return;\n    }\n    //disable the upload button\n    $('#uploadButton').attr('disabled','disabled');\n    //show loading animation\n    $('#files').append(\n        $('&lt;li&gt;')\n            .attr('id','loading')\n            .append(\n                $('&lt;img&gt;').attr('src','/images/loading.gif')\n            )\n            .addClass('loading')\n    );\n\n    //add all neccessary elements (the form and the iframe)\n    $('#fileUploadDiv').append(\n        $('&lt;form action=\"/uploadFile\" method=\"post\" id=\"fileUploadForm\"&gt;')\n            .attr('enctype','multipart/form-data')\n            .attr('encoding', 'multipart/form-data')\n            .attr('target', 'upload_frame')\n            .append(\n                $('#FileFields').clone()\n                    .css('visibility','hidden')\n        )\n        .append(\n            $('&lt;iframe&gt;').attr('name','upload_frame')\n                .load(function(){finishedPostingFile();})\n                .attr('id','upload_frame')\n                .attr('src','')\n                .css({\n                    'width':'0px',\n                    'height':'0px',\n                    'border':'0px none #fff'\n                })\n\n        )\n    );\n\n\n    //start uploading the file\n    $('#fileUploadForm').submit();\n}\n</code></pre>\n\n<p>and finishedPostingFile() would be the call back function once the iframe has finished posting/loading.</p>\n\n<p>Now, this works like a charm in Firefox but doesn't work in IE. I already figured out that IE needs <code>attr('encoding',...)</code> instead of <code>attr('enctype',...)</code> and I also tried it without creating the form and iframe on the fly by writing those elements as plain html, which didn't really make a difference.</p>\n\n<p>IE (IE8, to be concrete, haven't tested it in &lt; 8) doesn't give an error and the loading animation just keeps on spinning, without the file ever being uploaded...\nAnyone got any idea on how to make this work?</p>\n"},{"tags":["ajax","jquery-ajax","jqgrid","jqgrid-inlinenav"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13081674,"title":"How to add Select Box In Edit Row in Jqgid?","body":"<p>I am use jqgrid. I want to add record inline navigation\nNow I want add select Box in Rows Field.\nhow it possible?\nI am get Data from Database using Ajax and I want to add these data in Select Box.\nHow its Possible?\nPlease Help\nMy Ajax Code</p>\n\n<pre><code>$.ajax({\n url : \"getAllWards.html\",\n data : \"&amp;time=\" + new Date().getTime(),\n type : 'GET',\n dataType : 'JSON',\n success : function(data) {}\n});\n</code></pre>\n\n<p>my JqGrid Code</p>\n\n<pre><code>jQuery(\"#room\").jqGrid(\n{\n mtype : 'GET',\n url : \"listAllRooms.html\",\n colModel : [ .....,\n ,{\nname : 'wardType',\nindex : 'wardType',\nwidth : 150,\nedittype: \"select\",\neditrules: { required: true },\neditoptions: { size: 71},\neditable:true,\n}],\n</code></pre>\n"},{"tags":["php","jquery","ajax","echo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13073324,"title":"JQuery ajax request - echo will not output result","body":"<p>I've never encountered anything this strange before. I raise an Ajax request using jQuery to get a value from mysql.</p>\n\n<pre><code>$.ajax({\n    url: 'ajaxClassificationCheck.php?category='+category,\n    cache: false,\n    success: function(returnClass)\n    {\n        $(\"#classification\").val(returnClass);\n}});\n</code></pre>\n\n<p>and the php...</p>\n\n<pre><code>include_once ('functions.php');\nconnectdb();\n\n$category = $_GET['category'];\n\n$q = \"SELECT classification_id FROM sch_category WHERE category_id = $category\";\n\n$r = mysql_query($q) or die (mysql_error());\n$row = mysql_fetch_assoc($r);\n$classification = $row['classification_id'];\necho $classification;\n</code></pre>\n\n<p>The result in network capture shows the output from the ajax request which is empty.</p>\n\n<p>If I change:</p>\n\n<pre><code>echo $classification;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>echo \"result is $classification\";\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>result is 2\n</code></pre>\n\n<p>It also works with:</p>\n\n<pre><code>echo \"a\".$classification;\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>a2\n</code></pre>\n\n<p>Is there a minimum character limit on what can be returned via Ajax?</p>\n\n<p><strong>EDIT</strong> </p>\n\n<p>Thanks for all your suggestions </p>\n\n<p>@RocketHazmat - tried dataType: 'text', still not returning single integer. Definitely using echo $classification; </p>\n\n<p>@dualed - I put the url into the browser window and I get the correct integer response so it is something wrong with my ajax.</p>\n\n<p>Any other ideas?</p>\n"},{"tags":["jquery","ajax","dialog","success","beforesend"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13082777,"title":"Ajax BeforeSend not working, But Success working. JQuery UI Dialog with Delay","body":"<p>I'm using Ajax Post. I have two JQuery UI Dialogs. 1 Dialog (with delay) in BeforeSend and 1 Dialog (with Delay) in Success. Both Dialogs work fine on their own (under Success), however, my problem is that the Dialog stops showing when placed in BeforeSend? (The Success Dialog shows fine)\nHere's my code:</p>\n\n<pre><code>$(function() {\n$('#petform').submit(function(){\n\n    var petnamevalue = $(this).serialize();\n\n    $.ajax({\n        url: '/jasontaylorwebsite2/phpdb.php',\n        type:'POST',\n        data: petnamevalue,\n        beforesend: function() {           \n            $( \"#dialogsavingtodb\" ).dialog({\n                       autoOpen: true,\n                       width: 500,\n                       title: \"Saving Pet Name to Database\",\n                        resizable: false\n                        })\n                        .delay(3000)\n                        .queue (function() {\n                            $(this)\n                                .dialog(\"close\")\n                            .dequeue();\n                            });\n                    },   \n        success: function() {           \n             $(\"#dialogsuccesssaved\").dialog({\n                        autoOpen: true,\n                        width: 600,\n                        title: \"SUCCESS: Pet Name Saved to Database\",\n                        resizable: false\n                        })\n                        .delay(4000)\n                        .queue (function() {\n                            $(this)\n                                .dialog(\"close\")\n                            .dequeue();\n                            });\n                }\n        });\n return false;\n    });\n});\n</code></pre>\n\n<p>Thanks, in advance.</p>\n"}]}
{"total":48692,"page":14,"pagesize":100,"questions":[{"tags":["ajax","jsf","internet-explorer-9","render"],"answer_count":1,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13062557,"title":"Re-render of h:form using a4j:commandLink or a4j:commandButton does not work in IE9","body":"<p>I have h:form with some content and few links and buttons. a4j:commandLink/Button with render=\"@form\" is used inside the form but when I click on this link ajax error comes up with XML response body. This issue is only coming in IE9.</p>\n\n<p>It works perfectly in Firefox, chrome, IE7, IE8. Also, when I rerender section of form instead of complete form, it works fine.</p>\n\n<p>Does anybody have clue about this, please?</p>\n"},{"tags":["html","ajax","table","editor","extender"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":618,"score":0,"question_id":8168323,"title":"AJAX HTMLEditorExtender on postback tables don't display","body":"<p>I am currently using an Ajax tool; HTMLEditorExtender to turn a textbox into a WYSIWYG editor, in a C# ASP.NET project. On the initial page load I place a large amount of formated text and tables into the editor which appears fine; even the tables. </p>\n\n<p>The data is loaded into an asp:panel and the items/display from the panel is what is actually loaded into the extender and displayed. </p>\n\n<p>However, if I want to have a button that saves all of the data that is in the editor to a Session and after the button press still display everything in the WYSIWG editor on the page postback everything that loads in the the textbox is fine except for the tables. They come up with the  tags. Is there anyway around this?</p>\n\n<p>The code I am using to initially load the page is this: </p>\n\n<pre><code>ContentPlaceHolder cphMain = (ContentPlaceHolder)this.Master.FindControl(\"MainContent\");\nPanel pnlContent = (Panel)cphMain.FindControl(\"innerFrame\");\nStringBuilder sb = new StringBuilder();\nStringWriter sw = new StringWriter(sb);\nHtmlTextWriter hw = new HtmlTextWriter(sw);\npnlContent.RenderControl(hw);\ntxtPN.Text = sb.ToString();\npnlContent.Visible = false;\n</code></pre>\n\n<p>On the button click I am having this saved:</p>\n\n<pre><code>string strHTMLText = txtPN.Text;\nSession[\"ProgressNoteHTML\"] = strHTMLText;\n</code></pre>\n\n<p>And I am loading it on the postback like this:</p>\n\n<pre><code>txtPN.Text = (string)Session[\"ProgressNoteHTML\"];\nContentPlaceHolder cphMain = (ContentPlaceHolder)this.Master.FindControl(\"MainContent\");\nPanel pnlContent = (Panel)cphMain.FindControl(\"innerFrame\");\npnlContent.Visible = false;\n</code></pre>\n\n<p>Any ideas as to why any postbacks would make the  tags appear and in the original page load they do not?</p>\n"},{"tags":["jquery","ajax","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12970375,"title":"Downloading csv file from server","body":"<p>I have a system in which frontend is in javascript/ajax and the backend is written using REST(jersey).</p>\n\n<p>I want to download a file using my system. I have searched various forums and implemented the REST web method as follows :</p>\n\n<pre><code>@POST\n@Produces({\"text/csv\"})\n@Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n@Path(\"getcsv\")\npublic Response  getcsv(\n        @FormParam(\"usernamecsv\") String userid,\n        @FormParam(\"filename\") String filename\n        )\n{\n    final File fobj = new File(\"c:/\" +userid + \"/output/\" + filename);\n    try\n    {\n        final FileInputStream f =  new FileInputStream(fobj);\nContentDisposition cd =  \n        ContentDisposition.type(\"file\").fileName(fobj.toString()).build(); \nResponse response = Response\n.ok()\n.lastModified(new Date(fobj.lastModified()))\n.type(\"application/octet-stream\")\n.header(\"Content-Disposition\", cd)\n.entity(f)\n.build();\nreturn response;\n    }\n    catch (FileNotFoundException e1)\n    {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n    return null;\n</code></pre>\n\n<p>}</p>\n\n<p>Initially I had used the StreamingOutput class and implemented the write method for it. In that method I had returned the string read from the file. But I have found no difference between that and the above implementation. Both return the string inside the file.</p>\n\n<p>In my frontend this is what I have done</p>\n\n<pre><code>&lt;!DOCTYPE html &gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;script type=\"text/javascript\" src=\"jquery-1.7.1.min.js\"&gt;&lt;/script&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction fun1()\n{\n$.ajax({\n    url: '/RestWSGS/jersey/UserAuthentication/getcsv',\n    async: false,\n    data: $('#form2').serialize(),\n    type: 'POST',\n    cache: false,\n    contentType: \"application/x-www-form-urlencoded\",\n    processData: false,\n    dataType: \"text\",\n    success: function(data)\n     {\n        var iframe;\n        iframe = document.getElementById(\"hiddenDownloader\");\n        if (iframe === null)\n        {\n            var iframe;\n            iframe = document.getElementById(\"hiddenDownloader\");\n            if (iframe === null)\n            {\n                iframe = document.createElement('iframe');  \n                iframe.id = \"hiddenDownloader\";\n                //iframe.style.visibility = 'hidden';\n                $(\"#mydiv\").append(iframe);\n            }\n            iframe.src = \"http:\\\\localhost:8080\\\\c:\\abc@abc.com#26 8 2012 13 5 49/gr1/output/test.csv\";  \n//iframe.src = data; \n\n        }\n\n        alert('Hi');\n\n     }\n });\n}\n$(function()\n        {\n            $(document).delegate(\"#mydiv\",\"click\",function(ev)\n            {\n            fun1();\n\n            });\n        });\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"mydiv\" style='position:absolute;width:20px;height:20px;background:black'&gt;&lt;/div&gt;\n&lt;form id=\"form2\" enctype=\"multipart/form-data\" method=\"post\" &gt;\n &lt;input id =\"usernamecsv\" name=\"usernamecsv\" type=\"hidden\"  value=\"abc@abc.com#26 8 2012 13 5 49/gr1\"/&gt;\n  &lt;input id =\"filename\" name=\"filename\" type=\"hidden\"  value=\"test.csv\" /&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My problem is that I am getting a file not found response( though the data variable has the content of the file), if I assign the iframe.src with the data variable</p>\n\n<p>If I give the uri of the webservice (which I have given to the ajax call) to the iframe.src, I dont know how I will send the parameters.</p>\n\n<p>I really need to show a download prompt to the user and allow him to save the file to the local filesystem. I dont think my REST is right either as it should show a file object in firebug during POST not the contents of the file!</p>\n\n<p>I can just return the string and populate any textarea/ div with it and then ask the user to copy paste it to his file! but that does not look smooth or elegant!</p>\n\n<p>Please help,\nKavita</p>\n\n<p>EDIT:\nTried changing @Produces and type in Response.type() to \"application/csv\" as well as \"application/something\" but it always tries to append the contents of the file returned by the server to the current url and opens a search as file is obviously not found!!!</p>\n\n<p>EDIT:\nI tried converting POST to GET in the REST and used the data returned. Then it returns a DOCUMENT but still cannot open the file</p>\n"},{"tags":["ajax","file","jsp","servlets","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13081710,"title":"ajax function which uploads the image and preview it with another string from server","body":"<p>I want to use file upload control to upload an image and preview it in same page without submitting the form, is this possible? \nif possible, please let me know how to set the query string of the ajax function, and how to handle that query string at server side. I am using jsp or servlet. \nIntention is to send the image through ajax function call, where I can store the image in server's local folder. also the form will be updated with the part of the result string which is some other component output. Along with this I can show the image which user uploaded. \n1. upload the image through ajax call.\n2. return string is do two things, one for shows the image in respective place holder by servers local path and another is to get the other component output which is a string. \n3. if i have that string, I am manipulate at call back function to set the values.\n4. after enters users data I want to submit the form finally.</p>\n\n<p>I tried it, but failing to send the file object as parameter to the servlet or jsp. Also if we can send that object, how can we handle that object at jsp?</p>\n"},{"tags":["javascript","ajax","xmlhttprequest","onreadystatechange"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13081272,"title":"My onReadyStateChange is never called,why?","body":"<p>my code is simple.</p>\n\n<pre><code>function useXMLHttpRequest() {\nvar xmlhttp = new XMLHttpRequest();\nxmlhttp.open(\"POST\", \"test.ashx\", false);\nxmlhttp.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded;charset=UTF-8\");\nxmlhttp.onReadyStateChange = function () {\n    alert(\"ss\");\n};\nxmlhttp.send(\"i=5\");\nalert(xmlhttp.responseText);\n</code></pre>\n\n<p>}</p>\n\n<p>when I call useXMLHttpRequest.Yes ,it alerts the xmlhttp.responseText's value. but it doesn't alert(\"ss\"). Both in IE9 and firefox.\nAnyone can tell me what's worng? </p>\n"},{"tags":["php","javascript","ajax","mvc","front-controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13060712,"title":"Javascript Login Page with PHP authentication script- Which implementation is Best?","body":"<p>I wrote a working php authentication script for my HTTP file Server. Now, I want to write a login page with some nice graphics. I usually write my pages in HTML5, javacscript, and CSS. I am not sure how to implement the php authentication script. So far I have two ways I think I know of:</p>\n\n<ol>\n<li><p>Write the login page in html5 and javascript, use ajax call to the php script after user enters name/password in input boxes, pass the username and password to the script, and have php return ether true or false depending on if that user was authenticated. Problem is, I do not know how to get php return true or false to javascript.</p></li>\n<li><p>Write a PHP front controller model where the index.php loads html5, javascript, and css for graphics and if user is authenticated then redirect to the normal index.html document for the html file server. The problem with this is I am not familiar with using php as the front controller and I don't know if I can dynamically change elements with javascript for special effects just as if it was a normal html5 page. </p></li>\n</ol>\n"},{"tags":["javascript","jquery","ajax","events","compatibility-mode"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1305,"score":2,"question_id":2921955,"title":"IE8 (compatibility mode) won't load my Ajax content","body":"<p>I am working on a jQuery script on <a href=\"http://www.qxl.dk/\" rel=\"nofollow\">http://www.qxl.dk/</a> and I can't seem to get IE7 (or more accurately, IE8 in IE7 compatibility mode) to load my content.</p>\n\n<p>The sidebar box on the right named \"QXL Aktuelt\" loads its HTML content from an external file using Ajax <code>load()</code>, then triggers a custom jQuery event (\"<code>aktuelt_loaded</code>\") that starts a carousel script (like a scrolling newsticker).</p>\n\n<p>Several other content sections on the same page are loaded through Ajax and they work just fine, so I'm wondering what's going wrong. Everything works as expected in Firefox 3.6 and IE8, but not in IE8's compatibility mode.</p>\n\n<p>The script that loads the Ajax content is (inline on the page):</p>\n\n<pre><code>&lt;div id=\"qxlaktueltHolder\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(\"#qxlaktueltHolder\").load(\"/contents/dk/modul/qxlaktuelt/qxlaktuelt.htm\", function() {\n        $(\"#qxlaktueltHolder\").trigger(\"qxlaktuelt_loaded\", []);\n    });\n&lt;/script&gt;\n&lt;script type='text/javascript' src='http://www.qxl.dk/contents/dk/js/jcarousellite_1.0.1.min.js'&gt;&lt;/script&gt;\n&lt;script type='text/javascript' src='http://www.qxl.dk/contents/dk/js/qxlaktuelt_liveload.js'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The external script that responds to the event is in the following file:</p>\n\n<p><a href=\"http://www.qxl.dk/contents/dk/js/qxlaktuelt_liveload.js\" rel=\"nofollow\">http://www.qxl.dk/contents/dk/js/qxlaktuelt_liveload.js</a></p>\n\n<p>All ideas are very welcome.</p>\n"},{"tags":["jquery","html","ajax","json"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13080629,"title":"Using Jquery how can I add a HTML element based on JSON result","body":"<p>This is currently what I have if my Json object returns true then I add class error_back to #message else add class success_back.  This works correctly, but now I want to add a button so  I tried this: </p>\n\n<p><strong>Invalid Code</strong></p>\n\n<pre><code> $('#message').append((data.error === true) ? \n '&lt;input type='submit' name='submit' class='button' id='submit_btn' value='Go back' /&gt;' : '' ); \n</code></pre>\n\n<p><strong>Works correctly :</strong></p>\n\n<pre><code> $('#message').removeClass().addClass((data.error === true) ? 'error_back' : 'success_back').text(data.msg);\n</code></pre>\n\n<p>What is the correct way to add a button?</p>\n"},{"tags":["php","javascript","jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13079514,"title":"Getting the same content when refreshing a page after filtering some data with ajax","body":"<p>Here is my situation:</p>\n\n<p>In the center of the page, i have the content dir: <code>&lt;div id=\"content\"&gt;&lt;/div&gt;</code></p>\n\n<p>In the right side of the page, i have a <code>&lt;form method=\"post\" action=\"?p=search\"&gt;</code> with some input fields and a submit button: <code>&lt;input type=\"submit\" id=\"searchButton\" /&gt;</code>.</p>\n\n<p>I'm doing an AJAX request when submitting the form to the <code>index.php</code>, just because the index loads all my environment and then it includes the <code>search.php</code> and exits.</p>\n\n<p>The <code>search.php</code> file returns with <strong>json</strong> an array returned by a query sent to the database.</p>\n\n<p>With this return, when the request ends, i update my content div with the data.</p>\n\n<p>But i didn't realize that, if i just reload the page, without clicking in the search button, all my search goes away, it just returns the main content query made by the default page..</p>\n\n<p>How can i fix it? Is there a good practice for that?</p>\n\n<p>Thanks, thanks and thanks.</p>\n"},{"tags":["ajax","jsp","button"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13071913,"title":"JSP button: how to make a button execute a specific request?","body":"<p>I am writting a code that hasthe following:</p>\n\n<pre><code> if request.getParameter(\"submit\"== null)\n {\n      //some jsp code here\n\n\n\n\n  &lt;input type=\"button\" value=\"execute!\" name=\"submit\"onClick=\"if(runOnSubmit()   \n  {getSomethingWithAjax('Portal.jsp'+getAllFormElementsAndMakeIntoUR(true)\n  ,'','hereIsTheMainHeaderSpan',false,false);}\"&gt; \n }//end if    \n else //if submited\n     {\n\n       if request.getparameter(\"one\")!=null)\n          //some block here\n\n       else// two:second process\n          //some block here\n\n     }\n</code></pre>\n\n<p>Basically I have two different processes that I want to execute, one after another: the first is:one the second is the else(two).\nI wonder how I can use or combine the button below in a way that it will post on portal.jsp just like I did in the first button?</p>\n\n<pre><code>      &lt;input type=\"button\" name=\"submit\" value=\"submit\" onlick=\"makeThisThat\n      ('one','two'))\"&gt; \n</code></pre>\n"},{"tags":["php","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":13061495,"title":"PHP Simultaneous Process","body":"<p>I have created a dashboard for my application with multiple widgets. Each widget having its own corresponding functions. During the initial load of the dashboard all widgets are calling their own functions through $(document).ready() with ajax. The problem with this scenario is at a time only one function is executed and only after successful execution of first function second one executed, like wise all remaining functions are executed. If am having 10 widgets then all are displayed one after another. </p>\n\n<p>I need to execute all functions simultaneously based on their execution time. What i mean is one widget should not wait for the completion of other widget to finish but has to process and display the results simultaneously as and when its function completes its process.</p>\n"},{"tags":["javascript","jquery","ajax","load","getscript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13079647,"title":"How to get javascript in main page to append to elements in ajax loaded div using jquery?","body":"<p>I'm using the jquery load function to switch out a div. Whenever I load a certain element via ajax that needs javascript to run -it won't work in the div. I know that this is because the element didn't exist in the dom on the initial page load. </p>\n\n<p>I've googled for days and haven't found an answer that can give me an easy to understand explanation. Essentiallly, I'm told to just use <code>.on</code> or <code>$getScript</code>. </p>\n\n<p>However, this doesn't seem to be the appropriate answer. \nSince, each element loaded in the div has similar properties -I simply want to load the jquery library, and the same two external scripts in my index page's head section -and then make sure that those scripts stay \"live\" or append to the simple html content that is being externally loaded in the div via ajax. </p>\n\n<p>So, for example, if <code>page 1</code> has a div named bouncingcats, and <code>page 2</code> has a div named bouncingdogs -that both require an external javascript named 'bounce' -I want to load the javascript file 'bounce' ONE TIME in the head section of my index page -and then dynamically swap out the div named bouncinganimals on my index page with either cats or dogs. </p>\n\n<p>So far, it seems as if the only advice I'm getting is to just put the jquery library AND the <em><code>bounce.js</code></em> file at the end of <code>page 1</code> and at the end of <code>page 2</code>. This, of course works -but it seems too redundant and of course slows down the ajax load. </p>\n\n<p>Do you know of a way in which I could just load the jquery library and the external javascript page in my index page head once, and have them run when I load content via ajax into my div?</p>\n\n<p>An issue that I have is that I didn't write the script <code>bounce.js</code> myself -and it is already minimized -so changing the script could prove to be extremely difficult. Is there something I can just wrap around the external javascript links themselves?</p>\n"},{"tags":["php","mysql","ajax","performance","query"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13079933,"title":"Many datbase calls that load less data or fewer database calls that load more data?","body":"<p>I have a website I'm working on that loads 8 rows of data by making an ajax call to a php content loader that calls my database each time the user hits a next button to load the new content.</p>\n\n<p>This method works very fast for me right now as a single user of the site. </p>\n\n<p>My question is though, if I have many users on the site, would it be better to load the next 16,32, etc rows of data up front when they hit next or keep the way it is now by loading in 8 rows each time they hit next? Does it matter?</p>\n"},{"tags":["ruby-on-rails","ajax","comet","long-polling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13079741,"title":"Give me a sample on Long-polling(Comet) with Rails?","body":"<p>Recently I am studying ajax. I'm curious about Long-polling. I know simple polling ,and I have  make a demo (send a request every 5 seconds.).But Long-polling ,There is a pivotal step that Server-Side can suspend the request until the data update . <strong>So I wannt know how to suspend the request??</strong> \nI am a Front-End developer . I'm poor about Server-Side. Just know basic Rails only.I find some samples but they all use PHP or JAVA....\nAnybody can give me a demo that use Long-polling with Rails? </p>\n"},{"tags":["php","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13079057,"title":"It is not displaying related modules in the drop down menu","body":"<p>I am trying to set up 2 drop down menus, one for \"Course\" and the others for the related \"Modules\" with the course chosen.</p>\n\n<p>Now the \"Course\" drop down menu works fine. The problem is the \"Modules\" drop down menu. If I select a course from the \"Course\" drop down menu, then it should display the modules related to the selected course in the \"Modules\" drop down menu. But instead it is only displaying the \"Please Select\" option for the \"Modules\" drop down menu, nothing else.</p>\n\n<p>How can I get the related modules to appear in the \"Modules\" drop down menu?</p>\n\n<p>Below is the code where it displays the \"Course\" drop down menu and the set up for the \"Modules\" drop down menu, it contains a jquery where it links to the \"module.php\" file where it will find and list the related modules as options in the \"Module\" drop down menu.</p>\n\n<pre><code>&lt;?php\n\n// connect to the database\ninclude('connect.php');\n\n/* check connection */\nif (mysqli_connect_errno()) {\nprintf(\"Connect failed: %s\\n\", mysqli_connect_error());\ndie();\n}\n\n$sql = \"SELECT CourseId, CourseName FROM Course\"; \n\n$sqlstmt=$mysqli-&gt;prepare($sql);\n\n$sqlstmt-&gt;execute(); \n\n$sqlstmt-&gt;bind_result($dbCourseId, $dbCourseName);\n\n$courses = array(); // easier if you don't use generic names for data \n\n$courseHTML = \"\";  \n$courseHTML .= '&lt;select name=\"courses\" id=\"coursesDrop\" onchange=\"getModules();\"&gt;'.PHP_EOL; \n$courseHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n\nwhile($sqlstmt-&gt;fetch()) \n{ \n$course = $dbCourseId;\n$coursename = $dbCourseName; \n$courseHTML .= \"&lt;option value='\".$course.\"'&gt;\" . $course . \" - \" . $coursename . \"&lt;/option&gt;\".PHP_EOL;  \n} \n\n$courseHTML .= '&lt;/select&gt;'; \n$courseHTML .= '&lt;/form&gt;'; \n\n$moduleHTML = \"\";  \n$moduleHTML .= '&lt;select name=\"modules\" id=\"modulesDrop\"&gt;'.PHP_EOL; \n$moduleHTML .= '&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'.PHP_EOL;  \n$moduleHTML .= '&lt;/select&gt;'; \n\n\n?&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction getModules() { \nvar course = jQuery(\"#CoursesDrop\").val(); \njQuery('#modulesDrop').empty(); \njQuery('#modulesDrop').html('&lt;option value=\"\"&gt;Please Select&lt;/option&gt;'); \njQuery.ajax({ \ntype: \"post\", \nurl:  \"module.php\", \ndata: { course:course }, \nsuccess: function(response){ \njQuery('#modulesDrop').append(response); \n} \n}); \n\n\n}\n\n&lt;/script&gt; \n</code></pre>\n\n<p>Below is the module.php page:</p>\n\n<pre><code>&lt;?php\n\n     // connect to the database\n include('connect.php');\n\n /* check connection */\n if (mysqli_connect_errno()) {\nprintf(\"Connect failed: %s\\n\", mysqli_connect_error());\ndie();\n}\n\n\n$course = isset($_POST['course']) ? $_POST['course'] : ''; \n\n$sql = \"\nSELECT cm.CourseId, cm.ModuleId, \nc.CourseName,\nm.ModuleName\nFROM Course c\nINNER JOIN Course_Module cm ON c.CourseId = cm.CourseId\nJOIN Module m ON cm.ModuleId = m.ModuleId\nWHERE\n(c.CourseId = ?)\nORDER BY c.CourseName, m.ModuleId\n\"; \n\n $sqlstmt=$mysqli-&gt;prepare($sql);\n\n $sqlstmt-&gt;bind_param(\"s\",$course);\n\n $sqlstmt-&gt;execute(); \n\n $sqlstmt-&gt;bind_result($dbCourseId,$dbModuleId,$dbCourseName,$dbModuleName);\n\n\n$moduleHTML  = \"\";  \n\n while($sqlstmt-&gt;fetch()) { \n    $moduleHTML .= \"&lt;option value='$dbModuleId'&gt;\" . $dbModuleId . \"&lt;/option&gt;\".PHP_EOL;   \n} \n\n\necho $moduleHTML; \n\n $sqlstmt-&gt;execute(); \n\n\n?&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","internet-explorer","jquery-ui","jquery-ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":932,"score":2,"question_id":6934736,"title":"jqueryui dialog does not open until ajax call completes (IE only)","body":"<p>I have a web application where on the click of a button a bunch of work gets done on the server.  This work is initiated by an ajax call and preceeding that call I display a jquery ui dialog that contains an animated gif to let the user know stuff is happening.  Once the work is complete the ajax call returns and the dialog is closed.  The problem I am having is that in IE 7/8 the dialog never opens.  If I remove the code that closes the dialog from the callback then the dialog is displayed after the call completes which is not so helpful.</p>\n\n<p>Here is the definition of my dialog:</p>\n\n<pre><code>$(\"#dgImporting\").dialog({\n    autoOpen: false,\n    width: 250,\n    height: 125,\n    modal: true,\n    resizable: false,\n    position: 'center',\n    closeOnEscape: false,\n    open: function (event, ui) { $(\".ui-dialog-titlebar-close\").hide(); }\n});\n</code></pre>\n\n<p>And here is the method I am using to execute my ajax call:</p>\n\n<pre><code>function executeImport(importData) {\nimportData.carriers = JSON.stringify(selectedCarriers);\n$(\"#dgImporting\").dialog(\"open\");\n$.ajax({\n    type: \"POST\",\n    traditional: true,\n    url: \"import/execute\",\n    async: false,\n    data: JSON.stringify(importData),\n    dataType: \"json\",\n    contentType: \"application/json; charset=utf-8\",\n    success: function (data) {\n        $(\"#dgImporting\").dialog(\"close\");\n    }\n});\n</code></pre>\n\n<p>The ajax call may take up to a minute to return but with this configuration I never see the dialog box.  If I remove (\"#dgImporting\").dialog(\"close\"); from the callback then I will see the dialog but not until after the ajax call completes, eventhough I call dialog(\"open\") prior to making the ajax call.</p>\n\n<p>In Firefox and Chrome this works as expected but I really need to make it work in IE.  Any JavaScript gurus out there have any ideas what I can do?</p>\n"},{"tags":["javascript","ajax","google-chrome-extension","content-script"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":5141499,"title":"Contentscript not running on AJAX intense pages?","body":"<p>I'm developing a Chrome extension and I've noticed that my extensions contentscript doesn't appear to run if the page I'm dealing with has a large amount of AJAX on it. For example Gmail / Google Doc's... Why is this? Does anyone know of a work around?</p>\n"},{"tags":["php","ajax","cookies"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13078379,"title":"Cookie based poll using PHP and AJAX","body":"<p>On my website, I have a poll. It's cookie based poll. If a user votes, I create a cookie with the current poll, so he can't vote until a new poll is created. I know that the users can delete the cookies and vote again, but that is not the problem here.</p>\n\n<p>I have a ajax.php page that handles the ajax post. Here is the code:</p>\n\n<pre><code>if(isset($_COOKIE['poll_id']) &amp;&amp; $_COOKIE['poll_id'] == $poll_id)\n{\n// print message that it is already voted, show the results...\n}\nelse\n{\n// update the database and create a cookie\n}\n</code></pre>\n\n<p>This code works OK if the the voting is made on button click. But, I started a javascript in Firebug that is doing this:</p>\n\n<pre><code>for(var i=0;i&lt;100;i++) {\n    jQuery.post('ajax.php', {\n        //post parameters\n    });\n}\n</code></pre>\n\n<p>And I get 100 votes. If i run the script again, it fails, because a cookie is created, but it seems that if I make a 100 simultaneous requests, the check fails, because I guess the system doesn't have the time to create the cookie in time, so all the updates goes through.</p>\n\n<p>Any suggestions on how to solve this?</p>\n"},{"tags":["ajax","forms"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13079047,"title":"ajax form process then page submit after 3-5 seconds","body":"<pre><code> $(\"#sub\").click( function() {\n $.post( $(\"#added_user\").attr(\"action\"),\n     $(\"#added_user :input\").serializeArray(),\n     function(info){ $(\"#result\").html(info);\n });\n clearInput();\n });\n\n&lt;code&gt;$(\"#added_user\").submit( function() {\n  return false;\n});\n&lt;/code&gt;\nfunction clearInput() {\n    $(\"#added_user :input\").each( function() {\n       $(this).val('');\n    });\n}\n</code></pre>\n\n<p>I can't seem to figure out how to get the page to refresh with out going to the insert php page. I want it to show the result div then after 3-5 seconds to refresh the page so you can see what you added.</p>\n\n<p>TIA</p>\n"},{"tags":["php","ajax","twitter"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":13069609,"title":"auto-refreshing dynamic content using ajax from self post form","body":"<p>I need to auto refresh the content of a page once a form has been submitted. The content is a search for hashtags and it needs it to update every x seconds. The bit I am struggling with is, is my form submits to itself so everything is handled on the same page. So I need to preserve the users search string when the content is refreshed so it displays the results and any new ones that been found.</p>\n\n<p>Pretty much the same in principle as <a href=\"http://gigatweeter.com/\" rel=\"nofollow\">http://gigatweeter.com/</a></p>\n\n<p>This is the code I have been using.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar auto_refresh = setInterval(\nfunction ()\n{\n$('#load_page').load('twitter.php').fadeIn(\"slow\");\n}, 10000); // will auto refresh every 10 seconds\n&lt;/script&gt;\n</code></pre>\n\n<p>I cant find any support or threads into how to do this if the the page submits to itself\n so any help would be appreciated.</p>\n\n<p>Could I call the php at the top of the page to start again perhaps?</p>\n"},{"tags":["jquery","ajax","http-post"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3133,"score":2,"question_id":6818939,"title":"jQuery post respond with readyState:0, status:0","body":"<p>all. I am using a jquery version 1.6.2.\nI do a ajax call like this:</p>\n\n<pre><code>  var jqxhr = $j.post(myPHP, function() {\n          alert(\"success\");\n        })\n        .success(function() { alert(\"second success\"); })\n        .error(function(data) { alert(JSON.stringify(data)); })\n        .complete(function() { alert(\"complete\"); });\n</code></pre>\n\n<p>The script, run, and show error, than, complete. Some people may thing that...myPHP have some problem, but the myPHP is always show:</p>\n\n<pre><code>{\"sayHi\":\"hihi\"}\n</code></pre>\n\n<p>So, I go to firebugs to check whether the link have any problem, when I called..:\nIt show me the POST url with status 200, which is ok. Also, I can see the respond via firebugs....\nBut the question is ....why the jquery so me have a error...:\nAnd here is the error msg:</p>\n\n<pre><code>{\"readyState\":0,\"responseText\":\"\",\"status\":0,\"statusText\":\"error\"}\n</code></pre>\n"},{"tags":["ajax","twitter-bootstrap","modal-dialog"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13077678,"title":"How to initialize Bootstrap handlers after Ajax addition?","body":"<p>I have a page that collects a set of user comments on the contents of that page.  New comments are added to the page by clicking a button and filling out a form that appears via a Bootstrap modal.  The results are then inserted into the page via ajax.  This is all working fine.</p>\n\n<p>The \"results\" that are added to the page include another Bootstrap button/link, which looks something like this:</p>\n\n<pre><code>&lt;a tabindex='-1' href='#' class='ajax-modal btn btn-small' \n      data-target='modal_my-modal' data-backdrop='true' \n      data-controls-modal='res-modal' data-keyboard='true' \n      url='/somewhere'&gt;Click me&lt;/a&gt;\n</code></pre>\n\n<p>The link looks and behaves like a button (thanks, Bootstrap!), but, when clicked, doesn't trigger the modal like it's supposed to.  However, if I refresh the page in the browser so that this comment, along with the others on the page, are redrawn, the button/link now works fine.</p>\n\n<p>Since the button works when the page is redrawn, I'm assuming that there is some Bootstrap initialization code that runs when the page loads and sets up all the links to do their stuff, and that I need to call this after adding my new button to the page.  Is this correct, and, if so, what should I be calling to get the link properly initialized?  Thanks!</p>\n"},{"tags":["php","xml","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13077743,"title":"PHP/AJAX posts limit per page","body":"<p>so I started developing a blog for myself, and I came to the first setback.\nI want  to replace the posts that this function returns with ajax with the next 10. I know javascript quite well but I don't know so much about ajax (all I know that it sends a request to the server where the results are posted back, and then you can replace the data with the new data on your site)</p>\n\n<pre><code>function get_posts($i = 0,$max = 10) {\nglobal $con;\n$query = 'SELECT * FROM post';\n$result = mysqli_query($con, $query);\n$rows = mysqli_num_rows($result);\nfor (;$i &lt; $rows&amp;&amp;$i &lt; $max;$i++) {\n    $row_res=mysqli_fetch_array($result);\n    printf(\"&lt;h1&gt;%s&lt;/h1&gt;&lt;p class='user'&gt;Posted By: %s&lt;/p&gt;\n            &lt;p class='date'&gt;%s&lt;/p&gt;\n            &lt;p&gt;%s&lt;/p&gt;\", \n            $row_res[\"title\"],$row_res[\"user\"],$row_res[\"date\"],$row_res[\"content\"]);\n}\n}\n</code></pre>\n\n<p>this returns well. I made links that execute an AJAX function that should return the next ten. this is the function:</p>\n\n<pre><code>function func1() {\n var xmlhttp;\n if (window.XMLHttpRequest) {\n xmlhttp=new XMLHttpRequest();\n }\n\nxmlhttp.onreadystatechange=function() {\n if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n   document.getElementById(\"test\").innerHTML=xmlhttp.responseText;\n }\n}\nxmlhttp.open(\"GET\",\"connect.php?func=1\",true);\nxmlhttp.send();\n</code></pre>\n\n<p>}\nThe connect.php?func=1 points to an if that executes the get_posts() function with new args. but it doesn't show anything or it shows the first post at the top of the page and another first post in the content section.</p>\n"},{"tags":["java","jquery","ajax","json","struts2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":13010111,"title":"Uploading a CSV file and display preview in datagrid","body":"<p>I want to upload a csv file asynchronously to backend and display the preview data in same page without refreshing/reloading the page. So I want to do it using AJAX.</p>\n\n<p>I am wondering how can we do this using Ajax and Jquery. I am using struts2. Is there any plug-ins available for struts2?</p>\n\n<p>Any help on this regard is really appreciated.</p>\n"},{"tags":["php","ajax","apache","permissions"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13075936,"title":"Mac and Apache: permission to chmod -R g+rx and still Forbidden","body":"<p>I'm trying to send with Ajax (method <code>GET</code>) some data to <code>/root/Site/test/index.php</code> building the link as follows:</p>\n\n<pre><code>/root/Site/test/index.php/section/option/value\n</code></pre>\n\n<p>But I get this message from the server:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;403 Forbidden&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Forbidden&lt;/h1&gt;\n&lt;p&gt;You don't have permission to access /root/Site/test/index.php/section/option/value\non this server.&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\nForbidden\n</code></pre>\n\n<p>Following what I've read, I have set the permissions of both the <code>test</code> folder and after even of the <code>Site</code> to <code>sudo chmod -R g+rx</code> (I've tried also without <code>sudo</code>), but I still get the error.\nWhy?!</p>\n"},{"tags":["javascript","ajax","jquery-ajax","authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13077308,"title":"Authenticated JavaScript AJAX Requests","body":"<p>I'm developing a mobile application that requires users to login, and then they can use the application.  The application will submit data to the server upon submission.  Here's my question:  if I want the application to be available to users even when there is no internet connection, I will allow them to bypass the login screen and use the application without logging in.  However, once an internet connection is available, and the application knows that, and tries to submit the information to the server (through jQuery AJAX), how do I validate the request?  It seems like if someone really wanted to, they could set up their own web page and submit their own [fictitious] data to my server using the same AJAX URL and data format that my application is using.  What would stop them?  How do I ensure on my server side (receiving end of the AJAX request) that the only data coming in belongs to my application, and not someone who is simply mimicking my AJAX requests?  </p>\n\n<p>The only thing I can think of is when the application detects that the internet connection is back, immediately show the user the login screen, and then use an expiring cookie/ticket to validate the AJAX requests.</p>\n\n<p>Any advice?  Thanks!</p>\n"},{"tags":["jquery","html","ajax","coldfusion","cfc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":536,"score":0,"question_id":8524456,"title":"$.ajax Call to ColdFusion Component Outputs Text Not HTML","body":"<p>I apologize in advance if this was already answered.</p>\n\n<p>My goal is to create a pagination scheme that sends variables to a query in a ColdFusion function that grabs X number of elements and displays those records on my web page without refreshing it.  So in an attempt to test the basic function of grabbing HTML content and displaying it to the screen without refreshing, I am trying to execute a simple AJAX call to a ColdFusion component, having it return a variable with HTML content, and display the formatted HTML inside a div tag on my web page.  This is based on a previous example I saw on the web where it used a cfajaxproxy instead, and while that could be my problem, I'm amazed that it's simply not doing what it's supposed to.</p>\n\n<p>I have a file called testGeneration.cfm and here is the code:</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n    &lt;title&gt;Untitled Document&lt;/title&gt;\n\n    &lt;!-- call the jQuery library --&gt;\n    &lt;script src=\"jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n        $(document).ready(function() {\n            $(\"#loadLink\").click(function(e) {\n                e.preventDefault();\n                $.ajax({\n                    type: \"GET\",\n                    url: \"generateInfo.cfc?method=createHTML\",\n                    dataType: \"html\",\n                    success: function(message) {\n                        $(\"#mydiv\").html(message);\n                    }\n                });\n            });\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;a href=\"\" id=\"loadLink\"&gt;Load Query&lt;/a&gt;\n    &lt;!-- empty div to load dynamcically generated table into --&gt;\n    &lt;div id=\"mydiv\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>As you can see it calls the component GenerateInfo with the method CreateHTML.  Here is the code for generateInfo.cfc:</p>\n\n<pre><code>&lt;cfcomponent displayname=\"Generate HTML\" output=\"false\"&gt;\n\n&lt;cffunction name=\"createHTML\" displayname=\"Create HTML\" description=\"Creates HTML to output with jQuery.\" access=\"remote\" output=\"false\" returntype=\"string\"&gt;\n\n    &lt;!--- SET VARIABLE TO RETURN ---&gt;\n    &lt;cfset VARIABLES.html = \"\"&gt;\n\n    &lt;!--- SAVE CONTENT ---&gt;\n\n    &lt;cfsavecontent variable=\"VARIABLES.html\"&gt;\n    &lt;strong&gt;hello world&lt;/strong&gt;\n    &lt;/cfsavecontent&gt;\n    &lt;!--- RETURN SAVED CONTENT ---&gt;\n    &lt;cfreturn VARIABLES.html&gt;\n\n&lt;/cffunction&gt;\n</code></pre>\n\n<p></p>\n\n<p>Now, when I click the hyperlink, it should display the content as</p>\n\n<p><strong>hello world</strong></p>\n\n<p>Instead, it displays the content as</p>\n\n<p>&lt;strong&gt;hello world&lt;/strong&gt;</p>\n\n<p>What am I doing wrong?  How do I get it to process the HTML being sent back as a return variable in a coldfusion component function?</p>\n\n<p>Tony</p>\n"},{"tags":["javascript","ajax","firefox","firefox-addon","xmlhttprequest"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":83,"score":1,"question_id":13009096,"title":"Send request and receive response from Server in firefox extension using ajax","body":"<p>I am building a Firefox addon. I am trying to send a request to server and then get response accordingly using AJAX. The code I am using is:</p>\n\n<pre><code>$.ajax({\n   type: \"POST\",\n   url: myurl\n}).done(function( data ) {\n   alert( data )                    \n});\n</code></pre>\n\n<p>But I am not able to get the response. My request is reaching the server but I am not getting the response. I am rendering my data as JSON on the server.</p>\n\n<p>I have tried different methods like simple ajax call, <code>XMLHttpRequest</code> etc. but no  luck. This code is already working in my Chrome extension. Is there something I am missing? Are there any security issues with Firefox? Or what is the best way in Firefox to make a server call and get back the response?</p>\n"},{"tags":["jquery","ajax","django","web-services","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13075192,"title":"How to send contact form from a pure HTML/JS website to a external webservice in a Django Project?","body":"<p>I have a website with html5/javascript/css3 and I must send the contact form values to a web service in an external webservice located in a django project(with piston/rest). I have loaded the Json with the values into a Jquery/Ajax and sent to a Javascript function into the Django Project. This is the Js in the Form website:</p>\n\n<pre><code>var json = \"{\\\"nome\\\": \"+nome\n    +\", \\\"empresa\\\": \"+empresa\n    +\", \\\"email\\\": \"+email\n    +\", \\\"telefone\\\": \"+telefone\n    +\", \\\"assunto\\\": \"+assunto\n    +\", \\\"mensagem\\\": \"+mensagem\n    +\"}\";\ntry{\n    ws(\"http://127.0.0.1:8000/ws/wsname/\", json,\"POST\",\"\",\"\", \"alert(ws_returned_info)\", \"\");\n}catch(erros){\n    alert(erros.message);\n}\n</code></pre>\n\n<p>and the ws function in the Django Project works fine when it called from the self project, but in the catch it alerts \"responseText is undefined\"</p>\n\n<pre><code>function ws( p_url, p_json, p_type, p_auth, p_before, p_success, p_finally ){\n    var resposta = true;\n    preLoader.show();\n\n    dict = { url: p_url,\n             beforeSend: function(request){\n                            request.setRequestHeader('Authorization', \"*\" );\n                            request.setRequestHeader('Access-Control-Allow-Origin', '*' );\n                            eval(p_before);\n                         },\n             cache: false,\n             type: p_type,\n             data: p_json,\n             async: false,\n             contentType: 'application/json; charset=utf-8',\n             processData: false,\n             dataType: 'json',\n             success: function(json, textStatus){\n                        eval(p_success);\n                      },\n             error: function(XMLHttpRequest, textStatus, errorThrown){\n                        erros(XMLHttpRequest.responseText);\n                        resposta = false;\n                      }\n            };\n\n    $.ajax(dict);\n\n    preLoader.fadeOut(\"fast\");\n    eval(p_finally);\n\n    return resposta;\n};\n</code></pre>\n"},{"tags":["ajax","ajaxcontroltoolkit","html-editor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":753,"score":0,"question_id":11383474,"title":"AjaxControlToolKit Htmleditorextender, image not uploading and not showing in editor preview","body":"<p>I added Htmleditorextender to my webapplication but i am not able to set path of where on the server the image will be uploaded i dont know how to set that path and configure image uploader, now when i try to upload and add image to editor in IE-10 it stops working and freezes showing no progress in upload and in firefox it finishes uploading to 100% but image is not uploaded to debug server and not shown in editor how can i configure this image facility. please help my project is pending.</p>\n\n<p>this is my code.</p>\n\n<pre><code>protected void ajaxFileUpload_OnUploadComplete(object sender,  AjaxControlToolkit.AjaxFileUploadEventArgs e)\n    {\n        hee.AjaxFileUpload.SaveAs(@\"~\\Container\\temp\\\" + e.FileName);\n        e.PostedUrl = Page.ResolveUrl(@\"~\\Container\\temp\\\" + e.FileName);\n    }\n</code></pre>\n\n<p>aspx code:</p>\n\n<pre><code>&lt;asp:TextBox\n    ID=\"txtComments\"\n    TextMode=\"MultiLine\"\n    Columns=\"100\"\n    Rows=\"40\"\n    Runat=\"server\" /&gt;\n&lt;ajaxToolkit:HtmlEditorExtender ID=\"hee\" OnImageUploadComplete=\"ajaxFileUpload_OnUploadComplete\" TargetControlID=\"txtComments\" DisplaySourceTab=\"true\" EnableSanitization=\"true\" Runat=\"server\" &gt;\n    &lt;Toolbar&gt; \n            &lt;ajaxToolkit:Undo /&gt;\n            &lt;ajaxToolkit:Redo /&gt;\n            &lt;ajaxToolkit:Bold /&gt;\n            &lt;ajaxToolkit:Italic /&gt;\n            &lt;ajaxToolkit:Underline /&gt;\n            &lt;ajaxToolkit:StrikeThrough /&gt;\n            &lt;ajaxToolkit:Subscript /&gt;\n            &lt;ajaxToolkit:Superscript /&gt;\n            &lt;ajaxToolkit:JustifyLeft /&gt;\n            &lt;ajaxToolkit:JustifyCenter /&gt;\n            &lt;ajaxToolkit:JustifyRight /&gt;\n            &lt;ajaxToolkit:JustifyFull /&gt;\n            &lt;ajaxToolkit:InsertOrderedList /&gt;\n            &lt;ajaxToolkit:InsertUnorderedList /&gt;\n            &lt;ajaxToolkit:CreateLink /&gt;\n            &lt;ajaxToolkit:UnLink /&gt;\n            &lt;ajaxToolkit:RemoveFormat /&gt;\n            &lt;ajaxToolkit:SelectAll /&gt;\n            &lt;ajaxToolkit:UnSelect /&gt;\n            &lt;ajaxToolkit:Delete /&gt;\n            &lt;ajaxToolkit:Cut /&gt;\n            &lt;ajaxToolkit:Copy /&gt;\n            &lt;ajaxToolkit:Paste /&gt;\n            &lt;ajaxToolkit:BackgroundColorSelector /&gt;\n            &lt;ajaxToolkit:ForeColorSelector /&gt;\n            &lt;ajaxToolkit:FontNameSelector /&gt;\n            &lt;ajaxToolkit:FontSizeSelector /&gt;\n            &lt;ajaxToolkit:Indent /&gt;\n            &lt;ajaxToolkit:Outdent /&gt;\n            &lt;ajaxToolkit:InsertHorizontalRule /&gt;\n            &lt;ajaxToolkit:HorizontalSeparator /&gt;\n            &lt;ajaxToolkit:InsertImage /&gt;\n        &lt;/Toolbar&gt;\n    &lt;/ajaxToolkit:HtmlEditorExtender&gt;\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13074568,"title":"How to prevent multiple loading PHP script calling JS ​​script?","body":"<p>I created a simple voting system (+ and -) on Ajax for users comments. One page have 50 posted comments and you can vote for each \"plus\" or \"minus\". This data sent through the PHP script to the database. However, if a user votes, the PHP script is called 50 times - it is visible in Chrome developer tool. There are errors - more value than expected. Here is my code (two DIV buttons and the script). </p>\n\n<p>Tell me please how to change the code to the script (up_vote.php or down_vote.php) is called only once.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"raitings/jquery.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;$(function() {$(\".vote\").click(function() {\n\nvar id = $(this).attr(\"id\");\nvar name = $(this).attr(\"name\");\nvar dataString = 'id='+ id ;\nvar parent = $(this);\n\nif(name=='down')\n{\n$(this).fadeIn(200).html('&lt;img src=\"raitings/dot.gif\" align=\"absmiddle\"&gt;');\n$.ajax({type: \"POST\", url: \"raitings/down_vote.php\", data: dataString, dataType : \"html\", cache: false, success: function(html)\n   { parent.html(html);}\n });\n}\nelse\n{\n$(this).fadeIn(200).html('&lt;img src=\"raitings/dot.gif\" align=\"absmiddle\"&gt;');\n$.ajax({type: \"POST\", url: \"raitings/up_vote.php\", data: dataString, dataType : \"html\", cache: false, success: function(html)\n   { parent.html(html);\n  }  });\n}\nreturn false;\n    });\n});\n&lt;/script&gt;\n\n//php code below;\necho \"&lt;div class=\\\"box1\\\"&gt;&lt;div class=\\\"up\\\"&gt;&lt;a href=\\\"#\\\" class=\\\"vote\\\" title=\\\"+ 1\\\" alt=\\\"+ 1\\\" id=\".$row[\"id\"].\" name=\\\"up\\\"&gt;\".$up.\"&lt;/a&gt;&lt;/div&gt;\"\n.\"&lt;div class=\\\"down\\\"&gt;&lt;a href=\\\"#\\\" class=\\\"vote\\\" title=\\\"- 1\\\" alt=\\\"- 1\\\"  id=\".$row[\"id\"].\" name=\\\"down\\\"&gt;\".$down.\"&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;\\n\";\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","callback","return"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":63,"score":1,"question_id":13075767,"title":"Wait for one function to return a value before proceeding to the rest of the other function's commands","body":"<p>I am combining some animations in jquery with some ajax loading - From function A, I want to be able to call function B to fade out the current content, and once that animation is done, return to run the rest of the code in function A. Is this possible? I'm picturing something like this:</p>\n\n<pre><code>function buttonClicked(){\n  if(sectionHidden != true){\n    hideSection($sectionRef);\n  }\n  //RUN THE FOLLOWING AFTER HIDE SECTION HAS FINISHED (FUNCTION B)\n  loadSection();\n}\n\nfunction hideSection($sectionRef){\n  $sectionRef.fadeTo(500,0,function(){\n    return someValue;\n  });\n}\n</code></pre>\n\n<p>Because of some other complexities in my code (multiple functions calling hideSection), I can't call loadSection from hideSection.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":13074538,"title":"PHP Not Getting POST Params","body":"<p>Javascript</p>\n\n<pre><code>req.open('POST', 'mail.php', true);\nreq.send(\"foo=bar\");\n</code></pre>\n\n<p>PHP</p>\n\n<pre><code>$foo = $_POST[\"foo\"];\n</code></pre>\n\n<p>If I check <code>file_get_contents('php://input')</code>, the post values are there, but not in the superglobal <code>$_POST</code>. Do I have to parse this myself, or am I missing something that would make <code>$_POST</code> work?</p>\n\n<p>EDIT:\nI tried both, and got the same results:</p>\n\n<pre><code>req.setRequestHeader('Content-Type', 'multipart/form-data');\nreq.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n</code></pre>\n\n<p>I also tried <code>$_REQUEST</code> with no luck. The PHP actually runs to completion. Everything works, it's just not populating <code>$_POST</code>. I can even get <code>req.responseText</code>, no problem.</p>\n\n<p>Since <code>file_get_contents('php://input')</code> actually has the values, I'm going to try passing a large string with delimiters in it (like <code>foo|bar</code>), and then do an <code>explode()</code> on it. However, I'd still like to know why it's broken.</p>\n"},{"tags":["java","ajax","eclipse","rcp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13036527,"title":"Ajax in Eclipse RCP","body":"<p>Is there a way to use any AJAX like components in an Eclipse RCP application though without migrating to a RAP platform? If migration is the only way, is there any tool/wizard that will help the application to be converted from RCP to RAP platform?</p>\n\n<p>Any pointers will be of great help.</p>\n\n<p>Thanks\nAjai G</p>\n"},{"tags":["jquery","ajax","django","amazon-s3","css-sprites"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13074745,"title":"Creating Sprite image with items from static folder in AWS","body":"<p>I have a static folder with images in an AWS Server and I need to create (and update) a sprite image every time when I send a Image to the server(via FTP), and save it's positions in JSON to send to a web service. Actually, I load these images with Ajax called with Jquery in a Django Project, who works usually in Internet Explorer and because this, it loads slowly and some imagens dont load always, and the user need to refresh the page. Anyone have a suggestion how to create the sprite?</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13074511,"title":"opening other URL in php in order to print it while user sees sth completelly else (printing in background)","body":"<p>Maybe you can help me in this.</p>\n\n<p>I have a welcome screen that say \"enter the code\". User enters is, and he gets message (another page) saying \"please wait\". On this level the system is checking if the code is valid. Here starts the problem.</p>\n\n<p>Code goes to completelly different page with php script. The script returns answear and if the code is ok it displays the result that should be printed (for example proper chart). BUT the user should not see this chart on the screen. He only should see \"please wait\" page, and then \"your stuff was printed\" page or \"sorry chart is not ready yet, or the code is wrong\" page...</p>\n\n<p>So basicly not only pages should have some kind of communication, but also invisible URL print in the background should be started.</p>\n\n<p>For the moment I have no idea how to solve this using php/javascript/ajax and what is avaiable for web.</p>\n\n<p>I would really appreciate help. Thanx in advance.</p>\n"},{"tags":["jquery","ajax","dom","refresh"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13073737,"title":"DOM modyfication after jQuery load() code injection","body":"<p>into DIV:</p>\n\n<pre><code>&lt;div id=\"materialcolor\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I must incject this dynamically generated code:</p>\n\n<pre><code>&lt;select class=\"groupsmaterialcolorsDDs\" name=\"group_6\" id=\"group_6\" onchange=\"putLayer(document.getElementById(this.id).value);\"&gt;\n\n    &lt;option id=\"futura_perspective_merita_aubergine.jpg\" value=\"76\" selected=\"selected\" title=\"Aubergine\"&gt;Aubergine&lt;/option&gt;\n\n    &lt;option id=\"futura_perspective_merita_bordeaux.jpg\" value=\"100\" selected=\"selected\" title=\"Bordeaux\"&gt;Bordeaux&lt;/option&gt;\n\n&lt;/select&gt;\n</code></pre>\n\n<p>I do this via jQuery's load() funcion from other location:</p>\n\n<pre><code>/ajaxcreator.php?product_id=14\n</code></pre>\n\n<p>Before AJAX's request the function putLayer() in select's onchane parameter works (It's changing the other DOM's elements - put a background from ids of this select). After AJAX Request - not.</p>\n\n<p>I probably must refresh the DOM elements to try again modyfi them. How can I do this?</p>\n"},{"tags":["jquery","html","ruby-on-rails","ajax","erb"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13070429,"title":"HTML class not responding to jQuery action after using js.erb to render page after AJAX call Rails app","body":"<p>I am writing an app that has follow functionality and this is done with a AJAX call to the controller. After that call I render the opposite button of the one that was clicked using js.erb that renders the button I want to show. However, I have a hover functionality on my button that after I click this button, the hover no longer works. It is the right class of button but the jQuery I use to change the state of the button does not work.</p>\n\n<p>Here is some code, my jQuery:</p>\n\n<pre><code>unfollow_button = $(\".unfollow-button\");\nunfollow_button.hover(\n    function(){\n        $(this).addClass(\"btn-danger\");\n        $(this).text(\"Unfollow\");\n    }, \n    function () {\n        $(this).removeClass(\"btn-danger\");\n        $(this).text(\"Following\");\n    }\n);\n</code></pre>\n\n<p>This is my view:</p>\n\n<pre><code>&lt;% if current_user.following?(f) %&gt;\n&lt;%= link_to \"Following\", user_unfollow_teacher_path(f), :class =&gt; \"btn unfollow-button\", :remote =&gt; true %&gt;\n&lt;% else %&gt;\n&lt;%= link_to \"Follow\", user_follow_teacher_path(f), :class =&gt; \"btn btn-primary purple-button\", :remote =&gt; true %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>And this is the js.erb file I use:</p>\n\n<pre><code>$(\"#follow_form\").html(\"&lt;%= escape_javascript(render('users/follow')) %&gt;\")\n</code></pre>\n\n<p>And this the partial that get rendered is:</p>\n\n<pre><code>&lt;%= link_to \"Following\", user_unfollow_teacher_path(@user), :class =&gt; \"unfollow-button btn\", :remote =&gt; true %&gt;\n</code></pre>\n\n<p>The jQuery works fine when I click unfollow, then after I follow again and have the button set to the unfollow-button the hover action stops working.</p>\n\n<p>Any help would be appreciated thanks.</p>\n"},{"tags":["jquery","ajax","upload","binaryfiles","put"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":402,"score":1,"question_id":11448578,"title":"How to send binary data via JQuery Ajax PUT method","body":"<p>I am new to JQuery and\nI want to use JQuery Ajax to upload some files to server, Only in PUT method. \nwhen I send some binary file(such as gif or jpeg) to my server, upload succeed, but the content of binary data was changed(it's always bigger than original file size). \nI try to change the content-type or the type of file result, but still not work.\nAnyone knows how to fix this?  </p>\n\n<p>PS: I cannot encode the binary file's content into other form, because I cannot touch the code of server.</p>\n\n<pre><code>var reader = new FileReader();\n\nreader.onloadend = (function(Thefile) {\n\n    $.ajax({\n        url: url,\n        processData:false,\n        //contentType:\"application/octet-stream; charset=UTF-8\",\n        data: file.result,\n        type: 'PUT',\n        success : function(){console.log(\"OK!\");},\n        error : function(){console.log(\"Not OK!\");}\n    }); \n})(file);\n\nreader.readAsBinaryString(file);\n</code></pre>\n"},{"tags":["php","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13071018,"title":"fill textbox with values based on selected table cell value (ajax call & mysql)","body":"<p>I have a table which is populated by values obtained from mysql database. I want to use an ajax call function so that when I click a cell -  based on the cell value the textboxes get filled. Now the data in the textboxes will be from another table in the mysql database. </p>\n\n<p>So an example of how it would work is:</p>\n\n<p>I have one table for credentials, which shows user name and their user id.</p>\n\n<p>On the website this is shown as a table. Now when i click the a cell which has a user name. The textbox would be populated by the users say total exams taken which is obtained from exams table in the mysql. </p>\n\n<p>I am totally stumped on how to go about doing this. Please can someone help! </p>\n"},{"tags":["jquery","ruby-on-rails","ajax","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13073024,"title":"jQuery File Upload and Internet Explorer: \"script\" requested as \"html\"","body":"<p>I'm using <a href=\"https://github.com/blueimp/jQuery-File-Upload\" rel=\"nofollow\">jQuery File Upload</a> with Ruby on Rails 3</p>\n\n<pre><code>$(\".jquery-upload\").fileupload({\n    url: \"/photos\",\n    type: \"POST\",\n    dataType: \"script\" });\n</code></pre>\n\n<p>Works as supposed in Chrome and other browsers, but IE sends the request as HTML rather than JS:</p>\n\n<pre><code>Started POST \"/photos\"\nProcessing by PhotosController#create as HTML\n</code></pre>\n\n<p>Changing \"url\" to \"/photos.js\" to force JS format resulted in IE prompting to download the returned JS instead of processing it. </p>\n\n<p>How can I make IE request \"script\" and process it as JS?  </p>\n"},{"tags":["javascript","jquery","ajax","jquery-ui","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13072937,"title":"using datepicker('refresh') on ajax success and inline datepicker's beforeShowDay?","body":"<p>I'm using jquery and jquery ui 1.8.7.  I'm creating an inline datepicker when the page loads, then in my ajax success function, I'm calling $('#mydiv').datepicker('refresh'); (I'll post code below).  </p>\n\n<p>If the data has been returned from ajax (eg. on the refresh), beforeShowDay calls the highlightDays() function.  I know that I'm hitting highlightDays with the correct data twice before everything crashes to a halt and I get an error \"TypeError: Cannot read property 0 of undefined\".</p>\n\n<p>It seems like the events array is being destroyed after a certain amount of time, but I don't know enough about ajax to really say what's happening.  Can anyone point me in the right direction to fix this?</p>\n\n<pre><code>        function highlightDays(date) {\n                var day = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();\n                console.log(typeof(events)); // This will return as an object twice before throwing an the above mentioned error\n                if($.inArray(day, events) !== -1) {\n                    return new Array(true, '');\n                } else {\n                    return new Array(false, '');\n                }   \n        }    \n        function getEventData() {\n                return $.ajax({\n                    url: Drupal.settings.basePath + 'correct_path', \n                    data: search+'&amp;path='+window.location.pathname,\n                    dataType: 'json',\n                    type: 'POST',\n                    success: function(data, textStatus, jqXHR) {        \n                        // save our returned data\n                        events = new Object();\n                        events = data;\n                        $('#mydiv').datepicker(\"refresh\");\n                    }\n                });\n            }   \n\n        function createDatepicker() {\n\n            // Attach datepicker to the parent div so it returns as \n            // inline.\n            $('#mydiv').datepicker({\n                dateFormat: 'yy-mm-dd',\n                speed: 'immediate',\n                altField: '#edit-date-filter-value-datepicker-popup-1',\n                beforeShowDay: function(date) {\n                      if(typeof (_event_days) === 'undefined') {\n                        return new Array(true, '');\n                      } else {\n                            highlightDays(date);\n                        }\n                    },\n            });\n            $('#myinput').hide();\n        }   \ngetEventData();\ncreateDatepicker();\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","deferred"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13070306,"title":"multiple ajax calls with jquery deferred - is there a way to not reject if one call fail","body":"<p>Hi I'm doing multiple ajax calls and would like to combine the results \nI'm using following code:</p>\n\n<pre><code>    var args = [\n$.ajax({\n    url:\"http://localhost:8080/200/2\",\n    type:\"get\",\n    dataType:\"jsonp\"\n}),\n$.ajax({\n    url:\"http://localhost:8080/200/1\",\n    type:\"get\",\n    dataType:\"jsonp\"\n})\n    ];\n\n\n    jQuery.when.apply(this, args)\n    .done(function(){\n        for (var i = 0; i &lt; arguments.length; i++) {\n                var singleResult = arguments[i]; \n                console.log(\"always\");\n                console.log(singleResult);\n                                    //here code to combine results\n        }\n    })\n    .fail(function(){\n        for (var i = 0; i &lt; arguments.length; i++) {\n                var singleResult = arguments[i]; \n                console.log(\"fail\");\n                console.log(singleResult);\n        }\n    });\n</code></pre>\n\n<p>It works perfectly fine when both calls return 200 status code\nbut in the current system sometimes one off the calls might return 500 or 404\nWhen this happens the whole promise is rejected and done is newer called \nI know that this is the default behaviour - when one call fail the whole thing fail </p>\n\n<p>Question: Is there an easy way to make it work this way that single failure will not cause the whole thing to fail\nIn other words Lets say I fired 10 calls, 7 succeeded  3 failed\nI would like that the done is called with these 7 results, and fail with 3 results</p>\n"},{"tags":["javascript",".net","ajax","security","textbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":6422529,"title":"Firefox Remembers Textbox Value in Advance in .NET","body":"<p>I have multiple textboxes to enter credit card and security number for it. But I dont want browsers to remember which numbers the customer entered to them. </p>\n\n<p>Note: The page is completely sending ajax request by using javascript for any operations.</p>\n\n<p>Refers to : <a href=\"http://stackoverflow.com/questions/582244/is-there-a-w3c-valid-way-to-disable-autocomplete-in-a-html-form\">Is there a W3C valid way to disable autocomplete in a HTML form?</a></p>\n"},{"tags":["ajax","json","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13072663,"title":"Ajax File upload JSON encoded HTML response","body":"<p>we're trying to get an ajax fileupload with JSON encoded HTML results to work.</p>\n\n<p>What we're doing is similar to what most people do:</p>\n\n<ul>\n<li>create an invisible iframe</li>\n<li>submit the upload form to the iframe</li>\n<li>handle the content of the iframe's body</li>\n</ul>\n\n<p>The result will be JSON encoded and might look like this:</p>\n\n<p><code>{ \"success\":\"false\", \"error\":\"someerror\" }</code></p>\n\n<p>Parsing this using <code>eval(\"data=\" + uploadFrame.contents().find('body')[0].innerHTML);</code> works as long as the result doesn't contain JSON encoded HTML.</p>\n\n<p>However, in some situation we have results like this:</p>\n\n<pre><code>{ \n \"success\":\"true\", \n \"html\":\"&lt;img src=\\\"/some/url/to/the/image.jpg\\\"/&gt;\"\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{ \n \"success\":\"true\", \n \"html\":\"&lt;img src='/some/url/to/the/image.jpg'/&gt;\"\n} \n</code></pre>\n\n<p>In that case, <code>eval()</code> and <code>JSON.parse()</code></p>\n\n<p><code>eval(\"data=\" + uploadFrame.contents().find('body')[0].innerHTML)</code>  results in </p>\n\n<pre><code>SyntaxError: illegal character\nresult = {\"success\":\"true\",\"html\":\"&lt;img src=\"\\&amp;quot;/path/to...\n                                             ^\n</code></pre>\n\n<p><code>result=jQuery.parseJSON(uploadFrame.contents().find('body')[0].innerHTML)</code> results in</p>\n\n<pre><code>SyntaxError: JSON.parse: expected ',' or '}' after property value in object\n</code></pre>\n\n<p>and <code>result=JSON.parse(uploadFrame.contents().find('body')[0].innerHTML)</code> results in</p>\n\n<pre><code>SyntaxError: JSON.parse: expected ',' or '}' after property value in object\n</code></pre>\n\n<p>As you can see, the problem seems to be that escaped quotes are escaped again (to <code>\\&amp;quot</code>) or additional quotes are added and thus to the JSON parsers the property seems to be terminated prematurely.</p>\n\n<p>Any ideas what could be wrong?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Btw, our reponse page encoding is <code>text/html</code>.</p>\n"},{"tags":["php","ajax","codeigniter"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13070481,"title":"How to hide ajax page from public access [codeigniter]","body":"<p>I have one controller which I use for ajax calls, so in jQuery I have something  like:</p>\n\n<pre><code>$.ajax({ \n  type: 'POST',\n  url: '&lt;?php echo base_url().'ajax/post_message'; ?&gt;',\n  data: { message: msg }\n}).done(function(data) { \n    // handling callback here               \n});\n</code></pre>\n\n<p>here ajax/post_message is working ok, but it's also accessible from URL directly.</p>\n\n<p>How can I prevent this, should place ajax file somewhere else? If so, which url I can use to access it </p>\n"},{"tags":["javascript","ajax","html5","dom"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13071952,"title":"AJAX vs non-AJAX Page Loading Memory Usage","body":"<p>As part of the refresh <a href=\"http://www.usatoday.com/\" rel=\"nofollow\">usatoday.com</a> loads all new content via AJAX and never reloads the page for HTML5 compatible browsers.</p>\n\n<p>While, the URL in the address bar does change (which is super cool) the page actually truly never reloads. This is done through HTML5 history manipulation.</p>\n\n<p>I checked out the memory usage in Chrome's Task Manager but I didn't see anything unusual there. </p>\n\n<p><strong>Will this constant manipulation of the DOM build up to a massive memory sink?</strong></p>\n"},{"tags":["jquery","ajax","drop-down-menu","coldfusion","cfc"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":165,"score":2,"question_id":12844410,"title":"Dropdown Population with Jquery Ajax & CFC","body":"<p>I'm trying to populate a HTML dropdown with database data. To do so, I'm retrieving data from database and creating option elements as below:</p>\n\n<pre><code>var obj = eval(\"(\" + data + \")\");\nfor (i = 1; i &lt;= obj.DATA.length; i++) {\n    var col_val = obj.DATA[i - 1];\n    $(\"#dropdown\").append('&lt;option value=\"' + col_val + '\"&gt;' + col_val + '&lt;/option&gt;');\n}\n</code></pre>\n\n<p>I tried an alternate method also as below:</p>\n\n<pre><code>$(\"#dropdown\").html(data);\n</code></pre>\n\n<p>where, data is a string containing a list of option elements returned by the called CFC page after looping over the database query using cfloop.</p>\n\n<p>Before adding the new options, I'm removing the older ones using either of the below statements.</p>\n\n<pre><code>$('#dropdown').empty(); \n\n$('#dropdown option').remove();\n\n$('#dropdown').html('');\n</code></pre>\n\n<p>After analysis, I found that removing options is causing the maximum delay.</p>\n\n<p>Is there any faster alternate JavaScript or Jquery function that can be used for removing options? OR Do you suggest any work-around to improve the performance?</p>\n\n<p>Note: I have to use ColdFusion &amp; AJAX for this purpose. Also I can't use the Built-in AJAX Functionality of ColdFusion.</p>\n\n<p>Thanks!!</p>\n"},{"tags":["jquery","ajax","django","angularjs","tastypie"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13069828,"title":"Can't POST to Django Tastypie cross-domain XHR","body":"<p>Trying to post to this Django Tastypie API:\n<a href=\"http://lit-hollows-9760.herokuapp.com/api/food\" rel=\"nofollow\">http://lit-hollows-9760.herokuapp.com/api/food</a></p>\n\n<p>I have this middleware installed to allow for cross-domain XHR:\n<a href=\"https://gist.github.com/1369619\" rel=\"nofollow\">https://gist.github.com/1369619</a></p>\n\n<pre><code>    from django import http\n\ntry:\n    from django.conf import settings\n    XS_SHARING_ALLOWED_ORIGINS = settings.XS_SHARING_ALLOWED_ORIGINS\n    XS_SHARING_ALLOWED_METHODS = settings.XS_SHARING_ALLOWED_METHODS\n    XS_SHARING_ALLOWED_HEADERS = settings.XS_SHARING_ALLOWED_HEADERS\n    XS_SHARING_ALLOWED_CREDENTIALS = settings.XS_SHARING_ALLOWED_CREDENTIALS\nexcept AttributeError:\n    XS_SHARING_ALLOWED_ORIGINS = '*'\n    XS_SHARING_ALLOWED_METHODS = ['POST', 'GET', 'OPTIONS', 'PUT', 'DELETE']\n    XS_SHARING_ALLOWED_HEADERS = ['Origin', 'Content-Type', 'Accept']\n    XS_SHARING_ALLOWED_CREDENTIALS = 'true'\n\n\nclass XsSharing(object):\n    \"\"\"\n    This middleware allows cross-domain XHR using the html5 postMessage API.\n\n    Access-Control-Allow-Origin: http://foo.example\n    Access-Control-Allow-Methods: POST, GET, OPTIONS, PUT, DELETE\n\n    Based off https://gist.github.com/426829\n    \"\"\"\n    def process_request(self, request):\n        if 'HTTP_ACCESS_CONTROL_REQUEST_METHOD' in request.META:\n            print request.META\n            response = http.HttpResponse()\n            response['Access-Control-Allow-Origin']  = XS_SHARING_ALLOWED_ORIGINS \n            response['Access-Control-Allow-Methods'] = \",\".join( XS_SHARING_ALLOWED_METHODS ) \n            response['Access-Control-Allow-Headers'] = \",\".join( XS_SHARING_ALLOWED_HEADERS )\n            response['Access-Control-Allow-Credentials'] = XS_SHARING_ALLOWED_CREDENTIALS\n            return response\n\n        return None\n\n    def process_response(self, request, response):\n        #print request.META\n        response['Access-Control-Allow-Origin']  = XS_SHARING_ALLOWED_ORIGINS \n        response['Access-Control-Allow-Methods'] = \",\".join( XS_SHARING_ALLOWED_METHODS )\n        response['Access-Control-Allow-Headers'] = \",\".join( XS_SHARING_ALLOWED_HEADERS )\n        response['Access-Control-Allow-Credentials'] = XS_SHARING_ALLOWED_CREDENTIALS\n        #print response\n        return response\n</code></pre>\n\n<p>I can use JSONP to retrieve GET requests but I can't work out how to get POST to work. I just a 301 and nothing further.</p>\n\n<pre><code>\"OPTIONS /api/food HTTP/1.1\" 301 0\n</code></pre>\n\n<p>Demo: <a href=\"http://jsfiddle.net/rob_balfre/vgrJD/\" rel=\"nofollow\">http://jsfiddle.net/rob_balfre/vgrJD/</a></p>\n\n<p>This is how I'm calling POST with jQuery:</p>\n\n<pre><code>$.ajax({\n  type: 'POST',\n  url: 'http://lit-hollows-9760.herokuapp.com/api/food',\n  data: '{\"name\": \"Tapas\"}',\n  success: console.log('jquery worked'),\n  dataType: \"application/json\",\n  processData:  false,\n  contentType: \"application/json\"\n});\n</code></pre>\n"},{"tags":["asp.net","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13071555,"title":"Compare validator CultureInfo issue","body":"<p>I have an Ajax Calendar with the format set to \"MM-dd-yyyy\". I would like to have this format no matter what language the user has selected on the site but if someone is viewing the site in french and the user has selected 10-27-2012 as the date from my datepicker, the CompareValidator fails. I've tried setting the CultureInvariantValues=\"true\" but that doesn't work.\nIs there a way to always have my CompareValidator compare a date in the format above?\nHere's my date control:</p>\n\n<pre><code>&lt;asp:TextBox ID=\"txtDate\" runat=\"server\" OnTextChanged=\"txtDate_TextChanged\" onClick=\"Clear(this);\"\n    CssClass=\"width75 disabled\" contenteditable=\"false\" MaxLength=\"10\" meta:resourcekey=\"txtDateResource1\"&gt;&lt;/asp:TextBox&gt;\n&lt;asp:ImageButton CssClass=\"CalendarIcon\" runat=\"Server\" ID=\"imgDate\" ImageUrl=\"~/images/icon-calendar.gif\"\n    CausesValidation=\"False\" AlternateText=\"Click to show calendar\" meta:resourcekey=\"imgDateResource1\" /&gt;\n&lt;ajaxToolkit:CalendarExtender ID=\"calendarButtonExtender\" runat=\"server\" TargetControlID=\"txtDate\"\n    PopupButtonID=\"imgDate\" CssClass=\"ajax__calendar ajaxcalendarfix\" Format=\"MM-dd-yyyy\"\n    Enabled=\"True\" /&gt;\n&lt;asp:RequiredFieldValidator ID=\"reqDate\" ControlToValidate=\"txtDate\" runat=\"server\"\n    Display=\"Dynamic\" ErrorMessage=\"Select a Date\" Text=\"*\" meta:resourcekey=\"reqDateResource1\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n&lt;asp:CompareValidator ID=\"compDate\" runat=\"server\" Display=\"Dynamic\" ErrorMessage=\"Invalid Date\" SetFocusOnError=\"true\" CultureInvariantValues=\"true\"\n    ControlToValidate=\"txtDate\" Type=\"Date\" Operator=\"DataTypeCheck\" meta:resourcekey=\"compDateResource1\"\n    Text=\"*\"&gt;&lt;/asp:CompareValidator&gt;\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":438,"score":1,"question_id":11027462,"title":"how to make other ajax calls after one ajax call completes and second ajax call should not call the .stop function","body":"<p>actually i 'm calling multiple ajax calls but i want some ajax calls completes first and exectute the atsk defined in its stop function.but some ajax call should be made once function defined in stop method executes and those ajax call should not cal.stop method once again</p>\n\n<pre><code>    $('.badgeContainer').ajaxStop(function() \n    {\n\n          alert(\"ajax rqst completed\");\n    });\n\n $.ajax({\n\n type: \"POST\",\n\n           url: \"WebServices/abc.asmx/dosomething\",\n        data: \"{  }\",\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(serviceReply) {\n                          var serviceReplyArray = serviceReply.d.split(\"#\");\n\n                    },\n                    error: function(xhr, errDesc, exception) {\n                                                                    }\n                });\n</code></pre>\n\n<p>another ajax call here but should not call .ajaxstop this time</p>\n\n<p>i'm putting my question in this way:</p>\n\n<p>suppose there are two ajax call to webservice. when one ajax call completes the function dependent on taht ajax call should get executed before waiting for second jax call execution.for eaxample: one ajax call create chart and other ajax call log user activities.if a functon to display chaet is dependent on create chart so that function get executed before calling aax call for log activities.no waiting for ajajx call for user activities</p>\n"},{"tags":["php","javascript","jquery","ajax","pjax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13070253,"title":"PJAX + jQuery modal","body":"<p>I'm building this web page and I want the news to appear in jquery.modal, but with sharing functionality, that means with the URL. I found PJAX for the solution and then I wanted to put the link in URL and show the content in the modal window. \nAfter days of googling I stumbled on this, and if you click on the page it opens in modal, but shows the URL, but I can't find how it works. Here is the link: <a href=\"http://rigaspots.blogspot.com/\" rel=\"nofollow\">http://rigaspots.blogspot.com/</a></p>\n\n<p>Here is my code.</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"../jquery.modal.css\"&gt;\n&lt;script src=\"js/jquery-1.7.1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.cookie.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.pjax.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../js/jquery.modal.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n\nvar direction = \"right\";\n$(document).ready(function(){\n$('a').pjax({\ncontainer: '.modal'\n});\n\n$('.modal').on('pjax:start', function() {\n  $(this).addClass('loading')\n})\n\n$('.modal').on('pjax:end', function() {\n  $(this).removeClass('loading')\n})\n\n\n});\n\n\n&lt;/script&gt;\n\n&lt;style&gt; \n\n#main {\n  font-family:Helvetica,Arial,sans-serif;   \n  width:30%;  \n  opacity: 1;\n  transition: opacity 0.20s linear;\n}\n\n#main.loading {\n   opacity: 0.5;\n}   \nh2 {margin-left:200px;}\n   ul{padding-left:15px; list-style:none;}\n&lt;/style&gt; \n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p &gt;&lt;strong style='color:green'&gt; 2012-10-25 16:52:13&lt;/strong&gt; (Time should only change on     refresh!)&lt;/p&gt;&lt;div id=\"main\"&gt;\n&lt;h1&gt;PJAX using PHP&lt;/h1&gt;\n\n&lt;ul class='header'&gt;\n  &lt;li&gt;&lt;a href='trex.php' data-pjax='modal' rel=\"modal:open\"&gt;Tyrannosaurus&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href='kong.php' data-pjax='modal' rel=\"modal:open\" &gt;King Kong&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can see it here: <a href=\"http://supervalters.mplab.lv/source/\" rel=\"nofollow\">http://supervalters.mplab.lv/source/</a></p>\n\n<p>Any help would be appreciated. Thanks.</p>\n"},{"tags":["php","jquery","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13055128,"title":"Loading records in a grid dyamically (on request by the user)","body":"<p>I am currently working on a PHP mysql application which has a grid with a few thousand records to display.Now,the requirement doesn't want it to be paginated in the normal way,(By displaying paging links <strong>1,2,3</strong> etc) but do it when user clicks on a link <strong>Show More Results</strong>. I have an anchor link,on click of which the next batch of records will be fetched from the server.The normal pagination as we all know can be achieved using the</p>\n\n<pre><code>     offset and limit parameters in a sql query\n     select * from abc limit,offset;\n</code></pre>\n\n<p>So,in this case say my limit is \"20\",but how can make the calculations for the offset that will go to the query?\n         I know basics of sending a ajax request on click.Something like this which would be called on click</p>\n\n<pre><code>     $.ajax({\n       //request parameters and success and failure callback\n\n     })    \n</code></pre>\n\n<p>Any help or guidance on this would be very helpful.<br/>Thanks for the time.</p>\n"},{"tags":["javascript","jquery","ajax","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13070406,"title":"Use the result of an ajax request in my views.py, Django","body":"<p>Thanks to a javascript function and an ajax request, I have a count indicating the number of points a user makes when he uses my app. He can see that count on the page where he 'plays'.</p>\n\n<p>Now, what I would like to do, is to pass this number into my views.py so that it modifies the object \"Score\" of my user.</p>\n\n<p>I explain. Thanks to this function, I get the count:</p>\n\n<pre><code>       var count = parseInt(0);\n\n setInterval(function() {\n   $.ajax({\n       type: \"GET\",\n       url: \"http://myxml\",\n       success: Escore\n   });\n  }, 60000);\n\nfunction Escore(xml){\n   $(xml).find(\"user\").each(function() {\n\n           if($(this).attr(\"id\") === id ) {\n               count += parseInt($(this).attr(\"count\"));\n               $(\".PlayerScore\").html(count)\n           }\n       });\n }\n</code></pre>\n\n<p>displayed in my html:</p>\n\n<pre><code>   &lt;div class=\"PlayerScore\"&gt; &lt;/div&gt;\n</code></pre>\n\n<p>Now, I would like to modify the object \"score\" of my user thanks to that. Every minute, I have a request that gives me the number of points the player makes in my div. How can I take this count in order to modify my \"request.user.userprofile.score\" in my views.py?</p>\n\n<p>I hope my question is not too confusing. Any help would be really welcome. thanks!</p>\n"},{"tags":["javascript","html","ajax","hyperlink","refresh"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13035064,"title":"Link causes refresh","body":"<p>I try to make a link fire a javascript function wich fires a ajax call to delete an item.</p>\n\n<p>Like so:</p>\n\n<pre><code>&lt;a class=\"delete\" href=\"@item.Product.Id\"&gt;(x)&lt;/a&gt;\n</code></pre>\n\n<p>Clicking the cross caries the id of the product to be deleted.\nThe only reason the href attribute is there is to carry the value.</p>\n\n<pre><code>$(document).ready(function () {  \n$('.delete').click(function (e) {\n    e.preventDefault();\n    var id = $(this).attr(\"href\");\n    deleteItem(id);\n    return false;\n});\n});\n</code></pre>\n\n<p>Ajax call: as requested:</p>\n\n<pre><code>function deleteItem(id) {\n$.ajax({\n    url: \"/Shoppingcart/RemoveItem\",\n    type: \"POST\",\n    data: \"id=\" + id,\n    cache: false,\n    error: function (xhr, status, error) {\n        console.log(xhr, status, error);\n    },\n    success: function () {\n        $.ajax({\n            url: \"/Shoppingcart/Index\",\n            type: \"GET\",\n            cache: false,\n            error: function (xhr, status, error) {\n                console.log(xhr, status, error);\n            },\n            success: function (result) {\n                success(result);\n            }\n        });\n    }\n});\n</code></pre>\n\n<p>}</p>\n\n<p>The success function is there to get an updated version of the cart.\nAnd this actually works just fine. However I get a wierd page refresh half way trough the cycle.</p>\n\n<p>I click the link.</p>\n\n<p>the page refreshes and the item is not deleted.</p>\n\n<p>I click the link once more.</p>\n\n<p>the page is not refreshed.</p>\n\n<p>the item is deleted.</p>\n\n<p>Why do I have to click two time and what can I do to resolve this?</p>\n"},{"tags":["php","jquery","ajax","request","firebug"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13069487,"title":"jquery sending form in not showing in firebug","body":"<p>I want to know if it is possible to send <code>ajax</code> data and prevent that from being logged in tools like FireBug.</p>\n\n<p>I send my data like this:</p>\n\n<pre><code>$(\"#submit\").click(function() {\n    var value = $(\"#value\");\n    var valuePost = value.val(); \n    $.post(\"submit.php\", {value: valuePost},\n    function(data){} \n    , \"html\");\n});\n</code></pre>\n\n<p>But when this is sent, then tools like FireBug capture that data. I do not want that, because I am sending passwords. Is there any way to prevent tools like FireBug from capturing the send data?</p>\n"},{"tags":["c#","javascript","jquery","asp.net","ajax"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":722,"score":1,"question_id":7242473,"title":"How to preview a image before uploading it to the server?","body":"<p>I have a form that will adding the product to the online store, and contains this many fields</p>\n\n<p>1) Product Name</p>\n\n<p>2) Product Code</p>\n\n<p>3) Product Description</p>\n\n<p>4) Product Price</p>\n\n<p>5) Product Image</p>\n\n<p>now i wanted that while user/admin select a image using file upload control of asp.net, after selecting product image that will be displayed in image control before the user will upload that to the server.</p>\n\n<p>all i need is to preview that image before it will uploaded to the server, it will be by using any of these javascript, jquery, Ajax or c#</p>\n\n<p>please help me...</p>\n\n<p>Thank in Advance.\nTejas Vaishnav</p>\n"},{"tags":["javascript","jquery","ajax","dom","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2727,"score":0,"question_id":9001666,"title":"jQuery.post() and redirect via ajax","body":"<p>I am using <code>jQuery.post()</code> to send data to the server, when the server sends data back to the client, the post() callback is invoked. I know that the server might response with the redirect header field (\"<code>Location</code>\").</p>\n\n<p>currently, the redirect does not occur. what can be the reason?\nis there any possibility to run a script before the redirect occur?</p>\n\n<p>UPDATE:\nenclosed a snipped code. i know that the POST method is accepted by the server, and that the server responds to the POST. somehow, always the <code>error()</code> is being invoked (it seems like it happends even before the response is accepted by the client\\browswer).</p>\n\n<p>what is wrong?</p>\n\n<pre><code>$(document).ready(function() {  \n    $(\"#loginForm\").submit(function() {\n        $.ajax({\n            type : \"POST\",\n            data : $(\"#loginForm :input\").not(\"#loginBtn\").serialize(),\n            url : \"http://localhost/auth\",\n            success : function(data, textStatus, jqXHR) {\n                alert(\"success\");\n                alert(jqXHR.getResponseHeader(\"Location\"));\n            }, \n            error : function(jqXHR, textStatus, errorThrown) {\n                alert(\"error\");\n            }\n        });\n    });\n});\n</code></pre>\n"},{"tags":["android","ajax","eclipse","phonegap","sencha-touch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":165,"score":0,"question_id":13012186,"title":"Eclipse + Phonegap + Sencha touch ==> call to webserver running locally","body":"<p>I have installed xampp and mysql on my windows pc. I use sencha touch 1.x.\nI have a website running locally. It is under \"htdocs/website\". It runs perfectly ;-)</p>\n\n<p>I have developped a mobile app (it is under \"htdocs/mobile\"). I tested the app first with google chrome. In the app there are some ajax calls to the local webserver (e.g. login of user). This works perfectly. I can send a request and I receive a response.</p>\n\n<p>I use the \"Ext.util.JSONP.request\" to call webservices.</p>\n\n<p>Now I installed eclipse, phonegap and ADT, created a new android project in eclipse.\nI start my local webserver and run my app in eclipse as an android application.</p>\n\n<p>I get no errors. Android simulator is started and the app opens. But when I make a call to my webserver nothing happens.</p>\n\n<p>What is wrong?</p>\n\n<p>thanks</p>\n\n<hr>\n\n<p>This is the code of my request to the server:</p>\n\n<pre><code>console.log(\"In checkLogin of logincontroller\");\n\n    Ext.util.JSONP.request({\n        url: 'http://mywebsite:80/mobile/login.php',\n        params: options.data,\n        callbackKey: \"callback\",\n        scope: this, \n        callback: function(response) {\n            console.log(\"success\");\n            if (response.success == \"true\")\n            {\n                //save login locally on phone\n                this.index(options);\n            }\n            else {\n                Ext.Msg.alert(response.errors.reason, '');\n                console.log(\"failure\");\n            }\n        }\n    });\n</code></pre>\n\n<p>When clicking the login button on the phone, I see the message \"In checklogin of logincontroller\".</p>\n"},{"tags":["jquery","ajax","mobile","loading"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13069425,"title":"Determine whether \"loading page\" message should be displayed during (jquerymobile) ajax call","body":"<p><strong>Given this:</strong></p>\n\n<pre><code>$.mobile.loadPage('/Account/AccountSearchPlus/',\n{\n    data: {loading:true},\n    pageContainer: $('#listAccount')\n});\n</code></pre>\n\n<p>Is there a way of telling from <code>$.ajaxStart(event)</code> handler either of the following:</p>\n\n<p><strong>A</strong>. data.loading contains true or</p>\n\n<p><strong>B</strong>. general details about initial ajax call e.g. target page to load is '<em><code>/Account/AccountSearchPlus/</code></em>'</p>\n\n<p>Appreciate any feedback :-)</p>\n"},{"tags":["ajax","client-server","message-queue","amazon-sqs"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":63,"score":3,"question_id":10623849,"title":"what are pros and cons of web client interacting with server via message queue service vs via ajax?","body":"<p>AFAIU most javascript apps out there interact with the server via ajax which is a form of http. Suppose we were to make a javascript app that interacts with the server by exchanging messages through Amazon Simple Queue Service or some other such message queue service. What would be the pros and cons of that vs the http approach?</p>\n"},{"tags":["php","javascript","ajax","amazon-s3","amazon-ec2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13069204,"title":"Make requests from amazon S3 to EC2","body":"<p>I'm using S3 for storing generated HTML and JS files (from an EC2 instance).</p>\n\n<p>I'm trying to make AJAX requests from these JS files to my PHP files on my EC2 instance.\nSo, I've added this line to my htaccess:\nHeader set Access-Control-Allow-Origin *</p>\n\n<p>When I test locally, AJAX requests are made from S3 to my localhost, it works perfectly.\nBut when I try to make these requests to EC2 I get the \"not allowed by Access-Control-Allow-Origin\" message...</p>\n\n<p>Does anyone know if it's possible to do such a thing ?\nIf not is there anyway to dynamically load content to S3 files ?</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","visual-studio-2010","usercontrols"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13069200,"title":"Unable to add ajaxcontroltollkit.dll referece to vs2010 usercontrol","body":"<p>I am trying to add reference of ajaxtoolkit.dll to my usercontrol which is developing in the vs2010. But when i am trying to deploy that uc to aspx page and try to browse then it is showing the message :</p>\n\n<p>Parser Error Message: Could not load file or assembly 'AjaxControlToolkit, Version=3.5.40412.0, Culture=neutral, PublicKeyToken=28f01b0e84b6d53e' or one of its dependencies. The system cannot find the file specified.</p>\n\n\n\n<p>Do i am doing anything wrong. Is there any different way for use ajaxcontroltoolkit in vs2010.</p>\n\n<p>Thanks In Advance,</p>\n\n<p>Eshwer</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":64,"score":-5,"question_id":13026168,"title":"Jquery/Javascript","body":"<p>Oops! Your edit couldn't be submitted because:</p>\n\n<p>body must be at least 30 characters; you entered 5</p>\n"},{"tags":["ajax","jsf-2","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13067070,"title":"Update component with Ajax results in Exception","body":"<p>It seems like I am simply unable to grasp, how updating components with Ajax works. I keep on getting an Exception \"Cannot find component with identifier \":menu-item-container\" referenced from \"j_idt12:0:j_idt16:j_idt76\".\"</p>\n\n<p>This is my code:  </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n    xmlns:h=\"http://java.sun.com/jsf/html\"\n    xmlns:f=\"http://java.sun.com/jsf/core\"\n    xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n    xmlns:p=\"http://primefaces.org/ui\"&gt;\n\n    &lt;f:view contentType=\"text/html\"&gt;\n    &lt;h:head&gt;\n        &lt;title&gt;&lt;ui:insert name=\"pageTitle\"&gt;&lt;/ui:insert&gt;&lt;/title&gt;\n    &lt;/h:head&gt;\n\n    &lt;h:body&gt;\n        &lt;h:outputStylesheet library=\"css\" name=\"style.css\" /&gt;\n        &lt;div class=\"menu-navigation\"&gt;\n            &lt;ul&gt;\n                &lt;li&gt;Menu&lt;/li&gt;\n                &lt;ui:repeat var=\"category\"\n                    value=\"#{restaurantsBean.restaurant.categories}\"&gt;\n                    &lt;h:form&gt;\n                        &lt;li&gt;&lt;p:commandLink update=\":menu-item-container\"&gt;\n                                &lt;div&gt;\n                                    #{category.name}\n                                    &lt;f:setPropertyActionListener              value=\"#{category.id}\"\n                                        target=\"#                   {restaurantMenuBean.selected}\" /&gt;\n                                &lt;/div&gt;\n                            &lt;/p:commandLink&gt;&lt;/li&gt;\n                    &lt;/h:form&gt;\n                &lt;/ui:repeat&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"menu-item-container\"&gt;\n\n            &lt;ui:repeat var=\"category\"\n                value=\"#{restaurantsBean.restaurant.categories}\"&gt;\n                &lt;p:outputPanel&gt;\n                    &lt;h:panelGroup id=\"pangroup\" layout=\"block\"\n                        rendered=\"#{restaurantMenuBean.active(category.id)}\"&gt;\n                        &lt;div class=\"some-heading\"&gt;\n                            &lt;h2&gt;#{category.name}&lt;/h2&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"category-description\"&gt;#{category.description}&lt;/div&gt;\n\n                        &lt;ui:repeat var=\"item\" value=\"#{category.items}\"&gt;\n                            &lt;p:outputPanel\n                                rendered=\"#{restaurantMenuBean.needLightbox(item)}\"&gt;\n                                &lt;ui:include src=\"/lightbox-item.xhtml\"&gt;&lt;/ui:include&gt;\n                            &lt;/p:outputPanel&gt;\n                            &lt;p:outputPanel\n                                rendered=\"#{!restaurantMenuBean.needLightbox(item)}\"&gt;\n                                &lt;ui:include src=\"/nolightbox-item.xhtml\"&gt;&lt;/ui:include&gt;\n                            &lt;/p:outputPanel&gt;\n                        &lt;/ui:repeat&gt;\n\n                    &lt;/h:panelGroup&gt;\n                &lt;/p:outputPanel&gt;\n            &lt;/ui:repeat&gt;\n\n        &lt;/div&gt;\n    &lt;/h:body&gt;\n    &lt;/f:view&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>This is the related area of html source output, which tells me, my \"menu-item-container\" is right at the root and the update-attribute only needs a separation marker \":\" in front of its id.</p>\n\n<pre><code>&lt;div id=\"menu-item-container\"&gt;&lt;span id=\"j_idt17:0:j_idt64\"&gt;&lt;/span&gt;&lt;span id=\"j_idt17:1:j_idt64\"&gt;&lt;div id=\"j_idt17:1:pangroup\"&gt;\n                        &lt;div class=\"some-heading\"&gt;\n</code></pre>\n"},{"tags":["ajax","csrf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12278872,"title":"Cross site call in ajax: responseXML undefined","body":"<p>I'm developing a script that performs a cross site call to a python webservice, which returns a xml.\nThis is the full code of the html page that executes the cross site call:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\n  &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"./jquery.xdomainajax.js\"&gt;&lt;/script&gt;\n\n  &lt;script&gt;        \njQuery.ajax({\n  type: \"GET\",\n  url: \"http://api.notmywebsite.net/search/parameters\",\n  async: true,\n  beforeSend: function(xhr) {\n    xhr.withCredentials = true;\n      },\n  success: function(data) {\n    alert(data.responseXML);\n  },\n  error: function(err){\n    alert(\"error: \" + err.status);\n  }\n});\n  &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div id=\"xmlOutput\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The problem is, of course, the script isn't working:\n - When I call the webservice through the browser, the xml is successfully displayed.\n - I'm using WebScarab to check if the answer has any content, and it has. The HTTP response has the right headers and the expected XML response.\n - I debugged the python webservice to check if a call made by my request would return the expected XML, and it did.</p>\n\n<p>After some research I came across the same-origin policy, for which I started using (hope i'm using it right) the following proxy: <a href=\"https://github.com/padolsey/jQuery-Plugins/blob/master/cross-domain-ajax/jquery.xdomainajax.js\" rel=\"nofollow\">https://github.com/padolsey/jQuery-Plugins/blob/master/cross-domain-ajax/jquery.xdomainajax.js</a></p>\n\n<p>The webservice is also called using php, through a \"simplexml_load_file($url);\", which returns the expected XML response.</p>\n\n<p>I tried executing this same call (but using responseText instead of responseXML) to google, and it was successful.</p>\n\n<p>The xml has the following format:</p>\n\n<pre><code>&lt;OAI-PMH xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/OAI-PMH http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\"&gt;\n  &lt;record&gt;\n    &lt;header&gt;\n      &lt;identifier&gt;oai:epimarketplace.net:empid:1066&lt;/identifier&gt;\n      &lt;datestamp&gt;2012-06-25T14:54:01.058Z&lt;/datestamp&gt;\n      &lt;setSpec&gt;resource&lt;/setSpec&gt;\n      &lt;downLink&gt;http://api.epimarketplace.net/fetch/pid/empid:1066&lt;/downLink&gt;\n    &lt;/header&gt;\n    &lt;metadata&gt;\n      &lt;em&gt;\n        &lt;metadataLink&gt;http://api.epimarketplace.net/rawfetch/pid/empid:1066/datastream/EM&lt;/metadataLink&gt;\n        &lt;field name=\"PID\"&gt;empid:1066&lt;/field&gt;\n        &lt;field name=\"em.dateSubmitted\"&gt;2012-08-20T10:43:40Z&lt;/field&gt;\n        &lt;field name=\"em.generalDescription.subject\"&gt;Behaviour&lt;/field&gt;\n        &lt;field name=\"em.generalDescription.type\"&gt;Dataset harvested from social networks&lt;/field&gt;\n        &lt;field name=\"em.title\"&gt;&amp;#60&amp;#115&amp;#99&amp;#114&amp;#105&amp;#112&amp;#116&amp;#62&amp;#88&amp;#83&amp;#83&amp;#60&amp;#47&amp;#115&amp;#99&amp;#114&amp;#105&amp;#112&amp;#116&amp;#62&amp;#10&lt;/field&gt;\n        &lt;field name=\"em.uploader.name\"&gt;Tiago André Posse&lt;/field&gt;\n        &lt;field name=\"isCollection_b\"&gt;false&lt;/field&gt;\n        &lt;field name=\"nComments\"&gt;0&lt;/field&gt;\n        &lt;field name=\"nLikes\"&gt;0&lt;/field&gt;\n      &lt;/em&gt;\n    &lt;/metadata&gt;\n  &lt;/record&gt;\n&lt;/OAI-PMH&gt;\n</code></pre>\n\n<p>Hoping you can help me,</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ajax","http","cookies","cross-domain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13067364,"title":"document.cookie not updated with response from the server","body":"<p>I'm sending an AJAX request to the server, and getting a response with a cookie. I can see the cookie is included in the HTTP response, but document.cookie is empty. Why is that? Is it related to the fact that it's a cross-domain request? Or can it be due to a browser setting?\nThanks.</p>\n"},{"tags":["php","javascript","ajax","div"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13067257,"title":"javascript make div go blank by clicking outside it","body":"<p>I have a number of search/text boxes that, using AJAX, search database tables and place results/search suggestions in a div similar to google search.  Right now other than reloading the page there is no way to empty these divs.  I would like to make it so that if you backspace to make the textbox blank as in google search, the div empties out. Right now when you backspace all the way it treats it as searching on \"\" and returns all the results.  Or alternatively let you click outside the box to empty it.  Otherwise I am ending up with filled divs on the page which clutters it up.  I am thinking I either need to do change query so that if the string is empty it returns nothing or something with javascript if you click outside the box the box goes empty.  Thanks for any suggestion:</p>\n\n<p>Here is abbreviated code:</p>\n\n<p>Javascript</p>\n\n<pre><code>function getHints(str) {\n...\ndocument.getElementById(\"results\").innerHTML=xmlhttp.responseText;//places output in results div\n...\nxmlhttp.open(\"GET\",\"search.php?searchterm=\"+str,true);\nxmlhttp.send();\n}\n</code></pre>\n\n<p>html</p>\n\n<pre><code>&lt;input type=\"text\" id=\"search\" onkeyup=\"getHints(this.value)\"&gt;Search&lt;div id=\"results\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>php</p>\n\n<pre><code>$str = $_REQUEST['str'];\n$sql = \"SELECT * FROM table WHERE name LIKE '%$str%'\";\nsearch database and echo out results.\n</code></pre>\n"},{"tags":["ajax","database","http"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13067279,"title":"How can I update my data automatically without using AJAX or any loop checking method?","body":"<p>I have a data table page that have to be update right after the database is updated.\nI am not allowed to use any loop checking method including AJAX.</p>\n"},{"tags":["javascript","ajax","prototypejs"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13066822,"title":"Ajax POST through proxy using Prototype","body":"<p>I have just started using prototype and would like to know how you make an ajax post request through a proxy.</p>\n\n<p>For example if my proxy details are: <a href=\"http://proxy.com\" rel=\"nofollow\">http://proxy.com</a>\nand the url I am requesting to is: <a href=\"http://api.com/api.php\" rel=\"nofollow\">http://api.com/api.php</a></p>\n\n<p>How would this work?</p>\n\n<p>The docs refer to making a request through proxy in the following manner however not via POST but by GET.</p>\n\n<pre><code>        var url = '/proxy?url=' + encodeURIComponent('http://www.google.com/search?q=Prototype');\n    // notice the use of a proxy to circumvent the Same Origin Policy.\n\n    new Ajax.Request(url, {\n      method: 'get',\n      onSuccess: function(transport) {\n        var notice = $('notice');\n        if (transport.responseText.match(/href=\"http:\\/\\/prototypejs.org/))\n          notice.update('Yeah! You are in the Top 10!').setStyle({ background: '#dfd' });\n        else\n          notice.update('Damn! You are beyond #10...').setStyle({ background: '#fdd' });\n      }\n\n});\n</code></pre>\n\n<p>All help is greatly appreciated. </p>\n"},{"tags":["php","ajax","pagination"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13066557,"title":"pagination using ajax","body":"<p>I have 2 pages </p>\n\n<p>The first page for calling a second page to get all records from database, like this:</p>\n\n<pre><code>&lt;script language=\"JavaScript\"&gt;\n       var HttPRequest = false;\n\n       function doCallAjax(Mode,users_ID) {\n          HttPRequest = false;\n          if (window.XMLHttpRequest) { // Mozilla, Safari,...\n             HttPRequest = new XMLHttpRequest();\n             if (HttPRequest.overrideMimeType) {\n                HttPRequest.overrideMimeType('text/html');\n             }\n          } else if (window.ActiveXObject) { // IE\n             try {\n                HttPRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n             } catch (e) {\n                try {\n                   HttPRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n                } catch (e) {}\n             }\n          } \n\n          if (!HttPRequest) {\n             alert('Cannot create XMLHTTP instance');\n             return false;\n          }\n\n          var url = 'AjaxDeleteRecord.php';\n          var pmeters = \"tMode=\" + Mode +\n                        \"&amp;tusers_ID=\" + users_ID;\n\n            HttPRequest.open('POST',url,true);\n\n            HttPRequest.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n            HttPRequest.setRequestHeader(\"Content-length\", pmeters.length);\n            HttPRequest.setRequestHeader(\"Connection\", \"close\");\n            HttPRequest.send(pmeters);\n\n\n            HttPRequest.onreadystatechange = function()\n            {\n\n                 if(HttPRequest.readyState == 3)  // Loading Request\n                  {\n                   document.getElementById(\"mySpan\").innerHTML = \"Now is Loading...\";\n                  }\n\n                 if(HttPRequest.readyState == 4) // Return Request\n                  {\n                   document.getElementById(\"mySpan\").innerHTML = HttPRequest.responseText;\n                  }\n\n            }\n\n       }\n    &lt;/script&gt;\n&lt;body Onload=\"JavaScript:doCallAjax('LIST','');\"&gt;\n&lt;form name=\"frmMain\"&gt;\n&lt;div style=\"margin-right:10px\"&gt;\n&lt;span id=\"mySpan\"&gt;&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and the second page is php that fetches data:</p>\n\n<pre><code>$strMode = $_POST[\"tMode\"];\n$users_ID = $_POST[\"tusers_ID\"];\n\n\nif($strMode == \"DELETE\")\n{\n    //$strSQL = \"DELETE FROM users , stores WHERE users.users_StoreId=stores.stores_ID AND users.users_ID = '\".$users_ID.\"'\";\n    $strSQL = \"update users set users_delete='1' where users.users_ID = '\".$users_ID.\"'\";\n    $objQuery = mysql_query($strSQL) or die (mysql_error());\n}\n\n\n$strSQL = \"SELECT * FROM users , stores WHERE users.users_StoreId=stores.stores_ID and users.users_delete='0' ORDER BY stores.stores_Name , users.users_Type ASC \";\n$objQuery = mysql_query($strSQL) or die (\"Error Query [\".$strSQL.\"]\");\n</code></pre>\n\n<p>The problem that I cannot make paging work for this.</p>\n\n<p>Can any one help me?</p>\n"},{"tags":["jquery","ajax","json","api","linkedin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12974906,"title":"LinkedIn Javascript API not returning Position(end-date)","body":"<p>For some reason the endDate of positions are hanging the whole script?</p>\n\n<pre><code>function importJobsEducation() {\n  IN.API.Profile(\"me\")\n    .fields([\"id\",\"positions:(company,title,summary,start-date,end-date,is-current)\", \"educations\",\"skills\", \"headline\"])\n    .result(function(result) {\n      profile = result.values[0];\n\n      $(\"#headline\").val(profile.headline);\n      $(\"#linkedInID\").val(profile.id)\n\n    positions = \"\";\nfor (var index=0; index &lt; profile.positions.values.length; index++) {\n\n    JobTitle = profile.positions.values[index].title\n    jobSummary = profile.positions.values[index].summary\n    isCurrent = profile.positions.values[index].isCurrent\n    JstartMDate = profile.positions.values[index].startDate.month\n    JstartYDate = profile.positions.values[index].startDate.year\n\n    alert(profile.positions.values[index].endDate.month)\n\n    if (isCurrent === false) {\n\n        }\n\n// Company Fields\n\n\nOrgName  = profile.positions.values[index].company.name\ncompanyType = profile.positions.values[index].company.companyType\nsize = profile.positions.values[index].company.size\nindustry = profile.positions.values[index].company.industry\nticker = profile.positions.values[index].company.ticker\n\n\n\n}\n\n    education = \"\";\nfor (var index=0; index &lt; profile.educations.values.length; index++) {\n    schoolName = profile.educations.values[index].schoolName    \n    startDate = profile.educations.values[index].startDate.year\n    EndDate = profile.educations.values[index].endDate.year\n\n}\n\nskills = \"\";    \nfor (var index=0; index &lt; profile.skills.values.length; index++) {\nskills += '&lt;a href=\"\" class=\"tag\"&gt;'+ profile.skills.values[index].skill.name + '&lt;/a&gt;&amp;nbsp;';\n}\n\n\n    });\n}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13064381,"title":"ajax get null value","body":"<p>My code can get data in Chrome console</p>\n\n<p>but cant get data in my program</p>\n\n<p>code like this:</p>\n\n<pre><code>$(document).ready(function () {\n    var theme = '';\n    var source = [];\n    var rsps = '';\n\n    $.ajax({\n        url: '@Url.Content(\"~/Home/RoleMenus\")',\n            type: \"GET\",\n            cache: false,\n            success: function(response, status, xhr) {\n                rsps = response;\n                source = eval(response);\n            },\n            error: function(XMLHttpRequest,textStattus,errorThrown) {\n                $('#jqxErrorMsg').html(errorThrown);\n            }\n        });\n\n        for(var src in source) {\n            if (src.items.legth &gt; 0) {\n                src.expanded = true;\n            }\n        }\n\n        // Create jqxTree\n        $('#jqxTree').jqxTree({ source: source, theme: theme});\n        $('#jqxTree').bind('select', function (event) {\n                var args = event.args;\n                var item = $('#jqxTree').jqxTree('getItem', args.element);\n\n                for (var menu in source[0]) {\n                    if (item.label == menu.label) {\n                        window.location = menu.actionUrl;\n                        //break;\n                    }\n        }\n            });\n    });\n</code></pre>\n\n<p>=====update=====\nthe response is right, if i move </p>\n\n<pre><code> // Create jqxTree\n $('#jqxTree').jqxTree({ source: source, theme: theme});\n</code></pre>\n\n<p>into <code>success: function(response, status, xhr) {}</code></p>\n\n<p>the menu shows correctly</p>\n\n<p>but the <code>source</code> variable still has no value outside</p>\n\n<p>=====solved====</p>\n\n<pre><code> for (var menu in source[0]) \n</code></pre>\n\n<p>should be </p>\n\n<pre><code>for (int i=0;i&lt;source[0].length;i++)\n</code></pre>\n"},{"tags":["c#","javascript",".net","ajax","ajaxcontroltoolkit"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":13043797,"title":"Stop ModalPopup Extender to popup","body":"<p>I have a modal popup extender which fires on a button click ... now irrespective on the onclientclick function return value true/false its always poping up. I need to stop the modal to fire on return of false and modal to fire the return to true..how to do this?</p>\n\n<p>Please find the code below :</p>\n\n<pre><code>&lt;div style=\"text-align:center;\" runat=\"server\" id=\"pnlButton\"&gt;          \n    &lt;asp:Button  CssClass=\"button\" ID=\"btnBack\" runat=\"server\" Text=\"Back\" \n        Width=\"120px\" onclick=\"btnBack_Click\" UseSubmitBehavior=\"false\" /&gt;\n    &amp;nbsp;\n    &lt;asp:Button  CssClass=\"button\" ID=\"btnCancel\" runat=\"server\" \n            Text=\"Cancel Request\" Width=\"130px\" onclick=\"btnCancel_Click\" onClientClick=\"Validate();\" /&gt;\n&lt;/div&gt;\n&lt;div style=\"text-align:center;\"&gt;\n&lt;asp:Button  CssClass=\"button\" ID=\"btnDone\" Visible=\"false\" runat=\"server\" \n        Text=\"Done\" Width=\"110px\" onclick=\"btnDone_Click\"   /&gt;\n&lt;/div&gt;\n\n&lt;ajaxToolkit:ConfirmButtonExtender ID=\"cbe\" runat=\"server\"\nTargetControlID=\"btnCancel\"\nDisplayModalPopupID=\"ModalPopupExtender1\"\nConfirmText=\"Are you sure you want to click this?\" /&gt;\n&lt;ajaxToolkit:ModalPopupExtender ID=\"ModalPopupExtender1\" runat=\"server\" TargetControlID=\"btnCancel\"\nPopupControlID=\"PNL\" OkControlID=\"ButtonOk\" CancelControlID=\"ButtonCancel\" BackgroundCssClass=\"modalBackground\" /&gt;\n&lt;asp:Panel ID=\"PNL\" runat=\"server\" Style=\"display: none; width: 400px; background-color: White;\n    border-width: 2px; border-color: Black; border-style: solid; padding: 20px;\"&gt;\n    &lt;h2&gt;Are you sure you want to cancel this request?&lt;/h2&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;div style=\"text-align: right;\"&gt;\n        &lt;asp:Button ID=\"ButtonOk\" runat=\"server\" Text=\"Yes\" CssClass=\"button\" /&gt;&amp;nbsp;&amp;nbsp;\n        &lt;asp:Button ID=\"ButtonCancel\" runat=\"server\" Text=\"No\" CssClass=\"button\" /&gt;\n    &lt;/div&gt;\n&lt;/asp:Panel&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13059422,"title":"Prevent re-loading of javascript if functions already exist. Otherwise ensure synchronous loading","body":"<p>Using JQuery.load(), I change the content of my website's mainWindow to allow the user to switch between tabs. For each tab, there is one or multiple scipts that contain functions that are executed once the tab content is loaded. </p>\n\n<p>Obviously when switching to the tab for the first time, the script has to be fetched from the server and interpreted, but this shouldn't happen if the user switches back to the tab later on. So, to put it short:</p>\n\n<ol>\n<li><p>Load() html</p></li>\n<li><p>make sure javascript functions exist, otherwise load script and interpret it.</p></li>\n<li><p>call a a function on the javascript after the DOM is rebuilt.</p></li>\n</ol>\n\n<p>Step one and two have to be complete before step 3 is performed. </p>\n\n<p>At the moment, I am using nested callbacks to realize this:</p>\n\n<pre><code>function openFirstTab(){\n    $(\"#mainWindow\").load(\"firstTab.php\", function(){\n        if(typeof(onloadfFirstTab) != \"function\"){\n            jQuery.getScript(\"assets/js/FirstTab.js\", function(){\n                onloadFirstTab();\n            });\n        }\n        else{\n            onloadFirstTab();\n        }\n\n    } );\n\n}\n</code></pre>\n\n<p>but I feel that there should be a better way. </p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13065793,"title":"Use the result of an ajax request as a variable","body":"<p>I would like to know how I can use the result of an ajax request as an \"object\". I'll try to explain. I have an ajax request that get a number, every 2 seconds, to an xml file. Then I render it into my html.</p>\n\n<p>Here is my js: </p>\n\n<pre><code>   var url = window.location.pathname.split('/');\n   var id = url[3];\n\nsetInterval(function() {\n   $.ajax({\n       type: \"GET\",\n       url: \"http://myxml\",\n       success: parseXml\n   });\n }, 2000);\n\nfunction parseXml(xml){\n   $(xml).find(\"user\").each(function() {\n\n           if($(this).attr(\"id\") === id ) {\n               $(\".DubScore\").html($(this).attr(\"count\"))\n           }\n       });\n}\n</code></pre>\n\n<p>and my html:</p>\n\n<pre><code> &lt;div class=\"DubScore\"&gt; &lt;/div&gt;\n</code></pre>\n\n<p>It works find, I have a count displayed to my page.</p>\n\n<p>What I want to do, is to take this number and be able to do whatever I wan't with it in my html. For example, name it \"Score\", and be able to do  \"Score\" + 2 , and things like that.</p>\n\n<p>I hope my question is clear enough. Thank you for your help.</p>\n"},{"tags":["jquery","ajax","jquery-ui","accordion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13065577,"title":"Accordion isn't loading in ajax called elements","body":"<p>I do got a nice accordion like the example over at <a href=\"http://jqueryui.com/accordion/\" rel=\"nofollow\">JQuery UI</a> and it works but when i refresh the div with an ajax call the accordion doesnt work anymore, its just plain html... How can i do this i searched the internet and i only get \"How to load ajax into accordion\" or I read that it isn't possible with .live() which i already found out. </p>\n\n<p>I tried loading in after the ajax was finished, which looks like this:\n$(\"form.ajax\").submit(function(){</p>\n\n<pre><code>    var url = $(this).attr('action');\n    var element = '';\n    if($(this).attr(\"element\") != null)\n    {\n        element = $(this).attr(\"element\");\n    }\n    else if($(this).attr(\"element\") == null)\n    {\n        element = \"render\";\n    }\n    $(\"#\"+element).html(\"&lt;div id='loader'&gt;Laden...&lt;br /&gt;&lt;img src=\\\"/site/templates/img/ajax-loader.gif\\\"/&gt;&lt;/div&gt;\");\n    $.post(url, $(this).serialize(), function(data){\n        $('#accordion').accordion();\n        $(\"#\"+element).html(data);\n\n    });\n    return false;\n}); \n</code></pre>\n\n<p>I don't think im the only one with this problem</p>\n\n<p>Please help me out</p>\n"},{"tags":["ajax","security","api","web","client"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13065520,"title":"How to secure a Mvc4 Webapi Webservice - accessed by js client [ajax]","body":"<p>I have a web-service built in mvc4 webapi, this web-service will be consumed by a website using j query or similar client side scripting technology [moo tools, knocout].</p>\n\n<p>The problem i am facing is how could i secure my web service from anyone who is not authorized to use except the one authorized client.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12736299,"title":"What is the parameter of the beforeSend jquery function?","body":"<p>I have been seeing some examples of the <code>beforeSend</code> callback function.\nThese examples use sometimes an input parameter: <code>beforeSend:function(req)</code> or <code>beforeSend:function(xhr)</code>.</p>\n\n<p>I suppose that this parameter is the <code>XMLHTTPRequest</code> of the jquery request, but when I try these examples it seems that the <code>xhr</code> or the <code>req</code> objects are <code>null</code>.</p>\n\n<p>Is it necessary to create the <code>xhr</code> parameter and initialize it before calling the execution of the jquery object?</p>\n\n<p>Here is the query that I am trying:</p>\n\n<pre><code>function make_basic_auth(un, pss)\n{\n  var tok = un + ':' + pss;\n  var hash = Base64.encode(tok);\n  return \"Basic \" + hash;\n}\n\n$('#loginform').submit(function()\n{\n    $.ajax\n    (\n        {\n            type: 'POST',\n            url: 'my.ip.address',\n            beforeSend: function(jqXHR, settings)\n            {   \n                var username = $('.username').val();\n                var password = $('.passcode').val();\n                var auth = make_basic_auth(username, password);\n\n                jqXHR.setRequestHeader(\"Authorization\",  auth);\n                jqXHR.setRequestHeader('Content-Type', 'text/plain');\n            },\n            success: function (){\n               alert(\"ok\");\n            },\n            error: function (){\n               alert(\"no\");\n            }\n        }\n    );\n});\n</code></pre>\n"},{"tags":["ajax","wordpress","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12928572,"title":"Wp E commerce product variation price from external csv file","body":"<p>The e commerce  site I am working on needed the prices to be updated from a CSV file. the file has two fields : Price and SKU. On the product page I have inserted the following code so that the price is displayed according to the SKU. (It might look crude, but that is the my php level) </p>\n\n<pre><code>     &lt;?php \n$mysku = wpsc_product_sku(wpsc_the_product_id());\n  $data = 'path to the csv file.csv' ; //Obvious\n    $pricelist = array();\n    if (($handle = fopen($data, \"r\")) !== FALSE) {\n      while (($data = fgetcsv($handle, 1000, \",\")) !== FALSE) {\n        $pricelist[$data[3]] = $data[0];\n        $pricecaption = \"Price\" ;\n      }\n      fclose($handle);\n    }\n    $myprice = $pricelist[$mysku]; \n    if (!$myprice == ' ') {\n    echo \" \" ;\n    }else {\n    echo $pricecaption.\" : \" .$myprice.\".00\" ; \n    }\n  ?&gt;  \n</code></pre>\n\n<p>This replaces the prices on the product pages. The issue is with the single product page. There you have variations. So when you select a variation from the drop down, it just shows the price from the database. </p>\n\n<p>I understood that the Ajax request is bringing the variation prices from the database. But I have no clue how to prevent that from happening and show the price according to the seleced variation's SKU. </p>\n\n<p>Any help will be appreciated. I think the work has to be done on wpsc_update_product_price() function in ajax.functions.php</p>\n\n<p>Thank you all in advance! </p>\n"},{"tags":["php","jquery","ajax","file-upload"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":13062458,"title":"Uploading multiple files using jquery file uploader and PHP","body":"<p>I am working on a web application in php mysql.Here,the requirement says,that the user should be able to upload more than one files at a time,to store them on server.Currently I can upload a single file using this,</p>\n\n<pre><code> $(function(){\nvar btnUpload=$(\"#uploadPdf\");\nnew AjaxUpload(btnUpload, {\n    action:\"uploadPdf.php\",\n    name: \"uploadCertPdf\",\n    onSubmit: function(file, ext){\n         if (!(ext &amp;&amp; /^(pdf)$/.test(ext))){ \n            alert(\"Upload File (Supports PDF formats only)\");\n            return false;\n        }           \n        var stats = $(\"#resultsOuter\");\n        stats.html('&lt;img src=\"images/layout/preloader-2.png\" /&gt;');\n    },\n    onComplete: function(file, response){\n            alert(response);\n            alert(\"File uploaded successfully\");\n            window.location=\"somePage.php\";\n\n    }\n  })\n  });        \n\n /**somePage.php file**/\n\n  if (isset($_FILES[\"uploadCertPdf\"]))\n  {\n  if ($_FILES[\"uploadCertPdf\"][\"error\"] &gt; 0)\n  {\n      echo \"Error: \" . $_FILES[\"uploadCertPdf\"][\"error\"] . \"&lt;br /&gt;\";\n  }\nelse\n  {\n       if(!is_dir($_SERVER['DOCUMENT_ROOT'].\"admin/pdf/\"))\n     {  echo \"not found\";\n        mkdir($_SERVER['DOCUMENT_ROOT'].\"admin/pdf/\", 0777,true);\n     } \n         if(file_exists($file))\n        {   echo \"duplicate\";\n            $flag = TRUE;\n        }\n        else\n        { \n            $uploaddir = '/admin/pdf/';\n            $uploadfile = $uploaddir . basename($_FILES['uploadCertPdf']['name']);\n            $path_info = pathinfo($_FILES['uploadCertPdf']['name']);\n            $type= $path_info['extension']; \n            if($type == 'pdf')\n            {   \n\n                $flag = move_uploaded_file($_FILES['uploadCertPdf']['tmp_name'],$uploadfile);\n\n            }else{\n                echo \"You can upload only PDF files\";\n                }\n        }\n\n      }\n   }\n</code></pre>\n\n<p>How can I customize it to upload multiple files at a time?I tried to search,but all plugins are customized to use some user interface,i.e they have their own independent modules and functionalities.<br/>\nSo,any help with this would be appreciated.Thanks for the time.\n<strong>EDIT:</strong> I am adding the ajax uploader function that creates a file input dynamically.</p>\n\n<pre><code>    /**\n * Creates invisible file input above the button \n **/\n_createInput : function(){\n    var self = this;\n    var input = d.createElement(\"input\");\n    input.setAttribute('type', 'file');\n    input.setAttribute('name', this._settings.name);\n    input.setAttribute('id', 'file'+this._settings.name);\n    var styles = {\n        'position' : 'absolute'\n        ,'margin': '-5px 0 0 -175px'\n        ,'padding': 0\n        ,'width': '220px'\n        ,'height': '30px'\n        ,'fontSize': '14px'                             \n        ,'opacity': 0\n        ,'cursor': 'pointer'\n        ,'display' : 'none'\n        ,'zIndex' :  2147483583 //Max zIndex supported by Opera 9.0-9.2x 2147483583 \n        // Strange, I expected 2147483647   \n    };\n</code></pre>\n\n<p>I tried by adding an array to the name attribute,but did not work.</p>\n"},{"tags":["java","javascript","ajax","wicket","right-click"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13037658,"title":"How can I disable right click event on ajaxfallbacklink in Wicket framework?","body":"<p>How can I disable right click event on ajaxfallbacklink in Wicket framework (6)?\nIf using ajaxfallbacklink, and opening a new tab (as rightclick on mouse would let me do), i will get an exception.</p>\n\n<p>(http://ci.apache.org/projects/wicket/apidocs/6.0.x/org/apache/wicket/ajax/markup/html/AjaxFallbackLink.html)\n\" ajax target if this linked was invoked using ajax, null otherwise\"</p>\n\n<p>Therefore I would like to disable the rightclickbrowser menu, or fix the exception for these kinds of links. How could I do this in a good way codewise?</p>\n"},{"tags":["asp.net","ajax","popup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13063368,"title":"pass a textbox text as a parameter to popup control extender dynamic context key","body":"<p>I have a date text box where  date is selected by the user.I want to pass this value to the popup control extenders DynamicContextKey value so that i can use that value to retrieve values from the database to populate in the popup.</p>\n\n<p>How can pass this value.below is my popup control extender.</p>\n\n<pre><code>&lt;asp:PopupControlExtender ID=\"img_magnify_PopupControlExtender\" runat=\"server\" \n                    DynamicServicePath=\"\" Enabled=\"True\" Position =\"Bottom\" \n                    TargetControlID=\"img_magnify\" PopupControlID=\"panel1\" DynamicServiceMethod = \"GetRegionalDataSubmissionStatus\" DynamicContextKey = '&lt;%# TXT_DATE.TEXT %&gt;' &gt;\n                &lt;/asp:PopupControlExtender&gt;\n</code></pre>\n"},{"tags":["jquery",".net","ajax","iis","post"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13046586,"title":"Ajax post request is blocking other ajax requests","body":"<p>Every time my page loads, it sends 3 different requests to a WCF REST API hosted on an IIS server.</p>\n\n<p>2 of the request are GET (short ones) and one is POST which takes about 5-10 secs. </p>\n\n<p>After the page loads the user can filter and sort elements on the page.</p>\n\n<p>The weird thing is that once the post is running, if the user tries to filter or sort, the get request triggered by it is delayed until the POST request is done.    </p>\n\n<p>Any ideas? </p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This is the post request code:</p>\n\n<pre><code>$.ajax({\n        url: fullURI,\n        cache: false,\n        type: 'POST',\n        data: dataJson,\n        dataType: \"json\",\n        contentType: contentTypeParam,\n        processData: true,\n        beforeSend: function (xhr) {\n            xhr.setRequestHeader('Authorization', Authorization);\n            xhr.setRequestHeader('Accept', contentTypeParam);\n        },\n\n        success: function (data, textStatus, jqXHR) {\n            callbackMethod(data, params);\n        },\n\n        error: function (jqXHR, textStatus, errorThrown) {\n            restCallFailed(jqXHR, textStatus, errorThrown, isBusy, params, fullURI);\n        }\n    });\n</code></pre>\n\n<p>Blocking the page until this data is loaded is not an option, so the user is able to interact with the page before the request is done.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I found <a href=\"http://stackoverflow.com/questions/6903318/multiple-ajax-requests-delay-each-other\">THIS</a> post, so i started looking for the equivalent in .NET and found  <a href=\"http://msdn.microsoft.com/en-us/library/system.servicemodel.sessionmode.aspx\" rel=\"nofollow\">SessionMode</a>. I tried setting it to <code>NotAllowed</code> but to no avail :(. Anyone knows what is the .Net alternative to <code>session_write_close</code>? </p>\n"},{"tags":["php","ajax","zend-framework","postgresql","pdo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":37,"score":-2,"question_id":13064009,"title":"Issue in PHP PostgreSQL Insert data","body":"<p>I'm developing a web application by using PHP Zend with Database of PostgresSQL in windows XP environment. </p>\n\n<p>Apache version 2.2 \nPostgreSQL version 8.4 </p>\n\n<p>My program:</p>\n\n<p>After Login, show in list page. From list page, Insert some items through jQuery Ajax. </p>\n\n<p>While call through Ajax, some data was deleted abruptly and insert. I did not called delete query while insert data.</p>\n\n<p>This is not all time. Very rare time. </p>\n\n<p>Insert table is simple fields. There is no primary key &amp; index. Is this an issue ? </p>\n\n<p>Any tips ?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","jquery","ajax","json"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13062277,"title":"How to get each value from json method","body":"<p>ajax </p>\n\n<pre><code>$('#stb_no').blur(function(){\n    var stb_no= $('#stb_no').val();\n    $.ajax({\n        url: \"http://localhost/paymybill/ajax/stb_info\",\n        global: false,\n        type: \"POST\",\n        data: {\n            'stb_no':stb_no, // you should give a key to the variable\n        },\n        success: function(data) {\n            $('#amount').val(data);\n     //     $(\".email_msg\").addClass(\"red\");\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log(textStatus, errorThrown);\n        }\n    });\n});\n</code></pre>\n\n<p>Controller code </p>\n\n<pre><code>public function stb_info(){\n    $stb_no=$this-&gt;mso-&gt;alldata_stbno($this-&gt;input-&gt;post('stb_no'));\n    echo json_encode($stb_no);\n}\n</code></pre>\n\n<p>i am getting out put</p>\n\n<pre><code>[{\"sxb_no\":\"xxxxxx\",\"mzo_name\":\"xx\",\"cto_name\":\"xxxxx\",\"area\":\"xxxxx\",\"name_sxb_owr\":\"\",\"mobile_no\":\"xxxxxx\",\"email\":\"xxxxx@yahoo.com\",\"amount\":\"xxx\"}]\n</code></pre>\n\n<p>i need to know how to get each values ex:- if i want get email id what i should i do in jquery please help me i new to ajax </p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13062637,"title":"chosen plugin values lost after selection","body":"<p>I am using chosen plugin in my form along with a simple select listbox. \nPlease find the HTML below: </p>\n\n<pre><code>&lt;form action=\"post\" name=\"searchForm\" id=\"searchForm\"&gt;\n    &lt;fieldset title=\"Search\" name=\"fieldset\"&gt;\n        &lt;select data-placeholder=\"Views\" style=\"width:350px;\" id=\"staticview\" name=\"Views\" data-fetch=\"staticViews\"&gt;&lt;/select&gt;\n        &lt;select data-placeholder=\"Application or Status\" style=\"width:350px;\" name=\"arr[]\" class=\"chzn-select\" multiple tabindex=\"6\" id=\"mySelect\"  data-fetchmulti=\"groups\"&gt;&lt;/select&gt;\n        &lt;br/&gt;\n        &lt;input type=\"submit\" value=\"Search\" name=\"searchBtn\" class=\"searchFormBtns\" /&gt; \n        &lt;input type=\"reset\" value=\"Reset\" class=\"searchFormBtns\" /&gt;&lt;br clear=\"all\" /&gt;\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>on change of the simple list box (static view), an ajax request is triggered. This ajax request along with update in the chosen select box [delete one of the selected values ]  removes the old values of the Chosen multiselect list.</p>\n\n<pre><code>$(\"#staticview\").change(function(e){\n    $('.searchFormBtns').click();\n});\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>When i select values from StaticView combobox , i trigger ajax request to the server side. When i change values manually in the chosen plugin and change the select value of the combo box. The values in the chosen multi select are lost. How to overcome it?</p>\n"},{"tags":["java","ajax","testing","web-applications","junit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":33,"score":-4,"question_id":13060043,"title":"testing a webapplication using jUnit or some other api?","body":"<p>I am wondering if its possible to create a testing suite for testing a web application using junit API?\nor we have to add other APIs, or is there any other better option?</p>\n\n<p>Will this support ajax, jquery, javascript?</p>\n\n<p>I mean will I be able to test the web application that uses javascript, ajax, jquery?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13062574,"title":"Uncaught TypeError: Cannot read property 'length' of null with $.each","body":"<p>im using $.each to get the data from php via ajax but when i used it my browser saying this error Uncaught TypeError: Cannot read property 'length' of null, cant find any answer.</p>\n\n<pre><code> $('#search-button-applicant').click(function (){\n             date_to = Date.parse($('#search-to-date').val());\n            date_from = Date.parse($('#search-from-date').val());\n\n            applicant_name = $('#search-applicant-name').val();\n\n\n\n\n             if($('#search-to-date').val() == \"\" &amp;&amp; $('#search-from-date').val() == \"\" &amp;&amp; applicant_name == \"\"  )\n            {\n                 alert(\"you can not search\");\n\n            }\n\n             else if($('#search-to-date').val() != \"\" &amp;&amp; $('#search-from-date').val() == \"\" ||  $('#search-to-date').val() == \"\" &amp;&amp; $('#search-from-date').val() != \"\"){\n\n                 alert(\"you can not search\");\n            }\n\n            else{\n                   var date_to_val = $('#search-to-date').val();\n                   var date_from_val = $('#search-to-date').val();\n                   var loan_type_val = $('#loan-type').val();\n                   var search_word_val = $('#search-applicant-name').val();\n\n\n\n                 $.ajax({\n                     type: \"post\",\n                     url: \"filter_search_window_get.php\",\n                     dataType:'json',\n                     data: {'func_num':loan_type_val,'Date_To':date_to_val,'Date_From':date_from_val,'search_word':search_word_val},\n                     success: function(data){\n\n                            $.each(data, function(i, item) {\n                               $('#search-table-content-list').append(\"&lt;tr&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Date Filled&lt;/label&gt;&lt;/td&gt;&lt;td style='width:9.5%;'&gt;&lt;label&gt;Date Released&lt;/label&gt;&lt;/td&gt;&lt;td style='width:8%;'&gt;&lt;label&gt;\"+data[i].last_name+\"&lt;/label&gt;&lt;/td&gt;&lt;td style='width:25%;'&gt;&lt;label&gt;Name&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Term&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Rate&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Principal&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Interest&lt;/label&gt;&lt;/td&gt;&lt;td style='width:7.5%;'&gt;&lt;label&gt;Total&lt;/label&gt;&lt;/td&gt;&lt;/tr&gt;\");\n                              });   \n\n                            }\n                     });\n            }\n        });\n</code></pre>\n\n<p>php: </p>\n\n<pre><code>$date_from = $_POST['date_from_val'];\n$date_to = $_POST['date_to_val'];\n$search_word = $_POST['search_word_val'];\n$loan_type =$_POST['loan_type_val'];\n\n\nswitch ($loan_type){\n\ncase '1':\n\n    tuition_get();\n\nbreak;\n\ncase '2':\n    salary_get();\n\nbreak;\n\ncase '3':\n    sss_get();\n\nbreak;\n\ncase '4':\n    ofw_get();\n\nbreak;\n\ncase '5':\n    business_get();\n\nbreak;\n}\n\nfunction tuition_get(){\n$date_from = $_POST['date_from_val'];\n$date_to = $_POST['date_to_val'];\n$search_word = $_POST['search_word_val'];\n\n$query = \"SELECT \n                                    a.applicant_id,\n                                    a.last_name,\n                                    a.first_name,\n                                    a.created_date,\n                                    b.form_type,\n                                    b.form_id,\n                                    c.stat,\n                                    d.release_date,\n                                    f.payment_term,\n                                    j.form_rate,\n                                    k.loan_amt,\n                                   k.interest_amt,\n                                    k.total_amt\n                        FROM \n                                    applicant a\n                        LEFT JOIN form_type b ON (a.form_id = b.form_id)\n                        LEFT JOIN form_status c ON (c.status_id  = a.status_id)\n                        LEFT JOIN applicant_loan_repayment d ON (d.applicant_id  =  a.applicant_id)\n                        LEFT JOIN applicant_tuition_loan_dtl f ON (f.applicant_id  = a.applicant_id)    \n                        LEFT JOIN form_term j ON (j.form_id  = a.form_id)\n                        LEFT JOIN applicant_loan_repayment k ON (k.applicant_id  = a.applicant_id)\n\n                        WHERE a.last_name LIKE '%$search_word%' OR a.first_name LIKE '%$search_word%' \";\n\n\n             $result=mysql_query($$query)or die(mysql_error());\n\n\n\n             $data=array();\n                while ($row = mysql_fetch_array($result))\n                {\n                $data[] = array(\n                    'last_name'=&gt;$row['last_name'],\n                   'first_name'=&gt;$row['first_name'],\n                   'form_typ'=&gt;$row['form_type']\n                );\n            }\n\n\n        echo json_encode($data);\n\n\n}\n\n function salary_get(){\n    $date_from = $_POST['date_from_val'];\n    $date_to = $_POST['date_to_val'];\n    $search_word = $_POST['search_word_val'];\n\n\n}\n\n\nfunction sss_get(){\n    $date_from = $_POST['date_from_val'];\n    $date_to = $_POST['date_to_val'];\n    $search_word = $_POST['search_word_val'];\n\n\n}\n\n\nfunction ofw_get(){\n    $date_from = $_POST['date_from_val'];\n    $date_to = $_POST['date_to_val'];\n    $search_word = $_POST['search_word_val'];\n\n\n}\n\n\nfunction business_get(){\n    $date_from = $_POST['date_from_val'];\n    $date_to = $_POST['date_to_val'];\n    $search_word = $_POST['search_word_val'];\n\n\n}\n</code></pre>\n\n<p>im using $.each to get all the fetch data from the query and post it in a table using ajax but my $.each is not working properly and i dunno whats wrong with my code.</p>\n"},{"tags":["php","jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13062428,"title":"AJAX form executes PHP script but returns error","body":"<p>My PHP script is executing successfully and the records from the form are being inserted into the Database, however, every time I press \"submit form button\" it gives me the alert \"error\" so my success function is not being executed and I don't know why.</p>\n\n<h3>JAVASCRIPT</h3>\n\n<pre><code>$(document).ready(function () {\n    $(\".button\").click(function () {\n        var dataString = 'name=' + name + '&amp;email=' + email + '&amp;comment=' + comment;\n        $.ajax({\n            type: 'POST',\n            url: 'submit_form.php',\n            dataType: 'json',\n\n            data: dataString,\n            error: function (XMLHttpRequest, textStatus, errorThrown) {\n                alert('error');\n                $('#message').removeClass().addClass('error')\n                    .text('There was an error.').show(500);\n            },\n            success: function (data) {\n                $('#contact_form').html(\"&lt;div id='message'&gt;&lt;/div&gt;\");\n                $('#message').removeClass().addClass((data.error === true) ? 'error' : 'success')\n                    .text(data.msg).show(500);\n                $('#contact_form').hide();\n            }\n        });\n        return false;\n    });\n});\n</code></pre>\n\n<h3>PHP</h3>\n\n<pre><code>//mysql connection string // \n$result = $mysqli-&gt;query(\"**fetch # of rows**\");\n$count  = $result-&gt;fetch_object()-&gt;Total;\n$result-&gt;free();\n\necho \"number of rows is $count\";\n\nif ($count &gt; 10) {\n    $return['error'] = true;\n    $return['msg']   = 'Sorry The Queue is full';\n}elseif ($stmt = $mysqli-&gt;prepare(\"**insert into db**\")) {\n    /* Bind our params */\n    $stmt-&gt;bind_param(\"sss\", $param1, $param2, $param3);\n\n    /* Set our params */\n    $param1 = $_POST[\"param1\"];\n    $param2 = $_POST[\"param2\"];\n    $param3 = $_POST[\"param3\"];\n\n    /* Execute the prepared Statement */\n    $stmt-&gt;execute();\n    $return['error'] = false;\n    $return['msg']   = 'Thanks your comment was added!';\n\n    /* Close the statement */\n    $stmt-&gt;close();\n} else {\n    /* Error */\n    printf(\"Prepared Statement Error: %s\\n\", $mysqli-&gt;error);\n}\n\necho json_encode($return);\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","jquery-ui","jquery-ui-widget"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13062196,"title":"How do I destroy all jQuery UI widgets?","body":"<p>I have developed a large \"single page application\" using jQuery and jQuery UI.  As I load various sections in the app it creates jQuery UI widgets like dialogs or date pickers.  They tend to hang around and cause some issues when I reload certain sections.  I would like the ability to call a function that destroys all jQuery UI widgets that have been loaded and remove them from the DOM.  Any solution to catch all of them?  Thanks!</p>\n"},{"tags":["jquery","asp.net","ajax","web-services","cross-domain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13056835,"title":"ASP.NET Cross Domain Web Service & Session State","body":"<p>Here's a really loaded question. I would like to implement a shared page using ASP.NET that I can download from a Web Service to include in an ASP, ASP.NET, or PHP page on any domain. The shared page would be hosted on a separate server on a different domain, so I do not have access to the typical ASP.NET Page Methods. </p>\n\n<p>Also, I would need to be able to use jQuery to send AJAX GET and POST requests to the Web Service, and be able to preserve the session state.</p>\n\n<p>Is such an implementation possible in ASP.NET? </p>\n"},{"tags":["ajax","jsf","primefaces"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13060568,"title":"update individual list item of datalist in primeface","body":"<p>I'm using Primefaces. Need to ajax update a individual list item with in a p:dataList, not the whole dataList. Please see below code:</p>\n\n<pre><code>&lt;h:from id=\"frm\"&gt;\n&lt;p:dataList id=\"dataList\" var=\"v\" value=\"#{bean.getList()}\" rowIndexVar=\"count\"&gt;\n &lt;p:outputPanel id=\"lazyPanel\"&gt;\n  IMAGE #{count}\n &lt;/p:outputPanel&gt;\n &lt;p:commandButton value=\"#{count}\" action=\"#{bean.action()}\" update=\":frm:dataList:???\" process=\"@this\"/&gt;\n&lt;/p:dataList&gt;\n&lt;/h:form&gt;\n</code></pre>\n\n<p>A list of outputPanels and command buttons gets generated.\nHow do I update the corresponding outputPanel, on click of each different command button?</p>\n\n<p>ps: I already know how to update the whole dataList, by using \":frm:dataList\", the reason other items in the data list must not be updated is because on reload of certain items in the data list they will behave differently (the details is irrelevant and I'll leave out).</p>\n"},{"tags":["python","ajax","web2py"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":12781187,"title":"Get data from POST ajax call using web2py","body":"<p>I'm making an AJAX call to a python function. That function does a database query based on the information sent to the function.</p>\n\n<p>I can't work out how to get the variable that is sent to the function.</p>\n\n<p>I was using request.vars.variableName, and I know the function is valid, it's just not receiving the variable to use properly. How do I get POST sent variables from a python function, using web2py?</p>\n\n<p>ETA: This is the code I was using</p>\n\n<pre><code>jQuery.ajax(\n        {type: \"POST\",\n        url: '../../Printed/printedballoons/cost.json', //python function\n        data: typeSelected,//data sent to server\n        dataType: 'json',\n        error: function(msg){$(\"#ajaxerror\").html(msg);},\n        success: function(data){\n            balloonPrice = data.cost;\n        },\n        timeout: 2000}\n    );\n</code></pre>\n\n<p>The error was in the \"data: typeSelected\" line, the variable name wasnt associated with any data, so the python query:</p>\n\n<pre><code>cost=db(db.balloonprices.type==request.vars.typeSelected).select(db.balloonprices.cost)\n</code></pre>\n\n<p>was looking for \"\" as opposed to a anything that actually is in the database.</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4292,"score":0,"question_id":5316482,"title":"How to change the content of a div without reloading the webpage?","body":"<p>I have a website, that uses PHP to select the content,</p>\n\n<pre><code>&lt;div&gt;  \n    &lt;? include (\"navigation.php\"); // navigation.php generates the menu ?&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;?      \n        $type = $_GET[\"type\"];\n        switch ($type) {\n        case \"page\" :\n            include \"Text.php\";\n            break;  \n        case \"news\":\n            include \"news_2.php\";\n            break;\n        default :\n            include \"main.php\";     \n        }\n    ?&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The url is of the format <code>domain.com/index.php?type</code>.\nI need to change the block <code>#content</code> without reloading the whole page, how can I do this?</p>\n"},{"tags":["ajax","asp.net-mvc-3","jquery-ajax","asp.net-ajax"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2858,"score":1,"question_id":10317141,"title":"Post form data to Controller's action with Ajax","body":"<p>I have a page in MVC3, with a link (Ajax.ActionLink). When user clicks it, it calls controller's action, and the result is inserted into a div, with replace.</p>\n\n<p>Code is shown below:</p>\n\n<pre><code>@Ajax.ImageActionLink(\"/Images/btn_share.png\", \"Share pool\", \"SharePool\", new { poolKey = Model.Id, poolName = Model.Name },\n    new AjaxOptions { \n        UpdateTargetId=\"popup\", \n        HttpMethod=\"GET\", \n        InsertionMode = InsertionMode.Replace,\n        LoadingElementId=\"loading_dialog\",\n        OnSuccess = \"ShowPopup('#popup_share', true, true)\"\n    } \n</code></pre>\n\n<p>ImageLinkAction is custom extension method to use image as link, and ShowPopup is a javascript function that shows the updated div (to make it look as a popup)</p>\n\n<p>Now the markup code inserted into the div which creates the popup contains a form as below</p>\n\n<pre><code>&lt;div&gt;\n@using (Html.BeginForm()) {\n\n    @Html.HiddenFor(model =&gt; model.ID)\n\n    &lt;div class=\"editor-label\"&gt;\n        @Html.LabelFor(model =&gt; model.EmailAddress)\n    &lt;/div&gt;\n    &lt;div class=\"editor-field\"&gt;\n        @Html.EditorFor(model =&gt; model.EmailAddress)\n        @Html.ValidationMessageFor(model =&gt; model.EmailAddress)\n    &lt;/div&gt;\n\n    // ... other fields\n\n    @Html.ValidationSummary(true)\n    &lt;p&gt;\n        &lt;button type =\"submit\"&gt;Share&lt;/button&gt;       \n    &lt;/p&gt;\n}\n&lt;/div&gt;\n</code></pre>\n\n<p>The issue is with the form's submit: the Submit button calls the proper action but with a postback, which cause my page to refresh. What I need is to post data with ajax, receive the response, which is another partial view that gets inserted into the </p>\n\n<p>I was trying to replace the Submit button with Ajax.ActionLink as below</p>\n\n<pre><code>    @Ajax.ActionLink(\"Share\", \"Share\",\n        new Models.MyModel \n            {\n                ID = Model.ID,\n                EmailAddress = Model.EmailAddress\n            },\n        new AjaxOptions\n            {\n                UpdateTargetId=\"popup\", \n                HttpMethod=\"POST\", \n                InsertionMode = InsertionMode.Replace,\n                LoadingElementId=\"loading_dialog\",\n                OnSuccess = \"ShowPopup('#popup_share', true, true)\"\n            }\n</code></pre>\n\n<p>The controller's code looks like this:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult SharePool(MyModel model)\n{\n    // ...\n    return PartialView(\"_MyPartialView\", model)\n}\n</code></pre>\n\n<p>The problem is, in the moment the Ajax ActionLink is rendered (when form is loaded) there is no value in Model.EmailAddress, so my POST action in controller receives only ID parameter.</p>\n\n<p>How can I handle this? Ideally, I think I should add                     </p>\n\n<pre><code>OnBegin = \"PreparePostData()\"\n</code></pre>\n\n<p>But since I know javascript only basically, I have no idea how can I implement this. I think this PreparePostData() should collect form fields and prepare the object routeValues parameter, to be set before the ajax call is invoked.</p>\n\n<p>Anyone can give me some indications on how to implement this?</p>\n\n<p>Or is any other, better approach on this problem?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","jquery","ajax","security","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":67,"score":-1,"question_id":13058210,"title":"Is it secure to pass a password to Java from Jquery ajax callback in plain text?","body":"<p>Or do I need to encrypt it first.  I'm using a password text field, grabbing it with </p>\n\n<pre><code>var pwd = $(\"#userpassword\").val();\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>$.post('JavaServlet', { formData: formData, pwd: pwd, date: date }, function(data) {\n</code></pre>\n\n<p>The java piece encrypts it and stores it in the ldap.<br>\nIf you suggest to encrypt, please suggest the best way to accomplish the task. \nThanks in advance!</p>\n\n<p>Answer:  We are using SSL. So it seems redundant to encrypt the password.</p>\n"},{"tags":["javascript","ajax","json","google-maps"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13060306,"title":"Calling javascript object value gives me 'undefined'","body":"<p>I'm working on a google map application and I want some markers to load from a db and display them on a map. So I created an array and defined an object like this.</p>\n\n<pre><code>function shop_data(name,latitude,longitude,type)\n    {\n    this.name=name;\n    this.latitude=latitude;\n    this.longitude=longitude;\n    this.type=type;\n    }\n</code></pre>\n\n<p>Then I added some data retrieved from an ajax request to an array of 'shop_data' objects. The array is defined as 'all_shops'. </p>\n\n<pre><code>var i=0;\nfor(var o in data){\nvar name = data[o].name;\n    var type = data[o].type;\nvar lat = data[o].lat;\nvar lng = data[o].lng;\n\nall_shops[i]=new shop_data(name,lat,lng,type);\ni++\n}\n</code></pre>\n\n<p>Then when i call 'all_shops[i].name', it gives me the name as it is. But when I call 'all_shops[i].lat' or 'all_shops[i].lng' it gives me 'undefined'. I tried parsing the lat,lng too. Here lat, lng are double variables in MySQL database. \nI can get the lat,lng values without a problem from the received ajax data by calling, just name,type,lat,lng. But things go wrong when i put them all in an array and , call them from the array. Any help would be appreciated. Thanks. </p>\n"},{"tags":["ajax","ruby-on-rails-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13059351,"title":"AJAX with Rails 3.0","body":"<p>I read in <a href=\"http://guides.rubyonrails.org/ajax_on_rails.html\" rel=\"nofollow\">this guide</a> about AJAX with Rails that \"Rails 3.1 ships with jQuery as the default JavaScript library\". If I'm using Rails 3.0, how would the use of AJAX differ from what's specified in this guide? (It's hard for me to upgrade Rails version right now.)</p>\n"},{"tags":["jquery","ajax","dynamic-data"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":64,"score":3,"question_id":13020041,"title":".load() firing before image ready","body":"<p>I have some dynamically loading images that change depending on the link a user clicks.</p>\n\n<p>I need to get the images width and height before displaying the images so that the page can be formatted correctly, however the .load() event will fire before the image is fully loaded and my width / height calls return NULL or 0.</p>\n\n<p>I need a way to check that the images are actually loaded before trying to get the dimensions.</p>\n\n<p>Any help?</p>\n\n<p>CODE:</p>\n\n<p>Ajax Call</p>\n\n<pre><code>function loadImages() {\n    //___ Variables\n    var xmlhttp;\n    var responseArray = [];\n\n    if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari\n        xmlhttp=new XMLHttpRequest();\n    } else {// code for IE6, IE5\n        xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n\n    xmlhttp.onreadystatechange=function() {\n\n        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n            $(\"#preload\").empty();\n            //___ Get server response / Convert to Array / Drop last field\n            var responseArray = xmlhttp.responseText.split(',');\n            responseArray.pop();\n\n            var windowHeight = $(window).height();\n            var imgHeight = windowHeight * .9\n            if (imgHeight &gt; 1000) {//___ if WindowHeight is &gt; 1000px make images max 900px\n                imgHeight = 900;\n            }\n\n            //___ Place images in preload\n            //$(\"#preload\").append(\"&lt;div id='contain'&gt;&lt;/div&gt;\");\n            for(var i=0;i&lt;responseArray.length;i++){\n                $(\"&lt;img src='\"+responseArray[i]+\"' id='responseImage\"+i+\"'&gt;\").appendTo(\"#preload\");\n            }\n            ready();\n        }\n\n    };\n    //console.log(portLink); //Display link clicked\n    xmlhttp.open(\"GET\",\"includes/displayimagesLive.php?portname=\"+portLink,true);\n    xmlhttp.send();\n}\n</code></pre>\n\n<p>ready() function:</p>\n\n<pre><code>function ready() {\n    var div = document.getElementById(\"preload\").childNodes;\n    var count = $(div).length;\n    console.log(count);\n\n    $(\"#responseImage0\")\n        .load(function() {\n            //alert(\"Loaded\");\n            alert($(\"#responseImage\"+count).width());\n        })\n        .error(function() {\n            alert(\"Error\");\n        });\n}\n</code></pre>\n"}]}
{"total":48692,"page":15,"pagesize":100,"questions":[{"tags":["php","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13059705,"title":"delete and edit on one page","body":"<p>I want to make a page you retrieve rows from a table in the database and be next to each row tow images, the first picture is a delete row of the table, and the second picture is a convert to the edit page How do I implement this work </p>\n"},{"tags":["jquery","ajax","internet-explorer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13040917,"title":"$.getJSON and $.ajax not workin in IE","body":"<p>Surprise, surprise... my code is working perfectly in Chrome and FF, but not in IE. The following code is doing a cross-domain JSON request. If the length of the JSON results is greater than 1, then it's suppose to display all the results with radio buttons. Otherwise, it take the single address returned and moves on to a redirect. In IE, it's always displaying the results with radio buttons, as is if it's always > 1. What am I doing wrong here? You're help is appreciated.</p>\n\n<pre><code>var url=\"http://clvplaces.appspot.com/maptools/rest/services/geocode?address=\";\nvar address = someStreetNumber + \" \" + someStreetName;\nvar city = \", Las Vegas, NV\";\nvar score = \"&amp;score=50\";\nvar jsonCB = \"&amp;format=json&amp;jsonCallback=?\";\n\n$.getJSON(url+address+city+score+jsonCB, function(results){\n    if(results.response.length &gt; 1) {\n        $.each(results.response, function(i, item) {\n            showAddresses(item)\n        });\n   }\n   else {\n        var busAdd = results.response[0].streetno + \" \" + results.response[0].streetname;\n        busAdd += \", \" + results.response[0].city + \", \" + results.response[0].zip;\n            var latLong = results.response[0].latlng;\n        getJurisdiction(latLong, address);\n      }\n});\n</code></pre>\n\n<p>I've read that $.getJSON in IE has a tendency to cache results so to use $.ajax instead. So, I switched out the $.getJSON block for:</p>\n\n<pre><code>$.ajax({\n  url: url+address+city+score+jsonCB,\n  cache: false,\n  dataType: \"json\",\n  success: function(results) {\n    // same if - else statements here\n}});\n</code></pre>\n\n<p>That change did absolutely nothing to fix the issue. Also, doing any of this server side is not an option for me... unfortunately.</p>\n\n<p>EDIT/UPDATE:</p>\n\n<p>The results for a single return are shown below. IE is always displaying single or multiply results from my IF statement, whereas Chrome and FF will display a single results from the ELSE statement as they should:</p>\n\n<pre><code>?({ \n    errormsg: '',\n    response: [\n        {\n            latlng:'36.167352999999999,-115.148408',\n            score:'50',\n            streetno:'495',\n            streetname:'S Main St',\n            city:'Las Vegas',\n            state:'NV',\n            zip:'89101'\n        },\n    ]\n})\n</code></pre>\n"},{"tags":["php","jquery","ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":74,"score":0,"question_id":13058816,"title":"how get php respone from jquery .load","body":"<p>i give another codes for example \nthis is my some3.php code:(First file)\n:</p>\n\n<pre><code>&lt;head&gt;\n&lt;script src=\"jquery-1.7.2.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $('p').click(function(){\n        var who = $('input#who').val();\n        var why = $('input#why').val();     \n        $('#geting').load('file2.php',{who:who,why:why},function(applyData){\n  if ( applyData == 'YEY . Ye have hi' ){\nalert('OKKK data is ok ');\n  } else{\n      alert('Nooo We dont have requested output');\n  }\n        });\n    });\n});\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt; click &lt;/p&gt;\n&lt;input type=\"text\" id=\"who\"&gt;\n&lt;br&gt;\n&lt;input type=\"text\" id=\"why\"&gt;\n&lt;div id=\"geting\" align=\"center\"&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>i this my file2.php:</p>\n\n<pre><code>&lt;?php\necho \"1\";\necho \"2\";\n    if($_REQUEST['who'] == \"hi\"){\n\n\n    $myVariable = \"YEY . Ye have hi\";\n    echo $myVariable;\n    } else{\n   $myVariable = \"The out put is not Hi\";\n    echo $myVariable;\n    }\n?&gt;\n</code></pre>\n\n<p>its not work why? becuse we have echo \"1\" and echo \"2\"\ni want jquery just check $myVariable data not whole php callback ! i think i must use json but i dont know how</p>\n"},{"tags":["jquery","ajax","jquery-select2"],"answer_count":4,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":320,"score":1,"question_id":12889552,"title":"How to Set Selected value in Multi-Value Select in Jquery-Select2.?","body":"<p>hi  all  i am  binding  my  dropdown  with Jquery-Select2.  Its  working  fine  but  now  i  need  to  Bind  my  Multi-Value  selectBox   by  using Jquery-Select2.</p>\n\n<p>My   DropDwon  </p>\n\n<pre><code>    &lt;div class=\"divright\"&gt;\n                        &lt;select id=\"drp_Books_Ill_Illustrations\" \n                            class=\"leaderMultiSelctdropdown Books_Illustrations\" name=\"drp_Books_Ill_Illustrations\"\n                            multiple=\"\"&gt;\n                            &lt;option value=\" \"&gt;No illustrations&lt;/option&gt;\n                            &lt;option value=\"a\"&gt;Illustrations&lt;/option&gt;\n                            &lt;option value=\"b\"&gt;Maps&lt;/option&gt;\n                            &lt;option value=\"c\"&gt;Portraits&lt;/option&gt;\n\n\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n</code></pre>\n\n<p>From   this  link  <a href=\"http://ivaynberg.github.com/select2/\" rel=\"nofollow\">http://ivaynberg.github.com/select2/</a>     i am  using  Mutiple  Value  Select  Box   ,  I  can  Bind  my  dropdwon  with </p>\n\n<pre><code>   $(\"dropdownid\").Select2()\n</code></pre>\n\n<p>its  working  fine,  but  now  i  need  to  get  that  selected  value  into  my  dropdown  on  edit  mode So  i am  using  this  Example</p>\n\n<pre><code> $(\".Books_Illustrations\").select2(\"val\", [\"a\", \"c\"]);\n</code></pre>\n\n<p>its  working  but  how   can i  fix  my  choice,  because  user  can  choice  anything  So  i  can't  write  a,c   statically  thats  why  i  need  to  bind  my  Selected  value  on  Edit  mode  dynamically.</p>\n\n<p>I  think  now  you  all  are  clear  with  my  requirement.  Please  let  me  know  if  you  need  further  clearance.  </p>\n"},{"tags":["jquery","ajax","payload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13055268,"title":"request payload versus query string parameters","body":"<p>I am absolutely in the dark when it comes to this request payload that I'm seeing in my Chrome  browser. </p>\n\n<p>A Query string will have a variable attached like session:2g0SoEE but this payload has just one long string I'm guessing is in base64. </p>\n\n<p>I do understand that the request payload can have whatever, but how do I use it? </p>\n\n<p>Can I do a post with jquery and send this request payload?</p>\n\n<p>For example: </p>\n\n<pre><code>$.post(url, {variable: \"variable\"}, function(data){});\n</code></pre>\n\n<p>When this posts it will send &amp;variable=variable this will be found as query string parameter in the headers sent in chrome. </p>\n\n<p>In this game I'm playing I see another piece of info being sending in the header called a payload request. I'm a confused as to how this is read, used, made, how I can reduplicate this?</p>\n\n<p>Here is something similar: <a href=\"http://stackoverflow.com/questions/11753751/chrome-is-caching-an-http-put-request\">Chrome is caching an HTTP PUT request</a> \nand\n<a href=\"http://stackoverflow.com/questions/9597052/how-to-retrieve-request-payload\">How to retrieve Request Payload</a></p>\n"},{"tags":["javascript","jquery","ajax","https"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13054842,"title":"JQuery.ajax not using HTTPS","body":"<p>So, I am calling a web service from jQuery using the .ajax method.  The page that is calling the method is an HTTPS/SSL page, yet when the call is made, jQuery keeps making an HTTP request and it is failing because the server is set up to redirect all HTTP traffic to HTTPS...so a 301 error is coming back.</p>\n\n<p>I have inspected my code a million times and tried a million ways to generate the url parameter for the ajax query.  (using // for relative and now just appending the protocol https to the beginning of the url.  Here is my javascript:</p>\n\n<pre><code>function add_inbound_record(serial_number, pass_fail_value)\n{\n   pfv = pass_fail_value.toUpperCase();\n   url = location.protocol + \"//\" + location.hostname + \"/inbound/record-                 inspection/\" + serial_number + \"/\" + pfv;\n   $.ajax({\n   url:url,\n   cache:false,\n   });\n}\n</code></pre>\n\n<p>So, when this code executes, I check the url paramter in firebug and it shows up correctly with https and the URL properly formed.  However, when I execute the ajax function I see this in firebug:</p>\n\n<pre><code>301 MOVED PERMANENTLY\n\n192.168.1.9\n\n20 B\n\n192.168.1.9:443\n\nResponse Headersview source\nConnection  keep-alive\nContent-Encoding    gzip\nContent-Length  20\nContent-Type    text/html; charset=utf-8\nDate    Wed, 24 Oct 2012 17:33:34 GMT\nLocation    http://192.168.1.9/inbound/record-inspection/011234567890123421000000002995/P/?_=1351100020609\nServer  nginx/1.1.19\nVary    Accept-Encoding\n\nRequest Headersview source\nAccept  */*\nAccept-Encoding gzip, deflate\nAccept-Language en-us,en;q=0.5\nConnection  keep-alive\nCookie  djdt=hide; csrftoken=sF9RUxrlS6IKURxOryH2d2yT05gMighn;         sessionid=9682390da4011e445931643c81be9aae\nHost    192.168.1.9\nReferer https://192.168.1.9/fingerprint/inspect/\nUser-Agent  Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:15.0) Gecko/20100101     Firefox/15.0.1\nX-Requested-With    XMLHttpRequest\n</code></pre>\n\n<p>As you can see above from the referrer, the protocol is HTTPS yet the location in the response header is HTTP?  I can't for the life of me figure out why the request is going across the wire as HTTP and not HTTPS.  The 301 response is accurate considering it is going as HTTP since, again, the webserver is configured to only allow HTTPS access. Any ideas?</p>\n"},{"tags":["java","ajax","session","tomcat","concurrency"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13057827,"title":"Closing an HTTP Session for Writing in Java / Tomcat","body":"<p>When working on an ASP.NET application, I discovered that placing something in the session cache, or really, accessing variables in the session cache, caused my Ajax queries to stop being asynchronous. I learned that this was because the session basically blocks - if I fire two Ajax requests from my browser at the same time, and the first one takes a bit to return, the session is locked in the first request until that request is completed, at which point my second Ajax request starts working. </p>\n\n<p>In PHP I gather that there is an option to close the session for writing (and / or open it in a read-only way) so that session variable access is non blocking and things stay asynchronous. </p>\n\n<p>I'm building an application that will be Java, probably running on Tomcat (though I could change to some other container if I needed) and I am not able to find out whether Java has the same issue (session variable reads block) or has the same remedy (early close, read only mode). Has anyone encountered that issue before?</p>\n"},{"tags":["jquery","ajax","jquery-ajax","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13057830,"title":"Delete Row jquery symfony2","body":"<p>I have this java script function to delete the row but this function does not delete the row of the database which can help me to remove it from the base</p>\n\n<pre><code>enter code here \n\n$(document).ready(function()\n{\n    $('table#example td a.delete').click(function()\n    {\n        if (confirm(\"Are you sure you want to delete this row?\"))\n        {\n            var id = $(this).parent().parent().attr('id');\n            var data = 'id=' + id ;\n            var parent = $(this).parent().parent();\n\n            $.ajax(\n            {\n                   type: \"POST\",\n                   url: \"supprimerkpi\",\n                   data: data,\n                   cache: false,\n\n                   success: function()\n                   {\n                        parent.fadeOut('slow', function() {$(this).remove();});\n\n                        // sets specified color for every odd row\n                        $('table#example tr:odd').css('background',' #FFFFFF');\n                   }\n             });\n        }\n    });\n</code></pre>\n\n<p>and in my page html:</p>\n\n<pre><code>enter code here &lt;a href=\"#\" class=\"delete\" style=\"color:#FF0000;\"&gt;\n</code></pre>\n\n<p>in my controller </p>\n\n<pre><code>enter code here $repository = $this-&gt;getDoctrine()-&gt;getEntityManager() &gt;getRepository('AdminBlogBundle:Condkpi'); $id=$this-&gt;getRequest()-&gt;query-&gt;get('id');\n            $em = $this-&gt;getDoctrine()-&gt;getEntityManager();\n            $uti=$repository-&gt;findOneBy(array('id' =&gt; $id));\n            $em-&gt;remove($uti);\n            $em-&gt;flush();\n</code></pre>\n"},{"tags":["javascript","ajax","django","post","httpresponse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13057519,"title":"django ajax Post not posting propely and returns empty message","body":"<p>using django 1.4, I am trying to Post and it seems like its not posting propely, i <code>request.GET.get('type',''</code>) but it prints empty string and the Post response comes (undefined) empty but GET works fine. </p>\n\n<p>my django view:</p>\n\n<pre><code>@csrf_protect\ndef edit_city(request,username):\n    conditions = dict()\n\n    #if request.is_ajax():\n    if request.method == 'GET':\n        conditions = request.method\n#based on http://stackoverflow.com/a/3634778/977622     \n            for filter_key, form_key in (('type',  'type'), ('city', 'city'), ('pois', 'pois'), ('poisdelete', 'poisdelete'), ('kmz', 'kmz'), ('kmzdelete', 'kmzdelete'), ('limits', 'limits'), ('limitsdelete', 'limitsdelete'), ('area_name', 'area_name'), ('action', 'action')):\n                value = request.GET.get(form_key, None)\n                if value:\n                    conditions[filter_key] = value\n                    print filter_key , conditions[filter_key]\n\n    elif request.method == 'POST':\n        print \"TIPO\" , request.GET.get('type','')       \n        #based on http://stackoverflow.com/a/3634778/977622     \n        for filter_key, form_key in (('type',  'type'), ('city', 'city'), ('pois', 'pois'), ('poisdelete', 'poisdelete'), ('kmz', 'kmz'), ('kmzdelete', 'kmzdelete'), ('limits', 'limits'), ('limitsdelete', 'limitsdelete'), ('area_name', 'area_name'), ('action', 'action')):\n            value = request.GET.get(form_key, None)\n            if value:\n                conditions[filter_key] = value\n                print filter_key , conditions[filter_key]\n\n        #Test.objects.filter(**conditions)\n    city_json = json.dumps(conditions)\n\n    return HttpResponse(city_json, mimetype='application/json')\n</code></pre>\n\n<p>here is my javascript code :</p>\n\n<pre><code>function getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie &amp;&amp; document.cookie != '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i &lt; cookies.length; i++) {\n            var cookie = jQuery.trim(cookies[i]);\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\nvar csrftoken = getCookie('csrftoken');\n\nfunction csrfSafeMethod(method) {\n    // these HTTP methods do not require CSRF protection\n    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\n}\nfunction sameOrigin(url) {\n    // test that a given url is a same-origin URL\n    // url could be relative or scheme relative or absolute\n    var host = document.location.host; // host + port\n    var protocol = document.location.protocol;\n    var sr_origin = '//' + host;\n    var origin = protocol + sr_origin;\n    // Allow absolute or scheme relative URLs to same origin\n    return (url == origin || url.slice(0, origin.length + 1) == origin + '/') ||\n        (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||\n        // or any other URL that isn't scheme relative or absolute i.e relative.\n        !(/^(\\/\\/|http:|https:).*/.test(url));\n}\n$.ajaxSetup({\nbeforeSend: function(xhr, settings) {\n    if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {\n        // Only send the token to relative URLs i.e. locally.\n        xhr.setRequestHeader(\"X-CSRFToken\",\n                             $('input[name=\"csrfmiddlewaretoken\"]').val());\n    }\n}\n});\n\n$.post(url,{ type : type , city: cityStr, pois: poisStr, poisdelete: poisDeleteStr, kmz: kmzStr,kmzdelete : kmzDeleteStr,limits : limitsStr, area_nameStr : area_nameStr , limitsdelete : limitsDeleteStr},function(data,status){\n                    alert(\"Data: \" + data + \"\\nStatus: \" + status);\n                    console.log(\"newdata\" + data.kmz)\n                });\n</code></pre>\n\n<p>what am i missing?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","jstree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12957677,"title":"Adding different json_data.ajax.success handlers for different node types in Jstree","body":"<p>I want to represent a tree-structure using <a href=\"http://www.jstree.com\" rel=\"nofollow\">Jstree</a>. I am facing the problem that the server does not returns the data in a jstree-compliant format - it's just ordinary Json. </p>\n\n<p>One solution that I implemented is to use the <a href=\"http://www.jstree.com/documentation/json_data\" rel=\"nofollow\"><code>json_data.ajax.success</code></a> callback to modify the data in order to bring it to the required format. However, this function does not get context information - therefore, I don't know what node is being loaded and don't know how I have to transform the received data.</p>\n\n<p>I have seen that there is a <a href=\"http://www.jstree.com/documentation/types\" rel=\"nofollow\"><code>types</code></a> plugin that allows different behaviour between nodes - for example, displaying a corresponding icon. Is it possible to use this plugin to add different ajax-success-handlers for each node type? If not, what other solutions are there?</p>\n\n<pre><code>$(\"#tree\").jstree({\n    \"plugins\": [\"json_data\", \"themes\", \"types\"],\n    \"json_data\": {\n        \"ajax\": {\n            \"url\": function (n) {   // want to make this type-dependent.\n                if (n === -1) {\n                    return \"...\";\n                } else if ( ... ) {\n                    return \"...\";\n                }\n            },\n            \"success\": function (data) {    // want to make this type-dependent\n                var result = [];\n                $.each(data, function (index, value) {\n                    \"data\": \"......\",\n                    \"attr\": {\n                        \"id\": \".................\",\n                        \"rel\":  \"...............\"\n                    }\n                });\n                return result;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13050884,"title":"Render some content on Rails view","body":"<p>I am new to Rails, so I'm not sure if this is the correct way to go about doing this.  I have a view that contains an AJAX link for a number of checkboxes in the form of</p>\n\n<pre><code>&lt;% @row_headers.each do |row_header| %&gt;\n  &lt;% row_header_ = row_header.gsub(\" \", \"-\") %&gt;\n    &lt;%= check_box_tag row_header_, row_header, params.key?(row_header_),\n      :data =&gt; { :remote =&gt; true,\n      :url =&gt; url_for(\n        controller: :web_pages,\n        action: :administratorswgraph} %&gt; &lt;%= row_header %&gt;\n &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>This is being called from the :administratorswgraph view.  Later on in the file I have</p>\n\n<pre><code>&lt;% if not @swChart.nil? %&gt;\n  &lt;div id=\"swChart\"&gt;&lt;/div&gt;\n  &lt;%= render_chart(@swChart, 'swChart') %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Where render_chart is from the <a href=\"https://github.com/winston/google_visualr\" rel=\"nofollow\">GoogleVisualr</a> library.  On the controller I have </p>\n\n<pre><code>def administratorswgraph\n  headers = []\n  @row_headers.each_with_index do |row_header, i|\n    if params.key? row_header.gsub(\" \", \"-\")\n      headers.push i\n    end\n  end\n  if headers.empty?\n    @swChart = nil\n  else\n    @swChart = MakeSiteChart(headers, 580, 480)\n  end\nend\n</code></pre>\n\n<p>Where the MakeSiteChart function returns a GoogleVisualr object based on the checkboxes.  What I want is that for every time the checkbox's state is changed a new chart is made and shown.  I can tell from my debugger, that indeed &lt;%= render_chart(@swChart, 'swChart') %> is getting called in the view whenever a checkbox's state is changed, however the display in the browser is never updated.  How do I get the display in the browser to show the chart?</p>\n\n<p><strong>Edit</strong>\nI was able to get control of the ajax event by using the following method</p>\n\n<pre><code>$('#&lt;%=  @row_headers[0].gsub(\" \", \"-\") %&gt;').on('ajax:success', function(event, xhr, settings) {\n  alert(\"HERE\")\n</code></pre>\n\n<p>});</p>\n\n<p>For testing purposes I'm only hooking up the first checkbox.  However, I'm not sure how to parse the arguments, how to get the chart, and how to insert it back into the DOM.</p>\n"},{"tags":["jquery","ajax","http"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":761,"score":4,"question_id":6701376,"title":"What response/status code should I send to an AJAX request when there is a user/form validation error?","body":"<p>I am creating a feature of my web application where a user can \"edit-in-place\" a record and submit the form via AJAX using jQuery. </p>\n\n<p>When someone is \"ajax editing\" a record and they submit the form with valid data, I send a 200 status code, which triggers the jQuery AJAX Success function, then ignore the response body (since it was successful, I don't need it), and collapse the form. </p>\n\n<p>When there are form validation errors, I send a 400 status code in order to trigger the jQuery error method, and in the body of the request I specify which fields did not validate.</p>\n\n<p>In a previous StackOverflow question, someone mentioned that it \"seemed odd\" that I was sending a 400 status code and working with the response body. Is my approach not a best-practice? What would you recommend that I do in this situation?</p>\n"},{"tags":["php","javascript","jquery","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":59,"score":0,"question_id":13056423,"title":"AJAX post fails with '?'","body":"<p>i have a textarea and a button, when i click the button, send the textarea value via ajax and save this data with PHP in a MySQL database. It works fine, the problem is if write any text with '??' characters it fires the error function of ajax for example 'where are you??' stores <code>Where are youjQuery171029144422709941864_1351100725031?</code></p>\n\n<hr>\n\n<p>javascript code:</p>\n\n<pre><code> $.ajax({\n         type: \"POST\",\n         url: \"/animo/public/index\",\n         dataType:'json',\n         data:\"new=\"+('textarea').val().toString(),\n         success: function(msg){\n         console.log(msg);\n         }});\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code> if ($_POST[\"new\"])\n{\n  $reg = $this-&gt;createRow();\n   $reg-&gt;ayu_text = $detail;\n   $reg-&gt;ayu_date = date(\"Y-m-d\");\n   $reg-&gt;ayu_time = date(\"H:i:s\");\n   $reg-&gt;ayu_lat = $lat;\n   $reg-&gt;ayu_lng=$lng;\n   $reg-&gt;usu_id_fk = $user;\n   $reg-&gt;save();}\n</code></pre>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":13057092,"title":"How to get data from ajax.done()?","body":"<p>I have the following function:</p>\n\n<pre><code>$.ajax({\n    url: \"../../getposts.php\"\n}).done(function(posts) { \n    var postsjson = $.parseJSON(posts);\n});\n</code></pre>\n\n<p>How do I use the variable <code>postsjson</code> outside the <code>.done()</code> function, or how do I declare it global?</p>\n\n<p>I can't pass it to another function, because I want to use the array later on, and not when the ajax is completed.</p>\n"},{"tags":["javascript","ajax","webkit","binary","xmlhttprequest"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":470,"score":2,"question_id":9795273,"title":"Chrome WebKitBlobBuilder doesn't append data","body":"<p>I'm implementing some file upload feature through ajax request. I'd like to be able to send multiple files in one ajax call, so i decided to use FormData.</p>\n\n<p>I tried to append my binary data string directly to the FormData (and it works), but the Content-Disposition doesn't have a filename attribute:\n    Content-Disposition: form-data; name=\"file1\"</p>\n\n<p>w3c says that i need to append a blob object to the formdata to have that attribute (or to be able to set it with the 3rd attribute of FormData.append())</p>\n\n<p>I wrote the following code:</p>\n\n<pre><code>function uploadAsBinary() {\n    var xhr = new XMLHttpRequest();\n    var fd = new FormData();\n\n    window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n    var bb = new window.BlobBuilder();\n    bb.append(\"this is my binary content\");\n    var blob = bb.getBlob(\"text/plain\"); \n\n    fd.append(\"file1\", blob, \"file1\");\n\n    xhr.open(\"POST\", \"/mb/0/\", false);\n    xhr.send(fd);\n}\n</code></pre>\n\n<p>It works perfectly fine with firefox, but with google chrome (v16 and v17), the request payload is a formdata without content in it:</p>\n\n<pre><code>------WebKitFormBoundaryVkgESMAGtmPMlPZ7\nContent-Disposition: form-data; name=\"file1\"; filename=\"file1\"\nContent-Type: text/plain\n\n\n------WebKitFormBoundaryVkgESMAGtmPMlPZ7--\n</code></pre>\n\n<p>I've also tried to fill the blob through an ArrayBuffer, same result. \nI've been surfing the web for 2 days now, i've found no answer. I've found an open issue on android (http://code.google.com/p/android/issues/detail?id=22441) but it seems quite dead.</p>\n\n<p>Is this a real chrome issue ? Does someone have a clue about this, or should i open an issue on chromium tracker ?</p>\n\n<p>Thx for your help !</p>\n"},{"tags":["jquery","ajax","nginx"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":197,"score":1,"question_id":6952053,"title":"jQuery.ajax 'success' callback in chrome/chromium","body":"<p>I am using the nginx's upload progress module.</p>\n\n<p>I need a JS function to GET the progress periodically.</p>\n\n<p>I tried <a href=\"http://wiki.nginx.org/HttpUploadProgressModule#Usage_on_pure_JavaScript\" rel=\"nofollow\">this</a> (I changed the url path when I applied it on my server) but it does not work on chrome/chromium 12/13. (IE 8/9 Firefox 3+ OK. IE7 not tested)</p>\n\n<p>I used Firebug to add some assertion, and found that the <code>onStateChange</code> is never called in chrome/chromium. (that is, the <code>readyState</code> is never 4)</p>\n\n<p>Then I tried to rewrite the code in <code>$.ajax()</code>. The success callback is also never called (IE8/9 Firefox 3+ OK)</p>\n\n<p>However, when I write some simple small ajax function to test in chrome/chromium, it's all right...</p>\n\n<p>I need some hints.</p>\n\n<p>Thank you for your time.</p>\n\n<hr>\n\n<p>EDIT: When I use the function to send the ajax request manually in chrome's console, it is successful...</p>\n"},{"tags":["javascript","ajax","django","http-post","http-status-code-403"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":13035412,"title":"django ajax post 403 forbidden","body":"<p>using django 1.4 im getting a 403 error when i try to do a post from my javascript do my django server. my get works fine though the problem is only with the post. also tried @csrf_exempt with no luck</p>\n\n<p>UPDATE: I can Post now that i added <code>{% csrf_token %}</code> , but the post response comes empty, although the GET comes correctly, any ideas?</p>\n\n<p>my django view:</p>\n\n<pre><code>@csrf_protect\ndef edit_city(request,username):\n    conditions = dict()\n\n    #if request.is_ajax():\n    if request.method == 'GET':\n        conditions = request.method\n\n    elif request.method == 'POST':\n        print \"TIPO\" , request.GET.get('type','')       \n        #based on http://stackoverflow.com/a/3634778/977622     \n        for filter_key, form_key in (('type',  'type'), ('city', 'city'), ('pois', 'pois'), ('poisdelete', 'poisdelete'), ('kmz', 'kmz'), ('kmzdelete', 'kmzdelete'), ('limits', 'limits'), ('limitsdelete', 'limitsdelete'), ('area_name', 'area_name'), ('action', 'action')):\n            value = request.GET.get(form_key, None)\n            if value:\n                conditions[filter_key] = value\n                print filter_key , conditions[filter_key]\n\n        #Test.objects.filter(**conditions)\n    city_json = json.dumps(conditions)\n\n    return HttpResponse(city_json, mimetype='application/json')\n</code></pre>\n\n<p>here is my javascript code :</p>\n\n<pre><code>function getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie &amp;&amp; document.cookie != '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i &lt; cookies.length; i++) {\n            var cookie = jQuery.trim(cookies[i]);\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\nvar csrftoken = getCookie('csrftoken');\n\nfunction csrfSafeMethod(method) {\n    // these HTTP methods do not require CSRF protection\n    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\n}\nfunction sameOrigin(url) {\n    // test that a given url is a same-origin URL\n    // url could be relative or scheme relative or absolute\n    var host = document.location.host; // host + port\n    var protocol = document.location.protocol;\n    var sr_origin = '//' + host;\n    var origin = protocol + sr_origin;\n    // Allow absolute or scheme relative URLs to same origin\n    return (url == origin || url.slice(0, origin.length + 1) == origin + '/') ||\n        (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||\n        // or any other URL that isn't scheme relative or absolute i.e relative.\n        !(/^(\\/\\/|http:|https:).*/.test(url));\n}\n$.ajaxSetup({\nbeforeSend: function(xhr, settings) {\n    if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {\n        // Only send the token to relative URLs i.e. locally.\n        xhr.setRequestHeader(\"X-CSRFToken\",\n                             $('input[name=\"csrfmiddlewaretoken\"]').val());\n    }\n}\n});\n\n$.post(url,{ type : type , city: cityStr, pois: poisStr, poisdelete: poisDeleteStr, kmz: kmzStr,kmzdelete : kmzDeleteStr,limits : limitsStr, area_nameStr : area_nameStr , limitsdelete : limitsDeleteStr},function(data,status){\n                    alert(\"Data: \" + data + \"\\nStatus: \" + status);\n                    console.log(\"newdata\" + data.area_name)\n                });\n</code></pre>\n\n<p>i have also tried from the site with no luck : </p>\n\n<pre><code>$.ajaxSetup({\n    beforeSend: function(xhr, settings) {\n        if (!csrfSafeMethod(settings.type) &amp;&amp; sameOrigin(settings.url)) {\n            // Send the token to same-origin, relative URLs only.\n            // Send the token only if the method warrants CSRF protection\n            // Using the CSRFToken value acquired earlier\n            xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n        }\n    }\n});\n</code></pre>\n\n<p>what am i missing?</p>\n"},{"tags":["ajax","post"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13057125,"title":"MVC 4 ajax request with Clojurescript","body":"<p>Trying to get an ajax post to work with MVC 4, but it keeps erroring out.</p>\n\n<p>Current test Clojure call:</p>\n\n<pre><code>(defn make-js-map [cljmap]\n   (let [out (js-obj)]\n   (doall (map #(aset out (name (first %)) (second %)) cljmap)) out))\n\n(defn ajax-json-item [url]\n   (let [input {:id 1 :name \"hihi\"}]\n      (.send goog.net.XhrIo url callback 'GET' (make-js-map input)))) \n</code></pre>\n\n<p>Mvc Action:</p>\n\n<pre><code>public JsonValue Update(string id, string name)\n{\n  dynamic json = new JsonObject();\n\n  json.Name = \"hihii\";\n  return json;\n}\n</code></pre>\n\n<p>At this point, it doesn't reach the Update method.  Currently the only way I could get a request to be handled was to use GET as opposed to POST, and that was with a parameterless action.  A POST to a parameterless action returns a bad json response according to Chrome and Firefox.  It fails completely when trying to call a \"parametered\" action, citing:</p>\n\n<blockquote>\n  <p>Error: Could not complete the operation due to error c00c023f.</p>\n</blockquote>\n\n<p>If I drill in a bit, it is throwing an \"Invalid Argument\" error.</p>\n"},{"tags":["jquery","ajax","json","put"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13056810,"title":"How to implement a PUT call with JSON data using AJAX and JQuery?","body":"<p>I've looked around and tried many different methods, but can't seem to pass actual data to my controller's function.</p>\n\n<p>Here is some code:</p>\n\n<pre><code>        var URL = \"/Timesheet/Timesheet/UpdateEntry\";\n\n        var dataObject = { 'newWeekEntry': newEntry, 'oldWeekEntry': oldEntry };\n\n        alert(JSON.stringify(dataObject));\n\n        $.ajax({\n            url: URL,\n            type: 'PUT',    \n            data: JSON.stringify(dataObject),\n            dataType: 'json',\n            success: function(result) {\n                alert(\"success?\");\n            }\n        });\n</code></pre>\n\n<p><code>newEntry</code> and <code>oldEntry</code> are both objects.</p>\n\n<p>The <code>alert</code> line outputs this (with some properties removed, just for brevity): </p>\n\n<pre><code>{\"newWeekEntry\":{\"MondayHours\":2,\"TuesdayHours\":2,\"WednesdayHours\":5,\"ThursdayHours\":5,\"FridayHours\":\"4\",\"SaturdayHours\":0,\"SundayHours\":0},\"oldWeekEntry\":{\"MondayHours\":2,\"TuesdayHours\":2,\"WednesdayHours\":5,\"ThursdayHours\":5,\"FridayHours\":2,\"SaturdayHours\":0,\"SundayHours\":0}}\n</code></pre>\n\n<p>When I debug my controller action (\"UpdateEntry\"), the two parameters are filled with the <code>TimesheetEntry</code> class default parameters (0).</p>\n\n<p>Am I passing this in properly?</p>\n"},{"tags":["jquery","ajax","jquery-ajax","jquery-waypoints"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":203,"score":1,"question_id":6904950,"title":"Waypoint unrecognized on Ajax-loaded content","body":"<p>I'm loading a page into a div. I'm also attempting to establish a waypoint, so that when the user scrolls down the page, the menu will change colors.</p>\n\n<p>The problem I am having is the new height of the div is not recognized by the browser once the ajax content is loaded.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>$(\".cta\").live('click', function () {\n    $('#faq').load('about-us/faqs/index.html'),\n    function () {\n        $(\"#faq\").waypoint(function (event, direction) {\n            if (direction === 'up') {\n                $(\"#siteNav li a\").removeClass(\"siteNavSelected\");\n                $(\"#siteNav li.nav3 a\").addClass(\"siteNavSelected\");\n            }\n        }, {\n            offset: function () {\n                return $.waypoints('viewportHeight') - $(\"#faq\").outerHeight();\n            }\n\n        });\n    }\n    return false;\n});\n</code></pre>\n\n<p>Any ideas? Thanks.</p>\n"},{"tags":["asp.net","ajax","gridview","updatepanel","paging"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2281,"score":2,"question_id":4802065,"title":"ASP.net Gridview Paging doesin't work inside UpdatePanel","body":"<p>Altough questions somehow similar to this have been asked for a number of times, but the question is still unsolved. Here is the question:\nI have a gridview which is contained in a tab container ajax control  which itself is inside an updatepanel. Gridview works excellent and its corresponding methods are fired accurately, but when I enable paging, (e.g.) after I click on page 2, the gridview hides itself. here is my <strong>PageIndexChanging</strong> method:</p>\n\n<pre><code>protected void GridView1_PageIndexChanging(object sender, GridViewPageEventArgs e)\n{\n    GridView1.PageIndex = e.NewPageIndex;        \n    GridView1.DataBind();\n    UpdatePanel2.Update();        \n}\n</code></pre>\n\n<p>Why paging causes gridview to stop working correctly? What can I do?</p>\n"},{"tags":["jquery","ajax","fullcalendar","qtip2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13038901,"title":"Using qtip with Adam Shaw's Jquery full calendar","body":"<p>I'm Using Adam Shaw's full calender found here...  <code>http://arshaw.com/fullcalendar/</code> </p>\n\n<p>I am trying to on <strong>click on a day</strong> using <em>qtip</em> to <strong>load</strong> a <code>create()</code> page with <em>ajax</em> functionality</p>\n\n<pre><code>function renderCalendar() {\n$(\"#calendar\").fullCalendar({\n    events: 'list.json',\n    header: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'month,agendaWeek,agendaDay'\n    },\n\n    dayClick: function(date, allDay, jsEvent, view, element) {\n         allDay: false\n        $(element).addClass(event.cssClass);\n\n        allDay:false\n        // change the day's background color just for fun\n        $(this).css('background-color', 'red');\n\n\n        $(element).qtip({\n            content: {\n                text: ' ',\n                ajax: {\n                    url: '/event/create',\n                    type: 'get'\n//                  data:\n                }\n            },\n            show: {\n                event: 'click',\n                solo: true\n            },\n            hide: {\n                event: 'unfocus'\n\n            },\n            style: {\n                width: '500px',\n                widget: true\n            },\n            position: {\n                my: 'bottom middle',\n                at: 'top middle',\n                viewport: true\n            }\n        });\n\n    },\n    eventRender: function(event, element) {\n        $(element).addClass(event.cssClass);\n\n        var occurrenceStart = event.occurrenceStart;\n        var occurrenceEnd = event.occurrenceEnd;\n\n        var data = {id: event.id, occurrenceStart: occurrenceStart, occurrenceEnd: occurrenceEnd};\n\n        $(element).qtip({\n            content: {\n                text: ' ',\n                ajax: {\n                    url: \"show\",\n                    type: \"GET\",\n                    data: data\n                }\n            },\n            show: {\n                event: 'click',\n                solo: true\n            },\n            hide: {\n                event: 'unfocus'\n\n            },\n            style: {\n                width: '500px',\n                widget: true\n            },\n            position: {\n                my: 'bottom middle',\n                at: 'top middle',\n                viewport: true\n            }\n        });\n    },\n    eventMouseover: function(event, jsEvent, view) {\n        $(this).addClass(\"active\");\n    },\n    eventMouseout: function(event, jsEvent, view) {\n       $(this).removeClass(\"active\");\n    }\n});\n}\n</code></pre>\n\n<p>The calendar works fine, I can create events and use the <code>eventRender:</code> using qtip... just struggling to get my head around this... any help greatly appreciated  </p>\n\n<p>First time really using Javascript &amp; Jquery, so I'm still learning. Got some parts working but having difficulties with my idea</p>\n"},{"tags":["ajax","django","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13054118,"title":"Ajax get request with Django","body":"<p>I try to implement an ajax request in my django app to get the number of spectators of a flash video recorder I implemented in my app. This number is in an xml file. </p>\n\n<p>Here the js I used did in my template:</p>\n\n<pre><code>    var url = window.location.pathname.split('/');\n    var id = url[2];     // The id of my video is www.mysite/video/ID.com\n\n    setInterval(function() {\n        $.ajax({\n            type: \"GET\",\n            url: \"http://myxmlfiles\",\n            success: parseXml\n        });\n    }, 2000);\n\n    function parseXml(xml){\n        $(xml).find(\"user\").each(function() {\n\n            if($(this).attr(\"id\") === id) {\n                $(\".DubScore\").html($(this).attr(\"count\"))\n            }\n\n        });\n    }\n</code></pre>\n\n<p>And in my html:</p>\n\n<pre><code>      &lt;div class=\"DubScore\"&gt; &lt;/div&gt;\n</code></pre>\n\n<p>The xml file renders:</p>\n\n<pre><code>   &lt;streams&gt;\n   &lt;user id=\"3\" count=\"1\"/&gt;\n   &lt;/streams&gt;\n</code></pre>\n\n<p>The problem is nothing appears. I really don't know what I did wrong. </p>\n\n<p>Any advice would be great,</p>\n\n<p>EDIT:\n   When I run my js console, I can see the number of spectators, as I wanted. So the only problem is that it doesn't display this number into my div. The problem is between the js and the html. If you have any idea on how to fix it, it would be great. Thanks </p>\n"},{"tags":["jquery","ajax","json","rest","jsonp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13048905,"title":"jquery json parsing two codes one working other not","body":"<p>I have following codes for parsing jason response from the server. I include also the respective responses. The first codes works but the second does not. Can you give a hint? Thanks.\nFirst code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" \n\nsrc=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar sUrl =  \"http://ops.epo.org/2.6.2/rest-services/family/publication/docdb/EP.1000000.A1/.js?callback=?\";\n$.getJSON(sUrl, function(oData) {\nif(oData['ops:world-patent-data'] &amp;&amp; \n  oData['ops:world-patent-data']['ops:patent-family'] &amp;&amp; \n  oData['ops:world-patent-data']['ops:patent-family']['ops:family-member']){\n\n  $.each(oData['ops:world-patent-data']['ops:patent-family']['ops:family-member'],\n    function(iIndex, mValue) {\n        console.log(mValue['publication-reference'])  \n    });\n}\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>second code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" \n\nsrc=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar sUrl =  \"http://ops.epo.org/2.6.2/rest-services/published-data/publication/epodoc/EP1814517.A1/biblio.js?callback=?\";\n$.getJSON(sUrl, function(oData) {\nif(oData['ops:world-patent-data'] &amp;&amp; \n  oData['ops:world-patent-data']['exchange-documents'] &amp;&amp; \n  oData['ops:world-patent-data']['exchange-documents']['bibliographic-data']){\n\n  $.each(oData['ops:world-patent-data']['exchange-documents']['bibliographic-data'],\n    function(iIndex, mValue) {\n          console.log(mValue['publication-reference'])\n    });\n}\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>first response</p>\n\n<pre><code>?({\"ops:world-patent-data\": {\n  \"@xmlns\":   {\n    \"ops\": \"http://ops.epo.org\",\n    \"$\": \"http://www.epo.org/exchange\",\n    \"ccd\": \"http://www.epo.org/ccd\",\n    \"xlink\": \"http://www.w3.org/1999/xlink\"\n  },\n  \"ops:meta\":   {\n    \"@name\": \"elapsed-time\",\n    \"@value\": \"2\"\n  },\n  \"ops:patent-family\":   {\n    \"@legal\": \"false\",\n    \"ops:publication-reference\": {\"document-id\":     {\n      \"@document-id-type\": \"docdb\",\n      \"country\": {\"$\": \"EP\"},\n      \"doc-number\": {\"$\": \"1000000\"},\n      \"kind\": {\"$\": \"A1\"}\n    }},\n    \"ops:family-member\":     [\n            {\n        \"@family-id\": \"19768124\",\n        \"publication-reference\": {\"document-id\":         [\n                    {\n            \"@document-id-type\": \"docdb\",\n            \"country\": {\"$\": \"AT\"},\n            \"doc-number\": {\"$\": \"232441\"},\n            \"kind\": {\"$\": \"T\"},\n            \"date\": {\"$\": \"20030215\"}\n          },\n                    {\n            \"@document-id-type\": \"epodoc\",\n            \"doc-number\": {\"$\": \"AT232441T\"},\n            \"date\": {\"$\": \"20030215\"}\n          }\n        ]},\n        \"application-reference\":         {\n          \"@doc-id\": \"1370469\",\n          \"document-id\":           {\n            \"@document-id-type\": \"docdb\",\n            \"country\": {\"$\": \"AT\"},\n            \"doc-number\": {\"$\": \"99203729\"},\n            \"kind\": {\"$\": \"T\"},\n            \"date\": {\"$\": \"19991108\"}\n          }\n        },\n        \"priority-claim\":         {\n          \"@sequence\": \"1\",\n          \"@kind\": \"national\",\n          \"document-id\":           {\n            \"@document-id-type\": \"docdb\",\n            \"country\": {\"$\": \"NL\"},\n            \"doc-number\": {\"$\": \"1010536\"},\n            \"kind\": {\"$\": \"A\"},\n            \"date\": {\"$\": \"19981112\"}\n</code></pre>\n\n<p>....\nsecond response</p>\n\n<pre><code>parseResponse({\"ops:world-patent-data\": {\n  \"@xmlns\":   {\n    \"ops\": \"http://ops.epo.org\",\n    \"$\": \"http://www.epo.org/exchange\",\n    \"ccd\": \"http://www.epo.org/ccd\",\n    \"xlink\": \"http://www.w3.org/1999/xlink\"\n  },\n  \"ops:meta\":   {\n    \"@name\": \"elapsed-time\",\n    \"@value\": \"31\"\n  },\n  \"exchange-documents\": {\"exchange-document\":   {\n    \"@system\": \"ops.epo.org\",\n    \"@family-id\": \"35636806\",\n    \"@country\": \"EP\",\n    \"@doc-number\": \"1814517\",\n    \"@kind\": \"A1\",\n    \"bibliographic-data\":     {\n      \"publication-reference\": {\"document-id\":       [\n                {\n          \"@document-id-type\": \"docdb\",\n          \"country\": {\"$\": \"EP\"},\n          \"doc-number\": {\"$\": \"1814517\"},\n          \"kind\": {\"$\": \"A1\"},\n          \"date\": {\"$\": \"20070808\"}\n        },\n                {\n          \"@document-id-type\": \"epodoc\",\n          \"doc-number\": {\"$\": \"EP1814517\"},\n          \"date\": {\"$\": \"20070808\"}\n        }\n      ]},\n      \"classifications-ipcr\": {\"classification-ipcr\":       [\n                {\n          \"@sequence\": \"1\",\n          \"text\": {\"$\": \"A61K   9/    08            A I\"}\n        },\n                {\n          \"@sequence\": \"2\",\n          \"text\": {\"$\": \"A61K  31/    19            A I\"}\n        },\n                {\n          \"@sequence\": \"3\",\n          \"text\": {\"$\": \"A61K  31/   216            A I\"}\n        },\n                {\n          \"@sequence\": \"4\",\n          \"text\": {\"$\": \"A61K  47/    00            A I\"}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","load"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13054862,"title":"Do something after window load","body":"<p>I'm doing a (simple) ajax call on window load:</p>\n\n<pre><code>$(window).load(function () {\n\n$.ajax({\nurl: someUrl,\ntype: \"get\",\ndataType: \"\",\nsuccess: function(data) {\n\n           ...........\n</code></pre>\n\n<p>How can I do something, for instance a function or event after this ajax proces is finished. The problem is I have to append something to the data recieved by the ajax call. But I can't append on window load because the data is still being processed. </p>\n"},{"tags":["jquery","ajax","cross-domain"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":70,"score":3,"question_id":13019076,"title":"Using Ajax, how do you fire and forget across domains","body":"<p>I want to do a fire-and-forget jQuery call to a web service.</p>\n\n<p>Basically, I want to send a JSON object to <code>http://myservice.com/uservisits/create</code> and <strong>I don't care to receive any kind of return response</strong>. However, we want to use the same service for several of our domains, which means coming up against the cross-domain restrictions tied to Ajax.</p>\n\n<p>How do you do this? There's a lot out there on JSONP and such, but I don't need to handle a response. I feel like I'm missing an obvious detail.</p>\n"},{"tags":["ajax","wordpress","page-refresh","partial-page-refresh"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13039199,"title":"How to make wp plugin auto-refreshing on the public side of view (auto load page)","body":"<p>First have to say that almost every time when searching on technical solutions.. search engine will direct me to this site here. I admit that i have learned such A LOT here just by searching through for answers.. </p>\n\n<p>but also have to say that not being a coder.. so don't understand much here at all ;)</p>\n\n<p>Ok, the Problem: </p>\n\n<p>Want to update wordpress tables or calendar within wp admin. These changes should become updated on the public side automatically and more or less instantly (~ few seconds is perfectly fine).</p>\n\n<p>I found solutions about manipulating header.php, i found some ajax plugins I found -too much to count- info on how to implement ajax into wp</p>\n\n<p>Sadly.. none of these could help me through as the plugins mostly either not work, are outdated or require countless file edits. Manipulating header.php seems odd.. as i don't want to loop-refresh the whole page, post etc.. but only get e.g. table or calendar data updated.</p>\n\n<p>So maybe any of you coders know of something to e.g. get the plugin \"All-in-One Event Calendar by Timely\" to update the public visible part of the calendar once data edited in wp admin?</p>\n\n<p>Greatly appreciate pointers in any direction to solve this.</p>\n\n<p>P.S.: What would you think of plugins like \"ajaxify everything\" ? don't know if this really the way to go..</p>\n\n<p>Again, thanks for your help, time and contribution!!</p>\n\n<h3>update</h3>\n\n<p>additional question: \nI now found such plugin to let me chose which parts i want to \"ajaxify\".</p>\n\n<p>Such plugin would ask me for a specific function name.</p>\n\n<p>Now, where do i start to gather this information?</p>\n\n<p>Below is the instruction from the plugin context inside wordpress admin</p>\n\n<blockquote>\n  <p>Generate Ajaxized DIV for your function</p>\n  \n  <p>Ajaxize will allow you to ajaxize almost any php function on your\n  site.</p>\n  \n  <p>It can be a plugin, a function you wrote, or even a core wordpress\n  function.</p>\n  \n  <p>There are some (obvious or less obvious) limitations currently:</p>\n  \n  <p>Functions must return valid HTML - this will be called in php and returned via the \n  Ajax call\n  Functions cannot accept any parameters (at least at the moment)</p>\n  \n  <p>Enter a function name below.</p>\n  \n  <p>Function Name: <strong>xxx input field xxx what put in here? xxx</strong></p>\n  \n  <p>The generated div can be inserted to any page/post on the site and\n  will ajaxize the call to the function automatically.</p>\n  \n  <p>Please make sure you enter a valid function name, that the function\n  does not require any parameters, and that it returns valid HTML.</p>\n</blockquote>\n"},{"tags":["php","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13054614,"title":"php returning null after jquery ajax post of javascript object","body":"<p>trying to pass a javascript object to php and getting this error. What am I doing wrong?</p>\n\n<pre><code>var address = {};\n\naddress.whatever = \"asdf\";\n\n$.ajax({\n            type: 'post',\n            url: '/resources/scripts/php/whatever.php',\n            data: 'address=' + JSON.stringify(address),\n            success: function(returnedData){\n                console.log(returnedData);\n            },\n            error: function (xhr, tst, err) {\n                console.log(err);\n            },          \n        });\n</code></pre>\n\n<p>php</p>\n\n<pre><code>$whatever = json_decode($_POST['address']);\n echo json_decode($address);\n</code></pre>\n\n<p>console:\n<code>null</code></p>\n\n<p>thanks for any insight!</p>\n"},{"tags":["ajax","yii","form-validation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13053972,"title":"How to write js:beforeValidate in AJAX validation, Yii","body":"<p>I am having a form to collect credit card details from the user. I want to integrate jquery credit card validation for the card number field. I am using the following plug in \n<a href=\"http://paweldecowski.github.com/jQuery-CreditCardValidator/\" rel=\"nofollow\">http://paweldecowski.github.com/jQuery-CreditCardValidator/</a></p>\n\n<p>I was trying to use the beforeValidate, but no success. My sample code below,</p>\n\n<pre><code>$form = $this-&gt;beginWidget('CActiveForm', array(\n    'id'=&gt;'creditcard-create-form',\n    'action' =&gt; $actionURL,\n    'htmlOptions' =&gt; array('class'=&gt;'form alt1'),\n    'enableAjaxValidation'=&gt;true,    \n    'clientOptions' =&gt; array(        \n    'validateOnSubmit' =&gt; true,\n    'beforeValidateAttribute' =&gt; 'js:test',\n   ),\n));\n\nfunction test(form, attribute) {\n   console.log(form);\n}\n</code></pre>\n\n<p>Any help would be appreciated. </p>\n"},{"tags":["jquery","ajax","asynchronous","qunit","mockjax"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":148,"score":4,"question_id":12165651,"title":"Multiple responses from identical calls in asynch QUnit + Mockjax tests","body":"<p>I'm trying to test some jQuery ajax code using QUnit and Mockjax and have it return different JSON for different tests, <a href=\"http://jsfiddle.net/nickkell/gnQn3/\" rel=\"nofollow\">like this</a>:</p>\n\n<pre><code>$(document).ready(function() {\n\nfunction functionToTest() {\n    return $.getJSON('/echo/json/', {\n        json: JSON.stringify({\n            \"won't\": \"run\"\n        })\n    });\n}\n\nmodule(\"first\");\n\ntest(\"first test\", function() {\n\n    stop();\n\n    $.mockjax({\n        url: '/echo/json/',\n        responseText: JSON.stringify({\n            hello: 'HEYO!'\n        })\n    });\n\n    functionToTest().done(function(json) {\n        ok(true, json.hello);\n        start();\n    });               \n});\n\n\n test(\"second test\", function() {\n\n    stop();\n\n    $.mockjax({\n        url: '/echo/json/',\n        responseText: JSON.stringify({\n            hello: 'HELL NO!'\n        })\n    });\n\n\n    functionToTest().done(function(json) {\n        ok(true, json.hello);\n        start();\n    });\n\n\n});\n\n});\n</code></pre>\n\n<p>Unfortunately it returns the same response for each call, and order can't be guaranteed, so was wondering how I could set it up so that it was coupled to the actual request and came up <a href=\"http://jsfiddle.net/nickkell/gnQn3/1/\" rel=\"nofollow\">with this</a>:</p>\n\n<pre><code>$.mockjax({\n    url: '/echo/json/',\n    response: function(settings) {\n\n        if (JSON.parse(settings.data.json).order === 1) {\n            this.responseText = JSON.stringify({\n                hello: 'HEYO!'\n            });\n        } else {\n            this.responseText = JSON.stringify({\n                hello: 'HELL NO!'\n            });\n        }\n    }\n});\n</code></pre>\n\n<p>This relies on parameters being sent to the server, but what about requests without parameters, where I still need to test different responses? Is there a way to use QUnit's setup/teardown to do this?</p>\n"},{"tags":["ajax","spring","url","parameters","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13049182,"title":"How to pass a URL as a parameter to a Spring 3.1 controller","body":"<p>This is fairly straightforward.  I need to pass a url to my controller from my front end through an AJAX call, ie \"http://www.x.com/some/path\".  Spring controllers interpret portions of the path as variables, with \"/\" delineating, so this obviously doesn't work:  \"http://myserver.com/myapp/controller/http://www.x.com/some/path\".</p>\n\n<p>So my question is, how can I get that value to my controller?</p>\n\n<p>Edit: I'm using Dojo 1.8 on my front end.</p>\n"},{"tags":["php","ajax","performance","forms","table"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":12974317,"title":"1500 row table with each row containing a form - Ajax or something else?","body":"<p>I have a very large HTML table containing 1500 rows (markup produced by PHP).  Each row has a 5-element checkbox and one  textarea.  </p>\n\n<p>Here's an example row:</p>\n\n<pre><code>&lt;tr id=\"abc123\"&gt;\n    &lt;td&gt;abc123&lt;/td&gt;\n    &lt;td valign=\"top\"&gt;&lt;input name=\"v1\" value=1 type=\"checkbox\"&gt;&lt;/td&gt;\n    &lt;td valign=\"top\"&gt;&lt;input name=\"v2\" value=2 type=\"checkbox\"&gt;&lt;/td&gt;\n    &lt;td valign=\"top\"&gt;&lt;input name=\"v3\" value=3 type=\"checkbox\"&gt;&lt;/td&gt;\n    &lt;td valign=\"top\"&gt;&lt;input name=\"v4\" value=4 type=\"checkbox\"&gt;&lt;/td&gt;\n    &lt;td valign=\"top\"&gt;&lt;input name=\"v5\" value=5 type=\"checkbox\"&gt;&lt;/td&gt;\n    &lt;td valign=\"top\"&gt;&lt;textarea name=\"notes\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n    &lt;td valign=\"top\"&gt;&lt;input type=\"submit\" name=\"submit\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n\n<p>There are more columns but this is the important part. </p>\n\n<p>What would be the best way of setting this up so that the submit button is checked/redrawn every 60 seconds?   If the row/form has been submitted, the submit button would need to change to a link.   </p>\n\n<p>Would having that many writes occurring all at once lead to horrible performance?  Our server can handle it, but I'm more concerned about client capabilities (who are using mid-grade or worse desktop machines).</p>\n\n<p>Other than breaking up the records onto separate pages (client not interested in that), is there a better way of handling this many forms on a single page? </p>\n\n<p><strong>Update</strong>\nI'm thinking it might make more sense to let users click on the row they want to update, which would then convert only that row to a form.  If a row loses focus, I'll display a confim box so they don't lose or submit incomplete data.</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13052969,"title":"Form Validation Response Error","body":"<p>I am having a problem getting the last (echo \"9\";) statement to be passed back to the ajax validation, i am receiving error in the console and any general advice on improving the system would be fantastic. Thanks in advance.    </p>\n\n<pre><code>&lt;script&gt; \n    /////////////////////// JS FOR AJAX SIGN UP FORM ///////////////////////\n\n        $(\"document\").ready(function() {\n            $(\"#btn-signup\").click(function() {\n                var first_name = $(\"#fname_up\").val();\n                var last_name = $(\"#lname_up\").val();\n                var vemail = $(\"#email_up\").val();\n                var password = $(\"#password_up\").val();\n                var cpassword = $(\"#cpassword_up\").val();\n                var dataString = 'firstname='+first_name+'&amp;lastname='+last_name+'&amp;email='+vemail+'&amp;password='+password+'&amp;cpassword='+cpassword;\n                $.ajax({\n                    type: \"POST\",\n                    url: \"signup.php\",\n                    data: dataString,\n                    success: function(response){\n                        if (response == 9) {\n                        window.location = \"index.php\";\n                        }\n                        if (response == 1) {\n                            console.log(\"Please neter your firstname\");\n                        }\n                        if (response == 2) {\n                            console.log(\"Please neter your surname\");\n                        if (response == 3) {\n                            console.log(\"Please enter email\");\n                        }\n                        if (response == 4) {\n                                            console.log(\"Email is already taken\");\n                        }\n                        if (response == 5) {\n                            console.log(\"Please enter password\");\n                        }\n                        if (response == 6) {\n                        console.log(\"Please check your passwords match\");\n                        }\n                    }\n                });\n            return false;\n            });\n        });\n\n&lt;/script&gt;  \n\n\n&lt;?php   \n    ///////////////////////  SIGNUP.PHP ///////////////////////\n\n    session_start();                                                                      // Starts a new session\n    require_once \"database.php\";                                                          // Requires database.php\n    db_connect();                                                                         // connects to the database\n\n\n    if($_SERVER['REQUEST_METHOD'] == 'POST'){\n\n      if(0 === preg_match(\"/\\S+/\", $_POST['firstname'])){\n        echo \"1\";\n        die();\n      }\n\n      if(0 === preg_match(\"/\\S+/\", $_POST['lastname'])){\n        echo \"2\";\n        die();\n      }\n\n      if(0 === preg_match(\"/.+@.+\\..+/\", $_POST['email'])){\n        echo \"3\";\n        die();\n      }\n\n      if(0 === preg_match(\"/.+@.+\\..+/\", $_POST['email'])){\n        echo \"4\";\n        die();\n      }  \n\n      if(0 === preg_match(\"/.{6,}/\", $_POST['password'])){\n        echo \"5\";\n        die();\n      }\n\n      if(0 !== strcmp($_POST['password'], $_POST['cpassword'])){\n        echo \"6\";\n        die();\n      }\n\n        $firstname = mysql_real_escape_string($_POST['firstname']);\n        $lastname  = mysql_real_escape_string($_POST['lastname']);\n        $email      = mysql_real_escape_string($_POST['email']);\n\n        $salt = sha1(microtime() . $_POST['password']);\n        $password = sha1($salt . $_POST['password']);\n\n        $query = \"INSERT INTO users (first_name, last_name, email, salt, password) \n                  VALUES ( '$firstname', '$lastname', '$email', '$salt', '$password')\";\n\n        $query_run = mysql_query($query);\n        echo \"9\";\n    }\n?&gt;\n</code></pre>\n"},{"tags":["javascript","html","ajax","jsp","authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13053431,"title":"Authentication and AJAX","body":"<p>I want to add authentication to existing application that uses Ajax and I am thinking of the best way to do it. \nHere is a typical scenario:</p>\n\n<ol>\n<li>First request - ask for a login, proceed to the first screen.  This works well.</li>\n<li>Session expired. </li>\n</ol>\n\n<p>Since I do ajax and send 2 requests per action (one actual request and one that records the action for statistics/audit) it could happen on one of those. When it happens the app shows me the authentication screen and after successful authentication user is forwarded to the previous request.</p>\n\n<p>The problem here is that I don't want a forward, I want my custom Ajax/javascript handling to get the response and handle it. Is it possible to just pop up a window to authenticate, then when I get the response continue like the session never expired?</p>\n\n<p>I have this in the web.xml :</p>\n\n<pre><code>   &lt;login-config&gt;\n       &lt;auth-method&gt;FORM&lt;/auth-method&gt;\n       &lt;form-login-config&gt;\n           &lt;form-login-page&gt;/jsp/login.jsp&lt;/form-login-page&gt;\n           &lt;form-error-page&gt;/jsp/login_error.jsp&lt;/form-error-page&gt;\n       &lt;/form-login-config&gt;\n   &lt;/login-config&gt; \n</code></pre>\n"},{"tags":["ajax","facebook","flash","swf"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13053384,"title":"making ajax requests from swf widget in facebook post","body":"<p>I am making a simple flash widget, which is meant for being shared on facebook posts. Similar to soundcloud - <a href=\"http://soundcloud.com/pages/widgets\" rel=\"nofollow\">http://soundcloud.com/pages/widgets</a>.</p>\n\n<p>I was wondering whether it is possible to make ajax requests from this widget. For example, if I have my own like button on this widget, and a user clicks on it, I want a ajax request to be sent to my servers to register the like. I am new to flash in general, so I am not aware of all the security limitations. </p>\n\n<p>Does Facebook allow this? All the flash widgets I have seen (including soundcloud's, youtube player, etc..) seem to not have any actions which invoke an AJAX request.</p>\n"},{"tags":["php","jquery","ajax","pagespeed"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13052992,"title":"Speed up page loading time","body":"<p>Does any one know how they speedup page loading time (switch between sidebar article lists and load page contents instantly)?</p>\n\n<pre><code>http://gmailblog.blogspot.com\n</code></pre>\n\n<p>Or any suggestions for a better way ? [I already minified my js and css files] :)</p>\n"},{"tags":["javascript","jquery","ajax","django"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13031923,"title":"Django / Ajax: javascript object formatting","body":"<p>I'm new to javascript and jquery. I have the following situation. I'm serializing an edited row of a table and sending it to the server via ajax.</p>\n\n<p>I have to pass the original data (before editing) and the final data (edited row) to the server.</p>\n\n<p>Passing each of them separately is working well, but when I put them together something strange is happening. It's probably something trivial for those who understand javascript well.</p>\n\n<p>The \"sending code\" is:</p>\n\n<pre><code>$.ajax({\n        data: data,\n        dataType: 'json',\n        ...\n       });\n</code></pre>\n\n<p>when I get the original row data or the edited row data as:</p>\n\n<pre><code>data = tr.find(':input').serializeArray();\n</code></pre>\n\n<p>I get a normal dict in request.POST, like this:</p>\n\n<pre><code>&lt;QueryDict: {u'Type': [u'CNAME'], u'Name': [u'domain_2'], Ttl': [u'500'], u'Value': [u'domain_1']}&gt;\n</code></pre>\n\n<p>But when I try to get both original and new data like this:</p>\n\n<pre><code>original_data = tr.find(':input').serializeArray();\nnew_data = tr.find(':input').serializeArray();\nvar data = {}\ndata.original_data = original_data\ndata.new_value = new_data\n</code></pre>\n\n<p>This just does not work. I get something like this:</p>\n\n<pre><code>&lt;QueryDict: {u'new_value[1][name]': [u'Type'], u'new_value[3][name]': [u'Ttl'], u'new_value[2][value]': [u'domain_1'], u'original_data[2][name]': [u'Value'], u'new_value[2][name]': [u'Value'], u'original_data[0][name]': [u'Name'], u'original_data[3][value]': [u'300'], u'original_data[1][value]': [u'CNAME'], u'new_value[3][value]': [u'500'], u'original_data[0][value]': [u'domain_2'], u'new_value[1][value]': [u'CNAME'], u'original_data[3][name]': [u'Ttl'], u'new_value[0][name]': [u'Name'], u'original_data[2][value]': [u'domain_1'], u'original_data[1][name]': [u'Type'], u'new_value[0][value]': [u'domain_2']}&gt;\n</code></pre>\n\n<p>I was hoping to get</p>\n\n<pre><code>&lt;QueryDict: {'original_data': {u'Type': [u'CNAME'], u'Name': [u'domain_2'], Ttl': [u'500'], u'Value': [u'domain_1']}, 'new_value': {u'Type': [u'CNAME'], u'Name': [u'domain_2'], Ttl': [u'500'], u'Value': [u'domain_1']}&gt;&gt;\n</code></pre>\n\n<p>How can I achieve this?</p>\n"},{"tags":["php","javascript","ajax","codeigniter","drop-down-menu"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2496,"score":0,"question_id":3105825,"title":"Populate a second DropDownList based on a selected value fron other DropDownList","body":"<p>I’m trying to link two dropdownlist depending on the value you select from the first dropdownlist.\nI don’t have any idea how to do this, so if you guys can point me in the right direction that would be great.</p>\n\n<p>What I want to do is select a value from the first dropdownlist and depending on its value show some options in the second dropdownlist.</p>\n\n<p>I try doing this:</p>\n\n<p>1-when the “OnChange” event of the first dropdownlist occurs, I call a javascript that redirects to a method in a controller (for example: index/mainController/firstMethod/selectedValue).</p>\n\n<p>2-the method in the controller using the url helper extracts the “selectedValue” to do a database search of the value of the second dropdownlist.</p>\n\n<p>3-the same method loads the view (the one that have the ddl)</p>\n\n<p>Doing this I lose the selected value of the first ddl.</p>\n\n<p>I think this is not the right way to do it.</p>\n\n<p>So, once again, I need some help.</p>\n\n<p>Thanks for your time.</p>\n"},{"tags":["ajax","wicket","panel","behavior"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13052253,"title":"wicket ajax hide/unhide reusable panel withouth submiting form","body":"<p>I prepared a reusable panel and add it to my page.\nThere are 2 dropdownchoice in my page's form.\nim using the ajax example from <a href=\"https://cwiki.apache.org/WICKET/dropdownchoice-examples.html#DropDownChoiceExamples-Note\" rel=\"nofollow\">https://cwiki.apache.org/WICKET/dropdownchoice-examples.html#DropDownChoiceExamples-Note</a>\nthe two DDC works fine(change one's value then hide/unhide the other one.\nbut it doesnt work on my panel.\nim using:</p>\n\n<pre><code>private final MyPanel panel1 = new MyPanel (\"MyPanel\"); \npanel1.setOutputMarkupPlaceholderTag(true); \n</code></pre>\n\n<p>... in DDC1 ajax behavior method:  </p>\n\n<pre><code>onUpdate(AjaxRequestTarget target) { ...\n    DDC2.setVisible(true); \n    panel1.setVisible(true); \n}\n</code></pre>\n\n<p>I have to submit the form to hide/undide <code>panel1</code> .\nHow can I make it work the same way as <code>DDC2</code> without submitting the form?</p>\n"},{"tags":["jquery","ajax","json","parsing"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":59,"score":0,"question_id":13033374,"title":"Requested JSON parse failed","body":"<p>By some reason there's a parsing error with the ajax code below. How could I find out what it is, and/or can someone see what's wrong?</p>\n\n<pre><code>$('#listElements').sortable({\n        //revert: true,\n        update: function(event, ui) {\n\n            var order = [];\n            $('.listObject li').each(function (e) {\n                order.push($(this).attr('id'));\n            });\n            $.ajax({\n                type: \"POST\",\n                url: \"index.php?\",\n                dataType: \"json\",\n                data: { json: order },                  error: function(jqXHR, exception) {\n                    if (jqXHR.status === 0) {\n                        alert('Not connect.\\n Verify Network.');\n                    } else if (jqXHR.status == 404) {\n                        alert('Requested page not found. [404]');\n                    } else if (jqXHR.status == 500) {\n                        alert('Internal Server Error [500].');\n                    } else if (exception === 'parsererror') {\n                        alert('Requested JSON parse failed.');\n                    } else if (exception === 'timeout') {\n                        alert('Time out error.');\n                    } else if (exception === 'abort') {\n                        alert('Ajax request aborted.');\n                    } else {\n                        alert('Uncaught Error.\\n' + jqXHR.responseText);\n                    }\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["jquery","ajax","datatables.net"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":267,"score":1,"question_id":10741868,"title":"How to add custom rows to jQuery DataTables plugin","body":"<p>I have a basic html page that has a jQuery DataTables grid on it.\nI am able to </p>\n\n<p><a href=\"http://datatables.net/index\" rel=\"nofollow\">http://datatables.net/index</a></p>\n\n<p>It displays in browser just fine. The problem is that I want to add custom row headers to each section. So a row header could be located on row 3, row 8.. etc. How do I dynamically insert a row header in the middle of the datatable?</p>\n\n<pre><code>getDataOverview: function ($page) {\n        $page.find('#tblDataTable').dataTable({\n            \"bServerSide\": true,\n            \"fnDrawCallback\": onAfterTableLoad,\n            \"bJQueryUI\": false,\n            \"bFilter\": false,\n            \"bPaginate\": false,\n            \"bLengthChange\": false,\n            \"oLanguage\": { \"sInfo\": \"\" },\n            \"sAjaxSource\": this.getUrl($page) + '/GetDataOverview/',\n            \"fnServerData\": function (sSource, aoData, fnCallback) {\n\n                $.ajax({\n                    dataType: 'json',\n                    type: \"POST\",\n                    url: sSource,\n                    data: aoData,\n                    success: fnCallback,\n                    error: function (jqXHR, textStatus, errorThrown) { alert('Error getting data' + errorThrown) }\n                })\n            },\n            \"bProcessing\": false, // don't want to use the default progress indicator at this time\n            \"aoColumnDefs\": [\n                { \"sName\": \"ID\", \"aTargets\": [0], \"mDataProp\": \"ID\", \"bSortable\": false },\n                { \"sName\": \"Name\", \"aTargets\": [1], \"mDataProp\": \"Name\", \"bSortable\": false },\n                { \"sName\": \"Other\", \"aTargets\": [2], \"mDataProp\": \"Other\", \"bSortable\": false }\n            ],\n            \"aaSorting\": [[0, \"asc\"]] // default sort by Task Type\n        });\n    },\n</code></pre>\n"},{"tags":["c#","sql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12939315,"title":"Update listbox in c# sql","body":"<p>Currently I created a wizard with a listbox. The listbox has a next and previous button. The listbox has thousands of items but the next and previous will show them 30 items at a time. </p>\n\n<p>I am not using AJAX so the page reloads each time the button is being clicked. I don't want the page to reload everytime the user clicks next and previous. I thought of using AJAX.</p>\n\n<p>Is there anyway I can prevent the page from reloading either by AJAX or a different way everytime the user presses next. Pressing next triggers a stored procedure which selects the next 30 items.</p>\n\n<p>C#, SQL, ASP.NET, HTML, JavaScript</p>\n"},{"tags":["ajax","twitter-bootstrap","knockout.js"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":388,"score":2,"question_id":12140491,"title":"Bootstrap popover with knockout.js","body":"<p>I've got an application receiving some data through AJAX-call. After that, received data binds to DOM-elements using <em>knockout.js</em> library. I'd like to use boostrap's unobtrusive markup for creating popovers like this:</p>\n\n<pre><code>&lt;table class=\"table table-condensed\" data-bind=\"foreach: items\"&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;b data-bind=\"text: $data.id\"&gt;&lt;/b&gt;&lt;/td&gt;\n        &lt;td data-bind=\"text: $data.title\"&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;a href=\"#\" rel=\"popover\" data-bind=\"attr: {title: $data.info}\" data-placement=\"top\"&gt;Info&lt;/a&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>According to the latest <em>bootstrap</em> documentation, implicit call of something like <code>$('.popoever').popoever()</code> isn't required, however, it's not working.</p>\n\n<p>I suppose, that <em>boostrap.js</em> perform some DOM-analysis on document.ready and perform all needed work for popover to work. And the question: is there some way to tell <em>bootstrap.js</em> to perform similar job for data after receiving AJAX response? Or how this kind of requirements can be achieved?</p>\n"},{"tags":["javascript","jquery","ajax","post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13051879,"title":"JQuery $.post function works in firefox but not IE","body":"<p>I have a few functions on my site that update my database using $.post. These all work fine in firefox but not at all in internet explorer and i cant seem to work out why i have put the functions below:</p>\n\n<p>Function 1:</p>\n\n<pre><code>function removeAd(ad_id) {\n    $.post('remove.php', {\n        id: ad_id\n    }, function() {\n        $('.workarea').load('display.php');\n    });\n};​\n</code></pre>\n\n<p>Function 2:</p>\n\n<pre><code>$(document).ready(function() {\n    $('a#addBanner').click(function() {\n        $.post('add.php', {\n            task: 'banner'\n        }, function() {\n            $('.workarea').load('display.php');\n        });\n    });\n});​\n</code></pre>\n\n<p>Function 3:</p>\n\n<pre><code>$(document).ready(function() {\n    $(function() {\n        $(\"#categoryorder\").sortable({\n            opacity: 0.6,\n            cursor: 'move',\n            update: function() {\n                var order = $(this).sortable(\"serialize\") + '&amp;action=updateRecordsListings';\n                $.post(\"update.php\", order)\n            }\n        });\n    });\n});​\n</code></pre>\n\n<p>Does anyone know why these would work in Firefox but not in IE. I quite new to this and debugging isn't something I'm great at yet so any help would be much appreciated</p>\n"},{"tags":["jquery","ajax","wcf","jquery-plugins","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":779,"score":1,"question_id":7046091,"title":"Using blueimp jQuery File Upload with PUT to WCF","body":"<p>I am using the blueimp jQuery file upload plug-in located here <a href=\"https://github.com/blueimp/jQuery-File-Upload\" rel=\"nofollow\">https://github.com/blueimp/jQuery-File-Upload</a> and according to the documentation I should be able to upload a file using HTTP PUT.  Here is my init</p>\n\n<pre><code>$('#fileupload').fileupload({\n    url: baseServer + '/image/upload',\n    type: 'PUT',\n    multipart: false\n}\n</code></pre>\n\n<p>According to the stackoverflow answers <a href=\"http://stackoverflow.com/questions/6781633/file-upload-to-wcf-using-jquery\">file upload to wcf using jquery</a> and <a href=\"http://stackoverflow.com/questions/5518420/how-to-upload-a-file-using-an-http-put-using-jquery\">How to upload a file using an HTTP &quot;PUT&quot; using JQuery?</a> this should be possible however when I examine the data on the wire using fiddler, I see that the headers are set correctly but the body is empty.</p>\n\n<p>Does anyone have a working example of using this plug-in in IE9 from a local file?</p>\n\n<p>Cheers and thank you for your time.</p>\n"},{"tags":["jquery","ajax","django","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13052086,"title":"django jquery fileupload issue when upload multiple image","body":"<p>I tried to use <a href=\"http://blueimp.github.com/jQuery-File-Upload/\" rel=\"nofollow\">blueimp jquery fileupload</a>, and then i found a working example <a href=\"https://github.com/sigurdga/django-jquery-file-upload\" rel=\"nofollow\">sigurdga / django-jquery-file-upload</a>. Based on that example, i only need to copy the js, copy the template, and write my own view to handle upload file, here's what <code>sigurda</code> code look like,</p>\n\n<p>views.py :</p>\n\n<pre><code>def response_mimetype(request):\n    if \"application/json\" in request.META['HTTP_ACCEPT']:\n        return \"application/json\"\n    else:\n        return \"text/plain\"\n\nclass JSONResponse(HttpResponse):\n    \"\"\"JSON response class.\"\"\"\n    def __init__(self,obj='',json_opts={},mimetype=\"application/json\",*args,**kwargs):\n        content = simplejson.dumps(obj,**json_opts)\n        super(JSONResponse,self).__init__(content,mimetype,*args,**kwargs)\n\nclass PictureCreateView(CreateView):\n    model = Picture\n\n    def form_valid(self, form):\n        print self.request.method\n        self.object = form.save()\n        f = self.request.FILES.get('file')\n        print f\n        data = [{'name': f.name, 'url': settings.MEDIA_URL + \"pictures/\" + f.name.replace(\" \", \"_\"), 'thumbnail_url': settings.MEDIA_URL + \"pictures/\" + f.name.replace(\" \", \"_\"), 'delete_url': reverse('upload-delete', args=[self.object.id]), 'delete_type': \"DELETE\"}]\n        response = JSONResponse(data, {}, response_mimetype(self.request))\n        response['Content-Disposition'] = 'inline; filename=files.json'\n        return response\n</code></pre>\n\n<p>and here's my views.py:</p>\n\n<pre><code>class AddItemView(object):\n\n    def __init__(self, request = None, model = None):\n        if model:\n            self.model = model\n        else:\n            self.model = Image\n\n    def __call__(self, request, id):\n        self.request = request\n        if self.request.is_ajax():\n            return self.AJAX_handler()\n\n    def AJAX_handler(self):\n        image = self.request.FILES.get('file', None)\n        self.images = self.model.objects.create(\n            item_id = self.id,\n            images = image,\n            caption = 'ok',\n            name = image.name\n        )\n        response = [{\n            'name'  : image.name,\n            'url'   : settings.MEDIA_URL + 'images/items/' + image.name.replace(' ', '_'),\n            'thumbnail_url' : settings.MEDIA_URL + 'images/items/' + image.name.replace(' ', '_'),\n            'delete_url'    : reverse('delete_image_view', args = [self.images.id]),\n            'delete_type'   : 'DELETE',\n        }]\n        response = helpers.JSONResponse(response)\n        return response\n</code></pre>\n\n<p><code>helpers.JSONResponse</code> is only a helper to return <code>HttpResponse</code></p>\n\n<p>now that the view's done, i tried to upload an image, and it works, then i tried to upload 4 image at a time, let's say : 1.jpg, 2.jpg, 3.jpg, 4.jpg., the problem : there's a chance to upload multiple same image, the uploaded image : 1.jpg, 1.jpg, 1.jpg, 3.jpg, sometimes working sometimes not, also there's a chance the image is broken or empty, but still count as uploaded. But, the example works well, i even can upload up to 40 images at a time. I don't know where i went wrong. Help me please</p>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13051152,"title":"Center image over a div like wordpress thumbnail","body":"<p>Wordpress uses a function to center completely the image on a thumbnail when you are editing a post so it look like this when i´m editing the post:</p>\n\n<p><img src=\"http://i.stack.imgur.com/S77qx.png\" alt=\"enter image description here\"></p>\n\n<p>i´m trying to show the image that way on a wordpress page but I don´t know how to create a function like the one that uses wordpress to do that:</p>\n\n<pre><code>$s_x = floor( ($orig_w - $crop_w) / 2 );\n$s_y = floor( ($orig_h - $crop_h) / 2 );\n</code></pre>\n\n<p>So this is how it looks in my page:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jeRug.png\" alt=\"enter image description here\"></p>\n\n<p>it just shows from the top, so it cuts the image, no center or resize</p>\n\n<p>this is my markup:</p>\n\n<pre><code>            echo '&lt;div class=\"aimagediv\" &gt;'; //        \n            echo '&lt;img src=\"'.$s['project_image'].'\" alt=\"\" width=\"270\" /&gt;';\n            echo '&lt;/div&gt;';\n</code></pre>\n\n<p>i´m limiting the width just to show something, i know it´s wrong to do it that way, that´s why i´m looking for a function to rezise and center the image over the div.</p>\n\n<p>Can someone help me with this one?</p>\n"},{"tags":["ajax","json","asp.net-mvc-3","jqgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13049748,"title":"Custom button in Edit form that displays result","body":"<p>I am fairly new to .NET and MVC3 - and even Ajax and Json, and am working on an MVC3 (razor) application, using jqGrid, and so far it is immense(jqgrid that is!) and has dealt with everything I have thrown at it.\nHowever, I have One Outstanding peice of functionality that I do not know How to accomplish.</p>\n\n<p>Within the Edit form of a Row, I have Placed a Custom button called 'Reset Password'. I need the Onclick Event to call a piece of functionality in my Controller to go through some logic, generate a Password, and Return the new Password to the Screen. </p>\n\n<p>Can anyone tell me How can I achieve this?</p>\n\n<p>May thanks in Advance.</p>\n"},{"tags":["ajax","wordpress","payment"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13050807,"title":"Wordpress Datatrans Ajax implementation","body":"<p>I'm trying to implement a creditcard payment service (of datatrans.ch) into a wordpress based site. Datatrans offers an Ajax API, which you can take a look at here:</p>\n\n<p><a href=\"https://www.datatrans.ch/Showcase/Authorisation/Ajax-API/Ajax-API/\" rel=\"nofollow\">Datatrans Ajax API</a></p>\n\n<p><a href=\"http://www.datatrans.ch/CMS4.ASPX?NID=2001&amp;CID=3020\" rel=\"nofollow\">Example Code</a></p>\n\n<p>I copy/pasted the example code and saved it inside a html file on my machine. Running it works properly. In the next step I tried implementing it in wordpress by creating the following function:</p>\n\n<pre><code>function datatrans_payment_ajax($lang, $currency, $amount) {\n\n$merchant_id = 101...; // ... on my machine it is numeric of course ;)\n\nwp_deregister_script('datatrans-ajax');\nwp_register_script('datatrans-ajax', 'https://pilot.datatrans.biz/upp/ajax/api.js?merchantId='.$merchant_id, false);\nwp_enqueue_script('datatrans-ajax');\n\n?&gt;\n\n&lt;noscript&gt;\n    &lt;p class=\"err\"&gt;\n    JavaScript is disabled in your browser.&lt;br/&gt;\n    This showcase requires JavaScript.\n    &lt;/p&gt;\n&lt;/noscript&gt;\n\n&lt;div&gt;\n\n    &lt;h3&gt;Step 1: Ajax UPP.paymentRequest(...)&lt;/h3&gt;\n\n    &lt;form id=\"uppform\"&gt;\n        &lt;fieldset&gt;\n\n        &lt;input type=\"hidden\" name=\"language\" value=\"&lt;?php echo $lang; ?&gt;\"/&gt;\n        &lt;table cellspacing=\"0\" cellpadding=\"3\" width=\"550\"&gt;\n            &lt;tr&gt;\n                &lt;td align=\"left\"&gt;Merchant Id :&lt;/td&gt;\n                &lt;td style=\"width: 10px\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;&lt;input type=\"text\" size=\"20\" name=\"merchantId\" value=\"&lt;?php echo $merchant_id; ?&gt;\"/&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td align=\"left\"&gt;Amount :&lt;/td&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;&lt;input type=\"text\" size=\"20\" name=\"amount\" value=\"&lt;?php echo $amount; ?&gt;\"/&gt; (= 10.00) \n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td align=\"left\"&gt;Currency :&lt;/td&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;&lt;input type=\"text\" size=\"20\" name=\"currency\" value=\"&lt;?php echo $currency; ?&gt;\"/&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td colspan=\"3\"&gt;&amp;nbsp;&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td align=\"left\"&gt;Card Number :&lt;/td&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;&lt;input type=\"text\" size=\"24\" name=\"cardNumber\" value=\"4242424242424242\"/&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td align=\"left\"&gt;Expiry :&lt;/td&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;\n                    &lt;input type=\"text\" size=\"4\" name=\"expm\" value=\"12\"/&gt;&amp;nbsp; \n                    &lt;input type=\"text\" size=\"4\" name=\"expy\" value=\"15\"/&gt;&amp;nbsp; (MM/YY) \n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td align=\"left\"&gt;CVV code :&lt;/td&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;&lt;input type=\"text\" size=\"4\" name=\"cvv\" value=\"123\"/&gt;&amp;nbsp; \n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr style=\"display: none;\"&gt;\n                &lt;td align=\"left\"&gt;Process mode :&lt;/td&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;\n                    &lt;input type=\"radio\" name=\"mode\" id=\"auto\" value=\"auto\" checked=\"checked\"/&gt; &lt;label for=\"auto\"&gt;Automatic 3D ACS call using API&lt;/label&gt;\n                    &lt;br/&gt;\n                    &lt;input type=\"radio\" name=\"mode\" id=\"manual\" value=\"manual\"/&gt; &lt;label for=\"manual\"&gt;Manual redirection to 3D ACS&lt;/label&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n\n            &lt;tr&gt;\n                &lt;td colspan=\"3\"&gt;&amp;nbsp;&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td align=\"left\"&gt;&lt;input type=\"button\" class=\"button\"\n                    onclick=\"callPayment()\" value=\"send\"/&gt;&lt;span class=\"buttend\"&gt;&lt;/span&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n        &lt;/table&gt;\n\n        &lt;/fieldset&gt;            \n    &lt;/form&gt;\n\n    &lt;div id=\"frameHolder\"&gt;&lt;/div&gt;\n    &lt;div id=\"response\" style=\"width: 400px;\"&gt;&lt;/div&gt;\n    &lt;div id=\"step2\" style=\"display: none;\"&gt;\n        &lt;h3&gt;Step 2: XML authorizeSplit (server-2-server request)&lt;/h3&gt;\n        &lt;form action=\"https://pilot.datatrans.biz/upp/jsp/XML_authorizeSplitEx.jsp\" method=\"post\" target=\"_parent\"&gt;\n            &lt;fieldset&gt;\n                &lt;textarea style=\"width: 400px; height: 150px;\" name=\"xmlRequest\"&gt;&lt;/textarea&gt;\n                &lt;div&gt;\n                &lt;input type=\"submit\" class=\"button\" value=\"send\"/&gt;&lt;span class=\"buttend\"&gt;&lt;/span&gt;\n                &lt;/div&gt;\n            &lt;/fieldset&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n\n    var mode;\n    var params;\n    function callPayment()\n    {\n        mode = $(\"input[name=mode]:checked\").val();\n\n        // read form values\n        params = {\n                merchantId: $(\"input[name=merchantId]\").val(),\n                cardNumber: $(\"input[name=cardNumber]\").val(),\n                expy: $(\"input[name=expy]\").val(),\n                expm: $(\"input[name=expm]\").val(),\n                cvv: $(\"input[name=cvv]\").val(),\n                currency: $(\"input[name=currency]\").val(),\n                amount: $(\"input[name=amount]\").val()\n        }\n\n        // call paymentRequest, response will be received in responseCallback\n        if ( mode == \"auto\" )\n        {\n            params.returnUrl = \"https://pilot.datatrans.biz/upp/ajax/sample-merchant-return-page.html\";\n            UPP.paymentRequest( params,     responseCallback, frameCallback );\n        }\n        else\n        if ( mode == \"manual\" )\n        {\n            UPP.paymentRequest( params,     responseCallback );\n        }\n    };\n\n    function frameCallback()\n    {\n        // create iframe and add it to document\n        var iframe = $(\"&lt;iframe/&gt;\").attr( \"id\", \"paymentIFrame\" ).width( 390 ).height( 400 );    \n        $(\"#frameHolder\").append( iframe );\n\n        $(\"form#uppform\").hide(); //hide the form\n\n        return iframe[0];\n    };\n\n    function responseCallback( response ) \n    {     \n        var responseElm = $(\"#response\");\n\n        responseElm\n            .empty()\n            .append( \"&lt;h4&gt;Ajax response:&lt;/h4&gt;\")\n            .append( $(\"&lt;div/&gt;\").text(\"status: \" + response.status) )\n            .append( $(\"&lt;div/&gt;\").text(\"uppTransactionId: \" + response.uppTransactionId) );\n\n        if ( JSON.stringify )\n            responseElm\n                .append( $(\"&lt;div/&gt;\").html( \"Complete JSON response: \" + JSON.stringify( response ).replace( /,/g, \", \") ) )\n\n\n        if ( mode == \"auto\" )\n        {\n            if ( response.status == \"success\" )\n            {\n                // This step will be done server-2-server\n                $(\"#step2 textarea\").val(\n                        \"&lt;&lt;?php?&gt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?&gt;\\n\" + \n                        \"&lt;authorizationSplit version=\\\"1\\\"&gt;\\n\" + \n                        \"&lt;body merchantId=\\\"\" + $(\"input[name=merchantId]\").val() + \"\\\"&gt;\\n\" +  \n                        \"&lt;transaction refno=\\\"to_be_filled\\\"&gt;\\n\" + \n                        \"  &lt;request&gt;\\n\" + \n                        \"    &lt;uppTransactionId&gt;\" + response.uppTransactionId + \"&lt;/uppTransactionId&gt;\\n\" +  \n                        \"    &lt;amount&gt;\" + $(\"input[name=amount]\").val() + \"&lt;/amount&gt;\\n\" + \n                        \"    &lt;currency&gt;\" + $(\"input[name=currency]\").val() + \"&lt;/currency&gt;\\n\" + \n                        \"   &lt;/request&gt;\\n\" + \n                        \"  &lt;/transaction&gt;\\n\" + \n                        \"&lt;/body&gt;\\n\" + \n                        \"&lt;/authorizationSplit&gt;\"\n                    );\n                $(\"#step2\").show();\n                $(\"#uppform\").hide();\n            }\n\n            if ( response.is3DEnrolled ) // close/remove the iframe\n            {\n                $(\"#paymentIFrame\").remove();\n            }\n        }\n        else\n        if ( mode == \"manual\" ) // manual mode used, browser has to be redirected to ACSURL\n        {        \n            if ( response.is3DEnrolled &amp;&amp; response.status == \"success\" )\n            {\n                responseElm.append( $(\"&lt;div/&gt;\").html( \"Redirecting page to ACS in 3 seconds...\" ) );\n\n                setTimeout( function() {\n                    params.uppTransactionId = response.uppTransactionId;\n                    params.errorUrl = \"https://pilot.datatrans.biz/upp/merchant/errorPage.jsp\";\n                    params.returnUrl = \"https://pilot.datatrans.biz/upp/merchant/successPage.jsp\";\n                    window.parent.location = response.ACSURL + \"?\" + $.param( params );\n                }, 3000 );\n            }\n        }\n    };\n    &lt;/script&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>\n\n<p>When I run it, I receive an error status code 1003, saying that the uppTransactionId is undefined which should result from the responseCallback. So I guess it has something to do with the usual processing of Ajax calls in wordpress which must go through the admin-ajax.php file in the wp-admin folder!? I am not sure how to cut this datatrans implementation into pieces to make it fit the wordpress Ajax processing. Furthermore I would like to know if you think that my guess is even right regarding what causes the error?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Cheers,\nTim</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13049683,"title":"using jQuery to change, only the elements that were loaded via ajax","body":"<p>For each checkbox on the web page, I replace it with a slider that I borrowed from jsfiddle.net/gnQUe/170/</p>\n\n<p>This is done by going through the elements when the document is loaded.</p>\n\n<p>Now the problem is that when more content is loaded via ajax, the new checkboxes are not transformed.</p>\n\n<p>To solve the problem, I used AjaxComplete event to go through all the elements again and replace the checkboxes with sliders.\nNow the problem happens that elements that were already replaced, get two sliders. To avoid that I check if the checkbox is hidden and next element is div of class \"slider-frame\", then don't process the re-process the element. </p>\n\n<p>But I have a lot of other such controls as well, and I am presume I am not the only one that has this problem. Is there another easy way around it? </p>\n\n<p>There exists jQuery live/on( <a href=\"http://api.jquery.com/on/\" rel=\"nofollow\">http://api.jquery.com/on/</a> ) event but it requires an event as an argument? whereas I would like to change the look of my controls when they are rendered.</p>\n\n<p>Another example of the same problem is to extend some controls that are loaded via ajax with jQuerys autocomplete plugin.</p>\n\n<p>Is there a better way to accomplish this other than changing some attributes on the element.</p>\n\n<p>To summarize, on document load I would like to process every element in DOM, but when more elements are loaded via ajax then I want to change only the new elements.</p>\n"},{"tags":["ajax","json","cakephp","request","openlayers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13028263,"title":"ajax request ends CakePHP session","body":"<p>I've implemented a Openlayers BBOX strategy that sends a request to my server. It's arguments are in the URL. I reply via CakaPHP with a jsonp object.</p>\n\n<p>For some reason some requests end the session and I don't get a jsonp returend but a page which is a redirect to the login page. In the 'NET' tab in Firebug you can see the HTML of the login page.</p>\n\n<p>Here's the URL (of a request that goes wrong):</p>\n\n<pre><code>http://localhost/tests/poi?bbox=4.151161804326345,51.66178773716078,5.615090026982677,52.04772606902698&amp;callback=OpenLayers.Protocol.Script.registry.c2\n</code></pre>\n\n<p>Firebug:</p>\n\n<pre><code>GET poi?bbox=4.1511618...Script.registry.c2, 302 Found, localhost, 0KB, 127.0.0.1:80\n</code></pre>\n\n<p>although the response says 0KB, the HTML view of the response shows the login page. The actual error you see in Firebug is also a:</p>\n\n<pre><code>SyntaxError: syntax error &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//E\n</code></pre>\n\n<p>the request headers:</p>\n\n<pre><code>GET /tests/poi?bbox=4.151161804326345,51.66178773716078,5.615090026982677,52.04772606902698&amp;callback=OpenLayers.Protocol.Script.registry.c2 HTTP/1.1\nHost: localhost\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0\nAccept: */*\nAccept-Language: nl,en-us;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate\nDNT: 1\nConnection: keep-alive\nReferer: http://localhost/tests/newmap\nCookie: __utma=111872281.1525876557.1329838516.1338476641.1338488176.228; __utmz=111872281.1329838516.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); _pk_id.1.1fff=00b25fc2e71f2d76.1349166387.64.1350986193.1350979575.; _pk_cvar.1.1fff=%7B%221%22%3A%5B%22User%22%2C%22Jeroen%20Bosch%22%5D%2C%222%22%3A%5B%22Relation%22%2C%22Thunderbuild%20BV%22%5D%7D; _pk_ses.1.1fff=*\n</code></pre>\n\n<p>the response headers:</p>\n\n<pre><code>HTTP/1.1 302 Found\nDate: Tue, 23 Oct 2012 09:56:37 GMT\nServer: Apache/2.2.21 (Win64) PHP/5.3.8\nX-Powered-By: PHP/5.3.8\nSet-Cookie: CAKEPHP=q16jb0grsk4rv3krb3rc40cj22; expires=Tue, 23-Oct-2012 13:56:37 GMT;     path=/\nP3P: CP=\"NOI ADM DEV PSAi COM NAV OUR OTRo STP IND DEM\"\nLocation: http://localhost/users/login\nContent-Length: 0\nKeep-Alive: timeout=5, max=73\nConnection: Keep-Alive\nContent-Type: text/html; charset=UTF-8\n</code></pre>\n\n<p>the code on the server:</p>\n\n<pre><code>public function poi() {\n    $this-&gt;layout = false;\n\n    if (!isset($this-&gt;request-&gt;query['bbox'])){\n        $this-&gt;log($this-&gt;request, 'debug');\n        return;\n    }\n    $bounds = $this-&gt;request-&gt;query['bbox'];\n    $callback = $this-&gt;request-&gt;query['callback'];\n\n    $data = $this-&gt;Location-&gt;getBoundedLocations($bounds);\n\n    $this-&gt;set('callback', $callback);\n    $this-&gt;set('json', $data);\n    $this-&gt;render('../Elements/jsonp');\n}\n</code></pre>\n\n<p>The jsonp element is just a normal json_encode and also wraps it in the callback function.\nI don't uderstand why sometimes (actually quite often) this ends the session. I've no idea how to fix this.</p>\n\n<p>Many thanks for your thoughts!</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13050097,"title":"jquery click() doesn't work","body":"<p>I have a problem with jQuery click() function.</p>\n\n<p>I use this function to programatically click on a link which calls an ajax function that adds a new object to the database.</p>\n\n<p>When I submit my form, a tr is added in the object datatable for my new object with new link and I want to programatically click on this new link to load object properties and display them.</p>\n\n<p>The problem is that the new tr with td and link doesn't exist in DOM and the function <code>$.('#elem').click')</code> doesn't work.</p>\n\n<p>I saw in others post that I have to bind click event with the new .on function like this :</p>\n\n<pre><code>$('#parent-items').on('click', 'elem', function() {\n   // [...]\n});\n</code></pre>\n\n<p>I don't know what I have to write in place of [...], at the end of my javascript code, I call the click function like this :</p>\n\n<pre><code>$('#myelem').click();\n</code></pre>\n\n<p>Thanks for your help</p>\n"},{"tags":["jquery","html","css","ajax","css3"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":88,"score":-1,"question_id":13050197,"title":"How to position a pop up div like the profile info on this site","body":"<p>I'm trying to do a pop up div like the ones that show up when you hover over your username or click the StackExchange words on the top most tool bar on this site.</p>\n\n<p>I'm not asking for the ajax code etc. Just how to position it. I looked at their code using firebug, but they don't specify a position like x 250 y 500. So how do these guys get it to appear just under the username or StackExchange letters?</p>\n"},{"tags":["ajax","jsf","richfaces"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13050856,"title":"Conditionally rendering a dataTable","body":"<p>I have a <code>&lt;rich:dataTable&gt;</code> in JSF page. </p>\n\n<pre><code>&lt;rich:dataTable id=\"transactionTable\" rendered=\"#{tellerBean.userTransactions.size() &gt; 0}\"\n    value=\"#{tellerBean.userTransactions}\" var=\"transaction\"&gt;\n</code></pre>\n\n<p>When I press a search button, the backing list gets filled and I re-render the table. However this does not work, because the <code>rendered</code> attribute is server side and the grid never gets converted to HTML in the first place so re-rendering fails. How can I have the grid to be hidden when the backing list is of 0 size, and shown when the list size is > 0?</p>\n"},{"tags":["javascript","ajax","c#-4.0","telerik"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":64,"score":4,"question_id":13025653,"title":"Radpanelbar scroll issue","body":"<p>I have scroll issue of Telerik control RadPanelBar. Page is on auto refresh. On page refresh RadPanelBar scroll goes upward. I handle this with JavaScript. Below is the image.</p>\n\n<p><img src=\"http://i.stack.imgur.com/zMcGX.png\" alt=\"enter image description here\"></p>\n\n<p>Below is the code. Its working fine for dealers contacts scroll, but not for staff. I am trying the same way(method) to maintain scroll position for staff. </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n   $(\".rpSlide ul\").scroll(function() { \n       SaveStafftScrollPosition();            \n   });\n\n   function SaveStaffScrollPosition(){\n       yPos = $(\".rpSlide ul\").scrollTop();        \n   }\n\n   function ReturnStaffScrollPosition() {\n       $(\".rpSlide ul\").scrollTop(yPos);        \n   }\n\n   function OnResponseEnd(sender ,eventArgs){\n       ReturnStaffScrollPosition();\n   }\n\n   function OnRequestStart(sender ,eventArgs){\n       SaveStafftScrollPosition();\n   }\n</code></pre>\n\n<p></p>\n\n<p>In HTML having piece of code.</p>\n\n<pre><code>&lt;telerik:RadAjaxManager ID=\"RadAjaxManager1\"  runat=\"server\"\n         ClientEvents-OnRequestStart=\"OnRequestStart\" \n         ClientEvents-OnResponseEnd=\"OnResponseEnd\" \n         OnAjaxRequest=\"RadAjaxManager1_AjaxRequest\"&gt;\n    //some code here\n&lt;/telerik:RadAjaxManager&gt;\n</code></pre>\n\n<p>Problem is this it saved scroll position zero for staff when i scroll down.\nWhy it always saved scroll position to zero for staff contacts even i scroll down to middle/end?</p>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13048603,"title":"Add active/current class to submenu custom post title","body":"<p>this is the code that I use to create a submenu that list all custom post I create in wordpress:</p>\n\n<pre><code>    &lt;ul class=\"submenu\"&gt;\n        &lt;img src=\"&lt;?php bloginfo('template_directory'); ?&gt;/images/submenu.png\" alt=\"submenu\" width=\"62\" height=\"1\" /&gt;\n        &lt;!-- List post types --&gt;\n        &lt;?php\n            $the_query = new WP_Query( 'post_type=artworks_post' );\n            // The Loop\n            while ( $the_query-&gt;have_posts() ) : $the_query-&gt;the_post();\n            echo '&lt;li id=\"submenu_link\" class=\"submenu_item_link\"&gt;';\n            echo '&lt;a  href=\"' .get_permalink(). '\" &gt; ';\n            the_title();\n            echo '&lt;/a&gt;';\n            echo '&lt;/li&gt;';\n            endwhile;\n            // Reset Post Data\n            wp_reset_postdata();\n        ?&gt; \n        &lt;img src=\"&lt;?php bloginfo('template_directory'); ?&gt;/images/submenu.png\" alt=\"submenu\" width=\"62\" height=\"1\" /&gt;\n    &lt;/ul&gt;\n</code></pre>\n\n<p>For example my current post is artworks_post/project-coke but it doesn´t add current/active class to the title of it in the submenu (Project Coke title).</p>\n\n<p><strong>How can I add an active/current class to the title of the current post in the submenu?</strong></p>\n\n<p><em>The submenu is constructed that way to get the custom post...</em></p>\n"},{"tags":["ruby-on-rails","ajax","frameset","partials"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13046448,"title":"rails navigation and partial refresh","body":"<p>Thanks for your time!</p>\n\n<p>I get some reports data on my hand and I want to present these data on the web. The view of the HTML will be divided into two parts, the left part and the right part. There's a tree view in the left part consisting of the report names. In the right part presents the contents of the report.</p>\n\n<p>What I want to achieve is when I click the report name on the left part, it will call an <code>Action</code> in the <code>Controller</code>, and passed the report name as parameter. The <code>Action</code> will fetch the data from the database and represent the data in the right part. And now I am stuck on how to realize this kind of view.</p>\n\n<p>I've Googled a lot on the Internet and found <code>Frameset</code>, <code>Partials</code> or <code>Ajax</code> may capable of this. Because I've never developed web applications before and also new to Rails. So can anyone give me some advise or suggestion? </p>\n\n<p>Things I've already known :</p>\n\n<ol>\n<li><p>I've used <code>Frameset</code> to accomplish a view like this. But I found it needs a lot of <code>.html</code> files and all these <code>.html</code> files are static. And many people don't suggest it at all.</p></li>\n<li><p>Then I've Googled <code>Partials</code>. But it seems <code>Partials</code> don't call the Action. It directly loads the <code>_partials.html.erb</code> to the main view. And besides, how can I control the layout? Using <code>CSS</code>?</p></li>\n<li><p>I've never used <code>Ajax</code>.</p></li>\n</ol>\n"},{"tags":["jquery","ajax","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":305,"score":0,"question_id":9555298,"title":"Using jQuery Masonry with AJAX","body":"<p>I'm using the jQuery plugin \"Masonry\" (http://masonry.desandro.com/) to sort some DIVs. These DIVs are loaded with AJAX and somehow, the plugin starts too early and get the positions wrong.\nHow can I set a proper delay in these functions?</p>\n\n<pre><code>function loadALLtheposts(id) {\n$.ajax({\n    url: \"******.php\",\n    data: {userID: id},\n    type: \"POST\",\n    dataType: \"text\",\n    contentType: \"application/x-www-form-urlencoded; charset=utf-8\",\n    success: function (data) {\n        $('#timeline-posts').html(data);\n        masonry_index();\n    }\n});\n}\n\nfunction masonry_index() {\n$('#timeline-posts').masonry({\n    itemSelector : '.post-wrapper',\n    columnWidth : 266\n});\n}\n</code></pre>\n\n<p>Thank you in advance.</p>\n"},{"tags":["php","jquery","ajax","include"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13049038,"title":"AJAX/JQUERY post and include","body":"<p>Find this confusing...</p>\n\n<p>If a user fills in a contact form (contactus.php) and submits the form using AJAX/JQuery to (process.php) and on the (process.php) there is a include function but the PHP file isn't being included..</p>\n\n<p>Why could that be??</p>\n\n<p>LOL if it makes sense. All help would really be appreciated.</p>\n\n<pre><code>include(\"file_name_goes_here.php\");\n</code></pre>\n\n<p>OR_<strong><em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em>__<em>_</em></strong></p>\n\n<p>How can I make (index.php) read a text file's contents as php coding and then excute it?</p>\n\n<pre><code>$data = file_get_contents(\"file.txt\");\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13049066,"title":"Jquery AJAX function always returning false","body":"<p>both my JS and PHP file work correctly, the problem i'm having is that it <strong>ALWAYS</strong> says error with submission even when I see the PHP script resulted in outputting \"proceed\". The database insert works correctly from the form and count stores the numbers of rows in my table. Is there something i'm overlooking?</p>\n\n<h2>JS</h2>\n\n<pre><code>var dataString = $(\"form\").serialize();\nvar msg = '&lt;?php echo $msg; ?&gt;';\n\n$.ajax({\n    type: \"POST\",\n    url: 'submit_form.php',\n    data: dataString,\n    datatype: 'html',\n    error: function() {\n        alert('Error');\n    },\n    success: function(msg) {\n        if (msg == 'proceed') {\n            $('#contact_form').html(\"&lt;div id='message'&gt;&lt;/div&gt;\");\n            $('#message').html(\"&lt;h2&gt;Contact Form Submitted!&lt;/h2&gt;\").append(\"&lt;p&gt;We will be in touch soon.&lt;/p&gt;\");\n        }\n        else {\n            $('#contact_form').html(\"&lt;div id='message'&gt;&lt;/div&gt;\");\n            $('#message').html(\"&lt;h2&gt;Error with Submission!&lt;/h2&gt;\").append(\"&lt;p&gt;Please Try again.&lt;/p&gt;\");\n        }\n    }\n});\nreturn false;​\n</code></pre>\n\n<h2>PHP</h2>\n\n<pre><code>if ($count &gt; 15)\n{\n    $msg = 'error';\n    echo $msg;\n    exit();\n}\nelseif ($stmt = $mysqli-&gt;prepare(\"INSERT INTO Comments (Name, Email, Comment) values (?, ?, ?)\"))\n{\n    //do sql logic here \n    $msg = 'proceed';\n    echo $msg;\n}\nelse\n{\n    /* Error */\n    printf(\"Prepared Statement Error: %s\\n\", $mysqli-&gt;error);\n}\n</code></pre>\n"},{"tags":["php","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":13049262,"title":"How to use ajax to control my web update","body":"<pre><code>&lt;html&gt;\n     &lt;head&gt;\n        &lt;link rel=stylesheet href=\"first.css\" type=\"text/css\"&gt; \n        &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;\n        &lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function(){\n            $(\"input\").click(function(){\n                $(\"body\").css({\"background-color\":\"red\"}); \n            });\n        });\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;?php\n        session_start();\n        //生成我们的随机数\n        $return = array();\n        if(!isset($_SESSION['counter'])){\n            $_SESSION['counter']=rand(1,100);\n        }\n        //点击reset按钮后\n        if(isset($_POST['reset']) &amp;&amp; $_POST['reset'] == 'reset'){\n            session_destroy();\n            $return['status'] = 1;\n        }\n        //当发来的数字与我们的随机数吻合\n        if(@$_POST['num']==$_SESSION['counter']){\n            echo \"right\";\n            session_destroy();\n            $return['status'] = 1;\n            //发来的随机数和我们的不吻合\n        }elseif(@$_POST['num']&gt;$_SESSION['counter']){\n            $return['status'] = 0;\n            if(!isset($_SESSION['less'])){\n               $_SESSION['less']=1;\n            }\n            $_SESSION['more']=$_POST['num'];\n            echo \"&lt;p&gt;from\".$_SESSION['less'].\"to\".$_SESSION['more'].\"&lt;/p&gt;\";\n\n            }elseif(@$_POST['num']&lt;$_SESSION['counter']){\n            if(!isset($_SESSION['more'])){\n               $_SESSION['more']=100;\n            }\n            $_SESSION['less']=@$_POST['num'];\n            echo \"&lt;p&gt;from\".$_SESSION['less'].\"to\".$_SESSION['more'].\"&lt;/p&gt;\";\n        }\n            //die(@$_GET['jsoncallback'] . '(' . json_encode($return) . ')');\n        ?&gt;\n        &lt;h1&gt;Number Quiz&lt;/h1&gt;&lt;br&gt;\n        &lt;form method=\"post\" action=\"\"&gt;\n            Please Input From 1 To 100\n            &lt;input type=\"text\" name=\"num\" id=\"num\" /&gt;&lt;br&gt;\n            &lt;input type=\"submit\" name=\"button\" id=\"button\" value=\"submit\"/&gt;&lt;br&gt;\n        &lt;/form&gt;\n        &lt;form method=\"post\" action=\"\"&gt;\n            &lt;input type=\"hidden\" name=\"reset\" value=\"reset\"&gt;\n            &lt;input type=\"submit\" name=\"ag\" id=\"ag\" value=\"replay\" action=clear() /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is my ajax code ,I want to use the code to generate a game to analyse the number I have already offered. But when I run the application , the web is click with red. I want to if I input right the background is green, if I input wrong the background is red ? How to code it ?</p>\n"},{"tags":["jquery","ajax","fancybox"],"answer_count":6,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":6850,"score":5,"question_id":4390581,"title":"To close fancybox from child window?","body":"<p>parent link:</p>\n\n<pre><code>&lt;a href=\"feedback.php\" id=\"feed\"&gt;Provide your feedback here&lt;/a&gt;\n</code></pre>\n\n<p>jQuery code to initiate fancybox is...</p>\n\n<pre><code>$(\"#feed\").fancybox();\n</code></pre>\n\n<p>codes in feedback.php...</p>\n\n<pre><code>      &lt;html&gt;\n        &lt;head&gt;\n&lt;script language=\"javascript\"&gt;    \n$(document).ready(function(){\n    $(\"#feed_submit\").click(function(){\n    //Name is alerted\n    alert($(\"#name\").val());\n\n    //code to close fancy box(Not working)\n    $.fancybox.close();\n\n    });\n    });\n&lt;/script&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n        &lt;form method=\"post\" name=\"feedback\" id=\"feedback\" action=\"\"&gt;\n                &lt;div&gt;\n                    &lt;label&gt;name&lt;/label&gt;\n                    &lt;input type=\"text\" name=\"name\" id=\"name\"/&gt;\n                &lt;/div&gt;\n                &lt;div&gt;\n                    &lt;label&gt;feedback&lt;/label&gt;\n                    &lt;input type=\"text\" name=\"content\" id=\"content\"/&gt;\n                &lt;/div&gt;\n        &lt;div&gt;&lt;input type=\"button\" name=\"feed_submit\" id=\"submit\" value=\"submit\"&gt;&lt;/div&gt;\n    &lt;/form&gt;    \n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p><strong>Once submit button is clicked i need to close fancy box in this page itself with jquery</strong></p>\n\n<p>i tried</p>\n\n<pre><code>$.fancybox.close();\nparent.$.fancybox.close();\n</code></pre>\n\n<p>none helps me to close. if there is any option to close inside this ajax form ry me...</p>\n"},{"tags":["c#","asp.net","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12997137,"title":"Potential problems sending text over ajax","body":"<p>I am building a web app in asp c#. When I am saving data in a form, I dont want to do a post back to save it, I want to save it through Ajax. I am just wondering would there be any potential problems the system will encounter sending text through ajax. </p>\n\n<p>The max length of text being sent will be around 500 chars.</p>\n"},{"tags":["ajax","asp.net-mvc","opera","ntlm","http-status-code-401"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13048175,"title":"asp mvc - opera return 401 response when sended ajax NTLM request","body":"<p>I have web app (asp.net mvc mvc 4), when i enable ntlm authentification in visual studio and try to send ajax request for example <code>$.ajax({url : 'http://localhost:4135/'});</code> the returned server response is 401 - and it happens only on opera, chrome work fine, and firefox. Who can help to fix that? Thanks.</p>\n"},{"tags":["jquery","ajax","spring-mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13047573,"title":"Spring MVC + ajax + jQuery","body":"<p>I'm trying to make a ajax request to the server using jQuery but always returns an error 400 Bad Request</p>\n\n<p>this is my code:</p>\n\n<p>Ajax/jQuery</p>\n\n<pre><code>        function mostrarSubgrupo(codSubgrupo){\n            $.ajax({\n                url:\"editSubGrupo\",\n                method: \"GET\",\n                data: {\"codSubGrupo\" : codSubgrupo},\n                success: function(){\n                    alert(\"hola\");\n                },\n                error: function(jqXHR, textStatus, errorThrown) {\n                    alert(\"error:\" + textStatus + \" - exception:\" + errorThrown);\n                    }\n            });\n        }\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>@RequestMapping(value=\"/editSubGrupo\", method = RequestMethod.GET)\npublic @ResponseBody String editSubGrupo(@RequestParam(\"codSubGrupo\") int codSubGrupo, ModelMap model){\n    SubGrupoInteres subGrupoInteres = subGrupoInteresManager.getSubGrupoInteresById(codSubGrupo);\n    List&lt;GrupoInteres&gt; gruposInteres = grupoInteresManager.getGruposInteres();\n\n    model.addAttribute(\"gruposInteres\", gruposInteres);\n    model.addAttribute(\"subGrupoInteres\", subGrupoInteres);\n\n    return \"\";\n}\n</code></pre>\n\n<p>Thanks for the help. Bye!!</p>\n"},{"tags":["ajax","asp.net-mvc-3","model-binding"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":30,"score":2,"question_id":13047436,"title":"Nested models don't bind","body":"<p>I want to pass a JSON data structure to an MVC (3) Controller, have the JSON object be translated into a C# object, with all properties bound. One of the properties is a simple Type. That's basic model binding, right?</p>\n\n<p>Here are my models:</p>\n\n<pre><code>public class Person\n{\n    public string Name { get; set; }\n    public JobTitle JobTitle { get; set; }\n}\n\npublic class JobTitle\n{\n    public string Title { get; set; }\n    public bool IsSenior { get; set; }\n}\n</code></pre>\n\n<p>Here is my Index.cshtml page (which makes an AJAX request, passing in a JSON object which matches the strcture of the \"Person\" class):</p>\n\n<pre><code>&lt;div id=\"myDiv\" style=\"border:1px solid #F00\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar person = { \n        Name: \"Bob Smith\",\n        JobTitle: { \n            Title: \"Developer\",\n            IsSenior: true\n        } \n    };\n\n$.ajax({\n    url: \"@Url.Action(\"ShowPerson\", \"Home\")\",\n    data: $.param(person),\n    success: function (response){\n        $(\"#myDiv\").html(response);\n    },\n    error: function (xhr) {\n        $(\"#myDiv\").html(\"&lt;h1&gt;FAIL&lt;/h1&gt;&lt;p&gt;\" + xhr.statusText + \"&lt;/p&gt;\");\n    }\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And my HomeController looks like this:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    public ActionResult Index()\n    {\n        return View();\n    }\n\n    public ActionResult ShowPerson(Person person)\n    {\n        return View(person);\n    }\n}\n</code></pre>\n\n<p>Ignore the \"ShowPerson.cshtml\" file for now because the problem occurs before that is ever needed.</p>\n\n<p>In the HomeController.ShowPerson action, the \"person.Name\" property is correctly bound and the \"person.JobTitle\" object (containing \"Title\" and \"IsSenior\" properties) is instantiated but still has the default values of \"Title = null\" and \"IsSenior = false\".</p>\n\n<p>I'm sure I have done nested model binding without problem in the past. What am I missing? Can anybody shed any light on why model binding only seems to work one level deep?</p>\n\n<p>I've searched SO, and it seems everybody else is having binding problems when sending data from forms, so maybe I'm missing something in my $.ajax() request?</p>\n"},{"tags":["ajax","linux","xcode","login"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":288,"score":0,"question_id":10165453,"title":"AjaXplorer connect to database","body":"<p>I discovered AjaXplorer and I was wondering if there is a step by step guide of how to step up a link between the database i have read the file <a href=\"http://ajaxplorer.info/documentation/developer-documentation/chapter-external-bridge/\" rel=\"nofollow\">http://ajaxplorer.info/documentation/developer-documentation/chapter-external-bridge/</a>\nbut still think its too detailed</p>\n\n<p>is there a step by step ajax to link the database?</p>\n"},{"tags":["php","jquery","ajax","http-status-code-405"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3700,"score":1,"question_id":2362928,"title":"jquery, ajax 405 Method Not Allowed","body":"<p>I have a small \"contact  form\" with jquery validation, php and ajax. My website running on IIS.</p>\n\n<p>The problem is, I am trying to post the form contents using ajax+jquery, but I am getting the response \nlike \"<strong>405 Method Not Allowed</strong>\" (From firebug console).</p>\n\n<p>But its running properly in local server. Pls help me to fix 405 error. Thanks in advance.</p>\n\n<p>Here's the js code while submitting the form:</p>\n\n<pre><code>$(\"#contactusForm\").validate({\n\n    rules:\n    {\n        firstName:{required:true},\n                     email:{required :true},            \n    },\n\n    messages: \n    {\n        firstName:{required: \" *Required\"},\n        email:{ required:\" *Required\"},\n    },\n\n    submitHandler: function (form) \n    {\n\n        var dataString='firstName='+ firstName  + '&amp;email=' + email;\n        $.ajax({  \n             type: \"POST\",  \n             url: \"send_contact.php\",  \n             data: dataString,\n\n\n             success: function() {  \n                 $('#result').html(\"&lt;br/&gt;&lt;b&gt;Thank you&lt;/b&gt;\");  \n\n             }\n         }); \n}\n});\n</code></pre>\n"},{"tags":["ajax","url","navigation"],"answer_count":2,"favorite_count":6,"up_vote_count":7,"down_vote_count":0,"view_count":1191,"score":7,"question_id":2586661,"title":"URL Navigation in an AJAX Based Website?","body":"<p>I would like to develop a website with fully ajax navigation, but this means that users cannot share, bookmark, or go straight to certain content. </p>\n\n<p>I noticed a few websites (<a href=\"http://gmail.com\" rel=\"nofollow\">Gmail</a>, <a href=\"http://www.thesixtyone.com\" rel=\"nofollow\">Thesixtyone</a>, <a href=\"http://youtube.com\" rel=\"nofollow\">Youtube</a>) are using hash tags to create custom urls for different page configurations. What is this technique called, and how can I implement this?</p>\n"},{"tags":["javascript","ajax","navigation","location"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":221,"score":1,"question_id":5407160,"title":"AJAX navigation that changes the location of the browser","body":"<p>I've been wondering for a while how github.com does it's navigation. If you enter a project in the FF4 (don't know if it works in FF3.6) or Chrome (only two I've confirmed working, haven't tested much more, but it doesn't work in IE9) they have ajax-navigation (the new page is loaded in an ajax-request, and only the new content is exchanged on the client side), still the url changes. And it's not just the hash-part of the url, the actual url changes. How is this done?</p>\n"},{"tags":["javascript","ajax","flash","actionscript-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13046972,"title":"Flash ExternalInterface.addCallback does not work on second call","body":"<p>I have a button which if clicked will generate (ajax) a popup with a flash. And inside the pop up theres a nother button 'Hide' that will hide the flash and the pop up. It works on first call but if i generate again the popup . It won't work and will return 'myflash.scootOff is not a function ';</p>\n\n<p>This is my code:</p>\n\n<p>Flash: \n<code>import flash.external.*;\n    function scootOff():Void\n    {\n        gotoAndPlay(146);\n    }\n    ExternalInterface.addCallback(\"scootOff\",null,scootOff);\n</code></p>\n\n<p>javascript:\n`\n    var params = {};\n    params.allowscriptaccess = \"always\";\n    params.wmode = 'opaque';\n    params.quality = 'high';\n    var attributes = {};\n    attributes.id = \"myFlash\";\n    attributes.name = \"myFlash\";<br>\n    swfobject.embedSWF(\"myflash.swf\",\"myFlash\", \"270\", \"270\", \"8\",null,null,params,attributes);   </p>\n\n<pre><code>function hideFlash(){\n    setTimeout(function(){\n        myflash.scootOff();},500);\n     }   \n</code></pre>\n\n<p>`</p>\n"},{"tags":["ajax","json","web-applications","jax-rs","content-negotiation"],"answer_count":3,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":320,"score":5,"question_id":1465974,"title":"Content negotiation ignored when using browser Back button","body":"<p><strong>Here's the situation:</strong></p>\n\n<p>I have a web application which response to a request for a list of resources, lets say:</p>\n\n<pre><code>/items\n</code></pre>\n\n<p>This is initially requested directly by the web browser by navigating to that path. The browser uses it's standard \"Accept\" header which includes \"text/html\" and my application notices this and returns the HTML content for the item list.</p>\n\n<p>Within the returned HTML is some JavaScript (jQuery), which then does an ajax request to retrieve the actual data:</p>\n\n<pre><code>/items\n</code></pre>\n\n<p>Only this time, the \"Accept\" header is explicitly set to \"application/json\". Again, my application notices this and JSON is correctly returned to the request, the data is inserted into the page, and everything is happy.</p>\n\n<p><strong>Here comes the problem</strong>: The user navigates to another page, and later presses the BACK button. They are then prompted to save a file. This turns out to be the <em>JSON</em> data of the item list.</p>\n\n<p>So far I've confirmed this to happen in both Google Chrome and Firefox 3.5. </p>\n\n<p>There's two possible types of answers here:</p>\n\n<ol>\n<li><p>How can I fix the problem. Is\nthere some magic combination of\nCache-Control headers, or other\nvoodoo which cause the browser to do\nthe right thing here?</p></li>\n<li><p>If you think I am doing something\nhorribly wrong here, how should I go\nabout this? I'm seeking correctness,\nbut also trying not to sacrifice\nflexibility.</p></li>\n</ol>\n\n<p>If it helps, the application is a JAX-RS web application, using Restlet 2.0m4. I can provide sample request/response headers if it's helpful but I believe the issue is completely reproducible.</p>\n"},{"tags":["ajax","asp.net-mvc-3"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13022656,"title":"MVC3 Ajax Ajax.ActionLink in Views Shared _Layout.cshtml","body":"<p>I have an mvc3 web app I used a shared view under\nViews\n    Shared_Layout.cshtml</p>\n\n<p>_Layout.cshtml contains markups which acts like a master page for our app</p>\n\n<pre><code>@using .............\n@using ......\n\n&lt;!DOCTYPE html&gt;\n&lt;html style=\"overflow: hidden\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;@ViewBag.Title&lt;/title&gt;\n\n        &lt;link href=\"@Url.Content(\"~/Content/Site.min.css\")\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n        &lt;link href=\"@Url.Content(\"~/Content/themes/metro-light/jquery-ui-1.8.16.custom.css\")\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n        @RenderSection(\"CSS\", false)\n        &lt;script src=\"@Url.Content(\"~/Scripts/jquery-1.6.2.min.js\")\" type=\"text/javascript\"&gt; &lt;/script&gt;\n        &lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt; &lt;/script&gt;\n        &lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt; &lt;/script&gt;\n        &lt;script src=\"@Url.Content(\"~/Scripts/jquery-ui-1.8.16.custom.min.js\")\" type=\"text/javascript\"&gt; &lt;/script&gt;\n        &lt;script src=\"@Url.Content(\"~/Scripts/jquery.unobtrusive-ajax.min.js\")\" type=\"text/javascript\"&gt; &lt;/script&gt;\n        ...... (some other scripts here)\n        ......\n\n    &lt;/head&gt;\n    &lt;body style=\"height: 100%\"&gt;\n        &lt;!-- page --&gt;\n        &lt;div class=\"page\"&gt;\n            &lt;div id=\"header\"&gt;\n                &lt;div id=\"title\"&gt;\n                    &lt;img alt=\"\" src=\"@Url.Content(\"~/Content/images/Logo.png\")\"/&gt;@ViewBag.ApplicationName\n                &lt;/div&gt;\n                &lt;div id=\"logindisplay\"&gt;\n                    Welcome &lt;strong&gt;@User.Identity.Name&lt;/strong&gt;\n                &lt;/div&gt;\n                &lt;ul id=\"menu\"&gt;              \n                    &lt;li&gt;@Ajax.ActionLink(\"Dashboard\", \"Index\",\"Dashboard\", new {@class = \"Map View\".Equals(ViewBag.Title) ? \"selected\" : null},new AjaxOptions { UpdateTargetId = \"main\", InsertionMode = InsertionMode.Replace, HttpMethod = \"GET\" })&lt;/li&gt;\n                    &lt;li&gt;@Ajax.ActionLink(\"Map View\", \"Index\", \"Map\", new { @class = \"Map View\".Equals(ViewBag.Title) ? \"selected\" : null },new AjaxOptions { UpdateTargetId = \"main\", InsertionMode = InsertionMode.Replace, HttpMethod = \"GET\" })&lt;/li&gt;\n                    &lt;li&gt;@Ajax.ActionLink(\"Settings\", \"Index\", \"Settings\", new { @class = \"Settings\".Equals(ViewBag.Title) ? \"selected\" : null }, new AjaxOptions { UpdateTargetId = \"main\", InsertionMode = InsertionMode.Replace, HttpMethod = \"GET\" })&lt;/li&gt;\n                    &lt;li&gt;@Ajax.ActionLink(\"About\", \"Index\", \"AppInfo\", new { @class = \"About\".Equals(ViewBag.Title) ? \"selected\" : null }, new AjaxOptions { UpdateTargetId = \"main\", InsertionMode = InsertionMode.Replace, HttpMethod = \"GET\" })&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n            &lt;div id=\"main\"&gt;\n                @RenderBody()\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- footer --&gt;\n        &lt;div id=\"footer\"&gt;\n\n        &lt;/div&gt;\n        &lt;form id=\"__ajaxAntiForgeryForm\" action=\"#\" method=\"post\"&gt;@Html.AntiForgeryToken()&lt;/form&gt;\n    &lt;/body&gt; \n\n&lt;/html&gt;\n</code></pre>\n\n<p>Basically, from the above code I am replacing my \"main\" div with whatever the controller return</p>\n\n<pre><code>new AjaxOptions { UpdateTargetId = \"main\", InsertionMode = InsertionMode.Replace, HttpMethod = \"GET\" }\n</code></pre>\n\n<p>Here are my controllers (nothing special)</p>\n\n<p><em>DashboardController</em></p>\n\n<pre><code>[UiException]\npublic ActionResult Index()\n{\n    return View();\n}\n</code></pre>\n\n<p><em>MapController</em></p>\n\n<pre><code>[UiExceptionAttribute]\npublic ActionResult Index()\n{\nreturn View();\n}\n</code></pre>\n\n<p>When I load the page and click on the links \"Dashboard\" or \"Map View\", the whole page flickers and refresh.  Supposed to be @Ajax.ActionLink does not refresh the whole page but instead just the \"main\" div.  Is there a way to have an ajax like behavior refreshing only the content section?  Can anybody help?  Thanks!</p>\n"},{"tags":["jquery","xml","ajax","parsing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13045412,"title":"How to parse this xml callback response","body":"<p>The below code retrieves an xml from the server (you can see it if you copy/paste the url into your browser)</p>\n\n<p>I want to get the second \"date\" data under \"bibliographic-data\".</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" \n\nsrc=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar sUrl =  \"http://ops.epo.org/2.6.2/rest-services/published-data/publication/epodoc/EP1814517.A1/biblio.js?callback=?\";\n$.getJSON(sUrl, function(oData) {\nif(oData['ops:world-patent-data'] &amp;&amp; \n  oData['ops:world-patent-data']['exchange-documents'] &amp;&amp; \n  oData['ops:world-patent-data']['exchange-documents']['bibliographic-data']){\n\n  $.each(oData['ops:world-patent-data']['exchange-documents']['bibliographic-data'],\n    function(iIndex, mValue) {\n          console.log(mValue['publication-reference'])\n    });\n}\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is the xml response from the server which is to be parsed.\nI want to get the second \"date\" data under \"bibliographic-data\".</p>\n\n<pre><code>{\n   \"ops:world-patent-data\":{\n      \"@xmlns\":{\n         \"ops\":\"http://ops.epo.org\",\n         \"$\":\"http://www.epo.org/exchange\",\n         \"ccd\":\"http://www.epo.org/ccd\",\n         \"xlink\":\"http://www.w3.org/1999/xlink\"\n      },\n      \"ops:meta\":{\n         \"@name\":\"elapsed-time\",\n         \"@value\":\"31\"\n      },\n      \"exchange-documents\":{\n         \"exchange-document\":{\n            \"@system\":\"ops.epo.org\",\n            \"@family-id\":\"35636806\",\n            \"@country\":\"EP\",\n            \"@doc-number\":\"1814517\",\n            \"@kind\":\"A1\",\n            \"bibliographic-data\":{\n               \"publication-reference\":{\n                  \"document-id\":[\n                     {\n                        \"@document-id-type\":\"docdb\",\n                        \"country\":{\n                           \"$\":\"EP\"\n                        },\n                        \"doc-number\":{\n                           \"$\":\"1814517\"\n                        },\n                        \"kind\":{\n                           \"$\":\"A1\"\n                        },\n                        \"date\":{\n                           \"$\":\"20070808\"\n                        }\n                     },\n                     {\n                        \"@document-id-type\":\"epodoc\",\n                        \"doc-number\":{\n                           \"$\":\"EP1814517\"\n                        },\n                        \"date\":{\n                           \"$\":\"20070808\"\n                        }\n                     }\n                  ]\n               },\n</code></pre>\n\n<p>...</p>\n"},{"tags":["asp.net","ajax","updatepanel","usercontrols","scriptmanager"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":8818,"score":0,"question_id":1105072,"title":"UserControl with UpdatePanel programmatically create ScriptManager possible?","body":"<p>I'd like to use an UpdatePanel in my UserControl. The problem is the .aspx page the control is dropped on will NOT have a ScriptManager. I will need to create the ScriptManager in the UserControl. However if the UserControl is used, say twice on the page, then placing a ScriptManager won't work because you can only initialize ScriptManager once.</p>\n\n<p>In other UserControls where I needed ScriptManager (I was using AJAX Toolkit Extensions) I was able to use this code:</p>\n\n<pre><code>protected override void OnInit(EventArgs e)\n{\n    base.OnInit(e);\n    Page.Init += new EventHandler(Page_Init);\n}\n\nvoid Page_Init(object sender, EventArgs e)\n{\n    if (Page.Form != null &amp;&amp; ScriptManager.GetCurrent(Page) == null)\n        Page.Form.Controls.AddAt(0, new ScriptManager());\n}\n</code></pre>\n\n<p>..worked great, but not for the UpdatePanel case.</p>\n\n<p>Note, I am NOT using Master Pages</p>\n\n<p>(Another approach I was thinking of, but can't figure out how to do, is to programmatically create the UserControl inside an UpdatePanel.)</p>\n"},{"tags":["asp.net",".net","ajax","session"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13044928,"title":"Reading from HttpContext.Current.Session fails on multi server environment","body":"<p>Environment: IIS 7.5, .Net 4.0</p>\n\n<p>I have a problem reading from HttpContext.Current.Session on a multi server environment.</p>\n\n<p>First in my code I store an object in HttpContext.Current.Session an later try to read it again. The read (performed a number of times) fails randomly and I suspect it has something to do with what server the call hits. The storing and reading of the object is done through ajax calls and a colleague told me to store the object in Page_Load. I was fairly skeptic and as it turns out the problem has not been solved using this approach. </p>\n\n<p>Storing:</p>\n\n<pre><code>    [WebGet(ResponseFormat = WebMessageFormat.Json)]\n    public Stream GetHierarchy(string invId, string zoomLevel)\n    {\n        Hierarchy hierarchy = new Hierarchy();\n\n        try\n        {\n            hierarchy = businessLogic.GetHierarchy(invId);\n            HttpContext.Current.Session[\"hierarchy\"] = hierarchy;\n        }\n        catch (Exception ex)\n        {\n            throw ex;\n        }\n\n        return new MemoryStream(Encoding.UTF8.GetBytes(JsonConvert.SerializeObject(hierarchy)));\n    }\n</code></pre>\n\n<p>Reading:</p>\n\n<pre><code>    [WebGet(ResponseFormat = WebMessageFormat.Json)]\n    public Stream GetCustomer(string invId, string includeDetails, string zoomLevel)\n    {\n        Hierarchy hierarchy = (Hierarchy)HttpContext.Current.Session[\"hierarchy\"];\n\n        Customers customers = null;\n        Customer customer = null;\n\n        if (hierarchy != null) {\n            customers = hierarchy.Customers;\n            if (customers != null)\n            {\n                try\n                {\n                    customer = (from e in customers.DiagramCustomers where e.InvId == invId select e).ToList()[0];\n                }\n                catch (Exception ex)\n                {\n                }\n            }\n        }\n\n        return new MemoryStream(Encoding.UTF8.GetBytes(JsonConvert.SerializeObject(customer)));\n    }\n</code></pre>\n\n<p>Everything is working just fine in a single server environment...</p>\n\n<p>Can anyone shed some light over what kind of problem it is I'm facing here? And preferably how to solve it :-)</p>\n\n<p>./CJ </p>\n"},{"tags":["php","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":13044082,"title":"Jquery AJAX return from PHP","body":"<p>New to using this Jquery AJAX method. So i'm making an AJAX call with Jquery, In my PHP script i'm checking a condition to be true from my Database, before I pass in my datastring and bind the variables, then execute that query. Both the script and Database insert work correctly.</p>\n\n<p>My question is, how can I get it to display the error message in my AJAX call on return from my PHP script? </p>\n\n<p><strong>JS</strong></p>\n\n<hr>\n\n<pre><code>$.ajax({\ntype: \"POST\",\nurl: 'submit_form.php',\ndata: dataString,\nerror: function() { alert('Error'); },\nsuccess: function() { alert('Success'); }\n});\n</code></pre>\n\n<h2><strong>SUBMIT_FORM.PHP</strong></h2>\n\n<pre><code>if ( count of rows in db &lt; x  )\n {\n\nreturn false;\nexit();\n\n}\n</code></pre>\n\n<blockquote>\n  <p>if this condition is true I want to stop execution of my script and execute\n  the error condition in my AJAX function.</p>\n</blockquote>\n\n<hr>\n\n<pre><code>elseif ($stmt = $mysqli-&gt;prepare(\"INSERT INTO blah (stuff, morestuff) values (?, ?)\")) {\n\n /* Bind our params */\n  $stmt-&gt;bind_param(\"ss\", $param1, $param1);\n\n        /* Set our params */\n$param1= $_POST[\"name\"];\n$param2= $_POST[\"email\"];\n\n\n/* Execute the prepared Statement */\n$stmt-&gt;execute();\n/* Close the statement */\n$stmt-&gt;close(); \n}\n</code></pre>\n\n<blockquote>\n  <p>if the first condition is false then I want to return the success function in my ajax call which it is currently doing.</p>\n</blockquote>\n"},{"tags":["php","javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13041813,"title":"Live View of Avatar Generator","body":"<p>I found a tutorial showing how to generate a avatar, then I used that and made a simple thing where you have drop boxes and select the features you want for you avatar, click submit and then it generates and shows your avatar. This was all done using PHP. In Photoshop I (quickly) designed how I would want this to look, but I don't know the best way to achieve that. I want it show a live update, so it would show your avatar on the right and when you click it, it would update the image. </p>\n\n<p>Here is my desired look:</p>\n\n<p><img src=\"http://my.iheff.net/featuresselection.jpg\" alt=\"picture of desired look\"></p>\n\n<p>A live view of what I have now:</p>\n\n<p><a href=\"http://my.iheff.net/avatartest1.php\" rel=\"nofollow\">Here</a></p>\n\n<p>And here is the code I have right now.</p>\n\n<pre><code>&lt;?php\nif (isset($_REQUEST['submit'])) {\n//Custom avatar with php\n//Author: Joshua Bolduc\n//Website: http://www.bolducpress.com\n//Disclaimer: This document may be freely used and distributed\n//Date: 7/23/2007\n\nclass avatar\n{\nvar $filename;              //the filename of the image\nvar $width  = 100;          //the final width of your icon\nvar $height = 100;          //the final height of the icon\nvar $parts  = array();      //the different images that will be superimposed on top of each other\n/**\n*   SET WIDTH\n* This function sets the final width of our avatar icon. Because we want the image to      be \n* proportional we don't need to set the height (as it will distort the image)\n* The height will automatically be computed. \n*\n* @param Integer $width\n*/\nfunction set_width($width)\n{\n    //setting the width\n    $this-&gt;width  = $width; \n}\n/**\n*   SET FILENAME\n* This sets the final filename of our icon. We set this variable if we want \n* to save the icon to the hard drive. \n*\n* @param String $filename\n*/\nfunction set_filename($filename)\n{\n    $this-&gt;filename = $filename; \n}\n\n/**\n* SET BACKGROUND\n* From this function we can add one of two types of backgrounds\n* either an image or a solid color. \n*\n* @param String $background\n*/\nfunction set_background($background)\n{ \n    $this-&gt;background_source = $background; \n}\n\n/**\n*   ADD LAYER\n* This is the meat and potatoes of this class (And it's so small!)\n* This function let's us add images to our final composition \n*\n* @param String $filename\n*/\nfunction add_layer($filename)\n{\n    //by using the syntax $this-&gt;parts[] we are automatically incrementing the array pointer by 1\n    //There is no need to do $this-&gt;parts[$index] = $filename; \n    // $index = $index + 1; \n    $this-&gt;parts[] = $filename; \n}\n/**\n*   BUILD BACKGROUND\n*  This function takes our background information and compiles it\n*/\nfunction build_background()\n{\n    //----------------------------------------\n    // Getting the height\n    //----------------------------------------\n    //grabbing the first image in the array\n    $first_image = $this-&gt;parts[0];\n\n    //getting the width and height of that image\n    list($width, $height) = getimagesize($first_image);\n\n    //finding the height of the final image (from a simple proportion equation) \n    $this-&gt;height = ($this-&gt;width/$width)*$height; \n\n\n    //----------------------------------------\n    // Compiling the background\n    //----------------------------------------\n    //the background canvas, it will be the same width and height\n    $this-&gt;background = imagecreatetruecolor($this-&gt;width, $this-&gt;height);\n    //----------------------------------------\n    // Adding a background color\n    // I'm going to be sending hex color values (#FFFFFF), \n    //----------------------------------------  \n    //checking to make sure it's a color \n    if(substr_count($this-&gt;background_source, \"#\")&gt;0)\n    {\n        //converting the 16 digit hex value to the standard 10 digit value\n        $int = hexdec(str_replace(\"#\", \"\", $this-&gt;background_source));\n\n        //getting rgb color\n        $background_color = imagecolorallocate ($this-&gt;background, 0xFF &amp; ($int &gt;&gt; 0x10), 0xFF &amp; ($int &gt;&gt; 0x8), 0xFF &amp; $int);\n\n        //filling the background image with that color \n        imagefill($this-&gt;background, 0,0,$background_color); \n\n    //----------------------------------------\n    // Adding a background image\n    // If $background is not a color, assume that it's an image\n    //----------------------------------------\n    }else{\n        //getting the width and height of the image \n        list($bg_w, $bg_h) = getimagesize($this-&gt;background_source); \n\n        // Make sure that the background image is a png as well. \n        $img = imagecreatefrompng($this-&gt;background_source); \n\n        //This function copies and resizes the  image onto the background canvas\n        imagecopyresampled($this-&gt;background, $img, 0,0,0,0,$this-&gt;width, $this-&gt;height, $bg_w, $bg_h); \n    }\n}\n/**\n * Build Composition\n * This function compiles all the information and builds the image\n*/\nfunction build_composition()\n{\n    //----------------------------------------\n    // The Canvas\n    // Creating the canvas for the final image, by default the canvas is black\n    //----------------------------------------\n    $this-&gt;canvas = imagecreatetruecolor($this-&gt;width, $this-&gt;height); \n\n    //----------------------------------------\n    // Adding the background\n    // If the background is set, use it gosh darnit \n    //----------------------------------------\n    if($this-&gt;background)\n    {\n        imagecopyresampled($this-&gt;canvas, $this-&gt;background, 0,0,0,0,$this-&gt;width, $this-&gt;height, $this-&gt;width, $this-&gt;height); \n    }\n\n    //----------------------------------------\n    // Adding the body parts\n    // Here we go, the best part\n    //----------------------------------------\n    //looping through the array of parts\n    for($i=0; $i&lt;count($this-&gt;parts); $i++)\n    {\n        //getting the width and height of the body part image, (should be the same size as the canvas)\n        list($part_w, $part_h) = getimagesize($this-&gt;parts[$i]); \n\n        //storing that image into memory (make sure it's a png image) \n        $body_part = imagecreatefrompng($this-&gt;parts[$i]); \n\n        //making sure that alpha blending is enabled\n        imageAlphaBlending($body_part, true);\n\n        //making sure to preserve the alpha info\n        imageSaveAlpha($body_part, true);\n\n        //finally, putting that image on top of our canvas  \n        imagecopyresampled($this-&gt;canvas, $body_part, 0,0,0,0,$this-&gt;width, $this-&gt;height, $part_w, $part_h);  \n    }\n}\n/**\n*   OUTPUT\n*  This function checks to see if we're going to ouput to the header or to a file   \n*/\nfunction output()\n{\n    // If the filename is set, save it to a file \n    if(!empty($this-&gt;filename))\n    {\n        //notice that this function has the added $this-&gt;filename value (by setting this you are saving it to the hard drive)\n        imagejpeg($this-&gt;canvas, $this-&gt;filename,100); \n\n    //Otherwise output to the header\n    }else{\n        //before you can output to the header, you must tell the browser to interpret this document \n        //as an image (specifically a jpeg image) \n        header(\"content-type: image/jpeg\"); \n\n        imagejpeg($this-&gt;canvas, \"member/1637/pic1.jpg\");\n\n        //Output, notice that I ommitted $this-&gt;filename\n        imagejpeg($this-&gt;canvas, \"\", 100); \n    }\n    //Removes the image from the buffer and frees up memory\n    imagedestroy($this-&gt;canvas);    \n}\n/**\n* BUILD\n* The final function, this builds the image and outputs it\n*/\nfunction build()\n{\n    //Builds the background\n    $this-&gt;build_background(); \n\n    //builds the image\n    $this-&gt;build_composition(); \n\n    //outputs the image\n    $this-&gt;output(); \n}\n}\n\n\n\n\n\n\n$avatar = new avatar;\n$base = \"base\";\n$bgcolor = $_POST['bgcolor'];\n$hand = $_POST['hand'];\n$headgear = $_POST['headgear'];\n$leggear = $_POST['leggear'];\n$face = $_POST['face'];\n\n//setting the width of your final image (the image will\n//resize themselves dynamically)\n$avatar-&gt;set_width(200);\n\n//setting your background color to black\n$avatar-&gt;set_background(\"#$bgcolor\");\n\n//you can also send it an image\n//$avatar-&gt;set_background(\"my_background_image.png\");\n\n//ah hah! adding your body parts, think of it like layers\n//in photoshop in reverse order.\n$avatar-&gt;add_layer(\"base.png\");\nif($hand != \"none\"){\n$avatar-&gt;add_layer(\"$hand.png\");\n}\nif($headgear != \"none\"){\n$avatar-&gt;add_layer(\"$headgear.png\");\n}\nif($leggear != \"none\"){\n$avatar-&gt;add_layer(\"$leggear.png\");\n}\nif($face != \"none\"){\n$avatar-&gt;add_layer(\"$face.png\"); \n}\n$avatar-&gt;build(); \n}\n?&gt;\n&lt;form method=\"post\" action=\"avatartest1.php\" name=\"myform\" id=\"myform\"&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>    &lt;tr&gt;\n      &lt;td align=\"right\"&gt;\n Background Color          &lt;/td&gt;\n      &lt;td&gt;\n        &lt;div id='myform_bgcolor_errorloc' class=\"error_strings\"&gt;&lt;/div&gt;\n\n &lt;select name=\"bgcolor\"&gt;\n  &lt;option value=\"000000\"&gt;Black&lt;/option&gt;\n\n  &lt;option value=\"FFFFFF\"&gt;White&lt;/option&gt;\n  &lt;option value=\"FF7F50\"&gt;Coral&lt;/option&gt;\n\n  &lt;option value=\"DC143C\"&gt;Crimson&lt;/option&gt;\n  &lt;option value=\"E9967A\"&gt;Salmon&lt;/option&gt;\n\n  &lt;option value=\"FFB6C1\"&gt;Pink&lt;/option&gt;\n  &lt;option value=\"BA55D3\"&gt;Orchid&lt;/option&gt;\n\n  &lt;option value=\"008080\"&gt;Teal&lt;/option&gt;\n  &lt;/select&gt;          &lt;/td&gt;\n  &lt;/tr&gt;\n\n    &lt;tr&gt;\n      &lt;td align=\"right\"&gt;\n Hand          &lt;/td&gt;\n      &lt;td&gt;\n        &lt;div id='myform_hand_errorloc' class=\"error_strings\"&gt;&lt;/div&gt;\n\n &lt;select name=\"hand\"&gt;\n  &lt;option value=\"beer\"&gt;Beer&lt;/option&gt;\n\n  &lt;option value=\"martini\"&gt;Martini&lt;/option&gt;\n  &lt;option value=\"pickle\"&gt;Pickle&lt;/option&gt;\n  &lt;/select&gt;          &lt;/td&gt;\n  &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;td align=\"right\"&gt;\n Head Gear          &lt;/td&gt;\n      &lt;td&gt;\n        &lt;div id='myform_headgear_errorloc' class=\"error_strings\"&gt;&lt;/div&gt;\n\n &lt;select name=\"headgear\"&gt;\n\n  &lt;option value=\"hat\"&gt;Hat&lt;/option&gt;\n\n  &lt;option value=\"none\"&gt;None&lt;/option&gt;  \n  &lt;/select&gt;          &lt;/td&gt;\n  &lt;/tr&gt;\n\n       &lt;tr&gt;\n      &lt;td align=\"right\"&gt;\n Leg Gear          &lt;/td&gt;\n      &lt;td&gt;\n        &lt;div id='myform_leggear_errorloc' class=\"error_strings\"&gt;&lt;/div&gt;\n\n &lt;select name=\"leggear\"&gt;\n  &lt;option value=\"shorts\"&gt;Shorts&lt;/option&gt;\n\n  &lt;option value=\"none\"&gt;None&lt;/option&gt;\n\n\n  &lt;/select&gt;          &lt;/td&gt;\n  &lt;/tr&gt;\n\n           &lt;tr&gt;\n      &lt;td align=\"right\"&gt;\n Face          &lt;/td&gt;\n      &lt;td&gt;\n        &lt;div id='myform_face_errorloc' class=\"error_strings\"&gt;&lt;/div&gt;\n\n &lt;select name=\"face\"&gt;\n  &lt;option value=\"mustache\"&gt;Mustache&lt;/option&gt;\n\n  &lt;option value=\"none\"&gt;None&lt;/option&gt;\n\n\n  &lt;/select&gt;          &lt;/td&gt;\n  &lt;/tr&gt;\n\n&lt;tr&gt;\n      &lt;td align=\"right\"&gt;&lt;/td&gt;\n      &lt;td&gt;\n        &lt;input type=\"submit\" name=\"submit\" value=\"Submit\" /&gt;\n      &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;&lt;script language=\"JavaScript\" type=\"text/javascript\"\nxml:space=\"preserve\"&gt;//&lt;![CDATA[\n//You should create the validator only after the definition of the HTML form\nvar frmvalidator  = new Validator(\"myform\");\nfrmvalidator.EnableOnPageErrorDisplay();\nfrmvalidator.EnableMsgsTogether();\n\nfrmvalidator.addValidation(\"hand\",\"req\",\"Choose what your avatar holds\");\nfrmvalidator.addValidation(\"headgear\",\"req\",\"Choose head gear\");\nfrmvalidator.addValidation(\"leggear\",\"req\",\"Choose leg gear\");\nfrmvalidator.addValidation(\"face\",\"req\",\"Choose face stuff\");\n\n\n\n\n//]]&gt;&lt;/script&gt;\n</code></pre>\n\n<p>So in short, what would be the best way to go from my code to my desired output. An output where the user clicks one of the features shown and once that is clicked it updates the full image. Thanks in advance!</p>\n"},{"tags":["asp.net","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":13044180,"title":"jquery script works when page is reload","body":"<p>hello i have page in which i have used ajax on autocomplete event of textbox ie some list is populated in textbox and accordingly selected items are added in grid  it works only when first time page is reolad but after when items are added in grid autocomplete event stop working for this i have to reolad the page but i dont this because when i refresh page all items added in grid are lost and when i finally click on save button items in grid are saved and also i have issue that i have another textbox on same page in which i populated list on autocomplete event but is also not working when i type some values in control only it works when first page is reolad so what is this issue</p>\n\n<pre><code>&lt;div id=\"inner\"&gt;\n  &lt;fieldset&gt;\n        &lt;legend&gt;Purchase Order&lt;/legend&gt;\n       &lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\"&gt;\n       &lt;ContentTemplate&gt;\n\n\n            &lt;table style=\"width:44%;\"&gt;\n\n               &lt;tr&gt;\n\n\n                   &lt;td&gt;\n                       &lt;div class=\"dvlefttd2\"&gt;\n                           &lt;asp:Label ID=\"lblpartyname\" runat=\"server\" Text=\"Party Name\"&gt;&lt;/asp:Label&gt;\n                       &lt;/div&gt;\n                   &lt;/td&gt;\n                   &lt;td colspan=\"3\"&gt;\n                    &lt;div class=\"ui-widget\" style=\"display:block;margin-top:18px;\"&gt;\n                            &lt;asp:TextBox style=\"min-width:216px\" ID=\"tbAuto\" class=\"tb\" runat=\"server\"&gt;\n                            &lt;/asp:TextBox&gt;\n                            &lt;div style=\"visibility:hidden\"&gt;\n                            &lt;asp:TextBox runat=\"server\" ID=\"tbHidden\"  class=\"tb\"&gt;&lt;/asp:TextBox&gt;&lt;/div&gt;\n                    &lt;/div&gt;\n                   &lt;/td&gt;\n                 &lt;/tr&gt;\n                &lt;tr&gt;\n\n                    &lt;td&gt;\n                        &lt;div class=\"dvlefttd2\"&gt;\n                            &lt;asp:Label ID=\"lblQno\" runat=\"server\" Text=\"Q. No.\"&gt;&lt;/asp:Label&gt;\n                        &lt;/div&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                   &lt;asp:TextBox ID=\"txtQno\" runat=\"server\" \n                     autocomplete=\"off\" MaxLength=\"8\" \n                            onkeypress=\"return isNumberKey(event)\" \n                    Width=\"75px\"&gt;\n                    &lt;/asp:TextBox&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n\n\n                &lt;/tr&gt;\n                &lt;tr&gt;\n\n                    &lt;td&gt;\n\n                        &lt;div class=\"dvlefttd1\"&gt;\n                            PoNo\n                        &lt;/div&gt;\n\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;div style=\"margin-top:-10px;\"&gt;\n                            &lt;asp:TextBox ID=\"txtPoNo\" runat=\"server\" autocomplete=\"off\" MaxLength=\"8\" \n                                onkeypress=\"return isNumberKey(event)\" ReadOnly=\"True\" Width=\"75px\"&gt;&lt;/asp:TextBox&gt;\n                        &lt;/div&gt;\n                    &lt;/td&gt;\n                    &lt;td ID=\"tdcheck\" style=\"width:195px\"&gt;\n                        &lt;div class=\"dvlefttd2\" style=\"padding-top:20px\"&gt;\n                            &lt;asp:CheckBox ID=\"chkConsignee\" runat=\"server\" AutoPostBack=\"True\" \n                                OnCheckedChanged=\"chkConsignee_CheckedChanged\" Text=\"Consignee\" \n                                TextAlign=\"Left\" /&gt;\n                        &lt;/div&gt;\n                    &lt;/td&gt;\n                   &lt;td id=\"ColConsignee\" runat=\"server\" colspan=\"3\"&gt;\n                            &lt;asp:DropDownList ID=\"ddlConsignee\" runat=\"server\" AutoPostBack=\"True\" \n                                OnSelectedIndexChanged=\"ddlConsignee_SelectedIndexChanged\" Width=\"221px\"&gt;\n                            &lt;/asp:DropDownList&gt;\n                            &lt;asp:TextBox ID=\"txtConsignee\" runat=\"server\" autocomplete=\"off\" MaxLength=\"30\" \n                            Visible=\"false\" Width=\"100px\"&gt;&lt;/asp:TextBox&gt;\n                    &lt;/td&gt;\n\n                &lt;/tr&gt;\n              &lt;/table&gt;\n           &lt;fieldset&gt;\n           &lt;legend&gt;Item Info\n\n           &lt;/legend&gt;\n               &lt;table style=\"width:100%;\"&gt;\n                   &lt;tr&gt;\n                       &lt;td colspan=\"2\"&gt;\n                       &lt;div class=\"dvitems\"&gt;\n                          Item\n                       &lt;/div&gt;\n                       &lt;/td&gt;\n\n                       &lt;td&gt;\n                       &lt;div class=\"dvitems\"&gt;\n                            Grain\n                        &lt;/div&gt;\n                        &lt;/td&gt;\n                       &lt;td style=\"width: 79px\"&gt;\n                       &lt;div class=\"dvitems\"&gt;\n                           Unit\n                       &lt;/div&gt;   \n                        &lt;/td&gt;\n                       &lt;td style=\"width: 79px\"&gt;\n                       &lt;div class=\"dvitems\"&gt;\n                       Cases\n                       &lt;/div&gt;\n                       &lt;/td&gt;\n                       &lt;td&gt;\n\n                        &lt;/td&gt;\n                   &lt;/tr&gt;\n                   &lt;tr&gt;\n                       &lt;td style=\"width:44px\" valign=\"top\" colspan=\"2\"&gt;\n\n\n                       &lt;div class=\"ui-widget\" style=\"display:block;\"&gt;\n                       &lt;asp:TextBox style=\"min-width:226px;min-height:20px;\" ID=\"txtitem\" class=\"tb\" runat=\"server\"&gt;\n                       &lt;/asp:TextBox&gt;\n                       &lt;div style=\"visibility:hidden\"&gt;\n                       &lt;asp:TextBox runat=\"server\" ID=\"hditem\"  class=\"tb\"&gt;&lt;/asp:TextBox&gt;\n                       &lt;/div&gt;\n                       &lt;/div&gt;\n                       &lt;/td&gt;\n\n                       &lt;td style=\"width:49px\" valign=\"top\"&gt;\n\n                           &lt;asp:DropDownList ID=\"ddlGrain\" runat=\"server\" style=\"min-width:100px;min-height:20px\"&gt;\n                               &lt;asp:ListItem&gt;Long&lt;/asp:ListItem&gt;\n                               &lt;asp:ListItem&gt;Short&lt;/asp:ListItem&gt;\n                           &lt;/asp:DropDownList&gt;\n                       &lt;/td&gt;\n                       &lt;td  valign=\"top\"&gt;\n\n                           &lt;asp:DropDownList ID=\"ddlUnit\" runat=\"server\" style=\"min-height:27px;min-width:100px\"&gt;\n                           &lt;/asp:DropDownList&gt;\n                       &lt;/td&gt;\n                       &lt;td  valign=\"top\"&gt;\n                           &lt;asp:TextBox ID=\"txtcases\" runat=\"server\" style=\"min-height:20px;min-width:100px\"&gt;&lt;/asp:TextBox&gt;\n                       &lt;/td&gt;\n                       &lt;td valign=\"top\" style=\"width:49px\"&gt;\n\n                           &amp;nbsp;&lt;/td&gt;\n                   &lt;/tr&gt;\n\n\n                   &lt;tr&gt;\n                       &lt;td style=\"width:44px\"&gt;\n\n                           &lt;div class=\"dvitems\"&gt;\n                               Qty\n                           &lt;/div&gt;\n\n                        &lt;/td&gt;\n                       &lt;td style=\"width:44px\"&gt;\n                         &lt;div class=\"dvitems\"&gt;\n                               Rate\n                           &lt;/div&gt;\n                       &lt;/td&gt;\n                       &lt;td&gt;\n\n\n\n                           &lt;div class=\"dvitems\"&gt;\n                               Amt\n                           &lt;/div&gt;\n\n\n\n                       &lt;/td&gt;\n                       &lt;td colspan=\"2\"&gt;\n                       &lt;div class=\"dvitems\"&gt;\n                       Remark \n                       &lt;/div&gt;   \n\n                       &lt;/td&gt;\n\n                       &lt;td&gt;\n                       &lt;/td&gt;\n                   &lt;/tr&gt;\n\n\n                   &lt;tr&gt;\n                       &lt;td style=\"width: 44px\"&gt;\n                           &lt;asp:TextBox ID=\"txtQty\" runat=\"server\" autocomplete=\"off\" MaxLength=\"5\" \n                               onkeypress=\"return isNumberKey(event)\" style=\"min-height:20px;min-width:100px\"&gt;&lt;/asp:TextBox&gt;\n                       &lt;/td&gt;\n                       &lt;td style=\"width: 44px\"&gt;\n                       &lt;asp:TextBox ID=\"txtRate\" runat=\"server\" \nautocomplete=\"off\" MaxLength=\"6\" \n                               onblur=\"setAmount();\"  \n                               OnTextChanged=\"txtRate_TextChanged\" \nstyle=\"min-width:100px;min-height:20px\"&gt;&lt;/asp:TextBox&gt;\n                       &lt;/td&gt;\n                       &lt;td&gt;\n                           &lt;asp:TextBox ID=\"txtAmount\" runat=\"server\" autocomplete=\"off\" Enabled=\"False\" \n                               MaxLength=\"7\" style=\"min-width:100px\"&gt;&lt;/asp:TextBox&gt;\n                       &lt;/td&gt;\n                       &lt;td colspan=\"2\"&gt;\n                           &lt;asp:TextBox ID=\"txtRemark\" runat=\"server\" autocomplete=\"off\" MaxLength=\"50\" \n                               style=\"min-width:237px\"&gt;&lt;/asp:TextBox&gt;\n                       &lt;/td&gt;\n\n                       &lt;td&gt;\n                           &lt;asp:Button ID=\"btnAdd\" runat=\"server\" CssClass=\"btn\" OnClick=\"btnAdd_Click\" \n                               Text=\"Add\" /&gt;\n                       &lt;/td&gt;\n                   &lt;/tr&gt;\n\n\n               &lt;/table&gt;\n               &lt;asp:Panel ID=\"Panel1\" runat=\"server\" Height=\"120px\" ScrollBars=\"Both\"&gt;\n                                                &lt;div id=\"dvgrid\" runat=\"server\"&gt;\n                                                &lt;asp:GridView ID=\"gvItem\" runat=\"server\" CssClass=\"mGrid\" \n                                                        AutoGenerateColumns=\"False\"  PagerStyle-CssClass=\"pgr\"  \nAlternatingRowStyle-CssClass=\"alt\"\n                                                    CellPadding=\"4\" ForeColor=\"#424242\" GridLines=\"None\" Height=\"84px\" \n                                                    OnRowCancelingEdit=\"gvItem_RowCancelingEdit\" OnRowDeleting=\"gvItem_RowDeleting\" \n                                                    OnRowEditing=\"gvItem_RowEditing\" OnRowUpdating=\"gvItem_RowUpdating\" \n                                                    OnSelectedIndexChanged=\"gvItem_SelectedIndexChanged\"&gt;\n                                                    &lt;AlternatingRowStyle BackColor=\"White\" /&gt;\n                                                    &lt;Columns&gt;\n                                                        &lt;asp:CommandField HeaderText=\"Edit\" ShowEditButton=\"True\" /&gt;\n                                                        &lt;asp:BoundField DataField=\"No\" HeaderText=\"SrNo\"&gt;\n                                                            &lt;ItemStyle /&gt;\n                                                        &lt;/asp:BoundField&gt;\n                                                        &lt;asp:BoundField DataField=\"Size\" HeaderText=\"Size\"&gt;\n                                                            &lt;ItemStyle  /&gt;\n                                                        &lt;/asp:BoundField&gt;\n                                                        &lt;asp:BoundField DataField=\"GSM\" HeaderText=\"GSM\"&gt;\n                                                            &lt;ItemStyle  /&gt;\n                                                        &lt;/asp:BoundField&gt;\n                                                        &lt;asp:BoundField DataField=\"Grain\" HeaderText=\"Grain\"&gt;\n                                                            &lt;ItemStyle /&gt;\n                                                        &lt;/asp:BoundField&gt;\n                                                        &lt;asp:BoundField DataField=\"UnitName\" HeaderText=\"Unit\" /&gt;\n                                                        &lt;asp:BoundField DataField=\"Qty\" DataFormatString=\"{0:F}\" HeaderText=\"Qty\"&gt;\n                                                            &lt;ItemStyle /&gt;\n                                                        &lt;/asp:BoundField&gt;\n                                                        &lt;asp:BoundField DataField=\"Rate\" DataFormatString=\"{0:F}\" HeaderText=\"Rate\"&gt;\n                                                            &lt;ItemStyle  /&gt;\n                                                        &lt;/asp:BoundField&gt;\n                                                        &lt;asp:BoundField DataField=\"Total\" HeaderText=\"Total\" /&gt;\n                                                        &lt;asp:BoundField DataField=\"Remark\" HeaderText=\"Remark\"&gt;\n                                                            &lt;ItemStyle /&gt;\n                                                        &lt;/asp:BoundField&gt;\n                                                        &lt;asp:CommandField HeaderText=\"Delete\" ShowDeleteButton=\"True\" /&gt;\n                                                        &lt;asp:TemplateField&gt;\n                                                            &lt;ItemTemplate&gt;\n                                                                &lt;asp:HiddenField ID=\"hdnCatCode\" runat=\"server\" Value='&lt;%# Eval(\"CCode\") %&gt;' /&gt;\n                                                                &lt;asp:HiddenField ID=\"hdnItem\" runat=\"server\" Value='&lt;%# Eval(\"ICode\") %&gt;' /&gt;\n                                                                &lt;asp:HiddenField ID=\"hdnUnitID\" runat=\"server\" Value='&lt;%# Eval(\"UnitID\") %&gt;' /&gt;\n                                                            &lt;/ItemTemplate&gt;\n                                                        &lt;/asp:TemplateField&gt;\n</code></pre>\n\n<p>\n                                                            </p>\n\n<pre><code>                                                    &lt;/Columns&gt;\n                                                    &lt;EditRowStyle BackColor=\"#CCCCCC\" /&gt;\n                                                    &lt;FooterStyle BackColor=\"#424242\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n                                                    &lt;HeaderStyle BackColor=\"#424242\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n                                                    &lt;PagerStyle  ForeColor=\"White\" HorizontalAlign=\"Center\" /&gt;\n                                                    &lt;RowStyle BackColor=\"White\" /&gt;\n                                                    &lt;SelectedRowStyle BackColor=\"#fff\" Font-Bold=\"True\" ForeColor=\"#333333\" /&gt;\n                                                    &lt;%-- &lt;SortedAscendingCellStyle BackColor=\"#F5F7FB\" /&gt;\n                                  &lt;SortedAscendingHeaderStyle BackColor=\"#6D95E1\" /&gt;\n                                  &lt;SortedDescendingCellStyle BackColor=\"#E9EBEF\" /&gt;\n                                  &lt;SortedDescendingHeaderStyle BackColor=\"#4870BE\" /&gt;--%&gt;\n                                                &lt;/asp:GridView&gt;                       \n\n                                        &lt;/div&gt;\n                                            &lt;/asp:Panel&gt;\n           &lt;/fieldset&gt;\n\n                            &lt;table&gt;\n                            &lt;tr&gt;\n                            &lt;td&gt;\n                            &lt;!--&lt;asp:Label ID=\"lblMsg1\" runat=\"server\" ForeColor=\"#CC3300\"&gt;&lt;/asp:Label&gt;--&gt;\n                            &lt;div id=\"dvPrint\" visible=\"false\"&gt;\n                                &lt;%=sPrint %&gt;\n                            &lt;/div&gt;\n                            &lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                             &lt;td&gt;\n                        &lt;div id=\"dvchck\"&gt;\n                            &lt;asp:CheckBox ID=\"chkSearch\" style=\"text-align:center\" onclick=\"Cash_Cheque();\"  runat=\"server\" Text=\"Search\"&gt;\n                            &lt;/asp:CheckBox&gt;\n                         &lt;div&gt;\n\n &lt;/div&gt;\n\n                        &lt;/div&gt;\n\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                        &lt;asp:Button ID=\"btnSave\" runat=\"server\" OnClick=\"btnSave_Click\" Text=\"Save\" \n                                Height=\"25px\" Width=\"75px\" CssClass =\"btn\" /&gt;\n                            &lt;!--&lt;asp:ImageButton ID=\"ImageButton1\" runat=\"server\" ImageUrl=\"~/images/btn.png\"  /&gt;--&gt;\n\n                            &lt;asp:Button ID=\"btnCancel\" runat=\"server\" OnClick=\"btnCancel_Click\" \n                                Text=\"Cancel\" Height=\"25px\" CssClass=\"btn\" Width=\"75px\" /&gt;\n\n                        &lt;/td&gt;\n\n                            &lt;/tr&gt;\n                            &lt;tr style=\"display: none\" id=\"trSearch\" runat=\"server\"&gt;\n                        &lt;td style=\"height: 40px\" colspan=\"2\"&gt;\n                            &lt;table style=\"width: 550px\" border=\"0\"&gt;\n                                &lt;tbody&gt;\n                                    &lt;tr&gt;\n                                        &lt;td&gt;\n                                            &lt;strong&gt;Code &lt;/strong&gt;\n                                        &lt;/td&gt;\n                                        &lt;td&gt;\n                                            &lt;asp:TextBox ID=\"txtSCode\" runat=\"server\" Width=\"75px\" onkeypress=\"return isNumberKey(event)\"\n                                                OnTextChanged=\"txtSCode_TextChanged\" autocomplete=\"off\"&gt;&lt;/asp:TextBox&gt;                                                &lt;asp:Button ID=\"btnSearch\" OnClick=\"btnSearch_Click\" runat=\"server\" Text=\"Search\" Width=\"71px\" CssClass=\"btn\"&gt;&lt;/asp:Button&gt;\n                                        &lt;/td&gt;\n                                        &lt;td style=\"font-weight: bold\" valign=\"top\"&gt;\n                                        &lt;/td&gt;\n                                        &lt;td style=\"font-weight: bold\" valign=\"top\" align=\"right\"&gt;\n                                            &lt;asp:UpdatePanel ID=\"UpdatePanel2\" runat=\"server\"&gt;\n                                                &lt;ContentTemplate&gt;\n                                                    &lt;asp:TextBox ID=\"txtSName\" runat=\"server\" autocomplete=\"off\" Width=\"175px\" AutoPostBack=\"True\"\n                                                        Visible=\"False\"&gt;&lt;/asp:TextBox&gt;\n                                                &lt;/ContentTemplate&gt;\n                                            &lt;/asp:UpdatePanel&gt;\n                                        &lt;/td&gt;\n                                        &lt;td style=\"font-weight: bold\" valign=\"top\" align=\"right\"&gt;\n\n                                        &lt;/td&gt;\n                                    &lt;/tr&gt;\n                                &lt;/tbody&gt;\n                            &lt;/table&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td align=\"center\" colspan=\"2\"&gt;\n                            &lt;asp:Panel ID=\"pnlPo\" runat=\"server\" Height=\"400px\" Width=\"750px\" ScrollBars=\"Horizontal\"&gt;\n         &lt;!--&lt;div class=\"GridDock\" id=\"dvGridWidth\" style=\"overflow:scroll;border:1px;\"&gt;--&gt;\n                                &lt;asp:GridView ID=\"gvPO\" runat=\"server\" AutoGenerateColumns=\"False\" CellPadding=\"4\"\n                                    ForeColor=\"#424242\" GridLines=\"None\" AllowPaging=\"True\" \n  OnPageIndexChanging=\"gvPO_PageIndexChanging\"\n                                    OnRowDataBound=\"gvPO_RowDataBound\" Width=\"1px\"&gt;\n                                    &lt;AlternatingRowStyle BackColor=\"White\" /&gt;\n                                    &lt;Columns&gt;\n                                        &lt;asp:TemplateField HeaderText=\"Code\"&gt;\n                                            &lt;ItemTemplate&gt;\n                                                &lt;asp:HiddenField ID=\"hdnFrght\" runat=\"server\" Value='&lt;%# Eval(\"mstfrghtper\") %&gt;' /&gt;\n                                                &lt;asp:HiddenField ID=\"hdnTin\" runat=\"server\" Value='&lt;%# Eval(\"mstlotno\") %&gt;' /&gt;\n                                                &lt;asp:HiddenField ID=\"hdnVat\" runat=\"server\" Value='&lt;%# Eval(\"mstsection\") %&gt;' /&gt;\n                                                &lt;asp:LinkButton ID=\"lnkCode\" runat=\"server\" Text='&lt;%# Eval(\"mstcode\") %&gt;' OnClick=\"lnkCode_Click\"&gt;code&lt;/asp:LinkButton&gt;\n                                                &lt;asp:HiddenField ID=\"hdnParty\" runat=\"server\" Value='&lt;%# Eval(\"mstptcode\") %&gt;' /&gt;\n                                            &lt;/ItemTemplate&gt;\n                                        &lt;/asp:TemplateField&gt;\n                                        &lt;asp:BoundField DataField=\"mstdate\" HeaderText=\"Date\" DataFormatString=\"{0:dd-MM-yyyy}\" /&gt;\n                                        &lt;asp:BoundField DataField=\"mstContactPerson\" HeaderText=\"Consignee\" /&gt;\n                                        &lt;asp:BoundField DataField=\"msttaxper\" HeaderText=\"Tax\" DataFormatString=\"{0:F}\" /&gt;\n                                        &lt;asp:BoundField DataField=\"msttota\" HeaderText=\"Total\" DataFormatString=\"{0:F}\" /&gt;\n                                        &lt;asp:BoundField DataField=\"mstdeliDes\" HeaderText=\"delivery\" /&gt;\n                                        &lt;asp:BoundField DataField=\"mstindno\" HeaderText=\"Tin\" /&gt;\n                                        &lt;asp:BoundField DataField=\"mstpodate\" HeaderText=\"Del date\" DataFormatString=\"{0:dd-MM-yyyy}\" /&gt;\n                                        &lt;asp:BoundField DataField=\"mstpayDes\" HeaderText=\"PayDes\"&gt;\n                                            &lt;FooterStyle Wrap=\"False\" /&gt;\n                                            &lt;HeaderStyle Wrap=\"False\" /&gt;\n                                            &lt;ItemStyle Font-Bold=\"False\" Font-Italic=\"False\" Font-Underline=\"False\" Wrap=\"False\" /&gt;\n                                        &lt;/asp:BoundField&gt;\n                                        &lt;asp:BoundField DataField=\"mstrema\" HeaderText=\"Remark\"&gt;\n                                            &lt;ItemStyle Width=\"70px\" Wrap=\"True\" /&gt;\n                                        &lt;/asp:BoundField&gt;\n                                        &lt;asp:BoundField DataField=\"mstchno\" HeaderText=\"PoRefNo\" /&gt;\n                                        &lt;asp:TemplateField HeaderText=\"Print\"&gt;\n                                            &lt;ItemTemplate&gt;\n                                                &lt;%--&lt;asp:LinkButton ID=\"LinkButton1\" runat=\"server\" onclick=\"lnkPrint_Click\" OnClientClick=\"window.open ('Report.aspx','mywindow','width=350,height=250');\"&gt;Print&lt;/asp:LinkButton&gt;--%&gt;\n                                                &lt;asp:LinkButton ID=\"lnkPrint\" runat=\"server\" OnClick=\"lnkPrint_Click\"&gt;Print&lt;/asp:LinkButton&gt;\n                                            &lt;/ItemTemplate&gt;\n                                        &lt;/asp:TemplateField&gt;\n                                        &lt;asp:TemplateField HeaderText=\"Delete\"&gt;\n                                            &lt;ItemTemplate&gt;\n                                                &lt;%--&lt;asp:LinkButton ID=\"LinkDelete\" runat=\"server\" OnClick=\"LinkDelete_Click\"&gt;Delete&lt;/asp:LinkButton&gt;--%&gt;\n                                                &lt;asp:ImageButton ID=\"DeleteButton\" runat=\"server\" Width=\"20px\" Height=\"20px\" OnClientClick=\"if (!window.confirm('Are you sure you want to delete this item?')) return false;\"\n                                                    OnClick=\"LinkDelete_Click\" ImageUrl=\"~/images/delete.png\" CommandName=\"delete\"&gt;\n                                                &lt;/asp:ImageButton&gt;\n                                                &lt;controlstyle width=\"20px\" height=\"20px\" /&gt;\n                                                &lt;itemstyle width=\"50px\" /&gt;\n                                            &lt;/ItemTemplate&gt;\n                                        &lt;/asp:TemplateField&gt;\n                                    &lt;/Columns&gt;\n                                    &lt;EditRowStyle BackColor=\"#2461BF\" /&gt;\n                                    &lt;FooterStyle BackColor=\"#424242\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n                                    &lt;HeaderStyle BackColor=\"#424242\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n                                    &lt;PagerStyle BackColor=\"#424242\" ForeColor=\"White\" HorizontalAlign=\"Center\" /&gt;\n                                    &lt;RowStyle BackColor=\"#EFF3FB\" /&gt;\n                                    &lt;SelectedRowStyle BackColor=\"#D1DDF1\" Font-Bold=\"True\" ForeColor=\"#333333\" /&gt;\n                                &lt;/asp:GridView&gt;\n                               &lt;!-- &lt;/div&gt;--&gt;\n                            &lt;/asp:Panel&gt;\n                            &lt;%-- &lt;/ContentTemplate&gt;\n                  &lt;/asp:UpdatePanel&gt;--%&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n\n\n                            &lt;/table&gt;\n\n\n\n       &lt;/ContentTemplate&gt;\n\n       &lt;/asp:UpdatePanel&gt;\n   &lt;/fieldset&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JQuery</strong></p>\n\n<pre><code>&lt;script&gt;\n  $(document).ready(function() {\n        SearchText();\n        SearchItem();\n    });\n  function SearchText() {\n  $('input[name$=\"tbAuto\"]').autocomplete({\n        source: function (request, response) {\n            $.ajax({\n                url: \"PartyList.asmx/FetchPartyList\",\n                data: \"{ 'prefix': '\" + request.term + \"' }\",\n                dataType: \"json\",\n                type: \"POST\",\n                contentType: \"application/json; charset=utf-8\",\n                success: function (data) {\n                    response(data.d);\n                },\n                error: function (XMLHttpRequest, textStatus, errorThrown) {\n                    alert(textStatus);\n                }\n            });\n        },\n        minLength: 1,\n        focus: function(event, ui) {\n            $('input[name$=\"tbAuto\"]').val(ui.item.Name);\n            return false;\n        },\n        select: function(event, ui) {\n            $('input[name$=\"tbAuto\"]').val(ui.item.Name);\n            $('input[name$=\"tbHidden\"]').val(ui.item.value);\n            return false;\n        }\n    }).data('autocomplete')._renderItem = function(ul, item) {\n        return $('&lt;li&gt;').data('item.autocomplete', item).append('&lt;a&gt;' + item.Name + '&lt;/a&gt;').appendTo(ul);\n    };\n}\n\n\nfunction SearchItem() {\n  $('input[name$=\"txtitem\"]').autocomplete({\n            source: function (request, response) {\n                $.ajax({\n                    url: \"Itemslist.asmx/FetchItemList\",\n                    data: \"{ 'prefix': '\" + request.term + \"' }\",\n                    dataType: \"json\",\n                    type: \"POST\",\n                    contentType: \"application/json; charset=utf-8\",\n                    success: function (data) {\n                        response(data.d);\n                    },\n                    error: function (XMLHttpRequest, textStatus, errorThrown) {\n                        alert(textStatus);\n                    }\n                });\n            },\n            minLength: 1,\n            focus: function(event, ui) {\n                $('input[name$=\"txtitem\"]').val(ui.item.Name);\n                return false;\n            },\n            select: function(event, ui) {\n                $('input[name$=\"txtitem\"]').val(ui.item.Name);\n                $('input[name$=\"hditem\"]').val(ui.item.value);\n                return false;\n            }\n        }).data('autocomplete')._renderItem = function(ul, item) {\n            return $('&lt;li&gt;').data('item1.autocomplete', item).append('&lt;a&gt;' + item.Name + '&lt;/a&gt;').appendTo(ul);\n        };\n }\n\n\n\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","javascript","ruby-on-rails","ajax","database"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":9471075,"title":"Should the Id column of a table be encrypted/hashed before sending to client","body":"<p>I have this question in my mind.\nI thought to share it with you fellows to get a suitable answer for myself and might help someone out there.</p>\n\n<p>So, for argument's sake lets assume we have a users table for our website with the following columns:</p>\n\n<pre><code>    id, name, email and password\n</code></pre>\n\n<p>Many times we have to use the id field on the client side.\nsay we have implemented AJAX to allow the users to edit their profile.\nand on profile editing page looks something like this:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;div&gt;\n         &lt;label&gt;Name: &lt;input type = \"text\" name = \"txtName\" id = \"txtName\"/&gt;&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n         &lt;label&gt;Email: &lt;input type = \"text\" name = \"txtEmail\" id = \"txtEmail\"/&gt;&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n         &lt;label&gt;Password: &lt;input type = \"password\" name = \"txtPasswd\" id = \"txtPasswd\"/&gt;&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n         &lt;input type = \"submit\" name = \"updateProfile\" value = \"Save\" /&gt;\n         &lt;input type = \"hidden\" name = \"id\" value = \"1\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Please keep your focus on the question rather than pointing out flaws which can arise from the tables design, the html or css stuff.</p>\n\n<p>Regards,</p>\n"},{"tags":["php","jquery","mysql","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":13036839,"title":"How to get ID on the fly with Ajax","body":"<p>I have a question for you to upgrade my knowledge.</p>\n\n<p>I am trying to create an inline editing page, the data are stored in a database.\nIn the table \"content\" I create 2 fields for testing purpose, the \"id\" and the \"text\" field.</p>\n\n<p>If I want to modify the field with the \"id=25\" or id=X, I know how to do it manually, just specify in the MySQL Query \"WHERE id=25\", but if I have a list of 1000 entries, how can I modify the query to get the ID on the fly?</p>\n\n<p>Here is the code, I am playing on:</p>\n\n<p><strong>index.php</strong> file</p>\n\n<pre><code>&lt;style&gt;\nbody {      \n    font-family: Helvetica,Arial,sans-serif;\n    color:#333333;\n    font-size:13px;\n}\n\nh1{\n    font-family: Georgia, Times, serif;\n    font-size: 28px;        \n}\n\na{\n    color: #0071D8;\n    text-decoration:none;\n}\n\na:hover{\n    text-decoration:underline;\n}\n\n:focus {\n    outline: 0;\n}\n\n#wrap{\n    width: 500px;\n    margin:0 auto;              \n    overflow:auto;      \n}\n\n#content{\n    background: #f7f7f7;\n    border-radius: 10px;\n}\n\n#editable {     \n    padding: 10px;      \n}\n\n#status{\n    display:none; \n    margin-bottom:15px; \n    padding:5px 10px; \n    border-radius:5px;\n}\n\n.success{\n    background: #B6D96C;\n}\n\n.error{\n    background: #ffc5cf; \n}\n\n#footer{\n    margin-top:15px;\n    text-align: center;\n}\n\n#save{  \n    display: none;\n    margin: 5px 10px 10px;      \n    outline: none;\n    cursor: pointer;    \n    text-align: center;\n    text-decoration: none;\n    font: 12px/100% Arial, Helvetica, sans-serif;\n    font-weight:700;    \n    padding: 5px 10px;  \n    -webkit-border-radius: 5px; \n    -moz-border-radius: 5px;\n    border-radius: 5px; \n    color: #606060;\n    border: solid 1px #b7b7b7;  \n    background: #fff;\n    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ededed));\n    background: -moz-linear-gradient(top,  #fff,  #ededed);\n    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#ededed');\n}   \n\n#save:hover\n{\n    background: #ededed;\n    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#dcdcdc));\n    background: -moz-linear-gradient(top,  #fff,  #dcdcdc);\n    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#dcdcdc');\n}\n\n&lt;/style&gt;\n\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n &lt;script&gt;\n $(document).ready(function() {\n\n$(\"#save\").click(function (e) {         \n    var content = $('#editable').html();    \n\n    $.ajax({\n        url: 'save.php',\n        type: 'POST',\n        data: {\n        content: content\n        },              \n        success:function (data) {\n\n            if (data == '1')\n            {\n                $(\"#status\")\n                .addClass(\"success\")\n                .html(\"Data saved successfully\")\n                .fadeIn('fast')\n                .delay(3000)\n                .fadeOut('slow');   \n            }\n            else\n            {\n                $(\"#status\")\n                .addClass(\"error\")\n                .html(\"An error occured, the data could not be saved\")\n                .fadeIn('fast')\n                .delay(3000)\n                .fadeOut('slow');   \n            }\n        }\n    });   \n\n});\n\n$(\"#editable\").click(function (e) {\n    $(\"#save\").show();\n    e.stopPropagation();\n});\n\n$(document).click(function() {\n    $(\"#save\").hide();  \n});\n\n });\n &lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"wrap\"&gt;\n\n    &lt;div id=\"status\"&gt;&lt;/div&gt;\n\n    &lt;div id=\"content\"&gt;\n\n    &lt;div id=\"editable\" contentEditable=\"true\"&gt;\n    &lt;?php\n        //get data from database.\n        include(\"db.php\");\n        $sql = mysql_query(\"select * from content\");\n        $row = mysql_fetch_array($sql);     \n        echo $row['id'];\n        echo \"&lt;br /&gt;\";\n        echo $row['text'];\n    ?&gt;      \n    &lt;/div&gt;  \n\n    &lt;button id=\"save\"&gt;Save&lt;/button&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n  &lt;/body&gt;\n</code></pre>\n\n<p>And here is the <strong>save.php</strong> file:</p>\n\n<pre><code>include(\"db.php\");\n\n\n$content = $_POST['content']; //get posted data\n$content = mysql_real_escape_string($content);  //escape string \n\n$sql = \"UPDATE content SET text = '$content' WHERE id = '$id' \";\n\nif (mysql_query($sql))\n{\n    echo 1;\n}\n</code></pre>\n\n<p>I know that this could be a stupid question but I am a newbie.</p>\n\n<p>Thank you in advance for the help.</p>\n\n<p><strong>UPDATE:</strong>\nthanx to Luis I fixed my old problem but I don't know why if I put all the code in a while only the \"Save\" button of the first entry is working good, the rest not, any hint?\nAt the moment I am testing only \"description_text\".</p>\n\n<p>Here is the \"while\" code:</p>\n\n<pre><code>&lt;?php \n\n    /////////// Now let us print the table headers //////////////// \n\n    $query =\" SELECT * FROM gallery ORDER BY id DESC \";\n\n    $result = mysql_query($query) or die(mysql_error());\n\n    echo \"&lt;div style='width: 100%; text-align: center;'&gt;\";                   \n    echo \"&lt;table style='margin: auto auto;'&gt;\";\n    echo \"&lt;tr&gt;&lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Image&lt;/th&gt;&lt;th&gt;Category&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;th&gt;Added on&lt;/th&gt;&lt;/tr&gt;\";\n\n    while($ordinate = mysql_fetch_array($result))\n    {\n\n    $id     = $ordinate['id'];\n    $img_name    = $ordinate['img_name'];\n    $category     = $ordinate['category'];\n    $description_text = $ordinate['description_text'];\n    $insert_datetime    = $ordinate['insert_datetime'];\n\n    echo \"&lt;tr&gt;&lt;td style='width: 20px;'&gt;\".$id.\"&lt;/td&gt;&lt;td style='width: 210px;'&gt;&lt;img src='../../upload/content/uploaded_images/\". $img_name .\"' width='200px'&gt;&lt;/td&gt;&lt;td style='width: 100px;'&gt;\".$category.\"&lt;/td&gt;&lt;td style='width: 100px;'&gt;&lt;div id='status'&gt;&lt;/div&gt;&lt;div id='content'&gt;&lt;div id='editable' contentEditable='true'&gt;\".$description_text.\"&lt;/div&gt;&lt;button id='save'&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/td&gt;&lt;td style='width: 100px;'&gt;\".$insert_datetime.\"&lt;/td&gt;&lt;/tr&gt;\";        \n\n    }\n    echo \"&lt;/table&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;\";\n?&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","cross-domain","response-headers"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1789,"score":3,"question_id":9485347,"title":"jQuery cross domain request response headers","body":"<p>I am making cross domain ajax requests with html data type.\nThey work OK as I include</p>\n\n<pre><code>Access-Control-Allow-Origin\n</code></pre>\n\n<p>in the response from the server. Problem is I need to get certain headers from the server's response and whatever I do, response headers apart from \"content type\" return null.</p>\n\n<p>jQuery does the request, retrieves the response including headers (I can see it from the traffic) but it doesn't parse it.</p>\n\n<p>I have tried using </p>\n\n<pre><code>crossDomain: true\n</code></pre>\n\n<p>It didn't help. Here is the sample response from the server.</p>\n\n<pre><code>Access-Control-Allow-Origin:*\nCache-Control:private\nContent-Encoding:gzip\nContent-Length:514\nContent-Type:text/html; charset=utf-8 \nX-MYRESPONSEHEADER:1\n</code></pre>\n\n<p>If requesting and responding document are on same server</p>\n\n<pre><code> success: function (data, status, xhr) {\n        totalRows = xhr.getResponseHeader(\"X-MYRESPONSEHEADER\");\n</code></pre>\n\n<p>works fine. I have also tried to assign $.ajax to a variable like</p>\n\n<pre><code>var jQxhr = $.ajax(.....\n</code></pre>\n\n<p>I don't see why it wouldn't be parsed since jQuery actually makes the request and gets the response</p>\n\n<p>Any ideas? Am I missing something?</p>\n\n<h2>Update or dragon's comment</h2>\n\n<p>Headers sent to request</p>\n\n<pre><code>HTTP/1.1 200 OK\nCache-Control: private\nContent-Type: text/html; charset=utf-8\nContent-Encoding: gzip\nVary: Accept-Encoding\nServer: Microsoft-IIS/7.5\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Headers: X-MYRESPONSEHEADER\nAccess-Control-Allow-Methods: POST\nAccess-Control-Allow-Methods: GET\nX-MYRESPONSEHEADER: 24\nX-AspNet-Version: 4.0.30319\nX-Powered-By: ASP.NET\nDate: Wed, 29 Feb 2012 11:34:21 GMT\n</code></pre>\n\n<p>Content-Length: 514</p>\n"},{"tags":["javascript","jquery","css","ajax","object"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13043360,"title":"jquery .css() returns object object?","body":"<p>I have something like this:</p>\n\n<pre><code>    var windowH = $(window).height();\n    var listH = $(\".list\").height();\n    if(windowH &gt; listH){\n        $(\".list\").css({'height': windowH+'px'});   \n        alert(windowH);\n        alert($(\".list\").css({'height': windowH+'px'}));\n    }\n</code></pre>\n\n<p>the second alert gives me <code>[object Object]</code> and therefore doesn't insert the correct css. can someone help?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","jquery","ajax","google-chrome"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13043230,"title":"jquery ajax not sending post data to php in google chrome","body":"<p>I have this ajax call:</p>\n\n<pre><code>var data = \"action=getCheckoutsXML&amp;start=\"+start+\"&amp;end=\"+end;\n\n        $.ajax({\n            type: \"POST\",\n            url: \"includes/functionsMisc.php\",\n            data: data,\n            dataType: 'xml',\n            async: false,\n            success: addCheckouts\n        });\n</code></pre>\n\n<p>also used with:</p>\n\n<pre><code>var data = {\n\"action\" : \"getCheckoutsXML\",\n\"start\" : start,\n\"end\" : end};\n</code></pre>\n\n<p>and POST data is not received on PHP\ngoogle chrome inspector gets me a status 200</p>\n\n<p>This works ok on firefox.</p>\n\n<p>I'm using jquery 1.7.1,\nchrome 24.0.1297,\nphp 5.3.13.</p>\n\n<p>Had the same ajax call (diferent parameters) in other pages and they work ok in chrome also</p>\n"},{"tags":["php","javascript","jquery","ajax","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13042640,"title":"Zend Json render data into views","body":"<p>Hi i have an Zend Framework apps, the following code are <code>popularAction</code> controller</p>\n\n<pre><code>public function popularAction()\n    {\n        $type = $this-&gt;_getParam('ref',1);\n        if($type == 'reviews'){\n        $businessReviewMapper = new Application_Model_Mapper_BusinessReviewsMapper();\n        $result = $businessReviewMapper-&gt;getTotalVote();\n\n        $rotd = $businessReviewMapper-&gt;getROTD($result['review_id']);\n        $rotd[0]['u_img'] = $this-&gt;view-&gt;getLoginUserImage($rotd[0]['social_id'],$rotd[0]['login_type'],null,null,square);\n        $rotd[0]['rating'] = $this-&gt;view-&gt;getRatingImg($rotd[0]['rating']);\n        $rotd[0]['business_name_url'] = preg_replace(\"![^a-z0-9]+!i\",\"-\", $rotd[0]['business_name']);            \n        $this-&gt;render('reviews');\n        $this-&gt;_helper-&gt;json($rotd);\n\n\n\n        } elseif($type == 'openings') {\n            $this-&gt;view-&gt;text = \"New Openings\";\n\n        } else {\n            $this-&gt;_helper-&gt;redirector('index', 'index', 'default');\n        }\n\n    }\n</code></pre>\n\n<p>When a user browse to <code>http://localhost/business/popular?ref=reviews</code> the above controller code would render reviews.phtml template. Now inside the template itself there is ajax request for a data as follow:</p>\n\n<pre><code>function getPopular()\n{\n    var count=1;\n    $.ajax({\n        url:\"&lt;?=$this-&gt;baseUrl('business/popular?ref=reviews')?&gt;\",\n        data:{'count':count},\n        dataType:\"json\"\n        type:\"POST\",\n        success:function(data){\n            alert('ok')\n        }\n    });\n</code></pre>\n\n<p>unfortunately the <code>$this-&gt;_helper-&gt;json($rotd);</code> doesn't pass data to the reviews.phtml,but display json data which is returned by zend db model, where i might be wrong?Thanks</p>\n"},{"tags":["ajax","forms","loops"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13043576,"title":"AJAX Function to populate a field in a form in a loop using ajax","body":"<p>I have created a string in php ajax which contains list of forms and I displayed the same string using innerhtml in a php page( i have hidden the forms until I click a link for each form in the same string )also I have used id for the form and form fields in the loop. My problem is when the forms and links loads for the first time the forms displays properly when I click the link, but when I submit the form and list the links again with updated data and I click the links the forms are not displaying.Kindly provide me the solution for my problem</p>\n\n<p>thanks in advance..</p>\n"},{"tags":["ruby-on-rails","ajax","devise","cors"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":13043444,"title":"\"WARNING: Can't verify CSRF token authenticity\" error - CORS with Devise and :token_authenticatable","body":"<p>I have a single page app that authenticates to another domain using CORS. All the requests are JSON requests.</p>\n\n<p>My app can authenticates OK and can make GET requests OK.  Authentication is using token_authenticatable. I.e. all requests append  '?auth_token=whatever'</p>\n\n<p>So, my actual problem is that when I try to do a PUT request I get a <strong>WARNING: Can't verify CSRF token authenticity</strong> message in the rails log as well as a <strong>CanCan::AccessDenied (You are not authorized to access this page.)</strong> exception.</p>\n\n<p>Simply adding <code>skip_before_filter :verify_authenticity_token</code> to the rails controller fixes the issue.</p>\n\n<p>Therefore I can only conclude that my ajax requests are sending an invalid or empty csrf_token.</p>\n\n<p>I don't really understand how that can be, since I believe I am correctly sending the X-CSRF-Token header correctly with each ajax request.</p>\n\n<p>Basically, my app authenticates and Devise sends back an auth_token and a csrf_token:</p>\n\n<pre><code>render :status =&gt; 200, :json =&gt; {\n  :auth_token =&gt; @user.authentication_token,\n  :csrf_token =&gt; form_authenticity_token\n}\n</code></pre>\n\n<p>I then store those tokens in my ajax app, and using <code>ajaxSend</code> in jQuery, set it up so jQuery passes those tokens with each request:</p>\n\n<pre><code>initialize: -&gt;\n  @bindTo $(document), 'ajaxSend', @appendTokensToRequest\n\nappendTokensToRequest: (event, jqXHR, options) -&gt;\n  if not @authToken? then return\n\n  if @csrfToken?\n    jqXHR.setRequestHeader 'X-CSRF-Token', @csrfToken\n\n  if options.type is 'POST'\n    options.data = options.data + (if options.data.match(/\\=/) then '&amp;' else '') +\n    $.param auth_token:@authToken\n  else\n    options.url = options.url + (if options.url.match(/\\?/) then '&amp;' else '?') +\n    $.param auth_token:@authToken\n</code></pre>\n\n<p>I can then see in the chrome network tab, that for each GET request the <code>auth_token</code> param is being sent, as well as the <code>X-CSRF-Token</code> header.</p>\n\n<p>On PUT requests however it doesn't seem to be working though.</p>\n\n<p>My theory is that CORS is stuffing things up. If you make a CORS request, your browser actually makes an <strong>additional</strong> OPTIONS request first just to check that you do have permission to access this resource.</p>\n\n<p>I suspect that it is the OPTIONS request which is not passing the X-CSRF-Token header, thus rails immediately invalidates the csrf_token on the rails end. Then when jQuery makes the actual PUT request the csrf_token it passes is no longer valid.</p>\n\n<p>Could this be the problem?</p>\n\n<p>What can I do to prove that? Chrome doesn't seem to show me the OPTIONS requests in the network tab to help me debug the issue.</p>\n\n<p>It's not a major issue, because I can just turn the CSRF stuff off. But I'd like to know why it's not working.</p>\n"},{"tags":["php","javascript","ajax","xmlhttprequest","eval"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":215,"score":1,"question_id":8272585,"title":"is it possible to evaluate JavaScript code using XMLHttpRequest","body":"<p>I'm trying to use this AJAX request to call a file with some PHP which is working ok and some JavaScript which is not. any ideas?</p>\n\n<pre><code>function showpart2(){\n    if(window.XMLHttpRequest){\n        xmlhttp = new XMLHttpRequest();\n        xmlhttp.open(\"GET\",\"atuamae.org/parte2-encomendar.php\",false);\n        xmlhttp.send(null);\n    }\n\n    document.getElementById('part2').innerHTML = xmlhttp.responseText;\n    eval(xmlhttp.responseText.getElementById('part2').innerHTML)\n\n    setTimeout('showpart2()',15000);\n\n}\n\nshowpart2();\n</code></pre>\n"},{"tags":["php","mysql","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12787622,"title":"How to tell if someone has left","body":"<p>I was wondering how I could check if someone has left the site/page and perform an action after they left. I was reading on here and I found this:</p>\n\n<blockquote>\n  <p>No, there isn't. The best you can do is send an AJAX request every X seconds (perhaps only if the user moves the mouse). If the server doesn't receive any requests for 2X seconds, assume that the user left.</p>\n</blockquote>\n\n<p>That's what I had planned for before but how could you make the server do someone (in my case it's to remove them from the DB) if they stop sending the request? An example I can think of is how on Facebook when you go to the site you tell them you're here and online which marks you as online in chat but when you leave it marks you as offline. How is that possible? </p>\n"},{"tags":["java","html","css","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13042097,"title":"Website functionality breaks when code comes from AJAX","body":"<p>I have a gallery of images, and when I hover the mouse over any of the images, the image pulls back revealing some text. </p>\n\n<p>When I have the following HTML code (at bottom of post) inside the HTML document, everything works fine. </p>\n\n<p>However, when I put the exact same HTML code inside a Java servlet and have it returned to the page, everything looks normal, but the image pullback doesn't work anymore. </p>\n\n<p>Any idea why that would occur? Perhaps I need to do some kind of refresh to make it work properly?</p>\n\n<p>relevant code for one of the items in the gallery:</p>\n\n<pre><code>  &lt;li&gt;\n           &lt;div class=\"header\"&gt;&lt;p&gt;&lt;a href=\"product.jsp\"&gt;Product 1 Shirt&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n           &lt;div class=\"gallery_item\"&gt;\n                    &lt;img src=\"gallery/thumb/gallery_01.jpg\" width=\"214\" height=\"194\" class=\"cover\" alt=\"\" /&gt;                        \n                    &lt;p&gt;Highlight 1&lt;/p&gt;\n                    &lt;p&gt;Highlight 2&lt;/p&gt;\n                    &lt;p&gt;Highlight 3&lt;/p&gt;\n                    &lt;a href=\"product.jsp\" class=\"btn alignleft\" title=\"More Info\"&gt;More Info&lt;/a&gt;                                               \n                    &lt;a href=\"gallery/fullsize/gallery_01.jpg\" class=\"zoom\" data-rel=\"prettyPhoto[gallery1]\"&gt;Enlarge&lt;/a&gt;                                                                    \n                    &lt;a href=\"gallery/fullsize/gallery_02.jpg\" data-rel=\"prettyPhoto[gallery1]\"&gt;&lt;/a&gt;\n           &lt;/div&gt;\n           &lt;div class=\"p2\"&gt;&lt;p&gt;Price: $10&lt;/p&gt;&lt;/div&gt;\n           &lt;div class=\"p2\"&gt;&lt;p&gt;In Stock: Yes&lt;/p&gt;&lt;/div&gt;              \n\n    &lt;/li&gt;\n</code></pre>\n\n<p>As requested: the servlet:</p>\n\n<pre><code>  public void service(HttpServletRequest request,\n        HttpServletResponse response) throws IOException,\n        ServletException\n{\n    PrintWriter out = response.getWriter();\n    response.setContentType(\"text/html\");\n    String requestType = request.getParameter(\"type\");\n    String result;\n\n    if(requestType.equals(\"getproductlist\"))\n    {\n        Products products = Products.getProductsInstance();\n        String keywords = request.getParameter((\"keywords\"));\n        String organization = request.getParameter((\"organization\"));\n        String price = request.getParameter((\"price\"));\n        String sort = request.getParameter((\"sort\"));\n\n        result = products.getProducts(keywords, organization, price, sort);\n\n//this next lines of html are actually what is returned from products.getProducts. I'm just putting it here for clarity. All the variables (name, h1, etc) are okay.\n\n        result += \"&lt;li&gt;\"\n                    + \"&lt;div class=\\\"header\\\"&gt;&lt;p&gt;&lt;a href=\\\"product.jsp\\\"&gt;\"+ name +\"&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\"\n                    + \"&lt;div class=\\\"gallery_item\\\"&gt;\"\n                    + \"&lt;img src=\\\"gallery/thumb/gallery_01.jpg\\\" width=\\\"214\\\" height=\\\"194\\\" class=\\\"cover\\\" alt=\\\"\\\" /&gt;\"\n                    + \"&lt;p&gt;\"+ h1 +\"&lt;/p&gt;\"\n                    + \"&lt;p&gt;\"+ h2 +\"&lt;/p&gt;\"\n                    + \"&lt;p&gt;\"+ h3 +\"&lt;/p&gt;\"\n                    + \"&lt;a href=\\\"product.jsp\\\" class=\\\"btn alignleft\\\" title=\\\"More Info\\\"&gt;More Info&lt;/a&gt;\"\n                    + \"&lt;a href=\\\"gallery/fullsize/gallery_01.jpg\\\" class=\\\"zoom\\\" data-rel=\\\"prettyPhoto[gallery1]\\\"&gt;Enlarge&lt;/a&gt; \"\n                    + \"&lt;a href=\\\"gallery/fullsize/gallery_02.jpg\\\" data-rel=\\\"prettyPhoto[gallery1]\\\"&gt;&lt;/a&gt;\"\n                    + \"&lt;/div&gt;\"\n                    + \"&lt;div class=\\\"p2\\\"&gt;&lt;p&gt;Price: \"+ itemPrice +\"&lt;/p&gt;&lt;/div&gt;\"\n                    + \"&lt;div class=\\\"p2\\\"&gt;&lt;p&gt;In Stock: \"+ inStock +\"&lt;/p&gt;&lt;/div&gt;   \"\n                    + \"&lt;/li&gt;\";\n\n\n        out.println(result);\n        out.close();\n\n    }\n</code></pre>\n"},{"tags":["php","javascript","ajax","mvc","history"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":55,"score":0,"question_id":13041730,"title":"Javascript framework without need for a hash or hasbang (history API?)","body":"<p>I am currently working on a new application/website. I am using AngularJS to fetch JSON data from the back end, that uses PHP. However, if I want the website's pages to be indexed by Google, I have to support the AJAX crawling scheme. Additionally, if I want my site to be accessible to older browsers or non JS users on the same domain, URLs for JS and non-JS users won't be the same.</p>\n\n<p>This is kind of a pain.</p>\n\n<p>What if we could do this:</p>\n\n<ul>\n<li>on the first request, get the whole page, rendered as HTML</li>\n<li>for all subsequent requests, use AJAX and return JSON data server side (by checking if the request was made via XmlHttpRequest)</li>\n</ul>\n\n<p>This way, you get the benefits from AJAX (as of the 2nd request from a user's session) but there is always a fallback if a user has disabled Javascript, has a slow browser or whatever. In addition, no need to comply with the AJAX crawling scheme since everyone views the page of your site via a unique URI.</p>\n\n<p><strong>Here comes my question:</strong></p>\n\n<p>Are there any actively maintained open source Javascript framework out there that uses the History API to build fast and responsive AJAX applications without the need for a hash/hashbang and compliance with the AJAX crawling scheme?</p>\n\n<p>Or maybe this is possible with current frameworks? I just couldn't find a lot of information on this.</p>\n\n<p><strong>EDIT:</strong>\nAfter looking around a bit, I found <a href=\"http://davisjs.com/\" rel=\"nofollow\">http://davisjs.com/</a>:</p>\n\n<blockquote>\n  <p>A small JavaScript library using HTML5 history.pushState that allows simple Sinatra style routing for your JavaScript apps.</p>\n</blockquote>\n\n<p>Could be a good starting point.</p>\n\n<p><strong>EDIT:</strong>\nPlease note I am not looking for a completely cross browser compatible framework or library. I am targeting the latest versions of Firefox/Chrome.</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":43,"score":4,"question_id":13041610,"title":"PHP website to pass specific information only when queried","body":"<p>I'm having trouble trying to come up with a clever way to do what I need to do.  Quite basically I have a general site, created by a custom build CMS editor, everything is fine.  What I want to have happen, is when the user is in our CMS editor, via AJAX request in the background, it will quickly query the page the user is viewing and return back special instructions depending on the data that is received.  Such as:</p>\n\n<p>The contact page has some special instructions to the CMS, maybe that everything needs to have a title and a subtitle.  So those triggers are coded into the contact.php, but not displayed to the regular joe viewing the website.  No  fields.</p>\n\n<p>But when the user is in our CMS, I want it to send a special request to <a href=\"http://www.something.com/contact.php\" rel=\"nofollow\">http://www.something.com/contact.php</a>, and contact.php will know its the CMS knocking on its door, and will reply back with special instructions.  Whethor it be JSON, or XML, something, I'm not fussy.</p>\n\n<p>The real issue I am coming across is having contact.php display either versions of itself.  I can return a JSON string, but jQuery Ajax doesnt know howto handle it as there are other elements in the response.  If jQuery->Ajax could ignore the whole page and just grab the JSON that should be fine.</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;h1&gt;blah blah&lt;/h1&gt;\n...etc\n...etc\n&lt;script&gt;var requiredSettings = {[json blah blah blha ]};&lt;/script&gt;\n&lt;p&gt;loreum ipsum etc..&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>That is what I have to work with, how can an jQuery->Ajax request ignore all the wqrong headers and the html junk and only use the JSON.</p>\n\n<p>I am very open to other methods, so long as the contact.php can remain intact and visible by users but play double duty and report back to the CMS when the CMS requests information.</p>\n\n<p>The CMS and contact.php will be on different servers.</p>\n\n<p>Thank you for your time.</p>\n"},{"tags":["javascript","ajax","google-chrome-extension"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":4485649,"title":"Javascript: What is wrong with this conditional?","body":"<p>I'm working on a Chrome extension an I've hit a wall.</p>\n\n<pre><code>function isInQueue(id) {\n    chrome.extension.sendRequest({getQueueItems: 1}, function(response) {\n        var items = response.items;\n        if (items) {\n            for (var i = 0; i &lt; items.length; i++) {\n                if ((items[i].id == id) == true) return true;\n            }\n            return false;\n        } else { return false; }\n    });\n}\n</code></pre>\n\n<p>The request returns 'items' which is an array of objects. I am trying to see if another item <em>outside</em> of the queue already exists <em>inside</em> the queue. For example, there is an item on the outside with an id equal to '198677'. I know I already have an exact copy of that same item in my queue with the exact same id, '198677', however, when I test the two for equality <code>(items[i].id == id) == true</code>, it returns false. I have checked the typeof both and they are both strings. I have tried using <code>===</code> and that hasn't worked. I tried adding zero to each of them to turn them into integers and that made the function return true when it was actually true, however, when I tested for true <code>if (isInQueue(id) == true)</code> the conditional returned false.</p>\n\n<p>This is all very confusing and frustrating for me. They're both strings, why doesn't it work?</p>\n\n<p>Help is very much appreciated.</p>\n"},{"tags":["ajax","callback","load","jplayer"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12036063,"title":"JPlayer + Ajax page load","body":"<p>I will try to keep this short:</p>\n\n<p>How would i manage to make a unique instance of jPlayer (http://jplayer.org/) \"work\" after an ajax page load?</p>\n\n<p>My jPlayer uses the following inline javascript code:</p>\n\n<pre><code>&lt;?\n    $mp3    = get_post_meta(get_the_ID(), 'audio_mp3', TRUE);\n    $ogg    = get_post_meta(get_the_ID(), 'audio_ogg', TRUE);\n\n?&gt;\n\n&lt;?php if($mp3 &amp;&amp; $ogg) { ?&gt;\n\n&lt;script type=\"text/javascript\"&gt;\njQuery(document).ready(function($) {\n\n\n        jQuery( '#jquery_jplayer_&lt;?php the_ID(); ?&gt;' ).jPlayer({\n            ready: function() {\n                jQuery(this).jPlayer('setMedia', {\n                    mp3: \"&lt;?php echo ($mp3); ?&gt;\",\n                    oga: \"&lt;?php echo ($ogg); ?&gt;\"\n                    });\n                },\n            swfPath: \"&lt;?php echo get_template_directory_uri(); ?&gt;/js/jplayer/\",\n            cssSelectorAncestor: \"#jp_container_&lt;?php the_ID(); ?&gt;\",\n            supplied: \"&lt;?php if($mp3 != '') : ?&gt;mp3, &lt;?php endif; ?&gt;&lt;?php if($ogg != '') : ?&gt;oga, &lt;?php endif; ?&gt; all\"\n        });\n\n\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>For non unique stuff like a prettyPhoto lightbox for example i created a function (prettyPhoto(); wich i put in the callback. But i cannot seem to get this working with jplayer!</p>\n\n<p>Any help would be apriciated!</p>\n"},{"tags":["ajax","autocomplete"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13041066,"title":"autocomplete to work on the acitive field only","body":"<p>I have this ajax autocomplete function that works on every input field with a class of .train. However, the suggestions that are being passed into the .suggest_q class are being displayed in every .suggest_q, next to each .train input field, and not just the .train field that is being used. I believe I am using the correct selectors as I am using 'this' instead of .train near the .click function but I am still having issues. I want this function to only work on the .suggest_q and .train classes that are being used by the user and to have the other ones not display any suggestions. What would be the best way to have the autocomplete function to work with the .train and .suggest_a that is being typed in?  </p>\n\n<p>here is my ajax code for adding new .train input fields</p>\n\n<pre><code> &lt;script type=\"text/javascript\"&gt;\n $(function() {\n        var scntDiv = $('#p_scents');\n        var i = $('#p_scents p').size() + 0;\n\n        $('#addScnt').live('click', function() {\n                $('&lt;p&gt;&lt;input type=\"text\" name=\"train[]\" autocomplete=\"off\" class=\"train\"  /&gt;&lt;span class=\"suggest_q\" id=\"suggest_q\"&gt;&lt;/span&gt;&lt;a href=\"#\" id=\"remScnt\"&gt;Remove train&lt;/a&gt;&lt;/p&gt;').appendTo(scntDiv);\n                i++;\n                return false;\n        });\n\n        $('#remScnt').live('click', function() {\n                if( i &gt; 2 ) {\n                        $(this).parents('p').remove();\n                        i--;\n                }\n                return false;\n        });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>here is the ajax autocomplete code </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n    $(\".train\").each(function(index, element) {\n       $(\".train\").live(\"keyup\", function() { \n        $(\".suggest_q\").html(\"\");\n            var train = $(this).val();   \n            train = $.trim(train);\n            if(train)\n            {\n                $.ajax({\n\n                    url: \"train_ajax_query.php\",\n                    data: \"train=\"+train,\n                    success: function(msg) {\n                        $(\".suggest_q\").html(msg);\n                        $(\".suggest_q ul li\").mouseover(function() {\n                            $(\".suggest_q ul li\").removeClass(\"hover\");\n                            $(this).addClass(\"hover\");\n                        })\n                        $(\".suggest_q ul li\").click(function() {\n                            var value   =   $(this).html();\n                            $(element).val(value);\n                            $(\".suggest_q ul li\").remove();\n                        });\n\n                    }\n                });\n            }\n        });\n    });\n\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>here is the HTML</p>\n\n<pre><code>&lt;div id=\"p_scents\"&gt;\n    &lt;input type=\"text\" class=\"train\" size=\"20\" autocomplete=\"off\" name=\"train[]\" /&gt;\n                &lt;div id=\"suggest_q\" class=\"suggest_q\"&gt;\n\n                &lt;/div&gt;\n\n&lt;/p&gt;\n</code></pre>\n"},{"tags":["php","c","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":68,"score":-5,"question_id":13040730,"title":"compiler for c written in html textarea","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/929592/how-can-i-compile-c-c-code-in-php-on-the-windows-platform\">How can I compile C/C++ code in PHP on the Windows platform?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm doing my final year project on Software as a Service and \"Online  Compiler\" is one of the intended services. Please help me how can i call a c compiler like GCC to execute the C code written in the text area of the browser and give back the output which is in turn displayed on the browser.i want to run this on the windows environment</p>\n\n<p>Thank you.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","jquery-post"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":735,"score":1,"question_id":9331042,"title":"How to continue form submission after an AJAX call?","body":"<p>I want to validate user entries on a WordPress post upon hitting the submit button, display an error message is there are problems, and submit the form if everything is OK. I have a PHP function that does the checking, returning <code>true</code> if data in <code>form_data</code> is OK, some error code otherwise. The following JavaScript issues the AJAX request, and was supposed to continue submitting the form upon successful checking, but it doesn't:</p>\n\n<pre><code>        jQuery(document).ready(function() {\n            jQuery('#post').submit(function() {\n\n                var form_data = jQuery('#post').serializeArray();\n                var data = {\n                    action: 'ep_pre_submit_validation',\n                    security: '&lt;?php echo wp_create_nonce( 'pre_publish_validation' ); ?&gt;',\n                    form_data: jQuery.param(form_data),\n                };\n                var proceed = false;\n                jQuery.post(ajaxurl, data, function(response) {\n                    if (response.indexOf('true') &gt; -1 || response == true) {\n                        proceed = true;\n                    } else {\n                        alert(\"Error: \" + response);\n                        proceed = false;\n                    }\n                });\n                jQuery('#ajax-loading').hide();\n                jQuery('#publish').removeClass('button-primary-disabled');\n                return proceed; //breakpoint here makes the code run\n            });\n        });\n</code></pre>\n\n<p>The code is adapted from a <a href=\"http://wordpress.stackexchange.com/a/15627/10406\">WPSE question</a>, which originally didn't work for me as the form didn't get submitted. I found out that if the jQuery function bound to <code>.submit()</code> returns true, the form should be submitted, so that's what I tried to implement. With the code above, it doesn't seem to work at first (form doesn't get submitted when there are no errors), but upon close inspection with Firebug <code>proceed</code> seems to get the right result if a breakpoint is inserted at the <code>return proceed</code> line. It works as intended with valid data <strong>only</strong> if I wait it out a bit upon hitting the breakpoint, and then continue execution. If there are errors, the alert is issued without a problem.</p>\n\n<p>What is the best way to handle this? </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Based on @Linus answer below, the following code works with both valid and invalid data:</p>\n\n<pre><code>        jQuery(document).ready(function() {\n            jQuery('#post').submit(function() {\n                if(jQuery(this).data(\"valid\")) {\n                    return true;\n                }\n\n                var form_data = jQuery('#post').serializeArray();\n                var data = {\n                    action: 'ep_pre_submit_validation',\n                    security: '&lt;?php echo wp_create_nonce( 'pre_publish_validation' ); ?&gt;',\n                    form_data: jQuery.param(form_data),\n                };\n                jQuery.post(ajaxurl, data, function(response) {\n                    if (response.indexOf('true') &gt; -1 || response == true) {\n                        jQuery(\"#post\").data(\"valid\", true).submit();\n                    } else {\n                        alert(\"Error: \" + response);\n                        jQuery(\"#post\").data(\"valid\", false);\n\n                    }\n                    //hide loading icon, return Publish button to normal\n                    jQuery('#ajax-loading').hide();\n                    jQuery('#publish').removeClass('button-primary-disabled');\n                });\n                return false;\n            });\n        });\n</code></pre>\n"},{"tags":["php","jquery","ajax","download","output"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":13039178,"title":"Download a file built in PHP output buffer from AJAX call","body":"<p>I am trying to build a CSV file in PHP, then call the PHP file from an AJAX call, which will then initiate a download of the CSV file upon success of the AJAX call.  This works fine if I save a physical copy of the .csv on the server, but I would like to use <code>php://ouput</code> so I do not have to worry about physical files clogging up the server.  Is it possible to initiate a download from returning <code>php://output</code> to AJAX?  Here is my code:</p>\n\n<p>HTML/jquery:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n        &lt;script type=\"text/javascript\" language=\"javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n             $(\"#download\").live(\"click\", function() {\n                var request = $.ajax({\n                    dataType: 'html',\n                    url: 'php.php',\n                    success: function(response) {\n                        alert('Finished');\n                    }\n                })\n            })\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1 id=\"download\"&gt;DOWNLOAD&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>&lt;?php \n    header('Content-type: application/vnd.ms-excel');\n    header('Content-disposition: attachment; filename=\"test.csv\"');\n    $f = fopen('php://output', 'w');\n    fwrite($f,'this,is,a,test');\n    fclose($f);\n    readfile('php://output');\n    return;\n?&gt;\n</code></pre>\n\n<p>I am not sure how to get this to return a File Save dialog from my AJAX call.</p>\n\n<p>This has to be simple, but I can't seem to find any examples that combines these two issues.</p>\n"},{"tags":["jquery","asp.net","ajax","vb.net"],"answer_count":1,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":203,"score":8,"question_id":12510869,"title":"Page layout breaks on page refresh using F5","body":"<p>I am using <code>jQuery Wookmark</code> in my website ...everything works fine...but when i refresh the page the page layout breaks....why??</p>\n\n<p><strong>Correct Layout</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/rYjs7.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>Wrong layout after page refresh using <code>F5</code></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/r1K5j.png\" alt=\"enter image description here\"></p>\n\n<p>Why does this happen?? After page reload this happens...any idea why??</p>\n\n<p><strong>JS</strong></p>\n\n<pre><code> &lt;script type=\"text/javascript\" src=\"js/jquery.wookmark.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Once the page is loaded, initalize the plug-in. --&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n        var handler = null;\n        var pageIndex = 1;\n        var pageCount;\n        var isLoading = false;\n        var apiURL = 'Haggler.asmx/GetCategories'\n\n        // Prepare layout options.\n        var options = {\n            autoResize: true, // This will auto-update the layout when the browser window is resized.\n            container: $('#tiles'), // Optional, used for some extra CSS styling\n            offset: 17, // Optional, the distance between grid items\n            itemWidth: 190 // Optional, the width of a grid item\n        };\n\n        /**\n        * When scrolled all the way to the bottom, add more tiles.\n        */\n        function onScroll(event) {\n            // Only check when we're not still waiting for data.\n            if (!isLoading) {\n                // Check if we're within 100 pixels of the bottom edge of the broser window.\n                var closeToBottom = ($(window).scrollTop() + $(window).height() &gt; $(document).height() - 100);\n                if (closeToBottom) {\n                    loadData();\n                }\n            }\n        };\n\n        /**\n        * Refreshes the layout.\n        */\n        function applyLayout() {\n            // Clear our previous layout handler.\n            if (handler) handler.wookmarkClear();\n\n            // Create a new layout handler.\n            handler = $('#tiles li');\n            handler.wookmark(options);\n        };\n\n        /*\n        * Loads data from the API.\n        */\n        function loadData() {\n            isLoading = true;\n\n            if (pageIndex == 1 || pageIndex &lt;= pageCount) {\n                $('#loaderCircle').show();\n\n                $.ajax({\n                    type: \"POST\",\n                    contentType: \"application/json; charset=utf-8\",\n                    url: apiURL,\n                    dataType: 'json',\n                    data: '{pageIndex:' + pageIndex + '}', // Page parameter to make sure we load new data\n                    success: function(data) {\n                        //alert(\"SSS\");\n                        isLoading = false;\n                        $('#loaderCircle').hide();\n\n                        // Increment page index for future calls.\n                        pageIndex++;\n\n                        // Create HTML for the images.\n                        var html = '';\n                        pageCount = data.d[1].PageCount;\n                        var i = 0, length = data.d.length, image;\n                        //alert(JSON.stringify(data.d));\n                        //                      image = data.d[1];\n                        //                      alert(image.height);\n                        for (; i &lt; length; i++) {\n\n                            image = data.d[i];\n                            //alert(image.height);\n                            html += '&lt;li class=\"polaroid\"&gt;&lt;div class=\"optionbg\"&gt;&lt;/div&gt;&lt;div class=\"optionback\"&gt;&lt;span&gt;' + data.d[i].NodeName + '&lt;/span&gt;&lt;/div&gt;&lt;div class=\"options\"&gt;&lt;span class=\"favs\"&gt;14&lt;/span&gt;&lt;span class=\"fav\"&gt;like it!&lt;/span&gt;&lt;/div&gt;&lt;a href=\"http://www.google.co.in\"&gt;&lt;img src=\"' + image.image + '\" width=\"180\" height=\"' + Math.round(image.height / image.width * 180) + '\"&gt;&lt;/a&gt;&lt;/li&gt;';\n\n                        }\n                        // Add image HTML to the page.\n                        $('#tiles').append(html);\n\n                        // Apply layout.\n                        applyLayout();\n                    },\n                    error: function(result) {\n                        //alert(JSON.stringify(result));\n                    }\n                });\n\n            }\n\n\n        };\n\n        /**\n        * Receives data from the API, creates HTML for images and updates the layout\n        */\n\n\n        $(document).ready(new function() {\n            // Capture scroll event.\n            $(document).bind('scroll', onScroll);\n\n            // Load first data from the API.\n            loadData();\n        });\n    &lt;/script&gt;\n</code></pre>\n"},{"tags":["c#","javascript","jquery","asp.net","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":13039388,"title":"asp.net menu javascript call","body":"<p>i have a javascript function that prints out the active grid on a tabcontainer (depending on the active tab)</p>\n\n<p>i can print when i just use a client side call to my print function fine.</p>\n\n<p>instead Now i want to use my asp.net menu and have added a print function.</p>\n\n<p>i want this button press to call my javascript.</p>\n\n<p>The c# code is being called but the javascript just shows that no grid exists yet.</p>\n\n<p>Do  have to call the javascript after the page is fully loaded ? if so how?</p>\n\n<p>thanks\nDamo</p>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function PrintGridData() {\n        //var Tab_Name = $(\".ajax__tab_active\").first().attr('id');\n        alert($(\".ajax__tab_active\").first().attr('id'));\n        switch ($(\".ajax__tab_active\").first().attr('id')) // Switch based on the on active Tab ID\n        {\n            case 'TabContainerMain_Tab_Monitor_tab':\n                var printContent = document.getElementById('&lt;%= GridViewMain.ClientID %&gt;');\n                break;\n            default:\n                alert('Printing not supported');\n                return;\n        }\n        if (printContent)  // See if the Grid Exists First\n        {\n            if (printContent.rows.length &gt; 0) { // See if the Grid contains any rows\n\n                var windowUrl = 'about:blank';\n                var UserLoggedIn = $(\"#lblUser\").text()\n                var now = new Date();\n                var strDateTime = [[AddZero(now.getDate()), AddZero(now.getMonth() + 1), now.getFullYear()].join(\"/\"), [AddZero(now.getHours()), AddZero(now.getMinutes())].join(\":\"), now.getHours() &gt;= 12 ? \"PM\" : \"AM\"].join(\" \");\n                var windowName = 'Report';\n                var AuditPrintDetail = 'Report ' + UserLoggedIn + \" \" + strDateTime;\n                var WinPrint = window.open(windowUrl, windowName, 'left=300,top=300,right=500,bottom=500,width=1000,height=500');\n                WinPrint.document.write('&lt;' + 'html' + '&gt;&lt;head&gt;&lt;link href=\"assets/css/Main.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;     &lt;title&gt;' + AuditPrintDetail + '&lt;/title&gt; &lt;/head&gt;&lt;' + 'body  style=\"background:none !important\"' + '&gt;');\n                WinPrint.document.write(printContent.outerHTML);\n                WinPrint.document.write('&lt;' + '/body' + '&gt;&lt;' + '/html' + '&gt;');\n                WinPrint.document.close();\n                WinPrint.focus();\n                WinPrint.print();\n                WinPrint.close();\n            }\n            else {alert(\"No Results to print!\");}\n        }\n        else {alert(\"No Grid to print!\");}\n    }\n\n    function AddZero(num) {return (num &gt;= 0 &amp;&amp; num &lt; 10) ? \"0\" + num : num + \"\";}\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Markup</strong></p>\n\n<pre><code>&lt;div id=\"DivMenu\"&gt;\n                    &lt;asp:Menu CssClass=\"Menu\" ID=\"MenuMain\" runat=\"server\" Orientation=\"Horizontal\" OnMenuItemClick=\"MenuMain_MenuItemClick\"&gt;\n                        &lt;Items&gt;\n                            &lt;asp:MenuItem Text=\"System\" Value=\"System\"&gt;\n                                &lt;asp:MenuItem Text=\"Logout\" Value=\"Logout\"&gt;&lt;/asp:MenuItem&gt;\n                                &lt;asp:MenuItem Text=\"Print\" Value=\"Print\"&gt;&lt;/asp:MenuItem&gt;\n                            &lt;/asp:MenuItem&gt;\n                            &lt;asp:MenuItem Text=\"Help\" Value=\"Help\"&gt;\n                                &lt;asp:MenuItem Text=\"About\" Value=\"About\"&gt;&lt;/asp:MenuItem&gt;\n                            &lt;/asp:MenuItem&gt;\n                        &lt;/Items&gt;\n                        &lt;StaticHoverStyle BackColor=\"White\" ForeColor=\"Black\" /&gt;\n                        &lt;StaticMenuItemStyle HorizontalPadding=\"5px\" VerticalPadding=\"2px\" /&gt;\n                        &lt;StaticSelectedStyle BackColor=\"White\" /&gt;\n                    &lt;/asp:Menu&gt;\n                &lt;/div&gt;\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<pre><code>  protected void MenuMain_MenuItemClick(object sender, MenuEventArgs e)\n        {\n\n                if (e.Item.Text == \"About\")\n                {\n                    AboutModal.Show();\n\n\n                }\n\n\n                if (e.Item.Text == \"Logout\")\n                {\n                    //Log the user out\n\n                    FormsAuthentication.SignOut();\n                    FormsAuthentication.RedirectToLoginPage();\n                }\n\n\n                if (e.Item.Text == \"Print\")\n                {\n\n\n                    ScriptManager.RegisterStartupScript(Page, GetType(), \"JsStatus\", \"PrintGridData();\", true);\n\n\n                }\n            }\n</code></pre>\n"}]}
{"total":48692,"page":16,"pagesize":100,"questions":[{"tags":["javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13039245,"title":"Ajax Call Only Updates Page First Time","body":"<p>I've got a fairly simple timer which I set on one page and then view the countdown on another page. </p>\n\n\n\n<p>The problem is that timer updates the first time but not again (unless I do a full page refresh which works but I want to avoid).\nI don't have any errors in firebug.\nThe function resends the ajax command every 25 seconds - this works, I see the times coming through as expected.\nIf I change the time I can see the results back from the php page as expected however the timer itself doesn't update without an actual page refresh. \nI don't have any interaction with this page (its just a timer) so I can't update on click.</p>\n\n<p>Any ideas what I'm missing? I know it must be obvious.</p>\n\n<pre><code>$(document).ready(function(){\nsuitcase();\n});\nsetInterval(suitcase, 25000);\n\nfunction suitcase() {\n$.ajax({\n    type: 'POST',\n    url: 'timeRTN.php',\n    async: false,\n    cache: false,\n    data: {            \n        examlength: examlength\n    },\n    success: function(examlength) {\n        $('#pauseResume').countdown({\n            until: examlength,\n            format: 'HMS'\n        })\n      },\n     })\n    };\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"pauseResume\" class=\"countdown\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["c#","ajax","events","optimization","asyncfileupload"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":880,"score":2,"question_id":7009072,"title":"Multiple AJAX asyncfileupload created from c# code behind","body":"<p>I have an asyncfileupload control created from code behind C# and I can't figure out how to reference the control from the UploadedComplete section of my code.  Double asterisks are what I'm talking about.  Dragger1 is the panel I add the whole table into.  I've tried:</p>\n\n<p>string fileName = Dragger1.FindControl(\"FileName1\").ToString();\n and string fileName = ((AsyncFileUpload)sender).PostedFile.FileName;</p>\n\n<p>I get a object reference not set to an instance of an object exception.</p>\n\n<p>should I move the fileName1 variable outside of the table somehow?  I've tried changing the scope into a protected static string to return the string but that's completely wrong and going outside of what I know.</p>\n\n<p>Here is my code</p>\n\n<pre><code>protected void MyButton2_Click(object sender, EventArgs e)\n{\n    Table CreateTable2 = new Table();\n    CreateTable2.ID = \"CreateTable2\";\n    TableRow rw1 = new TableRow();\n    CreateTable2.Rows.Add(rw1);\n\n    TableCell cell1 = new TableCell();\n    Label HelpLabel = new Label();\n    HelpLabel.ID = \"HelpLabel2\";\n    HelpLabel.Text = \"Upload an Image\";\n    HelpLabel.Visible = true;\n    cell1.Controls.Add(HelpLabel);\n    rw1.Cells.Add(cell1);\n\n    TableCell cell2 = new TableCell();\n    Label myThrobber = new Label();\n    myThrobber.ID = \"myThrobber2\";\n    myThrobber.CssClass = \"Throbbers\";\n\n    //fileupload\n\n    **AsyncFileUpload afuUploadEvents = new AsyncFileUpload();\n    afuUploadEvents.ID = \"afuUploadEvents2\";\n    afuUploadEvents.ClientIDMode = System.Web.UI.ClientIDMode.AutoID;\n    //afuUploadEvents.OnClientUploadError = \"uploadError\";\n    afuUploadEvents.UploadedComplete += new EventHandler&lt;AsyncFileUploadEventArgs&gt;(this.afuUpload2_UploadedComplete2);\n    afuUploadEvents.UploaderStyle = AsyncFileUpload.UploaderStyleEnum.Traditional;\n    afuUploadEvents.UploadingBackColor = System.Drawing.Color.FromName(\"#CCFFFF\");\n    afuUploadEvents.ThrobberID = \"myThrobber2\";\n    afuUploadEvents.EnableViewState = false;\n    afuUploadEvents.PersistFile = true;\n\n    **string fileName1 = afuUploadEvents.PostedFile.FileName;**\n\n    cell2.Controls.Add(afuUploadEvents);\n    cell2.Controls.Add(myThrobber);\n    rw1.Cells.Add(cell2);**\n</code></pre>\n\n<p>etc.</p>\n\n<p>Then the UploadedComplete Event Handler</p>\n\n<pre><code>protected void afuUpload2_UploadedComplete2(object sender, AsyncFileUploadEventArgs e)\n{\n    // store the file name into the string variable\n    **string fileName = ((AsyncFileUpload)sender).PostedFile.FileName;**\n    // extarct and store the file extension into another variable\n    string fileExtension = System.IO.Path.GetExtension(fileName).Replace(\".\", string.Empty).ToLower();\n    // string type array having list of allowed file type extensions\n    string[] validFileExtensions = new string[] { \"gif\", \"png\", \"jpg\", \"jpeg\", \"bmp\" };\n    bool flag = false;\n\n    // loop over the array of valid file extensions to compare them with uploaded file\n    foreach (string extension in validFileExtensions)\n    {\n        if (fileExtension == extension)\n            flag = true;\n    }\n    // display the message based on the flag value\n    if (flag == false)\n    {\n        return;\n\n    }\n    else\n    {\n        // lblStatus.Text = \"File has valid extension.\";\n        // write your code to save the uploaded file here.\n        string savePath = MapPath(\"~/myfolder/\" + Profile.UserName + Path.GetFileName(e.filename));\n        Guid PostConvoID = Guid.Parse(((AsyncFileUpload)sender).FindControl(\"lblGuid2\").ToString());\n        string PostUserName = Profile.UserName;\n        string saveVirtualPath = \"~/myfolder/\" + Profile.UserName + Path.GetFileName(e.filename);\n        string PostPicPath = saveVirtualPath;\n\n        int rowsAffected = myclass.InsertPic(PostConvoID, PostPicPath, PostUserName);\n        ((AsyncFileUpload)sender).SaveAs(savePath);\n    }\n}\n</code></pre>\n\n<p>Here's another UploadedComplete EventHandler I've tried</p>\n\n<pre><code>protected void afuUploadEvents_UploadedComplete(object sender, AsyncFileUploadEventArgs e)\n{\n    // store the file name into the string variable\n    **string fileName = Dragger1.FindControl(\"FileName1\").ToString();**\n    // extarct and store the file extension into another variable\n    string fileExtension = System.IO.Path.GetExtension(fileName).Replace(\".\", string.Empty).ToLower();\n    // string type array having list of allowed file type extensions\n    string[] validFileExtensions = new string[] { \"gif\", \"png\", \"jpg\", \"jpeg\", \"bmp\" };\n    bool flag = false;\n\n    // loop over the array of valid file extensions to compare them with uploaded file\n    foreach (string extension in validFileExtensions)\n    {\n        if (fileExtension == extension)\n            flag = true;\n    }\n    // display the message based on the flag value\n    if (flag == false)\n    {\n        return;\n\n    }\n    else\n    {\n        // lblStatus.Text = \"File has valid extension.\";\n        // write your code to save the uploaded file here.\n        string savePath = MapPath(\"~/myfolder/\" + Profile.UserName + Path.GetFileName(e.filename));\n        //string lblGuid = ((AsyncFileUpload)sender).FindControl(\"lblGuid\")Label.Text;\n        //((Label)(AsyncFileUpload)sender).FindControl(\"lblGuid\").Text;\n        //Guid PostConvoID = Guid.Parse(((AsyncFileUpload)sender).FindControl(\"lblGuid1\").ToString());\n        Guid PostConvoID = Guid.Parse(MyButton1.FindControl(\"lblGuid1\").ToString());\n        string PostUserName = Profile.UserName;\n        string saveVirtualPath = \"~/myfolder/\" + Profile.UserName + Path.GetFileName(e.filename);\n        string PostPicPath = saveVirtualPath;\n\n        int rowsAffected = myclass.InsertPic(PostConvoID, PostPicPath, PostUserName);\n        //MyButton1.FindControl(\"afuUploadEvents1\").SaveAs(savePath));\n    }\n}\n</code></pre>\n\n<p>I've been learning how to reference other event handlers and using the .FindControl method but I'm still new at doing this.  Any help would be greatly appreciated!!</p>\n\n<p>It's tough using all the extra markup when you have no html tags and I'm sure my problem is in there.  I'm using 20 async file uploads in one page all in different modal popup controls so creating all my controls from code behind each fire when you click a button.  So using only c# is absolutely necessary.</p>\n\n<p>~E </p>\n"},{"tags":["javascript","ruby-on-rails","ajax","url","encoding"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13038841,"title":"Encodeuricomponent decoding it in rails","body":"<p>Normally rails magically decodes all <code>params</code>. Now I got a javascript which does <code>params=\"value=\"+encodeURIComponent('ab#cd');</code> and then calls <code>http://server/controller?value=ab%23cd</code>. If I access <code>params[:value]</code> in my controller, it contains <code>ab%23cd</code> and not <code>ab#cd</code> as I would expect.</p>\n\n<p>How to solve this? Why does rails no auto decoding of this param?</p>\n"},{"tags":["c#","ajax","json"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13037596,"title":"iterate through JSOn result","body":"<p>I have a WebMethod being called from ajax, trying to iterate through the returned data. The data being returned is \"{ BusinessTypeID = 2 }\".  I'm trying to figure out how to just get the value 2?</p>\n\n<pre><code>        //Function called from ajax\n[System.Web.Services.WebMethod]\npublic static string[] GetTerminalBusinessTypes(string terminalID)\n{\n    DataClassesDataContext db = new DataClassesDataContext();\n    List&lt;string&gt; results = new List&lt;string&gt;();\n\n    try\n    {\n\n        var terminalBusinessTypes = (from bt in db.BusinessTypes\n                                    join obt in db.OxygenateBlenderBusinessTypes on bt.BusinessTypeID equals obt.BusinessTypeID\n                                    where obt.OxygenateBlenderID == Convert.ToInt32(terminalID)\n                                    select new\n                                    {\n                                        bt.BusinessTypeID\n                                    }).ToList();\n\n\n        for (int i = 0; i &lt; terminalBusinessTypes.Count(); i++)\n        {\n            results.Add(terminalBusinessTypes[i].ToString());\n        }\n\n    }\n    catch (Exception ex)\n    {\n\n    }\n\n    return results.ToArray();\n}\n</code></pre>\n\n<p>The ajax function:</p>\n\n<pre><code>            function PopulateTerminalBusinessTypes(terminalID) {\n\n        $.ajax({\n            type: \"POST\",\n            url: \"OxygenateBlenderCertificationApplication.aspx/GetTerminalBusinessTypes\",\n            data: \"{'terminalID':\" + terminalID + \"}\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            success: function (data) {\n\n                var targetValue = data.d;\n\n                var items = $('#cblTerminalBusinessType input:checkbox');\n\n\n\n                                    $.each(targetValue, function (key, targetValue) {\n                                        alert(data[index].BusinessTypeID);\n                                    });\n                    }\n        })//end ajax\n\n    }\n</code></pre>\n"},{"tags":["php","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13036540,"title":"Time difference not working when year changes","body":"<p>I have a script that was working, well is working but not properly. The function is suppose to work out the time difference between two dates/times. </p>\n\n<p>The First date is the Current Date and Time (Date + Hr:Min) and the second date is chosen by a user. </p>\n\n<p>The purpose is to show error when the current date/time is within 24 hours from the user chosen date. i.e. if today is 23/20/2012 16:00 and the user chooses 24/10/2012 15:00 (this mean its within 24 hours) but if user chooses 26/10/2012 19:00 then its passed 24 hours.</p>\n\n<p>Now this works fine but when the date changes its year (when user selected any date after 31st Dec 2012.. it assumes its still within 24 hours.. and im quite baffled how this happens.. can anyone shed some light what I've done wrong?</p>\n\n<pre><code>    $dt = $_GET['dt']; $tm = $_GET['tm']; \n\n    // Current Date an time (Hrs &amp; Mins)\n$date1 = date(\"Y-m-d H:i\");\n\n    // Chosen Date/Time\n\n$date2 = date(\"Y-m-d\", strtotime( \"$dt\" ) );\n$diff = strtotime($date2.\" $tm\") + - strtotime($date1);\nif($diff/3600 &lt; 24)\n    echo \"0\";\nelse\n    echo \"1\";\n</code></pre>\n\n<p>The following is the corresponding Ajax that makes th call</p>\n\n<pre><code>function getAjaxTime()\n{\n\nxmlHttp=GetXmlHttpObject();\nif (xmlHttp==null)\n  {\n  alert (\"Your browser does not support AJAX!\");\n  return;\n  } \ndt = document.frm.arrival_date.value;\ntm = document.frm.arrival_hour.value +':'+document.frm.arrival_min.value;\nxmlHttp.open(\"GET\",\"&lt;?php echo $base_dir;?&gt;/admin/get/timediff.php?dt=\"+encodeURI(dt)+\"&amp;tm=\"+encodeURI(tm),false);\nxmlHttp.send(null);\nreturn xmlHttp.responseText; \n}\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":938,"score":1,"question_id":3071615,"title":"success handler for $.ajax function with a non-standard http status code","body":"<p>We've written a RESTful server API.  For whatever reason, we made the decision that for DELETEs, we would like to return a 204 (No Content) status code, with an empty response.  I'm trying to call this from jQuery, passing in a success handler and setting the verb to DELETE:</p>\n\n<pre><code>jQuery.ajax({\n    type:'DELETE',\n    url: url,\n    success: callback,\n});\n</code></pre>\n\n<p>The server returns a 204, but the success handler is never called.  Is there a way I can configure jQuery to allow 204s to fire the success handler?</p>\n"},{"tags":["jquery","ajax","url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":355,"score":0,"question_id":2974350,"title":"JQuery Ajax Url question","body":"<p>Just a quick question about JQuery's Ajax function, more specifically, the url parameter.</p>\n\n<p><strong>My directory structure is like so:</strong> </p>\n\n<pre><code>contact.html\nprocess.php\n\n- elements\n   - js\n      - jquery.js\n      - library.js\n</code></pre>\n\n<p><strong>Code below</strong></p>\n\n<pre><code>...\n\n// Post with Ajax\n$.ajax\n({\n    type : 'POST',\n    url : '../../process.php',\n    data : fulldata,\nsuccess: function()\n{\n    $('#contact_form #placeholder').html(\"&lt;div id='success_box'&gt;&lt;h3&gt;Message Recieved&lt;/h3&gt;&lt;p&gt;We will be in touch very soon!&lt;/p&gt;&lt;/div&gt;\");\n    $('#contact_form form').hide();\n},\nerror: function(xhr)\n{\n    alert('Request Status: ' + xhr.status + ' Status Text: ' + xhr.statusText + ' ' + xhr.responseText);\n}\n});\nreturn false;\n</code></pre>\n\n<p>Every-time I submit the form, it spits out an error, that I think is the url. How do I correctly specify the process.php file for submission with Ajax?</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","validation","jsf-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13036459,"title":"f:ajax call is not working with f:validateRegex","body":"<p>To my surprise, ajax call is <strong>NOT</strong> happening after each key that I enter in my text box. ajax is getting invoked <strong>only after</strong> 14 digits are entered. Not sure how ajax is related to validateRegex tag handler in this case? also, can I say <code>&lt;f:validateRegex&gt;, &lt;f:valiadteLength&gt;</code> etc will perform validations always at client side (like java script/jquery)?</p>\n\n<pre><code>&lt;h:inputText id=\"input\" value=\"#{bean.input}\" maxlength=\"16\"&gt;\n&lt;f:ajax event=\"keyup\" render=\"another_id\" listener=\"{bean.method}\"/&gt;\n&lt;f:validateRegex pattern=\"[0-9]{14}\" /&gt;\n&lt;/h:inputText&gt;\n</code></pre>\n"},{"tags":["ajax","asynchronous","timeout","synchronous"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":3364,"score":0,"question_id":2195259,"title":"ajax synchronous call with timeout","body":"<p>New to ajax, so asking a very basic question.</p>\n\n<p>-- Is there no way to make a Synchronous ajax call (async:false) with timeout set on it.?</p>\n\n<p><a href=\"http://www.ajaxtoolbox.com/request/\" rel=\"nofollow\">http://www.ajaxtoolbox.com/request/</a></p>\n\n<p>Timeout works perfect with Asynchronous call though in my application,\nbut for one particular scenario, I need a Synchronous call (the javascript should actually wait untill it hears back from the server), and this also works fine. But I need to handle a scenario where the sever could take long and a ajax timeout may be called.</p>\n\n<p>Is there any other piece of standard documentation for ajax I could refer to?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13037022,"title":"sending an array to javascript through ajax","body":"<p>I am trying to send an array from PHP to Ajax in javascript. \nmy array in PHP file \"myphp.php\" is $parts and is multidimentional. </p>\n\n<p>I have used both echo $parts and echo json_encode($parts) none works for me.\n$parts has 2 rows and 2 columns this is the result of var_dump:</p>\n\n<pre><code>array(4) { [0]=&gt; array(3) { [0]=&gt; string(13) \"1350655763.12\" [1]=&gt; string(2) \"25\" [2]=&gt; string(1) \" \" } [1]=&gt; array(3) { [0]=&gt; string(13) \"1350655763.12\" [1]=&gt; string(2) \"26\" [2]=&gt; string(0) \"\" } [2]=&gt; array(1) { [0]=&gt; string(0) \"\" } [3]=&gt; array(1) { [0]=&gt; string(0) \"\" } }\n</code></pre>\n\n<p>I want to send the hole array to Ajax but just display $parts[0][0] on the web page.\nWhen I use</p>\n\n<pre><code>echo $parts \n</code></pre>\n\n<p>in myphp.php file: \"Array\" name is displayed on the web page\nWhen I use </p>\n\n<pre><code>echo json_encode($parts) \n</code></pre>\n\n<p>in myphp.php file: all components of the array are displayed instead of the first one </p>\n\n<pre><code>        &lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script&gt;\nfunction getXMLHttp()\n{\n  var xmlHttp\n\n  try\n  {\n    //Firefox, Opera 8.0+, Safari\n    xmlHttp = new XMLHttpRequest();\n  }\n  catch(e)\n  {\n    //Internet Explorer\n    try\n    {\n      xmlHttp = new ActiveXObject(\"Msxml2.XMLHTTP\");\n    }\n    catch(e)\n    {\n      try\n      {\n        xmlHttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }\n      catch(e)\n      {\n        alert(\"Your browser does not support AJAX!\")\n        return false;\n      }\n    }\n  }\n  return xmlHttp;\n}\n\nfunction MakeRequest()\n{\n  var xmlHttp = getXMLHttp();\n\n  xmlHttp.onreadystatechange = function()\n  {\n    if(xmlHttp.readyState == 4) \n     { \n      var parts=JSON.parse(xmlHttp.responseText); \n      document.getElementById('ResponseDiv').innerHTML = parts[0][0]; \n     }\n  }\n\n  xmlHttp.open(\"GET\", \"myphp.php\", true); \n  xmlHttp.send(null);\n}\n\n\nresult=MakeRequest();\n\n\n\n&lt;/script&gt;\n\n\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;div id='ResponseDiv'&gt;\n      This is a div to hold the response.\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>How should I change these codes to just get parst[0][0] on the webpage?\nThanks in advance for you help</p>\n"},{"tags":["jquery","asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":122,"score":1,"question_id":12625028,"title":"How to show success message using jquery ajax method in asp.net on textbox change?","body":"<p>I've got a EmployeeMaster page where i enter empcode,empname etc.After  entering empcode,when i click on the empname textbox,i want to show a success image if no such empcode exists and a failure image if empcode exists..</p>\n\n<p>Is there any way to show this using jquery ajax method ? </p>\n\n<p>Heres how i've tried to call the textbox change function.</p>\n\n<pre><code> $(document).ready(function(){\n    var prm = Sys.WebForms.PageRequestManager.getInstance();\n    //Raised before processing of an asynchronous postback starts and the postback request is sent to the server.\n    prm.add_beginRequest(BeginRequestHandler);\n    // Raised after an asynchronous postback is finished and control has been returned to the browser.\n    prm.add_endRequest(EndRequestHandler);    \n    AutoComp();//function for autofill textbox and it works perfectly.     \n    $(\"#&lt;%=txtEmpCode.ClientID %&gt;\").change(checkEmpCode);//calling textbox change  function\n\n});\nfunction checkEmpCode() {\n    alert('hai');\n}\n</code></pre>\n\n<p>Here alert is not displaying.How can i solve this issue....</p>\n"},{"tags":["jquery","mysql","ajax","mamp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13020177,"title":"jQuery Ajax Not Passing Values on MAMP Local mySQL Server","body":"<p>I am testing an application using a MAMP local Apache and mySQL server, however it seems that my code isn't passing the data properly through the jQuery ajax function, as I keep getting 'null' values in the success output. I'm not sure if there is usually a problem using the local server and jQuery ajax, or there is just something wrong with my code. Here it is for reference:</p>\n\n<p>JS File:</p>\n\n<pre><code>var curX = 2;\nvar curY = 6;\n\nfunction boundary(moveX, moveY) {\nvar world = document.getElementById('overworld');\n$.ajax({\n    type: \"POST\",\n    url: \"php/tilecheck.php\",\n    dataType: \"json\",\n    data: {x: curX + moveX, y: curY + moveY},\n    success: function(data) {\n        curX += moveX;\n        curY += moveY;\n\n        var left = data.lefttile;\n        var right = data.righttile;\n        var top = data.toptile;\n        var bot = data.bottomtile;\n        var xypos = document.getElementById(\"coord\");\n        xypos.innerText = curX + \", \" + curY;\n\n        if(left == 1){\n            $(\"#aleft\").css('display', 'none');\n        }\n        else {\n            $(\"#aleft\").css('display', '');\n        }\n        if(right == 1){\n            $(\"#aright\").css('display', 'none');\n        }\n        else {\n            $(\"#aright\").css('display', '');\n        }\n\n        if(top == 1){\n            $(\"#atop\").css('display', 'none');\n        }\n        else {\n            $(\"#atop\").css('display', '');\n        }\n        if(bot == 1){\n            $(\"#abottom\").css('display', 'none');\n        }\n        else {\n            $(\"#abottom\").css('display', '');\n        }\n        world.style.marginTop = -curX * 351 +\"px\";\n        world.style.marginLeft = -curY * 351 +\"px\";\n    }\n});\n}\n</code></pre>\n\n<p>Which I call onload in the html file:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=\"jquery-1.8.2.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"game/bound.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"boundary(0,0);\"&gt;\n</code></pre>\n\n<p>And here is the 'tilecheck.php' code that I call in the ajax function:</p>\n\n<pre><code>&lt;?php\n    mysql_connect('localhost', 'root', 'root') or die ('Error Connecting');\n    mysql_select_db('testing_db') or die ('No Database');\n\n    $x = $_REQUEST['x'];\n    $y = $_REQUEST['y'];\n\n    $q = \"SELECT bound FROM tiles WHERE xpos = \".($x - 1).\" AND ypos = $y LIMIT 1\";\n    $lefttile = mysql_fetch_assoc(mysql_query($q));\n\n    $q = \"SELECT bound FROM tiles WHERE xpos = \".($x + 1).\" AND ypos = $y LIMIT 1\";\n    $righttile = mysql_fetch_assoc(mysql_query($q));\n\n    $q = \"SELECT bound FROM tiles WHERE xpos = $x AND ypos = \".($y - 1).\" LIMIT 1\";\n    $toptile = mysql_fetch_assoc(mysql_query($q));\n\n    $q = \"SELECT bound FROM tiles WHERE xpos = $x AND ypos = \".($y + 1).\" LIMIT 1\";\n    $bottomtile = mysql_fetch_assoc(mysql_query($q));\n\n    $json = array(\n    \"x\" =&gt; $x,\n    \"y\" =&gt; $y,\n    \"lefttile\" =&gt; $lefttile, \"righttile\" =&gt; $righttile,\n    \"toptile\" =&gt; $toptile, \"bottomtile\" =&gt; $bottomtile\n);\n\n$output = json_encode($json);\necho $output;\n\n?&gt;\n</code></pre>\n\n<p>What I want the code to do is grab a value from the database and hide or show arrow buttons depending on the value. Please let me know what you think and if you have any other questions. Thank you.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I fiddled with the code a little, changing the ajax function to a post:</p>\n\n<pre><code>$.post('php/tilecheck.php', {x: curX + moveX, y: curY + moveY}, function(data) {\n    console.log(data);\n</code></pre>\n\n<p>And changed the $_REQUEST in the php to $_POST. The console when running this script shows this:</p>\n\n<pre><code>{\"lefttile\":\"1\",\"righttile\":\"1\",\"toptile\":\"0\",\"bottomtile\":\"1\"} \n</code></pre>\n\n<p>When the variable passes \"1\" (the value of the bound row I called for in the mySQL) the corresponding arrow should disappear. However when I alert the variable I defined (var left = data.lefttile) and which the console shows is defined (in this instance, as 1) it reads 'undefined'. I'm not sure why. Thank you.</p>\n"},{"tags":["javascript","jquery","ajax","json"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13016304,"title":"json sibling data","body":"<p>(forgive me if I use slightly incorrect language - feel free to constructively correct as needed)</p>\n\n<p>There are a couple posts about getting data from JSON data of siblings in the returned object, but I'm having trouble applying that information to my situation:</p>\n\n<p>I have a bunch of objects that are getting returned as JSON from a REST call and for each object with a node of a certain key:value I need to extract the numeric value of a sibling node of a specific key. For example:</p>\n\n<p>For the following list of objects, I need to add up the numbers in \"file_size\" for each object with matching \"desc\" and return that to matching input values on the page.</p>\n\n<pre><code>{\"ResultSet\":{\n\n  Result\":[\n\n    {\n        \"file_size\":\"722694\",\n        \"desc\":\"description1\",\n        \"format\":\"GIF\"\n    },\n\n    {\n        \"file_size\":\"19754932\",\n        \"desc\":\"description1\",\n        \"format\":\"JPEG\"\n    },\n\n    {\n        \"file_size\":\"778174\",\n        \"desc\":\"description2\",\n        \"format\":\"GIF\"\n    },\n\n    {\n        \"file_size\":\"244569996\",\n        \"desc\":\"description1\",\n        \"format\":\"PNG\"\n    },\n\n    {\n        \"file_size\":\"466918\",\n        \"desc\":\"description2\",\n        \"format\":\"TIFF\"\n    }\n\n  ]\n\n}}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","json"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13036874,"title":"How to get value through ajax by processing the acess rights via cookies","body":"<p>The problem is: I have made a gallery lightbox like that of facebook which will load image in the left side and have some space for the content in the right side, now i have to load the content to be placed in the right side, but i want those comments by processing the access right, like: only such information will be displayed which the logged in user is allowed to view, now can i process the server side directly by using cookie? or I need to give the cookie variables along the request, then process? if so is <code>json</code> for me? Or there is something that will make my job much easier?</p>\n"},{"tags":["php","ajax","session"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13036749,"title":"Refresh sessions shopping cart using AJAX","body":"<p>I have a shopping cart that use sessions to store items , \nso I'm using AJAX to send the product ID with XMLHttpRequest .</p>\n\n<p>the items page and the cart in the same page .\nso after send the variables to the same page and set sessions , nth happen until i refresh the  page to see the difference .</p>\n\n<p>How i can see the difference in the cart without refreshing the PHP page  ?</p>\n"},{"tags":["c#","asp.net","sql-server","ajax","excel"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":13036569,"title":"Export SQL Server data to Excel in a web app","body":"<p>I would like to export data from a SQL Server pull (usually I use <code>SqlDataReader</code>, but am open to suggestions) into an Excel/CSV file and have the user of the web app get it as a download. </p>\n\n<p>I'd like to do this AJAX style, so that the click on download won't cause a reload/postback. </p>\n\n<p>Anyone done this before or have an idea on how?</p>\n"},{"tags":["ajax","ruby-on-rails-3","updates"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13036684,"title":"update action href with ajax rails","body":"<p>hello I'm getting started with ajax and Im a little confuse about how to use it.\ntrying to do something easy I have this: a playlist model and a song model </p>\n\n<p>playlist model </p>\n\n<pre><code>has_and_belongs_to_many :songs\n</code></pre>\n\n<p>and I created a table play_lists_songs</p>\n\n<p>well, in the show song view I can a new playlist and add that song(done) or add the song to an existing playlist. the paly lists are show in the view like this:</p>\n\n<pre><code>&lt;% unless @play_lists.empty?%&gt;\n    &lt;% @play_lists.each do |play_list| %&gt;\n      &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\"&lt;%=play_list_path(play_list.id)%&gt;\" &gt;&lt;span class=\"count\"&gt;(&lt;%=play_list.song_ids.count%&gt;)&lt;/span&gt;&lt;%=play_list.name%&gt;&lt;/a&gt;&lt;/li&gt;\n          &lt;%=hidden_field_tag \"playlist_\"+play_list.id.to_s, :value=&gt; song.id%&gt;\n      &lt;/ul&gt;\n    &lt;% end %&gt; \n  &lt;%end%&gt;\n</code></pre>\n\n<p>as you see I pass the value through a hidden field, so I need when the user click on the playlist'name then the ajax update that play list. how do I can do that with href? or there is a better way to do it</p>\n"},{"tags":["java","ajax","jsf","composite-component"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":136,"score":5,"question_id":12589037,"title":"Composite component listeners only working after page reload","body":"<p>I have a web page which is including a sub-page that changes according to the element I choose in the primefaces dock menu (<code>ui:include</code>). Some sub pages include a custom composite component I implemented. The first page the web app shows has all his listeners working correctly. When I change sub-page via the dock menu, VideoStatusTable's listeners (composite component's listeners) won't work until I refresh the page in the browser (with <kbd>F5</kbd>) OR if I select the page again in the dock menu. </p>\n\n<p>Here is the main page holding the dock menu.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;h:body style=\"width:100%;height:100%;position:relative;\"&gt;\n    &lt;h:panelGroup id=\"contentPanelGroup\"&gt;\n        &lt;ui:include src=\"#{Template.currentView.view}\" /&gt;\n    &lt;/h:panelGroup&gt;\n\n    &lt;div id=\"header-wrapper\"&gt;\n        &lt;h:form id=\"headerForm\" styleClass=\"titleSize\" style=\"position:relative;height:100%;width:100%;\"&gt;\n        &lt;/h:form&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"footer-wrapper\"&gt;\n                &lt;h:form id=\"footerForm\"&gt;\n                    &lt;h:graphicImage name=\"ctec.png\" library=\"images\" style=\"position:absolute;left:30px;bottom:10px;\"/&gt;\n                    &lt;p:dock&gt;\n                        &lt;p:menuitem value=\"#{msgs.ViewEnum_TRANSFER}\" icon=\"#{resource['images:hard-drive-download.png']}\" action=\"#{Template.setWindow( 0 )}\" update=\":contentPanelGroup :headerForm :msgsArea\" /&gt;\n                        &lt;p:menuitem value=\"#{msgs.ViewEnum_STATUS}\" icon=\"#{resource['images:gears.png']}\" action=\"#{Template.setWindow( 1 )}\" update=\":contentPanelGroup :headerForm :msgsArea\"/&gt;\n                        &lt;p:menuitem value=\"#{msgs.ViewEnum_ORGANIZATION}\" icon=\"#{resource['images:folder.png']}\" action=\"#{Template.setWindow( 2 )}\" update=\":contentPanelGroup :headerForm :msgsArea\" /&gt;\n                        &lt;p:menuitem value=\"#{msgs.ViewEnum_VALIDATION}\" icon=\"#{resource['images:chart-bar.png']}\" action=\"#{Template.setWindow( 3 )}\" update=\":contentPanelGroup :headerForm :msgsArea\" /&gt;\n                        &lt;p:menuitem value=\"#{msgs.ViewEnum_REPORT}\" icon=\"#{resource['images:documents.png']}\" action=\"#{Template.setWindow( 4 )}\" update=\":contentPanelGroup :headerForm :msgsArea\" /&gt;\n                    &lt;/p:dock&gt;\n                &lt;/h:form&gt;\n    &lt;/div&gt;\n    &lt;p:growl id=\"msgsArea\" life=\"5000\"/&gt;\n    &lt;ui:debug/&gt;\n\n&lt;/h:body&gt;\n</code></pre>\n\n<p><code>TemplateBean</code> looks like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Named(value=\"Template\") // CDI\n@SessionScoped // CDI\npublic class TemplateBean implements Serializable {\n    private static final long   serialVersionUID    = -8230221469543897876L;\n\n    private Integer             window              = 2;\n\n        // Some getters ...\n\n        // Get Window\n        public Integer getWindow() {\n            return window;\n        }\n\n        public void setWindow( Integer window ) {\n            this.window = window;\n            FacesContext.getCurrentInstance().addMessage(\n                    null,\n                    new FacesMessage( FacesMessage.SEVERITY_INFO, getCurrentViewTitle(), getCurrentViewTitle() )\n            );\n            FacesContext.getCurrentInstance().addMessage(\n                    null,\n                    new FacesMessage( FacesMessage.SEVERITY_ERROR, getCurrentViewTitle(), getCurrentViewTitle() )\n            );\n        }\n    }\n</code></pre>\n\n<p><code>ViewEnum</code> (which is used for choosing which view is shown):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum ViewEnum {\n    TRANSFER ( \"hard-drive-download.png\", \"/private/VideoTransfer.xhtml\" ),\n    STATUS ( \"gears.png\", \"/private/ProcessStatus.xhtml\" ),\n    ORGANIZATION ( \"folder.png\", \"/private/DataOrganization.xhtml\" ),\n    VALIDATION ( \"chart-bar.png\", \"/private/ProcessValidation.xhtml\" ),\n    REPORT ( \"documents.png\", \"/private/ReportGeneration.xhtml\" ),\n    ;\n\n    private String                  iconFileName;\n    private String                  view;\n    private StreamedContent         icon = null;\n\n    private ViewEnum( String iconFileName, String view ) {\n        this.iconFileName = iconFileName;\n        this.view = view;\n    }\n    public String getIconFileName() {\n        return this.iconFileName;\n    }\n    public String getTranslationKey() {\n        return \"ViewEnum_\" + this.toString();\n    }\n    public StreamedContent getIcon() {\n        // irrelevant code ...\n    }\n    public String getView() {\n        return this.view;\n    }\n}\n</code></pre>\n\n<p>The custom component:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:composite=\"http://java.sun.com/jsf/composite\"\n      xmlns:c=\"http://java.sun.com/jsp/jstl/core\"\n      xmlns:h=\"http://java.sun.com/jsf/html\"\n      xmlns:f=\"http://java.sun.com/jsf/core\"\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n      xmlns:p=\"http://primefaces.org/ui\"\n      xmlns:cmpnt=\"http://java.sun.com/jsf/composite/component\"&gt;\n\n    &lt;composite:interface componentType=\"videoStatusTableComponent\"&gt;\n        &lt;composite:attribute name=\"value\" required=\"true\"/&gt;\n        &lt;composite:attribute name=\"selection\" required=\"true\"/&gt;\n\n        &lt;composite:attribute name=\"selectionListener\" required=\"true\" method-signature=\"void listener(org.primefaces.event.SelectEvent)\"/&gt;\n        &lt;composite:attribute name=\"selectionUpdate\" required=\"false\" default=\"@this\"/&gt;\n        &lt;composite:attribute name=\"refreshListener\" required=\"true\" method-signature=\"void action()\"/&gt;\n    &lt;/composite:interface&gt;\n\n    &lt;composite:implementation&gt;\n        &lt;p:dataTable id=\"cmpntVideoList\" var=\"video\" value=\"#{cc.attrs.value}\" rowKey=\"#{video.key}\" style=\"clear:both;\"\n            selection=\"#{cc.attrs.selection}\" selectionMode=\"single\" emptyMessage=\"#{cc.attrs.emptyValueListMsg}\"&gt;\n\n            &lt;p:ajax event=\"rowSelect\" listener=\"${cc.selectionListener}\" process=\"@this\" update=\"${cc.attrs.selectionUpdate}\"/&gt;\n\n            &lt;composite:insertFacet name=\"header\"/&gt;\n\n            &lt;p:column headerText=\"Test\"&gt;\n                #{video.humanReadableVideoId}\n            &lt;/p:column&gt;\n\n            &lt;f:facet name=\"footer\"&gt;\n                &lt;h:commandLink action=\"${cc.attrs.refreshListener}\" style=\"float:right;\"&gt;\n                    &lt;h:graphicImage library=\"images\" name=\"button-rotate-cw_16.png\"/&gt;\n                    &lt;f:ajax render=\"cmpntVideoList\" execute=\"@this\"/&gt;\n                &lt;/h:commandLink&gt;\n            &lt;/f:facet&gt;\n\n        &lt;/p:dataTable&gt;\n\n    &lt;/composite:implementation&gt;\n\n\n &lt;/html&gt;\n\n\n@FacesComponent( \"videoStatusTableComponent\" )\npublic class VideoStatusTableComponent extends UINamingContainer {\n\n    public void selectionListener( org.primefaces.event.SelectEvent event ) {\n        FacesContext context = FacesContext.getCurrentInstance();\n        MethodExpression ajaxEventListener = (MethodExpression) getAttributes().get( \"selectionListener\" );\n        ajaxEventListener.invoke( context.getELContext(), new Object[] { event } );\n    }\n\n}\n</code></pre>\n\n<p>The first sub-page (and its Bean), which includes the component:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n        xmlns:h=\"http://java.sun.com/jsf/html\"\n        xmlns:c=\"http://java.sun.com/jsp/jstl/core\"\n        xmlns:f=\"http://java.sun.com/jsf/core\"\n        xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n        xmlns:p=\"http://primefaces.org/ui\"\n        xmlns:cmpnt=\"http://java.sun.com/jsf/composite/component\"&gt;\n    &lt;ui:composition&gt;\n        &lt;h:form id=\"contentForm\"&gt;\n            &lt;cmpnt:videoStatusTable id=\"transferingVideoList\"\n                value=\"#{videoTransfer.tableModel}\"\n                selection=\"#{videoTransfer.selectedTableReadyNotCompletelyTranferedVideo}\"\n                selectionListener=\"${videoTransfer.onVideoSelection}\"\n                selectionUpdate=\":msgsArea\"\n                refreshListener=\"${processStatus.refreshUncompletedVideos}\"\n            &gt;\n            &lt;/cmpnt:videoStatusTable&gt;\n        &lt;/h:form&gt;\n    &lt;/ui:composition&gt;\n    &lt;/html&gt;\n\n\n\n    @Named( value=\"videoTransfer\" ) // CDI\n    @SessionScoped // CDI\n    public class VideoTransferBean implements Serializable {\n\n        private static final long   serialVersionUID    = -9019701853654362317L;\n\n        private VideoStatus                         selectedTableReadyNotCompletelyTranferedVideo;\n        private VideoStatusTableModel               tableModel;\n\n        private List&lt;Video&gt;                         currentlyTranferingVideos = null;\n\n        // Other irrelevant code...\n\n        public VideoStatusTableModel getTableModel() {\n            return tableModel;\n        }\n\n        public void setSelectedTableReadyNotCompletelyTranferedVideo(VideoStatus selectedTableReadyNotCompletelyTranferedVideo) {\n            this.selectedTableReadyNotCompletelyTranferedVideo = selectedTableReadyNotCompletelyTranferedVideo;\n        }\n\n        public VideoStatus getSelectedTableReadyNotCompletelyTranferedVideo() {\n            return selectedTableReadyNotCompletelyTranferedVideo;\n        }\n\npublic void onVideoSelection( SelectEvent event ) {\n        FacesMessage msg = new FacesMessage( \"Video Selected: \" + ((VideoStatus) event.getObject()).getHumanReadableVideoId() );\n        FacesContext.getCurrentInstance().addMessage( null, msg );\n    }\n    }\n</code></pre>\n\n<p>Another sub-page that includes the same component (here the listeners don't work until I reload the page (via the dock or if I hit <kbd>F5</kbd>)):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:h=\"http://java.sun.com/jsf/html\"\n      xmlns:f=\"http://java.sun.com/jsf/core\"\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n      xmlns:p=\"http://primefaces.org/ui\"\n      xmlns:cmpnt=\"http://java.sun.com/jsf/composite/component\"\n&gt;\n    &lt;ui:composition&gt;\n        &lt;h:form id=\"contentForm\"&gt;\n            &lt;cmpnt:videoStatusTable\n                id=\"orphanVideoList\"\n                value=\"#{DataOrganization.videoTableModel}\" \n                selection=\"#{DataOrganization.selectedVideo}\"\n                selectionListener=\"#{DataOrganization.onOrphanVideoSelection}\"\n                selectionUpdate=\":msgsArea\"\n                refreshListener=\"#{DataOrganization.refreshOrphanVideos}\"\n            /&gt;\n        &lt;/h:form&gt;\n    &lt;/ui:composition&gt;\n&lt;/html&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Named(value=\"DataOrganization\") // CDI\n@SessionScoped // CDI\npublic class DataOrganizationBean implements Serializable, MonitoredBean {\n\n    private static final long serialVersionUID = 1686055743669628317L;\n\n    // Constants and variables\n\n    @EJB\n    private DataOrganizationEJB controller;\n\n    private Integer companyEntityID = null;\n\n    private VideoStatusTableModel videoTableModel;\n    private VideoStatus selectedVideo;\n\n    public void refreshOrphanVideos() {\n        setOrphanVideos(controller.getOrphanVideos(getCompanyEntityID()));\n    }\n\n    public void onOrphanVideoSelection(org.primefaces.event.SelectEvent event) {\n        this.setSelectedVideo(((VideoStatus) event.getObject()));\n    }\n\n    public VideoStatusTableModel getVideoTableModel() {\n        return videoTableModel;\n    }\n\n    public VideoStatus getSelectedVideo() {\n        return selectedVideo;\n    }\n    public void setSelectedVideo(VideoStatus selectedVideo) {\n        this.selectedVideo = selectedVideo;\n    }\n}\n</code></pre>\n\n<p>Does anyone have a clue on how to avoid reloading the web page to get the component's listeners to work?</p>\n\n<p>In web XML I have set the <code>STATE_SAVING_METHOD</code> to client. </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context-param&gt;\n    &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;\n    &lt;param-value&gt;client&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>N.B.:\nI use JSF 2.0, Glassfish 3.1.2.2, Primefaces 3.4.</p>\n\n<p>Thanks!</p>\n\n<p><em><strong></em>**<em>*</em>*</strong> UPDATED <strong><em>*</em>**<em>*</em></strong></p>\n\n<p>I found out the problem really comes from the components. If I use the exact same code without the use of components everything works fine.</p>\n\n<p>Did anyone encountered this problem?</p>\n"},{"tags":["jquery","ajax","jquery-ui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13036419,"title":"jQuery resizable() not Working after Ajax Refresh","body":"<p>I've built an Ajax shoutbox that refreshes every 5s. I needed to stop the refresh while a shout was being edited so I used <a href=\"http://stackoverflow.com/a/11777502/1144510\">this method</a>. I wanted the div that contains the shoutbox to be resizable, but when it does refresh, the anchor that you grab to resize the element disappears.</p>\n\n<pre><code>$(function() {\n\n    var shoutbox = $('#shoutbox');\n    shoutbox.resizable();\n\n    // submit a new shout\n    $('#submit').click(function() {\n\n        // prevent submission of empty shouts\n        if ($('#message').val() === '') {\n\n            return false;\n\n        } else {\n\n            var name = $('#name').val();\n            var message = $('#message').val();\n\n            $.ajax({\n\n                url: 'load.php',\n                type: 'POST',\n                data: 'name=' + name + '&amp;message=' + message,\n\n                success: function(result) {\n\n                    /*------ code to run on success ------*/\n                }\n\n            });\n            $('#message').val('').focus();\n\n            // stop the page refreshing\n            return false;\n        }\n\n    });\n\n\n    var refreshIntervalId = null;\n\n    // refresh the shoutbox every 5 seconds\n    refreshIntervalId = setInterval(function() {\n        shoutbox.load('ajax.php');\n    }, 5000);\n\n\n    // edit a shout\n    $('.shout_container').live(\"dblclick\", function() {\n\n        /*------ code to edit shout ------*/\n\n        // stop the shoutbox refreshing while we're editing the shout\n        clearInterval(refreshIntervalId);\n\n    });\n\n\n    // finalise the edit\n    $('.edit').live(\"click\", function() {\n\n        var edit = $(this).siblings('.raw').val();\n        var id = $(this).parent('form').attr('id');\n\n        $.ajax({\n\n            url: 'edit.php',\n            type: 'POST',\n            data: 'name=' + edit + '&amp;id=' + id,\n\n            success: function(result) {\n\n                /*------ code to run on success ------*/\n\n                // restart ajax refresh\n                refreshIntervalId = setInterval(function() {\n                    shoutbox.load('ajax.php');\n                }, 5000);\n\n\n            }\n\n        });\n\n        return false;\n\n    });\n\n});\n</code></pre>\n"},{"tags":["php","sql","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13035622,"title":"SQL syntax error line 1 AJAX PHP & SQL","body":"<p>I'm having issues with my SQL syntax according to the error message I'm getting, but can't figure it out. I'm trying to create a system where I can search a project name for matches using AJAX, PHP and SQL. Each match to the seach term is displayed on screen as a hyperlink which when clicked I intend to take me to another page that will then display any content thats relivant to the search term.</p>\n\n<p>I've got it set up to search the database and display the hyperlinks but when I click on the hyperlink to load the relivant matches I get the error message \"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Home From Home''' at line 1\"</p>\n\n<p>Now inside the code you won't find Home From Home referanced anywhere becuase thats the search term that \"search_value\" picks up. I think my issue is with my query but I'm not 100% sure. I'll post the code from all 3 pages below so you can see how all the pages links together etc.</p>\n\n<p>Where am I going wrong?</p>\n\n<p>CPanel.php</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;script&gt;\n        function showHint(str) {\n            if (str.length==0) { \n                document.getElementById(\"results_box\").innerHTML=\"Matching Project Names: &lt;hr/&gt;\";\n                return;\n            }\n\n            if (window.XMLHttpRequest) {\n                // code for IE7+, Firefox, Chrome, Opera, Safari\n                xmlhttp=new XMLHttpRequest();\n            } else {\n                // code for IE6, IE5\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n\n            xmlhttp.onreadystatechange=function() {\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n                     document.getElementById(\"results_box\").innerHTML=xmlhttp.responseText;\n                 }\n            }\n\n            xmlhttp.open(\"GET\",\"CPanel_Inc.php?search_value=\"+str,true);\n            xmlhttp.send();\n        }\n    &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;p&gt;&lt;b&gt;Project Search:&lt;/b&gt;&lt;/p&gt;\n         &lt;form&gt; \n            Project Name: &lt;input type=\"text\" onKeyUp=\"showHint(this.value)\" size=\"20\" /&gt;\n         &lt;/form&gt;\n         &lt;div id=\"results_box\"&gt;\n            Matching Project Names: &lt;hr/&gt;\n         &lt;/div&gt; \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>CPanel_Inc.php</p>\n\n<pre><code>&lt;?php\n    $connect = mysqli_connect(\"localhost\", \"root\", \"\", \"creative wolf\");\n    if (mysqli_connect_errno()) {\n        printf(\"Connect Failed\", mysqli_connect_error());\n        exit();\n    } else { \n\n        // Get the search_value parameter from URL\n        $search_value = $_GET[\"search_value\"];\n        $content = \"\";\n\n        // Search database for comparable values provided that search_value has some value\n        if (strlen($search_value) &gt; 0) {        \n\n            // Sets up query return results\n            $qry = \"SELECT ProjectName FROM projects WHERE ProjectName LIKE '\".mysql_real_escape_string($search_value).\"%'\";\n            $res = mysqli_query($connect, $qry) or die(mysqli_error($connect));\n\n\n            if (mysqli_num_rows($res) &lt; 1){\n                printf(\"Matching Project Names: &lt;hr/&gt; Could not retrieve records matching your search critera\", mysqli_error($connect));\n            } else {    \n                $content .= \"Matching Project Names: &lt;hr/&gt;\";    \n                while ($data = mysqli_fetch_array($res)) {\n                    $content .= \"&lt;li&gt;&lt;a href=\\\"search.php?search_value='\". $data['ProjectName'].\"'\\\"&gt; \" . $data['ProjectName']. \"&lt;/a&gt;&lt;/li&gt;\";\n                }   \n                echo \"$content\";\n            }   \n        }\n\n        mysqli_free_result($res);\n        mysqli_close($connect);\n    }\n?&gt;\n</code></pre>\n\n<p>Search.php </p>\n\n<pre><code>&lt;?php\n    $connect = mysqli_connect(\"localhost\", \"root\", \"\", \"creative wolf\");\n    if (mysqli_connect_errno()) {\n        printf(\"Connect Failed\", mysqli_connect_error());\n        exit();\n    } else { \n\n        // Get the search_value parameter from URL\n        $content = \"\";\n\n        // Set up query\n        $get_data_qry = \"SELECT * FROM content WHERE ProjectName = '\".$_GET[\"search_value\"].\"'\";\n        $get_data_res = mysqli_query($connect, $get_data_qry) or die(mysqli_error($connect));\n\n        while ($clientData = mysqli_fetch_array($get_data_res)) {\n            $content .= $clientdata['ProjectName'];\n            $content .= $clientdata['RequestedBy'];\n            $content .= $clientdata['FileLocation'];\n            $content .= $clientdata['Description'];\n            $content .= \"&lt;br /&gt;\";\n        }\n\n        mysqli_free_result($res);\n        mysqli_close($connect);\n    }\n?&gt;\n</code></pre>\n"},{"tags":["asp.net","ajax","updatepanel","updateprogress"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2593,"score":0,"question_id":6254774,"title":"Update progress inside update panel","body":"<p>i have two buttons inside a update panel.i need to trigger update progress and show a .gif image for each button click.when i press a button1 only the associated update progress should be displayed and the other one should be invisible</p>\n"},{"tags":["javascript","jquery","ajax","browser","firebug"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13035798,"title":"Developer browser extension: Search/download requested Ajax resources","body":"<p>I have to build a copy of a web application (but with other server technologies) without having the original source code. The goal is that it looks and behaves the same. Hence I saved the page with a web browser (including CSS, JS and image files). The problem is that the web application makes heavy use of JavaScript: It loads JavaScripts with jQuery and these scripts load other resources from the server (JSON) which are rendered as HTML and added to the page content.</p>\n\n<p>Unfortunately, the resources and scripts which are requested by Ajax are not saved when you save the complete web page. I tried to search with a browser developer tool for certain keywords in the Ajax resources, but this is neither possible with Firebug, Google Chrome developer tools nor Opera Dragonfly (or at least I do not know why).</p>\n\n<p>Therefore, I am looking for a way to either</p>\n\n<ul>\n<li>store all requested resources (inclusive Ajax resources) on the file system</li>\n<li>or search for keywords in the requested resources.</li>\n</ul>\n\n<p>Does anybody know a tool or browser plugin (for any browser) which can solve my problem?</p>\n"},{"tags":["ajax","post"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13036120,"title":"I can't get POST to work with Ajax, either","body":"<p>Here's my AJAX call in my CSHTML file:</p>\n\n<pre><code>var personId = \"Somebody\";\nvar personNotes = \"E, F Sharp, A Flat\";\n\nvar TheData = { \"D\": { \"Id\": personId, \"Notes\": personNotes} };\n\n$.ajax({\n    type: \"POST\",\n    url: \"/DataHandler.svc/PostResult\",\n    data: TheData,\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    success: function (data) {\n        $(ValidationErrorDiv).html(\"It works\");\n    },\n    error: function (HelpRequest, ErrorCode, TheError) {\n        $(ValidationErrorDiv).html(\"It doesn't work - \" + TheError);\n    }\n});\n</code></pre>\n\n<p>And here's what is in DataHandler.svc.cs:</p>\n\n<pre><code>public class PostResultType\n{\n    public String Id;\n    public String Notes;\n}\n\n// in the interface:\n\n{   \n  [WebInvoke(Method = \"POST\", ResponseFormat = WebMessageFormat.Json)]\n  int PostResult(PostResultType D);\n}\n\n// in the class:\n\npublic int PostResult(PostResultType D)\n{\n    return 1;\n}\n</code></pre>\n\n<p>If this is called as is, the Ajax call returns an Internal Server Error without getting to the C# code.</p>\n\n<p>If I replace \"data: TheData\" with \"data: JSON.stringify(TheData)\" in the Ajax call, it reaches the C# code, but D.Id and D.Notes are both null.</p>\n\n<p>If I replace \"PostResultType D\" with \"String Id, String Notes\" as PostResult's parameters,\nall of the calls in DataHandler.svc.cs start throwing Internal Server Errors.\nApparently, calls using Post are being limited to one parameter.</p>\n\n<p>Yes, using Get instead of Post will work, but the ultimate goal is to use this for updating a database, so I would prefer to get Post to work.</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13035585,"title":"Change script tag with ajax, why still working?","body":"<p>Hi my question is about how a problem was solved... a friend has html a code like:</p>\n\n<pre><code>&lt;div id=\"result\"&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        function selectColor(value){\n            return \"#319336\";\n        }\n    &lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and with a jquery .load() call in result calls a php file with a function that sends a javascript funtion like this</p>\n\n<pre><code>&lt;?php\n    funtion returnFuntion(){\n        return '&lt;script type=\"text/javascript\"&gt;\n            function selectColor(value){\n                switch(value){\n                    case \"a\":\n                        return \"#000000\";\n                        break;\n                    case \"b\":\n                        return \"#FFFFFF\";\n                        break;\n                    default:\n                        return \"#319336\";\n                }\n        }&lt;/script&gt;';\n    }\n?&gt;\n</code></pre>\n\n<p>I don't know how this is working, but works in all browsers, my friend says \"it works don't worry\". What happens? why javascript recognize the new code and not the old? is that a correct way to do it? the original problem was the javascript function return must change with mysql values obtained from php. </p>\n\n<p>thanks for your time.</p>\n"},{"tags":["ajax","wicket"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13031612,"title":"Wicket: BehaviorRequestTarget - component not enabled or visible; ignoring call","body":"<p>On one page I have added two panels, see figures <code>\"select one or more\"</code> and <code>\"select one\"</code>. The figure <code>\"select one or more\"</code> is the first <code>panel</code> that is visible to the user when the page is loaded for the first time. After the user makes some selections he/she can click the <code>next</code> button. Doing so, the other <code>panel</code> <code>\"select one\"</code> gets visible and the first panel gets invisible. Clicking on <code>back</code> button the first panel gets visible and the second panel disappears. Doing a selection on the second panel and clicking on next the page <code>\"your selection\"</code> gets open.</p>\n\n<p>Everything works fine until I click on the back button of the <code>browser</code> from the second page <code>\"your selection\"</code> to the first page. Back on the first page the user sees the panel <code>\"select one or more\"</code> but nothing works. When I click on the checkboxes I see in the debug:</p>\n\n<p><code>BehaviorRequestTarget - component not enabled or visible; ignoring call. Component: [MarkupContainer [Component id = selection]]</code></p>\n\n<p>And when I click on the next button</p>\n\n<p><code>BehaviorRequestTarget - component not enabled or visible; ignoring call. Component: [MarkupContainer [Component id = next]]</code></p>\n\n<p>This is the ajax debug text:</p>\n\n<p><code>INFO: focus set on idb</code> </p>\n\n<p><code>INFO: Initiating Ajax POST request on ?wicket:interface=:2:allpopup:content:form:allItemsContainer:items:7:selectionContainer:selected::IBehaviorListener:0:&amp;random=0.997746484662292</code></p>\n\n<p><code>INFO: Invoking pre-call handler(s)...</code></p>\n\n<p><code>INFO: Received ajax response (0 characters)</code></p>\n\n<p><code>ERROR: Wicket.Ajax.Call.failure: Error while parsing response: Could not find root &lt;ajax-response&gt; element</code></p>\n\n<p><code>INFO: Invoking post-call handler(s)...</code></p>\n\n<p><code>INFO: Invoking failure handler(s)...</code></p>\n\n<p>Any idea why this happen and what to do about it?</p>\n\n<p>Thank you</p>\n\n<p><img src=\"http://i.stack.imgur.com/ni8no.png\" alt=\"enter image description here\"><img src=\"http://i.stack.imgur.com/Fo8hX.png\" alt=\"enter image description here\"><img src=\"http://i.stack.imgur.com/X87ZT.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","jquery","html","ajax","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13034966,"title":"Ajax on multi check PHP Codeigniter","body":"<p>i want use ajax for sent to saveKrs and save to database. i'm use codeigniter, when i click submit button, there's no event. please help me</p>\n\n<pre><code>form_checkbox('checkKrs[]',$row-&gt;id, FALSE, 'id=checkKrs')\n\n\n      &lt;script type=\"text/javascript\"&gt;\n            $('#save_krs').click(function(){\n                 var id_student= $('#id_student').val();\n                 var id_semester = $('#id_semester').val();\n                    var checkKrs = new Array();\n                        $(\"input:checked\").each(function() {\n                           data['checkKrs[]'].push($(this).val());\n                        })\n\n                         var data = {\n                                checkKrs:checkKrs,\n                                id_semester:id_semester,\n                                id_mahasiswa:id_mahasiswa,\n                                is_ajax: '1'\n                            };\n\n                        $.ajax({\n                            url: \"saveKrs\",\n                            type: 'POST',\n                            data: data,\n                            beforeSend : fnLoadStart,\n                            complete : fnLoadStop,\n                            success: function(msg) {\n                                //$('#form_data').hide();\n                                $('#form_data').html(msg);\n                                //$('#report').show();\n                            }\n                        });\n                    alert('Pengisian KRS tidak boleh kosong');\n                    return false;\n            });\n\n    &lt;/script&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","redirect"],"answer_count":20,"favorite_count":123,"up_vote_count":266,"down_vote_count":0,"view_count":176808,"score":266,"question_id":199099,"title":"How to manage a redirect request after a jQuery Ajax call","body":"<p>Im using $.post() to call a Servlet using Ajax and then use the resulting HTML fragment to replace a div element in the User's current page. However, if the session timeouts the server sends a redirect directive to send the user to the login page. Nonetheless, JQuery is replacing the div element with the contents of the login page, forcing the user's eyes to witness a rare scene indeed. </p>\n\n<p>How can I manage a redirect directive from an Ajax call?</p>\n\n<ul>\n<li>jQuery 1.2.6</li>\n</ul>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13034782,"title":"Refresh a div after a record had been added","body":"<p>I've posted the same question before, but I didn't get any feedback!However, I still can't solve this problem.\nSo I have an index.php which displays users in my database. I'm using a jquery UI dialog form to add new user.The problem is that I want to display a message when a new user is added and show it in the table that displays the user. I succeeded to add records to the database, but I have to refresh the entire page to make the new items added visible in the table. Here is my table :</p>\n\n<pre><code>&lt;div id=\"users\"&gt;\n    &lt;tr&gt;\n        &lt;td&gt;//users's informations&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>the jquery code that adds the users :</p>\n\n<pre><code>//some vars\ndataString = //dataString\n$.ajax({\n    type: \"POST\",\n    url: \"create.php\",\n    data: dataString,\n    success: function () {\n        $(#users).load(\"index.php\", function () {\n            display_message(\"user added\");)\n        };\n    }\n});\n$(this).dialog(\"close\");\nreturn false;\n</code></pre>\n\n<p>So when I click to create a new user ;it just shows me a blank page of index.php loading. Please help, thank you.</p>\n"},{"tags":["jquery","ajax","each"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13031206,"title":"Jquery ajax call and each loop","body":"<p>My each loop isn't working and it sends data without loop. Here is my code:</p>\n\n<pre><code>function copyText() {\n$(\"#ppages\").each(function() {\n        var form_data = {\n            idstrony: $(this).attr(\"class\"),\n            strona: $(this).val(),\n            is_ajax: 1\n        };\n\n        $.ajax({\n            type: \"POST\",\n            async: false,\n            url: \"save.php\",\n            data: form_data\n        });\n    });\n    };\n</code></pre>\n\n<p>What i'm doing wrong? I'll appreciate any kind of help.</p>\n"},{"tags":["php","javascript","ajax",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12999452,"title":"mod_rewrite strange behaviour when url with two subdirectories","body":"<p>I'm developing a web project with php, html5 and javascript. Right now I am using php to handle the URL when the user refresh the page in order to capture the subdirectories and recalculate the content of the page (it is needed because I'm using ajax).</p>\n\n<p>Ok, everithing works well on this manner, but to accomplish this I need to redirect every request to my page to index.php that calls another file called controller.php.\nTo do this I'm using the following .htaccess code:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{DOCUMENT_ROOT}/index\\.php -f\nRewriteRule ^(.*)$  /MySubDirectory/index.php [QSA]\n</code></pre>\n\n<p>I'm testing it on localhost, so for patterns following:</p>\n\n<pre><code>localhost/MySubDirectory/\nlocalhost/MySubDirectory/something\n</code></pre>\n\n<p>it works, but when I add a new folder:</p>\n\n<pre><code>localhost/MySubDirectory/something/somethingelse\n</code></pre>\n\n<p>I get weird errors on the css and javascript imports</p>\n\n<pre><code>Uncaught SyntaxError: Unexpected token &lt; jquery-1.8.2.min.js:1\nUncaught SyntaxError: Unexpected token &lt; jquery-ui-1.9.0.min.js:1\nUncaught SyntaxError: Unexpected token &lt; SpriteAnimation.js:1\nUncaught SyntaxError: Unexpected token &lt; Bile.js:1\n</code></pre>\n\n<p>Thanks for helping.</p>\n"},{"tags":["php","html","ajax","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3097,"score":0,"question_id":8801374,"title":"data insert and retrieve in mysql using php and ajax","body":"<p>I have a very simple form, containing a textbox and a submit button. When the user enters something into the form, then clicks submit, I would like to use php and ajax (with jquery) to insert the result of the form into a mysql database. this result should be displayed on the same page in the form of a table which is updated after every insert.</p>\n\n<p>can anyone please help? </p>\n\n<p>the code i have used that isnt working: \n1) ajax.html</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n&lt;!-- \n//Browser Support Code\nfunction ajaxFunction(){\n var ajaxRequest;  // The variable that makes Ajax possible!\n\n try{\n   // Opera 8.0+, Firefox, Safari\n   ajaxRequest = new XMLHttpRequest();\n }catch (e){\n   // Internet Explorer Browsers\n   try{\n      ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n   }catch (e) {\n      try{\n         ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }catch (e){\n         // Something went wrong\n         alert(\"Your browser broke!\");\n         return false;\n      }\n   }\n }\n // Create a function that will receive data \n // sent from the server and will update\n // div section in the same page.\n ajaxRequest.onreadystatechange = function(){\n   if(ajaxRequest.readyState == 4){\n      var ajaxDisplay = document.getElementById('ajaxDiv');\n      ajaxDisplay.value = ajaxRequest.responseText;\n   }\n }\n // Now get the value from user and pass it to\n // server script.\n var name = document.getElementById('name').value;\nvar age = document.getElementById('age').value;\n var wpm = document.getElementById('wpm').value;\n var sex = document.getElementById('sex').value;\n var queryString = \"&amp;name=\" +name+ \"&amp;age=\" + age ;\n queryString +=  \"&amp;wpm=\" + wpm + \"&amp;sex=\" + sex;\n ajaxRequest.open(\"GET\", \"ajax-example.php\" + \n                              queryString, true);\n ajaxRequest.send(null); \n}\n//--&gt;\n&lt;/script&gt;\n&lt;form name='myForm'&gt;\nName: &lt;input type='text' id='name' /&gt;&lt;br/&gt;\nMax Age: &lt;input type='text' id='age' /&gt; &lt;br /&gt;\nMax WPM: &lt;input type='text' id='wpm' /&gt;\n&lt;br /&gt;\nSex: &lt;select id='sex'&gt;\n&lt;option value=\"m\"&gt;m&lt;/option&gt;\n&lt;option value=\"f\"&gt;f&lt;/option&gt;\n&lt;/select&gt;\n&lt;input type='button' onclick='ajaxFunction()' \n                              value='Query MySQL'/&gt;\n&lt;/form&gt;\n&lt;div id='ajaxDiv'&gt;Your result will display here&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>2) ajax-example.php</p>\n\n<pre><code>&lt;?php\n$dbhost = \"localhost\";\n$dbuser = \"demo\";\n$dbpass = \"demo\";\n$dbname = \"test_db\";\n    //Connect to MySQL Server\nmysql_connect($dbhost, $dbuser, $dbpass);\n    //Select Database\nmysql_select_db($test_db) or die(mysql_error());\n    // Retrieve data from Query String\n$age = $_GET['age'];\n$sex = $_GET['sex'];\n$wpm = $_GET['wpm'];\n    // Escape User Input to help prevent SQL Injection\n$age = mysql_real_escape_string($age);\n$sex = mysql_real_escape_string($sex);\n$wpm = mysql_real_escape_string($wpm);\n    //build query\n$query = \"INSERT INTO form2 (name,age,sex,wpm) VALUES ('$name','$age','$sex','$wpm')\";;\n\n\nmysql_select_db('test_db');\n\n$retval = mysql_query( $sql, $conn );\nif(! $retval )\n{\n  die('Could not enter data: ' . mysql_error());\n}\n\n    //Build Result String\n$display_string = \"&lt;table&gt;\";\n$display_string .= \"&lt;tr&gt;\";\n$display_string .= \"&lt;th&gt;Name&lt;/th&gt;\";\n$display_string .= \"&lt;th&gt;Age&lt;/th&gt;\";\n$display_string .= \"&lt;th&gt;Sex&lt;/th&gt;\";\n$display_string .= \"&lt;th&gt;WPM&lt;/th&gt;\";\n$display_string .= \"&lt;/tr&gt;\";\n\n// Insert a new row in the table for each person returned\n$result1=mysql_query(\"SELECT * FROM form2 WHERE name='$name'\"); \nwhile($row = mysql_fetch_array($result1))\n{\n    $display_string .= \"&lt;tr&gt;\";\n    $display_string .= \"&lt;td&gt;$row[name]&lt;/td&gt;\";\n    $display_string .= \"&lt;td&gt;$row[age]&lt;/td&gt;\";\n    $display_string .= \"&lt;td&gt;$row[sex]&lt;/td&gt;\";\n    $display_string .= \"&lt;td&gt;$row[wpm]&lt;/td&gt;\";\n    $display_string .= \"&lt;/tr&gt;\";\n\n}\n\n$display_string .= \"&lt;/table&gt;\";\necho $display_string;\n?&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","jquery-ajax","post","get"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13033873,"title":"jQuery.ajax POST request converted to GET","body":"<p>I have the following jQuery code:</p>\n\n<pre><code>    $.ajax({\n        url: Url,\n        dataType: 'JSONP',\n        type: 'POST',\n        success: function (data, textStatus, jqXHR) {\n            //callback function here\n        },\n        error: function (xhr, ajaxOptions, thrownError) {\n            //report error\n        }\n    });\n</code></pre>\n\n<p>However, when i view this AJAX request in <a href=\"http://www.fiddler2.com/fiddler2/\" rel=\"nofollow\">Fiddler</a>, my request has been converted from a <code>POST</code> to a <code>GET</code>.</p>\n\n<p>This is not allowed with the API I'm connecting to, as it must be a <code>POST</code> request.</p>\n\n<p>Why is this happening?</p>\n"},{"tags":["jquery","ajax","jquery-ajax","modernizr","progressive-enhancement"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":12961149,"title":"How can I use Modernizr to test a browser for AJAX support?","body":"<p>As a big fan of Progressive-Enhancement, I use Modernizr to test browser capabilities. <strong>How can I use Modernizr to test the browser's support of AJAX</strong> (specifically, jQuery's AJAX functions)?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13033686,"title":"Submitting field to database using ajax","body":"<p>I have an image slider and every time the next image is loaded I need to save a record to the database. I am trying to accomplish this using jQuery and AJAX. </p>\n\n<p>I write the info I need to a hidden field called data so I can post it to my PHP page.</p>\n\n<pre><code>    function ajaxSave(){\n        $(\"#data\").val($(\"#image\").attr(\"src\")+\",\"+ratings[iCount]);\n        //alert($(\"#data\").val());//Testing\n        $.ajax({\n            type: \"POST\",\n            url: \"ajax/ajaxSave.php\",\n            data: $(\"#data\").val(),\n\n            success: function(data){\n                alert(data);//only for testing purposes\n            }\n        });\n    }\n</code></pre>\n\n<p>I call my ajaxSave() function every time the next button is pressed. I get my alert that was successful but my question is: What is the $_POST[''] array cell for this?</p>\n\n<p>I need to manipulate the data in the php page (see below), but I only get an alert that says \"array (    )\".</p>\n\n<pre><code>&lt;?php\n    print_r($_POST);\n?&gt;\n</code></pre>\n\n<p>I'm very new to AJAX so any help would be greatly appreciated! Thanks.</p>\n"},{"tags":["php","javascript","ajax","file-upload"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":13033104,"title":"PHP and Ajax file upload - Can't get the tmp_name with $_FILES","body":"<p>I'm trying to upload a file using Ajax, but I'm having troubles handling the file...\nFor test purposes I've build a simple code that looks like this:</p>\n\n<p>JS:</p>\n\n<pre><code>xmlhttp=new XMLHttpRequest();\nxmlhttp.open(\"POST\",document.getElementById('upload').action,true);\nxmlhttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\nvar cmdStr=\"q=\"+str;\nxmlhttp.send(cmdStr);\n\ndocument.getElementById(\"ResponseDiv\").innerHTML=xmlhttp.responseText;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>$q=$_POST[\"q\"];\necho $q;\n</code></pre>\n\n<p>It works fine and <code>xmlhttp.responseText</code> prints <code>[object File]</code>.</p>\n\n<p>My problem, however, is that I need to get the temporary file name with <code>$_FILES[\"q\"]['tmp_name']</code>. To do so I have changed the code to the following:</p>\n\n<p>JS:</p>\n\n<pre><code>xmlhttp=new XMLHttpRequest();\nxmlhttp.open(\"POST\",document.getElementById('upload').action,true);\nxmlhttp.setRequestHeader(\"enctype\",\"multipart/form-data\");\nvar cmdStr=\"q=\"+str;\nxmlhttp.send(cmdStr);\n\ndocument.getElementById(\"ResponseDiv\").innerHTML=xmlhttp.responseText;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>$q=$_FILES[\"q\"][\"tmp_name\"];\necho $q;\n</code></pre>\n\n<p>Problem is that now with <code>xmlhttp.responseText</code> I don't get anything.\nAnyone knows what I'm doing wrong?</p>\n"},{"tags":["javascript","asp.net","ajax","wcf","web-services"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13031510,"title":"problems when I call a WCF webservice from AJAX","body":"<p>I have a Web Application.In this application I add an AJAX enabled WCF service .The calss name is PricingService and the code is below:</p>\n\n<pre><code>namespace PricingService\n{\n[ServiceContract(Namespace = \"PricingService\")]\n[AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]\npublic class PricingService\n{\n\n    [OperationContract]\n    [WebInvoke]\n    public double CalculatePrice(string itemId, string shipToPostalCode)\n    {\n        double price;\n        price = 45;\n        price = price * 1.06;\n        return price;\n\n    }\n\n}\n}\n</code></pre>\n\n<p>I want to call this service from AJAX ,from a web site in ASP.net.\nIn default.aspx page I add this code:</p>\n\n<pre><code> &lt;body&gt;\n&lt;form id=\"form1\" runat=\"server\"&gt;\n&lt;div&gt;\n\n    &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\"&gt;\n    &lt;Services&gt;\n    &lt;asp:ServiceReference Path=\"http://localhost:49340/PricingService.svc\" /&gt;\n    &lt;/Services&gt;\n    &lt;/asp:ScriptManager&gt;\n\n    Product: &lt;br /&gt;\n    &lt;asp:TextBox ID=\"txtProduct\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n    &lt;br /&gt;\n    Ship to (Postal code ):&lt;br /&gt;\n    &lt;asp:TextBox ID=\"txtPostCode\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;input id=\"ButtonCalculate\" type=\"button\" value=\"Get Price\" onclick=\"buttonCalculate_onClick()\"/&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;asp:Label ID=\"LabelPrice\" runat=\"server\" Text=\"Label\"&gt;&lt;/asp:Label&gt;\n\n\n&lt;/div&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n    function buttonCalculate_onClick() {\n        var service = new PricingService.PricingService();\n        service.CalculatePrice(document.form[0].txtProduct.value,document.form[0].txtPostCode.value,onSucces,onFail,null);\n\n    }\n\n    function onSuccess(result) {\n        LabelPrice.innerText = result;\n    }\n\n    function onFail(result) {\n        alert(result);\n    }\n\n&lt;/script&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>When i click the button i receive the message : The 'PricingService' is undefined\nCan somebody tell me what's the problem?\nThe web site and wcf service are in the same project called 'WcfServiceApplication'\nThanks!</p>\n"},{"tags":["jquery","ajax","jquery-ui","jquery-ui-dialog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13033392,"title":"how to pass a parameter into jquery UI dialog box","body":"<p>I have several links on my page and each one contains a different <code>id=X</code>. I want to open a dialog box when user clicks on any of these links and also want the <code>id</code> value of the link that was clicked. Using this ID I need to go back to my server and fetch a page into the dialog box using ajax. </p>\n\n<p>My first step was to try to get the ID into the dialog box. So, I created a sample: <a href=\"http://jsbin.com/ajefel/1/\" rel=\"nofollow\">http://jsbin.com/ajefel/1/</a></p>\n\n<p>The dialog box opens up, however, I don't know how to get access to the <code>id</code> value of the clicked link into the dialog box.</p>\n\n<p><strong>Question</strong></p>\n\n<p>In the <a href=\"http://jsbin.com/ajefel/1/\" rel=\"nofollow\">example above</a>, how can I include the value of the clicked link inside the dialog box?</p>\n"},{"tags":["ajax","jsf","jsf-2"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13009174,"title":"JSF update with ajax non JSF things","body":"<p>Is it possible to update parts of my page that are not jsf components ?</p>\n\n<p>For example can i update a simple div or do i need to wrap that in a jsf component ?</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13033353,"title":"Ajax call in Core PHP,","body":"<p>in one of my front end PHP files im doing this in my Jquery :</p>\n\n<pre><code>var name = $('#core_name').val();\nvar param = {};\n        param['name'] = name;\n        $.ajax({\n            url:'../back_end/user.php/verify_name',\n            data:param,\n            type:'POST',\n            success:function(result){\n                alert(result);\n            }\n        });\n</code></pre>\n\n<p>In my back_end/user.php im doing this :</p>\n\n<pre><code>&lt;?php\nclass User{\n\n    function index(){\n        //for now do nothing  \n    }\n    function verify_name(){\n        echo \"here\";        \n    }\n}\n?&gt;\n</code></pre>\n\n<p>Why cant i alert \"here\", what is it that iam doing wrong ?\nFirebug detects no error , so the file user.php has correct path (no 404 error) why cant i reach the function verify_name ?</p>\n"},{"tags":["jquery","ajax","wordpress","redirect"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12871827,"title":"Redirect to hash URL","body":"<p>I'm building a site with a hashchange on wordpress, all working good. It just loads a single.php template file into a div.</p>\n\n<p>The problem is that i can still access my single url (http://www.mydomain.com/my-single-post). Since its not having any head and style tags with it, i don't want people to go over there. Also google has picked up the direct links, because I use the href attribute to load content into the div.</p>\n\n<p>So my question is:</p>\n\n<p>If someone clicks a link lets say in a forum, <a href=\"http://www.mydomain.com/my-single-post\" rel=\"nofollow\">http://www.mydomain.com/my-single-post</a> , is it possible to redirect him instantly to <a href=\"http://www.mydomain.com/#my-single-post\" rel=\"nofollow\">http://www.mydomain.com/#my-single-post</a> ? I have researched that it has something to do with .htaccess, but I also have Pages, where i don't want the hash infront of the page-name.</p>\n\n<h2>EDIT</h2>\n\n<p>I have a small update. If this code removes the hash-tag from the url and redirects to a non-hash url, then how to put this code in reverse?</p>\n\n<pre><code>var current_hash = location.hash;\n        current_hash = current_hash.replace(/#/,'');\n    if(current_hash.length&gt;1){\n        // we have something after the #. redirect as if the # wasn't there.\n        window.location.href=current_hash;\n    }\n</code></pre>\n"},{"tags":["php","jquery","ajax","json","forms"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13032520,"title":"Best way to post form data via ajax to PHP","body":"<p>I'm just wondering what is the best way to post form data via ajax to a PHP script. I'm following these 3 methods:</p>\n\n<ol>\n<li><p>Post form fields separately to PHP (And in PHP receive them individually like normal)</p></li>\n<li><p>Convert form data into JSON encode data and send it to PHP in a single POST field ( And receive it in PHP as a single POST variable having JSON encoded data)</p></li>\n<li><p>Convert form data into JSON encode data and send it to PHP in way that PHP receives it in <code>$GLOBALS[\"HTTP_RAW_POST_DATA\"]</code>.</p></li>\n</ol>\n\n<p>I would like to ask what is the best method in terms of security and performance. Is there any other better way to do this process? I repeat that I'm sending via jQuery AJAX. </p>\n"},{"tags":["asp.net","ajax","modalpopupextender"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":5914,"score":0,"question_id":2177227,"title":"Need help with a simple ASP.NET ModalPopupExtender example","body":"<p>I'm new to ASP.NET and I'm trying to get this Ajax ModalPopupExtender working. This is an example i found on the net, but nothing happens when btnpopup is clicked.</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"Default.aspx.cs\" Inherits=\"ModalTestProject._Default\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" &gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;Untitled Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;form id=\"form1\" runat=\"server\"&gt;\n\n&lt;asp:scriptmanager id=\"ScriptManager1\" runat=\"server\"&gt;\n&lt;/asp:scriptmanager&gt;\n\n&lt;asp:Button ID=\"btnpopup\" runat=\"server\" Text=\"Button\" /&gt; \n\n&lt;ajaxToolkit:ModalPopupExtender ID=\"mpe\" runat=\"server\" TargetControlID=\"btnpopup\" PopupControlID=\"pnlpopup\" \n    CancelControlID=\"btnCancelpopup\" EnableViewState=\"true\" DropShadow=\"true\" /&gt;\n\n&lt;asp:Panel ID=\"pnlpopup\" runat=\"server\" Width=\"400px\"&gt;\n    test\n    &lt;asp:Button ID=\"btnCancelpopup\" runat=\"server\" Text=\"Button\" /&gt;\n&lt;/asp:Panel&gt;\n\n&lt;/form&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13032888,"title":"sending json object via ajax","body":"<p>I am creating a simple form input demo. Values are stored from a form in variables then they are put into json object and it is sent via ajax. </p>\n\n<p>My Json object validates but how do I reference it in the data field in $.ajax? My code:</p>\n\n<pre><code>$(document).ready(function() {\n  $('.submitForm').on('click',function(event){\nevent.preventDefault();\n\n    var firstName = $('#firstName').val();\n    var lastName  = $('#lastName').val();\n    var phone     = $('#phoneNumber').val();\n    var address   = $('#address').val();\n    var $out      = $(\"#formResults\");\n\n    $out.append(\"&lt;p&gt;\" + firstName  +' '+ lastName + \"&lt;/p&gt;\" +                                       \n                \"&lt;p&gt;\" + $('#phoneNumber').val() + \"&lt;/p&gt;\" + \n\n                    //json object\n                     {\n                       \"firstName\" : \"firstName\", \n                        \"lastName\" : \"lastName\",\n                        \"phoneNumber\" : \"phoneNumber\",\n                        \"address\" : \"address\"\n                       }\n\n\n                         $.ajax({\n                         url: 'http://localhost/xyz/markup/',\n                         method:  'GET',\n                         data: jsonObject\n                         error: alert(\"error\")\n                         complete: alert (\"complete\")\n                                                 });\n                                     });            \n                                     });\n</code></pre>\n\n<p>thanks! </p>\n"},{"tags":["php","jquery","mysql","ajax","long-polling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13031143,"title":"Long polling example with jQuery, PHP and MySQL","body":"<p>I want to develop a chat application using jQuery, PHP and MySQL.\nTo have live updates for each client I want to use long polling. Unfortunately I couldn't find an example or a tutorial that answered all my questions. </p>\n\n<p>I need a simple example where a javascript function loads a php file checking a MySQL filebase for new entries and all that using long polling to achieve live updates.</p>\n\n<p>Thank you in advance for any help</p>\n"},{"tags":["jquery","ajax","grails","service","gsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13023109,"title":"How to show a calculated fields on show.gsp?","body":"<p>I'm having some difficulties dealing with calculated non-stored fields. I would liked to show my actual domain classes but their have a lot of fields. So let's consider the following domain class:</p>\n\n<pre><code>class ImportantCalculation {\n BigDecimal parameter1\n BigDecimal parameter2\n BigDecimal parameter3\n BigDecimal result1\n BigDecimal result2\n ...\n}\n</code></pre>\n\n<p>The result1 and result2 are calculated fields that depend on sub-results of calculations using parameter1, parameter2 and parameter3. Using kind of mathematical notation (actual calculations involve many classes and database queries):</p>\n\n<pre><code>subresult1=function(parameter1)\nsubresult2=function(parameter2,parameter3)\nresult1=function(subresult1,subresult2)\nresult2=function(parameter1,subresult2)\n</code></pre>\n\n<p>In the create.gsp this calculations are performed in a Java class which is invoked by a service. This service is used by a controller. And this controller is invoked by a autocomplete jQuery element inside a JavaScript file then displayed in their according fields:</p>\n\n<pre><code>Calculations.java -&gt; CalculationsService.groovy -&gt; CalculationsController -&gt; calculations.js -&gt; GSP view.\n</code></pre>\n\n<p>The GSP view contains fields to display sub-results.</p>\n\n<p>It would be easier to store this sub-results but as it can be calculated it's not necessary, but I can't do this with the final results.</p>\n\n<p>So, I need this sub-results to be shown in the show.gsp view and also in the edit.gsp view. But I don't know how to do this. I tried to use Ajax and jQuery but I'm a total newbie on those tools. </p>\n\n<p>Please help me.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ajax","progressive-enhancement"],"answer_count":8,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":777,"score":10,"question_id":2486,"title":"What is Progressive Enhancement?","body":"<p>Jeff mentioned the concept of 'Progressive Enhancement' when talking about using JQuery to write stackoverflow.</p>\n\n<p>After a quick Google, I found a couple of high-level discussions about it.</p>\n\n<p>Can anyone recommend a good place to start as a programmer.</p>\n\n<p>Specifically, I have been writing web apps in PHP and would like to use YUI to improve the pages I am writing, but a lot of them seem very JavaScript based, with most of the donkey work being done using JavaScript. To me, that seems a bit overkill, since viewing the site without Javascript will probably break most of it.</p>\n\n<p>Anyone have some good places to start using this idea, I don't really care about the language.</p>\n\n<p>Ideally, I would like to see how you start creating the static HTML first, and then adding the YUI (or whatever Ajax framework) to it so that you get the benefits of a richer client?</p>\n"},{"tags":["php","jquery","ajax","arrays","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13031611,"title":"Getting jQuery array into php form","body":"<p>I have a form that includes several input text fields and a list that's sortable (se code below). The function below retrieves the new positions that's saved to an array (order). However, what I want is to include the array in the form so that when the user is finished with the sorting, has filled in the text fields and submits the form this array will be apart of the form.</p>\n\n<p>So, how could I get this array into the form with AJAX?</p>\n\n<pre><code>$('#listElements').sortable({\n            //revert: true,\n            update: function(event, ui) {\n\n                var order = [];\n                $('.listObject li').each(function (e) {\n                    order.push($(this).attr('id'));\n                });\n                $.ajax({\n                    url: \"/index.php?type=list&amp;action=showList&amp;listId=1\",\n                    type: \"post\",\n                    data: {\n                        order_data: order\n                    }\n                }).success(function (data) {\n                    console.log(data);\n                });\n            }\n        });\n</code></pre>\n\n<p>NOTE: To make it clear, I want to get the array into the form.</p>\n"},{"tags":["asp.net","ajax","gridview","modalpopupextender"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3485,"score":1,"question_id":8526289,"title":"how to populate modalpopupextender when gridview button is clicked in asp.net","body":"<p>I have one problem, someone maybe can help me.\nI have a gridview and a button to edit the fields in the gridview from within a modalpopupextender. \nWhat I want to achieve is when someone will click the edit button, the popup to have the data from the row which needs to be edited.\nAs it is now, when someone clicks the edit button, the popup comes up but with blank textboxes/dropdowns there. \nHere is what I have at this moment:</p>\n\n<pre><code>&lt;ItemTemplate&gt;\n   &lt;asp:Button ID=\"btnEdit\" CausesValidation=\"false\" \n       runat=\"server\" Text=\"Edit\" OnClick=\"Activatee\" /&gt;\n  &lt;ajaxToolkit:ConfirmButtonExtender ID=\"btnDeactivatePopup\" runat=\"server\" \n       TargetControlID=\"btnEdit\" DisplayModalPopupID=\"ModalPopupDeactivate\" /&gt;\n  &lt;ajaxToolkit:ModalPopupExtender \n       ID=\"ModalPopupDeactivate\" runat=\"server\" TargetControlID=\"btnEdit\" \n       PopupControlID=\"pnlActivate\" OkControlID=\"btnDeactivateOK\" \n       CancelControlID=\"btnDeactivateCancel\" BackgroundCssClass=\"modalBackground\" \n       DynamicServicePath=\"\" Enabled=\"true\" /&gt;\n&lt;/ItemTemplate&gt;\n</code></pre>\n\n<p>I tried with another method when the button is clicked, but when I am clicking the edit button, the popup doesn't come out at the page:</p>\n\n<pre><code>  &lt;ItemTemplate&gt;\n    &lt;asp:Button ID=\"btnEdit\" CausesValidation=\"false\" \n          runat=\"server\" Text=\"Edit\" OnClick=\"getData\" /&gt;\n    &lt;!-- \n    &lt;ajaxToolkit:ConfirmButtonExtender ID=\"btnDeactivatePopup\" \n          runat=\"server\" TargetControlID=\"btnEdit\" \n          DisplayModalPopupID=\"ModalPopupDeactivate\" /&gt; \n    --&gt;\n    &lt;ajaxToolkit:ModalPopupExtender ID=\"ModalPopupDeactivate\" \n          runat=\"server\" TargetControlID=\"btnEdit\" PopupControlID=\"pnlActivate\"\n          OkControlID=\"btnDeactivateOK\" CancelControlID=\"btnDeactivateCancel\" \n          BackgroundCssClass=\"modalBackground\" DynamicServicePath=\"\" Enabled=\"true\" /&gt;\n &lt;/ItemTemplate&gt;\n</code></pre>\n\n<p>And here is the backend code too for the version above but it doesn't show the popup at the end:</p>\n\n<pre><code> protected void getData(object sender, EventArgs e)\n {\n      string coef = \"\";\n      Button btn = (Button)sender;\n      GridViewRow gvr = (GridViewRow)btn.NamingContainer;\n      int rowindex = gvr.RowIndex;\n      GridViewRow roww = gvGDG.Rows[rowindex];\n      coef = Convert.ToString(roww.Cells[7].Text);\n      txtCoefficient.Text = coef;\n      ModalPopupExtender modalPopupExtender1 = \n         (ModalPopupExtender)gvGDG.Rows[rowindex].FindControl(\"ModalPopupDeactivate\");\n      modalPopupExtender1.Show();\n }\n</code></pre>\n\n<p>I hope someone can help me with this.\nThanks a lot, Laziale</p>\n"},{"tags":["php","javascript","css","ajax","minify"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":72,"score":2,"question_id":13030908,"title":"Minifying JS/CSS Files on request with PHP","body":"<p>I am currently in the process of writing a javascript class that loads libraries from my server dependant upon what the site needs. Much like the Google  API <code>e.g. google.load('jquery','1.7.1')</code>.</p>\n\n<p>One of the things that I would like to do is combine all the JS/CSS files into one and minify them using PHP. I have had a good look around the net and whilst I was able to find a fair few questions on Stackoverflow that refer to this topic, they seemed somewhat outdated. So, resultantly, I have decided to re-open this debate in order to gain some up to date info on this subject.</p>\n\n<p>I was able to find two PHP Javascript minifiers on the net, these being</p>\n\n<ol>\n<li><a href=\"https://github.com/tedivm/JShrink\" rel=\"nofollow\">JShrink</a></li>\n<li><a href=\"http://joliclic.free.fr/php/javascript-packer/en/\" rel=\"nofollow\">Javascript Packer</a></li>\n</ol>\n\n<p><em>I did actually find a third (JSMin), but this was unmaintained</em></p>\n\n<p>My questions are quite simple:</p>\n\n<ol>\n<li>Are these scripts reliable and maintained? Do they even need to be maintained?</li>\n<li>Do they compress CSS?</li>\n<li>Which script is better?</li>\n</ol>\n"},{"tags":["ajax","grails"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13002664,"title":"Grails: Ajax response empty","body":"<p>I want to change the layout when there is an ajax request. So I setup an Filter for that:</p>\n\n<pre><code>class AjaxFilters {\n\ndef filters = {\n    ajaxify(controller: '*', action: '*') {\n        after = { Map model -&gt;\n\n\n    if(model==null) {\n        model = new HashMap()\n    }\n\n    // only intercept AJAX requests\n    if (!request.xhr) {\n        model.put(\"layout\", \"mainUsers\")\n        return true \n    }\n\n    // find our controller to see if the action is ajaxified\n    def artefact = grailsApplication\n        .getArtefactByLogicalPropertyName(\"Controller\", controllerName)\n    if (!artefact) { return true }\n\n    // check if our action is ajaxified\n    def isAjaxified = artefact.clazz.declaredFields.find {\n        it.name == 'ajaxify'\n    } != null\n\n\n    def ajaxified = isAjaxified ? artefact.clazz?.ajaxify : []\n    if (actionName in ajaxified || '*' in ajaxified) {\n        model.put(\"layout\", \"ajax\")\n        return false\n    }\n    return true\n        }\n    }\n}\n}\n</code></pre>\n\n<p>This creates a view model named \"layout\" which should define what layout to use. </p>\n\n<p>Here is an example view which uses the layout model:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"/&gt;\n&lt;meta name=\"layout\" content=\"${layout}\"/&gt;\n&lt;title&gt;Profile&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Edit Profile&lt;/h3&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is the controller:</p>\n\n<pre><code>class SettingsController {\ndef springSecurityService\nstatic ajaxify = [\"profile\", \"account\"]\n\ndef profile() {\n    User user = springSecurityService.currentUser\n\n    UserProfile profile = UserProfile.findByUser(user)\n\n    if(profile == null) {\n        flash.error=\"Profile not found.\"\n        return\n    }\n\n    [profile: profile, user: user]\n}\n}\n</code></pre>\n\n<p>A normal request works as expected, but when I try an ajax one the response is completly empty. Only headers are sent.</p>\n"},{"tags":["javascript","ajax","model","angular"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":123,"score":2,"question_id":13020821,"title":"Probably obvious...how do I load my json into my angular.js ng-model?","body":"<p>I have what I think is probably a very obvious question, but I couldn't find an answer anywhere.</p>\n\n<p>I am just trying to load some JSON data from my server into the client. Right now, I am using JQuery to load it with an AJAX call (code below).</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar global = new Array();\n$.ajax({\n    url: \"/json\",\n    success: function(reports){\n        global = reports;\n        return global;\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>This is located in the html file. It works so far, but the issue is that I want to use AngularJS. Now, while Angular CAN use the variables, i cannot load the whole thing into a variable so I can use a for each loop. This seems to be related to the \"$Scope\", which is usually located in the .js file.</p>\n\n<p>The problem is that I cannot load code from other pages into a .js file. Every example of Angular only shows stuff like this:</p>\n\n<pre><code>function TodoCtrl($scope) {\n  $scope.todos = [\n    {text:'learn angular', done:true},\n    {text:'build an angular app', done:false}];\n</code></pre>\n\n<p>So, this is useful, if I \nA) Want to type all of this by hand, AND \nB) If I know in advance what all my data is...</p>\n\n<p>I don't know in advance (the data is dynamic) and I don't want to type it. </p>\n\n<p>So, when I tried to change the AJAX call to Angular using $Resource, it doesn't seem to work. Maybe I can't figure it out, but it is a relatively simple GET request for JSON data.</p>\n\n<p><strong>tl:dr I can't get AJAX calls to work in order to load external data into an angular model.</strong></p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13030639,"title":"How can I make jquery wait for one function to finish before executing another function?","body":"<pre><code>function test(){\nvar distance=null;\n       first();\n       second();\n       third();\nalert(distance);//it shows null always because it take 2 second to complete.\n\n}\n function first(tolat, tolon, fromlat,fromlon){\n\n// calulating road distance between two points on the map using any other distance caluculating apis. \n\ndistance=dis;  // update the value of distance but it takes 2 second to complete.\n\n}\n function second(){}\n function third(){}\n</code></pre>\n\n<p>i have this type of situation in my code, now many time function three is called before first and second complete execution and distance value is not updated.</p>\n"},{"tags":["php","javascript","css","ajax","function"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13000378,"title":"How to execute a js function uses elements of another function which brings ajax page","body":"<p>In my \"index.php\" page, I take sth from user and give response in a div using \"ajax.php\". ajax page returns an ordered list divided into divs called pages. After ajax loaded, I need to execute a function which sets some css properties of the pages. The function is ready and works properly when I attached it to a button's onClick event. But I want execute it automatically after the ajax page loaded. I tried:</p>\n\n<ol>\n<li>onload events also in index.php and ajax.php at the top of the page and also at the bottom of the page--> it doesn't work</li>\n<li>function in function showAjax(){...setCSS();}--> I failed to run it after the whole ajax page loaded</li>\n<li>callback function--> it doesn't work properly</li>\n<li>onClick event like that onClick=\"showAjax(); setCSS();\"--> it doesn't work</li>\n</ol>\n\n<p>I don't use jQuery. I examined similar problems solving methods but they don't work. I appreciate anyone saves me from this trouble. Thanks</p>\n\n<p>Code Added:</p>\n\n<pre><code>var xmlHttp;\n\nfunction loadXMLDoc(url,cfunc) {\n    if (window.XMLHttpRequest) {\n        xmlHttp=new XMLHttpRequest();\n    } \n    else {\n        xmlHttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n    } \n    xmlHttp.onreadystatechange=cfunc; \n    xmlHttp.open(\"GET\",url,true); \n    xmlHttp.send();\n}\n\nfunction showAjax(x) { \n    loadXMLDoc(\"ajax.php?obj=\"+x,function() {\n       if (xmlHttp.readyState==4 &amp;&amp; xmlHttp.status==200) {\n          document.getElementById(\"sonuclar\").innerHTML=xmlHttp.responseText;\n       }\n    });\n}\n</code></pre>\n"},{"tags":["php","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13030519,"title":"PHP-AJAX-JSON Notice: Undefined index :","body":"<p>I'm trying to make a test page for sending google map cordinates to populate a mysql database. I'm using ajax to send data to php. Firebug shows that the data is sending. But this php error comes out. And the mysql database is populating without the map cordinates. </p>\n\n<p>Here's the Ajax function: </p>\n\n<pre><code>function sendData(geodata){\n    var hr = new XMLHttpRequest();\n    hr.open(\"POST\",\"getdata.php\",true);\n    hr.setRequestHeader(\"Content-type\",\"application/json\");\n\n    if(hr.readyState==4 &amp;&amp; hr.status==200){\n            var data =  JSON.parse(hr.responseText);\n            alert(\"Data received about \"+data);\n            }//end if\n\n    hr.send(\"geodata=\"+geodata);\n}//close sendData\n</code></pre>\n\n<p>This is the PHP page.</p>\n\n<pre><code>    &lt;?php\nheader(\"Content-Type : application/json\");\n\n$loc = $_POST[\"geodata\"];\n\n$username=\"root\";\n$password=\"\";\n$database=\"location\";\n\n$connection = mysql_connect('localhost',$username,$password);\nif(!$connection){\n    die('Unable to connect to the server '.mysql_error());\n    }\n\n$selectdb = mysql_select_db($database);\nif(!$selectdb){\n    die('Unable to connect to database'.mysql_error());\n    }\n\n$query = \"INSERT INTO `location_data`(`ltlng`) VALUES ('\".$loc.\"')\";\n$result = mysql_query($query);\nif(!$result){\n    die('Invalid query : '.mysql_error());\n    }\n?&gt;\n</code></pre>\n\n<p>Then the following errors comes out. </p>\n\n<pre><code>( ! ) Notice: Undefined index: geodata in C:\\wamp\\www\\IndustryProject\\SampleDataGen\\getdata.php on line 4\n</code></pre>\n\n<p>Any help would be appreciated.Thanks. </p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1226,"score":3,"question_id":8854816,"title":"Keeping the cookie after a cross-domain ajax request","body":"<p>A javascript application running on <code>10.0.0.1</code> tries to authenticate it's users with cross-domain ajax calls.</p>\n\n<p>The request looks like:</p>\n\n<pre><code>function test(again){\n  $.ajax({\n    type: 'GET',\n    url: 'http://example.com/userinfo',\n    dataType: 'json',\n    success: function(userinfo){\n      if(again)\n        test(false);}});}\ntest(true);\n</code></pre>\n\n<p>The first response from the server tries to set a cookie:</p>\n\n<pre><code>Access-control-allow-origin:http://10.0.0.1\nSet-Cookie:PHPSESSID=uuj599r4k1ohp48f1poobil665; expires=Sat, 28-Jan-2012 17:10:40 GMT; path=/\n</code></pre>\n\n<p>But the second request does not include this cookie, nor do any other ajax requests to that domain.</p>\n\n<p>I am not trying to read the cookie for another domain, I just want the application on the other domain to be able to set and read its own cookie.</p>\n\n<p>Is this possible?</p>\n\n<p>I have tested in Chrome and Firefox 9.</p>\n"},{"tags":["javascript","jquery","ajax","twitter-api"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":13028777,"title":"Verifying a twitter account without authentication","body":"<p>My web app was previously using the following function to check the existence of a twitter account:</p>\n\n<pre><code>var checkTwitter = function(username){\n\n     $.ajax({\n      url: 'http://twitter.com/statuses/user_timeline.json?screen_name='+username+'&amp;count=1&amp;suppress_response_codes=true&amp;callback=?',\n      dataType: 'json',\n      success: function(data, success){\n      if(data.error){\n                  //gone bad code\n      } else {\n                  //gone good code\n\n      }\n}});\n  }\n</code></pre>\n\n<p>Which has been happily working for a month or two. Now the url returns:</p>\n\n<pre><code>{\"error\":\"Not found\",\"request\":\"\\/statuses\\/user_timeline.json?screen_name=mildfuzz&amp;count=1&amp;suppress_response_codes=true&amp;callback=?\"}\n</code></pre>\n\n<p>when checking for my own twitter account (@mildfuzz).</p>\n\n<p>What's gone wrong?</p>\n"},{"tags":["php","javascript","html","ajax","kohana"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13029426,"title":"Show login JS popup for auth required actions","body":"<p>I want to show a login popup, kind of overlay handled by JS when user clicks on any button/link which requires user to be logged in.\nFor Eg: If user tries to comment without signing in, on click of post I have to show this popup.</p>\n\n<p>This is not ajax call where I can just reveal the popup based on the server response.</p>\n\n<p>Is there a way to do this? Maybe by checking the status code or something like that?</p>\n\n<p>The challenge is, when user is logged in the specific action takes user to another page, but when user is not logged in I want to suppress this and instead show login popup in same page.</p>\n"},{"tags":["ajax","forms","drupal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13014831,"title":"How to create a simple ajax form in Drupal 7?","body":"<p>I want to create a simple form in Drupal7 with only one field. When hitting the submit button I need to call an ajax function with the field value and update a DIV on the page without reload.</p>\n\n<p>I'm not familiar with Drupal form API, and I tried to implement the examples form the form api documentation but I always get errors like this:</p>\n\n<p><code>Notice: Undefined index: #title_display form_pre_render_conditional_form_element() függvényben (/var/www/nmtest/includes/form.inc 2986 sor). \nNotice: Undefined index: #value theme_textarea() függvényben /var/www/nmtest/includes/form.inc 3727 sor).</code></p>\n\n<p>I can do it by creating a custom page and simply use native PHP but this is not an \"elegant\" way.</p>\n\n<p>I want something similar like the one here, but without form valitation, page reload or so: <a href=\"http://stackoverflow.com/questions/3493093/create-a-very-simple-form-in-drupal\">Create a VERY simple form in Drupal</a></p>\n\n<p>I only want one button that calls an ajax function. Shoud I do this with forms API or just use plain old native PHP and jQuery?</p>\n\n<p><em>Edit:</em> Looks like I don't even need a real ajax call, because I only need to change an SRC of an IMG tag.</p>\n\n<p>Here's what I did in native PHP. I want to achive this trough forms api:</p>\n\n<pre><code>&lt;script&gt;\n    function getstar() {            \n        starpoints = jQuery('#starpoints').val();\n        rand = Math.floor(Math.random() * 9999) + 1;\n        src = \"test.php?star=\" + starpoints + '&amp;rand=' + rand;            \n        jQuery('#starimg').attr(\"src\",src);            \n        return false;\n    }        \n&lt;/script&gt;\n&lt;form&gt;\n&lt;input type=\"text\" name=\"starpoints\" id=\"starpoints\" /&gt;\n&lt;input type=\"submit\" onclick=\"return getstar();\" /&gt;\n&lt;/form&gt;\n&lt;img src=\"/test.php?star=5\" id=\"starimg\" /&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> Ok, I managed to render a form with the Drupal API. Now the only thing is that I want to insert the placeholder for the IMG via my module, but I don't know how to do it. The form renders fine, but I want to add a HTML block after it. Currently I do it by javascript:</p>\n\n<pre><code>jQuery(document).ready(function() {\njQuery('&lt;div&gt;&lt;br /&gt;&lt;img id=\"starimg\" src=\"\" /&gt;&lt;/div&gt;').insertAfter('#drawstar-form');\n});\n</code></pre>\n\n<p>What hook should I catch to render this HTML block after the form? I tried *drupal_get_form* but that returns an array and I cannot attach the HTML block.</p>\n"},{"tags":["jquery","ajax","jquery-ui"],"answer_count":6,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":7445,"score":10,"question_id":4591642,"title":"Dynamically Changing jQuery UI dialog box Button Text","body":"<p>I am using  jQuery UI Dialog box for ajax form submit. I want change the text of my\nsave button to wait , when user click on it and back to Save when ajax call complete. pls \nhelp me</p>\n"},{"tags":["php","jquery","mysql","ajax","iframe"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":13026388,"title":"Two parallel requests from browser","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1060539/parallel-asynchronous-ajax-requests-using-jquery\">Parallel asynchronous Ajax requests using jQuery</a>  </p>\n</blockquote>\n\n\n\n<p>I need to create 2 ajax requests one after the other. And then display the result of the one that has finished first. The problem is that second one always waits for first one to finish. I tried to abort first one but still the second is waiting for first one to finish. Is there any workaround?</p>\n\n<p>Basically first one calls php script that parses some XML file and inserts records into a MySQL table. Second one calls PHP script which needs to return 20 records that first one has imported.</p>\n\n<p>I tried with two ajax calls and the first one called from iframe. But result is always same. Second one is waiting for the first one to finish. Only way around that I find is to create subdomain and call first one with subdomain. But this not working in IE.</p>\n\n<p>Can anybody explain how solve this?</p>\n\n<p>Maybe I need to describe my problem more. First I call ajax that execution time is cca 2 min and while first one is in execution I need to have multiple requests that will retrive records that are imported by first one. </p>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13028803,"title":"ajax call is not responding","body":"<p>I am using ajax for retrieving data from my remote server when i am posting the ajax url directly in the address bar of browser, i am getting the data but when i am doing ajax call to that url in javascript file , it is showing  error.I am pasting my code here.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n\n&lt;script src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$.ajax({\nurl:\"http://www.appitechture.com/api/index.php?action=getContactDetails&amp;id=96\",\ntype:'get',\ndatatype:'json',\nsuccess:function OnSuccess(data , status){\n  alert(data);\n   } ,\n\nerror: function OnError(request , status , error){\n        alert('error');\n      }\n });\n &lt;/script&gt;\n\n &lt;/head&gt;\n &lt;body&gt;\n  &lt;div id=\"images\"&gt;&lt;/div&gt;\n &lt;/body&gt;\n  &lt;/html&gt; \n</code></pre>\n\n<p>so please if any one knows its solution please tell me.</p>\n\n<p>Thank's\npuneet</p>\n"},{"tags":["javascript","jquery","ajax","object"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":62,"score":3,"question_id":13028403,"title":"How do I read this weird server response and get the \"success\" key?","body":"<p>I am using this jQuery basic ajax reader:</p>\n\n<pre><code>$.ajax({\n    url: url,\n    dataType: 'jsonp',\n    success: function (data) {\n        console.log('data is', data);\n    }\n});\n</code></pre>\n\n<p>The full server response I get is:</p>\n\n<pre><code>jQuery17107194540228229016_1350987657731({\"action\":\"\", \"type\":\"\", \"callerId\":\"\"},\n {\"errorCode\":0,\"errorDescription\":\"OK\",\"success\":true,\"payload\":null});\n</code></pre>\n\n<p>However, when I try to output it with the <code>console.log('data is,data);</code> the output I get is:</p>\n\n<pre><code>data is  Object {action: \"\", type: \"\", callerId: \"\"} \n</code></pre>\n\n<p><strong>How do I receive the other part of the server response?</strong></p>\n\n<p>ie: The part that tells me <code>success:true</code>:</p>\n\n<pre><code>{\"errorCode\":0,\"errorDescription\":\"OK\",\"success\":true,\"payload\":null}\n</code></pre>\n"},{"tags":["asp.net","ajax","code-improvement"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":206,"score":3,"question_id":3480549,"title":"Best Practices for Editing Hierarchical Data","body":"<p>I just finished making a change to an ASP.NET Ajax screen from a few years back. It was harder than expected to build and maintain. On this change, I estimated 12 hours and spent 4 days. Granted I also did extensive refactoring to simplify the code.</p>\n\n<p>This is actually some pretty fun code, but I wonder if there was a better route for the original implementation than the one I took.</p>\n\n<p>To start, here's a screenshot:</p>\n\n<p><img src=\"http://brianmackay.name/share/schedule.png\"></p>\n\n<p><strong>The Problem</strong></p>\n\n<p>So obviously this is an editable tree of data. The data behaves very differently at each level -- very different sorting/collision rules and so on. </p>\n\n<p>My solution is actually performant and provides an adequate user experience, but it's nearly 2,000 lines of code spanning 11 classes, which is more than I envisioned going in. I'm curious if you've solved similiar problems and if you were able to find a simpler solution.</p>\n\n<p>It looks pretty straightforward at a glance, maybe that means I did something right. But there is some real complexity here -- obviously you can add and remove items at three different levels, and everything sorts similiar to a netflix queue, but with quirks. It also has to detect collisions on the various entities (in the image, if you changed day 5 to day 1, it would have to figure out which one is actually day one and move the other one). </p>\n\n<p>The biggest problem was keeping track of the state, since users don't want to commit changes to the database as they work. I thought it might be possible to use the actual controls (nested repeaters in this case) to represent this interim state, but that ended up being a dead end due to complexities related to the underlying data. </p>\n\n<p><strong>The Solution</strong></p>\n\n<p>To solve this, I created a full blown XML representation of all the data, which was actually great in some ways since I was able to use LINQ to do a lot of heavy lifting around sorting and querying. Still, there is a lot of code in here related to syncing up the xml to the html and so on, and I had to make a pretty hefty abstraction on top of the xml to make it easy for me to work with it in code.</p>\n\n<p>In case you're interested, I am currently persisting the XML to session state so that it will survive across callbacks, but eventually that should go into the database. </p>\n\n<p>One colleague told me it would be better to use Flex or maybe Silveright for something like this, and I think that might be true since those are both much more stateful, although Silverlight was not ready for prime time back when this started, and I don't know Flex. Maybe using a temp table instead of xml would have been superior in some way.</p>\n\n<p>I'm looking to learn and improve -- what have your experiences been with this type of problem?</p>\n"},{"tags":["javascript","jquery","ajax","dom"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13028169,"title":"jQuery way to initiate object from a plugin already initiated?","body":"<p>Thank you for taking the time to look at my question! :)</p>\n\n<p>I am trying to use the jQuery plugin <a href=\"http://alexdunphy.github.com/refineslide/#tuning\" rel=\"nofollow\" title=\"Click here to view the plugin page!\">RefineSlider</a>!</p>\n\n<p>My problem is that I am not a Javascript expert. What I wanted to accomplish is to add slides dynamically through an ajax call. The ajax call will return an html structure for a slide. But it has never work, because I think it's initiated at the DOM, and you cannot modify the slides on the fly!</p>\n\n<p>Thank you, and have a great week! :)</p>\n"},{"tags":["php","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":22,"score":-2,"question_id":13026789,"title":"Fill combobox via ajax wile opening","body":"<p>i have a table with many rows of data.\nNow i have to show detail infos to each row.\ni get the details from a webservice so i cant get them before creating the table.</p>\n\n<p>my idea is\ni show an empty combobox and fill it(JS,AJAX) by clicking on the combobox-arrow.\nis this possible ?</p>\n\n<p>bye jogi</p>\n"},{"tags":["php","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13028578,"title":"How to bring json and html data in one ajax call","body":"<p>I have a two jquery function to bring ratings and comments separately from two files which is working fine.</p>\n\n<p>Now i want to do it in a single ajax call, i am trying to merge two function together this way but its not working.</p>\n\n<p><strong>jquery</strong></p>\n\n<pre><code>    function get_review(){\n    $.ajax({ \n      type: \"POST\",\n      url: '../review.php',                        \n      data: {value1:value1, value2:value2, value3:value3},                        \n      dataType: 'json',\n      cache: false,              \n      success: function(data)          \n       {\n        var x = data[0];\n        var rating = (x-0.5)*2\n        var y = (20 * rating)+40;\n        $('#urating').css(\"backgroundPosition\",\"0%\"  +(y)+ \"px\");\n        $('#comments').html(data);\n       } \n     });\n};\n</code></pre>\n\n<p><strong>PHP</strong></p>\n\n<pre><code>$find_data = \"SELECT * FROM $tablename WHERE table_name='$table' AND product_id='$id' ORDER by id DESC\";\n$query = mysqli_query($connection, $find_data);\n\n$find_data2 = \"SELECT * FROM $tablename2 WHERE id='$id'\";\n$query2 = mysqli_query($connection, $find_data2);\n$row2 = mysqli_fetch_assoc($query2);\n\nheader('Content-type: application/json');\necho json_encode($row2);\n?&gt; \n\n      &lt;?php while($row = mysqli_fetch_assoc($query)):?&gt;\n      &lt;div class=\"comment-container\"&gt;\n        &lt;div class=\"user-info\"&gt;&lt;?php echo $row['user_name']; ?&gt;&lt;/div&gt;\n        &lt;div class=\"comment\"&gt;&lt;p&gt;&lt;?php echo $row['quick_comment']; ?&gt;&lt;/p&gt;&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;?php endwhile;?&gt;\n</code></pre>\n\n<p>Please see and suggest any possible way to do it.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","jquery","ajax"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":59,"score":0,"question_id":13028092,"title":"PHP not recognising AJAX call","body":"<p>I'm calling a file via jQuery's AJAX method looks like this:</p>\n\n<pre><code>    $is_ajax = $_REQUEST['is_ajax'];\n    if(isset($is_ajax) &amp;&amp; $is_ajax)\n    {\n        echo 'its ajax!';\n    }\n    else echo 'im called, but not via ajax';\n</code></pre>\n\n<p>and my AJAX call:</p>\n\n<pre><code>jQuery.ajax({\n                type: 'POST',\n                url: 'my-service.php',\n                data: data,\n                success: function(response) { \n                    alert(response);\n                 }\n            });\n</code></pre>\n\n<p>But alert always shows 'not ajax' message. What am I doing wrong?</p>\n"},{"tags":["javascript","jquery","ajax","internet-explorer","youtube"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":113,"score":2,"question_id":13023098,"title":"'Math' is undefined error in an embed object","body":"<p>Im using ajax to load a youtube video on the page load</p>\n\n<pre><code>$(document).ready(function(){\n     $.ajax({\n        url : '/myurl',\n        type:\"post\",           \n        data:{\"d\": $('#d_id').val()},  \n        async:false,\n        success:function(data){ \n            $('#container').html(data);\n\n            //data is an emebed string\n\n          //This is what i get from PHP page\n            /*&lt;embed class=\"frame\"  width=\"850\" scrolling=\"no\" height=\"415\" frameborder=\"0\" src=\"http://www.youtube.com/embed/' . $k[0] . '?showinfo=1&amp;amp;modestbranding=1&amp;amp;autoplay=1&amp;amp;rel=0&amp;amp;iv_load_policy=3&amp;amp;cc_load_policy=1&amp;amp;loop=1&amp;amp;playlist=' . $k[0] . '&amp;amp;wmode=transparent\" frameborder=\"0\"\"  allowfullscreen=\"yes\" wmode=\"Opaque\"&gt;&lt;/embed&gt; */\n        }    \n    });\n});\n</code></pre>\n\n<p>Working in every browser except IE</p>\n\n<p><img src=\"http://i.stack.imgur.com/sB9Wb.png\" alt=\"enter image description here\"></p>\n\n<p>IM getting an error \"Math is undefined\" as per the screen shot\nIf i change embed to iframe im getting more serious error such as '_<em>flash</em>_removecallback is undefined'..</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If i use emebed the whole thing is not working in IE8</p>\n\n<p>Somebody help me IE is driving me NUTS</p>\n"},{"tags":["javascript","jquery","html","css","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12892142,"title":"Menu - Submenu and active links on ajax loaded content","body":"<p>I have problems with the active items of the menu and a submenu that toggles:\nWhen I click over \"Prensa\"  or  \"Contacto\" the script adds the active well to menu item. For example \"Prensa\" gets the active and if I click on \"Contacto\", it get's the active removing it from \"Prensa\".</p>\n\n<p>The problem is when I click on \"Artworks\" it get's the active class but also all the links from it's submenu. Also if I click again over \"Prensa\" the submenu from \"Artworks\" stays open and all the links of \"Artworks\" still gets the active class (Also the \"artworks\" link itself).</p>\n\n<p>Another problem is that when I click over a submenu item, it adds just a \"class\" without anything more, so I can't add css to make it active.</p>\n\n<p>Here it's my markup:</p>\n\n<pre><code>        &lt;ul id=\"menu\" class=\"menu\"&gt;\n            &lt;li id=\"artworks\"&gt;&lt;a href=\"#\"&gt;ARTWORK&lt;/a&gt;\n                &lt;ul class=\"submenu\"&gt;\n                    &lt;img src=\"../img/submenu.png\" alt=\"submenu\" width=\"62\" height=\"1\" /&gt;\n                    &lt;li&gt;&lt;a href=\"#\" id=\"sweetlife\"&gt;Sweet Life&lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href=\"#\"&gt;Pleasure&lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href=\"#\"&gt;Bienal de la habana&lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href=\"#\"&gt;Estudios de craneos&lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n            &lt;li id=\"prensa_nav\"&gt;&lt;a href=\"#\"&gt;PRENSA&lt;/a&gt;&lt;/li&gt;\n            &lt;li id=\"contacto_nav\"&gt;&lt;a href=\"#\"&gt;CONTACTO&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n</code></pre>\n\n<p>Here it's my js:</p>\n\n<pre><code>    // active menu item\n$(function() {\n    $('#menu li').click(function() {\n        $('#menu li').each(function() {\n            $(this).removeClass('active');\n        });\n        $(this).addClass('active');\n    });\n});\n\n\n    /* Menu dropdown */\n    $(document).ready(function($){\n\n    // Add class of drop if item has sub-menu\n    $('ul.submenu').closest('li').addClass('drop');\n\n    // Left Sidebar Main Navigation\n    var menu_ul = $('.menu &gt; li.drop &gt; ul'),\n        menu_a  = $('.menu &gt; li.drop &gt; a');\n\n    menu_ul.hide()    \n\n    menu_a.click(function(e) {\n        e.preventDefault();\n        if(!$(this).hasClass('active')) {\n            menu_a.removeClass('active');\n            menu_ul.filter(':visible').slideUp('normal');\n            $(this).addClass('active').next().stop(true,true).slideDown('normal');\n        } else {\n            $(this).removeClass('active');\n            $(this).next().stop(true,true).slideUp('normal');\n        }\n    });\n\n});\n</code></pre>\n\n<p>Can someone help me out to fix these problems?</p>\n"},{"tags":["javascript","jquery","css","ajax","slider"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12910960,"title":"Image count (1/10) in a slider","body":"<p>It's a slide of images that have auto fadeIn and also I can control it by the arrows in the bottom left (next and prev arrows). The problem it's that I want to show a total of images and the current number of the one we are watching (like the numbering between the arrows), I have made the markup but I have search a lot on how to programming the number but couldn't find anything similar. Can someone help me out please?</p>\n\n<p>This is the markup:</p>\n\n<pre><code>&lt;div id=\"slideshow\"&gt;\n    &lt;ul id=\"slides\"&gt;\n        &lt;li&gt;&lt;img src=\"img/project_image.jpg\" /&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;img src=\"img/project_image2.jpg\"/&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;img src=\"img/project_image3.jpg\" /&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;img src=\"img/project_image4.jpg\" /&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;div class=\"project_navigation\" class=\"clearfix\"&gt;\n    &lt;ul id=\"nav\"&gt;\n        &lt;li id=\"prev\"&gt;&lt;a href=\"#\"&gt;Previous&lt;/a&gt;&lt;/li&gt;\n        &lt;div class=\"project_number\"&gt;\n            &lt;p&gt;10/12&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;li id=\"next\"&gt;&lt;a href=\"#\"&gt;Next&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is how I call the slider:</p>\n\n<pre><code>  $(\"#slideshow\").css(\"overflow\", \"hidden\");\n\n  $(\"ul#slides\").cycle({\n      fx: 'fade',\n      pause: 1,\n      prev: '#prev',\n      next: '#next'\n  });\n</code></pre>\n\n<p>And i'm using this plugin:\n<a href=\"http://jquery.malsup.com/cycle/\" rel=\"nofollow\">http://jquery.malsup.com/cycle/</a></p>\n"},{"tags":["jquery","ajax","sticky-footer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12992441,"title":"jQuery loading data with sticky footer","body":"<p>I have a sticky footer that I've set up with jQuery and works wonderfully, calculates the height of the window, the height of the content and positions itself at the bottom of the page if there is not enough content to push it down. It also works if the user resizes the browser window.\nThe problem comes in when the users are editing their profile I load content with AJAX, if the content is just 1 line or 2 then all good, but if it's longer the page extends but the footer doesn't realize.</p>\n\n<p>Is there anyway that the footer can be aware when this happens?\nThere might be a function that I'm not aware of, anybody has any ideas? </p>\n"},{"tags":["ajax","zend-framework","login","zend-auth"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13028040,"title":"What is the best way to secure login proccess via ajax","body":"<p>when you post form via ajax, you can read password in plain text there. I thing that is security issue. Which possibilities are to hide password or disallowed to read it in firebug console for example?</p>\n"},{"tags":["javascript","ajax","dynamic-function"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13026674,"title":"How to change dynamically the js code?","body":"<h2>How to replace a JS function's code at runtime? (the same functionality as C++ function pointers)</h2>\n\n<p>I have tried <code>eval()</code>, but when one of the parameters contains a byte value like 13 or 10 it throws an error.</p>\n\n<p>I understand from this that eval is actually evaluating every lexical atom and replaces them with their content.</p>\n\n<p>These are some example files to illustrate the functionality I'm looking for:</p>\n\n<hr>\n\n<p><strong>File 1: index.html</strong></p>\n\n<pre><code>xmlhttp=new XMLHttpRequest();   \nxmlhttp.open(\"GET\",\"dynamic_code.php\",false);\nxmlhttp.send();\nvar dynamic_code=xmlhttp.responseText;\nfunction dynamic_function (){\n    eval(dynamic_code)\n}\ndynamic_function ()\n</code></pre>\n\n<p><strong>File 2: dynamic_code.php</strong></p>\n\n<pre><code>some_file=new XMLHttpRequest(); \nsome_file.open(\"GET\",\"some_file.txt\",false);\nsome_file.send();\nvar some_file_content=some_file.responseText;\nalert(some_file_content);\n</code></pre>\n\n<p><strong>File 3: some_file.txt</strong></p>\n\n<pre><code>line1\nline2\nline3\n</code></pre>\n\n<hr>\n\n<p><strong>ERROR returned by browser:</strong></p>\n\n<pre><code>&gt; Uncaught exception: SyntaxError: at line 2, column 0: expected\n&gt; expression, got '&lt;' Error thrown at line 12, column 4 in\n&gt; dynamic_function() in http://my_ip/dummy/index.html:\n&gt;     eval(dynamic_code) called from line 15, column 0 in http://my_ip/dummy/index.html:\n&gt;     dynamic_function ()\n</code></pre>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":13026278,"title":"Javascript Custom Alert Box with Image alignment","body":"<p>I Have created Custom Alert Box in Javascript . I Have added text with images. but It is not align proberly. It came some thing like this. \n<img src=\"http://i.stack.imgur.com/uzM32.png\" alt=\"enter image description here\"></p>\n\n<p>I am trying to add the correct mark and text with same line, how can I achieve this. can anyone please help me. I have added my Custom alert box Function below.</p>\n\n<pre><code>function createCustomAlert(txt, string_url,fd) {\n        // shortcut reference to the document object\n        d = document;\n\n        // if the modalContainer object already exists in the DOM, bail out.\n        if (d.getElementById(\"modalContainer\")) return;\n\n        // create the modalContainer div as a child of the BODY element\n        mObj = d.getElementsByTagName(\"body\")[0].appendChild(d.createElement(\"div\"));\n        mObj.id = \"modalContainer\";\n        // make sure its as tall as it needs to be to overlay all the content on the page\n        mObj.style.height = document.documentElement.scrollHeight + \"px\";\n\n        // create the DIV that will be the alert \n        alertObj = mObj.appendChild(d.createElement(\"div\"));\n        alertObj.id = \"alertBox\";\n        // MSIE doesnt treat position:fixed correctly, so this compensates for positioning the alert\n        if (d.all &amp;&amp; !window.opera) alertObj.style.top = document.documentElement.scrollTop + \"px\";\n        // center the alert box\n        alertObj.style.left = (d.documentElement.scrollWidth - alertObj.offsetWidth) / 2 + \"px\";\n\n        // create an H1 element as the title bar\n        h1 = alertObj.appendChild(d.createElement(\"h1\"));\n        h1.appendChild(d.createTextNode(ALERT_TITLE));\nbtn2 = alertObj.appendChild(d.createElement(\"img\"));\n        btn2.id = \"fd\";\n        btn2.src = fd;\n        // create a paragraph element to contain the txt argument\n        msg = alertObj.appendChild(d.createElement(\"p\"));\n        msg.innerHTML = txt;\n\n        // create an anchor element to use as the confirmation button.\n        //btn = alertObj.appendChild(d.createElement(\"a\"));\n        //btn.id = \"closeBtn\";\n        //btn.appendChild(d.createTextNode(ALERT_BUTTON_TEXT));\n        //btn.href = \"\";\n\n\n        btn = alertObj.appendChild(d.createElement(\"img\"));\n        btn.id = \"closeBtn\";\n        btn.src = 'new-go-next2.png';\n        btn.href=\"#ss\";\n        //btn.height=\"30px\";\n        //btn.width=\"30px\";\n        //btn.href=\"#\";\n\n\n        // set up the onclick event to remove the alert when the anchor is clicked\n        btn.onclick = function () { removeCustomAlert(); window.location = string_url; return false; }\n\n\n    }\n</code></pre>\n"},{"tags":["php","javascript","jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13027087,"title":"Change temporiry file path during file uploading","body":"<p>Is there a way to change the default temporary path in uploading file via html form. Or you can understand it as i want to set <code>$_FILES[\"uploadfile1\"]['tmp_name']</code> of my choice.</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":12970283,"title":"Subtraction date bettwen date input in text box and date now using JQUERY,Ajax","body":"<p>I have HTML code as below:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $(\"#useDatePicker\").mouseout(function{\n        //$(\"#result\").text() = $(\"#useDatePicker\").text();\n        alert(1);\n    });\n});\n\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;form method=\"post\" name=\"frm\" id=\"myForm\"&gt;\n&lt;input type=\"text\" name=\"date\" id=\"useDatePicker\"/&gt;\n    &lt;input type=\"text\" name=\"result\" id=\"result\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>What I need:</strong></p>\n\n<p>when the user select date from date Picker, it will subtract with date now automatic and the result will be in <code>&lt;input type=\"text\" name=\"result\" id=\"result\" /&gt;</code></p>\n\n<p><strong>Problem</strong></p>\n\n<p>I have no concept with it.So anyone please help me to solve it,Thanks.</p>\n"},{"tags":["php","javascript","jquery","ajax","parsererror"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13026684,"title":"jQuery, ajax, json, php parsererror","body":"<p>I'm trying to get an ajax request running, but I get a parsererror.\nThis is my Javascript Code:</p>\n\n<pre><code>$.ajax({\n            type: 'POST',\n            url: 'insertuser.php',\n            dataType: 'json',\n            data: {\n                nickname: $('input[name=nickname]').val(),\n                passwort: $('input[name=passwort]').val()\n            },\n            success : function(data){\n                console.log(data);\n            },\n            error : function(XMLHttpRequest, textStatus, errorThrown) {\n                console.log(\"XMLHttpRequest\", XMLHttpRequest);\n                console.log(\"textStatus\", textStatus);\n                console.log(\"errorThrown\", errorThrown);    \n            }\n        });\n</code></pre>\n\n<p>Thats the php file:</p>\n\n<blockquote>\n  <p>$return['error'] = false;<br>\n    $return['msg'] = \"juhuuu\";   </p>\n  \n  <p>echo json_encode($return);</p>\n</blockquote>\n\n<p>This is the console.log:</p>\n\n<p>XMLHttpRequest Object\ntextStatus parsererror \nerrorThrown SyntaxError</p>\n\n<p>Thats what the .php echos:\n{\"error\":false,\"msg\":\"juhuuu\"}</p>\n\n<p>I hope someone has an idea :)</p>\n"},{"tags":[".net","ajax","web-services"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3949,"score":0,"question_id":669188,"title":"An issue with AJAX web service call: Microsoft JScript runtime error: Sys.Net.WebServiceFailedException:","body":"<p>I am trying to invoke an AJAX web service call from a client web site in the same machine[Win XP Home].  In doing so, I am getting the following error.</p>\n\n<pre><code>Microsoft JScript runtime error: Sys.Net.WebServiceFailedException: The server method 'Greetings' failed with the following error: &lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Not Found&lt;/title&gt;\n        &lt;style&gt;\n            body {font-family:\"Verdana\";font-weight:normal;font-size: 8pt;color:black;} \n            p {font-family:\"Verdana\";font-weight:normal;color:black;margin-top: -5px}\n            b {font-family:\"Verdana\";font-weight:bold;color:black;margin-top: -5px}\n            h1 { font-family:\"Verdana\";font-weight:normal;font-size:18pt;color:red }\n            h2 { font-family:\"Verdana\";font-weight:normal;font-size:14pt;color:maroon }\n            pre {font-family:\"Lucida Console\";font-size: 8pt}\n            .marker {font-weight: bold; color: black;text-decoration: none;}\n            .version {color: gray;}\n            .error {margin-bottom: 10px;}\n            .expandable { text-decoration:underline; font-weight:bold; color:navy; cursor:hand; }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body bgcolor=\"white\"&gt;\n\n            &lt;span&gt;&lt;h1&gt;Server Error in '/WebServiceClient1' Application.&lt;hr width=100% size=1 color=silver&gt;&lt;/h1&gt;\n\n            &lt;h2&gt; &lt;i&gt;HTTP Error 404 - Not Found.&lt;/i&gt; &lt;/h2&gt;&lt;/span&gt;\n\n            &lt;hr width=100% size=1 color=silver&gt;\n\n            &lt;b&gt;Version Information:&lt;/b&gt;&amp;nbsp;ASP.NET Development Server 9.0.0.0\n\n            &lt;/font&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Below is the server and client code</p>\n\n<h2>server code:</h2>\n\n<pre><code>[WebService(Namespace = \"http://tempuri.org/\")]\n    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n    // To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line. \n    [System.Web.Script.Services.ScriptService]\n    public class Service : System.Web.Services.WebService\n    {\n\n        [WebMethod]\n        public string Greetings(string name)\n        {\n            string msg;\n            msg = String.Format(\"Hello {0}: Processed on {1}\", name, System.DateTime.Now.ToLongTimeString());\n            return msg;\n        }\n    }\n</code></pre>\n\n<h2>client code:</h2>\n\n<pre><code>&lt;script type =\"text/javascript\"&gt;\n    function GreetingsButtonOnClick() {\n        Service.Greetings($get(\"NameTextBox\").value, OnGreetingsComplete);\n    }  //error occurs at this line and the control goes to scriptresource.axd file\n\n    function OnGreetingsComplete(result) {\n        var elem = $get(\"Results\");\n        elem.innerHTML = result;\n    }\n&lt;/script&gt;\n\n    &lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\"&gt;\n        &lt;Services&gt;\n            &lt;asp:ServiceReference Path=\"http://localhost:4033/WebService1_AJAX/Service.asmx\" /&gt;\n        &lt;/Services&gt;\n    &lt;/asp:ScriptManager&gt;\n</code></pre>\n\n<p>(Note that invoking the web service function call within the server works fine &amp; i have defined the  &amp; service tags properly)</p>\n\n<pre><code>js file (http://localhost:4033/WebService1_AJAX/Service.asmx/js)\n--------\nvar Service=function() {\nService.initializeBase(this);\nthis._timeout = 0;\nthis._userContext = null;\nthis._succeeded = null;\nthis._failed = null;\n}\nService.prototype={\n_get_path:function() {\n var p = this.get_path();\n if (p) return p;\n else return Service._staticInstance.get_path();},\nGreetings:function(name,succeededCallback, failedCallback, userContext) {\nreturn this._invoke(this._get_path(), 'Greetings',false,{name:name},succeededCallback,failedCallback,userContext); }}\nService.registerClass('Service',Sys.Net.WebServiceProxy);\nService._staticInstance = new Service();\nService.set_path = function(value) { Service._staticInstance.set_path(value); }\nService.get_path = function() { return Service._staticInstance.get_path(); }\nService.set_timeout = function(value) { Service._staticInstance.set_timeout(value); }\nService.get_timeout = function() { return Service._staticInstance.get_timeout(); }\nService.set_defaultUserContext = function(value) { Service._staticInstance.set_defaultUserContext(value); }\nService.get_defaultUserContext = function() { return Service._staticInstance.get_defaultUserContext(); }\nService.set_defaultSucceededCallback = function(value) { Service._staticInstance.set_defaultSucceededCallback(value); }\nService.get_defaultSucceededCallback = function() { return Service._staticInstance.get_defaultSucceededCallback(); }\nService.set_defaultFailedCallback = function(value) { Service._staticInstance.set_defaultFailedCallback(value); }\nService.get_defaultFailedCallback = function() { return Service._staticInstance.get_defaultFailedCallback(); }\nService.set_path(\"/WebService1_AJAX/Service.asmx\");\nService.Greetings= function(name,onSuccess,onFailed,userContext) {Service._staticInstance.Greetings(name,onSuccess,onFailed,userContext); }\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13025074,"title":"IE9 showing SCRIPT601: Unknown runtime error","body":"<p>In IE9 for innerHTML it shows SCRIPT601: Unknown runtime error </p>\n\n<p>the data i am inserting is below. All the tags are closed . I guess the form tag is causing problems but I want It there </p>\n\n<pre><code> getHtmlStr='   &lt;p&gt;&lt;/p&gt;\n    &lt;div id=\"rs_div\"&gt;&lt;/div&gt;\n    &lt;form id=\"documentDetails\" name=\"documentDetails\"&gt;&lt;/form&gt;\n    &lt;p&gt;&lt;/p&gt;\n    &lt;div class=\"portlet magazines_details\" id=\"magazines\"&gt;\n    &lt;div class=\"content\" id=\"doc_content\"&gt;\n    &lt;div class=\"transcript\" id=\"transcript\"&gt;\n    &lt;div class=\"document-text\"&gt;\n    &lt;p&gt;Many people believe that a spin in a washing machine turns dirty clothes sparkly clean. Aarthi Shankar did too, until she came across a study by Charles Gerba, a microbiologist at the University of Arizona, which showed that household washers contain a shocking amount of bacteria.&lt;/p&gt;\n    &lt;p&gt;&amp;nbsp;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt; ';\n\ndocument.getElementById(\"notesdiv_\"+html[i][0]).innerHTML = getHtmlStr;\n</code></pre>\n\n<p>\"notesdiv_\"+html[i][0] is id to some div </p>\n"},{"tags":["jquery","ajax","replace","title","meta-tags"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":307,"score":1,"question_id":10919456,"title":"How would I replace the meta title, keywords and description on the ajax loaded html document?","body":"<p>How would I replace the meta title and description on the document with the meta title and description from an incoming html document on an ajax call??</p>\n\n<p>I am calling new content from the #content div on an adjacent html document. What I want to happen is when the new content loads I want to replace the main documents title (and description and keywords... might as well since im tooling around up there anyway) with the meta title in the html file that is being loaded.</p>\n\n<p>I have thought about using replace(); or match(); but I just wanted to find out the best way.</p>\n\n<p>here is the script:</p>\n\n<pre><code>// JavaScript Document\n$(document).ready(function() {\n\n    var toLoad\n    $(window).bind( \"hashchange\", function(e) {\n            loadcontent();\n            return false;\n\n    });\n\n\n\n        $('#toc li a').click(function(){\n            window.location.hash = $(this).attr('href').substr(0,$(this).attr('href').length-0);\n            var href = $(this).attr( \"href\" );\n            $('meta[name=title]').attr('title', new_title);\n            $('meta[name=description]').attr('description', new_description);\n            $('meta[name=keywords]').attr('keywords', new_keywords);\n            //alert(\"hey\" + window.location.hash);\n            $('#breadcrumbs h1').append(\" &lt;/a&gt;&lt;a href='index.html\"+ window.location.hash + \"' &gt;\" + $(this).attr('href') +\" &gt;&lt;/a&gt;\");\n            $.bbq.pushState({ url: href });\n            $(window).trigger( \"hashchange\" );\n\n        });\n\n    loadcontent();\n\n});\n\nfunction loadcontent(){\n\n    var toLoad = window.location.hash.replace(\"#\",\"\") +'.html #content';\n            $('#content').hide('slow');\n            $('#load').remove();\n            $('#conContainer').append('&lt;span id=\"load\"&gt;LOADING...&lt;/span&gt;');\n            $('#load').fadeIn('normal');\n\n            $('#content').load(toLoad,'',function(returnText,status,request){\n                showNewContent()\n            });\n\n            function loadContent() {\n                $('#content').load(toLoad,'',showNewContent());\n\n            }\n            function showNewContent() {\n                $('#content').show('slow',hideLoader());\n            }\n            function hideLoader() {\n                $('#load').fadeOut('normal');\n            }\n\n}\n</code></pre>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":13025927,"title":"Calling a javascript function from a link generated from a ajax call","body":"<p>I have a javascript function. \nI'm making a AJAX call, and in that recieved content there is a link that I want to call the javascript function with.</p>\n\n<pre><code>MyJavascriptFunction(bla){\n   alert (bla);\n}\n\nResult from ajax = \"&lt;a href=\"#\" onclick=\"MyJavascriptFunction(bla)\"&gt;Click&lt;/a&gt;\n</code></pre>\n\n<p>Do I have to do anything special with the result from AJAX to get this to work or should it just work.</p>\n\n<p>I have tried it like this but with no success with clicking the link.</p>\n\n<p>The AJAX call:</p>\n\n<pre><code>function doSearch() {\n\n  var form = $('form');\n\n   $.ajax({\n     url: \"doSearch.php\", \n     type: \"GET\",\n     data: form.serialize(), \n     success: function(result){ \n       document.getElementById(\"result\").innerHTML=result;\n       }\n    });\n}\n</code></pre>\n\n<p>In the php I'm printing out </p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"MyJavascriptFunction(bla)\"&gt;Click&lt;/a&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","phonegap","jquery-mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13025056,"title":"JQM 1.2 listview refresh shows not the inset type defined","body":"<p>I'm a newbie with JQM 1.2 and I would like to have a little help with my code.</p>\n\n<p>I'm calling remote content for a page that is loading perfect but the listview refresh instead of showing me the inset=\"true\" normal list, it is formatting the list to a Split button lists and with no link at the icon. Really strange.</p>\n\n<p>Here is my code:</p>\n\n<p>Login page:</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"login\"&gt;\n    &lt;div data-role=\"header\"&gt;\n        &lt;h1 align=\"center\"&gt;&lt;img src=\"logommovil.png\" width=\"113\" height=\"43\" alt=\"Más Movil Shopping App\"&gt;&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;div data-role=\"content\"&gt;\n        &lt;form id=\"log_usr\" class=\"validate\"&gt; \n                        &lt;p align=\"center\"&gt;&lt;strong&gt;Ingrese sus claves de acceso&lt;/strong&gt;&lt;/p&gt;\n&lt;label for=\"zm_username\"&gt;Usuario&lt;/label&gt;                            &lt;input name=\"zm_username\" type=\"text\" id=\"zm_username\" value=\"\" placeholder=\"Usuario\" class=\"required\" minlength=\"6\" maxlength=\"8\"/&gt;                &lt;label for=\"zm_password\"&gt;Contraseña&lt;/label&gt;                     &lt;input name=\"zm_password\" type=\"password\" id=\"zm_password\" value=\"\" placeholder=\"Contraseña\" class=\"required\" minlength=\"8\"/&gt;\n                            &lt;fieldset class=\"ui-grid-a\"&gt;\n                &lt;div class=\"ui-block-a\"&gt;&lt;button type=\"submit\" data-icon=\"checkbox-on\" data-theme=\"e\" id=\"submitForm\"&gt;Ingresar&lt;/button&gt;&lt;/div&gt;\n                &lt;div class=\"ui-block-b\"&gt;&lt;button type=\"reset\" data-icon=\"delete\" data-theme=\"c\"&gt;Borrar&lt;/button&gt;&lt;/div&gt;&lt;/fieldset&gt;\n        &lt;/form&gt;\n\n                        &lt;p align=\"center\" class=\"regtext\"&gt;Si aún no eres miembro, regístrate gratis presionando el botón abajo&lt;/p&gt;\n\n        &lt;a href=\"#register\" data-role=\"button\" data-theme=\"b\" data-iconpos=\"left\" data-icon=\"plus\" data-transition=\"slide\"&gt;Registrarme&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div data-role=\"footer\" data-position=\"fixed\"&gt;\n        &lt;p align=\"right\"&gt;Powered by &lt;img src=\"logozellpayapp.png\" alt=\"Zellpay Panama\" width=\"115\" height=\"35\" align=\"absmiddle\"&gt;&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Menu page</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"menu\"&gt;\n    &lt;div data-role=\"header\"&gt;\n        &lt;h1 align=\"center\"&gt;&lt;img src=\"logommovil.png\" width=\"113\" height=\"43\" alt=\"Más Movil Shopping App\"&gt;&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;div data-role=\"content\" id=\"wrapper\"&gt;\n    &lt;div id=\"scroller\"&gt;\n    &lt;p id=\"name\"&gt;&lt;/p&gt;\n    &lt;ul data-role=\"listview\" data-inset=\"true\" data-dividertheme=\"e\"&gt;\n    &lt;li data-role=\"list-divider\"&gt;¿Qué deseas hacer?&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;a href=\"#\" onClick=\"showConfirm()\" data-role=\"button\" data-icon=\"delete\" data-iconpos=\"left\" data-theme=\"e\" data-transition=\"slide\"&gt;Cerrar Sesión&lt;/a&gt;\n    &lt;p id=\"signal\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div data-role=\"footer\" data-position=\"fixed\"&gt;\n    &lt;div data-role=\"navbar\" data-id=\"my-nav\"&gt;\n        &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\"contact.html\" data-role=\"button\" data-icon=\"star\" data-iconpos=\"top\" data-theme=\"e\"&gt;Mi Cuenta&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"help.html\" data-role=\"button\" data-icon=\"search\" data-iconpos=\"top\" data-theme=\"e\"&gt;Ayuda&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"about.html\" data-role=\"button\" data-icon=\"info\" data-iconpos=\"top\" data-theme=\"e\"&gt;Acerca&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;/div&gt;  \n        &lt;p align=\"right\"&gt;Powered by &lt;img src=\"logozellpayapp.png\" alt=\"Zellpay Panama\" width=\"115\" height=\"35\" align=\"absmiddle\"&gt;&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Javascript function on Login</p>\n\n<pre><code> $(\"#log_usr\").validate({\n            submitHandler: function(form) {\n            showModal();    \n            var u = $(\"#zm_username\", form).val();\n            var p = $(\"#zm_password\", form).val();\n            $.ajax({\n                      type: \"GET\",\n                      url: \"http://www.zellpay.com/movil/new_login.php\",\n                      data: ({zm_username: u,zm_password: p}),\n                      crossDomain: true,\n                      cache: false,\n                      dataType: \"json\",\n                      success: onSuccess\n       });\n        }\n});\n\nfunction onSuccess(data){\n    var JSONObject = data; \n            if(JSONObject.Username != 'false') {  \n            sessionStorage.Name = JSONObject.Name;\n            sessionStorage.Cell = JSONObject.UserCel;           \n            $('#menu').live('pagebeforecreate',function(event){\n            onData();\n            document.getElementById('name').innerHTML = '&lt;strong&gt;Hola, ' + sessionStorage.Name + '&lt;/strong&gt;';   \n            showMenu(\"http://www.whatever.com/movil/get_main_menu_new.php\");\n});         \n            $.mobile.changePage(\"menu.html\");\n            hideModal();        \n            } else if(JSONObject.Username == 'false'){\n                navigator.notification.alert(\"Sus datos de acceso son incorrectos!\", function() {},\"Error en sus Datos\",\"Regresar\");\n            hideModal();    \n            }\n         $(\"#submitForm\").removeAttr(\"disabled\");\n        }\n</code></pre>\n\n<p><strong>Function ShowMenu()</strong></p>\n\n<pre><code>function showMenu(url)\n{\n    $.ajax({\n                      type: 'GET',\n                      url: url,\n                      crossDomain: true,\n                      cache: false,\n                      dataType: 'json',\n                      success: function(data) {\n                      var JSONObject = data;      \n                      var markup = '';\n                      var count = 0;\n                        //count = persons.length;// wont work\n                    for ( category in JSONObject )\n{\n    if(JSONObject.hasOwnProperty(category))\n    {\n        count++;\n    }\n}\n                          numItems = count;\n                      // Generate a list item for each item in the category\n            // and add it to our markup.\n            for ( var i = 0; i &lt; numItems; i++ ) {\n                markup += '&lt;li&gt;&lt;a onClick=\"Call' + JSONObject[i].AffOpT + '();\" data-transition=\"slide\"&gt;' + JSONObject[i].AffOpT + '&lt;a&gt;&lt;/li&gt;';\n            }\n            $(\"#scroller ul\").append(markup);\n            $(\"#scroller ul\").listview('refresh');\n                      }\n       });\n}\n</code></pre>\n"},{"tags":["ajax","asp.net-mvc","asp.net-mvc-3","authorization"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":198,"score":2,"question_id":11290338,"title":"How create Ajax Helpers in MVC3","body":"<p>i crate @Html.ActionLink helper here i check permissions of user. if yes i show this link otherwise not. now problem is with @Ajax.ActionLink can i make helper for Ajax.ActionLink? i make custom helpers to check permissions. it works fine with html.actionlink helper. How i check permissions in ajax actions ?</p>\n\n<pre><code> public static IHtmlString CustomActionLink(this HtmlHelper htmlHelper, int userId, string reqController, string reqAction,  string linkText,int reqActionId = 0)\n    {\n\n        bool isAllowed = checkPermission(userId, reqController, reqAction, reqActionId);\n        if (isAllowed == false)\n        {\n            return MvcHtmlString.Empty;\n        }\n        return htmlHelper.ActionLink(linkText, reqAction, new { id =reqActionId });\n    }\n</code></pre>\n\n<p>i want to do this same check in Ajax Actions.</p>\n"},{"tags":["javascript","asp.net","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13024755,"title":"PageMethods in .Net1.1","body":"<p>Can I use PageMethods in .net1.1?I have to call a server side method call from client side?</p>\n\n<p>How to use </p>\n\n<p>PageMethods.MyMethod();</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13020255,"title":"Multiple Ui dialogs on the same page","body":"<p>I've more than one link on my page each of them opens a different UI dialog,</p>\n\n<p><strong>This is the dialog code:</strong></p>\n\n<pre><code>$('#photo-form').dialog({\n    autoOpen: false,\n    modal:true,\n    width: 500,\n    height:460,\n    buttons: {\n        \"Save\": function() {\n            // do some action \n            $(this).dialog('close'); // Close the Confirmation Box\n        },\n        \"Cancel\": function() {\n            //if the User Clicks the button \"cancel\"\n            $(this).dialog('close');\n        }\n    }\n});\n\n// if a user clicks on the \"delete\" image\n$('a.album').click(function(e) {\n    $('#photo-form').dialog('open');\n});\n</code></pre>\n\n<p>My problem is that once I open the first dialog and then finish the action I need to do on it and then close it by clicking save or cancel, </p>\n\n<p><strong>First:</strong> when I click the link of the second dialog it didn't open unless I reload the page and I don't want to do this.</p>\n\n<p><strong>Second:</strong> when I try to open the same dialog again it opens the previous instant, I need to reset it.</p>\n\n<p>When I tried to use <code>$(this).dialog('destroy')</code> instead if <code>$(this).dialog('close')</code> for closing the first dialog, I can open the second dialog but when I clicked the link of the first dialog I couldn't open it again.</p>\n"},{"tags":["javascript","ajax","concurrency"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13024263,"title":"JS returning before AJAX call returning output?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1225667/how-to-return-ajax-response-text\">How to return AJAX response Text?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm calling a javascript method which in turn sends Ajax request and gives response.I'm getting the result in callback method like \"success\".<br>\nHere Ajax is returning some result, in the mean while javascript method returning result (something as undefined).<br>\nBut it should return ajax result only.<br>\nThe problem i was identified is, Javascript and Ajax are both concurrently executing.<br>\nHow to stop them and first execut Ajax and it's result must send to function which returns the result.<br>\nAny idea is Highly Appreciated.. :)</p>\n"},{"tags":["ajax","richfaces","seam","modal","ajax4jsf"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4297,"score":0,"question_id":4656126,"title":"a4j:support within a rich:modalPanel","body":"<p>I've hit a wall.\nI know the a4j and rich tags pretty well (I use Seam 2.2.0 and Richfaces 3.3.1). However, I'm trying to do something quite simple, but in a rich:modalPanel.</p>\n\n<p>It seems that rich:modalPanels do not allow Ajax events to be fired. Here's a simple breakdown:\nI have a h:selectOneMenu with some items in it and whose value is attached to a backing bean. Attached to that h:selectOneMenu is a a4j:support tag so that whenever the change event is fired, the backing bean should get updated. Truly simple stuff eh?</p>\n\n<p>However, when this h:selectOneMenu is in a rich:modalPanel the onchange event doesn't update the backing bean until the rich:modalPanel closes.</p>\n\n<p>I can confirm this because I'm running it in Eclipse debug mode and I have a breakpoint on the setter of the property that's hooked up to the h:selectOneMenu.\nThis is driving me mad! This is vanilla stuff for Ajax, but rich:modalPanels don't seem to allow it.</p>\n\n<p>So, the question is: can I do Ajax stuff within a rich:modalPanel? I'm basically trying to use the rich:modalPanel as a form (I've tried a4j:form and h:form to no avail) that reacts to changes to the drop down (e.g. when the user changes the drop down, a certain part of the form should get reRendered). Am I trying to do something that's not possible?</p>\n\n<p>Here's a simplified version of the modalPanel:</p>\n\n<pre><code>&lt;rich:modalPanel id=\"quickAddPanel\"&gt;\n    &lt;div&gt;\n        &lt;a4j:form id=\"quickAddPaymentForm\" ajaxSubmit=\"true\"&gt;\n                &lt;s:decorate id=\"paymentTypeDecorator\"&gt;\n                    &lt;a4j:region&gt;\n                        &lt;h:selectOneMenu\n                            id=\"paymentType\"\n                            required=\"true\"\n                            value=\"#{backingBean.paymentType}\"\n                            tabindex=\"1\"&gt;\n                            &lt;s:selectItems \n                                label=\"#{type.description}\"\n                                noSelectionLabel=\"Please select...\"\n                                value=\"#{incomingPaymentTypes}\"\n                                var=\"type\"/&gt;\n                            &lt;s:convertEnum/&gt;\n                            &lt;a4j:support \n                                ajaxSingle=\"true\" \n                                event=\"onchange\"\n                                eventsQueue=\"paymentQueue\"\n                                immediate=\"true\"\n                                limitToList=\"true\"\n                                reRender=\"paymentTypeDecorator, paymentDetailsOutputPanel, quickAddPaymentForm\"/&gt;\n                        &lt;/h:selectOneMenu&gt;\n                    &lt;/a4j:region&gt;\n                &lt;/s:decorate&gt;\n            &lt;/fieldset&gt;\n\n            &lt;fieldset class=\"standard-form\"&gt;\n                &lt;div class=\"form-title\"&gt;Payment details&lt;/div&gt;\n                &lt;a4j:outputPanel id=\"paymentDetailsOutputPanel\"&gt;\n                    &lt;h:outputText value=\"This should change whenever dropdown changes: #{backingBean.paymentType}\"/&gt;\n                &lt;/a4j:outputPanel&gt;\n            &lt;/fieldset&gt;\n        &lt;/a4j:form&gt;\n    &lt;/div&gt;\n&lt;/rich:modalPanel&gt;\n</code></pre>\n\n<p>Regards,\nAndy</p>\n"},{"tags":["asp.net","ajax","web-services","cross-domain"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":160,"score":2,"question_id":12243731,"title":"how to create Cross domain asp.net web service","body":"<p>i have create a web service. i want to access this web service using Ajax jqury. i am able to access on same domain. but i want to access thia web service to another domain.</p>\n\n<p>Have any one idea. how to create cross domain web service in asp.net. any setting in web,config file so that i access it on another domain.</p>\n\n<p>my webservice </p>\n\n<pre><code>[WebService(Namespace = \"http://tempuri.org/\")]\n[System.Web.Script.Services.ScriptService]\npublic class Service : System.Web.Services.WebService\n{\n    public Service () {\n    }\n\n    [WebMethod]\n    public string SetName(string name) {\n        return \"hello my dear friend \" + name;\n\n    }\n}\n</code></pre>\n\n<p>JavaScript</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url:'http://192.168.1.119/Service/SetName.asmx?name=pr',\n    ContentType: \"application/x-www-form-urlencoded\",\n    cache: false,\n    dataType: \"jsonp\",\n    success: onSuccess\n                });\n</code></pre>\n"},{"tags":["javascript","xml","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13013563,"title":"jQuery `ajax` call throws an error when an XML containing escaped (!) ampersand is retrieved","body":"<p>A client-side script takes the text within a text input, \"wraps\" it within an XML block and sends it to a server that stores the information in a MySQL database.</p>\n\n<p>As a first step before wrapping the input value, I escape the \"&amp;\" characters like so:</p>\n\n<pre><code>var copyright = copyright.replace(/&amp;/g,\"&amp;amp;\");\n</code></pre>\n\n<p>The resulting XML data block is sent to the server using jquery's <code>ajax</code> method:</p>\n\n<pre><code>var copyright = copyright.replace(/&amp;/g,\"&amp;amp;\"),\n    xml = \"&lt;request&gt;&lt;session&gt;\"+session+\"&lt;/session&gt;&lt;space&gt;\"+space_id+\"&lt;/space&gt;&lt;view&gt;\"+view_id+\"&lt;/view&gt;&lt;copyright&gt;\"+copyright+\"&lt;/copyright&gt;&lt;/request&gt;\",\n    url = \"hidden URL\";\n\n    $.ajax({ \n        type: \"POST\", \n        url: url,\n        contentType: \"text/xml; charset=UTF-8\", \n        dataType: \"xml;charset=UTF-8\",\n        data: xml\n    });\n</code></pre>\n\n<p>Later after this operation, the content that was previously saved within the database needs to be retrieved and displayed within a web page:</p>\n\n<pre><code>$.ajax({ \n    type: \"POST\", \n    url: url,\n    dataType: 'xml',\n    data: xmlString, \n    success: function(xml) { \n          var XML = $(xml);\n            // Process the data retrieved\n    },\n    error: function(jqXHR, textStatus, errorThrown) {\n        var XML = $(jqXHR.responseText);\n            console.log(\"error: \"+textStatus+\"\\n\"+errorThrown);\n    }\n});\n</code></pre>\n\n<p>If an ampersand was typed in the input field and then saved, when trying to load the page that displays the same previously saved content, the ajax call breaks and runs down the <code>error</code> event handler, with the following error:</p>\n\n<pre><code>error: parsererror\nError: Invalid XML: &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;response&gt;&lt;target&gt;    \n&lt;target_id&gt;2095466&lt;/target_id&gt;    \n&lt;plot&gt;20029/13&lt;/plot&gt;    \n&lt;builder&gt;Lemminkäinen&lt;/builder&gt;    \n&lt;housing_form&gt;vm&lt;/housing_form&gt;    \n&lt;block_name&gt;&lt;/block_name&gt;    \n&lt;finnish_year&gt;2013&lt;/finnish_year&gt;    \n&lt;target_name&gt;As Oy Helsingin Saukonranta&lt;/target_name&gt;    \n&lt;target_address&gt;Saukonpaadenranta 8&lt;/target_address&gt;    \n&lt;office_space&gt;&lt;/office_space&gt;    \n&lt;purpose&gt;&lt;/purpose&gt;    \n&lt;reservations&gt;&lt;/reservations&gt;    \n&lt;contacts&gt;&lt;/contacts&gt;    \n&lt;infoflag&gt;2&lt;/infoflag&gt;    \n&lt;views&gt;    \n&lt;view&gt;    \n&lt;view_id&gt;2095468&lt;/view_id&gt;    \n&lt;copyright&gt;B&amp;M&lt;/copyright&gt;    \n&lt;/view&gt;    \n&lt;/views&gt;    \n&lt;/target&gt;    \n&lt;status&gt;OK&lt;/status&gt;&lt;errormsg&gt;&lt;/errormsg&gt;&lt;/response&gt; \n</code></pre>\n\n<p>What is it that I'm doing wrong? Am I escaping the characters wrongly, or is it something else?</p>\n\n<p>This question may seem to be a duplicate, but to me it doesn't seem like it since the ampersand characters have been escaped prior to being stored. I even tried adding additional (1, then two) <code>amp;</code>s to the escape string, but the result is EXACTLY the same.</p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":67,"score":-4,"question_id":13023114,"title":"ajax works locally but not on the server","body":"<p>Please help me, I am going crazy..</p>\n\n<p>The following simple code is running perfectly at local machine but it won't run when I upload it to the server:</p>\n\n<p>Please try it at <a href=\"http://www.epeasy.com\" rel=\"nofollow\">www.epeasy.com</a></p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n&lt;base target=\"_self\"&gt;\n\n&lt;script type=\"text/javascript\" \n\nsrc=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;script language=\"JavaScript\"&gt; \n  window.onload=function(){ \n    document.getElementById('text1').focus(); \n  } \n&lt;/script&gt;\n\n&lt;script language=\"JavaScript\"&gt;\n\nfunction ara() {\n\nvar key1 = window.document.form1.text1.value;\n\njQuery.support.cors = true;\n$.ajax({\n  type: 'GET',\n  url: \"http://ops.epo.org/2.6.2/rest-services/published-data/publication/epodoc/\" + key1 + \n\n\".A1/biblio\",\n  data: {\n    key: \"value\"\n  },\n  dataType: \"xml\",\nerror:function(XMLHttpRequest, textStatus, errorThrown){\n         alert(\"error=\"+XMLHttpRequest+\" error2=\"+textStatus+\" error3=\"+errorThrown);\n\n   },\n   success:function(response){                      \n         alert('sucess');\n\n  }   \n\n});\n\nalert(key1);\nreturn false;\n}\n\n&lt;/script&gt;\n\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;form name=\"form1\" id=\"form1\" onSubmit=\"return ara()\"&gt;\nEnter Patent Number &lt;input type=\"text\" name=\"text1\" id=\"text1\" value=\"EP1814517\" size=\"15\" \n\ntabindex=\"1\"&gt; \n&lt;input type=\"submit\" value=\"Search\" onClick=\"return ara()\" tabindex=\"3\"&gt; \n&lt;input type=\"button\" name=\"clearValue\" value=\"Clear\" onclick=\"document.getElementById\n\n('text1').value=''\" tabindex=\"5\"&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\n\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\nenter code here\n</code></pre>\n"},{"tags":["javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":13022490,"title":"Javascript Equal to is not working","body":"<p>I have the following code. This is a just for fun project, because for real it would be illegal. Anyway, what it does is when I hit the call button, it sets called = 1. Then AJAX checks if called was equal to 1, but it never outputs EVEN. Without the if statement, then EVEN is printed.</p>\n\n<p>You can kind of see a semi-working example here. <a href=\"http://aleckazarian.com/misc/options/options.html\" rel=\"nofollow\">http://aleckazarian.com/misc/options/options.html</a> The website doesn't support AJAX well, so getting the last trade doesn't work.</p>\n\n<p>I don't understand why a comparison of a number wouldn't work. Any ideas?</p>\n\n<p>Thanks guys.</p>\n\n<pre><code>        function call() {\n            setupTradeInfo();\n            count60();\n\n            called = 1;\n        }\n\n        function put() {\n            setupTradeInfo();\n            count60();\n\n            putted = 1;\n        }\n\n        function getTrade(select) {\n            //if (str==\"\") {\n            //  document.getElementById(\"txtHint\").innerHTML=\"\";\n            //  return;\n            //} \n\n            var symbol = select.options[select.selectedIndex].value;\n\n            if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari\n                xmlhttp=new XMLHttpRequest();\n            } else {// code for IE6, IE5\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n\n            xmlhttp.onreadystatechange=function() {\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n                    document.getElementById(\"lastTrade\").innerHTML=xmlhttp.responseText;\n                    document.getElementById(\"lastTrade2\").innerHTML=xmlhttp.responseText;\n\n                    if (called == 1) {\n                        document.getElementById(\"status\").innerHTML=\"EVEN\";\n                    }\n                }\n            }\n\n            xmlhttp.open(\"GET\",\"http://download.finance.yahoo.com/d/quotes.csv?s=\" + symbol + \"&amp;f=l1\",true);\n            xmlhttp.send();\n\n            setTimeout(getTrade, 1000);\n        }\n</code></pre>\n"},{"tags":["ajax","jsf","datatable","myfaces","selectonemenu"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13005503,"title":"Apache myfaces renders datatable before processing ajax event","body":"<p>I have a selectOneMenu which controls what should be shown in the datatable. The code is as below (I have removed all unnecessary staff):</p>\n\n<pre><code>&lt;ui:composition template=\"/WEB-INF/templates/BasicTemplate.xhtml\"&gt;\n  &lt;ui:define name=\"content\"&gt;\n    &lt;br /&gt;\n    &lt;h:form id=\"menuform\"&gt;\n\n      &lt;p:selectOneMenu value=\"#{envMenuBean.currentEnvName}\"&gt;\n        &lt;f:selectItems value=\"#{envMenuBean.envs}\" var=\"env\" itemLabel=\"#{env.name}\" itemValue=\"#{env.name}\" /&gt;\n        &lt;p:ajax event=\"change\" update=\"currentEnvoutput,contentpanel\" listener=\"#{envMenuBean.envChange}\" /&gt;\n      &lt;/p:selectOneMenu&gt;\n\n      &lt;h:outputLabel value=\"Current Selection: \" /&gt;\n      &lt;h:outputText id=\"currentEnvoutput\" style=\"font-weight:bold\" value=\"#{envMenuBean.currentEnvName}\"&gt;&lt;/h:outputText&gt;\n\n      &lt;br /&gt;\n      &lt;p:panel id=\"contentpanel\"&gt;\n        &lt;div id=\"contentdiv\"&gt;\n          &lt;p:dataTable id=\"gcfiletable\" var=\"row\" value=\"#{gCSelectionBean.dataTableDTO.serverListRows}\"&gt;\n            &lt;p:column&gt;\n              &lt;f:facet name=\"header\"&gt;\n                &lt;h:outputText value=\"Server Names\" /&gt;\n              &lt;/f:facet&gt;\n              &lt;h:outputText value=\"#{row.serverName}\" /&gt;\n            &lt;/p:column&gt;\n            &lt;p:columns value=\"#{gCSelectionBean.dataTableDTO.machineNamesList}\" var=\"columnName\" columnIndexVar=\"colIndex\"&gt;\n              &lt;f:facet name=\"header\"&gt;  \n                #{columnName}  \n              &lt;/f:facet&gt;\n            &lt;/p:columns&gt;\n          &lt;/p:dataTable&gt;\n        &lt;/div&gt;\n      &lt;/p:panel&gt;\n\n    &lt;/h:form&gt;\n  &lt;/ui:define&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n\n<p>The envMenuBean.envChange code is very simple:</p>\n\n<pre><code>@ManagedBean\n@SessionScoped\npublic class EnvMenuBean {\n  private String currentEnvName;    \n\n  public void envChange(AjaxBehaviorEvent event) {\n    String newValue = (String)((UIOutput)event.getSource()).getValue();\n    currentEnvName = newValue;\n  }\n}\n</code></pre>\n\n<p>The datatable content is generated in the gCSelectionBean class:</p>\n\n<pre><code>@ManagedBean\n@SessionScoped\npublic class GCSelectionBean {\n  private GCInstanceDataTableDTO dataTableDTO;  \n  String currentEnvName;\n\n  public GCInstanceDataTableDTO getDataTableDTO() {\n    FacesContext fc = FacesContext.getCurrentInstance();\n    Application app = fc.getApplication();\n    ExpressionFactory exp = app.getExpressionFactory();\n\n    ValueExpression currEnvNameMenuBeanEL = exp.createValueExpression(fc.getELContext(), \"#{envMenuBean.currentEnvName}\", String.class);\n    String currEnvNameMenuBean = (String) currEnvNameMenuBeanEL.getValue(fc.getELContext());    \n\n    ApplicationConfigs gcReportConfigs = GetAppConfigs.getInstance().getAppConfigs();\n    for (Environment env : gcReportConfigs.getEnvs()) {\n      if (env.getName().equalsIgnoreCase(currEnvNameMenuBean)) {         \n        dataTableDTO = new GCInstanceDataTableDTO(env);\n        currentEnvName = currEnvNameMenuBean;\n        break;\n      }\n    }\n\n    return dataTableDTO;\n  }  \n}\n</code></pre>\n\n<p>However the code </p>\n\n<pre><code>    ValueExpression currEnvNameMenuBeanEL = exp.createValueExpression(fc.getELContext(), \"#{envMenuBean.currentEnvName}\", String.class);\n    String currEnvNameMenuBean = (String) currEnvNameMenuBeanEL.getValue(fc.getELContext());    \n</code></pre>\n\n<p>gives me the old selectOneMenu value before the change, which makes my datatable still shows the old table values. But the </p>\n\n<pre><code>&lt;h:outputText id=\"currentEnvoutput\" style=\"font-weight:bold\" value=\"#{envMenuBean.currentEnvName}\"&gt;&lt;/h:outputText&gt;\n</code></pre>\n\n<p>can show the correct new value.</p>\n\n<p>This makes me believe myfaces renders the table first before processing the ajax change event. When I change JSF2.0 implementation from myfaces to Glassfish, the same codes worked fine.</p>\n\n<p>Has anyone faced the same problem? How to resolve this?</p>\n"},{"tags":["java","ajax","json","firefox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13022562,"title":"Firefox's Firebug giving error of \"not-well formed\" with JSON on jQuery Ajax response; using jCryption plugin with JavaCryption implementation","body":"<p>I'm using <a href=\"http://www.jcryption.org/\" rel=\"nofollow\">jCryption</a> and <a href=\"http://jcryptionforjava.wordpress.com/\" rel=\"nofollow\">JavaCryption</a>, the server-side implementation of the jCryption JavaScript plug-in.</p>\n\n<p>There appears to be an issue with what seems the Java implementation, in that FireFox's firebug is reporting a \"not-well formed\" error with the JSON that is returned to the client from the server.  So, unlike the thread, <a href=\"http://stackoverflow.com/questions/677902/not-well-formed-error-in-firefox-when-loading-json-file-with-xmlhttprequest\">&quot;not well-formed&quot; error in Firefox when loading JSON file with XMLHttpRequest</a>, this is coming from the response object, NOT the request object.</p>\n\n<p>I tried adding .JSON, application/json as a MIMEtype to my web server, IIS 7.5, but that didn't help.  Then I tried .JSON, text/plain and that didn't help, either.</p>\n\n<p>Do I have to edit the Java code to force application/json, when it sends it back to the client?  Or, what can I do to resolve this issue?</p>\n\n<p>Thank you for any help.</p>\n\n<p>Here is the raw output for the first one causing the \"not-well formed\" error:</p>\n\n<pre><code>HTTP/1.1 200 OK\nContent-Length: 294\nServer: Microsoft-IIS/7.5\nX-Powered-By: Nothing\nDate: Tue, 23 Oct 2012 02:10:24 GMT\n\n{\"e\":\"10001\",\"n\":\"b3fbbe3d2e3599e840a117be08f72726d8ee643dada3805ab24b9a9150d123a7a0902ae45f2f2e194e5462c4f5c3b91cca91b48d1f07c6cd7fab629a331148f66516df05dfa0bd95cc9f477069e60fa54eab8a5586d08436717758d9706b90c884eded7260af1ce5ff70f507b9c5ddb019b6e1313a77f4eab3b2d04a09934d8d\",\"maxdigits\":\"131\"}\n</code></pre>\n\n<p>Here is the second one:</p>\n\n<pre><code>HTTP/1.1 200 OK\nContent-Length: 200\nServer: Microsoft-IIS/7.5\nX-Powered-By: Nothing\nDate: Tue, 23 Oct 2012 02:10:24 GMT\n\n{\"challenge\":\"zf6iI5D8hVDCmMVuHIFy71ikKxcqVzkLplMDKP6Hgz7EPv2STfYjcBlf6ep1wu5OMCCsPKf4dRECpVvr7yIK8kCm0I5c4xTXCkmnyyzBXeHgbvkzGWVmaLzxj5RYajdWLFkvN1waV41FhR+PtK1tOmGe8k57wSZ/yyZUAsvh7NaJf6THc9P9rQ==\"}\n</code></pre>\n"},{"tags":["java","ajax","jsf","listener","ajax4jsf"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":12856902,"title":"a4j:ajax listener exception MethodNotFoundException","body":"<p>I started study RichFaces 4.2.2 and have a problem in simple example, I have an xml:</p>\n\n<pre><code>&lt;ui:define name=\"content\"&gt;       \n        &lt;h:form&gt;\n            &lt;rich:panel style=\"width: 50%\"&gt;\n                &lt;h:panelGrid columns=\"2\"&gt;\n                    &lt;h:outputText value=\"Name:\"/&gt;\n                    &lt;h:inputText id=\"inp\" value=\"#{echoBean.name}\"&gt;\n                        &lt;a4j:ajax event=\"keyup\" render=\"echo count\"  listener=\"#{echoBean.countListener}\"/&gt;\n                    &lt;/h:inputText&gt;\n\n                    &lt;h:outputText value=\"Echo:\"/&gt;\n                    &lt;h:outputText id=\"echo\" value=\"#{echoBean.name}\"/&gt;\n\n                    &lt;h:outputText value=\"Count:\"/&gt;\n                    &lt;h:outputText id=\"count\" value=\"#{echoBean.count}\"/&gt;\n                &lt;/h:panelGrid&gt;\n                &lt;a4j:commandButton value=\"Submit\" actionListener=\"#{echoBean.countListener}\" render=\"echo, count\"/&gt;\n            &lt;/rich:panel&gt;\n        &lt;/h:form&gt;\n\n&lt;/ui:define&gt;\n</code></pre>\n\n<p></p>\n\n<p>and a simple bean:</p>\n\n<pre><code>@Component(\"echoBean\")\n@Scope(value = \"session\")\npublic class EchoBean {\nprivate String name;\nprivate Integer count = 0;\n\n//getter setter methods here\n\npublic void countListener(ActionEvent event) {\n    count++;\n    }\n}\n</code></pre>\n\n<p>And when i try to print in inputText i have exception:</p>\n\n<pre><code>Caused by: javax.el.MethodNotFoundException: /home.xhtml @35,112 listener=\"#{echoBean.countListener}\": Method not found: com.example.training.bean.EchoBean@d523fa.countListener()\nat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:102)\nat org.ajax4jsf.component.behavior.MethodExpressionAjaxBehaviorListener.processAjaxBehavior(MethodExpressionAjaxBehaviorListener.java:71)\nat javax.faces.event.AjaxBehaviorEvent.processListener(AjaxBehaviorEvent.java:113)\nat javax.faces.component.behavior.BehaviorBase.broadcast(BehaviorBase.java:98)\nat org.ajax4jsf.component.behavior.AjaxBehavior.broadcast(AjaxBehavior.java:348)\nat javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:763)\nat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:775)\nat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1267)\nat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)\n... 19 more\n</code></pre>\n\n<p>But why? With button this same listener works just fine and in docs for \"listener\" parameter in a4j:ajax it says that:</p>\n\n<p><em>The expression must evaluate to a public method that takes an ActionEvent parameter, with a return type of void, or to a public method that takes no arguments with a return type of void</em></p>\n\n<p>Why it uses <code>countListener()</code> without <code>ActionEvent</code> parameter? I don't get it.</p>\n"},{"tags":["ajax","asp.net-mvc","post","asp.net-web-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":88,"score":-1,"question_id":13021391,"title":"ASP.NET MVC Web API POST too many data caused value null","body":"<p>there are two ASP.NET Web API methods:</p>\n\n<pre><code>public object Save(Results Details)\n{\n}\n\npublic object Read()\n{\n    var details = new Results();\n    //initialize object here...\n    return details;\n}\n</code></pre>\n\n<p>and the Results goes:</p>\n\n<pre><code>public class Results\n{\n    public IList&lt;Foo&gt; A { get; set; }\n    public Result ANormality { get; set; }\n    public Result ANeckPain { get; set; }\n\n    public IList&lt;Foo&gt; B { get; set; }\n    public Result BNormality { get; set; }\n    public Result BPain { get; set; }\n\n    public IList&lt;Foo&gt; C { get; set; }\n    public Result CNormality { get; set; }\n    public Result CPain { get; set; }\n\n    public IList&lt;Foo&gt; D { get; set; }\n    public Result DNormality { get; set; }\n    public Result DPain { get; set; }\n\n    public IList&lt;Foo&gt; E { get; set; }\n    public Result ENormality { get; set; }\n    public Result EPain { get; set; }\n\n    public IList&lt;Foo&gt; F { get; set; }\n    public Result FNormality { get; set; }\n    public Result FPain { get; set; }\n\n    public IList&lt;Foo&gt; G { get; set; }\n    public Result GNormality { get; set; }\n    public Result GPain { get; set; }\n\n    public IList&lt;Foo&gt; H { get; set; }\n    public Result HNormality { get; set; }\n    public Result HPain { get; set; }\n\n    public IList&lt;Foo&gt; I { get; set; }\n    public Result INormality { get; set; }\n    public Result IPain { get; set; }\n\n    public IList&lt;Foo&gt; J { get; set; }\n    public Result JNormality { get; set; }\n    public Result JPain { get; set; }\n\n    public IList&lt;Foo&gt; K { get; set; }\n    public Result KNormality { get; set; }\n    public Result KPain { get; set; }\n\n    public IList&lt;Foo&gt; L { get; set; }\n    public Result LNormality { get; set; }\n    public Result LPain { get; set; }\n\n    public IList&lt;Foo&gt; M { get; set; }\n    public Result MNormality { get; set; }\n    public Result MPain { get; set; }\n\n    public IList&lt;Foo&gt; O { get; set; }\n    public Result ONormality { get; set; }\n    public Result OPain { get; set; }\n\n    public IList&lt;Foo&gt; XXX { get; set; }\n    public Result XXXNormality { get; set; }\n    public Result XXXPain { get; set; }\n\n\n    public IList&lt;Some&gt; Options { get; set; }\n    public IList&lt;Some&gt; NormalityOptions { get; set; }\n    public IList&lt;Some&gt; PainOptions { get; set; }\n}\n</code></pre>\n\n<p>and here goes Foo:</p>\n\n<pre><code>public class Foo\n{\n    public int ID { get; set; }\n    public string Desc { get; set; }\n    public string Range { get; set; }\n    public string RangeType { get; set; }\n    public string Section { get; set; }\n    public string Answer { get; set; }\n}\n</code></pre>\n\n<p>and here goes Some:</p>\n\n<pre><code>public class Some\n{\n    public int CodeID { get; set; }\n    public string Code { get; set; }\n    public string CodeDesc { get; set; }\n    public int MaxNValue { get; set; }\n    public int MinNValue { get; set; }\n    public decimal FloatValue { get; set; }\n    public decimal DecimalValue { get; set; }\n    public string CodeType { get; set; }\n    public string Filter { get; set; }\n}\n</code></pre>\n\n<p>and here goes Result:</p>\n\n<pre><code>public class Result\n{\n    public string ResultComment { get; set; }\n    public string ResultValue { get; set; }\n    public string ResultType { get; set; }\n    public string Section { get; set; }\n}\n</code></pre>\n\n<p>The Results is a very complex object containing a lot of object List.</p>\n\n<p>Here is how I get the model from server\n            var fooModel;</p>\n\n<pre><code>        $.ajax(\n        {\n            url: 'http://foo/api/bizapi/Read',\n            type: 'GET',\n            cache: false,\n            success: function (data) {\n                fooModel = data;\n            },\n            dataType: 'json'\n        }\n        );\n</code></pre>\n\n<p>I will use ajax to post large amount of data (around 900 parameters, and the total size of the post is around 30 KB) to the method:</p>\n\n<pre><code>        var postData = fooModel;\n\n        $.ajax(\n        {\n            url: 'http://foo/api/bizapi/Save',\n            type: 'POST',\n            data: postData,\n            cache: false,\n            success: function (data) {\n                //do sth;\n            },\n            dataType: 'json'\n        }\n        );\n</code></pre>\n\n<p>I check the Details, one of the parameter <code>IList&lt;Foo&gt; ABC</code>\n is null (which is wrong).</p>\n\n<p>I double checked with fiddler to see the post content, it's all fine. I assume there is some limitation about the size of the post content or the size of the object collections.</p>\n\n<p>I first remove the parameter which contains largest amount of collection (about 600) in javascript, then the post size drops to 7K, and now in the web api method I can get the value of ABC.</p>\n\n<p>I did some research, it seems it has something with max collection keys, so I put the following settings in the web.config:</p>\n\n<pre><code>&lt;add key=\"aspnet:MaxHttpCollectionKeys\" value=\"3000\"/&gt;\n&lt;add key=\"aspnet:MaxJsonDeserializerMembers\" value=\"3000\"/&gt;\n</code></pre>\n\n<p>it's still not working. </p>\n\n<p>I looked at similar question here: <a href=\"http://stackoverflow.com/questions/10966328/the-json-request-was-too-large-to-be-deserialized\">The JSON request was too large to be deserialized</a> , still no luck.</p>\n\n<p>Any idea?</p>\n"},{"tags":["javascript","html","ajax","osx"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13017004,"title":"remove cross domain restrictions for local apps","body":"<p>I'd like to be able to make some simple desktop apps using web technology. I can easily open up XCode, bundle a web view with my HTML (or just pointing to a web site?)</p>\n\n<p>But can I remove the cross domain restrictions for XHR? It seems like you <em>should</em> be able to for desktop apps. It's not like if I wrote it in Objective-C it's insecure to access any domain.</p>\n\n<p>How do you do it? Or what's the best framework/environment to make native wrappers for OS X that would let me do this automatically?</p>\n"},{"tags":["jquery","ajax","jquery-ajax","validationengine","jquery-validation-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13021781,"title":"submit not work after inline ajax validation completed","body":"<p>I am using jquery validation engine for validating a password recovery form with an email field and a submit button. \nIt checks with inline ajax validation that the email address is in the database. If I type in the email address and hit Enter the ajax validation works fine and the form is submitted. \nHowever I click on the submit button the email field is getting validated, but the form is not submitted.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form action=\"/lost-password\" method=\"post\" id=\"checkmail\"&gt;\n    &lt;input type=\"text\" name=\"email\" id=\"email\" class=\"validate[required,custom[email],ajax[ajaxEmailCall]]\"/&gt;\n    &lt;input type=\"submit\" value=\"Send password\" name=\"submit\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(function(){       \n    $(\"#checkmail\").validationEngine();     \n});\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13019763,"title":"How to redirect to another php script using jQuery/AJAX","body":"<p>I want to use Ajax/jquery to be able to redirect to another php script to perform a command in the script.</p>\n\n<p>I have a jquery/ajax code function below, my question is that is the jquery.ajax function correct in order to redirect to the \"cancelimage.php\" script?</p>\n\n<pre><code>$(imageuploadform).find(\".imageCancel\").on(\"click\", function(event) {\n    $('.upload_target_image').get(0).contentwindow\n    $(\"iframe[name='upload_target_image']\").attr(\"src\", \"javascript:'&lt;html&gt;&lt;/html&gt;'\");\n    jQuery.ajax(\"cancelimage.php\");\n    return stopImageUpload(2);\n});​  \n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13019771,"title":"multiple form pass ID","body":"<p>I have a page with multiple links that open a single Fancybox modal form. </p>\n\n<pre><code>&lt;a class=\"modalbox\" id=\"adapters\" href=\"#inline\"&gt;Request a Quote&lt;/a&gt;    \n&lt;a class=\"modalbox\" id=\"auger\" href=\"#inline\"&gt;Request a Quote&lt;/a&gt;    \n</code></pre>\n\n<p>href opens the form, which is identical throughout the page and posts to a PHP script to send an email.</p>\n\n<p>My problem is that each link needs to post a hidden value to the form to identify the unique product the user is interested in.  If I create multiple forms in the HTML, the submit button doesn't process the form.</p>\n\n<pre><code>&lt;form id=\"content\" name=\"content\" action=\"#\" method=\"post\"&gt;\n&lt;input type=\"hidden\" name=\"product\" value=\"Adapters\"&gt;\n...more inputs...\n&lt;button id=\"send\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I'm thinking that I should be using an ID to pass the hidden variable but am not sure where to go from here.  Any guidance would be greatly appreciated.</p>\n\n<pre><code>$(document).ready(function() {\n        $(\".modalbox\").fancybox();\n        $(\"#content\").submit(function() { return false; });\n        $(\"#content\").val($(this).attr('id'));\n\n$.ajax({\n        type: 'POST',\n        url: 'rfqscript.php',\n        data: $(\"#content\").serialize(),\n        success: function(data) {\n        if(data == \"true\") {\n        $(\"#content\").fadeOut(\"fast\", function(){\n        $(this).before(\"&lt;span class=success&gt;Success! Your message has been sent.&lt;/span&gt;\");\n        setTimeout(\"$.fancybox.close()\", 5000);\n</code></pre>\n"},{"tags":["php","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13021530,"title":"Multiple forms using same AJAX call with different outcomes?","body":"<p>If I have many forms generated by PHP and want a \"Reply\" button on each of them, where it sends the content of the form via ajax to another php page, then can I use the same javascript snippet for all of these elements?</p>\n\n<pre><code>&lt;form id=\"foo\"&gt;\n    &lt;label for=\"bar\"&gt;A bar&lt;/label&gt;\n    &lt;input id=\"bar\" name=\"bar\" type=\"text\" value=\"\" /&gt;\n    &lt;input type=\"submit\" value=\"Reply\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>So if I do something like the following, then can I still handle all the responses individually and display the response ONLY on the element that \"Reply\" was clicked on?</p>\n\n<pre><code>$(\"#foo\").submit(function(event){\n    $.ajax({\n        url: \"/form.php\",\n        type: \"post\",\n        data: serializedData,\n        // callback handler that will be called on success\n        success: function(response, textStatus, jqXHR){\n            // log a message to the console\n            console.log(\"Hooray, it worked only in the element it was clicked in!\");\n        });\n    // prevent default posting of form\n    event.preventDefault();\n });\n</code></pre>\n"}]}
{"total":48692,"page":17,"pagesize":100,"questions":[{"tags":["java","ajax","wcf","web-services"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13018104,"title":"Different Types of Web Services","body":"<p>I developed a mobile application using PhoneGap, to connect to a database through a web service. Since, I am familiar with the .NET environment, I used a WCF service, or more specifically an Ajax Enabled WCF Service, so that I could call the web service through an Ajax call.</p>\n\n<p>Now, I am an absolute beginner in web services and I don't even know the difference between REST and SOAP web services and whether this Ajax Enable WCF service is SOAP or REST web service. Also, can I develop the same web service using Java?</p>\n\n<p>Can you please recommend a book or a tutorial where I can have a crash course on web services and find an answer for all these questions please?</p>\n"},{"tags":["asp.net","ajax","msgbox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3522,"score":1,"question_id":2069235,"title":"Messagebox in ASP.NET 3.5 with AJAX","body":"<p>I have a ASP.NET 3.5 web site with an AJAX update panel. I simply need to process some server side code and then issue a user prompt that says \"Code processing complete\". </p>\n\n<p>I know there is supposed to be support for Msgbox-esque methods in ASP.NET but I can't find them and any other JavaScript based solutions don't work effectively when you have an update panel.</p>\n\n<p>Help.</p>\n"},{"tags":["jquery","ajax","callback","success"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13020340,"title":"Extends Jquery ajax complete function","body":"<p>Im using JQUERY ajax to do some requests to the server. Now I have to add some validations after the content is loaded (error handling). THe easiest way is by adding the validation on the success() callback. The problem is that i would need to implemented in all the implementations I already have. Is there a way to extend the success callback? Something that will be called before the callback setted?\nThis way I can add the validations for each success in ONE place, and be executed every time a success callback is called.</p>\n\n<p>like hierarchy of methods.</p>\n\n<p>I tryed preFilters, converters, but they wont fit my needs.</p>\n\n<p>The focus of the answer is adding validations to each success callback without changing each success callback (so i dont copy paste validations in each method).</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","jquery","ajax","mysqli"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13020459,"title":"files get uploaded just before they get cancelled","body":"<p>Got a little situation here where I am trying to cancel a file's upload. What I have done is stated that if the user clicks on the \"Cancel\" button, then it will simply remove the iframe so that it does not go to the page where it uploads the files into the server and inserts data into the database.</p>\n\n<p>Now this works fine if the user clicks on the \"Cancel\" button in quickish time the problem I have realised though is that if the user clicks on the \"Cancel\" button very late, it sometimes doesn't remove the iframe in time meaning that the file has just been uploaded just before the user has clicked on the \"Cancel\" button.</p>\n\n<p>So my question is that is there a way that if the file does somehow get uploaded before the user clicks on the \"Cancel\" button, that it deletes the data in the database and removes the file from the server?</p>\n\n<p>Below is the image upload form:</p>\n\n<pre><code>&lt;form action=\"imageupload.php\" method=\"post\" enctype=\"multipart/form-data\" target=\"upload_target_image\" onsubmit=\"return imageClickHandler(this);\" class=\"imageuploadform\" &gt;\n  &lt;p class=\"imagef1_upload_process\" align=\"center\"&gt;\n    Loading...&lt;br/&gt;\n    &lt;img src=\"Images/loader.gif\" /&gt;\n  &lt;/p&gt;\n  &lt;p class=\"imagef1_upload_form\" align=\"center\"&gt;\n    &lt;br/&gt;\n    &lt;span class=\"imagemsg\"&gt;&lt;/span&gt;\n    &lt;label&gt;Image File: &lt;input name=\"fileImage\" type=\"file\" class=\"fileImage\" /&gt;&lt;/label&gt;&lt;br/&gt;\n    &lt;br/&gt;\n    &lt;label class=\"imagelbl\"&gt;&lt;input type=\"submit\" name=\"submitImageBtn\" class=\"sbtnimage\" value=\"Upload\" /&gt;&lt;/label&gt;\n  &lt;/p&gt;\n  &lt;p class=\"imagef1_cancel\" align=\"center\"&gt;\n    &lt;input type=\"reset\" name=\"imageCancel\" class=\"imageCancel\" value=\"Cancel\" /&gt;\n  &lt;/p&gt;\n  &lt;iframe class=\"upload_target_image\" name=\"upload_target_image\" src=\"#\" style=\"width:0px;height:0px;border:0px;solid;#fff;\"&gt;&lt;/iframe&gt;\n&lt;/form&gt; \n</code></pre>\n\n<p>Below is the jquery function which controls the \"Cancel\" button:</p>\n\n<pre><code>$(imageuploadform).find(\".imageCancel\").on(\"click\", function(event) {\n    $('.upload_target_image').get(0).contentwindow\n    $(\"iframe[name='upload_target_image']\").attr(\"src\", \"javascript:'&lt;html&gt;&lt;/html&gt;'\");\n    return stopImageUpload(2);\n});\n</code></pre>\n\n<p>Below is the php code where it uploads the files and inserts the data into the database. The form above posts to this php page \"imageupload.php\":</p>\n\n<pre><code>&lt;body&gt;\n&lt;?php\n\ninclude('connect.php');\n\nsession_start();\n\n$result = 0;\n\n\n//uploads file\nmove_uploaded_file($_FILES[\"fileImage\"][\"tmp_name\"],\n\"ImageFiles/\" . $_FILES[\"fileImage\"][\"name\"]);\n$result = 1;\n\n//set up the INSERT SQL query command to insert the name of the image file into the \"Image\" Table\n$imagesql = \"INSERT INTO Image (ImageFile) \nVALUES (?)\";\n\n//prepare the above SQL statement\nif (!$insert = $mysqli-&gt;prepare($imagesql)) {\n  // Handle errors with prepare operation here\n}\n\n//bind the parameters (these are the values that will be inserted) \n$insert-&gt;bind_param(\"s\",$img);\n\n//Assign the variable of the name of the file uploaded\n$img = 'ImageFiles/'.$_FILES['fileImage']['name'];\n\n//execute INSERT query\n$insert-&gt;execute();\n\nif ($insert-&gt;errno) {\n  // Handle query error here\n}\n\n//close INSERT query\n$insert-&gt;close();\n\n//Retrieve the ImageId of the last uploded file\n$lastID = $mysqli-&gt;insert_id; \n\n//Insert into Image_Question Table (be using last retrieved Image id in order to do this)\n$imagequestionsql = \"INSERT INTO Image_Question (ImageId, SessionId, QuestionId)  \nVALUES (?, ?, ?)\"; \n\n//prepare the above SQL statement\nif (!$insertimagequestion = $mysqli-&gt;prepare($imagequestionsql)) { \n  // Handle errors with prepare operation here \n  echo \"Prepare statement err imagequestion\"; \n} \n\n//Retrieve the question number\n$qnum = (int)$_POST['numimage'];\n\n//bind the parameters (these are the values that will be inserted) \n$insertimagequestion-&gt;bind_param(\"isi\",$lastID, 'Exam', $qnum); \n\n//execute INSERT query\n$insertimagequestion-&gt;execute(); \n\nif ($insertimagequestion-&gt;errno) { \n  // Handle query error here \n} \n\n//close INSERT query\n$insertimagequestion-&gt;close();\n\n?&gt;\n\n&lt;!--Javascript which will output the message depending on the status of the upload (successful, failed or cancelled)--&gt;\n\n&lt;script&gt;\n    window.top.stopImageUpload(&lt;?php echo $result; ?&gt;, '&lt;?php echo $_FILES['fileImage']['name'] ?&gt;');\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>Below is the php code \"cancelimage.php\" where I want to delete the cancelled file from the server and delete the record from the database. It is set up but not finished, can somebody finish it off so I can retrieve the name of the file and it's id using $_SESSION?</p>\n\n<pre><code>&lt;?php\n\n// connect to the database\ninclude('connect.php');\n\n/* check connection */\nif (mysqli_connect_errno()) {\nprintf(\"Connect failed: %s\\n\", mysqli_connect_error());\ndie();\n}\n\n\n//remove file from server\nunlink(\"ImageFiles/....\"); //need to retrieve file name here where the ... line is\n\n//DELETE query statement where it will delete cancelled file from both Image and Image Question Table\n$imagedeletesql = \" DELETE img, img_q \nFROM Image AS img \nLEFT JOIN Image_Question AS img_q \nON img_q.ImageId = img.ImageId \nWHERE img.ImageFile = ?\"; \n\n//prepare delete query\nif (!$delete = $mysqli-&gt;prepare($imagedeletesql)) {\n// Handle errors with prepare operation here\n}\n\n//Dont pass data directly to bind_param store it in a variable\n$delete-&gt;bind_param(\"s\",$img);\n\n//execute DELETE query\n$delete-&gt;execute();\n\nif ($delete-&gt;errno) {\n// Handle query error here\n}\n\n//close query\n$delete-&gt;close();\n\n?&gt;\n</code></pre>\n\n<p>Can you please provide an sample code in your answer to make it easier for me. Thank you</p>\n"},{"tags":["javascript","jquery","ajax","asynchronous"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13021025,"title":"Javascript block on AJAX load","body":"<p>I am looking for a way to make an AJAX load request in javascript, but have the javascript code pause execution while waiting for the AJAX load to complete. In other words, I am trying to do a <em>synchronous</em> AJAX load request (I know the 'A' in AJAX stands for asynchronous. I'm just hoping maybe the name isn't exactly right.) . What I have is</p>\n\n<pre><code>$('#my_id').load(\"my_page.pl?my_param=p1&amp;my_other_param=p2\");\n//Please wait here\n//Now do stuff after load is complete.\n</code></pre>\n\n<p>The reason I want the request to be synchronous is because it creates an HTML table, and then the javascript which follows parses the table.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ui","dialog"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13020622,"title":"jQuery to submit a form","body":"<p>I have the following code which is not working. I hope you can help me with this.</p>\n\n<p>basically I have a form that i want to confirm using jQuery Dialog first before submitting it. so when i click on submit i get the dialog but when i press yes to confirm nothing happens!!</p>\n\n<pre><code>    $(function() {\n\n        $('#massform').submit(function(e){\n           e.preventDefault();\n           $('#dialog-mass-confirm').dialog('open');\n        });\n\n\n        $( \"#dialog-mass-confirm\" ).dialog({\n            autoOpen: false,\n            resizable: false,\n            draggable: false,\n            height:180,\n            modal: true,\n            buttons: {\n                \"No\": function() {\n                    $( this ).dialog( \"close\" );\n                },\n                \"Yes\": function() {\n                    $(\"#massform\").submit();\n                }\n            }\n        });\n    });\n\n&lt;form id=\"massform\" method=\"post\" action=\"new.php\"&gt;\n    &lt;input type=\"text\" name=\"email\" size=\"41\"&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","node.js"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":2640,"score":3,"question_id":3725928,"title":"Node.js ajax file uploader","body":"<p>I am trying to make a node.js file uploader with a ajax progress bar.</p>\n\n<pre><code>var formidable = require('./formidable'), http = require('http'), sys = require('sys');\n http.createServer(function(req, res) {\n  if (req.url == '/upload' &amp;&amp; req.method.toLowerCase() == 'post') {\n    // parse a file upload\n    var form = new formidable.IncomingForm();\n    form.uploadDir = './node_uploads';\n    form.keepExtensions = true;\n    //print the upload status in bytes\n    form.addListener(\"progress\", function(bytesReceived, bytesExpected) {\n        //progress as percentage\n        progress = (bytesReceived / bytesExpected * 100).toFixed(2);\n        mb = (bytesExpected / 1024 / 1024).toFixed(1);\n        sys.print(\"Uploading \"+mb+\"mb (\"+progress+\"%)\\015\");\n    });\n    //enter here after upload complete\n    form.parse(req, function(fields, files) {\n        sys.debug(\"Upload Complete\");\n        res.writeHead(200, {'content-type': 'text/plain'});\n        res.write('received upload:\\n\\n');\n        res.end());\n    });\n    return;\n  }\n  if (req.url == '/update') {\n        res.writeHead(200, {'content-type': 'text/plain'});\n        res.write('&lt;?xml version=\"1.0\"?&gt;&lt;response&gt;&lt;status&gt;1&lt;/status&gt;&lt;message&gt;'+ 000 +'&lt;/message&gt; &lt;/response&gt;');\n        res.end();\n\n    }\n  // show a file upload form\n  res.writeHead(200, {'content-type': 'text/html'});\n  res.end\n    ( '&lt;form action=\"/upload\" enctype=\"multipart/form-data\" method=\"post\"&gt;'\n    + '&lt;p id=\"statuslabel\"&gt;&lt;/p&gt;&lt;p id=\"anotherlabel\"&gt;&lt;/p&gt;' \n    + '&lt;input type=\"text\" name=\"title\" id=\"title\"&gt;&lt;br&gt;'\n    + '&lt;input type=\"file\" name=\"upload\" multiple=\"multiple\"&gt;&lt;br&gt;'\n    + '&lt;input type=\"submit\" value=\"Upload\" id=\"uploadform\"&gt;'\n    + '&lt;/form&gt;'\n    );\n}).listen(8000, '127.0.0.1');\n</code></pre>\n\n<p>The jquery is quite lengthy so I have cut it out but all it does is start a timer and request data from update and set on the label.</p>\n\n<p>With this code will node accept multiple uploads from different hosts ?\nAlso firefox doesnt seem to work but safari/chrome does any idea ?\nHow would I request a status for the file upload ? </p>\n\n<p>Thanks, Alex</p>\n"},{"tags":["php","javascript","ajax","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13020788,"title":"DragNDrop and then handle file with PHP to show in a new page","body":"<p>I have  a form that allows users to upload a file through the \"traditional\" input file form element.</p>\n\n<p>Submitting the form to <code>$_SERVER[\"PHP_SELF\"]</code> reloads the page and the <code>if ($_POST['submit'])</code> conditions triggers a function that processes the file and builds a table that shows all the contents of the file.</p>\n\n<p>Now I would like to add to the mix the possibility to drag and drop the file. Unfortunately, all the solutions I have come across rely on the XMLHttpRequest object, which does not permit me to show anything with js (I don't want to get back with Ajax the data to show, simply because I would need to rewrite a really long function).</p>\n\n<p>Any idea on how I could implement the drag and drop without radically changing the way things work?</p>\n"},{"tags":["javascript","jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":64,"score":0,"question_id":13020258,"title":"reading nested JSON via AJAX with jquery or javascript and outputting to tables","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4017122/jquery-reading-nested-json\">jquery reading nested json</a>  </p>\n</blockquote>\n\n\n\n<p>I would really like to have a hard and fast method to loop through multiple records in JSON, each with potentially deep nesting. I simply want to output to a table. </p>\n\n<p>I am unsure of what arguments need to be passed through the function() for either $.each() or for the javascript methodology of $.ajax() success. All examples seem to use generic words \"data\" or \"obj\" but those confuse me - are they built-in functional arguments or can I name them whatever I want like:</p>\n\n<pre><code>$.each(foo, function(bar){\n\n});\n</code></pre>\n\n<p>And how can I keep track of where I am in the loop / nest?</p>\n\n<p>I would prefer to use JQuery, but I should also know the straight-forward JavaScript method to do so. And I'd also like to know if it's possible without a hundred lines of code. </p>\n\n<p>With this JSON as an example:</p>\n\n<pre><code>{\ndate: \" 2012-10-18 16:58:35.104576\",\ndata: [\n    {\n        title: \"The Princess Bride\",\n        rating: \"PG\", \n        length: 128,\n        stars : [\n                \"Gary Elwes\",\n                \"Robin Wright\",\n                \"Christopher Guest\"\n            ]\n\n    },\n    {\n        title: \"This is Spinal Tap\",\n        rating: \"R\",\n        length: 105,\n        stars: [\n                \"Christopher Guest\",\n                \"Michael McKean\",\n                \"Harry Shearer\"\n            ]\n    }\n]\n}\n</code></pre>\n\n<p>I can't find any useful examples that include nested JSON, even here in the StackOverflow.</p>\n\n<p>what's the most efficient way to loop through and assign each element to a table cell? The HTML output is not important - I know how to make a table... How do I get the \"stars\"?</p>\n\n<p>When I use the Chrome console and simply <code>$.getJSON('/example');</code> I get the entire JSON returned in the responseText, starting with <code>\"{\"date\":\"2012-10-18 ,\"data\": [{\"title\": \"The Princess Bride\",</code> However in neither the JSON docs, the JQuery docs on $.getJSON, nor in any JavaScript examples can I find a reference to <code>responseText</code>. So, I'm lost. What argument does $.getJSON need to objectify the responseText?</p>\n"},{"tags":["php","ajax","dom","jquery-mobile","rel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13020829,"title":"jQM transition is not working with data-rel=\"external\"","body":"<p>I'm stuck in this and I need help please. The code is working just fine but the transition effects are not. I saw somewhere that this is happening because I'm using data-rel=external, but If I don't the dinamyc content is not loaded.\nHere is my code, any help would be appreciated.</p>\n\n<p><strong>Index.php</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;CAVA ONLINE&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n    &lt;link href=\"Css/jquery.mobile-1.2.0.css\" rel=\"stylesheet\"/&gt;\n    &lt;link href=\"cart/style.css\" rel=\"stylesheet\"/&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/functions.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body onLoad=\"javascript:listarVariedades()\"&gt;\n\n&lt;div data-role=\"page\" id=\"main\"&gt;      \n\n\n    &lt;div data-role=\"header\"&gt;   \n        &lt;h1&gt;Header&lt;/h1&gt;\n    &lt;/div&gt;     \n\n    &lt;div data-role=\"content\"&gt;\n        &lt;div&gt;\n            &lt;img src=\"images/Vinos separador [Negro].png\" /&gt;\n        &lt;/div&gt;\n        &lt;div data-role=\"controlgroup\" id=\"buttonGroupVariedades\"&gt;\n        &lt;/div&gt;       \n\n    &lt;/div&gt;     \n\n    &lt;div data-role=\"footer\"&gt;\n        &lt;h1&gt;\n            Footer\n        &lt;/h1&gt;\n\n    &lt;/div&gt; \n&lt;/div&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p><strong>VariedadFicha.php</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;CAVA ONLINE&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n    &lt;link href=\"Css/jquery.mobile-1.2.0.css\" rel=\"stylesheet\"/&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js &lt;/script&gt;\n    &lt;script src=\"js/functions.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;?php\n\n$id_variedad = $_REQUEST[\"id_variedad\"];\n\n?&gt;\n\n\n&lt;body onload=\"javascript:fichaTecnicaVariedad(&lt;?php echo $id_variedad ?&gt;)\"&gt;\n\n&lt;div data-role=\"page\" id=\"VariedadFicha\"&gt;      \n    &lt;div data-role=\"header\"&gt;   \n        &lt;a id=\"volver\" data-icon=\"back\" data-iconpos=\"notext\" onclick=\"history.back()\" rel=\"external\"&gt;&lt;/a&gt;\n        &lt;h1&gt;\n            Header\n        &lt;/h1&gt;     \n    &lt;/div&gt;     \n\n    &lt;div data-role=\"content\"&gt;\n\n         &lt;div&gt;\n\n                 &lt;div data-role=\"collapsible\" data-collapsed=\"false\"&gt;\n                &lt;h1&gt;El Vino&lt;/h1&gt;\n                &lt;div id=\"descripcion\"&gt;\n\n                &lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;div data-role=\"collapsible\" data-collapsed=\"false\"&gt;\n                &lt;h1&gt;Cata&lt;/h1&gt;\n                &lt;div id=\"cata\"&gt;       \n                &lt;/div&gt;\n                &lt;/div&gt;\n\n         &lt;/div&gt;\n\n    &lt;/div&gt;     \n\n    &lt;div data-role=\"footer\"&gt;\n\n    &lt;/div&gt; \n&lt;/div&gt;             \n</code></pre>\n\n<p>\n</p>\n\n<p><strong>JS File (functions.js)</strong></p>\n\n<pre><code>function listarVariedades(){  \n\n$.getJSON('js/variedades.json',function(variedades){\n\n    var buttons = \"\";\n\n    $.each(variedades, function(key, variedad){\n\n        buttons += '&lt;a data-transition=\"slide\" href=\"VariedadFicha.php?id_variedad=' + variedad.id + '\" id=\"'+ variedad.id +'\" data-role=\"button\" rel=\"external\"&gt;' + variedad.nombre + '&lt;/a&gt;';\n\n    });\n\n    $(\"#buttonGroupVariedades\").append(buttons);\n    $(\"#buttonGroupVariedades a\").button();      \n\n});\n}\n\nfunction fichaTecnicaVariedad(id){\n\n$.getJSON('js/variedades.json',function(variedades){\n\n    $.each(variedades, function(key, variedad){\n\n        if(id == variedad.id) {\n\n            $('#descripcion').append('&lt;p&gt;'+variedad.descripcion+'&lt;/p&gt;');\n            $('#cata').append('&lt;p&gt;'+variedad.cata+'&lt;/p&gt;');\n\n        }\n    });\n\n});\n}\n</code></pre>\n"},{"tags":["javascript","ajax","parameter-passing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":75,"score":0,"question_id":13020126,"title":"Ajax - parameters not passing - no jQuery","body":"<p>Unfortunately, I'm getting nothing but jQuery results it seems. I'm looking for the correct way to pass parameters via AJAX, old browser fallbacks are not necessary, but no libraries, please. If there's another thread I've missed on this, please link =)</p>\n\n<p>I'm using $, but it's a custom object/whatever, not jQuery.</p>\n\n<pre><code>$.ajax({\n    't':'POST',\n    'u':e, \n    'd':{ajax:'1'},\n    's':function(data){\n        console.log(data.response);\n        document.getElementById('mainc').innerHTML = data.response;\n    },\n    'e':function(data){\n        console.log(data);\n    }\n});\n</code></pre>\n\n<p>Which calls: </p>\n\n<pre><code>$.ajax = function(a){\nif(!a.u){return false;};\na.t=a.t||\"GET\";\ntypeof a.a=='undefined'?true:a.a;\na.e=a.e||function(){return false;};\na.s=a.s||function(){return true;};\nvar x=new XMLHttpRequest();\nx.open(a.t,a.u,a.a);\nx.onreadystatechange=function(){\n    if(x.readyState===4){\n        if(x.status===200){\n            a.s(x);\n        }else{\n            a.e(x);\n        }\n    }\n};\na.t===\"post\" ? x.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\") : null;\nx.send(a.d);\n</code></pre>\n\n<p>}</p>\n\n<p><code>x.send(a.d)</code> should pass the <code>{ajax:'1'}</code>. I've tried <code>{'ajax':'1'}</code> and just <code>'ajax=1'</code> as well. Not sure why NONE of the parameters I try to pass are making it server side. I'm very certain the parameters are not hitting the server, although the request seems to otherwise send and receive without issue. </p>\n"},{"tags":["jquery","ajax","events","asynchronous","event-handling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13019793,"title":"Two asynchronous events the second depending on the first","body":"<p>I am creating some stuff on a <code>.on()</code> jquery handler like that</p>\n\n<pre><code>$('#idhere').on('click', function(){\n   //create a couple of divs with a class\n   });\n</code></pre>\n\n<p>Now I also want to add an event on the divs created, I have tried:</p>\n\n<pre><code>$('.divcreated').bind('mouseover', function(){\n   //do some magic\n   });\n</code></pre>\n\n<p>For some reason the second event is never triggered probably because they are both asynchronous. Any ideas to trigger the second event?</p>\n"},{"tags":["c#","asp.net","ajax","scriptmanager"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":170,"score":1,"question_id":10766311,"title":"Call server site func mouse hover in asp.net?","body":"<p>Is there any way to implement something that will execute code in an ASP.NET code behind when the user moves their mouse outside of a button?</p>\n\n<p>I can't directly use javascript and aspx code, only the ScriptManager.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13019432,"title":"Include Ajax comment box in this javascript application?","body":"<p>I have a photo viewing application and am trying to combine an AJAX comment box (with mysql) with this javascript application below. A popup window appears with the image and in the popup window i want to add a chat/comment section to comment. How do i combine Ajax with this: The file system for my comment box is:\n   - comment.class.php\n   - demo.php\n   - script.js\n   - submit.php and how do i combine all of them in the photo application below:</p>\n\n<pre><code>         (function() {\n    var $, Lightbox, LightboxOptions;\n\n        $ = jQuery;\n\n      LightboxOptions = (function() {\n\n      function LightboxOptions() {\n  this.fileLoadingImage = 'images/loading.gif';\n  this.fileCloseImage = 'images/close.png';\n  this.resizeDuration = 700;\n  this.fadeDuration = 500;\n  this.labelImage = \"Image\";\n  this.labelOf = \"of\";\n}\n\nreturn LightboxOptions;\n\n })();\n\n Lightbox = (function() {\n\nfunction Lightbox(options) {\n  this.options = options;\n  this.album = [];\n  this.currentImageIndex = void 0;\n  this.init();\n}\n\nLightbox.prototype.init = function() {\n  this.enable();\n  return this.build();\n};\n\n Lightbox.prototype.enable = function() {\n  var _this = this;\n  return $('body').on('click', 'a[rel^=lightbox], area[rel^=lightbox]', function(e) {\n    _this.start($(e.currentTarget));\n    return false;\n  });\n};\n\nLightbox.prototype.build = function() {\n  var $lightbox,\n    _this = this;\n  $(\"&lt;div&gt;\", {\n    id: 'lightboxOverlay'\n  }).after($('&lt;div/&gt;', {\n    id: 'lightbox'\n  }).append($('&lt;div/&gt;', {\n    \"class\": 'lb-outerContainer'\n  }).append($('&lt;div/&gt;', {\n    \"class\": 'lb-container'\n  }).append($('&lt;img/&gt;', {\n    \"class\": 'lb-image'\n  }), $('&lt;div/&gt;', {\n    \"class\": 'lb-nav'\n  }).append($('&lt;a/&gt;', {\n    \"class\": 'lb-prev'\n  }), $('&lt;a/&gt;', {\n    \"class\": 'lb-next'\n  })), $('&lt;div/&gt;', {\n    \"class\": 'lb-loader'\n  }).append($('&lt;a/&gt;', {\n    \"class\": 'lb-cancel'\n  }).append($('&lt;img/&gt;', {\n    src: this.options.fileLoadingImage\n  }))))), $('&lt;div/&gt;', {\n    \"class\": 'lb-dataContainer'\n  }).append($('&lt;div/&gt;', {\n    \"class\": 'lb-data'\n  }).append($('&lt;div/&gt;', {\n    \"class\": 'lb-details'\n  }).append($('&lt;span/&gt;', {\n    \"class\": 'lb-caption'\n  }), $('&lt;span/&gt;', {\n    \"class\": 'lb-number'\n  })), $('&lt;div/&gt;', {\n    \"class\": 'lb-closeContainer'\n  }).append($('&lt;a/&gt;', {\n    \"class\": 'lb-close'\n  }).append($('&lt;img/&gt;', {\n    src: this.options.fileCloseImage\n  }))))))).appendTo($('body'));\n  $('#lightboxOverlay').hide().on('click', function(e) {\n    _this.end();\n    return false;\n  });\n  $lightbox = $('#lightbox');\n  $lightbox.hide().on('click', function(e) {\n    if ($(e.target).attr('id') === 'lightbox') _this.end();\n    return false;\n  });\n  $lightbox.find('.lb-outerContainer').on('click', function(e) {\n    if ($(e.target).attr('id') === 'lightbox') _this.end();\n    return false;\n  });\n  $lightbox.find('.lb-prev').on('click', function(e) {\n    _this.changeImage(_this.currentImageIndex - 1);\n    return false;\n  });\n  $lightbox.find('.lb-next').on('click', function(e) {\n    _this.changeImage(_this.currentImageIndex + 1);\n    return false;\n  });\n  $lightbox.find('.lb-loader, .lb-close').on('click', function(e) {\n    _this.end();\n    return false;\n  });\n};\n\nLightbox.prototype.start = function($link) {\n  var $lightbox, $window, a, i, imageNumber, left, top, _len, _ref;\n  $(window).on(\"resize\", this.sizeOverlay);\n  $('select, object, embed').css({\n    visibility: \"hidden\"\n  });\n  $('#lightboxOverlay').width($(document).width()).height($(document).height()).fadeIn(this.options.fadeDuration);\n  this.album = [];\n  imageNumber = 0;\n  if ($link.attr('rel') === 'lightbox') {\n    this.album.push({\n      link: $link.attr('href'),\n      title: $link.attr('title')\n    });\n  } else {\n    _ref = $($link.prop(\"tagName\") + '[rel=\"' + $link.attr('rel') + '\"]');\n    for (i = 0, _len = _ref.length; i &lt; _len; i++) {\n      a = _ref[i];\n      this.album.push({\n        link: $(a).attr('href'),\n        title: $(a).attr('title')\n      });\n      if ($(a).attr('href') === $link.attr('href')) imageNumber = i;\n    }\n  }\n  $window = $(window);\n  top = $window.scrollTop() + $window.height() / 10;\n  left = $window.scrollLeft();\n  $lightbox = $('#lightbox');\n  $lightbox.css({\n    top: top + 'px',\n    left: left + 'px'\n  }).fadeIn(this.options.fadeDuration);\n  this.changeImage(imageNumber);\n};\n\nLightbox.prototype.changeImage = function(imageNumber) {\n  var $image, $lightbox, preloader,\n    _this = this;\n  this.disableKeyboardNav();\n  $lightbox = $('#lightbox');\n  $image = $lightbox.find('.lb-image');\n  this.sizeOverlay();\n  $('#lightboxOverlay').fadeIn(this.options.fadeDuration);\n  $('.loader').fadeIn('slow');\n  $lightbox.find('.lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption').hide();\n  $lightbox.find('.lb-outerContainer').addClass('animating');\n  preloader = new Image;\n  preloader.onload = function() {\n    $image.attr('src', _this.album[imageNumber].link);\n    $image.width = preloader.width;\n    $image.height = preloader.height;\n    return _this.sizeContainer(preloader.width, preloader.height);\n  };\n  preloader.src = this.album[imageNumber].link;\n  this.currentImageIndex = imageNumber;\n};\n\nLightbox.prototype.sizeOverlay = function() {\n  return $('#lightboxOverlay').width($(document).width()).height($(document).height());\n};\n\nLightbox.prototype.sizeContainer = function(imageWidth, imageHeight) {\n  var $container, $lightbox, $outerContainer, containerBottomPadding, containerLeftPadding, containerRightPadding, containerTopPadding, newHeight, newWidth, oldHeight, oldWidth,\n    _this = this;\n  $lightbox = $('#lightbox');\n  $outerContainer = $lightbox.find('.lb-outerContainer');\n  oldWidth = $outerContainer.outerWidth();\n  oldHeight = $outerContainer.outerHeight();\n  $container = $lightbox.find('.lb-container');\n  containerTopPadding = parseInt($container.css('padding-top'), 10);\n  containerRightPadding = parseInt($container.css('padding-right'), 10);\n  containerBottomPadding = parseInt($container.css('padding-bottom'), 10);\n  containerLeftPadding = parseInt($container.css('padding-left'), 10);\n  newWidth = imageWidth + containerLeftPadding + containerRightPadding;\n  newHeight = imageHeight + containerTopPadding + containerBottomPadding;\n  if (newWidth !== oldWidth &amp;&amp; newHeight !== oldHeight) {\n    $outerContainer.animate({\n      width: newWidth,\n      height: newHeight\n    }, this.options.resizeDuration, 'swing');\n  } else if (newWidth !== oldWidth) {\n    $outerContainer.animate({\n      width: newWidth\n    }, this.options.resizeDuration, 'swing');\n  } else if (newHeight !== oldHeight) {\n    $outerContainer.animate({\n      height: newHeight\n    }, this.options.resizeDuration, 'swing');\n  }\n  setTimeout(function() {\n    $lightbox.find('.lb-dataContainer').width(newWidth);\n    $lightbox.find('.lb-prevLink').height(newHeight);\n    $lightbox.find('.lb-nextLink').height(newHeight);\n    _this.showImage();\n  }, this.options.resizeDuration);\n};\n\nLightbox.prototype.showImage = function() {\n  var $lightbox;\n  $lightbox = $('#lightbox');\n  $lightbox.find('.lb-loader').hide();\n  $lightbox.find('.lb-image').fadeIn('slow');\n  this.updateNav();\n  this.updateDetails();\n  this.preloadNeighboringImages();\n  this.enableKeyboardNav();\n};\n\nLightbox.prototype.updateNav = function() {\n  var $lightbox;\n  $lightbox = $('#lightbox');\n  $lightbox.find('.lb-nav').show();\n  if (this.currentImageIndex &gt; 0) $lightbox.find('.lb-prev').show();\n  if (this.currentImageIndex &lt; this.album.length - 1) {\n    $lightbox.find('.lb-next').show();\n  }\n};\n\nLightbox.prototype.updateDetails = function() {\n  var $lightbox,\n    _this = this;\n  $lightbox = $('#lightbox');\n  if (typeof this.album[this.currentImageIndex].title !== 'undefined' &amp;&amp; this.album[this.currentImageIndex].title !== \"\") {\n    $lightbox.find('.lb-caption').html(this.album[this.currentImageIndex].title).fadeIn('fast');\n  }\n  if (this.album.length &gt; 1) {\n    $lightbox.find('.lb-number').html(this.options.labelImage + ' ' + (this.currentImageIndex + 1) + ' ' + this.options.labelOf + '  ' + this.album.length).fadeIn('fast');\n  } else {\n    $lightbox.find('.lb-number').hide();\n  }\n  $lightbox.find('.lb-outerContainer').removeClass('animating');\n  $lightbox.find('.lb-dataContainer').fadeIn(this.resizeDuration, function() {\n    return _this.sizeOverlay();\n  });\n};\n\nLightbox.prototype.preloadNeighboringImages = function() {\n  var preloadNext, preloadPrev;\n  if (this.album.length &gt; this.currentImageIndex + 1) {\n    preloadNext = new Image;\n    preloadNext.src = this.album[this.currentImageIndex + 1].link;\n  }\n  if (this.currentImageIndex &gt; 0) {\n    preloadPrev = new Image;\n    preloadPrev.src = this.album[this.currentImageIndex - 1].link;\n  }\n};\n\nLightbox.prototype.enableKeyboardNav = function() {\n  $(document).on('keyup.keyboard', $.proxy(this.keyboardAction, this));\n};\n\nLightbox.prototype.disableKeyboardNav = function() {\n  $(document).off('.keyboard');\n};\n\nLightbox.prototype.keyboardAction = function(event) {\n  var KEYCODE_ESC, KEYCODE_LEFTARROW, KEYCODE_RIGHTARROW, key, keycode;\n  KEYCODE_ESC = 27;\n  KEYCODE_LEFTARROW = 37;\n  KEYCODE_RIGHTARROW = 39;\n  keycode = event.keyCode;\n  key = String.fromCharCode(keycode).toLowerCase();\n  if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\n    this.end();\n  } else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\n    if (this.currentImageIndex !== 0) {\n      this.changeImage(this.currentImageIndex - 1);\n    }\n  } else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\n    if (this.currentImageIndex !== this.album.length - 1) {\n      this.changeImage(this.currentImageIndex + 1);\n    }\n  }\n};\n\nLightbox.prototype.end = function() {\n  this.disableKeyboardNav();\n  $(window).off(\"resize\", this.sizeOverlay);\n  $('#lightbox').fadeOut(this.options.fadeDuration);\n  $('#lightboxOverlay').fadeOut(this.options.fadeDuration);\n  return $('select, object, embed').css({\n    visibility: \"visible\"\n  });\n};\n\nreturn Lightbox;\n\n  })();\n\n $(function() {\nvar lightbox, options;\noptions = new LightboxOptions;\nreturn lightbox = new Lightbox(options);\n   });\n\n    }).call(this);\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","json","firefox"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13008887,"title":"Ajax call for JSON data works with FF, but not with other browsers","body":"<p>I have done a php page which returns a (valid) JSON document.\nThe jQuery code is very simple:</p>\n\n<pre><code>$.ajax({\n   url: \"http://localhost:8888/rkm/json-jc\",\n   dataType: \"json\",\n   success: function(data) {\n     console.log(data);\n     $('li.jcarousel-item-1', context).html(\n       '&lt;img src=\"' + data.nodes['0'].node.vignette + '\"&gt;'\n     );\n   }\n});\n</code></pre>\n\n<p>It works fine in FF and the object returned is OK => see 'FF_console' attached.\nBut... it doesn't work in Chrome, Safari and Opera, without throwing errors. The data 'vignette' returned is just undefined => see 'Chrome_console' attached.\nThanks in advance for your help !</p>\n\n<p>NB: jQuery version is 1.3.6\n<img src=\"http://i.stack.imgur.com/suk3q.jpg\" alt=\"Chrome iimage\">\n<img src=\"http://i.stack.imgur.com/qi47U.jpg\" alt=\"FF image\"></p>\n"},{"tags":["jquery","ajax","json","api","jsonp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":45,"score":-6,"question_id":12674422,"title":"receive json with jquery?","body":"<p>Can someone help me to receive this json with jquery?</p>\n\n<pre><code>{\n\"output_type\":\"json\",\"diagnostic\":{\"status\":\"200\",\"elapsetime\":\"0.4187\",\"memoryusage\":\"17.91MB\",\"confirm\":\"success\",\"lang\":\"id\",\"currency\":\"IDR\"},\"results\":{\"result\":[{\"id\":\"business:3772\",\"label\":\"Puri Maharani Boutique Hotel &amp; Spa - Denpasar, Denpasar Timur, Kesiman Kertalangu\",\"value\":\"Puri Maharani Boutique Hotel &amp; Spa\",\"category\":\"Hotel\"},{\"id\":\"business:3852\",\"label\":\"Maharani Hotel  - Jakarta Selatan\",\"value\":\"Maharani Hotel \",\"category\":\"Hotel\"},{\"id\":\"business:3874\",\"label\":\"Maharadja Hotel - Jakarta Selatan, Mampang Prapatan, Tegal Parang\",\"value\":\"Maharadja Hotel\",\"category\":\"Hotel\"},{\"id\":\"business:4776\",\"label\":\"Pita Maha Resort and Spa - Gianyar, Ubud, Ubud\",\"value\":\"Pita Maha Resort and Spa\",\"category\":\"Hotel\"},{\"id\":\"business:4779\",\"label\":\"The Royal Pita Maha Resort and Spa - Gianyar, Ubud, Kedewatan\",\"value\":\"The Royal Pita Maha Resort and Spa\",\"category\":\"Hotel\"},{\"id\":\"business:18420\",\"label\":\"Villa Mahapala Bali - Denpasar, Denpasar Selatan, Sanur\",\"value\":\"Villa Mahapala Bali\",\"category\":\"Hotel\"},{\"id\":\"business:105246\",\"label\":\"Mahagiri Dreamland Villas &amp;amp; Spa - Badung, Kuta Selatan, Pecatu\",\"value\":\"Mahagiri Dreamland Villas &amp;amp; Spa\",\"category\":\"Hotel\"}]},\"token\":\"bc8d3a106572e4cff038261afb568ecf\"}\n</code></pre>\n\n<p>I use $.getJSON and $.ajax function but some problem occured,can someone help me with some jquery code?</p>\n\n<p>this is my code,</p>\n\n<pre><code>function getAPI() {\n            jQuery.ajax({\n            url: 'http://api.master18.tiket.com/search/autocomplete/hotel?q=mah&amp;token=90d2fad44172390b11527557e6250e50&amp;secretkey=83e2f0484edbd2ad6fc9888c1e30ea44&amp;output=json',\n        beforeSend: function(x) {\n            if(x &amp;&amp; x.overrideMimeType) {\n             x.overrideMimeType(\"application/j-son;charset=UTF-8\");\n            }\n        },\n            type:\"get\",\n            dataType: 'json',\n            crossDomain: true,\n         success: function(data) { console.log(data); }\n         });\n    }\n</code></pre>\n\n<p>but the error is Uncaught SyntaxError: Unexpected token : </p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13018972,"title":"How to wait for AJAX requests to complete in JQuery?","body":"<p>I have 4 different JQuery AJAX functions, each fetching different information from the last.fm API. This info has to be joined together in a tooltip.</p>\n\n<p>These are my 4 functions:</p>\n\n<ol>\n<li>Gets the album for a given track &amp; artist. Returns track name.</li>\n<li>Gets the artist image. Returns 1 URL.</li>\n<li>Gets the top 3 albums of the artist. Returns array of 3 strings.</li>\n<li>Gets the #1 top track of a given artist. Returns track name.</li>\n</ol>\n\n<p>var getTrackAlbum = function(track, artist) {\n    $.getJSON(\n      settings.PHP_REQUEST_URL,\n      {\n        method: \"track.getInfo\",\n        api_key : settings.LASTFM_APIKEY,\n        track   : track,\n        artist  : artist,\n        format  : \"json\"\n      },\n      function(data) {\n        return data.track.album.title;\n      });\n  }</p>\n\n<p>var getArtistImage = function(artist) {\n    var options = {\n      artSize: 'medium',\n      noart: 'images/noartwork.gif',\n    }</p>\n\n<pre><code>if(options.artSize == 'small'){imgSize = 0}\nif(options.artSize == 'medium'){imgSize = 1}\nif(options.artSize == 'large'){imgSize = 2}\n\n$.getJSON(\n  settings.PHP_REQUEST_URL,\n  {\n    method: \"artist.getInfo\",\n    api_key : settings.LASTFM_APIKEY,\n    artist  : artist,\n    format  : \"json\"\n  },\n  function(data) {\n    return stripslashes(data.artist.image[imgSize]['#text']);\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>var getArtistTopAlbums = function(artist) {\n    var albums = new Array();</p>\n\n<pre><code>var onComplete = function() {\n  return albums;\n}\n\n$.getJSON(\n  settings.PHP_REQUEST_URL,\n  {\n    method: \"artist.getTopAlbums\",\n    api_key : settings.LASTFM_APIKEY,\n    artist  : artist,\n    format  : \"json\"\n  },\n  function(data) {\n    $.each(data.topalbums.album, function(i, item){\n      albums[i] = item.name;\n\n      if(i == 2) { \n        onComplete.call(this);\n        return;\n      }\n    });\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>var getArtistTopTrack = function(artist) {\n    $.getJSON(\n      settings.PHP_REQUEST_URL,\n      {\n        method: \"artist.getTopTracks\",\n        api_key : settings.LASTFM_APIKEY,\n        artist  : artist,\n        format  : \"json\"\n      },\n      function(data) {\n        return data.toptracks.track[0].name;\n      });\n  }</p>\n\n<p>I have decided against doing all the requests inside a unique method for reuse purposes. However, now I want to wait for ALL the AJAX requests to complete before I set the HTML of my tooltip.</p>\n\n<p>Here's the code of my tooltip:</p>\n\n<pre><code>$('.lfm_info').on('mouseover', function(){\n          var toolTip = $(this).children('.tooltip');\n\n          var trackhtml = $(this).parent().children('.lfm_song').html().split(\".\");\n          var track = trackhtml[1].trim();\n          var artist = $(this).parent().children('.lfm_artist').html();\n\n        // needs to wait until the AJAX is done!    \n        toolTip.html('html here');\n\n        $('#tracks').mouseleave(function(){\n         if(toolTip.is(':visible')){\n           toolTip.fadeOut(500);  \n         };    \n       });\n\n        toolTip.fadeIn(500);      \n      });\n  }\n</code></pre>\n\n<p>How would I wait for all requests to complete before invoking <code>toolTip.html(...)</code>?</p>\n"},{"tags":["jquery","ajax","jquery-ajax","global-variables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13018956,"title":"Recalculate variables after elements have been appended to a container","body":"<p>I've created a slider using jquery thats contents can be changed using ajax. My issue is how to recalculate the variables needed for the slider after the content is appended. The way I'm trying to do it seems to run before the content is appended giving me null for the values. </p>\n\n<p>So I have some html for the slider.</p>\n\n<pre><code>&lt;div class=\"video-pl\"&gt;\n  &lt;div class=\"pl-left-arrow active\"&gt;&lt;/div&gt;\n&lt;div class=\"pl-cont\"&gt;\n    &lt;/div&gt;\n  &lt;div class=\"pl-right-arrow\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now when a tab is clicked I add an unordered list <code>ul.video-pl-ul</code> of items to <code>.pl-cont</code> using this script which uses a php function.</p>\n\n<pre><code>$(document).ready(function(){\n    $(\".playlist-menu li\").click(function() {\n       var loopType = $(this).data(\"loop\");\n       var postAuthor = videoAjax.post_author;\n       $(\".playlist-menu li\").removeClass(\"active\");\n       $(this).addClass(\"active\");\n       $(\".pl-cont\").empty();\n       data = {\n          action: 'fetch_video_feed',\n          loop_type : loopType,\n          post_author : postAuthor\n       };\n       $.post(ajaxurl, data, function (response) {\n         var $response = $(response);\n         $(\".pl-cont\").append($response);\n       });\n       var totalImages = $(\".video-pl-ul &gt; li\").length, \n         imageWidth = $(\".video-pl-ul &gt; li:first\").outerWidth(true),\n         totalWidth = imageWidth * totalImages;\n         alert(imageWidth);\n       $(\".video-pl-ul\").width(totalWidth);\n       $(\"#video-bottom-bar\").animate({\n           bottom : 0\n       });\n       $(\".close-arrow\").fadeIn();\n    });\n</code></pre>\n\n<p>Now here I need to set the global variables <code>totalImages</code> <code>imageWidth</code> <code>totalWidth</code> after the response has been appended so I can use them in the function that runs the slider. How do I do this correctly?</p>\n"},{"tags":["c#","asp.net","ajax","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13017896,"title":"FileUpload failure in Ajax UpdatePanel","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5482644/file-upload-control-is-not-working\">File Upload Control is not working</a>  </p>\n</blockquote>\n\n\n\n<p>I have a web page with <code>FileUpload</code> control, <code>Image</code> control to display uploaded file, <code>DataList</code> control to display results of the query. There is a single button to trigger processing: saving image from upload control and passing it for processing to find image matches and displaying them in a grid view control.</p>\n\n<p>I wanted to perform the whole operation flicker free and put all controls into</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=”UpdatePanel1” runat=”server”&gt;\n    &lt;ContentTemplate&gt;\n    ...\n    &lt;/ContentTemplate&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>However upon the button click file upload control does not have file. Do I need to separate file upload and image processing logic into 2 buttons from which file upload can not be performed without full page postback?</p>\n"},{"tags":["mysql","ajax","database-connection","innodb","heavyweight"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13019038,"title":"how configure mysql for a heavy load ajax application which is using tomcat connection pooling?","body":"<p>I've a GWT ajax application on tomcat server 7 which uses connection pooling to interact with its back-end mysql 5 database (My database only contains InnoDB tables).<br/>\nThe application is extremely based on db operations &amp; for each little operation it need to fetch some data or write data from/to db, call db SPs &amp; user-defined functions &amp; so on...<br/>\nThe program will use each connection for a short time &amp; then will return it to connection pool. the maximum concurrent connections may increase about 100-200 connections at the pick load time.\nIt works fine at the beginning of running mysql server, but after one or two hours, it became too slow &amp; the number of failed connections to database increases about 10% off all connections.<br/>\nI've tried to use my-large or my-huge default suggested configurations of mysql server, but I think i need something more than these to achieve a stable situation for mysql server.<br/>\nany idea ?</p>\n"},{"tags":["jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13014810,"title":"Updating URL bar","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/9041872/how-ajax-is-done-in-github-source-browse\">How AJAX is done in github source browse?</a>  </p>\n</blockquote>\n\n\n\n<p>At the moment I have a div and the following code on a link:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"$('div#content').load('Admin/users.php');\" id=\"admin-panel-icon\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Basically, that just loads the file users.php in to the div content that is on the index.php page. In the URL bar, a # just gets added after index.php taken from the href=\"#\". </p>\n\n<p>So I have made it now so that the link looks like the following:</p>\n\n<pre><code>&lt;a href=\"#AdminUsers\" onclick=\"$('div#content').load('Admin/users.php');\" id=\"admin-panel-icon\"&gt;\n</code></pre>\n\n<p>But now there is the problem of bookmarking and page refreshing. How would I go about making it so that when a user visits index.php#AdminUsers it loads the users.php file contents in to the div #Contents?</p>\n\n<p>I imagine there is maybe a better solution to what I'm doing. I mean ideally I would like people to be able to visit /Admin/users.php and not have any hash tags but I'm not sure how I'd go about doing this whilst at the same time only loading the users.php content?</p>\n"},{"tags":["jquery","ajax","internet-explorer-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12996431,"title":"Jquery sometimes not working with ie8","body":"<p>I have this code to get value from server request</p>\n\n<pre><code>var itemPackage = ddlPackages.value;\n\n$.ajax({\n    type: 'GET',\n    data: ({ itemPacking: itemPackage }),\n    url: '/List/ItemCurrentQty/',\n\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    context: this,\n    timeout: 5000,\n\n\n    success: function (data) {\n        $('#OutQty').data('tTextBox').maxValue = data[0].CurrentQty;\n        $('#CurrStockQty').text(data[0].CurrentQty);\n\n    }\n});\n</code></pre>\n\n<p>the  <code>$('#CurrStockQty')</code> text not updated with ie8 but it's ok with google chrom\nany Idea please?</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13015098,"title":"How to update a textarea with line breaks through Ajax?","body":"<p>I am desperately trying to update a textarea with Ajax:</p>\n\n<p>application.js:</p>\n\n<pre><code>$(\"#invoice_project_id\").change(function() {\n    var value=$(this).val();\n    $.get('/invoices/get_recipient', {project_id= : value}  function(response) {\n        $('#invoice_recipient').val(response);\n    })\n});​\n</code></pre>\n\n<p>get_recipient.js:</p>\n\n<pre><code>$('#invoice_recipient').val(\"&lt;%= @recipient %&gt;\");\n</code></pre>\n\n<p>The code stops working when a value that contains line breaks is being inserted into the textarea.</p>\n\n<p>For example, I get this on my console when inserting a simple one liner value:</p>\n\n<pre><code>$('#invoice_recipient').val(\"123 Evergreen Terrasse\");\n</code></pre>\n\n<p>Which is correct and works perfectly.</p>\n\n<p>But, when trying to insert a value that contains a line break, I get this on my console:</p>\n\n<pre><code>$('#invoice_recipient').val(\"65341 Bruen Brooks\nEast Charityville\"); \n</code></pre>\n\n<p>(Note the line break after <code>Brooks</code> that probably causes JavaScript to terminate the code.)</p>\n\n<p>Is there any way to fix this, perhaps by removing the line breaks from the values?</p>\n"},{"tags":["ajax","prototypejs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13018507,"title":"Prototype AJAX Updater Multiple Requests","body":"<p>I am just beginning to learn AJAX and am trying to build a cascading dropdown that pulls information from a database. My AJAX.Updater code works, but not only for one of the dropdowns.  How do I make multiple AJAX.Updater calls?</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"jQuery/jquery-latest.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"jQuery/prototypejs.js\"&gt;&lt;/script&gt;\n&lt;script language=\"javascript\"&gt;\njQuery(document).ready(function()\n{\n  jQuery('#regiondropdown').change(function() {\n  dropdowns(jQuery(this).val(),\"foo\");\n  });\n\n  jQuery('#foodropdown').change(function() {\n  dropdowns(jQuery(this).val(),\"bar\");\n  });\n\n}\n);\n\nfunction dropdowns(str,type)\n  {\n      if (type==\"foo\") {\n        new Ajax.Updater('foo', 'foo_dropdown.php', { method: 'get', parameters: {foo: str} });\n      } else if (type==\"bar\") {\n        new Ajax.Updater('bar', 'bar_dropdown.php', { method: 'get', parameters: {bar: str} });\n      }\n  }\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":10,"view_count":68,"score":-10,"question_id":13018624,"title":"How to get value from input tag slider using jquery?","body":"<p>\n    \n    \n    \n    \n    \n    \n    \n    \n    </p>\n\n<pre><code>&lt;input id=\"Slider1\" type=\"slider\" name=\"price\" value=\"0;200\" /&gt;&lt;/span&gt;\n&lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n  jQuery(\"#Slider1\").slider({ from:0, to: 200, step: 5, smooth: true, round: 0, dimension: \"&amp;nbsp;$\", skin: \"plastic\" });\n&lt;/script&gt;\n</code></pre>\n\n \n    //how to code here to send value to php file and show response  to #productj. Please provide me asap thanks.            \n\n\n"},{"tags":["php","html","ajax","redirect","header"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13018454,"title":"AJAX PHP Header 401","body":"<p>So I am submitting form data on the main page with ajax to a php script that inserts all the data into the database. After finishing though I want to redirect somewhere. So here's my ajax:<br></p>\n\n<pre><code>$('#form').submit(function() {\n    if(val.form()) { \n    var $this = $(this);\n        $.ajax({\n            data: $this.serialize(), // get the form data\n            type: \"POST\",\n            url: \"scripts/insert.php\",\n            complete: function(response){\n                var redirect = response.getHeader('Location');\n                alert(redirect);\n            }\n        });\n    }\n    return false;\n});\n</code></pre>\n\n<p>And at the end of the php file i have:<br></p>\n\n<pre><code>header(\"Location: http://www.google.com\", true, 401);\nexit();\n</code></pre>\n\n<p>I use chromephp to debug so when executed the console outputs this:<br></p>\n\n<pre><code>POST http://www.domain.com/Folder/scripts/insert.php 401 (Authorization Required) jquery.min.js:2\n\nUncaught TypeError: Object #&lt;Object&gt; has no method 'getHeader' /Folder/:320\n</code></pre>\n\n<p>So how do I redirect at the end of the script when I'm using ajax? Thanks</p>\n"},{"tags":["jquery","ajax","jquery-ajax","ios6","fileapi"],"answer_count":2,"favorite_count":5,"up_vote_count":3,"down_vote_count":0,"view_count":1036,"score":3,"question_id":12539862,"title":"IOS6 and Safari Photo Uploading - File API + Canvas + jQuery Ajax Uploading and Resizing Files Asynchronously","body":"<p>IOS6 has been released and I've been testing photo uploading.</p>\n\n<p>It works well, but with larger images over 3G it is SLOW as expected.</p>\n\n<p>Thanks to File API and Canvas, it is possible to resize images using JavaScript. I hope that if I resize the images before I attempt to upload them, they will upload faster - lending itself to a speedy user experience. With smartphone processors improving exponentially faster than the network speeds, I believe this solution is a winner.</p>\n\n<p>Nicolas has offered an excellent solution for image resizing:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/961913/image-resize-before-upload\">Image resize before upload</a></p>\n\n<p>However, I am having the hardest time implementing it with jQuery's Ajax. Any advice or help is appreciated, as this code will probably be extremely useful for mobile web application development post-IOS6.</p>\n\n<pre><code>var fileType = file.type,\n    reader = new FileReader();\n\nreader.onloadend = function () {\n    var image = new Image();\n    image.src = reader.result;\n\n    image.onload = function () {\n\n        //Detect image size\n        var maxWidth = 960,\n            maxHeight = 960,\n            imageWidth = image.width,\n            imageHeight = image.height;\n        if (imageWidth &gt; imageHeight) {\n            if (imageWidth &gt; maxWidth) {\n                imageHeight *= maxWidth / imageWidth;\n                imageWidth = maxWidth;\n            }\n        } else {\n            if (imageHeight &gt; maxHeight) {\n                imageWidth *= maxHeight / imageHeight;\n                imageHeight = maxHeight;\n            }\n        }\n\n        //Create canvas with new image\n        var canvas = document.createElement('canvas');\n        canvas.width = imageWidth;\n        canvas.height = imageHeight;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(this, 0, 0, imageWidth, imageHeight);\n\n        // The resized file ready for upload\n        var finalFile = canvas.toDataURL(fileType);\n\n        if (formdata) {\n\n            formdata.append(\"images[]\", finalFile);\n\n            $.ajax({\n                url: \"upload.php\",\n                type: \"POST\",\n                data: formdata,\n                dataType: 'json',\n                processData: false,\n                contentType: false,\n                success: function (res) {\n                    //successful image upload\n                }\n            });\n\n        }\n    }\n}\nreader.readAsDataURL(file);\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","ajax","erb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13015515,"title":"Partial not being found Rails","body":"<p>I am following Michael Hartl's book to put in some following functionality into my app and when I attempt to use the AJAX on my follow and unfollow buttons I am receiving these errors when trying to change the buttons that are rendered:</p>\n\n<pre><code>Completed 500 Internal Server Error in 81ms\n\nActionView::MissingTemplate (Missing template users/follow_user, application/follow_user with {:locale=&gt;[:en], :formats=&gt;[:js, :html], :handlers=&gt;[:erb, :builder, :coffee]}. Searched in:\n  * \"/Users/hugo/Web Development/Rails/sample/app/views\"\n  * \"/Users/hugo/.rvm/gems/ruby-1.9.2-p318/gems/kaminari-0.13.0/app/views\"\n  * \"/Users/hugo/.rvm/gems/ruby-1.9.2-p318/gems/devise-2.0.4/app/views\"\n):\n  app/controllers/users_controller.rb:73:in `follow_user'\n  lib/ct_gems/dm-core-1.2.0/lib/dm-core.rb:263:in `block in repository'\n  lib/ct_gems/dm-core-1.2.0/lib/dm-core/repository.rb:114:in `scope'\n  lib/ct_gems/dm-core-1.2.0/lib/dm-core.rb:263:in `repository'\n\n\n  Rendered /Users/hugo/.rvm/gems/ruby-1.9.2-p318/gems/actionpack-3.2.3/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)\n</code></pre>\n\n<p>This is the code in my controller:</p>\n\n<pre><code>def follow_user\n    @other_user = User.get(params[:user_id].to_i)\n    current_user.follow(@other_user)\n\n    respond_to do |format|\n      format.html {redirect_to user_profile_path(@other_user)}\n      format.js\n    end\n  end\n</code></pre>\n\n<p>This is my form...well not form but the link to follow function:</p>\n\n<pre><code>&lt;% unless current_user == @user %&gt;\n  &lt;div id=\"follow_form\"&gt;\n  &lt;% if current_user.following?(@user) %&gt;\n    &lt;%= render 'users/unfollow' %&gt;\n  &lt;% else %&gt;\n    &lt;%= render 'users/follow' %&gt;\n  &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>And this is one of the partials I am trying to render:</p>\n\n<pre><code>&lt;%= link_to \"Follow\", user_follow_user_path(@user), :class =&gt; \"btn btn-primary\", :style =&gt; \"margin-bottom:20px;\", :remote =&gt; true %&gt;\n</code></pre>\n\n<p>And this is the file to render the right button, I'm using this code my Michael's book:</p>\n\n<pre><code>$(\"#follow_form\").html(\"&lt;%= escape_javascript(render('users/unfollow')) %&gt;\")\n</code></pre>\n\n<p>However I am getting the error above that my partial is not found; can anyone explain to me why? Thanks</p>\n"},{"tags":["javascript","jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":13017146,"title":"How to make a successful JSON call from Javascript","body":"<p>I am baffled by this for very long now. I want to gain this precious knowledge of making JSON call properly. Help me Humans.</p>\n\n<p>So I'm making a call exactly like this:</p>\n\n<pre><code>$.ajax({\n\n        type    : \"POST\",\n        url     : \"http://quote.mythicalQuotes.com/unicorn/service/historical/json?callback=callme&amp;symbols=APPL\",\n        dataType: \"text\",   \n        cache   : false,       \n        data    : My_Array, \n        error   : function(request,error){alert(request+\" \"+error); },            \n        success : function(data) \n                { \n                    alert(\"Response\" + data);  \n                }//success \n\n}).fail(function(textStatus, errorThrown) { alert(\"error Error\"); \n    console.log(\"The following error occured: \"+ textStatus, errorThrown); });  \n</code></pre>\n\n<p>But it fails and throws 'error' alert. Good Coding!</p>\n\n<p>Now pasting \"<strong>http://quote.mythicalQuotes.com/unicorn/service/historical/chart/lite/json?callback=callme&amp;symbols=APPL</strong>\" on my browser URL gives me nice JSON of format:</p>\n\n<pre><code>     callme(\n        {\n        \"SYMB\" : [\n        {\n        \"DESCRIPTION\" : \"APPL,\n        \"BARS\" : {\n\n        \"CB\" :[\n        {\n        \"lt\" : \"09-01-2011::20:00:00\",\n        \"op\" : \"16.31\",\n        \"cl\" : \"15.22\",\n        \"hi\" : \"16.45\",\n        \"lo\" : \"14.72\",\n        \"v\" : \"17768019\"\n        },\n        {\n        \"lt\" : \"09-02-2011::20:00:00\",\n        \"op\" : \"15.22\",\n        \"cl\" : \"14.22\",\n        \"hi\" : \"19.45\",\n        \"lo\" : \"10.72\",\n        \"v\" : \"17768000\"\n        }\n        ]\n        }\n        ]\n        })\n</code></pre>\n\n<p>So what atrocity am I doing here which is provoking my anger toward this particular Javascript semantics/syntactics? </p>\n\n<p>Couple of reasons I thought which might cause this.\n1. Same origin policy.\n2. Wrong JSON format being return.\n3. Stupidity of my code.</p>\n\n<p>Please help.</p>\n"},{"tags":["ajax","symfony2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":328,"score":0,"question_id":11180660,"title":"Refresh page in symfony2 at the end of Ajax call","body":"<p>How can I refresh a page after an ajax call is executed. \nMy Ajax call is </p>\n\n<pre><code> $.ajax({\n         type: \"POST\",\n         data: data,\n         url:\"{{ path('v2_pm_patents_trashpatents') }}\",\n         cache: false\n});\n</code></pre>\n\n<p>The method that is executed by this ajax is </p>\n\n<pre><code> public function trashpatentAction(Request $request){\n    if ($request-&gt;isXmlHttpRequest()) {\n        $patent_id = $request-&gt;get(\"pid\");\n        $em = $this-&gt;getDoctrine()-&gt;getEntityManager();\n        $patent = $em-&gt;getRepository('MunichInnovationGroupPatentBundle:SvPatents')-&gt;find($patent_id);\n        if (!$patent) {\n            throw $this-&gt;createNotFoundException('No patent found for id '.$patent_id);\n        }\n        $patent-&gt;setIs_deleted(1);\n        $em-&gt;flush();\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Portfolio Controller Index Action</p>\n\n<pre><code>public function indexAction(Request $request) {\n     $switch_form = $this-&gt;createForm(new SwitchPortfolioType($portfolios));\n     ////rest of action code\n     return $this-&gt;render('MunichInnovationGroupPatentBundle:Portfolio:index.html.twig', array('new_patentgroup_form' =&gt; $new_patentgroup_form-&gt;createView(),'switch_form' =&gt; $switch_form-&gt;createView(), 'new_form' =&gt; $new_form-&gt;createView(), \"portfolios\" =&gt; $portfolios ,\"selected_portfolio\" =&gt; $selected_portfolio,\"portfolio_groups\" =&gt; $portfolio_groups,\"patents\" =&gt; $patents));\n\n}\n</code></pre>\n\n<p>Index.html.twig</p>\n\n<pre><code> &lt;form name=\"portfolios\" action=\"{{ path('v2_pm_portfolio') }}\" method=\"post\" &gt;\n            {{ form_widget(switch_form) }}\n            &lt;input type=\"submit\"class=\"portfolio_input button2 tooltip\" value=\"Switch\"&gt;\n &lt;/form&gt; \n</code></pre>\n\n<p>SwitchPortfolioType</p>\n\n<p>\n\n<pre><code>use Symfony\\Component\\Form\\AbstractType;\nuse Symfony\\Component\\Form\\FormBuilder;\n\nclass SwitchPortfolioType extends AbstractType\n{\npublic function __construct($portfolios)\n{\n    $this-&gt;portfolios = $portfolios;\n}\n\n\npublic function buildForm(FormBuilder $builder, array $options)\n{\n    $builder\n    -&gt;add('', 'choice', array(\n        'choices'   =&gt; array(\n                'test' =&gt; 'Test'\n        ),\n            'empty_value' =&gt; 'Switch your Portfolio',\n    ));\n}\n\npublic function getName()\n{\n    return 'switch_portfolio';\n}\n</code></pre>\n\n<p>}</p>\n\n<p>At the end of this action I want to refresh the page </p>\n\n<p>How can I do this?</p>\n"},{"tags":["javascript","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":53,"score":-1,"question_id":13016366,"title":"Create unordered list from JSON object using JS (jQuery)","body":"<p>I would like to create an unordered list using jQuery <code>.each()</code> for the JSON <code>entry</code> object in the code below</p>\n\n<pre><code>$(document).ready(function() {\n    $.ajax({\n        type: \"GET\",\n        url: \"http://query.yahooapis.com/v1/public/yql?q=SELECT%20title%2C%20description%2C%20link%2C%20pubDate%0AFROM%20feed(0%2C5)%0AWHERE%20url%3D'http%3A%2F%2Ffeeds.feedburner.com%2FffAggregator'&amp;format=json&amp;diagnostics=true&amp;callback=friendFeed\",\n        data: { get_param: 'value' },\n        success: function (data) {\n            var names = data\n\n            $('#results').html(data);\n        }\n    });\n});\n</code></pre>\n\n<p>I would like to achieve this with JavaScript (jQuery) alone </p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13017286,"title":"when run the document.ready() event ,some times ajax request not working properly","body":"<pre><code>var casualDays;\nvar days;\n\n  $(document).ready(function(){\n\n    $(function(){\n        $('select, input').styledSelect();\n    });\n\n    $(function (){\n    var usernameSelected = $(\"input#Employee_UserName\" ).val().toString();\n    var username;\n    $.ajax({\n        url: '@Url.Action(\"GetLeaveConsumedDays\", \"ApplyLeave\")',\n        type: 'POST',\n\n        data: { username: usernameSelected },\n\n        success: function (results) {\n           days=results;\n        }, \n        error: function () {\n            alert(\"error\");\n        }\n    });\n    });\n    $(function (){\n    var usernameSelected = $(\"input#Employee_UserName\" ).val().toString();\n    var username;\n    $.ajax({\n        url:'@Url.Action(\"GetLeaveConsumedDaysCasual\", \"ApplyLeave\")',\n        type: 'POST',\n\n        data: { username: usernameSelected },\n\n        success: function (results) {\n           casualDays=results;\n        }, \n        error: function () {\n            alert(\"error\");\n        }\n    });\n    });\n</code></pre>\n\n<p>K</p>\n\n<p>this is my document.ready event, After run the page its work two or three time correctly.but after several times its not working properly.its not giving value for 'days' and 'casualdays' there value are get some error.After refreshing two or three time again its work.I cant think what is the reason for that.please any one can help me</p>\n"},{"tags":["jquery","ruby-on-rails","ajax","jquery-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13017312,"title":"JQuery: $.ajax calls seem to be blocking image download","body":"<p>I have a series of AJAX calls that are fired to the web server to load more information after the DOM is loaded (I wrap the calls in the $.ready function). However, it still seems to be blocking. I did not set the async option in my code. Am I doing something wrong here? Below are my code:</p>\n\n<pre><code>  $(document).ready(function() {\n    var places = #{@results.to_json};\n\n    Places.SERP.initialize(places);\n  });\n</code></pre>\n\n<p>In my serp.js where the Places.SERP.initialize(places) is defined:</p>\n\n<pre><code>  initialize = function(places) {\n    initMap(places);\n    initDeals(places);\n    initFriends(places);\n  };\n</code></pre>\n\n<p>In the 3 init* calls, I have numerous $.ajax calls to fetch more information from the server. The code looks something like this:</p>\n\n<pre><code>$.ajax({\n  type: \"GET\",\n  timeout: 1000,\n  url: url,\n  dataType: \"json\",\n  success: function(retval) {\n    if (retval) {\n      var data = retval.data;\n      if (data) {\n        var stats = data.stats,\n            friends = data.friends;\n\n        if (stats) {\n          $(\"#places-\" + internalId).find(\".checkins-wrapper\").\n            hide().\n            append(template({\n              checkinCount: stats.checkinsCount\n            })).\n            fadeIn();\n        }\n      }\n    }\n  },\n  error: function(jqXHR, status, errorThrown) {\n  }\n});\n</code></pre>\n"},{"tags":["ajax","jquery-blockui"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13017249,"title":"BlockUI Ajax loading wrong moment","body":"<p>I know there's other post about this. but there's no answer. </p>\n\n<p>Situation, I have an ajax command. It take time because I have somes things to get.</p>\n\n<p>I want to include a loading between the execution of the ajax.</p>\n\n<p>I want to use jquery BlockUI because its simple and good looking.</p>\n\n<p>But I dont know why the visual effect not working until ajax load the entire data(like when \"success\" begin).</p>\n\n<p>I try multiple way but not working.</p>\n\n<p>here's my last code :</p>\n\n<p>function from <a href=\"http://www.codeproject.com/Articles/382390/An-Example-to-Use-jQuery-Global-AJAX-Event-Handler\" rel=\"nofollow\">http://www.codeproject.com/Articles/382390/An-Example-to-Use-jQuery-Global-AJAX-Event-Handler</a></p>\n\n<pre><code>var AjaxGlobalHandler = {\nInitiate: function(options) {\n    $.ajaxSetup({ cache: false });\n\n    // Ajax events fire in following order\n    $(document).ajaxStart(function() {\n        $.blockUI({\n            message: options.AjaxWait.AjaxWaitMessage,\n            css: options.AjaxWait.AjaxWaitMessageCss\n        });\n    }).ajaxSend(function(e, xhr, opts) {\n    }).ajaxError(function(e, xhr, opts) {\n        if (options.SessionOut.StatusCode == xhr.status) {\n            document.location.replace(options.SessionOut.RedirectUrl);\n            return;\n        }\n\n        $.colorbox({ html: options.AjaxErrorMessage });\n    }).ajaxSuccess(function(e, xhr, opts) {\n    }).ajaxComplete(function(e, xhr, opts) {\n    }).ajaxStop(function() {\n        $.unblockUI();\n    });\n}\n}; \n</code></pre>\n\n<p>call ready</p>\n\n<pre><code>        var options = {\n            AjaxWait: {\n                AjaxWaitMessage: '&lt;h1 class=\"ui-overlay-loading-content\"&gt;&lt;img class=\"ui-overlay-loading-image\" src=\"_inc/img/loading3circle1.gif\" /&gt;Chargement des données ...&lt;/h1&gt;',\n\n                AjaxWaitMessageCss: { backgroundColor: '#ffffff' }\n            },\n            AjaxErrorMessage: \"&lt;h6&gt;Erreur!/h6&gt;\"         \n        };\n\n        AjaxGlobalHandler.Initiate(options);\n</code></pre>\n\n<p>call execution</p>\n\n<pre><code>$.ajax({\n                type: \"POST\",\n                url: location.href.split('/').pop() + \"?action=\" + actionName + \"&amp;recherche=\" + recherche,\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"json\",\n                success: function(response) {\n                    FillDataGridOnSuccess(response, gridId, dataTypeName);\n                },\n                error: function(xhr, ajaxOptions, thrownError) {\n                    alert(\"xhr.status : \" + xhr.status);\n                    alert(\"thrownError : \" + thrownError);\n                }\n            });    \n</code></pre>\n\n<p>I try also</p>\n\n<pre><code>var ajaxSettings = function(options) {\n    return $.extend(\n        {\n            beforeSubmit: function() {\n            //beforeSend: function() {                \n                $.blockUI({ overlayCSS: { backgroundColor: '#ffffff' },\n                    message: '&lt;h1 class=\"ui-overlay-loading-content\"&gt;&lt;img class=\"ui-overlay-loading-image\" src=\"_inc/img/loading3circle1.gif\" /&gt;Chargement des données ...&lt;/h1&gt;'\n                });\n            },\n            complete: function() {\n                $.unblockUI();\n            }\n        },\n        options\n    );\n};\n</code></pre>\n\n<p>Every test that I did end with a loading who seems to only appear on ajaxSuccess.</p>\n\n<p>I know there's sample on official blockUI site <a href=\"http://jquery.malsup.com/block/#demos\" rel=\"nofollow\">http://jquery.malsup.com/block/#demos</a>\nand they working there, but I cant on my own. did anybody see why?</p>\n\n<p>tank you</p>\n"},{"tags":["javascript","asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13016897,"title":"Sending AJAX Request from HTML to ASPX","body":"<p>I'm trying to send an AJAX request from a standard .html page to a .aspx page. I just want to see if this is something that can be done, but I keep getting 'Status Code: HTTP/1.1 500 Internal Server Error'. I was told that aspx is not intended to work this way, but that it can be done.</p>\n\n<p>My Javascript:</p>\n\n<pre><code>function handleload(e) {\n            alert(req.responseText);\n        }\n\n        var req = new XMLHttpRequest();\n        req.open('POST', 'helloworld.aspx' , true);\n        req.addEventListener('error', function(e) {console.log(e)}, false);\n        req.addEventListener('load', handleload, false);\n        req.send();\n</code></pre>\n\n<p>My aspx Page:</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\"\nCodeFile=\"helloworld.aspx.cs\" Inherits=\"helloworld\" %&gt;\n</code></pre>\n\n<p>My aspx.cs Page: </p>\n\n<pre><code>using System;\n\npublic partial class helloworld : System.Web.UI.Page\n{\n    public void Page_Load()\n    {\n        Response.ContentType = 'text/html';\n        Response.Write(\"Hello World!\")\n        Response.End();\n    }\n}\n</code></pre>\n"},{"tags":["jquery","ajax","null"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":2345,"score":6,"question_id":2794183,"title":"Cannot pass null to server using jQuery AJAX. Value received at the server is the string \"null\"","body":"<p>I am converting a javascript/php/ajax application to use jQuery to ensure compatibility with browsers other than Firefox.</p>\n\n<p>I am having trouble passing true, false, and null values using jQuery's ajax function.</p>\n\n<p>Javascript code:</p>\n\n<pre><code>$.ajax\n(\n   {\n      url     : &lt;server_url&gt;,\n      dataType: 'json',\n      type    : 'POST',\n      success : receiveAjaxMessage,\n      data:\n      {\n         valueTrue : true,\n         valueFalse: false,\n         valueNull : null\n      }\n   }\n);\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>var_dump($_POST);\n</code></pre>\n\n<p>Server output:</p>\n\n<pre><code>array(3) {\n  [\"valueTrue\"]=&gt;\n  string(4) \"true\"\n  [\"valueFalse\"]=&gt;\n  string(5) \"false\"\n  [\"valueNull\"]=&gt;\n  string(4) \"null\"\n}\n</code></pre>\n\n<p>The problem is that the null, true, and false values are being converted to strings.</p>\n\n<p>The Javascript AJAX code currently in use passes null, true, and false correctly but only works in Firefox.</p>\n\n<p>Does anyone know how to solve this problem using jQuery?</p>\n\n<hr>\n\n<p>Here is some working code (not using jQuery) to compare with the not-working code given above.</p>\n\n<p>Javascript Code:</p>\n\n<pre><code>ajaxPort.send\n(\n   &lt;server_url&gt;,\n   {\n      valueTrue : true,\n      valueFalse: false,\n      valueNull : null\n   }\n);\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>var_dump(json_decode(file_get_contents('php://input'), true));\n</code></pre>\n\n<p>Server output:</p>\n\n<pre><code>array(3) {\n  [\"valueTrue\"]=&gt;\n  bool(true)\n  [\"valueFalse\"]=&gt;\n  bool(false)\n  [\"valueNull\"]=&gt;\n  NULL\n}\n</code></pre>\n\n<p>Note that the null, true, and false values are correctly received.</p>\n\n<p>Note also that in the second method the $_POST array is not used in the PHP code.  I think this is the key to the problem, but I cannot find a way to replicate this behavior using jQuery.</p>\n\n<hr>\n\n<p>This section was added after the answer below was accepted.</p>\n\n<p>Here is a corrected version of the original code.</p>\n\n<p>Javascript code:</p>\n\n<pre><code>$.ajax\n(\n   {\n      url     : &lt;server_url&gt;,\n      dataType: 'json',\n      type    : 'POST',\n      success : receiveAjaxMessage,\n      data    : JSON.stringify\n      (\n         {\n            valueTrue : true,\n            valueFalse: false,\n            valueNull : null\n         }\n      )\n   }\n);\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>var_dump(json_decode(file_get_contents('php://input'), true));\n</code></pre>\n\n<p>Server output:</p>\n\n<pre><code>array(3) {\n  [\"valueTrue\"]=&gt;\n  bool(true)\n  [\"valueFalse\"]=&gt;\n  bool(false)\n  [\"valueNull\"]=&gt;\n  NULL\n}\n</code></pre>\n"},{"tags":["javascript","ajax","url","url-rewriting"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":465,"score":5,"question_id":6146560,"title":"Is it possible to have the url change while you scroll down a single page","body":"<p>Is it possible to have the url change while you scroll down a single page with ajax? I have a website all on one page and want to have this effect.</p>\n\n<p>example:</p>\n\n<pre><code>www.blablabla.com/blog\n</code></pre>\n\n<p>user scroll down...</p>\n\n<pre><code>www.blablabla.com/blog/entry-name\n</code></pre>\n\n<p>I know about hashing... can I mask the URL?</p>\n"},{"tags":["php","javascript","ajax","cookies"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":1274,"score":2,"question_id":8834436,"title":"how to get cookies from a different domain with php and javascript","body":"<p>Suppose i have a cookie set in first.com say user. Now i want to read that cookie in second.com through javascript and ajax. But it is not working.I have got xmlHttp.status=0.</p>\n\n<p>sample code</p>\n\n<p>in the second domain readcookie.php file</p>\n\n<pre><code>var xmlHttp;\n    function createXMLHttpRequest(){\n        if(window.ActiveXObject)\n            xmlHttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n        if(window.XMLHttpRequest)\n            xmlHttp=new XMLHttpRequest();\n    }\n    function readcookie(){\n\n        createXMLHttpRequest(); \n        xmlHttp.open(\"GET\",\"http://www.first.com/cookie.php\",true);\n        xmlHttp.onreadystatechange=getcookie;\n        xmlHttp.send(null);\n    }\n    function getcookie(){\n        if(xmlHttp.readyState==4){\n            if(xmlHttp.status==200){\n                var reply=xmlHttp.responseText;\n                if(reply){\n                    alert(reply);\n                }\n            }\n            else\n                alert(xmlHttp.status);\n        }\n    }\n</code></pre>\n\n<p>in the first domain cookie.php file</p>\n\n<pre><code>if(isset($_COOKIE['user'])){\n        echo $_COOKIE['user'];\n    }\n    else{\n        setcookie('user','a2345',0);\n        echo $_COOKIE['user'];\n    }\n</code></pre>\n"},{"tags":["javascript","asp.net","ajax","vb.net","modalpopupextender"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12982810,"title":"Javascript call to VB postback function causing unexpected call error","body":"<p>Here is the VB code: </p>\n\n<pre><code> Dim button As New Button\n Dim xpanel As New Panel\n button.Text = \"Submit\"\n button.ID = \"button\"\n button.Height = \"40\"\n button.Attributes.Add(\"Autopostback\", \"true\")\n button.Attributes.Add(\"Onclick\", \"Submit_Click\") &lt;----commented\n button.Attributes.Add(\"RunAt\", \"server\")\n Dim trigger As New AsyncPostBackTrigger()\n trigger.ControlID = \"button\"\n trigger.EventName = \"Submit_Click\"\n AddHandler button.Click, AddressOf Submit_Click\n xpanel.Controls.Add(button)\n Dim literalx As New Literal\n submitplaceholder.Controls.Add(literalx)\n submitplaceholder.Controls.Add(xpanel)\n</code></pre>\n\n<p>The setup is: from inside an updatepanel, a button is clicked which fires javascript (a thatbutton.onclick function) on a hidden button at the bottom of the page, which then in turn executes a \"click\" on an ajaxtoolkit:ModalPopupExtender , causing a modal window to pop up that was dynamically populated on page_load with the button above (and other info, but that's unimportant for this).\nSo far, there are no post backs.</p>\n\n<p>Now we have click the button that page. I want it to post back and call the function Submit_Click. I don't care what the function is actually called and I know _Click's are reserved, but nonetheless : It fires the function but always errors out which causes undesirable behavior. </p>\n\n<p>Something isn't right and I cannot for the life of me think of anything else to try. Using on the property OnClick and then making it autopostback doesn't seem to work with dynamically populating the control. \nAny thoughts?</p>\n"},{"tags":["ajax","json","asp.net-mvc-3","dictionary","deserialization"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":439,"score":0,"question_id":6881440,"title":"Problems deserializing Dictionarys in MVC 3 for AJAX request (an approach that works out of the box with classic ASP.NET Webforms)","body":"<p>I've been successfully WebForms for AJAX calls with relatively complex set of parameters (called using jQuery.ajax).  We're attempting to try using the same approach in MVC 3 but seem to be falling at the first hurdle with MVC failing to deserialize Dictionary arrays successfully.</p>\n\n<p>The approach that works without issue in ASP.NET WebForms \"classic\" is below:</p>\n\n<pre><code>[WebMethod]\npublic static JQGrid.JQGridData GetListForJQGrid(int? iPageSize, int? iPage, int? iMaxRecords, string sSortField, string sSortOrder,\n  Dictionary&lt;string, string&gt; dSearchOptions, Dictionary&lt;string, object&gt;[] aOriginalColumnDefinition, string[] aExtraDataColumns)\n</code></pre>\n\n<p>And below is the MVC 3 equivalent: (nb exactly the same name/parameters - different return type but I don't think that is relevant)</p>\n\n<pre><code>[HttpPost]\npublic JSONResult GetListForJQGrid(int? iPageSize, int? iPage, int? iMaxRecords, string sSortField, string sSortOrder,\n  Dictionary&lt;string, string&gt; dSearchOptions, Dictionary&lt;string, object&gt;[] aOriginalColumnDefinition, string[] aExtraDataColumns)\n</code></pre>\n\n<p>With the WebMethod all the data deserializes perfectly.  However, when the MVC method is called all the simple parameters deserialize fine but for some unknown reason the array of Dictionary's arrives as an array of nulls.</p>\n\n<p>So, off the back of that a number of questions:</p>\n\n<ul>\n<li>Has anyone else experienced problems with MVC 3 deserialization of arrays of dictionaries?  </li>\n<li>Does MVC 3 by default not use System.Web.Script.Serialization.JavaScriptSerializer which is I think what ASP.NET WebMethods use under the bonnet?</li>\n<li>Can I force MVC 3 to use System.Web.Script.Serialization.JavaScriptSerializer instead of what it is using?</li>\n<li>Or am I missing something / should my approach be slightly different?  Please note that at least for now we'll need to share the client side code between classic ASP.NET WebMethods and MVC 3 and so we want that to remain as is if possible.</li>\n<li>Finally, I can see there is a possible workaround that could be used looking at this question: <a href=\"http://stackoverflow.com/questions/4710729/post-json-dictionary-asp-net-mvc\">POST json dictionary asp.net mvc</a> .  Is this workaround the only game in town or have things improved since this question was posed?</li>\n</ul>\n\n<p>jQuery AJAX call:</p>\n\n<pre><code>$.ajax(_oJQGProperties.sURL, //URL of WebService/PageMethod used\n{\n  data: JSON.stringify(oPostData),\n  type: \"POST\",\n  contentType: \"application/json\",\n  complete: DataCallback\n});\n</code></pre>\n\n<p>Example JSON.stringify(oPostData):</p>\n\n<pre><code>{\n\"dSearchOptions\":{},\n\"aOriginalColumnDefinition\":\n[\n{\"name\":\"ID\",\"sortable\":false,\"hidedlg\":true,\"align\":\"right\",\"title\":false,\"width\":40},\n{\"name\":\"URL\",\"sortable\":false,\"hidedlg\":true,\"align\":\"left\",\"title\":false,\"width\":250,\"link\":\"javascript:DoSummat(this,'{0}');\",\"textfield\":\"Name\"},\n{\"name\":\"Description\",\"sortable\":false,\"hidedlg\":true,\"align\":\"left\",\"title\":false,\"width\":620}\n],\n\"aExtraDataColumns\":[\"Name\"],\n\"_search\":false,\n\"iPageSize\":-1,\n\"iPage\":1,\n\"sSortField\":\"\",\n\"sSortOrder\":\"\",\n\"iMaxRecords\":0\n}\n</code></pre>\n"},{"tags":["ajax","asp.net-mvc","partial-views","single-page-application"],"answer_count":5,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1648,"score":2,"question_id":1573824,"title":"How do you build a Single Page Interface in ASP.NET MVC?","body":"<p>I want to build a webapplication with a \"Single Page Interface\", using ASP.NET MVC.</p>\n\n<p>I have searched if this was at least possible and I think the answer is: not by simple means (reading <a href=\"http://msdn.microsoft.com/en-us/magazine/cc507641.aspx#S2\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/magazine/cc507641.aspx#S2</a> second-last paragraph; that article is from May 2008, though).</p>\n\n<p>I found other examples which implemented this by coding/hacking with jQuery. However, I'm looking for a clean solution, using standard .NET approaches, if possible.</p>\n\n<p>What I want is precisely the same functionality when you create a new \"MVC Web Application\". However, instead of links to \"/Home/About\" which reloads the entire page, I want links to \"<b>#</b>Home/About\" which loads only the new part via AJAX.</p>\n\n<p>The standard approach of calling templates (partial views) with Html.RenderPartial is exactly what I want, only then loading them in through AJAX-requests.</p>\n\n<p>Of course, it might be that I can't use <i>these</i> templates that are rendered by the Master-page for some reason (maybe it's expecting to always be called in a certain context from a certain place or so). But maybe there's another clean solution for how to build your template-pages and fetching them from the Master-page.</p>\n\n<p>Who has a nice solution for implementing such thing, a Single Page Interface?</p>\n\n<p>PS: I'm developing in Visual Web Developer 2008 Express Edition with MVC 1.0 installed, in C#</p>\n\n<p><strong>[edit]</strong>\nBelow I read that working with the templates is possible and that jQuery looks indeed like inevitable, so I tested it.\nThe following code transforms regular links created by Html.ActionLink into anchor-links (with #) to contain history, and then fetch the page via AJAX and only injecting the html-part I'm interested in (i.e. the partial page inside div#partialView):</p>\n\n<pre><code>$(\"a\").each(function() {\n    $(this).click(function() {\n        $(\"div#partialView\").load($(this).attr(\"href\") + \" div#partialView\");\n        location.hash = $(this).attr(\"href\");\n        return false;\n    });\n});\n</code></pre>\n\n<p>These links also allow for graceful degredation.</p>\n\n<p>But what I have left now, is still fetching the <i>whole</i> page instead of only the partial page. Altering the controller didn't help; it still provided me html of the whole page, with all of these statements:</p>\n\n<pre><code>public ActionResult About()\n{\n    return View();\n    return View(\"About\");\n    return PartialView();\n    return PartialView(\"About\");\n}\n</code></pre>\n\n<p>How could I only return the content of the part I'm interested in (i.e. the contents of Home/About.aspx)?\nWhat I'd like is POSTing a value with AJAX (e.g. \"requesttype=ajax\") so that my controller knows the page is fetched via AJAX and only returns the partial page; otherwise it will return the whole page (i.e. when you visit /Home/About instead of #Home/About).</p>\n\n<p>Is a good practice to alter Global.asax.cs maybe, to create a new routing schema for AJAX-calls, which will only return partial pages? (I haven't looked into this much, yet.)</p>\n\n<p><b>[edit2]</b>\nRobert Koritnik was right: I also needed an About.ascx page (UserControl) with only the small HTML-content of that page. The first line of About.aspx was linked with the Master-page via <code>MasterPageFile=\"~/..../Site.master\"</code> which caused that all HTML was printed.</p>\n\n<p>But to be able to execute the following in my controller:</p>\n\n<pre><code>public ActionResult About()\n{\n    return Request.IsAjaxRequest() ? (ActionResult)PartialView() : View();\n}\n</code></pre>\n\n<p>I needed to alter the way a <code>PartialView</code> (.ascx file) and a <code>View</code> (.aspx) file was found, otherwise both methods would return the same page (<code>About.aspx</code>, ultimately resulting in an infinite loop).\nAfter putting the following in <code>Global.asax.cs</code>, the correct pages will be returned with <code>PartialView()</code> and <code>View()</code>:</p>\n\n<pre><code>protected void Application_Start()\n{\n    foreach (WebFormViewEngine engine in ViewEngines.Engines.Where(c =&gt; c is WebFormViewEngine))\n    {\n        /* Normal search order:\n        new string[] { \"~/Views/{1}/{0}.aspx\",\n            \"~/Views/{1}/{0}.ascx\",\n            \"~/Views/Shared/{0}.aspx\"\n            \"~/Views/Shared/{0}.ascx\"\n        };\n        */\n\n        // PartialViews match with .ascx files\n        engine.PartialViewLocationFormats = new string[] { \"~/Views/{1}/{0}.ascx\", \"~/Views/Shared/{0}.ascx\" };\n\n        // Views match with .aspx files\n        engine.ViewLocationFormats = new string[] { \"~/Views/{1}/{0}.aspx\", \"~/Views/Shared/{0}.aspx\" };\n    }\n\n    RegisterRoutes(RouteTable.Routes);\n}\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":80,"score":3,"question_id":12980068,"title":"jQuery ajax call returns empty error on Mac Safari and Chrome browsers","body":"<p>I have been searching for solutions and trying fixes for days now but with no change.</p>\n\n<p>The boss man is on a Mac and I do not have one so I am having him try repeated fixes and relaying the output to me. So far no luck.</p>\n\n<p>The current setup is thus, I have a form with username and password inputs which is submitted after it goes through validation. The validation is an ajax call which validates the username and password then submits the form. </p>\n\n<p>Only on Mac Chrome and Safari (webkit) I get an error response from the ajax call which is blank. </p>\n\n<p>I have stripped the php function that does the validation to simply echo \"hello\" so that I know it is not the php that is causing the problem.</p>\n\n<p>So once the target element is clicked I grab the username and password values and send the ajax request. (which should hit my php file and just echo hello). However instead it returns and error with no message. What I mean by that is the xhr responseText and thrownError are all just blank/null.</p>\n\n<p>so here is the code: (HTML)</p>\n\n<pre><code>&lt;form id=\"signin_form\" method=\"POST\" action=\"index.php?cmd=Signin\"&gt;\n        &lt;table id=\"welcomeSignin\"&gt;\n            &lt;tr&gt;\n            &lt;td&gt;\n                    &lt;div class=\"welcome\"&gt;&lt;span class=\"signin-title-text f-xxlarge-or-link-goth\"&gt;Welcome Back!&lt;/span&gt;&lt;/div&gt;\n                    &lt;div id=\"error_msg\"&gt;&lt;/div&gt;\n                    &lt;table id=\"input_field_table\"&gt;\n                        &lt;tr&gt;\n                                &lt;td class=\"input-field-cell\"&gt;\n                                    &lt;div class=\"singin-titles f-medium-gr-bold\"&gt;Username&lt;/div&gt;\n                                &lt;/td&gt;\n                                &lt;td class=\"input-field-cell\"&gt;\n                                    &lt;div class=\"signin-inputs\"&gt;&lt;input class=\"signin styled\" type=\"text\" name=\"user_name\"&gt;&lt;/div&gt;\n                                &lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td class=\"input-field-cell\"&gt;\n                                &lt;div class=\"singin-titles f-medium-gr-bold\"&gt;Password&lt;/div&gt;\n                            &lt;/td&gt;\n                            &lt;td class=\"input-field-cell\"&gt;\n                                &lt;div class=\"signin-inputs\"&gt;&lt;input class=\"signin styled\" type=\"password\" name=\"user_pass\"&gt;&lt;/div&gt;\n                                &lt;div class=\"forgot\"&gt;&lt;a href=\"\" class=\"forgot-password f-small-or-link\"&gt;Forgot your password?&lt;/a&gt;&lt;/div&gt;\n                            &lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td colspan=\"2\"&gt;\n                                &lt;input type=\"hidden\" name=\"post_type\" value=\"signin\"&gt;\n                                &lt;span id=\"create\"&gt;&lt;span class=\"f-medium\"&gt;Don't have an account? &lt;a href=\"\" class=\"create\"&gt;&lt;span class=\"f-medium-or-link\"&gt;click here&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt; &amp;nbsp;\n                                &lt;span class=\"active-login\"&gt;&lt;input type=\"checkbox\" class=\"signin-radio\" name=\"active_login\"&gt; &lt;span class=\"f-medium\"&gt; Keep me signed in&lt;/span&gt;&lt;/span&gt;\n                                &lt;div id=\"sign_in\"&gt;&lt;span class=\"signin-submit-button\"&gt;&lt;img src=\"../images/ready-create-icon.png\"&gt;&lt;/span&gt; &lt;span class=\"signin-submit-text f-xxxlarge-gr-title-link\"&gt;Sign In!&lt;/span&gt;&lt;/div&gt;\n                            &lt;/td&gt;\n                       &lt;/tr&gt;\n                    &lt;/table&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n\n<p></p>\n\n<p>Nothing special there. Here is the jquery piece:</p>\n\n<pre><code>$('#sign_in').click(function(){\n    var url = window.location.href;\n    $('#error_msg').html('');\n    var username = $('input[name=\"user_name\"]').val();\n    var password = $('input[name=\"user_pass\"]').val();\n    var err = '';\n    $.ajax({\n        url: ajaxUrl+'validate_signin',\n        type: 'GET',\n        cache: false,\n        data: { username: encodeURIComponent(username), password: encodeURIComponent(password)},\n        success: function(data, status, xhr){\n            if(data !== 'OK'){\n                err = data;\n                $('#error_msg').html(err);\n                return false;\n            }else{\n                $('#signin_form').submit();\n                return false;\n            }\n        },\n        error: function(xhr, ajaxOptions, thrownError){\n            var tmp_err = \"\";\n            tmp_err = \":: \"+xhr.responseText+\" :: \"+xhr.responseXML+\" :: \";\n            alert(tmp_err);\n            alert(xhr.responseText);\n            alert(thrownError);\n            window.location.href = url;\n            }\n        });\n        return false;\n});\n</code></pre>\n\n<p>the php file is just: echo \"hello\"; exit; just to avoid any errors for testing.</p>\n\n<p>A few things here, I added the encodeURIComponent() because I did see a post describing a problem with special characters and white space.(didn't work) on success: I included the status and xhr vars just for debugging normally I just have data. </p>\n\n<p>Now in error: this is what is coming up each time however all responses are blank, or undefined. I was hoping to get some kind of decent error but I get nothing. Now this is only on a Mac recently upgraded to Mountian Lion and only on Webkit (Chrome/Safari) browsers.</p>\n\n<p>I tried doing just XMLHttpRequest without using jQuery and I get the same thing. </p>\n\n<p>This works in IE, Firefox, Chrome and Safari on a PC, it also works in FireFox on his Mac. </p>\n\n<p>Finally this was working for him previously, I believe before his upgrade.</p>\n\n<p>Any help would be great. I am pulling my hair out, I am greener on jQuery than php so hopefully one of you can help me out.</p>\n"},{"tags":["jquery","ajax","cakephp-2.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1739,"score":0,"question_id":10215018,"title":"CakePHP 2.1 and Ajax form submits with Js Helper","body":"<p>I am trying to create a simple form to submit data to the database with the Js helper. Here is the view:</p>\n\n<pre><code>&lt;div class=\"modal hide fade\" id=\"modal-note-add\"&gt;\n  &lt;div class=\"modal-header\"&gt;\n    &lt;a class=\"close\" data-dismiss=\"modal\"&gt;×&lt;/a&gt;\n    &lt;h3&gt;Add Note&lt;/h3&gt;\n  &lt;/div&gt;\n  &lt;div id=\"modal-note-add-body\" class=\"modal-body\"&gt;\n    &lt;?php echo $this-&gt;Form-&gt;create('Note', array('action' =&gt; 'addIframe')); ?&gt;\n    &lt;?php\n    echo $this-&gt;Form-&gt;input('id');\n    echo $this-&gt;Form-&gt;input('project_id', array('type' =&gt; 'hidden'));\n    echo $this-&gt;Form-&gt;input('user_id', array('type' =&gt; 'hidden', 'value' =&gt; $this-&gt;Session-&gt;read('Auth.User.id')));\n    echo $this-&gt;Form-&gt;input('date', array('type' =&gt; 'text', 'value' =&gt; date('Y-m-d'), 'class' =&gt; 'datepicker'));\n    echo $this-&gt;Form-&gt;input('note_type_id', array('type' =&gt; 'hidden', 'value' =&gt; 1));\n    echo $this-&gt;Form-&gt;input('comment', array('class' =&gt; 'tinymce span4'));\n    ?&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n    &lt;?php\n    echo $this-&gt;Js-&gt;submit('Save', array('url' =&gt; '/notes/addIframe', 'update' =&gt; '#content', 'class' =&gt; 'btn btn-primary btn-large'));\n    echo $this-&gt;Form-&gt;end();\n    ?&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>&lt;div class=\"modal hide fade in\" id=\"modal-note-add\" style=\"display: block; \"&gt;\n  &lt;div class=\"modal-header\"&gt;\n    &lt;a class=\"close\" data-dismiss=\"modal\"&gt;×&lt;/a&gt;\n    &lt;h3&gt;Add Note&lt;/h3&gt;\n  &lt;/div&gt;\n  &lt;div id=\"modal-note-add-body\" class=\"modal-body\"&gt;\n    &lt;form action=\"/notes/addIframe\" id=\"NoteAddIframeForm\" method=\"post\" accept-charset=\"utf-8\"&gt;\n    &lt;div style=\"display:none;\"&gt;\n      &lt;input type=\"hidden\" name=\"_method\" value=\"POST\"&gt;\n    &lt;/div&gt;\n    &lt;input type=\"hidden\" name=\"data[Note][id]\" id=\"NoteId\"&gt;\n    &lt;input type=\"hidden\" name=\"data[Note][project_id]\" id=\"NoteProjectId\" value=\"11095\"&gt;\n    &lt;input type=\"hidden\" name=\"data[Note][user_id]\" value=\"1\" id=\"NoteUserId\"&gt;\n    &lt;div class=\"input text\"&gt;\n      &lt;label for=\"NoteDate\"&gt;Date&lt;/label&gt;\n      &lt;input name=\"data[Note][date]\" value=\"2012-04-18\" class=\"datepicker hasDatepicker\" type=\"text\" id=\"NoteDate\"&gt;\n    &lt;/div&gt;\n    &lt;input type=\"hidden\" name=\"data[Note][note_type_id]\" value=\"1\" id=\"NoteNoteTypeId\"&gt;\n    &lt;div class=\"input textarea\"&gt;\n      &lt;label for=\"NoteComment\"&gt;Comment&lt;/label&gt;\n      &lt;textarea name=\"data[Note][comment]\" class=\"tinymce span4\" cols=\"30\" rows=\"6\" id=\"NoteComment\"&gt;&lt;/textarea&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n    &lt;div class=\"submit\"&gt;&lt;input class=\"btn btn-primary btn-large\" id=\"submit-1899329211\" type=\"submit\" value=\"Save\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n....\n&lt;script type=\"text/javascript\"&gt;\n//&lt;![CDATA[\n$(document).ready(function () {$(\"#submit-1899329211\").bind(\"click\", function (event) {$.ajax({data:$(\"#submit-1899329211\").closest(\"form\").serialize(), dataType:\"html\", success:function (data, textStatus) {$(\"#content\").html(data);}, type:\"post\", url:\"\\/notes\\/addIframe\"});\nreturn false;});});\n//]]&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Controller action:</p>\n\n<pre><code>public function addIframe() {\n  if ($this-&gt;request-&gt;is('ajax')) {\n  $this-&gt;Note-&gt;save($this-&gt;request-&gt;data);\n  if ($this-&gt;Note-&gt;save($this-&gt;request-&gt;data)) {\n      $this-&gt;Session-&gt;setFlash(__('The project note has been saved.', true), 'flash_success');\n    } else {\n     $this-&gt;Session-&gt;setFlash(__('The note could not be saved. Please, try again.', true), 'flash_error');\n    }\n  }\n}\n</code></pre>\n\n<p>The resulting submit creates a record in the database, but none of the values from my form are passed. Any insight?</p>\n"},{"tags":["jquery","ajax","find"],"answer_count":9,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":7233,"score":5,"question_id":3300332,"title":"jQuery .find() on data from .ajax() call is returning \"[object Object]\" instead of div","body":"<p>Trying to find <code>div</code> element with <code>id=\"result\"</code> in returned data from <code>.ajax()</code> using <code>.find()</code>. Unfortunately, <code>alert(result)</code> doesn't return <code>div#result</code>.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>$.ajax({\n    url: url, \n    cache: false,\n    success: function(response) {\n        result = $(response).find(\"#result\");\n        alert(response); // works as expected (returns all html)\n        alert(result); // returns [object Object]\n    }\n});\n</code></pre>\n"},{"tags":[".net","ajax","asp.net-mvc-4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13013089,"title":"Ajax calling wrong method","body":"<p>My ajax calls the wrong method in .net mvc 4 and I can't figure out why.</p>\n\n<p>My ajax:</p>\n\n<pre><code>function addItem(id, ammount) {\n$.ajax({\n    url: \"/Shoppingcart/AddItem?id=\"+id+\"&amp;ammount=\"+ammount,\n    type: \"post\",\n    cache: false,\n    success: function (result) {\n        alert(\"SUCCESS!!!\");\n    },\n    error: function (textStatus, errorThrown) {\n        window.console.log(textStatus, errorThrown);\n    }\n});\n}\n</code></pre>\n\n<p>My mvc controller:</p>\n\n<pre><code>public class ShoppingcartController : Controller\n{\n    //\n    // GET: /Shoppingcart/\n\n    public ActionResult Index()\n    {\n        // Method 1\n    }\n\n    [HttpPost]\n    public ActionResult AddItem(int id = -1, int ammount = 0)\n    {\n        return Redirect(\"~/Home\");\n    }\n}\n</code></pre>\n\n<p>My first method is getting called by the ajax, which is strange since I call /Shoppingcart/AddItem\nWhy is this happening and what should I do to make it work?</p>\n\n<p><strong>Solution:</strong>\nThe problem was not in the method calling but in the route stack. Apperantly the order in wich the routes are defined influences their importancy. The most specific route should always be the first route to be declared.</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        routes.MapRoute(\n            name: \"Index\",\n            url: \"{controller}/{id}\",\n            defaults: new { controller = \"Home\", action = \"Index\" },\n            constraints: new { id = @\"\\d+\" }\n        );\n\n        routes.MapRoute(\n            name: \"Default\",\n            url: \"{controller}/{action}/{id}\",\n            defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n        );\n\n        routes.MapRoute(\n            name: \"ControllerOnly\",\n            url: \"{controller}\",\n            defaults: new { controller = \"Home\", action = \"Index\", id = 0 }\n        );\n    }\n</code></pre>\n"},{"tags":["jquery","python","ajax","django","django-models"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13013838,"title":"Saving file uploaded via ajax to Django model ImageField","body":"<p>The file is available as raw data in the request. How am I supposed to transform it to be saved on the disk represented by the <code>ImageField</code> inside a <code>model</code>.</p>\n\n<p>Tried stuff:</p>\n\n<pre><code>file_ = File(request)\nmodelinstance.picture.save(filename, file_, save=False)\nmodelinstance.save()\n</code></pre>\n\n<p>and some variants of the above. An example on how to do this inside the django view would help.</p>\n\n<p>Thanks!</p>\n"},{"tags":["javascript","ajax","jquery-ajax","long-polling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13008854,"title":"Stop Long Polling Function in JS","body":"<p>I have a page where I have implemented a long polling function to check the timestamp of a record, so it will update if the data has been edited.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar poll_url = 'http://mysite.com/poll/;\nvar my_ts = &lt;?php $_SESSION['template_timestamp']; ?&gt;;\n(function poll(){\n    $.ajax({ \n        url: poll_url,\n        type: 'post',\n        success: function(data){\n            if ((data.ts &gt; 0) {\n                // check if expired\n                if (data.ts &gt; my_ts) {\n                    // it has expired, so reload the page\n                    $(\"#dialog-message\").html('Record has been edited.');\n                    // show popup\n                    $(\"#dialog-message\").dialog({\n                        modal: true,\n                        buttons: {\n                            Reload: function() {\n                                $(this).dialog(\"close\");\n                                $('#pleaseWait').show();\n                                window.location.href = '/records/overview';\n                            }\n                        }\n                    });\n                }\n            } else {\n                // is still null\n                console.log('error');\n            }\n        }, \n        dataType: \"json\", \n        complete: poll, timeout: 30000 \n    });\n})();\n&lt;/script&gt;\n</code></pre>\n\n<p>The problem I have is that there is also another action which invokes a JS ajax call, which when called I would like to force the long polling function to stop.<br />\nIs there a way to do this?</p>\n"},{"tags":[".net","ajax","picture"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":3660730,"title":"Retrieve picture from an url","body":"<p>On my ASP.Net page in C#, the user is able to enter an URL (web page). When it's done, I would want to get the picture in this page. For an example of this, go on Facebook and write a status with an URL in it. A panel open with the description of the page AND the picture.</p>\n\n<p>Is there a parser or a little application that I can use for this?</p>\n"},{"tags":["jquery","ajax","wordpress","http-status-code-404"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13013246,"title":"WordPress + jQuery Ajax pagging error 404","body":"<p>I have problem with ajax paging in WordPress theme.</p>\n\n<p>I try to turn homepage posts into Ajax slider using .load(). It worked fine since I start developing other parts of theme (post types and taxonomies). Get returnes 404 (Not Found) on every page >= 2. It still works on page 2 with \"previous\". Every /page/[number_of_page_] returns 404 with ajax, but it works great without JS.</p>\n\n<p>This is JS:</p>\n\n<pre><code>$(document).ready(function() {\n\n    // Activate Homepage Slider\n    $('.news-slider').newsSlider();\n});\n\n\n// Homepage News Slider\n(function($) {\n    $.fn.newsSlider = function(load) {\n\n        /* ROOT Vars */\n\n        // selectors\n        var slider = $(this);\n        var container = slider.children('.container');\n        var item = container.find('.post');\n        var control = slider.find('.control a');\n\n        // Values\n        var containerWidth = container.outerWidth();\n\n        /* Code changes */\n\n        // Check class\n        if (!slider.is('.news-slider')) {\n            slider.addClass('.news-slider');\n        }\n\n        // Add wraper\n        container.wrapInner('&lt;div class=\"wraper\"&gt;&lt;/div&gt;');\n\n        // Double wraper width\n        container.children('.wraper').css('width', 2*containerWidth);\n\n        /* Control, Ajax, Animate */\n\n        control.live('click', function(e) { \n            e.preventDefault();\n            var link = $(this).attr('href');\n\n            if ($ (this).parent('div').is('.next') ) {\n                container.children('.wraper').wrapInner('&lt;div class=\"old\" style=\"float:left;\"&gt;&lt;/div&gt;').append(\n                    $('&lt;div class=\"new\" style=\"float:left;\"&gt;&lt;/div&gt;').load(link + ' .post', function() {\n                        container.find('.old').animate({\n                            'margin-left': -containerWidth\n                        }, 500, function() {\n                            var newContent = container.find('.new').html();\n\n                            container.find('.old').remove();\n                            container.find('.wraper').html(newContent);\n                        }); \n                    })\n                );\n            } else {\n                container.children('.wraper').wrapInner('&lt;div class=\"old\" style=\"float:left;\"&gt;&lt;/div&gt;').prepend(\n                    $('&lt;div class=\"new\" style=\"float:left; margin-left:-' + containerWidth + 'px;\"&gt;&lt;/div&gt;').load(link + ' .post', function() {\n                        container.find('.new').animate({\n                            'margin-left': 0\n                        }, 500, function() {\n                            var newContent = container.find('.new').html();\n\n                            container.find('.old').remove();\n                            container.find('.wraper').html(newContent);\n                        }); \n                    })\n                );\n            }\n            slider.children('.control').load(link + ' .news-slider .control div');\n        });\n    }\n})( jQuery );\n</code></pre>\n\n<p>this is post loop:</p>\n\n<pre><code>&lt;div class=\"news-slider\"&gt;\n                    &lt;div class=\"container\"&gt;\n                        &lt;!-- POST LOOP --&gt;\n                            &lt;?php\n                            // Set number of posts\n                            $paged = (get_query_var('paged')) ? get_query_var('paged') : 1;\n                            query_posts('posts_per_page=3&amp;paged=' . $paged, array( 'post_type' =&gt; 'posts' )); \n\n                                if ( have_posts() ) : while ( have_posts() ) : the_post(); ?&gt;\n                                    &lt;div class=\"post\"&gt;\n                                            &lt;?php if ( has_post_thumbnail()) : ?&gt;   \n                                            &lt;?php the_post_thumbnail('post', array('title' =&gt; '')); ?&gt;\n                                        &lt;?php endif ?&gt;\n                                        &lt;div class=\"content\"&gt;\n                                            &lt;h2 class=\"title\"&gt;&lt;?php the_title(); ?&gt;&lt;/h2&gt;\n                                            &lt;div class=\"content\"&gt;&lt;?php the_content('Více informací'); ?&gt;&lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;?php endwhile; else: ?&gt;\n                                    &lt;div class=\"post\"&gt;\n                                        &lt;h1&gt;Nenalezeno&lt;/h1&gt;\n                                        &lt;p&gt;&lt;?php _e('Zadaným kritériím neodpovídá žádný příspěvek'); ?&gt;&lt;/p&gt;\n                                    &lt;/div&gt;\n                                &lt;?php endif; ?&gt;\n                        &lt;!-- /POST LOOP --&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"control\"&gt;\n                        &lt;div class=\"prev\"&gt;&lt;?php previous_posts_link('&amp;lsaquo;'); ?&gt;&lt;/div&gt;\n                        &lt;div class=\"next\"&gt;&lt;?php next_posts_link('&amp;rsaquo;'); ?&gt;&lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"shadow\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>Thanx for any. Sorry if my English is not perfect (lol), I'm not a native.</p>\n"},{"tags":["asp.net","ajax","ajaxcontroltoolkit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13013204,"title":"Ajax Control Toolkit Masked Extender text overwrite issue","body":"<p>I have an Ajax control toolkit masked extender on a textbox. My problem is that when you edit a input value the textbox works in an overwrite mode and not an insert mode.</p>\n\n<p>My extender looks like this...</p>\n\n<pre><code>&lt;cc1:MaskedEditExtender ID=\"MaskedEditExtenderDOB\" runat=\"server\" TargetControlID=\"txtDOB\" \n ClearMaskOnLostFocus=\"false\" Mask=\"99/99/9999\" MessageValidatorTip=\"false\" MaskType=\"Date\"\n AutoComplete=\"false\" OnInvalidCssClass=\"control_validation_error\" /&gt;\n</code></pre>\n\n<p>The masked extender is outlined here...\n<a href=\"http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/MaskedEdit/MaskedEdit.aspx\" rel=\"nofollow\">http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/MaskedEdit/MaskedEdit.aspx</a></p>\n\n<p>Has anyone been able to solve this? I see there are a few other posts about but none with a solution.</p>\n\n<p>Thanks</p>\n"},{"tags":["ajax","drupal-7"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1091,"score":2,"question_id":5559548,"title":"Drupal 7 ajax command with effect","body":"<p>The Drupal 7 AJAX library is great, very easy to use. However, I cannot find any resources that can explain to me how to add some effects when the ajax happens. for example, when i use ajax_command_replace to dynamically replace content with certain div, how can I make it fade in?</p>\n\n<p>Thanks. </p>\n"},{"tags":["jquery","ajax","magento","post","phtml"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1766,"score":2,"question_id":8835146,"title":"Using Basic AJAX calls within Magento","body":"<p>I'm writing a module to carry out a simple Ajax call in Magento, but I'm unable to get it work thus far - I feel like I'm missing a vital component somewhere. These are the files I currently have:</p>\n\n<p><strong>Creare/Groupedajax/controllers/AjaxController.php:</strong></p>\n\n<pre><code>class Creare_Groupedajax_AjaxController extends Mage_Core_Controller_Front_Action {\n\n    public function indexAction() {\n        $this-&gt;loadLayout();\n        $this-&gt;renderLayout();\n    }\n}\n</code></pre>\n\n<p><strong>Creare/Groupedajax/etc/config.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;config&gt;\n  &lt;modules&gt;\n    &lt;Creare_Groupedajax&gt;\n      &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/Creare_Groupedajax&gt;\n  &lt;/modules&gt;\n  &lt;frontend&gt;\n    &lt;routers&gt;\n      &lt;groupedajax&gt;\n        &lt;use&gt;standard&lt;/use&gt;\n        &lt;args&gt;\n          &lt;module&gt;Creare_Groupedajax&lt;/module&gt;\n          &lt;frontName&gt;groupedajax&lt;/frontName&gt;\n        &lt;/args&gt;\n      &lt;/groupedajax&gt;\n    &lt;/routers&gt;\n    &lt;layout&gt;\n      &lt;updates&gt;\n        &lt;groupedajax&gt;\n          &lt;file&gt;groupedajax.xml&lt;/file&gt;\n        &lt;/groupedajax&gt;\n      &lt;/updates&gt;\n    &lt;/layout&gt;\n  &lt;/frontend&gt;\n&lt;/config&gt;\n</code></pre>\n\n<p><strong>My Ajax Call:</strong></p>\n\n<pre><code>$j.post(\"groupedajax/ajax/index\", { size: $j(this).val()}, function(data) {\n        $j('#results').html(data);\n    });\n</code></pre>\n\n<p><strong>layout/groupedajax.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;layout version=\"1.0\"&gt;\n  &lt;groupedajax_ajax_index&gt;\n    &lt;block type=\"groupedajax/groupedajax\" name=\"root\" output=\"toHtml\" template=\"groupedajax/groupedajax.phtml\" /&gt;\n  &lt;/groupedajax_ajax_index&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>My .phtml file simply has 'test' in it at the moment. I just need my results div to return the 'test' value. I just want to know if all the bits are in place for this to work?</p>\n\n<p>This is the tutorial I have followed: <a href=\"http://www.atwix.com/magento/ajax-requests-in-magento/\" rel=\"nofollow\">http://www.atwix.com/magento/ajax-requests-in-magento/</a></p>\n\n<p><strong>======================== SOLVED ========================</strong></p>\n\n<p>I just needed a forward slash at the beginning of my url:</p>\n\n<pre><code>$j.ajax({\n        url: \"/groupedajax/ajax/index\",\n        type: \"POST\",\n        data: \"size=\"+$j(this).val(),\n        success: function(data) {\n        $j('#results').html(data);\n        }\n    });\n</code></pre>\n"},{"tags":["jquery","ajax","jquery-ajax","gzip","mod-wsgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12979489,"title":"gzipped jQuery ajax fails in firefox with \"401 UNAUTHORIZED\"","body":"<p>Not sure how to debug this - I am sending some gzipped json data back from my django server.</p>\n\n<p>(Through a backbone fetch() call... which in turn calles jQuery.ajax).  On the django server, I set:</p>\n\n<ul>\n<li>response['Content-Type'] = 'application/json'</li>\n<li>response['Content-Encoding'] = 'gzip'</li>\n</ul>\n\n<p>And I didn't set any additional options to the ajax call (aside from Backbone.js defaults).  This works fine in Chrome, but in firefox, I see the request just spinning forever in firebug, with a status of <strong>401 UNAUTHORIZED</strong>.</p>\n\n<p>It's funny, because it works in firefox on my local test server from django directly, but not when it's running through an SSL connection via Apache and mod_wsgi.</p>\n\n<p>Do I need to do something special?</p>\n"},{"tags":["php","javascript","ajax","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":26,"score":-2,"question_id":13011048,"title":"Wordpress custom fields of custom post type","body":"<p>Is it possible to create custom post data fields on create board that appears only when some custom post type is watched. </p>\n"},{"tags":["php","jquery","ajax","json","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13010989,"title":"How do I check uploaded file version with jquery blueimp file uploader","body":"<p>I am using <a href=\"https://github.com/blueimp/jQuery-File-Upload\" rel=\"nofollow\">jquery blueimp fileuploader</a> to upload a file.</p>\n\n<p>My problem is when i am uploading a new file, I want to check if the file is like the existing file, then I want to check the version of the current or previous uploaded files.</p>\n"},{"tags":["ajax","telerik","edit","radgrid"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":132,"score":1,"question_id":12850300,"title":"Editing in Telerik RadGrid","body":"<p>I'm working off of the following example to implement editing of a cell in my grid when the cell is clicked:</p>\n\n<p><a href=\"http://demos.telerik.com/aspnet-ajax/grid/examples/dataediting/editondblclick/defaultcs.aspx\" rel=\"nofollow\">http://demos.telerik.com/aspnet-ajax/grid/examples/dataediting/editondblclick/defaultcs.aspx</a></p>\n\n<p>I'd like it to work just like in the example, but based on a single-click.  I can't get it to work as I keep getting the following error buried away in Telerik.Web.UI.WebResource:</p>\n\n<p>0x800a139e - Microsoft JScript runtime error: Sys.WebForms.PageRequestManagerServerErrorException: The string was not recognized as a valid format.</p>\n\n<p>If anyone can lend any assistance, I will you owe you my first-born, as I am pulling my hair out trying to get this to work.</p>\n\n<p>Thank you </p>\n\n<p>Initially, the error was here but it didn't seem essential:</p>\n\n<pre><code>protected void detailsGrid_ItemCreated(object sender, GridItemEventArgs e)\n{\n    if (e.Item is GridDataItem &amp;&amp; e.Item.IsInEditMode)\n    {\n        ((e.Item as GridDataItem)[\"detailsGridMonthOneCol\"].Controls[0] as RadNumericTextBox).Width = Unit.Pixel(50);   // ArgumentOutOfRangeException - Specified argument was out of the range of valid values\n    }\n}\n</code></pre>\n\n<p>detailsGridMonthOneCol is the name of the column I double-clicked.  This didn't seem essential, so I commented it out and that's when I got the following error: </p>\n\n<pre><code>Unhandled exception at line 15, column 16485 in http://localhost:63919/Telerik.Web.UI.WebResource.axd?_TSM_HiddenField_=RadScriptManager1_TSM&amp;compress=1&amp;_TSM_CombinedScripts_=;;System.Web.Extensions,+Version=4.0.0.0,+Culture=neutral,+PublicKeyToken=31bf3856ad364e35:en-US:10a773fc-9022-49ec-acd6-8830962d8cbb:ea597d4b:b25378d2;Telerik.Web.UI,+Version=2012.2.815.40,+Culture=neutral,+PublicKeyToken=121fae78165ba3d4:en-US:bd12f06c-2391-4523-868e-0017245d9792:16e4e7cd:ed16cbdc:f7645509:24ee1bba:e330518b:1e771326:8e6f0d33:6a6d718d:58366029:4b09f651:a2c5be80:874f8ea2:c172ae1e:f46195d3:9cdfc6e7:2003d0b8:c8618e41:e4f8f289\n\n0x800a139e - Microsoft JScript runtime error: Sys.WebForms.PageRequestManagerServerErrorException: The string was not recognized as a valid format.\n</code></pre>\n\n<p>The code is buried away but here's where the exception gets thrown:</p>\n\n<pre><code>var e=this._get_eventHandlerList().getHandler(\"endRequest\"),b=false;if(e){var c=new Sys.WebForms.EndRequestEventArgs(a,f?f.dataItems:{},d);e(this,c);b=c.get_errorHandled()}if(a&amp;&amp;!b)throw a}\n</code></pre>\n"},{"tags":["jquery","ajax","json"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1037,"score":0,"question_id":3203870,"title":"jQuery .getJSON not working","body":"<p>I'm just learning how to utilise ajax/json with jquery and I've hit a brick wall that I just don't understand.</p>\n\n<p>Here is my code - VERY simple code:</p>\n\n<pre><code>$(\"#click\").click(function() {\n    $.getJSON(\"http://localhost/jsontest/a.json\", function(data) {\n        alert(\"done\"); \n    });\n\n   });\n</code></pre>\n\n<p>Basically, load a.json and send an alert to the screen saying done.</p>\n\n<p>Here are the contents of a.json:</p>\n\n<p>{ \"done\": \"37\" }</p>\n\n<p>That's it.</p>\n\n<p>It doesn't work though... the alert is not displayed.</p>\n\n<p>Any ideas folks?</p>\n"},{"tags":["jquery","ajax","arrays"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13011313,"title":"Storing ajax response array into a variable for later usage","body":"<p>Hi I need to store an AJAX Response into two variables x and y or into a array.\nMy AJAX response is a array. I am able to see the data but only with and alert into che call.\nI need the data outside the ajax call</p>\n\n<pre><code>var x; \nvar y;\n\n$.ajax({\n url: 'ajaxload.php',\n dataType: \"json\", \n success: function(data) { \n x= data.posX;\n y= data.posX;\n alert (x+\" \"+y);  // I can se data but I need outside ajax call\n}\n});\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","tag-it"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13012057,"title":"How can we reuse jQuery ajax method for 3 functions?","body":"<p>i am using $jquery ajax method to fatch data and display in 3 fields, i used same ajax method for 3 different textboxs , To, CC, Bcc, and i want to use 1 ajax method to fatch data , here tagSource : one function to call ajax method</p>\n\n<pre><code>jQuery(document).ready(function () {\n            jQuery(\"#totags\").tagit({\n                allowSpaces: true,\n                tagSource: function (request, response) {\n                    $.ajax({\n                        type: \"POST\",\n                        url: \"Blog.aspx/GetName\",\n                        data: \"{'match': '\" + request.term + \"'}\",\n                        dataType: \"json\",\n                        contentType: \"application/json\",\n                        success: function (data) {\n                            console.log(data);\n                            if (data.d != null) {\n                                response($.map(data.d, function (item) {\n                                    return {\n                                        label: item.Name,\n                                        value: item.id,\n                                    };\n                                }));\n                            }\n                        }\n                    });\n                },\n            });\n            jQuery(\"#cctags\").tagit({\n                allowSpaces: true,\n                tagSource: function (request, response) {\n                    $.ajax({\n                        type: \"POST\",\n                        url: \"Blog.aspx/GetName\",\n                        data: \"{'match': '\" + request.term + \"'}\",\n                        dataType: \"json\",\n                        contentType: \"application/json\",\n                        success: function (data) {\n                            console.log(data);\n                            if (data.d != null) {\n                                response($.map(data.d, function (item) {\n                                    return {\n                                        label: item.Name,\n                                        value: item.id,\n                                    };\n                                }));\n                            }\n                        }\n                    });\n                },\n            });\n            jQuery(\"#bcctags\").tagit({\n                allowSpaces: true,\n                tagSource: function (request, response) {\n                    $.ajax({\n                        type: \"POST\",\n                        url: \"Blog.aspx/GetName\",\n                        data: \"{'match': '\" + request.term + \"'}\",\n                        dataType: \"json\",\n                        contentType: \"application/json\",\n                        success: function (data) {\n                            console.log(data);\n                            if (data.d != null) {\n                                response($.map(data.d, function (item) {\n                                    return {\n                                        label: item.Name,\n                                        value: item.id,\n                                    };\n                                }));\n                            }\n                        }\n                    });\n                },\n            });\n        });\n</code></pre>\n"},{"tags":["jquery","ajax","symfony2","innerhtml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13012093,"title":"modify table jquery symfony2","body":"<p>I have a table (jquery )  in my twig (symfony2), I would check a radio button, a form appears to modify the data and data will be saved in the database.</p>\n\n<p>I'm really stuck\nMy table like this <a href=\"http://www.datatables.net/release-datatables/examples/basic_init/zero_config.html\" rel=\"nofollow\">http://www.datatables.net/release-datatables/examples/basic_init/zero_config.html</a>\nthanks</p>\n"},{"tags":["php","ajax","forms","dynamic"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13011566,"title":"Ajax Get ID of dynamically created field","body":"<p>Please excuse this is a dumb question as I am new to AJAX.</p>\n\n<p>I have a form that is dynamically generated by PHP according to data from a mysql query</p>\n\n<p>I can get the value but what I also need to know, is how to get the name or id of a form field (i.e.  <code>num[$id]</code>)</p>\n\n<pre><code>&lt;input type='text' name='num[$id]' id='num[$id]' value='0' onchange = 'getAmt(this.value)'/&gt;\n</code></pre>\n"},{"tags":["ajax","twitter-bootstrap","typeahead"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":78,"score":-1,"question_id":13011145,"title":"loading ajax returned json_encoded string in bootstrap typeahead","body":"<p>I am trying to use <a href=\"https://gist.github.com/2712048\" rel=\"nofollow\">this</a> to load data into a typeahead field using ajax but I get the following error:</p>\n\n<blockquote>\n  <p>Object  has no method 'process'</p>\n</blockquote>\n\n<p>The datatype is a JSON encoded string.</p>\n\n<pre><code>$('.typeahead').typeahead({\n  source: function (typeahead, query) {\n    return $.post('../../LI.Services/getcollegefortypeahead.php',\n                  {query: $('.typeahead').val()},\n                  function (data) {\n                    //alert(data)\n                    data = [{'name': 'Joe' }, {'name': 'Henry'}];\n                    alert (data.options);\n                    //return process(data.options);\n                  }\n    );\n  }\n});\n</code></pre>\n\n<p>The data is returned in JSON.</p>\n\n<pre><code>[{\"CollegeName\":\"ABC\"},{\"CollegeName\":\"AABC\"}]\n</code></pre>\n"},{"tags":["jquery","ajax","internet-explorer-9","jquery-forms-plugin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13011759,"title":"Access denied with JQuery form plugin in IE9 with relative url","body":"<p>This situation is driving me absolutely insane:</p>\n\n<p>I have a form using malsup's jQuery Form plugin which POSTs to a relative URL. It works fine in every browser except IE9, which aborts the request and gives an Access Denied error in the debug console.</p>\n\n<p>However, if you look at the Network inspection bit of the IE9 dev window, it shows the request being made successfully and returning the expected JSON response??</p>\n\n<p>The page in question is here - you should be able to see all the relevant code by expecting the source. My code is in entries.js</p>\n\n<p><a href=\"http://www.watersprite.org.uk/entries/\" rel=\"nofollow\">http://www.watersprite.org.uk/entries/</a></p>\n"},{"tags":["c#","ajax","session"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13011214,"title":"Session null when performning multiple ajax calls","body":"<p>Please help as this has been driving me nuts since last week and I'm still not closer to a solution...</p>\n\n<p>Environment: IIS 7.5, .Net 4.0, jQuery (latest)</p>\n\n<p>I have an internal web service that I call to create a hierarchy object consisting of a number of customers and their relations. In my web service I store the hierarchy object in <code>HttpContext.Current.Session</code>.</p>\n\n<p>Shortly there after in my javascript I loop over the customers visible to the user. For each customer I call an $.ajax function that calls another procedure in my web service. In the C# code I read my hierarchy object from <code>HttpContext.Current.Session</code> and using linq reads the data for the current customer.</p>\n\n<p>My problem is that <code>HttpContext.Current.Session[\"hierarchy\"]</code> returns null for some customers. It's not the same customers each time even though I'm calling the exact same url.</p>\n\n<p>I have tried reading the hierarchy from <code>HttpContext.Current.Session</code> immediately after writing it just to verify that everything in my hierarchy object is actually written to <code>HttpContext.Current.Session</code>.</p>\n\n<p>I have tried logging <code>HttpContext.Current.Session.SessionId</code> to verify that the session is the same and everything adds up.</p>\n\n<p>I have tried with and without <code>EnableSessionState</code> in my Default.apsx</p>\n\n<p>Thanks in advance to anyone who can guide me in the right direction...</p>\n\n<p>./CJ</p>\n"},{"tags":["javascript","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13011143,"title":"Changing global variables in a ajax call","body":"<p>I've been trying to get this right for quite some time, I'm trying to append the object from the first ajax call after the second ajax call. But the for loop seems to iterate the changing of the value to the last result before appending the information, having the last post appended every time.</p>\n\n<pre><code>    var scribjson = \n{\n    \"user_id\" : localStorage.viewing,\n};\nscribjs = JSON.stringify(scribjson);\nvar scrib = {json:scribjs};\n$.ajax({\n    type: \"POST\",\n    url: \"getScribbles.php\",\n    data: scrib,\n    success: function(result)\n    {     \n        var obj = jQuery.parseJSON(result);\n        for(var i = 0; i &lt; obj.length; i+=1)\n        {   \n            var userjson = \n            {\n                \"user_id\" : obj[i].user_id\n            };\n            userjs = JSON.stringify(userjson);\n            var user = {json:userjs};\n            localStorage.post = obj[i].post;\n            $.ajax({\n                type: \"POST\",\n                url: \"getRequestsInfo.php\",\n                data: user,\n                success: function(result)\n                {     \n                    var obj2 = jQuery.parseJSON(result);\n                    $('#listOfScribbles').append(\"&lt;tr&gt;&lt;td&gt;&lt;img id = 'small_pic' src = '\" + obj2[0].profileImage + \"'/&gt;&lt;/td&gt;&lt;tr&gt;&lt;td&gt;\" + obj2[0].firstname + \" \" + obj2[0].lastname + \"&lt;/td&gt;&lt;/tr&gt; \");\n                    $('#listOfScribbles').append(\"&lt;tr&gt;&lt;td&gt;\" + obj[i].post + \"&lt;/td&gt;&lt;/tr&gt;\");\n                },\n                error: function()\n                {\n                    alert('An Error has occured, please try again.');\n                }\n            });\n\n        }\n    },\n    error: function()\n    {\n        alert('An Error has occured, please try again.');\n    }\n});\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax","wordpress"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13007744,"title":"Browse to specific slide - jquery cycle","body":"<p>I have a page that features certain image thumbs from a custom field. What I need to do is have the link on the images thumbs link directly to it's image in the slider, the problem is that the slider is in other page not the same.</p>\n\n<p>This is the code i'm using to get the images from the custom post repeater field:</p>\n\n<pre><code>&lt;?php $query = new WP_Query( 'post_type=artworks_post&amp;posts_per_page=-1&amp;order=DESC' ); ?&gt;\n&lt;?php while ( $query-&gt;have_posts() ) : $query-&gt;the_post(); ?&gt;\n\n&lt;?php  $slides = get_field('project_slider');  \n    // Grabs the array\n     if($slides) {     \n       foreach($slides as $s) {  \n              echo '&lt;div id=\"project_slider\" class=\"item\"&gt; ';     \n              echo '&lt;div class=\"aimagediv\" &gt;'; //\n              echo '&lt;a&gt;';          \n              echo '&lt;img src=\"'.$s['project_image'].'\" alt=\"\" width=\"240\" /&gt;';\n              echo '&lt;/a&gt;';\n              echo '&lt;/div&gt;'; //aimagediv     \n              echo '&lt;div class=\"art_title\"&gt;';        \n              echo '&lt;p&gt;SWEET LIFE&lt;/p&gt;';        \n              echo '&lt;/div&gt;';        \n              echo '&lt;div class=\"mask\"&gt;';        \n              echo '&lt;/div&gt;';  \n              echo '&lt;/div&gt;'; //first div\n             }\n         }\n ?&gt;  \n &lt;?php endwhile; // end of the loop. ?&gt;\n</code></pre>\n\n<p>I'm using this to link to the slider page ( I know it's wrong link that way but I had to do it to show you how it links to slider):</p>\n\n<pre><code>$('#project_slider').click(function() {\n    location.href = '?page_id=42';\n});\n</code></pre>\n\n<p>and this is the code of the jquery cycle plugin i'm using for the slider:</p>\n\n<pre><code>$(\"#slideshow\").css(\"overflow\", \"hidden\");\n\n$('ul#slides').cycle({\n    fx:       'fade',\n    timeout:   0,\n    prev: '#prev',\n    next: '#next',\n    after:     onAfter\n});\n\nfunction onAfter(curr,next,opts) {\n    var caption = '' + (opts.currSlide + 1) + ' / ' + opts.slideCount;\n    $('.project_number p').html(caption);\n}\n</code></pre>\n\n<p>How can I fix to link each project to it's corresponding position in the slider, instead of always opening in the start image of the slider?</p>\n\n<p>here it's a working example of what i'm trying to achieve: loscarpinteros.net/#exhibitions any image get's you to the link of it in the slider position.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12999337,"title":"jquery ajax function with json","body":"<p>Hi i am using this code to get contents from a json file but i am not able to show results</p>\n\n<p>my code is </p>\n\n<pre><code>$(document).ready(function(){\n\n$.ajax({\n    url: 'http://50.116.19.49/rest/user.json',\n    dataType: 'jsonp',\n    jsonp: 'jsoncallback',\n    timeout: 50000,\n    success: function(data, status){\n    alert(data);    \n    },\n    error: function(){\n        output.text('There was an error loading the data.');\n    }\n});\n});\n</code></pre>\n\n<p>In google chrome i can see that the request status is 200 and data is loaded. here is the link from which i am copying code <a href=\"http://samcroft.co.uk/2011/updated-loading-data-in-phonegap-using-jquery-1-5/\" rel=\"nofollow\">The Link</a>.... Any help!!!!</p>\n\n<p>Thanks</p>\n"},{"tags":["java","ajax","jsf","jsf-2","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":13000870,"title":"JSF update primefaces tree children","body":"<p>i want to update the children of the primefaces tree without pulling the whole tree from the server.</p>\n\n<p>I can update the whole tree but not <strong>only</strong> the children of a specific node ...</p>\n\n<p>Edit:</p>\n\n<p>This is an example of my code:</p>\n\n<pre><code>&lt;p:tree value=\"#{cc.tree}\" var=\"wrapper\" id=\"tree\" widgetVar=\"tree\" styleClass=\"commentTree-#{cc.id}\"&gt;\n   &lt;p:treeNode id=\"treeNode\" styleClass=\"treenode-#{wrapper.id}\"&gt;\n      Hallo: #{wrapper.text}\n   &lt;/p:treeNode&gt;\n&lt;/p:tree&gt;\n</code></pre>\n\n<p>Now i want to update a specific treenode.</p>\n\n<pre><code>function findIDbySelector(selector) {\n    return $(selector).first().attr('id');\n}\n\nfunction updateComponent(clientID) {\n    var ajax_json = {};\n    ajax_json['source'] = '#{cc.id}';\n    ajax_json['update'] = clientID;\n\n    PrimeFaces.ajax.AjaxRequest(ajax_json);\n}\n\n[...]\n\nupdateComponent(findIDbySelector('.treenode-1'));\n</code></pre>\n\n<p>As i said i can update the whole tree but i only want to update a single Treenode.</p>\n\n<p>(The code may contain bugs/typos since it is stripped down)</p>\n"},{"tags":["jquery","ajax","selector","colorbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13009653,"title":"colorbox - ajax get a div or section","body":"<p>I am loading up an page on my page with the ajax colorbox call. At the moment I am just using</p>\n\n<pre><code>$('.ajax').colorbox();\n</code></pre>\n\n<p>I thought I may be able to do something like</p>\n\n<pre><code>$('.ajax#content').colorbox();\n</code></pre>\n\n<p>How can I pull an portion of my page by passing the selector?</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13010495,"title":"Ajax get id of element where there are multiple links with elements","body":"<p>The following code is what I am currently using to try and give the posts ID to vote.php, however this currently returns [object Object]. How would I be able to pass the correct id when a link is clicked?</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n        $.ajax({  \n        type: \"POST\",  \n        data: \"id=\" + $(this).attr(\"href\", \"id\"), \n        url: \"vote.php\"\n        });  \n&lt;/script&gt;\n\n&lt;a href=\"javascript:;\" id=\"1\"&gt;&lt;div id=\"button\"&gt;Like!&lt;/div&gt;&lt;/a&gt;\n&lt;a href=\"javascript:;\" id=\"2\"&gt;&lt;div id=\"button\"&gt;Like!&lt;/div&gt;&lt;/a&gt;\n&lt;a href=\"javascript:;\" id=\"3\"&gt;&lt;div id=\"button\"&gt;Like!&lt;/div&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13010410,"title":"can someone explain how ajax works (conceptually not code)?","body":"<p>I've been using ajax for years now, but really never understood how it works in the background.</p>\n\n<p>is the XMLHTTPRequest just a normal HTTPRequest with a different format?\nhow many simultaneous XMLHTTPRequests can the server handle?\nexactly, whats the asynchronous part of the request?</p>\n\n<p>So may questions...</p>\n\n<p>Can you explain or point a good resource to read?</p>\n"},{"tags":["javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13010103,"title":"Ajax call with native javascript get no response","body":"<p>I have implemented a ajax call with native js to a php file. </p>\n\n<p>How my call work: I hava a script tag to a js.file placed in footer of a drupal7 CMS like this:</p>\n\n<pre><code>&lt;script id=\"script_dah\" type=\"text/javascript\" src=\"http://mydomain/snippets/snippet.js?community=xy\"&gt;\n</code></pre>\n\n<p>This is the content of snippet.js:</p>\n\n<pre><code>function getMembers(){\nif ( typeof XMLHttpRequest == 'undefined' )\n{\n   XMLHttpRequest = function ()\n   {\n     try\n      {\n        return new ActiveXObject( 'Msxml2.XMLHTTP.6.0' );\n       }\n      catch ( e ) {}\n      try\n      {\n        return new ActiveXObject( 'Msxml2.XMLHTTP.3.0' );\n      }\n      catch ( e ) {}\n      try\n      {\n         return new ActiveXObject( 'Msxml2.XMLHTTP' );\n      }\n      catch ( e ) {}\n      throw new Error( 'This browser does not support XMLHttpRequest.' );\n    };\n}\n\n  //Get the community\n  var selectScript = document.getElementById(\"script_dah\").getAttribute(\"src\");\n  var community = selectScript.split(\"=\")[1];\n\n  //Get the div\n  var selectDiv = document.getElementById(\"snippet_dah\");\n\n  //Send to the server and get the results\n  var xhReq = new XMLHttpRequest();\n  xhReq.open(\"GET\", \"http://mydomain.com/snippet.php?community=\"+community, true);\n  xhReq.send(null);\n  xhReq.onreadystatechange = function() {\n  if (xhReq.readyState != 4) { return; }\n    var serverResponse = xhReq.responseText;\n    selectDiv.innerHTML= serverResponse;\n  };\n//}\n}//End function\n\nsetInterval(\"getMembers()\", 10000);\n</code></pre>\n\n<p>This is my php file:</p>\n\n<pre><code>&lt;?php\n\necho 'INSIDE';\n</code></pre>\n\n<p>I am not sure, what the problem is. Is it because of origin policy, or is it because of drupal that block the response?</p>\n\n<p>If i test it with a dummy html on my own domain however it works!</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13010072,"title":"how to echo a javascript script with php through ajax","body":"<p>I want a javascript script to be echoed when a condition is true,\nthe file where this script is on is called through ajax by another page\nand for some reason it wont echo the <code>&lt;script&gt;...&lt;/script&gt;</code> part.\nIf i put a regular string there it works but it just wont echo javascript.</p>\n\n<pre><code>$max = $int + 10;\n  if($max &gt;= $num_rows){\n    $end = \"&lt;script&gt;var end=1&lt;/script&gt;\";\n  } else {\n    $end = \"&lt;script&gt;var end=0&lt;/script&gt;\";\n  }\n\n echo $end;\n</code></pre>\n\n<p>ajax:\n    function onScroll(event) {\n              // Check if we're within 100 pixels of the bottom edge of the broser window.\n              var closeToBottom = ($(window).scrollTop() + $(window).height() > $(document).height() - 100);</p>\n\n<pre><code>          if(closeToBottom) {\n\n            if(end==0){\n             // GET THE 10 NEXT ITEMS;\n              if (window.XMLHttpRequest)\n                 {// code for IE7+, Firefox, Chrome, Opera, Safari\n                 xmlhttp=new XMLHttpRequest();\n                 }\n               else\n                 {// code for IE6, IE5\n                 xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n                 }\n               xmlhttp.onreadystatechange=function()\n                 {\n                 if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n                   {\n                   //document.getElementById(\"tiles\").innerHTML=xmlhttp.responseText;\n\n\n\n\n                         $('#tiles').append(innerHTML=xmlhttp.responseText);\n                         int = int+10;\n                         // Clear our previous layout handler.\n                         if(handler) handler.wookmarkClear();\n\n                         // Create a new layout handler.\n                         handler = $('#tiles li');\n                         handler.wookmark(options);\n\n\n                         $(function() {\n                            // Select all links whose attribute rel starts with lightbox\n                            $('a[rel^=lightbox]').lightBox();\n                         });\n\n\n                           FB.XFBML.parse();\n\n                   }\n\n                 }\n            } \n               $.extend({\n                    getUrlVars: function(){\n                      var vars = [], hash;\n                      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n                      for(var i = 0; i &lt; hashes.length; i++)\n                      {\n                        hash = hashes[i].split('=');\n                        vars.push(hash[0]);\n                        vars[hash[0]] = hash[1];\n                      }\n                      return vars;\n                    },\n                    getUrlVar: function(name){\n                      return $.getUrlVars()[name];\n                    }\n                  });\n\n                  var request = $.getUrlVar('item');\n\n                  if(request!=null){\n                    var allR = \"?int=\"+int+\"&amp;item=\"+request;\n                  } else {\n                    var allR = \"?int=\"+int;\n                  }\n\n\n               xmlhttp.open(\"GET\",\"tiles.php\"+allR,true);\n               xmlhttp.send();\n\n\n             }\n\n        };\n</code></pre>\n\n<p>Can anyone solve this?\nThx in advance.</p>\n"},{"tags":["php","ajax","forms","utf-8","contact"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":13007178,"title":"Ajax contact form and UTF-8","body":"<p>i'm using ajax contact form, downloaded from: <a href=\"http://youhack.me/2010/07/22/create-a-fancy-contact-form-with-css-3-and-jquery/\" rel=\"nofollow\">http://youhack.me/2010/07/22/create-a-fancy-contact-form-with-css-3-and-jquery/</a></p>\n\n<p>Everything works ok except UTF as i can't use cyrilic symbols when submitting.</p>\n\n<p>The php:</p>\n\n<pre><code>$name = $_POST['name']; // contain name of person\n$email = $_POST['email']; // Email address of sender \n$web = $_POST['web']; // Your website URL\n$body = $_POST['text']; // Your message \n$receiver = \"receiver@domain.com\" ; // hardcorde your email address here - This is the email address that all your feedbacks will be sent to \n\nif (!empty($name) &amp; !empty($email) &amp;&amp; !empty($body)) {\n    $body = \"Name: {$name}\\n\\nSubject: {$web}\\n\\nMessage: {$body}\";\n    $send = mail($receiver, 'Contact from domain.com', $body, \"From: {$email}\");\n    if ($send) {\n        echo 'true'; //if everything is ok,always return true , else ajax submission won't work\n    }\n}\n</code></pre>\n\n<p>It uses jquery.validationEngine-en for validation.\nMy html already has \"Content-Type\" content=\"text/html; charset=utf-8\" in header.</p>\n\n<p>I'm new to php and jquery, so i would appriciate some guidance to make UTF-8 work when submitting.\nThanks :)</p>\n\n<p><strong>Edit:</strong> When i try to use cyrilic chars (čšćđ) on a required field i get ajax input error \"Please use letters only\". If i submit the form with cyrilic chars on a non-required field, i receive and email, all letters show ok except cyrilic, which are like this: Å¡. </p>\n\n<p><strong>Edit 2:</strong> When i set the recipient to gmail (webmail), cyrilic chars show up ok, except in one field, where Ajax doesnt let me use them (regex from Reinder answer).</p>\n\n<p>When i set recipient in outlook (local) and submit the form, none of the cyrilic chars don't show up ok, example: ÄĹĄ oÄa ĹĄ ÄĹ˝Ĺ ÄÄ</p>\n\n<p><strong>SOLVED</strong> Thanks to Reinder for guide and David! Will solve it today :) </p>\n"},{"tags":["jquery","ajax","sync","getjson","synchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":13009755,"title":"getJSON Synchronous","body":"<p>GOAL: What I'm after is to get data from database and refresh main.php (more evident through draw_polygon) every time something is added in database (after $.ajax to submit_to_db.php).</p>\n\n<p>So basically I have a main.php that will ajax call another php to receive an array that will be saved to database, and a json call another php to return an array will be used by main.php.</p>\n\n<pre><code>$(document).ready(function() {\n    get_from_db();\n    $('#button_cancel').click(function(){\n       $.ajax({\n          url: 'submit_to_db.php',\n          type: 'POST',\n          data: {list_item: selected_from_list},\n\n          success: function(result){\n             ...\n             get_from_db();\n          }\n       });\n    });\n    function get_from_db(){\n         $.getJSON('get_from_db.php', function(data) {\n             ...\n             draw_polygon(data);\n         });\n    }\n });\n</code></pre>\n\n<p>In my case, what I did was a get_from_db function call for getJSON to actually get data from database, with the data to be used to draw_polygon. But is that how it should be done? I'm a complete newbie and this is my first time to try getJSON and ajax too to be honest. So my question: how does asynchronous work actually? Is there another workaround for this instead of having to call function get_from_db with getJSON (it isn't synchronous, is it? is that why it doesn't update the page when it isn't within a function?) all the time - like $.ajax with async: false (I couldn't get it to work by the way). My approach is working, but I thought maybe there are other better ways to do it. I'd love to learn how. Thanks in advance. I hope I'm making any sense.</p>\n\n<p>To make it more clearer, here's what I want to achieve:<br>\n1. @start of page, get data from database (currently through getJSON)<br>\n2. Paint or draw in canvas using the data<br>\n3. When I click the done button it will update the database<br>\n4. I want to AUTOMATICALLY get the data again to repaint the changes in canvas.<br></p>\n"},{"tags":["ajax","adsense","pushstate","pjax","google-dfp"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":187,"score":2,"question_id":12949835,"title":"AdSense on history.pushState enabled page","body":"<p>First off, I know this has been discussed <a href=\"http://stackoverflow.com/questions/10834751/adsense-with-ajax\">over</a> and <a href=\"http://stackoverflow.com/questions/435391/refresh-a-div-that-has-a-google-ad-inside-it#441425\">over</a> <a href=\"http://stackoverflow.com/questions/6394594/how-to-force-advert-to-show-on-ajax-loaded-page-adsense\">again</a>. But let's take this as a \"late 2012 edition\" since things tend to change rapidly on the internet.</p>\n\n<p>I have <a href=\"http://www.igre123.com\" rel=\"nofollow\">this web page</a> which is a \"classical\" web page with full page refreshes. Every internal click produces new content. We can show AdSense ads this way without a problem.</p>\n\n<p>Now I started looking into \"ajaxifying\" (PJAX) the whole page for performance reasons (I've actually made a prototype version and it works superbly). The whole thing works only on browsers that support <code>history.pushState</code>, and whenever a user clicks on a internal link a AJAX request is triggered that fetches only the content part of the page (everything between the header and footer) and replaces old content with it.</p>\n\n<p>The end result is, that the user is presented with a brand new page (including the changed URL and what not) and only the mechanism for delivering the page has changed (full reload vs. AJAX). As far as google (and older browsers) is concerned this is still a regular page with regular links (progressive enhancement and all that).</p>\n\n<p>And yet there isn't a way to display AdSense, what with the <code>document.write</code>'s and AdSense's TOS ruining the party.</p>\n\n<p>My question: is there a <strong>Google approved</strong> (I'm not interested in hacks that will get us banned) way to display AdSense ads on a page like this (and I haven't found it). Or if there isn't, does Google have any plans on supporting this in the future (again, I haven't found anything related to this).</p>\n\n<p><strong>update</strong></p>\n\n<p>After some more digging around I came across <a href=\"http://www.google.com/dfp/info/sb/index.html\" rel=\"nofollow\">Google DFP</a>, which seems to support async loading of adds. But, I'm not sure I can load AdSense ads through it dynamically without breaking the TOS. I'm 100% sure I can load other ads this way, but not for AdSense. Could somebody clear this up for me?</p>\n"},{"tags":["ajax","json","jsonp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13009737,"title":"Deeper understanding of JSON AJAX","body":"<pre><code>$.ajax({\n  type: 'GET',\n  url: url+\"/j_acegi_security_check\",\n  data: {j_username:\"dowi\", j_password:\"Ze(Quuu5\"},\n  success: function(data){ //A function to be called if the request succeeds. \n    //The function gets passed three arguments: The data returned from the server, \n    //formatted according to the dataType paramete\n  },\n  dataType:\"jsonp\", //The type of data that you're expecting back from the server.\n  complete: function(jqXHR, textStatus){\n    console.log(\"jqXHR \" + jqXHR);\n    console.log(\"textStatus \" + textStatus);\n  }\n\n});\n</code></pre>\n\n<p>in the code above I do a request to the server to mainly send the login data <code>password and username</code> to log me in.</p>\n\n<p>I have to use JSONP to avoid domain-policy-restrictions, which may be unneccesarry because what I get back from the Server is no JSON but plain HTML. I somehow \"missuse\" JSONP here? I dont know??</p>\n\n<p>The <code>text-status</code> of the complete-method then returns: <code>\"error\"</code> but not more? </p>\n\n<pre><code>textStatus parsererror\n</code></pre>\n\n<p>How can I avoid this error? </p>\n"},{"tags":["ajax","symfony-1.4","like"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":209,"score":1,"question_id":12750869,"title":"Create a \"like/dislike\" button in symfony 1.4","body":"<p>I want to create a \"like/dislike\" button in Ajax with Symfony 1.4.</p>\n\n<p>I have these tables :</p>\n\n<pre><code>| Song | ------- n --------------------------- n ---------- | sfGuardUser |\n                               |\n                          | LikeSong |                 `\n</code></pre>\n\n<p>I've read symfony AJAX documentation but it is 1.0 documentation. 1.4 is very light.\nSo, here is what I tried to do first.</p>\n\n<p>In <code>/app/frontend/module/likesong/_voting.php</code> :</p>\n\n<pre><code>&lt;?php\n    if($song-&gt;hasVote())\n    {\n        jq_link_to_remote('I do not like', array('complete' =&gt; '[??? Update my link]', 'url' =&gt; 'likesong/notlike?id_song='.$song-&gt;getId()));\n    }\n    else\n    {\n        jq_link_to_remote('I like', array('complete' =&gt; '[??? Update my link]', 'url' =&gt; 'likesong/like?id_song='.$song-&gt;getId()));\n    }\n    echo ' - '.$song-&gt;getNbVote();\n?&gt;\n</code></pre>\n\n<p>In <code>/app/frontend/config/routing.yml</code> :</p>\n\n<pre><code>song_like:\n  url:      /song-like/:id\n  param:    { module: song, action: like }\n\nsong_notlike:\n  url:      /song-not-like/:id\n  param:    { module: song, action: notLike }\n</code></pre>\n\n<p>In <code>/app/frontend/module/likesong/actions.class.php</code></p>\n\n<pre><code>public function executeLike(sfWebRequest $request)\n{\n  if ($request-&gt;isXmlHttpRequest())\n  {                              \n    if(USER HAS NOT YET VOTED)\n    {\n      $this-&gt;vote = new LikeSong();\n\n      $this-&gt;vote-&gt;setSongId($this-&gt;song()-&gt;getId());\n      $this-&gt;vote-&gt;setSfGuardUserId($this-&gt;getUser()-&gt;getId());\n      $this-&gt;vote-&gt;save();\n\n      return $this-&gt;renderText('notlike');\n      else\n      {\n        // Display flash\n      }\n    }\n }\n\npublic function executeNotLike(sfWebRequest $request)\n{\n  if ($request-&gt;isXmlHttpRequest())\n  {                              \n     if(USER ALREADY VOTED)\n     {\n        // Delete form database\n\n        return $this-&gt;renderText('like');\n        else\n        {\n          // Display flash\n        }\n      }\n}\n</code></pre>\n\n<p>When the user click, \"I like this song\" should be replaced by \"I don't like this song\".</p>\n\n<p><strong>EDIT 1</strong> : My post is updated with my code.</p>\n\n<p><strong>EDIT 2</strong> : Something come to my mind. Would not it be better to handle this with forms ?</p>\n\n<p><strong>EDIT 3</strong> : My code updated with remarks. But I'm blocked now.</p>\n"},{"tags":["php","javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13008719,"title":"Fetching Images and other Details in Index page based on two dropdown selected value?","body":"<p>I am new to php.I have a problem with a dropdown list. Let me explain it in little detail.I have a database that contains Two Tables: firstCata and subCata. The table subCata references firstCata ID. Now in my index.php page I have a form with 2 drop downs. First is for firstCata and second shows values based on first from my database. All this I had done using Ajax.Code is Below. Problem is that using ajax I had displayed a second drop down on  tag in index.php. How can I show other details of subCata in index.php Page?</p>\n\n<pre><code>&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction getSubCata(str)\n{\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"result\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"getSunCata.php?q=\"+str.value,true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;select onchange='getSubCata(this)'&gt;\n&lt;?php \n$query=mysql_query(\"SELECT * FROM firstCata\") or die(mysql_error());\nwhile($rec=mysql_fetch_array($query))\n{\n?&gt;\n&lt;option value=\"&lt;?php echo $rec['firstCata_id'];?&gt;\"&gt;&lt;?php echo $rec['firstCata_name'];?&gt;&lt;/option&gt;\n&lt;?php } ?&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>and my getSunCata.php code is like</p>\n\n<pre><code>&lt;?php\nmysql_connect('localhost','root','');\nmysql_select_db('mainCata') or die(mysql_error());\n\n?&gt;\n&lt;select&gt;\n&lt;?php\n$id=$_GET['q'];\necho $id;\n$query=mysql_query(\"SELECT * FROM subcata where firstCata_id=$id\") or die(mysql_error());\nwhile($rec=mysql_fetch_array($query))\n{\necho $rec['subCata_name'];\n?&gt;\n &lt;option id=\"a\"value=\"echo $rec['subCata_id'];\"&gt;\n    &lt;?php echo $rec['subCata_name']; ?&gt;\n&lt;/option&gt;\n    &lt;?php\n}\n?&gt;\n&lt;/select&gt;\n</code></pre>\n"},{"tags":["php","javascript","ajax","polling"],"answer_count":3,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":1127,"score":8,"question_id":6669898,"title":"How does facebook push data to news feed?","body":"<p>I am curious as to how Facebook pushes data to the browser as in the news feed. New data shows up at the top of the feed without reloading the page or clicking a button<br/>\nDoes Facebook achieve this by polling their server through AJAX at a set interval or do they somehow push new data from the server to the client unprovoked?<br/>\nIf so what language or API do they use to do this?</p>\n"},{"tags":["jquery","ruby-on-rails","ruby","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13001022,"title":"How to pass values containing line breaks through Ajax in Ruby on Rails?","body":"<p>I am trying to update a textarea with an <code>address</code> through Ajax:</p>\n\n<p><strong>application.js</strong></p>\n\n<pre><code>$(\"#invoice_project_id\").change(function() {\n    $.ajax({\n        url: '/invoices/get_recipient',\n        data: 'project_id=' + this.value,\n        dataType: 'script'\n    })\n});\n</code></pre>\n\n<p><strong>invoices_controller.rb</strong></p>\n\n<pre><code>def get_recipient\n  project = Project.find(params[:project_id])\n  @recipient = project.person.address\nend  \n</code></pre>\n\n<p><strong>get_recipient.js.erb</strong></p>\n\n<pre><code>$('#invoice_recipient').val(\"&lt;%= @recipient %&gt;\");\n</code></pre>\n\n<p>Apparently, a textarea cannot be populated through Ajax this way, probably due to the line breaks in the <code>address</code>.</p>\n\n<p>When I use another attribute, e.g. <code>first_name</code>, the whole thing works pretty well:</p>\n\n<pre><code>@recipient = project.person.first_name\n</code></pre>\n\n<p>How can I get this to work with an <code>address</code> as well?</p>\n\n<p>I guess the line breaks inside the addresses need to be escaped somehow, but I haven't found a way to do that yet.</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["jquery","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12275040,"title":"Multiple ajax calls made on form submission","body":"<p>I have an HTML form with jQuery catching the form submission but for some reason the browser is sending the Ajax call to the back-end twice. There are no javascript errors and everything works as expected including the back-end returning the expected json. </p>\n\n<p>I have found other posts with the same issue but no responses have helped me. I have included my code below. Does anyone have any suggestions of why this may be occuring?</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form action=\"/rating/create/&lt;?php echo $jobId ?&gt;\" method=\"post\" id=\"rating-form\"&gt;\n    &lt;input type=\"hidden\" id=\"Rating_jobId\" name=\"Rating[jobId]\" value=\"&lt;?php echo $jobId ?&gt;\" /&gt;\n    &lt;input id=\"Rating_quality\" type=\"slider\" name=\"Rating[quality]\" value=\"0\" /&gt;\n    &lt;input id=\"Rating_service\" type=\"slider\" name=\"Rating[service]\" value=\"0\" /&gt;\n    &lt;input type=\"submit\" name=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>javascript/jQuery: </p>\n\n<pre><code>    $('#rating-form').live('submit', function() {\n\n        var action = $(this).attr('action');\n\n        var dataset = {'Rating':{\n                        'jobId':$('#Rating_jobId').val(),\n                        'quality':$('#Rating_quality').val(),\n                        'service':$('#Rating_service').val(),\n                        },'ajax':'true'}\n\n        d = new Date;\n        dateCache = d.getTime();\n        $.ajax({\n            type: \"POST\",\n            url: action +\"?\"+ dateCache,\n            data: dataset,\n            datatype: \"application/json\",\n            cache: false\n        }).done(function( response ) {\n\n            if(response.success == 'true'){\n\n                $('a.rating-'+ response.jobId).parent().remove();\n                $.fancybox.close()\n\n            } else {\n                alert( response.error );\n            }\n         });\n\n        return false;\n    });\n</code></pre>\n"},{"tags":["php","javascript","ajax","json","parameter-passing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":629,"score":0,"question_id":8709711,"title":"Passing JSON with xmlhttpRequest request in JS","body":"<p>I am echoing JSON from a php server back to the browser. I am quiet proficient with XML however am new to JSON. Can someone show me how to correctly extract the JSON from the xmlhttpRequest and then pass it into data aka an alert.</p>\n\n<p>My JSON (from PHP server)</p>\n\n<pre><code>       {\"data\": {\n       \"message\": \"Open the Pod bay doors, Hal\",\n       \"type\": \"request\",           \n       \"replies\" =&gt; array(\n                 \"id\": \"12321\"\n                 \"message\": \"I'm sorry Dave, I'm afraid I can't do that!\"\n        )\n        }\n        }\n</code></pre>\n\n<p>My request in JS returns the JSON however I have no way of catching it or extracting the inside information... my ajax function is...</p>\n\n<pre><code>function ajax(site){  \n    xmlhttp.open(\"GET\",\"site\",true);\n    xmlhttp.onreadystatechange=function() {\n    if (xmlhttp.readyState==4) {\n       if (xmlhttp.status!=404) {\n       var resp =new Function(\"return \"+xmlhttp.responseText)();\n\n     }\n   }\n xmlhttp.send(null);\n }\n</code></pre>\n\n<p>Then I am invoking the function in window.onload</p>\n\n<pre><code>    window.onload = runJSON()\n\nfunction runJSON(){\n    var site = \"http://localhost/sites/sandbox/json.php\"\n    ajax(site);\n    ... this is what i am unsure about... how do I access the data in the object\n}\nalert(data);\n}\n</code></pre>\n"},{"tags":["ajax","extjs","options"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":12265921,"title":"Why is ExtJS sending an OPTIONS request to the same domain?","body":"<p>I'm loading my script on a domain and sending some data with <code>POST</code> and the use of <code>Ext.Ajax.request()</code> to that same domain.</p>\n\n<p>Somehow the dev-tools show me, that there is a failed <code>OPTIONS</code> request.</p>\n\n<pre><code>Request URL : myurl-internal.com:8090/some/rest/api.php\n\nRequest Headers\n  Access-Control-Request-Headers : origin, x-requested-with, content-type\n  Access-Control-Request-Method  : POST\n  Origin                         : http://myurl-internal.com:8090\n</code></pre>\n\n<p>It's both HTTP and not HTTPS. Same port, same host ... I don't know why it's doing this.\nThe server can't handle such stuff and so the request fails and the whole system stops working.</p>\n"},{"tags":["php","javascript","ajax","mootools","tinymce"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":364,"score":0,"question_id":7486514,"title":"Loading Multiple TinyMCE instances is freezing the browser, solution?","body":"<p>I have a page with multiple tinymce instances running at the same time and it's freezing the browser whenever it loads. It's taking not less than 15 seconds of waiting before I could use the browser again. I've tested this on IE9, FF6, and Chrome and all of them are freezing for some time while it is loading.</p>\n\n<p>How could I prevent this freezing from happening? I have at least 10 textarea with tinymce attached to it in one page. Computer is running on core2duo with 4GB of RAM without any other program running, but this shouldn't matter as its supposed to work even with a lower spec PC.</p>\n\n<p>Edit add JS code to load TinyMCE.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar myTextbox = \"10 name of textarea here\";\n\ntinyMCE.init({\n    // General options\n    mode : \"exact\",\n    elements: myTextbox,\n    theme : \"advanced\",\n    plugins : \"paste,ibrowser\",\n    paste_remove_styles: true,\n    paste_auto_cleanup_on_paste : true,\n    plugins : \"autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,autosave\",\n    // Theme options\n    theme_advanced_buttons1 : \"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect\",\n    theme_advanced_buttons2 : \"bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor\",\n    theme_advanced_buttons3 : \"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,print,|,ltr,rtl,|,fullscreen\",\n    theme_advanced_buttons4 : \"insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,pagebreak,restoredraft,|,charmap,emotions,iespell,media,advhr,\",\n    theme_advanced_buttons5 : \"pastetext,pasteword,selectall,iuploader,upload_status\",\n    theme_advanced_toolbar_location : \"top\",\n    theme_advanced_toolbar_align : \"left\",\n    theme_advanced_statusbar_location : \"bottom\",\n    theme_advanced_resizing : true,\n\n    setup : function(ed) {\n    //IMAGE UPLOADER BUTTON \n    ed.addButton('iuploader', {\n        title : 'Upload Image',\n        image : '/www/images/admin/post_button_image_upload.gif',\n        onclick : function() {\n            load_image_uploader(this.id);\n         }\n      }),\n    ed.addButton('upload_status', {\n        title : 'Upload Status',\n        image : '',\n        onclick : function() {\n\n         }\n      });\n    },\n\n    // Content CSS\n    content_css : \"/www/js/tiny_mce/css/content.css\",\n\n    // Drop lists for link/image/media/template dialogs\n    template_external_list_url : \"lists/template_list.js\",\n    external_link_list_url : \"lists/link_list.js\",\n    external_image_list_url : \"lists/image_list.js\",\n    media_external_list_url : \"lists/media_list.js\",\n\n    // Style formats\n    style_formats : [\n        {title : 'Bold text', inline : 'b'},\n        {title : 'Red text', inline : 'span', styles : {color : '#ff0000'}},\n        {title : 'Red header', block : 'h1', styles : {color : '#ff0000'}},\n        {title : 'Example 1', inline : 'span', classes : 'example1'},\n        {title : 'Example 2', inline : 'span', classes : 'example2'},\n        {title : 'Table styles'},\n        {title : 'Table row 1', selector : 'tr', classes : 'tablerow1'}\n    ],\n\n    // Replace values for the template plugin\n    template_replace_values : {\n        username : \"Some User\",\n        staffid : \"991234\"\n    }\n\n});\n</code></pre>\n\n<p></p>\n"},{"tags":["ajax","json","listview","jquery-mobile","phonegap"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2665,"score":0,"question_id":11100531,"title":"How to populate a jQuery Mobile list view with JSON data from server?","body":"<p>I'm using jQuery Mobile with PhoneGap. How can I pull JSON data (from a server) and populate it into a list view.</p>\n"},{"tags":["jquery","ajax","error-handling","timeout","jsonp"],"answer_count":6,"favorite_count":35,"up_vote_count":55,"down_vote_count":0,"view_count":23366,"score":55,"question_id":1002367,"title":"jQuery ajax (jsonp) ignores a timeout and doesn't fire the error event","body":"<p>Hey fellow jQuery lovers,</p>\n\n<p>To add some basic error handling, I wanted to rewrite a piece of code that used jQuery's $.getJSON to pull in some photo's from Flickr. The reason for doing this is that $.getJSON doesn't provide error handling or work with timeouts.</p>\n\n<p>Since $.getJSON is just a wrapper around $.ajax I decided to rewrite the thing and surprise surprise, it works flawlessly.</p>\n\n<p>Now the fun starts though. When I deliberately cause a 404 (by changing the URL) or cause the network to timeout (by not being hooked up to the interwebs), the error event doesn't fire, at all. I'm at a loss as to what I'm doing wrong. Help is much appreciated.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>$(document).ready(function(){\n\n    // var jsonFeed = \"http://api.flickr.com/services/feeds/photos_public.gne\"; // correct URL\n    var jsonFeed = \"http://api.flickr.com/services/feeds/photos_public.gne_______\"; // this should throw a 404\n\n    $.ajax({\n        url: jsonFeed,\n        data: { \"lang\" : \"en-us\",\n                \"format\" : \"json\",\n                \"tags\" : \"sunset\"\n        },\n        dataType: \"jsonp\",\n        jsonp: \"jsoncallback\",\n        timeout: 5000,\n        success: function(data, status){\n            $.each(data.items, function(i,item){\n                $(\"&lt;img&gt;\").attr(\"src\", (item.media.m).replace(\"_m.\",\"_s.\"))\n                          .attr(\"alt\", item.title)\n                          .appendTo(\"ul#flickr\")\n                          .wrap(\"&lt;li&gt;&lt;a href=\\\"\" + item.link + \"\\\"&gt;&lt;/a&gt;&lt;/li&gt;\");\n                if (i == 9) return false;\n            });\n        },\n        error: function(XHR, textStatus, errorThrown){\n            alert(\"ERREUR: \" + textStatus);\n            alert(\"ERREUR: \" + errorThrown);\n        }\n    });\n\n});\n</code></pre>\n\n<p>I'd like to add that this question was asked when jQuery was at version 1.4.2</p>\n"},{"tags":["php","jquery","html","ajax","div"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2126,"score":1,"question_id":4193736,"title":"Auto refresh multiple divs with Jquery","body":"<p>Im creating a dashboard for a large display at work, I have managed to get one div auto refreshing a php request page, but I can't think of a way of using this function on another div for another script without copying the entire function and renaming it, which just seems dumb.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>&lt;script type=\"text/JavaScript\"&gt; \n$(document).ready(\nfunction update() \n{\n    $.get(\"response.php\", function(data){\n            $(\"#ajaxtest\").html(data);\n            window.setTimeout(update, 10000);\n        });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>I did so some searching on stackoverflow and found this nifty little extract, although its for single div use only... (<a href=\"http://stackoverflow.com/questions/220767/auto-refreshing-div-with-jquery\">second example: auto refreshing div with jquery</a>)</p>\n"},{"tags":["jquery","ajax","checkbox"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2465,"score":0,"question_id":579878,"title":"AJAX Checkboxes","body":"<p>I have a server driven site using php and js.  One section displays all photos that our users have uploaded, and an administrator then decides which photos to keep for final presentation.  Most of the site uses jquery for inplace edits, yet this task has me stumped.  I want to insert a row into a MySQL database table that copies the URL of the photo and other associated information with the click of a checkbox ...NO SUBMIT button.</p>\n\n<p>I have all the info I need generated in a foreach (glob($dir)) and beside each photo generated I can place the checkbox.  </p>\n"},{"tags":["jquery","ajax","arrays","json","data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13006798,"title":"jQuery iterate through array and add to ajax method","body":"<p>I've got a jQuery <code>$.ajax()</code> post and need to add an object (is it an object? string?) to the request for every item in an array. I'm lost as to the best method for doing this. I imagine it'd be best first to separate out the items from the data attribute as a variable so it's calculated before the request... but i'm not sure how to build each element. So here are some made up stuff to illustrate my point.</p>\n\n<p>Thanks for your help!</p>\n\n<pre><code>var items   = for (var i = 0; i &lt; $orderItems.length; i++){\n                  'item': {\n                      'photo': $orderItems[0].photo,\n                      'option': $orderItems[0].option,\n                      'cost': $orderItems[0].cost\n                  }\n              },\n    request = $.ajax ({\n                    type: 'POST',\n                    dataType: 'json',\n                    data: {\n                        'firstName': $firstNameVal,\n                        'lastName': $lastNameVal,\n                        'email': $emailVal,\n                        'phone': $numberVal,\n                        'address': {\n                            'street': $streetVal,\n                            'city': $cityVal,\n                            'state': $stateVal,\n                            'zip': $zipVal\n                        },\n                        'price': $orderTotal,\n                        'items': items\n                    }\n                });\n</code></pre>\n"},{"tags":["jquery",".net","ajax","svg"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13006627,"title":"Ipad performs bad on SVG rendered sites","body":"<p>I developed a website that renders a floorview svg file using AJAX and then perform JavaScript manipulation and events. The site works perfectly on desktop safari and chrome browser. However on IPAD it tends to slow down everything. The performance is very bad on IPAD and for a single click it takes 10 to 15 seconds.</p>\n\n<p>i think its because of the size of the svg file. Size of svg is 742 KB. </p>\n\n<p>Any help will be appreciated. </p>\n"},{"tags":["ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13006522,"title":"Ajax Get Method Calling","body":"<blockquote>\n  <p>site.com/#request/value1,site.com/#request/value2,site.com/#request/value3\n  how can i take ajax get method and request in the server ? Like this</p>\n</blockquote>\n\n<pre><code>&lt;a href=\"#reques/value\"&gt;Example Link&lt;/a&gt;\n&lt;a href=\"#reques/value\"&gt;Example1 Link&lt;/a&gt;\n</code></pre>\n\n<p>and for caching google not have any problem? </p>\n"},{"tags":["ajax","redirect","symfony2","fosuserbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13004368,"title":"Symfony2 Login redirect after ajax request","body":"<p>I'm building a site with user accounts using Symfony2, and I have a section where the user has a list of items, all of which can be edited when clicked on.</p>\n\n<p>Currently when the user clicks on an item to edit, there will be an ajax request to pull all information related to that item, and build a form, then that form will be placed inside the current page.</p>\n\n<p>Now here's my problem, say a user is on their items page, and they clear their browser cache (and are logged out), when they click on an item to edit, I've set it up so nothing will happen, but if they immediately attempt to login after that (using the standard website.com/login page), they are redirected to the form that they were attempting to load previously. (This page only contains a form, nothing more, so it would probably confuse the user).</p>\n\n<p>I've already setup Symfony2 to redirect after login to the users profile page, but still, it redirects to the form from the ajax request after login.</p>\n\n<p>I just want the user to be redirected to their profile page after any login under any circumstances.</p>\n"},{"tags":["php","javascript","mysql","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13005529,"title":"Selecting JSON data from a single MySQL table field","body":"<p>I have a PHP REST Web service which I am accessing from JavaScript.  If am running a MySQL SELECT statement which selects a few text fields and then json_encode the returned array everything works as expected - I am getting an array of JSON objects.\nI created a new field where I am storing a whole JSON string and I only want to select that field and then return array of those JSON objects which the SELECT query returns.  Is there an easy way to do this?\nThank you!</p>\n"},{"tags":["asp.net","ajax","asp.net-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13005508,"title":"What is life cycle of the update panel in asp.net page life cycle","body":"<p>I am using AJAX update panel in Asp.net. I know the basics of the AJAX functionality but couldn't understand yet how update panel events occurs with respect to page events?</p>\n"},{"tags":["ajax","pagination"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13005438,"title":"pagination for displaying events","body":"<p>iam working on events creation.the issue is i need help to display more than one event for a particular date with next and previous button.</p>\n\n<pre><code> my ajax call to get events is\n\n      var url = '&lt;?php echo base_url(); ?&gt;index.php/home_event/view_cal';\n $.ajax({\n        type: \"POST\",\n        url: url,\n        secureuri      :false,\n        dataType: \"json\",\n        data: postData,\n\n           success: function (data,event_name ,event_description,date,location)\n           {\n         if(data==null){\n            alert(\"Sorry, No Events In This Date\");\n           }\n          else\n           {\n             $('.heading_bg').html(data.event_name);\n             $('.location_name').html(data.location);\n             $('.date').html(data.start_date);\n             $('.btn_content').html(data.event_description); \n           } \n           }\n\n    });\n});  return false;\n             });\n</code></pre>\n"},{"tags":["ajax","http-headers","cross-domain","cors"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":205,"score":0,"question_id":8163703,"title":"Cross-Domain AJAX doesn't sent X-Requested-With header","body":"<p>Create a web service on <strong>http://www.a.com/service.asmx</strong> and send a cross-domain ajax request to it from <strong>http://www.b.com</strong>. Check the headers in <strong>Firebug</strong>, or in <strong>Live HTTP Headers</strong>, or any other plugin you wish.</p>\n\n<p>There is no trace of the <strong>X-Requested-With</strong> HTTP Header field among request headers. </p>\n\n<p>However, if you send an ajax request to the same service from the same domain (say for example <strong>http://www.a.com/about</strong>), you will see that header field. </p>\n\n<p>Why is the <strong>X-Requested-With</strong> header field omitted for cross-domain ajax requests? </p>\n\n<p><strong>Update:</strong> I know that JSONP calls are not AJAX calls in nature. Thus you won't see any <strong>X-Requested-With</strong> header field, in JSONP calls.</p>\n"},{"tags":["jquery","asp.net","ajax","asp.net-mvc","webgrid"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":140,"score":1,"question_id":13004401,"title":"Show Ajax Loading Indicator when sorting or paging ASP.net MVC Webgrid","body":"<p>I can easily hookup a webgrid and add ajax to it using the default settings. But one thing I have been struggling to figure out is how to add a loading indicator when the grid is sorting or paging via ajax.</p>\n\n<p>There is a built in callback function which is great to turn off the ajax loading indicator but how can I easily turn one on?</p>\n\n<p>Below is the code I have currently for my webgrid.</p>\n\n<pre><code>@{\n    var grid = new WebGrid(rowsPerPage: Model.CountPerPage, ajaxUpdateContainerId: \"GridArea\");\n    grid.Bind(Model.Users,\n              autoSortAndPage: false,\n              rowCount: Model.TotalCount\n            );\n    grid.Pager(WebGridPagerModes.All);\n}\n&lt;div id=\"GridArea\"&gt;\n    @grid.GetHtml(htmlAttributes: new {id =\"UserGrid\"},\n        columns: new [] {\n        grid.Column(\"ID\", canSort: false),\n        grid.Column(\"FirstName\"),\n        grid.Column(\"LastName\"),\n        grid.Column(\"Email\"),\n        grid.Column(\"FullName\", canSort: false)\n        }\n    )\n&lt;/div&gt;\n</code></pre>\n\n<p>I've tried using the following but neither of these have worked.</p>\n\n<pre><code>&lt;script&gt;\n    $(function () {\n        $(\"#UserGrid\").live(\"ajaxStart\", function () {\n            alert(\"start\");\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>This one works the first time but won't work after the grid does its first ajax refresh.</p>\n\n<pre><code>&lt;script&gt;\n    $(function () {\n        $('#UserGrid').ajaxStart(function () {\n            alert(\"start\");\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["javascript","ajax","javascript-library","xmlhttp","selenium-webdriver"],"answer_count":3,"favorite_count":0,"up_vote_count":12,"down_vote_count":0,"view_count":771,"score":12,"question_id":11755186,"title":"Tracking with Java Script if Ajax request is going on in a webpage or Intercept XMLHttpRequest","body":"<p>I am using <a href=\"http://seleniumhq.org/projects/webdriver/\" rel=\"nofollow\">Selenium WebDriver</a> for crawling a <a href=\"http://www.mouthshut.com/cars-suvs/Tata-Nano-Reviews-925076578\" rel=\"nofollow\">web site</a>(only for example, I will be crawling other web sites too!) which has infinite scroll.</p>\n\n<p><strong>Problem statement:</strong> </p>\n\n<p>Scroll down the infinite scroll page till the content stops loading using Selenium web driver.</p>\n\n<p><strong>My Approach:</strong>\nCurrently I am doing this- </p>\n\n<p><strong>Step 1: Scroll to the page bottom</strong></p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"javascript:window.onload=toBottom();\"+\n                        \"function toBottom(){\" +\n                        \"window.scrollTo(0,Math.max(document.documentElement.scrollHeight,\" +\n                        \"document.body.scrollHeight,document.documentElement.clientHeight));\" +\n                \"}\");\n</code></pre>\n\n<p>Then I wait for some time to let the Ajax Request complete like this-</p>\n\n<p><strong>Step 2: Explicitly wait for Ajax request to be over</strong></p>\n\n<blockquote>\n  <p>Thread.sleep(1000);</p>\n</blockquote>\n\n<p>Then I give another java script to check if the page is scrollable </p>\n\n<p><strong>Step 3:Check if the page is scrollable</strong></p>\n\n<pre><code>//Alternative to document.height is to be used which is document.body.clientHeight\n//refer to https://developer.mozilla.org/en-US/docs/DOM/document.height\n\n    if((Long)js.executeScript(\"return \" +\n                                \"(document.body.clientHeight-(window.pageYOffset + window.innerHeight))\")&gt;0)\n</code></pre>\n\n<p>If the above condition is true then I repeat the from Step 1 - 3, till condition in Step 3 is false.</p>\n\n<p><strong>The Problem:</strong>\nI do not want to give the <code>Thread.sleep(1000);</code> in step 2, rather I would like to check using Java Script if the background Ajax request is over and then scroll down further if the condition in Step 3 is true . </p>\n\n<p><strong>PS:</strong> I am not the developer of the page so I do not have access to the code running the page, I can just inject java scripts(as in Step 1 and 3) in the web page. And, I have to write a generic logic for any web site with Ajax requests during infinite scroll.</p>\n\n<p>I will be grateful to some one could spare some time here!</p>\n\n<p><strong>EDIT :</strong> Ok, after struggling for 2 days, I have figured out that the pages which I am crawling  through the Selenium WebDriver can have any of these <a href=\"http://en.wikipedia.org/wiki/List_of_JavaScript_libraries\" rel=\"nofollow\">JavaScript libraries</a> and I will have to pool according to the different Library, for example, In case of the web application using <a href=\"http://en.wikipedia.org/wiki/JQuery\" rel=\"nofollow\">jQuery</a> api, I  may be waiting for </p>\n\n<pre><code>(Long)((JavascriptExecutor)driver).executeScript(\"return jQuery.active\")\n</code></pre>\n\n<p>to return a zero.</p>\n\n<p>Likewise if the web application is using the <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\" rel=\"nofollow\">Prototype</a> JavaScript library I will have to wait for </p>\n\n<pre><code>(Long)((JavascriptExecutor)driver).executeScript(\"return Ajax.activeRequestCount\")\n</code></pre>\n\n<p>to return a zero.</p>\n\n<p><strong>Now</strong>, <strong>the problem is how do I write a generic code which could handle most the JavaScript libraries available?</strong></p>\n\n<p><strong>Problem I am facing in implementing this-</strong></p>\n\n<p><strong>1</strong>. How do I find which JavaScript Library is being used in the Web Application(using Selenium WebDriver in Java), such that I can then write the corresponding wait methods?\nCurrently, I am using this</p>\n\n<p><a href=\"http://code.google.com/p/library-detector/source/browse/branches/Daiquiri/embedded_scripts/libraries_test.js\" rel=\"nofollow\">Code</a></p>\n\n<p><strong>2</strong>. This way I will have to write as many as 77 methods for separate JavaScript library so, I need a better way to handle this scenario as well.   </p>\n\n<p><strong>In short, I need to figure out if the browser is making any call(Ajax or simple) with or without any JavaScript library through Selenium Web Driver's java implementation</strong> </p>\n\n<p>PS: there are Add ons for Chorme's <a href=\"https://chrome.google.com/webstore/detail/hibffpggbdlmjaalmplmhdhfinidnoho\" rel=\"nofollow\">JavaScript Lib detector</a>  and Firefox's <a href=\"https://addons.mozilla.org/en-us/firefox/addon/library-detector/\" rel=\"nofollow\">JavaScript Library detector</a> which detect the JavaScript library being used.</p>\n\n<p>Hoping to get the correct answer from SO..</p>\n"},{"tags":["javascript","ruby-on-rails","ajax","forms","rjs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":323,"score":0,"question_id":7804572,"title":"Multiple dependent dynamic select boxes in form","body":"<p>There is a model A that <code>has_many</code> B and a form where one can create a new A and\nadd/remove Bs. I.e. there is a link <em>Add new B</em> that runs some Javascript to insert another partial where one fills in values for B. All works fine.</p>\n\n<p><strong>The problem</strong></p>\n\n<p>Specifying a B is done through selecting the values using a couple of select\nboxes. The problem is that depending on a value selected in one, the\ncollections used in the other selects should be scoped to only show relevant options. It's the <strong>classic case\nwith dynamic select boxes</strong> (think country - state select boxes), only with more\nselect boxes and I'd like all the select boxes to appear initially, so the\nuser can start from anywhere (select state first and country select box\nnarrows down its collection to the ones that can be chosen for that state).</p>\n\n<p><strong>Current approach</strong></p>\n\n<p>The Bs are rendered in a table, one B per row and I was thinking that I could\nuse AJAX to replace the table row (content) after fetching the new collections\nfrom the server. This obviously needs a couple of things in place.</p>\n\n<ul>\n<li><code>tr</code> tag must have a unique id attribute, so replace_html can be used.</li>\n<li>need to have a trigger on change for each select box</li>\n<li>need to pass all select boxes' values (for that row) to the server</li>\n</ul>\n\n<p>I'm stuck here, because of the following:</p>\n\n<ul>\n<li>adding a B needs to have something unique to identify the <code>tr</code> tag as well\nas all the selects on that row. I can use <code>Time.now.to_i</code> but that won't\nwork for the Javascript run by the link to add a new B because that will\nhardcode the value and all use the same.</li>\n<li>not sure if I should go with <code>observe_field</code> or a remote call in the select\nform field helper.</li>\n<li>how to pick up the values of all selects in one row and pass that remotely\nto the server when triggered?</li>\n</ul>\n\n<p>The project I'm working on is Rails 1.2.3 and uses Prototype. Please feel free to post \"newer\" solutions too, because I'm curious to see different solutions.</p>\n\n<p>Any help on this is highly appreciated. Thanks in advance!</p>\n"}]}
{"total":48692,"page":18,"pagesize":100,"questions":[{"tags":["javascript","jquery","ajax","apache","file-extension"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13004573,"title":"Why does my AJAX request give an error depending on the file extension?","body":"<p>I have a bit of JavaScript using jQuery that loads data with a quick <em>$.get(url, function(response){ /* ... */});</em>  The data is a straight up text file that is then handled by the JavaScript in that response function.</p>\n\n<p>This has worked for me quite nicely, but I just ran into this problem on my machine:  Using the same code, I now get an error saying:</p>\n\n<blockquote>\n  <p>XML Parsing Error: not well-formed Location:\n  moz-nullprincipal:{74091275-3d54-4959-9613-5005459421ce} Line Number\n  1, Column 16: image:tiles.png;\n  ---------------^</p>\n</blockquote>\n\n<p>If I load this from another server, it works perfectly.  It's only when I host it on my own PC that I get this error (note that it previously worked perfectly on my own PC as well, which is running Ubuntu and serving the page with Apache).  After much headbanging, I found that if I change the extension on the filename I'm loading, it works fine.  The file was previously named \"test.sprite\", and that is when I got the error.  If I renamed it to \"test.txt\" it loads fine.</p>\n\n<p>This error ~seems~ to coincide with a recent upgrade on my system.  I upgraded Ubuntu 10.something to 12.04.  I'm assuming there was some sort of update in the Apache config that I didn't notice which is causing it to send different headers depending on the extension of the file (the two named here are identical - the .txt is actually just a symlink to the .sprite).</p>\n\n<p>So I have a solution to my immediate problem, but I'd rather not bow to the system's idiosyncrasies.  Any idea how I can fix this without renaming the file? </p>\n"},{"tags":["asp.net","ajax","string","parameter-passing","webmethod"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":74,"score":2,"question_id":13004440,"title":"How do you pass a string to C#/ASP.NET using $.ajax()?","body":"<p>This works </p>\n\n<pre><code>[System.Web.Services.WebMethod]\npublic static string Save_HH()\n{\n    return \"abc\";\n}\n</code></pre>\n\n<p>This does not work</p>\n\n<pre><code>[System.Web.Services.WebMethod]\npublic static string Save_HH(string myString) // (int i, string s) (object o) etc\n{\n    return \"abc\";\n}\n</code></pre>\n\n<p>This is the ajax call</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"Default.aspx/Save_HH\",\n    data: {}, // data: JSON.stringify({abc:123}),\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    success: function (response) {\n        btn.css(\"visibility\", \"visible\");\n        $(\"#ta_response\").text(response.d);\n    },\n    fail: function () {\n        alert(\"fail\");\n    },\n});\n</code></pre>\n\n<p>This error message is POST localhost(cant post link on my new account)/Default.aspx/Save_HH 500 (Internal Server Error)</p>\n\n<hr>\n\n<p>At this point the question seems fairly clear and concise but I was just prevented from posting it as is. I don't want to say anything more because I think it is a well formed question and saying anything else would make the reader confused.</p>\n"},{"tags":["php","mysql","xml","ajax","encoding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13004249,"title":"Setting accented characters in XML got by AJAX, mysli(SET NAMES) didn't work. How does PHP get data from MYSQL","body":"<p>I have trouble with data coming into an xml from a database, with accented characters. The collation of my tables in mysql is utf-8_spanish2_ci. After searching a bit I found that it is possible to do: </p>\n\n<pre><code>@mysqli_query(\"SET NAMES 'utf-8'\");\n</code></pre>\n\n<p>inmediately after selecting the database on the connection to mysql. Unfortunately it didn't work for me. After messing with iconv and other functions trying to get the xml data appear correctly in the browser (actually it is an xml that I call with AJAX, and getting no results, I ended up using <code>strtr()</code> in a function like so: </p>\n\n<pre><code>function traducirEnt ($cadena) {$trans = array(\"ó\"=&gt;\"&amp;oacute;\", \"ú\"=&gt;\"&amp;uacute;\", \"í\"=&gt;\"&amp;iacute;\", \"é\"=&gt;\"&amp;eacute;\", \"á\"=&gt;\"&amp;aacute;\"); \nreturn strtr($cadena, $trans);\n}\n</code></pre>\n\n<p>And using <code>htmlentities()</code> on every INSERT I do to the database.</p>\n\n<p>I use AJAX to display the results from a query in an XML, like I said, then display it on a <code>&lt;div&gt;</code> on the browser, the problem with this solution is that it assumes that the user will write the words exactly with the accents in place or the query will not return anything with the search. I wonder if the query could be built with wildcards like <code>'%'</code> in SQL so that it is not necesary for the user to be that precise. I'm talking about a search box in the web page that implements a search of registered users. </p>\n\n<p>My question is: does anybody know how to deal with collation in MYSQL for spanish language, or knows if it's possible to build queries that kind of ignore accented characters? What about AJAX or XML DTD's. I've read this is an issue because PHP and MySql have different encodings to work with when they connect, for example PHP in my server has a Latin1 encoding, as returned by <code>mysql_client_encoding();</code>, but I havent got anything clear from reading about this anywhere. What is clear is that it has to do with byte size of encodings, but that's a topic too convoluted for me to understand in a simple way. </p>\n\n<p>I ask this because I tried to include a DTD on the XML with entities for every accented character, but it seems that the characters as they are read from MySql are already unrecognizable. In fact, it's strange because when I inspect the request on Firebug, the response in the XML shows the accented characters, as they come from the database, but it doesn't show the rest of the characters correctly (those I wrote directly in my code editor). </p>\n\n<p>I wish I knew if this is because of the XML encoding, which I set to UTF-8. I would really appreciate if someone taught me about this. </p>\n"},{"tags":["ajax","jsf","datatable","jsf-2","primefaces"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9777,"score":1,"question_id":6856367,"title":"unable to use <p:ajax> on my primeface's datatable","body":"<p>i'm having some problems with datatable's instant row selection exactly <code>&lt;p:ajax/&gt;</code> it's giving me this error:</p>\n\n<blockquote>\n  <p> Parent not an instance of ClientBehaviorHolder:\n  org.primefaces.component.datatable.DataTable</p>\n</blockquote>\n\n<p>So i did some researches and i think it's a problem of version so i updated my version to 3.0.M3-SNAPSHOT but still the same error i wonder why! \nhere is my page code: </p>\n\n<pre><code>&lt;p:dataTable id=\"projets\"  var=\"p\" value=\"#{projet.init()}\" selection=\"#{projet.currentChangerStatus}\" selectionMode=\"single\"&gt;  \n\n            &lt;p:ajax event=\"rowSelect\" listener=\"#{projet.redirection}\" update=\"formEquipe\" oncomplete=\"projetDialog.show()\" /&gt;  \n\n\n                                    &lt;f:facet name=\"header\"&gt;  \n                                        Select a row to display a message  \n                                    &lt;/f:facet&gt;  \n\n                                    &lt;p:column headerText=\"Code\" sortBy=\"#{p.projets.codeProjet}\" filterBy=\"#{p.projets.codeProjet}\"&gt;\n\n                                        &lt;h:outputText value=\"#{p.projets.codeProjet}\" /&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Intitulé\"&gt;\n                                        &lt;h:outputText value=\"#{p.projets.libelle}\" /&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Dérnier Etat\"&gt;\n                                        &lt;h:commandLink id=\"link1\" action=\"goto5\"&gt;\n                                            &lt;h:outputText value=\"#{p.etats.libelleEtat}\" /&gt;\n                                        &lt;/h:commandLink&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Etat Changé Au Niveau\"&gt;                      \n                                        &lt;h:outputText value=\"xxxx\" /&gt;                        \n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Date Dérnier Etat\"&gt;\n                                        &lt;h:outputText value=\"#{p.dateTache}\" /&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Responsable Etat\"&gt;\n                                        &lt;h:outputText value=\"#{p.acteurs.nomActeur}\" /&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Objets | Application\"&gt;\n                                        &lt;h:commandLink id=\"link2\" action=\"goto4\"&gt;\n                                            &lt;h:outputText value=\"xxxx\" /&gt;\n                                        &lt;/h:commandLink&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Domaine\"&gt;\n                                        &lt;h:outputText value=\"#{p.projets.domaines.libelleDomaine}\" /&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Type\"&gt;\n                                        &lt;h:outputText value=\"#{p.projets.typeProjets.libelleTypeProjet}\" /&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"CP\"&gt;\n                                        &lt;h:commandLink id=\"link3\" action=\"goto3\"&gt;\n                                            &lt;h:outputText value=\"xxxx\" /&gt;\n                                        &lt;/h:commandLink&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Plan Int.\"&gt;\n                                        &lt;h:commandLink id=\"link4\" action=\"goto2\"&gt;\n                                            &lt;h:outputText value=\"xxxx\" /&gt;\n                                        &lt;/h:commandLink&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Doc Principal\"&gt;\n                                        &lt;h:commandLink id=\"link5\" action=\"goto1\"&gt;\n                                            &lt;h:outputText value=\"xxxx\" /&gt;\n                                        &lt;/h:commandLink&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Dérnier Motif\"&gt;\n                                        &lt;h:outputText value=\"xxxx\" /&gt;\n                                    &lt;/p:column&gt;\n\n                                    &lt;p:column headerText=\"Auteur\"&gt;\n                                        &lt;h:outputText value=\"xxxx\" /&gt;\n                                    &lt;/p:column&gt;\n\n\n                                    &lt;p:column style=\"width:80px\"&gt;\n                                        &lt;h:panelGrid columns=\"3\" styleClass=\"actions\" cellpadding=\"2\"&gt;  \n                                            &lt;p:commandButton update=\":form:display\" oncomplete=\"carDialog.show()\" actionListener=\"#{projet.redirection}\"  image=\"ui-icon ui-icon-search\" title=\"View\"&gt;  \n                                                &lt;f:setPropertyActionListener value=\"xxxx\" target=\"xxxx\" /&gt;  \n                                                &lt;f:setPropertyActionListener value=\"xxxx\" target=\"xxxx\" /&gt;  \n                                            &lt;/p:commandButton&gt;  \n                                            &lt;p:commandButton update=\":form:display\" oncomplete=\"carDialog.show()\" image=\"ui-icon ui-icon-pencil\" title=\"Edit\"&gt;  \n                                                &lt;f:setPropertyActionListener value=\"xxxx\" target=\"xxxx\" /&gt;  \n                                                &lt;f:setPropertyActionListener value=\"xxxx\" target=\"xxxx\" /&gt;  \n                                            &lt;/p:commandButton&gt;  \n                                            &lt;p:commandButton update=\":form:display\" oncomplete=\"confirmation.show()\" image=\"ui-icon ui-icon-close\" title=\"Delete\"&gt;  \n                                                &lt;f:setPropertyActionListener value=\"xxxx\" target=\"xxxx\" /&gt;  \n                                            &lt;/p:commandButton&gt;  \n                                        &lt;/h:panelGrid&gt;  \n                                    &lt;/p:column&gt;             \n     &lt;/p:dataTable&gt;  \n     &lt;p:dialog header=\"Car Detail\" widgetVar=\"projetDialog\" resizable=\"false\" width=\"200\" showEffect=\"clip\" hideEffect=\"fold\"&gt;  \n                                        &lt;h:panelGrid id=\"display\" columns=\"2\" cellpadding=\"4\"&gt;  \n                                            &lt;f:facet name=\"header\"&gt;  \n                                                &lt;p:graphicImage value=\"/images/cars/xxxx.jpg\"/&gt;  \n                                            &lt;/f:facet&gt;  \n\n                                           &lt;h:outputText value=\"Etat:\" /&gt;  \n                                            &lt;h:outputText value=\"#{projet.currentChangerStatus.etats.libelleEtat}\" /&gt;  \n\n                                            &lt;h:outputText value=\"Date Reception:\" /&gt;  \n                                            &lt;h:outputText value=\"#{projet.currentChangerStatus.projets.dateReceptionProjet}\" /&gt;\n\n                                            &lt;h:outputText value=\"Libelle\" /&gt;  \n                                            &lt;h:outputText value=\"xxxx\" /&gt;  \n\n                                            &lt;h:outputText value=\"Acteur:\" /&gt;  \n                                            &lt;h:outputText value=\"xxxx\" /&gt;  \n                                        &lt;/h:panelGrid&gt;  \n    &lt;/p:dialog&gt;     \n</code></pre>\n\n<p>here is my function's code:</p>\n\n<pre><code>public void redirection(SelectEvent event) throws Exception\n{\n    System.out.println(\"je suis laaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa : \" );\n    currentChangerStatus=(ChangerStatus)event.getObject();\n    currentProjet=currentChangerStatus.getProjets();\n     System.out.println(\"le projet est  : \" +currentProjet.getLibelle());\n     FacesContext.getCurrentInstance().getExternalContext().redirect(\"infoprojet.xhtml\");\n\n}\n</code></pre>\n\n<p>may be i didn't integrated the primefaces jar correctly so here is my pom (because i'm using maven) : </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n&lt;artifactId&gt;Gpsi&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;Gpsi Web App&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;netbeans.hint.deploy.server&gt;Tomcat70&lt;/netbeans.hint.deploy.server&gt;\n&lt;/properties&gt;\n\n &lt;dependencies&gt;\n    &lt;!-- Hibernate --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n        &lt;version&gt;3.2.5.ga&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;cglib&lt;/groupId&gt;\n       &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\n       &lt;version&gt;2.1_3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Hibernate query library dependecy start --&gt;\n&lt;dependency&gt;\n       &lt;groupId&gt;antlr&lt;/groupId&gt;\n       &lt;artifactId&gt;antlr&lt;/artifactId&gt;\n       &lt;version&gt;2.7.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n        &lt;!--ASM--&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;asm&lt;/groupId&gt;\n       &lt;artifactId&gt;asm&lt;/artifactId&gt;\n       &lt;version&gt;1.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.sql&lt;/groupId&gt;\n        &lt;artifactId&gt;jdbc-stdext&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;jta&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1B&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;ejb3-persistence&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;unknown.binary&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n        &lt;version&gt;SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--Primefaces--&gt;\n    &lt;dependency&gt;\n                &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n                &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n                &lt;version&gt;3.0.M3-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n     &lt;!--End Primefaces--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n     &lt;dependency&gt;     \n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\n        &lt;artifactId&gt;el-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;el-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- Spring framework --&gt; \n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n  &lt;version&gt;2.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;!-- Apach commons --&gt; \n    &lt;!-- dbcp pour la data source --&gt; \n    &lt;dependency&gt;\n       &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n       &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n       &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n       &lt;version&gt;3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4-b09&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4-b09&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Themes --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\n        &lt;artifactId&gt;aristo&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- FIN Themes --&gt;\n    &lt;!-- Upload library --&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n       &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;commons-io&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n       &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Fin Upload library --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;!-- iText--&gt;\n   &lt;dependency&gt;\n\n  &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n  &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n  &lt;version&gt;5.0.4&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n                &lt;compilerArguments&gt;\n                    &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                &lt;/compilerArguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                        &lt;silent&gt;true&lt;/silent&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;javax&lt;/groupId&gt;\n                                &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                &lt;version&gt;6.0&lt;/version&gt;\n                                &lt;type&gt;jar&lt;/type&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;finalName&gt;Gpsi&lt;/finalName&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\n        &lt;id&gt;jsf20&lt;/id&gt;\n        &lt;layout&gt;default&lt;/layout&gt;\n        &lt;name&gt;Repository for library Library[jsf20]&lt;/name&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;url&gt;http://repository.prime.com.tr/&lt;/url&gt;\n        &lt;id&gt;primefaces&lt;/id&gt;\n        &lt;layout&gt;default&lt;/layout&gt;\n        &lt;name&gt;Repository for library Library[primefaces]&lt;/name&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;unknown-jars-temp-repo&lt;/id&gt;\n        &lt;name&gt;A temporary repository created by NetBeans for libraries and jars it could not identify. Please replace the dependencies in this repository with correct ones and delete this repository.&lt;/name&gt;\n        &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n  &lt;id&gt;itextpdf.com&lt;/id&gt;\n  &lt;name&gt;Maven Repository for iText&lt;/name&gt;\n\n  &lt;url&gt;http://maven.itextpdf.com/&lt;/url&gt;\n&lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p></p>\n\n<p>greetings</p>\n"},{"tags":["java","javascript","ajax","jquery-ajax","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12999429,"title":"how to consume json object in a servlet that has been passed in the ajax request","body":"<p>I have the below ajax call to a servlet.</p>\n\n<pre><code>$.ajax({ \ntype: \"post\",\nurl: registersubmit.RegisterServlet.json,\ndataType: \"json\",   \ndata:$('#registrationForm').serialize(),          \nsuccess: function(msg) {  \n           //   alert(msg.data);\n           alert('success'+msg.message2);     \n},\nerror: function (xhr, ajaxOptions, thrownError){\n         alert('HAI');\n         alert('BYE');\n}  \n});\n</code></pre>\n\n<p>May I know how we can consume the json object in the servlet</p>\n\n<p>Thanks,\nBalaji.</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":53,"score":-1,"question_id":13003137,"title":"Missing PHP file for basic javascript image display / scroll","body":"<p>I am trying to use this guys image scroll down feature that he has when you click on one of his projects for a leaderboard type system on my site.</p>\n\n<p><a href=\"http://ricomaier.ch/\" rel=\"nofollow\">http://ricomaier.ch/</a></p>\n\n<p>I am using his html code and his javascript file(code here <a href=\"http://ricomaier.ch/js/scripts.js\" rel=\"nofollow\">http://ricomaier.ch/js/scripts.js</a> ) and when the scroll effect works however I need to now display an image like he does...however for me only a black screen appears where an image should be.</p>\n\n<p>From what I can tell is with this javascript file he is referencing a php file named \"images.php\" i.e on this line </p>\n\n<p><code>images.load('images.php', {'uid' : uid}, function() {</code></p>\n\n<p>I'm curious if someone could tell me what that php file is doing so I can create one myself and use it on my website to use my own images. Or is it possible that someone with good js skills can explain how I can take out the need for a php file and put an array of list of links in js?</p>\n\n<p>Any help is very appreciated - thanks alot!</p>\n"},{"tags":["javascript","jquery","ajax","html5"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":13002546,"title":"Dragging images in table cell and keeping track of its location","body":"<p>I have images in table cells that I would like drag. How can I modify the following so I can drag one image on top of another:</p>\n\n<pre><code>function drag(ob) {\nob.dataTransfer.setData(\"Text\",ob.target.id); }\n\nfunction drop(ob) {\nvar id = ob.dataTransfer.getData(\"Text\");\nif (!$(ob.currentTarget).find(\"img\")[0])\n    ob.target.appendChild(document.getElementById(id));\nob.preventDefault();    \n}\n\nfunction allowDrop(ob) {\n  ob.preventDefault();\n}\n</code></pre>\n\n<p>complete code at <a href=\"http://jsfiddle.net/blueberrymuffin/qgp7N/2/\" rel=\"nofollow\">jsfiddle</a></p>\n\n<p>In addition, is it possible to have some code in the drop function that would display the file names of the of all the images (from row 1 to row 3) so I can pass it on to php for processing?\nThanks.</p>\n"},{"tags":["html","ajax","forms","browser"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":137,"score":1,"question_id":9294657,"title":"Why won't this form prompt the browser to offer to save password?","body":"<p>I have the following form which is placed on the page through AJAX (jQuery AJAX if that helps):</p>\n\n<pre><code>        &lt;div id=\"login\"&gt;\n            &lt;iframe src=\"/api/core/authSystem/authUser.php\" id=\"temp\" name=\"temp\" style=\"display:none\"&gt;&lt;/iframe&gt;\n            &lt;form id=\"loginForm\" target=\"temp\" onSubmit=\"App.Auth.login(); return false;\"&gt;\n                Email: &lt;input type=\"text\" name=\"email\" id=\"email\" onkeydown='if(event.keyCode == 13){ this.submit; }' /&gt;&lt;br /&gt;\n                Password: &lt;input type=\"password\" name=\"password\" id=\"password\" onkeydown='if(event.keyCode == 13){ this.submit; }' /&gt;&lt;br /&gt;\n                &lt;div class=\"errorMsg\" id=\"loginError\"&gt;&lt;/div&gt;\n                &lt;div class=\"loginHelp l\"&gt;&lt;a href=\"#\"&gt;Cant access your account?&lt;/a&gt;&lt;/div&gt;\n                &lt;input class=\"button rounded r\" type=\"submit\" id=\"loginButton\" value=\"Log In\" /&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>Following the suggestions made in <a href=\"http://stackoverflow.com/questions/2382329/how-can-i-get-browser-to-prompt-to-save-password\">This Question</a> I added the iframe and am targeting that. However, browsers still will not prompt users to save the password. Any idea why?</p>\n\n<p><strong>EDIT:</strong> I have just noticed that Firefox will ask to save the password, but will not actually place it into the form once you return to the login page.</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13003736,"title":"Wait to execute code until after AJAX called image renders","body":"<p>I am trying to run some code that grabs the width and height of a div after it is loaded and filled with an image from an AJAX call. </p>\n\n<p>The div is 0x0 until the image is placed so checking the dimensions before pretty much breaks everything. </p>\n\n<p>I have tried .load() (Doesn't work because this is an AJAX call). I also tried the <a href=\"https://github.com/desandro/imagesloaded#readme\" rel=\"nofollow\">imagesLoaded</a> js plugin. Here is what I have right now:</p>\n\n<pre><code>alert('outside;')\nfunction startBubbles(){\n    alert('inside');\n    var space = new DisplaySpace($('#bubbleWrap').height(), $('#bubbleWrap').width());\n    var count = 1;\n    alert(space.getHeight());\n    var delay = (function(){\n      var timer = 0;\n      return function(afterResize, ms){\n        clearTimeout (timer);\n        timer = setTimeout(afterResize, ms);\n      };\n    })();\n\n    var spawnInterval = self.setInterval(function(){\n        var aBubble = new Bubble(count, space);\n        count++\n        aBubble.spawnimate(aBubble);\n        setTimeout(function() {aBubble.popBubble(aBubble)},Math.floor((Math.random()*30000)+10000));\n    }, 500);\n});\n</code></pre>\n\n<p>My alerts all fire before the image is visible, then my 'space' object still has height and width of 0. </p>\n\n<p>bubbleWrap is a div inside the loading zone that contains the image in question. I realize I could probably but a manual delay in here to solve the problem MOST of the time - however that doesn't seem optimal. What am I missing?</p>\n\n<p>I'm now implementing the load of this particular state like this: </p>\n\n<pre><code>History.Adapter.bind(window,'popstate',function(){ \n                var state = History.getState(); \n                state = 'target='+state.data.state;\n                $.get('contents.php', state, function(data){\n                    if(state == 'target=bubbles'){\n                        $('#loading_zone').html(data).waitForImages(startBubbles());\n                    }\n                    else{\n                        $('#loading_zone').html(data);\n                    }\n\n                });\n        });\n</code></pre>\n\n<p>Unfortunately, on page reload, the height ends up as only 10. Everything seems great when I just navigate away and come back, though. Any thoughts? </p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13003799,"title":"Image slider does not work with ajax content loader","body":"<p>When combined with my ajax content loader, my image slider does not work, but the slider alone does work. When I try it on my website, the image slider only works when I refresh the page. Any ideas why these aren't working together?</p>\n\n<pre><code>$(document).ready(function() {\n\n//menu loader\n$('.n3').click(function() {\n  $('#secNav').toggle();\n  return false;\n});\n$('.n1 a, .n2 a, .n4 a').click(function() {\n  $('#secNav').hide();\n});\n\n\n//content loader in portfolio div      \nvar hash = window.location.hash.substr(1);\nvar href = $('.n1 a, .n2 a, .n4 a, #secNav a').each(function(){\n    var href = $(this).attr('href');\n    if(hash==href.substr(0,href.length-5)){\n        var toLoad = hash+'.html #portfolio';\n        $('#portfolio').load(toLoad)\n    }                                           \n});\n\n$('.n1 a, .n2 a, .n4 a, #secNav a').click(function(){\n\nvar toLoad = $(this).attr('href')+' #portfolio';\n$('#portfolio').fadeOut(\"fast\",loadContent);\nwindow.location.hash = $(this).attr('href').substr(0,$(this).attr('href').length-5);\nfunction loadContent() {\n    $('#portfolio').load(toLoad,'',showNewContent())\n}\nfunction showNewContent() {\n    $('#portfolio').fadeIn(\"1000\");\n}\nreturn false;\n});\n\n\n//active link diff color\n\n    $(\"#nav a\").click( function() { \n              $(\"#nav a\").css(\"color\", \"#000\");\n              $(this).css(\"color\", \"#85f1f5\");\n            });\n\n$(\"#secNav a\").click( function() { \n              $(\"#secNav a\").css(\"color\", \"#000\");\n              $(this).css(\"color\", \"#ff2712\");\n            });\n\n$(\"#nav a\").click( function() { \n              $(\"#secNav a\").css(\"color\", \"#000\");\n            });\n\n\n\n\n//end of doc ready\n});\n\n\n//image slider\n\n$(window).load(function(){\n\n// We are listening to the window.load event, so we can be sure\n// that the images in the slideshow are loaded properly.\n\n\n// Testing whether the current browser supports the canvas element:\nvar supportCanvas = 'getContext' in document.createElement('canvas');\n\n// The canvas manipulations of the images are CPU intensive,\n// this is why we are using setTimeout to make them asynchronous\n// and improve the responsiveness of the page.\n\nvar slides = $('#slideshow li'),\n    current = 0,\n    slideshow = {width:0,height:0};\n\nsetTimeout(function(){\n\n    window.console &amp;&amp; window.console.time &amp;&amp; console.time('Generated In');\n\n    if(supportCanvas){\n        $('#slideshow img').each(function(){\n\n            if(!slideshow.width){\n                // Taking the dimensions of the first image:\n                slideshow.width = this.width;\n                slideshow.height = this.height;\n            }\n\n            // Rendering the modified versions of the images:\n            createCanvasOverlay(this);\n        });\n    }\n\n    window.console &amp;&amp; window.console.timeEnd &amp;&amp; console.timeEnd('Generated In');\n\n    $('#slideshow .arrow').click(function(){\n        var li          = slides.eq(current),\n            canvas      = li.find('canvas'),\n            nextIndex   = 0;\n\n        // Depending on whether this is the next or previous\n        // arrow, calculate the index of the next slide accordingly.\n\n        if($(this).hasClass('next')){\n            nextIndex = current &gt;= slides.length-1 ? 0 : current+1;\n        }\n        else {\n            nextIndex = current &lt;= 0 ? slides.length-1 : current-1;\n        }\n\n        var next = slides.eq(nextIndex);\n\n        if(supportCanvas){\n\n            // This browser supports canvas, fade it into view:\n\n            canvas.fadeIn(function(){\n\n                // Show the next slide below the current one:\n                next.show();\n                current = nextIndex;\n\n                // Fade the current slide out of view:\n                li.fadeOut(function(){\n                    li.removeClass('slideActive');\n                    canvas.hide();\n                    next.addClass('slideActive');\n                });\n            });\n        }\n        else {\n\n            // This browser does not support canvas.\n            // Use the plain version of the slideshow.\n            current=nextIndex;\n            next.addClass('slideActive').show();\n            li.removeClass('slideActive').hide();\n        }\n    });\n\n},100);\n\n// This function takes an image and renders\n// a version of it similar to the Overlay blending\n// mode in Photoshop. \n// **NOTE: REMOVED COLOR CHANGES\n\nfunction createCanvasOverlay(image){\n\n    var canvas          = document.createElement('canvas'),\n        canvasContext   = canvas.getContext(\"2d\");\n\n    // Make it the same size as the image\n    canvas.width = slideshow.width;\n    canvas.height = slideshow.height;\n\n    // Drawing the default version of the image on the canvas:\n    canvasContext.drawImage(image,0,0);\n\n\n    // Taking the image data and storing it in the imageData array:\n    var imageData   = canvasContext.getImageData(0,0,canvas.width,canvas.height),\n        data        = imageData.data;\n\n    // Putting the modified imageData back to the canvas.\n    canvasContext.putImageData(imageData,0,0);\n\n    // Inserting the canvas in the DOM, before the image:\n    image.parentNode.insertBefore(canvas,image);\n}\n\n//end of window load    \n});\n</code></pre>\n"},{"tags":["php","jquery","ajax","jquery-selectors"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":69,"score":0,"question_id":13003842,"title":"Specifying Multiple Objects with jQuery Selector","body":"<p>I have a navigation bar which consists of php-generated html as follows:</p>\n\n<pre><code>&lt;ul&gt;\n&lt;div class=\"container\"&gt;&lt;button type=\"button\" name=\"1\" class=\"delButton\" alt=\"Delete\"&gt;&lt;/button&gt;&lt;/div&gt;\n&lt;a href=\"/\" alt=\"Home\"&gt;Home&lt;/a&gt;\n&lt;div class=\"container\"&gt;&lt;button type=\"button\" name=\"2\" class=\"delButton\" alt=\"Delete\"&gt;&lt;/button&gt;&lt;/div&gt;\n&lt;a href=\"/\" alt=\"Events\"&gt;Events&lt;/a&gt;\n&lt;div class=\"container\"&gt;&lt;button type=\"button\" name=\"3\" class=\"delButton\" alt=\"Delete\"&gt;&lt;/button&gt;&lt;/div&gt;\n&lt;a href=\"/\" alt=\"Calendar\"&gt;Calendar&lt;/a&gt;\n&lt;div class=\"container\"&gt;&lt;button type=\"button\" name=\"4\" class=\"delButton\" alt=\"Delete\"&gt;&lt;/button&gt;&lt;/div&gt;\n&lt;a href=\"/\" alt=\"About Us\"&gt;About Us&lt;/a&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Each set consists of a delete button and a link. The name attribute of the button contains the unique id of the link following it, as per the mySQL database.</p>\n\n<p>I'm using the following jQuery code to remove the link when its corresponding delete button is clicked. Note that I'm using a custom ajax() method, and not jQuery's ajax method.</p>\n\n<pre><code>$('.container button').click(function() {\n     if (confirm('Are you sure you wish to remove this link?'))\n        ajax('POST', '/deletelink.php', 'id='+this.name, function(xmlhttp) {\n           $('.nav ul').load('/getnav.php');\n        });\n});\n</code></pre>\n\n<p>The above code works as expected when I click any one of the delete buttons, and it removes the corresponding link. However, if after deleting one link I try clicking on another delete button, nothing happens. The confirm() alert box doesn't even show up. This suggests that the click() function is not being entered for the second delete attempt.</p>\n\n<p>My interpretation of this is that once the function executes the first time, it resolves the selector to that specific button that was clicked; meaning that subsequently clicking on a different '.container button' is going to have no effect in terms of this function.</p>\n\n<p>Is my assessment correct? If so, is there any way to prevent the function from resolving the selector to the specific object? If not, are there any alternatives that allow me to use one function for all of the delete buttons I have setup now?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12999395,"title":"Replace scrolling action by onclick","body":"<p>I used this snippet of code (had to adapt it) to autoload (think Twitter) new posts on my page when scrolling.</p>\n\n<p>Since this is resource heavy for my server when a user scrolls fast, I want it to be activated when clicking on a button, lets say <code>&lt;button id=\"load_more\"&gt;Load more&lt;/button&gt;</code></p>\n\n<p>Can anyone help me convert mine ? I can't get it to work... (plus eventually remove the busy indicator)</p>\n\n<p>Here is the code I use for autoscroll :</p>\n\n<pre><code>&lt;?php\n $maxPage = $this-&gt;Paginator-&gt;counter('%pages%');\n ?&gt;\n &lt;script type=\"text/javascript\"&gt;\n var lastX = 0;\n var currentX = 0;\n var page = 1;\n\n $(window).scroll(function () {\n if (page &lt; &lt;?php echo $maxPage;?&gt;) {\n  currentX = $(window).scrollTop();\n if (currentX - lastX &gt; 150 * page) {\n  lastX = currentX - 150;\n  page++;\n  $(\"#busy-indicator\").fadeIn();\n  $.get('&lt;?php echo $this-&gt;Html-&gt;url('/users/getmore_timeline/'.$this-&gt;Session-&gt;read('Auth.User.id')); ?&gt;/page:' + page, function(data) {\n  setTimeout(function(){\n  $('#postList').append(data);\n  var bi =  $(\"#busy-indicator\");\n       bi.stop(true, true);\n       bi.fadeOut();\n  }, 500);\n });\n }\n }\n });\n &lt;/script&gt;\n</code></pre>\n\n<p>EDIT :</p>\n\n<p>I tried (from memory)</p>\n\n<pre><code>&lt;button onlick\"LoadMore()\"&gt;Load More&lt;/button&gt;\n\n&lt;?php  \n $maxPage = $this-&gt;Paginator-&gt;counter('%pages%');  \n ?&gt;  \n &lt;script type=\"text/javascript\"&gt;  \n\nfunction LoadMore () {  \n if (page &lt; &lt;?php echo $maxPage;?&gt;) {  \n  page++;  \n  $(\"#busy-indicator\").fadeIn();  \n  $.get('&lt;?php echo $this-&gt;Html-  &gt;url('/users/getmore_timeline/'.$this-&gt;Session-&gt;read('Auth.User.id')); ?&gt;/page:' + page, function(data) {\n  setTimeout(function(){  \n  $('#postList').append(data);  \n  var bi =  $(\"#busy-indicator\");  \n       bi.stop(true, true);  \n       bi.fadeOut();\n  }, 500);\n });\n }\n };\n &lt;/script&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","forms","select","dynamic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12992975,"title":"refresh select after Ajax load option called on click of select","body":"<p>not had much luck researching this atm. a lot on mobile jquery but not standard.</p>\n\n<p>basically i have a standard select list with a few php loaded options. what im doing is when the user clicks on the select it call an ajax request that loads extra options into the select menu based on other variables. simple enough, BUT the select menu does not reload the list until the menu is refocused (clicked off and on again).</p>\n\n<p>i have tried the <code>.selectmenu('refresh', true);</code> and <code>.trigger('refresh');</code> but i do not think  this is what these functions are meant for, and as you can guess do not work.</p>\n\n<p>Any ideas or anyone solved this problem? im sure i've seen this done on other websites with a load symbol, but atm im guessing this probably was not a select but some kind of customised UL.</p>\n\n<p>i cant have my users clicking a menu just to click it off and click again, and do not want to have to ajax load on click of seperate button as this is supposed to be a quick function.</p>\n\n<p>also i cannot have it loaded when the variable is set.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12985737,"title":"Ajax success return value use in other function","body":"<p>On file upload, I want ajax hit the url like:</p>\n\n<pre><code>$.ajax(\n    { url: '&lt;?php echo base_url();?&gt;apk-reader/ApkInfo.php',\n      data: {\"apps\": \"../apps/apk_files/\"+file, user_id: \"&lt;?php echo $this-&gt;session-&gt;userdata('user_id'); ?&gt;\"},\n      type: 'get',\n      success: function(output) { alert(output);}\n</code></pre>\n\n<p>Here I want to store the out put in another variable and use it in OnComplete of another ajax load.</p>\n"},{"tags":["ajax","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12997656,"title":"redirect to another page ajax and codeigniter","body":"<p>Can anyone help me to give simple solution to redirect page once the user signup form after success.</p>\n\n<p>My controller code:</p>\n\n<pre><code>public function signup()\n{\n$this-&gt;load-&gt;library('form_validation');\n$this-&gt;form_validation-&gt;set_rules('user_name','Name','trim|required|min_length[4]xss_clean');\n$this-&gt;form_validation-&gt;set_rules('signupemail','Email','trim|required|valid_email');\n$this-&gt;form_validation-&gt;set_rules('password','Password','trim|required|min_length[8]xss_clean');\n$this-&gt;form_validation-&gt;set_rules('confmpassword','Password Confirmation','trim|required|matches[password]');\n$this-&gt;form_validation-&gt;set_rules('contactno','Contact No','trim|required');\n\nif ($this-&gt;form_validation-&gt;run()) {\n\n       // $this-&gt;welcome_model-&gt;InsertStudents();\n        echo json_encode(\"Thank You, Successfully Completed\");\n        //$this-&gt;welcome();\n    } else {\n\n        $val = array(\n            'name' =&gt; form_error('name'),\n            'email' =&gt; form_error('email'),\n            'password' =&gt; form_error('password'),\n            'confirmpassword' =&gt; form_error('confmpassword'),\n            'contactno' =&gt; form_error('contactno')\n        );\n\necho json_encode(validation_errors());\n    }\n}\n</code></pre>\n\n<p>Ajax code:</p>\n\n<pre><code>$(document).ready(function(){\n    $('#message').hide();\n            $('form').submit(function(){\n                //alert('ok');     \n\n                $.ajax({\n                    url:this.action,\n                    type:this.method,\n                    data:$(this).serialize(),\n                    success:function(data){\n                         var obj = $.parseJSON(data);\n\n                        $('#message').show();\n                        if(obj['name']!=null)\n                        {   \n\n                            $('#message').text(\"\");\n                            $('#message').append(obj1);\n                            $('#message').html(obj['name']);\n                            $('#message').append(obj['email']);\n                            $('#message').append(obj['password']);\n                            $('#message').append(obj['confirmpassword']);\n                            $('#message').append(obj['contactno']);\n                        }\n                        else\n                        {   \n\n                            $('#message').text(\"\");\n                            $('#message').html(obj);\n\n\n                        }\n\n                    },\n                    erro:function(){\n                        alert(\"Please Try Again\");\n                    }                        \n                });\n                return false;\n            });                        \n        });\n</code></pre>\n"},{"tags":["javascript","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13003393,"title":"I have got an invalid json error","body":"<p>code :</p>\n\n<pre><code>var data = $.parseJSON(data);\n</code></pre>\n\n<p>Error message : </p>\n\n<pre><code>Uncaught Invalid JSON: {times: [{'9:30am','10:00am','10:30am','11:00am','11:30am','12:00pm','12:30pm','1:00pm','1:30pm','2:00pm','2:30pm','3:00pm','3:30pm','4:00pm','4:30pm','5:00pm'}]} \n</code></pre>\n\n<p>I have tried to parse as json at Ajax,</p>\n\n<p>then I don't understand why this error is appeared.</p>\n\n<p>Please tell me about it.</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","ajax","url","navigation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13003429,"title":"How do I change content without changing pages (non-hashed URLs)?","body":"<p>I know how to change content of a page using AJAX and remote loading of content. However, take a look at <a href=\"http://ustream.tv\" rel=\"nofollow\">UStream's new layout</a>. Click on any video, and not only does the content change without changing the page itself... but the entire URL changes as well. How is this done?</p>\n\n<p>I know how to do it using the hashtag in a URL, and using JavaScript to detect when the location's hash value has changed. For example, <code>site.com/#!/profile</code> to <code>site.com/#!/settings</code>. Any value after the <code>#!</code> part is loaded remotely.</p>\n\n<p>But UStream doesn't use the hash symbol at all. How is this accomplished? What voodoo is at work here?</p>\n"},{"tags":["php","javascript","ajax","include"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13003216,"title":"Issues with loading external classes to PHP via ajax (partially working)","body":"<p>My PHP gives me an error:\nFatal error: Class 'classess_db' not found in /path/cpanel_include.php on line 5</p>\n\n<p>This code is working if I don't try to instantiate the required ('classes_db'.php) classes</p>\n\n<p>cpanel_include.php (the page that is requested via JavaScript) code:</p>\n\n<pre><code>&lt;?php\nrequire 'classes.php';\nrequire 'classes_db.php';\nsession_start();\n$db = new classess_db();\n\nini_set('display_errors', true);\nerror_reporting(E_ALL);\n\nif (!isset($_SESSION['user']-&gt;iduser)) {\n    die('Access denied. &lt;br&gt;&lt;a href=login.php&gt;Please login&lt;/a&gt;');\n}\n?&gt;\n</code></pre>\n\n<p>I have a page `account.php' (the \"Main\" page that runs the JavaScript):</p>\n\n<pre><code>&lt;div id=\"accountContentArea\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>My JavaScript:</p>\n\n<pre><code>//auto-load functions on page load\njQuery(function($) {\n    $(document).ready(function() {\n        show_Loading();\n        load_page_account();\n    });\n});\n\n//show LOADING icon\nfunction show_Loading() {\n    jQuery(function($) {\n        $(\"#accountContentArea\").html('&lt;div id=\"loading\"&gt;&lt;br&gt;&lt;br&gt;&lt;img src=\"images/working2.gif\" /&gt;&lt;/div&gt;');\n    });  \n}\n\n//request php page and plug it to the specific area\nfunction load_page_account() {  \n        sendRequestTwo(\"get\", \"cpanel_include.php\", \"accountContentArea\");\n}\n\nfunction createRequestObject(){\n    var req;\n    if(window.XMLHttpRequest){\n        //For Firefox, Safari, Opera\n        req = new XMLHttpRequest();\n    }\n    else if(window.ActiveXObject){\n        //For IE 5+\n        req = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    else{\n        //Error for an old browser\n        alert('Your browser is not IE 5 or higher, or Firefox or Safari or Opera');\n    }\n    return req;\n}\n\n//Make the XMLHttpRequest Object\nvar http = createRequestObject();\nvar head;\n\nfunction sendRequestTwo(method, url, head1){\n    head = head1;\n    url+= '?ts=' + new Date().getTime(); //add time stamp to avoid caching\n    if(method == \"get\" || method == \"GET\"){\n        http.open(method,url);\n        http.onreadystatechange = handleResponseTwo;\n        http.send(null);\n    }\n}\n\nfunction handleResponseTwo(){\n    if(http.readyState == 4 &amp;&amp; http.status == 200){    \n        var response = http.responseText;\n        if(response){  \n            document.getElementById(head).innerHTML = response;\n        }\n    }      \n}\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":12991779,"title":"Create Generic Javascript/Jquery ajax function","body":"<p>I'm new to javascript, jquery, and ajax and need help making my code more efficient. I have the following javascript/jquery function that works fine:</p>\n\n<pre><code> &lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function()\n    {\n        $(\"#promo1\").change(function() //select menu id that triggers script on change\n        {\n           //data here\n\n            $.ajax\n            ({\n               //ajax stuff here\n                {\n                    //individual values from json array\n\n\n                    //set each value textbook value\n                    $(\"#discprice1\").val(disc);\n                    $(\"#itemprice1\").val(total);\n                    $(\"#tax\").val(tax);\n                    $(\"#grandtotal\").val(grand);\n                }\n            });\n\n        });\n\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<p>I change my original function to this after a suggestion:</p>\n\n<pre><code> &lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function()\n    {\n        var setupCalculation = function(index) {\n\n            $(\"#promo\" + index).on(\"change\", function() //select menu id that triggers script on change\n            {\n //rest of the function is here....\n</code></pre>\n\n<p>and change my select to this:</p>\n\n<pre><code>   &lt;select name=\"promo&lt;?php echo $i; ?&gt;\" id=\"promo&lt;?php echo $i; ?&gt;\" \nonchange=\"setupCalculation('&lt;?php echo $i; ?&gt;');\"&gt;\n</code></pre>\n\n<p>However, it is not working. What am I missing?</p>\n\n<p>However, I need to do the same thing 10 times for 10 different rows of calculations. How can I make it so I can use this function generically and just pass the \"id\" of the select box to the function and not repeat this code 10 times for each of the selectors, e.g. #promo1, #promo2, #promo3, etc....</p>\n\n<p>I'm assuming I need to add onchange=\"javascript function here();\" to the html code, but I can't get it to work.</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","jquery","html","ajax","fieldset"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13003013,"title":"AJAX Complete Response","body":"<p>I have a password change function on my site and everything is done now, except I want to display a success or fail message. So here's my html:<br></p>\n\n<pre><code>&lt;form id=\"change_Pass\" action=\"\" method=\"post\"&gt;\n    //stuff\n&lt;/form&gt;\n&lt;fieldset id=\"response_field_pass\" style=\"display:none;\"&gt;&lt;p style=\"color:black;\"&gt;&lt;/p&gt;&lt;/fieldset&gt;\n</code></pre>\n\n<p>And my jquery:<br></p>\n\n<pre><code>$('#change_Pass').submit(function() {\n    if(pass_val.form()) { \n        $.ajax({\n            type: \"POST\",\n            url: \"script.php\", \n            complete: function(data) {\n                $('#response_field_pass').show();\n                $('#response_field_pass &gt;p').text(data);\n                if(data) alert(\"success\");\n                else alert(\"fail\");\n            }\n        });\n    }\n    return false;\n});\n</code></pre>\n\n<p>The php scripts echos <code>true</code> or <code>false</code> so when successful i am getting an alert box that reads success. Which is great. But the fieldset is not showing and neither is the text that should be inside the <code>&lt;p&gt;</code>. It essentially just skips:<br></p>\n\n<pre><code>$('#response_field_pass').show();\n$('#response_field_pass &gt;p').text(data);\n</code></pre>\n\n<p>And moves on to the alerts. Any ideas why it isn't unhiding the fieldset?</p>\n"},{"tags":["jquery","mysql","ajax","infinite-scroll"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1596,"score":0,"question_id":7492545,"title":"Using infinite scroll w/ a MySQL Database","body":"<p>I found a nice ajax/jquery infinite scroll plugin ( <a href=\"http://hycus.com/2011/03/15/infinite-scrolling-like-new-twitter-with-php-mysql-jquery/\" rel=\"nofollow\">http://hycus.com/2011/03/15/infinite-scrolling-like-new-twitter-with-php-mysql-jquery/</a> ) that I was able to mold well to my content, but I'm having one issue -- it only calls the loadmore.php script once. Let me show the code:</p>\n\n<p>In my index.php file:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(window).scroll(function(){\n        if($(window).scrollTop() == $(document).height() - $(window).height()){\n            $('div#loadmoreajaxloader').show();\n            $.ajax({\n                url: \"loadmore.php?lastid=\" + $(\".postitem:last\").attr(\"id\"),\n                success: function(html){\n                    if(html){\n                        $(\"#postswrapper\").append(html);\n                        $('div#loadmoreajaxloader').hide();\n                    }else{\n                        $('div#loadmoreajaxloader').html('&lt;center&gt;No more posts to show.&lt;/center&gt;');\n                    }\n                }\n            });\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>This section calls my loadmore.php file and sends it the id of the last post. This only works the first time I scroll to the bottom of the page, it loads the entries from loadmore.php but doesn't call loadmore.php again. My loadmore.php file has the following code:</p>\n\n<pre><code>&lt;?php\n\ninclude('./includes/config.php');\n\nif($_GET['lastid']){\n    $query = 'SELECT * FROM db WHERE id &lt; \"'.$_GET['lastid'].'\" ORDER BY id DESC LIMIT 0,3';\n    $result = mysql_query($query);\n    while ($rec = mysql_fetch_object($result)) {\n\n    [SET MY VARS]\n\n    ?&gt;\n\n    [HTML &amp; PHP DISPLAYING MY POST]\n\n    &lt;?php\n    }\n}\n\n?&gt;\n</code></pre>\n\n<p>The 3 posts that show up after the first ajax call come up perfectly, exactly the way I want them to show with the correct data. But I can't get the next 3 posts to show up after the first 3 show up.</p>\n\n<p>So if I have 5 posts by default on my index.php, I scroll to the bottom, ajax calls 3 more posts, they display perfectly, but nothing displays after that even though there are plenty of posts left to display. Where's my problem, ajax/jquery wizards?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","javascript-events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13002319,"title":"Client Side Ajax with jQuery reading a JSON","body":"<p>I'm trying to make a Javascript that is fetching a json (IP DATA) and retrives data from it (GEO IP) with AJAX and this is what i have so far</p>\n\n<pre><code>$(document).ready(function(){\n    var path_to_the_webservice = \"http://www.pathtothescript.com/check.php\";\n    $.ajax({\n        url: path_to_the_webservice,\n        success: function(html)\n        {\n            if(html)\n            {\n                alert('3');\n                $('#content').append(html);                         \n            }\n            else\n            {\n                alert('4');\n            }\n        }\n    });\n});\n</code></pre>\n\n<p>and i get alert(4), WHY?</p>\n\n<p>Basically when you access <code>http://www.pathtothescript.com/check.php</code> from browser, retrives a JSON that i have to parse with</p>\n\n<pre><code>$.getJSON(path_to_the_json,\nfunction(data) \n{\n    $.each(data, function(i,item)\n    {\n\n    });\n}\n</code></pre>\n\n<p>but i'm not sure how to make it. </p>\n\n<p>The json looks like this <code>http://j.maxmind.com/app/geoip.js</code></p>\n\n<p>Any help? Thanks!</p>\n"},{"tags":["ajax","zend-framework2"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":452,"score":1,"question_id":12332843,"title":"How to disable render view in zend framework 2?","body":"<p>I want to use some ajax, but I don't know how to use  function  as the same as setNoRender() in zend framework 2 to disable for render view. </p>\n\n<p>How to disable rendering view in zend framework 2?</p>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13002341,"title":"post file with jquery","body":"<p>I have a form which has multiple inputs, one of the inputs is a file input type. after the form is filled I want to post it with jquery ajax function and upload the file to php handle.\nis there any way to post the file? without using any plugin?\nHere is the code of what I'm trying to do:</p>\n\n<pre><code>    ...\n    if($('#year_of_birth').val() != userData['yearOfBirth']){\n        var tmp = new field('yearOfBirth', $('#year_of_birth').val());\n        dataForUpdate.push(tmp);\n    }\n    if(dataForUpdate.length == 0){\n        alert('error');\n        return;\n    }\n if($('#file_to_upload').val() != '']){\n        var tmp = new field('yearOfBirth', $('#file_to_upload').val());\n        dataForUpdate.push(tmp);\n    }\n }  \n $.ajax({\n        url: '../php/functions/user_info_update.php',\n        type: 'post',\n        data: {dataForUpdate: dataForUpdate}\n}).done(function(data, textStatus){...\n</code></pre>\n\n<p>I found related questions but I couldn't find a clear answer.\nThanks in advance!</p>\n"},{"tags":["php","ajax","json","jquery-mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13000790,"title":"Example of deletions, editing, adding and modifications with PHP and Ajax using jQuery of a user inputted data","body":"<p>Hello i am a beginner in PHP, AJAX and jQuery-Mobile and i need some help.  I wrote the code below that prompts the user to input name, phone number, and email of the user.  I need help in saving that information (inputted by the user) and display it on the same screen.  I also need to be able to edit and delete that data entry.  the code is:</p>\n\n<pre><code>    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n    &lt;title&gt;Untitled Form&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"view.css\" media=\"all\"&gt;\n    &lt;script type=\"text/javascript\" src=\"view.js\"&gt;&lt;/script&gt;\n\n    &lt;/head&gt;\n    &lt;body id=\"main_body\" &gt;\n\n        &lt;img id=\"top\" src=\"top.png\" alt=\"\"&gt;\n        &lt;div id=\"form_container\"&gt;\n\n            &lt;h1&gt;&lt;a&gt;Untitled Form&lt;/a&gt;&lt;/h1&gt;\n            &lt;form id=\"form_505588\" class=\"appnitro\"  method=\"post\" action=\"\"&gt;\n                        &lt;div class=\"form_description\"&gt;\n                &lt;h2&gt;Untitled Form&lt;/h2&gt;\n                &lt;p&gt;This is your form description. Click here to edit.&lt;/p&gt;\n            &lt;/div&gt;                      \n                &lt;ul &gt;\n\n                        &lt;li id=\"li_1\" &gt;\n            &lt;label class=\"description\" for=\"element_1\"&gt;Name &lt;/label&gt;\n            &lt;span&gt;\n                &lt;input id=\"element_1_1\" name= \"element_1_1\" class=\"element text\" maxlength=\"255\" size=\"8\" value=\"\"/&gt;\n                &lt;label&gt;First&lt;/label&gt;\n            &lt;/span&gt;\n            &lt;span&gt;\n                &lt;input id=\"element_1_2\" name= \"element_1_2\" class=\"element text\" maxlength=\"255\" size=\"14\" value=\"\"/&gt;\n                &lt;label&gt;Last&lt;/label&gt;\n            &lt;/span&gt; \n            &lt;/li&gt;       &lt;li id=\"li_2\" &gt;\n            &lt;label class=\"description\" for=\"element_2\"&gt;Phone &lt;/label&gt;\n            &lt;span&gt;\n                &lt;input id=\"element_2_1\" name=\"element_2_1\" class=\"element text\" size=\"3\" maxlength=\"3\" value=\"\" type=\"text\"&gt; -\n                &lt;label for=\"element_2_1\"&gt;(###)&lt;/label&gt;\n            &lt;/span&gt;\n            &lt;span&gt;\n                &lt;input id=\"element_2_2\" name=\"element_2_2\" class=\"element text\" size=\"3\" maxlength=\"3\" value=\"\" type=\"text\"&gt; -\n                &lt;label for=\"element_2_2\"&gt;###&lt;/label&gt;\n            &lt;/span&gt;\n            &lt;span&gt;\n                &lt;input id=\"element_2_3\" name=\"element_2_3\" class=\"element text\" size=\"4\" maxlength=\"4\" value=\"\" type=\"text\"&gt;\n                &lt;label for=\"element_2_3\"&gt;####&lt;/label&gt;\n            &lt;/span&gt;\n\n            &lt;/li&gt;       &lt;li id=\"li_3\" &gt;\n            &lt;label class=\"description\" for=\"element_3\"&gt;Email &lt;/label&gt;\n            &lt;div&gt;\n                &lt;input id=\"element_3\" name=\"element_3\" class=\"element text medium\" type=\"text\" maxlength=\"255\" value=\"\"/&gt; \n            &lt;/div&gt; \n            &lt;/li&gt;\n\n                        &lt;li class=\"buttons\"&gt;\n                    &lt;input type=\"hidden\" name=\"form_id\" value=\"505588\" /&gt;\n\n                    &lt;input id=\"saveForm\" class=\"button_text\" type=\"submit\" name=\"submit\" value=\"Submit\" /&gt;\n            &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/form&gt; \n            &lt;div id=\"footer\"&gt;\n                &lt;a href=\"\"&gt;&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;img id=\"bottom\" src=\"bottom.png\" alt=\"\"&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12994419,"title":"jQuery to check image exists if head 404 than hide it","body":"<p>Using php to get 100 photos url from a db and show them on a page, but some photos may no longer exist. If the photo url is fail (404) I want to use jquery to hide the image and don't want to show any error picture. This is my code but it doesn't work.</p>\n\n<p>html</p>\n\n<pre><code>&lt;div id=test&gt;\n    &lt;img src=\"http://test.com/test1.jpg\" /&gt;\n    &lt;img src=\" http://test.com/test2.jpg\" /&gt;\n    &lt;img src=\"http://test.com/test3.jpg\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>jquery</p>\n\n<pre><code>var pic_list = jQuery(\"#test img\");\n\npic_list.load(function () {\n    var http = new XMLHttpRequest();\n    http.open('HEAD', pic_list, false);\n    http.send();\n    if (http.status == 404) {\n        pic_list.hide();\n    } else {\n        pic_list.show();\n    }\n});\n</code></pre>\n"},{"tags":["xml","ajax","character-encoding","latin"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":922,"score":2,"question_id":2926642,"title":"XML encoding of database contents with Latin characters","body":"<p>I  have an ASP Access database that contains strings in various European languages.  The database was populated prior by agents in the respective countries.  It contains entries with accented etc characters as you would expect.  If I open the database with MS Access these characters show up fine.  For example the the German equivalent of \"Open\" shows as \"Öffnen\" (hopefully you can see an \"O\" with 2 dots above it!).</p>\n\n<p>I have ASP code that reads the database and returns records in XML.  The text is passed to XMLEncode to construct the XML, but that only seems to deal with the 5 specials like \"&lt;\", \"&amp;\", etc.  If I dump the XML the accented characters are unchanged.</p>\n\n<pre><code>&lt;English&gt;Open&lt;/English&gt;\n&lt;German&gt;Öffnen&lt;/German&gt; \n</code></pre>\n\n<p>If I look at the raw packets with Wireshark I see that the \"Ö\" byte is hex D6, which appears to be it's decimal Unicode and ISO 8859-1 value.</p>\n\n<p>The problem starts when I try to parse the XML in client-side JS.  I get:</p>\n\n<pre><code>\"An invalid character was found in text content\"\n</code></pre>\n\n<p>from IE.  FF and Chrome happily accept the XML without hiccup but the browser shows the \"Ö\" character as a diamond with a question mark inside.  </p>\n\n<p><a href=\"http://www.validome.org/xml/validate/\" rel=\"nofollow\">http://www.validome.org/xml/validate/</a> reports \"encoding error.\" </p>\n\n<p><a href=\"http://www.w3schools.com/dom/dom_validate.asp\" rel=\"nofollow\">http://www.w3schools.com/dom/dom_validate.asp</a> thinks it is fine.</p>\n\n<p>The XML is UTF-8 encoded.</p>\n\n<p>What do I need to do to have IE accept my XML without complaint?</p>\n\n<p>What do I need to do to have browsers display the stuff correctly?  </p>\n"},{"tags":["php","ajax","prototype","contact-form"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12990616,"title":"PHP/AJAX contact form don`t send name","body":"<p>I use this PHP AJAX Contact Form script with the following three fields: <em>NAME</em>, <em>EMAIL</em> and <em>MESSAGE</em>. When I receive the email, NAME isn't displayed (only EMAIL and MESSAGE). Can you please help?</p>\n\n<p><strong>HTML</strong>: <a href=\"http://pastie.org/5089529\" rel=\"nofollow\">http://pastie.org/5089529</a></p>\n\n<p><strong>JAVASCRIPT</strong>: <a href=\"http://pastie.org/5089533\" rel=\"nofollow\">http://pastie.org/5089533</a></p>\n\n<p><strong>PHP</strong>:</p>\n\n<pre><code>&lt;?php\n    $to = \"email@example.com\";\n    $subject = \"your form email subject here\";\n    $msg_min_chars = \"10\";\n    $msg_max_chars = \"250\";\n\n    function validate_form_items()\n    {\n       global $msg_min_chars, $msg_max_chars;\n       $msg_chars = \"{\".$msg_min_chars.\",\".$msg_max_chars.\"}\";\n       $form_items = array( \n       \"name\"  =&gt; array(\n       \"regex\" =&gt; \"/^([a-zA-Z '-]+)$/\",\n       \"error\" =&gt; \"Name appears to be in inproper format\",),\n       \"email\" =&gt; array(\n       \"regex\" =&gt; \"/^[A-Za-z0-9](([_\\.\\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\\.\\-]?[a-zA-Z0-9]+)*)\\.([A-Za-z]{2,})$/\",\n       \"error\" =&gt; \"Please enter your valid email address\",),\n           \"message\" =&gt; array(\n           \"regex\" =&gt; \"/^.{$msg_chars}$/\",\n           \"error\" =&gt; \"Your message is either too short or exceeds $msg_max_chars characters\",\n       ),\n       );\n       $errors = array();\n       foreach($form_items as $item_name =&gt; $item_props)\n       {\n           if (!preg_match($item_props[\"regex\"], trim($_POST[$item_name])))\n           {\n                   $errors[] = $item_props[\"error\"];\n           }\n       }\n       return $errors;\n    }\n    function email($from, $to, $subject, $message)\n    {\n        $headers = \"From: \".$from.\"\\r\\n\";\n        $headers .= \"Reply-To: \".$from.\"\\r\\n\";\n        $headers .= \"Return-Path: \".$from.\"\\r\\n\";\n\n        if (mail($to,$subject,$message,$headers) ) {\n            echo \"Thanks for your inquiry. Your message was received. &lt;br&gt;We will get back to your shortly.\";\n        } else {\n            echo \"Your message could not be sent at this time. Please try again.\";\n        }\n    }\n    function print_error($errors)\n    {\n        foreach($errors as $error)\n        {\n            echo $error.\"&lt;br&gt;\";\n        }\n    }\n    function form_process()\n    {   \n        global $to, $subject;\n        $errors = validate_form_items();    \n        if(count($errors) == 0)\n        {\n            $errors [] = email(trim($_POST[\"email\"]), $to, $subject, $_POST[\"message\"]);\n        }\n        print_error($errors);\n    }\n    form_process();\n?&gt;\n</code></pre>\n"},{"tags":["ajax","yii"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2196,"score":2,"question_id":9193921,"title":"Yii ajaxSubmitButton","body":"<p>I am new to YII and I am trying to make an ajax login form. Here is my login form view:</p>\n\n<pre><code>&lt;?php echo CHtml::beginForm(); ?&gt;\n\n&lt;div class=\"row\"&gt;\n&lt;?php echo CHtml::label('username', 'username'); ?&gt;\n&lt;?php echo CHtml::textField('username'); ?&gt;\n&lt;/div&gt;\n&lt;div class=\"row\"&gt;\n&lt;?php echo CHtml::label('password', 'password'); ?&gt;\n&lt;?php echo CHtml::textField('password'); ?&gt;\n&lt;/div&gt;\n&lt;?php\necho CHtml::ajaxButton('sign in', array('site/login'),array(\n        'type'=&gt;'POST',\n        'update'=&gt;'#mydiv',\n        'beforeSend' =&gt; 'function(){\n            alert(\"beforeSend\");\n        }',\n        'complete' =&gt; 'function(){\n            alert(\"complete\");\n            }',\n\n));\n?&gt;\n&lt;?php echo CHtml::endForm(); ?&gt;\n&lt;div id=\"mydiv\" style=\"color:white;\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>Here is the code in the controller:</p>\n\n<pre><code>public function actionLogin()\n{\n    $this-&gt;renderPartial('//blocks/user_info');\n}\n</code></pre>\n\n<p>in user_info I am just doing echo \"some text\"; .</p>\n\n<p>The problem is that when I am clicking on button alerts are not done. what am i doing wrong? Maybe I need to include some js files in my header section?</p>\n"},{"tags":["php","html","sql","ajax","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13001653,"title":"HTML/PHP - Promocode Use Limit","body":"<p>So I have a website where you can register and use a specific registration code. However I want to limit the total use of the registration code to only 20 times. So the first 20 people who use it will get it, and then it'll be locked out meaning no one else can use the registration code. So if I have this input field:<br></p>\n\n<pre><code>Registration code: &lt;input type=\"text\" id=\"registration_code\"&gt;​\n</code></pre>\n\n<p>Then I just want to grey the field out, or make it unclickable when the limit has been reached. My idea on how to do this would be to have an ajax call for the text field, which calls a php file that checks the number of times it is used already. The way it would do that is, I would have a specific 1-column table in my database that starts at the value of 0 and increments everytime the code is used. The php can retrieve that number and if it's <code>&lt;=20</code> then lock else, leave it open.</p>\n\n<p>However, this seems like a very roundabout method, and I was hoping stack had some better ideas. Anyone know how to best deal with this kind of situation? </p>\n"},{"tags":["asp.net","javascript","ajax","updatepanel"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2485,"score":0,"question_id":1651342,"title":"UpdatePanel startup script not executing","body":"<p>I'm writing an ASP.NET webpart for use in a SharePoint site and trying to use an UpdatePanel to render query results.  I want to use a JQuery plugin to modify the table returned from the asynchronous postback, but I'm having trouble getting the startup script to execute on the asynchronous udpate.  </p>\n\n<p>I found this post which <a href=\"http://weblogs.asp.net/infinitiesloop/archive/2007/09/17/inline-script-inside-an-asp-net-ajax-updatepanel.aspx\" rel=\"nofollow\">indicates that the UpdatePanel won't do an eval() on startup scripts; instead, you must register the startup script block with the ScriptManager</a>.  It all makes sense until it doesn't work.  The <a href=\"http://msdn.microsoft.com/en-us/library/bb310408.aspx\" rel=\"nofollow\">MSDN reference documentation seems to concur</a> with the approach taken there.</p>\n\n<p>My control is too long to post completely, but here's a trimmed-down representation that I think covers anything relevant.  Forgive me if there are missing controls in the paste below - I had to remove some parts, and there may be some dangling tentacles, so to speak.  The below is the code for the webpart, which is not unlike the SmartPart which loads a user control (.ascx).</p>\n\n<p>As you can see, I am using the ScriptManager.RegisterStartupScript method.  I've tried both overloads; once for the Page, and once for the ListView (renamed as 'AspListView') which is in the update panel.  In neither case does the startup script execute on the asynchronous update, and I'm at a loss for why.</p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Runtime.InteropServices;\nusing System.Text;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing System.Web.UI.WebControls.WebParts;\nusing System.Xml.Serialization;\n\nusing Microsoft.SharePoint;\nusing Microsoft.SharePoint.WebControls;\nusing Microsoft.SharePoint.WebPartPages;\n\nnamespace MyNamespace\n{\n    using AspListView = System.Web.UI.WebControls.ListView;\n\n    [Guid(\"601b3bdb-ed2a-4ec8-8a40-c37de8ab048d\")]\n    public class ListSearch : StaticTemplateWebPart\n    {\n        private AspListView resultsList;\n\n        public ListSearch()\n        {\n        }\n\n        protected override void CreateChildControls()\n        {            \n            base.CreateChildControls();\n\n            ScriptLink.Register(Page, \"jquery-1.3.2.js\", false);\n            ScriptLink.Register(Page, \"jquery-ui-1.7.2.custom.min.js\", false);\n            ScriptLink.Register(Page, \"jquery.timepickr.js\", false);\n            ScriptLink.Register(Page, \"jquery.quicksearch.js\", false);\n\n            string scriptBlock =\n@\"\nif ($('table#discrepancy-results').length)\n{\n    $('table#discrepancy-results tr').quicksearch({\n        position: 'before',\n        attached: 'table.results',\n        stripeRowClass: ['odd', 'even'],\n        labelText: 'Keyword Search'\n    });\n}\";\n            ScriptManager.RegisterStartupScript(Page, typeof(Page), UniqueID, scriptBlock, true);\n\n            /* adding other controls, getting references, databinding, etc. */\n\n        }             \n\n        void searchButt_Click(object sender, EventArgs e)\n        {           \n            if (Page.IsPostBack)\n            {\n                var beginDT = DateTime.Parse((beginDateText.Text ?? \"\") + \" \" + (beginTimeText.Text ?? \"\"));\n                var endDT = DateTime.Parse((endDateText.Text ?? \"\") + \" \" + (endTimeText.Text ?? \"\"));\n                var dataList = SPContext.Current.Web.Lists[\"MyDataList\"].Items;\n\n                var results = SearchListItems(dataList, beginDT, endDT, keywordText.Text ?? \"\");\n                if (results.Count &gt; 0)\n                {\n                    resultsList.DataSource = results;\n                    resultsList.DataBind();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And the user control that gets loaded:</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" ClassName=\"ListSearchControl\" %&gt;\n\n&lt;% if (false)\n   { %&gt;\n    &lt;script src=\"../../LAYOUTS/jquery-1.3.2-vsdoc2.js\" type=\"text/javascript\"&gt;&lt;/script&gt;    \n&lt;% } %&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        $('id').trigger('click');\n        $('#&lt;%= BeginTime.ClientID %&gt;').timepickr({\n            handle: '#&lt;%= BeginTimeTrigger.ClientID %&gt;',\n            convention: 12,\n            trigger: 'nothing' \n        });\n        $('#&lt;%= EndTime.ClientID %&gt;').timepickr({\n            handle: '#&lt;%= EndTimeTrigger.ClientID %&gt;',\n            convention: 12,\n            trigger: 'nothing'\n        });        \n    });\n&lt;/script&gt;\n\n&lt;asp:Panel ID=\"ControlPanel\" runat=\"server\"&gt;\n    &lt;asp:Panel ID=\"Inputs\" runat=\"server\"&gt;\n        &lt;asp:Panel CssClass=\"DateInputWrapper\" runat=\"server\"&gt;\n            &lt;asp:Panel CssClass=\"BeginDateInput\" runat=\"server\"&gt;\n                &lt;asp:Label Text=\"Begin Date: \"  runat=\"server\" /&gt;   \n                &lt;asp:TextBox ID=\"BeginDate\" Columns=\"14\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;     \n                &lt;asp:Image ID=\"BeginDateImg\" ImageUrl=\"/_layouts/Images/calendar.gif\" runat=\"server\" /&gt;\n                &lt;ajax:CalendarExtender ID=\"BeginDateExtender\" TargetControlID=\"BeginDate\" PopupButtonID=\"BeginDateImg\" \n                                       Format=\"MMMM d, yyyy\" runat=\"server\"&gt;\n                &lt;/ajax:CalendarExtender&gt;\n                &lt;asp:Label Text=\"Begin Time: \" runat=\"server\" /&gt;\n                &lt;asp:TextBox ID=\"BeginTime\" Columns=\"6\" Text=\"04:00 am\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n                &lt;asp:Image ID=\"BeginTimeTrigger\" runat=\"server\" ImageUrl=\"/_layouts/1033/Images/clock.png\" /&gt;                        \n            &lt;/asp:Panel&gt;                    \n            &lt;asp:Panel CssClass=\"EndDateInput\" runat=\"server\"&gt;\n                &lt;asp:Label Text=\"End Date: \" runat=\"server\" /&gt;                        \n                &lt;asp:TextBox ID=\"EndDate\" Columns=\"14\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;     \n                &lt;asp:Image ID=\"EndDateImg\" ImageUrl=\"/_layouts/Images/calendar.gif\" runat=\"server\" /&gt;\n                &lt;ajax:CalendarExtender ID=\"EndDateExtender\" TargetControlID=\"EndDate\" PopupButtonID=\"EndDateImg\" \n                                       Format=\"MMMM d, yyyy\" runat=\"server\"&gt;\n                &lt;/ajax:CalendarExtender&gt;\n                &lt;asp:Label Text=\"End Time: \" runat=\"server\" /&gt;\n                &lt;asp:TextBox ID=\"EndTime\" Columns=\"6\" Text=\"03:59 am\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;\n                &lt;asp:Image ID=\"EndTimeTrigger\" runat=\"server\" ImageUrl=\"/_layouts/1033/Images/clock.png\" /&gt;\n            &lt;/asp:Panel&gt;   \n        &lt;/asp:Panel&gt;         \n        &lt;asp:Panel CssClass=\"Submit\" runat=\"server\"&gt;\n            &lt;asp:Button ID=\"SearchButton\" Text=\"Search\" runat=\"server\" /&gt;\n            &lt;asp:Label CssClass=\"SearchStatusText\" runat=\"server\" /&gt;\n        &lt;/asp:Panel&gt;       \n    &lt;/asp:Panel&gt;\n&lt;/asp:Panel&gt;\n\n&lt;asp:Panel ID=\"ResultsPanel\" runat=\"server\"&gt;\n    &lt;asp:ListView ID=\"ResultsList\" runat=\"server\"&gt;\n        &lt;LayoutTemplate&gt;            \n            &lt;table id=\"discrepancy-results\"&gt;\n                &lt;tr class=\"header-row\"&gt;                    \n                    &lt;th&gt;Scheduled Date/Time&lt;/th&gt;                   \n                    &lt;th&gt;Code&lt;/th&gt;     \n                    &lt;th&gt;Description&lt;/th&gt;               \n                &lt;/tr&gt;                \n                &lt;asp:PlaceHolder runat=\"server\" ID=\"itemPlaceHolder\" /&gt;\n            &lt;/table&gt;            \n        &lt;/LayoutTemplate&gt;\n        &lt;ItemTemplate&gt;\n            &lt;tr class=\"result-row\"&gt;                \n                &lt;td&gt;&lt;%# Eval(\"ScheduledDate\") %&gt;&lt;/td&gt;                \n                &lt;td&gt;&lt;%# Eval(\"Code\") %&gt;&lt;/td&gt;         \n                &lt;td&gt;&lt;%# Eval(\"Description\") %&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:ListView&gt;\n&lt;/asp:Panel&gt;\n\n&lt;asp:Panel ID=\"DetailsPanel\" runat=\"server\"&gt;\n&lt;/asp:Panel&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","forms","refresh"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13001200,"title":"Form input submission using ajax to stop a page refresh","body":"<p>I wish to use forms to input data to an e-commerce cart I use, but wish to do this without the page refreshing after the user clicks the 'add to cart' button from the form. I have found many examples of submitting a form without a page refresh using jquery eg:\n<a href=\"http://stackoverflow.com/questions/10057840/submit-a-form-without-page-refresh-using-jquery\">Submit A Form Without Page Refresh using jQuery</a> \nhowever have been unable to get this to work despite trying a few different solutions. </p>\n\n<p>My form:</p>\n\n<pre><code>&lt;form method=\"POST\" id=\"formname\"&gt;\n&lt;input name=\"userid\" id=\"userid\" value=\"00000000\" type=\"hidden\"&gt;\n&lt;input name=\"product\" id=\"product\" value=\"product name\" type=\"hidden\"&gt;\n&lt;input name=\"price\" id=\"price\" value=\"1.00\" type=\"hidden\"&gt;\n&lt;input name=\"qty\" id=\"qty\" value=\"1\" type=\"hidden\"&gt;\n&lt;input name=\"nocart\" id=\"nocart\" value=\"1\" type=\"hidden\"&gt;\n&lt;input name=\"units\" id=\"units\" value=\"1\" type=\"hidden\"&gt;\n&lt;input name=\"scode\" id=\"scode\" value=\"xxxx\" type=\"hidden\"&gt;\n&lt;input name=\"hash\" id=\"hash\" value=\"xxxxxxxx\" type=\"hidden\"&gt;\n&lt;input name=\"return\" id=\"return\" value=\"http://www.returnaddresshere\" type=\"hidden\"&gt;\n&lt;input type=\"submit\" value=\"Add to cart\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and the script:</p>\n\n<pre><code>&lt;script src=\"jquerylocation.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function(){\n$(\"form#formname\").submit(function(event) {\n    event.preventDefault();\n    var userid = $(\"#userid\").val();\n    var product = $(\"#product\").val();\n    var price = $(\"#price\").val();\n    var qty = $(\"#qty\").val();\n    var nocart = $(\"#nocart\").val();\n    var units = $(\"#units\").val();\n    var scode = $(\"#scode\").val();\n    var hash = $(\"#hash\").val();\n    var return = $(\"#return\").val();\n\n    $.ajax({\n        type: \"POST\",\n        url: \"http://ww#.aitsafe.com/cf/add.cfm\",\n        data: \"userid=\" + userid + \"&amp;product=\" + product \"price=\" + price + \"&amp;qty=\" + qty \"nocart=\" + nocart + \"&amp;units=\" + units \"scode=\" + scode + \"&amp;hash=\" + hash + \"&amp;return=\" + return,\n        success: function(){alert('order added to cart');}\n    });\n});\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>I am not sure where the problem lies as I'm very new to javascript and jquery. All the examples I have seen use php as well to handle the input from the forms; would the fact that the e-commerce uses coldfusion require a different approach?</p>\n\n<p>Thank you in advance your help.</p>\n"},{"tags":["ajax","ruby-on-rails-3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13000823,"title":"Ajax test not working","body":"<p>Am having real probs trying to use Ajax with my Rails app.  I have set up a test as follows:</p>\n\n<p>in javascript file:</p>\n\n<pre><code>window.onload = function() {\n    $('#test').bind('ajax:success', function() {\n        alert(\"success\");\n    };\n}\n</code></pre>\n\n<p>in view:</p>\n\n<pre><code>&lt;%= link_to \"test\", { :action =&gt; :getDiagram }, :remote =&gt; true, :id =&gt; \"test\" %&gt;\n</code></pre>\n\n<p>in controller:</p>\n\n<pre><code>def getDiagram\n\nend\n</code></pre>\n\n<p>Now I know this looks odd with the empty controller action, but I would expect this code to  just show a popup window with 'success' and leave the current page loaded when the link is clicked?  Instead i get the missing template message like its trying to load a page synchronously rather than using ajax?</p>\n\n<p>Can anyone get my test to work?  Do I need to upgrade or add a gem file?</p>\n\n<p>Thanks in advance</p>\n\n<p>Jason</p>\n"},{"tags":["jquery","ajax","zend-framework","form-validation"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":40,"score":3,"question_id":13000675,"title":"Triggering jquery event from within the same event handler","body":"<p>I'm validating a Zend form with Ajax and have come up with this:</p>\n\n<pre><code>$('#some-dialog-i-have form').live('submit', function(e) {\n\n    e.preventDefault();\n\n    MyClass.Form.Validate($(this), function() {\n        // I wish to submit the form from this callback function\n        $(this).trigger('submit');\n\n    });\n});\n</code></pre>\n\n<p>Where MyClass.Form.Validate takes the form and performs an XHR request to check the form is valid.</p>\n\n<p>My issue is that I wish to continue submitting the form if it is valid, but stop everything if not. Triggering the submit from within this handler will obviously cause a recursive issue; what's the best way to go about this?</p>\n\n<pre><code>Form: {\n    Validate: function(form, onSuccess) {\n\n        $.ajax({\n            type: 'POST',\n            dataType: 'json',\n            url: '/ajax/form/validate',\n            data: form.serialize() + '&amp;f=' + form.data('id')\n\n        }).done(function(errorMessages) {\n            if(errorMessages.count &gt; 0) {\n                // Snip (display errors)\n                return false;\n            }\n        // Callback\n            onSuccess();\n        });\n    }\n}\n</code></pre>\n\n<ul>\n<li>I've through about stopPropagation, but this will have no effect on the live handler</li>\n<li>I am aware the live() handler is deprecated, I have neglected to change it for the moment</li>\n<li>I've thought about simply posting the form through Ajax, but not sure if I want to do it this way</li>\n</ul>\n\n<p>Probably a simple solution but my head isn't in the right place today.</p>\n\n<p>Thanks.</p>\n"},{"tags":["ajax","seo","search-engine-bots"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":34,"score":0,"question_id":13000394,"title":"How to get search engines to index a large collection of records?","body":"<p>I have an ajax-driven search page that will allow users to search through a large collection of records. What's the best practice for creating SEO friendly markup that will allow search engines to crawl these records? The user can only conduct searches... there is no paged list of all records. The collection is large, so I can't dump every record out to a single list, so my crawl index will need to be paged as well.</p>\n\n<p>I'm assuming that I need to create a SEO crawl page with markup like this:</p>\n\n<pre><code>&lt;a href=\"/result.php?id=record1\"&gt;Record 1&lt;/a&gt;\n&lt;a href=\"/result.php?id=record2\"&gt;Record 2&lt;/a&gt;\n&lt;a href=\"/result.php?id=record3\"&gt;Record 3&lt;/a&gt;\n\n&lt;a href=\"/seo.php?page=2\"&gt;next&lt;/a&gt;\n</code></pre>\n\n<p>Assuming this is the correct approach, I have these questions:</p>\n\n<ol>\n<li><p>How would the search engines find the crawl page?</p></li>\n<li><p>Is it possible to prevent the search engines from indexing the words\n\"Record 1\", etc. and \"next\"?</p></li>\n<li><p>I assume the crawl page might be part of Google's search results... I guess I would need to put a javascript redirect in there, right?</p></li>\n</ol>\n\n<p>Or is there a better way to deal with this?</p>\n"},{"tags":["javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":10597402,"title":"My function only works with an alert after my ajax call","body":"<p>I'm populating a table with values from my database. I have included a delete icon in rows which can be deleted. The image has an <code>onclick='deleteCat(id);'</code> property, the id is taken from a json array trough a loop like so:</p>\n\n<p><code>string = \"&lt;td align='center'&gt;&lt;a href=''&gt;&lt;img border='0' src='../images/Bullet-Delete.png' alt='delete' onclick='deleteCat(\"+json[i]['id']+\");'/&gt;&lt;/a&gt;&lt;/td&gt;\";</code></p>\n\n<p>This is my <code>deleteCat</code> function:</p>\n\n<pre><code>function deleteCat(id){\n    var dataString = \"catId=\" + id;\n    $.ajax({\n        type: \"POST\",  \n        url: \"../ajax/categorie_verwijderen.php\",\n        data: dataString,  \n        success: function(data) {\n                //$(\"#allecat\").find(\"tr:gt(0)\").remove();\n                //update_table();                \n        }\n   });   \n   //alert(id);\n}\n</code></pre>\n\n<p>My function works when I put an alert after the ajax. The table refreshes and the row is removed from my db. However when I remove the alert my function does not work, the table is refreshed and the row is still present in the table and db.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","javascript","ajax","web"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12999705,"title":"Better way to perform AJAX search on large data","body":"<p>I am new to AJAX and looking for better way to do this. I have search box which searches for string in a array of about 10,000 strings. Code is given below but is way too slow. Of course there is a better way. What is it ?? Here is the HTML and javascript </p>\n\n<pre><code>    &lt;script&gt;\n    function showHint(str)\n    {\n    var xmlhttp;\n    if (str.length==0)\n      { \n      document.getElementById(\"txtHint\").innerHTML=\"\";\n      return;\n      }\n    if (window.XMLHttpRequest)\n      {// code for IE7+, Firefox, Chrome, Opera, Safari\n      xmlhttp=new XMLHttpRequest();\n      }\n    else\n      {// code for IE6, IE5\n      xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }\n    xmlhttp.onreadystatechange=function()\n      {\n      if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n        {\n        document.getElementById(\"txtHint\").innerHTML=xmlhttp.responseText;\n        }\n      }\n    xmlhttp.open(\"GET\",\"gethint.php?q=\"+str,true);\n    xmlhttp.send();\n    }\n    &lt;/script&gt;\n\n\n    &lt;body&gt;\n    &lt;h3&gt;Start typing a name in the input field &lt;/h3&gt;\n    &lt;form action=\"\"&gt; \n    First name: &lt;input type=\"text\" id=\"txt1\" onkeyup=\"showHint(this.value)\" /&gt;\n    &lt;/form&gt;\n    &lt;p&gt;Suggestions: &lt;span id=\"txtHint\"&gt;&lt;/span&gt;&lt;/p&gt; \n    &lt;/body&gt;\n</code></pre>\n\n<p>Here is the php code:</p>\n\n<pre><code> include_once(\"array.php\");    //array.php contains array of 10,000 strings\n\n //get the q parameter from URL\n $q=$_GET[\"q\"];\n\n //lookup all hints from array if length of q&gt;0\n if (strlen($q) &gt; 0)\n   {\n   $hint=\"\";\n   for($i=0; $i&lt;count($a); $i++)\n     {\n     if (strtolower($q)==strtolower(substr($a[$i],0,strlen($q))))\n       {\n       if ($hint==\"\")\n         {\n         $hint=$a[$i];\n         }\n       else\n         {\n         $hint=$hint.\" , \".$a[$i];\n         }\n       }\n     }\n   }\n\n // Set output to \"no suggestion\" if no hint were found\n // or to the correct values\n if ($hint == \"\")\n   {\n   $response=\"no suggestion\";\n   }\n else\n   {\n   $response=$hint;\n   }\n\n //output the response\n echo $response;\n</code></pre>\n"},{"tags":["asp.net","ajax","updatepanel","pager"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":305,"score":-2,"question_id":7173465,"title":"CollectionPager Problem With UpdatePanel","body":"<p>I have a problem with the collectionpager and repeater. When I load the page, collectionpager is working fine.. But when I click the search button and bind new data, clicking the page 2 link, it is firing the page_load event handler and bring all the data back again... Notice: All controls are in an UpdatePanel.</p>\n\n<pre><code> protected void Page_Load(object sender, EventArgs e){\nif (!IsPostBack)\n{\n    kayit_getir(\"SELECT Tbl_Icerikler.ID,Tbl_Icerikler.url,Tbl_Icerikler.durum,Tbl_Icerikler.baslik,Tbl_Icerikler.gunc_tarihi,Tbl_Icerikler.kayit_tarihi,Tbl_Icerikler.sira,Tbl_Kategoriler.kategori_adi FROM Tbl_Icerikler,Tbl_Kategoriler where Tbl_Kategoriler.ID=Tbl_Icerikler.kategori_id ORDER BY Tbl_Icerikler.ID DESC,Tbl_Icerikler.sira ASC\");\n}}\n\npublic void kayit_getir(string SQL){\nSqlConnection baglanti = new SqlConnection(f.baglan());\nbaglanti.Open();\nSqlCommand komut = new SqlCommand(SQL, baglanti);\nSqlDataAdapter da = new SqlDataAdapter(komut);\nDataTable dt = new DataTable();\nda.Fill(dt);\nif (dt.Rows.Count &gt; 0)\n{\n    CollectionPager1.DataSource = dt.DefaultView;\n    CollectionPager1.BindToControl = Liste;\n    Liste.DataSource = CollectionPager1.DataSourcePaged;\n}\nelse\n{\n   kayit_yok.Text = \"&lt;br /&gt;&lt;span class='message information'&gt;Kayıt bulunamadı.&lt;/span&gt;\";\n}\nda.Dispose();\nbaglanti.Close();\nCollectionPager1.DataBind();\nListe.DataBind();}\n\n\nprotected void search_Click(object sender, EventArgs e){\nstring adi = f.temizle(baslik.Text);\nstring durum = Durum.SelectedValue;\nstring kayit_bas_t = kayit_bas_tarih.Text;\nstring kayit_bit_t = kayit_bit_tarih.Text;\nstring kategori = kategori_adi.SelectedValue;\n\n\nstring SQL = \"SELECT Tbl_Icerikler.ID,Tbl_Icerikler.url,Tbl_Icerikler.durum,Tbl_Icerikler.baslik,Tbl_Icerikler.gunc_tarihi,Tbl_Icerikler.kayit_tarihi,Tbl_Icerikler.sira,Tbl_Kategoriler.kategori_adi FROM Tbl_Icerikler,Tbl_Kategoriler where Tbl_Kategoriler.ID=Tbl_Icerikler.kategori_id and\";\nif (adi != \"\")\n{\n    SQL = SQL + \" Tbl_Icerikler.baslik LIKE '%\" + adi + \"%' and\";\n}\n\nif (kategori != \"\")\n{\n    SQL = SQL + \" Tbl_Icerikler.kategori_id=\" + kategori + \" and\";\n}\n\nif (durum != \"\")\n{\n    SQL = SQL + \" Tbl_Icerikler.durum='\" + durum + \"' and\";\n}\n\nif (kayit_bas_t != \"\")\n{\n    SQL = SQL + \" (Tbl_Icerikler.kayit_tarihi&gt;'\" + kayit_bas_t + \"') and\";\n}\n\nif (kayit_bit_t != \"\")\n{\n    SQL = SQL + \" (Tbl_Icerikler.kayit_tarihi&lt;'\" + kayit_bit_t + \"') and\";\n}\n\nSQL = SQL.Remove(SQL.Length - 3, 3);\nSQL = SQL + \" ORDER BY sira ASC,ID DESC\";\n\ntry\n{\n    kayit_getir(SQL);\n}\ncatch { }\nRecursive(0, 0);}\n</code></pre>\n"},{"tags":["javascript","xml","ajax","div"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1476,"score":0,"question_id":3953881,"title":"Parse XML data on page load & insert into div using AJAX / Javascript","body":"<p>I am working on a page that uses javascript / AJAX to parse xml from a file. I need to be able to parse a url on the loading of a page and insert it into a div. I have the script written but I need help getting 2 things:\n1) having it parse an XML file and load that data into a div on page load\n2) the option to click a link and load that data into the same div instead of what was there when the page loaded. </p>\n\n<p>I am using an external script to do this &amp; embeded a link to it in my page</p>\n\n<pre><code>HTML example to request data:\n\n&lt;div id=\"rightcolumn\"&gt;\n&lt;button onclick=\"loadXMLDoc('cd_catalog.xml')\"&gt;Get CD info&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How do I change that to load #1 when the page loads &amp; #2 when a link is clicked?</p>\n\n<p>For the script, do I need anything special at the top to make sure it loads properly? jQuery has $(document).ready(function() {//GUTS}, do I need something similar with AJAX?</p>\n\n<p>My Script</p>\n\n<pre><code>function loadXMLDoc(url){\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function(){\n\nif (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n{\n\n    var anno= xmlhttp.responseXML.documentElement.getElementsByTagName(\"anno\");\n    // Parser Guts\n\n }\ndocument.getElementById('rightcolumn').innerHTML=txt;\n  }\n}\n  xmlhttp.open(\"GET\",\"url\",true);\n  xmlhttp.send();\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":2760,"score":1,"question_id":3924748,"title":"GET data from server via JQuery call and load into DIV without refreshing page","body":"<p>I've spent the best part of 90 minutes sifting through the many tutorials relating to this problem.</p>\n\n<p>Instead of using the rather long winded way of creating a XHR object , sending the request, getting the data back, doing a getElementById to find the div then loading the response into the div. I'm looking for a far more simpler - easier on the eye way of doing it and so have found myself looking at JQuery.</p>\n\n<p>However none of the tuts seem to do what i want unless i'm overlooking something. I just want to pass in a url, perform the request - data is passed back as html, then i want to inject it into a specific div. </p>\n\n<p>Can someone please show me a simple solution to this problem, or link me to a straightforward tutorial if one is known?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12955368,"title":"Getting the GET URL through jQuery/Ajax","body":"<p>I'm looking to reload part of a page when a form is submitted using <code>GET</code> method. The following JavaScript runs, though I am unsure of how to get the submitted URL from the form?</p>\n\n<p>I would have thought <code>var link = jQuery(this).attr('GET');</code> or somethign would return it, and have tried <code>URL</code> etc... no luck though. Any ideas?</p>\n\n<pre><code>jQuery('form').submit(function(e){\n    e.preventDefault();\n    var link = jQuery(this).attr('GET'); //Get the href attribute\n    alert(link);\n    history.pushState('data', '', link);\n    jQuery('#search_main_section').fadeTo(300,0.3,function(){\n        load(link + ' #search_main_section', function(){ jQuery(\"#loader\").hide(); \n        jQuery('#search_main_section').fadeTo(100,1, function(){}); \n    });\n});\n</code></pre>\n"},{"tags":["ajax","events","jsf-2","datatable","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":148,"score":2,"question_id":12842854,"title":"dataTable, rowSelect and disable commandButton (JSF2.0 + Primefaces)","body":"<p>I have a dataTable and I want the following behaviour:</p>\n\n<p>I select a row and addRFI button is activated.</p>\n\n<p>I push the addRFI button, it executes the addRFICustomer method and a ConfirmDialog appears.</p>\n\n<p>I push the confirm button and the table doesn't have any row selected.</p>\n\n<p>If it doesn't have row selected, addRFI button is not activated.</p>\n\n<p>My code (MyCSR.xhtml):</p>\n\n<pre><code>   &lt;h:form id=\"assignForm\"&gt;   \n      &lt;p:dataTable var=\"csr\" value=\"#{myCsrController.csrModel}\" id=\"csrList\" editable=\"true\"  \n            selectionMode=\"single\" selection=\"#{myCsrController.csrSelected}\" rowKey=\"#{csr.id}\"&gt;\n\n            &lt;f:facet name=\"header\"&gt;  \n                My Work Page\n            &lt;/f:facet&gt;  \n\n            &lt;p:ajax event=\"rowSelect\" listener=\"#{myCsrController.onRowSelected}\" update=\"addRFI,addTR\" /&gt;  \n            &lt;p:ajax event=\"rowUnselect\"  listener=\"#{myCsrController.onRowUnselected}\" update=\"addRFI,addTR\" /&gt;  \n\n            &lt;p:column headerText=\"CSR Number\"&gt;  \n                &lt;h:outputText value=\"#{csr.csrNumber}\" /&gt;  \n            &lt;/p:column&gt;\n                 ...\n            &lt;f:facet name=\"footer\"&gt;  \n                &lt;p:commandButton id=\"addRFI\" value=\"Add/Remove RFI Customer\" oncomplete=\"wdlg1.show()\"  actionListener=\"#{myCsrController.addRFICustomer}\" update=\":assignForm:confirmDialog\" disabled=\"#{!myCsrController.isSelected}\" /&gt;  \n            &lt;/f:facet&gt;\n        &lt;/p:dataTable&gt;      \n\n        &lt;p:confirmDialog id=\"confirmDialog\" header=\"Add RFI Customer\" widgetVar=\"wdlg1\" message=\"Please confirm that an RFI Customer activity has been created for #{myCsrController.csrSelected.csrNumber}\"&gt;       \n            &lt;p:commandButton id=\"confirmButton\" value=\"Ok\" oncomplete=\"wdlg1.hide()\" update=\":assignForm:csrList\" /&gt;\n        &lt;/p:confirmDialog&gt;\n    &lt;/h:form&gt;\n</code></pre>\n\n<p>MyCsrController:</p>\n\n<pre><code>  public void addRFICustomer(ActionEvent event){        \n    ...\n        }\n  public void onRowSelected(SelectEvent event){ \n    setIsSelected(true);\n}\n\n  public void onRowUnselected(UnselectEvent event){ \n    setIsSelected(false);\n}\n</code></pre>\n\n<p>My problem is that the method addRFICustomer is not executed, I think that when I push the addRFI button first disable the button and the actionListener is not executed... I would like to execute the listener first, What am I doing wrong?\nThanks </p>\n"},{"tags":["php","ajax","wordpress"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12997740,"title":"List post titles using wp_query","body":"<p>I'm trying to list the post titles using a regular wp_query, just to add the permalink to the a href of the items, this is the code i'm using:</p>\n\n<pre><code>    &lt;?php $the_query = new WP_Query( 'post_type=artworks_post' );\n        // The Loop\n        while ( $the_query-&gt;have_posts() ) : $the_query-&gt;the_post();\n            echo '&lt;a rel=\"' .the_permalink(). '\" href=\"' .the_permalink. ' \"&gt;';\n            the_title();\n            echo '&lt;/a&gt;';\n        endwhile;\n\n        // Reset Post Data\n        wp_reset_postdata();\n    ?&gt; \n</code></pre>\n\n<p>The problem is that the code is not working, it just returns the a href with the word \"permalink\" but no the link itself.</p>\n\n<p>What i'm doing wrong here?</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":147,"score":1,"question_id":8487192,"title":"How to cache image in IE using ajax","body":"<p>I want to display image  with interval  in IE browser using ajax. I am able to      display  but When I mousehover on ajax request the image reload again. I want to chache image on IE.\n I am using following code.</p>\n\n<pre><code>   var images = new Array('image1.jpg','image2.jpg','image3.jpg')\n\n    var index = 1;\n\n    function rotateImage()\n      {\n $('#myImage').fadeOut('slow', function()\n {\n\n     $(this).html(images[index]);\n\n     $(this).fadeIn('slow', function()\n                {\n                  if (index == images.length-1)\n                  {\n                    index = 0;\n                  }\n                  else\n                  {\n                    index++;\n                  }\n                });\n\n\n\n });\n</code></pre>\n\n<p>}</p>\n\n<p>What i am trying to do is -> I have static arrays(4) of images in php, which I want to rotate using JQuery. I want the first array to download with the page loade, the io want the rest 3 to load using AJAX for the first time then, on second rotation i want the browser to use cached images to diplay. </p>\n\n<pre><code>var images = (&lt;?php global array1 as key=&gt;val(// iuse teh values, which contain           //image path and info to be displayed.\n</code></pre>\n\n<p>)\n;\nI just cant seem to make it wrk.</p>\n\n<p>PLZ help.</p>\n"},{"tags":["php","javascript","jquery","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":181,"score":1,"question_id":8536605,"title":"UPDATE reflected in DB but not SELECT query","body":"<p>First time for me here.</p>\n\n<p>I am using PHP, MySQL, JavaScript and running JQUERY and AJAX functions.</p>\n\n<p>I have an anchor link that runs a function.</p>\n\n<p>The function emptys a DIV tag and then fills/displays (SELECT query) a table of rows in the DIV with a is null where clause. Each row has a select box where the NULL data column would go. The data in the select box comes from a different table.</p>\n\n<p>When the select box changes it immediately runs the ajax to UPDATE the table row with the new data in the select box.</p>\n\n<p>When you click the link to run the function again (empty, select query and display based on null column) the row that was just updated to the DB shows up again based on the is null clause. Checking the DB table at this point shows that it is in fact not null and was UPDATEd properly the first go around.</p>\n\n<p>The page is never refreshed during this process and never has to be. If I do refresh it shows the proper data without the BUG.</p>\n\n<p>All your thoughts are greatly appreciated.</p>\n\n<p>matt</p>\n\n<pre><code>function closeItemsBtn() { // called by a click function of a standard link/button\n  $('#CloseItems').empty(); // remove all html from the DIV\n  var newAppend = '';\n  &lt;?\n  //[... connect to db ...]\n  // select info from 2 different tables so it can be used in different locations if necessary\n  // where the row has not been reviewed and therefore is null\n  $query = \"select * from nearmiss where reviewedId is null order by submitDate desc\";\n  $result = $db-&gt;query($query) or die($db-&gt;error);\n  $query2 = \"select * from hazardid where reviewedId is null order by submitDate desc\";\n  $result2 = $db-&gt;query($query2) or die($db-&gt;error);\n  $num_rows = $result-&gt;num_rows;\n  $num_rows2 = $result2-&gt;num_rows;\n  // create html for the DIV tag. Creates a table in a DIV that collapses by clicking aCloseList.\n  // each row is in tbody so it can be striped by a all purpose striping function\n  // this part is the table header and opening div tags and link\n  $newAppend = \"&lt;p id=\\\"closeList\\\"&gt;&lt;a href=\\\"#\\\" id=\\\"aCloseList\\\"&gt;Show/Hide&lt;/a&gt; {$num_rows} Near Misses requiring attention.&lt;/p&gt;&lt;div id=\\\"closenearmiss\\\" style=\\\"display:none;\\\"&gt;&lt;table class=\\\"closenearmisstable\\\"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Date Submitted&lt;/td&gt;&lt;td&gt;Submitted By&lt;/td&gt;&lt;td&gt;Location&lt;/td&gt;&lt;td&gt;Reviewed By&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=\\\"2\\\"&gt;Type&lt;/td&gt;&lt;td colspan=\\\"3\\\"&gt;Description / Observation&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=\\\"3\\\"&gt;Action / Reinforcement&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\";\n  // update various foreign key information from other tables\n  for ($i=0;$i&lt;$num_rows;$i++) {\n$row = $result-&gt;fetch_assoc();\n$query3 = \"select location from locations where locationId='{$row['locationId']}'\";\n$result3 = $db-&gt;query($query3);\n$location = $result3-&gt;fetch_assoc();\n$query3 = \"select name from employees where employeeId='{$row['employeeId']}'\";\n$result3 = $db-&gt;query($query3);\n$name = $result3-&gt;fetch_assoc();\n      // here is the table itself with the select tag in the null column name=reviewed\n$newAppend .= \"&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;{$row['submitDate']}&lt;/td&gt;&lt;td&gt;{$name['name']}&lt;/td&gt;&lt;td&gt;{$location['location']}&lt;/td&gt;&lt;td&gt;&lt;form name=\\\"nearmissreview\\\" action=\\\"\\\" method=\\\"\\\"&gt;&lt;input type=\\\"hidden\\\" name=\\\"docId\\\" value=\\\"{$row['nearmissId']}\\\"&gt;&lt;input type=\\\"hidden\\\" name=\\\"type\\\" value=\\\"nearmiss\\\"&gt;&lt;select name=\\\"reviewed\\\"&gt;&lt;option&gt;Choose name to sign off&lt;/option&gt;&lt;/select&gt;&lt;/form&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=\\\"2\\\"&gt;Near Miss&lt;/td&gt;&lt;td colspan=\\\"3\\\"&gt;{$row['description']}&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=\\\"3\\\"&gt;{$row['action']}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\";\n  }\n$newAppend .= \"&lt;/table&gt;&lt;/div&gt;\";\n\n// this is the beginning of the second table same structure as first with collapsing but\n      // different data\n$newAppend .= \"&lt;p id=\\\"closeList\\\"&gt;&lt;a href=\\\"#\\\" id=\\\"aCloseList\\\"&gt;Show/Hide&lt;/a&gt; {$num_rows2} Hazard IDs requiring attention.&lt;/p&gt;&lt;div id=\\\"closehazardid\\\" style=\\\"display:none;\\\"&gt;&lt;table class=\\\"closehazardidtable\\\"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Date Submitted&lt;/td&gt;&lt;td&gt;Submitted By&lt;/td&gt;&lt;td&gt;Location&lt;/td&gt;&lt;td&gt;Reviewed By&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=\\\"2\\\"&gt;Type&lt;/td&gt;&lt;td colspan=\\\"3\\\"&gt;Description / Observation&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=\\\"3\\\"&gt;Action / Reinforcement&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\";\n  for ($i=0;$i&lt;$num_rows2;$i++) {\n$row = $result2-&gt;fetch_assoc();\n$query3 = \"select location from locations where locationId='{$row['locationId']}'\";\n$result3 = $db-&gt;query($query3);\n$location = $result3-&gt;fetch_assoc();\n$query3 = \"select name from employees where employeeId='{$row['employeeId']}'\";\n$result3 = $db-&gt;query($query3);\n$name = $result3-&gt;fetch_assoc();\n$newAppend .= \"&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;{$row['submitDate']}&lt;/td&gt;&lt;td&gt;{$name['name']}&lt;/td&gt;&lt;td&gt;{$location['location']}&lt;/td&gt;&lt;td&gt;&lt;form name=\\\"hazardidreview\\\" action=\\\"\\\" method=\\\"\\\"&gt;&lt;input type=\\\"hidden\\\" name=\\\"docId\\\" value=\\\"{$row['hazardidId']}\\\"&gt;&lt;input type=\\\"hidden\\\" name=\\\"type\\\" value=\\\"hazardid\\\"&gt;&lt;select name=\\\"reviewed\\\"&gt;&lt;option&gt;Choose name to sign off&lt;/option&gt;&lt;/select&gt;&lt;/form&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td rowspan=\\\"2\\\"&gt;Hazard ID&lt;/td&gt;&lt;td colspan=\\\"3\\\"&gt;{$row['description']}&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=\\\"3\\\"&gt;{$row['action']}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\";\n   }\n$newAppend .= \"&lt;/table&gt;&lt;/div&gt;\";\necho \"newAppend='{$newAppend}';\";\n$result-&gt;free();\n$result2-&gt;free();\n$result3-&gt;free();\n$db-&gt;close();\n?&gt;\n// put HTML of $newAppend php in the DIV\n$('#CloseItems').append(newAppend);\n// fill the select box with a variable set somewhere else in the code not displayed here\n$('#CloseItems select[name=reviewed]').append(newAppendE);\nstripePointsTable('.closenearmisstable tbody');\nstripePointsTable('.closehazardidtable tbody');\n// close list click options\n$('#closeList &gt; a').each(function() {\n$(this).click(function() {\n    if ($(this).parent().next().css('display')=='none') {\n        $(this).parent().next().slideDown('slow');\n    } else {\n        $(this).parent().next().slideUp('fast');\n    }\n\n\n});\n});\n// select tag change function that calls ajax and displays a message in a DIV called header\n$('#closenearmiss select').change(function() {\n    function processDataClose(data, success) {\n        if (success) {\n            $('#header').prepend(data+\"&lt;br /&gt;\");\n            closeItemsBtn();\n        } else {\n            $('#header').prepend(data+\"&lt;br /&gt;\");\n        }\n    }\n    var formData = $(this).parent().serialize();\n    $.post('processreviewsign.php',formData,processDataClose);\n});\n</code></pre>\n"},{"tags":["php","javascript","jquery","ajax","referenceerror"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12998542,"title":"Javascript Error in Ubuntu Uncaught ReferenceError: $ is not defined","body":"<p>I am working with jquery, javascript, php in Ubuntu Platform.  In the page i am sending an ajax request through jquery to php file and getting response text.  This program was running successfully in windows-(wamp) platform and online.\nBut in Ubuntu i am getting javascript error.  The code follows...</p>\n\n<pre><code>    url = \"index.php\";\n\n    $.get(url,{\n            'action': 'Loan',\n        },\n        function(responseText){     \n            alert(responseText);\n        },\n        \"html\"\n    );\n</code></pre>\n\n<p>In Ubuntu i am getting this error,\n<strong>\"Uncaught ReferenceError: $ is not defined\"</strong>.  This error was showing at $.get line.  In the script tag i included jquery library file too.  I dont know why this is error is coming.  Please solve my issue.  Thanks in Advance.</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","jquery-selectors"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12998491,"title":"getting the response as \"servlet temporarily moved \" when trying to send serializable data on ajax call to a servlet","body":"<p>I have the following piece of code to send serializable data on ajax call to servlet</p>\n\n<pre><code>$.ajax({ \n    type: \"post\",\n    url: registersubmit.RegisterServlet.json,\n    dataType: \"json\",   \n    data:$('#registrationForm').serialize(),          \n    success: function(msg) {  \n               //   alert(msg.data);\n               alert('success'+msg.message2);     \n    },\n    error: function (xhr, ajaxOptions, thrownError){\n             alert('HAI');\n             alert('BYE');\n    }  \n}); \n</code></pre>\n\n<p>I have a form with the id registrationForm, and while I try to send the serializable data using the statement  data:$('#registrationForm').serialize(), Im getting the response \"servlet temporarily moved with status code 302\".</p>\n\n<p>Note:If I remove the statement data:$('#registrationForm').serialize(), then Im getting the normal ajax response with status code 200.</p>\n\n<p>May I know how we can send the serializable data on ajax call.</p>\n\n<p>Thanks,\nBalaji.</p>\n"},{"tags":["javascript","jquery","ajax","json","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12998452,"title":"Jquery ajax call to google map api gives syntaxError: invalid label","body":"<p>I'm performing a ajax call with jsonp to the google map api v3, but it always goes into the error function, and in the firefox console log I get the error</p>\n\n<p>SyntaxError: invalid label\n\"results\" : [</p>\n\n<p>By clicking it I can see that I get all the right information in the browser, but for some reasons I receive this syntax Error message.</p>\n\n<p>Ajax call:</p>\n\n<pre><code>    $.ajax({\n        url: \"https://maps.googleapis.com/maps/api/geocode/json\",\n        data: { latlng: latitude +\",\"+longitude, sensor: \"true\" },\n        dataType: \"jsonp\",\n        success: function (json) {\n            alert(json.d);\n        },\n        error: function () {\n            alert(\"Hit error fn!\");\n        }\n    });\n</code></pre>\n\n<p>Any clue?</p>\n"},{"tags":["javascript","css","ajax","asynchronous"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12998266,"title":"Flicker/slow css when loading contentn and css async","body":"<p>so I am loading a new page and a css file for this page via ajax. </p>\n\n<p>After all the css files are added to the page, I set the opacity of the page to 1, but it shows up without the css applied and after a second or so the css is applied. This looks horrible, how can I avoid it?</p>\n\n<p>I did not find a clean way to detect when css fully loaded. </p>\n\n<p>Any idea why it shows up like this? I think the css might not be fully downloaded yet, but as I said, I do not know how to avoid that. </p>\n"},{"tags":["jquery","ajax","cfc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12997756,"title":"load 10 records per click cfc,ajax,jquery","body":"<p>I have a test code that works, at least partially, returning data from cfc using ajax call on click</p>\n\n<p>here is the code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; \n    $(document).ready(function(){\n            $('#showteams').click(function() {\n                $.ajax({\n        url: \"test.cfc?method=getAllTeams&amp;returnformat=JSON\",\n        dataType: 'json',\n        data: { startrow: \"10\", endrow: \"10\" },\n\n        success:function(data) {\n            $.each(data, function(i,team){\n\n            $('#teamList').append('&lt;li&gt;&lt;a href=\"#\"&gt;' + team[0] + '&lt;/a&gt; this is the username ' + team[1] + ' ----- name --- ' + team[2] + '');\n                    });\n\n                }});\n            });\n            $('#teams').show();\n            $('#teamList').fadeIn(1200);\n            $(this).attr('disabled', 'disabled');\n        });\n&lt;/script&gt;\n</code></pre>\n\n<p>and a simple cfc (the final one will be much more complex but also flexible enough to be changed when needed)</p>\n\n<pre><code>&lt;cfcomponent output=\"false\"&gt;\n     &lt;cffunction name=\"getAllTeams\" access=\"remote\" output=\"false\" returntype=\"any\"&gt;\n     &lt;cfargument name=\"startrow\" required=\"yes\" type=\"any\"&gt;\n     &lt;cfargument name=\"endrow\" required=\"yes\" type=\"any\"&gt;\n     &lt;cfargument name=\"cat\" required=\"no\" type=\"any\" hint=\"add later with the rest of the code\"&gt;\n\n        &lt;cfquery name=\"qGetAllTeams\" datasource=\"datasource\"&gt;\n            SELECT ID,NAME,LASTNAME\n            FROM table\n        &lt;/cfquery&gt;\n\n        &lt;cfset one=arraynew(1)&gt; \n        &lt;cfset two=arraynew(1)&gt; \n        &lt;cfloop query=\"qGetAllTeams\" startrow=\"#arguments.startrow#\" endrow=\"#arguments.endrow#\"&gt; \n            &lt;cfset one[1]=ID&gt; \n            &lt;cfset one[2]=NAME&gt; \n            &lt;cfset one[3]=LASTNAME&gt; \n            &lt;cfset ArrayAppend(two,#one#)&gt;\n        &lt;/cfloop&gt; \n\n        &lt;cfreturn two /&gt;\n\n     &lt;/cffunction&gt;\n&lt;/cfcomponent&gt;\n</code></pre>\n\n<p>the code above works but displays only the first 10 records because values are set manually within -  data: { startrow: \"10\", endrow: \"10\" }, in javascript</p>\n\n<p>while I can easily build this or any sort of paging using only server side code the entire javascript is confusing me here and have no idea how to sort it out. What ever I try in cfc, to mathematically calculate startrow and endrow to be used in cfloop (curently i just put startrow=\"#arguments.startrow#\" endrow=\"#argumentsendrow#\" though this should be changed obviously :) ) it return only the first 10 records because startrow is set to 10 in javascript. I am definitely missing some basic logic here and would really appreciate your help on this one.</p>\n"},{"tags":["php","ajax","apc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":8115627,"title":"APC not changing its value in an AJAX context","body":"<p>I'm encoutering a strange problem with APC and PHP. This is what I'm doing, and what is happening:</p>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>apc_store(\"test\",\"test\");\n</code></pre>\n\n<p>Files below are called with ajax, first <code>ajax_1</code> then <code>ajax_2</code>.</p>\n\n<p><strong>ajax_1.php</strong></p>\n\n<pre><code>apc_delete(\"test\");\napc_store(\"test\",\"test2\");\n</code></pre>\n\n<p><strong>ajax_2.php</strong></p>\n\n<pre><code>apc_fetch(\"test\"); \n</code></pre>\n\n<p>Result is:</p>\n\n<blockquote>\n  <p>test</p>\n</blockquote>\n\n<p>What's wrong?!</p>\n\n<p>I also previously experienced troubles with APC user cache (it was emptying itself alone, I had no apc_delete in my code and no TTL defined)</p>\n\n<p>PHP 5.3.6 with MAMP package (APC included)</p>\n\n<hr>\n\n<p>I guess it's important to specify that I'm using PHP-FPM.. Does each FPM process has its own APC shared memory? It could explain a lot of stuff... Thanks by advance.</p>\n"},{"tags":["jquery","ajax","dom","forms","jquery-ajax"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":539,"score":0,"question_id":5095241,"title":"Form fields added via AJAX fail to load into the $_POST array","body":"<p>I've got a plain and simple HTML form which allows people to order some brochures. The form first loads with something looking a little like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  var tableRowN = 1;\n&lt;/script&gt; \n\n&lt;form id=\"Order\" name=\"Order\" method=\"post\" action=\"includes/orderCheck.php\"&gt;\n    &lt;input id=\"name\" type=\"text\" name=\"name\" width=\"100\" /&gt;\n    &lt;table id=\"orderingTable\"&gt;\n      &lt;tr class=\"lastRow\"&gt;\n        &lt;td&gt;&lt;div id=\"itemGroupdiv1\"&gt;\n            &lt;input type=\"text\" class=\"disabled\" name=\"itemGroup1\" id=\"itemGroup1\" /&gt;\n          &lt;/div&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;div id=\"itemCodediv1\"&gt;\n            &lt;input type=\"text\" name=\"itemCode1\" id=\"itemCode1\" class=\"disabled\" /&gt;\n          &lt;/div&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;div id=\"itemCodeVersiondiv1\"&gt;\n            &lt;input type=\"text\" class=\"disabledSmall\" id=\"itemcodeversion1\" name=\"itemcodeversion1\" /&gt;\n          &lt;/div&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;input type=\"submit\" name=\"submit\" id=\"submit\"/&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>Then when the user wants to add a new line to the table he can click a button which fires the following javascript function to grab the new table code via AJAX and insert it.</p>\n\n<pre><code>function createItemLine() {\ntableRowN++;    \n$('tr.lastRow').attr('class', '');\n    $('#orderingTable').append('&lt;tr class=\"lastRow\"&gt;&lt;/tr&gt;');\n    $.ajax({\n      url: \"/orderingTable.php?rNumber=\" + tableRowN,\n      cache: false,\n      success: function(html){\n        $(\"tr.lastRow\").append(html);\n        alert('loaded');\n      }\n    }); \n}\n</code></pre>\n\n<p>The AJAX function then runs off to a PHP script which creates the next line, rolling the IDs and Names etc with +1 to the number.</p>\n\n<pre><code>&lt;td&gt;&lt;div id=\"itemGroupdiv2\"&gt;\n&lt;input type=\"text\" class=\"disabled\" name=\"itemGroup2\" id=\"itemGroup2\" /&gt;\n&lt;/div&gt;&lt;/td&gt;\n&lt;td&gt;&lt;div id=\"itemCodediv2\"&gt;\n&lt;input type=\"text\" name=\"itemCode2\" id=\"itemCode2\" class=\"disabled\" /&gt;\n&lt;/div&gt;&lt;/td&gt;\n&lt;td&gt;&lt;div id=\"itemCodeVersiondiv2\"&gt;\n&lt;input type=\"text\" class=\"disabledSmall\" id=\"itemcodeversion2\" name=\"itemcodeversion2\" /&gt;\n&lt;/div&gt;&lt;/td&gt;\n</code></pre>\n\n<p>So so far, nothing suprising? Should all be pretty straight forward...</p>\n\n<p>The problem is that when I add new lines (In Firefox and Chrome) the new lines are completely ignored by the form submission process, and they never get passed through into the $_POST array.</p>\n\n<p>Is this a known problem? I've not come across this before...</p>\n\n<p>Thanks for any pointers, \nH</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":49,"score":-1,"question_id":12997606,"title":"about another way to send ajax","body":"<p>This is my code.</p>\n\n<pre><code> function ajax() {\n   var ajaxRequest;\n   try {\n     ajaxRequest = new XMLHttpRequest();\n   }\n   catch (e) {\n     try {\n       ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n     }\n     catch (e) {\n       try {\n         ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n       }\n       catch (e) {\n         alert(\"Your browser broke!\");\n         return false;\n       }\n     }\n   }\n\n   return ajaxRequest;\n }\n\n var ajax = ajax();\n ajax.Message = function (method, l) {\n   ajax.open(method, url, false);\n   ajax.send();\n   ajax.onreadystatechange = function () {\n     if (ajax.readyState == 4 &amp;&amp; ajax.status == 200) {}\n   }\n }\n</code></pre>\n\n<p>Every time I want to send a request, I need to use this function, but when I look the code in Youtube, or Twitter, I see that they don't work like this.</p>\n\n<p>Is there a short way to send AJAX? I mean only using JavaScript, without using jQuery.</p>\n"},{"tags":["javascript","jquery","css","ajax","div"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1069,"score":0,"question_id":9153975,"title":"JQuery chat application scroll to bottom of div ONLY on new message?","body":"<p>I have picked up this AJAX code from multiple tutorials, but the problem is, when the ajax is called, the div ALWAYS scrolls to the bottom. But I want it so that the div ONLY scrolls if there are new messages in the div.</p>\n\n<pre><code>$.ajax({\n  url: \"msg-handle/get-messages.php\",\n  cache: false,\n  data: { room: $(\"#room\").val() },\n  success: function(data) { $('#chat').html(data)\n\n$(\"#chat\").scrollTop($(\"#chat\")[0].scrollHeight);\n\n  },\n});\n\n}, 500);\n</code></pre>\n\n<p>Is there a way to achieve this <strong>without</strong> any major ramifications to my code?</p>\n"},{"tags":["php","jquery","ajax","charts","jqplot"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":84,"score":1,"question_id":12997599,"title":"Get JSON from AJAX to use in jqplot","body":"<p>I've been trying to populate an array which is to be used in the jquery jqplot plugin/extension.</p>\n\n<p>From what I can tell my two different JSON objects/arrays are identical in the structure, but only the \"static\" one is working as expected.\nI've seen similar questions on stackoverflow but none of which have been been working for me.</p>\n\n<p>I've checked to see if there are any whitespaces returned in the source of the get_chart_votes but there's nothing that I can find.\nUsing the latest CodeIgniter framwork, jQuery and jqplot.</p>\n\n<p>When using the static $arr I can alert the results to get [Object object] but when trying to do the same with the $charArray I get nothing.</p>\n\n<p>When the static $arr is returned, it prints this json</p>\n\n<pre><code>{\"test\":1,\"test2\":2,\"test3\":3}\n</code></pre>\n\n<p>With mysql results in $chartArray is returned, it prints this json</p>\n\n<pre><code>{\"Yes\":1,\"No\":2,\"Maybe\":6}\n</code></pre>\n\n<p>My PHP code (with the $chartArray echo commented out)</p>\n\n<pre><code>function get_chart_votes()\n{\n\n    $arr = array('test' =&gt; 1, 'test2' =&gt; 2, 'test3' =&gt; 3);\n    die(json_encode($arr));\n\n    $chartArray = array();\n    $post = $this-&gt;input-&gt;post();\n    $id = $post['id'];\n\n    $answers  = $this-&gt;get_answers($id)-&gt;result_array();\n    $votes = $this-&gt;get_votes($id)-&gt;result_array();\n\n    $count = 0;\n    $answer = 1;\n    foreach($answers[0] as $ans)\n    {\n        if($count &gt; 1 &amp;&amp; $ans != \"\")\n        {\n            $vote = $votes[$answer-1]['COUNT(vote)'];\n            $chartArray[$ans] = intval($vote);\n            $answer++;\n        }\n        $count++;\n    }\n    //echo(json_encode($chartArray));\n}\n</code></pre>\n\n<p>On the client side I've got this.</p>\n\n<pre><code>var s1 = [];\nvar ticks = [];\n$.getJSON(\n\"../votr/get_chart_votes\",\n{ id: \"57\"},\nfunction(jsonData) \n{\n    for (var key in jsonData) \n    {\n      if (jsonData.hasOwnProperty(key)) \n      {\n        s1.push(jsonData[key]);\n        ticks.push(key);\n      }\n    }\n\n    $.jqplot.config.enablePlugins = true;\n\n    plot1 = $.jqplot('chart1', [s1], {\n        // Only animate if we're not using excanvas (not in IE 7 or IE 8)..\n        animate: !$.jqplot.use_excanvas,\n        seriesDefaults:{\n            renderer:$.jqplot.BarRenderer,\n            pointLabels: { show: true }\n        },\n        axes: {\n            xaxis: {\n                renderer: $.jqplot.CategoryAxisRenderer,\n                ticks: ticks\n            }\n        },\n        highlighter: { show: true }\n    });\n\n\n    $('#chart1').bind('jqplotDataHighlight',\n        function (ev, seriesIndex, pointIndex, data) {\n            $('#info1').html(ticks[pointIndex] + \" got \" + s1[pointIndex]);\n        }\n    );\n\n}\n);\n</code></pre>\n"},{"tags":["ajax","http","https"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2653,"score":2,"question_id":841479,"title":"Can Ajax HTTP and HTTPS work side by side?","body":"<p>Assuming a single page application accessed initially via HTTP that uses AJAX for all server interaction, is it possible to use HTTP for regular data transfers and then switch to AJAXian HTTPS requests for secure data transfers?  </p>\n\n<p>If so, how would the browser handle the certificate and locking notification when a HTTPS AJAX request was made?</p>\n\n<p>If this is not possible, then are there any workarounds to mixing AJAX HTTP and AJAX HTTPS within the same page such as loading an iFrame for HTTPS?</p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","ruby-on-rails","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":11173695,"title":"rails ajax - refreshing two divs not working","body":"<p>I make an ajax call to edit a form by doing this:</p>\n\n<pre><code>$(\".edit_meeting_button\").live(\"click\", function(){\n  var mid = $(this).attr(\"id\");\n  $.ajax({type:'GET', url: '/meetings/' + mid + '/edit', success: function(data) {\n    $(\".right-box\").html(data);\n  }});\n  $(\".display_zone\").html(\"&lt;%= escape_javascript(render :partial =&gt; \"display_attendees\", :locals =&gt; {:all =&gt; @atendees}) %&gt;\");\n  return false;\n})\n</code></pre>\n\n<p>I get the desired action where the div \".right-box\" displays the form to edit but the next call to update the \".display_zone\" fails to update with a new set of @attendees which I processed in the controller when I called the edit form. So I want \".display_zone\" to show me the new attendees but it does not. I guess this would work but I wanted to ask if there was a more slick (and correct) way of achieving this.</p>\n\n<pre><code>$(\".edit_meeting_button\").live(\"click\", function(){\n  var mid = $(this).attr(\"id\");\n  $.ajax({type:'GET', url: '/meetings/' + mid + '/edit', success: function(data) {\n    $(\".right-box\").html(data);\n  }});\n\n  $.ajax({type:'GET', url: '/meetings/update_display' + mid, success: function(data) {\n    $(\".display_zone\").html(data);\n  }});\n\n  return false;\n})\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":12992893,"title":"JQuery function to Ajax created HTML?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/9344306/jquery-click-doesnt-work-on-ajax-generated-content\">jquery click doesnt work on ajax generated content</a>  </p>\n</blockquote>\n\n\n\n<p>The issue is that I need to perform a JQuery on click function to an <code>&lt;a&gt;</code> tag created from an Ajax get. I can't seem to find an answer that works for me.</p>\n\n<pre><code>$(\"#get_button\").click(function (e) {\n   $.ajax({\n     type: 'GET',\n     url: 'http://someurl.com/apikey=1234124124',\n     dataType: 'jsonp',\n     success: function (data) {\n       newRow = \"&lt;a id='some_id'&gt;test&lt;/a&gt;\";\n       $(\"#table_id\").append(newRow);\n     }\n  });\n});\n$('#some_id').click(function (event) {\n    event.preventDefault();\n    alert('this will pop up if it worked');\n});\n</code></pre>\n\n<p>Edit for clarification: <strong>In my code there are multiple rows added with the id of some_id, I forgot to show that.</strong></p>\n"},{"tags":["python","ajax","django"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12996336,"title":"request.is_ajax return false in template","body":"<p>I'm trying to make conditionnal extends in a template : </p>\n\n<pre><code>{% extends request.is_ajax|yesno:\"base_ajax.html,base.html\" %}\n</code></pre>\n\n<p>In my view : </p>\n\n<pre><code>def new(request):\n    snippet_form = SnippetForm()\n    return render_to_response('new.html', {\n        'snippet_form': snippet_form,\n    }, context_instance=RequestContext(request))\n</code></pre>\n\n<p>But request.is_ajax always return false !</p>\n\n<p>If I call request.is_ajax in my view, it contains the good value.</p>\n\n<pre><code>def new(request):\n    snippet_form = SnippetForm()\n    ajax = request.is_ajax()\n    return render_to_response('new.html', {\n        'snippet_form': snippet_form,\n        'ajax': ajax\n    }, context_instance=RequestContext(request))\n</code></pre>\n\n<p>And in my template : </p>\n\n<pre><code>{% extends ajax|yesno:\"base_ajax.html,base.html\" %}\n</code></pre>\n\n<p>That's works but I'd prefer use the first solution !</p>\n\n<p>Any ideas ?</p>\n\n<p>(I'm using the jquery load function)</p>\n"},{"tags":["jquery","ruby-on-rails","ajax","ruby-on-rails-3","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12539492,"title":"Redirecting to another page via a json call","body":"<p>I'm using the <a href=\"https://github.com/blueimp/jQuery-File-Upload/wiki\" rel=\"nofollow\">jquery file upload</a> utility in my app.  If I have some code like the following normally in rails...</p>\n\n<pre><code>if @course_module.save\n  flash[:success] = \"Class created!\"\n  redirect_to course_course_modules_path(@course)\nelse\n  render 'new'\nend\n</code></pre>\n\n<p>It will display error messages if there are errors in my form, or redirect to another page if it saved successfully.  But this is not so when the page is submitted through the jquery\nplugin.  The reason is it requires a json object to be returned....something like</p>\n\n<pre><code>         format.json {  \n          render ':json =&gt; [@course_module.to_jq_upload].to_json ' \n        }\n</code></pre>\n\n<p>How would I instead of returning json, do the first code snippet instead?  Either by redirecting if the save is successful, or display error messages if it is not?  I've tried something like the following...</p>\n\n<pre><code>render 'new'\n</code></pre>\n\n<p>But that didn't work.</p>\n"},{"tags":["php","ajax","itunes","daap"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":12996390,"title":"Crossfire DAAP Client cannot connect to Firefly","body":"<p>Hello Stackoverflow community,  I'm here to ask for a little help.. something I can't seem to work out.</p>\n\n<p><strong>Problem</strong>: I'm trying to set up a Crossfire Client (A webclient for Firefly (media server)), however when uploaded onto my hosting server, the client can't seem to connect to the  Firefly server.\nI've attempted setting up the Crossfire Client on my MAMP(Local server), which connects fine...</p>\n\n<p><strong>Error Message</strong>:</p>\n\n<pre><code>Failed to load resource: the server responded with a status of 504 (Gateway Timeout)\n</code></pre>\n\n<p>So based on my very limited knowledge, it seems to be a php settings issue (Its the only thing that is possible to be most different) - but I'm not sure what to ask my hosting support, if I'm not 100% sure what the exact problem is.</p>\n\n<p>If anyone could help me out, that would be really appreciated.</p>\n\n<p>More information on <a href=\"http://sourceforge.net/projects/ffmcrossfire/\" rel=\"nofollow\">Crossfire Client</a></p>\n"},{"tags":["javascript","jquery","ajax","json","html5"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":12995560,"title":"How to locally fetch JSON without AJAX","body":"<p>I'm building a game using HTML5 Canvas and Javascript and I'm using JSON formatted tile maps for my levels. The tiles render correctly in FireFox, but when I use Chrome, the JSON fetching fails with a \"Origin null is not allowed by Access-Control-Allow-Origin.\" I was using jQuery's $.ajax command and all my files are in one directory.</p>\n\n<p>I would use <a href=\"http://stackoverflow.com/questions/8456538/origin-null-is-not-allowed-by-access-control-allow-origin\">this</a> post's solution, but I can't use the web server solution.</p>\n\n<p>Is there any other way to fetch JSON files to be parsed and read from? Something akin to loading an image just by giving the URL? Or is there some way to quickly convert my JSON files into globally available strings so I can parse it with JSON.parse()?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12995761,"title":"How to set the duration of a \"loading spinner\", based on the loaded content","body":"<p>I've made a loading \"animation.gif\" for my dynamic website. This is the code I used from jquery, to show and hide the spinner: </p>\n\n<pre><code>$(\"#loading\").bind(\"ajaxSend\", function(){\n   $(this).show();\n }).bind(\"ajaxComplete\", function(){\n   $(this).hide();\n });\n</code></pre>\n\n<p><a href=\"http://docs.jquery.com/Ajax_Events\" rel=\"nofollow\">http://docs.jquery.com/Ajax_Events</a></p>\n\n<hr>\n\n<p><strong>My Problem:</strong>\nThe website has different contents (like flash, images, text etc.). So some parts of the website take longer to load then others. But the duration of loading animation is always the same(its too fast). When I load a content with a flash(4mb) and html text, the spinner hides way too fast, and the content is still loading. The same with HQ images..</p>\n\n<p>I could use a min delay, like:</p>\n\n<pre><code>$(\"#this\").delay(600).fadeOut(\"slow\");\n</code></pre>\n\n<p>But I dont think this is a good solution at all.\n<strong><em>How is it possible not to hide the loading-spinner, until the whole content is loaded?</em></strong> </p>\n"},{"tags":["c#","ajax","sharepoint"],"answer_count":7,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":13210,"score":2,"question_id":1554728,"title":"The message received from the server could not be parsed. Common causes for this error are when the response is modified by calls to Response.Write(), response filters, HttpModules, or server trace is enabled","body":"<p>We have a Sharepoint solution that uses AJAX. The button that triggers this is inside an update panel.</p>\n\n<p>One of the things that we do is generate a MS Word document, that is then opened on the client so that it can be printed.</p>\n\n<p>The code that sends the document to the client looks like this:</p>\n\n<pre><code>    void OpenFileInWord(byte[] data)\n    {\n        Response.Clear();\n        Response.AddHeader(\"Content-Type\", \"application/msword\");\n        Response.BinaryWrite(data);\n        Response.Flush();\n        Response.End();\n    }\n</code></pre>\n\n<p>The error that we are getting is:</p>\n\n<p>Message: Sys.WebForms.PageRequestManagerParserErrorException: The message received from the server could not be parsed. Common causes for this error are when the response is modified by calls to Response.Write(), response filters, HttpModules, or server trace is enabled.\nDetails: Error parsing near '\n\n<p>We could save the document in Sharepoint first, and then open it from Sharepoint, but we would prefer not to do this.</p>\n"},{"tags":["ajax","codeigniter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12995536,"title":"Codeigniter+AJAX+JQUERY validation required","body":"<p>I am trying to implement ajax,jquery with codeigniter form validation, but i am stuck in ajax and jquery. I have tried all possibilities but no solution, i have also tried below url:\n<a href=\"http://stackoverflow.com/questions/10243501/get-validation-errors-through-jquery-ajax-and-codeigniter\">get validation errors through jquery ajax and codeigniter</a></p>\n\n<p>This is working if i use same code but when i implement on my code its not working\ncan any one give me simple example so same i can use for my script.</p>\n\n<p>when i submit form i get following string:</p>\n\n<pre><code>{\"name\":\"The Name field is required.&lt;\\/p&gt;\",\"password\":\"The Your Password field is required.&lt;\\/p&gt;\"}\n</code></pre>\n"},{"tags":["ajax","asp-classic","jscript"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12977078,"title":"renumbering ordered session variables when deleting one","body":"<p>I'm updating a classic ASP application, written in jScript, for a local pita restaurant. I've created a new mobile-specific version of their desktop site, which allows ordering for delivery and lots of customization of the final pita (imagine a website for Subway, which would allow you to add pickles, lettuce, etc.). Each pita is stored as a string of numbers in a session variable. The total number of pitas is also stored. The session might look like this:</p>\n\n<pre><code>PitaCount = 3  \nMyPita1 = \"35,23,16,231,12\"  \nMyPita2 = \"24,23,111,52,12,23,93\"  \nMyPita3 = \"115,24\"  \n</code></pre>\n\n<p>I know there may be better ways to store the data, but for now, since the whole thing is written, working , and live (and the client is happy), I'd like to just solve the problem I have. Here's the problem...</p>\n\n<p>I've got buttons on the order recap page which allow the customer to delete pitas from the cart. When I do this, I want to renumber the session variables. If the customer deletes MyPita1, I need to renumber MyPita2 to MyPita1, renumber MyPita3 to MyPita2, and then decrement the PitaCount.</p>\n\n<p>The AJAX button sends an integer to an ASP file with the number of the pita to be deleted (DeleteID). My function looks at PitaCount and DeleteID. If they're both 1, it just abandons the session. If they're both the same, but greater than one, we're deleting the most recently added pita, so no renumbering is needed. However, if PitaCount is greater then DeleteID, we need to renumber the pitas. Here's the code I'm using to do that:</p>\n\n<pre><code>for (y=DeleteID;y&lt;PitaCount;y++) {\n    Session(\"MyPita\" + y) = String(Session.Contents(\"MyPita\" + (y+1)));\n};\nSession.Contents.Remove(\"MyPita\" + PitaCount);\nPitaCount--;\nSession.Contents(\"PitaCount\") = PitaCount;\n</code></pre>\n\n<p>This works for every pita EXCEPT the one which replaces the deleted one, which returns 'undefined'. For example, if I have 6 pitas in my cart, and I delete MyPita2, I end up with 5 pitas in the cart. Number 1, 3, 4, and 5 are exactly what you'd expect, but MyPita2 returns undefined.</p>\n\n<p>I also tried a WHILE loop instead:</p>\n\n<pre><code>while (DeleteID &lt; PitaCount) {\n    Session(\"MyPita\" + DeleteID) = String(Session.Contents(\"MyPita\" + (DeleteID+1)));\n    DeleteID++;\n};\nSession.Contents.Remove(\"MyPita\" + PitaCount);\nPitaCount--;\nSession.Contents(\"PitaCount\") = PitaCount;\n</code></pre>\n\n<p>This also returns 'undefined', just like the one above.</p>\n\n<p>Until I can get this working I'm simply writing the most recent pita into the spot vacated by the deleted pita, but this reorders the cart, and I consider that a usability problem because people expect the items they added to the cart to remain in the same order. (Yes, I could add some kind of timestamp to the sessions and order using that, but it would be quicker to fix the problem I'm having, I think).</p>\n\n<p><b>I'm baffled. Why (using the 6 pita example above) would it work perfectly on the second, third, and fourth iteration through the loop, but not on the first?</b></p>\n"},{"tags":["javascript","jquery","ajax","json","jsonp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":72,"score":-2,"question_id":12995611,"title":"JSON data not getting displayed","body":"<p>I have the following script, where I am getting the json data from a  different domain. I am doing this via JSONP, due to cross domain issues. can someone tell me where I am wrong here. I think, I am not able to loop through the JSON properly:</p>\n\n<pre><code>function getmyJSONdata(json) {\n    $.each(result, function(i, field){\n  $(\"div\").append(field + \" \");\n\n      });\n\n}\n\n\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://50.116.19.49/rest/user.json?callback=getmyJSONdata\" async=\"true\"&gt;&lt;/script&gt; \n</code></pre>\n"},{"tags":["javascript","ajax","table","drupal","pagination"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":12995377,"title":"Giving simple js pagination to a Ajax generated table","body":"<p>I have a ajax call in drupal which generates and brings back a entire table right under where i click. The tables are large, so i want them paginated. I dont have time for server side pagination and i also need to apply it in a lot of places.</p>\n\n<p>I found this <a href=\"http://code.google.com/p/one-simple-table-paging/\" rel=\"nofollow\">http://code.google.com/p/one-simple-table-paging/</a> a very easy to use one and should solve my purpose.</p>\n\n<p>I managed to use it in static html pages </p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script src=\"oneSimpleTablePaging-1.0.js\"&gt;&lt;/script&gt;\n\n&lt;table class=\"tableToPaginate\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Id&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;\n    &lt;/tr&gt;\n        &lt;?php for ($i = 0; $i &lt; 100; $i++) { ?&gt;                            \n        &lt;tr&gt;\n            &lt;td&gt;&lt;?php echo $i ?&gt;&lt;/td&gt;&lt;td&gt;&lt;?php echo \"name\" . $i ?&gt;&lt;/td&gt;\n        &lt;/tr&gt;                        \n        &lt;?php } ?&gt;\n&lt;/table&gt;\n\n&lt;script&gt;\n   $(document).ready(function(){\n       $('.tableToPaginate').oneSimpleTablePagination({rowsPerPage: 20});\n   });        \n&lt;/script&gt;\n</code></pre>\n\n<p>but when i use the same technique for my ajax generated tables giving them the same class and calling the script in page.tpl,php i dont see the pagination</p>\n\n<pre><code>echo '&lt;table id=\"ajaxcustomerdata\" class=\"account_info tableToPaginate\"&gt;';\n.....\n</code></pre>\n\n<p>I am a newbie with ajax and js please help me out.</p>\n"},{"tags":["ruby-on-rails","ruby","ajax","linux"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":441,"score":4,"question_id":3921150,"title":"how to embed a linux bash terminal inside ruby on rails web page?","body":"<p>how to embed a bash prompt/terminal inside ruby on rails web page?</p>\n\n<p>how to execute a linux command from the web page, and get the output of the ommand?</p>\n"},{"tags":["javascript","jquery","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":257,"score":1,"question_id":12995117,"title":"Javascript custom alert box with image ok button","body":"<p>I need to create custom alert box with next icon image. I did with text  link, but I don't know how to put next icon instead of text link. I Have added my custom alert box function here. can anyone pl help to do this. this image name new-go-next.png  in the root directory.</p>\n\n<pre><code>function createCustomAlert(txt,string_url) {\n    // shortcut reference to the document object\n    d = document;\n\n    // if the modalContainer object already exists in the DOM, bail out.\n    if(d.getElementById(\"modalContainer\")) return;\n\n    // create the modalContainer div as a child of the BODY element\n    mObj = d.getElementsByTagName(\"body\")[0].appendChild(d.createElement(\"div\"));\n    mObj.id = \"modalContainer\";\n     // make sure its as tall as it needs to be to overlay all the content on the page\n    mObj.style.height = document.documentElement.scrollHeight + \"px\";\n\n    // create the DIV that will be the alert \n    alertObj = mObj.appendChild(d.createElement(\"div\"));\n    alertObj.id = \"alertBox\";\n    // MSIE doesnt treat position:fixed correctly, so this compensates for positioning the alert\n    if(d.all &amp;&amp; !window.opera) alertObj.style.top = document.documentElement.scrollTop + \"px\";\n    // center the alert box\n    alertObj.style.left = (d.documentElement.scrollWidth - alertObj.offsetWidth)/2 + \"px\";\n\n    // create an H1 element as the title bar\n    h1 = alertObj.appendChild(d.createElement(\"h1\"));\n    h1.appendChild(d.createTextNode(ALERT_TITLE));\n\n    // create a paragraph element to contain the txt argument\n    msg = alertObj.appendChild(d.createElement(\"p\"));\n    msg.innerHTML = txt;\n\n    // create an anchor element to use as the confirmation button.\n    btn = alertObj.appendChild(d.createElement(\"a\"));\n    btn.id = \"closeBtn\";\n    btn.appendChild(d.createTextNode(ALERT_BUTTON_TEXT));\n    btn.href=\"\";\n    // set up the onclick event to remove the alert when the anchor is clicked\n    btn.onclick = function() { removeCustomAlert(); window.location=string_url;return false; }\n\n\n}\n</code></pre>\n"},{"tags":["php","javascript","ajax","script","innerhtml"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":441,"score":0,"question_id":7815008,"title":"Loading a file into innerHTML of a div, but javascript in the file not working","body":"<p>I am loading a .php file into a div I created.\nI can successfully load the file into the div and everything works except javascript.\nWhen i test the file in my browser, the javascript works, but not when it's injected into my div.</p>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>&lt;?php\n$filename = $_GET[\"filename\"];  \nif($filename != \"\"){        \n    $fileData = file_get_contents($filename);\n    $fileData = trim($fileData);\n    $fileData = str_replace(\"\\n\", \"\", $fileData);\n    $fileData = str_replace(\"\\r\", \"\", $fileData);\n    echo $fileData;\n    die;\n}?&gt;\n\n&lt;body&gt;\n&lt;script&gt;\nfunction LoadFile(filename, javascriptDiv){\n    if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari\n        xmlhttp=new XMLHttpRequest();\n    }\n    else{// code for IE6, IE5\n            xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlhttp.onreadystatechange=function(){\n        if(xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n            javascriptDiv.innerHTML = xmlhttp.responseText;\n        }\n    }\n\n    xmlhttp.open(\"GET\",\"index.php?filename=\"+filename,true);\n    xmlhttp.send();\n}\n\nvar javascriptDiv = document.createElement('div');\njavascriptDiv.setAttribute('id', 'javascriptDiv');\njavascriptDiv.style.position = 'absolute';  \njavascriptDiv.style.top = 50;\njavascriptDiv.style.left = 50;\njavascriptDiv.style.height = 200;\njavascriptDiv.style.width = 300;\njavascriptDiv.style.background = '#CCCCCC'; //so we can see that the DIV was created\n\nLoadFile('http://127.0.0.1/Debug/test.php', javascriptDiv);\n\ndocument.body.appendChild(javascriptDiv); //Display the Window\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><strong>test.php</strong>  &lt;--the file i'm loading into the div</p>\n\n<pre><code>Plain text works\n&lt;?php echo \"&lt;br&gt;php works &lt;br&gt;\"; ?&gt;\n&lt;a&gt;html works&lt;/a&gt;&lt;br&gt;\n\n&lt;script&gt;\nfunction Test(){\n    alert('javascript works');\n}\n&lt;/script&gt;\n\n&lt;input type=\"button\" value=\"Test Javascript\" onclick=\"Test()\"/&gt;\n</code></pre>\n\n<p><strong>Here's what it looks like on my site.</strong>\n<a href=\"http://aquawicket.com/Debug/\" rel=\"nofollow\">index.php</a></p>\n\n<p><strong>And here is a direct link to the test.php file</strong>\n<a href=\"http://aquawicket.com/Debug/test.php\" rel=\"nofollow\">test.php</a></p>\n\n<p>I need to get this working without altering the test.php file.</p>\n"},{"tags":["php","html","ajax","jquery-ajax","passwords"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12994677,"title":"AJAX Password Change without Refresh","body":"<p>I'm trying to implement password change functionality into my website. I've got all the password changing script, validation, etc done. But now I need to prevent the page from going to the script page or refreshing. When the user clicks the submit button, I want nothing to change except a message displaying <code>successfully changed</code> or <code>error</code>. So here's my html:<br></p>\n\n<pre><code>&lt;form id=\"change_Pass\" action=\"\" method=\"post\"&gt;\n    Current Password&lt;input type=\"password\" id=\"change_password\" name=\"change_password\"&gt;&lt;br&gt;\n    New Password&lt;input type=\"password\" id=\"new_password\" name=\"new_password\"&gt;&lt;br&gt;\n    Verify Password&lt;input type=\"password\" id=\"verify_password\" name=\"verify_password\"&gt;&lt;br&gt;\n    &lt;input type=\"submit\" value=\"Submit\" id=\"change_pass_submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And my jquery:<br></p>\n\n<pre><code>$('#change_pass_submit').click(function(){\n    var $this = $(this);  \n    $.ajax({\n        data: $this.serialize(), // get the form data\n        type: \"POST\", // GET or POST\n        url: \"/Private/change_password.php\", // the file to call\n        success: function() { // on success..\n            //$('#success_div).html(response); // update the DIV\n            alert(\"good\");\n        },\n        error: function() { // on error..\n            //$('#error_div).html(e); // update the DIV\n            alert(\"bad\");\n        }\n    });\n    return false; //so it doesn't refresh when submitting the page\n});\n</code></pre>\n\n<p>And my php:<br></p>\n\n<pre><code>&lt;?php\nsession_start();\nrequire_once '../classes/Bcrypt.php';\nini_set('display_errors', 'On');\nerror_reporting(E_ALL | E_STRICT);\n$usr = $_SESSION[\"username\"];\n$old_pwd = $_POST[\"change_password\"];\n$new_pwd = $_POST[\"new_password\"];\n$new_pwd = Bcrypt::hash($new_pwd);\ntry {\n    $link = new PDO('mysql:host=*;dbname=*;charset=UTF-8','*','*');\n    $query = \"SELECT *\n            FROM Conference\n            WHERE Username = :un\";\n\n    $stmt = $link-&gt;prepare($query);\n\n    $stmt-&gt;bindParam(':un', $usr);\n    $stmt-&gt;execute();\n    $row = $stmt-&gt;fetchAll();\n\n    $hash = $row[0][\"Password\"];\n    $is_correct = Bcrypt::check($old_pwd, $hash);\n    if($is_correct) {\n        $query = \"UPDATE Conference\n                SET `Password`=:new_pwd \n                WHERE Username = :usr\";\n\n        $stmt = $link-&gt;prepare($query);\n        $stmt-&gt;bindParam(':new_pwd', $new_pwd);\n        $stmt-&gt;bindParam(':usr', $usr);\n        $stmt-&gt;execute();\n        return true;\n    } else return false;\n} catch(PDOException $e) {\n    print \"Error!: \" . $e-&gt;getMessage() . \"&lt;br/&gt;\";\n    die();\n}\n</code></pre>\n\n<p>But for some reason, when I hit the submit button, the page STILL goes to <code>change_password.php</code>. I have no idea why, i've looked at so many tutorials and my code matches theirs but for some reason mine won't stay on the same page. Where did I go wrong?</p>\n"},{"tags":["jquery","ajax","django","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12994563,"title":"Django csrf token not sent with ajax data","body":"<p>I'm trying to post some data through jQuery AJAX to a Django (1.4) view.  I've done this before, but something isn't right this time around.  I've done my AJAX set up to include the CSFR token as explained in the <a href=\"https://docs.djangoproject.com/en/1.4/ref/contrib/csrf/#ajax\" rel=\"nofollow\">Django Docs</a>.  </p>\n\n<p>jQuery along the lines of: </p>\n\n<pre><code>$.ajax({\n        url:'/login/',\n        type:'POST',\n        contentType:'application/json; charset=UTF-8;',\n        dataType:'json',\n        data: JSON.stringify({\n            username:$('#this').val(),\n            password:$('#that').val()\n        })\n</code></pre>\n\n<p>However, when I send the data, when I include the line in the view:</p>\n\n<pre><code> print request.raw_post_data\n</code></pre>\n\n<p>it will print twice.  The first time with the posted data as a QueryDict {u'this':u'these', u'that':u'those'}, and the second time with csrfmiddleware token.</p>\n\n<p>Why is printing two times?  Shouldn't they be in the same QueryDic?</p>\n"},{"tags":["javascript","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12994514,"title":"Change Color with id + event condition, and not work","body":"<p>file with code javascript script.js</p>\n\n<pre><code>function style(id){\n    document.getElementById(id).style.backgroundColor=\"orange\";\n}\n\nvar setlist = \"sets.txt\";\n\nfunction loadXMLDoc(open){\nvar xmlhttp;\n\nif (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari\n    xmlhttp=new XMLHttpRequest();\n}else{// code for IE6, IE5\n    xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\n\n\nxmlhttp.onreadystatechange=function(){\n    if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n        document.getElementById(\"p1\").innerHTML=xmlhttp.responseText;\n    }\n}\n\nxmlhttp.open(\"GET\",open,true);\nxmlhttp.send();\n\n}\n</code></pre>\n\n<p>code in page, with not work.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"script.js\"&gt;\n    if ((onclick=\"loadXMLDoc(setlist)\" == true)){\n        style(\"s\");\n    }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;...\n&lt;dl&gt;\n&lt;dt class=\"pro\"&gt;&lt;a onclick=\"loadXMLDoc(setlist)\" id=\"s\"&gt;Sets&lt;/a&gt;&lt;/dt&gt;\n&lt;/dl&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>is the idea simple, when the condition is real the id ='s' it marks the text 'sets' in orange color, but not like(as) making it work, it is well you sentence it?</p>\n"},{"tags":["php","jquery","ajax","session","session-variables"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12994617,"title":"PHP Session not Recognized During AJAX Request","body":"<p>I've created a navigation bar where an admin can add and remove links with a simple form. When the form is submitted to add a link, an AJAX call is made to add the new information into the mySQL database. As part of the callback function, the navigation bar is updated to include the new link using the following line of code:</p>\n\n<pre><code>$('.nav ul').load('/getnav.php');\n</code></pre>\n\n<p>The  file getnav.php is as follows:</p>\n\n<pre><code>&lt;?php\n  require('/connect.php');\n  $query = \"SELECT id, title, url\n            FROM nav\n            ORDER BY position ASC\";\n  $result = $mysqli-&gt;query($query);\n\n  while ($data = $result-&gt;fetch_assoc()) {\n        if (!empty($_SESSION['valid']))\n           echo '  &lt;div class=\"container\"&gt;&lt;button type=\"button\" name=\"'.$data['id'].'\" class=\"delButton\" alt=\"Delete\"&gt;&lt;/button&gt;&lt;/div&gt;\n';\n  echo '  &lt;a href=\"'.$data['url'].'\" alt=\"'.$data['title'].'\"&gt;'.$data['title'].'&lt;/a&gt;\n';\n}\n?&gt;\n</code></pre>\n\n<p>The issue is that when the nav bar is updated in the AJAX call, only the links are being shown, and the delete buttons disappear. <code>$_SESSION['valid']</code> is set, so the code right after the if SHOULD be executed. However, it's that if's code that is missing after the AJAX call is made. The only explanation I have for this is that when getnav.php is being loaded into <code>.nav ul</code>, the session isn't being accessed. Anyone know why that is?</p>\n"},{"tags":["ajax","json","struts2","dojo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":12973838,"title":"How to use Dojo Autocomplete with JSON's value to form a table","body":"<p>I want to create a feature where user can select something from a DOJO - Autocompleter \nand the value it selects, will then form a row of data. But I have no idea how can I get started with this.</p>\n\n<p>E.G.\nMy JSON LIST will contain \nItem Name, Brand, Type, Model, Cost Price.</p>\n\n<p>So on the <code>sx:autocompleter</code>, user selects the item name \nand then the rest of the result should be displayed in a table.</p>\n\n<p>I'm using Struts 2, </p>\n\n<p>Thanks!</p>\n\n<p>~~~~Edited</p>\n\n<p>I have successfully created the autocompleter textbox, and the JSON it retrieves is in the form a of HashMAP {Id, Name}\nSo, i'm not sure how to retrieve out more.. and form a table off it</p>\n"},{"tags":["jquery","html","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12994066,"title":"Menu showing current page","body":"<p>I try to make a menu that shows the current page that you are visiting. I use Ajax, so the site does not reload. I would also like to use the parent and children functions. I tried this:</p>\n\n<pre><code>$('ul li a').click(function() {\n    $(this).parent('ul').children('li a').removeClass('current');\n    $(this).addClass('current');\n});\n</code></pre>\n\n<p>The first line in the click function schould remove the class \"current\" from all links, but anyway it does not work</p>\n"},{"tags":["iphone","html","ajax"],"answer_count":6,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":4635,"score":10,"question_id":613114,"title":"little 'x' in textfield input on the iphone in mobileSafari?","body":"<p>I have been looking everywhere for this without any luck. If you go to google.com on the iphone when you focus in on the search field a little 'x' appears all the way in the right and if you touch it it clears the current value of the field. Anybody know how to accomplish this?</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":4193,"score":2,"question_id":1810240,"title":"AJAX request status returns 0","body":"<p>when i make a AJAX request with this code, it returns the status as 0. what did i do wrong? Also, this code is only designed to work in Firefox for various reasons.</p>\n\n<pre><code>var ajax;\n\nfunction connectToOtherServer(server,port,userid,password){\n\najax=new XMLHttpRequest();\najax.onreadystatechange=validateConnection;\n\nparams='userid='+encodeURIComponent(userid)+'&amp;password='+encodeURIComponent(password);\n\nalert('http://'+server+':'+port+'/ok.txt');\n\najax.open('POST','http://'+server+':'+port+'/ok.txt',true);\n\najax.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\najax.setRequestHeader(\"Content-length\",params.length);\najax.setRequestHeader(\"Connection\",\"close\");\n\najax.send(params);\n\n}\n\nfunction validateConnection(){\nif(ajax.readyState===4){\nif(ajax.status===200){\n\nalert(ajax.responseText);\n\n}else{\nalert(ajax.status);\n}\n}\n}\n</code></pre>\n"},{"tags":["php","jquery","ajax","arrays","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":12993935,"title":"PHP AJAX Form Submit displaying Array","body":"<p>When I submit my form to post a comment on my page the page displays the array of data and does not just display the page with the comment fading in. </p>\n\n<p>This is what i see in my browser after i hit the submit button (the record gets inserted fine):</p>\n\n<pre><code>{\"streamid\":1567,\"cm\":{\"id\":\"0\",\"avatar\":\"uploads\\/30-av.jpg\",\"name\":\"Mike&lt;\\/a&gt;\",\"content\":\"blah blah blah\",\"time\":\"some seconds ago\"}}\n</code></pre>\n\n<p>PHP</p>\n\n<pre><code>$action = $_GET['action'];\nif ($action == 'blasting') {\n$blast = input($_POST['blast']);\nif ($blast AND strlen($blast) &gt; 1) {\n    $stm = $_DB-&gt;prepare('insert into wl_activity (user_id, action, posted_on, data) values (?, ?, ?, ?)');\n    $stm-&gt;execute(array($_USER-&gt;get_user_id(), 'blast', time(), $blast));\n    }\necho json_encode($array);\n   }\n</code></pre>\n\n<p>My Form code</p>\n\n<pre><code>    &lt;script type=\"text/javascript\" src=\"js/ajaxupload.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"js/jquery.form.js\"&gt;&lt;/script&gt;\n     &lt;script type=\"text/javascript\" src=\"js/newsfeed.js\"&gt;&lt;/script&gt;\n\n &lt;form method=\"post\" action=\"index.php?cmd=ajax&amp;action=blasting\" id=\"blast-form\"&gt;\n            &lt;textarea class=\"form_input\" id=\"blastbox\" name=\"blast\" style=\"width:90%\" &gt;&lt;/textarea&gt;\n            &lt;input type=\"submit\" id=\"blastbtn\" value=\"Post\" class=\"form_submit\" /&gt;\n\n&lt;div id=\"ajax-feed\"&gt;&lt;/div&gt;\n\n    &lt;?php $general = array(); ?&gt;\n    &lt;?php\n        foreach ($feeds as $f) {\n            if ($f['action'] == 'blast')\n                array_push($general, 'blast');\n                //unset($general[count($general)-1]);\n            else\n                array_push($general, 'normal');\n        }\n    ?&gt;\n</code></pre>\n\n<p>Here is my jquery.form.js <a href=\"http://pastebin.com/MP3uVdcP\" rel=\"nofollow\">http://pastebin.com/MP3uVdcP</a>\nHere is my newsfeed.js that <a href=\"http://pastebin.com/ymSNjXJR\" rel=\"nofollow\">http://pastebin.com/ymSNjXJR</a></p>\n"},{"tags":["jquery","ajax","jquery-validate","confirm"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12993828,"title":"AJAX jQuery confirm to fire after validation","body":"<p>I am using AJAX/jQuery for the first time and am slowly getting my head around it.</p>\n\n<p>I have form validation that works and also a confirm button when the submit is pressed. The problem is the confirm will fire even if the form hasn't finished being validated.</p>\n\n<p>My question is where do I put the confirm code?</p>\n\n<p>I have (shortened for brevity) the validation</p>\n\n<pre><code>rules: {\n    supplier: {\n      required: true,\n    },\n    product: {\n      required: true,\n    }\n  },\nmessages: {\n  supplier: {\n    required: \"Please enter the supplier's name\"\n  },\n  product: {\n    required: \"Please enter the name of the product\"\n  }\n},\n\nsubmitHandler: function(form){\n    postForm();\n}\n</code></pre>\n\n<p>Now that works great</p>\n\n<p>Then I had this in another script</p>\n\n<pre><code>$('#product').click(function() {\n    if(confirm(\"Are you sure that the details are correct?\")){\n        return true;\n    }else{\n         return false;\n    }\n });\n</code></pre>\n\n<p>This works too but fires before the validation is complete - I have tried slotting it inside the submitHandler, and the submit handler within it and a couple of different places but I know that i am obviously missing something -any suggestions appreciated \n(I am using the following plugins - validate.min confirm and format)</p>\n"},{"tags":["asp.net","jquery","ajax","web-services"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":834,"score":0,"question_id":2011908,"title":"How can i see datatable which is the return from a webservice method","body":"<p>I am trying use a datatable from a web service method. I can see return value when it's a string data.\nThis my code and it returns an alert <em>hatada : null</em></p>\n\n<pre><code> $.ajax(\n            {\n                type: 'POST',\n                url: 'http://localhost:40764/HastaTahlilUyariServisi.asmx/Hello',\n                data: \"{_sTcKimlikNo: '111111111111', _iKlinikKodu:121212, _bAy:12, _iYil:2009}\",\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"json\",\n                success: function(ajaxCevap) {\n                    alert('basarili: ' + ajaxCevap); //$('#dv').html(ajaxCevap.d);\n                },\n                error: function(xhr, status) {                   \n                    alert(\"hatada:\" + xhr.responseXML);\n                },\n                beforeSend: function() {\n                    alert('gonderilecek');\n                },\n                afterSend: function() {\n                    alert('gonderildi');\n                },\n                complete: function(xhr, status) {\n                    if (status == 'success')\n                        alert('success' + $.httpData(xhr));\n                }\n            }\n</code></pre>\n\n<p>and this is my webservice method:</p>\n\n<pre><code>  [WebMethod]\n    public DataTable Hello(string _sTcKimlikNo, int _iKlinikKodu, byte _bAy, int _iYil)\n    {\n        DataTable dt = new DataTable();\n        dt.Columns.Add(\"ad\");\n        DataRow rw = dt.NewRow();\n        rw[0] = _sTcKimlikNo + \" \" + _iKlinikKodu + \" \" + _bAy + \" \" + _iYil;\n        return dt;\n    }\n</code></pre>\n\n<p>How can i see datatable from webservice method?\nThanks in advance.</p>\n"},{"tags":["php","mysql","ajax","query","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12993249,"title":"Ajax and PHP with database connection","body":"<p>i have problems with the code below, I'm trying to bring a message of error if the email already exists, but I'm not having success .. Look at the code:</p>\n\n<p>Ajax an jQuery:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;  \n\n    // Centering the text content\n    jQuery(window).resize(function () {\n        boxHeight();\n    }).load(function() {\n        boxHeight();\n        // Show the content and focus the email input\n        $(\"#content\").fadeIn();\n        $(\"#email\").focus();\n\n\n    });\n\n    jQuery(document).ready(function($){\n        $('#subscribe').submit(function(e){\n            e.preventDefault();\n\n            email = $('input#email');           \n            email_regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;           \n            if(!email_regex.test(email.val())) {\n                $('#response', form).fadeIn(500, function() {\n                    $('#response', form).html('&lt;p class=\"message warning\" align=\"center\"&gt;Invalid email&lt;/p&gt;');\n                });\n                return;\n            } else {\n                $('#response', form).html('&lt;p class=\"message\"&gt;Please Wait...&lt;/p&gt;');\n            }\n\n            var form = $(this);\n            var post_url = form.attr('action');\n            var post_data = form.serialize();               \n            $.ajax({\n                type: 'POST',\n                url: post_url,\n                data: post_data,\n                success: function(responseText) {  if(responseText == 1) {\n                    $('#response', form).html('&lt;p class=\"message\"&gt;Error...&lt;/p&gt;');\n                } else { if(responseText == \"\") {                       \n                    $(form).fadeOut(500, function(){\n                        form.html(msg).fadeIn();\n                    });\n\n                }\n                }\n            }\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>PHP Database connect:</p>\n\n<pre><code>    &lt;?php    \n$host=\"xxxx\"; // Host name\n$username=\"xxxx\"; // Mysql username\n$password=\"xxxx\"; // Mysql password\n$db_name=\"xxxx\"; // Database name\n$tbl_name=\"xxxx\"; // Table name\n\n// Connect to server and select database.\nmysql_connect(\"$host\", \"$username\", \"$password\")or die(\"cannot connect\");\nmysql_select_db(\"$db_name\")or die(\"cannot select DB\");\n\n// Get values from form\n$email = $_POST['email'];\n\n$query = mysql_query(\"SELECT email FROM banco_emails WHERE 'email' = '$email'\");\n    if(mysql_num_rows($query) == 1) { // if return 1, email exist.\n    echo '1';\n    } else {\n// Insert data into mysql\n$sql=\"INSERT INTO $tbl_name(email) VALUES ('\". $email . \"')\";\n$result=mysql_query($sql);\necho '&lt;p class=\"message\"&gt;Thanks for registering. Our bar is getting crowded!&lt;/p&gt;';\n</code></pre>\n\n<p>The problem is that the ajax code does not show the error message, only the message \"Please wait ...\" and nothing happens, i don't know why...</p>\n\n<p>Sorry for my bad english.</p>\n\n<p>Thanks in advanced!</p>\n\n<hr>\n\n<p>Problem solved, the problem was in the php code, I did it and it worked!</p>\n\n<pre><code>    $query = mysql_query(\"SELECT email FROM banco_emails WHERE email = '$email' LIMIT 1\");\n\n    $email_check = mysql_num_rows($query);\n     if ($email_check &gt; 0) {\n    echo '1';\n    } else if ($email_check == 0) {\n// Insert data into mysql\n$sql=\"INSERT INTO $tbl_name(email) VALUES ('\". $email . \"')\";\n$result=mysql_query($sql);\necho '&lt;p class=\"message\"&gt;Thanks for registering. Our bar is getting crowded!&lt;/p&gt;';\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":58,"score":-3,"question_id":12991800,"title":"Fill out content of div","body":"<p>I have this form on page some.php and i want when i click on submit button to make query for this data from form and display it in index.php in <code>&lt;div id=\"content\"&gt;</code> . I try to do something with jquery but im not good in that, so if someone can help me? :)\nEDIT: i tryed something like this but its not working in index.php.Is it possible to send form data to blah.php and on blah.php execute query and then loaded it in index.php in <code>&lt;div id=\"content\"&gt;</code> ?</p>\n\n<pre><code>&lt;?php if(isset($_POST['search']))\n{\n$my_html  = \"&lt;script type='text/javascript'&gt;\"  ;\n$my_html .= \"$('#content').fadeIn(1500);\" ;\n$my_html .= \" $('#content').load('blah.php');\";\n\n$my_html .= \"&lt;/script&gt;\";\necho $my_html ;\n}\n?&gt;\n</code></pre>\n\n<p>some.php</p>\n\n<pre><code>&lt;form id=\"search\" name=\"search\" method=\"post\" action=\"index.php\"&gt;\n     Price from:\n    &lt;input type=\"text\" name=\"from\" id=\"from\" width=\"50px\" /&gt;\n     Price to: \n     &lt;input type=\"text\" name=\"to\" id=\"to\" width=\"50px\" /&gt;\n&lt;input type=\"submit\" class=\"btn_advancedsearch\" name=\"search\" id=\"search\" value=\"Search\" /&gt;\n     &lt;/form&gt;\n</code></pre>\n"},{"tags":["php","jquery","html","ajax","jquery-ajax"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12992699,"title":"AJAX URL Navigation 404 Not Found","body":"<p>So I'm trying to implement an ajax based password change so that the page doesn't refresh when the user hits submit. So here's my html, jquery, and php:<br></p>\n\n<pre><code>Current Password&lt;input type=\"password\" id=\"change_password\" name=\"change_password\"&gt;&lt;br&gt;\nNew Password&lt;input type=\"password\" id=\"new_password\" name=\"new_password\"&gt;&lt;br&gt;\nVerify Password&lt;input type=\"password\" id=\"verify_password\" name=\"verify_password\"&gt;&lt;br&gt;\n</code></pre>\n\n<p>Jquery:<br></p>\n\n<pre><code>$('#change_Pass').submit(function(e){\n    var $this = $(this);  \n    $.ajax({\n        data: $(this).serialize(), // get the form data\n        type: $(this).attr('method'), // GET or POST\n        url: '/Private/change_password.php', // the file to call\n        success: function(response) { // on success..\n            //$('#success_div).html(response); // update the DIV\n            alert(\"good\");\n        },\n        error: function(e, x, r) { // on error..\n            //$('#error_div).html(e); // update the DIV\n            alert(\"bad\");\n        }\n    });\n    e.preventDefault();\n    return false; //so it doesn't refresh or submit the page\n});\n</code></pre>\n\n<p>PHP:<br></p>\n\n<pre><code>&lt;?php\nsession_start();\nrequire_once '../classes/Bcrypt.php';\nini_set('display_errors', 'On');\nerror_reporting(E_ALL | E_STRICT);\n$usr = $_SESSION[\"username\"];\n$old_pwd = $_POST[\"change_password\"];\n$new_pwd = $_POST[\"new_password\"];\n$new_pwd = Bcrypt::hash($new_pwd);\ntry {\n    $link = new PDO('mysql:host=*;dbname=*;charset=UTF-8','*','*');\n    $query = \"SELECT *\n            FROM Conference\n            WHERE Username = :un\";\n\n    $stmt = $link-&gt;prepare($query);\n\n    $stmt-&gt;bindParam(':un', $usr);\n    $stmt-&gt;execute();\n    $row = $stmt-&gt;fetchAll();\n\n    $hash = $row[0][\"Password\"];\n    $is_correct = Bcrypt::check($old_pwd, $hash);\n\n    if($is_correct) {\n        $query = \"UPDATE Conference\n                SET `Password`=:new_pwd \n                WHERE Username = :usr\";\n\n        $stmt = $link-&gt;prepare($query);\n        $stmt-&gt;bindParam(':new_pwd', $new_pwd);\n        $stmt-&gt;bindParam(':usr', $usr);\n        $stmt-&gt;execute();\n    } \n} catch(PDOException $e) {\n    print \"Error!: \" . $e-&gt;getMessage() . \"&lt;br/&gt;\";\n    die();\n}\n</code></pre>\n\n<p>My file structure is just:<br></p>\n\n<pre><code>Folder\n    |--Front.php\n    |--Private\n        |--change_password.php\n</code></pre>\n\n<p>But everytime I enter in the stuff and hit submit. It tries to go to <code>www.domain.com/Folder/change_password.php</code> rather than <code>www.domain.com/Folder/Private/change_password.php</code>. It just says </p>\n\n<pre><code>The requested URL /Folder/change_password.php was not found on this server.\n</code></pre>\n\n<p>I've tried full urls, and just <code>/Private/change_password.php</code> and nothing works. I don't understand why it can't see the folder. Any ideas?</p>\n"},{"tags":["ruby-on-rails","ajax","heroku","delayed-job"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12988421,"title":"Process AJAX response with long runing tasks","body":"<p>I have long time task in controller action.</p>\n\n<p>I use delayed job for it. (Also in heroku it is good practice for perfomance - dyno must work for small time in each request)</p>\n\n<p>But my client need result of it work and users can wait on that task.\nIt is more clear: no any addition models or records in it, simple view and js...</p>\n\n<p>I think about such way:</p>\n\n<ul>\n<li>On client run AJAX with very long timeout (5 min for example)</li>\n<li>Client make request to server as usual</li>\n<li>On controller in action1 def start_work (with delay work setup) i need <strong>NO</strong> any response to client</li>\n<li>After work performs (delay job finished) i need run new action2 with response to client</li>\n<li>Client recieve response after about 1-5 min</li>\n</ul>\n\n<p>It is possible?</p>\n"},{"tags":["jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":53,"score":-1,"question_id":12986191,"title":"JQuery ajax display serverside error (PHP)","body":"<p>I want to modify the following code so that in the event of a server error, the JS can pop up the returned HTML error created by PHP.</p>\n\n<pre><code>$.ajax({\n    url: 'ajax.php', dataType: 'json',\n    data: myData,\n    success: function(json){ /**response handler**/}, error: ajaxFail\n});\n</code></pre>\n\n<p>At the moment, I'm using firebug to see the returned error html, but it's far from readable. At the moment, when an error occurs, the function ajaxFail receives the error:</p>\n\n<blockquote>\n  <p>SyntaxError: JSON.parse: unexpected character.</p>\n</blockquote>\n\n<p>How can I have it call a function which displays the html response in the browser in the event there's an error?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","jquery","ajax","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12985312,"title":"How to pass parameter to class php with jQuery .ajax","body":"<p>I have the next class php:</p>\n\n<pre><code>class Job{\n\n    public $resultado;\n    public $busqueda;\n    public $wpdb;\n\n    public function __construct($busqueda){\n        global $wpdb;\n        $this-&gt;busqueda = $busqueda;\n        $this-&gt;resultado = array();\n        $this-&gt;wpdb = $wpdb;\n    }   \n\n    public function search_job($resultado){\n        $tablepost =$this-&gt;wpdb-&gt;prefix.'posts';\n        $query = \"SELECT * from $tablepost WHERE post_type = 'jobman_job' and post_status='publish';\";\n\n\n\n        if (isset($wpdb)) {\n            global $wpdb;\n            $result = $wpdb-&gt;get_results($query);\n        }else{\n            $result = $this-&gt;wpdb-&gt;get_results($query);\n        }\n\n\n\n        print_r($result);\n    }\n\n}\n</code></pre>\n\n<p>This found ok. Now I would like call the search_function with jQuery .ajax\nI try with this:</p>\n\n<pre><code>(function($){\n\n    $('#searchjob').keypress(function(e){\n        var search = $.trim($('#searchjob').val());\n\n        if (e.which == \"13\") {\n\n            $.ajax({\n                beforeSend: function(){\n                    //$('#loading').html(&lt;img src=\"rutagif\" alt=\"loading\" /&gt;);\n                },\n                url:\"../wp-content/themes/SUP2012/class/job.php\",\n                data:{method: 'search_job', data:{resultado: 'hola'}},\n                type: \"POST\",\n                success: function(data){\n\n                }\n\n            }); \n        };\n\n    });\n\n })(jQuery);\n</code></pre>\n\n<p>the url parameters respond ok (200 OK), but not retrive information. Any idea?</p>\n"},{"tags":["ajax","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12992672,"title":"How do I change the default behavior of my Worpress single post URL's?","body":"<p>I'm trying to figure out a way to change the behavior of wordpress single post url's so that instead of loading the page using the single.php file, I can instead load the post contents into the index.php page via ajax. The site is a wordpress site, but uses ajax to load all of the content into one page. Essentially the actual php file being read never changes, and instead any time a user clicks a new page, the page content is loaded via on ajax request.</p>\n\n<p>Is there any way that I could perhaps edit my .htaccess file so that when someone goes to www.mysite.com/blog/post-name that it loads index.php and tells a script to load the requested post contents into the index.php page via ajax? </p>\n\n<p>Thanks!</p>\n"},{"tags":["jquery","css","ajax","onclick"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":102,"score":2,"question_id":12988031,"title":"How to add and remove background images in css on clicking a link on page","body":"<p>Ive that small Fiddle</p>\n\n<p><a href=\"http://jsfiddle.net/5XXdJ/\" rel=\"nofollow\">http://jsfiddle.net/5XXdJ/</a></p>\n\n<pre><code>    &lt;img src=\"http://placehold.it/333/fe3/img/picture2.jpg\" id=\"bg\" /&gt;&lt;br /&gt;\n\n    &lt;a href=\"\" title=\"Switch\" class=\"menulink\"&gt;DE&lt;/a&gt;\n&lt;a href=\"\" title=\"Switch\" class=\"menulink2\"&gt;EN&lt;/a&gt;\n&lt;a href=\"\" title=\"Switch\" class=\"menulink3\"&gt;FR&lt;/a&gt;\n\n$(function() {\n $('.menulink').click(function(e){\n     e.preventDefault();\n   $(\"#bg\").attr('src',\"http://placehold.it/333/3ef/img/picture1.jpg\");\n });\n\n$('.menulink2').click(function(e){\n     e.preventDefault();\n   $(\"#bg\").attr('src',\"http://placehold.it/333/fe3/img/picture2.jpg\");\n });\n\n     $('.menulink3').click(function(e){\n     e.preventDefault();\n   $(\"#bg\").attr('src',\"http://placehold.it/333\");\n });\n});\n</code></pre>\n\n<p>It works fine but my problem is:</p>\n\n<p>I need to add an background image to every linkclass for selected/active state and inactive/default state, if i click another link on page.</p>\n\n<p>For example the link \"de\" has default a white bg-image and if i click the link the bg-image changes to a black image for selected state. </p>\n\n<p>If i click now \"en\" it will change the \"de\" link back into inactive state with the white background image and set the \"en\" bg-image-link into selected state-imagelink and will remove it if another link will be clicked.</p>\n\n<p>I hope someone has an idea :)</p>\n"},{"tags":["php","ajax","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12992588,"title":"Ajax not working on php file with $_GET variable","body":"<p>I use the $_GET variable to retrieve information from my mysql database.</p>\n\n<p>since I've done this all my ajax requests never process correctly. The browsers console does not display any error messages.</p>\n\n<p>Do you see something wrong?</p>\n\n<pre><code>&lt;?php\n\nfunction checkValues($value)\n{\n     // Use this function on all those values where you want to check for both sql injection and cross site scripting\n     //Trim the value\n     $value = trim($value);\n\n    // Stripslashes\n    if (get_magic_quotes_gpc()) {\n        $value = stripslashes($value);\n    }\n\n     // Convert all &amp;lt;, &amp;gt; etc. to normal html and then strip these\n     $value = strtr($value,array_flip(get_html_translation_table(HTML_ENTITIES)));\n\n     // Strip HTML Tags\n     $value = strip_tags($value);\n\n    // Quote the value\n    $value = mysql_real_escape_string($value);\n    return $value;\n\n}   \n\n\n\n$requete = mysql_query('SELECT * FROM table WHERE url=\"'.checkValues($_GET['url']).'\"');\n\n\nif(mysql_num_rows($requete)==0){\n\n header('Location: ../erreur_404.php');\n exit ();   \n\n}else{\n\n    while($resultats = mysql_fetch_array($requete)){ \n\n\n?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"fr\"&gt;\n\n&lt;head&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n\n&lt;?php\n\n    }\n}\n\n// close\nmysql_close(); \n?&gt;    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["ajax","jsf-2","j-security-check","viewexpiredexception"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":242,"score":2,"question_id":12504131,"title":"ViewExpiredException not thrown on ajax request if JSF page is protected by j_security_check","body":"<p>I have a JSF page which is not protected by <code>j_security_check</code>. I perform the following steps:</p>\n\n<ol>\n<li>Open the JSF page in a browser. </li>\n<li>Restart the server.  </li>\n<li>Click a command button on the JSF page to initiate an ajax call.   </li>\n</ol>\n\n<p>Firebug shows that a <code>ViewExpiredException</code> is raised, as expected. </p>\n\n<blockquote>\n  <p>Post:</p>\n\n<pre><code>javax.faces.ViewState=8887124636062606698:-1513851009188353364\n</code></pre>\n  \n  <p>Response:</p>\n\n<pre><code>&lt;partial-response&gt;\n&lt;error&gt;\n&lt;error-name&gt;class javax.faces.application.ViewExpiredException&lt;/error-name&gt;\n&lt;error-message&gt;viewId:/viewer.xhtml - View /viewer.xhtml could not be restored.&lt;/error-message&gt;\n&lt;/error&gt;\n&lt;/partial-response&gt;\n</code></pre>\n</blockquote>\n\n<p>However, once I configure the page to be protected by <code>j_security_check</code> and perform the same steps listed above, strangely (to me) the <code>ViewExpiredException</code> is no longer raised. Instead, the reponse is just a new view state. </p>\n\n<blockquote>\n  <p>Post:</p>\n\n<pre><code>javax.faces.ViewState=-4873187770744721574:8069938124611303615\n</code></pre>\n  \n  <p>Response:</p>\n\n<pre><code>&lt;partial-response&gt;\n&lt;changes&gt;\n&lt;update id=\"javax.faces.ViewState\"&gt;234065619769382809:-4498953143834600826&lt;/update&gt;\n&lt;/changes&gt;\n&lt;/partial-response&gt;\n</code></pre>\n</blockquote>\n\n<p>Can someone help me figure this out?  I expect it to raise an exception so I can process that exception and show an error page. Now it just responds with a new ViewState, my page just got stuck without any visual feedback.</p>\n"},{"tags":["ajax","autocomplete"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":62,"score":-1,"question_id":12992170,"title":"autocomplete only working for first input field","body":"<p>I am trying to get autocomplete working on any div with the id=\"train\" however, it seems to only be working on the first input field with a class of \"train\"</p>\n\n<p>javascript code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n    $(\".train\").each(function() {\n        $(\".train\").keyup(function() {\n        $(\"#suggest_q\").html(\"\");\n            var train = $(\".train\").val();  \n            train = $.trim(train);\n            if(train)\n            {\n                $.ajax({\n\n                    url: \"train_ajax_query.php\",\n                    data: \"train=\"+train,\n                    success: function(msg) {\n                        $(\"#suggest_q\").html(msg);\n                        $(\"#suggest_q ul li\").mouseover(function() {\n                            $(\"#suggest_q ul li\").removeClass(\"hover\");\n                            $(this).addClass(\"hover\");\n                        })\n                        $(\"#suggest_q ul li\").click(function() {\n                            var value   =   $(this).html();\n                            $(\"#train\").val(value);\n                            $(\"#suggest_q ul li\").remove();\n                        });\n\n                    }\n                });\n            }\n        });\n    });\n\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>    &lt;form id=\"train_create_form\" name=\"train\" action=\"submit_train.php\" method=\"POST\"&gt;\n\n\n    &lt;input type=\"text\" id=\"train\" class=\"train\" size=\"20\" name=\"train[]\" placeholder=\"Train 1\" /&gt;\n        &lt;div id=\"suggest_q\"&gt;\n\n        &lt;/div&gt;\n    &lt;input type=\"text\" id=\"train\" size=\"20\" class=\"train\" name=\"train[]\" placeholder=\"Train 2\" /&gt;\n        &lt;div id=\"suggest_q\"&gt;\n\n        &lt;/div&gt;\n\n  &lt;input id= \"submit_train\" type=\"submit\" name=\"submit_train\" value=\"Submit All trains\"&gt;\n        &lt;/form&gt;\n</code></pre>\n\n<p>I found <a href=\"http://stackoverflow.com/questions/7249818/jquery-autocomplete-is-only-working-for-the-first-input\">this old post</a> but I am not sure how to adopt the fix for my problem :(</p>\n\n<p>add more input fields code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n $(function() {\n        var scntDiv = $('#p_scents');\n        var i = $('#p_scents p').size() + 0;\n\n        $('#addScnt').live('click', function() {\n                $('&lt;p&gt;&lt;input type=\"text\" id=\"train\" name=\"train[]\" class=\"train\" placeholder=\"Train ' + i +'\" /&gt;&lt;div id=\"suggest_q\"&gt;&lt;/div&gt;&lt;a href=\"#\" id=\"remScnt\"&gt;Remove train&lt;/a&gt;&lt;/p&gt;').appendTo(scntDiv);\n                i++;\n                return false;\n        });\n\n        $('#remScnt').live('click', function() {\n                if( i &gt; 2 ) {\n                        $(this).parents('p').remove();\n                        i--;\n                }\n                return false;\n        });\n});\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","mysql","ajax","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":279,"score":0,"question_id":2594724,"title":"Loading product content via AJAX in OpenCart","body":"<p>Using OpenCart how would I show a categories products as content loaded via AJAX from a MySQL database? This content would be then shown inside a <code>&lt;div&gt;</code></p>\n"},{"tags":["jquery","ajax","ajax-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":36,"score":0,"question_id":12991956,"title":"what plugin do you recommend for a Ajax uploading file?","body":"<p>there are many plugins out there for ajaxy uploading files which most of them locally work great, I was wondering which of them is working properly on a real production website? what do you recommend? thanks</p>\n"},{"tags":["php","jquery","ajax","file-upload"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2517,"score":0,"question_id":5688443,"title":"How can I upload pictures with ajax/jQuery and PHP without refreshing the page?","body":"<p>I am trying to allow users to upload pictures and display them on the same page. For instance Facebook allows users to choose a file and upload it when signing up without having to reload the page. How ca I do this?</p>\n"},{"tags":["mysql","ajax","table","edit","inplace-editing"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":122,"score":1,"question_id":10987322,"title":"Ajax in-place Editing on a dynamic mysql table","body":"<p>The title should be specific enough, but basically I have a table that is filled with data from a table in my mySQL database, and i'm trying to add a feature on my table to allow in-line edits to all but two columns, the primary key ID column, and the Status column. The only tutorials I have come across so far only show how to have all columns editable but I don't want someone accidentally messing up the primary key column. And it isn't on auto increment because it has a specific ID designated before it's imported and it skips a couple numbers. CAn anyone help or point me in the right direction.</p>\n"},{"tags":["php","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":84,"score":-1,"question_id":8255650,"title":"retrive data from DB(MySql) every 1 min","body":"<p>In my php project, there is table data which need to be updated automatically every 1 min. Thus, the <strong>php file have to get data every 1 min from DB never stop</strong>. </p>\n\n<p>Is there anyone has idea how to solve this kind of problem? I just need basic idea and providing code snippet would be really appreciated.</p>\n"},{"tags":["php","ajax","jquery-ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":384,"score":0,"question_id":8256320,"title":"get current time without page refresh","body":"<p>I would like to get the current time without page refresh. However, the following code is only able to update the time by refresh manully.</p>\n\n<p>Can anyone help me? Thanks in advance!</p>\n\n<p><strong>currentTime.php</strong></p>\n\n<pre><code>$(document).ready(function(){\n            $.ajax({\n               type: \"POST\",\n               url: \"test.php\",\n               success: function(msg){\n                 $(\"#results\").append(msg);\n               }\n             });\n        });\n&lt;p id=\"results\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p><strong>test.php</strong></p>\n\n<pre><code>&lt;?php\n   $CT = date('Y:m:d H:i:s', time());\n   echo $CT;\n?&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","ruby-on-rails-3.2"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":48,"score":3,"question_id":12983936,"title":"rails 3.2 strange behavior with jquery-ujs","body":"<p>i'm trying to disable a input while i'm submiting it in a remote form.</p>\n\n<p>My coffee code is like this:</p>\n\n<pre><code>todoSubmitForm = $('form.todo-form')\ntodoSubmitForm.on 'ajax:before', -&gt;\n    input = $(this).find('input#todo')\n    return false if not input.val() and not input.val().match /^\\s+$/\n    input.attr 'disabled', 'disabled'\n\ntodoSubmitForm.on 'ajax:complete', -&gt;\n    $(this).find('input#todo').removeAttr 'disabled'\n    turbolinksRefresh()\n</code></pre>\n\n<p>But, the input that I disable was not submited that way.\nI don't know if it's a bug or if I'm doing something wrong...</p>\n"}]}
{"total":48692,"page":19,"pagesize":100,"questions":[{"tags":["jquery","python","ajax","django"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12990746,"title":"Using AJAX in django to delete a row in a table represented by a model","body":"<p>I have a  representing a model and I want to be able to remove the row and delete the object from the DB without reloading the page.  On the left I have an X icon when clicked hides the row using .hide('slow') but how can I make it remove from the db?  Re-loading the page takes a while..  Can I delete the object using a form or using a /delete page? </p>\n"},{"tags":["php","javascript","mysql","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":36,"score":-2,"question_id":12986964,"title":"Table Filtering using search option","body":"<p>Am trying to filter table using search box.when we enter a letter in the search box related row should come other wise show the total table .any one can help me.</p>\n\n<p>here is my code\nindex.php</p>\n"},{"tags":["jquery","ajax","jquery-ajax","addthis"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1632,"score":0,"question_id":8037092,"title":"Addthis and Asynchronous Loading","body":"<p>Following the <a href=\"http://www.addthis.com/help/optimizing-addthis#.TrfVCkPz2nA\" rel=\"nofollow\">guide</a>, I can initiate addthis via ajax but it only works in one place,</p>\n\n<p>for instance,</p>\n\n<p>html index page 'index.php',</p>\n\n<pre><code>&lt;a href=\"#\" class=\"load\"&gt;click to load&lt;/a&gt; \n\n&lt;div id=\"container\"&gt;&lt;/div&gt;\n\n&lt;p&gt;addthis at the footer,&lt;/p&gt;\n&lt;div class=\"addthis_toolbox addthis_default_style left addthis\" style=\"border:0px solid #000; margin:20px 5px 0px 10px; width:300px;\"&gt;\n&lt;a class=\"addthis_button_facebook_like\" addthis:url=\"#\" addthis:title=\"#\" addthis:description=\"#\" fb:like:layout=\"button_count\" style=\"width:80px;\"&gt;&lt;/a&gt;\n&lt;a class=\"addthis_button_tweet\" addthis:url=\"#&gt;\" addthis:title=\"#\" addthis:description=\"#\" style=\"width:100px;\"&gt;&lt;/a&gt;\n&lt;a class=\"addthis_button_google_plusone\" g:plusone:size=\"medium\" style=\"width:65px;\"&gt;&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have another addthis buttons in the ajax page - 'load.php',</p>\n\n<pre><code>&lt;p&gt;it should have another addthis in this ajax loaded page,&lt;/p&gt;\n\n&lt;a class=\"addthis_button_facebook\" addthis:url=\"#\" addthis:title=\"title\" addthis:description=\"\" href=\"http://www.addthis.com/bookmark.php?v=250&amp;amp;username=lauthiamkok\"&gt;&lt;/a&gt;\n&lt;a class=\"addthis_button_twitter\" addthis:url=\"#\" addthis:title=\"title\" addthis:description=\"\" href=\"http://www.addthis.com/bookmark.php?v=250&amp;amp;username=lauthiamkok\"&gt;&lt;/a&gt;\n&lt;a class=\"addthis_button_google_plusone\" addthis:url=\"#\" addthis:title=\"title\" addthis:description=\"\" href=\"http://www.addthis.com/bookmark.php?v=250&amp;amp;username=lauthiamkok\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>This is my jquery,</p>\n\n<pre><code> $(document).ready(function(){\n\n            // the addthis buttons are loaded successfully here.\n                    initAddThis();\n\n            $('.load').click(function(){\n                $('#container').load('load.php', function(){\n\n                    // the addthis buttons fail to load here.\n                    initAddThis();\n\n                });\n                return false;\n            });\n\n        });\n\n        function initAddThis() \n        {\n            addthis.init()\n        }\n</code></pre>\n\n<p>It only happens on the index page but not the ajax page... how can I fix this?</p>\n"},{"tags":["php","javascript","ajax","google-charts"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12988980,"title":"Using ajax response as the function's argument","body":"<p>I'm trying to use the ajax response as an argument for the function drawing the chart with google charts.</p>\n\n<p>This is the JS code:</p>\n\n<pre><code>data.addRows([['One', 5], ['Two', 2]]);\n</code></pre>\n\n<p>As you can see, the argument contains a couple of square brackets with the \"chart's unit\" name and its value. Everything works. However when I pass ajax responseText as the argument, it doesn't work at all.</p>\n\n<pre><code>data.addRows(xmlhttp.responseText);\n</code></pre>\n\n<p>The PHP code returns json_encode($value), where the $value variable is this string:\n[[one, 5], [two, 2]]</p>\n\n<p>So as the result I get:</p>\n\n<pre><code>\"[['one', 5], ['two', 2]]\"\n</code></pre>\n\n<p>BTW. I also tried removing double quotes from the string in the JS code - still no results.</p>\n\n<p>What's wrong? The firebug gives me some strange errors: Argument given to addRows must be either a number or an array...</p>\n\n<p>How should I fix this?</p>\n"},{"tags":["ajax","load","strip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12989777,"title":"Load zebra strip in ajax loaded table","body":"<p>I tried to apply a zebra strip with an ajax loaded table but it's not work. I tried googling some suggestion over the net but no luck. Here's my code:</p>\n\n<p>CSS:</p>\n\n<pre><code>&lt;style&gt;\n.odd{background:#eeeeee}\n&lt;/style&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>&lt;script src=\"../jquery.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $(\"tr:even\").addClass(\"even\");\n    $(\"tr:odd\").addClass(\"odd\");\n});\n\n//supplier ajax viewer\n $(document).ready(function(stripTable) {\n     $(\"#supplier_viewer\").load(\"inc/stock_view.php\");\n$('tr:odd',this).addClass(\"odd\");\n     var refreshId = setInterval(function() {\n      $(\"#supplier_viewer\").load('inc/stock_view.php?randval='+ Math.random());\n   }, 10000);\n$('tr:odd',this).addClass(\"odd\");\n   $.ajaxSetup({ cache: false });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And this is where the table is loaded.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"supplier_view\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I've tried to add </p>\n\n<pre><code>$('tr:even',this).addClass(\"even\");\n</code></pre>\n\n<p>to the load stage but not work. Please suggest.</p>\n"},{"tags":["c#","asp.net","ajax","file-upload"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":85,"score":4,"question_id":12966353,"title":"Is there a way I continue on with a website while a file is being uploaded?","body":"<p><strong>Background:</strong></p>\n\n<p>I am working on an undergrad research project for my CS department. The project is a website for the biology department and a key feature is that the biology students are able to upload their own <code>.xml</code> files and then a *model is built for them on the server side using Matlab.</p>\n\n<p>The front end is in an ASP.NET, javascript and C# environment. My little association with this project is all the knowledge I have of these systems, tools and languages. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>The <code>.xml</code> files I mentioned earlier can take hours to upload and build. My professor wants the user to be able to continue on with the page using models that are already completed while the new model is sent to the background and the user receives an email when it is completed. I've found material for sending the email, but not for continuing with the page. </p>\n\n<p>I heard something about using AJAX to load a page?</p>\n"},{"tags":["jquery","ajax","spring","spring-mvc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":639,"score":1,"question_id":6908923,"title":"How to send a session scoped attribute through jquery ajax call","body":"<p>I have an issue I have this jQuery code:</p>\n\n<pre><code>    $(document).ready(function(){\n        $(\"#follow\").click(function(){\n            $.ajax({\n                type: 'POST',\n                url:'/tweety-0.0.1-SNAPSHOT/twitter/tiles/follow',\n                data:{\n                        searchedUser: $('#searchedUser').val()\n                }   \n        })\n    })\n})\n</code></pre>\n\n<p>this piece of code get hidden id and send it's value to the following method in my controller:</p>\n\n<pre><code>@RequestMapping(value=\"/follow\",method=RequestMethod.POST)\n    public @ResponseBody void followUser(@RequestParam(\"searchedUser\") String userToFollow, \n            @ModelAttribute(\"user\") User user) {\n            if(userToFollow.equals(user.getUsername())){\n                // do nothing\n            }else{\n                service.followUser(userToFollow,user.getUsername());\n            }\n    }\n</code></pre>\n\n<p>I want to send a session scoped attribute through the previous ajax call. Any clue on how doing that??</p>\n"},{"tags":["javascript","jquery","ajax","cross-domain","angularjs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":12637430,"title":"How to make AngularJS ignore ajax OPTIONS method?","body":"<p>When making a cross-domain Ajax POST request, AngularJS sends an HTTP OPTIONS request first. jQuery does the same, and I understand this is part of the spec. The difference is if there's an error with the OPTIONS request (e.g. server doesn't support it, as is often the case) jQuery will continue and make the POST request anyway where AngularJS just silently fails and gives up. Is there a way to force it to make the POST request regardless ?</p>\n"},{"tags":["ajax","arrays","html5","jquery-ajax","construct-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12671903,"title":"Constrcut 2 (Scirra) AJAX Request to Array","body":"<p>i got a problem with the Construct 2 Editor of Scirra. I dont really know if this is the right place for this but, i searched for a answer a long time.</p>\n\n<p>I get Data of a AJAX Request something like that: \n{\"data\":[  [625],[500] ], [ [400],[500] ], [ [100],[120] ]}</p>\n\n<p>Now, i dont want to get this as a string. I want to split it like\nvariable a = 625\nvariable b = 500\n.\n.\n. </p>\n\n<p>and so on.</p>\n\n<p>Can anyone help me about that please.</p>\n\n<p>Kind Regards</p>\n\n<p>MCSell ;)</p>\n"},{"tags":["javascript","jquery","ajax","mobile","jquery-mobile"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":2758,"score":1,"question_id":10587634,"title":"jQuery Mobile refresh page after changePage","body":"<p>Is there anyway to force a jQm page to reload once changePage is complete?</p>\n\n<p>I have a number of pages dynamically loaded into an array. All of the pages that are being loaded are a part of a list, for example \"20 mobile apps of 2011\". Users will need to have the ability to swipe left and right to navigate the pages.</p>\n\n<p>I've added the current code here: <a href=\"http://jsfiddle.net/cncpts/qMe6Z/2/\" rel=\"nofollow\">http://jsfiddle.net/cncpts/qMe6Z/2/</a></p>\n\n<p>Notice how the URL's are being pulled from the array. From this i'm able to pull the next URL and the previous URL but I am only able to navigate one page forward and one back.</p>\n\n<p>You can test the page here by clicking then swiping the mouse left or right: <a href=\"http://www.cncpts.me/complex/swipe/index.php\" rel=\"nofollow\">http://www.cncpts.me/complex/swipe/index.php</a></p>\n\n<p>Any ideas on how to get the URL's to refresh while maintaining the native JQM transitions.</p>\n"},{"tags":["php","mysql","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":134,"score":1,"question_id":2108059,"title":"Automatic web shop creation","body":"<p>In one of my projects, I need to have automatic webshop creation. </p>\n\n<p>It will be similar to <a href=\"http://bigcartel.com/\" rel=\"nofollow\">bigcartel.com</a>.  </p>\n\n<p>Is there any tutorial available?</p>\n"},{"tags":["php","xml","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12988379,"title":"converting xml DOMDocument to string","body":"<p>HI i am using ajax for a web site which displays courses available,  i am having a problem where i am reading xml(which has courses details) getting node value(course name) comparing to my input(inout course name) if it is equal i am displaying the text(course description).\n now i am  tracing it getting to correct course name(in xml file) but while comparing it to input course name its not at all comparing so.at one point i loaded the xml file and echo it:</p>\n\n<pre><code>$doc-&gt;load('data/ICT.xml'); \necho\"$doc\";\n</code></pre>\n\n<p>It gives me an error </p>\n\n<blockquote>\n  <p>Catchable fatal error: Object of class DOMDocument could not be converted to string in /home/students/....../www/htdocs/client/unit_details.php on line 23</p>\n</blockquote>\n\n<p>so what i understood from this is that xml dom object should be converted to string so that i can get required data and use it, is it true? if so can some one tell me how to do so please(like any functions etc) thanks in advance :-)</p>\n"},{"tags":["ajax","ruby-on-rails-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":7651607,"title":"XML Parsing Error: no element found when using rjs in rails","body":"<p>I implemented destroy functionality using rjs template in rails. i got an error \"XML Parsing Error: no element found\" when destroy one record from database. is this right my coding?</p>\n\n<p>I used the following versions ruby and rails:\n     Ruby version: 1.8.7\n     Rails Version: 2.3.8</p>\n\n<pre><code>Controller file:\n\n  def destroy\n    begin\n      @task = Task.find(params[:id])\n      @task.destroy\n\n      respond_to do |format|\n      #format.html { redirect_to(tasks_url) }\n      format.js\n     format.xml  { head :ok }\n      end\n   rescue Exception =&gt; e\n  puts e\n  end\n\nend\n</code></pre>\n\n<p>partial template file _task.html.erb:</p>\n\n<pre><code>&lt;tr id=\"&lt;%= dom_id(task) %&gt;\"&gt;\n &lt;td&gt;&lt;%= task.name %&gt;&lt;/td&gt;\n &lt;td&gt;&lt;%= task.note %&gt;&lt;/td&gt;\n &lt;td&gt;&lt;%= task.priority %&gt;&lt;/td&gt;\n &lt;td&gt;&lt;%= link_to 'Show', task %&gt;&lt;/td&gt;\n &lt;td&gt;&lt;%= link_to 'Edit', edit_task_path(task) %&gt;&lt;/td&gt;\n&lt;td&gt;\n&lt;%= link_to 'Destroy', task, :confirm =&gt; 'Are you sure?', :method =&gt;:delete,:remote =&gt; :true %&gt;      \n</code></pre>\n\n<p>\n    </p>\n\n<p>index.rhtml file:</p>\n\n<pre><code>&lt;div id='newform'&gt;\n    &lt;% form_for([@task, Task.new]) do |f| %&gt;\n&lt;div&gt;\n  &lt;%= f.label 'Add a new task: ' %&gt;\n  &lt;%= f.text_field :name %&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;%= f.submit %&gt;\n&lt;/div&gt;\n  &lt;% end %&gt;\n&lt;/div&gt;\n\n&lt;table id=\"alltasks\"&gt;\n&lt;tr id=\"tablehead\"&gt;\n &lt;th&gt;Name&lt;/th&gt;\n &lt;th&gt;Note&lt;/th&gt;\n &lt;th&gt;Priority&lt;/th&gt;\n &lt;th&gt;&lt;/th&gt;\n &lt;th&gt;&lt;/th&gt;\n &lt;th&gt;&lt;/th&gt;\n &lt;/tr&gt;\n\n&lt;%= render @tasks  %&gt;\n &lt;!-- expanded: render :partial =&gt; \"task\", :collection =&gt; @tasks --&gt;\n  &lt;/table&gt;\n  &lt;br /&gt;\n &lt;%= link_to 'New Task', new_task_path %&gt;\n</code></pre>\n\n<p>destroy.js.rjs file:</p>\n\n<pre><code>page.alert('Hi')\n</code></pre>\n"},{"tags":["javascript","ajax","facebook","cron","cron-task"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":74,"score":-1,"question_id":12987965,"title":"Executing AJAX written in a php script with cron","body":"<p>I've written a php script that reads data from facebook user's profile and sends it to my server through ajax .This script needs to run in intervals, so i added a cron. All the php functions and interactions with databases through mysql are working with cron. But ajax is not. I know it's(javascript) a client-side script, but is there any other way ? Pls help as to how i can execute javascript(ajax) written in a file through cron .   </p>\n"},{"tags":["php","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12987939,"title":"AJAX weird redirection?","body":"<p>I have some AJAX code that is redirecting when button is pressed.</p>\n\n<p>It is redirecting to members.php</p>\n\n<p>This is the AJAX code:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n\n    function ajaxFunction(){\n            var ajaxRequest;  // The variable that makes Ajax possible!\n\n            try{\n                // Opera 8.0+, Firefox, Safari\n                ajaxRequest = new XMLHttpRequest();\n            } catch (e){\n                // Internet Explorer Browsers\n                try{\n                    ajaxRequest = new ActiveXObject(\"Msxml2.XMLHTTP\");\n                } catch (e) {\n                    try{\n                        ajaxRequest = new ActiveXObject(\"Microsoft.XMLHTTP\");\n                    } catch (e){\n                        // Something went wrong\n                        alert(\"Please update your browser.\");\n                        return false;\n                    }\n                }\n            }\n        }\n\n        // Create a function that will receive data sent from the server\n        ajaxRequest.onreadystatechange = function(){\n            // We still need to write some code here\n                if(ajaxRequest.readyState == 4){\n                    // Get the data from the server's response\n                    response = ajaxRequest.responseText;\n                }\n        }\n        ajaxRequest.open(\"GET\", \"accept.php?id=&lt;?php echo $articleid; ?&gt;&amp;state=accept$p=a9dafdd0fe68c6f64841e265e1c8832a\", true);\n        ajaxRequest.send(null);                 \n    }       \n\n&lt;/script&gt;\n</code></pre>\n\n<p>And this is the button:</p>\n\n<pre><code>&lt;input type=\"submit\" onChange=\"ajaxFunction();\" /&gt;\n</code></pre>\n\n<p>And this is the contents of accept.php:</p>\n\n<pre><code>&lt;?php\n    echo \"ACCEPTED\";\n?&gt;\n</code></pre>\n\n<p>Ideas?</p>\n"},{"tags":["javascript","css","ruby-on-rails","ajax","append"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12986638,"title":"How to cycle odd and even when using ajax append?","body":"<p>I have a page where newly created Choices are appended to the list with some ajax code, so the user don't have to refresh the entire page. The list contains of 2 columns, where the column on the right have to have a css class called \"ending\", which makes sure it's floated to the right and the padding is zero on the right side as well.</p>\n\n<p>The problem is that when a new Choice is appended the partial which is rendered is exspecting multiple Choices if the cycle function should work.</p>\n\n<p>Please see my code below and let me know if you have any suggestions to how the code should be altered so the partial inserts the correct css class.</p>\n\n<p>PARTIAL:</p>\n\n<pre><code>&lt;% @tickets.each do |choice| %&gt;\n    &lt;div id=\"&lt;%= choice.id %&gt;\" class=\"&lt;%= cycle(\"ticket shadow\", \"ticket shadow ending\") %&gt;\" data-time=\"&lt;%= choice.created_at.to_i %&gt;\"&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>AJAX in VIEW</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var pusher = new Pusher('&lt;%= Pusher.key %&gt;'); // Replace with your app key\n    var channel = pusher.subscribe('choices');\n\n    channel.bind('created', function(data) {\n        var after = $('.ticket:last').attr('data-time');\n\n        var settings = { after: after}\n        $.ajax({\n            url: '/Home/Index',\n            type: 'POST',\n            dataType: 'json',\n            data: settings,\n            success: function (data) {\n                $(\"#tickets\").append(data.html);\n                }\n          });\n        }\n\n    );\n&lt;/script&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I tried out the below and that seems to work, but also seems a bit hacky.. anyone with a smoother solution?</p>\n\n<pre><code>if (css_end == \"ticket shadow\") {\n  $(\".ticket:last\").addClass(\"ending\");\n}\n</code></pre>\n"},{"tags":["php","javascript","ajax","implode"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":12955310,"title":"How to use javascript instead of the PHP in this example","body":"<p>Hi all I need to return a results from PHP to Javascript.</p>\n\n<p>Here is my PHP code and I need to form it to be used in javascript.</p>\n\n<pre><code>$result = dbMySql::Exec('SELECT Latitude,Longitude FROM data');\nwhile ($row = mysqli_fetch_assoc($result))\n   $coordinates[] = 'new google.maps.LatLng(' . $row['Latitude'] . ', ' . $row['Longitude'] . ')';\n</code></pre>\n\n<p>I need to return an array $coordinates and implode it like this but with Javascript:</p>\n\n<pre><code>var flightPlanCoordinates = [&lt;?php echo implode(',', $coordinates) ?&gt;];\n</code></pre>\n\n<p>This is how I started in javascript:</p>\n\n<pre><code>$.ajax({\n        type: 'POST',\n        url: 'history.php',\n        data: {'query': url},\n       });\nvar flightPlanCoordinates = [&lt;?php echo implode(',', $coordinates) ?&gt;];\n</code></pre>\n\n<p>And I need to fill this variable with returned data and with the JOIN or some other function that does same thing as implode in PHP.</p>\n\n<p>EDIT:</p>\n\n<p>This is my ajax code:</p>\n\n<pre><code>$.ajax({\n                  type: 'POST',\n                  url: 'history.php',\n                  data: {\n                  'id_user':$('#select-choice-user').val(),\n                  'reg_id':$('#select-choice-reg').val(),\n                  'd_year1':$('#select-choice-year1').val(),\n                  'd_month1':   $('#select-choice-month1').val(),\n                  'd_day1':$('#select-choice-day1').val(),\n                  'd_year2':$('#select-choice-year2').val(),\n                  'd_month2':   $('#select-choice-month2').val(),\n                  'd_day2':$('#select-choice-day2').val()\n                  },\n                  success: function(data)//callback to be executed when the response has been received\n                        {\n\n                            for (var i=0;i&lt;data.length;i++)\n                            {\n                                flightPlanCoordinates[i] = new google.maps.LatLng(data[i].x,data[i].y);\n                            }\n                        }\n                });\n</code></pre>\n\n<p>These are returned values in JSON format:</p>\n\n<pre><code>[\n    {\n        \"x\": \"46.5564266666667\",\n        \"y\": \"15.6467166666667\"\n    },\n    {\n        \"x\": \"46.5566583333333\",\n        \"y\": \"15.6465533333333\"\n    },\n    {\n        \"x\": \"46.5567416666667\",\n        \"y\": \"15.6465566666667\"\n    },\n    {\n        \"x\": \"46.556745\",\n        \"y\": \"15.646555\"\n    },\n    {\n        \"x\": \"46.5567366666667\",\n        \"y\": \"15.6465766666667\"\n    },\n    {\n        \"x\": \"46.55675\",\n        \"y\": \"15.6465933333333\"\n    },\n    {\n        \"x\": \"46.55677\",\n        \"y\": \"15.6466116666667\"\n    },\n    {\n        \"x\": \"46.5567766666667\",\n        \"y\": \"15.6466183333333\"\n    },\n    {\n        \"x\": \"46.5567783333333\",\n        \"y\": \"15.64662\"\n    },\n    {\n        \"x\": \"46.5567583333333\",\n        \"y\": \"15.6466066666667\"\n    },\n    {\n        \"x\": \"46.556725\",\n        \"y\": \"15.6465966666667\"\n    },\n    {\n        \"x\": \"46.5566983333333\",\n        \"y\": \"15.6465983333333\"\n    }\n]\n</code></pre>\n\n<p>I've checked in JSON validator and format is valid. So I have no idea what could be wrong.</p>\n\n<p>I will put PHP code just to make sure that it is written as it should be:</p>\n\n<pre><code>$result = dbMySql::Exec($query);\nwhile ($row = mysql_fetch_assoc($result))\n{\n    $coordinates[] = array('x' =&gt; $row['Latitude'], 'y' =&gt; $row['Longitude']);\n}\necho json_encode($coordinates);//send as JSON object\n</code></pre>\n\n<p>Type of the errors that I get in the console:</p>\n\n<pre><code>Uncaught Error: Invalid value for constructor parameter 0: undefined   \nUncaught TypeError: Cannot set property '0' of undefined\n</code></pre>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":342,"score":0,"question_id":9921213,"title":"Error \"PageMethods is undefined\" in Webpart for Sharepoint 2010","body":"<p>I am getting PageMethods is not defined javascript error in my sharepoint 2010 webpart.\nBasically, i have created webpart which displays the google map. upon clicking the marker of the google map, i want to call the server side event. I have implemented the jquery for the same. I am using the PageMethods to call the server method. Below is the code which i fetched from some blog site only. I have also addeed the scriptmanager tag on my page with the EnablePageMethods attribute set to true.</p>\n\n<p>Script block:</p>\n\n<pre><code>&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        // Initialization                            \n        $(\"#ajax_loading_image\").hide();\n        // mousemove event\n        $().mousemove(function (e) {\n            window.status = e.pageX + ', ' + e.pageY;\n        });\n        // hook up the click event            \n        $(\"#execute_page_method\").click(function () {\n\n            $(\"#message\").text(\"I'm working...\");\n            $(\"#ajax_loading_image\").show(\"fast\");\n            $(\"#execute_page_method\").hide(\"fast\");\n\n            // Call some page method...\n            PageMethods.ProperMethodName(\"string\", function (result, userContext, methodName) {\n\n                $(\"#ajax_loading_image\").hide(\"slow\");\n                $(\"#execute_page_method\").show(\"slow\");\n\n                if (result.Success == true) {\n                    alert(\"true\");\n                    $(\"body\").css(\"background\", \"#CAFFD8\");\n                }\n                else {\n                    $(\"body\").css(\"background\", \"#CAFFFF\");\n                }\n\n                $(\"#message\").text(\"This took me \" + result.Time + \" milliseconds...  \");\n\n            });\n            return false;\n        });\n    });\n&lt;/script&gt;\n\n&lt;div&gt;\n    &lt;a id=\"execute_page_method\" href=\"http://jquery.com/\"&gt;Click!&lt;/a&gt;\n&lt;/div&gt;\n\nCode Behind events:\npublic class MethodReturnedValue\n        {\n            public int Time { get; set; }\n            public bool Success { get; set; }\n        }\n\n        [WebMethod(true)]\n        public static MethodReturnedValue ProperMethodName(string param)\n        {\n            Random random = new Random();\n            MethodReturnedValue retVal = new MethodReturnedValue();\n            retVal.Time = random.Next(5000);\n            Thread.Sleep(retVal.Time);\n            if (random.Next() % 2 == 0)\n            {\n                retVal.Success = true; ;\n            }\n            else\n            {\n                retVal.Success = false;\n            }\n            return retVal;\n        }\n</code></pre>\n\n<p>The same code is works fine in my asp.net appication and not working in my sharepoint application.\nCan anyone please help me out in this.</p>\n"},{"tags":["php","jquery","ajax","kohana"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":238,"score":0,"question_id":10994012,"title":"Kohana - how to create form without refresh?","body":"<p>How to create jQuery + ajax form without refresh?\nThis is my controller and views: </p>\n\n<p><a href=\"http://pastebin.com/GL5xVXFZ\" rel=\"nofollow\">http://pastebin.com/GL5xVXFZ</a></p>\n\n<p>In \"clear\" PHP I create something like this:</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"form#submit\").submit(function() {\n\n    var note = $('#note').attr('value');\n\n        $.ajax({\n            type: \"POST\",\n            url: \"add.php\",\n            data: \"note=\"+ note,\n            success: function(){\n                $('form#submit').hide(function(){$('div.success').fadeIn();});\n\n            }\n        });\n    return false;\n    });\n});\n</code></pre>\n\n<p>in add.php file is INSERT to Database.</p>\n"},{"tags":["ajax","jsf","primefaces"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12969977,"title":"tree contextMenu disappears immediately","body":"<p>I'm using a tree with a contextMenu here's the code :</p>\n\n<pre><code>      &lt;p:contextMenu id=\"campaignPlaneTreeContextMenu\" for=\"campaignPlanetree\" &gt;\n          &lt;p:menuitem value=\"New Camapign\" disabled=\"#{projectCampaignManagementMB.campaignOptionsFlag}\" /&gt;\n          &lt;p:menuitem value=\"Assign\" disabled=\"#{projectCampaignManagementMB.FSTOptions}\" /&gt;\n          &lt;p:menuitem value=\"Copy campaign\" disabled=\"#{projectCampaignManagementMB.FSTOptions}\"/&gt;\n          &lt;p:menuitem value=\"Paste Campaign\" disabled=\"#{projectCampaignManagementMB.pasteOptionCampaignFlag}\"/&gt;\n          &lt;p:menuitem value=\"Delete\" disabled=\"#{projectCampaignManagementMB.FSTOptions}\" /&gt;\n          &lt;p:menuitem value=\"Import Tests\" disabled=\"#{projectCampaignManagementMB.campaignOptionsFlag}\" /&gt;\n      &lt;/p:contextMenu&gt;\n      &lt;p:tree id=\"campaignPlanetree\"\n                    value=\"#{projectCampaignManagementMB.root}\" var=\"node\"\n                    selectionMode=\"single\"\n                    selection=\"#{projectCampaignManagementMB.selectedNode}\"\n                     dynamic=\"true\"&gt;\n\n          &lt;p:ajax event=\"select\" listener=\"#{projectCampaignManagementMB.onCampaignPlaneNodeSelect}\" update=\":campaignForm:addCampaignBtn :campaignForm:renameCampaignBtn :campaignForm:importCampaignBtn :campaignForm:deleteCampaignBtn :campaignForm:importCampaignDlg :campaignForm:campaignPlaneTreeContextMenu\" /&gt; \n\n          &lt;p:treeNode  value=\"#{node}\"&gt;\n              &lt;h:outputText value=\"#{node}\" /&gt;\n          &lt;/p:treeNode&gt;\n           .....\n</code></pre>\n\n<p>ManagedBean:</p>\n\n<pre><code>if(selectedNode.getData() instanceof Campaign){// when a user select a tree node the contextmenu item are disabled and enabled\n\n          setCampaignOptionsFlag(false);\n        ....   \n  }\n</code></pre>\n\n<p>Without the disabled attribute every thing is good, but after adding it the contextmenu disappears immediately.</p>\n"},{"tags":["php","jquery","ajax","json"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":768,"score":0,"question_id":4536431,"title":"AJAX: How can I return an object to jquery?","body":"<p>I'm wondering if I can return an object from <code>json_encode()</code> to JQuery.  If I were to do something like this...</p>\n\n<pre><code>$.ajax({\n   type : 'POST',\n   url  : 'next.php',\n   dataType : 'json',\n   data     : { nextID : 2 },\n   success  : function ( data ) {\n\n            // do something with data.myObject.memberVariable\n\n          },\n      error    : function ( XMLHttpRequest, textStatus, errorThrown) {\n\n           //  didn't work!\n\n      }\n});     \n</code></pre>\n\n<p>AND this (next.php)</p>\n\n<pre><code>&lt;?php\n\ninclude_once('myClass.php');\n\n$myObj = getMyObject( $_POST['nextID'] );  // get an object\n\n$return['myObject'] = $myObj;\n\necho json_encode($return);\n\n?&gt;\n</code></pre>\n\n<p>Now I've tested this method but whenever i try to do <code>data.myObject.memberVariable</code> all i get is <code>[object Object]</code>.  How can I actually access the variables of the object?  Hopefully the code above helps explain my question :(</p>\n"},{"tags":["jquery","ajax","history","pushstate","pjax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":177,"score":1,"question_id":7775171,"title":"Get controller and action names with pjax?","body":"<p>In my application I use this technique:</p>\n\n<pre><code>&lt;body id=\"action\" class=\"controller\"&gt;\n</code></pre>\n\n<p>Is there a way to <a href=\"https://github.com/defunkt/jquery-pjax\" rel=\"nofollow\">pjax</a> send it along with the <code>#container</code>?</p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","xmlhttprequest"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":1390,"score":1,"question_id":7271870,"title":"What's wrong with this code? :/","body":"<p>i think my code is ok but when i try to launch the ajax call binded to #save input it reloads the page and no xhr calls are launched :/ , firebug console shows me this error:</p>\n\n<p><code>uncaught exception: [Exception... \"Not enough arguments [nsIDOMLocation.replace]\"  nsresult: \"0x80570001 (NS_ERROR_XPC_NOT_ENOUGH_ARGS)\"  location: \"JS frame :: <a href=\"http://localhost/mysite/js/jquery.js\" rel=\"nofollow\">http://localhost/mysite/js/jquery.js</a> :: &lt;TOP_LEVEL&gt; :: line 18\"  data: no]\n<a href=\"http://localhost/mysite/js/jquery.js\" rel=\"nofollow\">http://localhost/mysite/js/jquery.js</a>\nLine 18</code></p>\n\n<p>i'm using jQuery 1.6.2 version and my code is simply this :</p>\n\n<pre><code>&lt;ul class=\"profile-account\"&gt;\n                    &lt;li&gt;&lt;h1&gt;Account&lt;/h1&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;h4&gt;Username&lt;/h4&gt;&lt;input type=\"text\" id=\"username\" class=\"bradius3\" value=\"&lt;?php echo $populateUser-&gt;username; ?&gt;\"/&gt;&lt;/li&gt;\n                    &lt;li class=\"error\" id=\"error_username\"&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;h4&gt;Email&lt;/h4&gt;&lt;input type=\"text\" id=\"email\" class=\"bradius3\" value=\"&lt;?php echo $populateUser-&gt;email; ?&gt;\"/&gt;&lt;/li&gt;\n                    &lt;li class=\"error\" id=\"error_email\"&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;h4&gt;Password&lt;/h4&gt;&lt;input type=\"password\" id=\"password\" class=\"bradius3\"/&gt;&lt;/li&gt;\n                    &lt;li class=\"error\" id=\"error_password\"&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;h4&gt;Password Confirm&lt;/h4&gt;&lt;input type=\"password\" id=\"confirm-password\" class=\"bradius3\"/&gt;&lt;/li&gt;\n                    &lt;li class=\"error\" id=\"error_password_confirm\"&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;h4&gt;Location&lt;/h4&gt;&lt;input type=\"text\" class=\"bradius3\" id=\"location\" /&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;h1&gt;About Me&lt;/h1&gt;&lt;textarea id=\"about\"&gt;&lt;?php echo $populateUser-&gt;about; ?&gt;&lt;/textarea&gt;&lt;/li&gt;\n                    &lt;li class=\"error\" id=\"error_about\"&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;input type=\"submit\" id=\"save\" class=\"button floatRight bradiusMax\" value=\"Save\"&gt;&lt;/li&gt;\n\n                 &lt;/ul&gt;\n</code></pre>\n\n<p>and ajax script:</p>\n\n<pre><code>var url_modify_account_xhr = \"&lt;?php echo site_url('auth/modify_account_xhr');?&gt;\";\nvar username;\nvar email;\nvar password;\nvar password_confirm;\nvar location;\nvar about;\n$(document).ready(function(){\n$('#users,#users span').addClass('active');\n$('#myaccount').addClass('user-profile-menu-active');\n\n$('#save').live('click',function(){\nusername = $('#username').val();\nemail = $('#email').val();\npassword = $('#password').val();\npassword_confirm = $('#password_confirm').val();\nlocation = $('#location').val();\nabout = $('#about').val();\nmodify_account_xhr(url_modify_account_xhr,username,email,password,password_confirm,location,about);\n});\n\n});\n\nfunction modify_account_xhr(url_modify_account_xhr,username,email,password,password_confirm,location,about){\n\n   $.ajax({\n        type:'POST',\n        dataType:'json',\n        url: url_modify_account_xhr,\n        data: {'username':username,'email':email,'password':password,'password_confirm':password_confirm,'location':location,'about':about},\n        beforeSend:function(){\n        $('.ajax-loading').show();\n       // $(_starter).attr(\"disabled\",\"disabled\");\n        },\n        success:function(json){\n        $('.ajax-loading').hide();\n        //$(_starter).attr(\"disabled\",\"\");\n        }\n\n\n    });\n}\n</code></pre>\n\n<p>really i'm going crazy :||</p>\n"},{"tags":["php","jquery","ajax","json","paging"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":48,"score":-3,"question_id":12986624,"title":"how to create jQuery Array Paging","body":"<p>i have an function that return data in jQuery, and i want to add some paging. any one can help? </p>\n\n<pre><code>function fetchAll()\n    {\n        $.ajax({  \n            url: \"../modul/articel/select_articel.php\", \n            dataType: \"json\", \n            success: function(data)\n            {\n                for ($i in data)\n                {  \n                    var obj = data[$i];\n\n                    var id = obj[0]; \n                    var title = obj[1];\n                    var detail = obj[2];\n\n                    $('#tampil_data_table &gt; tbody').append(\"&lt;tr&gt;&lt;td&gt;\"+id+\"&lt;/td&gt;&lt;td&gt;\"+title+\"&lt;/td&gt;&lt;td&gt;\"+detail+\"&lt;/td&gt;&lt;td&gt;&lt;/tr&gt;\"); \n\n// append data to tbody\n\n                }// End FOR\n            } //End Success \n          }); //END AJAX \n</code></pre>\n"},{"tags":["javascript","jquery","ajax","logging"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12986491,"title":"Logging the usage of js keyboard navigation with AJAX calls from JS code or something","body":"<p>I started to add <a href=\"http://stackoverflow.com/questions/12682157/keyboard-navigation-with-arrow-keys-next-and-back-for-changing-filenames\">this keyboard navigation</a> for my next/back pages, and wanted to log the usage of it..  I mean how much people use it, and from what pages and so..  and I've been told that it could be done with AJAX calls from JS code or something..</p>\n\n<p>Any suggestions how to implement this?</p>\n"},{"tags":["asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12986249,"title":"asp.net ajax Issues","body":"<p>I want to validate the textbox on text change event. When i click on the button, and enter any invalid address, the <strong>Invalid Email Address</strong> Error occurs firstly and then immediately hides. </p>\n\n<p>I also have an isRecordAlreadyExist Function, this function checks the duplicate values exist in the database. I want this checking to be performed at textchanged event. But the event Dosent gets fired. and the value is not checked.\nMy Code:</p>\n\n<pre><code>&lt;tr&gt;\n            &lt;td style=\"padding-top: 20px;\"&gt;\n                Email Address&lt;asp:RequiredFieldValidator ID=\"RequiredFieldValidator5\" runat=\"server\"\n                    ErrorMessage=\"*\" ControlToValidate=\"txtEmail\" ForeColor=\"Red\" ValidationGroup=\"val\" Display=\"Dynamic\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n            &lt;/td&gt;\n            &lt;td style=\"padding-top: 20px;\"&gt;\n                &lt;asp:UpdatePanel ID=\"UpdatePanel2\" runat=\"server\"&gt;\n                    &lt;ContentTemplate&gt;\n                        &lt;asp:TextBox ID=\"txtEmail\" runat=\"server\" OnTextChanged=\"txtEmail_TextChanged\" AutoPostBack=\"true\"&gt;&lt;/asp:TextBox&gt;&lt;asp:RegularExpressionValidator\n                            ID=\"regexEmail\" runat=\"server\" ErrorMessage=\"Invalid Email Address\" ControlToValidate=\"txtEmail\"\n                            ValidationExpression=\"\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*\" ForeColor=\"Red\"\n                            ValidationGroup=\"\"&gt;\n                        &lt;/asp:RegularExpressionValidator&gt;\n                    &lt;/ContentTemplate&gt;\n                &lt;/asp:UpdatePanel&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n&lt;tr&gt;\n            &lt;td style=\"padding-top: 10px;\"&gt;\n                &lt;asp:Button ID=\"btnSubmit\" runat=\"server\" Text=\"Submit\" CssClass=\"btnSubmitCSS\" OnClick=\"btnSubmit_Click\"\n                    ValidationGroup=\"val\" OnClientClick=\"return chk_isValid();\" /&gt;\n                &lt;asp:Button ID=\"btnReset\" runat=\"server\" CausesValidation=\"False\" Text=\"Reset\" CssClass=\"btnSubmitCSS\"\n                    OnClick=\"btnReset_Click\" /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n</code></pre>\n\n<p>My Code Behind.. </p>\n\n<pre><code>protected bool isRecordAlreadyExist(TextBox txt_Value, int res)\n{\n    ds = new DataSet();\n    paramArray = new string[3, 2];\n    paramArray[0, 0] = \"@uname\";\n    paramArray[0, 1] = txtuname.Text.Trim();\n    paramArray[1, 0] = \"@emailid\";\n    paramArray[1, 1] = txtEmail.Text.Trim();\n    paramArray[2, 0] = \"`\";\n    obj = new DalLib();\n    ds = obj.getDataSet(\"sp_Tbl_Login_MatchValues\", paramArray);\n    gvLogin.DataSource = ds.Tables[res].DefaultView;\n    if (ds.Tables[res].Rows.Count &gt; 0)\n    {\n        mtvResult.ActiveViewIndex = 3;\n        btnSubmit.Enabled = false;\n        return false;\n    }\n    else\n    {\n        btnSubmit.Enabled = true;\n        return true;\n    }\n}\n</code></pre>\n\n<p>my asp:View Control:</p>\n\n<pre><code>&lt;asp:View ID=\"vAlreadyExist\" runat=\"server\"&gt;\n            &lt;img src=\"Images/delete.png\" alt=\"Edit\" /&gt;\n            &lt;asp:Label ID=\"lblAlreadyExist\" runat=\"server\"&gt;Record Already Exist&lt;/asp:Label&gt;\n        &lt;/asp:View&gt;\n\n\nprotected void btnSubmit_Click(object sender, EventArgs e)\n    {\n\n        if (ViewState[\"action\"].ToString() == \"Insert\")\n        {\n            obj = new DalLib();\n            paramArray = new string[7, 2];\n           // if (!string.IsNullOrEmpty(txtFullName.Text.Trim()))\n            {\n                paramArray[0, 0] = \"@FullName\";\n                paramArray[0, 1] = txtFullName.Text.Trim();\n            }\n\n            //if (!string.IsNullOrEmpty(txtuname.Text.Trim()))\n            {\n\n                paramArray[1, 0] = \"@uname\";\n                paramArray[1, 1] = txtuname.Text.Trim();\n            }\n            //if (!string.IsNullOrEmpty(txtPwd.Text.Trim()))\n            {\n                paramArray[2, 0] = \"@pwd\";\n                paramArray[2, 1] = txtPwd.Text.Trim();\n            }\n            //if (!string.IsNullOrEmpty(txtEmail.Text.Trim()))\n            {\n                paramArray[3, 0] = \"@emailid\";\n                paramArray[3, 1] = txtEmail.Text.Trim();\n            }\n\n            paramArray[4, 0] = \"@isAdmin\";\n            paramArray[4, 1] = chkAdmin.Checked.ToString();\n\n            paramArray[5, 0] = \"@isActive\";\n            paramArray[5, 1] = chkActive.Checked.ToString();\n            paramArray[6, 0] = \"`\";\n            result = obj.setData(\"sp_Tbl_Login_Insert\", paramArray);\n            LoadData();\n            EmptyFields();\n            mtvResult.ActiveViewIndex = 0;\n        }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>protected void txtEmail_TextChanged(object sender, EventArgs e)\n{\n    isRecordAlreadyExist(txtEmail, 1);\n}\n</code></pre>\n"},{"tags":["c#","asp.net","ajax","asp.net-ajax","updatepanel"],"answer_count":4,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":12627,"score":7,"question_id":503662,"title":"Updating a control outside the UpdatePanel","body":"<p>So I have a <code>UserControl</code> with some cascading <code>DropDownList</code>s on it.  Selecting from list 1 enables list 2, which in turn enables list 3.  Once you've made a selection in all three lists, you can move to the next page.</p>\n\n<p>The <code>DropDownList</code>s are all inside an <code>UpdatePanel</code>.  But the \"Next Page\" button is outside the <code>UpdatePanel</code>.  That button should be disabled until all three lists have a selection, and then it should be enabled again.  But since the button is outside the <code>UpdatePanel</code>, it doesn't update when I make selections.  (<strong>Edit</strong>: The \"Next Page\" button is on a page that also contains the <code>UserControl</code>.)</p>\n\n<p>I know one way to resolve this:</p>\n\n<pre><code>var scriptManager = ScriptManager.GetCurrent(this.Page);\nscriptManager.RegisterPostBackControl(dropDownList1);\nscriptManager.RegisterPostBackControl(dropDownList2);\nscriptManager.RegisterPostBackControl(dropDownList3);\n</code></pre>\n\n<p>This ensures a postback when any dropdown list is changed, so that the button can update.  But if I do this, I might as simplify by getting rid of the <code>UpdatePanel</code> in the first place.</p>\n\n<p>Is there another way, through some clever JavaScript or something, that I can update a control outside an <code>UpdatePanel</code> without having to give up Ajax?</p>\n"},{"tags":["php","jquery","html","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12985531,"title":"Jquery Simple Ajax POST Request Not Working","body":"<p>I have made a test jquery-ajax post script, i am going to implement it in my rating and comment system, but this script is not working.</p>\n\n<p>I have done only simple post request like this.</p>\n\n<p><strong>test.php</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"js/jquery.js\"&gt;&lt;/script&gt; \n&lt;script type=\"text/javascript\"&gt;\n$.ajax({ \n  type: \"POST\",\n  url: 'test.php',                        \n  data: {\n        value1:'value1', \n        value2:'value2', \n        value3:'value3', \n        value4:'value4', \n        value5:'value5', \n        value6:'value6', \n        value7:'value7', \n        value8:'value8'\n      },                        \n  cache: false,              \n  success: function(value)          \n   {\n       alert(value)\n   }\n});\n&lt;/script&gt;\n\n&lt;?php \n$value1 =  $_POST['value1'];\n$value2 =  $_POST['value2'];\n$value3 =  $_POST['value3'];\n$value4 =  $_POST['value4'];\n$value5 =  $_POST['value5'];\n$value6 =  $_POST['value6'];\n$value7 =  $_POST['value7'];\n$value8 =  $_POST['value8'];\n\n$value = array($value1,$value2,$value3,$value4,$value5,$value6,$value7,$value8);\necho json_encode($value);\n\n?&gt;\n</code></pre>\n\n<p>Please see and suggest the ways to make it work.</p>\n\n<p>Thanks. </p>\n"},{"tags":["ajax","sencha-touch","extjs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3202,"score":0,"question_id":6075560,"title":"ajax problem with sencha touch","body":"<p>I am trying to submit a form using ajax in the sencha touch framework. It's a simple form that asks for a user's name, email address, and a brief message. I then want to post the data to a php script that simply emails the data to me. </p>\n\n<p>The problem I have is when I try to submit the form I get the following error:\n\"SyntaxError: Unable to parse JSON string\" </p>\n\n<p>The code to send the request is as follows:</p>\n\n<pre><code>var userName = name.getValue();\nvar userEmail = email.getValue();\nvar userMessage = message.getValue();\nExt.Ajax.request({\n    url:'path/to/phpfile.php',\n    jsonData:{\"name\":userName, \"email\":userEmail, \"message\":userMessage},\n    method:\"POST\",\n    success:function(){\n        alert(\"Success!\");\n    },\n    failure:function(){\n        alert(\"Error\");\n    }\n});\n</code></pre>\n\n<p>The error occurs in the sencha touch framework on line 14583, which is</p>\n\n<pre><code>Ext.util.JSON = {\n    encode: function(o){\n        return JSON.stringify(0);\n    },\n    decode: function(s){ \n        return JSON.parse(s); //this is line 14583\n    }\n};\n</code></pre>\n\n<p>I'm just starting to learn Ext and sencha touch so could someone please point in the right direction here? Any threads/tutorials/examples would be greatly appreciated.</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["ajax","codeigniter-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12901268,"title":"codeigniter & cjax framework, fatal error class 'CI_Controller' not found","body":"<p>I'm having this weird error with Codeigniter 2.1.3 and latest cjax for codeigniter. Weird thing is, when I download the latest codeigniter, and latest cjax framework for codeitniger and copy to my friends server, and call:</p>\n\n<pre><code>domain.com/ajax.php?test/test2 \n</code></pre>\n\n<p>to show the test ajax examples ... it works like a breeze, but when I do this on my server, I get server error (even tho, we both have same php version and such). Server then throws in error log file this error:</p>\n\n<p><code>PHP Fatal error:  Class 'CI_Controller' not found in /hosting/www/domain.com/www/application/response/test.php on line 3</code></p>\n\n<p>Now, I've read thru stackoverflow with people having this problem and solving by changing the construct and calling CI_Controller instead of Controller. But I already do that ... - I mean it's in the basic example that is suppose to work without touching the code, and it does, just not on my domain for some crappy reason.</p>\n\n<p><strong>Ajax.php</strong> from cjax framework for codeingter should load controller from folder response, named test and call function test2, which looks like this (the actual file named test.php):</p>\n\n<pre><code>class Test extends CI_Controller {\n\nfunction __construct()\n{\n    parent::__construct();\n}\n\n/**\n * \n * ajax.php?test/test/a/b/c\n * \n * @param unknown_type $a\n * @param unknown_type $b\n * @param unknown_type $c\n */\nfunction test($a = null,$b = null, $c = null)\n{\n    $this-&gt;load-&gt;view('test', array('data' =&gt; $a .' '.$b.' '.$c));\n}\n\n/**\n * ajax.php?test/test2\n * \n * Here we are testing out the javascript library.\n * \n * Note: the library it is  not meant to be included in ajax controllers - but in front-controllers,\n * it is being used here for the sake of simplicity in testing.\n */\nfunction test2()\n{\n    $ajax = ajax();\n\n    $ajax-&gt;update('response','Cjax Works');\n\n    $ajax-&gt;append('#response','&lt;br /&gt;&lt;br /&gt;version: '.$ajax-&gt;version);\n\n    $ajax-&gt;success('Cjax was successfully installed.', 5);\n\n    //see application/views/test2.php\n    $this-&gt;load-&gt;view('test2');\n}\n</code></pre>\n\n<p>I was hoping someone could bring some light into this problem - or maybe someone has already experienced it? </p>\n\n<p><strong>Thanks for your time!</strong>\nMart</p>\n"},{"tags":["php","jquery","ajax","xcode","e-commerce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":81,"score":0,"question_id":12984741,"title":"PHP Errors after Ajax Return (codeigniter framework)","body":"<p>I am working on a custom ecommerce website. If you go to the following link you can view my issue live.</p>\n\n<p><a href=\"http://faithpointdallas.com/ecom/category/view/choir-stoles\" rel=\"nofollow\">custom ecommerce site »</a></p>\n\n<p>(username: alex, password: superman)</p>\n\n<p>My problem is that when you click add to cart, my jquery ajax post works great and your item is added to the cart. However, if you first filter by price, THEN try and add to cart, I get a php error. Any ideas why this would be happening...</p>\n\n<p>I'm not super farmiliar with ajax, this is my first super intense ajax project so it may just be something simple like a problem i had earlier where someone introduced me to the live() function in juery. </p>\n\n<p>Any help is appreciated. Thanks.</p>\n"},{"tags":["jquery","ajax","jquery-plugins","fancybox"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2982,"score":0,"question_id":3410977,"title":"fancybox seems to not working with ajax content","body":"<p>I've got the following code: </p>\n\n<pre><code>$(document).ready(function(){ $(\"a#cakeImages\").live(\"click\",function() fancybox({\n        'titleShow'     : false,\n        'transitionIn'  : 'elastic',\n        'transitionOut' : 'elastic'\n    })) \n});\n</code></pre>\n\n<p>and I've got the correct images : </p>\n\n<pre><code>&lt;a id=\"cakeImages\" href=\"cakes/2/1.jpg\" &gt; \n&lt;img alt=\"cakeImages\" class=\"align-left no-border\" src=\"cakes/2/1.jpg\"  /&gt;&lt;/a&gt;\n</code></pre>\n\n<p>But it's not working at all. I use .live, because my actual images change due to the ajax script on the page. </p>\n\n<p>But when I only change it to :</p>\n\n<pre><code>$(document).ready(function() {$(\"a#cakeImages\").fancybox({\n            'titleShow'     : false,\n        'transitionIn'  : 'elastic',\n        'transitionOut' : 'elastic'\n     }) \n}); \n</code></pre>\n\n<p>Works only the firs time. \nHas anyone has a clue, what's going on ? :D </p>\n"},{"tags":["javascript","jquery","ajax","load","append"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":62,"score":0,"question_id":12966876,"title":"use jquery to add external webpage to div","body":"<p>I have the following piece of code to load a GIF while ajax takes a <code>div</code> and appends some content:</p>\n\n<pre><code>var loader = '&lt;img id=\"loader\" src=\"loading.gif\"/&gt;';\n\n$(loader).appendTo('#container').load(function() {\n    $('#container').find('#loader').delay(3000).fadeOut(function() {\n        $('#container').append('content')\n    })\n});\n</code></pre>\n\n<p>How can I modify this code so instead of appending <code>'content'</code>, it would append a <code>div</code> from an external webpage.</p>\n\n<p>For example the GIF will fadeout, and inside of the container <code>div</code> will be <code>www.somesite.com #somediv</code>.</p>\n\n<p>Thanks,<br>\nKatie</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":63,"score":3,"question_id":12984983,"title":"How to limit/specify the json response when using jQuery.ajax","body":"<p>So I have only recently began using ajax with jQuery. \nI am wondering if it is possible to limit or specify what you want back from the response.</p>\n\n<p>So say I had the following, and I only wanted to get the first 3 people or the last 3 out of a 100 people.</p>\n\n<pre><code>$.ajax({\n   type: \"GET\",\n   url: \"/people\"\n   dataType: \"json\",\n   success: function(data) {\n      // Do some awesome stuff.\n   }\n});\n</code></pre>\n\n<p>Now, I know you can pas and optional data object. Could this data object be used to limit or specify the response I want?</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["asp.net","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1034,"score":1,"question_id":3692516,"title":"Page_load fires twice for UpdatePanel refresh whilst having a jQuery bound change event on a drop down list","body":"<p>I've tried to wrap up my problem with a complete example below - the original problem is part of a jQuery plug-in that I'm writing to extend the behaviour of an ASP.NET ajax application I already have.</p>\n\n<p>The aspx page below has one drop down list which is marked for auto post back. I've also bound a change event using jquery (which ultimately I will swap for a .live() event to maintain the binding after the update panel refresh.) The problem is, when the jQuery event is bound I see two ajax begin requests and page_loads fire but only one ddlTest_OnselectedIndexChanged event. One of the page loads is malformed too - the content-length states it's about 300 bytes long whilst the totalBytes is 0 and form data empty. This does not happen if I bind to the click event of a button.</p>\n\n<p>Can someone explain why the erroneous page_load event is firing please??</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" %&gt;\n&lt;%@ Import Namespace=\"System.Diagnostics\" %&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" &gt;\n&lt;head runat=\"server\"&gt;\n    &lt;script runat=\"server\"&gt;\n      private void Page_Load(object sender, EventArgs e)\n      {\n          Debug.WriteLine(Request.Headers[\"Content-Length\"]);\n          Debug.WriteLine(Request.TotalBytes);\n          Debug.WriteLine(Request.Form.ToString());\n          Debugger.Break();\n      }\n      private void ddlTest_OnSelectedIndexChanged(object sender, EventArgs e)\n      {\n          Debugger.Break();\n      }\n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n        $(document).ready(function() {\n            Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(beginRequestHandler);\n            $(\"#&lt;%=ddlTest.ClientID%&gt;\").change(function() { alert('jQuery binding fired'); });\n        });\n        function beginRequestHandler() {\n            alert(\"Started ajax call\");\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n        &lt;asp:ScriptManager ID=\"SciptManager\" runat=\"server\" /&gt;\n        &lt;asp:UpdatePanel ID=\"updTest\" runat=\"server\" UpdateMode=\"Conditional\"&gt;\n            &lt;ContentTemplate&gt;\n                &lt;asp:DropDownList ID=\"ddlTest\" runat=\"server\" AutoPostBack=\"true\" OnSelectedIndexChanged=\"ddlTest_OnSelectedIndexChanged\" &gt;\n                    &lt;asp:ListItem&gt;First&lt;/asp:ListItem&gt;\n                    &lt;asp:ListItem&gt;Second&lt;/asp:ListItem&gt;\n                &lt;/asp:DropDownList&gt;\n            &lt;/ContentTemplate&gt;\n        &lt;/asp:UpdatePanel&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Update : I've narrowed the problem down even further. Firefox and Chrome both work as I would expect whilst IE is having a problem. I've also simplified the erroneous code to the example below. It's hard to believe it's this simple but the jQuery .change() method on the drop down list triggers the onchange event on the select element twice! I'll look for other people who've had this problem and report back my findings!</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" &gt;\n&lt;head runat=\"server\"&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n        $(document).ready(function() {\n            $('#ddlTest').change(function() { alert('jQuery event fired'); });\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n        &lt;asp:DropDownList id=\"ddlTest\" runat=\"server\" onchange=\"alert('element event');\"&gt;\n            &lt;asp:ListItem Text=\"First\" /&gt;\n            &lt;asp:ListItem Text=\"Second\" /&gt;\n        &lt;/asp:DropDownList&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","onchange"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4022,"score":0,"question_id":4344747,"title":"jQuery Load form elements through ajax, from onchange event of drop down box","body":"<p>I have dropdown and need to dynamical load form elements based on statement</p>\n\n<pre><code>&lt;select name=\"type\" id=\"type\"&gt;\n   &lt;option value=\"1\"&gt;input&lt;/option&gt;\n   &lt;option value=\"2\"&gt;text&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>case 1 load some form elements (inout etc..)<br>\ncase 2 clear these elements\n...</p>\n\n<p>Thanks</p>\n"},{"tags":["jquery","ajax","asp-classic"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1438,"score":2,"question_id":7504737,"title":"Classic asp file upload with jquery goodness?","body":"<p>Is there a combination of Classic ASP file uploading and JQUery that you've used to make a clean and solid Classic ASP Upload/progress bar/ajax solution?</p>\n"},{"tags":["ajax","callback","joomla1.7","jumi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":313,"score":0,"question_id":8939004,"title":"How to use a JUMI file in AJAX callback on Joomla","body":"<p>I'm trying to use a JUMI file (a component for Joomla that allows me to get aceess to Joomla MVC) in AJAX callback. The structure is like this:</p>\n\n<ol>\n<li>file.php that calls AJAX file is already a JUMI file.</li>\n<li>file ajax.js (included in file.php) makes the call.</li>\n<li>file.tooltip.php is a JUMI file which output is shown on file.php. It needs to be a JUMI because I need to access Joomla libraries to get the data it processess.</li>\n</ol>\n\n<p>To prevent the problem that JUMI outputs a file with all the template I'm using in the Joomla call method in the end of the url in ajax.js: &amp;tmpl=component. It works, but however it brings together all other calls for javascripts and so on contained in the template, which is bringing me to conflicts. The page is very slow and other javascript components are not working.</p>\n\n<p>Does anyone know how is the best way to approuch the situation and get to a solution?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["php","mysql","ajax","postgresql","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12971627,"title":"How to design database access from a browsergame","body":"<p>First a little bit context:\nI'm writing a little browsergame for practise my web-skills and fun :) There are users which own some factories and a main depot. These produce different types of products, which are stored in an internal factorydepot. The user can \"gather\" the factories to transfer the finished products into their main depot.</p>\n\n<p>For implementation i use PHP with PDO as database-connector. My webserver uses a MySQL-database and my for debugging i use a local Postgres-database.</p>\n\n<p>The user should be able to gather all factories without clicking on the gather-link and wait for response. Therefore I use Ajax so that the user can click all factories once and wait until all requests are finished. To prevent this parallel access from introduce inconsistency into my database, I use transactions with isolation level SERIALIZABLE. Because pdo doesn't support isolation levels, I send at the connection with my Postgres-db a query with</p>\n\n<pre><code>SET SESSION CHARACTERISTICS AS TRANSACTION ISOLATION LEVEL SERIALIZABLE;\nSET statement_timeout=10000;\n</code></pre>\n\n<p>The second query should prevent parallel transactions from canceling, while another transaction is in progress. Both queries return no errors, but doesn't work. When I send 8 nearly parallel requests, only 2-3 of them returns with success, the other returns an error from postgres \"25P02 IN FAILED SQL TRANSACTION\". While debugging it seems to me, that the transactions doesn't wait for the other to complete, but I'm not sure with this.</p>\n\n<p>Now my questions:</p>\n\n<ol>\n<li>Are there any possibilities to get isolation levels and timeouts working with PDO?</li>\n<li>Are there any alternatives which i can use? (except heavy-weight frameworks like Zend, i want to explore all mechanics from the deep)</li>\n<li>Can I solve my problems if i use only one type of database and a specialiced connector like mysqli? I thought it's a good idea to use PDO to be more flexible, but maybe it's not good for browsergames.</li>\n<li>Is my approach for the database-access ok? Or are there better designs?</li>\n<li>Are such errors normal and such transactions should be looped until success? When yes, with Ajax at client-side or with PHP at server-side?</li>\n</ol>\n"},{"tags":["html","ajax","get"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":3876,"score":4,"question_id":1105055,"title":"AJAX and NS_ERROR_DOM_BAD_URI error","body":"<p>I have been having the following problem, i think it's probably due to the fact that my approach may be misguided, but hopefully with your help i can sort this out!</p>\n\n<p>Basically, for my site i have a search provider (who has been paid, so i am not breaking any terms of use). When the search form is subbmitted i am directed to their domain where the results are displayed.</p>\n\n<p>Whilst i can customise the look of the returned results, there is only so far i can take this, and will never get it fitting in fully with the look and feel of my site.</p>\n\n<p>So, i thought, instead of doing the regular GET via the form, i would do an AJAXified GET and then inject the returned response into a div on the page - allowing me to maintain the look and feel and never leave our domain.</p>\n\n<p>This works fine in IE but in firefox i get \"<code>text/html (NS_ERROR_DOM_BAD_URI)</code>\" as an error. Having done some research i have discovered this is due to the AJAX request hitting a site outside of our domain.</p>\n\n<p>Thus, is there a better approach i can take to achieve the same effect? or is there a way i can get firefox and my AJAX request to play nice? What is really strange is that if i observe the request in the HttpFox (a neat FF add on), it reports the above error, but looking at the content returned it is all there as expected - so why can't i access it!!</p>\n\n<p>I would really like to get this to work as it is a whole lot simpler than rewriting all our CSS and stuff to get their results page looking almost like our site. Any help in this area would be much appreciated.</p>\n\n<p>Thanks,\nNick</p>\n"},{"tags":["asp.net","ajax","jquery-mobile","webforms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":565,"score":0,"question_id":10057145,"title":"How to mix jQuery Mobile and ASP.NET","body":"<p>Im new to web development. Im making a mobile website, using jQuery Mobile and ASP.NET 4.0 Webforms. I have made an initial login page (Default.aspx) in which the button calls an ajax javascript function, which calls a page method in the backend like so:</p>\n\n<p><strong>Default.aspx</strong></p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"Default.aspx.cs\" Inherits=\"UCP.Default\" %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;UA Cover Plus&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css\" /&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.6.4.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;!-- Login --&gt;\n    &lt;div data-role=\"page\" id=\"login\"&gt;\n        &lt;div data-role=\"header\" data-position=\"fixed\"&gt;\n           &lt;h1&gt;Login&lt;/h1&gt;\n            &lt;a href=\"#Family\" data-icon=\"gear\" class=\"ui-btn-right\" data-iconpos=\"notext\" data-theme=\"b\" &gt;Options&lt;/a&gt;\n        &lt;/div&gt;\n       &lt;div data-role=\"content\" data-theme=\"a\"&gt;   \n            &lt;input type=\"text\" id=\"txtUserName\" placeholder=\"Username\" /&gt;\n            &lt;input type=\"password\" name=\"passwordinput\" id=\"txtPassword\"  placeholder=\"Password\" value=\"\"  /&gt;\n            &lt;a href=\"javascript:Authenticate();\" data-role=\"button\" data-icon=\"check\" data-iconpos=\"right\"&gt;Log Me In!&lt;/a&gt;\n       &lt;/div&gt;&lt;!-- /content --&gt;\n    &lt;/div&gt;&lt;!-- /page --&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>Ajax JQuery Function :</strong></p>\n\n<pre><code>function Authenticate() {\n    $.ajax({\n        type: \"POST\",\n        url: \"Default.aspx/Authenticate\",\n        data: \"{'name': '\" + $('#txtUserName').val() + \"','pass': '\" + $('#txtPassword').val() + \"'}\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function (msg) {\n            if (msg.d != '-1') {\n                userId = msg.d;\n                GetCustomisedConsole();\n            } else {\n                alert(\"Authentication Failed\");\n            }\n        },\n        error: function () {\n            alert(\"Error :(\");\n        }\n    });\n};\n</code></pre>\n\n<p><strong>Page method in Default.aspx.cs</strong></p>\n\n<pre><code>    [WebMethod]\n    public static int Authenticate(string name, string pass)\n    {\n        using (DbContext db = new DbContext())\n        {\n            var user = db.Users.Where(x =&gt; x.UserName == name &amp;&amp; x.Password == pass).SingleOrDefault();\n            if (user != null)\n            {\n                return user.Id;\n            }\n            else\n            {\n                return -1;\n            }\n        }\n    }\n</code></pre>\n\n<p>My question is, is this the way its meant to be done? I ask this because I see in the jQuery examples the use of forms and submits, which I have no idea how to implement in asp.net.</p>\n\n<p>Any help would be appreciated thanks!</p>\n"},{"tags":["php","ajax","background-process"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12981256,"title":"Background php file processing without AJAX","body":"<p>Working with files compiler that puts a bit of a strain on <strong>FIRST</strong> homepage hit until the css files are compiled thus fooling the visitor that site is slow,</p>\n\n<p>I have successfully routed the function to ajax witch works very well but I cant let it go since it is bound to js and would love to do this with php </p>\n\n<p><strong>the ajax mootools</strong></p>\n\n<pre><code>new Request({\nurl: linktofile... and basic responses \n</code></pre>\n\n<p>does nothing else but is accessing php file which says </p>\n\n<pre><code>// sitename.com/?view=custom\nfile_get_contents('OF_THE_website_but_different_view');\n</code></pre>\n\n<p>so how would I do this from php  was trying <code>exec()</code> , cant get to work (WAMP local) \n<strong>CURL</strong> , would be same as if I would do <code>file_get_contents()</code> within homepage and slows everything down again was trying to see how <code>proc_open()</code> works but I cant figure it out </p>\n\n<p>so if anyone could rout me to use any php function as a fallback for ajax and call my <code>file_get_contents()</code> file in backend without slowing the homepage down.</p>\n\n<p><strong>please do not suggest SHELL , CRON , or any other lang but PHP</strong> </p>\n\n<p>Thank you!</p>\n"},{"tags":["java","html","ajax","jsf"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":5777852,"title":"Sun Development Studio for Java Server Faces, all links dead!","body":"<p>I am new to Java, and want to develop an Enterprise Application for a Weaving Mill, but the problem is technology, it needs to be web based because it is required to be workable on ipad also, so web based is best for them, i have searched on it and found that JSF is best for rapid web application development but whereever the link is, its dead, anybody knows from where can i download its development studio and sdk for netbeans, and am i going on right way, because the application which is required to be built must be similar to gmail or facebook. One thing more, i dont wana use PHP, because it does not have any good framework for rapid development for a high level enterprise application.</p>\n\n<p>Regards\nAtif</p>\n"},{"tags":["jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12954533,"title":"synchronize two ajax jquery function","body":"<p>I have two function of jQuery. Both the functions are calling jQuery ajax.<br/>\nboth have property async: false.<br/>\nIn both the function I am redirecting on basis of some ajax response condition.<br/>\n<br/>In the success of first function I am calling the another function and then redirecting to another page. But my first function is not redirecting because my second function is not waiting of the response of the first function.<br/>\nHope problem is clear from my question.</p>\n\n<p>my first function is as below</p>\n\n<pre><code>function fnGetCustomer() {\nfunction a(a) {\n    $(\"#loading\").hide();\n    //on some condition\n    //other wise no redirection\n    self.location = a;\n}\nvar b = $(\"input#ucLeftPanel_txtMobile\").val();\n\n\"\" != b &amp;&amp; ($(\"#loading\").show(), $.ajax({\n    type: \"POST\",\n    url: \"Services/GetCustomer.ashx\",\n    data: { \"CustMobile\": b },\n    success: a,\n    async: false,\n    error: function () {\n        $(\"#loading\").hide();\n    }\n}));\n</code></pre>\n\n<p>}</p>\n\n<p>and my second function I am calling the first function</p>\n\n<pre><code>function fnSecond() {\n    $.ajax({\n    type: \"POST\",\n    url: \"some url\",\n    async: false,\n    data: { \"CustMobile\": b },\n    success: function(){ \n       fnGetCustomer();\n       //if it has all ready redirected then do not redirect\n        // or redirect to some other place \n     },\n    error: function () {\n\n        $(\"#loading\").hide();\n    }\n\n}));\n</code></pre>\n\n<p>}</p>\n\n<p>I am using my first function all ready. So I don't want to change my first function.</p>\n"},{"tags":["asp.net","ajax","asp.net-ajax"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24873,"score":0,"question_id":684585,"title":"AJAX PageRequestManagerParserErrorException error in asp.net page","body":"<p>I keep getting this error on asp.net page button click...how do i resolve this?</p>\n\n<p>Microsoft JScript runtime error: Sys.WebForms.PageRequestManagerParserErrorException: The message received from the server could not be parsed. Common causes for this error are when the response is modified by calls to Response.Write(), response filters, HttpModules, or server trace is enabled.\nDetails: Error parsing near '\n\n\n<p>Thanks.</p>\n"},{"tags":["ajax","json","rest","spring-mvc","mapping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12984033,"title":"Spring MVC 3.1 : how to map JSON from a PUT request body?","body":"<p>I know this question has been asked a gazillion times, but I still cannot find a solution to my problem, which basically boils down to JSON deserialization from a PUT request. </p>\n\n<p>I've already added HiddenHttpMethodFilter as a filter.</p>\n\n<p>org.codehaus.jackson.jackson-mapper-lgpl is in the classpath.</p>\n\n<p>Here is the client part: </p>\n\n<pre><code>$.ajax({\n    url: '/occurrence',\n    type: 'PUT',\n    contentType: 'application/json',\n    data: JSON.stringify({id:id,startDate:startDate, endDate:endDate, frequencyType:frequency})\n })\n</code></pre>\n\n<p>Here is the controller part:</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/occurrence\")\npublic class OccurrenceController {\n\n    private static final String COMMAND = \"eventCommand\";\n\n    @Autowired\n    private PersistenceCapableOccurrence occurrenceDao;\n\n    @Autowired\n    private PersistenceCapableFrequencyType frequencyTypeDao;\n\n    @InitBinder(COMMAND)\n    public void customizeConversions(final WebDataBinder binder) {\n        DateFormat df = new SimpleDateFormat(\"dd/MM/yyyy HH:mm\");\n        df.setLenient(false);\n        binder.registerCustomEditor(Date.class, new CustomDateEditor(df, true));\n\n        EntityConverter&lt;FrequencyType&gt; frequencyTypeEntityConverter = new EntityConverter&lt;FrequencyType&gt;(frequencyTypeDao, FrequencyType.class, \"findByValue\", String.class);\n        ((GenericConversionService) binder.getConversionService()).addConverter(frequencyTypeEntityConverter);\n    }\n\n    @RequestMapping(method = PUT, consumes = \"application/json\")\n    @ResponseBody\n    public Long saveOccurrence(@RequestBody Occurrence occurrence) {\n        return occurrenceDao.saveOrUpdate(occurrence);\n    }\n}\n</code></pre>\n\n<p>Here are my two domain classes (Occurrence and FrequencyType):</p>\n\n<pre><code>public class Occurrence {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private long id;\n    @NotNull\n    @Column(name = \"start_date\")\n    @Type(type = \"org.jadira.usertype.dateandtime.joda.PersistentDateTime\")\n    private DateTime startDate;\n    @Column(name=\"end_date\")\n    @Type(type = \"org.jadira.usertype.dateandtime.joda.PersistentDateTime\")\n    private DateTime endDate;\n    @ManyToOne\n    @JoinColumn(name = \"frequency_type\", nullable = false)\n    private FrequencyType frequencyType;\n\n     /* C-tor (1 with [start,end,freq], another with [start,freq]), getters (no setters) */\n}\n\n@Entity\n@Table(name = \"frequency_types\")\npublic class FrequencyType {\n\n    public enum FrequencyTypeValues {\n        ONCE, DAILY, WEEKLY, MONTHLY, YEARLY;\n    }\n\n    private String value;\n\n    public FrequencyType() {}\n    public FrequencyType(FrequencyTypeValues value) {\n        this.value = value.name();\n    }\n\n    @Id\n    @Column(name = \"value\")\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        //validates value against the enumerated/allowed values (ie throws exceptions if invalid value)\n        FrequencyTypeValues.valueOf(value.toUpperCase());\n        this.value = value;\n    }\n}\n</code></pre>\n\n<p>All I get at the end is a 400 response.\nExample : </p>\n\n<pre><code>PUT Request\n{\"id\":\"\",\"startDate\":\"20/10/2012 17:32\",\"endDate\":\"\",\"frequencyType\":\"YEARLY\"}\n\nResponse\n\"NetworkError: 400 Bad Request - http://localhost:9999/occurrence\"\n</code></pre>\n\n<p>Thanks in advance for your help !\nRolf</p>\n"},{"tags":["ajax","asp.net-mvc-3"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12983659,"title":"ASP.NET MVC 3 Ajax.BeginForm() cannot find the Controller Action when in Views/Shared Folder?","body":"<p>Anyone know what's the deal here?  If I put an Ajax.BeginForm into a cshtml file in the </p>\n\n<h2>Views/Shared folder</h2>\n\n<p>it does not work:</p>\n\n<pre><code> @using (Ajax.BeginForm(\"TestAction\", \"Test\", new AjaxOptions\n {\n     HttpMethod = \"Post\"\n }\n , new { id = \"submitTestForm\" })) {}\n</code></pre>\n\n<p>but a regular Html.BeginForm does:</p>\n\n<pre><code>@using (Html.BeginForm(\"TestAction\",\"Test\",FormMethod.Post,new {id=\"submitTestForm\"})) {}\n</code></pre>\n\n<p>But if I move it up under the </p>\n\n<h2>Views/Test folder (the controller in this case would be TestController)</h2>\n\n<p>It works fine. </p>\n\n<p>Is this a bug? Or am I doing something wrong here?</p>\n"},{"tags":["php","javascript","jquery","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12915605,"title":"using ajax for displaying MySQL data","body":"<p>hi i'm new with php and i really don't know ajax. i making a photo gallery site i used the code below to display my photos i need to make possible with ajax or any other language, when someone click on the photo in index.php with the title example:\"happy day 2012\" want the photo being displayed in another page example:\"photo/happy-day-2012\"  </p>\n\n<pre><code>&lt;?php \n$link = mysql_connect(\"localhost\", \"root\",\"\");\nmysql_select_db(\"test\", $link);\n$query = \"select * from post order by id DESC;\";\n$results = mysql_query($query, $link) or die (\"error!\".mysql_error());\nif($results){\n$i = 1;\nwhile ($row = mysql_fetch_assoc($results)){\necho $row['title']. \"&lt;img src=/1/\" . $row['location'].\"width=580px&gt;\".\"&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;\";\n}\n}\n?&gt;\n</code></pre>\n\n<p>Please if possible can use lot of comments  on the code.</p>\n"},{"tags":["ajax","null","internet-explorer","getelementsbytagname"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5849,"score":1,"question_id":2901077,"title":"\"Null\" is null or not an object error in IE javascript","body":"<p>The following code executes fine in Firefox and Chrome, but gives an error:</p>\n\n<pre><code>'null' is null or not an object\n</code></pre>\n\n<p>when executed in Internet Explorer.</p>\n\n<pre><code>if (xmlhttp.responseXML != null)\n    {\n    var xmlDoc = xmlhttp.responseXML.documentElement ;\n    var ResultNodes = xmlDoc.getElementsByTagName (\"Result\") ;   &lt;---- error here\n    if (ResultNodes != null)\n        {\n</code></pre>\n\n<p>(I would have thought the line after the one indicated would be more likely to return the error but the debugger says the run-time error is at the line indicated) </p>\n\n<p>Any ideas why?</p>\n"},{"tags":["jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":12983435,"title":"How can I delete a row in the view only if the AJAX call & db deletion was successful?","body":"<p>I have a table where each row has a button for deletion. Actually I delete the row everytime without checking if the ajax call was successfull. How can I achieve that, so that the row will only be deleted if the ajax call was ok.</p>\n\n<p>Here is my clickhandler on each row </p>\n\n<pre><code>$(\"body\").on('click', \".ui-icon-trash\" ,function(){\n\n    var $closestTr = $(this).closest('tr');  // This will give the closest tr\n                            // If the class element is the child of tr          \n    deleteRowFromDB(oTable, closestTr);\n    $closestTr.remove() ;  // Will delete that\n });\n</code></pre>\n\n<p>And here my ajax call</p>\n\n<pre><code>function deleteRowFromDB(oTable, sendallproperty){\n\n        var deleteEntryRoute = #{jsRoute @Application.deleteConfigurationEntry() /}\n        console.log(\"route is: \" + deleteEntryRoute.url)\n        $.ajax({\n           url: deleteEntryRoute.url({id: sendallproperty}),\n           type: deleteEntryRoute.method,\n           data: 'id=' + sendallproperty\n        });\n</code></pre>\n"},{"tags":["jquery","ajax","concurrency"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":100,"score":0,"question_id":12963679,"title":"concurrent ajax calls","body":"<p>I am trying to do concurrent ajax calls in jquery but I haven't found anything specific regarding it. When I make 2 ajax calls, another one is being started only after the first one is finished. I tried <code>$.ajaxSetUp{(async: true)}</code>, but it didn't work the way i wanted. Can anyone help me with this?</p>\n\n<p><strong>[Edited]</strong>\nI have a form and on form submit I use the ajaxSubtmit of <a href=\"http://www.malsup.com/jquery/form/\" rel=\"nofollow\">form.js</a> as my form has <code>file input</code> as well.</p>\n\n<pre><code>$(\"form\").submit(function() {\n  $(this).ajaxSubmit();\n  $.getScript(\"url\");\n  return false; // to stop the normal working of form submit and submit form by ajax\n})\n</code></pre>\n\n<p>here the second ajax is called only after the first one is finished.</p>\n"},{"tags":["php","jquery","ajax","joomla"],"answer_count":6,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":8892,"score":4,"question_id":3157488,"title":"how to use Jquery AJAX in Joomla Components?","body":"<p>i m developing site in Joomla, meanwhile i stuck in a problem,please help me in below problem</p>\n\n<p>here is my folder structure for component</p>\n\n<pre><code>htdocs/Joomla/administrator/component/com_test/test.php,controller.php\n                                              models/test.php\n                                              controllers/test.php\n                                              views/test/view.html.php\n                                              view/test/tmpl/default.php\n</code></pre>\n\n<p>now in <code>view.html.php</code> i created a form where i m using <strong>jquery ajax code for usernmae availability check</strong></p>\n\n<p>but i m not getting how do i combine all things to get the result that usename is available or not</p>\n\n<p>here is my code written on <strong>test/view.html.php</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n jQuery(document).ready(function(){\n jQuery(\"#username\").change(function () {\n    var usr = jQuery(\"#username\").val();\n    if (usr.length &gt;= 2) {\n     jQuery(\"#status\").html('&lt;img src=\"loader.gif\" align=\"absmiddle\"&gt;&amp;nbsp;Checking availability...');\n     jQuery.ajax({\n         type: \"POST\",\n         url: \"index.php?option=com_test&amp;view=check_user\",\n         data: \"username=\" + usr,\n         success: function (msg) {\n         jQuery(\"#status\").ajaxComplete(function (event, request, settings) {\n         if (msg == 'OK') {\n            jQuery(\"#username\").removeClass('object_error'); // if necessary\n                jQuery(\"#username\").addClass(\"object_ok\");\n         }\n         else {\n               jQuery(\"#username\").removeClass('object_ok'); // if necessary\n               jQuery(\"#username\").addClass(\"object_error\");\n               jQuery(this).html(msg);\n         }\n       });\n      }\n    });\n  }    \n});\n\n&lt;script&gt;\n\n&lt;form action=\"\" method=\"post\" name=\"addUserForm\" id=\"addUserForm\" &gt; \n   &lt;table width=\"100%\" border=\"0\" cellpadding=\"4\" cellspacing=\"2\"&gt;\n     &lt;tr&gt;\n    &lt;th &gt;User Name :&lt;/th&gt;\n        &lt;td &gt;&lt;input type=\"text\" name=\"username\" id=\"username\" size=\"50\"&gt;\n             &lt;span id=\"status\"&gt;&lt;/span&gt;  \n        &lt;/td&gt;\n     &lt;/tr&gt;      \n   &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<hr>\n\n<p>i have created below folders structure for above action , please tell me where do i mistake</p>\n\n<pre><code>view/check_user/view.html.php\nviews/check_user/tmpl/default.php\n</code></pre>\n\n<p>code in <strong>check_user/view.html.php</strong></p>\n\n<pre><code>&lt;?php\n\n// no direct access\ndefined('_JEXEC') or die('Restricted access');\n\njimport( 'joomla.application.component.view');\n\n/**\n * HTML View class for the advertising component\n */\nclass TestViewCheck_user extends JView \n{\n   /**\n    * Default display function\n    */  \n    function display($tpl = null) \n    {\n        $testController = new TestController();\n        // Make an object of Main Model class contains Main functions\n        $testModel = $testController-&gt;getModel('test');\n        $userName  = JRequest::getVar('username');\n        parent::display($tpl);\n        }\n }\n?&gt;\n</code></pre>\n\n<p>but when i run this code...why\n<code>http://localhost/Joomla/includes/js/joomla.javascript.js</code> file runs infinite times.. and finally give 4 error</p>\n\n<p>now what i have to modify/add more??? please just guide me ....</p>\n\n<p>refer any useful link which teach to create component step by step ...it will be very helpful for me</p>\n\n<p>Thanks a lot </p>\n"},{"tags":["c#","javascript","asp.net","ajax","asp.net-ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":135,"score":0,"question_id":12980776,"title":"Getting Value From .aspx Page With Javascript","body":"<h2>PROLOGUE</h2>\n\n<p>Hai Experts,\nI'm in progress in making a web app, iam using Update Panel that contain many Panel in almost every page. The main form and others form has it's own Panel control and UpdatePanel contains all that panel in one page. Except the main form, all forms is hidden because in some condition i need to show the related form under the main form and if it's required i must show other related form again under it.</p>\n\n<h2>PROBLEMS</h2>\n\n<p>I want to put multiple upload functionality in one that has the most panel (<em>still it only have 1 Update Panel</em>). The problem is because of that Update Panel, <strong>FileUpload control</strong> that i want to get value from <strong>aspx.cs</strong> always contain null. Someone has give me a solution for using AJAX Control Tool Kit and it works (<em>the FileUpload control is sending it's value 'not null anymore'</em>). Then the problem comes next is, i want to make filter like limited extension or limited length in Java Script but FileUpload control still sending null to Java Script. If i put that filter on the server by click <strong>btnRefSave_Click</strong> (<em>you could see at the script below</em>), when the page show message \"failed\" because some fields is not filled or because other, the page always reload and i must refill all that many field and again the position view of page back to its default just like when i open a new page, thats why i dont want to put that filter on server.</p>\n\n<p>i've tried like this (Error : to many characters in character literal) :</p>\n\n<pre><code> ------&gt; var UploadControl = document.getElementById('&lt;%=FileUpload'+exCounter+'.ClientID%&gt;').Value;\n</code></pre>\n\n<h2>CONCLUSION</h2>\n\n<p>Please help me solve this problem :\n<strong>How to make all the fields has i fill is not clear itself and the position view of page does not change (just like javascript do).</strong></p>\n\n<h2>SCRIPT</h2>\n\n<pre><code>&lt;%@ Register Assembly=\"AjaxControlToolkit\" Namespace=\"AjaxControlToolkit\" TagPrefix=\"ajaxToolkit\" %&gt;\n\n    &lt;script&gt;\n    var counter = 1;\n    function AddFileUpload() {\n        if (counter &lt; 5) {\n            counter++;\n            var div = document.createElement('DIV');\n            div.innerHTML = '&lt;input id=\"FileUpload' + counter + '\" name = \"file' + counter +\n         '\" type=\"file\" TabIndex=\"'+ counter +'\"/&gt;' +\n          '&lt;input id=\"Button' + counter + '\" type=\"button\" ' +\n          'value=\"Remove\" onclick = \"RemoveFileUpload(this)\" /&gt;';\n            document.getElementById(\"FileUploadContainer\").appendChild(div);\n        }\n        else\n            alert(\"Can\\'t attach more than 5 file\");\n         }\n        function RemoveFileUpload(div) {\n        if (counter != 1) {\n            document.getElementById(\"FileUploadContainer\").removeChild(div.parentNode);\n            counter--;\n        }\n        }\n\n        function ValidateAttachment() {          \n\n        for (var exCounter = 1; exCounter &lt;= counter; exCounter++) {\n      -----&gt;  var UploadControl = document.getElementById(\"FileUpload\"+exCounter).Value;\n            if (UploadControl == null) {\n                alert('Please insert all the upload field !');\n                return false;\n            }\n            if ((UploadControl == \".txt\") || (UploadControl == \".doc\") || (UploadControl) {\n                alert('File UploadControl extension not supported !');\n                return false;\n            }\n        }\n      }\n       &lt;/script&gt;\n\n&lt;asp:UpdatePanel ID=\"UpAttachment\" runat=\"server\"&gt;\n...\n...\n&lt;asp:ImageButton ID=\"ImageRefbtnSave\" runat=\"server\" ImageUrl=\"~/Images/btnSave.gif\"\nAlternateText=\"Save\" OnClick=\"btnRefSave_Click\" OnClientClick=\"return ValidateAttachment()\"\nCausesValidation=\"false\" /&gt;\n...\n...\n&lt;div&gt;\n&lt;asp:HiddenField ID=\"hfFileUploadMultiple\" runat=\"server\" /&gt;\n&lt;asp:Label ID=\"lblError\" runat=\"server\" Font-Bold=\"true\" ForeColor=\"Red\"&gt;&lt;/asp:Label&gt;&lt;br /&gt;\n&lt;span style=\"font-family: Arial\"&gt;&lt;span style=\"color: #003366\"&gt;&amp;nbsp;Click to add files&lt;/span&gt;&lt;/span&gt;\n&lt;input id=\"Button1\" onclick=\"AddFileUpload()\" style=\"height: 27px; width: 74px;\"\ntabindex=\"25\" type=\"button\" value=\"add\" /&gt;\n&lt;br /&gt;\n&lt;div id=\"FileUploadContainer\"&gt;\n&lt;asp:FileUpload ID=\"FileUpload1\" runat=\"server\" /&gt;\n&lt;/div&gt;\n...\n...\n&lt;Triggers&gt;\n&lt;asp:PostBackTrigger ControlID=\"ImageRefbtnSave\" /&gt;\n&lt;/Triggers&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12982704,"title":"Ajax Load - Form Submission","body":"<p>I have a website I'm building and it is set up so that when a link is pressed on the left, the page content is loaded in a div on the right. </p>\n\n<pre><code>&lt;div id=\"right-column\"&gt;\n\n&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    var dataReturn='';\n\n    function makeRequest(url){\n        $('#preloader').show();\n        $.get(url, function(data) {\n            $('#resultDiv').html(data);\n            $('#preloader').hide();\n        });\n    }\n\n    function makePostRequest(url, params){\n        $('#preloader').show();\n        $.post(url,params, function(data){\n            $('#resultDiv').html(data);\n            $('#preloader').hide();\n        });\n    }\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"preloader\"&gt;&lt;/div&gt;\n&lt;div id=\"resultDiv\"&gt;    \n&lt;h3&gt;Welcome &lt;?php echo $user_identity;?&gt;&lt;/h3&gt;\n&lt;h5&gt;Message: &lt;?php echo $wpdb-&gt;get_var(\"SELECT message FROM staff_misc\");?&gt;&lt;/h5&gt;    \n&lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Now this works fine for the links loading the content they're supposed to... now my question is. One of the pages has a form with the following code:</p>\n\n<pre><code>&lt;h3&gt;Admin Message&lt;/h3&gt;\n\n&lt;form id=\"message\" method=\"post\" action=\"Admin/message.php\"&gt;\n&lt;input type=\"text\" style=\"width:700px;\" value=\"Set A New Message\" name=\"admin-message\"/&gt;\n&lt;input class=\"submit\" type=\"submit\" name=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n\n&lt;?php\n\nif ( isset ( $_POST['submit'] ) ) //If submit is hit\n{\n\n$message = $_POST[\"admin-message\"];\n$wpdb-&gt;query(\"UPDATE staff_misc set Message = '$message' where id = '1'\");\n\n?&gt;&lt;b&gt;New Message Set:&lt;/b&gt; &lt;?php echo $wpdb-&gt;get_var(\"SELECT message FROM staff_misc\");?&gt;&lt;?php\n\n}\n</code></pre>\n\n<p>If that form is submitted, it refreshes the whole page rather than reloading the content back in to the AJAX div. How do I go about making it so that page loads back in to the AJAX div rather than refreshing the entire page and losing the left column with the links.</p>\n"},{"tags":["php","javascript","ajax","class","frameworks"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12982398,"title":"phpolait framework JSONRpcProxy function","body":"<p>Hi stackoverflow nation , reason of being here is php framework published at 2006 called phpolait (can be downloaded from <a href=\"http://www.phpkode.com/projects/item/phpolait/\" rel=\"nofollow\">phpolait</a>, and documentation can be seen from \n<a href=\"http://phpolait.sourceforge.net/doc/index.html\" rel=\"nofollow\">documentation</a>)</p>\n\n<p>if anyone is using or have an idea how function <strong>JSONRpcProxy</strong> works may help to solve a little problem.</p>\n\n<p>First of all in my web root dir I've directory named /test/ where I've placed phpolait framework. and there I'm creating files info.php and function.php</p>\n\n<p>info.php source =></p>\n\n<pre><code>&lt;?php\nrequire_once(\"./phpolait/phpolait.php\");\n$proxy = new JSONRpcProxy(\"http://127.0.0.1/test/function.php\");\n\necho $proxy-&gt;power(2,2);\n?&gt;\n</code></pre>\n\n<p>function.php source =></p>\n\n<pre><code>class Math{\n    public function power($x,$y){\n        return pow($x,$y);\n    }\n    public function fact($x){\n        if ($x==0){\n        return 1;\n        } else {\n            $x *= $this-&gt;fact($x-1);\n        }\n        return $x;\n    }\n};\n\nnew JSONRpcServer(new Math());\n</code></pre>\n\n<p>when trying to access in info.php file it gets up array => </p>\n\n<p><code>Array ( [0] =&gt; [1] =&gt; JSON-RPC call failed. [2] =&gt; )</code></p>\n\n<p>I've been read documentation but how you see I'm missing something important , so if anyone have any touch in this framework may give me a hand , I'll be very pleased , thanks :)</p>\n\n<p>PS. And also interested any alternatives of phpolait framework which continues improving , at least has renewed versions</p>\n"},{"tags":["c#","asp.net","ajax","json","object"],"answer_count":6,"favorite_count":15,"up_vote_count":27,"down_vote_count":0,"view_count":35083,"score":27,"question_id":2246694,"title":"How to Convert JSON object to Custom C# object?","body":"<p>Is there an easy way to populate my C# Object with the JSON object passed via AJAX?</p>\n\n<p>//This is the JSON Object passed to C# WEBMETHOD from the page using JSON.stringify</p>\n\n<pre><code>{\"user\":{\"name\":\"asdf\",\"teamname\":\"b\",\"email\":\"c\",\"players\":[\"1\",\"2\"]}}\n</code></pre>\n\n<p>//C# WebMetod That receives the JSON Object</p>\n\n<pre><code>    [WebMethod]\n    public static void SaveTeam(Object user)\n    {\n\n    }\n</code></pre>\n\n<p>//C# Class that represents the object structure of JSON Object passed in to the WebMethod</p>\n\n<pre><code>  public class User\n  {\n\n    public string name { get; set; }\n    public string teamname { get; set; }\n    public string email { get; set; }\n    public Array players { get; set; }\n\n  }\n</code></pre>\n"},{"tags":["php","ajax","json","json-decode"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":453,"score":0,"question_id":5765713,"title":"form data json/ajax script doesn't work on new server (windows to linux)","body":"<p>I'm moving a site from a Windows server to a Linux server running PHP 5.2.15. </p>\n\n<p>There is a large application form on the site, that uses javascript, jquery, and ajax to validate/add fields, and json to encode/decode the input data, and PHP to send the email.</p>\n\n<p>This form works fine on the Windows account. When I move it to our Linux server, everything works except the email that is sent is empty. There is a PHP error that gets printed and sent with the email:\nWarning: Invalid argument supplied for foreach() in /home/account/public_html/application/application_email.tpl on line 4</p>\n\n<p>the first few lines of that file look like: </p>\n\n<pre><code>&lt;?php \n\n $infoArr = get_object_vars( $info );\n foreach( $infoArr as $key=&gt;$val ) {\n    $parts = explode( \"_\", $key );\n    $number = array_pop( $parts );\n    if( count( $parts ) &gt;= 1 &amp;&amp; is_numeric( $number ) )\n    {\n</code></pre>\n\n<p>So to me, the error says that $info is empty. The php variable $info is created in another file called submitApp.php. The first few lines of that file are:</p>\n\n<pre><code>&lt;?php\n require_once( \"emogrifier.php\" );\n\n $info = json_decode( $_REQUEST['data'] );\n\n ob_start();\n require( \"application_email.tpl\" );\n $css = file_get_contents(\"application_email.css\");\n $html = ob_get_contents();\n ob_end_clean();\n</code></pre>\n\n<p>So, something is not happening with the json_decode function. Using Live HTTP headers in Firefox, I can see the form input data being passed (via POST) to submitApp.php. So, I know the data is getting there. Here is the line from LiveHTTPheaders:</p>\n\n<pre><code>POST /~account/application/submitApp.php data=%7B%22name%22%3A%22Test+Name%22%2C%22address%22%3A%22111+Test+Street%22%2C%22city%22%3A%22Testville%22%2C%22state%22%3A%22NJ%22%2C%22zip%22%3A%2212121%22%2C%22email%22%3A%22test%40test.com%22%2C%22\n</code></pre>\n\n<p>and so on.</p>\n\n<p>So it appears as though json_decode isn't working, and therefore isn't putting the contents of <code>$_REQUEST['data']</code> into the variable <code>$info</code>.</p>\n\n<p>Any ideas? I'm not new to php, but I am new to json, ajax, and this \"emogrifier\" thing.</p>\n\n<p>Thank you!</p>\n"},{"tags":["javascript","ajax","wordpress","magiczoomplus"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":12982369,"title":"MagicZoomPlus Wordpress plugin: adding javascript function, but how?","body":"<p>Hi and thanks in advance for the answer to this:\nI have MagicZoomPlus activated in a theme that uses an Ajax function to pop up an info box. I want to activate Magiczoom within that info box, but instead I get the image to open in its own window. \nHere is the url for the test site (click on a thumbnail to see what I mean):\n<a href=\"http://www.sanneart.com/Monacaron/murals-thumbnails/\" rel=\"nofollow\">http://www.sanneart.com/Monacaron/murals-thumbnails/</a>\nThe support person told me I have to do this: \nafter loading the new image call the following api function in javascript: MagicZoomPlus.refresh()</p>\n\n<p>How do I implement this? I have made a childtheme and created a new functions.php. But what is the code i put in there?\nThanks for helping!</p>\n"},{"tags":["javascript","jquery","asp.net","ajax","validation"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12981169,"title":"How to maintain serverside validation and clientside validation","body":"<p>When we have some controls in ASP.NET, it's of course preferable to use both clientside and serverside validation. Clientside for usability purposes, and serverside for security purposes.</p>\n\n<p>However, this easily gets quite ugly. Of course, if your validation is a length check or a regular expression, it is easy to maintain. However, let's say that your validation is more advanced - what to do?</p>\n\n<p>One way is to implement the exact same functionality in both server code and Javascript. Another way is that both calls a webservice with the same logic, but then your AJAX call has to be synchronous which in general is bad practice.</p>\n\n<p>So, my question is, what's the best way to perform <strong>both</strong> serverside and clientside validation?</p>\n"},{"tags":["ajax","wordpress","hashchange"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12982133,"title":"Wordpress jquery hashchange","body":"<p>I am trying to get Wordpress to load it's sub pages without reloading the header and footer, with ajax. It's somewhat working but buggy still, would appreciate any help or clean up to the main javascript file!</p>\n\n<p>Here is the URL: <a href=\"http://www.saintsolitaire.com\" rel=\"nofollow\">http://www.saintsolitaire.com</a></p>\n\n<p>Basically every page should load within the \"frame\" and also the background should change. Here is the code:</p>\n\n<pre><code>            jQuery(document).ready(function($) {\n                var $mainContent = $(\"#content-wrapper\"),\n                    siteUrl = \"http://\" + top.location.host.toString(),\n                    url = ''; \n\n                $(document).delegate(\"a[href^='\"+siteUrl+\"']:not([href*=/wp-admin/]):not([href*=/wp-login.php]):not([href$=/feed/])\", \"click\", function() {\n                    location.hash = this.pathname;\n                    return false;\n                }); \n\n                $(\"#searchform\").submit(function(e) {\n                    location.hash = '?s=' + $(\"#s\").val();\n                    e.preventDefault();\n                }); \n\n                $(window).bind('hashchange', function(){\n                    url = window.location.hash.substring(1); \n\n                    if (!url) {\n                        return;\n                    } \n\n                    url = url + \" #main\"; \n\n                    $mainContent.animate({opacity: \"0.1\"}).html('Loading').load(url, function() {\n                        $mainContent.animate({opacity: \"1\"});\n                    });\n                });\n\n                $(window).trigger('hashchange');\n\n                    if ($('body').hasClass('home')) {\n                        $.backstretch(\"wp-content/themes/saintstrap/img/bg-home.jpg\");\n                    }\n\n                    $('.brand').click(function(){\n                      $.backstretch(\"wp-content/themes/saintstrap/img/bg-home.jpg\");\n                    });\n\n                    $('#menu-item-20 a').click(function(){\n                      $.backstretch(\"wp-content/themes/saintstrap/img/bg-blog.jpg\");\n                    });\n\n                    $('#menu-item-19').click(function(){\n                      $.backstretch(\"wp-content/themes/saintstrap/img/bg-music.jpg\");\n                    });\n\n                    $('#menu-item-18').click(function(){\n                      $.backstretch(\"wp-content/themes/saintstrap/img/bg-art.jpg\");\n                    });\n\n                    $('#menu-item-17').click(function(){\n                      $.backstretch(\"wp-content/themes/saintstrap/img/bg-press.jpg\");\n                    });\n\n                    $('#menu-item-16').click(function(){\n                      $.backstretch(\"wp-content/themes/saintstrap/img/bg-allies.jpg\");\n                    });\n\n            });\n</code></pre>\n"},{"tags":["ruby-on-rails","ajax","ruby-on-rails-3"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":3232,"score":0,"question_id":3983716,"title":"Ruby On Rails 3 submit form AJAX update results in div","body":"<p>I am stuck; I did a search and I can't find a pointer on how to get this project to work. I have a form on my index.html.erb as:</p>\n\n<pre><code>&lt;html&gt;   &lt;head&gt;\n    &lt;title&gt;Ajax List Demo&lt;/title&gt;   &lt;h1&gt;Listing posts&lt;/h1&gt; \n\n    &lt;%= javascript_include_tag \"prototype\" %&gt;   &lt;/head&gt;   &lt;body&gt;\n    &lt;h3&gt;Add to list using Ajax&lt;/h3&gt;\n    &lt;% form_tag (  :remote=&gt;true, :update =&gt; 'my_list', :action =&gt; :list , :method=&gt;:post, :format =&gt;:xml ) do %&gt;\n\n      Enter the url:\n      &lt;%= text_field_tag 'url' ,'', :size =&gt; 80 %&gt;\n      &lt;%= submit_tag \"Find\" %&gt;\n    &lt;% end %&gt;\n    &lt;div id=\"my_list\"&gt;&lt;%= render :partial =&gt; 'profiles/list' %&gt;&lt;/div&gt;   &lt;/body&gt; &lt;/html&gt;\n</code></pre>\n\n<p>Now I have a div with this called my_list. When I submit the form I want my partial _list.html.erb (inside profiles dir, tried home dir too) to update with the results of list.</p>\n\n<p>My home controller has this method:</p>\n\n<pre><code>def list\n    puts \"here!!!!\"\n   reader = Reader.new\n  @profiles =  reader.processURL(params[:url])\n    render :partial=&gt;'profiles/list', :locals =&gt; { :profiles =&gt; @profiles}\nend\n</code></pre>\n\n<p>I end up getting this error:</p>\n\n<pre><code>ActionView::MissingTemplate (Missing partial profiles/list with {:locale=&gt;[:en, :en], :handlers=&gt;[:rjs, :builder, :rhtml, :rxml, :\nerb], :formats=&gt;[:xml]} in view paths \"C:/Users/....tree/app/views\"):\n  app/controllers/home_controller.rb:22:in `list'\n\nRendered C:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.0/lib/action_dispatch/middleware/templates/rescues/missing_template.erb\nwithin rescues/layout (1.0ms)\n</code></pre>\n\n<p>Could anyone help me or send me in the right direction to understand how to update a div rendering via Rails on form submit?  Thanks again.</p>\n"},{"tags":["javascript","asp.net","ajax","telerik","radgrid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2562,"score":1,"question_id":5276537,"title":"Accessing the MasterTableView Edit Form in Radgrid to get reference to textbox","body":"<p>There are two things I would like help with please. I need help accessing the currently edited existing row in the Radgrid, as as well as the index of the Edit form when trying to add a new record to the table/</p>\n\n<pre><code>       function OnClientSelectedIndexChanged(sender, eventArgs) {\n           var item = eventArgs.get_item();\n          // alert(item.get_value());\n           grid = $find(\"&lt;%= rgSecurity.ClientID %&gt;\");\n           var MasterTable = grid.get_masterTableView();\n           var selectedRows = MasterTable.get_selectedItems();\n//           alert(\"about to get to grid\");\n           alert(selectedRows.length);\n           if (selectedRows.length &gt; 1) {\n               for (var i = 0; i &lt; selectedRows.length; i++) {\n                   var row = selectedRows[i];\n                   alert(row);\n                   inputField = MasterTable.getCellByColumnUniqueName(row, \"Item\")\n                   alert(inputField);\n                   if (inputField) {\n                       inputFieldValue = inputField.value\n                       break;\n                   }\n               }\n           }\n           else  \n           {\n         //  alert(inputField);\n           }\n         window.radopen('&lt;%=PopLink %&gt;?sel=' + item.get_value() + \"&amp;avail=\" + inputFieldValue, \"UserRoleDialog\");\n           return false;\n       }\n</code></pre>\n"},{"tags":["php","html","mysql","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12981597,"title":"Increase value to mysql database when i select a specific radio button","body":"<p>i want to select a radio button and increase the value of the specific field on the database table. this is a good way to do it with radio buttons or you suggest me something else?\nvote.php</p>\n\n<pre><code>&lt;form method=\"post\" action=\"votes.php\"\n              onSubmit=\"return ajaxSubmit(this);\"&gt;\n    &lt;span class='link'&gt;\n      &lt;?php \n          echo $row['cand_id']; \n          echo\"&lt;/br&gt;\"; \n          echo $row['cand_surname']; \n      ?&gt; \n      &lt;?php \n          echo $row['cand_name']; \n      ?&gt;\n    &lt;/span&gt;\n\nmysql_query(\"UPDATE `votes` SET `votes_up`= `votes_up` + 1 \n             WHERE `cand_id` = '\".$cand_id.\"'\");\n</code></pre>\n"},{"tags":["iphone","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12981561,"title":"Why my Ajax request doesn't work in Safari on IOS?","body":"<p>I have an ajax jsonp request done with JQuery that is done in the $(document).ready. It works perfectly fine in all browsers and even in Chrome on IOS but it doesn't always work in Safari on IOS. Sometimes, the code never return to success nor complete.</p>\n"},{"tags":["asp.net","javascript","ajax","firefox","updatepanel"],"answer_count":5,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":3827,"score":4,"question_id":1841158,"title":"ASP.NET DropDown SelectedIndexChanged not firing in Firefox with UpdatePanel","body":"<p>I have an <code>asp:Updatepanel</code> that contains a dropdown and I run some Javascript on the <code>onchange</code> event of the dropdown. I also fire some server side code on the <code>selectedindexchanged</code> of the dropdown. </p>\n\n<p>This works OK in IE, but in Firefox the <code>selectedindexchanged</code> event never gets called. </p>\n\n<p>I think this may be  something todo with <code>onchange</code> and <code>selectedindexchanged</code> conflicting but, I can't find a solution to solve this.</p>\n"},{"tags":["c#","ajax","sharepoint","webparts","paging"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":59,"score":3,"question_id":12980853,"title":"Unexpected results when using .net ajax & paging in sharepoint web part with c#","body":"<p>Alright so when the web part loads I pull from a list like so in the CreateChildControls() function:</p>\n\n<pre><code>String userGroup = GetProfileProperty(SPContext.Current.Web.CurrentUser.LoginName);//get user login's newsgroup // \"All\";\n\n        if (!string.IsNullOrEmpty(userGroup) &amp;&amp; !userGroup.Equals(\"All\"))\n        {\n            qry.RowLimit = 5;\n            camlquery = \"&lt;Where&gt;&lt;Contains&gt;&lt;FieldRef Name='Intended_x0020_Audience' /&gt;&lt;Value Type='MultiChoice'&gt;\" + userGroup + \"&lt;/Value&gt;&lt;/Contains&gt;&lt;/Where&gt;&lt;OrderBy&gt;&lt;FieldRef Name='Start_x0020_Date' Ascending='False' /&gt;&lt;/OrderBy&gt;\";\n            qry.Query = camlquery;\n            items = newsList.GetItems(qry);\n            //Print items inside a ajax panel....\n\n\n        }\n        else\n        {\n            qry.RowLimit = 5;\n            camlquery = \"&lt;OrderBy&gt;&lt;FieldRef Name='Start_x0020_Date' Ascending='False' /&gt;&lt;/OrderBy&gt;\";\n            qry.Query = camlquery;\n            items = newsList.GetItems(qry);\n            ////Print items inside a ajax panel....\n        }\n</code></pre>\n\n<p>I do not use paging yet, but I have stored the query list in a var items. When the user clicks a button the update panel clears out the current controls and does another query to get the new items, but this time I use paging.(see below)</p>\n\n<pre><code>        int lastID = items[items.Count - 1].ID;//last news item id of current page\n\n        //Get Web Context\n        SPWeb web = SPContext.Current.Web;\n\n        //Clear old panel\n        UpdatePanel up = (UpdatePanel)FindControl(\"Panel\");\n        up.ContentTemplateContainer.Controls.Clear();//clear container of old news items\n\n        SPQuery qry = new SPQuery();//get query\n\n        qry.RowLimit = 5;\n        string camlquery = \"&lt;OrderBy&gt;&lt;FieldRef Name='Start_x0020_Date' Ascending='False' /&gt;&lt;/OrderBy&gt;\";\n        qry.Query = camlquery;\n        SPListItemCollectionPosition position = new SPListItemCollectionPosition(\"Paged=TRUE&amp;p_ID=\" + lastID.ToString());\n        qry.ListItemCollectionPosition = position;\n        items = web.Lists[\"News Wire\"].GetItems(qry);// newsList.GetItems(qry);\n\n        //print items inside ajax panel....\n</code></pre>\n\n<p>It does change the page, but it returns more items than necessary. I'll get five when the webpart first loads, but when I click the button that triggers the event to get more list records, I get the first item of the next page and also the first page's first 3 items. Note: My list only has six items in it. I limited my RowLimit to 5, but when I load the second page I get 4 items and 3 from the first page. </p>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","jquery-deferred"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":165,"score":4,"question_id":12936190,"title":"My promises no longer working in jQuery 1.8","body":"<p>This code snippet worked in 1.7.2 with both success/error callbacks as well as promises style callbacks. With 1.8.2 the success/error callbacks still work but the promises do not. My hunch is that the <code>return dfd.promise(jqXHR);</code> line is the problem but im not certain.</p>\n\n<pre><code>$.ajaxPrefilter(function (options, originalOptions, jqXHR) {\n\n    // Don't infinitely recurse\n    originalOptions._retry = isNaN(originalOptions._retry)\n        ? Common.auth.maxExpiredAuthorizationRetries\n        : originalOptions._retry - 1;\n\n    // set up to date authorization header with every request\n    jqXHR.setRequestHeader(\"Authorization\", Common.auth.getAuthorizationHeader());\n\n    // save the original error callback for later\n    if (originalOptions.error)\n        originalOptions._error = originalOptions.error;\n\n    // overwrite *current request* error callback\n    options.error = $.noop();\n\n    // setup our own deferred object to also support promises that are only invoked\n    // once all of the retry attempts have been exhausted\n    var dfd = $.Deferred();\n    jqXHR.done(dfd.resolve);\n\n    // if the request fails, do something else yet still resolve\n    jqXHR.fail(function () {\n        var args = Array.prototype.slice.call(arguments);\n\n        if (jqXHR.status === 401 &amp;&amp; originalOptions._retry &gt; 0) {\n\n            // refresh the oauth credentials for the next attempt(s)\n            // (will be stored and returned by Common.auth.getAuthorizationHeader())\n            Common.auth.handleUnauthorized();\n\n            // retry with our modified\n            $.ajax(originalOptions).then(dfd.resolve, dfd.reject);\n\n        } else {\n            // add our _error callback to our promise object\n            if (originalOptions._error)\n                dfd.fail(originalOptions._error);\n            dfd.rejectWith(jqXHR, args);\n        }\n    });\n\n    // NOW override the jqXHR's promise functions with our deferred\n    return dfd.promise(jqXHR);\n});\n</code></pre>\n\n<p><strong>Update</strong>: Here is my ajax request that fails:</p>\n\n<pre><code>$.ajax({\n        url: someFunctionToGetUrl(),\n        // works\n        //success: callback,\n        //error: ajaxErrorHandler\n    }).then(\n        [callback],\n        [errorback, ajaxErrorHandler]\n    );\n};\n</code></pre>\n"},{"tags":["javascript","ruby-on-rails","ajax","node.js"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12979923,"title":"Large video upload and processing timeout","body":"<p>I am working on a rails application where users upload some videos. Apache with passenger is my server. The videos can be as big as 500MB or 1 GB. After the video is uploaded it is converted to mp4 and played.</p>\n\n<p>I am using <a href=\"https://github.com/valums/file-uploader\" rel=\"nofollow\">https://github.com/valums/file-uploader</a> to upload the files. With this i can upload as large as a 500MB video file easily. I want to display the mp4 preview of the video as soon as the upload is complete. I am using ffmpeg to process convert the video to mp4. This conversion may take as long as 10+ minutes some times and my request times out after 5 mins due to the default apache timeout. </p>\n\n<p>So, the problem here is the ajax upload keeps the request alive only till 5 minutes after the upload to complete. I need the request to stay alive for about 10-20 minutes after the file upload is complete. It would be great to know in case any other javascipt based solutions available to keep this request alive till the video processing completes and the preview can be shown to the user. </p>\n"},{"tags":["php","mysql","ajax","character-encoding","json-encode"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":4049,"score":3,"question_id":2790027,"title":"UTF-8 character encoding battles json_encode()","body":"<p><strong>Quest</strong></p>\n\n<p>I am looking to fetch rows that have accented characters. The encoding for the column (<code>NAME</code>) is <code>latin1_swedish_ci</code>.</p>\n\n<p><strong>The Code</strong></p>\n\n<p>The following query returns <code>Abord â Plouffe</code> using phpMyAdmin:</p>\n\n<pre><code>SELECT C.NAME FROM CITY C\nWHERE C.REGION_ID=10 AND C.NAME_LOWERCASE LIKE '%abor%'\nORDER BY C.NAME LIMIT 30\n</code></pre>\n\n<p>The following displays expected values (function is called <code>db_fetch_all( $result )</code>):</p>\n\n<pre><code>  while( $row = mysql_fetch_assoc( $result ) ) {\n    foreach( $row as $value ) {\n      echo $value . \" \";\n      $value = utf8_encode( $value );\n      echo $value . \" \";\n    }\n\n    $r[] = $row;\n  }\n</code></pre>\n\n<p>The displayed values: <code>5482 5482 Abord â Plouffe Abord Ã¢ Plouffe</code></p>\n\n<p>The array is then encoded using <code>json_encode</code>:</p>\n\n<pre><code>$rows = db_fetch_all( $result );\necho json_encode( $rows );\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>The web browser receives the following value:</p>\n\n<pre><code>{\"ID\":\"5482\",\"NAME\":null}\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>{\"ID\":\"5482\",\"NAME\":\"Abord â Plouffe\"}\n</code></pre>\n\n<p>(Or the encoded equivalent.)</p>\n\n<p><strong>Question</strong></p>\n\n<p>The documentation states that <code>json_encode()</code> works on UTF-8. I can see the values being encoded from LATIN1 to UTF-8. After the call to <code>json_encode()</code>, however, the value becomes <code>null</code>.</p>\n\n<p>How do I make <code>json_encode()</code> encode the UTF-8 values properly?</p>\n\n<p>One possible solution is to use the <a href=\"http://www.zfforums.com/zend-framework-general-discussions-1/general-q-zend-framework-2/json-encoding-breaks-strings-containing-special-characters-210.html\" rel=\"nofollow\">Zend Framework</a>, but I'd rather not if it can be avoided.</p>\n"},{"tags":["ajax","jquery-ajax","struts2","enums"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12981142,"title":"OutOfMemory Exception from Struts Ajax call when using non-primitive Java objects","body":"<p>I've got a relatively simple Ajax call to a Struts 2.2.3.1 action that returns a simple Java POJO. Once we add a simple Enum to that POJO and execute the action, we get a bunch of messages like this in our server's logs:</p>\n\n<pre><code>[10/19/12 14:55:07:124 EDT] 00000047 BeanAdapter   I com.opensymphony.xwork2.util.logging.commons.CommonsLogger info Class com.ibm.ws.ejbcontainer.jitdeploy.JIT_StubPluginImpl has no readable properties,  trying to adapt JIT_StubClassPlugin with StringAdapter...\n[10/19/12 14:55:07:124 EDT] 00000047 BeanAdapter   I com.opensymphony.xwork2.util.logging.commons.CommonsLogger info Class com.ibm.ws.ejbcontainer.jitdeploy.JIT_StubPluginImpl has no readable properties,  trying to adapt JIT_StubClassPlugin with StringAdapter...\n[10/19/12 14:55:07:139 EDT] 00000047 BeanAdapter   I com.opensymphony.xwork2.util.logging.commons.CommonsLogger info Class com.ibm.ws.ejbcontainer.jitdeploy.JIT_StubPluginImpl has no readable properties,  trying to adapt JIT_StubClassPlugin with StringAdapter...\n[10/19/12 14:55:07:139 EDT] 00000047 BeanAdapter   I com.opensymphony.xwork2.util.logging.commons.CommonsLogger info Class com.ibm.ws.ejbcontainer.jitdeploy.JIT_StubPluginImpl has no readable properties,  trying to adapt JIT_StubClassPlugin with StringAdapter...\n</code></pre>\n\n<p>And then finally see an OutOfMemory Exception.</p>\n\n<p>Out Struts XML for the Ajax call is similar to:</p>\n\n<pre><code>    &lt;action name=\"ajaxRetrieveThing\" class=\"x.y.z.action.Thing\" method=\"ajaxRetrieveThing\"&gt;\n        &lt;result type=\"xslt\"&gt;\n            &lt;param name=\"exposedValue\"&gt;actionResponse&lt;/param&gt;\n        &lt;/result&gt;\n    &lt;/action&gt;\n</code></pre>\n\n<p>The relavant portions of our ActionResponse class are:</p>\n\n<pre><code>public class ActionResponse {\n    // a bunch of primitive types and associated getters and setters skipped\n\n    private List&lt;Object&gt; results = new ArrayList&lt;Object&gt;();\n    public List&lt;?&gt; getResults() {\n        return results;\n    }\n\n    public void addResult(Object o) {\n        results.add(o);\n    }\n    public void setResultList(List results) {\n        this.results = results;\n    }\n}\n</code></pre>\n\n<p>In our action, we put a Thing in the list of Results. Where Thing is a POJO with primitive fields and our ThingEnum in it.</p>\n\n<p>Our Enum looks like this:</p>\n\n<pre><code>public enum ThingEnum {\n    VALUE_1( \"1\" ), VALUE_2( \"2\" ); // etc\n\n    String description;\n    private ThingEnum( String description ) {\n        this.description = description;\n    }\n\n    public String getDescription() {\n        return description;\n    }   \n}\n</code></pre>\n\n<p>The action will work and we can get data to our JavaScript until we add the ThingEnum in. I assume this is because Struts runs into a problem when it tries to convert the ThingEnum to XML. We've had problems similar to this with other types of objects (Hibernate entities, for example) and got around them by just storing the Strings and other primitives we need in the result objects.</p>\n\n<p>What's the correct way to work around this issue? I'd like to avoid having to manually convert the Enum to a String before passing back to JS which is our current solution - instead of having a ThingEnum field, we basically have a thingDescription String in our Result object.</p>\n"},{"tags":["asp.net","ajax","json","html5","c#-4.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12981061,"title":"Dynamically loading asp.net controls with javascript","body":"<p>I am developing a series of ASP.NET controls that allow for a dynamically created sites where the layout gets generated from a class.cs file, the controls then get Loaded into an Placeholder in an update panel.</p>\n\n<p>what I am hoping to achieve is using stuff like ajax to build the screen with javascript.</p>\n\n<p>can you guys maybe point me in the right direction,\nmy google is not helping today.</p>\n\n<p>I want to use stuff like ajax, json</p>\n\n<p>thanks in advance </p>\n"},{"tags":["php","jquery","ajax","forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12898776,"title":"JQuery/Ajax form not submitting","body":"<p>I'm pulling my hair out over this one - I have a page that searches a MySQL database and returns the results in a table.  I want the user to be able to update the results and hence update the MySQL database.  The first part works ok, I have a search box on the page, which uses jQuery/ajax to query the database and display the results, e.g.:</p>\n\n<pre><code>&lt;form class=\"well\" id=\"jquery-submit-ajax\" method=\"post\"&gt;\n    &lt;input type=\"text\" name=\"userSearch\" placeholder=\"Search…\"&gt;\n    &lt;label&gt;Name/Email/id&lt;/label&gt;\n    &lt;Br /&gt;\n    &lt;input type=\"submit\" id=\"searchButton\" value=\"Search\"&gt;\n&lt;/form&gt;\n\n&lt;div class=\"alert alert-success hide\"&gt;\n    &lt;div id=\"success-output\" class=\"prettyprint\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"loading-image\" class=\"alert hide\" style=\"text-align:center\"&gt;\n    &lt;img src=\"../images/ajax-loader.gif\" /&gt;&lt;/div&gt;\n    &lt;div class=\"alert alert-error hide\"&gt;\n        &lt;div id=\"error-output\" class=\"prettyprint\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and the jQuery:</p>\n\n<pre><code>$(\"#jquery-submit-ajax\").submit(function(e) {\n    $('#loading-image').fadeIn();\n    $.ajax({\n        type: \"POST\",\n        url: \"jquery-ajax-control.php\",\n        data: $(e.target).serialize(),\n        dataType: \"html\",\n        beforeSend:function(){\n            $('.alert-error,.alert-success').hide();\n        },\n        error: function(jqXHR, textStatus, errorThrown){\n            $('#loading-image').hide();\n            $('.alert-error').fadeIn();\n            $('#error-output').html(errorThrown);\n        },\n        success: function(data){\n            $('#loading-image').hide();\n            $('.alert-success').fadeIn();\n            $('#success-output').html(data);\n        }\n    });\n    return false;\n});\n</code></pre>\n\n<p>So the results are parsed into a table for each result.  Within that table is a form with a submit button.  e.g.:</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n&lt;table&gt;\n&lt;tr&gt;\n    &lt;td&gt;&lt;input type=\"text\" class=\"editbox\" name=\"subs-expiry\" value=\"&lt;?php echo $expiry_date; ?&gt;\"&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;input type=\"submit\" class=\"updateSubsButtons\" value=\"Update\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I'm trying to submit this form via jQuery/Ajax again, but I can't get it to work.  Pressing the Update button results in the whole page refreshing.  I've stripped the jQuery for this button right back to just display an alert when the button is pressed, but even that doesn't work.</p>\n\n<pre><code>$(\".updateSubsButtons\").on(\"submit\", function(e){\n    alert(\"clicked\");\n    e.preventDefault();\n});\n</code></pre>\n\n<p>Using the Chrome debugger a breakpoint in the function never gets hit, so maybe jQuery can't find the button?  I've tried .on() and .live() functions, but I get the same result with both.  I really can't figure out what's going on here, so any help would be gratefully received!</p>\n"},{"tags":["ajax","performance","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":12978579,"title":"Is it relevant enough to create a direct .php file as an AJAX target in Magento (instead of standard router path)","body":"<p>I will explain a bit of background here. The AJAX I'm going to use must work very fast, implementing some logic on the backend and returning JSON as response.</p>\n\n<p>I'm not new in Magento development, but I've struggled to create a <em>cheap</em> request using standard Magento request flow. Using profiler I've discovered, that only the <strong>routing</strong> work (including <code>match</code>, <code>preDispatch</code>, <code>rewrite</code> and more light-weighted, but numerous small routing-related functions)  takes almost a second.</p>\n\n<p>Have no doubts, I'm loading all the necessary data to bootstrap application, my script looks very much like scripts in the <code>shell</code> directory.</p>\n\n<p>So using my own <em>.php</em> file instead of Magento router I'm already saving almost a second per request - without even touching the logic. My benchmarking may be not very accurate, but the point is - I'm definitely saving some time, when time is very essential for me.</p>\n\n<p>So the questions are: <strong>is this 1 sec worth neglecting of Magento architecture</strong>? Has anyone implemented something similar? And where is the best place to put such file into, considering Magento Module approach?</p>\n\n<p>I'll be glad, if anyone can point me in the right direction.</p>\n"},{"tags":["jquery","ajax","scroll"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":84,"score":-1,"question_id":12913559,"title":"NiceScroll doesn't work after AJAX loading","body":"<p>I have a problem with Nice Scroll. It works fine, but when I load AJAX images it doesn't work. Interestingly, when I resize the window, open Firebug or whatever, it starts to work.</p>\n\n<p>What can I do to do this automatically?</p>\n\n<p>I tried:</p>\n\n<pre><code>setTimeout(function(){\n    $(\"window\").trigger('resize');\n}, 0);\n</code></pre>\n\n<p>After the AJAX loading function, but it doesn't work.</p>\n"},{"tags":["javascript","jquery","ajax","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12943798,"title":"Output values from JSON structure","body":"<p>Data that function gets from the server:</p>\n\n<pre><code>{\n   \"COLUMNS\":[\n      \"ID\",\n      \"NAME\",\n      \"LASTNAME\"\n   ],\n   \"DATA\":[\n      [\n         \"1\",\n         \"John\",\n         \"Lewis\"\n      ],\n      [\n         \"2\",\n         \"Peter\",\n         \"Gabriel\"\n      ],\n      [\n         \"3\",\n         \"Susan\",\n         \"Smith\"\n      ]\n   ]\n}\n</code></pre>\n\n<p>JavaScript</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; \n    $(document).ready(function(){\n            $('#showteams').click(function() {\n                $.ajax({\n        url: \"authenticationService.cfc?method=getAllTeams&amp;returnformat=JSON&amp;queryformat=column\",\n        dataType: 'json',\n\n        success:function(data) {\n\n            alert('data that function gets from the server:' + '\\n' + '\\n' + data + '\\n' + '\\n' + \n            \"everything is listed here\");\n\n                    $.each(data.DATA, function(i,team){\n\n                        $('#teamList').append('&lt;li&gt;&lt;a href=\"#\"&gt;' + team + '&lt;/a&gt;');\n                    });\n\n                }});\n            });\n            $('#teams').show();\n            $('#teamList').fadeIn(1200);\n            $(this).attr('disabled', 'disabled');\n        });\n&lt;/script&gt;\n</code></pre>\n\n<p>while my code actually works, at least in some way it outputs values like this</p>\n\n<pre><code>1,John,Lewis\n2,Peter,Gabriel\n3,Susan,Smith\n</code></pre>\n\n<p>now I would like to make it more flexible, iterate over the data in some other way and display it for example</p>\n\n<p>This is the user firstname: <strong>NAME</strong> lastname: <strong>LASTNAME</strong> with number <strong>ID</strong>\n<br>namely<br>\nThis is the user firstname: <strong>John</strong> lastname: <strong>Lewis</strong> with number <strong>1</strong>\netc</p>\n\n<p>I know it could be done somehow with <strong>for</strong> but can not sort it out, I've tried everything I could think off :( \nI would really appreciate your help on this one especially given javascript is not really my thing.</p>\n\n<p><strong>EDIT:\nnow i have an issue on the server side :(\nwhat i am trying to achieve is to output data say\non first click records from 1 to 10\non second click records from 11-20\n.etc\non client side jquery code will pass data such as startrow data: { startrow: \"1\", maxrow: \"10\" },\nin coldfusion component cfloop should do the trick but for some reason I can not return the correct JSON format.I already tried to cfloop over query put data to array as well as to array of struct and than serializeJSON but failed to sort it out.</strong></p>\n"},{"tags":["jquery","ajax","jquery-ui","tooltip","jquery-tooltip"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1331,"score":2,"question_id":8358435,"title":"jQuery ajax tooltips: where to find a nice plugin?","body":"<p>I saw one perfect ajax tooltip at forum engine <a href=\"http://xenforo.com/community/forums/announcements/\" rel=\"nofollow\">Xenforo</a> (try mouseover on any topic and you'll see).</p>\n\n<p>I know it's made with jQuery.</p>\n\n<p>Maybe there are some nice plugins in internet like this.</p>\n\n<p>Appreciate any help!</p>\n"},{"tags":["javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12979401,"title":"Running two ajax requests in sequence (call only after success)","body":"<p>I have a simple question regarding multiple ajax calls, performing each call in sequence. I have a button that posts the current page's form (which will write the form values into session), then I want to call another page (GET) after these session variables are set.</p>\n\n<p>The problem is, I run both calls in a function and if the first post does not make it through in time, the session values are not present on the other script which are required.</p>\n\n<p>Here's my button's function:</p>\n\n<pre><code>function generateFP() {\n    $.post(\"test.php\", $(\"#webcto_form\").serialize());\n    loadPage('getpage.php?page=fpreq','page_contents');\n}\n</code></pre>\n\n<p>And my loadPage function:</p>\n\n<pre><code>function loadPage(filename,id){\n    $(\"#page_contents\").load(filename);\n}\n</code></pre>\n\n<p>Is it possible to use the shorthand ajax ($.post/.load) in conjunction with a success? I want to change my generateFP to call the loadPage function after successfully submitting the form.</p>\n\n<p>I've seen standard $.ajax documentation explaining how to build a success function but have not yet found any information using the syntax that I am using.</p>\n"},{"tags":["javascript","ajax","api","disqus"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":159,"score":0,"question_id":9062258,"title":"Creating DISQUS accounts automatically, when new users register","body":"<p>Using DISQUS, is it possible to create a DISQUS account automatically, when a new user registers on my site? I like DISQUS and everything, but I do not want to make my users register manually for yet another account. I also do not expect them to have an existing one beforehand.</p>\n"},{"tags":["jquery","ruby-on-rails","ruby","ajax","ruby-on-rails-3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":79,"score":1,"question_id":12947501,"title":"Refresh a partial after submiting form_for with remote: true","body":"<p>I have a form in a side bar, and when the form submits, I need to refresh only that particular partial from the side bar, not the entire page. The partial has a div id = \"class-id\" on it. </p>\n\n<p>partial.html.haml</p>\n\n<pre><code>- if class\n // display some stuff\n- else\n  = form_for [Class.new], remote: true do |f| \n    .field\n      = f.label :description\n      = f.text_field :description      \n    .actions\n      = f.submit\n</code></pre>\n\n<p>I need to reload this partial after the submit is finished, so that the first if will be accessed.  </p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","ajax","json","jsp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12978947,"title":"Java servlet's request parameter's name set to entire json object","body":"<p>I'm sending a json object through ajax to a java servlet.\nThe json object is key-value type with three keys that point to arrays and a key that points to a single string.  I build it in javascript like this:</p>\n\n<pre><code>var jsonObject = {\"arrayOne\": arrayOne, \"arrayTwo\": arrayTwo, \"arrayThree\": arrThree, \"string\": stringVar};\n</code></pre>\n\n<p>I then send it to a java servlet using ajax as follows:  </p>\n\n<pre><code>httpRequest.open('POST', url, true);  \nhttpRequest.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");  \nhttpRequest.setRequestHeader(\"Connection\", \"close\");  \nvar jsonString = jsonObject.toJSONString();   \nhttpRequest.send(jsonString);\n</code></pre>\n\n<p>This will send the string to my servlet, but It isn't showing as I expect it to.  The whole json string gets set to the name of one of my request's parameters.  So in my servlet if I do request.getParameterNames();  It will return an enumeration with one of the table entries' key's to be the entire object contents.  I may be mistaken, but my thought was that it should set each key to a different parameter name.  So I should have 4 parameters, arrayOne, arrayTwo, arrayThree, and string.  Am I doing something wrong or is my thinking off here?  Any help is appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12971565,"title":"ajax call with calendar","body":"<p>Hi, the following code I use for calling a event details from by database... The issues is I have to refresh everytime to click each date in calendar (for example after clicking date 18, I am refreshing to click other date). Please help to do without refreshing pls.... </p>\n\n<p></p>\n\n<pre><code> $(document).ready(function(){\n $('.ui-state-default').click(function() \n{\nvar year = $('.ui-datepicker-year').html();\nvar month = $('.ui-datepicker-month').html();\n\nvar day = $(this).html();\nvar postData = {\n  'year'  : year,\n  'month' : month,\n  'day'   : day\n  };\n\n  var url = '&lt;?php echo base_url(); ?&gt;index.php/home_event/view_cal';\n$.ajax({\n    type: \"POST\",\n    url: url,\n    secureuri      :false,\n    dataType: \"json\",\n    data: postData,\n       success: function (data,event_name ,event_description,date,location)\n       {\n                     $('.heading_bg').html(data.event_name);\n         $('.location_name').html(data.location);\n         $('.date').html(data.start_date);\n        $('.btn_content').html(data.event_description); \n    }\n});\n});  return false;\n         });\n\n\n\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","ajax","session"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12949247,"title":"$_SESSION[] Not Getting Set","body":"<p>I'm making a login system, and when I send a request from an AJAX connection, the session is not getting set.\nSending the connection:</p>\n\n<pre><code>function onSubmit(form){\n    var username = form.username.value;\n    var password = form.password.value;\n    if(username == ''){\n        document.getElementById('error').innerHTML='&lt;font color=\"red\"&gt;&lt;b&gt;Please enter a username&lt;/b&gt;&lt;/font&gt;';\n        return;\n    }\n    if(password == ''){\n        document.getElementById('error').innerHTML='&lt;font color=\"red\"&gt;&lt;b&gt;Please enter a password&lt;/b&gt;&lt;/font&gt;';\n        return;\n    }\n    if(username != '' &amp;&amp; password != ''){\n        document.getElementById('error').innerHTML='';\n        showDiv('loadinglogin');    \n        var dataString = 'username='+username+'&amp;password='+password;\n    $.ajax({  \n      type: \"POST\",  \n      url: \"util/login.php\",  \n      data: dataString,  \n      success: function(msg) {  \n        if(msg == \"ok\"){\n            document.getElementById('error').innerHTML='&lt;font color=\"green\"&gt;&lt;b&gt;Login good, redirecting&lt;/b&gt;&lt;/font&gt;';\n            hideDiv('loadinglogin');    \n            window.location = \"test.php\";\n        }else{\n            document.getElementById('error').innerHTML='&lt;font color=\"red\"&gt;&lt;b&gt;Invalid login&lt;/b&gt;&lt;/font&gt;';\n            hideDiv('loadinglogin');    \n        }\n      }  \n    }); \n\n\n\n    }\n}\n</code></pre>\n\n<p>Setting the session/handle login:</p>\n\n<pre><code>&lt;?php\ninclude('database.php');\nsession_start();\nfunction in_db($u,$p){\n    $p = md5($p);\n    $p = sha1($p);\n    $p = sha1($p);\n    $p = md5($p);\n    $sql = \"SELECT * FROM `users` WHERE `username` = '$u' AND `password` = '$p'\";\n    $result = mysql_query($sql) or die(mysql_error());  \n    while($row = mysql_fetch_object($result))\n    { \n        return true;    \n    }\n    return false;\n} \nif(isset($_POST['username']) &amp;&amp; isset($_POST['password']) &amp;&amp; !isset($$_SESSION['user']) &amp;&amp; !isset($$_SESSION['pass'])){\n    $username = mysql_real_escape_string($_POST['username']);\n    $password = mysql_real_escape_string($_POST['password']);\n    if(in_db($username,$password)){\n        $_SESSION['user'] = $user;\n        $_SESSION['pass'] = $pass;\n        print(\"ok\");\n    }else{\n        print(\"bad\");\n    }\n}else{\n    print(\"bad\");\n}\n?&gt;\n</code></pre>\n\n<p>Not sure if I'm doing somthing wrong :/</p>\n\n<p>EDIT: I pulled this from ERROR_LOG</p>\n\n<p>[18-Oct-2012 07:27:00 UTC] PHP Warning:  session_start() [function.session-start]: The session id is too long or contains illegal characters, valid characters are a-z, A-Z, 0-9 and '-,' in /util/login.php on line 2</p>\n\n<p>PHP.ini</p>\n\n<pre><code>register_globals = off\nallow_url_fopen = off\n\nexpose_php = Off\nmax_input_time = 60\nvariables_order = \"EGPCS\"\nextension_dir = ./\nupload_tmp_dir = /tmp\nprecision = 12\nSMTP = relay-hosting.secureserver.net\nurl_rewriter.tags = \"a=href,area=href,frame=src,input=src,form=,fieldset=\"\n\n\n; Only uncomment zend optimizer lines if your application requires Zend Optimizer support\n\n;[Zend]\n;zend_optimizer.optimization_level=15\n;zend_extension_manager.optimizer=/usr/local/Zend/lib/Optimizer-3.3.3\n;zend_extension_manager.optimizer_ts=/usr/local/Zend/lib/Optimizer_TS-3.3.3\n;zend_extension=/usr/local/Zend/lib/Optimizer-3.3.3/ZendExtensionManager.so\n;zend_extension_ts=/usr/local/Zend/lib/Optimizer_TS-3.3.3/ZendExtensionManager_TS.so\n\n\n; -- Be very careful to not to disable a function which might be needed!\n; -- Uncomment the following lines to increase the security of your PHP site.\n\n;disable_functions = \"highlight_file,ini_alter,ini_restore,openlog,passthru,\n;             phpinfo, exec, system, dl, fsockopen, set_time_limit,\n;                     popen, proc_open, proc_nice,shell_exec,show_source,symlink\"\n</code></pre>\n"},{"tags":["ajax","node.js","file-upload","express"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":133,"score":1,"question_id":12472906,"title":"Node.js + Express: Upload a file without reloading page","body":"<p>I am creating a chat application using Node.js, and would like to have a file upload feature. While I can get the file uploaded, the browser would always be redirected to another link or page refreshed, and this of course disrupts the chat.</p>\n\n<p><strong>First</strong> I tried using Express to do it:</p>\n\n<p>index.html:</p>\n\n<pre><code>&lt;form id=\"fileSendButton\" action=\"/\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"text\" name=\"title\"&gt;&lt;br&gt;\n    &lt;input type=\"file\" name=\"upload\" multiple=\"multiple\"&gt;&lt;br&gt;\n    &lt;input type=\"submit\" value=\"Upload\"&gt;\n&lt;/form&gt; \n</code></pre>\n\n<p>app.js:</p>\n\n<pre><code>app.post('/', function(req, res){\n    //some validation and rename file\n    res.send();\n    return false;\n});\n</code></pre>\n\n<p><strong>Next</strong> I tried using AJAX, but still couldnt do it, whenever the AJAX POST to the Node.js server, it would reload the page. My AJAX code anyway:</p>\n\n<p>index.html:</p>\n\n<pre><code>$.ajax({  \n    type: \"POST\",  \n    url: \"/\",  \n    data: formdata,  \n    processData: false,\n    contentType: false,\n    success: function (res) {\n        document.getElementById(\"chatText\").innerHTML = res; \n    } \n});  \nreturn false;\n</code></pre>\n\n<p><strong>Third</strong> I went to look at Uploadify, but didnt want to add Flash dependancy to my site, so I didnt implement it.</p>\n\n<p>Anyone can help me please? I dont want a page reload when a file is uploaded.</p>\n"},{"tags":["jquery","ajax","url-rewriting"],"answer_count":4,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":11673,"score":5,"question_id":1134280,"title":"Update URL on AJAX call?","body":"<p>Right now the biggest issue I'm having with using AJAX is the fact that if I use AJAX on a page, go to another page, then use the browser's back button to go back anything that was changed with AJAX is gone.</p>\n\n<p>I've thought about using the <a href=\"http://www.asual.com/jquery/address/\">jQuery Addresss</a> plugin to solve that problem but I don't like how it only amends the URL with \"#whatever.html\" instead of changing it completely.</p>\n\n<p>Ideally, what I would like is to have the URL go from: \"www.mysite.com/p:2/\" to \"www.mysite.com/p:3/\" when I make the relevant AJAX call.</p>\n\n<p>Is this at all possible?</p>\n"},{"tags":["php","javascript","ajax","cakephp","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12972931,"title":"function in controller return true/false to ajax in cakephp","body":"<p>I want to check if the client name exists Not to create it.<br /> \nthe functions and every thing is working perfectly.<br>\nWhat I need is: Function return true or false to my ajax function.<br> <br> \nmy create function in js and ajax is: </p>\n\n<pre><code>function createClient(){\n       var newClientForm = $$('newClientForm').getValues();\n       var client_name = newClientForm.client_name;\n\n       if (client_name != ''){\n       url_call = window.server_name + \"/index.php/clients/create_new_client/\"+client_name; \n       url_call = url_call.replace(/\\n/g, '|');\n       $.ajax({\n              url: url_call ,               \n              success: function(data) {\n                       if ((data==true)||(data==false)){\n                            alert('data true');\n                        }\n\n\n              }     \n        }); \n        }else{            \n            dhx.alert({title:'Error', message:\"Please enter the client name.\"});\n        }\n    };\n</code></pre>\n\n<p>and my controller in cakephp<br /></p>\n\n<pre><code>function create_new_client($string = null){\n            $this-&gt;layout = 'default_really_empty';\n            $string = urldecode($string);\n            $explode_item = explode('^', $string);\n\n            $client_name        = $explode_item[0]; \n\n            //--Sreach if the Client is already there don't create it\n            $modelClassChild = 'Client';\n            $this-&gt;loadModel($modelClassChild);                \n            $objects=$this-&gt;$modelClassChild-&gt;find('all',array('conditions'=&gt;array($modelClassChild .'.deleted'=&gt;'0', \n                                                                                   $modelClassChild .'.name'=&gt;$client_name)));\n            foreach($objects as $object) { \n                $dbName = $object['Client']['name'];\n            }                \n\n            if ($client_name != $dbName){  \n            //--Sreach if the Client is already there don't create it\n                $clientArray = array();\n                $fields = array();\n\n                $clientArray['Client']['name']  = $client_name;\n                $fields[] = 'name';\n\n                $client_exists = FALSE;                    \n\n                $this-&gt;Client-&gt;create();\n                $this-&gt;Client-&gt;save($clientArray, true); \n           }else{\n               $client_exists = TRUE;                   \n           }\n           $this-&gt;set('client_exists',$client_exists);\n    }\n</code></pre>\n"},{"tags":["ajax","jquery-ajax","modify","filecontentresult"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12977837,"title":"Modify result from ajax request","body":"<p>Is it possible to retrieve some (in this case) text with an ajax request and modify it before showing it in e.g. a div?</p>\n\n<p>I've got the following code</p>\n\n<pre><code>$.ajax({url: \"Files/\" + par + \".php\",\nsuccess: function(result){\n    $(\"#box\").html(result);\n}\n</code></pre>\n\n<p>Where par is a parameter (for example foo). This would retrieve the file foo.php and place the obtained file contents in a div called box.</p>\n\n<p>Now I wonder if you could do the following:<br/>\nSuppose the content of foo.php was as followed: <br/></p>\n\n<blockquote>\n  <h1>Some title</h1> \n  \n  <p>some text here... </p>\n  \n  <h2>A sub title</h2> \n  \n  <p>more text....</p>\n</blockquote>\n\n<p><br/></p>\n\n<p>Is it possible to place some code or a sentence between the title and the text?\nSo the result would be like this:<br></p>\n\n<blockquote>\n  <h1>Some title</h1> \n  \n  <p><i>This sentence was added</i> <br/>\n  some text here...\n  <h2>A sub title</h2> more text...</p>\n</blockquote>\n"},{"tags":["javascript","jquery","ajax","load"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":12977489,"title":"convert my jquery .load to .ajax","body":"<p>I have a .load() function that I need to convert to .ajax(). I initially used .load() because of its ease of use but now I see that in order to achieve my desired result, I must use .ajax().\nHere is my .load() function:</p>\n\n<pre><code>$(\"#rightframe\").click(function(){\n    $(\"#screen\").load(\"form.html #contact\");\n  });\n</code></pre>\n\n<p>I want to convert that to .ajax() and add the following piece of code to set a minimum time an .ajax() call would take (this is because I have a loading GIF that looks weird if it doesn't run long enough)</p>\n\n<p>So I found <a href=\"http://stackoverflow.com/questions/5025839/ajax-loader-image-how-to-set-a-minimum-duration-during-which-the-loader-is-show\">this</a> piece of code when trying to figure out how I can set a minimum length of time the loading GIF would take. </p>\n\n<pre><code>var counter = 2;\nfunction decrement() {\n  if (--counter == 0) {\n    $('#loader').hide();\n  }\n}\nsetTimeout(decrement, 1000);\n$.ajax(..., complete: decrement);\n</code></pre>\n\n<p>Does anyone know how to alter the .load() function to .ajax() and add the decrement function to the .ajax() function?</p>\n\n<p>Thank you,</p>\n\n<p>Katie</p>\n"},{"tags":["asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12977056,"title":"ASP.NET UPDATE PANEL GETS INVISIBLE","body":"<p>I've a web form with some registration details.  I've a submit button in a update panel on the same page.  If the user doesn't enter anything and clicks on submit button, it should do validation on all the mandatory fields of the form and display a message showing what fields are missing.</p>\n\n<p>As soon as enter submit button with out entering anything, it is doing validation but throwing an execption:</p>\n\n<blockquote>\n  <p>Microsoft JScript runtime error: Sys.InvalidOperationException: Could\n  not find UpdatePanel with ID\n  'ctl00_ContentPlaceHolder_Content_UpdatePanel_Submit'. If it is being\n  updated dynamically then it must be inside another UpdatePanel.</p>\n</blockquote>\n\n<p>and my update panel with submit button becomes invisible.  The code is:</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=\"UpdatePanel_Submit\" runat=\"server\" UpdateMode='conditional'&gt;\n        &lt;ContentTemplate&gt;\n            &lt;div style=\"font-size: 12pt; width: 938px; margin-top: 5px; border-top: ridge 2px gray;\"&gt;\n                &lt;div style=\"margin-top: 10px; width: 938px;\"&gt;\n\n                    &lt;asp:Button ID=\"btn_submit\" runat=\"server\"  ToolTip=\"Click here to submit your request.\" \n                    Text='Submit Request' onclick=\"btn_submit_Click\" /&gt;\n\n                    &lt;asp:LinkButton ID=\"btn_cancel\" runat=\"server\" ToolTip=''&gt;Cancel&lt;/asp:LinkButton&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/ContentTemplate&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>What do I do to prevent my update panel from going invisible?</p>\n"},{"tags":["ajax","jsf-2","richfaces","textarea","tabpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12951850,"title":"rich:tabPanel does not work with textarea","body":"<p>I think i got a bug of richFaces.</p>\n\n<p>I have a simple page with a tabPanel with switchType='ajax' and 2 (empty) tabs, the first tab only contains a textarea whose value is bound to a bean property and the tabPanel just does not work. Becoming following log messages while trying to change the tab:</p>\n\n<pre><code>info [11:31:56.919]: Received 'begin' event from &lt;div id=form:j_id2114509110_7e08d99f ...&gt;\ninfo [11:31:56.953]: Received 'beforedomupdate' event from &lt;div id=form:j_id2114509110_7e08d99f ...&gt;\ninfo [11:31:56.957]: Element error\n&lt;error&gt;&lt;error-name&gt;javax.faces.component.UpdateModelException&lt;/error-name&gt;&lt;error-message&gt;&lt;![CDATA[org.apache.myfaces.view.facelets.el.ContextAwarePropertyNotWritableException: javax.el.PropertyNotWritableException: ResourceBundles are read-only]]&gt;&lt;/error-message&gt;&lt;/error&gt;\nerror[11:31:56.959]: Received 'error@serverError' event from &lt;div id=form:j_id2114509110_7e08d99f ...&gt;\nerror[11:31:56.961]: [200] undefined: undefined\ninfo [11:31:56.962]: Received 'complete' event from &lt;div id=form:j_id2114509110_7e08d99f \n</code></pre>\n\n<p>when i remove the value binding, everything works as expected. <del>\nAlso changing the textarea by a input box works fine</del>\n.</p>\n\n<p>UPDATE: i also get a server error with switchType='server':</p>\n\n<pre><code>javax.el.PropertyNotWritableException: ResourceBundles are read-only\n    org.apache.myfaces.el.unified.resolver.ResourceBundleResolver.setValue(ResourceBundleResolver.java:69)\n    javax.el.CompositeELResolver.setValue(CompositeELResolver.java:68)\n    org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.setValue(FacesCompositeELResolver.java:229)\n    org.jboss.el.parser.AstPropertySuffix.setValue(AstPropertySuffix.java:73)\n    org.jboss.el.parser.AstValue.setValue(AstValue.java:84)\n    org.jboss.el.ValueExpressionImpl.setValue(ValueExpressionImpl.java:249)\n    org.apache.myfaces.view.facelets.el.ContextAwareTagValueExpression.setValue(ContextAwareTagValueExpression.java:151)\n    javax.faces.component.UIInput.updateModel(UIInput.java:402)\n    javax.faces.component.UIInput.processUpdates(UIInput.java:324)\n    javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1332)\n    org.richfaces.component.AbstractTogglePanel.processUpdates(AbstractTogglePanel.java:302)\n    javax.faces.component.UIForm.processUpdates(UIForm.java:217)\n    javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1332)\n    javax.faces.component.UIComponentBase.processUpdates(UIComponentBase.java:1332)\n    javax.faces.component.UIViewRoot._processUpdatesDefault(UIViewRoot.java:1311)\n    javax.faces.component.UIViewRoot.access$600(UIViewRoot.java:74)\n    javax.faces.component.UIViewRoot$UpdateModelPhaseProcessor.process(UIViewRoot.java:1413)\n    javax.faces.component.UIViewRoot._process(UIViewRoot.java:1272)\n    javax.faces.component.UIViewRoot.processUpdates(UIViewRoot.java:782)\n    org.apache.myfaces.lifecycle.UpdateModelValuesExecutor.execute(UpdateModelValuesExecutor.java:38)\n    org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:171)\n    org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\n    javax.faces.webapp.FacesServlet.service(FacesServlet.java:189)\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\n    org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:392)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:359)\n    org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)\n    org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n    org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)\n    org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n    org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\n    org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n    org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)\n    org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n    org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:271)\n    org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n    org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:89)\n    org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n    org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)\n    org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\n    org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n    org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:174)\n    org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\n    org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\n    org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\n</code></pre>\n\n<p>here is the working code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:h=\"http://java.sun.com/jsf/html\"\n      xmlns:a4j=\"http://richfaces.org/a4j\"\n      xmlns:rich=\"http://richfaces.org/rich\" &gt;\n\n  &lt;h:head&gt;&lt;title&gt;Test&lt;/title&gt;&lt;/h:head&gt;\n  &lt;h:body&gt;\n    &lt;h:form id=\"form\" &gt;\n      &lt;h1&gt;Test&lt;/h1&gt;\n      &lt;rich:tabPanel switchType=\"ajax\" &gt;\n        &lt;rich:tab name=\"tab1\" header=\"tab1\"&gt;\n          &lt;h:inputTextarea value=\"#{testBean.text}\" /&gt;\n        &lt;/rich:tab&gt;\n        &lt;rich:tab name=\"tab2\" header=\"tab2\"&gt;\n          Tab2\n        &lt;/rich:tab&gt;\n      &lt;/rich:tabPanel&gt;\n    &lt;/h:form&gt;\n    &lt;a4j:log style=\"text-align:left;height:auto;\" /&gt;\n  &lt;/h:body&gt;    \n&lt;/html&gt;\n</code></pre>\n\n<p>and here my environment:\nTomcat 6.0.18, Java 1.6.0_25, Win6.1 build 7601</p>\n\n<p>and dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.myfaces.tomahawk&lt;/groupId&gt;\n  &lt;artifactId&gt;tomahawk20&lt;/artifactId&gt;\n  &lt;version&gt;1.1.10&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;taglibs&lt;/groupId&gt;\n  &lt;artifactId&gt;standard&lt;/artifactId&gt;\n  &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;artifactId&gt;myfaces-impl&lt;/artifactId&gt;\n   &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\n   &lt;version&gt;2.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n  &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.richfaces.core&lt;/groupId&gt;\n  &lt;artifactId&gt;richfaces-core-impl&lt;/artifactId&gt;\n  &lt;version&gt;4.2.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.richfaces.ui&lt;/groupId&gt;\n  &lt;artifactId&gt;richfaces-components-ui&lt;/artifactId&gt;\n  &lt;version&gt;4.2.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jboss.seam&lt;/groupId&gt;\n  &lt;artifactId&gt;jboss-el&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0.GA&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n      &lt;groupId&gt;el-api&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;        \n</code></pre>\n\n<p>has somebody encountered such a problem, is there any workaround?</p>\n"},{"tags":["php","mysql","ajax","undefined-index"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12976307,"title":"Undefined Index AJAX, PHP, MYSQL","body":"<p>I'm playing about with Ajax for the first time, using it alongside PHP, MYSQL.</p>\n\n<p>So far I've got myself a text box I can type into it gives me suggested matches.</p>\n\n<p>I'm now trying to set it up to so that I can search for a project name like \"April Kelley\" and it displays the project name, then anyone that is associated to that project. I've got the code mostly there but I keep getting an error message saying :</p>\n\n<blockquote>\n  <p>Notice: Undefined index: ClientName in C:\\wamp\\www\\Creative Wolf\n  Tests\\CPanel_Inc.php on line 30</p>\n</blockquote>\n\n<p>As far as I can tell my code should work because I've used the same format earlier in my code. My codes spilt into two files CPanel &amp; Cpanel Inc, if someone could take a look and help me to rectify what is probabally a silly mistake that I'm overlooking I'd be greatful.</p>\n\n<p><strong>Cpanel contains</strong></p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;script&gt;\n        function showHint(str) {\n            if (str.length==0) { \n                document.getElementById(\"results_box\").innerHTML=\"\";\n                return;\n            }\n\n            if (window.XMLHttpRequest) {\n                // code for IE7+, Firefox, Chrome, Opera, Safari\n                xmlhttp=new XMLHttpRequest();\n            } else {\n                // code for IE6, IE5\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n\n            xmlhttp.onreadystatechange=function() {\n                if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) {\n                     document.getElementById(\"results_box\").innerHTML=xmlhttp.responseText;\n                 }\n            }\n\n            xmlhttp.open(\"GET\",\"CPanel_Inc.php?search_value=\"+str,true);\n            xmlhttp.send();\n        }\n    &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;p&gt;&lt;b&gt;Project Search:&lt;/b&gt;&lt;/p&gt;\n         &lt;form&gt; \n        Project Name: &lt;input type=\"text\" onKeyUp=\"showHint(this.value)\" size=\"20\" /&gt;\n         &lt;/form&gt;\n         &lt;p&gt;&lt;div id=\"results_box\"&gt;&lt;/span&gt;&lt;/p&gt; \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>CPanel Inc contains</strong> </p>\n\n<pre><code>&lt;?php\n    $connect = mysqli_connect(\"localhost\", \"root\", \"\", \"creative wolf\");\n    if (mysqli_connect_errno()) {\n        printf(\"Connect Failed: %s\\n\", mysqli_connect_error());\n        exit();\n    } else { \n\n        // Get the search_value parameter from URL\n        $search_value=$_GET[\"search_value\"];\n        $content = \"\";\n\n        // Search database for comparable values provided that search_value has some value\n        if (strlen($search_value) &gt; 0) {        \n\n            // Sets up query return results\n            $qry = \"SELECT ProjectName FROM projects WHERE ProjectName LIKE '$search_value%'\";\n            $res = mysqli_query($connect, $qry) or die(mysqli_error($connect));\n\n            if (mysqli_num_rows($res) &lt; 1){\n                printf(\"Could not retrieve records matching your search critera\", mysqli_error($connect));\n            } else {        \n                while ($data = mysqli_fetch_array($res)) {\n                    $content .= \"Project Name: \".$data['ProjectName'].\"&lt;br /&gt; &lt;hr/&gt;\";\n\n                    // Set up query\n                    $get_clients_qry = \"SELECT ClientName FROM projects/clients WHERE ProjectName = 'April Kelley'\";\n                    $get_clients_res = mysqli_query($connect, $qry) or die(mysqli_error($connect));\n\n                    while ($clientData = mysqli_fetch_array($get_clients_res)) {\n                        $content .= $clientData['ClientName'];\n                        echo $content.\"&lt;br /&gt;\";\n                    }\n                }\n            }   \n        }\n\n        mysqli_free_result($res);\n        mysqli_close($connect);\n    }\n?&gt;\n</code></pre>\n"},{"tags":["ajax","google-chrome"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12974954,"title":"Chrome browser is possible to re-launch an ajax request","body":"<p>Is it possible to re-launch an <strong>ajax request</strong> after it was launched for the first time? </p>\n\n<p>Can't find out how to <strong>re-launch</strong> it. I have  the old one in the network tab, but as I see I can't repeat it.</p>\n"},{"tags":["ajax","performance","jsf","jquery-ajax","datatable"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":70,"score":4,"question_id":12976215,"title":"How to write <table> markup without JSF tag libraries (h:datatable or ui:repeat) but still use JSF for controlling page flow","body":"<p>I have various tables with the following size : 12 columns and up to 1800 rows. It takes 8 seconds to render it to the user. I currently use <code>h:dataTable</code>. I tried <code>ui:repeat</code> to get the row data from a Java List object, managed by JSF.  Although this works fine, the 8 seconds to render the table is unacceptable. I'm trying to find other ways to do this, but need to keep <code>JSF</code> as my <code>controller</code> for action buttons on the page.  In other words I want to create the 'table markup<code>to send to the</code>page myself<code>and then still associate actions on</code>h:commandButtons` to the managed bean methods. Is there a way to do this?  </p>\n\n<p>The only ways I can think of is to use <code>jquery</code> or <code>ajax</code> to create the table markup, although I am new to technologies other than JSF for UI development.Maybe then I would somehow pass that to the client for render.  The only problem is I don't know how to generate the markup from my list, and second how I would inject it between <code>h:commandButtons</code> that are in my <code>XHTML</code> file currently. </p>\n\n<p>Does any one know how I can solve this without having to completely rip OFF JSF?  One main problem I have is that the  <strong>business requirement that says we can't page the datatable (i.e: Next / Back buttons displaying 100 at a time for example)</strong>.  So, possibly I was thinking I could do this by Ajax calls to the server and get 100 rows at a time after page ready, and append new rows behind the scenes to the user.  This would be a \"perceived\" speed of load, but I don't know how to do this at all.</p>\n"},{"tags":["jquery","ajax","ajaxcomplete"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12976130,"title":"jQuery ajaxComplete: Is there a way to tell which Javascript function executed the ajax call?","body":"<p>I have the .ajaxComplete event wired up to a few elements like this:</p>\n\n<p><code>$(\"#ElementId\").ajaxComplete(function (a, b, c) { });</code></p>\n\n<p>The issue is that I have multiple <code>$.ajax</code> calls in my script that are called by various functions.  I don't want the .ajaxComplete event to fire for every control for every ajax call.  Conceptually, I am looking for something like this:</p>\n\n<p><code>if (a.function == SearchCustomers) { do this }</code></p>\n\n<p>Is there any way to achieve what I want here?</p>\n\n<p><strong>Edit:</strong>  I realize that I can check for the URL of the service I am calling, but I don't want to hardcode a URL string in my scripts more than once.</p>\n"},{"tags":["php","javascript","jquery","ajax","json"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":987,"score":1,"question_id":7263052,"title":"How to pass an array using PHP & Ajax to Javascript?","body":"<p>Apologies if this explanation isn't clear, it's hard for me to understand too. <strong>How can I use PHP &amp; Ajax to send an array to Javascript?</strong> I'm using Ajax to get an array of photos, which I'm then looking to append to an empty <code>&lt;div&gt;</code> on my page.</p>\n\n<p>The jQuery looks as follows:</p>\n\n<pre><code>$.ajax({\n    url: \"&lt;?php echo site_url('demo/getPhotos/'); ?&gt;\",\n    type: 'POST',\n    data: form_data,\n    success: function(data) {\n        alert(data);\n   }\n</code></pre>\n\n<p>And the PHP function getPhotos looks like this:</p>\n\n<pre><code>&lt;?php\n\n$photos = array();\n\nforeach ($data as $photo) {\n    array_push($photos,$photo['source']);\n    }\n\n// echo json_encode($photos); How should I be returning $photos?\n</code></pre>\n\n<p>If I simply <code>echo $photos;</code> the data is sent to the success callback, but it doesn't appear to be in a usable format.</p>\n\n<p>If I do a <code>var_dump($photos)</code> in PHP, the result looks something like:</p>\n\n<pre><code>array(4) {\n  [0]=&gt;\n  string(14) \"some_image.jpg\"\n  [1]=&gt;\n  string(14) \"some_image.jpg\"\n  [2]=&gt;\n  string(14) \"some_image.jpg\"\n  [3]=&gt;\n  string(14) \"some_image.jpg\"\n}\n</code></pre>\n\n<p>I've tried various combinations of <code>json_encode</code> and the like but really I am guessing and not sure of the theory behind it. What's the best way to pass data from PHP to Javascript in this context?</p>\n"},{"tags":["jquery","ajax","asp.net-mvc-3","mvc","telerik"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":688,"score":1,"question_id":9689876,"title":"MVC3 - Server validation with Telerik Modal Window using Ajax call","body":"<p><strong>SOLVED</strong></p>\n\n<p>I´m going to paste my code before I ask the question.</p>\n\n<p><strong>My script:</strong></p>\n\n<pre><code>    function showDialog(arg) {\n    var url = '/Home/ReserveRent/';\n    $.ajax({\n            type: \"GET\",\n            url: url,\n            data: { saleslineId: arg },\n            dataType: \"html\",\n            success: function(data) { $('#ModalPay' + arg).html(data); },\n            error: function() { alert(url + '  ' + arg); }\n        });\n    $(\"#Window\" + arg).data(\"tWindow\").center().open().refresh();\n}\n</code></pre>\n\n<p><strong>My Controller ActionResult GET and POST:</strong></p>\n\n<pre><code>        public ActionResult ReserveRent(int salesLineId)\n    {\n        if(User.Identity.IsAuthenticated)\n        {\n            var salesLine = _salesLineLogic.GetSalesLine(salesLineId);\n\n            if (!salesLine.IsAvailable)\n            {\n                ViewBag.AvailableSalesLine = @\"Þessi orlosfeign er því miður ekki lengur til leigu á þessu tímabili.\";\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n\n            salesLine.IsAvailable = false;\n            _salesLineLogic.SaveToDatabase();\n\n            var payment = new Payment { FK_SalesLineID = salesLineId, EditedBy = \"PayRent.cshtml (GET)\", EditedOn = DateTime.Now };\n\n            return PartialView(new HomeFormViewModel(payment, salesLineId));\n        }\n        else\n        {\n            return RedirectToAction(\"LogOn\", \"Account\");\n        }\n    }\n\n    [HttpPost]\n    [Authorize]\n    public ActionResult ReserveRent(int salesLineId, Payment payment)\n    {\n        //removed a lot of code since it is not relevant to question\n\n        var cardValidation = new CreditCardAttribute();\n\n        if (cardValidation.IsValid(payment.VirtualCardnumber))\n        {\n            try\n            {\n                //removed a lot of code since it is not relevant to question\n                //here is success\n\n                return RedirectToAction(\"RentPaid\", \"Payment\", payment);\n            }\n            catch (_ErrorException e)\n            {\n                //Code removed, error handling\n            }\n        }\n        else\n        {\n            //Code removed\n            ModelState.AddModelError(\"\", @\"Kortanúmerið (\" + payment.VirtualCardnumber + @\") er ekki löglegt, vinsamlegast reynið aftur.\");\n            return PartialView(new HomeFormViewModel(payment, salesLineId));\n        }\n\n        return PartialView(new HomeFormViewModel(payment, salesLineId));\n    }\n</code></pre>\n\n<p><strong>My foreach loop within my Index page rendering Telerik Windows:</strong></p>\n\n<pre><code>&lt;div&gt;\n@foreach (ShowAvailability availability in Model.ShowAvailabilities)\n{\n    foreach (var salesLine in availability.SalesLinesForSale)\n    {\n        SalesLine line = salesLine;\n        string modalPay = \"ModalPay\" + line.SalesLineID;\n        Html.Telerik().Window()\n        .Name(\"Window\" + line.SalesLineID)\n        .Title(line.Unit.Name)\n        .Content(@&lt;text&gt;\n            @using (Html.BeginForm(\"ReserveRent\", \"Home\", new { salesLineId = line.SalesLineID }, FormMethod.Post, new { id = \"feedback-form\" }))\n            {\n\n                &lt;p class=\"note\"&gt;This is &lt;strong&gt;salesLine&lt;/strong&gt; @line.SalesLineID.&lt;/p&gt;\n\n                &lt;div style=\"@modalPay\"&gt;\n                    @{Html.RenderPartial(\"ReserveRent\", Model);}\n                &lt;/div&gt;\n                &lt;div class=\"form-actions\"&gt; &lt;button onclick=\"cancelModalRent('@line.SalesLineID')\" type=\"button\" class=\"t-button t-state-default\"&gt; Hætta við&lt;/button&gt; \n            &lt;button type=\"submit\" class=\"t-button t-state-default\"&gt; Bóka&lt;/button&gt;                         \n            &lt;button type=\"button\" onclick=\"showDialog('@line.SalesLineID')\" class=\"t-button t-state-default\"&gt;eeeeeee&lt;/button&gt;&lt;/div&gt;\n            }\n    &lt;/text&gt;)\n        .Buttons(b =&gt; b.Maximize())\n        .Width(500)\n        .Draggable(true)\n        .Modal(true)\n        .Visible(false)\n        .Render();\n    }\n}\n</code></pre>\n\n<p></p>\n\n<p><strong>My FormViewModel:</strong></p>\n\n<pre><code>    public class HomeFormViewModel\n    {\n    private readonly UnitLogic _unitLogic = new UnitLogic();\n\n    public ShowAvailability ShowAvailability            { get; private set; }\n    public List&lt;ShowAvailability&gt; ShowAvailabilities    { get; private set; } \n    public List&lt;Unit&gt; Units                             { get; private set; }\n    public List&lt;Unit&gt; Areas                             { get; private set; }\n    public List&lt;SelectListItem&gt; AreaSelectList          { get; private set; }\n    public Payment Payment                              { get; private set; }\n    public int SalesLineId                              { get; private set; }\n\n    public HomeFormViewModel(ShowAvailability showAvailability)\n    {\n        ShowAvailability = showAvailability;\n\n        Units = _unitLogic.GetAllUnits();\n    }\n\n    public HomeFormViewModel(List&lt;ShowAvailability&gt; showAvailabilities)\n    {\n        ShowAvailabilities = showAvailabilities;\n\n        Units = _unitLogic.GetAllUnits();\n\n        Areas = _unitLogic.GetAllAreas();\n\n        var selectListItems = new List&lt;SelectListItem&gt;\n                                  {\n                                      new SelectListItem\n                                          {\n                                              Selected = true,\n                                              Text = @\"Öll svæði\",\n                                              Value = \"0\"\n                                          }\n                                  };\n\n        selectListItems.AddRange(Areas.Select(unit =&gt; new SelectListItem\n                                                          {\n                                                              Selected = false,\n                                                              Text = unit.Name,\n                                                              Value = unit.UnitID.ToString()\n                                                          }));\n        AreaSelectList = selectListItems;\n    }\n\n    public HomeFormViewModel(Payment payment, int salesLineId)\n    {\n        SalesLineId = salesLineId;\n        Payment = payment;\n    }\n}\n</code></pre>\n\n<p><strong>My partial View (the one that should stay open when validation occur):</strong></p>\n\n<pre><code>@model AFLOrlofMVC3.Controllers.HomeFormViewModel\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n@{\n    string modalPay = \"ModalPay\" + Model.SalesLineId;\n}\n&lt;div&gt;\n@Html.ValidationSummary(true)\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.PayerName)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.PayerName, new { style = \"width: 175px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.PayerName)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.VirtualCardnumber)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.VirtualCardnumber, new { style = \"width: 125px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.VirtualCardnumber)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.CVC)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.CVC, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.CVC)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.ExpirationDate)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.ExpirationDate, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.ExpirationDate)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.EditedOn)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.EditedOn, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.EditedOn)\n&lt;/div&gt;\n&lt;div style=\"margin-top: 5px; margin-bottom: 3px;\"&gt;\n    @Html.LabelFor(model =&gt; model.Payment.EditedBy)\n&lt;/div&gt;\n&lt;div&gt;\n    @Html.TextBoxFor(model =&gt; model.Payment.EditedBy, new { style = \"width: 50px;\" })\n    @Html.ValidationMessageFor(model =&gt; model.Payment.EditedBy)\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Screenshots:  First picture is my dialog window, second picture what happens on submit</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/f0013.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/FjKU8.png\" alt=\"enter image description here\"></p>\n\n<p><strong>My question:</strong></p>\n\n<p>If I want to only refresh my dialog window with the result from my Ajax call, should I change the ajax call in any way for that to work or should I return something else than PartialView()?   I´m thinking mainly about the server side validation and the validationsummary should display the error.</p>\n"},{"tags":["ajax","internet-explorer-8","modalpopupextender"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12976114,"title":"Is it possible to add animation to Ajax Modal Popup Extender in javascript?","body":"<p>I have an ajax modal popup that animates the popup panel in.</p>\n\n<p>Everything works fine in Firefox et al, but there are a couple of issues in IE8.</p>\n\n<p>1) The text looks grainy (as per when you use a filter with text).\n2) Hover state on buttons does not work.</p>\n\n<p>I'm trying to find a solution, but struggling to come up with an answer. Maybe one solution is to try and call animation from javascript rather than place it in the aspx page.</p>\n\n<p>Any ideas? </p>\n"},{"tags":["php","ajax","jquery-ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12975727,"title":"Logging ajax requests to a log file","body":"<p>I have a single page app which does all it's work via ajax calls. Now, I would need to log the ajax calls to a single file. I've done the logging and it works, but since I can't stress test the behaviour I'm interested in your oppinions: what happens if two or more users click \"save\" and therefor engage the function for saving the \"record\" to a single file at the same time. Won't the script throw an error if it will not be able to write to an already open file (open by a potentialy paralel \"save\" request)? Is there some method I can use so that I make sure the \"record\" has been saved? </p>\n"},{"tags":["javascript","jquery","ajax","post","submit"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":614,"score":1,"question_id":9789082,"title":"jquery ajax form submit","body":"<p>Is this code correct? I'm trying to submit it and also I would like on submit if text area would be empty again.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n\n    $(\"form#submit\").submit(function() {\n        // we want to store the values from the form input box, then send via ajax below\n        var fid = $(\".messag\").attr(\"id\");\n        var val = $(\"#mess_ar\").val();\n        $.ajax({\n            type: \"POST\",\n            url: \"send_message.php\",\n            data: \"fid=\"+ fid +\"&amp;val=\"+ val,\n            success: function(){\n                    $(\"#mess_ar\").\n            }\n        });\n        return false;\n    });\n}):\n&lt;/script&gt;\n</code></pre>\n\n<p>I'm trying to upload this:</p>\n\n<pre><code>&lt;form id=\"submit\" method=\"POST\"&gt;\n&lt;textarea name=\"mess_cont\" id=\"mess_ar\" autofocus=\"autofocus\" cols=\"70\" rows=\"5\"&gt;      &lt;/textarea&gt;\n&lt;button id=\"mess_but\" type=\"submit\"&gt;Send&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Thankx...</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12976049,"title":"Update content only if data from ajax call has changed","body":"<p>I have an HTML table which is being filled with data that's collected via an AJAX call.</p>\n\n<p>This ajax call is triggered every X seconds.</p>\n\n<p>I <strong><em>only</em></strong> want the table to update if the data received from the AJAX call is <strong><em>different</em></strong> from the existing data within the table.</p>\n\n<p>Any way of achieving this?</p>\n"},{"tags":["jquery","ajax","infinite-scroll"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12975758,"title":"jquery infinite ajax scroll fires items multible times","body":"<p>I am using the plugin jquery infinite ajax scroll (ias) for the category result of an mobile shop.</p>\n\n<p>By scrolling or swiping down, the script fires the items of the next pages multible times.</p>\n\n<p>You can test it here: <a href=\"http://www.yakuza-outlet.de/hocker-sitzbaenke-fell-teak-holz-marmor-im-online-shop-wohnfreuden-kaufen/teakholz/\" rel=\"nofollow\">Testpage</a></p>\n\n<p>If you click the link, please resize your window to a width of 320px, otherwise the css won't work!!</p>\n\n<p>The script:</p>\n\n<pre><code>$(document).ready(function() {\ndocument.onscroll = function() {\n    jQuery.ias({\n        container : 'div.articlelist',\n        item: '.row',\n        pagination: '.pagination',\n        next: '.pagination a:first',\n        loader: '&lt;img src=\"/layout/mobil/img/ajax-loader.gif\"&gt;&lt;br&gt;Artikel werden geladen...',\n        history: false,\n        onLoadItems: function(items) {\n        $(items, '.bubbles').find('span:eq(0)').css('margin-right','107px');\n        $(items, '.bubbles').find('span:eq(1)').css('margin-right','51px');\n        $(items, '.bubbles').find('span:eq(2)').css('margin-right','102px');\n        }\n    });\n}\n</code></pre>\n\n<p>});</p>\n"}]}
{"total":48692,"page":20,"pagesize":100,"questions":[{"tags":["javascript","jquery","ajax","callback"],"answer_count":10,"favorite_count":8,"up_vote_count":18,"down_vote_count":0,"view_count":6487,"score":18,"question_id":4368946,"title":"Javascript callback for multiple ajax calls","body":"<p>My lack of javascript knowledge is getting me in trouble again. I think this should be a fairly easy problem to fix but I cant figure it out.</p>\n\n<p><strong>Situation:</strong> I want to make three ajax calls in a click event. Each ajax call does a distinct operation and returns back data that is needed for a final callback. The calls themselves are not dependent on one another, they can all go at the same time, however I would like to have a final callback when all three are complete.</p>\n\n<pre><code>$('#button').click(function() {\n    fun1();\n    fun2();\n    fun3();\n//now do something else when the requests have done their 'success' callbacks.\n});\n\nvar fun1= (function() {\n    $.ajax({/*code*/});\n});\nvar fun2 = (function() {\n    $.ajax({/*code*/});\n});\nvar fun3 = (function() {\n    $.ajax({/*code*/});\n});\n</code></pre>\n"},{"tags":["ajax","django","twitter-bootstrap","modal","django-crispy-forms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":139,"score":0,"question_id":12936270,"title":"AJAX feedback form using django crispy forms in Bootstrap Modal","body":"<p>There are quite a few moving parts to this question, but if you have any insight to any piece of it, it would be appreciated.</p>\n\n<p>I want to build a feedback form that acts as one would expect.  When the user clicks the feedback button at the bottom right of the page, it launches a bootstrap modal.  The modal has a django crispy form that submits or returns the fields that are invalid when the submit button is pressed.</p>\n\n<p>First, I have my feedback button:</p>\n\n<pre><code>{% load crispy_forms_tags %}\n\n.feedback-button {\n    position: fixed;\n    bottom: 0;\n    right: 30px;\n}\n\n&lt;div class='feedback-button'&gt;\n    &lt;a class=\"btn btn-info\" href=\"#feedbackModal\" data-toggle=\"modal\" title=\"Leave feedback\" target=\"_blank\"&gt;\n        &lt;i class=\"icon-comment icon-white\"&gt;&lt;/i&gt;\n        Leave feedback\n    &lt;/a&gt;\n&lt;/div&gt;\n&lt;div class=\"modal hide\" id=\"feedbackModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"feedbackModalLabel\" aria-hidden=\"true\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;x&lt;/button&gt;\n        &lt;h3 id=\"feedbackModalLabel\"&gt;Contact Form&lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n        {% crispy feedback_form feedback_form.helper %}\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n        &lt;button class=\"btn\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;Close&lt;/button&gt;\n        &lt;button class=\"btn btn-primary\"&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Next, I have my form:</p>\n\n<pre><code>class Feedback(models.Model):\n    creation_date = models.DateTimeField(\"Creation Date\", default=datetime.now)\n    topic = models.CharField(\"Topic\", choices = TOPIC_CHOICES, max_length=50)\n    subject = models.CharField(\"Subject\", max_length=100)\n    message = models.TextField(\"Message\", blank=True)\n    sender = models.CharField(\"Sender\", max_length=50, blank=True, null=True)\n\n    def __unicode__(self):\n        return \"%s - %s\" % (self.subject, self.creation_date)\n\n    class Meta:\n            ordering = [\"creation_date\"]\n        verbose_name = \"Feedback\"\n        verbose_name_plural = \"Feedback\"\n\nclass Crispy_ContactForm(forms.ModelForm):\n\n    def __init__(self, *args, **kwargs):\n        self.helper = FormHelper()\n        self.helper.layout = Layout(\n            Fieldset(\n                Field('topic', placeholder='Topic', css_class='input-medium'),\n                Field('subject', placeholder='Subject', css_class='input-xlarge'),\n                Field('message', placeholder='Message', rows='5', css_class='input-xlarge'),\n                Field('sender', placeholder='Sender', css_class='input-xlarge'),\n            ),\n        )\n        self.helper.form_id = 'id-Crispy_ContactForm'\n        self.helper.form_method = 'post'\n\n        super(Crispy_ContactForm, self).__init__(*args, **kwargs)\n\n    class Meta:\n        model = Feedback\n        exclude = ['creation_date']\n</code></pre>\n\n<p>I tried to omit the legend in the crispy form because if I include it, the modal appears to have two form titles.  But omitting the legend in the crispy form layout resulted in the fields appearing out of order.</p>\n\n<p>So I'm left with a few questions:</p>\n\n<ol>\n<li>Overall, am I going about this the right way? </li>\n<li>If I hook up the modal's submit button to AJAX, how do I go about error checking the\n    form?</li>\n<li>Is there a better way to display the crispy form in the\n    bootstrap modal?</li>\n</ol>\n"},{"tags":["ajax","yii"],"answer_count":5,"favorite_count":2,"up_vote_count":0,"down_vote_count":1,"view_count":4315,"score":-1,"question_id":5039494,"title":"Yii, ajax, Button. How to prevent multiple JS onclick bindings","body":"<p>(First of all english is not my native language, I'm sorry if I'll probably mistaken).\nI've created Yii Web app where is input form on main page which appears after button click through ajax request. There is a \"Cancel\" button on the form that makes div with form invisible. If I click \"Show form\" and \"Cancel\" N times and then submit form with data the request is repeating N times. Obviously browser binds onclick event to the submit button every time form appears. Can anybody explain how to prevent it?\nThank you!</p>\n"},{"tags":["php","jquery","ajax","api","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12974559,"title":"Unable to identify issue with Ajax call to Yii API getting no response headers","body":"<p><strong>Overview</strong></p>\n\n<p>I'm currently working on a jQuery/HTML5 project that displays web performance data with a series of charts using an internal API to retrieve the data. The API is powered by Yii, but I am not working on it, so i cannot change or experiment with it myself.</p>\n\n<p>Basically I am hoping someone can help identify if the API is the root cause of the problem or if it's a problem with the Ajax in my jQuery being incorrect.</p>\n\n<p>A small explanation of the process my application goes through...</p>\n\n<ol>\n<li>Application loads, uses user details to authenticate with API. Receives API Key from API.</li>\n<li>After the key has been retrieved, several calls are made to retrieve data from the APi to display as the web performance data.</li>\n<li>At set intervals, a generic is called to the database to check that the API Key has expired or not.</li>\n<li>If the key has expired, it makes another request to the API for a new API Key as stated in step 1. If there are any problems with gaining an API key, this is when the user gets kicked off.</li>\n<li>Restart cycle excluding getting the data.</li>\n</ol>\n\n<p><strong>Problem</strong></p>\n\n<p>All Ajax calls are made to the are crossdomain as both the project and the API are on separate sub domains. These are done using JSONP and a jQuery callback.</p>\n\n<p>The problem I am having is that when I need to authenticate if the key is valid or not, if it is no longer valid, the API returns a 401 error which my Ajax does not register. If i view the API URL in Firefox, I can see the returned Json data, wrapped in a callback, but when I check firebug it says there is a request, but no response.</p>\n\n<p>Basically when the API returns data that is not 200 OK, it doesn't send a response header at all.</p>\n\n<p>However I have manually called the API using cUrl in terminal, and have received a response header, as well as in Google Chrome.</p>\n\n<p>If someone could tell me if this is a well known issue with Firefox/jQuery or if this is a problem with the Yii API I would very much appreciate it.</p>\n"},{"tags":["javascript","jquery","html","ajax","jquery-ui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":91,"score":-1,"question_id":12957798,"title":"Toggle div using jquery","body":"<pre><code>&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n\n// when the document has finished loading, get the data\n$(document).ready(GetData());\n\nfunction GetData() {\n\n    $.ajax({\n        beforSend: function () {\n            $('#loadingDiv').css('display', 'block')\n        },\n        complete: function () {\n            $('#loadingDiv').css('display', 'none')\n        },\n        type: \"GET\",\n        url: \"/Integrationsonify/Data.aspx\",\n        data: dataObject,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function (data) {\n\n            var header = $(\"#accordion\");\n\n            $.each(data, function () {\n\n                header.append(\"&lt;a href='javascript:toggleDiv();'&gt;\" + this.Name + \" &lt;/a&gt;\", \"&lt;div id='myContent' style='display:none'&gt;\" + \"&lt;ul&gt;\", \"&lt;li&gt;\" + this.Id + \"&lt;/li&gt;\", \"&lt;li&gt;\" + this.SName + \"&lt;/li&gt;\", \"&lt;/ul&gt;\" + \"&lt;/div\");\n\n            });\n        },\n        error: function () {\n            alert(\"There was an error while rendering the page. Please contact the Admin for details\");\n        }\n\n    });\n\n   }\n   function toggleDiv() {\n\n                  $(\"#myContent\").toggle();\n\n   }\n\n&lt;/script&gt;\n&lt;div id=\"loadingDiv\" style=\"display: block;\"&gt;\n    hi\n&lt;/div&gt;\n&lt;div id=\"accordion\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>I am unable to toggle the myContent div..Is it because its created in ajax call?? The div is displayed but if I do a view source for the page I cannot see any data inside my accordion div..but on ui side in the browser I can atleast see the data..Thanks I am very sorry, I know its a very basic question but I need to find my way out of this very soon now so please guide me...</p>\n"},{"tags":["jquery","ajax","web-services"],"answer_count":4,"favorite_count":16,"up_vote_count":57,"down_vote_count":0,"view_count":45048,"score":57,"question_id":5241088,"title":"jQuery Call to WebService returns \"No Transport\" error","body":"<p>I have the following web service;</p>\n\n<pre><code>    [WebMethod]\n    public string HelloWorld()\n    {\n        return \"Hello World\";\n    }\n</code></pre>\n\n<p>It's stock standard with no alterations to the class decorators.</p>\n\n<p>I have this jQuery method;</p>\n\n<pre><code>var webMethod = \"http://localhost:54473/Service1.asmx/HelloWorld\"; \n\n$.ajax({\n    type: \"POST\",\n    contentType: \"application/json; charset=utf-8\",\n    data: \"{}\",  \n    dataType: \"json\",\n    url: webMethod,\n    success: function(msg){ alert(msg.d); },\n    error: function (XMLHttpRequest, textStatus, errorThrown) {\n        alert(errorThrown);\n          }\n});\n</code></pre>\n\n<p>It's a post action because later on I need to post data to it.</p>\n\n<p>When I execute the jQuery I get a \"No transport\" error returned.</p>\n\n<p>One thing I should also mention is that the jQuery is stored in a simple HTML file on my machine and the WebService is running on my machine also.</p>\n\n<p>There is no code behind on the HTML page it's simply a web page and not a c# project or anything.</p>\n\n<p>Can anyone please point me in the right direction here?</p>\n"},{"tags":["jquery","ajax","json","wcf"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12934553,"title":"Unable to get data from ajax funtion and wcf rest service on firefox and crome but works fine with IE","body":"<p>I am calling ajax funtion which return some data in json format from wcf rest service. I am getting data when I user IE browser but it's failed to get data when I use Mozillan and crome browser.</p>\n\n<p>Follwing is the code I am using.</p>\n\n<pre><code>    &lt;script src=\"js/JSon.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/jquery-1.6.2.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/jquery.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n function fillcategory() {\n                var GetCategoryURl = \"http://localhost:4444/Service1.svc/GetCategory\"\n                var drp = \"\";\n                   $.ajax({\n                        cache: false,\n                        type: \"GET\",\n                        async: false,  \n                        url: GetCategoryURl,\n                        dataType: \"json\",   \n                        success: function (objCategory) {\n                            Category = objCategory;                               \n                        }\n                    ,\n                        error: function (xhr) {\n\n                        }\n                    });\n\n                 fillSubcategory();\n            }\n</code></pre>\n\n<p>Rquest Header is:</p>\n\n<pre><code>    OPTIONS /Service1.svc/GetCategory?_=1350649411289 HTTP/1.1\nHost: localhost:4444\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.28) Gecko/20120306 Firefox/3.6.28\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8,application/json\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip,deflate\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\nKeep-Alive: 115\nConnection: keep-alive\nOrigin: http://localhost:14853\nAccess-Control-Request-Method: GET\nAccess-Control-Request-Headers: x-requested-with\n</code></pre>\n\n<p>Response Header is:</p>\n\n<pre><code>    HTTP/1.1 405 Method Not Allowed\nAllow: GET\nContent-Length: 1565\nContent-Type: text/html; charset=UTF-8\nServer: Microsoft-IIS/7.5\nX-Powered-By: ASP.NET\nDate: Fri, 19 Oct 2012 12:23:56 GMT\n</code></pre>\n\n<p>Thanks,</p>\n\n<p>Pramod</p>\n"},{"tags":["javascript","objective-c","ajax","uiwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12974390,"title":"Calling Objective C function from UIWebView using Ajax","body":"<p>I found online a tutorial where it says that ObjectiveC code can be called from a WebView using the following Javascript code</p>\n\n<pre><code>var iframe = document.createElement(\"IFRAME\");\niframe.setAttribute(\"src\", \"js-frame:myObjectiveCFunction\");\ndocument.documentElement.appendChild(iframe);\niframe.parentNode.removeChild(iframe);\niframe = null;\n</code></pre>\n\n<p>Then from ObjectiveC I must implement UIWebViewDelegate to receive the     shouldStartLoadWithRequest. \nI tried this code and it worked; however, I was wondering if the same functionality could be implemented using an AJAX call instead of using an IFrame. </p>\n"},{"tags":["jquery","asp.net",".net","ajax"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":296,"score":0,"question_id":10310601,"title":"form builder in asp.net","body":"<p>form builder in asp.net </p>\n\n<p>I would like to dynamically generate a form from a database in ASP.NET, what is the best approach? Are there any built in functionalities I can use?</p>\n\n<p>I will have database tables to represent the panels and their names, then for each panels, it contains the different fields and their types (Combos, Textboxes, etc..).</p>\n\n<p>Please advice</p>\n"},{"tags":["ajax","jsf","jsf-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12968096,"title":"Ajax not working in JSF","body":"<p>I don't know why Ajax is not working in my JSF files.Even I have a latest Mojarra which is 3.2.13 in my GlassFish. Here is my code</p>\n\n<pre><code>&lt;h:head&gt;&lt;/h:head&gt;\n&lt;h:body&gt;\n    &lt;h:panelGroup id=\"panel\" rendered=\"#{chartBean.showCharts}\"&gt;\n\n            &lt;p:barChart id=\"basic\" value=\"#{chartBean.categoryModel}\"\n            legendPosition=\"ne\" title=\"Basic Bar Chart\" min=\"0\" max=\"200\"\n            style=\"height:300px\" /&gt;\n\n    &lt;/h:panelGroup&gt;\n\n    &lt;h:commandButton value=\"Display Chart\" action=\"#{chartBean.createCategoryModel}\"&gt;\n    &lt;f:ajax render=\"panel\"/&gt;\n    &lt;/h:commandButton&gt;\n&lt;/h:body&gt;\n</code></pre>\n\n<p>Now when I run this code, button doesn't work.</p>\n\n<p>Another thing, if I change my code like remove panel and just render on barchart like <code>\n&lt;f:ajax render=\"basic\"/&gt;</code> and placed it in <code>&lt;form&gt;</code> \nthen it throws <code>NullPointerException</code>. Because it render the chart and expect value from <code>chartBean.categoryModel</code>. Now AFAIK it should not be rendered because of ajax.</p>\n\n<p>I am unable to understand ajax behavior in JSF. I also tried <code>&lt;f:ajax execute=\"@form\" render=\"basic\"&gt;</code> but it didn't work too. How is this caused and how can I solve it?</p>\n"},{"tags":["ajax","jsf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12954109,"title":"call jquery ajax call in jsf and render table with data","body":"<p>I am using this ajax call in jsf</p>\n\n<pre><code>jQuery.ajax({\n\n    url: '#{UserBean.searchUser}',\n    type: 'POST',\n    data: { firstName: firstName },\n    success: function(data) {\n        // render table\n    },\n    error: function(request, status, error) {\n        //error description\n    },\n});\n</code></pre>\n\n<p>here i am getting success, that means the action is called. I want to retrieve the User list from action, how the list will be send from action? after returning data i want to render all the data in table, format is :</p>\n\n<pre><code>&lt;h:dataTable \n    var=\"o\"\n    id=\"tblResult\" \n    cellpadding=\"10px\" \n    cellspacing=\"0px\" \n    styleClass=\"searchTable\"&gt;\n\n    &lt;h:column&gt;\n        &lt;f:facet name=\"header\"&gt;\n        &lt;h:outputText value=\"Student Name\" /&gt;\n    &lt;/f:facet&gt; \n        &lt;h:outputText value=\"User1\" /&gt;\n    &lt;/h:column&gt;\n\n    &lt;h:column&gt;\n        &lt;f:facet name=\"header\"&gt;\n            &lt;h:outputText value=\"Student Id\" /&gt;\n        &lt;/f:facet&gt;\n            &lt;h:outputText value=\"user1\" /&gt;\n    &lt;/h:column&gt;\n&lt;/h:dataTable&gt;\n</code></pre>\n\n<p>I am unable to use </p>\n\n<pre><code>&lt;f:ajax /&gt;\n</code></pre>\n\n<p>since my pages are .jsp.</p>\n"},{"tags":["asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12972492,"title":"'IME is Disabled' when set focus to TextBox","body":"<p>I've 2 textbox and a button. The 1st textbox is for entry, the 2nd textbox displayed the time when the button is clicked. </p>\n\n<p>When Chinese characters are entered in the 1st textbox and the button is clicked, tbMsg.Focus() causes 'IME is Disabled'. Chinese character therefore cannot be entered anymore.</p>\n\n<p>How to avoid 'IME is Disabled' from happening?</p>\n\n<pre><code>&lt;form id=\"form1\" runat=\"server\"&gt;\n  &lt;asp:ScriptManager ID=\"sm\" runat=\"server\" /&gt;\n  &lt;div&gt;\n    &lt;asp:TextBox ID=\"tbMsg\" runat=\"server\" Rows=\"6\" TextMode=\"MultiLine\"\n                 Width=\"329px\"  /&gt;\n    &lt;br /&gt;\n    &lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\" UpdateMode=\"Conditional\"&gt;\n        &lt;ContentTemplate&gt;\n            &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" Width=\"150\"/&gt;\n        &lt;/ContentTemplate&gt;\n        &lt;Triggers&gt;\n            &lt;asp:AsyncPostBackTrigger ControlID=\"Button1\" EventName=\"Click\" /&gt;\n        &lt;/Triggers&gt;\n    &lt;/asp:UpdatePanel&gt;\n    &lt;br /&gt;\n\n    &lt;asp:Button ID=\"Button1\" runat=\"server\" Text=\"Time\" onclick=\"Button1_Click\" /&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>With the following code behind</p>\n\n<pre><code>protected void Button1_Click(object sender, EventArgs e)\n{\n    TextBox1.Text = DateTime.Now.ToString(\"dd MMM yyyy HH:mm:ss\");\n    tbMsg.Focus();\n}\n</code></pre>\n"},{"tags":["php","javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12972706,"title":"How to automatically log out user when browser closes?","body":"<p>I have a online/offline program, which relies on whether the user is online or not. So is there any way to logout the user when he/she closes the window.so admin get to know the user actual login or not ? \nWhat is the right way to do this ? </p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12972450,"title":"jQuery doesn't work after an Ajax post","body":"<p>I'm using jQuery to sort a list of entries, between <code>&lt;LI&gt;&lt;/LI&gt;</code> tags, and then an Ajax post to validate the order and 'update' the page with the content returned.</p>\n\n<pre><code>$.ajax({url: \"./test.php?id=&lt;?php echo $id; ?&gt;&amp;action=modify\",\n    contenttype: \"application/x-www-form-urlencoded;charset=utf-8\",\n    data: {myJson:  data},\n    type: 'post',\n    success: function(data) {\n        $('html').html(data);\n        OnloadFunction ();\n        }\n    });\n</code></pre>\n\n<p>Then, I lose the ability to sort the list (I'm not sure if clear...). I tried to move the content of the <code>$(document).ready</code> inside the <code>OnloadFunction ()</code>, and call it with <code>&lt;script&gt;OnloadFunction ();&lt;/script&gt;</code> inside the block dealing with the modifications to do :</p>\n\n<pre><code>$action= $_GET['action'];\nif ($action == \"modify\") {\n// Code here\n}\n</code></pre>\n\n<p>but it doesn't work...</p>\n\n<p>I can't figure out how to do that. Could anyone help ?</p>\n\n<p>I stripped out the main part of the code to keep only the essential (filename: test.php)</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery-ui-1.9.0.custom.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    $(document).ready(function(){ \n        //alert(\"I am ready\");\n        OnloadFunction ();\n        }); \n\n    function OnloadFunction () {\n            $(function() {\n            $(\"#SortColumn ul\").sortable({ \n                opacity: 0.6, cursor: 'move',\n                update: function() {}                                 \n                });\n            });\n            //alert('OnloadFunction ends');\n        }\n\n    function valider(){\n        var SortedId = new Array(); \n        SortIdNb = 0;\n        $('#SortColumn ul li').each(function() {\n            SortedId.push(this.id);\n        });\n            var data = {\n            /* Real code contains an array with the &lt;li&gt; id */\n            CheckedId: \"CheckedId\",\n            SortedId: SortedId,\n            };\n        data = JSON.stringify(data);\n        $.ajax({url: \"./test.php?id=&lt;?php echo $id; ?&gt;&amp;action=modify\",\n            contenttype: \"application/x-www-form-urlencoded;charset=utf-8\",\n            data: {myJson:  data},\n            type: 'post',\n            success: function(data) {\n                //alert(data);\n                $('html').html(data);\n                OnloadFunction ();\n                }\n            });\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;?\n\n$action= $_GET['action'];\n$id = $_GET['id'];\nif ($id == 0) {$id=1;}\n$id += 1;\nif ($action == \"modify\") {\n    echo \"action: modify&lt;br&gt;\";\n    echo \"id (àvèc aççént$): \".$id.\"&lt;br&gt;\"; // \"(àvèc aççént$)\" to check characters because character set is incorrect after the ajax post\n    $data = json_decode($_POST['myJson'], true);\n    // PHP code here to treat the new list send via the post and update the database\n    print_r($data);\n    }\n?&gt;\n&lt;!-- PHP code here to get the following list from the database --&gt;\n&lt;div id=\"SortColumn\"&gt;\n    &lt;ul&gt;\n        &lt;li id=\"recordsArray_1\"&gt;recordsArray_1&lt;/li&gt;\n        &lt;li id=\"recordsArray_2\"&gt;recordsArray_2&lt;/li&gt;\n        &lt;li id=\"recordsArray_3\"&gt;recordsArray_3&lt;/li&gt;\n        &lt;li id=\"recordsArray_4\"&gt;recordsArray_4&lt;/li&gt;\n        &lt;li id=\"recordsArray_5\"&gt;recordsArray_5&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;input type=\"button\" value=\"Modifier\" onclick=\"valider();\"&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["ajax","magento","jquery-ajax","magento-1.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12951038,"title":"Magento fill editbox on exit","body":"<p>This should be pretty straightforward question but can't find how to do it. On the frontend I have a form with some edit boxes or <code>input-text</code> fields. In one of them the user will write/paste a blog url. When the user exits the box I want to:</p>\n\n<ol>\n<li>grab this url and parse/search/get from that blog the tags related to the <a href=\"http://ogp.me/\" rel=\"nofollow\">OpenGraph protocol</a> if they exists. If there are no tags of this kind then the usual <code>title</code> and related tags will be used.</li>\n<li><strike>then use the values of the tags to fill other edit fields on the current form, title, comments, description, image, etc</strike></li>\n</ol>\n\n<p>How can these actions can be accomplished, <strong>AJAX</strong> maybe? Together with <strong>jQuery</strong>? Or some other solution?\nFor now I have searched and here are some of the links I guess could be useful:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/8391049/need-to-display-users-choices-realtime-in-magento\">Need to display user's choices realtime in magento</a></li>\n<li><a href=\"http://stackoverflow.com/questions/8835146/using-basic-ajax-calls-within-magento\">Using Basic AJAX calls within Magento</a></li>\n<li><a href=\"http://stackoverflow.com/questions/10713794/magento-and-ajax-updater\">Magento and AJAX.Updater</a></li>\n<li><a href=\"http://www.aleixcortadellas.com/main/2009/02/11/232/\" rel=\"nofollow\">Refreshing DIV content with AJAX</a></li>\n</ul>\n\n<p>I have a fully working module, with several different models, layouts, controllers, backend administration, several frontend functionalities, etc. But on this case I don't even know exactly where to start, wich files to modify and what to add on the form on the first place.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Managed to accomplish second point, to fill other input files using the answer from the Ajax request using <code>XMLHttpRequest</code>. Here are the different files, just in case someone has a different solution or some recommendation. Not showing all the code as it would be too long.</p>\n\n<p>phtml file:</p>\n\n<pre><code>&lt;div id=\"blog_link_block\"&gt;\n    &lt;input class=\"input-text required-entry\" onchange=\"showHint(this.value)\"\n            name=\"blog_link\" id=\"blog_link_field\" type=\"text\"  style=\"width: 210px;\"\n            value=\"\" /&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;label for=\"title_field\"&gt;&lt;?php echo $this-&gt;__('Title'); ?&gt;\n        &lt;span class=\"required\"&gt;*&lt;/span&gt;\n    &lt;/label&gt;&lt;br /&gt;\n    &lt;input class=\"input-text required-entry\" name=\"title\" id=\"title_field\" type=\"text\"\n           style=\"width: 450px;\" value=\"\" /&gt;\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    function showHint(str)\n    {\n        &lt;?php $block = Mage::getBlockSingleton('blogtest/product_view');\n        $temp = $block-&gt;getUrl('blogtest/blogtagsajax/index');?&gt;\n\n        if (str.length==0)\n        { \n            document.getElementById(\"title_field\").innerHTML = \"\";\n            return;\n        }\n        if (window.XMLHttpRequest)\n        {// code for IE7+, Firefox, Chrome, Opera, Safari\n            xmlhttp = new XMLHttpRequest();\n        }\n        else\n        {// code for IE6, IE5\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n        xmlhttp.onreadystatechange = function()\n        {\n        if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n        {\n            document.getElementById(\"title_field\").value = xmlhttp.responseText;\n        }\n      }\n    xmlhttp.open(\"GET\",\"&lt;?php echo $temp ?&gt;?q=\"+str,true);\n    xmlhttp.send();\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Layout file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;layout version=\"0.1.0\"&gt;\n    &lt;blogtest_blogtagsajax_index&gt;\n        &lt;reference name=\"root\"&gt;\n            &lt;remove name=\"root\"/&gt;\n        &lt;/reference&gt;\n        &lt;block type=\"blogtest/product_ajax\" name=\"product.ajax\" output=\"toHtml\" /&gt;\n    &lt;/blogtest_blogtagsajax_index&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>&lt;?php\nclass Dts_Blogtest_BlogtagsajaxController extends Mage_Core_Controller_Front_Action {\n\n    public function indexAction() {\n        $this-&gt;loadLayout();\n        $this-&gt;renderLayout();\n    }\n}\n</code></pre>\n\n<p>php file to handle the request:</p>\n\n<pre><code>&lt;?php\nclass Dts_Blogtest_Block_Product_Ajax extends Mage_Core_Block_Template {\n\n    public function __construct(){\n        echo self::myFunc();\n    }\n\n    public function myFunc() {\n        $a[]=\"Anna\";\n        $a[]=\"Brittany\";\n        $a[]=\"Cinderella\";\n        $a[]=\"Diana\";\n\n        //get the q parameter from URL\n        $q=$_GET[\"q\"];\n\n        //lookup all hints from array if length of q&gt;0\n        if (strlen($q) &gt; 0)\n        {\n            $hint=\"\";\n            for($i=0; $i&lt;count($a); $i++){\n                if (strtolower($q)==strtolower(substr($a[$i],0,strlen($q)))){\n                    if ($hint==\"\"){\n                        $hint=$a[$i];\n                    }\n                    else{\n                        $hint=$hint.\" , \".$a[$i];\n                    }\n                }\n            }\n        }\n\n        if ($hint == \"\"){\n            $response=\"no suggestion\";\n        }\n        else{\n            $response=$hint;\n        }\n\n        //output the response\n        return $response;\n    }\n}\n</code></pre>\n"},{"tags":["asp.net","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12972070,"title":"Microsoft JScript runtime error: Sys.ArgumentTypeException: Object of type 'Object' cannot be converted to type 'Number'","body":"<p>i Recently implemented ajax modalpopup in my page.. it works fine in the example. but wen i tried to run on my program it shoes an error\nMicrosoft JScript runtime error: Sys.ArgumentTypeException: Object of type 'Object' cannot be converted to type 'Number'.\n:( please help me.....</p>\n\n<p>I got it working when i commented the JAVASCRIPT for making a textbox accept only numbers....</p>\n\n<pre><code>&lt;%@ Register\n    Assembly=\"AjaxControlToolkit\"\n    Namespace=\"AjaxControlToolkit\"\n    TagPrefix=\"ajaxToolkit\" %&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;link href=\"Style/datagather.css\" rel=\"Stylesheet\" type=\"text/css\" /&gt;\n    &lt;link type=\"text/css\" href=\"Style/ui-lightness/jquery-ui-1.8.20.custom.css\" rel=\"stylesheet\" /&gt;\n    &lt;script type=\"text/javascript\" src=\"Script/jquery-1.7.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"Script/jquery-ui-1.8.20.custom.min.js\"&gt;&lt;/script&gt;\n\n    &lt;%--&lt;script type=\"text/javascript\"&gt;\n        function Number() {\n            var t = window.event.keyCode;\n            if (t &gt;= 48 &amp; t &lt;= 57)\n                return;\n            window.event.keyCode = 0;\n        } \n    &lt;/script&gt;--%&gt;\n\n    &lt;style type=\"text/css\"&gt;\n        .style1\n        {\n            width: 125px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;div&gt;\n        &lt;ajaxToolkit:ToolkitScriptManager ID=\"ToolkitScript1\" runat=\"server\"&gt;\n        &lt;/ajaxToolkit:ToolkitScriptManager&gt;\n    &lt;table&gt;\n&lt;tr&gt;\n                    &lt;td colspan=\"3\" align=\"center\"&gt;\n                        &lt;asp:Button ID=\"btn_return\" runat=\"server\" Text=\"Return\" CssClass=\"but\" OnClick=\"btn_return_Click\"\n                            UseSubmitBehavior=\"false\" /&gt;\n                        &lt;asp:Button ID=\"btn_renew\" CssClass=\"but\" runat=\"server\" Text=\"Renew\" /&gt;\n                        &lt;asp:Button ID=\"btn_cancel\" runat=\"server\" Text=\"Cancel\" CssClass=\"but\" OnClick=\"btn_cancel_Click\" /&gt;\n                        &lt;asp:HiddenField ID=\"HiddenTargetShow\" runat=\"server\" /&gt;\n                        &lt;ajaxToolkit:ModalPopupExtender ID=\"mdlpopup\" runat=\"server\" BackgroundCssClass=\"modalbackground\"\n                            TargetControlID=\"btn_renew\" PopupControlID=\"pnl\" Y=\"100\" DropShadow=\"true\" DynamicServicePath=\"\"&gt;\n                        &lt;/ajaxToolkit:ModalPopupExtender&gt;\n                        &lt;asp:Panel ID=\"pnl\" runat=\"server\" CssClass=\"modalpopup\" BackColor=\"White\" Style=\"display: none\"&gt;\n                            &lt;table&gt;\n                                &lt;tr&gt;\n                                    &lt;td&gt;\n                                        Collect Fine Of rupees :\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        &lt;asp:Label ID=\"lblfine\" runat=\"server\" Text=\" \"&gt;&lt;/asp:Label&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td colspan=\"2\"&gt;\n                                        &lt;asp:Button ID=\"btsave\" runat=\"server\" Text=\"Show\" OnClick=\"btsave_Click\"&gt;&lt;/asp:Button&gt;\n                                        &lt;asp:Button ID=\"btcanceli\" runat=\"server\" Text=\"Cancel\" /&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/table&gt;\n                        &lt;/asp:Panel&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n</code></pre>\n"},{"tags":["ajax","xpages"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12971605,"title":"autosave function in Ajax mode","body":"<p>I would realize a custom control for every XPages with a Notes Document Datasouces that have autosave funcionality (like google mail)</p>\n\n<p>So that the event-handler is with \"no validation\"...</p>\n\n<p>My question is...how execute this handler in Ajax Mode..so that the user don't refresh the current page?</p>\n\n<p>Have someone any idea?</p>\n"},{"tags":["php","jquery","html","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":12971492,"title":"Language link always to the home","body":"<p>I´m working on this website: www.canal.es/wordpress/</p>\n\n<p>I´m using qtranslate and here it´s the code i´m using on the languages:</p>\n\n<pre><code>    &lt;div id=\"language\"&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"?lang=es\" &lt;?php if (qtrans_getLanguage() == 'es') echo 'class=\"active\"' ?&gt;&gt;ES -&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"?lang=ca\" &lt;?php if (qtrans_getLanguage() == 'ca') echo 'class=\"active\"' ?&gt;&gt;CA&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>The problem is that if I enter to any page/category/post of the website and I want to change the language to \"CA\" or viceversa, it gets the language but always returns to the homepage. </p>\n\n<p>I want that the change of language happens on the same page, not return to the home. \nWhat i´m doing wrong? </p>\n"},{"tags":["javascript","jquery","html","css","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12969880,"title":"how can I load jquery Tab using URL with anchor","body":"<p>We're using jquery tabs on our website, Tabs can be seen at <a href=\"http://www.wirenine.com/web-hosting/\" rel=\"nofollow\">http://www.wirenine.com/web-hosting/</a>  </p>\n\n<p>We want to be able to load a secondary tab using some sort of anchor like #faq in the URL to load the secondary tab by default on page load. How can this be achieved? Tabs JS code can be seen at </p>\n\n<p><a href=\"http://cdn.wirenine.com/js/tabs.js\" rel=\"nofollow\">http://cdn.wirenine.com/js/tabs.js</a></p>\n\n<pre><code>    //&lt;![CDATA[ \n$(window).load(function(){\nfunction displayPage(e) {\n    var current = $(this).parent().attr(\"data-current\");\n    $(\"#tabHeader_\" + current).removeClass(\"tabActiveHeader\")\n    $(\"#tabpage_\" + current).hide();\n\n    var ident = this.id.split(\"_\")[1];\n    $(this).addClass(\"tabActiveHeader\");\n    $(\"#tabpage_\" + ident).show();\n    $(this).parent().attr({ 'data-current': ident })\n}\n$(function() {\n    var container = $(\"#tabContainer\"),\n        navitem = container.find((\".tabs ul li\")).first(),\n        ident = navitem[0].id.split(\"_\")[1];\n    navitem.addClass(\"tabActiveHeader\").parent().attr({ 'data-current': ident });\n\n    $(\".tabpage\").filter(function(i) { return i&gt;0; }).hide();\n    // OR\n    // $(\".tabpage:not(:first-child)\").hide();\n\n    $(\".tabs ul li\").on(\"click\", displayPage)\n});\n});//]]&gt;  \n</code></pre>\n"},{"tags":["jquery","ajax","credentials","cors","request-headers"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":149,"score":0,"question_id":12245917,"title":"jQuery CORS with credentials only works in Chrome","body":"<p>I'm facing a problem with my ajax CORS request.\nI got it to work in any other browser, but Firefox doesn't send the Authorization header.</p>\n\n<p>Heres the according code</p>\n\n<pre><code>$.ajax(\n{\n  type: \"GET\",\n  url: 'http://www.urlhere.com/file.php',\n  crossDomain: true,\n  xhrFields: { withCredentials: true },\n  headers: { 'Authorization': 'Basic .....' },\n  error: function(data,error,errormsg) {\n    $('#serverTestLog').html('&lt;h3&gt;&lt;span style=\"color: red\"&gt;' \n      + error + '&lt;/h3&gt;&lt;/span&gt;&lt;p&gt;'+errormsg+'&lt;/p&gt;');\n    },\n    success: function(data) {\n      $('#serverTestLog').html('&lt;h3&gt;&lt;span style=\"color: green\"&gt;success&lt;/h3&gt;');\n    }\n  });\n</code></pre>\n\n<p>The problem seems to be that Chrome is the only browser which actually sends the Authorization header with the request. If I try it with Firefox, it's asking me for username and password, and after that starts a new request with the header set correctly, but I want to do this without user interaction.</p>\n\n<p>I also tried to replace replace</p>\n\n<pre><code>headers: { 'Authorization': 'Basic .....' },\n</code></pre>\n\n<p>with</p>\n\n<pre><code>usename: 'username',\npassword: 'password',        \n</code></pre>\n\n<p>but Chrome is still the only browser who sends the Authorization header in its request. This time Firefox ends the request with</p>\n\n<blockquote>\n  <p>NetworkError: 401 Authorization Required\" without asking for username and password.</p>\n</blockquote>\n\n<p>Does anybody have an idea how I can solve this?</p>\n"},{"tags":["javascript","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12970354,"title":"Generating server requests and saving results from server using AJAX","body":"<p>I am new to AJAX, I want to send AJAX requests to server in a loop and then showing responses from server. The scenario is on client page I have an array of tables which I want to send one by one, the server receives the table name, processes, and then sends response. On client side I want to show responses as they arrive.e.g.</p>\n\n<pre><code>Table 1 processed\nTable 2 processed\nTable 3 processed\nCOMPLETED\n</code></pre>\n\n<p>You can have an idea from the following chunk of code what I am trying\n    document.getElementById('btnReport').style.display='none';\n    var http = new XMLHttpRequest();</p>\n\n<pre><code>for (var i = 0; i &lt; tableArray.length; i++) \n{\nhttp.open(\"GET\",\"ServerPage.php?t=\"+tableArray[i], true);\nhttp.send();\nhttp.onreadystatechange = function() \n{\n  if(http.readyState == 4 &amp;&amp; http.status == 200) \n  {\n    eLoader.hide();\n    document.getElementById('txtResult').innerHTML += http.responseText;\n    document.getElementById('btnReport').style.display='';\n\n  }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["asp.net","ajax","page-lifecycle"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":340,"score":4,"question_id":4286890,"title":"Have I completely misunderstood ASP.Net AJAX (Update Panel)?","body":"<p>I've may have misunderstood how AJAX works - Can someone shed some light on the following simplified scenario:</p>\n\n<p>I have a asp.net web application. On a page there is a user control inside an update panel (with no properties changed) and a script manager.</p>\n\n<p>In the user control and on the form there is the a label, both get their text set to <code>DateTime.Now.ToString</code> in the load event. There is also a button, which causes a post back in the user control.</p>\n\n<p>When I click the button, as I expect the label inside the user control updates and the one label on the page does now. So far so good.</p>\n\n<p>However... the page load event on the page <em>does</em> get processed with isPostBack = True (which I did not expect), and it looks like whatever happens in the load event doesn't get pushed back to the client (as the label didn't update).</p>\n\n<p>I didn't expect the page load event (in the page that contains the user control) to be raised and processed when an AJAX panel is updated, is this correct? or am I doing something wrong? I remember reading something about Page.IsCallback, but that is false, so maybe that has nothing to do with this.</p>\n"},{"tags":["ajax","jsf","jsf-2","data","primefaces"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12970312,"title":"<p:SelectOneButton> - Option two doesn't call the ajax Action, but why?","body":"<p>And i'm back with a new problem.</p>\n\n<p>Now I have a <code>&lt;p:selectOneButton&gt;</code> with two Options which tries to dump me.\nThis is the code of the <code>&lt;p:selectOneButton&gt;</code>:</p>\n\n<pre><code>&lt;p:selectOneButton value=\"#{hldyPlanningController.selectedView}\" id=\"opt_vType\" &gt;\n   &lt;f:selectItem itemLabel=\"Abteilungssicht\" itemValue=\"1\" /&gt;\n   &lt;f:selectItem itemLabel=\"Teamsicht\" itemValue=\"2\" /&gt;\n   &lt;p:ajax update=\"frm_plan:schedule\" listener=\"#{hldyPlanningController.updateModel()}\"/&gt;\n&lt;/p:selectOneButton&gt;\n</code></pre>\n\n<p>I use AJAX to change data, which is viewed in a <code>&lt;p:schedule&gt;</code>. Option 1 calls the action, but option two won't call the action. I tried to debug and recognize that the value changes from 1 to 2, but the method isn't called at all. Is there a reason for it?</p>\n\n<p>This is the Method in the backing bean, which get called by the <code>&lt;p:selectOneButton&gt;</code></p>\n\n<pre><code>public void updateModel() {\n\n        eventModel = null;\n        eventModel = new DefaultScheduleModel();\n\n        try {\n\n            switch(selectedView){\n                case 1: holidayData = flow.sql.QueryMySQL.getHolidaysData(lgc.getSessionData().getDepartment_id(), 3); break;\n                case 2: holidayData = flow.sql.QueryMySQL.getHolidaysData(lgc.getSessionData().getTeams_id(),2); break;\n            }\n\n            int k = 0;\n            Calendar b1 = new GregorianCalendar();\n            Calendar b2 = new GregorianCalendar();\n\n            for(int i=0; i&lt;=holidayData.size()-1; i++ ) {\n\n                b1.setTime(holidayData.get(i).getHldy_startdate());\n                b1.set(Calendar.DATE, b1.get(Calendar.DAY_OF_MONTH)+1);                \n                b2.setTime(holidayData.get(i).getHldy_enddate());\n\n                scheduledEvent = new DefaultScheduleEvent(holidayData.get(i).getUser_name(),b1.getTime(),b2.getTime(),holidayData.get(i));\n\n                if(i==0){\n                    scheduledEvent.setStyleClass(styleClasses[k]);\n                }else if(holidayData.get(i).getUser_name().equals(holidayData.get(i-1).getUser_name())){\n                    scheduledEvent.setStyleClass(styleClasses[k]);\n                }else if(k &lt; styleClasses.length){\n                    k++;\n                    scheduledEvent.setStyleClass(styleClasses[k]);\n                }else {\n                    k=0;\n                    scheduledEvent.setStyleClass(styleClasses[k]);\n                }\n\n                scheduledEvent.setAllDay(true);\n\n                eventModel.addEvent(scheduledEvent);\n\n            }\n\n            for(int y=0; y &lt; 2; y++ ){\n\n                gblHolidayData = flow.sql.QueryMySQL.getGblHolidays(Calendar.getInstance().get(Calendar.YEAR)+y);\n\n                for(int i=0; i&lt;=gblHolidayData.size()-1; i++ ) {\n\n                    b1.setTime(gblHolidayData.get(i).getDate());\n                    b1.set(Calendar.DATE, b1.get(Calendar.DAY_OF_MONTH)+1);                \n\n                    scheduledEvent = new DefaultScheduleEvent(gblHolidayData.get(i).getDescription(),b1.getTime(),b1.getTime(),gblHolidayData.get(i));\n\n                    scheduledEvent.setStyleClass(\"gblHoliday-event\");\n\n                    scheduledEvent.setAllDay(true);\n\n                    eventModel.addEvent(scheduledEvent);\n\n                }\n                System.out.println(\"###DEBUG### UPDATE MODEL \"+y);\n            }\n\n        }catch(Exception e){\n            FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR, \"HolidayCollector \", e.getMessage()));\n        }\n\n}\n</code></pre>\n\n<p>I'm using Primefaces 3.4.1 with JSF2.1.13 on Tomcat 7.x</p>\n\n<p>Hope some has a hint for me. Thanks.</p>\n"},{"tags":["php","mysql","xml","ajax","sencha"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12969183,"title":"Loading xml from php/mysql for sencha architect","body":"<p>Hi? I am trying to load an xml store in sencha architect using data from a mysql db.\n    I   am constructing my xml as below;</p>\n\n<pre><code>//AFTER MYSQL QUERY\n\n    $dom = new DOMDocument(\"1.0\");\n    $dom-&gt;formatOutput = true;\n\n// display document in browser as plain text\n // for readability purposes\n    header(\"Content-Type: text/plain\");\n\n// create root element\n$root = $dom-&gt;createElement(\"stores\");\n$dom-&gt;appendChild($root);\n\nwhile ($row = mysql_fetch_array($result)) {\n\n//create child element\n$storeitem = $dom-&gt;createElement(\"store\");\n$root-&gt;appendChild($storeitem);\n\n// Company label\n$company = $dom-&gt;createAttribute(\"c\");\n$storeitem-&gt;appendChild($company);\n\n// company value\n$companyValue = $dom-&gt;createTextNode($row['company']);\n$company-&gt;appendChild($companyValue);\n\n}\n// save and display tree\necho $dom-&gt;saveXML();\n\n\n//OUTPUT\n&lt;stores&gt;\n&lt;store c=\"company1\"/&gt;\n&lt;store c=\"company2\"/&gt;\n&lt;/stores&gt;\n</code></pre>\n\n<p>The output is a structured xml. When I copy and paste this xml into an xml doc e.g\n    test.xml and use it, it works perfectly. However, trying to use the echoed xml from php\n     file does not work. Hope I made it clear. Please help.</p>\n"},{"tags":["php","javascript","jquery","ajax","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":205,"score":3,"question_id":12434169,"title":"How to resolve strange conflict between form post and ajax post?","body":"<p>On the one page, I am trying to use ajax to edit existing values. I am doing this by using <a href=\"http://www.labs.mimmin.com/inlineedit/\" rel=\"nofollow\">jQuery Inline Edit</a> and posting away the new data, updating the record and returning with success.</p>\n\n<p>This is working fine. </p>\n\n<p>Next I have implemented the ability to add new records, to do this I have a form at the end of the table, which submits post data then redirects back to the original page.</p>\n\n<p>Each of them work individually, but after I have used the form to add a new record, the inline editing stops to work. If I close the webpage and reopen it, it works fine again until I have used the form and it goes of the rails again.</p>\n\n<p>I have tried a number of solutions, clearing session data, giving the form a separate name, redirecting to an alternative page (which does work, but is not ideal as I want the form to redirect back to the original location ).</p>\n\n<p>Here is a sample of the view form data:</p>\n\n<pre><code>&lt;?php foreach($week-&gt;incomes as $income):?&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;?php echo $income-&gt;name;?&gt;&lt;/td&gt;\n        &lt;td width=\"70\" style=\"text-align:right;\" class=\"editableSingle income id&lt;?php echo $income-&gt;id;?&gt;\"&gt;$&lt;?php echo $income-&gt;cost;?&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;?php endforeach;?&gt;\n    &lt;?php echo form_open('budget/add/'.$week-&gt;id.'/income/index', 'class=\"form-vertical\" id=\"add_income\"'); ?&gt;\n    &lt;tr&gt;\n        &lt;td&gt;\n            &lt;input type=\"text\" name=\"name\" class=\"input-small\" placeholder=\"Name\"&gt;\n            &lt;input type=\"text\" name=\"cost\" class=\"input-small\" placeholder=\"Cost\"&gt;\n        &lt;/td&gt;\n        &lt;td&gt;\n\n            &lt;button type=\"submit\" class=\"btn btn-small pull-right\"&gt;&lt;i class=\"icon-plus \"&gt;&lt;/i&gt;&lt;/button&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;?php echo form_close(); ?&gt;\n</code></pre>\n\n<p>This is the javascript initialisation code:</p>\n\n<pre><code>$(function(){\n$.inlineEdit({\n    income: 'budget/update_income/',\n    expense: 'budget/update_expense/'\n}, \n{\n    animate: false,\n    filterElementValue: function($o){\n\n        if ($o.hasClass('income')) {\n            return $o.html().match(/\\$(.+)/)[1];\n        }\n        else if ($o.hasClass('expense')) {\n            return $o.html().match(/\\$(.+)/)[1];\n        }\n        else {\n            return $o.html();\n        }\n    }, \n    afterSave: function(o){\n        if (o.type == 'income') {\n            $('.income.id' + o.id).prepend('$');\n        }\n        if (o.type == 'expense') {\n            $('.expense.id' + o.id).prepend('$');\n        }\n    },\n    colors: { error:'green' }\n});\n});\n</code></pre>\n\n<p>If I can provide any more information to clarify what I have attempted etc, let me know. </p>\n\n<p><strong>Temporary Fix</strong></p>\n\n<p>It seems I have come up with a work around, not ideal as I still am not sure what is causing the issue.</p>\n\n<p>I have created a method called redirect.</p>\n\n<pre><code>public function redirect(){\n    redirect('');\n}\n</code></pre>\n\n<p>am now calling that after the form submit which has temporarily allows my multiple post submits to work.</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12968824,"title":"jQuery ajaxSend handler target problems","body":"<p>I'm having trouble getting the following to work in my project.</p>\n\n<p>I currently have several calls to <code>load()</code> method sprinkled throughout my codebase, for example: </p>\n\n<pre><code>$('#cart').load('/cart/user/12312');\n</code></pre>\n\n<p>What I want to do now is attach a listener to the <code>#cart</code> dom element that when the contents of this element is loaded like above, i can execute some code to indicate it's loading.\nThis is what i've got up until now:</p>\n\n<pre><code>$('#cart').ajaxSend(function (event, xhr, settings) {\n    if ($(event.target).is('#cart')){\n        $(event.target).html('loading ...');\n    }\n});\n</code></pre>\n\n<p>Problem I'm facing now is that this event triggers for ALL ajax requests, even the ones that don't have <code>#cart</code> as target. The <code>event.target</code> just always seems to be <code>#cart</code> or whatever I call the <code>.ajaxSend()</code> on. Even when doing a completely different <code>$.ajax()</code> or <code>load()</code> call, even not directly loading the contents into a dom element, the event triggers with <code>#cart</code> as the <code>event.target</code></p>\n\n<p>Anyone know how to solve this? I want to execute some code, only when an ajax call is dispatched which will load it's content into <code>#cart</code></p>\n\n<p>PS: I know that <code>ajaxSend</code> is one of the global Ajax events in jquery, but it should somehow be possible to derive the context of the event from the handler no?</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/cWRwf/1/\" rel=\"nofollow\">http://jsfiddle.net/cWRwf/1/</a></p>\n"},{"tags":["jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12963456,"title":"Option disabled on submit jquery ajax","body":"<p>When I submit my ajax form, I d like to pass option submited on disabled.</p>\n\n<pre><code>&lt;form action=\"#\" id=\"export\"&gt;\n  &lt;select multiple=\"multiple\" size=\"5\"&gt;\n    &lt;option id=\"val-1\" value=\"1\"&gt;Spain&lt;/option&gt;\n    &lt;option id=\"val-2\" value=\"2\" disabled=\"disabled\"&gt;France&lt;/option&gt;\n    &lt;option id=\"val-3\" value=\"3\"&gt;England&lt;/option&gt;\n  &lt;/select&gt;\n  &lt;input type=\"submit\" value=\"add\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>My ajax </p>\n\n<pre><code>$('#export').on('submit', function(e){\n            // alert( ($this).serialize() );\n            $.post('save_zone.php', $(this).serialize(), function(data) {\n                $('.pays_added_export').append(data);\n            });\n            e.preventDefault();\n        });\n</code></pre>\n\n<p>Any Ideas ? I thought about something with serialize() and a data-something on option ...</p>\n\n<p>Regards</p>\n"},{"tags":["jquery","ajax","scrolling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12969096,"title":"ajax horizontal scrolling jquery plugin","body":"<p>I am looking for a plugin that makes a <code>div</code> horizontally scrollable and as the user scrolls, content is loaded via <code>ajax</code>. The ajaxscroll Plugin <a href=\"http://blog.yctin.com/archives/jquery-plugins-ajaxscroll/\" rel=\"nofollow\">link</a> does that, except - I need this to work in both directions. Meaning I need to be able to scroll to the left as well, having content loaded via <code>ajax</code>. \nMy <code>offset</code> does not always start at zero. </p>\n\n<p>If I have 200 Images to show with the <code>plugin</code>, I want to be able to center to Image # 100 and then enable scrolling in both directions. </p>\n\n<p>Is that possible? Does anyone know such a plugin? </p>\n"},{"tags":["ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12969143,"title":"success with ajax","body":"<pre><code>var url = '&lt;?php echo base_url(); ?&gt;index.php/home_event/view_cal';\n $.ajax({\n        type: \"POST\",\n        url: url,\n        secureuri      :false,\n        dataType: \"json\",\n        data: postData,\n           success: function (data,event_name,event_description,start_date,location)    \n           {\n\n            $('.heading_bg').html(event_name);\n            $('.location_details').html(location);\n            $('.date_details').html(start_date);\n            $('.event_content').html(event_description);\n        }\n    });\n});  return false;\n             });\n</code></pre>\n\n<p>in this code ,the success part doesnot replace my values in the form.i.e my event_name is not shown in heading_bg div.pleas help.</p>\n"},{"tags":["javascript","jquery","ajax","closures"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":70,"score":3,"question_id":12968098,"title":"can ajax callback function see variables from parent function?","body":"<pre><code>function validateHistoryId(input) {\n    $.getJSON('request.php', {\"action\": \"historyExists\", \"history_id\" : input.value},\n              function(data) {\n                  console.log(input.value);\n              }\n    );\n}\n</code></pre>\n\n<p>i use jQuery ajax call from javascript function. I tried the above code and it works, but I don't know will it cause any problems in the future.</p>\n\n<p>I want to know, can ajax callback function see variables of it's parent function? and is it a bad practice to do so?</p>\n"},{"tags":["ajax","http","file-download","upclick"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12838613,"title":"Is it possible and clean to respond to a POST with a download?","body":"<p>I'm implementing a service that converts a file on the server, but I don't want to store anything, just return the converted file. Is it possible/feasible to respond to a POST with a file download? Complicating factor is that I'm using <a href=\"http://code.google.com/p/upload-at-click/source/browse/trunk/upclick.js?r=9\" rel=\"nofollow\">upclick.js</a>, so I don't want to navigate away from the page.</p>\n\n<p>I simply tried setting the content type to application/octet-stream, which works, but gives an unfortunate warning in Chrome:</p>\n\n<blockquote>\n  <p>Resource interpreted as Document but transferred with MIME type application/octet-stream</p>\n</blockquote>\n\n<p>I would like to have the flexibility to return either the download, or an error report on the response. What would be a smart solution for this, or can this only be done cleanly via a redirect?</p>\n\n<p>UPDATE:\nI've been looking at another answer, which might be a duplicate: <a href=\"http://stackoverflow.com/questions/2789623/possible-to-post-and-get-a-file-download-dialog-back\">possible to $.post and get a file download dialog back</a>. At least the feature is the same. I will try to respond with a Content-Disposition=attachment, instead of just the Content-Type=application/octet-stream. I'm groping around here, so all input is welcome.</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12967777,"title":"How to pass value from textbox to another page without form","body":"<p>Ok i have this code and i want to send this price from and price to to some other page when user clicks on submit but without refreshing page and without form.On other page i will use this inputs for sql query and display results.</p>\n\n<pre><code>Price from:&lt;input type=\"text\" name=\"from\" id=\"from\" width=\"50px\" /&gt;\nPrice to:&lt;input type=\"text\" name=\"to\" id=\"to\" width=\"50px\" /&gt;\n&lt;input type=\"submit\" id=\"submit\" value=\"Search\"/&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","asynchronous","currying"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12966514,"title":"Loading images when checking their existence with jQuery is not working","body":"<p>I have this function that is supposed to check for the existence of images up to the point where they stop appearing, based on their title:</p>\n\n<pre><code>function LoadPictures(){\n        const PIC_MAX = 12;\n\n        var i = 1;\n\n        while (i &lt;= PIC_MAX){\n            $.ajax({url: \"pic\" + i + \".jpg\",\n                type: \"HEAD\",\n                success: function(){\n                    $(\"body\").append(\"&lt;img src='pic\" + i + \".jpg' /&gt;\");\n                },\n                error: function(){\n                    i = PIC_MAX + 1;\n                }\n            });\n\n            i++;\n        }\n    }\n</code></pre>\n\n<p>And yet, when I run the function, all I get are blank boxes. I know the loop correctly counted the existing images based on the amount of boxes appearing, but it failed to load them. Why is that?</p>\n"},{"tags":["php","jquery","ajax","mvc","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":10632803,"title":"Why am I getting a 500 Internal Server Error?","body":"<p>I'm learning so far, but this db ajax communication always makes me bang my head against the wall.</p>\n\n<p>This is the controller:</p>\n\n<pre><code>function become_teacher()\n{   \n    $this-&gt;load-&gt;model('class_model');\n    $data = array('user_id' =&gt; $this-&gt;input-&gt;post('user_id'),\n        'group_id' =&gt; $this-&gt;input-&gt;post('user_group') \n    );\n    $this-&gt;class_model-&gt;change_to_teacher($data);\n}\n</code></pre>\n\n<p>Here is the Model:</p>\n\n<pre><code>function change_to_teacher($data)\n{\n    $this-&gt;db-&gt;insert('user_groups', $data);\n    return;     \n}\n</code></pre>\n\n<p>And here is the script:</p>\n\n<pre><code>&lt;p&gt;Om du vill kunna skapa lektionen bli lärare. &lt;/p&gt;\n&lt;button class=\"btn teacher\"&gt;Bli lärare&lt;/button&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var user_id = $('.meta').text().trim();\n    var user_group = '4';\n    $('.teacher').on('click', function() {\n        $.ajax({\n            type: \"POST\",\n            url: \"http://localhost:8888/testing/index.php/cours/become_teacher\",\n            data: \"{ user_id: user_id, user_group: user_group }\",\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>The <code>var user_id</code> is getting its data from the header file, not included here.\nAny help would be much appreciated!</p>\n"},{"tags":["php","ajax","json","datatable"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12967913,"title":"What is wrong with this returning data for datatable?","body":"<p>Hey this is my json output for Datatable. But there is an error. Display an alert saying\n    \"requested unknown parameter\". Please help anyone knows..</p>\n\n<pre><code>      {\n\"iTotalRecords\":\"4\",\n\"aaData\":[\n{\"id\":\"7\",\"poid\":\"20\",\"sdate\":\"02-10-2012\",\"edate\":\"30-10-2012\",\"status\":\"1\",\"t_stamp\":\"2012-10-13 09:40:15\"},\n{\"id\":\"8\",\"poid\":\"20\",\"sdate\":\"02-10-2012\",\"edate\":\"30-10-2012\",\"status\":\"1\",\"t_stamp\":\"2012-10-13 10:15:12\"},\n{\"id\":\"9\",\"poid\":\"0\",\"sdate\":\"03-10-2012\",\"edate\":\"19-10-2012\",\"status\":\"1\",\"t_stamp\":\"2012-10-14 03:55:36\"},\n{\"id\":\"10\",\"poid\":\"24\",\"sdate\":\"02-10-2012\",\"edate\":\"02-10-2012\",\"status\":\"1\",\"t_stamp\":\"2012-10-14 03:55:51\"}\n],\n\"iTotalDisplayRecords\":\"4\"\n}\n</code></pre>\n\n<p>This is my datatable structure</p>\n\n<pre><code>&lt;table id=\"dataTable\"&gt;\n&lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;id&lt;/th&gt;\n        &lt;th&gt;poid&lt;/th&gt;\n        &lt;th&gt;sdate&lt;/th&gt;\n        &lt;th&gt;edate&lt;/th&gt;\n        &lt;th&gt;status&lt;/th&gt;\n        &lt;th&gt;t_stamp&lt;/th&gt;\n    &lt;/tr&gt;\n&lt;/thead&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is ajax call,</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$('#dataTable').dataTable({\n        \"sEcho\": 3,\n        \"bServerSide\": true,\n        \"bProcessing\": true,\n        \"sAjaxSource\": \"projects_exe.php\",\n});\n</code></pre>\n\n<p></p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12967507,"title":"Ajax submission based on a mapped array","body":"<p>Im having an array</p>\n\n<pre><code>array(0=&gt;12,1=&gt;16,3=&gt;20,4=&gt;25);\n</code></pre>\n\n<p>And i have two buttons in my page </p>\n\n<pre><code>&lt;button id=\"next\"&gt;Next&lt;/button&gt;\n&lt;button id=\"prev\"&gt;Previous&lt;/button&gt;\n</code></pre>\n\n<p>On a page load an ajax call will go with <code>data</code> 12 (first element of the array) and it fetches results for me..working fine</p>\n\n<p>My issue is when i click the next button i need to pass 16 to the ajax call..(because 12 is the last submitted value) and again click next i need to pass 20 to the ajax</p>\n\n<p>and if i click prev i need to pass 16 because 20 is the current value</p>\n\n<p>So how do i know which element to pass to the ajax</p>\n\n<p>heres my ajax</p>\n\n<pre><code> $.ajax({\n            url : baseurl+'/ajax/warehousedetails',\n            type:\"post\",\n            data:{\"crid\":&lt;&lt;&lt;here i want to change&gt;&gt;&gt;&gt;},         \n            success:function(data){\n                console.log(data);\n\n\n            }\n        });\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["jquery","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12967580,"title":"Call ajax using jQuery after enabling url mapping in ASP.NET","body":"<p>Here is my script:</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: 'ws.aspx/RetC',\n    ...\n</code></pre>\n\n<p>In my ASP.NET application, I enabled url mapping by adding :</p>\n\n<pre><code>&lt;urlMappings&gt;\n  &lt;add mappedUrl=\"~/mem/ws.aspx\" url=\"~/w\" /&gt;\n...\n&lt;/urlMappings&gt;\n</code></pre>\n\n<p>The ajax call now returns 'Not Found' error. I tried different options for the url such as /w/RetC or w/Retc, but none worked. Does anybody have any idea what the problem is?</p>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12965212,"title":"How to reload/replace external javascript onclick?","body":"<p>I have a jQuery game (simple card memory game) that I got from github.</p>\n\n<p>It does not have a \"new game\" button so once the game is finished, there is no way to restart the game without refreshing the page.</p>\n\n<p>I do not want to refresh the whole page so I tried creating a click event like this.</p>\n\n<pre><code>&lt;li style=\"color:black; font-weight:600\"&gt;&lt;a href=\"#\"&gt;new game&lt;/a&gt;&lt;/li&gt;\n\n$(document).ready(function() {\n    $('a').click(function() {\n            $(\"body\").load(\"game.js\");\n            });\n\n});          \n</code></pre>\n\n<p>On click, the external .js is not being replaced.</p>\n\n<p>I've googled but haven't found anything.</p>\n\n<p>Maybe this is not possible?  I've read that once the .js is loaded, there is no way to delete that .js with .click.</p>\n\n<p>Is that true?</p>\n\n<p>If the loaded .js cannot be replaced, how can I build the \"new game\" function?</p>\n\n<p>Thanks for answering this simple, yet puzzling (puzzling to a newb like me.) question for me.</p>\n"},{"tags":["php","jquery","ajax","wordpress","fancybox"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1734,"score":2,"question_id":6324421,"title":"Getting Next/Previous Post ID using Current Post ID in Wordpress","body":"<p>I want to write a custom next/prev function to dynamically display post information in a fancybox pop-up. So I need to use PHP to get the next and previous Post ID based on whatever Post is currently showing. I know what the current post ID is and I can send that to a function ok, but I can't figure out how to use that ID to obtain the adjacent IDs.</p>\n\n<p>Edit:Here is my code so far (which is not working)</p>\n\n<pre><code>&lt;?php\nrequire_once(\"../../../wp-blog-header.php\");\n\nif (isset($_POST['data'])){\n    $post_id = $_POST['data'];\n}else{\n    $post_id = \"\";\n}\n$wp_query-&gt;is_single = true;\n$this_post = get_post($post_id);\n$in_same_cat = false;\n$excluded_categories = '';\n$previous = false;\n$next_post = get_adjacent_post($in_same_cat,$excluded_categories,$previous);\n\n\n$post_id = $next_post-&gt;id;\n$title = $next_post-&gt;post_title;\n\n$dataset = array ( \"postid\"=&gt;$post_id, \"posttitle\"=&gt;$title );\n\n//Because we want to use json, we have to place things in an array and encode it for json.\n//This will give us a nice javascript object on the front side.\n\necho json_encode($dataset);\n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax","image-uploading","image-upload"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12966360,"title":"Uploading image via AJAX along with username and email address","body":"<p>I am having some trouble with my file upload script. The HTML is as follows:</p>\n\n<pre><code>&lt;form method=\"post\" name=\"imgsubmit\" id=\"contact_form\" action=\"PHP/imgupload.php\"     enctype=\"multipart/form-data\"&gt;\n&lt;label id=\"namelabel\" for=\"username\"&gt;Your name:&lt;/label&gt;&lt;input id=\"username\" type=\"text\" name=\"username\" rel=\"req\"&gt;\n&lt;label id=\"labelemail\" for=\"imgemail\"&gt;E-mail:&lt;/label&gt;&lt;input id=\"imgemail\" type=\"email\" name=\"imgemail\" rel=\"req\"&gt;\n&lt;label id=\"filelabel\" for=\"file\"&gt;Your photo:&lt;/label&gt;&lt;input id=\"file\" type=\"file\" name=\"file\"&gt;\n&lt;input id=\"imgsubmit\" type=\"submit\" name=\"submit\" value=\"SUBMIT\"&gt;&lt;/form&gt;\n</code></pre>\n\n<p>I have a jquery validation script as which checks the username and email fields to see if they are valid, and returns a white border around them if they are not entered:</p>\n\n<pre><code>$(function () {\n    $('#contact_form').submit(function (e) {\n        e.preventDefault();\n        var form = $('#contact_form');\n        var post_url = form.attr('action');\n        var post_data = form.serialize();\n        var submit_form = false;\n        var req_fields = $('input[rel=req]');\n        var field, pcount = 0;\n        req_fields.each(function () {\n            field = $(this).val();\n            if (field == '' || field == 'Required') {\n                $(this).css('border', '1px solid white').val('');\n                pcount += 1;\n            } else {}\n        });\n        if (pcount == 0) {\n            submit_form = true;\n        }\n        if (submit_form) {\n            $.ajax({\n                type: 'POST',\n                url: post_url,\n                data: post_data,\n                success: function (msg) {\n                    $(form).fadeOut;\n                    form.html(msg).fadeIn();\n                }\n            });\n        }\n    });\n});\n</code></pre>\n\n<p>The problem is that the username gets submitted to the php script, the email gets submitted to the php script, but the image doesn't get uploaded. I'm aware that AJAX now supports image uploading and that the form.serialize() is likely the root cause of the problem, but have not been able to edit this code correctly to support the image submission. </p>\n\n<p>How can I adjust this code to include the image to be submitted to the php?</p>\n"},{"tags":["c#","asp.net","ajax","charts","mschart"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12966561,"title":"MSChart Chart Area becomes blank after update","body":"<p>I have a user control which contains an MSChart. I have a drop down list using which I want to select series that I have defined in the code behind. I have used Update Panels, both in the Chart Area as well as on the main .aspx page. After raising the \"OnSelectedIndexChanged\" event I used a Delegate to Update the UpdatePanel in the .aspx page as well as using Update() in the .ascx page. The chart does not refresh with the new series and just remains blank.</p>\n\n<p>Here is the relevant code</p>\n\n<p>.ascx file</p>\n\n<pre><code>    protected void ChangeSeries(object sender, EventArgs e)\n    {\n        string series_selected = dd1.SelectedIndex.ToString();\n\n\n        switch (series_selected)\n        {\n            case (\"Points\"):\n                Series series1 = Chart1.Series[0];\n                this.FillStockDataPoints(series1, 5.0, DateTime.Now);\n                this.Chart1.Series[\"series1\"].ChartType = System.Web.UI.DataVisualization.Charting.SeriesChartType.Line;\n                Chart1.Series[0][\"PixelPointWidth\"] = \"25\";\n                _delUpdateControl.DynamicInvoke();\n               UpdatePanel1.Update() \n\n                break;\n\n            case (\"CSAT\"):\n                Series series2 = Chart1.Series[1];\n                this.FillStockDataCSAT(series2, 5.0, DateTime.Now);\n                Chart1.Series[1][\"PixelPointWidth\"] = \"25\";\n                this.Chart1.Series[\"series2\"].ChartType = System.Web.UI.DataVisualization.Charting.SeriesChartType.Column;\n                _delUpdateControl.DynamicInvoke();\n                UpdatePanel1.Update()\n                break;\n\n            case (\"SLA\"):\n                Series series3 = Chart1.Series[2];\n                this.FillStockDataSLA(series3, 5.0, DateTime.Now);\n                Chart1.Series[2][\"PixelPointWidth\"] = \"25\";\n                this.Chart1.Series[\"series3\"].ChartType = System.Web.UI.DataVisualization.Charting.SeriesChartType.Column;\n                _delUpdateControl.DynamicInvoke();\n                UpdatePanel1.Update()\n                break;\n        }&lt;/pre&gt;\n</code></pre>\n\n<p>This is the Dynamic Invoke Delegate:</p>\n\n<pre><code>public void UpdateStatsControl()\n    {\n        this.UpdatePanelStats.Update();\n        StatsControl.InitializeStatsControl();\n\n    }\n</code></pre>\n\n<p>Please tell me a way to refresh and reload the Chart after selecting the required series in the DropDownList.</p>\n\n<p>PLEASE HELP</p>\n"},{"tags":["php","mysql","ajax","codeigniter","e-commerce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12965543,"title":"Codeigniter / Ecommerce Drill Down Menu with Active Record / MySQL","body":"<p>I am creating a custom ecommerce system for a client who sells custom grad gear. I have the following screen shot of my product layout...</p>\n\n<p><img src=\"http://i.stack.imgur.com/EkwPd.png\" alt=\"Ecom image\"></p>\n\n<p>I have the form on the right side of the page that has a max price, colors and materials. When you click the Update options it sends all the data via jquery's ajax function over to my codeigniter controller where i need to pull a new list of products with the options that they have selected and within the price range they have selected. I then pass the products array to a codeigniter view and return the view to the cart with the ajax success variable. </p>\n\n<p>So I can get this working with just colors, or just materials, but my problem is figuring out how to pull a set of products that has all of the materials and options I need. I guess I just can't wrap my brain around the best way to do it. I thought about pulling a list with the correct colors, then a list with the correct materials, then a list with the correct pricing and then deleting duplicates in a merged array, but it just doesn't feel like thats the best way to do it. </p>\n\n<p>This particular client only needs \"color\" and \"material\" as an option so my products table is set up to have the id of the color and the id of the material all in the products table. Then I have a colors and materials table with the id and the color or the id and the material. </p>\n\n<p>What are you guys thoughts on the best way to do this? I'd like to use codeigniters active record to do the mysql stuff.</p>\n\n<h1>///// EDITS ///////////////////////////////////////</h1>\n\n<p>Here is an image of my product Tables:\n<img src=\"http://i.stack.imgur.com/ShVt9.jpg\" alt=\"product tables\"></p>\n\n<p>Also, here is my jquery controlling the submit of data to the codeigniter controller:</p>\n\n<pre><code>//Filter Options Ajax\n</code></pre>\n\n<p>$('#updateOptions').click(function(event) {</p>\n\n<pre><code>//Prevent the default href action\nevent.preventDefault();\n\nvar filterOptions = $('#filterForm').serialize();\n\n//Get the site url\nvar siteUrl = $('#siteUrl').val();\n\n//Roll up the product listing div and show a loader\n$('div.products').slideUp( 500, 'easeInExpo' );\n$('div.loader').delay(500).fadeIn();\n\n//Get a new list of products and repopulate the information\n$.ajax({\n     type: \"POST\",\n     url: siteUrl + \"category/filterProducts\",\n     data: { filterOptions: filterOptions },\n     success: function(data) {\n        $('div.loader').fadeOut(500);\n        $('div.products').html(data).delay(500).slideDown( 500, 'easeOutExpo' );\n     } \n});\n</code></pre>\n\n<p>});</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12965690,"title":"Undefined Index in a jquery AJAX send and receive data request","body":"<p>test.php</p>\n\n<pre><code>$aaa = $_POST['aaa'];\n\necho $aaa;\n</code></pre>\n\n<p>Javascript Code</p>\n\n<pre><code>$.ajax({\n\nurl: 'ajax/test.php', \ndata: { aaa: 'names_' },\nsuccess: function(data) {\nalert(\"Data Loaded: \" + data); \n            }\n      });\n</code></pre>\n\n<p>The alert response is:</p>\n\n<pre><code>NOTICE: Undefined Index: aaa  \n</code></pre>\n\n<p>What might cause this?   </p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":61,"score":-4,"question_id":12949710,"title":"Linked JavaScript is loaded multiple times when done with AJAX","body":"<p>I am experiencing the strangest behaviour on our website, and it is making things incredibly slow.</p>\n\n<p>My team and I have a website running entirely on AJAX. So for the login, I have some js ajax that loads the login box into our index page. The html containing the login box has a script link in the head. This script listens for the login form submission, and sends the form data to the server for authentication through ajax.</p>\n\n<p>The html that contains the login box only gets loaded once, but the js file that it links to gets loaded multiple times. The amount of times change. From 5 times to 15 times and I cannot see a pattern or anything. This happens everywhere on our site, not just at login time.</p>\n\n<p>This issue really has me stumped and I'm totally stuck. Is it because I have ajax in a js file that is loaded in initially with ajax?</p>\n\n<p>I would really appreciate your insight and help!   </p>\n\n<p>EDIT:</p>\n\n<p>As requested, some code:</p>\n\n<p>This is a stripped down version of loadContent() in the Interface.js file. This specific function loads all site content into the content area on index.php. When the page is refreshed, the first thing sent to the function is the location of the login.php file, containing the login box:</p>\n\n<pre><code>loadContent: function(page) {\n\nvar self = this;\n\n\n//just some animations to make things look good\n$(self.error).fadeOut(150, function() {\n    $(self.content).fadeOut(150, function() {\n        $(self.loading).fadeIn(150, function() {\n            $.ajax({\n                url: page,\n                success: function(data) {                            \n                    //response data\n                    var $response = $(data);                         \n\n                    $(self.content_1).html($response);                    \n\n                    //definitions for contentbox-2\n                    self.contentHeading_2.html(\"Replies:\");                           \n                    self.content_2.html(postReplies);\n\n                    //redisplay the  content after it has loaded in.\n                    $(self.loading).fadeOut(150, function() {\n                        $(self.content).fadeIn(150, function() {\n                            // Content faded in\n                        });\n                    });\n                },\n                error: function() {\n                    $(self.loading).fadeOut(150, function() {\n                        $(self.error).fadeIn(150, function() {\n                            // Error faded in\n                        });\n                    });\n                }\n            });\n        });\n    });\n});\n\nthis.page = page;\n}\n</code></pre>\n\n<p>And then the login.php file:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;script type=\"text/javascript\" src=\"js/login.js\"&gt;&lt;/script&gt;        \n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=\"padded loginphp\"&gt;\n            &lt;div id=\"loginbox\"&gt;\n                &lt;!-- the login box comes here\n            &lt;/div&gt; &lt;!-- #loginbox --&gt;\n\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And the login.js file:</p>\n\n<pre><code>$(document).ready(function() {  \n    $('#honeyloginform').submit(function(event) {\n        //event.preventDefault();\n        login();\n        return false;\n    });\n});\n\nfunction login() {\n    $('.errorinputfields').removeClass('errorinputfields');\n    if (isEmpty($('#username'))) {\n        $('#username').addClass('errorinputfields');\n        $('#username').focus();\n        return;\n    }\n    if (isEmpty($('#password'))) {\n        $('#password').addClass('errorinputfields');\n        $('#password').focus();\n        return;\n    }\n    $('#honeyloginform').fadeOut(100, function(){\n        $('#loginbox .loading').fadeIn(300, function(){                                         \n            var pword = $('#password').val();\n            var remember = \"no\";\n            if ($('#remember').is(':checked')) {\n                remember = \"yes\";\n            }\n            var JSONobj = {\n                username: $('#username').val(),\n                password: pword,\n                rem: remember\n            };\n            $.ajax({\n                url: 'ajax/login.php',\n                data: JSONobj,\n                success: function(data) {\n                    //alert(data);\n                    var JSONobj = JSON.parse(data);\n                    if (JSONobj.Success) {\n                        Interface.login(); //just loads the landing page after login\n                        //window.setTimeout('location.reload()', 300);\n                    } else {\n                        $('#loginbox .loading').fadeOut(300,function(){\n                            $('#honeyloginform').fadeIn(300);\n                        });\n                        $('#username').focus();\n                        $('#loading-message').text(JSONobj.Message).show();                         \n                    }\n                }\n            });                         \n        });    \n    });\n}\n</code></pre>\n"},{"tags":["php","jquery","ajax","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":97,"score":-1,"question_id":12965228,"title":"JQuery Ajax POST not sending data","body":"<p>The issue is, the POST doesn't appear to send information to the PHP script. The firebug console shows the information is passed from JavaScript and appears to be formatted properly, but I'm not getting a response, nor is the PHP script running.</p>\n\n<p>The PHP itself works fine, however.</p>\n\n<p>The Jquery:</p>\n\n<pre><code>$(function(){\n        $('#submit-item').live(\"click\",function(){\n            var productName = $(\".add-item-form #productName\").val();\n            var category = $(\".add-item-form #categorySelect\").val();\n            var brandName = $(\".add-item-form #brandName\").val();\n            var volume = $(\".add-item-form #volumeType\").val();\n\n\n            $.post(\"addNewProduct.php\",{productName:productName ,category: category, brandName: brandName, volume: volume});\n        });\n    });\n</code></pre>\n\n<p>And the HTML form:</p>\n\n<pre><code>&lt;section id=\"add-item-pane\" class=\"secondary\"&gt;\n    &lt;header&gt;\n        &lt;h1&gt;add item&lt;/h1&gt;\n        &lt;a href=\"#\" class=\"close-secondary\"&gt;&lt;/a&gt;\n    &lt;/header&gt;\n    &lt;form class=\"add-item-form\" method=\"POST\" action=\"\" accept-charset=utf-8&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"productName\"&gt;product name&lt;/label&gt;\n            &lt;input type=\"text\" name=\"productName\" id=\"productName\" placeholder=\"Product Name\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"categorySelect\" required&gt;category&lt;/label&gt;\n            &lt;select name=\"categorySelect\" id=\"categorySelect\" placeholder=\"Category\" required&gt;\n                &lt;option value=\"1\"&gt;ATERIA-AINEKSET JA KASTIKKEET&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"brandName\"&gt;brand name&lt;/label&gt;\n            &lt;input type=\"text\" name=\"brandName\" id=\"brandName\" placeholder=\"Brand Name\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"volumeType\"&gt;volume type&lt;/label&gt;\n\n            &lt;label for=\"volumeTypeKG\"&gt;g/kg&lt;/label&gt;\n            &lt;input type=\"radio\" name=\"volumeType\" id=\"volumeType\" value=\"1\"&gt;\n            &lt;label for=\"volumeTypeL\"&gt;ml/l&lt;/label&gt;\n            &lt;input type=\"radio\" name=\"volumeType\" id=\"volumeType\" value=\"2\"&gt;\n\n        &lt;/div&gt;\n\n        &lt;input type=\"submit\" value=\"Add it\" id=\"submit-item\"&gt;\n\n\n    &lt;/form&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>The receiving PHP:</p>\n\n<pre><code>$productName =  $_POST['productName'];\n$categoryId =  $_POST['category'];\n$brandId =  $_POST['brandName'];\n$volumeId =  $_POST['volume'];\n</code></pre>\n"},{"tags":["javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":54,"score":-4,"question_id":12964876,"title":"jQuery preloading of external website","body":"<p>Let's say my main site is called </p>\n\n<pre><code>mainsite.com  \n</code></pre>\n\n<p>On my mainsite.com I have a bunch of external links, such as:</p>\n\n<pre><code>external.com/search.php?type=xxx&amp;date=xxx&amp;id=xxx&amp;product=xxx  \n</code></pre>\n\n<p>When my visitors click on these links they load fine for all but one problem. They take 20-30 seconds to load!</p>\n\n<p>The reason for this is the target URL on external.com is performing a product search. </p>\n\n<p>So what I'm finding is my visitors are leaving before the link loads! </p>\n\n<p>Anyone have any solutions I can try? </p>\n\n<p>I can not make any changes to <code>external.com</code> as it's not my site! I can only add something to <code>mainsite.com</code>.</p>\n"},{"tags":["jquery","ajax","timeout"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12962996,"title":"How do I set the minimum duration of an Ajax call?","body":"<p>I have a website that makes an ajax call and then loads a gif to show static on a TV. But right now the ajax calls don't take enough time for the effect to really pop. So I was wondering if there is a way to set the minimum time the ajax call will take?</p>\n\n<p>You can see <a href=\"http://www.uvm.edu/~areid/test/demo.html\" rel=\"nofollow\">the website</a> I am trying to make to get a better idea of what I am doing. Try clicking the right picture frame or the phonograph on the table.</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n    var minDelay = 1000;\n    var start = new Date();\n    $.get(\"form.html\", function(result) {\n        callback($(result).find(\"#contact\"));\n        var end = new Date();\n        var timeInMilliseconds = end - start;\n        if (timeInMilliseconds  &lt; minDelay) {\n            setTimeout(function() { callback(result); }, minDelay - timeInMilliseconds );\n        }\n        else callback(result);\n    });\n    $.get(\"music.html\", function(result) {\n        callback($(result).find(\"#music\"));\n        var end = new Date();\n        var timeInMilliseconds = end - start;\n        if (timeInMilliseconds  &lt; minDelay) {\n            setTimeout(function() { callback(result); }, minDelay - timeInMilliseconds );\n        }\n        else callback(result);\n    });\n\n\n    function callback(result) {\n        $(\"#screen\").html(result);\n    }\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["php","jquery","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":47,"score":5,"question_id":12965000,"title":"Send and receive data in same ajax request with jquery","body":"<p>What is the best way to send data and receive a response dependent on that data?</p>\n\n<p>Consider the PHP file used for the request:</p>\n\n<pre><code>$test = $_POST['test'];\n\necho json_encode($test);\n</code></pre>\n\n<p>I have tried unsucessfully to achieve this with:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    dataType: \"json\",\n    data: '{test : worked}',\n    url: 'ajax/getDude.php',\n    success: function(response) {\n        alert(response);\n    }\n});\n</code></pre>\n"},{"tags":["jquery","ajax","load"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12965030,"title":"jPane Scroll reinitialize","body":"<p>I need to reinitialize a jPane Scrollbar after content has been loaded via .load().</p>\n\n<p>Basically, onclick of #plus, .results slides out of the left. The page also loads results.php.</p>\n\n<p>When I include results.php initially, the jpane scroll works. When I load via ajax, it won't.</p>\n\n<pre><code>$(document).ready(function(){\n$('.results').jScrollPane({\n    horizontalGutter:5,\n    verticalGutter:5,\n    'showArrows': false\n});\n$('.jspDrag').hide();\n$('.jspScrollable').mouseenter(function(){\n    $('.jspDrag').stop(true, true).fadeIn('slow');\n});\n$('.jspScrollable').mouseleave(function(){\n    $('.jspDrag').stop(true, true).fadeOut('slow');\n});\n});\n\n$('#plus').on('click',function(e){\n    $('.results').load(\"results.php\");\n    $('.results').animate({left:\"0\"});\n    $('.maskone').fadeIn();\n    $('.pm').toggle();\n    $('.pm').animate({left:\"615\"});\n});\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax","asynchronous"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12964476,"title":"How to nest jQuery .when calls with callbacks","body":"<p>I have a function that loads a section.</p>\n\n<pre><code>function loadSection(sectionId, onLoaded) {\n    $.when(\n        loadTemplate(sectionId),\n        // etc\n    )\n    .then(function () {\n        // removed for brevity\n    }\n}\n</code></pre>\n\n<p>In the <code>loadTemplate</code> function I fade out the current template, and after the fadeout I load the new template.</p>\n\n<pre><code>function loadTemplate(sectionId) {\n    // Fade out current template.\n    return $content.fadeOut(function () {\n        // After fade out, load new template via ajax.\n        $.ajax({\n            url: settings.apiUrl + 'GetSectionTemplate',\n            data: { sectionId: sectionId },\n            type: 'post',\n            success: function (template) {\n                // Add new content and fade in new template.\n                $content\n                    .html(template)\n                    .fadeIn();\n            }\n        });\n    });\n}\n</code></pre>\n\n<p>The problem is that the <code>$.when</code> only waits for the fadeOut function to finish before moving on. I need it to wait for both the fadeOut and the ajax call to finish, but I need the ajax call to execute only after the fadeOut finishes.</p>\n\n<p>Any help is appreciated :)</p>\n"},{"tags":["javascript","jquery","ajax","file-upload","xmlhttprequest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12964446,"title":"Upload file XMLHttpRequest not working","body":"<p>I am trying to upload file with ajax it does not work for some reason, can you see what's up?</p>\n\n<pre><code>     function upload(myform)\n\n     var file = this.files[0];\n     var formData = new FormData();\n     formData.append(\"material_file\", document.getElementById(\"myfile\"));\n\n    xmlhttp = new XMLHttpRequest();\n    xmlhttp.addEventListener('progress', function(e) {\n        var done = e.position || e.loaded, total = e.totalSize || e.total;\n        console.log('xmlhttp progress: ' + (Math.floor(done/total*1000)/10) + '%');\n    }, false);\n    if ( xmlhttp.upload ) {\n        xmlhttp.upload.onprogress = function(e) {\n            var done = e.position || e.loaded, total = e.totalSize || e.total;\n            console.log('xmlhttp.upload progress: ' + done + ' / ' + total + ' = ' + (Math.floor(done/total*1000)/10) + '%');\n        };\n    }\n    xmlhttp.onreadystatechange = function(e) {\n        if ( 4 == this.readyState ) {\n            console.log(['xmlhttp upload complete', e]);\n        }\n    };\n    xmlhttp.open('post', process_pdf.php, true);\n    xmlhttp.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\n    xmlhttp.send(formData);\n     }\n\n\n&lt;form onsubmit=\"upload(this)\"&gt;\n     &lt;input type=\"file\" name=\"myfile\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>When I browse to the file and click submit I get error</p>\n"},{"tags":["jquery","ajax","forms","checkbox","ajaxform"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12964678,"title":"submit form using ajaxform on checkbox click","body":"<p>I'm trying achieve what it says in the title.</p>\n\n<p>I'm using jQuery and I have the ajaxForm plugin that is used elsewhere in my App.</p>\n\n<p>The code I have currently is</p>\n\n<pre><code>$('form.date-response input[type=checkbox]').live('click', function(){\n    $(this).parent('form').submit();\n});\n</code></pre>\n\n<p>But all it seems to do is submit the form, which works, and does the job but it goes to the action to post it. Unlike other forms, it's not using the ajaxForm() request.</p>\n\n<p>Plugin in discussion is <a href=\"http://jquery.malsup.com/form/#ajaxForm\" rel=\"nofollow\">http://jquery.malsup.com/form/#ajaxForm</a></p>\n"},{"tags":["java","jquery","ajax","spring-mvc","long-polling"],"answer_count":6,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":317,"score":4,"question_id":12776531,"title":"Long polling freezes browser and block other ajax request","body":"<p>I am trying to implement long polling in my <a href=\"http://static.springsource.org/spring/docs/2.0.x/reference/mvc.html\" rel=\"nofollow\">Spring-MVC Web App</a> but it freezes my browser and other request after 4-5 continues AJAX requests.I have no clue whats goin on here is my relevant code.</p>\n\n<p><strong>The controller method:(Server Side):-</strong></p>\n\n<pre><code>@Asynchronous\n    @RequestMapping(\"/notify\")\n    public @ResponseBody\n    Events notifyEvent(HttpServletRequest request) {\n        Events events = null;\n        try {\n            events = (Events) request.getSession(false).getServletContext().getAttribute(\"events\");\n            System.out.println(\"Request Came from\" + ((com.hcdc.coedp.safe.domain.User) request.getSession(false).getAttribute(Constants.KEY_LOGGED_IN_USER)).getLoginId());\n            if (!events.getTypeOfEvents().isEmpty()) {\n                System.out.println(\"Removing older entries\");\n                events.getTypeOfEvents().clear();\n            }\n            while (!events.isHappend()) {\n                //Waiting for event to happen.\n            }\n            events = Events.getInstance();\n            events.setHappend(false);\n            request.getSession(false).getServletContext().setAttribute(\"events\", events);\n\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n        return events;\n    }\n</code></pre>\n\n<p><strong>The long-polling script(Client Side):-</strong></p>\n\n<pre><code>$(document).ready(function() {\n                    $.ajaxSetup({\n                        async:true//set a global ajax requests as asynchronus\n                    });\n                     alert('Handler for .onload() called.');\n                    waitForMsg();\n\n                });\n                function waitForMsg(){\n\n                    xhr=  $.ajax({\n                        type: \"POST\",\n                        url: '&lt;%=request.getContextPath()%&gt;/notification/notify',\n\n                        async: true, /* If set to non-async, browser shows page as \"Loading..\"*/\n                        cache: false,\n                        timeout:50000, /* Timeout in ms */\n                        global:false,\n                        success: function(data){ /* called when request to notifier completes */\n                          /* Doing smthing with response **/\n                            setTimeout(\n                            waitForMsg, /* Request next message */\n                            1000 /* ..after 1 seconds */\n                        );\n                        },\n                        error: function(XMLHttpRequest, textStatus, errorThrown){\n                            addmsg(\"error\", textStatus + \" (\" + errorThrown + \")\");\n                            setTimeout(\n                            waitForMsg, /* Try again after.. */\n                            15000); /* milliseconds (15seconds) */\n                        }\n                    });\n                };\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>function updateFeed(event, data) {\n                var f=eval(data);\n                alert(f.typeOfEvents.length);\n            }\n\n            function catchAll(event, data, type) {\n                console.log(data);\n                alert(\"error\");\n                console.log(type);\n            }\n\n            $.comet.connect('&lt;%=request.getContextPath()%&gt;/notification/notify');\n            $(document).bind('feed.comet', updateFeed);\n            $(document).bind('.comet', catchAll);\n</code></pre>\n\n<p>Neither alert box pops up..:(</p>\n"},{"tags":["php","jquery","ajax","json","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":12962484,"title":"Inputting .val() from list in PHP","body":"<p>I'm trying to get information from a list(listDIV) to show up in my form (formDIV), I'm getting the information from a database using JSON. I'm only getting the error  \"Database erro, please select something else.\" in my textarea field, which leads me to believe there is something wrong with my PHP.</p>\n\n<p>HTML &amp; JS:</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n$(\"#productList\").change(function() {\n\n    var action = $(\"#productForm\").attr('action');\n    var form_data = {\n        id: $('#productList').val(),\n        name: $(\"#name\").val(),\n        price: $(\"#price\").val(),\n        img: $(\"#img\").val(),\n        description: $(\"#description\").val()\n    };\n\nvar id=\"something\";\n    $.getJSON(\"getProduct.php\",form_data,function(data){\n        switch(data.retval){\n            case 0: $(\"#name\").value(data.data.prodName);\n            break;\n            default: $(\"#description\").html(\"Database error, please select something else.\");\n            break;\n        }\n        });\n    });\n});\n&lt;/script&gt;  \n&lt;/head&gt;&lt;body&gt;\n\n&lt;div id=\"listDIV\"&gt;\n&lt;select id=\"productList\" name=\"productList\" size=\"8\"&gt;\n    &lt;option value=\"123\" class=\"prodID\"&gt;Terminator Series&lt;/option&gt;\n    &lt;option value=\"124\" class=\"prodID\"&gt;2001 A Space Odyssey&lt;/option&gt;\n    &lt;option value=\"125\" class=\"prodID\"&gt;Serenity&lt;/option&gt;\n    &lt;option value=\"126\" class=\"prodID\"&gt;Alien Quadrilogy&lt;/option&gt;\n    &lt;option value=\"127\" class=\"prodID\"&gt;12 Monkeys&lt;/option&gt;\n    &lt;option value=\"128\" class=\"prodID\"&gt;Final Fantasy&lt;/option&gt;\n&lt;/select&gt;\n&lt;/div&gt;&lt;div id=\"formDIV\"&gt;\n&lt;form id=\"productForm\" action=\"getProduct.php\" method=\"post\"&gt;\n    &lt;input type=\"text\" id=\"name\" placeholder=\"Name\" /&gt;&lt;br /&gt;\n    &lt;input type=\"text\" id=\"price\" placeholder=\"Price\" /&gt;&lt;br /&gt;\n    &lt;input type=\"text\" id=\"img\" placeholder=\"Image\" /&gt;&lt;br /&gt;\n    &lt;textarea id=\"description\" placeholder=\"Description\"&gt;&lt;/textarea&gt;&lt;br /&gt;\n&lt;input type=\"submit\" id=\"save\" value=\"Save\" /&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>PHP (getProduct.php):</p>\n\n<pre><code>&lt;?php\nob_start();\nsession_start();\nmysql_connect('localhost', 'root', 'root') or \n    die('Could not connect: ' . mysql_error());\nmysql_select_db('productDB') or\n    die ('Can\\'t use database: ' . mysql_error());\n\n// retval: 0 - login ok, 1 - login failed, 2 - internal error\n$json = array(\"retval\" =&gt; 2, \"data\" =&gt; NULL, \"debug\" =&gt; \"\");\n\n $id=json_decode($_REQUEST['id']);\n $prodID=$id-&gt;id;\n\n$sql=\"SELECT * FROM productTB WHERE prodID=\" . $prodID;\n\n\n$json['debug'] .= \"SQL query was: \".$sql.\"\\n\";\n$result=mysql_query($sql);\nif (!$result) {\n    $json['debug'] .= \"SQL query failed\\n\";\n    $json['debug'] .= \"Other output: \". ob_get_contents();\n    ob_end_clean();\ndie(json_encode($json));\n}\n$count=mysql_num_rows($result);\n\nif($count==1){\n    $json['retval'] = 0;\n    $json['data'] = mysql_fetch_assoc($result);\n} else {\n    $json['retval'] = 1;\n}\n$json['debug'] .= \"Other output: \". ob_get_contents();\nob_end_clean();\necho json_encode($json);\n</code></pre>\n\n<p>Table Structure for my DB:</p>\n\n<pre><code>--\n-- Table structure for table `productTB`\n--\n\nCREATE TABLE `productTB` (\n`prodID` int(11) NOT NULL,\n`prodName` varchar(30) COLLATE utf8_unicode_ci NOT NULL,\n`prodPrice` decimal(10,2) NOT NULL,\n`prodDesc` longtext COLLATE utf8_unicode_ci NOT NULL,\n`prodImg` varchar(30) COLLATE utf8_unicode_ci NOT NULL,\nPRIMARY KEY (`prodID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n</code></pre>\n"},{"tags":["php","mysql","ajax","codeigniter","long-polling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":177,"score":-3,"question_id":12945292,"title":"jquery/ajax long-polling php mysql codeigniter","body":"<p>TO THE PEOPLE WHO VOTED THIS NOT A REAL QUESTION THAT IS ABSOLUTELY IDIOTIC.  </p>\n\n<p>I have searched and searched with Google over a month now and I can't find an accurate example\nthat actually works of ajax long polling with php and mysql. Preferably would like to find an example ajax long polling with mysql and codeigniter.</p>\n\n<p>Anyone comes across this question and has a good example please let me know.</p>\n\n<p>Anyone who reads this that thinks they know the ajax long polling I'm looking for please email me or let me know on here.\nI have chat app almost done utilizing Codeigniter but I am having trouble with jquery/ajax long polling part that is client side. \nI have not posted this chat app because last time I posted another chat app I have another developer on here complained there was too much code I posted. I am ready to send this code to anyone who can actually provide ajax long polling code that works.</p>\n\n<p>Thanks so much.</p>\n"},{"tags":["ajax","jquery-ajax","cross-domain"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12909803,"title":"Cross Domain issue(Working in IE not in other browser)","body":"<p>I am fetching data from a URL using an AJAX call. It is giving a json object to me.</p>\n\n<p>When I run the application, the page is working fine in IE with a conformation that \nthe page is accessing information that is not under its control. </p>\n\n<blockquote>\n  <p>This poses a security risk. Do you want to continue?</p>\n</blockquote>\n\n<p>But that is not working in other browsers like Firefox, Chrome, Safari, etc.</p>\n\n<p>i don't know what is the problem. Please explain to me why it is occurring and how to solve the issue?</p>\n\n<p><strong>My Code:</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Search Engine&lt;/title&gt;\n    &lt;script src=\"JS/jquery-1.4.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    $(document).ready(function () {\n        $.support.cors = true;\n        // create a script tag element\n        var script = document.createElement(\"script\");\n        // set the attribute, using the URL to pass data via query parameters\n        script.setAttribute(\"src\", \"http://192.168.13.111:7090/?uname=bhagirathip&amp;wt=json&amp;fl=*,score\");\n        script.setAttribute(\"type\", \"text/javascript\");\n        // add the script tag to the document head, forcing an HTTP request\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n    });\n    function Search() {\n        function callbackJsonHandler(data) {\n             alert(data);  // This is the JSON data\n        }\n    }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form\"&gt;\n        &lt;div style=\"text-align: center\"&gt;\n        &lt;input type=\"search\" id=\"searchInput\" autofocus /&gt;\n        &lt;input type=\"button\" id=\"btnSearch\" onclick=\"Search()\" value=\"Search\" /&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["javascript","python","ajax","json","web2py"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12963544,"title":"Web2py - cannot concatenate 'str' and 'NoneType' objects","body":"<p>Im having some troubles getting this ajax call to work. The ajax function pass a simple variable to my python controller and the controller returns the result of a query. Im working with Web2py framework. The error im getting: cannot concatenate 'str' and 'NoneType' objects. And this is the code:</p>\n\n<p>Ajax Call:</p>\n\n<pre><code>&lt;script&gt;\nfunction TestVolumen() {\n    var selectVal = $('#zonas :selected').val();    \n    $.ajax({\n    data: selectVal ,\n    url: '/shell/default/ajax2',\n    type: 'POST',\n    cache: false,\n    dataType: 'string',\n    success: function(request) {\n    //console.log(request[0]);\n    //console.log(request[0].zona);\n    selectVal = $('#zonas :selected').val();\n\n        for (x=0;x&lt;request.length;x++){\n            if (request[x].zona == selectVal ) {\n            //alert(request[x].promedio);\n            //alert(request[x].zona);\n            $('div#tabs .vol').html(request[x].promedio.toFixed(4));\n\n            }\n        }\n\n        }\n    });\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>And this is the python controller:</p>\n\n<pre><code>def ajax2():\nimport gluon.contrib.simplejson\nzona = request.vars\n\nqueryvol = \"select sells.product1 FROM site inner join zona on site.zone_number = zona.id inner join sells on sells.site = site.id WHERE zona.id =\" + zona +\" ;', as_dict = True\"\nvol=db.executesql(queryvol)\n\nreturn gluon.contrib.simplejson.dumps(vol)\n</code></pre>\n\n<p>Thanks for the help!! I really appreciate it.</p>\n"},{"tags":["jquery","xml","ajax","soap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12960683,"title":"Parsing XML data from SOAP response with AJAX in IE9, unable to get values of child nodes","body":"<p>I'm using AJAX to parse a SOAP response from a web service, and it's working just fine in Firefox and Chrome. However, in IE8 and 9,I am unable to access the values of the child nodes under the 'votes' node.</p>\n\n<p>Sample xml:</p>\n\n<pre><code>&lt;ns1:getvotesResponse&gt;\n&lt;arg1/&gt;\n&lt;arg2/&gt;\n&lt;arg3/&gt;\n&lt;locID&gt;0371&lt;/locID&gt;\n&lt;votes&gt;\n    &lt;candidateone&gt;131013&lt;/candidateone&gt;\n    &lt;candidatetwo&gt;8079&lt;/candidatetwo&gt;\n    &lt;candidateonestart&gt;632&lt;/candidateonestart&gt;\n    &lt;candidatetwostart&gt;53&lt;/candidatetwostart&gt;\n    &lt;candidateonespeed&gt;0.001&lt;/candidateonespeed&gt;\n    &lt;candidatetwospeed&gt;0.0005&lt;/candidateonespeed&gt;\n&lt;/votes&gt;\n&lt;/ns1:getvotesResponse&gt;\n</code></pre>\n\n<p>I've tried all manner of code to try to get the values from any of the nodes under 'votes', but IE simply will not display them.</p>\n\n<p>Example: one of the responses I found here stated to use this:</p>\n\n<pre><code>var xmlText = $(envObj).find(\"soap\\\\:Envelope\").find(\"soap\\\\:Body\").find(\"getvotesResponse\").find(\"votes\").find(\"candidateone\").text();\n</code></pre>\n\n<ul>\n<li>which returns nothing when I print the value of xmlText to the console.</li>\n</ul>\n\n<p>I have also tried this:</p>\n\n<pre><code>console.log(envObj.votes);\n</code></pre>\n\n<ul>\n<li>which returns all of the values of the child nodes in one long value, like so: 1310138079632530.0010.0005</li>\n</ul>\n\n<p>How would I be able to parse out each of the values of the child nodes separately, so that I can pass them as parameters?</p>\n"},{"tags":["javascript","jquery","html","ajax","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":12961876,"title":"Ajax form submission in IE(8)","body":"<ul>\n<li><a href=\"https://docs.google.com/spreadsheet/viewform?formkey=dGd3WHdkOTFRMzMyd0J1ZGFLVW50WlE6MQ\" rel=\"nofollow\">Sample Google form</a></li>\n<li><a href=\"https://docs.google.com/spreadsheet/ccc?key=0Aliqp0kGPjWsdGd3WHdkOTFRMzMyd0J1ZGFLVW50WlE\" rel=\"nofollow\">Related spreadsheet</a></li>\n</ul>\n\n<p>I customized the original form source code and created two forms:</p>\n\n<ul>\n<li><a href=\"http://dl.dropbox.com/u/4017788/Labs/first-form.html\" rel=\"nofollow\">First form</a></li>\n<li><a href=\"http://dl.dropbox.com/u/4017788/Labs/second-form.html\" rel=\"nofollow\">Second form</a></li>\n</ul>\n\n<p>They work in all browsers except IE(8). What's wrong?  </p>\n\n<p>First form:  </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;First form&lt;/title&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action=\"https://docs.google.com/spreadsheet/formResponse?formkey=dGd3WHdkOTFRMzMyd0J1ZGFLVW50WlE6MQ&amp;amp;ifq\" method=\"POST\" id=\"ss-form\"&gt;\n&lt;br&gt;\n&lt;div class=\"errorbox-good\"&gt;\n&lt;div class=\"ss-item  ss-text\"&gt;&lt;div class=\"ss-form-entry\"&gt;&lt;label class=\"ss-q-title\" for=\"entry_0\"&gt;Name\n&lt;/label&gt;\n&lt;label class=\"ss-q-help\" for=\"entry_0\"&gt;&lt;/label&gt;\n&lt;input type=\"text\" name=\"entry.0.single\" class=\"ss-q-short\" value=\"\" id=\"entry_0\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;br&gt;\n&lt;input type=\"hidden\" name=\"pageNumber\" value=\"0\"&gt;\n&lt;input type=\"hidden\" name=\"backupCache\" value=\"\"&gt;\n&lt;div class=\"ss-item ss-navigate\"&gt;&lt;div class=\"ss-form-entry\"&gt;\n&lt;input type=\"submit\" name=\"submit\" value=\"Submit\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;\n&lt;script&gt;\n$(\"#ss-form\").submit(function(event) {   \n            event.preventDefault(); \n        $.ajax( {\n            type: 'POST',\n            url: 'https://docs.google.com/spreadsheet/formResponse?formkey=dGd3WHdkOTFRMzMyd0J1ZGFLVW50WlE6MQ&amp;amp;ifq',\n            data: { 'entry.0.single': $('#entry_0').val() },\n            success: function() {\n                alert('Thanks!')\n            }\n        } );\n});\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;  \n</code></pre>\n\n<p>Second form:  </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Second form&lt;/title&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action=\"\" method=\"POST\" id=\"ss-form\"&gt;\n&lt;br&gt;\n&lt;div class=\"errorbox-good\"&gt;\n&lt;div class=\"ss-item  ss-text\"&gt;&lt;div class=\"ss-form-entry\"&gt;&lt;label class=\"ss-q-title\" for=\"entry_0\"&gt;Name\n&lt;/label&gt;\n&lt;label class=\"ss-q-help\" for=\"entry_0\"&gt;&lt;/label&gt;\n&lt;input type=\"text\" name=\"entry.0.single\" value=\"\" class=\"ss-q-short\" id=\"entry_0\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;br&gt;\n&lt;input type=\"hidden\" name=\"pageNumber\" value=\"0\"&gt;\n&lt;input type=\"hidden\" name=\"backupCache\" value=\"\"&gt;\n&lt;div class=\"ss-item ss-navigate\"&gt;&lt;div class=\"ss-form-entry\"&gt;\n&lt;input type=\"submit\" name=\"submit\" value=\"Submit\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;\n&lt;script&gt;\n$(\"#ss-form\").submit(function(event) {   \n            event.preventDefault();   \n            $.post('https://docs.google.com/spreadsheet/formResponse?formkey=dGd3WHdkOTFRMzMyd0J1ZGFLVW50WlE6MQ&amp;amp;ifq', $(\"#ss-form\").serialize(),  \n              function() {  \n                  alert('Thanks!');  \n              }  \n            );  \n          });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["php","ajax","wordpress","namespaces","include"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12957040,"title":"wp_ajax_ actions that use object-oriented action handlers?","body":"<p>I'm trying to pass an ajax action to /wp-admin/admin-ajax.php, however I can't seem to get it to call any functions that use a class to encapsulate the namespace. I get the following error:</p>\n\n<pre><code>Warning:  call_user_func_array() expects parameter 1 to be a valid callback, class 'PHP_faq_backend' not found in /wp-includes/plugin.php\n</code></pre>\n\n<p>My action is as follows:</p>\n\n<pre><code>add_action('wp_ajax_edit_form', array('PHP_faq_backend', 'edit_form'));\n</code></pre>\n\n<p>Obviously I don't want to force this by modifying the admin-ajax.php file, but how do I get my classfiles loaded so the action will work?</p>\n"},{"tags":["ajax","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12962463,"title":"Window.Location.reload() versus AJAX","body":"<p>On my GWT app (which is in maintenance), I'd like to refresh a list of people once's one of them has been deleted.</p>\n\n<p>I'm looking into how to send the right AJAX request to refresh the list of followers, but I'm curious if it's acceptable to call <code>Window.Location.reload()</code>?</p>\n\n<p>Calling reload seems lazy and overkill since only a part of the page should update - AJAX.</p>\n\n<p>Please advise me on whether <code>Window.Location.reload()</code> is OK, and why/why not.</p>\n"},{"tags":["ajax","textbox","requiredfieldvalidator"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12961777,"title":"RequiredFieldValidator Not Working in AJAX Update Panel","body":"<p>I have a textbox which when a users fills in the box and hits return does an auto postback and the update panel is there to just refresh that part of the page where the textbox is located.</p>\n\n<p>I have attached to that textbox a requiredfieldvalidator which needs to fire if the user does not complete the box when they to move off to the next step in the wizard control.</p>\n\n<p>The problem is that the validator is not firing, and I cannot see why? Is this a bug in ASP or do I need to do something else to validate inside an Update Panel?</p>\n"},{"tags":["javascript","asp.net","ajax","long-polling","polling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12962247,"title":"Issue with a Long Polling frame and Frame containing a Form","body":"<p>I have an ASP.NET web application that contains two frames. The top frame is a basic page containing buttons for navigating through \"Agenda Items\". This page contains a previous and next button, along with the \"Agenda Item\" details. I also have a bottom frame that I need to work separately. It should use a polling method to watch for changes on the server. If the \"Current Item\" has changed, the bottom should display the \"Current Item\" details such as the subject. The current item is not always the item the user browses to from the top frame, its set by a special user called \"Moderator\". </p>\n\n<p>I'm currently using an ajax request in the bottom frame to hit a web method in the code behind to return the \"Current Item\" details. It hits the web method, the web method holds the request for 45 seconds using StopWatch. The idea was to use \"Long Polling\". </p>\n\n<p>My problem is that the top frame is very slow. It seems dependent on the ajax request sent by the bottom frame. I'm using \"async: true\" in the ajax request. Even though the top and bottom frames are independent, could the ajax request sent by the bottom frame affect the top frames requests? If so, is there a way to make them independent?</p>\n\n<p>Greatly appreciate your help!</p>\n"},{"tags":["php","ajax","organization"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12961935,"title":"Organising php files for many different ajax requests","body":"<p>I have a single web page that makes a lot of ajax requests to php.</p>\n\n<p>I believe that the best way to do this is to have a a single php file (controller) that handles all of these requests and loads of very short php files that get included depending on the request.</p>\n\n<p>Is this the best way to go about doing this or should I just lump all functions into one php file?</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12954399,"title":"JavaScript not working after AJAX call - AJAX tabs","body":"<p>I trying to make a submenu with the ability to change the page content without the refreshing, so I used AJAX tabs to call an external htm. The tabs are working, but I have a JavaScript inside my external htm which makes the white navigation arrows work, and also crossfades the content, which is not working. How do I fix this?</p>\n\n<p>I am talking about this particular page - \"Nick 101\"<br>\n<a href=\"http://adigitalgoodie.com/about.htm\" rel=\"nofollow\">www.adigitalgoodie.com/about.htm</a></p>\n\n<p>It is supposed to work like it does on the frontpage<br>\n<a href=\"http://adigitalgoodie.com/index.htm\" rel=\"nofollow\">www.adigitalgoodie.com/index.htm</a></p>\n\n<p>This is the JavaScript inside the htm, fetched via AJAX, which isn't working:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n        $('.contentnavright').click(function(){\n            $('.contenttext1').fadeOut();\n            $('.contenttext2').fadeIn();\n            $('.contentnavleft').css('opacity', '1');\n            $('.contentnavleft').css('-moz-opacity', '1');\n            $('.contentnavleft').css('filter', 'alpha(opacity=100)');\n            $('.contentnavright').css('opacity', '0');\n            $('.contentnavright').css('-moz-opacity', '0');\n            $('.contentnavright').css('filter', 'alpha(opacity=0)')     \n        });\n\n        $('.contentnavleft').click(function(){\n            $('.contenttext1').fadeIn();\n            $('.contenttext2').fadeOut();\n            $('.contentnavleft').css('opacity', '0');\n            $('.contentnavleft').css('-moz-opacity', '0');\n            $('.contentnavleft').css('filter', 'alpha(opacity=0)');\n            $('.contentnavright').css('opacity', '1');\n            $('.contentnavright').css('-moz-opacity', '1');\n            $('.contentnavright').css('filter', 'alpha(opacity=100)')\n        });\n\n        &lt;/script&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","jquery-ajax"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":46,"score":3,"question_id":12961622,"title":"ajax .done not running properly, seems to skip code","body":"<p>I have the code bellow running in a <code>.each</code> function. However when all is set and done and i do <code>alert(inserted);</code> or alert of any other variable they come out <code>0</code> which is what i have them set as when i declare them. I am sure they are within scope. I have a feeling this has to do with the timing of the ajax because if i put an alert after each call, the counter system works. Any thought? Also I am sure that the proper if statements are called as I attached alerts (as i said above which when i do this the counter works) and they fire properly AND no error codes as brought up from the consol. </p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"/php/filename.php\",\n    data: {\n        one: $('#1').val(),\n        two: $('#2').val(),\n        three: $('#3').val(),\n        four: $('#4').val(),\n        five: $('#5').val(),\n        six: $('#6').val(),\n        seven: $('#classlist').val(),\n        id: $('#7').html()\n    }\n}).done(function(msg) {\n    if (msg == \"inserted\") {\n        inserted++;\n    }\n    else if (msg == \"updated\") {\n        updated++;\n    }\n    else if (msg == \"duplicate\") {\n        duplicate++;\n    }\n    else if (msg == \"0\") {\n        fail++;\n    }\n});\n</code></pre>\n"},{"tags":["javascript","jquery","html","ajax","jquery-ui"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12961386,"title":"toggle div depending on which one is selected","body":"<pre><code> var header = $(\"#accordion\");\n\n            $.each(data, function () {\n                header.append(\"&lt;a id='Headanchor' href='javascript:toggleDiv($(this));'&gt;\" +   this.LongName + \"&lt;/a&gt;\" + \"&lt;br /&gt;\",\n                \"&lt;div id='myContent' style='display:none'&gt;\" +\n                \"&lt;ul&gt;\" +\n                \"&lt;li&gt;\" + \"ID: \" + this.Id + \"&lt;/li&gt;\" +\n                \"&lt;li&gt;\" + \"Short Name: \" + this.ShortName + \"&lt;/li&gt;\" +  \"&lt;/ul&gt;\" + \"&lt;/div&gt;\"\n                );\n\n\n                function toggleDiv(element) {\n       var x = element.next();\n       x.toggle();\n\n       &lt;div id=\"accordion\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>working script for just one div i.e. first</p>\n\n<pre><code>function toggleDiv() {\n\n              $(\"#myContent\").toggle();\n\n}\n</code></pre>\n\n<p>I want to toggle the div's depending on which anchor tag is clicked but not able to do it. If i use the id selector then the first div  gets toggled but not rest of them as they get the same id's which is erong..can somone please help me out with this ....</p>\n"},{"tags":["php","javascript","jquery","ajax","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":75,"score":4,"question_id":12946009,"title":"Update Database multiple times with form elements","body":"<p>I've been working on a site for a doctors office. I'm pretty good with HTML/CSS and some PHP, but am still trying to learn Javascript/JQuery. </p>\n\n<p>So the easiest way to describe my problem ( my problem, to me at least, is pretty complex) is with an image (If this isn't the best way to describe this, please just tell me and I will describe it more in detail):\n<img src=\"http://i.stack.imgur.com/H6u24.png\" alt=\"enter image description here\"></p>\n\n<p>I have the PHP code that takes the value (that is the location number) passed to it and inserts the location number into the database along with the time of the time the user. </p>\n\n<p>Here's the PHP code:</p>\n\n<pre><code>&lt;?php\n  date_default_timezone_set('America/Denver');\n\n  $apptid = $_REQUEST['apptid'];\n  $currentlocation = $_REQUEST['currentlocation'];\n  $currentlocationstart = date(\"Y-m-d H:i:s\"); \n\n  /*** mysql hostname ***/\n  $hostname = '******';\n\n  /*** mysql username ***/\n  $username = '***********';\n\n  /*** mysql password ***/\n  $password = '***************';\n\n\n  $conn = new PDO(\"mysql:host=$hostname;dbname=sv\", $username, $password);\n  /*** The SQL SELECT statement ***/\n  $sql = \"UPDATE schedule SET currentlocation = ?, currentlocationstart = ? WHERE apptid= ? \";\n\n  $q = $conn-&gt;prepare($sql);\n  $q-&gt;execute(array($currentlocation,$currentlocationstart, $apptid));\n\n?&gt;\n</code></pre>\n\n<p>Here is the html code (which is filled with a little php, to populate):</p>\n\n<pre><code>$sql = \"SELECT * FROM locations order by patientlocation ASC\";\n\necho \"&lt;td&gt;&lt;select name=location&gt;\";\nforeach ($dbloc-&gt;query($sql) as $row2)\n    {\n    echo \"&lt;option&gt;\".$row2['patientlocation'].\"&lt;/option&gt;\";\n    }\n            echo \"&lt;option value='Check Out'&gt;Check Out&lt;/option&gt;\";\n    echo \"&lt;/select&gt;&lt;/td&gt;\";\n</code></pre>\n\n<p>So the problem I have is how to do this with Javascript/JQuery and if my php will work with the Javascript/Jquery. I'd also like to store everything from the initial \"Check In\" button to when the user hits check out.</p>\n\n<p>Another problem is I need this to happen automatically with AJAX, instead of refreshing the page a lot of times.</p>\n\n<p>Thanks so much for all and any help. If I didn't explain my problem well enough, please tell me and I'll fill in more details!</p>\n"},{"tags":["jquery","ajax","backbone.js"],"answer_count":5,"favorite_count":7,"up_vote_count":20,"down_vote_count":0,"view_count":5270,"score":20,"question_id":6879138,"title":"\"How\" to save an entire collection in Backbone.js - Backbone.sync or jQuery.ajax?","body":"<p>I am well aware it can be done and I've looked at quite a few places (including: <a href=\"http://stackoverflow.com/questions/5014216/best-practice-for-saving-an-entire-collection\">Best practice for saving an entire collection?</a>). But  I'm still not clear \"exactly how\" is it written in code? (the post explains it in English. It'd be great to have a javascript specific explanation :)</p>\n\n<p>Say I have a collection of models - the models themselves may have nested collections. I have overridden the toJSON() method of the parent collection and I am getting a valid JSON object. I wish to \"save\" the entire collection (corresponding JSON), but backbone doesn't seem to come in-built with that functionality.</p>\n\n<pre><code>var MyCollection = Backbone.Collection.extend({\nmodel:MyModel,\n\n//something to save?\nsave: function() {\n   //what to write here?\n }\n\n});\n</code></pre>\n\n<p>I know somewhere you have to say:</p>\n\n<pre><code>Backbone.sync = function(method, model, options){\n/*\n * What goes in here?? If at all anything needs to be done?\n * Where to declare this in the program? And how is it called?\n */\n}\n</code></pre>\n\n<p>Once the 'view' is done with the processing it is responsible for telling the collection to \"save\" itself on the server (capable of handling a bulk update/create request). </p>\n\n<p>Questions that arise:</p>\n\n<ol>\n<li>How/what to write in code to \"wire it all together\"?</li>\n<li>What is the 'right' location of the callbacks and how to specify a \"success/error\" callback? I mean syntactically?I'm not clear of the syntax of registering callbacks in backbone...</li>\n</ol>\n\n<p>If it is indeed a tricky job then can we call jQuery.ajax within a view and pass the <code>this.successMethod</code> or <code>this.errorMethod</code> as success/error callbacks?? Will it work?</p>\n\n<p>I need to get in sync with backbone's way of thinking - I know I'm definitely missing something w.r.t., syncing of entire collections.</p>\n"},{"tags":["python","ajax","django","dajaxice"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12961398,"title":"django/python TEMPLATE_LOADER error for dajaxice","body":"<p>I want use django / djanxice and install it to setup.py, url.py, etc...</p>\n\n<p>but when I runserver, error occurs.</p>\n\n<p>/Library/Python/2.7/site-packages/django/template/loader.py:113: UserWarning: Your TEMPLATE_LOADERS setting includes 'django.template.loaders.eggs.Loader', but your Python installation doesn't support that type of template loading. Consider removing that line from TEMPLATE_LOADERS.\n  warnings.warn(\"Your TEMPLATE_LOADERS setting includes %r, but your Python installation doesn't support that type of template loading. Consider removing that line from TEMPLATE_LOADERS.\" % loader)\nNo handlers could be found for logger \"dajaxice\"</p>\n\n<p>I googled, but couldn't find such error.</p>\n\n<p>Anyone can help why python installation does not support this Templat_Loaders?</p>\n\n<p>My python version is 2.7.3, using os x v10.8</p>\n"},{"tags":["php","jquery","mysql","ajax","jquery-plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12941004,"title":"jquery highlight() breaking in dynamic table","body":"<p>I've got a little issue with a highlight function I'm working on.  I basically load records out of a database that match the current form data in certain ways.  Then, when someone is filling in the form, if they are describing an issue that already exists in my system, it will highlight words that their description has in common with the existing record(s).  My issue is that the table breaks.  It will work to a certain extent, but sometimes it breaks the PHP loop portion out of the rest of the table, and it then has no formatting, and the highlighting function will not work.  To be more specific, once broken, the td tags in the body of the table do not follow the formatting of the header row.\nConditions that cause the undesirable effect:</p>\n\n<ol>\n<li>tabbing through the text area</li>\n<li>If too many classes have to be removed or applied at once (via deleting all, adding many words or deleting or searching for a single character with many occurrences)</li>\n</ol>\n\n<p>html on the main page &amp;&amp; script to trigger the highlighting</p>\n\n<pre><code>&lt;textarea name=\"description\" id=\"description\"&gt;&lt;/textarea&gt;\n&lt;script&gt;\n var delay = (function(){\n var timer = 0;\n return function(callback, ms){\n clearTimeout (timer);\n timer = setTimeout(callback, ms);\n };\n })();\n $(function(){\n    $(\"#description\").keydown(function(){\n    delay((function(){\n    $(\"#displayer *\").removeClass('highlight');\n    var1 = $('textarea#description').val().split(' ');\n    for (var i=0;i&lt;var1.length;i++){\n    $(\"#displayer *\").highlight(var1[i], \"highlight\")};\n    }),1000);\n    });\n    });\n &lt;/script&gt;\n</code></pre>\n\n<p>the external php that builds the searched table based on an ajax call is this:</p>\n\n<pre><code>echo '&lt;TABLE BORDER=\"0\" CELLSPACING=\"5\" CELLPADDING=\"5\" id=\"displayer\"&gt;&lt;FONT     FACE=\"ARIAL\"&gt;';\n\n   echo ' &lt;tr&gt; '; \necho '   &lt;td width=\"20\" ALIGN=\"LEFT\" height=\"1\"&gt;ID&lt;/td&gt;'; \necho '   &lt;td width=\"89\" ALIGN=\"LEFT\" height=\"1\"&gt;Date&lt;/td&gt; '; \necho '   &lt;td width=\"200\" ALIGN=\"LEFT\" height=\"1\" &gt;Description&lt;/td&gt;'; \necho '   &lt;td width=\"89\" ALIGN=\"LEFT\" height=\"1\" &gt;Solution&lt;/td&gt;'; \necho '   &lt;td width=\"20\" ALIGN=\"LEFT\" height=\"1\" &gt;User:&lt;/td&gt;'; \necho '   &lt;td ALIGN=\"LEFT\" height=\"1\" &gt;Key?:&lt;/td&gt;';\necho '   &lt;td ALIGN=\"LEFT\" height=\"1\" &gt;Part:&lt;/td&gt;';\necho '   &lt;td ALIGN=\"LEFT\" height=\"1\" &gt;Classified As:&lt;/td&gt;';\necho ' &lt;/tr&gt;   '; \n for ($i=1; $i &lt;= $num_results; $i++)\n    {\n   $row = mysql_fetch_array($result1); \n\n     echo '&lt;TR BGCOLOR=\"#EFEFEF\"&gt;';\n     echo '&lt;TD width=\"20\"&gt;';\n     echo  stripslashes($row['0']) ;\n     echo '&lt;/TD&gt;';\n     echo '&lt;TD width=\"89\" &gt;';\n     echo  $row['1'] ;\n     echo '&lt;/TD&gt;';\n     echo '&lt;TD width=\"200\"&gt;';\n     echo  stripslashes($row['6']) ;\n     echo '&lt;/TD&gt;';\n     echo '&lt;TD width=\"89\"&gt;';\n     echo  stripslashes($row['11']) ;\n     echo '&lt;/TD&gt;';\n     echo '&lt;TD  width=\"20\"&gt;';\n     echo  $row['5'] ;\n     echo '&lt;/TD&gt;';\n      echo '&lt;TD&gt;';\n      if ($row['8'] == 1)\n     {echo  'Yes' ;}\n     else \n     {echo 'No' ;}\n\n     echo '&lt;/TD&gt;';\n     echo '&lt;td&gt;'.$row['10'].'&lt;/td&gt;';\n     echo '&lt;td&gt;'.$row['9'].'&lt;/td&gt;';\n\n     echo '&lt;/TR&gt;';\n\n    }\n         echo '&lt;/TABLE&gt;';\n</code></pre>\n\n<p>external highlight plugin:</p>\n\n<pre><code>jQuery.fn.highlight = function (str, className) {\n    var regex = new RegExp(str, \"gi\");\n    return this.each(function () {\n        $(this).contents().filter(function() {\n            return this.nodeType == 3 &amp;&amp; regex.test(this.nodeValue);\n        }).replaceWith(function() {\n            return (this.nodeValue || \"\").replace(regex, function(match) {\n                return \"&lt;span class=\\\"\" + className + \"\\\"&gt;\" + match + \"&lt;/span&gt;\";\n            });\n        });\n    });\n};\n</code></pre>\n\n<p>I think I should add a test for empty with some kind of escape, to solve the first condition, but with the second, I'm not sure what's happening.  Any suggestions are definitely appreciated.  Sorry for the post being huge and convoluted, but I wanted everyone to have all the information I could provide.</p>\n"},{"tags":["c#","javascript","asp.net","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12961250,"title":"Issue with rendering control on Async postback","body":"<p>I'm using this gauge in my contentplaceholder.</p>\n\n<p><a href=\"http://www.dariancabot.com/projects/jgauge_wip/\" rel=\"nofollow\">http://www.dariancabot.com/projects/jgauge_wip/</a></p>\n\n<p>Script:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"Scripts/jgauge.css\" type=\"text/css\" /&gt;\n&lt;script type=\"text/javascript\" src=\"Scripts/jquery-1.8.0.js\"&gt;&lt;/script&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\" src=\"Scripts/jgauge-0.3.0.a3.js\"&gt;&lt;/script&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\" src=\"Scripts/jQueryRotate.2.2.js\"&gt;&lt;/script&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\" src=\"Scripts/excanvas.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var demoGauge1 = new jGauge(); // Create a new jGauge.\n    demoGauge1.id = 'jGaugeDemo1'; // Link the new jGauge to the placeholder DIV.\n    $(document).ready(function () {\n        demoGauge1.init(); // Put the jGauge on the page by initializing it.\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Markup:</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=\"up1\" runat=\"server\"&gt;\n    &lt;ContentTemplate&gt;\n        &lt;div id=\"jGaugeDemo1\" class=\"jgauge\"&gt;&lt;/div&gt;\n    &lt;/ContentTemplate&gt;\n    &lt;Triggers&gt;\n        &lt;asp:AsyncPostBackTrigger ControlID=\"myBtn\" /&gt;\n    &lt;/Triggers&gt;\n&lt;/asp:UpdatePanel&gt;\n&lt;asp:Button ID=\"myBtn\" runat=\"server\" Text=\"Refresh\" /&gt; \n</code></pre>\n\n<p>I have script manager on master page:</p>\n\n<pre><code>&lt;asp:ScriptManager ID=\"ScriptManager1\" runat=\"server\" EnablePartialRendering=\"true\"&gt;&lt;/asp:ScriptManager&gt;\n</code></pre>\n\n<p>But after async postback (hitting 'myBtn'), gauge disappears. Help. </p>\n"},{"tags":["ruby-on-rails","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12961086,"title":"Refresh a div with ajax dynamic content in Rails","body":"<p>I've been trying to figure out why my html is not refreshing after an ajax request.</p>\n\n<p>Basically, i have three buttons : \"Week\", \"month\" and \"Year\", which when clicked will refresh some charts below, and my intention is to change the buttons class when clicked, so it provides the current state (When i click week, week turns green, and month and year blue).</p>\n\n<p>In my js.erb file, if I change the class of the buttons directly, then it works, but if i try to reload my search partial (changing the classes in my controller), the post request seems to go forward, but nothing really happens...(it's not only the buttons that don't change class, but the chart doesn't refresh either)</p>\n\n<p>My guess is that there is something I'm either not reading well about ajax behavior, or I just have something in my code that keeps the request to proceed. </p>\n\n<p>Below I place both my non-working code and working code.</p>\n\n<p>In my view:</p>\n\n<pre><code>&lt;div id=\"search\"&gt;\n    &lt;%= render partial: 'search' %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In my controller def search</p>\n\n<pre><code>def search\n\n    # needed for new receipt create\n    @receipt  = current_user.receipts.build\n    @shops = Shop.all\n    @tags=current_user.tags\n\n    session[:period] = params[:period]\n\n    init_ago\n    logger.debug(\"I'm in search, period: #{session[:period]}\")\n    set_period_button_class\n    session[:begin_date] = @ago.to_date\n    session[:end_date] = params[:end_date] || Date.today\n    @feed_items = current_user.feed.paginate(page: params[:page])\n    logger.debug(\"I'm in search, begin_date: #{session[:begin_date]}\")\n    set_charts_variables(@ago, session[:begin_date],session[:end_date])  \n\n    respond_to do |format|\n        format.html {render 'home'}\n        format.js { render :layout=&gt;false }\n    end\n  end\n\n\n   def set_charts_variables(ago = Time.now.beginning_of_month, begin_date=nil,end_date=nil)\n\n    @unit = \"€\"\n    if begin_date.nil?\n      begin_date = Time.now.beginning_of_month.to_date\n    end      \n    if end_date.nil?\n      end_date = Date.today\n    end\n\n    @startPoint = ago.to_i * 1000\n    @line_data = (begin_date.to_date..end_date.to_date).map { |date| Receipt.total_on(current_user,date).to_f}.inspect\n\n  end\n\n  private\n    def init_ago\n        case session[:period]\n          when \"week\" then @ago = Time.now.beginning_of_week.at_midnight\n          when \"month\" then @ago = Time.now.beginning_of_month.at_midnight\n          when \"year\" then @ago = Time.now.beginning_of_year.at_midnight\n          else @ago = Time.now.beginning_of_month.at_midnight\n        end\n  end\n\n  def set_period_button_class\n    @selected = \"btn btn-success\"\n    @normal = \"btn btn-primary\"\n    @class_week = @normal\n    @class_month = @normal\n    @class_year = @normal\n\n    case session[:period]\n    when \"week\" then @class_week = @selected\n      when \"month\" then @class_month = @selected\n      when \"year\" then @class_year = @selected\n    end\n\n  end\n</code></pre>\n\n<p>my partial _search.html.erb</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;%= link_to \"Week\",receipts_search_path(period: \"week\", end_date: Date.today), method: :post, remote:true, class: @class_week, id:'week_filter' %&gt; &lt;/td&gt;\n            &lt;td&gt;&lt;%= link_to \"Month\",receipts_search_path(period: \"month\", end_date: Date.today), method: :post, remote:true, class: @class_month, id:'month_filter' %&gt; &lt;/td&gt;\n            &lt;td&gt;&lt;%= link_to \"Year\",receipts_search_path(period: \"year\", end_date: Date.today), method: :post, remote:true, class: @class_year, id:'year_filter' %&gt; &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>my search.js.erb</p>\n\n<pre><code>$('#visualization_line').html('&lt;%= escape_javascript(render(partial: '/charts/highcharts_line')).html_safe %&gt;')\n$('#total_header').html('&lt;%= render partial: 'total_header' %&gt;')\n$('#search').html('&lt;%= render partial: 'search' %&gt;')\n</code></pre>\n\n<p>If I replace in my search.js.erb file the last line to :</p>\n\n<pre><code>$('#visualization_line').html('&lt;%= escape_javascript(render(partial: '/charts/highcharts_line')).html_safe %&gt;')\n$('#total_header').html('&lt;%= render partial: 'total_header' %&gt;')\n\n&lt;% if session[:period] == \"week\" %&gt;\n    $('#week_filter').attr('class', 'btn btn-success')\n    $('#month_filter').attr('class', 'btn btn-primary')\n    $('#year_filter').attr('class', 'btn btn-primary')\n    &lt;% else if session[:period] == \"month\" %&gt;\n        $('#week_filter').attr('class', 'btn btn-primary')\n        $('#month_filter').attr('class', 'btn btn-success')\n        $('#year_filter').attr('class', 'btn btn-primary')\n        &lt;% else if session[:period] == \"year\" %&gt;\n            $('#week_filter').attr('class', 'btn btn-primary')\n            $('#month_filter').attr('class', 'btn btn-primary')\n            $('#year_filter').attr('class', 'btn btn-success')\n        &lt;% else %&gt;\n            $('#week_filter').attr('class', 'btn btn-primary')\n            $('#month_filter').attr('class', 'btn btn-primary')\n            $('#year_filter').attr('class', 'btn btn-primary')\n        &lt;% end %&gt;\n    &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>it all works...</p>\n\n<p>So, what might I be doing wrong?</p>\n"},{"tags":["jquery","ajax","json"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":68,"score":1,"question_id":12960849,"title":"Pass data through Ajax get a json file","body":"<p>I'm working on some code that would have a user enter a zip code in a field, if it passes client side validation when the user clicks send I want the script to send the zip code to an address and the backend developer has set it up so that it will return a json file with either valid or invalid.</p>\n\n<p>The problem is that all I get back right now is, undefined.</p>\n\n<p>Can someone see what I'm doing wrong or give some advice or trouble shooting. I'm not really sure how to use console.log and that would probably help me. Thanks.</p>\n\n<pre><code>jQuery.validator.addMethod(\"postalcode\", function(postalcode, element) {\nreturn this.optional(element) || postalcode.match(/(^\\d{5}(-\\d{4})?$)|   (^[ABCEGHJKLMNPRSTVXYabceghjklmnpstvxy]{1}\\d{1}[A-Za-z]{1} ?\\d{1}[A-Za-z]{1}\\d{1})$/);\n}, \"Zip code not valid. Please try again.\");\n\nvar myForm = $('#zipform');\n\nmyForm.validate({\n  errorClass: \"errormessage, intro-highlighted\",\n  onkeyup: false,\n  highlight: function(element) {\n        $(element).addClass('intro-highlighted');\n    },\n    unhighlight: function(element) {\n        $(element).removeClass('intro-highlighted');\n    },\n\n  errorClass: 'error',\n  validClass: 'valid',\n  rules: {\n    zipcode: { required: true, postalcode: true }\n  },\n  errorPlacement: function(error, element)\n  {\n    // Set positioning based on the elements position in the form\n    var elem = $(element),\n      corners = ['left center', 'right center'],\n      flipIt = elem.parents('span.right').length &gt; 0;\n\n    // Check we have a valid error message\n    if(!error.is(':empty')) {\n      // Apply the tooltip only if it isn't valid\n      elem.filter(':not(.valid)').qtip({\n        overwrite: false,\n        content: error,\n        position: {\n          my: 'top left',\n          at: 'top left',\n          target: $('#zipcode'),\n          adjust: {\n            y: -30\n          }\n        },\n\n        show: {\n          event: false,\n          ready: true\n        },\n        hide: false,\n      })\n\n      // If we have a tooltip on this element already, just update its content\n      .qtip('option', 'content.text', error);\n    }\n\n    // If the error is empty, remove the qTip\n    else { elem.qtip('destroy'); }\n  },\n  success: $.noop, // Odd workaround for errorPlacement not firing!\n})\n\n$.ajax({\n    url: \"http://address/icantshow/json/checkZip.action?zipCode=\" + zipcode + \"?jsoncallback=?\",\n    type: \"GET\",\n    async: false,\n    dataType: \"jsonp\",\n    /*data: {\n        zipcode:$('#zipcode').val(),\n        username: 'user',\n        password: 'pass'\n      },*/\n    success: function(json) {\n      console.log(typeof data);\n      //console.log(jsondata);\n       //$('.bar').css({display:'none'});\n       //$('.loader').append(data);\n    },\n    error: function(e) {\n      console.log(e.message);\n    }\n })\n</code></pre>\n"},{"tags":["javascript","jquery","ruby-on-rails","ajax","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12960775,"title":"JQuery: Run script on ajax added form elements","body":"<p>I have a form element which is being pulled in on request with ajax. I am then trying to perform an ajax request on the inserted text box to find a location as it is typed. The code works on the first textbox but simply fails when the second one is inserted. I've tried to get the script to reload itself when the ajax has completed but it still won't work. Help would be much appreciated.</p>\n\n<p><strong>Form.html.erb</strong> - Sets up the rails nested form and pulls in partial</p>\n\n<pre><code>  &lt;%= nested_form_for(@post, :html=&gt; {:multipart =&gt; true, :class=&gt; \"new_blog_post\", :id=&gt; \"new_blog_post\"}) do |f| %&gt;\n\n  ...\n\n  &lt;fieldset&gt;\n   &lt;%= render :partial =&gt; 'search_locations', :locals =&gt; { :f =&gt; f }  %&gt;\n\n  &lt;/fieldset&gt;\n\n  &lt;p&gt;&lt;%= f.link_to_add \"Add a location\", :locations %&gt;&lt;/p&gt;\n\n  ...\n\n  &lt;% end %&gt;\n</code></pre>\n\n<p><strong>partial.html.erb</strong> - Pulled in on page load and then when 'Add a location' button is pressed</p>\n\n<pre><code>  &lt;fieldset&gt;\n  &lt;%= f.fields_for :locations do |m| %&gt;    \n        &lt;%= m.text_field :name ,:class=&gt;\"localename\", :placeholder=&gt; \"Name of the location\", :autocomplete =&gt; \"off\" %&gt;\n        &lt;%= m.text_field :longitude, :class =&gt; \"long\" %&gt;\n        &lt;%= m.text_field :latitude, :class =&gt; \"lat\" %&gt;\n        &lt;div class=\"latlong\"&gt;\n        &lt;p class=\"help-block\"&gt;Enter the name of the town or city visited in this blog entry.&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;%= m.link_to_remove \"Remove this location\" %&gt;\n\n   &lt;% end %&gt;\n  &lt;/fieldset&gt;\n</code></pre>\n\n<p><strong>Javascript (placed at bottom of form)</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n\n    function locationchecker() {\n\n    // Rails to multiply the script 20 times            \n    &lt;% (0..20).each do |i| %&gt;\n\n    // when the #search field changes\n    $(\".localename:eq(&lt;%=i%&gt;)\").keyup(function() {\n\n    // get the value of searchfield \n        var location&lt;%=i%&gt; = $(\".localename:eq(&lt;%=i%&gt;)\").val(); \n\n    //Take the value of the textbox and pull it from geocoder\n    $.get('/locations/location?location='+location&lt;%=i%&gt;,this.value, function(searchone&lt;%=i%&gt;) {\n    $(\".latlong:eq(&lt;%=i%&gt;)\").html(searchone&lt;%=i%&gt;);\n\n     })\n        // Upon complete run the script again\n    .complete(function(searchone&lt;%=i%&gt;) { locationchecker });\n\n\n    });\n\n    &lt;%end%&gt;\n}\n       // load script on doc ready\n$(document).ready(locationchecker);\n\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Help would be great! </p>\n\n<p>Thanks in advance,</p>\n\n<p>James</p>\n"},{"tags":["php","javascript","jquery","ajax"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12960594,"title":"Why would javascript fail when called dynamically (Ajax)?","body":"<p>I have been a huge fan of <a href=\"http://www.kryogenix.org/code/browser/sorttable/\" rel=\"nofollow\">http://www.kryogenix.org/code/browser/sorttable/</a> sort table javascript code. It works on so many levels. </p>\n\n<p>That said, I recently come face to face with an issue trying to get the sorts to work when called via ajax. What I have is a div layer on my main page, and I am calling a dynamic query with ajax to dynamically populate the page. I was thinking that those results could then be sortable using the above javascript file. However, that is not the case and I don't quit understand why it will not work. </p>\n\n<p>I have verified the code works on the page by placing the same query on the page and populating it when the page loads normally and the sorttable.js works like a charm. </p>\n\n<p><em>If anybody could tell me why a client side language like javascript wouldn't work when called via ajax, I would appreciate it. I'm sure it is suppose to but I more then likely goofed something up.</em></p>\n\n<p>For reference this is my jquery / ajax</p>\n\n<pre><code>        &lt;script type=\"text/javascript\"&gt;\n                $(document).ready(function(){\n                $(\".small_radio\").click(function() {\n\n                //check radio buildings for selected value\n                var radBuild = $('input:radio[name=buildings]:checked').val();\n\n                //check radio daterange for selected value\n                var radDate = $('input:radio[name=daterange]:checked').val();\n\n                //create array for multiple possibilites from checkbox users\n                var chkUsers = [];\n                //loop through checkboxes appending values to array\n                $('#checkall :checked').each(function() {\n                   chkUsers.push($(this).val());\n                 });\n\n                 //send the request\n                $.ajax({\n                    url: \"/inventory/pick-print-results.php\",\n                    type: \"post\",\n                    data: \"buildings=\" + radBuild + \"&amp;daterange=\" + radDate + \"&amp;users[]=\" + chkUsers,\n                    // callback for success\n                     success: function(data, textStatus) {\n                         $(\".loadonly\").hide();\n                         $(\".ajax_stuff\").html(data);  //no data here\n                          //alert(data); //Data here\n                      }, //end success else...\n                      //if failsauce throw error\n                      error: function() {\n                          alert('Not OKay');\n                         } //end error failsauce\n                      }); //ends .ajax function\n                   }); //end #checkall. click function\n                }); // ends ready function\n            &lt;/script&gt;\n</code></pre>\n\n<p>This is my php query data that is called via ajax..</p>\n\n<pre><code>&lt;?php $message.='\n            &lt;input type=\"hidden\" value=\"'.$big_chunk_sql.'\" id=\"displayed_sql\" name=\"displayed_sql\"&gt;\n            &lt;input type=\"hidden\" value=\"'.$row_count.'\" id=\"amount\" name=\"amount\"&gt;\n             &lt;input type=\"hidden\" value=\"print\" id=\"print\" name=\"print\"&gt;\n            &lt;table border=\"0\" width=\"100%\" class=\"sortable\"&gt;\n            &lt;th class=\"admin\"&gt;Location&lt;/th&gt;\n            &lt;th class=\"admin\"&gt;Pick For&lt;/th&gt;\n            &lt;th class=\"admin\"&gt;Requested Date&lt;/th&gt;\n            &lt;th class=\"admin\"&gt;Part Number&lt;/th&gt;\n            &lt;th class=\"admin\"&gt;Quantity&lt;/th&gt;\n            &lt;th class=\"admin\"&gt;Received Date&lt;/th&gt;\n            &lt;th class=\"admin\"&gt;Action&lt;/th&gt;';\n            while($data=mysql_fetch_array($big_chunk_query)) {\n\n                //Deal with operator Name Don Ford = D Ford\n                list($user_first,$user_last)=explode(' ',$data['description']);\n                $user_first=strtoupper(substr($user_first,0,1));\n                $user_last=ucfirst($user_last);\n                $operator_name=$user_first.' ' . $user_last;\n\n               if ($i%2 !=0)\n                 $rowColor = 'tr2center';\n                  else\n                 $rowColor = 'tr1center';\n                    $pendingdate= trim($data['received_date']);\n                    $newpendingdate = date('m-d-Y',strtotime($pendingdate));\n                    $message.= '&lt;tr class=\"'.$rowColor.'\"&gt;\n                    &lt;td&gt;'. $data['location'].'&lt;/td&gt;\n                    &lt;td&gt;'.$operator_name.'&lt;/td&gt;\n                    &lt;td&gt;'.date(\"m-j-y, g:i a\", strtotime($data['date_requested'])) .'&lt;/td&gt;\n                    &lt;td&gt;'.$data['part_number'] . '&lt;/td&gt;\n                    &lt;td&gt;'. $data['qty_requested'] . '&lt;/td&gt;\n                    &lt;td&gt;'. $newpendingdate . '&lt;/td&gt;&lt;td&gt; \n                    &lt;a href=\"picking.php?radiopart='.urlencode($data['org_transaction_id']) .'\"&gt;Mark Picked&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;';\n                    if($data['notes_to_picker']!='') { \n                    $message.= '&lt;tr class=\"'.$rowColor.'\" align=\"center\"&gt;&lt;td colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td align=\"right\"&gt;&lt;b&gt;notes:&lt;/b&gt;&lt;/td&gt;&lt;td colspan=\"4\"&gt;' . $data['notes_to_picker'].'&lt;/td&gt;&lt;/tr&gt;';\n                    }\n                    $i++;\n                }\n                $message.= '&lt;/table&gt;';\n                echo $message;\n    ?&gt;\n</code></pre>\n"},{"tags":["javascript","html","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12960489,"title":"Ajax Cross Domain not working","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2558977/ajax-cross-domain-call\">Ajax cross domain call</a>  </p>\n</blockquote>\n\n\n\n<p>To with this code here ..</p>\n\n<pre><code>   var URLs = new Array();\n   var titulo = new Array();\n\n   $.ajax({\n     url: 'http://www.example.com.br',\n     type: 'GET',                                                    \n     success: function(res) {\n       headline = $(res.responseText).text();                                                              \n       URLs = headline.split(\",LK\");\n       CriaVideos(URLs);                               \n    }\n   }); \n\n  function CriaVideos(URLs)\n  {                           \n   for(var i = 0; i &lt;= 5; i++)\n   {\n    var aux = new Array();\n    aux = URLs[i].split(\"#\");\n\n    titulo.push(aux[0]);\n    titulo.push(aux[1]);\n    Cria(titulo);\n   }                   \n  }                                           \n\n function Cria(titulo)\n {                                                                   \n   document.write('&lt;li&gt;&lt;div id=\"frame_video\"&gt;&lt;a href=\"TelaVideoWind.php?nome='+       titulo[1]+ '&amp;video=' + titulo[0] + '\"&gt;&lt;span class=\"frame_video_img\"&gt;&lt;img src=\"img/play.png\" width=\"60px\" height=\"40px\" align=\"middle\" style=\"position: absolute; margin-top: 55px; margin-left: 95px;\"/&gt;&lt;img src=\"http:/'+ titulo[0]+ '/i.ytimg.com/vi/hqdefault.jpg\" width=\"250px\" height=\"150px\"/&gt;&lt;/span&gt;&lt;span class=\"frame_video_desc\"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/li&gt;');                          \n }\n</code></pre>\n\n<p>And would it work in the title document.write or take it outside the function but it is not working! I wonder if anyone can help!</p>\n"},{"tags":["javascript","jquery","html","css","ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12956151,"title":"Jquery hide/show scroll animation","body":"<p>When I click on any year column (2012, 2011, 2010, etc) it shows the content of each year and hide the other ones.</p>\n\n<p>The problem it's that when I click (2011 column for example), the animation does all the effects at the same time confusing the user, I think I have to do it with animation steps, but I haven't been able to come to a jquery solution.</p>\n\n<p>This is my code:</p>\n\n<pre><code>/* Scroll Function */\nfunction scrollto(position){\n    $('html, body').stop().animate({\n        scrollLeft: position\n    }, 1000);\n}\n\n/* Calendar Scroll */\n$(\".sub_section_title\").click( function(e) {\n    e.preventDefault();\n    $(\".contenido_calendario\").hide();\n    $(this).next(\".contenido_calendario\").toggle('slow');\n    scrollto($(this).offset().left - 352)\n});\n</code></pre>\n\n<p>I have tried fixing the effect by using .queue() but it doesn't work, I don't know if the code it's well written also:</p>\n\n<pre><code>$(\".sub_section_title\").click( function(e) {\n    e.preventDefault();\n    $(\".contenido_calendario\").hide();\n    $(\".contenido_calendario\").queue(function() {\n        scrollto($(this).offset().left - 352);\n        $(this).dequeue();\n    });\n    $(\".contenido_calendario\").queue(function() {\n        $(this).next(\".contenido_calendario\").toggle('slow')\n    $(this).dequeue();\n    });\n});\n</code></pre>\n\n<p>The animation should be: \nClick 2011 > Scroll 2011 column to the left (hide 2012 content) > show animation of contents</p>\n"},{"tags":["javascript","html","ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":44,"score":-2,"question_id":12944126,"title":"JAVASCRIPT Não funciona","body":"<p>To with this code here ..</p>\n\n<pre><code>var URLs = new Array();\nvar titulo = new Array();\n\n$.ajax({\n    url: 'http://www.example.com.br',\n    type: 'GET',                                                    \n    success: function(res) {\n        headline = $(res.responseText).text();                                                              \n        URLs = headline.split(\",LK\");\n        CriaVideos(URLs);                               \n    }\n}); \n\nfunction CriaVideos(URLs)\n{                           \n    for(var i = 0; i &lt;= 5; i++)\n    {\n        var aux = new Array();\n        aux = URLs[i].split(\"#\");\n\n        titulo.push(aux[0]);\n        titulo.push(aux[1]);\n        Cria(titulo);\n    }                   \n}                                           \n\nfunction Cria(titulo)\n{                                                                   \n    document.write('&lt;li&gt;&lt;div id=\"frame_video\"&gt;&lt;a href=\"TelaVideoWind.php?nome=' + titulo[1] + '&amp;video=' + titulo[0] + '\"&gt;&lt;span class=\"frame_video_img\"&gt;&lt;img src=\"img/play.png\" width=\"60px\" height=\"40px\" align=\"middle\" style=\"position: absolute; margin-top: 55px; margin-left: 95px;\"/&gt;&lt;img src=\"http:/'+ titulo[0]+ '/i.ytimg.com/vi/hqdefault.jpg\" width=\"250px\" height=\"150px\"/&gt;&lt;/span&gt;&lt;span class=\"frame_video_desc\"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/li&gt;');                          \n}\n</code></pre>\n\n<p>And would it work in the title document.write or take it outside the function but it is not working!\nI wonder if anyone can help!</p>\n"},{"tags":["jquery","ajax","load","timeout"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":50,"score":1,"question_id":12949316,"title":"Set timeout on AJAX without","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5225597/set-timeout-for-ajax-jquery\">Set timeout for ajax (jQuery)</a>  </p>\n</blockquote>\n\n\n\n<p>I want to have a timeout after 2 seconds and then display \"Unable to fetch page\". But im not sure how to go about it... Heres my ajax code</p>\n\n<pre><code>// AJAX product options modal\n$('.optionsTrigger').on('click', function() {\n    var target, url;\n    target = $(this).attr('data-target');\n    url = $(this).attr('href');\n    $(target).load(url, function(){\n        $(target).modal({\n            show: true\n        });\n    });\n});\n$('#productOptions').on('hidden', function() {\n    $('#productOptions').html('&lt;img src=\"&lt;?php echo $this-&gt;getSkinUrl(\"img/loading.gif\"); ?&gt;\" id=\"optionsLoading\" /&gt;');\n\n});\n</code></pre>\n"},{"tags":["ajax","google"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9734,"score":0,"question_id":1349152,"title":"google.load - and message \"google is not defined\"","body":"<p>What do I need to include to do a google.load() statement? \nI'm getting error \"google is not defined\". </p>\n\n<p>Based on this page, <a href=\"http://code.google.com/apis/ajax/documentation/#DetailedDocumentation\" rel=\"nofollow\">http://code.google.com/apis/ajax/documentation/#DetailedDocumentation</a>\nI thought I should add this: </p>\n\n<pre><code>&lt;script type=\"text/javascript\"\n        src=\"http://www.google.com/jsapi?key=ABCDEFG\"&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>But when I did, I get \"window.LoadFirebugConsole\" is not a function. </p>\n\n<p>Thanks,\nNeal </p>\n"},{"tags":["javascript","ajax","jsrender"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12539832,"title":"Error when loading jsrender templates through AJAX","body":"<p>I am trying to write a function to load templates in external files and use them with <code>jsrender</code>. However, I am getting this error: </p>\n\n<pre><code>TypeError: elem.getAttribute is not a function\n[Break On This Error]   \n\nvalue = $templates[elem.getAttribute(tmplAttr)];\n</code></pre>\n\n<p>I have some <code>console.logs</code> showing that the template was retrieved with ajax.</p>\n\n<p>The basic code that causes the error is as follows:</p>\n\n<pre><code>var path    = 'templates/myTemplate.tmpl.html';\nvar data    = searchResultTeasers;\nvar target  = $('#results');\n\n$.ajax({\n    url     : path,\n    aysnc   : false,\n    success : function(template) {\n\n        console.log(\"Path\", path);\n        console.log(\"Template\", template);\n        console.log(\"Data\", data);\n\n        //=============================================\n        // Save Template with url as name for future\n        //=============================================\n        $.templates(path, template);\n\n        //=============================================\n        // Get Template String\n        //=============================================\n        var templateString  = $.templates(path);\n\n        //=============================================\n        // Render Template\n        //=============================================\n        renderedTemplate    = templateString.render(data);\n\n        target.html(renderedTemplate);\n    }\n});\n</code></pre>\n\n<p>The error is in jsrender.js (line 829) and I think it's concerning the $.templates(path);\nbut I don't understand what could be wrong.</p>\n\n<p>Here is a link to a zip of the project:\n<a href=\"http://sdrv.ms/QsZpQT\" rel=\"nofollow\">http://sdrv.ms/QsZpQT</a></p>\n\n<p>I based my function on this article:\n<a href=\"http://msdn.microsoft.com/en-us/magazine/hh975379.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/magazine/hh975379.aspx</a></p>\n\n<p>I'm not sure if this is jsRender related at all but it still is blocking me from continuing and I would appreciate any help.</p>\n"},{"tags":["javascript","xml","ajax","database","calculator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":52,"score":-3,"question_id":12958903,"title":"Javascript financial savings calculator idea","body":"<p>I want to create a financial calculator in javascript for savings. The idea is like the customer to enter how much he wants to earn and some other options. I have found a list of all savings local companies, which each of them has it's own prerequisited (like minimal deposit, interest rate etc.) i want to create a database (maybe a local one in XML file) from which the calculator will se which of the offers comply with the client's desires, and then it shows them for instance in a ordered list from the best to the worst. I have some javascript skills, with variables and creating calculators and selectin DOM elements and interacting ith them....BUT i don't know how javascript will interact with a database (contained in XML format) and use them as variables (like external variables). Can someone give me any help how to start and where to start :).</p>\n"},{"tags":["ajax","mongodb","network-programming","mongolab"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12958138,"title":"Mongolab and network latency?","body":"<p>I'm just curious, there's a few services like MongoLab where data is hosted on remote servers.  Anyone who's worked with databases knows that there's a certain amount of network latency, even when all servers are internal.  Is a remote data storage service such as MongoLab a good idea for production environments?</p>\n\n<p>This question is mainly for AJAX based web apps or websites in general.</p>\n"},{"tags":["xml","ajax","google-chrome","opera","bug"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12856532,"title":"ajax Opera and Chrome bug","body":"<p>I have the following method, but it doesn't work in Opera and Google Chrome. I need to read xml file offline on CD. How can I fix this?</p>\n\n<pre><code>    $(document).ready(function(){\n\n    $.ajax({\n\n        type: \"POST\",\n        url: \"items.xml\",\n        dataType: \"xml\",\n        success: function(xml) {\n\n            $(xml).find('item').each(function(){\n\n                var id = $(this).find('id').text();\n                var name = $(this).find('name').text();\n                var alcohol = $(this).find('alcohol').text();\n                var volume = $(this).find('volume').text();\n                $('&lt;div class=\"items\" id=\"link_'+id+'\"&gt;&lt;/div&gt;').html('&lt;a href=\"files/'+name+'\"&gt;'+name+'&lt;/a&gt;').appendTo('#page-wrap');\n            });\n\n        }\n    });\n\n});\n</code></pre>\n"},{"tags":["ajax","spring","mvc","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12957193,"title":"Spring MVC 3.0 - restrict what gets routed through the dispatcher servlet","body":"<p>I want to use Spring MVC 3.0 to build interfaces for AJAX transactions.  I want the results to be returned as JSON, but I don't necessarily want the web pages to be built with JSP.  I only want requests to the controllers to be intercepted/routed through the DispatcherServlet and the rest of the project to continue to function like a regular Java webapp without Spring integration.</p>\n\n<p>My thought was to define the servlet-mapping url pattern in web.xml as being something like \"/controller/*\", then have the class level @RequestMapping in my controller to be something like @RequestMapping(\"/controller/colors\"), and finally at the method level, have @RequestMapping(value = \"/controller/colors/{name}\", method = RequestMethod.GET). </p>\n\n<p>Only problem is, I'm not sure if I need to keep adding \"/controller\" in all of the RequestMappings and no matter what combo I try, I keep getting 404 requested resource not available errors.</p>\n\n<p>The ultimate goal here is for me to be able to type in a web browser \"http://localhost:8080/myproject/controller/colors/red\" and get back the RGB value as a JSON string.</p>\n"},{"tags":["jquery","ajax","database","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12957528,"title":"how to reload data via ajax","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4112686/how-to-use-servlets-and-ajax\">How to use Servlets and Ajax?</a>  </p>\n</blockquote>\n\n\n\n<p>I have the following code:</p>\n\n<pre><code>public class IndexServlet extends HttpServlet {\n\n    MoodService moodService;\n\n    public IndexServlet() {\n        moodService = new MoodService();\n    }\n\n    /**\n     * Accepts the request and sends it to the dispatcher which takes the database data and presents it as HTML\n     */\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        List&lt;Mood&gt; moodList = moodService.findLastMoods(25); //my way of getting data from database\n\n        req.setAttribute(\"moodList\", moodList);\n\n        RequestDispatcher requestDispatcher =req.getRequestDispatcher(\"index.jsp\");\n        requestDispatcher.forward(req, resp);\n\n    }\n\n}\n</code></pre>\n\n<p>and the index.jsp file:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Previous 25 entries:&lt;/title&gt;\n    &lt;style type=\"text/css\"&gt;\n        #container {width:1200px; margin-left:auto; margin-right: auto;}\n        #tableheader {width:900px; text-align: center;}\n     .field {text-align:center; width:300px;}\n    &lt;/style&gt;\n\n\n\n\n&lt;/head&gt;\n\n\n&lt;body style=\"background-color: black;\"&gt;\n&lt;div id=\"container\"&gt;\n\n    &lt;table border=\"1\" bordercolor=\"#FFCC00\"  width=\"900\" height=\"80\" cellpadding=\"3\" cellspacing=\"3\" style=\"border-top-left-radius: 15px; border-top-right-radius: 15px; text-align: center; margin-left:auto; margin-right: auto; background-color:#FFFFCC; font-size: 33px; font-family: Monotype Corsiva \"&gt;\n\n        &lt;tr&gt;\n            &lt;td style=\"border-top-left-radius: 10px; border-top-right-radius: 10px;\"&gt;PREVIOUS 25 ENTRIES:&lt;/td&gt;\n        &lt;/tr&gt;\n\n    &lt;/table&gt;\n\n    &lt;%\n        List&lt;Mood&gt; moodList = (List&lt;Mood&gt;) request.getAttribute(\"moodList\");\n        for (Mood mood : moodList) {\n\n            Integer a = mood.getMoodId();\n            String moodId = new String();\n\n            switch (a) {\n\n                case 1:\n                    moodId = \"Happy\";\n                    break;\n\n                case 2:\n                    moodId = \"Sad\";\n                    break;\n\n                case 3:\n                    moodId = \"Lonely\";\n                    break;\n\n                case 4:\n                    moodId = \"Angry\";\n                    break;\n\n                case 5:\n                    moodId = \"In Love\";\n                    break;\n\n                case 6:\n                    moodId = \"Content\";\n                    break;\n            } %&gt;\n\n    &lt;table id=\"table\" border=\"1\" bordercolor=\"#FFCC00\"  width=\"900\" cellpadding=\"3\" cellspacing=\"3\" style=\"text-align: center; margin-left:auto; margin-right: auto; background-color:#FFFFCC;\"&gt;\n\n        &lt;tr&gt;\n            &lt;td class=\"field\"&gt; &lt;%=mood.getUserId()%&gt;&lt;/td&gt;\n            &lt;td  class=\"field\"&gt; &lt;%=moodId%&gt;&lt;/td&gt;\n            &lt;%Date date = new Date(mood.getTime());\n                SimpleDateFormat sdf = new SimpleDateFormat(\"dd:MM:yyyy hh:mm:ss\");\n                String sDate = sdf.format(date);\n            %&gt;\n            &lt;td  class=\"field\"&gt; &lt;%=sDate%&gt;&lt;/td&gt;\n\n        &lt;/tr&gt;\n\n    &lt;/table&gt;\n    &lt;%\n        }\n    %&gt;\n\n\n\n&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>My problem is:</p>\n\n<p>How do I implement AJAX into this so that every 30 seconds, the table is refreshed with the new data, showing the last 25 entries into the database? I would prefer to use jquery, seeing how everything I did with it so far was far simpler than doing it without jquery...</p>\n\n<p>I know <strong>nothing</strong> about AJAX, this is literally my first time working with it (I am just starting with my learning), so I would really appreciate it if someone would give me a step-by-step tutorial on how to do this. (or at least show me the code that would do what I want, I could reverse engineer it, probably :) )</p>\n\n<p>MoodService is my own class that deals with the database (how it works is irrelevant to this situation, the only important thing is that I need to reload the data into the table after I load the site).</p>\n\n<p>Thanks for the help! :)</p>\n"},{"tags":["javascript","ajax","user-interface"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":12949255,"title":"Breadcrumb Consistency / Ajax Form Post and History.Back()","body":"<p>I am currently designing a web app that involves forms that are chained together.  For example:</p>\n\n<p>Employees Grid > Single Employee Form with Leave Requests Grid > Single Leave Request Form with Alternative Employees Grid > Single Employee Form...</p>\n\n<p>My problem is how to manage the back button.  If the user performs the following actions:</p>\n\n<ul>\n<li>Open Single Employee Form from Employees Grid. <em>[Back would take them\nto the Employees Grid.]</em></li>\n<li>Open a Single Leave Request Form from the\nEmployee Form <em>[Back would take them to the Employee Form.]</em> </li>\n<li>Make a change to the Single Leave Request Form that posts and redirects to\nthe Single Employee Form <em>[Back here would take them back to the\nSingle Leave Request Form, then the Employee Form and then the Employees Grid.  Would they expect it\nto take them back to the Employees Grid?]</em> </li>\n<li>Open another Single Leave Request Form from the Employee Form, make a change that posts and\nredirects to the Single Employee Form. <em>[Back here would again take\nthem back to the Single Leave Request Form, then the Employee Form,\nthen the Single Leave Request Form, then the Employee Form and then\nthe Employees Grid.  Would they expect it to take them back to the\nEmployees Grid?]</em></li>\n</ul>\n\n<p>This chain could become very long.</p>\n\n<p>One idea I had was to implement a behavior that adheres to the breadcrumb by posting forms using Ajax then calling history.back().  This open up another set of complications (what if the user has opened the page in a new tab/window or is using a bookmarked URL) but I believe this could be handled using the history.length and window.name properties.</p>\n\n<p>Am I underestimating my users - would they know what to expect, or does this chain need to be simplified - and if so, do you think my solution will work?</p>\n"},{"tags":["c#","javascript","asp.net","ajax","javascript-events"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":104,"score":-1,"question_id":12947400,"title":"Alert on browser close","body":"<p>When I close the browser,I have to perform some server side functions. </p>\n\n<p>If any exception occurs while performing the server side functions, I have to show an alert message \"Operation Unsuccessful\" and in that case the browser should not close.</p>\n"},{"tags":["javascript","jquery","html","ajax","jquery-tabs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12955140,"title":"Need an alternative for iframes for jQuery ui tabs","body":"<p>I have a Spring based web app working with with jQuery Tabs. </p>\n\n<p>I bulid up a data string (containg specific) and append to a URL</p>\n\n<pre><code>var hrefData = \"?\" + item1 + \"&amp;\" + item2 + \"&amp;\" + item3;\nvar href = \"myURL\";\nhref = href + hrefData;\n</code></pre>\n\n<p>basically I use the following to load the URL into my jQuery based tab:</p>\n\n<pre><code>$( ui.panel ).append( '&lt;iframe frameborder=\"0\" style=\"border:0px\" src=\"'+href+'\" width=\"100%\" height=\"100%\"&gt;&lt;/iframe&gt;');\n</code></pre>\n\n<p>My servlet controller receives this URL and I get the paramaters from the string and process, returning the resulting data &amp; page, which is displayed within the iframe stated above.</p>\n\n<p>I dont want to use iframe for this. Can someone suggest an alternative solution or provide an example, to perhaps write the HTML to the tab panel instead, or something similar.</p>\n\n<p>Thanks</p>\n\n<hr>\n\n<p>I have also tried this: </p>\n\n<pre><code>            $.get(href, function(data){\n                alert(\"Data Loaded: \" + data);\n                $('ui.panel').append(data); // also tried .load(data);\n            });\n</code></pre>\n\n<p>But this doesn't work. </p>\n\n<p>Please help</p>\n"},{"tags":["ajax","path","url-routing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12956126,"title":"Web service has incorrect path since change to url routing","body":"<p>I have some webservices, here's the code that calls it:</p>\n\n<pre><code>    function getLoginStatus() {\n\n        var res = false;\n\n        $.ajax({\n            type: \"POST\",\n            url: \"Web_Services/LoginStatus.asmx/IsLoggedIn\",\n            data: {},\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            async: false,\n            success: function (result) {\n                res = result.d;\n            }\n        });\n\n        return res;\n    }\n}\n</code></pre>\n\n<p>As you can see the path is www.mywebsite.com/Web_Services/etc.</p>\n\n<p>However since starting to use url routing (using web forms not mvc), the starting path is relative to the current page, so for my stores page the url would be www.mywebsite.com/stores, which is causing my web services to fail.</p>\n\n<p>If I hardcode the absolute path, then it becomes an issue because development site localhost/projectfolder/Web_Services. \"../\" won't work either because each page has a different path.</p>\n\n<p>How can I set the path relative to the base site? </p>\n"},{"tags":["html5","jquery","ajax","css3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12953396,"title":"Load a part of the page without AJAX","body":"<p>I'm developing a web site where I want the left menu to stay fix, while the content of the clicked option is loaded.</p>\n\n<p>Actually, what I do is that each menu link using AJAX it return the requested content. Everything works fine but I would like to avoid it because then statistics are difficult to follow (among some other things like Google boots).</p>\n\n<p>How can I do the same affect/similar (http://www.foundcrelamps.com/) without javascript?</p>\n"},{"tags":["jquery","ajax","forms","internet-explorer-8","response"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":528,"score":1,"question_id":11226373,"title":"jQuery Form file upload IE8 error response null","body":"<p>I have an issue specific to IE8 with the jQuery form plugin.</p>\n\n<p>I am uploading a single file through a multipart/form-data and am using the jQuery plugin to do error handling. Everything works fine in FF but in IE8, the jqHXR object that gets passed in the error handling method is empty (status = 0, text = null, etc. instead of status = 500, text = \"Some error message\"). Here is some of the code I am using:</p>\n\n<p>HTML Form:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;form name=\\\"myForm\\\" id=\\\"myForm\\\" action=\\\"uploadServlet\\\" method=\\\"POST\\\" enctype=\\\"multipart/form-data\\\"&gt;\");\n&lt;input type=\\\"file\\\" id=\\\"browseBox\\\" name=\\\"file1\\\"/&gt;\n&lt;input type=\\\"submit\\\" id=\\\"uploadButton\\\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>$(\"#myForm\").submit(upload);\n$(\"#myForm\").ajaxForm();\n\nfunction upload() {\n    var options = {\n    async: false,\n    success: uploadSuccessful,\n    error: uploadError\n}\n\n    $(\"#myForm\").ajaxSubmit(options);\n    return false;\n}\n\nfunction uploadSuccessful(data) {\n    alert(data);\n}\n\nfunction uploadError(jqXHR, textStatus, err) {\n    alert(jqXHR.responseText);\n}\n</code></pre>\n\n<p>Like I mentioned jqXHR is empty in IE8, but not so in FF. The servlet responds with plain text that I display to the user. Any ideas why IE8 specifically fails at getting the response from my servlet ?</p>\n"},{"tags":["php","jquery","html","ajax"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":12951377,"title":"Editing a html table using jquery,php and saving records to mysql","body":"<p>I have a html <strong>table(grid)</strong> which displays a few records for me.I want it to be editable, i.e user can edit the values and save them on pressing enter.\nMy table is something like this.I display records dynamically using php.</p>\n\n<pre><code> &lt;a class=\"grayBucketBtn noMargin none\" id=\"unpublish\" href=\"#.\"&gt;Unpublish&lt;/a&gt;\n &lt;a class=\"grayBucketBtn\" id=\"publish\" href=\"#.\"&gt;Publish&lt;/a&gt;\n &lt;a class=\"grayBucketBtn\" id=\"delete\" href=\"#.\"&gt;Delete&lt;/a&gt;\n &lt;a class=\"grayBucketBtn\" id=\"modify\" href=\"#.\"&gt;Modify&lt;/a&gt;\n&lt;?php while ()//loop through ?&gt;\n&lt;tr&gt;  \n    &lt;td class=\"tableRadioBtn\"&gt;&lt;input type=\"checkbox\" class=\"checkRowBody\" id=\"checkRowBody\" name=\"check\"/&gt;&lt;/td&gt;\n    &lt;td class=\"tableShape\"&gt;Round&lt;/td&gt;\n    &lt;td class=\"tableCarst\"&gt;0.30&lt;/td&gt;\n    &lt;td class=\"tableColor\"&gt;j&lt;/td&gt;\n    &lt;td class=\"tableClarity\"&gt;SI1&lt;/td&gt;\n    &lt;td class=\"tableDimension\"&gt;4.35x4.33x2.62mm&lt;/td&gt;\n    &lt;td class=\"tableDeptd\"&gt;60.3%&lt;/td&gt;\n    &lt;td class=\"tableTablePer\"&gt;60.3%&lt;/td&gt;\n    &lt;td class=\"tablePolish\"&gt;Excellent&lt;/td&gt;\n    &lt;td class=\"tableSymmetry\"&gt;Excellent&lt;/td&gt;\n    &lt;td class=\"tableCut\"&gt;Very Good&lt;/td&gt;\n&lt;/tr&gt;\n&lt;?php } ?&gt;\n</code></pre>\n\n<p>Each row(tr) has a check box associated.If I check the check box,I get a edit button.When I click on the edit button,the selected row will turn into editable.<br/>So I want a function on the edit button,</p>\n\n<pre><code> $(\"#modify\").click(function(){\n      //check if only one check box is selected.\n      //make it editable.\n      //save the content on pressing enter of the edited row.\n    });\n</code></pre>\n\n<p>I went through some questions but did not get a solution as most suggest some plugins which don't meet my requirements.So,some help would be useful.<br/>\nThanks for the time</p>\n"},{"tags":["php","javascript","ajax","list","drop-down-menu"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12955999,"title":"Cascading drop down list with ajax in php","body":"<p>I have a cascading dropdown list which is fetched from the database through ajax.\nThe list loads but its not posting to the database nor is the code seen behind.</p>\n\n<pre><code>function getXMLHTTP() { //fuction to return the xml http object\n        var xmlhttp=false;  \n        try{\n            xmlhttp=new XMLHttpRequest();\n        }\n        catch(e)    {       \n            try{            \n                xmlhttp= new ActiveXObject(\"Microsoft.XMLHTTP\");\n            }\n            catch(e){\n                try{\n                xmlhttp = new ActiveXObject(\"Msxml2.XMLHTTP\");\n                }\n                catch(e1){\n                    xmlhttp=false;\n                }\n            }\n        }\n\n        return xmlhttp;\n    }\n\nfunction getCity(stateid)\n{\n    //alert(stateid);\n  var strURL=\"findCity.php?state=\"+stateid;\n  var req = getXMLHTTP();\n  if (req)\n  {\n    req.onreadystatechange = function()\n    {\n      if (req.readyState == 4) // only if \"OK\"\n      {\n        if (req.status == 200)\n        {\n          document.getElementById('citydiv').innerHTML=req.responseText;\n        } else {\n          alert(\"There was a problem while using XMLHTTP:\\n\" + req.statusText);\n        }\n      }\n    }\n    req.open(\"GET\", strURL, true);\n    req.send(null);\n  }\n}\n</code></pre>\n\n<p>and the php file</p>\n\n<pre><code>&lt;? $state=$_GET['state'];\n    $link = mysql_connect('localhost', '', ''); //change the configuration if required\n    if (!$link) {\n        die('Could not connect: ' . mysql_error());\n    }\n    mysql_select_db('a'); //change this if required\n    $query=\"select FOR_CODE,FOR_DESC from maruti_city where FOR_STAT_CODE='{$state}' order by FOR_DESC\";\n    $result=mysql_query($query);?&gt;\n    &lt;select name=\"city\" onchange=\"getDealer(this.value)\" class=\"sel\" &gt;\n        &lt;option value=\"0\"&gt;Select City&lt;/option&gt;\n        &lt;? while($row=mysql_fetch_array($result)) {  ?&gt;\n        &lt;option value&gt;&lt;?=$row['FOR_DESC']?&gt;&lt;/option&gt;\n        &lt;?} ?&gt;\n    &lt;/select&gt;\n</code></pre>\n\n<p>The DDL's Load but these values are not getting posted to the database.\nform</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n&lt;table width=\"528\" border=\"0\" cellpadding=1 class=\"formTable\" style=\"width: 515px;font-family:arial;font-size:12px;\" &gt;\n&lt;form action=\"form_submit.php\" method=\"POST\" name=\"alto800\" id=\"alto800\" onsubmit=\"return validate();\"&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td width=\"52%\"&gt;Name&lt;/td&gt;\n            &lt;td width=\"48%\" &gt;Mobile/Phone No.&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;select name=\"title\" id=\"mr\" class=\"sel\"&gt;\n                &lt;option value=\"mr\"&gt;Mr.&lt;/option&gt;\n                &lt;option value=\"mrs\"&gt;Mrs.&lt;/option&gt;\n                &lt;/select&gt;\n                &lt;input type=\"text\" name=\"name\" id=\"name\" class=\"formName\" /&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;input type=\"text\" name=\"mobile\" id=\"mobile\"/&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td &gt;State&lt;/td&gt;\n            &lt;td &gt;City&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;select name=\"state\" id=\"state\" class=\"sel\"  onchange=\"getCity(this.value)\"&gt;\n                &lt;option value=\"0\"&gt;Select state&lt;/option&gt;\n                &lt;option value=\"AN\"&gt;ANDAMAN&lt;/option&gt;\n&lt;option value=\"AP\"&gt;ANDHRA PRADESH&lt;/option&gt;\n&lt;option value=\"AR\"&gt;ARUNANCHAL PRADESH&lt;/option&gt;\n&lt;option value=\"AS\"&gt;ASSAM&lt;/option&gt;\n&lt;option value=\"BH\"&gt;BIHAR&lt;/option&gt;\n&lt;option value=\"CG\"&gt;CHATTISGARH&lt;/option&gt;\n&lt;option value=\"CH\"&gt;CHANDIGARH&lt;/option&gt;\n&lt;option value=\"DL\"&gt;DELHI&lt;/option&gt;\n&lt;option value=\"DM\"&gt;DAMAN&lt;/option&gt;\n&lt;option value=\"DN\"&gt;DADRA &amp; NAGAR HAVELI&lt;/option&gt;\n&lt;option value=\"GJ\"&gt;GUJRAT&lt;/option&gt;\n&lt;option value=\"GO\"&gt;GOA&lt;/option&gt;\n&lt;option value=\"HN\"&gt;HARYANA&lt;/option&gt;\n&lt;option value=\"HP\"&gt;HIMACHAL PRADESH&lt;/option&gt;\n&lt;option value=\"JH\"&gt;JHARKHAND&lt;/option&gt;\n&lt;option value=\"JK\"&gt;JAMMU &amp; KASHMIR&lt;/option&gt;\n&lt;option value=\"KL\"&gt;KERALA&lt;/option&gt;\n&lt;option value=\"KT\"&gt;KARNATAKA&lt;/option&gt;\n&lt;option value=\"MH\"&gt;MAHARASHTRA&lt;/option&gt;\n&lt;option value=\"ML\"&gt;MEGHALAYA&lt;/option&gt;\n&lt;option value=\"MN\"&gt;MANIPUR&lt;/option&gt;\n&lt;option value=\"MP\"&gt;MADHYA PRADESH&lt;/option&gt;\n&lt;option value=\"MZ\"&gt;MIZORAM&lt;/option&gt;\n&lt;option value=\"NG\"&gt;NAGALAND&lt;/option&gt;\n&lt;option value=\"OS\"&gt;ORISSA&lt;/option&gt;\n&lt;option value=\"PJ\"&gt;PUNJAB&lt;/option&gt;\n&lt;option value=\"PY\"&gt;PONDICHERRY&lt;/option&gt;\n&lt;option value=\"RJ\"&gt;RAJASTHAN&lt;/option&gt;\n&lt;option value=\"SK\"&gt;SIKKIM&lt;/option&gt;\n&lt;option value=\"TN\"&gt;TAMIL NADU&lt;/option&gt;\n&lt;option value=\"TR\"&gt;TRIPURA&lt;/option&gt;\n&lt;option value=\"UP\"&gt;UTTAR PRADESH&lt;/option&gt;\n&lt;option value=\"UT\"&gt;UTTARANCHAL&lt;/option&gt;\n&lt;option value=\"WB\"&gt;WEST BENGAL&lt;/option&gt;\n\n                &lt;/select&gt;\n            &lt;/td&gt;\n            &lt;td&gt;&lt;div id=\"citydiv\"&gt;\n                &lt;select name=\"city\" id=\"city\" class=\"sel\" onChange=\"getDealer(this.value)\" &gt;\n                &lt;option value=\"0\"&gt;Select state first&lt;/option&gt;\n                &lt;/select&gt;\n                &lt;/div&gt;\n\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td &gt;Preffered Dealer&lt;/td&gt;\n            &lt;td &gt;&amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt; \n            &lt;td colspan=\"2\"&gt;&lt;div id=\"dealerdiv\"&gt;&lt;select name=\"dealer\"  style=\"width:500px;height:25px;\" &gt;\n              &lt;option value=\"0\"&gt;Select city first&lt;/option&gt;\n            &lt;/select&gt;                   &lt;/div&gt;  &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td&gt;Email Address&lt;/td&gt;\n          &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td&gt;&lt;input type=\"text\" name=\"email\" id=\"email\" /&gt;&lt;/td&gt;\n          &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td &gt;Your Query&lt;/td&gt;\n            &lt;td rowspan=\"2\" &gt;&lt;br /&gt;\n              &lt;br /&gt;            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n             &lt;textarea name=\"query\" id=\"query\"&gt;&lt;/textarea&gt;\n\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td &gt;\n                &lt;div style=\"height:10px\"&gt;&lt;/div&gt;\n                &lt;input type=\"image\" name=\"submit\" value=\"submit\" src=\"images/submit.png\" /&gt;\n            &lt;/td&gt;\n            &lt;td &gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    &lt;/tbody&gt;\n    &lt;/form&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":["jquery","ajax","colorbox"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":672,"score":0,"question_id":8843558,"title":"POST form using ajax and then trigger colorbox","body":"<p>I'm trying to post a form using jquery-ajax and at the same time load a hidden div on a colorbox pop-over.</p>\n\n<p>The hidden div to load is called \"#hidden-div\" .</p>\n\n<p>So far i have the code below:</p>\n\n<p>Any ideas on how to make it post ALL the values and then trigger the colorbox pop-over with the hidden div?</p>\n\n<p>The code below is not posting the data and not triggering the pop over :(</p>\n\n<pre><code>  &lt;script&gt;\n$(document).ready(function() {\n    $(\"#frmSS4\").submit(function(event,dontCheck) {\n        if(dontCheck === true) return;\n        $.ajax({\n        type     : 'POST',\n        url      : \"http://clientes.cupon0km.com/form.php?form=4\",\n        data     : $(this).serialize(),\n        dataType : 'jsonp'\n    });\n        event.preventDefault(); \n        $(\"#hidden-div\").colorbox({inline:true, width:\"auto\", fixed:true});\n    });\n});\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["javascript","jquery","ajax","internet-explorer"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":531,"score":2,"question_id":8927910,"title":"jquery .load() not inserting data in ie8 and below","body":"<p>I've been looking for a solution all day, but I'm still seeing this error. </p>\n\n<p>It's a Expression Engine setup for a client of ours and we want to implement ajax-navigation. For this we are using the default $.load() function and this works perfectly in ie9, FF, Safari, Chrome, Opera... but it doesn't work in ie8 and below.</p>\n\n<p>I've tested the callback function, that one IS being called, the data is send, I can read it in the console when logging it. But for some odd reason the data isn't inserted.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>load_page: function(url, func){\n    $('#content').load(url+' #content&gt;div', function(data, textStatus, jqXHR){\n        console.log('page loaded!');\n    });\n}   \n</code></pre>\n\n<p>There was a whole bunch of extra code in the callback function but I've been cleaning out the whole javascript/css everything. In search of bugs but nothing to be found.</p>\n\n<p><strong>Based on the comments I decided to add the url and a download:</strong></p>\n\n<ul>\n<li>The site this problem is found in: <a href=\"http://www.track.be/devo_9836/nl/ee.php\" rel=\"nofollow\">http://www.track.be/devo_9836/nl/ee.php</a></li>\n<li>A packet of files, with the problem: <a href=\"http://stijnd.be/ie8_load.zip\" rel=\"nofollow\">http://stijnd.be/ie8_load.zip</a></li>\n</ul>\n\n<p><strong>Another piece of the puzzle:</strong>\nThere is something weird going on in the javascript. Even the google maps api doesn't function properly, that's the first time this happened to me when using the google maps api.</p>\n\n<p><strong>EDIT : Answered</strong></p>\n\n<p>I finally found the answer to this question, thanks to @epascarello. It is in fact the fault of the data I was trying to import. Because IE8 &amp; below don't understand HTML5 they will try to import the elements into the dom, but when alerting the data I saw the following: [object HTMLUnknownElement], [object HTMLUnknownElement], [object HTMLUnknownElement],...</p>\n\n<p>When I changed the markup of the data to use good old div's instead of article-elements, everything worked fine!</p>\n"},{"tags":["php","ajax","wordpress","request"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12955318,"title":"what in PHP server setup would cause $_REQUEST to be empty?","body":"<p>I've been developing a WordPress site on my local machine and hosting on my own server. Everything runs perfectly.</p>\n\n<p>Since moving to the client server, certain functions in the editor have stopped working. Specifically, those involving ajax requests. I have looked into things and it's exiting with <code>die(0)</code> in <code>admin-ajax.php</code> at the following code:</p>\n\n<pre><code>// Require an action parameter\nif ( empty( $_REQUEST['action'] ) )\n    die( '0' );\n</code></pre>\n\n<p>further reading sees <code>$_REQUEST</code> being reset during <code>wp_magic_quotes()</code> in <code>wp-includes/load.php</code> as follows:</p>\n\n<pre><code>$_REQUEST = array_merge( $_GET, $_POST );\n</code></pre>\n\n<p>What might be the issue with the PHP setup on the server that might make <code>$_REQUEST</code> remain blank after <code>wp_magic_quotes()</code> during <code>ajax-admin.php</code>?</p>\n\n<p>If I edit <code>ajax-admin.php</code> to add the <code>$_REQUEST</code> reset:</p>\n\n<pre><code>$_REQUEST = array_merge( $_GET, $_POST );\n\n// Require an action parameter\nif ( empty( $_REQUEST['action'] ) )\n    die( '0' );\n</code></pre>\n\n<p>...then everything ajax in the editor works as it should.</p>\n\n<p>But I would rather not edit core files, so would like to know how I can change the server setup to get things working with the standard files?</p>\n\n<p><strong>Setup Details:</strong><br>\nWordpress 3.4.2<br>\nPHP 5.4.5 using Apache 2.0 Handler<br>\nUnix server  </p>\n\n<p><strong>PHP settings:</strong><br>\nrequest_order: no value<br>\nvariables_order: GPCS  </p>\n\n<p>Any help appreciated.</p>\n\n<p>Thanks,<br>\nmatt</p>\n"},{"tags":["jquery","ajax","rest"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12955266,"title":"Ajax call to download file returned from RESTful service","body":"<p>I am fairly new to AJAX. I am sending a request to server using AJAX. The service returns a text file. But no download box appears when data is returned. \nThe rest service that returns the file is as follows:</p>\n\n<pre><code>@Path(\"/examples\")\npublic class ExampleCodesRest {\n\n\n    @POST\n    @Path(\"/getcode\")\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response getCodes(@Context ServletContext context){\n\n        String in=context.getRealPath(\"/WEB-INF/reports.jrxml\");\n        File file=new File(in);\n\n        ResponseBuilder response = Response.ok((Object) file);\n        response.header(\"Content-Disposition\",\n            \"attachment; filename=\\\"file_from_server.log\\\"\");\n        return response.build();\n\n    }\n}\n</code></pre>\n\n<p>My AJAX call is as follows:</p>\n\n<pre><code> $('a#link').click(function(event){\n    event.preventDefault();\n    $.ajax({\n        url: '/reports/rest/examples/getcode',\n        type: 'POST'\n    });\n}); \n</code></pre>\n\n<p>The file downloads successful without AJAX. \nWith AJAX, it doesn't download the file.Please advice.</p>\n"},{"tags":["ajax"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12955245,"title":"Symfony2.0 Unable load the simplemodel with ajax","body":"<p>I am trying to load generate a random password. I have created the function and it generates the random password.I am getting issue how to show it in simple-model. To be specific i need to return the password in ajax(without reloading the page i need to show the randomly generated password in a small div)</p>\n"}]}
